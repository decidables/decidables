!function(){"use strict";function t(t,e){return e.forEach((function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach((function(n){if("default"!==n&&!(n in t)){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}))})),Object.freeze(t)}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})})),e}function r(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t,e,n,r,i,a,o){try{var s=t[a](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){s(a,r,i,o,l,"next",t)}function l(t){s(a,r,i,o,l,"throw",t)}o(void 0)}))}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function m(t,e,n){return m=v()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&p(i,n.prototype),i},m.apply(null,arguments)}function y(t){var e="function"==typeof Map?new Map:void 0;return y=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return m(t,arguments,f(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,t)},y(t)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}function C(t){var e=v();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function x(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=x(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},B.apply(this,arguments)}function A(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function F(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){s=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(t,e)||w(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t){return function(t){if(Array.isArray(t))return U(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||w(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){if(t){if("string"==typeof t)return U(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(t,e):void 0}}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=w(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var R=function(t){return t&&t.Math==Math&&t},S=R("object"==("undefined"==typeof globalThis?"undefined":o(globalThis))&&globalThis)||R("object"==("undefined"==typeof window?"undefined":o(window))&&window)||R("object"==("undefined"==typeof self?"undefined":o(self))&&self)||R("object"==o(e)&&e)||function(){return this}()||Function("return this")(),L={},_=function(t){try{return!!t()}catch(t){return!0}},E=!_((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),k=!_((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),V=k,Z=Function.prototype.call,N=V?Z.bind(Z):function(){return Z.apply(Z,arguments)},T={},X={}.propertyIsEnumerable,W=Object.getOwnPropertyDescriptor,M=W&&!X.call({1:2},1);T.f=M?function(t){var e=W(this,t);return!!e&&e.enumerable}:X;var H,D,Y=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},O=k,z=Function.prototype,J=z.bind,j=z.call,P=O&&J.bind(j,j),K=O?function(t){return t&&P(t)}:function(t){return t&&function(){return j.apply(t,arguments)}},q=K,$=q({}.toString),tt=q("".slice),et=function(t){return tt($(t),8,-1)},nt=K,rt=_,it=et,at=S.Object,ot=nt("".split),st=rt((function(){return!at("z").propertyIsEnumerable(0)}))?function(t){return"String"==it(t)?ot(t,""):at(t)}:at,lt=S.TypeError,ct=function(t){if(null==t)throw lt("Can't call method on "+t);return t},ut=st,dt=ct,ht=function(t){return ut(dt(t))},gt=function(t){return"function"==typeof t},ft=gt,pt=function(t){return"object"==o(t)?null!==t:ft(t)},vt=S,mt=gt,yt=function(t){return mt(t)?t:void 0},bt=function(t,e){return arguments.length<2?yt(vt[t]):vt[t]&&vt[t][e]},It=K({}.isPrototypeOf),Ct=bt("navigator","userAgent")||"",xt=S,Bt=Ct,At=xt.process,Ft=xt.Deno,Qt=At&&At.versions||Ft&&Ft.version,wt=Qt&&Qt.v8;wt&&(D=(H=wt.split("."))[0]>0&&H[0]<4?1:+(H[0]+H[1])),!D&&Bt&&(!(H=Bt.match(/Edge\/(\d+)/))||H[1]>=74)&&(H=Bt.match(/Chrome\/(\d+)/))&&(D=+H[1]);var Ut=D,Gt=Ut,Rt=_,St=!!Object.getOwnPropertySymbols&&!Rt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Gt&&Gt<41})),Lt=St&&!Symbol.sham&&"symbol"==o(Symbol.iterator),_t=bt,Et=gt,kt=It,Vt=Lt,Zt=S.Object,Nt=Vt?function(t){return"symbol"==o(t)}:function(t){var e=_t("Symbol");return Et(e)&&kt(e.prototype,Zt(t))},Tt=S.String,Xt=function(t){try{return Tt(t)}catch(t){return"Object"}},Wt=gt,Mt=Xt,Ht=S.TypeError,Dt=function(t){if(Wt(t))return t;throw Ht(Mt(t)+" is not a function")},Yt=Dt,Ot=function(t,e){var n=t[e];return null==n?void 0:Yt(n)},zt=N,Jt=gt,jt=pt,Pt=S.TypeError,Kt=function(t,e){var n,r;if("string"===e&&Jt(n=t.toString)&&!jt(r=zt(n,t)))return r;if(Jt(n=t.valueOf)&&!jt(r=zt(n,t)))return r;if("string"!==e&&Jt(n=t.toString)&&!jt(r=zt(n,t)))return r;throw Pt("Can't convert object to primitive value")},qt={exports:{}},$t=S,te=Object.defineProperty,ee=function(t,e){try{te($t,t,{value:e,configurable:!0,writable:!0})}catch(n){$t[t]=e}return e},ne=ee,re="__core-js_shared__",ie=S[re]||ne(re,{}),ae=ie;(qt.exports=function(t,e){return ae[t]||(ae[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.0",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.0/LICENSE",source:"https://github.com/zloirock/core-js"});var oe=ct,se=S.Object,le=function(t){return se(oe(t))},ce=le,ue=K({}.hasOwnProperty),de=Object.hasOwn||function(t,e){return ue(ce(t),e)},he=K,ge=0,fe=Math.random(),pe=he(1..toString),ve=function(t){return"Symbol("+(void 0===t?"":t)+")_"+pe(++ge+fe,36)},me=S,ye=qt.exports,be=de,Ie=ve,Ce=St,xe=Lt,Be=ye("wks"),Ae=me.Symbol,Fe=Ae&&Ae.for,Qe=xe?Ae:Ae&&Ae.withoutSetter||Ie,we=function(t){if(!be(Be,t)||!Ce&&"string"!=typeof Be[t]){var e="Symbol."+t;Ce&&be(Ae,t)?Be[t]=Ae[t]:Be[t]=xe&&Fe?Fe(e):Qe(e)}return Be[t]},Ue=N,Ge=pt,Re=Nt,Se=Ot,Le=Kt,_e=we,Ee=S.TypeError,ke=_e("toPrimitive"),Ve=function(t,e){if(!Ge(t)||Re(t))return t;var n,r=Se(t,ke);if(r){if(void 0===e&&(e="default"),n=Ue(r,t,e),!Ge(n)||Re(n))return n;throw Ee("Can't convert object to primitive value")}return void 0===e&&(e="number"),Le(t,e)},Ze=Ve,Ne=Nt,Te=function(t){var e=Ze(t,"string");return Ne(e)?e:e+""},Xe=pt,We=S.document,Me=Xe(We)&&Xe(We.createElement),He=function(t){return Me?We.createElement(t):{}},De=He,Ye=!E&&!_((function(){return 7!=Object.defineProperty(De("div"),"a",{get:function(){return 7}}).a})),Oe=E,ze=N,Je=T,je=Y,Pe=ht,Ke=Te,qe=de,$e=Ye,tn=Object.getOwnPropertyDescriptor;L.f=Oe?tn:function(t,e){if(t=Pe(t),e=Ke(e),$e)try{return tn(t,e)}catch(t){}if(qe(t,e))return je(!ze(Je.f,t,e),t[e])};var en={},nn=E&&_((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),rn=S,an=pt,on=rn.String,sn=rn.TypeError,ln=function(t){if(an(t))return t;throw sn(on(t)+" is not an object")},cn=E,un=Ye,dn=nn,hn=ln,gn=Te,fn=S.TypeError,pn=Object.defineProperty,vn=Object.getOwnPropertyDescriptor,mn="enumerable",yn="configurable",bn="writable";en.f=cn?dn?function(t,e,n){if(hn(t),e=gn(e),hn(n),"function"==typeof t&&"prototype"===e&&"value"in n&&bn in n&&!n.writable){var r=vn(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:yn in n?n.configurable:r.configurable,enumerable:mn in n?n.enumerable:r.enumerable,writable:!1})}return pn(t,e,n)}:pn:function(t,e,n){if(hn(t),e=gn(e),hn(n),un)try{return pn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw fn("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var In=en,Cn=Y,xn=E?function(t,e,n){return In.f(t,e,Cn(1,n))}:function(t,e,n){return t[e]=n,t},Bn={exports:{}},An=gt,Fn=ie,Qn=K(Function.toString);An(Fn.inspectSource)||(Fn.inspectSource=function(t){return Qn(t)});var wn,Un,Gn,Rn=Fn.inspectSource,Sn=gt,Ln=Rn,_n=S.WeakMap,En=Sn(_n)&&/native code/.test(Ln(_n)),kn=qt.exports,Vn=ve,Zn=kn("keys"),Nn=function(t){return Zn[t]||(Zn[t]=Vn(t))},Tn={},Xn=En,Wn=S,Mn=K,Hn=pt,Dn=xn,Yn=de,On=ie,zn=Nn,Jn=Tn,jn="Object already initialized",Pn=Wn.TypeError,Kn=Wn.WeakMap;if(Xn||On.state){var qn=On.state||(On.state=new Kn),$n=Mn(qn.get),tr=Mn(qn.has),er=Mn(qn.set);wn=function(t,e){if(tr(qn,t))throw new Pn(jn);return e.facade=t,er(qn,t,e),e},Un=function(t){return $n(qn,t)||{}},Gn=function(t){return tr(qn,t)}}else{var nr=zn("state");Jn[nr]=!0,wn=function(t,e){if(Yn(t,nr))throw new Pn(jn);return e.facade=t,Dn(t,nr,e),e},Un=function(t){return Yn(t,nr)?t[nr]:{}},Gn=function(t){return Yn(t,nr)}}var rr={set:wn,get:Un,has:Gn,enforce:function(t){return Gn(t)?Un(t):wn(t,{})},getterFor:function(t){return function(e){var n;if(!Hn(e)||(n=Un(e)).type!==t)throw Pn("Incompatible receiver, "+t+" required");return n}}},ir=E,ar=de,or=Function.prototype,sr=ir&&Object.getOwnPropertyDescriptor,lr=ar(or,"name"),cr={EXISTS:lr,PROPER:lr&&"something"===function(){}.name,CONFIGURABLE:lr&&(!ir||ir&&sr(or,"name").configurable)},ur=S,dr=gt,hr=de,gr=xn,fr=ee,pr=Rn,vr=cr.CONFIGURABLE,mr=rr.get,yr=rr.enforce,br=String(String).split("String");(Bn.exports=function(t,e,n,r){var i,a=!!r&&!!r.unsafe,o=!!r&&!!r.enumerable,s=!!r&&!!r.noTargetGet,l=r&&void 0!==r.name?r.name:e;dr(n)&&("Symbol("===String(l).slice(0,7)&&(l="["+String(l).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!hr(n,"name")||vr&&n.name!==l)&&gr(n,"name",l),(i=yr(n)).source||(i.source=br.join("string"==typeof l?l:""))),t!==ur?(a?!s&&t[e]&&(o=!0):delete t[e],o?t[e]=n:gr(t,e,n)):o?t[e]=n:fr(e,n)})(Function.prototype,"toString",(function(){return dr(this)&&mr(this).source||pr(this)}));var Ir={},Cr=Math.ceil,xr=Math.floor,Br=function(t){var e=+t;return e!=e||0===e?0:(e>0?xr:Cr)(e)},Ar=Br,Fr=Math.max,Qr=Math.min,wr=function(t,e){var n=Ar(t);return n<0?Fr(n+e,0):Qr(n,e)},Ur=Br,Gr=Math.min,Rr=function(t){return t>0?Gr(Ur(t),9007199254740991):0},Sr=Rr,Lr=function(t){return Sr(t.length)},_r=ht,Er=wr,kr=Lr,Vr=function(t){return function(e,n,r){var i,a=_r(e),o=kr(a),s=Er(r,o);if(t&&n!=n){for(;o>s;)if((i=a[s++])!=i)return!0}else for(;o>s;s++)if((t||s in a)&&a[s]===n)return t||s||0;return!t&&-1}},Zr={includes:Vr(!0),indexOf:Vr(!1)},Nr=de,Tr=ht,Xr=Zr.indexOf,Wr=Tn,Mr=K([].push),Hr=function(t,e){var n,r=Tr(t),i=0,a=[];for(n in r)!Nr(Wr,n)&&Nr(r,n)&&Mr(a,n);for(;e.length>i;)Nr(r,n=e[i++])&&(~Xr(a,n)||Mr(a,n));return a},Dr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Yr=Hr,Or=Dr.concat("length","prototype");Ir.f=Object.getOwnPropertyNames||function(t){return Yr(t,Or)};var zr={};zr.f=Object.getOwnPropertySymbols;var Jr=bt,jr=Ir,Pr=zr,Kr=ln,qr=K([].concat),$r=Jr("Reflect","ownKeys")||function(t){var e=jr.f(Kr(t)),n=Pr.f;return n?qr(e,n(t)):e},ti=de,ei=$r,ni=L,ri=en,ii=function(t,e,n){for(var r=ei(e),i=ri.f,a=ni.f,o=0;o<r.length;o++){var s=r[o];ti(t,s)||n&&ti(n,s)||i(t,s,a(e,s))}},ai=_,oi=gt,si=/#|\.prototype\./,li=function(t,e){var n=ui[ci(t)];return n==hi||n!=di&&(oi(e)?ai(e):!!e)},ci=li.normalize=function(t){return String(t).replace(si,".").toLowerCase()},ui=li.data={},di=li.NATIVE="N",hi=li.POLYFILL="P",gi=li,fi=S,pi=L.f,vi=xn,mi=Bn.exports,yi=ee,bi=ii,Ii=gi,Ci=function(t,e){var n,r,i,a,s,l=t.target,c=t.global,u=t.stat;if(n=c?fi:u?fi[l]||yi(l,{}):(fi[l]||{}).prototype)for(r in e){if(a=e[r],i=t.noTargetGet?(s=pi(n,r))&&s.value:n[r],!Ii(c?r:l+(u?".":"#")+r,t.forced)&&void 0!==i){if(o(a)==o(i))continue;bi(a,i)}(t.sham||i&&i.sham)&&vi(a,"sham",!0),mi(n,r,a,t)}},xi=k,Bi=Function.prototype,Ai=Bi.apply,Fi=Bi.call,Qi="object"==("undefined"==typeof Reflect?"undefined":o(Reflect))&&Reflect.apply||(xi?Fi.bind(Ai):function(){return Fi.apply(Ai,arguments)}),wi=et,Ui=Array.isArray||function(t){return"Array"==wi(t)},Gi={};Gi[we("toStringTag")]="z";var Ri="[object z]"===String(Gi),Si=S,Li=Ri,_i=gt,Ei=et,ki=we("toStringTag"),Vi=Si.Object,Zi="Arguments"==Ei(function(){return arguments}()),Ni=Li?Ei:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Vi(t),ki))?n:Zi?Ei(e):"Object"==(r=Ei(e))&&_i(e.callee)?"Arguments":r},Ti=Ni,Xi=S.String,Wi=function(t){if("Symbol"===Ti(t))throw TypeError("Cannot convert a Symbol value to a string");return Xi(t)},Mi={},Hi=Hr,Di=Dr,Yi=Object.keys||function(t){return Hi(t,Di)},Oi=E,zi=nn,Ji=en,ji=ln,Pi=ht,Ki=Yi;Mi.f=Oi&&!zi?Object.defineProperties:function(t,e){ji(t);for(var n,r=Pi(e),i=Ki(e),a=i.length,o=0;a>o;)Ji.f(t,n=i[o++],r[n]);return t};var qi,$i=bt("document","documentElement"),ta=ln,ea=Mi,na=Dr,ra=Tn,ia=$i,aa=He,oa=Nn("IE_PROTO"),sa=function(){},la=function(t){return"<script>"+t+"</"+"script>"},ca=function(t){t.write(la("")),t.close();var e=t.parentWindow.Object;return t=null,e},ua=function(){try{qi=new ActiveXObject("htmlfile")}catch(t){}var t,e;ua="undefined"!=typeof document?document.domain&&qi?ca(qi):((e=aa("iframe")).style.display="none",ia.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(la("document.F=Object")),t.close(),t.F):ca(qi);for(var n=na.length;n--;)delete ua.prototype[na[n]];return ua()};ra[oa]=!0;var da=Object.create||function(t,e){var n;return null!==t?(sa.prototype=ta(t),n=new sa,sa.prototype=null,n[oa]=t):n=ua(),void 0===e?n:ea.f(n,e)},ha={},ga=Te,fa=en,pa=Y,va=function(t,e,n){var r=ga(e);r in t?fa.f(t,r,pa(0,n)):t[r]=n},ma=wr,ya=Lr,ba=va,Ia=S.Array,Ca=Math.max,xa=function(t,e,n){for(var r=ya(t),i=ma(e,r),a=ma(void 0===n?r:n,r),o=Ia(Ca(a-i,0)),s=0;i<a;i++,s++)ba(o,s,t[i]);return o.length=s,o},Ba=et,Aa=ht,Fa=Ir.f,Qa=xa,wa="object"==("undefined"==typeof window?"undefined":o(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];ha.f=function(t){return wa&&"Window"==Ba(t)?function(t){try{return Fa(t)}catch(t){return Qa(wa)}}(t):Fa(Aa(t))};var Ua=K([].slice),Ga={},Ra=we;Ga.f=Ra;var Sa=S,La=de,_a=Ga,Ea=en.f,ka=function(t){var e=Sa.Symbol||(Sa.Symbol={});La(e,t)||Ea(e,t,{value:_a.f(t)})},Va=en.f,Za=de,Na=we("toStringTag"),Ta=function(t,e,n){t&&!n&&(t=t.prototype),t&&!Za(t,Na)&&Va(t,Na,{configurable:!0,value:e})},Xa=Dt,Wa=k,Ma=K(K.bind),Ha=function(t,e){return Xa(t),void 0===e?t:Wa?Ma(t,e):function(){return t.apply(e,arguments)}},Da=K,Ya=_,Oa=gt,za=Ni,Ja=Rn,ja=function(){},Pa=[],Ka=bt("Reflect","construct"),qa=/^\s*(?:class|function)\b/,$a=Da(qa.exec),to=!qa.exec(ja),eo=function(t){if(!Oa(t))return!1;try{return Ka(ja,Pa,t),!0}catch(t){return!1}},no=function(t){if(!Oa(t))return!1;switch(za(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return to||!!$a(qa,Ja(t))}catch(t){return!0}};no.sham=!0;var ro=!Ka||Ya((function(){var t;return eo(eo.call)||!eo(Object)||!eo((function(){t=!0}))||t}))?no:eo,io=S,ao=Ui,oo=ro,so=pt,lo=we("species"),co=io.Array,uo=function(t){var e;return ao(t)&&(e=t.constructor,(oo(e)&&(e===co||ao(e.prototype))||so(e)&&null===(e=e[lo]))&&(e=void 0)),void 0===e?co:e},ho=function(t,e){return new(uo(t))(0===e?0:e)},go=Ha,fo=st,po=le,vo=Lr,mo=ho,yo=K([].push),bo=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,a=6==t,o=7==t,s=5==t||a;return function(l,c,u,d){for(var h,g,f=po(l),p=fo(f),v=go(c,u),m=vo(p),y=0,b=d||mo,I=e?b(l,m):n||o?b(l,0):void 0;m>y;y++)if((s||y in p)&&(g=v(h=p[y],y,f),t))if(e)I[y]=g;else if(g)switch(t){case 3:return!0;case 5:return h;case 6:return y;case 2:yo(I,h)}else switch(t){case 4:return!1;case 7:yo(I,h)}return a?-1:r||i?i:I}},Io={forEach:bo(0),map:bo(1),filter:bo(2),some:bo(3),every:bo(4),find:bo(5),findIndex:bo(6),filterReject:bo(7)},Co=Ci,xo=S,Bo=bt,Ao=Qi,Fo=N,Qo=K,wo=E,Uo=St,Go=_,Ro=de,So=Ui,Lo=gt,_o=pt,Eo=It,ko=Nt,Vo=ln,Zo=le,No=ht,To=Te,Xo=Wi,Wo=Y,Mo=da,Ho=Yi,Do=Ir,Yo=ha,Oo=zr,zo=L,Jo=en,jo=Mi,Po=T,Ko=Ua,qo=Bn.exports,$o=qt.exports,ts=Tn,es=ve,ns=we,rs=Ga,is=ka,as=Ta,os=rr,ss=Io.forEach,ls=Nn("hidden"),cs="Symbol",us=ns("toPrimitive"),ds=os.set,hs=os.getterFor(cs),gs=Object.prototype,fs=xo.Symbol,ps=fs&&fs.prototype,vs=xo.TypeError,ms=xo.QObject,ys=Bo("JSON","stringify"),bs=zo.f,Is=Jo.f,Cs=Yo.f,xs=Po.f,Bs=Qo([].push),As=$o("symbols"),Fs=$o("op-symbols"),Qs=$o("string-to-symbol-registry"),ws=$o("symbol-to-string-registry"),Us=$o("wks"),Gs=!ms||!ms.prototype||!ms.prototype.findChild,Rs=wo&&Go((function(){return 7!=Mo(Is({},"a",{get:function(){return Is(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=bs(gs,e);r&&delete gs[e],Is(t,e,n),r&&t!==gs&&Is(gs,e,r)}:Is,Ss=function(t,e){var n=As[t]=Mo(ps);return ds(n,{type:cs,tag:t,description:e}),wo||(n.description=e),n},Ls=function(t,e,n){t===gs&&Ls(Fs,e,n),Vo(t);var r=To(e);return Vo(n),Ro(As,r)?(n.enumerable?(Ro(t,ls)&&t[ls][r]&&(t[ls][r]=!1),n=Mo(n,{enumerable:Wo(0,!1)})):(Ro(t,ls)||Is(t,ls,Wo(1,{})),t[ls][r]=!0),Rs(t,r,n)):Is(t,r,n)},_s=function(t,e){Vo(t);var n=No(e),r=Ho(n).concat(Zs(n));return ss(r,(function(e){wo&&!Fo(Es,n,e)||Ls(t,e,n[e])})),t},Es=function(t){var e=To(t),n=Fo(xs,this,e);return!(this===gs&&Ro(As,e)&&!Ro(Fs,e))&&(!(n||!Ro(this,e)||!Ro(As,e)||Ro(this,ls)&&this[ls][e])||n)},ks=function(t,e){var n=No(t),r=To(e);if(n!==gs||!Ro(As,r)||Ro(Fs,r)){var i=bs(n,r);return!i||!Ro(As,r)||Ro(n,ls)&&n[ls][r]||(i.enumerable=!0),i}},Vs=function(t){var e=Cs(No(t)),n=[];return ss(e,(function(t){Ro(As,t)||Ro(ts,t)||Bs(n,t)})),n},Zs=function(t){var e=t===gs,n=Cs(e?Fs:No(t)),r=[];return ss(n,(function(t){!Ro(As,t)||e&&!Ro(gs,t)||Bs(r,As[t])})),r};(Uo||(fs=function(){if(Eo(ps,this))throw vs("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Xo(arguments[0]):void 0,e=es(t),n=function t(n){this===gs&&Fo(t,Fs,n),Ro(this,ls)&&Ro(this[ls],e)&&(this[ls][e]=!1),Rs(this,e,Wo(1,n))};return wo&&Gs&&Rs(gs,e,{configurable:!0,set:n}),Ss(e,t)},qo(ps=fs.prototype,"toString",(function(){return hs(this).tag})),qo(fs,"withoutSetter",(function(t){return Ss(es(t),t)})),Po.f=Es,Jo.f=Ls,jo.f=_s,zo.f=ks,Do.f=Yo.f=Vs,Oo.f=Zs,rs.f=function(t){return Ss(ns(t),t)},wo&&(Is(ps,"description",{configurable:!0,get:function(){return hs(this).description}}),qo(gs,"propertyIsEnumerable",Es,{unsafe:!0}))),Co({global:!0,wrap:!0,forced:!Uo,sham:!Uo},{Symbol:fs}),ss(Ho(Us),(function(t){is(t)})),Co({target:cs,stat:!0,forced:!Uo},{for:function(t){var e=Xo(t);if(Ro(Qs,e))return Qs[e];var n=fs(e);return Qs[e]=n,ws[n]=e,n},keyFor:function(t){if(!ko(t))throw vs(t+" is not a symbol");if(Ro(ws,t))return ws[t]},useSetter:function(){Gs=!0},useSimple:function(){Gs=!1}}),Co({target:"Object",stat:!0,forced:!Uo,sham:!wo},{create:function(t,e){return void 0===e?Mo(t):_s(Mo(t),e)},defineProperty:Ls,defineProperties:_s,getOwnPropertyDescriptor:ks}),Co({target:"Object",stat:!0,forced:!Uo},{getOwnPropertyNames:Vs,getOwnPropertySymbols:Zs}),Co({target:"Object",stat:!0,forced:Go((function(){Oo.f(1)}))},{getOwnPropertySymbols:function(t){return Oo.f(Zo(t))}}),ys)&&Co({target:"JSON",stat:!0,forced:!Uo||Go((function(){var t=fs();return"[null]"!=ys([t])||"{}"!=ys({a:t})||"{}"!=ys(Object(t))}))},{stringify:function(t,e,n){var r=Ko(arguments),i=e;if((_o(e)||void 0!==t)&&!ko(t))return So(e)||(e=function(t,e){if(Lo(i)&&(e=Fo(i,this,t,e)),!ko(e))return e}),r[1]=e,Ao(ys,null,r)}});if(!ps[us]){var Ns=ps.valueOf;qo(ps,us,(function(t){return Fo(Ns,this)}))}as(fs,cs),ts[ls]=!0;var Ts=Ci,Xs=E,Ws=S,Ms=K,Hs=de,Ds=gt,Ys=It,Os=Wi,zs=en.f,Js=ii,js=Ws.Symbol,Ps=js&&js.prototype;if(Xs&&Ds(js)&&(!("description"in Ps)||void 0!==js().description)){var Ks={},qs=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:Os(arguments[0]),e=Ys(Ps,this)?new js(t):void 0===t?js():js(t);return""===t&&(Ks[e]=!0),e};Js(qs,js),qs.prototype=Ps,Ps.constructor=qs;var $s="Symbol(test)"==String(js("test")),tl=Ms(Ps.toString),el=Ms(Ps.valueOf),nl=/^Symbol\((.*)\)[^)]+$/,rl=Ms("".replace),il=Ms("".slice);zs(Ps,"description",{configurable:!0,get:function(){var t=el(this),e=tl(t);if(Hs(Ks,t))return"";var n=$s?il(e,7,-1):rl(e,nl,"$1");return""===n?void 0:n}}),Ts({global:!0,forced:!0},{Symbol:qs})}ka("asyncIterator"),ka("hasInstance"),ka("isConcatSpreadable"),ka("iterator"),ka("match"),ka("matchAll"),ka("replace"),ka("search"),ka("species"),ka("split"),ka("toPrimitive"),ka("toStringTag"),ka("unscopables");var al=S,ol=gt,sl=al.String,ll=al.TypeError,cl=function(t){if("object"==o(t)||ol(t))return t;throw ll("Can't set "+sl(t)+" as a prototype")},ul=K,dl=ln,hl=cl,fl=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=ul(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return dl(n),hl(r),e?t(n,r):n.__proto__=r,n}}():void 0),pl=gt,vl=pt,ml=fl,yl=function(t,e,n){var r,i;return ml&&pl(r=e.constructor)&&r!==n&&vl(i=r.prototype)&&i!==n.prototype&&ml(t,i),t},bl=Wi,Il=function(t,e){return void 0===t?arguments.length<2?"":e:bl(t)},Cl=pt,xl=xn,Bl=function(t,e){Cl(e)&&"cause"in e&&xl(t,"cause",e.cause)},Al=K("".replace),Fl=String(Error("zxcasd").stack),Ql=/\n\s*at [^:]*:[^\n]*/,wl=Ql.test(Fl),Ul=function(t,e){if(wl&&"string"==typeof t)for(;e--;)t=Al(t,Ql,"");return t},Gl=Y,Rl=!_((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",Gl(1,7)),7!==t.stack)})),Sl=bt,Ll=de,_l=xn,El=It,kl=fl,Vl=ii,Zl=yl,Nl=Il,Tl=Bl,Xl=Ul,Wl=Rl,Ml=function(t,e,n,r){var i=r?2:1,a=t.split("."),o=a[a.length-1],s=Sl.apply(null,a);if(s){var l=s.prototype;if(Ll(l,"cause")&&delete l.cause,!n)return s;var c=Sl("Error"),u=e((function(t,e){var n=Nl(r?e:t,void 0),a=r?new s(t):new s;return void 0!==n&&_l(a,"message",n),Wl&&_l(a,"stack",Xl(a.stack,2)),this&&El(l,this)&&Zl(a,this,u),arguments.length>i&&Tl(a,arguments[i]),a}));u.prototype=l,"Error"!==o&&(kl?kl(u,c):Vl(u,c,{name:!0})),Vl(u,s);try{l.name!==o&&_l(l,"name",o),l.constructor=u}catch(t){}return u}},Hl=Ci,Dl=Qi,Yl=Ml,Ol="WebAssembly",zl=S.WebAssembly,Jl=7!==Error("e",{cause:7}).cause,jl=function(t,e){var n={};n[t]=Yl(t,e,Jl),Hl({global:!0,forced:Jl},n)},Pl=function(t,e){if(zl&&zl[t]){var n={};n[t]=Yl("WebAssembly."+t,e,Jl),Hl({target:Ol,stat:!0,forced:Jl},n)}};jl("Error",(function(t){return function(e){return Dl(t,this,arguments)}})),jl("EvalError",(function(t){return function(e){return Dl(t,this,arguments)}})),jl("RangeError",(function(t){return function(e){return Dl(t,this,arguments)}})),jl("ReferenceError",(function(t){return function(e){return Dl(t,this,arguments)}})),jl("SyntaxError",(function(t){return function(e){return Dl(t,this,arguments)}})),jl("TypeError",(function(t){return function(e){return Dl(t,this,arguments)}})),jl("URIError",(function(t){return function(e){return Dl(t,this,arguments)}})),Pl("CompileError",(function(t){return function(e){return Dl(t,this,arguments)}})),Pl("LinkError",(function(t){return function(e){return Dl(t,this,arguments)}})),Pl("RuntimeError",(function(t){return function(e){return Dl(t,this,arguments)}}));var Kl=!_((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),ql=S,$l=de,tc=gt,ec=le,nc=Kl,rc=Nn("IE_PROTO"),ic=ql.Object,ac=ic.prototype,oc=nc?ic.getPrototypeOf:function(t){var e=ec(t);if($l(e,rc))return e[rc];var n=e.constructor;return tc(n)&&e instanceof n?n.prototype:e instanceof ic?ac:null},sc={},lc=sc,cc=we("iterator"),uc=Array.prototype,dc=function(t){return void 0!==t&&(lc.Array===t||uc[cc]===t)},hc=Ni,gc=Ot,fc=sc,pc=we("iterator"),vc=function(t){if(null!=t)return gc(t,pc)||gc(t,"@@iterator")||fc[hc(t)]},mc=N,yc=Dt,bc=ln,Ic=Xt,Cc=vc,xc=S.TypeError,Bc=function(t,e){var n=arguments.length<2?Cc(t):e;if(yc(n))return bc(mc(n,t));throw xc(Ic(t)+" is not iterable")},Ac=N,Fc=ln,Qc=Ot,wc=function(t,e,n){var r,i;Fc(t);try{if(!(r=Qc(t,"return"))){if("throw"===e)throw n;return n}r=Ac(r,t)}catch(t){i=!0,r=t}if("throw"===e)throw n;if(i)throw r;return Fc(r),n},Uc=Ha,Gc=N,Rc=ln,Sc=Xt,Lc=dc,_c=Lr,Ec=It,kc=Bc,Vc=vc,Zc=wc,Nc=S.TypeError,Tc=function(t,e){this.stopped=t,this.result=e},Xc=Tc.prototype,Wc=function(t,e,n){var r,i,a,s,l,c,u,d=n&&n.that,h=!(!n||!n.AS_ENTRIES),g=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),p=Uc(e,d),v=function(t){return r&&Zc(r,"normal",t),new Tc(!0,t)},m=function(t){return h?(Rc(t),f?p(t[0],t[1],v):p(t[0],t[1])):f?p(t,v):p(t)};if(g)r=t;else{if(!(i=Vc(t)))throw Nc(Sc(t)+" is not iterable");if(Lc(i)){for(a=0,s=_c(t);s>a;a++)if((l=m(t[a]))&&Ec(Xc,l))return l;return new Tc(!1)}r=kc(t,i)}for(c=r.next;!(u=Gc(c,r)).done;){try{l=m(u.value)}catch(t){Zc(r,"throw",t)}if("object"==o(l)&&l&&Ec(Xc,l))return l}return new Tc(!1)},Mc=Ci,Hc=S,Dc=It,Yc=oc,Oc=fl,zc=ii,Jc=da,jc=xn,Pc=Y,Kc=Ul,qc=Bl,$c=Wc,tu=Il,eu=Rl,nu=we("toStringTag"),ru=Hc.Error,iu=[].push,au=function(t,e){var n,r=arguments.length>2?arguments[2]:void 0,i=Dc(ou,this);Oc?n=Oc(new ru,i?Yc(this):ou):(n=i?this:Jc(ou),jc(n,nu,"Error")),void 0!==e&&jc(n,"message",tu(e)),eu&&jc(n,"stack",Kc(n.stack,1)),qc(n,r);var a=[];return $c(t,iu,{that:a}),jc(n,"errors",a),n};Oc?Oc(au,ru):zc(au,ru,{name:!0});var ou=au.prototype=Jc(ru.prototype,{constructor:Pc(1,au),message:Pc(1,""),name:Pc(1,"AggregateError")});Mc({global:!0},{AggregateError:au});var su=Ci,lu=Qi,cu=_,uu=Ml,du="AggregateError",hu=bt(du),gu=!cu((function(){return 1!==hu([1]).errors[0]}))&&cu((function(){return 7!==hu([1],du,{cause:7}).cause}));su({global:!0,forced:gu},{AggregateError:uu(du,(function(t){return function(e,n){return lu(t,this,arguments)}}),gu,!0)});var fu=da,pu=en,vu=we("unscopables"),mu=Array.prototype;null==mu[vu]&&pu.f(mu,vu,{configurable:!0,value:fu(null)});var yu=function(t){mu[vu][t]=!0},bu=le,Iu=Lr,Cu=Br,xu=yu;Ci({target:"Array",proto:!0},{at:function(t){var e=bu(this),n=Iu(e),r=Cu(t),i=r>=0?r:n+r;return i<0||i>=n?void 0:e[i]}}),xu("at");var Bu=_,Au=Ut,Fu=we("species"),Qu=function(t){return Au>=51||!Bu((function(){var e=[];return(e.constructor={})[Fu]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},wu=Ci,Uu=S,Gu=_,Ru=Ui,Su=pt,Lu=le,_u=Lr,Eu=va,ku=ho,Vu=Qu,Zu=Ut,Nu=we("isConcatSpreadable"),Tu=9007199254740991,Xu="Maximum allowed index exceeded",Wu=Uu.TypeError,Mu=Zu>=51||!Gu((function(){var t=[];return t[Nu]=!1,t.concat()[0]!==t})),Hu=Vu("concat"),Du=function(t){if(!Su(t))return!1;var e=t[Nu];return void 0!==e?!!e:Ru(t)};wu({target:"Array",proto:!0,forced:!Mu||!Hu},{concat:function(t){var e,n,r,i,a,o=Lu(this),s=ku(o,0),l=0;for(e=-1,r=arguments.length;e<r;e++)if(Du(a=-1===e?o:arguments[e])){if(l+(i=_u(a))>Tu)throw Wu(Xu);for(n=0;n<i;n++,l++)n in a&&Eu(s,l,a[n])}else{if(l>=Tu)throw Wu(Xu);Eu(s,l++,a)}return s.length=l,s}});var Yu=le,Ou=wr,zu=Lr,Ju=Math.min,ju=[].copyWithin||function(t,e){var n=Yu(this),r=zu(n),i=Ou(t,r),a=Ou(e,r),o=arguments.length>2?arguments[2]:void 0,s=Ju((void 0===o?r:Ou(o,r))-a,r-i),l=1;for(a<i&&i<a+s&&(l=-1,a+=s-1,i+=s-1);s-- >0;)a in n?n[i]=n[a]:delete n[i],i+=l,a+=l;return n},Pu=yu;Ci({target:"Array",proto:!0},{copyWithin:ju}),Pu("copyWithin");var Ku=le,qu=wr,$u=Lr,td=function(t){for(var e=Ku(this),n=$u(e),r=arguments.length,i=qu(r>1?arguments[1]:void 0,n),a=r>2?arguments[2]:void 0,o=void 0===a?n:qu(a,n);o>i;)e[i++]=t;return e},ed=yu;Ci({target:"Array",proto:!0},{fill:td}),ed("fill");var nd=Io.filter;Ci({target:"Array",proto:!0,forced:!Qu("filter")},{filter:function(t){return nd(this,t,arguments.length>1?arguments[1]:void 0)}});var rd=Ci,id=Io.find,ad=yu,od="find",sd=!0;od in[]&&Array(1).find((function(){sd=!1})),rd({target:"Array",proto:!0,forced:sd},{find:function(t){return id(this,t,arguments.length>1?arguments[1]:void 0)}}),ad(od);var ld=Ci,cd=Io.findIndex,ud=yu,dd="findIndex",hd=!0;dd in[]&&Array(1).findIndex((function(){hd=!1})),ld({target:"Array",proto:!0,forced:hd},{findIndex:function(t){return cd(this,t,arguments.length>1?arguments[1]:void 0)}}),ud(dd);var gd=Ui,fd=Lr,pd=Ha,vd=S.TypeError,md=function t(e,n,r,i,a,o,s,l){for(var c,u=a,d=0,h=!!s&&pd(s,l);d<i;){if(d in r){if(c=h?h(r[d],d,n):r[d],o>0&&gd(c))u=t(e,n,c,fd(c),u,o-1)-1;else{if(u>=9007199254740991)throw vd("Exceed the acceptable array length");e[u]=c}u++}d++}return u},yd=md,bd=le,Id=Lr,Cd=Br,xd=ho;Ci({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=bd(this),n=Id(e),r=xd(e,0);return r.length=yd(r,e,e,n,0,void 0===t?1:Cd(t)),r}});var Bd=md,Ad=Dt,Fd=le,Qd=Lr,wd=ho;Ci({target:"Array",proto:!0},{flatMap:function(t){var e,n=Fd(this),r=Qd(n);return Ad(t),(e=wd(n,0)).length=Bd(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}});var Ud=ln,Gd=wc,Rd=Ha,Sd=N,Ld=le,_d=function(t,e,n,r){try{return r?e(Ud(n)[0],n[1]):e(n)}catch(e){Gd(t,"throw",e)}},Ed=dc,kd=ro,Vd=Lr,Zd=va,Nd=Bc,Td=vc,Xd=S.Array,Wd=function(t){var e=Ld(t),n=kd(this),r=arguments.length,i=r>1?arguments[1]:void 0,a=void 0!==i;a&&(i=Rd(i,r>2?arguments[2]:void 0));var o,s,l,c,u,d,h=Td(e),g=0;if(!h||this==Xd&&Ed(h))for(o=Vd(e),s=n?new this(o):Xd(o);o>g;g++)d=a?i(e[g],g):e[g],Zd(s,g,d);else for(u=(c=Nd(e,h)).next,s=n?new this:[];!(l=Sd(u,c)).done;g++)d=a?_d(c,i,[l.value,g],!0):l.value,Zd(s,g,d);return s.length=g,s},Md=we("iterator"),Hd=!1;try{var Dd=0,Yd={next:function(){return{done:!!Dd++}},return:function(){Hd=!0}};Yd[Md]=function(){return this},Array.from(Yd,(function(){throw 2}))}catch(t){}var Od=function(t,e){if(!e&&!Hd)return!1;var n=!1;try{var r={};r[Md]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},zd=Wd;Ci({target:"Array",stat:!0,forced:!Od((function(t){Array.from(t)}))},{from:zd});var Jd=Zr.includes,jd=yu;Ci({target:"Array",proto:!0},{includes:function(t){return Jd(this,t,arguments.length>1?arguments[1]:void 0)}}),jd("includes");var Pd=_,Kd=function(t,e){var n=[][t];return!!n&&Pd((function(){n.call(null,e||function(){throw 1},1)}))},qd=Ci,$d=Zr.indexOf,th=Kd,eh=K([].indexOf),nh=!!eh&&1/eh([1],1,-0)<0,rh=th("indexOf");qd({target:"Array",proto:!0,forced:nh||!rh},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return nh?eh(this,t,e)||0:$d(this,t,e)}});var ih,ah,oh,sh=_,lh=gt,ch=oc,uh=Bn.exports,dh=we("iterator"),hh=!1;[].keys&&("next"in(oh=[].keys())?(ah=ch(ch(oh)))!==Object.prototype&&(ih=ah):hh=!0);var gh=null==ih||sh((function(){var t={};return ih[dh].call(t)!==t}));gh&&(ih={}),lh(ih[dh])||uh(ih,dh,(function(){return this}));var fh={IteratorPrototype:ih,BUGGY_SAFARI_ITERATORS:hh},ph=fh.IteratorPrototype,vh=da,mh=Y,yh=Ta,bh=sc,Ih=function(){return this},Ch=function(t,e,n,r){var i=e+" Iterator";return t.prototype=vh(ph,{next:mh(+!r,n)}),yh(t,i,!1),bh[i]=Ih,t},xh=Ci,Bh=N,Ah=cr,Fh=gt,Qh=Ch,wh=oc,Uh=fl,Gh=Ta,Rh=xn,Sh=Bn.exports,Lh=sc,_h=Ah.PROPER,Eh=Ah.CONFIGURABLE,kh=fh.IteratorPrototype,Vh=fh.BUGGY_SAFARI_ITERATORS,Zh=we("iterator"),Nh="keys",Th="values",Xh="entries",Wh=function(){return this},Mh=function(t,e,n,r,i,a,o){Qh(n,e,r);var s,l,c,u=function(t){if(t===i&&p)return p;if(!Vh&&t in g)return g[t];switch(t){case Nh:case Th:case Xh:return function(){return new n(this,t)}}return function(){return new n(this)}},d=e+" Iterator",h=!1,g=t.prototype,f=g[Zh]||g["@@iterator"]||i&&g[i],p=!Vh&&f||u(i),v="Array"==e&&g.entries||f;if(v&&(s=wh(v.call(new t)))!==Object.prototype&&s.next&&(wh(s)!==kh&&(Uh?Uh(s,kh):Fh(s[Zh])||Sh(s,Zh,Wh)),Gh(s,d,!0)),_h&&i==Th&&f&&f.name!==Th&&(Eh?Rh(g,"name",Th):(h=!0,p=function(){return Bh(f,this)})),i)if(l={values:u(Th),keys:a?p:u(Nh),entries:u(Xh)},o)for(c in l)(Vh||h||!(c in g))&&Sh(g,c,l[c]);else xh({target:e,proto:!0,forced:Vh||h},l);return g[Zh]!==p&&Sh(g,Zh,p,{name:i}),Lh[e]=p,l},Hh=ht,Dh=yu,Yh=sc,Oh=rr,zh=en.f,Jh=Mh,jh=E,Ph="Array Iterator",Kh=Oh.set,qh=Oh.getterFor(Ph),$h=Jh(Array,"Array",(function(t,e){Kh(this,{type:Ph,target:Hh(t),index:0,kind:e})}),(function(){var t=qh(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),tg=Yh.Arguments=Yh.Array;if(Dh("keys"),Dh("values"),Dh("entries"),jh&&"values"!==tg.name)try{zh(tg,"name",{value:"values"})}catch(t){}var eg=Ci,ng=st,rg=ht,ig=Kd,ag=K([].join),og=ng!=Object,sg=ig("join",",");eg({target:"Array",proto:!0,forced:og||!sg},{join:function(t){return ag(rg(this),void 0===t?",":t)}});var lg=Qi,cg=ht,ug=Br,dg=Lr,hg=Kd,gg=Math.min,fg=[].lastIndexOf,pg=!!fg&&1/[1].lastIndexOf(1,-0)<0,vg=hg("lastIndexOf"),mg=pg||!vg?function(t){if(pg)return lg(fg,this,arguments)||0;var e=cg(this),n=dg(e),r=n-1;for(arguments.length>1&&(r=gg(r,ug(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}:fg;Ci({target:"Array",proto:!0,forced:mg!==[].lastIndexOf},{lastIndexOf:mg});var yg=Io.map;Ci({target:"Array",proto:!0,forced:!Qu("map")},{map:function(t){return yg(this,t,arguments.length>1?arguments[1]:void 0)}});var bg=Ci,Ig=_,Cg=ro,xg=va,Bg=S.Array;bg({target:"Array",stat:!0,forced:Ig((function(){function t(){}return!(Bg.of.call(t)instanceof t)}))},{of:function(){for(var t=0,e=arguments.length,n=new(Cg(this)?this:Bg)(e);e>t;)xg(n,t,arguments[t++]);return n.length=e,n}});var Ag=Dt,Fg=le,Qg=st,wg=Lr,Ug=S.TypeError,Gg=function(t){return function(e,n,r,i){Ag(n);var a=Fg(e),o=Qg(a),s=wg(a),l=t?s-1:0,c=t?-1:1;if(r<2)for(;;){if(l in o){i=o[l],l+=c;break}if(l+=c,t?l<0:s<=l)throw Ug("Reduce of empty array with no initial value")}for(;t?l>=0:s>l;l+=c)l in o&&(i=n(i,o[l],l,a));return i}},Rg={left:Gg(!1),right:Gg(!0)},Sg="process"==et(S.process),Lg=Rg.left,_g=Ut,Eg=Sg;Ci({target:"Array",proto:!0,forced:!Kd("reduce")||!Eg&&_g>79&&_g<83},{reduce:function(t){var e=arguments.length;return Lg(this,t,e,e>1?arguments[1]:void 0)}});var kg=Rg.right,Vg=Ut,Zg=Sg;Ci({target:"Array",proto:!0,forced:!Kd("reduceRight")||!Zg&&Vg>79&&Vg<83},{reduceRight:function(t){return kg(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Ng=Ci,Tg=S,Xg=Ui,Wg=ro,Mg=pt,Hg=wr,Dg=Lr,Yg=ht,Og=va,zg=we,Jg=Ua,jg=Qu("slice"),Pg=zg("species"),Kg=Tg.Array,qg=Math.max;Ng({target:"Array",proto:!0,forced:!jg},{slice:function(t,e){var n,r,i,a=Yg(this),o=Dg(a),s=Hg(t,o),l=Hg(void 0===e?o:e,o);if(Xg(a)&&(n=a.constructor,(Wg(n)&&(n===Kg||Xg(n.prototype))||Mg(n)&&null===(n=n[Pg]))&&(n=void 0),n===Kg||void 0===n))return Jg(a,s,l);for(r=new(void 0===n?Kg:n)(qg(l-s,0)),i=0;s<l;s++,i++)s in a&&Og(r,i,a[s]);return r.length=i,r}});var $g=xa,tf=Math.floor,ef=function(t,e){for(var n,r,i=t.length,a=1;a<i;){for(r=a,n=t[a];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==a++&&(t[r]=n)}return t},nf=function(t,e,n,r){for(var i=e.length,a=n.length,o=0,s=0;o<i||s<a;)t[o+s]=o<i&&s<a?r(e[o],n[s])<=0?e[o++]:n[s++]:o<i?e[o++]:n[s++];return t},rf=function t(e,n){var r=e.length,i=tf(r/2);return r<8?ef(e,n):nf(e,t($g(e,0,i),n),t($g(e,i),n),n)},af=Ct.match(/firefox\/(\d+)/i),of=!!af&&+af[1],sf=/MSIE|Trident/.test(Ct),lf=Ct.match(/AppleWebKit\/(\d+)\./),cf=!!lf&&+lf[1],uf=Ci,df=K,hf=Dt,gf=le,ff=Lr,pf=Wi,vf=_,mf=rf,yf=Kd,bf=of,If=sf,Cf=Ut,xf=cf,Bf=[],Af=df(Bf.sort),Ff=df(Bf.push),Qf=vf((function(){Bf.sort(void 0)})),wf=vf((function(){Bf.sort(null)})),Uf=yf("sort"),Gf=!vf((function(){if(Cf)return Cf<70;if(!(bf&&bf>3)){if(If)return!0;if(xf)return xf<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)Bf.push({k:e+r,v:n})}for(Bf.sort((function(t,e){return e.v-t.v})),r=0;r<Bf.length;r++)e=Bf[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));uf({target:"Array",proto:!0,forced:Qf||!wf||!Uf||!Gf},{sort:function(t){void 0!==t&&hf(t);var e=gf(this);if(Gf)return void 0===t?Af(e):Af(e,t);var n,r,i=[],a=ff(e);for(r=0;r<a;r++)r in e&&Ff(i,e[r]);for(mf(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:pf(e)>pf(n)?1:-1}}(t)),n=i.length,r=0;r<n;)e[r]=i[r++];for(;r<a;)delete e[r++];return e}});var Rf=bt,Sf=en,Lf=E,_f=we("species"),Ef=function(t){var e=Rf(t),n=Sf.f;Lf&&e&&!e[_f]&&n(e,_f,{configurable:!0,get:function(){return this}})};Ef("Array");var kf=Ci,Vf=S,Zf=wr,Nf=Br,Tf=Lr,Xf=le,Wf=ho,Mf=va,Hf=Qu("splice"),Df=Vf.TypeError,Yf=Math.max,Of=Math.min,zf=9007199254740991,Jf="Maximum allowed length exceeded";kf({target:"Array",proto:!0,forced:!Hf},{splice:function(t,e){var n,r,i,a,o,s,l=Xf(this),c=Tf(l),u=Zf(t,c),d=arguments.length;if(0===d?n=r=0:1===d?(n=0,r=c-u):(n=d-2,r=Of(Yf(Nf(e),0),c-u)),c+n-r>zf)throw Df(Jf);for(i=Wf(l,r),a=0;a<r;a++)(o=u+a)in l&&Mf(i,a,l[o]);if(i.length=r,n<r){for(a=u;a<c-r;a++)s=a+n,(o=a+r)in l?l[s]=l[o]:delete l[s];for(a=c;a>c-r+n;a--)delete l[a-1]}else if(n>r)for(a=c-r;a>u;a--)s=a+n-1,(o=a+r-1)in l?l[s]=l[o]:delete l[s];for(a=0;a<n;a++)l[a+u]=arguments[a+2];return l.length=c-r+n,i}}),yu("flat"),yu("flatMap");var jf="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Pf=Bn.exports,Kf=function(t,e,n){for(var r in e)Pf(t,r,e[r],n);return t},qf=It,$f=S.TypeError,tp=function(t,e){if(qf(e,t))return t;throw $f("Incorrect invocation")},ep=Br,np=Rr,rp=S.RangeError,ip=function(t){if(void 0===t)return 0;var e=ep(t),n=np(e);if(e!==n)throw rp("Wrong length or index");return n},ap=S.Array,op=Math.abs,sp=Math.pow,lp=Math.floor,cp=Math.log,up=Math.LN2,dp={pack:function(t,e,n){var r,i,a,o=ap(n),s=8*n-e-1,l=(1<<s)-1,c=l>>1,u=23===e?sp(2,-24)-sp(2,-77):0,d=t<0||0===t&&1/t<0?1:0,h=0;for((t=op(t))!=t||t===1/0?(i=t!=t?1:0,r=l):(r=lp(cp(t)/up),t*(a=sp(2,-r))<1&&(r--,a*=2),(t+=r+c>=1?u/a:u*sp(2,1-c))*a>=2&&(r++,a/=2),r+c>=l?(i=0,r=l):r+c>=1?(i=(t*a-1)*sp(2,e),r+=c):(i=t*sp(2,c-1)*sp(2,e),r=0));e>=8;)o[h++]=255&i,i/=256,e-=8;for(r=r<<e|i,s+=e;s>0;)o[h++]=255&r,r/=256,s-=8;return o[--h]|=128*d,o},unpack:function(t,e){var n,r=t.length,i=8*r-e-1,a=(1<<i)-1,o=a>>1,s=i-7,l=r-1,c=t[l--],u=127&c;for(c>>=7;s>0;)u=256*u+t[l--],s-=8;for(n=u&(1<<-s)-1,u>>=-s,s+=e;s>0;)n=256*n+t[l--],s-=8;if(0===u)u=1-o;else{if(u===a)return n?NaN:c?-1/0:1/0;n+=sp(2,e),u-=o}return(c?-1:1)*n*sp(2,u-e)}},hp=S,gp=K,fp=E,pp=jf,vp=cr,mp=xn,yp=Kf,bp=_,Ip=tp,Cp=Br,xp=Rr,Bp=ip,Ap=dp,Fp=oc,Qp=fl,wp=Ir.f,Up=en.f,Gp=td,Rp=xa,Sp=Ta,Lp=vp.PROPER,_p=vp.CONFIGURABLE,Ep=rr.get,kp=rr.set,Vp="ArrayBuffer",Zp="DataView",Np="Wrong index",Tp=hp.ArrayBuffer,Xp=Tp,Wp=Xp&&Xp.prototype,Mp=hp.DataView,Hp=Mp&&Mp.prototype,Dp=Object.prototype,Yp=hp.Array,Op=hp.RangeError,zp=gp(Gp),Jp=gp([].reverse),jp=Ap.pack,Pp=Ap.unpack,Kp=function(t){return[255&t]},qp=function(t){return[255&t,t>>8&255]},$p=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},tv=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},ev=function(t){return jp(t,23,4)},nv=function(t){return jp(t,52,8)},rv=function(t,e){Up(t.prototype,e,{get:function(){return Ep(this)[e]}})},iv=function(t,e,n,r){var i=Bp(n),a=Ep(t);if(i+e>a.byteLength)throw Op(Np);var o=Ep(a.buffer).bytes,s=i+a.byteOffset,l=Rp(o,s,s+e);return r?l:Jp(l)},av=function(t,e,n,r,i,a){var o=Bp(n),s=Ep(t);if(o+e>s.byteLength)throw Op(Np);for(var l=Ep(s.buffer).bytes,c=o+s.byteOffset,u=r(+i),d=0;d<e;d++)l[c+d]=u[a?d:e-d-1]};if(pp){var ov=Lp&&Tp.name!==Vp;if(bp((function(){Tp(1)}))&&bp((function(){new Tp(-1)}))&&!bp((function(){return new Tp,new Tp(1.5),new Tp(NaN),ov&&!_p})))ov&&_p&&mp(Tp,"name",Vp);else{Xp=function(t){return Ip(this,Wp),new Tp(Bp(t))},Xp.prototype=Wp;for(var sv,lv=wp(Tp),cv=0;lv.length>cv;)(sv=lv[cv++])in Xp||mp(Xp,sv,Tp[sv]);Wp.constructor=Xp}Qp&&Fp(Hp)!==Dp&&Qp(Hp,Dp);var uv=new Mp(new Xp(2)),dv=gp(Hp.setInt8);uv.setInt8(0,2147483648),uv.setInt8(1,2147483649),!uv.getInt8(0)&&uv.getInt8(1)||yp(Hp,{setInt8:function(t,e){dv(this,t,e<<24>>24)},setUint8:function(t,e){dv(this,t,e<<24>>24)}},{unsafe:!0})}else Xp=function(t){Ip(this,Wp);var e=Bp(t);kp(this,{bytes:zp(Yp(e),0),byteLength:e}),fp||(this.byteLength=e)},Wp=Xp.prototype,Mp=function(t,e,n){Ip(this,Hp),Ip(t,Wp);var r=Ep(t).byteLength,i=Cp(e);if(i<0||i>r)throw Op("Wrong offset");if(i+(n=void 0===n?r-i:xp(n))>r)throw Op("Wrong length");kp(this,{buffer:t,byteLength:n,byteOffset:i}),fp||(this.buffer=t,this.byteLength=n,this.byteOffset=i)},Hp=Mp.prototype,fp&&(rv(Xp,"byteLength"),rv(Mp,"buffer"),rv(Mp,"byteLength"),rv(Mp,"byteOffset")),yp(Hp,{getInt8:function(t){return iv(this,1,t)[0]<<24>>24},getUint8:function(t){return iv(this,1,t)[0]},getInt16:function(t){var e=iv(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=iv(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return tv(iv(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return tv(iv(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return Pp(iv(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return Pp(iv(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){av(this,1,t,Kp,e)},setUint8:function(t,e){av(this,1,t,Kp,e)},setInt16:function(t,e){av(this,2,t,qp,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){av(this,2,t,qp,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){av(this,4,t,$p,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){av(this,4,t,$p,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){av(this,4,t,ev,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){av(this,8,t,nv,e,arguments.length>2?arguments[2]:void 0)}});Sp(Xp,Vp),Sp(Mp,Zp);var hv={ArrayBuffer:Xp,DataView:Mp},gv=Ef,fv="ArrayBuffer",pv=hv.ArrayBuffer;Ci({global:!0,forced:S.ArrayBuffer!==pv},{ArrayBuffer:pv}),gv(fv);var vv=ln,mv=Kt,yv=S.TypeError,bv=de,Iv=Bn.exports,Cv=function(t){if(vv(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw yv("Incorrect hint");return mv(this,t)},xv=we("toPrimitive"),Bv=Date.prototype;bv(Bv,xv)||Iv(Bv,xv,Cv);var Av=gt,Fv=pt,Qv=en,wv=oc,Uv=we("hasInstance"),Gv=Function.prototype;Uv in Gv||Qv.f(Gv,Uv,{value:function(t){if(!Av(this)||!Fv(t))return!1;var e=this.prototype;if(!Fv(e))return t instanceof this;for(;t=wv(t);)if(e===t)return!0;return!1}});var Rv=E,Sv=cr.EXISTS,Lv=K,_v=en.f,Ev=Function.prototype,kv=Lv(Ev.toString),Vv=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Zv=Lv(Vv.exec);Rv&&!Sv&&_v(Ev,"name",{configurable:!0,get:function(){try{return Zv(Vv,kv(this))[1]}catch(t){return""}}}),Ci({global:!0},{globalThis:S});var Nv=Ci,Tv=bt,Xv=Qi,Wv=K,Mv=_,Hv=S.Array,Dv=Tv("JSON","stringify"),Yv=Wv(/./.exec),Ov=Wv("".charAt),zv=Wv("".charCodeAt),Jv=Wv("".replace),jv=Wv(1..toString),Pv=/[\uD800-\uDFFF]/g,Kv=/^[\uD800-\uDBFF]$/,qv=/^[\uDC00-\uDFFF]$/,$v=function(t,e,n){var r=Ov(n,e-1),i=Ov(n,e+1);return Yv(Kv,t)&&!Yv(qv,i)||Yv(qv,t)&&!Yv(Kv,r)?"\\u"+jv(zv(t,0),16):t},tm=Mv((function(){return'"\\udf06\\ud834"'!==Dv("\udf06\ud834")||'"\\udead"'!==Dv("\udead")}));Dv&&Nv({target:"JSON",stat:!0,forced:tm},{stringify:function(t,e,n){for(var r=0,i=arguments.length,a=Hv(i);r<i;r++)a[r]=arguments[r];var o=Xv(Dv,null,a);return"string"==typeof o?Jv(o,Pv,$v):o}}),Ta(S.JSON,"JSON",!0);var em={exports:{}},nm=_((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),rm=_,im=pt,am=et,om=nm,sm=Object.isExtensible,lm=rm((function(){sm(1)}))||om?function(t){return!!im(t)&&((!om||"ArrayBuffer"!=am(t))&&(!sm||sm(t)))}:sm,cm=!_((function(){return Object.isExtensible(Object.preventExtensions({}))})),um=Ci,dm=K,hm=Tn,gm=pt,fm=de,pm=en.f,vm=Ir,mm=ha,ym=lm,bm=cm,Im=!1,Cm=ve("meta"),xm=0,Bm=function(t){pm(t,Cm,{value:{objectID:"O"+xm++,weakData:{}}})},Am=em.exports={enable:function(){Am.enable=function(){},Im=!0;var t=vm.f,e=dm([].splice),n={};n[Cm]=1,t(n).length&&(vm.f=function(n){for(var r=t(n),i=0,a=r.length;i<a;i++)if(r[i]===Cm){e(r,i,1);break}return r},um({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:mm.f}))},fastKey:function(t,e){if(!gm(t))return"symbol"==o(t)?t:("string"==typeof t?"S":"P")+t;if(!fm(t,Cm)){if(!ym(t))return"F";if(!e)return"E";Bm(t)}return t[Cm].objectID},getWeakData:function(t,e){if(!fm(t,Cm)){if(!ym(t))return!0;if(!e)return!1;Bm(t)}return t[Cm].weakData},onFreeze:function(t){return bm&&Im&&ym(t)&&!fm(t,Cm)&&Bm(t),t}};hm[Cm]=!0;var Fm=Ci,Qm=S,wm=K,Um=gi,Gm=Bn.exports,Rm=em.exports,Sm=Wc,Lm=tp,_m=gt,Em=pt,km=_,Vm=Od,Zm=Ta,Nm=yl,Tm=function(t,e,n){var r=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),a=r?"set":"add",o=Qm[t],s=o&&o.prototype,l=o,c={},u=function(t){var e=wm(s[t]);Gm(s,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(i&&!Em(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return i&&!Em(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!Em(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(Um(t,!_m(o)||!(i||s.forEach&&!km((function(){(new o).entries().next()})))))l=n.getConstructor(e,t,r,a),Rm.enable();else if(Um(t,!0)){var d=new l,h=d[a](i?{}:-0,1)!=d,g=km((function(){d.has(1)})),f=Vm((function(t){new o(t)})),p=!i&&km((function(){for(var t=new o,e=5;e--;)t[a](e,e);return!t.has(-0)}));f||((l=e((function(t,e){Lm(t,s);var n=Nm(new o,t,l);return null!=e&&Sm(e,n[a],{that:n,AS_ENTRIES:r}),n}))).prototype=s,s.constructor=l),(g||p)&&(u("delete"),u("has"),r&&u("get")),(p||h)&&u(a),i&&s.clear&&delete s.clear}return c[t]=l,Fm({global:!0,forced:l!=o},c),Zm(l,t),i||n.setStrong(l,t,r),l},Xm=en.f,Wm=da,Mm=Kf,Hm=Ha,Dm=tp,Ym=Wc,Om=Mh,zm=Ef,Jm=E,jm=em.exports.fastKey,Pm=rr.set,Km=rr.getterFor,qm={getConstructor:function(t,e,n,r){var i=t((function(t,i){Dm(t,a),Pm(t,{type:e,index:Wm(null),first:void 0,last:void 0,size:0}),Jm||(t.size=0),null!=i&&Ym(i,t[r],{that:t,AS_ENTRIES:n})})),a=i.prototype,o=Km(e),s=function(t,e,n){var r,i,a=o(t),s=l(t,e);return s?s.value=n:(a.last=s={index:i=jm(e,!0),key:e,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=s),r&&(r.next=s),Jm?a.size++:t.size++,"F"!==i&&(a.index[i]=s)),t},l=function(t,e){var n,r=o(t),i=jm(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return Mm(a,{clear:function(){for(var t=o(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,Jm?t.size=0:this.size=0},delete:function(t){var e=this,n=o(e),r=l(e,t);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),Jm?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=o(this),r=Hm(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!l(this,t)}}),Mm(a,n?{get:function(t){var e=l(this,t);return e&&e.value},set:function(t,e){return s(this,0===t?0:t,e)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),Jm&&Xm(a,"size",{get:function(){return o(this).size}}),i},setStrong:function(t,e,n){var r=e+" Iterator",i=Km(e),a=Km(r);Om(t,e,(function(t,e){Pm(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=a(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),zm(e)}};Tm("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),qm);var $m=Math.log,ty=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:$m(1+t)},ey=Ci,ny=ty,ry=Math.acosh,iy=Math.log,ay=Math.sqrt,oy=Math.LN2;ey({target:"Math",stat:!0,forced:!ry||710!=Math.floor(ry(Number.MAX_VALUE))||ry(1/0)!=1/0},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?iy(t)+oy:ny(t-1+ay(t-1)*ay(t+1))}});var sy=Ci,ly=Math.asinh,cy=Math.log,uy=Math.sqrt;sy({target:"Math",stat:!0,forced:!(ly&&1/ly(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):cy(e+uy(e*e+1)):e}});var dy=Ci,hy=Math.atanh,gy=Math.log;dy({target:"Math",stat:!0,forced:!(hy&&1/hy(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:gy((1+t)/(1-t))/2}});var fy=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1},py=Ci,vy=fy,my=Math.abs,yy=Math.pow;py({target:"Math",stat:!0},{cbrt:function(t){return vy(t=+t)*yy(my(t),1/3)}});var by=Ci,Iy=Math.floor,Cy=Math.log,xy=Math.LOG2E;by({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-Iy(Cy(t+.5)*xy):32}});var By=Math.expm1,Ay=Math.exp,Fy=!By||By(10)>22025.465794806718||By(10)<22025.465794806718||-2e-17!=By(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Ay(t)-1}:By,Qy=Ci,wy=Fy,Uy=Math.cosh,Gy=Math.abs,Ry=Math.E;Qy({target:"Math",stat:!0,forced:!Uy||Uy(710)===1/0},{cosh:function(t){var e=wy(Gy(t)-1)+1;return(e+1/(e*Ry*Ry))*(Ry/2)}});var Sy=Fy;Ci({target:"Math",stat:!0,forced:Sy!=Math.expm1},{expm1:Sy});var Ly=fy,_y=Math.abs,Ey=Math.pow,ky=Ey(2,-52),Vy=Ey(2,-23),Zy=Ey(2,127)*(2-Vy),Ny=Ey(2,-126),Ty=Math.fround||function(t){var e,n,r=_y(t),i=Ly(t);return r<Ny?i*function(t){return t+1/ky-1/ky}(r/Ny/Vy)*Ny*Vy:(n=(e=(1+Vy/ky)*r)-(e-r))>Zy||n!=n?i*(1/0):i*n};Ci({target:"Math",stat:!0},{fround:Ty});var Xy=Ci,Wy=Math.hypot,My=Math.abs,Hy=Math.sqrt;Xy({target:"Math",stat:!0,forced:!!Wy&&Wy(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,i=0,a=0,o=arguments.length,s=0;a<o;)s<(n=My(arguments[a++]))?(i=i*(r=s/n)*r+1,s=n):i+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*Hy(i)}});var Dy=Ci,Yy=_,Oy=Math.imul;Dy({target:"Math",stat:!0,forced:Yy((function(){return-5!=Oy(4294967295,5)||2!=Oy.length}))},{imul:function(t,e){var n=65535,r=+t,i=+e,a=n&r,o=n&i;return 0|a*o+((n&r>>>16)*o+a*(n&i>>>16)<<16>>>0)}});var zy=Math.log,Jy=Math.LOG10E,jy=Math.log10||function(t){return zy(t)*Jy};Ci({target:"Math",stat:!0},{log10:jy}),Ci({target:"Math",stat:!0},{log1p:ty});var Py=Ci,Ky=Math.log,qy=Math.LN2;Py({target:"Math",stat:!0},{log2:function(t){return Ky(t)/qy}}),Ci({target:"Math",stat:!0},{sign:fy});var $y=Ci,tb=_,eb=Fy,nb=Math.abs,rb=Math.exp,ib=Math.E;$y({target:"Math",stat:!0,forced:tb((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(t){return nb(t=+t)<1?(eb(t)-eb(-t))/2:(rb(t-1)-rb(-t-1))*(ib/2)}});var ab=Ci,ob=Fy,sb=Math.exp;ab({target:"Math",stat:!0},{tanh:function(t){var e=ob(t=+t),n=ob(-t);return e==1/0?1:n==1/0?-1:(e-n)/(sb(t)+sb(-t))}}),Ta(Math,"Math",!0);var lb=Ci,cb=Math.ceil,ub=Math.floor;lb({target:"Math",stat:!0},{trunc:function(t){return(t>0?ub:cb)(t)}});var db=K(1..valueOf),hb="\t\n\v\f\r                　\u2028\u2029\ufeff",gb=ct,fb=Wi,pb=K("".replace),vb="[\t\n\v\f\r                　\u2028\u2029\ufeff]",mb=RegExp("^"+vb+vb+"*"),yb=RegExp(vb+vb+"*$"),bb=function(t){return function(e){var n=fb(gb(e));return 1&t&&(n=pb(n,mb,"")),2&t&&(n=pb(n,yb,"")),n}},Ib={start:bb(1),end:bb(2),trim:bb(3)},Cb=E,xb=S,Bb=K,Ab=gi,Fb=Bn.exports,Qb=de,wb=yl,Ub=It,Gb=Nt,Rb=Ve,Sb=_,Lb=Ir.f,_b=L.f,Eb=en.f,kb=db,Vb=Ib.trim,Zb="Number",Nb=xb.Number,Tb=Nb.prototype,Xb=xb.TypeError,Wb=Bb("".slice),Mb=Bb("".charCodeAt),Hb=function(t){var e=Rb(t,"number");return"bigint"==typeof e?e:Db(e)},Db=function(t){var e,n,r,i,a,o,s,l,c=Rb(t,"number");if(Gb(c))throw Xb("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=Vb(c),43===(e=Mb(c,0))||45===e){if(88===(n=Mb(c,2))||120===n)return NaN}else if(48===e){switch(Mb(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=(a=Wb(c,2)).length,s=0;s<o;s++)if((l=Mb(a,s))<48||l>i)return NaN;return parseInt(a,r)}return+c};if(Ab(Zb,!Nb(" 0o1")||!Nb("0b1")||Nb("+0x1"))){for(var Yb,Ob=function(t){var e=arguments.length<1?0:Nb(Hb(t)),n=this;return Ub(Tb,n)&&Sb((function(){kb(n)}))?wb(Object(e),n,Ob):e},zb=Cb?Lb(Nb):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Jb=0;zb.length>Jb;Jb++)Qb(Nb,Yb=zb[Jb])&&!Qb(Ob,Yb)&&Eb(Ob,Yb,_b(Nb,Yb));Ob.prototype=Tb,Tb.constructor=Ob,Fb(xb,Zb,Ob)}Ci({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)});var jb=S.isFinite;Ci({target:"Number",stat:!0},{isFinite:Number.isFinite||function(t){return"number"==typeof t&&jb(t)}});var Pb=pt,Kb=Math.floor,qb=Number.isInteger||function(t){return!Pb(t)&&isFinite(t)&&Kb(t)===t};Ci({target:"Number",stat:!0},{isInteger:qb}),Ci({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var $b=Ci,tI=qb,eI=Math.abs;$b({target:"Number",stat:!0},{isSafeInteger:function(t){return tI(t)&&eI(t)<=9007199254740991}}),Ci({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),Ci({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991});var nI=S,rI=_,iI=Wi,aI=Ib.trim,oI=K("".charAt),sI=nI.parseFloat,lI=nI.Symbol,cI=lI&&lI.iterator,uI=1/sI("\t\n\v\f\r                　\u2028\u2029\ufeff-0")!=-1/0||cI&&!rI((function(){sI(Object(cI))}))?function(t){var e=aI(iI(t)),n=sI(e);return 0===n&&"-"==oI(e,0)?-0:n}:sI,dI=uI;Ci({target:"Number",stat:!0,forced:Number.parseFloat!=dI},{parseFloat:dI});var hI=S,gI=_,fI=K,pI=Wi,vI=Ib.trim,mI=hb,yI=hI.parseInt,bI=hI.Symbol,II=bI&&bI.iterator,CI=/^[+-]?0x/i,xI=fI(CI.exec),BI=8!==yI(mI+"08")||22!==yI(mI+"0x16")||II&&!gI((function(){yI(Object(II))}))?function(t,e){var n=vI(pI(t));return yI(n,e>>>0||(xI(CI,n)?16:10))}:yI,AI=BI;Ci({target:"Number",stat:!0,forced:Number.parseInt!=AI},{parseInt:AI});var FI=Br,QI=Wi,wI=ct,UI=S.RangeError,GI=function(t){var e=QI(wI(this)),n="",r=FI(t);if(r<0||r==1/0)throw UI("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n},RI=Ci,SI=S,LI=K,_I=Br,EI=db,kI=GI,VI=jy,ZI=_,NI=SI.RangeError,TI=SI.String,XI=SI.isFinite,WI=Math.abs,MI=Math.floor,HI=Math.pow,DI=Math.round,YI=LI(1..toExponential),OI=LI(kI),zI=LI("".slice),JI="-6.9000e-11"===YI(-69e-12,4)&&"1.25e+0"===YI(1.255,2)&&"1.235e+4"===YI(12345,3)&&"3e+1"===YI(25,0),jI=ZI((function(){YI(1,1/0)}))&&ZI((function(){YI(1,-1/0)})),PI=!ZI((function(){YI(1/0,1/0)}))&&!ZI((function(){YI(NaN,1/0)}));RI({target:"Number",proto:!0,forced:!JI||!jI||!PI},{toExponential:function(t){var e=EI(this);if(void 0===t)return YI(e);var n=_I(t);if(!XI(e))return TI(e);if(n<0||n>20)throw NI("Incorrect fraction digits");if(JI)return YI(e,n);var r="",i="",a=0,o="",s="";if(e<0&&(r="-",e=-e),0===e)a=0,i=OI("0",n+1);else{var l=VI(e);a=MI(l);var c=0,u=HI(10,a-n);2*e>=(2*(c=DI(e/u))+1)*u&&(c+=1),c>=HI(10,n+1)&&(c/=10,a+=1),i=TI(c)}return 0!==n&&(i=zI(i,0,1)+"."+zI(i,1)),0===a?(o="+",s="0"):(o=a>0?"+":"-",s=TI(WI(a))),r+(i+="e"+o+s)}});var KI=Ci,qI=S,$I=K,tC=Br,eC=db,nC=GI,rC=_,iC=qI.RangeError,aC=qI.String,oC=Math.floor,sC=$I(nC),lC=$I("".slice),cC=$I(1..toFixed),uC=function t(e,n,r){return 0===n?r:n%2==1?t(e,n-1,r*e):t(e*e,n/2,r)},dC=function(t,e,n){for(var r=-1,i=n;++r<6;)i+=e*t[r],t[r]=i%1e7,i=oC(i/1e7)},hC=function(t,e){for(var n=6,r=0;--n>=0;)r+=t[n],t[n]=oC(r/e),r=r%e*1e7},gC=function(t){for(var e=6,n="";--e>=0;)if(""!==n||0===e||0!==t[e]){var r=aC(t[e]);n=""===n?r:n+sC("0",7-r.length)+r}return n};KI({target:"Number",proto:!0,forced:rC((function(){return"0.000"!==cC(8e-5,3)||"1"!==cC(.9,0)||"1.25"!==cC(1.255,2)||"1000000000000000128"!==cC(0xde0b6b3a7640080,0)}))||!rC((function(){cC({})}))},{toFixed:function(t){var e,n,r,i,a=eC(this),o=tC(t),s=[0,0,0,0,0,0],l="",c="0";if(o<0||o>20)throw iC("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return aC(a);if(a<0&&(l="-",a=-a),a>1e-21)if(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(a*uC(2,69,1))-69,n=e<0?a*uC(2,-e,1):a/uC(2,e,1),n*=4503599627370496,(e=52-e)>0){for(dC(s,0,n),r=o;r>=7;)dC(s,1e7,0),r-=7;for(dC(s,uC(10,r,1),0),r=e-1;r>=23;)hC(s,1<<23),r-=23;hC(s,1<<r),dC(s,1,1),hC(s,2),c=gC(s)}else dC(s,0,n),dC(s,1<<-e,0),c=gC(s)+sC("0",o);return c=o>0?l+((i=c.length)<=o?"0."+sC("0",o-i)+c:lC(c,0,i-o)+"."+lC(c,i-o)):l+c}});var fC=E,pC=K,vC=N,mC=_,yC=Yi,bC=zr,IC=T,CC=le,xC=st,BC=Object.assign,AC=Object.defineProperty,FC=pC([].concat),QC=!BC||mC((function(){if(fC&&1!==BC({b:1},BC(AC({},"a",{enumerable:!0,get:function(){AC(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=BC({},t)[n]||yC(BC({},e)).join("")!=r}))?function(t,e){for(var n=CC(t),r=arguments.length,i=1,a=bC.f,o=IC.f;r>i;)for(var s,l=xC(arguments[i++]),c=a?FC(yC(l),a(l)):yC(l),u=c.length,d=0;u>d;)s=c[d++],fC&&!vC(o,l,s)||(n[s]=l[s]);return n}:BC,wC=QC;Ci({target:"Object",stat:!0,forced:Object.assign!==wC},{assign:wC});var UC=S,GC=cf,RC=!_((function(){if(!(GC&&GC<535)){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete UC[t]}})),SC=Dt,LC=le,_C=en;E&&Ci({target:"Object",proto:!0,forced:RC},{__defineGetter__:function(t,e){_C.f(LC(this),t,{get:SC(e),enumerable:!0,configurable:!0})}});var EC=Ci,kC=E,VC=Mi.f;EC({target:"Object",stat:!0,forced:Object.defineProperties!==VC,sham:!kC},{defineProperties:VC});var ZC=Ci,NC=E,TC=en.f;ZC({target:"Object",stat:!0,forced:Object.defineProperty!==TC,sham:!NC},{defineProperty:TC});var XC=Dt,WC=le,MC=en;E&&Ci({target:"Object",proto:!0,forced:RC},{__defineSetter__:function(t,e){MC.f(WC(this),t,{set:XC(e),enumerable:!0,configurable:!0})}});var HC=E,DC=K,YC=Yi,OC=ht,zC=DC(T.f),JC=DC([].push),jC=function(t){return function(e){for(var n,r=OC(e),i=YC(r),a=i.length,o=0,s=[];a>o;)n=i[o++],HC&&!zC(r,n)||JC(s,t?[n,r[n]]:r[n]);return s}},PC={entries:jC(!0),values:jC(!1)},KC=PC.entries;Ci({target:"Object",stat:!0},{entries:function(t){return KC(t)}});var qC=Ci,$C=cm,tx=_,ex=pt,nx=em.exports.onFreeze,rx=Object.freeze;qC({target:"Object",stat:!0,forced:tx((function(){rx(1)})),sham:!$C},{freeze:function(t){return rx&&ex(t)?rx(nx(t)):t}});var ix=Wc,ax=va;Ci({target:"Object",stat:!0},{fromEntries:function(t){var e={};return ix(t,(function(t,n){ax(e,t,n)}),{AS_ENTRIES:!0}),e}});var ox=Ci,sx=_,lx=ht,cx=L.f,ux=E,dx=sx((function(){cx(1)}));ox({target:"Object",stat:!0,forced:!ux||dx,sham:!ux},{getOwnPropertyDescriptor:function(t,e){return cx(lx(t),e)}});var hx=$r,gx=ht,fx=L,px=va;Ci({target:"Object",stat:!0,sham:!E},{getOwnPropertyDescriptors:function(t){for(var e,n,r=gx(t),i=fx.f,a=hx(r),o={},s=0;a.length>s;)void 0!==(n=i(r,e=a[s++]))&&px(o,e,n);return o}});var vx=Ci,mx=_,yx=ha.f;vx({target:"Object",stat:!0,forced:mx((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:yx});var bx=le,Ix=oc,Cx=Kl;Ci({target:"Object",stat:!0,forced:_((function(){Ix(1)})),sham:!Cx},{getPrototypeOf:function(t){return Ix(bx(t))}}),Ci({target:"Object",stat:!0},{hasOwn:de});var xx=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};Ci({target:"Object",stat:!0},{is:xx});var Bx=lm;Ci({target:"Object",stat:!0,forced:Object.isExtensible!==Bx},{isExtensible:Bx});var Ax=Ci,Fx=_,Qx=pt,wx=et,Ux=nm,Gx=Object.isFrozen;Ax({target:"Object",stat:!0,forced:Fx((function(){Gx(1)}))||Ux},{isFrozen:function(t){return!Qx(t)||(!(!Ux||"ArrayBuffer"!=wx(t))||!!Gx&&Gx(t))}});var Rx=Ci,Sx=_,Lx=pt,_x=et,Ex=nm,kx=Object.isSealed;Rx({target:"Object",stat:!0,forced:Sx((function(){kx(1)}))||Ex},{isSealed:function(t){return!Lx(t)||(!(!Ex||"ArrayBuffer"!=_x(t))||!!kx&&kx(t))}});var Vx=le,Zx=Yi;Ci({target:"Object",stat:!0,forced:_((function(){Zx(1)}))},{keys:function(t){return Zx(Vx(t))}});var Nx=Ci,Tx=E,Xx=RC,Wx=le,Mx=Te,Hx=oc,Dx=L.f;Tx&&Nx({target:"Object",proto:!0,forced:Xx},{__lookupGetter__:function(t){var e,n=Wx(this),r=Mx(t);do{if(e=Dx(n,r))return e.get}while(n=Hx(n))}});var Yx=Ci,Ox=E,zx=RC,Jx=le,jx=Te,Px=oc,Kx=L.f;Ox&&Yx({target:"Object",proto:!0,forced:zx},{__lookupSetter__:function(t){var e,n=Jx(this),r=jx(t);do{if(e=Kx(n,r))return e.set}while(n=Px(n))}});var qx=Ci,$x=pt,tB=em.exports.onFreeze,eB=cm,nB=_,rB=Object.preventExtensions;qx({target:"Object",stat:!0,forced:nB((function(){rB(1)})),sham:!eB},{preventExtensions:function(t){return rB&&$x(t)?rB(tB(t)):t}});var iB=Ci,aB=pt,oB=em.exports.onFreeze,sB=cm,lB=_,cB=Object.seal;iB({target:"Object",stat:!0,forced:lB((function(){cB(1)})),sham:!sB},{seal:function(t){return cB&&aB(t)?cB(oB(t)):t}}),Ci({target:"Object",stat:!0},{setPrototypeOf:fl});var uB=Ni,dB=Ri?{}.toString:function(){return"[object "+uB(this)+"]"},hB=Ri,gB=Bn.exports,fB=dB;hB||gB(Object.prototype,"toString",fB,{unsafe:!0});var pB=PC.values;Ci({target:"Object",stat:!0},{values:function(t){return pB(t)}});Ci({global:!0,forced:parseFloat!=uI},{parseFloat:uI});Ci({global:!0,forced:parseInt!=BI},{parseInt:BI});var vB,mB,yB,bB,IB=S.Promise,CB=ro,xB=Xt,BB=S.TypeError,AB=function(t){if(CB(t))return t;throw BB(xB(t)+" is not a constructor")},FB=ln,QB=AB,wB=we("species"),UB=function(t,e){var n,r=FB(t).constructor;return void 0===r||null==(n=FB(r)[wB])?e:QB(n)},GB=S.TypeError,RB=function(t,e){if(t<e)throw GB("Not enough arguments");return t},SB=/(?:ipad|iphone|ipod).*applewebkit/i.test(Ct),LB=S,_B=Qi,EB=Ha,kB=gt,VB=de,ZB=_,NB=$i,TB=Ua,XB=He,WB=RB,MB=SB,HB=Sg,DB=LB.setImmediate,YB=LB.clearImmediate,OB=LB.process,zB=LB.Dispatch,JB=LB.Function,jB=LB.MessageChannel,PB=LB.String,KB=0,qB={},$B="onreadystatechange";try{vB=LB.location}catch(t){}var tA=function(t){if(VB(qB,t)){var e=qB[t];delete qB[t],e()}},eA=function(t){return function(){tA(t)}},nA=function(t){tA(t.data)},rA=function(t){LB.postMessage(PB(t),vB.protocol+"//"+vB.host)};DB&&YB||(DB=function(t){WB(arguments.length,1);var e=kB(t)?t:JB(t),n=TB(arguments,1);return qB[++KB]=function(){_B(e,void 0,n)},mB(KB),KB},YB=function(t){delete qB[t]},HB?mB=function(t){OB.nextTick(eA(t))}:zB&&zB.now?mB=function(t){zB.now(eA(t))}:jB&&!MB?(bB=(yB=new jB).port2,yB.port1.onmessage=nA,mB=EB(bB.postMessage,bB)):LB.addEventListener&&kB(LB.postMessage)&&!LB.importScripts&&vB&&"file:"!==vB.protocol&&!ZB(rA)?(mB=rA,LB.addEventListener("message",nA,!1)):mB=$B in XB("script")?function(t){NB.appendChild(XB("script")).onreadystatechange=function(){NB.removeChild(this),tA(t)}}:function(t){setTimeout(eA(t),0)});var iA,aA,oA,sA,lA,cA,uA,dA,hA={set:DB,clear:YB},gA=S,fA=/ipad|iphone|ipod/i.test(Ct)&&void 0!==gA.Pebble,pA=/web0s(?!.*chrome)/i.test(Ct),vA=S,mA=Ha,yA=L.f,bA=hA.set,IA=SB,CA=fA,xA=pA,BA=Sg,AA=vA.MutationObserver||vA.WebKitMutationObserver,FA=vA.document,QA=vA.process,wA=vA.Promise,UA=yA(vA,"queueMicrotask"),GA=UA&&UA.value;GA||(iA=function(){var t,e;for(BA&&(t=QA.domain)&&t.exit();aA;){e=aA.fn,aA=aA.next;try{e()}catch(t){throw aA?sA():oA=void 0,t}}oA=void 0,t&&t.enter()},IA||BA||xA||!AA||!FA?!CA&&wA&&wA.resolve?((uA=wA.resolve(void 0)).constructor=wA,dA=mA(uA.then,uA),sA=function(){dA(iA)}):BA?sA=function(){QA.nextTick(iA)}:(bA=mA(bA,vA),sA=function(){bA(iA)}):(lA=!0,cA=FA.createTextNode(""),new AA(iA).observe(cA,{characterData:!0}),sA=function(){cA.data=lA=!lA}));var RA=GA||function(t){var e={fn:t,next:void 0};oA&&(oA.next=e),aA||(aA=e,sA()),oA=e},SA={},LA=Dt,_A=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=LA(e),this.reject=LA(n)};SA.f=function(t){return new _A(t)};var EA=ln,kA=pt,VA=SA,ZA=function(t,e){if(EA(t),kA(e)&&e.constructor===t)return e;var n=VA.f(t);return(0,n.resolve)(e),n.promise},NA=S,TA=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},XA=function(){this.head=null,this.tail=null};XA.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var WA,MA,HA,DA,YA=XA,OA="object"==("undefined"==typeof window?"undefined":o(window)),zA=Ci,JA=S,jA=bt,PA=N,KA=IB,qA=Bn.exports,$A=Kf,tF=fl,eF=Ta,nF=Ef,rF=Dt,iF=gt,aF=pt,oF=tp,sF=Rn,lF=Wc,cF=Od,uF=UB,dF=hA.set,hF=RA,gF=ZA,fF=function(t,e){var n=NA.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))},pF=SA,vF=TA,mF=YA,yF=rr,bF=gi,IF=OA,CF=Sg,xF=Ut,BF=we("species"),AF="Promise",FF=yF.getterFor(AF),QF=yF.set,wF=yF.getterFor(AF),UF=KA&&KA.prototype,GF=KA,RF=UF,SF=JA.TypeError,LF=JA.document,_F=JA.process,EF=pF.f,kF=EF,VF=!!(LF&&LF.createEvent&&JA.dispatchEvent),ZF=iF(JA.PromiseRejectionEvent),NF="unhandledrejection",TF=!1,XF=bF(AF,(function(){var t=sF(GF),e=t!==String(GF);if(!e&&66===xF)return!0;if(xF>=51&&/native code/.test(t))return!1;var n=new GF((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[BF]=r,!(TF=n.then((function(){}))instanceof r)||!e&&IF&&!ZF})),WF=XF||!cF((function(t){GF.all(t).catch((function(){}))})),MF=function(t){var e;return!(!aF(t)||!iF(e=t.then))&&e},HF=function(t,e){var n,r,i,a=e.value,o=1==e.state,s=o?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(o||(2===e.rejection&&JF(e),e.rejection=1),!0===s?n=a:(u&&u.enter(),n=s(a),u&&(u.exit(),i=!0)),n===t.promise?c(SF("Promise-chain cycle")):(r=MF(n))?PA(r,n,l,c):l(n)):c(a)}catch(t){u&&!i&&u.exit(),c(t)}},DF=function(t,e){t.notified||(t.notified=!0,hF((function(){for(var n,r=t.reactions;n=r.get();)HF(n,t);t.notified=!1,e&&!t.rejection&&OF(t)})))},YF=function(t,e,n){var r,i;VF?((r=LF.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),JA.dispatchEvent(r)):r={promise:e,reason:n},!ZF&&(i=JA["on"+t])?i(r):t===NF&&fF("Unhandled promise rejection",n)},OF=function(t){PA(dF,JA,(function(){var e,n=t.facade,r=t.value;if(zF(t)&&(e=vF((function(){CF?_F.emit("unhandledRejection",r,n):YF(NF,n,r)})),t.rejection=CF||zF(t)?2:1,e.error))throw e.value}))},zF=function(t){return 1!==t.rejection&&!t.parent},JF=function(t){PA(dF,JA,(function(){var e=t.facade;CF?_F.emit("rejectionHandled",e):YF("rejectionhandled",e,t.value)}))},jF=function(t,e,n){return function(r){t(e,r,n)}},PF=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,DF(t,!0))},KF=function t(e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===n)throw SF("Promise can't be resolved itself");var i=MF(n);i?hF((function(){var r={done:!1};try{PA(i,n,jF(t,r,e),jF(PF,r,e))}catch(t){PF(r,t,e)}})):(e.value=n,e.state=1,DF(e,!1))}catch(t){PF({done:!1},t,e)}}};if(XF&&(RF=(GF=function(t){oF(this,RF),rF(t),PA(WA,this);var e=FF(this);try{t(jF(KF,e),jF(PF,e))}catch(t){PF(e,t)}}).prototype,(WA=function(t){QF(this,{type:AF,done:!1,notified:!1,parent:!1,reactions:new mF,rejection:!1,state:0,value:void 0})}).prototype=$A(RF,{then:function(t,e){var n=wF(this),r=EF(uF(this,GF));return n.parent=!0,r.ok=!iF(t)||t,r.fail=iF(e)&&e,r.domain=CF?_F.domain:void 0,0==n.state?n.reactions.add(r):hF((function(){HF(r,n)})),r.promise},catch:function(t){return this.then(void 0,t)}}),MA=function(){var t=new WA,e=FF(t);this.promise=t,this.resolve=jF(KF,e),this.reject=jF(PF,e)},pF.f=EF=function(t){return t===GF||t===HA?new MA(t):kF(t)},iF(KA)&&UF!==Object.prototype)){DA=UF.then,TF||(qA(UF,"then",(function(t,e){var n=this;return new GF((function(t,e){PA(DA,n,t,e)})).then(t,e)}),{unsafe:!0}),qA(UF,"catch",RF.catch,{unsafe:!0}));try{delete UF.constructor}catch(t){}tF&&tF(UF,RF)}zA({global:!0,wrap:!0,forced:XF},{Promise:GF}),eF(GF,AF,!1),nF(AF),HA=jA(AF),zA({target:AF,stat:!0,forced:XF},{reject:function(t){var e=EF(this);return PA(e.reject,void 0,t),e.promise}}),zA({target:AF,stat:!0,forced:XF},{resolve:function(t){return gF(this,t)}}),zA({target:AF,stat:!0,forced:WF},{all:function(t){var e=this,n=EF(e),r=n.resolve,i=n.reject,a=vF((function(){var n=rF(e.resolve),a=[],o=0,s=1;lF(t,(function(t){var l=o++,c=!1;s++,PA(n,e,t).then((function(t){c||(c=!0,a[l]=t,--s||r(a))}),i)})),--s||r(a)}));return a.error&&i(a.value),n.promise},race:function(t){var e=this,n=EF(e),r=n.reject,i=vF((function(){var i=rF(e.resolve);lF(t,(function(t){PA(i,e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var qF=N,$F=Dt,tQ=SA,eQ=TA,nQ=Wc;Ci({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=tQ.f(e),r=n.resolve,i=n.reject,a=eQ((function(){var n=$F(e.resolve),i=[],a=0,o=1;nQ(t,(function(t){var s=a++,l=!1;o++,qF(n,e,t).then((function(t){l||(l=!0,i[s]={status:"fulfilled",value:t},--o||r(i))}),(function(t){l||(l=!0,i[s]={status:"rejected",reason:t},--o||r(i))}))})),--o||r(i)}));return a.error&&i(a.value),n.promise}});var rQ=Dt,iQ=bt,aQ=N,oQ=SA,sQ=TA,lQ=Wc,cQ="No one promise resolved";Ci({target:"Promise",stat:!0},{any:function(t){var e=this,n=iQ("AggregateError"),r=oQ.f(e),i=r.resolve,a=r.reject,o=sQ((function(){var r=rQ(e.resolve),o=[],s=0,l=1,c=!1;lQ(t,(function(t){var u=s++,d=!1;l++,aQ(r,e,t).then((function(t){d||c||(c=!0,i(t))}),(function(t){d||c||(d=!0,o[u]=t,--l||a(new n(o,cQ)))}))})),--l||a(new n(o,cQ))}));return o.error&&a(o.value),r.promise}});var uQ=Ci,dQ=IB,hQ=_,gQ=bt,fQ=gt,pQ=UB,vQ=ZA,mQ=Bn.exports;if(uQ({target:"Promise",proto:!0,real:!0,forced:!!dQ&&hQ((function(){dQ.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=pQ(this,gQ("Promise")),n=fQ(t);return this.then(n?function(n){return vQ(e,t()).then((function(){return n}))}:t,n?function(n){return vQ(e,t()).then((function(){throw n}))}:t)}}),fQ(dQ)){var yQ=gQ("Promise").prototype.finally;dQ.prototype.finally!==yQ&&mQ(dQ.prototype,"finally",yQ,{unsafe:!0})}var bQ=Qi,IQ=Dt,CQ=ln;Ci({target:"Reflect",stat:!0,forced:!_((function(){Reflect.apply((function(){}))}))},{apply:function(t,e,n){return bQ(IQ(t),e,CQ(n))}});var xQ=K,BQ=Dt,AQ=pt,FQ=de,QQ=Ua,wQ=k,UQ=S.Function,GQ=xQ([].concat),RQ=xQ([].join),SQ={},LQ=function(t,e,n){if(!FQ(SQ,e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";SQ[e]=UQ("C,a","return new C("+RQ(r,",")+")")}return SQ[e](t,n)},_Q=wQ?UQ.bind:function(t){var e=BQ(this),n=e.prototype,r=QQ(arguments,1),i=function(){var n=GQ(r,QQ(arguments));return this instanceof i?LQ(e,n.length,n):e.apply(t,n)};return AQ(n)&&(i.prototype=n),i},EQ=Ci,kQ=Qi,VQ=_Q,ZQ=AB,NQ=ln,TQ=pt,XQ=da,WQ=_,MQ=bt("Reflect","construct"),HQ=Object.prototype,DQ=[].push,YQ=WQ((function(){function t(){}return!(MQ((function(){}),[],t)instanceof t)})),OQ=!WQ((function(){MQ((function(){}))})),zQ=YQ||OQ;EQ({target:"Reflect",stat:!0,forced:zQ,sham:zQ},{construct:function(t,e){ZQ(t),NQ(e);var n=arguments.length<3?t:ZQ(arguments[2]);if(OQ&&!YQ)return MQ(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return kQ(DQ,r,e),new(kQ(VQ,t,r))}var i=n.prototype,a=XQ(TQ(i)?i:HQ),o=kQ(t,a,e);return TQ(o)?o:a}});var JQ=E,jQ=ln,PQ=Te,KQ=en;Ci({target:"Reflect",stat:!0,forced:_((function(){Reflect.defineProperty(KQ.f({},1,{value:1}),1,{value:2})})),sham:!JQ},{defineProperty:function(t,e,n){jQ(t);var r=PQ(e);jQ(n);try{return KQ.f(t,r,n),!0}catch(t){return!1}}});var qQ=Ci,$Q=ln,tw=L.f;qQ({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=tw($Q(t),e);return!(n&&!n.configurable)&&delete t[e]}});var ew=de,nw=function(t){return void 0!==t&&(ew(t,"value")||ew(t,"writable"))},rw=N,iw=pt,aw=ln,ow=nw,sw=L,lw=oc;Ci({target:"Reflect",stat:!0},{get:function t(e,n){var r,i,a=arguments.length<3?e:arguments[2];return aw(e)===a?e[n]:(r=sw.f(e,n))?ow(r)?r.value:void 0===r.get?void 0:rw(r.get,a):iw(i=lw(e))?t(i,n,a):void 0}});var cw=ln,uw=L;Ci({target:"Reflect",stat:!0,sham:!E},{getOwnPropertyDescriptor:function(t,e){return uw.f(cw(t),e)}});var dw=ln,hw=oc;Ci({target:"Reflect",stat:!0,sham:!Kl},{getPrototypeOf:function(t){return hw(dw(t))}}),Ci({target:"Reflect",stat:!0},{has:function(t,e){return e in t}});var gw=ln,fw=lm;Ci({target:"Reflect",stat:!0},{isExtensible:function(t){return gw(t),fw(t)}}),Ci({target:"Reflect",stat:!0},{ownKeys:$r});var pw=bt,vw=ln;Ci({target:"Reflect",stat:!0,sham:!cm},{preventExtensions:function(t){vw(t);try{var e=pw("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}});var mw=Ci,yw=N,bw=ln,Iw=pt,Cw=nw,xw=en,Bw=L,Aw=oc,Fw=Y;var Qw=_((function(){var t=function(){},e=xw.f(new t,"a",{configurable:!0});return!1!==Reflect.set(t.prototype,"a",1,e)}));mw({target:"Reflect",stat:!0,forced:Qw},{set:function t(e,n,r){var i,a,o,s=arguments.length<4?e:arguments[3],l=Bw.f(bw(e),n);if(!l){if(Iw(a=Aw(e)))return t(a,n,r,s);l=Fw(0)}if(Cw(l)){if(!1===l.writable||!Iw(s))return!1;if(i=Bw.f(s,n)){if(i.get||i.set||!1===i.writable)return!1;i.value=r,xw.f(s,n,i)}else xw.f(s,n,Fw(0,r))}else{if(void 0===(o=l.set))return!1;yw(o,s,r)}return!0}});var ww=ln,Uw=cl,Gw=fl;Gw&&Ci({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){ww(t),Uw(e);try{return Gw(t,e),!0}catch(t){return!1}}});var Rw=S,Sw=Ta;Ci({global:!0},{Reflect:{}}),Sw(Rw.Reflect,"Reflect",!0);var Lw=pt,_w=et,Ew=we("match"),kw=function(t){var e;return Lw(t)&&(void 0!==(e=t[Ew])?!!e:"RegExp"==_w(t))},Vw=ln,Zw=function(){var t=Vw(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},Nw=_,Tw=S.RegExp,Xw=Nw((function(){var t=Tw("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),Ww=Xw||Nw((function(){return!Tw("a","y").sticky})),Mw=Xw||Nw((function(){var t=Tw("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),Hw={BROKEN_CARET:Mw,MISSED_STICKY:Ww,UNSUPPORTED_Y:Xw},Dw=_,Yw=S.RegExp,Ow=Dw((function(){var t=Yw(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),zw=_,Jw=S.RegExp,jw=zw((function(){var t=Jw("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),Pw=E,Kw=S,qw=K,$w=gi,tU=yl,eU=xn,nU=en.f,rU=Ir.f,iU=It,aU=kw,oU=Wi,sU=Zw,lU=Hw,cU=Bn.exports,uU=_,dU=de,hU=rr.enforce,gU=Ef,fU=Ow,pU=jw,vU=we("match"),mU=Kw.RegExp,yU=mU.prototype,bU=Kw.SyntaxError,IU=qw(sU),CU=qw(yU.exec),xU=qw("".charAt),BU=qw("".replace),AU=qw("".indexOf),FU=qw("".slice),QU=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,wU=/a/g,UU=/a/g,GU=new mU(wU)!==wU,RU=lU.MISSED_STICKY,SU=lU.UNSUPPORTED_Y,LU=Pw&&(!GU||RU||fU||pU||uU((function(){return UU[vU]=!1,mU(wU)!=wU||mU(UU)==UU||"/a/i"!=mU(wU,"i")})));if($w("RegExp",LU)){for(var _U=function(t,e){var n,r,i,a,o,s,l=iU(yU,this),c=aU(t),u=void 0===e,d=[],h=t;if(!l&&c&&u&&t.constructor===_U)return t;if((c||iU(yU,t))&&(t=t.source,u&&(e="flags"in h?h.flags:IU(h))),t=void 0===t?"":oU(t),e=void 0===e?"":oU(e),h=t,fU&&"dotAll"in wU&&(r=!!e&&AU(e,"s")>-1)&&(e=BU(e,/s/g,"")),n=e,RU&&"sticky"in wU&&(i=!!e&&AU(e,"y")>-1)&&SU&&(e=BU(e,/y/g,"")),pU&&(a=function(t){for(var e,n=t.length,r=0,i="",a=[],o={},s=!1,l=!1,c=0,u="";r<=n;r++){if("\\"===(e=xU(t,r)))e+=xU(t,++r);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:CU(QU,FU(t,r+1))&&(r+=2,l=!0),i+=e,c++;continue;case">"===e&&l:if(""===u||dU(o,u))throw new bU("Invalid capture group name");o[u]=!0,a[a.length]=[u,c],l=!1,u="";continue}l?u+=e:i+=e}return[i,a]}(t),t=a[0],d=a[1]),o=tU(mU(t,e),l?this:yU,_U),(r||i||d.length)&&(s=hU(o),r&&(s.dotAll=!0,s.raw=_U(function(t){for(var e,n=t.length,r=0,i="",a=!1;r<=n;r++)"\\"!==(e=xU(t,r))?a||"."!==e?("["===e?a=!0:"]"===e&&(a=!1),i+=e):i+="[\\s\\S]":i+=e+xU(t,++r);return i}(t),n)),i&&(s.sticky=!0),d.length&&(s.groups=d)),t!==h)try{eU(o,"source",""===h?"(?:)":h)}catch(t){}return o},EU=function(t){t in _U||nU(_U,t,{configurable:!0,get:function(){return mU[t]},set:function(e){mU[t]=e}})},kU=rU(mU),VU=0;kU.length>VU;)EU(kU[VU++]);yU.constructor=_U,_U.prototype=yU,cU(Kw,"RegExp",_U)}gU("RegExp");var ZU=S,NU=E,TU=Ow,XU=et,WU=en.f,MU=rr.get,HU=RegExp.prototype,DU=ZU.TypeError;NU&&TU&&WU(HU,"dotAll",{configurable:!0,get:function(){if(this!==HU){if("RegExp"===XU(this))return!!MU(this).dotAll;throw DU("Incompatible receiver, RegExp required")}}});var YU=N,OU=K,zU=Wi,JU=Zw,jU=Hw,PU=qt.exports,KU=da,qU=rr.get,$U=Ow,tG=jw,eG=PU("native-string-replace",String.prototype.replace),nG=RegExp.prototype.exec,rG=nG,iG=OU("".charAt),aG=OU("".indexOf),oG=OU("".replace),sG=OU("".slice),lG=function(){var t=/a/,e=/b*/g;return YU(nG,t,"a"),YU(nG,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),cG=jU.BROKEN_CARET,uG=void 0!==/()??/.exec("")[1];(lG||uG||cG||$U||tG)&&(rG=function(t){var e,n,r,i,a,o,s,l=this,c=qU(l),u=zU(t),d=c.raw;if(d)return d.lastIndex=l.lastIndex,e=YU(rG,d,u),l.lastIndex=d.lastIndex,e;var h=c.groups,g=cG&&l.sticky,f=YU(JU,l),p=l.source,v=0,m=u;if(g&&(f=oG(f,"y",""),-1===aG(f,"g")&&(f+="g"),m=sG(u,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==iG(u,l.lastIndex-1))&&(p="(?: "+p+")",m=" "+m,v++),n=new RegExp("^(?:"+p+")",f)),uG&&(n=new RegExp("^"+p+"$(?!\\s)",f)),lG&&(r=l.lastIndex),i=YU(nG,g?n:l,m),g?i?(i.input=sG(i.input,v),i[0]=sG(i[0],v),i.index=l.lastIndex,l.lastIndex+=i[0].length):l.lastIndex=0:lG&&i&&(l.lastIndex=l.global?i.index+i[0].length:r),uG&&i&&i.length>1&&YU(eG,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&h)for(i.groups=o=KU(null),a=0;a<h.length;a++)o[(s=h[a])[0]]=i[s[1]];return i});var dG=rG;Ci({target:"RegExp",proto:!0,forced:/./.exec!==dG},{exec:dG});var hG=E,gG=en,fG=Zw,pG=_,vG=RegExp.prototype;hG&&pG((function(){return"sy"!==Object.getOwnPropertyDescriptor(vG,"flags").get.call({dotAll:!0,sticky:!0})}))&&gG.f(vG,"flags",{configurable:!0,get:fG});var mG=S,yG=E,bG=Hw.MISSED_STICKY,IG=et,CG=en.f,xG=rr.get,BG=RegExp.prototype,AG=mG.TypeError;yG&&bG&&CG(BG,"sticky",{configurable:!0,get:function(){if(this!==BG){if("RegExp"===IG(this))return!!xG(this).sticky;throw AG("Incompatible receiver, RegExp required")}}});var FG=Ci,QG=S,wG=N,UG=K,GG=gt,RG=pt,SG=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),LG=QG.Error,_G=UG(/./.test);FG({target:"RegExp",proto:!0,forced:!SG},{test:function(t){var e=this.exec;if(!GG(e))return _G(this,t);var n=wG(e,this,t);if(null!==n&&!RG(n))throw new LG("RegExp exec method returned something other than an Object or null");return!!n}});var EG=K,kG=cr.PROPER,VG=Bn.exports,ZG=ln,NG=It,TG=Wi,XG=_,WG=Zw,MG="toString",HG=RegExp.prototype,DG=HG.toString,YG=EG(WG),OG=XG((function(){return"/a/b"!=DG.call({source:"a",flags:"b"})})),zG=kG&&DG.name!=MG;(OG||zG)&&VG(RegExp.prototype,MG,(function(){var t=ZG(this),e=TG(t.source),n=t.flags;return"/"+e+"/"+TG(void 0===n&&NG(HG,t)&&!("flags"in HG)?YG(t):n)}),{unsafe:!0}),Tm("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),qm);var JG=Ci,jG=ct,PG=Br,KG=Wi,qG=_,$G=K("".charAt);JG({target:"String",proto:!0,forced:qG((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(t){var e=KG(jG(this)),n=e.length,r=PG(t),i=r>=0?r:n+r;return i<0||i>=n?void 0:$G(e,i)}});var tR=K,eR=Br,nR=Wi,rR=ct,iR=tR("".charAt),aR=tR("".charCodeAt),oR=tR("".slice),sR=function(t){return function(e,n){var r,i,a=nR(rR(e)),o=eR(n),s=a.length;return o<0||o>=s?t?"":void 0:(r=aR(a,o))<55296||r>56319||o+1===s||(i=aR(a,o+1))<56320||i>57343?t?iR(a,o):r:t?oR(a,o,o+2):i-56320+(r-55296<<10)+65536}},lR={codeAt:sR(!1),charAt:sR(!0)},cR=lR.codeAt;Ci({target:"String",proto:!0},{codePointAt:function(t){return cR(this,t)}});var uR=kw,dR=S.TypeError,hR=function(t){if(uR(t))throw dR("The method doesn't accept regular expressions");return t},gR=we("match"),fR=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[gR]=!1,"/./"[t](e)}catch(t){}}return!1},pR=Ci,vR=K,mR=L.f,yR=Rr,bR=Wi,IR=hR,CR=ct,xR=fR,BR=vR("".endsWith),AR=vR("".slice),FR=Math.min,QR=xR("endsWith"),wR=!QR&&!!function(){var t=mR(String.prototype,"endsWith");return t&&!t.writable}();pR({target:"String",proto:!0,forced:!wR&&!QR},{endsWith:function(t){var e=bR(CR(this));IR(t);var n=arguments.length>1?arguments[1]:void 0,r=e.length,i=void 0===n?r:FR(yR(n),r),a=bR(t);return BR?BR(e,a,i):AR(e,i-a.length,i)===a}});var UR=Ci,GR=K,RR=wr,SR=S.RangeError,LR=String.fromCharCode,_R=String.fromCodePoint,ER=GR([].join);UR({target:"String",stat:!0,forced:!!_R&&1!=_R.length},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,i=0;r>i;){if(e=+arguments[i++],RR(e,1114111)!==e)throw SR(e+" is not a valid code point");n[i]=e<65536?LR(e):LR(55296+((e-=65536)>>10),e%1024+56320)}return ER(n,"")}});var kR=Ci,VR=hR,ZR=ct,NR=Wi,TR=fR,XR=K("".indexOf);kR({target:"String",proto:!0,forced:!TR("includes")},{includes:function(t){return!!~XR(NR(ZR(this)),NR(VR(t)),arguments.length>1?arguments[1]:void 0)}});var WR=lR.charAt,MR=Wi,HR=rr,DR=Mh,YR="String Iterator",OR=HR.set,zR=HR.getterFor(YR);DR(String,"String",(function(t){OR(this,{type:YR,string:MR(t),index:0})}),(function(){var t,e=zR(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=WR(n,r),e.index+=t.length,{value:t,done:!1})}));var JR=K,jR=Bn.exports,PR=dG,KR=_,qR=we,$R=xn,tS=qR("species"),eS=RegExp.prototype,nS=function(t,e,n,r){var i=qR(t),a=!KR((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),o=a&&!KR((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[tS]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return e=!0,null},n[i](""),!e}));if(!a||!o||n){var s=JR(/./[i]),l=e(i,""[t],(function(t,e,n,r,i){var o=JR(t),l=e.exec;return l===PR||l===eS.exec?a&&!i?{done:!0,value:s(e,n,r)}:{done:!0,value:o(n,e,r)}:{done:!1}}));jR(String.prototype,t,l[0]),jR(eS,i,l[1])}r&&$R(eS[i],"sham",!0)},rS=lR.charAt,iS=function(t,e,n){return e+(n?rS(t,e).length:1)},aS=N,oS=ln,sS=gt,lS=et,cS=dG,uS=S.TypeError,dS=function(t,e){var n=t.exec;if(sS(n)){var r=aS(n,t,e);return null!==r&&oS(r),r}if("RegExp"===lS(t))return aS(cS,t,e);throw uS("RegExp#exec called on incompatible receiver")},hS=N,gS=ln,fS=Rr,pS=Wi,vS=ct,mS=Ot,yS=iS,bS=dS;nS("match",(function(t,e,n){return[function(e){var n=vS(this),r=null==e?void 0:mS(e,t);return r?hS(r,e,n):new RegExp(e)[t](pS(n))},function(t){var r=gS(this),i=pS(t),a=n(e,r,i);if(a.done)return a.value;if(!r.global)return bS(r,i);var o=r.unicode;r.lastIndex=0;for(var s,l=[],c=0;null!==(s=bS(r,i));){var u=pS(s[0]);l[c]=u,""===u&&(r.lastIndex=yS(i,fS(r.lastIndex),o)),c++}return 0===c?null:l}]}));var IS=Ci,CS=S,xS=N,BS=K,AS=Ch,FS=ct,QS=Rr,wS=Wi,US=ln,GS=It,RS=kw,SS=Zw,LS=Ot,_S=Bn.exports,ES=_,kS=UB,VS=iS,ZS=dS,NS=rr,TS=we("matchAll"),XS="RegExp String",WS="RegExp String Iterator",MS=NS.set,HS=NS.getterFor(WS),DS=RegExp.prototype,YS=CS.TypeError,OS=BS(SS),zS=BS("".indexOf),JS=BS("".matchAll),jS=!!JS&&!ES((function(){JS("a",/./)})),PS=AS((function(t,e,n,r){MS(this,{type:WS,regexp:t,string:e,global:n,unicode:r,done:!1})}),XS,(function(){var t=HS(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,r=ZS(e,n);return null===r?{value:void 0,done:t.done=!0}:t.global?(""===wS(r[0])&&(e.lastIndex=VS(n,QS(e.lastIndex),t.unicode)),{value:r,done:!1}):(t.done=!0,{value:r,done:!1})})),KS=function(t){var e,n,r,i,a,o,s=US(this),l=wS(t);return e=kS(s,RegExp),void 0===(n=s.flags)&&GS(DS,s)&&!("flags"in DS)&&(n=OS(s)),r=void 0===n?"":wS(n),i=new e(e===RegExp?s.source:s,r),a=!!~zS(r,"g"),o=!!~zS(r,"u"),i.lastIndex=QS(s.lastIndex),new PS(i,l,a,o)};IS({target:"String",proto:!0,forced:jS},{matchAll:function(t){var e,n,r,i=FS(this);if(null!=t){if(RS(t)&&(e=wS(FS("flags"in DS?t.flags:OS(t))),!~zS(e,"g")))throw YS("`.matchAll` does not allow non-global regexes");if(jS)return JS(i,t);if(r=LS(t,TS))return xS(r,t,i)}else if(jS)return JS(i,t);return n=wS(i),new RegExp(t,"g")[TS](n)}}),TS in DS||_S(DS,TS,KS);var qS=K,$S=Rr,tL=Wi,eL=ct,nL=qS(GI),rL=qS("".slice),iL=Math.ceil,aL=function(t){return function(e,n,r){var i,a,o=tL(eL(e)),s=$S(n),l=o.length,c=void 0===r?" ":tL(r);return s<=l||""==c?o:((a=nL(c,iL((i=s-l)/c.length))).length>i&&(a=rL(a,0,i)),t?o+a:a+o)}},oL={start:aL(!1),end:aL(!0)},sL=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(Ct),lL=oL.end;Ci({target:"String",proto:!0,forced:sL},{padEnd:function(t){return lL(this,t,arguments.length>1?arguments[1]:void 0)}});var cL=oL.start;Ci({target:"String",proto:!0,forced:sL},{padStart:function(t){return cL(this,t,arguments.length>1?arguments[1]:void 0)}});var uL=Ci,dL=K,hL=ht,gL=le,fL=Wi,pL=Lr,vL=dL([].push),mL=dL([].join);uL({target:"String",stat:!0},{raw:function(t){for(var e=hL(gL(t).raw),n=pL(e),r=arguments.length,i=[],a=0;n>a;){if(vL(i,fL(e[a++])),a===n)return mL(i,"");a<r&&vL(i,fL(arguments[a]))}}}),Ci({target:"String",proto:!0},{repeat:GI});var yL=K,bL=le,IL=Math.floor,CL=yL("".charAt),xL=yL("".replace),BL=yL("".slice),AL=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,FL=/\$([$&'`]|\d{1,2})/g,QL=function(t,e,n,r,i,a){var o=n+t.length,s=r.length,l=FL;return void 0!==i&&(i=bL(i),l=AL),xL(a,l,(function(a,l){var c;switch(CL(l,0)){case"$":return"$";case"&":return t;case"`":return BL(e,0,n);case"'":return BL(e,o);case"<":c=i[BL(l,1,-1)];break;default:var u=+l;if(0===u)return a;if(u>s){var d=IL(u/10);return 0===d?a:d<=s?void 0===r[d-1]?CL(l,1):r[d-1]+CL(l,1):a}c=r[u-1]}return void 0===c?"":c}))},wL=Qi,UL=N,GL=K,RL=nS,SL=_,LL=ln,_L=gt,EL=Br,kL=Rr,VL=Wi,ZL=ct,NL=iS,TL=Ot,XL=QL,WL=dS,ML=we("replace"),HL=Math.max,DL=Math.min,YL=GL([].concat),OL=GL([].push),zL=GL("".indexOf),JL=GL("".slice),jL="$0"==="a".replace(/./,"$0"),PL=!!/./[ML]&&""===/./[ML]("a","$0"),KL=!SL((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));RL("replace",(function(t,e,n){var r=PL?"$":"$0";return[function(t,n){var r=ZL(this),i=null==t?void 0:TL(t,ML);return i?UL(i,t,r,n):UL(e,VL(r),t,n)},function(t,i){var a=LL(this),o=VL(t);if("string"==typeof i&&-1===zL(i,r)&&-1===zL(i,"$<")){var s=n(e,a,o,i);if(s.done)return s.value}var l=_L(i);l||(i=VL(i));var c=a.global;if(c){var u=a.unicode;a.lastIndex=0}for(var d=[];;){var h=WL(a,o);if(null===h)break;if(OL(d,h),!c)break;""===VL(h[0])&&(a.lastIndex=NL(o,kL(a.lastIndex),u))}for(var g,f="",p=0,v=0;v<d.length;v++){for(var m=VL((h=d[v])[0]),y=HL(DL(EL(h.index),o.length),0),b=[],I=1;I<h.length;I++)OL(b,void 0===(g=h[I])?g:String(g));var C=h.groups;if(l){var x=YL([m],b,y,o);void 0!==C&&OL(x,C);var B=VL(wL(i,void 0,x))}else B=XL(m,o,y,b,C,i);y>=p&&(f+=JL(o,p,y)+B,p=y+m.length)}return f+JL(o,p)}]}),!KL||!jL||PL);var qL=Ci,$L=S,t_=N,e_=K,n_=ct,r_=gt,i_=kw,a_=Wi,o_=Ot,s_=Zw,l_=QL,c_=we("replace"),u_=RegExp.prototype,d_=$L.TypeError,h_=e_(s_),g_=e_("".indexOf);e_("".replace);var f_=e_("".slice),p_=Math.max,v_=function(t,e,n){return n>t.length?-1:""===e?n:g_(t,e,n)};qL({target:"String",proto:!0},{replaceAll:function(t,e){var n,r,i,a,o,s,l,c,u=n_(this),d=0,h=0,g="";if(null!=t){if(i_(t)&&(n=a_(n_("flags"in u_?t.flags:h_(t))),!~g_(n,"g")))throw d_("`.replaceAll` does not allow non-global regexes");if(r=o_(t,c_))return t_(r,t,u,e)}for(i=a_(u),a=a_(t),(o=r_(e))||(e=a_(e)),s=a.length,l=p_(1,s),d=v_(i,a,0);-1!==d;)c=o?a_(e(a,d,i)):l_(a,i,d,[],void 0,e),g+=f_(i,h,d)+c,h=d+s,d=v_(i,a,d+l);return h<i.length&&(g+=f_(i,h)),g}});var m_=N,y_=ln,b_=ct,I_=xx,C_=Wi,x_=Ot,B_=dS;nS("search",(function(t,e,n){return[function(e){var n=b_(this),r=null==e?void 0:x_(e,t);return r?m_(r,e,n):new RegExp(e)[t](C_(n))},function(t){var r=y_(this),i=C_(t),a=n(e,r,i);if(a.done)return a.value;var o=r.lastIndex;I_(o,0)||(r.lastIndex=0);var s=B_(r,i);return I_(r.lastIndex,o)||(r.lastIndex=o),null===s?-1:s.index}]}));var A_=Qi,F_=N,Q_=K,w_=nS,U_=kw,G_=ln,R_=ct,S_=UB,L_=iS,__=Rr,E_=Wi,k_=Ot,V_=xa,Z_=dS,N_=dG,T_=_,X_=Hw.UNSUPPORTED_Y,W_=4294967295,M_=Math.min,H_=[].push,D_=Q_(/./.exec),Y_=Q_(H_),O_=Q_("".slice),z_=!T_((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));w_("split",(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=E_(R_(this)),i=void 0===n?W_:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!U_(t))return F_(e,r,t,i);for(var a,o,s,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,d=new RegExp(t.source,c+"g");(a=F_(N_,d,r))&&!((o=d.lastIndex)>u&&(Y_(l,O_(r,u,a.index)),a.length>1&&a.index<r.length&&A_(H_,l,V_(a,1)),s=a[0].length,u=o,l.length>=i));)d.lastIndex===a.index&&d.lastIndex++;return u===r.length?!s&&D_(d,"")||Y_(l,""):Y_(l,O_(r,u)),l.length>i?V_(l,0,i):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:F_(e,this,t,n)}:e,[function(e,n){var i=R_(this),a=null==e?void 0:k_(e,t);return a?F_(a,e,i,n):F_(r,E_(i),e,n)},function(t,i){var a=G_(this),o=E_(t),s=n(r,a,o,i,r!==e);if(s.done)return s.value;var l=S_(a,RegExp),c=a.unicode,u=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(X_?"g":"y"),d=new l(X_?"^(?:"+a.source+")":a,u),h=void 0===i?W_:i>>>0;if(0===h)return[];if(0===o.length)return null===Z_(d,o)?[o]:[];for(var g=0,f=0,p=[];f<o.length;){d.lastIndex=X_?0:f;var v,m=Z_(d,X_?O_(o,f):o);if(null===m||(v=M_(__(d.lastIndex+(X_?f:0)),o.length))===g)f=L_(o,f,c);else{if(Y_(p,O_(o,g,f)),p.length===h)return p;for(var y=1;y<=m.length-1;y++)if(Y_(p,m[y]),p.length===h)return p;f=g=v}}return Y_(p,O_(o,g)),p}]}),!z_,X_);var J_=Ci,j_=K,P_=L.f,K_=Rr,q_=Wi,$_=hR,tE=ct,eE=fR,nE=j_("".startsWith),rE=j_("".slice),iE=Math.min,aE=eE("startsWith"),oE=!aE&&!!function(){var t=P_(String.prototype,"startsWith");return t&&!t.writable}();J_({target:"String",proto:!0,forced:!oE&&!aE},{startsWith:function(t){var e=q_(tE(this));$_(t);var n=K_(iE(arguments.length>1?arguments[1]:void 0,e.length)),r=q_(t);return nE?nE(e,r,n):rE(e,n,n+r.length)===r}});var sE=cr.PROPER,lE=_,cE=hb,uE=function(t){return lE((function(){return!!cE[t]()||"​᠎"!=="​᠎"[t]()||sE&&cE[t].name!==t}))},dE=Ib.trim;Ci({target:"String",proto:!0,forced:uE("trim")},{trim:function(){return dE(this)}});var hE=Ci,gE=Ib.end,fE=uE("trimEnd"),pE=fE?function(){return gE(this)}:"".trimEnd;hE({target:"String",proto:!0,name:"trimEnd",forced:fE},{trimEnd:pE,trimRight:pE});var vE=Ci,mE=Ib.start,yE=uE("trimStart"),bE=yE?function(){return mE(this)}:"".trimStart;vE({target:"String",proto:!0,name:"trimStart",forced:yE},{trimStart:bE,trimLeft:bE});var IE=ct,CE=Wi,xE=/"/g,BE=K("".replace),AE=function(t,e,n,r){var i=CE(IE(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+BE(CE(r),xE,"&quot;")+'"'),a+">"+i+"</"+e+">"},FE=_,QE=function(t){return FE((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))},wE=AE;Ci({target:"String",proto:!0,forced:QE("anchor")},{anchor:function(t){return wE(this,"a","name",t)}});var UE=AE;Ci({target:"String",proto:!0,forced:QE("big")},{big:function(){return UE(this,"big","","")}});var GE=AE;Ci({target:"String",proto:!0,forced:QE("blink")},{blink:function(){return GE(this,"blink","","")}});var RE=AE;Ci({target:"String",proto:!0,forced:QE("bold")},{bold:function(){return RE(this,"b","","")}});var SE=AE;Ci({target:"String",proto:!0,forced:QE("fixed")},{fixed:function(){return SE(this,"tt","","")}});var LE=AE;Ci({target:"String",proto:!0,forced:QE("fontcolor")},{fontcolor:function(t){return LE(this,"font","color",t)}});var _E=AE;Ci({target:"String",proto:!0,forced:QE("fontsize")},{fontsize:function(t){return _E(this,"font","size",t)}});var EE=AE;Ci({target:"String",proto:!0,forced:QE("italics")},{italics:function(){return EE(this,"i","","")}});var kE=AE;Ci({target:"String",proto:!0,forced:QE("link")},{link:function(t){return kE(this,"a","href",t)}});var VE=AE;Ci({target:"String",proto:!0,forced:QE("small")},{small:function(){return VE(this,"small","","")}});var ZE=AE;Ci({target:"String",proto:!0,forced:QE("strike")},{strike:function(){return ZE(this,"strike","","")}});var NE=AE;Ci({target:"String",proto:!0,forced:QE("sub")},{sub:function(){return NE(this,"sub","","")}});var TE=AE;Ci({target:"String",proto:!0,forced:QE("sup")},{sup:function(){return TE(this,"sup","","")}});var XE,WE,ME,HE={exports:{}},DE=jf,YE=E,OE=S,zE=gt,JE=pt,jE=de,PE=Ni,KE=Xt,qE=xn,$E=Bn.exports,tk=en.f,ek=It,nk=oc,rk=fl,ik=we,ak=ve,ok=OE.Int8Array,sk=ok&&ok.prototype,lk=OE.Uint8ClampedArray,ck=lk&&lk.prototype,uk=ok&&nk(ok),dk=sk&&nk(sk),hk=Object.prototype,gk=OE.TypeError,fk=ik("toStringTag"),pk=ak("TYPED_ARRAY_TAG"),vk=ak("TYPED_ARRAY_CONSTRUCTOR"),mk=DE&&!!rk&&"Opera"!==PE(OE.opera),yk=!1,bk={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Ik={BigInt64Array:8,BigUint64Array:8},Ck=function(t){if(!JE(t))return!1;var e=PE(t);return jE(bk,e)||jE(Ik,e)};for(XE in bk)(ME=(WE=OE[XE])&&WE.prototype)?qE(ME,vk,WE):mk=!1;for(XE in Ik)(ME=(WE=OE[XE])&&WE.prototype)&&qE(ME,vk,WE);if((!mk||!zE(uk)||uk===Function.prototype)&&(uk=function(){throw gk("Incorrect invocation")},mk))for(XE in bk)OE[XE]&&rk(OE[XE],uk);if((!mk||!dk||dk===hk)&&(dk=uk.prototype,mk))for(XE in bk)OE[XE]&&rk(OE[XE].prototype,dk);if(mk&&nk(ck)!==dk&&rk(ck,dk),YE&&!jE(dk,fk))for(XE in yk=!0,tk(dk,fk,{get:function(){return JE(this)?this[pk]:void 0}}),bk)OE[XE]&&qE(OE[XE],pk,XE);var xk={NATIVE_ARRAY_BUFFER_VIEWS:mk,TYPED_ARRAY_CONSTRUCTOR:vk,TYPED_ARRAY_TAG:yk&&pk,aTypedArray:function(t){if(Ck(t))return t;throw gk("Target is not a typed array")},aTypedArrayConstructor:function(t){if(zE(t)&&(!rk||ek(uk,t)))return t;throw gk(KE(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n,r){if(YE){if(n)for(var i in bk){var a=OE[i];if(a&&jE(a.prototype,t))try{delete a.prototype[t]}catch(n){try{a.prototype[t]=e}catch(t){}}}dk[t]&&!n||$E(dk,t,n?e:mk&&sk[t]||e,r)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(YE){if(rk){if(n)for(r in bk)if((i=OE[r])&&jE(i,t))try{delete i[t]}catch(t){}if(uk[t]&&!n)return;try{return $E(uk,t,n?e:mk&&uk[t]||e)}catch(t){}}for(r in bk)!(i=OE[r])||i[t]&&!n||$E(i,t,e)}},isView:function(t){if(!JE(t))return!1;var e=PE(t);return"DataView"===e||jE(bk,e)||jE(Ik,e)},isTypedArray:Ck,TypedArray:uk,TypedArrayPrototype:dk},Bk=S,Ak=_,Fk=Od,Qk=xk.NATIVE_ARRAY_BUFFER_VIEWS,wk=Bk.ArrayBuffer,Uk=Bk.Int8Array,Gk=!Qk||!Ak((function(){Uk(1)}))||!Ak((function(){new Uk(-1)}))||!Fk((function(t){new Uk,new Uk(null),new Uk(1.5),new Uk(t)}),!0)||Ak((function(){return 1!==new Uk(new wk(2),1,void 0).length})),Rk=Br,Sk=S.RangeError,Lk=function(t){var e=Rk(t);if(e<0)throw Sk("The argument can't be less than 0");return e},_k=S.RangeError,Ek=function(t,e){var n=Lk(t);if(n%e)throw _k("Wrong offset");return n},kk=Ha,Vk=N,Zk=AB,Nk=le,Tk=Lr,Xk=Bc,Wk=vc,Mk=dc,Hk=xk.aTypedArrayConstructor,Dk=function(t){var e,n,r,i,a,o,s=Zk(this),l=Nk(t),c=arguments.length,u=c>1?arguments[1]:void 0,d=void 0!==u,h=Wk(l);if(h&&!Mk(h))for(o=(a=Xk(l,h)).next,l=[];!(i=Vk(o,a)).done;)l.push(i.value);for(d&&c>2&&(u=kk(u,arguments[2])),n=Tk(l),r=new(Hk(s))(n),e=0;n>e;e++)r[e]=d?u(l[e],e):l[e];return r},Yk=Ci,Ok=S,zk=N,Jk=E,jk=Gk,Pk=xk,Kk=hv,qk=tp,$k=Y,tV=xn,eV=qb,nV=Rr,rV=ip,iV=Ek,aV=Te,oV=de,sV=Ni,lV=pt,cV=Nt,uV=da,dV=It,hV=fl,gV=Ir.f,fV=Dk,pV=Io.forEach,vV=Ef,mV=en,yV=L,bV=yl,IV=rr.get,CV=rr.set,xV=mV.f,BV=yV.f,AV=Math.round,FV=Ok.RangeError,QV=Kk.ArrayBuffer,wV=QV.prototype,UV=Kk.DataView,GV=Pk.NATIVE_ARRAY_BUFFER_VIEWS,RV=Pk.TYPED_ARRAY_CONSTRUCTOR,SV=Pk.TYPED_ARRAY_TAG,LV=Pk.TypedArray,_V=Pk.TypedArrayPrototype,EV=Pk.aTypedArrayConstructor,kV=Pk.isTypedArray,VV="BYTES_PER_ELEMENT",ZV="Wrong length",NV=function(t,e){EV(t);for(var n=0,r=e.length,i=new t(r);r>n;)i[n]=e[n++];return i},TV=function(t,e){xV(t,e,{get:function(){return IV(this)[e]}})},XV=function(t){var e;return dV(wV,t)||"ArrayBuffer"==(e=sV(t))||"SharedArrayBuffer"==e},WV=function(t,e){return kV(t)&&!cV(e)&&e in t&&eV(+e)&&e>=0},MV=function(t,e){return e=aV(e),WV(t,e)?$k(2,t[e]):BV(t,e)},HV=function(t,e,n){return e=aV(e),!(WV(t,e)&&lV(n)&&oV(n,"value"))||oV(n,"get")||oV(n,"set")||n.configurable||oV(n,"writable")&&!n.writable||oV(n,"enumerable")&&!n.enumerable?xV(t,e,n):(t[e]=n.value,t)};Jk?(GV||(yV.f=MV,mV.f=HV,TV(_V,"buffer"),TV(_V,"byteOffset"),TV(_V,"byteLength"),TV(_V,"length")),Yk({target:"Object",stat:!0,forced:!GV},{getOwnPropertyDescriptor:MV,defineProperty:HV}),HE.exports=function(t,e,n){var r=t.match(/\d+$/)[0]/8,i=t+(n?"Clamped":"")+"Array",a="get"+t,o="set"+t,s=Ok[i],l=s,c=l&&l.prototype,u={},d=function(t,e){xV(t,e,{get:function(){return function(t,e){var n=IV(t);return n.view[a](e*r+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,i){var a=IV(t);n&&(i=(i=AV(i))<0?0:i>255?255:255&i),a.view[o](e*r+a.byteOffset,i,!0)}(this,e,t)},enumerable:!0})};GV?jk&&(l=e((function(t,e,n,i){return qk(t,c),bV(lV(e)?XV(e)?void 0!==i?new s(e,iV(n,r),i):void 0!==n?new s(e,iV(n,r)):new s(e):kV(e)?NV(l,e):zk(fV,l,e):new s(rV(e)),t,l)})),hV&&hV(l,LV),pV(gV(s),(function(t){t in l||tV(l,t,s[t])})),l.prototype=c):(l=e((function(t,e,n,i){qk(t,c);var a,o,s,u=0,h=0;if(lV(e)){if(!XV(e))return kV(e)?NV(l,e):zk(fV,l,e);a=e,h=iV(n,r);var g=e.byteLength;if(void 0===i){if(g%r)throw FV(ZV);if((o=g-h)<0)throw FV(ZV)}else if((o=nV(i)*r)+h>g)throw FV(ZV);s=o/r}else s=rV(e),a=new QV(o=s*r);for(CV(t,{buffer:a,byteOffset:h,byteLength:o,length:s,view:new UV(a)});u<s;)d(t,u++)})),hV&&hV(l,LV),c=l.prototype=uV(_V)),c.constructor!==l&&tV(c,"constructor",l),tV(c,RV,l),SV&&tV(c,SV,i),u[i]=l,Yk({global:!0,forced:l!=s,sham:!GV},u),VV in l||tV(l,VV,r),VV in c||tV(c,VV,r),vV(i)}):HE.exports=function(){},(0,HE.exports)("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}})),(0,HE.exports)("Float64",(function(t){return function(e,n,r){return t(this,e,n,r)}})),(0,HE.exports)("Int8",(function(t){return function(e,n,r){return t(this,e,n,r)}})),(0,HE.exports)("Int16",(function(t){return function(e,n,r){return t(this,e,n,r)}})),(0,HE.exports)("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}})),(0,HE.exports)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}})),(0,HE.exports)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0),(0,HE.exports)("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}})),(0,HE.exports)("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}}));var DV=Lr,YV=Br,OV=xk.aTypedArray;(0,xk.exportTypedArrayMethod)("at",(function(t){var e=OV(this),n=DV(e),r=YV(t),i=r>=0?r:n+r;return i<0||i>=n?void 0:e[i]}));var zV=xk,JV=K(ju),jV=zV.aTypedArray;(0,zV.exportTypedArrayMethod)("copyWithin",(function(t,e){return JV(jV(this),t,e,arguments.length>2?arguments[2]:void 0)}));var PV=Io.every,KV=xk.aTypedArray;(0,xk.exportTypedArrayMethod)("every",(function(t){return PV(KV(this),t,arguments.length>1?arguments[1]:void 0)}));var qV=N,$V=td,tZ=xk.aTypedArray;(0,xk.exportTypedArrayMethod)("fill",(function(t){var e=arguments.length;return qV($V,tZ(this),t,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}));var eZ=Lr,nZ=UB,rZ=xk.TYPED_ARRAY_CONSTRUCTOR,iZ=xk.aTypedArrayConstructor,aZ=function(t){return iZ(nZ(t,t[rZ]))},oZ=function(t,e){for(var n=0,r=eZ(e),i=new t(r);r>n;)i[n]=e[n++];return i},sZ=aZ,lZ=Io.filter,cZ=function(t,e){return oZ(sZ(t),e)},uZ=xk.aTypedArray;(0,xk.exportTypedArrayMethod)("filter",(function(t){var e=lZ(uZ(this),t,arguments.length>1?arguments[1]:void 0);return cZ(this,e)}));var dZ=Io.find,hZ=xk.aTypedArray;(0,xk.exportTypedArrayMethod)("find",(function(t){return dZ(hZ(this),t,arguments.length>1?arguments[1]:void 0)}));var gZ=Io.findIndex,fZ=xk.aTypedArray;(0,xk.exportTypedArrayMethod)("findIndex",(function(t){return gZ(fZ(this),t,arguments.length>1?arguments[1]:void 0)}));var pZ=Io.forEach,vZ=xk.aTypedArray;(0,xk.exportTypedArrayMethod)("forEach",(function(t){pZ(vZ(this),t,arguments.length>1?arguments[1]:void 0)})),(0,xk.exportTypedArrayStaticMethod)("from",Dk,Gk);var mZ=Zr.includes,yZ=xk.aTypedArray;(0,xk.exportTypedArrayMethod)("includes",(function(t){return mZ(yZ(this),t,arguments.length>1?arguments[1]:void 0)}));var bZ=Zr.indexOf,IZ=xk.aTypedArray;(0,xk.exportTypedArrayMethod)("indexOf",(function(t){return bZ(IZ(this),t,arguments.length>1?arguments[1]:void 0)}));var CZ=S,xZ=_,BZ=K,AZ=xk,FZ=$h,QZ=we("iterator"),wZ=CZ.Uint8Array,UZ=BZ(FZ.values),GZ=BZ(FZ.keys),RZ=BZ(FZ.entries),SZ=AZ.aTypedArray,LZ=AZ.exportTypedArrayMethod,_Z=wZ&&wZ.prototype,EZ=!xZ((function(){_Z[QZ].call([1])})),kZ=!!_Z&&_Z.values&&_Z[QZ]===_Z.values&&"values"===_Z.values.name,VZ=function(){return UZ(SZ(this))};LZ("entries",(function(){return RZ(SZ(this))}),EZ),LZ("keys",(function(){return GZ(SZ(this))}),EZ),LZ("values",VZ,EZ||!kZ,{name:"values"}),LZ(QZ,VZ,EZ||!kZ,{name:"values"});var ZZ=xk.aTypedArray,NZ=xk.exportTypedArrayMethod,TZ=K([].join);NZ("join",(function(t){return TZ(ZZ(this),t)}));var XZ=Qi,WZ=mg,MZ=xk.aTypedArray;(0,xk.exportTypedArrayMethod)("lastIndexOf",(function(t){var e=arguments.length;return XZ(WZ,MZ(this),e>1?[t,arguments[1]]:[t])}));var HZ=Io.map,DZ=aZ,YZ=xk.aTypedArray;(0,xk.exportTypedArrayMethod)("map",(function(t){return HZ(YZ(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(DZ(t))(e)}))}));var OZ=xk.aTypedArrayConstructor;(0,xk.exportTypedArrayStaticMethod)("of",(function(){for(var t=0,e=arguments.length,n=new(OZ(this))(e);e>t;)n[t]=arguments[t++];return n}),Gk);var zZ=Rg.left,JZ=xk.aTypedArray;(0,xk.exportTypedArrayMethod)("reduce",(function(t){var e=arguments.length;return zZ(JZ(this),t,e,e>1?arguments[1]:void 0)}));var jZ=Rg.right,PZ=xk.aTypedArray;(0,xk.exportTypedArrayMethod)("reduceRight",(function(t){var e=arguments.length;return jZ(PZ(this),t,e,e>1?arguments[1]:void 0)}));var KZ=xk.aTypedArray,qZ=xk.exportTypedArrayMethod,$Z=Math.floor;qZ("reverse",(function(){for(var t,e=this,n=KZ(e).length,r=$Z(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e}));var tN=S,eN=N,nN=xk,rN=Lr,iN=Ek,aN=le,oN=_,sN=tN.RangeError,lN=tN.Int8Array,cN=lN&&lN.prototype,uN=cN&&cN.set,dN=nN.aTypedArray,hN=nN.exportTypedArrayMethod,gN=!oN((function(){var t=new Uint8ClampedArray(2);return eN(uN,t,{length:1,0:3},1),3!==t[1]})),fN=gN&&nN.NATIVE_ARRAY_BUFFER_VIEWS&&oN((function(){var t=new lN(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));hN("set",(function(t){dN(this);var e=iN(arguments.length>1?arguments[1]:void 0,1),n=aN(t);if(gN)return eN(uN,this,n,e);var r=this.length,i=rN(n),a=0;if(i+e>r)throw sN("Wrong length");for(;a<i;)this[e+a]=n[a++]}),!gN||fN);var pN=aZ,vN=Ua,mN=xk.aTypedArray;(0,xk.exportTypedArrayMethod)("slice",(function(t,e){for(var n=vN(mN(this),t,e),r=pN(this),i=0,a=n.length,o=new r(a);a>i;)o[i]=n[i++];return o}),_((function(){new Int8Array(1).slice()})));var yN=Io.some,bN=xk.aTypedArray;(0,xk.exportTypedArrayMethod)("some",(function(t){return yN(bN(this),t,arguments.length>1?arguments[1]:void 0)}));var IN=S,CN=K,xN=_,BN=Dt,AN=rf,FN=xk,QN=of,wN=sf,UN=Ut,GN=cf,RN=IN.Array,SN=FN.aTypedArray,LN=FN.exportTypedArrayMethod,_N=IN.Uint16Array,EN=_N&&CN(_N.prototype.sort),kN=!(!EN||xN((function(){EN(new _N(2),null)}))&&xN((function(){EN(new _N(2),{})}))),VN=!!EN&&!xN((function(){if(UN)return UN<74;if(QN)return QN<67;if(wN)return!0;if(GN)return GN<602;var t,e,n=new _N(516),r=RN(516);for(t=0;t<516;t++)e=t%4,n[t]=515-t,r[t]=t-2*e+3;for(EN(n,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(n[t]!==r[t])return!0}));LN("sort",(function(t){return void 0!==t&&BN(t),VN?EN(this,t):AN(SN(this),function(t){return function(e,n){return void 0!==t?+t(e,n)||0:n!=n?-1:e!=e?1:0===e&&0===n?1/e>0&&1/n<0?1:-1:e>n}}(t))}),!VN||kN);var ZN=Rr,NN=wr,TN=aZ,XN=xk.aTypedArray;(0,xk.exportTypedArrayMethod)("subarray",(function(t,e){var n=XN(this),r=n.length,i=NN(t,r);return new(TN(n))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,ZN((void 0===e?r:NN(e,r))-i))}));var WN=Qi,MN=xk,HN=_,DN=Ua,YN=S.Int8Array,ON=MN.aTypedArray,zN=MN.exportTypedArrayMethod,JN=[].toLocaleString,jN=!!YN&&HN((function(){JN.call(new YN(1))}));zN("toLocaleString",(function(){return WN(JN,jN?DN(ON(this)):ON(this),DN(arguments))}),HN((function(){return[1,2].toLocaleString()!=new YN([1,2]).toLocaleString()}))||!HN((function(){YN.prototype.toLocaleString.call([1,2])})));var PN=xk.exportTypedArrayMethod,KN=_,qN=K,$N=S.Uint8Array,tT=$N&&$N.prototype||{},eT=[].toString,nT=qN([].join);KN((function(){eT.call({})}))&&(eT=function(){return nT(this)});var rT=tT.toString!=eT;PN("toString",eT,rT);var iT=K,aT=Kf,oT=em.exports.getWeakData,sT=ln,lT=pt,cT=tp,uT=Wc,dT=de,hT=rr.set,gT=rr.getterFor,fT=Io.find,pT=Io.findIndex,vT=iT([].splice),mT=0,yT=function(t){return t.frozen||(t.frozen=new bT)},bT=function(){this.entries=[]},IT=function(t,e){return fT(t.entries,(function(t){return t[0]===e}))};bT.prototype={get:function(t){var e=IT(this,t);if(e)return e[1]},has:function(t){return!!IT(this,t)},set:function(t,e){var n=IT(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=pT(this.entries,(function(e){return e[0]===t}));return~e&&vT(this.entries,e,1),!!~e}};var CT,xT={getConstructor:function(t,e,n,r){var i=t((function(t,i){cT(t,a),hT(t,{type:e,id:mT++,frozen:void 0}),null!=i&&uT(i,t[r],{that:t,AS_ENTRIES:n})})),a=i.prototype,o=gT(e),s=function(t,e,n){var r=o(t),i=oT(sT(e),!0);return!0===i?yT(r).set(e,n):i[r.id]=n,t};return aT(a,{delete:function(t){var e=o(this);if(!lT(t))return!1;var n=oT(t);return!0===n?yT(e).delete(t):n&&dT(n,e.id)&&delete n[e.id]},has:function(t){var e=o(this);if(!lT(t))return!1;var n=oT(t);return!0===n?yT(e).has(t):n&&dT(n,e.id)}}),aT(a,n?{get:function(t){var e=o(this);if(lT(t)){var n=oT(t);return!0===n?yT(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return s(this,t,e)}}:{add:function(t){return s(this,t,!0)}}),i}},BT=S,AT=K,FT=Kf,QT=em.exports,wT=Tm,UT=xT,GT=pt,RT=lm,ST=rr.enforce,LT=En,_T=!BT.ActiveXObject&&"ActiveXObject"in BT,ET=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},kT=wT("WeakMap",ET,UT);if(LT&&_T){CT=UT.getConstructor(ET,"WeakMap",!0),QT.enable();var VT=kT.prototype,ZT=AT(VT.delete),NT=AT(VT.has),TT=AT(VT.get),XT=AT(VT.set);FT(VT,{delete:function(t){if(GT(t)&&!RT(t)){var e=ST(this);return e.frozen||(e.frozen=new CT),ZT(this,t)||e.frozen.delete(t)}return ZT(this,t)},has:function(t){if(GT(t)&&!RT(t)){var e=ST(this);return e.frozen||(e.frozen=new CT),NT(this,t)||e.frozen.has(t)}return NT(this,t)},get:function(t){if(GT(t)&&!RT(t)){var e=ST(this);return e.frozen||(e.frozen=new CT),NT(this,t)?TT(this,t):e.frozen.get(t)}return TT(this,t)},set:function(t,e){if(GT(t)&&!RT(t)){var n=ST(this);n.frozen||(n.frozen=new CT),NT(this,t)?XT(this,t,e):n.frozen.set(t,e)}else XT(this,t,e);return this}})}Tm("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),xT);var WT={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},MT=He("span").classList,HT=MT&&MT.constructor&&MT.constructor.prototype,DT=HT===Object.prototype?void 0:HT,YT=Io.forEach,OT=Kd("forEach")?[].forEach:function(t){return YT(this,t,arguments.length>1?arguments[1]:void 0)},zT=S,JT=WT,jT=DT,PT=OT,KT=xn,qT=function(t){if(t&&t.forEach!==PT)try{KT(t,"forEach",PT)}catch(e){t.forEach=PT}};for(var $T in JT)JT[$T]&&qT(zT[$T]&&zT[$T].prototype);qT(jT);var tX=S,eX=WT,nX=DT,rX=$h,iX=xn,aX=we,oX=aX("iterator"),sX=aX("toStringTag"),lX=rX.values,cX=function(t,e){if(t){if(t[oX]!==lX)try{iX(t,oX,lX)}catch(e){t[oX]=lX}if(t[sX]||iX(t,sX,e),eX[e])for(var n in rX)if(t[n]!==rX[n])try{iX(t,n,rX[n])}catch(e){t[n]=rX[n]}}};for(var uX in eX)cX(tX[uX]&&tX[uX].prototype,uX);cX(nX,"DOMTokenList");var dX=Sg,hX=E,gX=_,fX=ln,pX=da,vX=Il,mX=Error.prototype.toString,yX=gX((function(){if(hX){var t=pX(Object.defineProperty({},"name",{get:function(){return this===t}}));if("true"!==mX.call(t))return!0}return"2: 1"!==mX.call({message:1,name:2})||"Error"!==mX.call({})})),bX=yX?function(){var t=fX(this),e=vX(t.name,"Error"),n=vX(t.message);return e?n?e+": "+n:e:n}:mX,IX={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}},CX=Ci,xX=function(t){try{if(dX)return Function('return require("'+t+'")')()}catch(t){}},BX=bt,AX=_,FX=da,QX=Y,wX=en.f,UX=Mi.f,GX=Bn.exports,RX=de,SX=tp,LX=ln,_X=bX,EX=Il,kX=IX,VX=Ul,ZX=rr,NX=E,TX="DOMException",XX="DATA_CLONE_ERR",WX=BX("Error"),MX=BX(TX)||function(){try{(new(BX("MessageChannel")||xX("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(t){if(t.name==XX&&25==t.code)return t.constructor}}(),HX=MX&&MX.prototype,DX=WX.prototype,YX=ZX.set,OX=ZX.getterFor(TX),zX="stack"in WX(TX),JX=function(t){return RX(kX,t)&&kX[t].m?kX[t].c:0},jX=function(){SX(this,PX);var t=arguments.length,e=EX(t<1?void 0:arguments[0]),n=EX(t<2?void 0:arguments[1],"Error"),r=JX(n);if(YX(this,{type:TX,name:n,message:e,code:r}),NX||(this.name=n,this.message=e,this.code=r),zX){var i=WX(e);i.name=TX,wX(this,"stack",QX(1,VX(i.stack,1)))}},PX=jX.prototype=FX(DX),KX=function(t){return{enumerable:!0,configurable:!0,get:t}},qX=function(t){return KX((function(){return OX(this)[t]}))};NX&&UX(PX,{name:qX("name"),message:qX("message"),code:qX("code")}),wX(PX,"constructor",QX(1,jX));var $X=AX((function(){return!(new MX instanceof WX)})),tW=$X||AX((function(){return DX.toString!==_X||"2: 1"!==String(new MX(1,2))})),eW=$X||AX((function(){return 25!==new MX(1,"DataCloneError").code}));$X||25!==MX.DATA_CLONE_ERR||HX.DATA_CLONE_ERR;CX({global:!0,forced:$X},{DOMException:$X?jX:MX});var nW=BX(TX),rW=nW.prototype;for(var iW in tW&&MX===nW&&GX(rW,"toString",_X),eW&&NX&&MX===nW&&wX(rW,"code",KX((function(){return JX(LX(this).name)}))),kX)if(RX(kX,iW)){var aW=kX[iW],oW=aW.s,sW=QX(6,aW.c);RX(nW,oW)||wX(nW,oW,sW),RX(rW,oW)||wX(rW,oW,sW)}var lW=Ci,cW=bt,uW=Y,dW=en.f,hW=de,gW=tp,fW=yl,pW=Il,vW=IX,mW=Ul,yW="DOMException",bW=cW("Error"),IW=cW(yW),CW=function(){gW(this,xW);var t=arguments.length,e=pW(t<1?void 0:arguments[0]),n=pW(t<2?void 0:arguments[1],"Error"),r=new IW(e,n),i=bW(e);return i.name=yW,dW(r,"stack",uW(1,mW(i.stack,1))),fW(r,this,CW),r},xW=CW.prototype=IW.prototype,BW="stack"in bW(yW),AW="stack"in new IW(1,2),FW=BW&&!AW;lW({global:!0,forced:FW},{DOMException:FW?CW:IW});var QW=cW(yW),wW=QW.prototype;if(wW.constructor!==QW)for(var UW in dW(wW,"constructor",uW(1,QW)),vW)if(hW(vW,UW)){var GW=vW[UW],RW=GW.s;hW(QW,RW)||dW(QW,RW,uW(6,GW.c))}var SW="DOMException";Ta(bt(SW),SW);var LW=S,_W=hA;Ci({global:!0,bind:!0,enumerable:!0,forced:!LW.setImmediate||!LW.clearImmediate},{setImmediate:_W.set,clearImmediate:_W.clear});var EW=Ci,kW=RA,VW=Dt,ZW=RB,NW=Sg,TW=S.process;EW({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){ZW(arguments.length,1),VW(t);var e=NW&&TW.domain;kW(e?e.bind(t):t)}});var XW,WW=Ci,MW=S,HW=bt,DW=K,YW=_,OW=ve,zW=gt,JW=ro,jW=pt,PW=Nt,KW=Wc,qW=ln,$W=Ni,tM=de,eM=va,nM=xn,rM=Lr,iM=RB,aM=Zw,oM=Rl,sM=MW.Object,lM=MW.Date,cM=MW.Error,uM=MW.EvalError,dM=MW.RangeError,hM=MW.ReferenceError,gM=MW.SyntaxError,fM=MW.TypeError,pM=MW.URIError,vM=MW.PerformanceMark,mM=MW.WebAssembly,yM=mM&&mM.CompileError||cM,bM=mM&&mM.LinkError||cM,IM=mM&&mM.RuntimeError||cM,CM=HW("DOMException"),xM=HW("Set"),BM=HW("Map"),AM=BM.prototype,FM=DW(AM.has),QM=DW(AM.get),wM=DW(AM.set),UM=DW(xM.prototype.add),GM=HW("Object","keys"),RM=DW([].push),SM=DW((!0).valueOf),LM=DW(1..valueOf),_M=DW("".valueOf),EM=DW(aM),kM=DW(lM.prototype.getTime),VM=OW("structuredClone"),ZM="DataCloneError",NM="Transferring",TM=function(t){return!YW((function(){var e=new MW.Set([7]),n=t(e),r=t(sM(7));return n==e||!n.has(7)||"object"!=o(r)||7!=r}))&&t},XM=MW.structuredClone,WM=(XW=XM,!(!YW((function(){var t=XW(new MW.AggregateError([1],VM,{cause:3}));return"AggregateError"!=t.name||1!=t.errors[0]||t.message!=VM||3!=t.cause}))&&XW)),MM=!XM&&TM((function(t){return new vM(VM,{detail:t}).detail})),HM=TM(XM)||MM,DM=function(t){throw new CM("Uncloneable type: "+t,ZM)},YM=function(t,e){throw new CM((e||"Cloning")+" of "+t+" cannot be properly polyfilled in this engine",ZM)},OM=function t(e,n){if(PW(e)&&DM("Symbol"),!jW(e))return e;if(n){if(FM(n,e))return QM(n,e)}else n=new BM;var r,i,a,o,s,l,c,u,d,h,g=$W(e),f=!1;switch(g){case"Array":a=[],f=!0;break;case"Object":a={},f=!0;break;case"Map":a=new BM,f=!0;break;case"Set":a=new xM,f=!0;break;case"RegExp":a=new RegExp(e.source,"flags"in e?e.flags:EM(e));break;case"Error":switch(i=e.name){case"AggregateError":a=HW("AggregateError")([]);break;case"EvalError":a=uM();break;case"RangeError":a=dM();break;case"ReferenceError":a=hM();break;case"SyntaxError":a=gM();break;case"TypeError":a=fM();break;case"URIError":a=pM();break;case"CompileError":a=yM();break;case"LinkError":a=bM();break;case"RuntimeError":a=IM();break;default:a=cM()}f=!0;break;case"DOMException":a=new CM(e.message,e.name),f=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":r=MW[g],jW(r)||YM(g),a=new r(t(e.buffer,n),e.byteOffset,"DataView"===g?e.byteLength:e.length);break;case"DOMQuad":try{a=new DOMQuad(t(e.p1,n),t(e.p2,n),t(e.p3,n),t(e.p4,n))}catch(t){HM?a=HM(e):YM(g)}break;case"FileList":if(r=MW.DataTransfer,JW(r)){for(o=new r,s=0,l=rM(e);s<l;s++)o.items.add(t(e[s],n));a=o.files}else HM?a=HM(e):YM(g);break;case"ImageData":try{a=new ImageData(t(e.data,n),e.width,e.height,{colorSpace:e.colorSpace})}catch(t){HM?a=HM(e):YM(g)}break;default:if(HM)a=HM(e);else switch(g){case"BigInt":a=sM(e.valueOf());break;case"Boolean":a=sM(SM(e));break;case"Number":a=sM(LM(e));break;case"String":a=sM(_M(e));break;case"Date":a=new lM(kM(e));break;case"ArrayBuffer":(r=MW.DataView)||"function"==typeof e.slice||YM(g);try{if("function"==typeof e.slice)a=e.slice(0);else for(l=e.byteLength,a=new ArrayBuffer(l),d=new r(e),h=new r(a),s=0;s<l;s++)h.setUint8(s,d.getUint8(s))}catch(t){throw new CM("ArrayBuffer is detached",ZM)}break;case"SharedArrayBuffer":a=e;break;case"Blob":try{a=e.slice(0,e.size,e.type)}catch(t){YM(g)}break;case"DOMPoint":case"DOMPointReadOnly":r=MW[g];try{a=r.fromPoint?r.fromPoint(e):new r(e.x,e.y,e.z,e.w)}catch(t){YM(g)}break;case"DOMRect":case"DOMRectReadOnly":r=MW[g];try{a=r.fromRect?r.fromRect(e):new r(e.x,e.y,e.width,e.height)}catch(t){YM(g)}break;case"DOMMatrix":case"DOMMatrixReadOnly":r=MW[g];try{a=r.fromMatrix?r.fromMatrix(e):new r(e)}catch(t){YM(g)}break;case"AudioData":case"VideoFrame":zW(e.clone)||YM(g);try{a=e.clone()}catch(t){DM(g)}break;case"File":try{a=new File([e],e.name,e)}catch(t){YM(g)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":YM(g);default:DM(g)}}if(wM(n,e,a),f)switch(g){case"Array":case"Object":for(c=GM(e),s=0,l=rM(c);s<l;s++)u=c[s],eM(a,u,t(e[u],n));break;case"Map":e.forEach((function(e,r){wM(a,t(r,n),t(e,n))}));break;case"Set":e.forEach((function(e){UM(a,t(e,n))}));break;case"Error":nM(a,"message",t(e.message,n)),tM(e,"cause")&&nM(a,"cause",t(e.cause,n)),"AggregateError"==i&&(a.errors=t(e.errors,n));case"DOMException":oM&&nM(a,"stack",t(e.stack,n))}return a},zM=XM&&!YW((function(){var t=new ArrayBuffer(8),e=XM(t,{transfer:[t]});return 0!=t.byteLength||8!=e.byteLength})),JM=function(t,e){if(!jW(t))throw fM("Transfer option cannot be converted to a sequence");var n=[];KW(t,(function(t){RM(n,qW(t))}));var r,i,a,o,s,l,c=0,u=rM(n);if(zM)for(o=XM(n,{transfer:n});c<u;)wM(e,n[c],o[c++]);else for(;c<u;){if(r=n[c++],FM(e,r))throw new CM("Duplicate transferable",ZM);switch(i=$W(r)){case"ImageBitmap":a=MW.OffscreenCanvas,JW(a)||YM(i,NM);try{(l=new a(r.width,r.height)).getContext("bitmaprenderer").transferFromImageBitmap(r),s=l.transferToImageBitmap()}catch(t){}break;case"AudioData":case"VideoFrame":zW(r.clone)&&zW(r.close)||YM(i,NM);try{s=r.clone(),r.close()}catch(t){}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":YM(i,NM)}if(void 0===s)throw new CM("This object cannot be transferred: "+i,ZM);wM(e,r,s)}};WW({global:!0,enumerable:!0,sham:!zM,forced:WM},{structuredClone:function(t){var e,n=iM(arguments.length,1)>1?qW(arguments[1]):void 0,r=n?n.transfer:void 0;return void 0!==r&&(e=new BM,JM(r,e)),OM(t,e)}});var jM=_,PM=we("iterator"),KM=!jM((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[PM]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),qM=K,$M=2147483647,tH=/[^\0-\u007E]/,eH=/[.\u3002\uFF0E\uFF61]/g,nH="Overflow: input needs wider integers to process",rH=S.RangeError,iH=qM(eH.exec),aH=Math.floor,oH=String.fromCharCode,sH=qM("".charCodeAt),lH=qM([].join),cH=qM([].push),uH=qM("".replace),dH=qM("".split),hH=qM("".toLowerCase),gH=function(t){return t+22+75*(t<26)},fH=function(t,e,n){var r=0;for(t=n?aH(t/700):t>>1,t+=aH(t/e);t>455;)t=aH(t/35),r+=36;return aH(r+36*t/(t+38))},pH=function(t){var e=[];t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=sH(t,n++);if(i>=55296&&i<=56319&&n<r){var a=sH(t,n++);56320==(64512&a)?cH(e,((1023&i)<<10)+(1023&a)+65536):(cH(e,i),n--)}else cH(e,i)}return e}(t);var n,r,i=t.length,a=128,o=0,s=72;for(n=0;n<t.length;n++)(r=t[n])<128&&cH(e,oH(r));var l=e.length,c=l;for(l&&cH(e,"-");c<i;){var u=$M;for(n=0;n<t.length;n++)(r=t[n])>=a&&r<u&&(u=r);var d=c+1;if(u-a>aH(($M-o)/d))throw rH(nH);for(o+=(u-a)*d,a=u,n=0;n<t.length;n++){if((r=t[n])<a&&++o>$M)throw rH(nH);if(r==a){for(var h=o,g=36;;){var f=g<=s?1:g>=s+26?26:g-s;if(h<f)break;var p=h-f,v=36-f;cH(e,oH(gH(f+p%v))),h=aH(p/v),g+=36}cH(e,oH(gH(h))),s=fH(o,d,c==l),o=0,c++}}o++,a++}return lH(e,"")},vH=Ci,mH=S,yH=bt,bH=N,IH=K,CH=KM,xH=Bn.exports,BH=Kf,AH=Ta,FH=Ch,QH=rr,wH=tp,UH=gt,GH=de,RH=Ha,SH=Ni,LH=ln,_H=pt,EH=Wi,kH=da,VH=Y,ZH=Bc,NH=vc,TH=RB,XH=rf,WH=we("iterator"),MH="URLSearchParams",HH="URLSearchParamsIterator",DH=QH.set,YH=QH.getterFor(MH),OH=QH.getterFor(HH),zH=yH("fetch"),JH=yH("Request"),jH=yH("Headers"),PH=JH&&JH.prototype,KH=jH&&jH.prototype,qH=mH.RegExp,$H=mH.TypeError,tD=mH.decodeURIComponent,eD=mH.encodeURIComponent,nD=IH("".charAt),rD=IH([].join),iD=IH([].push),aD=IH("".replace),oD=IH([].shift),sD=IH([].splice),lD=IH("".split),cD=IH("".slice),uD=/\+/g,dD=Array(4),hD=function(t){return dD[t-1]||(dD[t-1]=qH("((?:%[\\da-f]{2}){"+t+"})","gi"))},gD=function(t){try{return tD(t)}catch(e){return t}},fD=function(t){var e=aD(t,uD," "),n=4;try{return tD(e)}catch(t){for(;n;)e=aD(e,hD(n--),gD);return e}},pD=/[!'()~]|%20/g,vD={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},mD=function(t){return vD[t]},yD=function(t){return aD(eD(t),pD,mD)},bD=FH((function(t,e){DH(this,{type:HH,iterator:ZH(YH(t).entries),kind:e})}),"Iterator",(function(){var t=OH(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),!0),ID=function(t){this.entries=[],this.url=null,void 0!==t&&(_H(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===nD(t,0)?cD(t,1):t:EH(t)))};ID.prototype={type:MH,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,r,i,a,o,s,l=NH(t);if(l)for(n=(e=ZH(t,l)).next;!(r=bH(n,e)).done;){if(a=(i=ZH(LH(r.value))).next,(o=bH(a,i)).done||(s=bH(a,i)).done||!bH(a,i).done)throw $H("Expected sequence with length 2");iD(this.entries,{key:EH(o.value),value:EH(s.value)})}else for(var c in t)GH(t,c)&&iD(this.entries,{key:c,value:EH(t[c])})},parseQuery:function(t){if(t)for(var e,n,r=lD(t,"&"),i=0;i<r.length;)(e=r[i++]).length&&(n=lD(e,"="),iD(this.entries,{key:fD(oD(n)),value:fD(rD(n,"="))}))},serialize:function(){for(var t,e=this.entries,n=[],r=0;r<e.length;)t=e[r++],iD(n,yD(t.key)+"="+yD(t.value));return rD(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var CD=function(){wH(this,xD);var t=arguments.length>0?arguments[0]:void 0;DH(this,new ID(t))},xD=CD.prototype;if(BH(xD,{append:function(t,e){TH(arguments.length,2);var n=YH(this);iD(n.entries,{key:EH(t),value:EH(e)}),n.updateURL()},delete:function(t){TH(arguments.length,1);for(var e=YH(this),n=e.entries,r=EH(t),i=0;i<n.length;)n[i].key===r?sD(n,i,1):i++;e.updateURL()},get:function(t){TH(arguments.length,1);for(var e=YH(this).entries,n=EH(t),r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){TH(arguments.length,1);for(var e=YH(this).entries,n=EH(t),r=[],i=0;i<e.length;i++)e[i].key===n&&iD(r,e[i].value);return r},has:function(t){TH(arguments.length,1);for(var e=YH(this).entries,n=EH(t),r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){TH(arguments.length,1);for(var n,r=YH(this),i=r.entries,a=!1,o=EH(t),s=EH(e),l=0;l<i.length;l++)(n=i[l]).key===o&&(a?sD(i,l--,1):(a=!0,n.value=s));a||iD(i,{key:o,value:s}),r.updateURL()},sort:function(){var t=YH(this);XH(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=YH(this).entries,r=RH(t,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new bD(this,"keys")},values:function(){return new bD(this,"values")},entries:function(){return new bD(this,"entries")}},{enumerable:!0}),xH(xD,WH,xD.entries,{name:"entries"}),xH(xD,"toString",(function(){return YH(this).serialize()}),{enumerable:!0}),AH(CD,MH),vH({global:!0,forced:!CH},{URLSearchParams:CD}),!CH&&UH(jH)){var BD=IH(KH.has),AD=IH(KH.set),FD=function(t){if(_H(t)){var e,n=t.body;if(SH(n)===MH)return e=t.headers?new jH(t.headers):new jH,BD(e,"content-type")||AD(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),kH(t,{body:VH(0,EH(n)),headers:VH(0,e)})}return t};if(UH(zH)&&vH({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return zH(t,arguments.length>1?FD(arguments[1]):{})}}),UH(JH)){var QD=function(t){return wH(this,PH),new JH(t,arguments.length>1?FD(arguments[1]):{})};PH.constructor=QD,QD.prototype=PH,vH({global:!0,forced:!0},{Request:QD})}}var wD,UD={URLSearchParams:CD,getState:YH},GD=Ci,RD=E,SD=KM,LD=S,_D=Ha,ED=K,kD=Mi.f,VD=Bn.exports,ZD=tp,ND=de,TD=QC,XD=Wd,WD=xa,MD=lR.codeAt,HD=function(t){var e,n,r=[],i=dH(uH(hH(t),eH,"."),".");for(e=0;e<i.length;e++)n=i[e],cH(r,iH(tH,n)?"xn--"+pH(n):n);return lH(r,".")},DD=Wi,YD=Ta,OD=RB,zD=UD,JD=rr,jD=JD.set,PD=JD.getterFor("URL"),KD=zD.URLSearchParams,qD=zD.getState,$D=LD.URL,tY=LD.TypeError,eY=LD.parseInt,nY=Math.floor,rY=Math.pow,iY=ED("".charAt),aY=ED(/./.exec),oY=ED([].join),sY=ED(1..toString),lY=ED([].pop),cY=ED([].push),uY=ED("".replace),dY=ED([].shift),hY=ED("".split),gY=ED("".slice),fY=ED("".toLowerCase),pY=ED([].unshift),vY="Invalid scheme",mY="Invalid host",yY="Invalid port",bY=/[a-z]/i,IY=/[\d+-.a-z]/i,CY=/\d/,xY=/^0x/i,BY=/^[0-7]+$/,AY=/^\d+$/,FY=/^[\da-f]+$/i,QY=/[\0\t\n\r #%/:<>?@[\\\]^|]/,wY=/[\0\t\n\r #/:<>?@[\\\]^|]/,UY=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,GY=/[\t\n\r]/g,RY=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)pY(e,t%256),t=nY(t/256);return oY(e,".")}if("object"==o(t)){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,a=0;a<8;a++)0!==t[a]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=sY(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},SY={},LY=TD({},SY,{" ":1,'"':1,"<":1,">":1,"`":1}),_Y=TD({},LY,{"#":1,"?":1,"{":1,"}":1}),EY=TD({},_Y,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),kY=function(t,e){var n=MD(t,0);return n>32&&n<127&&!ND(e,t)?t:encodeURIComponent(t)},VY={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ZY=function(t,e){var n;return 2==t.length&&aY(bY,iY(t,0))&&(":"==(n=iY(t,1))||!e&&"|"==n)},NY=function(t){var e;return t.length>1&&ZY(gY(t,0,2))&&(2==t.length||"/"===(e=iY(t,2))||"\\"===e||"?"===e||"#"===e)},TY=function(t){return"."===t||"%2e"===fY(t)},XY=function(t){return".."===(t=fY(t))||"%2e."===t||".%2e"===t||"%2e%2e"===t},WY={},MY={},HY={},DY={},YY={},OY={},zY={},JY={},jY={},PY={},KY={},qY={},$Y={},tO={},eO={},nO={},rO={},iO={},aO={},oO={},sO={},lO=function t(e,n,r){var i,a,o,s=DD(e);if(n){if(a=this.parse(s))throw tY(a);this.searchParams=null}else{if(void 0!==r&&(i=new t(r,!0)),a=this.parse(s,null,i))throw tY(a);(o=qD(new KD)).bindURL(this),this.searchParams=o}};lO.prototype={type:"URL",parse:function(t,e,n){var r,i,a,o,s=this,l=e||WY,c=0,u="",d=!1,h=!1,g=!1;for(t=DD(t),e||(s.scheme="",s.username="",s.password="",s.host=null,s.port=null,s.path=[],s.query=null,s.fragment=null,s.cannotBeABaseURL=!1,t=uY(t,UY,"")),t=uY(t,GY,""),r=XD(t);c<=r.length;){switch(i=r[c],l){case WY:if(!i||!aY(bY,i)){if(e)return vY;l=HY;continue}u+=fY(i),l=MY;break;case MY:if(i&&(aY(IY,i)||"+"==i||"-"==i||"."==i))u+=fY(i);else{if(":"!=i){if(e)return vY;u="",l=HY,c=0;continue}if(e&&(s.isSpecial()!=ND(VY,u)||"file"==u&&(s.includesCredentials()||null!==s.port)||"file"==s.scheme&&!s.host))return;if(s.scheme=u,e)return void(s.isSpecial()&&VY[s.scheme]==s.port&&(s.port=null));u="","file"==s.scheme?l=tO:s.isSpecial()&&n&&n.scheme==s.scheme?l=DY:s.isSpecial()?l=JY:"/"==r[c+1]?(l=YY,c++):(s.cannotBeABaseURL=!0,cY(s.path,""),l=aO)}break;case HY:if(!n||n.cannotBeABaseURL&&"#"!=i)return vY;if(n.cannotBeABaseURL&&"#"==i){s.scheme=n.scheme,s.path=WD(n.path),s.query=n.query,s.fragment="",s.cannotBeABaseURL=!0,l=sO;break}l="file"==n.scheme?tO:OY;continue;case DY:if("/"!=i||"/"!=r[c+1]){l=OY;continue}l=jY,c++;break;case YY:if("/"==i){l=PY;break}l=iO;continue;case OY:if(s.scheme=n.scheme,i==wD)s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=WD(n.path),s.query=n.query;else if("/"==i||"\\"==i&&s.isSpecial())l=zY;else if("?"==i)s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=WD(n.path),s.query="",l=oO;else{if("#"!=i){s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=WD(n.path),s.path.length--,l=iO;continue}s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=WD(n.path),s.query=n.query,s.fragment="",l=sO}break;case zY:if(!s.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,l=iO;continue}l=PY}else l=jY;break;case JY:if(l=jY,"/"!=i||"/"!=iY(u,c+1))continue;c++;break;case jY:if("/"!=i&&"\\"!=i){l=PY;continue}break;case PY:if("@"==i){d&&(u="%40"+u),d=!0,a=XD(u);for(var f=0;f<a.length;f++){var p=a[f];if(":"!=p||g){var v=kY(p,EY);g?s.password+=v:s.username+=v}else g=!0}u=""}else if(i==wD||"/"==i||"?"==i||"#"==i||"\\"==i&&s.isSpecial()){if(d&&""==u)return"Invalid authority";c-=XD(u).length+1,u="",l=KY}else u+=i;break;case KY:case qY:if(e&&"file"==s.scheme){l=nO;continue}if(":"!=i||h){if(i==wD||"/"==i||"?"==i||"#"==i||"\\"==i&&s.isSpecial()){if(s.isSpecial()&&""==u)return mY;if(e&&""==u&&(s.includesCredentials()||null!==s.port))return;if(o=s.parseHost(u))return o;if(u="",l=rO,e)return;continue}"["==i?h=!0:"]"==i&&(h=!1),u+=i}else{if(""==u)return mY;if(o=s.parseHost(u))return o;if(u="",l=$Y,e==qY)return}break;case $Y:if(!aY(CY,i)){if(i==wD||"/"==i||"?"==i||"#"==i||"\\"==i&&s.isSpecial()||e){if(""!=u){var m=eY(u,10);if(m>65535)return yY;s.port=s.isSpecial()&&m===VY[s.scheme]?null:m,u=""}if(e)return;l=rO;continue}return yY}u+=i;break;case tO:if(s.scheme="file","/"==i||"\\"==i)l=eO;else{if(!n||"file"!=n.scheme){l=iO;continue}if(i==wD)s.host=n.host,s.path=WD(n.path),s.query=n.query;else if("?"==i)s.host=n.host,s.path=WD(n.path),s.query="",l=oO;else{if("#"!=i){NY(oY(WD(r,c),""))||(s.host=n.host,s.path=WD(n.path),s.shortenPath()),l=iO;continue}s.host=n.host,s.path=WD(n.path),s.query=n.query,s.fragment="",l=sO}}break;case eO:if("/"==i||"\\"==i){l=nO;break}n&&"file"==n.scheme&&!NY(oY(WD(r,c),""))&&(ZY(n.path[0],!0)?cY(s.path,n.path[0]):s.host=n.host),l=iO;continue;case nO:if(i==wD||"/"==i||"\\"==i||"?"==i||"#"==i){if(!e&&ZY(u))l=iO;else if(""==u){if(s.host="",e)return;l=rO}else{if(o=s.parseHost(u))return o;if("localhost"==s.host&&(s.host=""),e)return;u="",l=rO}continue}u+=i;break;case rO:if(s.isSpecial()){if(l=iO,"/"!=i&&"\\"!=i)continue}else if(e||"?"!=i)if(e||"#"!=i){if(i!=wD&&(l=iO,"/"!=i))continue}else s.fragment="",l=sO;else s.query="",l=oO;break;case iO:if(i==wD||"/"==i||"\\"==i&&s.isSpecial()||!e&&("?"==i||"#"==i)){if(XY(u)?(s.shortenPath(),"/"==i||"\\"==i&&s.isSpecial()||cY(s.path,"")):TY(u)?"/"==i||"\\"==i&&s.isSpecial()||cY(s.path,""):("file"==s.scheme&&!s.path.length&&ZY(u)&&(s.host&&(s.host=""),u=iY(u,0)+":"),cY(s.path,u)),u="","file"==s.scheme&&(i==wD||"?"==i||"#"==i))for(;s.path.length>1&&""===s.path[0];)dY(s.path);"?"==i?(s.query="",l=oO):"#"==i&&(s.fragment="",l=sO)}else u+=kY(i,_Y);break;case aO:"?"==i?(s.query="",l=oO):"#"==i?(s.fragment="",l=sO):i!=wD&&(s.path[0]+=kY(i,SY));break;case oO:e||"#"!=i?i!=wD&&("'"==i&&s.isSpecial()?s.query+="%27":s.query+="#"==i?"%23":kY(i,SY)):(s.fragment="",l=sO);break;case sO:i!=wD&&(s.fragment+=kY(i,LY))}c++}},parseHost:function(t){var e,n,r;if("["==iY(t,0)){if("]"!=iY(t,t.length-1))return mY;if(e=function(t){var e,n,r,i,a,o,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,h=function(){return iY(t,d)};if(":"==h()){if(":"!=iY(t,1))return;d+=2,u=++c}for(;h();){if(8==c)return;if(":"!=h()){for(e=n=0;n<4&&aY(FY,h());)e=16*e+eY(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,c>6)return;for(r=0;h();){if(i=null,r>0){if(!("."==h()&&r<4))return;d++}if(!aY(CY,h()))return;for(;aY(CY,h());){if(a=eY(h(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;d++}l[c]=256*l[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;l[c++]=e}else{if(null!==u)return;d++,u=++c}}if(null!==u)for(o=c-u,c=7;0!=c&&o>0;)s=l[c],l[c--]=l[u+o-1],l[u+--o]=s;else if(8!=c)return;return l}(gY(t,1,-1)),!e)return mY;this.host=e}else if(this.isSpecial()){if(t=HD(t),aY(QY,t))return mY;if(e=function(t){var e,n,r,i,a,o,s,l=hY(t,".");if(l.length&&""==l[l.length-1]&&l.length--,(e=l.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(i=l[r]))return t;if(a=10,i.length>1&&"0"==iY(i,0)&&(a=aY(xY,i)?16:8,i=gY(i,8==a?1:2)),""===i)o=0;else{if(!aY(10==a?AY:8==a?BY:FY,i))return t;o=eY(i,a)}cY(n,o)}for(r=0;r<e;r++)if(o=n[r],r==e-1){if(o>=rY(256,5-e))return null}else if(o>255)return null;for(s=lY(n),r=0;r<n.length;r++)s+=n[r]*rY(256,3-r);return s}(t),null===e)return mY;this.host=e}else{if(aY(wY,t))return mY;for(e="",n=XD(t),r=0;r<n.length;r++)e+=kY(n[r],SY);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return ND(VY,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&ZY(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,n=t.username,r=t.password,i=t.host,a=t.port,o=t.path,s=t.query,l=t.fragment,c=e+":";return null!==i?(c+="//",t.includesCredentials()&&(c+=n+(r?":"+r:"")+"@"),c+=RY(i),null!==a&&(c+=":"+a)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?o[0]:o.length?"/"+oY(o,"/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},setHref:function(t){var e=this.parse(t);if(e)throw tY(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new cO(t.path[0]).origin}catch(t){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+RY(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(DD(t)+":",WY)},getUsername:function(){return this.username},setUsername:function(t){var e=XD(DD(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<e.length;n++)this.username+=kY(e[n],EY)}},getPassword:function(){return this.password},setPassword:function(t){var e=XD(DD(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<e.length;n++)this.password+=kY(e[n],EY)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?RY(t):RY(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,KY)},getHostname:function(){var t=this.host;return null===t?"":RY(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,qY)},getPort:function(){var t=this.port;return null===t?"":DD(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""==(t=DD(t))?this.port=null:this.parse(t,$Y))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+oY(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,rO))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""==(t=DD(t))?this.query=null:("?"==iY(t,0)&&(t=gY(t,1)),this.query="",this.parse(t,oO)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!=(t=DD(t))?("#"==iY(t,0)&&(t=gY(t,1)),this.fragment="",this.parse(t,sO)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var cO=function(t){var e=ZD(this,uO),n=OD(arguments.length,1)>1?arguments[1]:void 0,r=jD(e,new lO(t,!1,n));RD||(e.href=r.serialize(),e.origin=r.getOrigin(),e.protocol=r.getProtocol(),e.username=r.getUsername(),e.password=r.getPassword(),e.host=r.getHost(),e.hostname=r.getHostname(),e.port=r.getPort(),e.pathname=r.getPathname(),e.search=r.getSearch(),e.searchParams=r.getSearchParams(),e.hash=r.getHash())},uO=cO.prototype,dO=function(t,e){return{get:function(){return PD(this)[t]()},set:e&&function(t){return PD(this)[e](t)},configurable:!0,enumerable:!0}};if(RD&&kD(uO,{href:dO("serialize","setHref"),origin:dO("getOrigin"),protocol:dO("getProtocol","setProtocol"),username:dO("getUsername","setUsername"),password:dO("getPassword","setPassword"),host:dO("getHost","setHost"),hostname:dO("getHostname","setHostname"),port:dO("getPort","setPort"),pathname:dO("getPathname","setPathname"),search:dO("getSearch","setSearch"),searchParams:dO("getSearchParams"),hash:dO("getHash","setHash")}),VD(uO,"toJSON",(function(){return PD(this).serialize()}),{enumerable:!0}),VD(uO,"toString",(function(){return PD(this).serialize()}),{enumerable:!0}),$D){var hO=$D.createObjectURL,gO=$D.revokeObjectURL;hO&&VD(cO,"createObjectURL",_D(hO,$D)),gO&&VD(cO,"revokeObjectURL",_D(gO,$D))}YD(cO,"URL"),GD({global:!0,forced:!SD,sham:!RD},{URL:cO});var fO=N;Ci({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return fO(URL.prototype.toString,this)}});!function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),o=new G(r||[]);return a._invoke=function(t,e,n){var r=h;return function(i,a){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=Q(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var l=d(t,e,n);if("normal"===l.type){if(r=n.done?p:g,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(t,n,o),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h="suspendedStart",g="suspendedYield",f="executing",p="completed",v={};function m(){}function y(){}function b(){}var I={};c(I,a,(function(){return this}));var C=Object.getPrototypeOf,x=C&&C(C(R([])));x&&x!==n&&r.call(x,a)&&(I=x);var B=b.prototype=m.prototype=Object.create(I);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function F(t,e){function n(i,a,s,l){var c=d(t[i],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"===o(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,s,l)}),(function(t){n("throw",t,s,l)})):e.resolve(h).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,l)}))}l(c.arg)}var i;this._invoke=function(t,r){function a(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(a,a):a()}}function Q(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,Q(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=d(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function U(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function G(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function R(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:S}}function S(){return{value:e,done:!0}}return y.prototype=b,c(B,"constructor",b),c(b,"constructor",y),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,l,"GeneratorFunction")),t.prototype=Object.create(B),t},t.awrap=function(t){return{__await:t}},A(F.prototype),c(F.prototype,s,(function(){return this})),t.AsyncIterator=F,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new F(u(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},A(B),c(B,l,"Generator"),c(B,a,(function(){return this})),c(B,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=R,G.prototype={constructor:G,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(U),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),U(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;U(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"===("undefined"==typeof globalThis?"undefined":o(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}({exports:{}}),function(){if(void 0!==window.Reflect&&void 0!==window.customElements&&!window.customElements.polyfillWrapFlushCallback){var t=HTMLElement;window.HTMLElement={HTMLElement:function(){return Reflect.construct(t,[],this.constructor)}}.HTMLElement,HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}}(),function(){var t;function n(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};var i,a=function(t){t=["object"==("undefined"==typeof globalThis?"undefined":o(globalThis))&&globalThis,t,"object"==("undefined"==typeof window?"undefined":o(window))&&window,"object"==("undefined"==typeof self?"undefined":o(self))&&self,"object"==o(e)&&e];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function s(t,e){if(e)t:{var n=a;t=t.split(".");for(var i=0;i<t.length-1;i++){var o=t[i];if(!(o in n))break t;n=n[o]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}function l(t){return(t={next:t})[Symbol.iterator]=function(){return this},t}function c(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:n(t)}}function u(t){if(!(t instanceof Array)){t=c(t);for(var e,n=[];!(e=t.next()).done;)n.push(e.value);t=n}return t}if(s("Symbol",(function(t){function e(t,e){this.g=t,r(this,"description",{configurable:!0,writable:!0,value:e})}if(t)return t;e.prototype.toString=function(){return this.g};var n=0;return function t(r){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new e("jscomp_symbol_"+(r||"")+"_"+n++,r)}})),s("Symbol.iterator",(function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<e.length;i++){var o=a[e[i]];"function"==typeof o&&"function"!=typeof o.prototype[t]&&r(o.prototype,t,{configurable:!0,writable:!0,value:function(){return l(n(this))}})}return t})),"function"==typeof Object.setPrototypeOf)i=Object.setPrototypeOf;else{var d;t:{var h={};try{h.__proto__={a:!0},d=h.a;break t}catch(t){}d=!1}i=d?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var g=i;function f(){this.u=!1,this.h=null,this.Ka=void 0,this.g=1,this.da=0,this.i=null}function p(t){if(t.u)throw new TypeError("Generator is already running");t.u=!0}function v(t,e){t.i={Wa:e,$a:!0},t.g=t.da}function m(t,e){return t.g=3,{value:e}}function y(t){this.g=new f,this.h=t}function b(t,e,n,r){try{var i=e.call(t.g.h,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.g.u=!1,i;var a=i.value}catch(e){return t.g.h=null,v(t.g,e),I(t)}return t.g.h=null,r.call(t.g,a),I(t)}function I(t){for(;t.g.g;)try{var e=t.h(t.g);if(e)return t.g.u=!1,{value:e.value,done:!1}}catch(e){t.g.Ka=void 0,v(t.g,e)}if(t.g.u=!1,t.g.i){if(e=t.g.i,t.g.i=null,e.$a)throw e.Wa;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function C(t){this.next=function(e){return p(t.g),t.g.h?e=b(t,t.g.h.next,e,t.g.O):(t.g.O(e),e=I(t)),e},this.throw=function(e){return p(t.g),t.g.h?e=b(t,t.g.h.throw,e,t.g.O):(v(t.g,e),e=I(t)),e},this.return=function(e){return function(t,e){p(t.g);var n=t.g.h;return n?b(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.g.return):(t.g.return(e),I(t))}(t,e)},this[Symbol.iterator]=function(){return this}}function x(t,e){return e=new C(new y(e)),g&&t.prototype&&g(e,t.prototype),e}f.prototype.O=function(t){this.Ka=t},f.prototype.return=function(t){this.i={return:t},this.g=this.da},Array.from||(Array.from=function(t){return[].slice.call(t)}),Object.assign||(Object.assign=function(t){for(var e,n=[].slice.call(arguments,1),r=0;r<n.length;r++)if(e=n[r])for(var i=t,a=Object.keys(e),o=0;o<a.length;o++){var s=a[o];i[s]=e[s]}return t});var B=setTimeout;function A(){}function F(t){if(!(this instanceof F))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this.N=0,this.Ea=!1,this.I=void 0,this.ba=[],S(t,this)}function Q(t,e){for(;3===t.N;)t=t.I;0===t.N?t.ba.push(e):(t.Ea=!0,_((function(){var n=1===t.N?e.bb:e.cb;if(null===n)(1===t.N?w:U)(e.promise,t.I);else{try{var r=n(t.I)}catch(t){return void U(e.promise,t)}w(e.promise,r)}})))}function w(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===o(e)||"function"==typeof e)){var n=e.then;if(e instanceof F)return t.N=3,t.I=e,void G(t);if("function"==typeof n)return void S(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t.N=1,t.I=e,G(t)}catch(e){U(t,e)}}function U(t,e){t.N=2,t.I=e,G(t)}function G(t){2===t.N&&0===t.ba.length&&_((function(){t.Ea||"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t.I)}));for(var e=0,n=t.ba.length;e<n;e++)Q(t,t.ba[e]);t.ba=null}function R(t,e,n){this.bb="function"==typeof t?t:null,this.cb="function"==typeof e?e:null,this.promise=n}function S(t,e){var n=!1;try{t((function(t){n||(n=!0,w(e,t))}),(function(t){n||(n=!0,U(e,t))}))}catch(t){n||(n=!0,U(e,t))}}function L(t){return t&&"object"===o(t)&&t.constructor===F?t:new F((function(e){e(t)}))}F.prototype.catch=function(t){return this.then(null,t)},F.prototype.then=function(t,e){var n=new this.constructor(A);return Q(this,new R(t,e,n)),n},F.prototype.finally=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))};var _="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){B(t,0)};if(!window.Promise){window.Promise=F,F.prototype.then=F.prototype.then,F.all=function(t){return new F((function(e,n){function r(t,s){try{if(s&&("object"===o(s)||"function"==typeof s)){var l=s.then;if("function"==typeof l)return void l.call(s,(function(e){r(t,e)}),n)}i[t]=s,0==--a&&e(i)}catch(t){n(t)}}if(!t||void 0===t.length)return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);for(var a=i.length,s=0;s<i.length;s++)r(s,i[s])}))},F.race=function(t){return new F((function(e,n){if(!t||void 0===t.length)return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=t.length;r<i;r++)L(t[r]).then(e,n)}))},F.resolve=L,F.reject=function(t){return new F((function(e,n){n(t)}))};var E=document.createTextNode(""),k=[];new MutationObserver((function(){for(var t=k.length,e=0;e<t;e++)k[e]();k.splice(0,t)})).observe(E,{characterData:!0}),_=function(t){k.push(t),E.textContent=0<E.textContent.length?"":"a"}}!function(t,n){if(!(n in t)){var r=o(e)===o(r)?window:e,i=0,a=String(Math.random()),s="__symbol@@"+a,l=t.getOwnPropertyNames,c=t.getOwnPropertyDescriptor,u=t.create,d=t.keys,h=t.freeze||t,g=t.defineProperty,f=t.defineProperties,p=c(t,"getOwnPropertyNames"),v=t.prototype,m=v.hasOwnProperty,y=v.propertyIsEnumerable,b=v.toString,I=function(t,e,n){m.call(t,s)||g(t,s,{enumerable:!1,configurable:!1,writable:!1,value:{}}),t[s]["@@"+e]=n},C=function(t,e){var n=u(t);return l(e).forEach((function(t){F.call(e,t)&&S(n,t,e[t])})),n},x=function(){},B=function(t){return t!=s&&!m.call(U,t)},A=function(t){return t!=s&&m.call(U,t)},F=function(t){var e=String(t);return A(e)?m.call(this,e)&&!!this[s]&&this[s]["@@"+e]:y.call(this,t)},Q=function(e){return g(v,e,{enumerable:!1,configurable:!0,get:x,set:function(t){_(this,e,{enumerable:!1,configurable:!0,writable:!0,value:t}),I(this,e,!0)}}),U[e]=g(t(e),"constructor",G),h(U[e])},w=function t(e){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return Q("__symbol:".concat(e||"",a,++i))},U=u(null),G={value:w},R=function(t){return U[t]},S=function(t,e,n){var r=String(e);if(A(r)){if(e=_,n.enumerable){var i=u(n);i.enumerable=!1}else i=n;e(t,r,i),I(t,r,!!n.enumerable)}else g(t,e,n);return t},L=function(t){return l(t).filter(A).map(R)};p.value=S,g(t,"defineProperty",p),p.value=L,g(t,n,p),p.value=function(t){return l(t).filter(B)},g(t,"getOwnPropertyNames",p),p.value=function(t,e){var n=L(e);return n.length?d(e).concat(n).forEach((function(n){F.call(e,n)&&S(t,n,e[n])})):f(t,e),t},g(t,"defineProperties",p),p.value=F,g(v,"propertyIsEnumerable",p),p.value=w,g(r,"Symbol",p),p.value=function(t){return(t="__symbol:".concat("__symbol:",t,a))in v?U[t]:Q(t)},g(w,"for",p),p.value=function(t){if(B(t))throw new TypeError(t+" is not a symbol");if(m.call(U,t)&&("__symbol:"===(t=t.slice(10)).slice(0,10)&&(t=t.slice(10))!==a))return 0<(t=t.slice(0,t.length-a.length)).length?t:void 0},g(w,"keyFor",p),p.value=function(t,e){var n=c(t,e);return n&&A(e)&&(n.enumerable=F.call(t,e)),n},g(t,"getOwnPropertyDescriptor",p),p.value=function(t,e){return 1===arguments.length||void 0===e?u(t):C(t,e)},g(t,"create",p),p.value=function(){var t=b.call(this);return"[object String]"===t&&A(this)?"[object Symbol]":t},g(v,"toString",p);try{if(!0!==u(g({},"__symbol:",{get:function(){return g(this,"__symbol:",{value:!0})["__symbol:"]}}))["__symbol:"])throw"IE11";var _=g}catch(t){_=function(t,e,n){var r=c(v,e);delete v[e],g(t,e,n),g(v,e,r)}}}}(Object,"getOwnPropertySymbols"),function(t,e){var n,r=t.defineProperty,i=t.prototype,a=i.toString;"iterator match replace search split hasInstance isConcatSpreadable unscopables species toPrimitive toStringTag".split(" ").forEach((function(o){o in e||(r(e,o,{value:e(o)}),"toStringTag"===o&&((n=t.getOwnPropertyDescriptor(i,"toString")).value=function(){var t=a.call(this),n=null==this?this:this[e.toStringTag];return null==n?t:"[object "+n+"]"},r(i,"toString",n)))}))}(Object,Symbol),function(t,e,n){function r(){return this}e[t]||(e[t]=function(){var e=0,n=this,i={next:function(){var t=n.length<=e;return t?{done:t}:{done:t,value:n[e++]}}};return i[t]=r,i}),n[t]||(n[t]=function(){var e=String.fromCodePoint,n=this,i=0,a=n.length,o={next:function(){var t=a<=i,r=t?"":e(n.codePointAt(i));return i+=r.length,t?{done:t}:{done:t,value:r}}};return o[t]=r,o})}(Symbol.iterator,Array.prototype,String.prototype);var V=Object.prototype.toString;Object.prototype.toString=function(){return void 0===this?"[object Undefined]":null===this?"[object Null]":V.call(this)},Object.keys=function(t){return Object.getOwnPropertyNames(t).filter((function(e){return(e=Object.getOwnPropertyDescriptor(t,e))&&e.enumerable}))},String.prototype[Symbol.iterator]&&String.prototype.codePointAt||(String.prototype[Symbol.iterator]=function t(){var e,n=this;return x(t,(function(t){if(1==t.g&&(e=0),3!=t.g)return e<n.length?t=m(t,n[e]):(t.g=0,t=void 0),t;e++,t.g=2}))}),Set.prototype[Symbol.iterator]||(Set.prototype[Symbol.iterator]=function t(){var e,n,r=this;return x(t,(function(t){if(1==t.g&&(e=[],r.forEach((function(t){e.push(t)})),n=0),3!=t.g)return n<e.length?t=m(t,e[n]):(t.g=0,t=void 0),t;n++,t.g=2}))}),Map.prototype[Symbol.iterator]||(Map.prototype[Symbol.iterator]=function t(){var e,n,r=this;return x(t,(function(t){if(1==t.g&&(e=[],r.forEach((function(t,n){e.push([n,t])})),n=0),3!=t.g)return n<e.length?t=m(t,e[n]):(t.g=0,t=void 0),t;n++,t.g=2}))});var Z=document.createEvent("Event");if(Z.initEvent("foo",!0,!0),Z.preventDefault(),!Z.defaultPrevented){var N=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(N.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var T=/Trident/.test(navigator.userAgent);if(!window.Event||T&&"function"!=typeof window.Event){var X=window.Event;if(window.Event=function(t,e){e=e||{};var n=document.createEvent("Event");return n.initEvent(t,!!e.bubbles,!!e.cancelable),n},X){for(var W in X)window.Event[W]=X[W];window.Event.prototype=X.prototype}}if((!window.CustomEvent||T&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.MouseEvent||T&&"function"!=typeof window.MouseEvent){var M=window.MouseEvent;if(window.MouseEvent=function(t,e){e=e||{};var n=document.createEvent("MouseEvent");return n.initMouseEvent(t,!!e.bubbles,!!e.cancelable,e.view||window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),n},M)for(var H in M)window.MouseEvent[H]=M[H];window.MouseEvent.prototype=M.prototype}Object.getOwnPropertyDescriptor(Node.prototype,"baseURI")||Object.defineProperty(Node.prototype,"baseURI",{get:function(){var t=(this.ownerDocument||this).querySelector("base[href]");return t&&t.href||window.location.href},configurable:!0,enumerable:!0});var D,Y,O=Element.prototype,z=null!==(D=Object.getOwnPropertyDescriptor(O,"attributes"))&&void 0!==D?D:Object.getOwnPropertyDescriptor(Node.prototype,"attributes"),J=null!==(Y=null==z?void 0:z.get)&&void 0!==Y?Y:function(){return this.attributes},j=Array.prototype.map;O.hasOwnProperty("getAttributeNames")||(O.getAttributeNames=function(){return j.call(J.call(this),(function(t){return t.name}))});var P,K=Element.prototype;K.hasOwnProperty("matches")||(K.matches=null!==(P=K.webkitMatchesSelector)&&void 0!==P?P:K.msMatchesSelector);var q=Node.prototype.appendChild;function $(t){(t=t.prototype).hasOwnProperty("append")||Object.defineProperty(t,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];for(n=(e=c(e)).next();!n.done;n=e.next())n=n.value,q.call(this,"string"==typeof n?document.createTextNode(n):n)}})}$(Document),$(DocumentFragment),$(Element);var tt,et,nt=Node.prototype.insertBefore,rt=null!==(et=null===(tt=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild"))||void 0===tt?void 0:tt.get)&&void 0!==et?et:function(){return this.firstChild};function it(t){(t=t.prototype).hasOwnProperty("prepend")||Object.defineProperty(t,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];n=rt.call(this);for(var r=(e=c(e)).next();!r.done;r=e.next())r=r.value,nt.call(this,"string"==typeof r?document.createTextNode(r):r,n)}})}it(Document),it(DocumentFragment),it(Element);var at,ot,st=Node.prototype.appendChild,lt=Node.prototype.removeChild,ct=null!==(ot=null===(at=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild"))||void 0===at?void 0:at.get)&&void 0!==ot?ot:function(){return this.firstChild};function ut(t){(t=t.prototype).hasOwnProperty("replaceChildren")||Object.defineProperty(t,"replaceChildren",{configurable:!0,enumerable:!0,writable:!0,value:function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];for(;null!==(n=ct.call(this));)lt.call(this,n);for(n=(e=c(e)).next();!n.done;n=e.next())n=n.value,st.call(this,"string"==typeof n?document.createTextNode(n):n)}})}ut(Document),ut(DocumentFragment),ut(Element);var dt,ht,gt,ft,pt=Node.prototype.insertBefore,vt=null!==(ht=null===(dt=Object.getOwnPropertyDescriptor(Node.prototype,"parentNode"))||void 0===dt?void 0:dt.get)&&void 0!==ht?ht:function(){return this.parentNode},mt=null!==(ft=null===(gt=Object.getOwnPropertyDescriptor(Node.prototype,"nextSibling"))||void 0===gt?void 0:gt.get)&&void 0!==ft?ft:function(){return this.nextSibling};function yt(t){(t=t.prototype).hasOwnProperty("after")||Object.defineProperty(t,"after",{configurable:!0,enumerable:!0,writable:!0,value:function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];if(null!==(n=vt.call(this)))for(var r=mt.call(this),i=(e=c(e)).next();!i.done;i=e.next())i=i.value,pt.call(n,"string"==typeof i?document.createTextNode(i):i,r)}})}yt(CharacterData),yt(Element);var bt,It,Ct=Node.prototype.insertBefore,xt=null!==(It=null===(bt=Object.getOwnPropertyDescriptor(Node.prototype,"parentNode"))||void 0===bt?void 0:bt.get)&&void 0!==It?It:function(){return this.parentNode};function Bt(t){(t=t.prototype).hasOwnProperty("before")||Object.defineProperty(t,"before",{configurable:!0,enumerable:!0,writable:!0,value:function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];if(null!==(n=xt.call(this)))for(var r=(e=c(e)).next();!r.done;r=e.next())r=r.value,Ct.call(n,"string"==typeof r?document.createTextNode(r):r,this)}})}Bt(CharacterData),Bt(Element);var At,Ft,Qt=Node.prototype.removeChild,wt=null!==(Ft=null===(At=Object.getOwnPropertyDescriptor(Node.prototype,"parentNode"))||void 0===At?void 0:At.get)&&void 0!==Ft?Ft:function(){return this.parentNode};function Ut(t){(t=t.prototype).hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=wt.call(this);t&&Qt.call(t,this)}})}Ut(CharacterData),Ut(Element);var Gt,Rt,St=Node.prototype.insertBefore,Lt=Node.prototype.removeChild,_t=null!==(Rt=null===(Gt=Object.getOwnPropertyDescriptor(Node.prototype,"parentNode"))||void 0===Gt?void 0:Gt.get)&&void 0!==Rt?Rt:function(){return this.parentNode};function Et(t){(t=t.prototype).hasOwnProperty("replaceWith")||Object.defineProperty(t,"replaceWith",{configurable:!0,enumerable:!0,writable:!0,value:function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];if(null!==(n=_t.call(this))){for(var r=(e=c(e)).next();!r.done;r=e.next())r=r.value,St.call(n,"string"==typeof r?document.createTextNode(r):r,this);Lt.call(n,this)}}})}Et(CharacterData),Et(Element);var kt=window.Element.prototype,Vt=window.HTMLElement.prototype,Zt=window.SVGElement.prototype;!Vt.hasOwnProperty("classList")||kt.hasOwnProperty("classList")||Zt.hasOwnProperty("classList")||Object.defineProperty(kt,"classList",Object.getOwnPropertyDescriptor(Vt,"classList"));var Nt=document.createElement("style");Nt.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var Tt=document.querySelector("head");Tt.insertBefore(Nt,Tt.firstChild);var Xt=window;Xt.WebComponents=Xt.WebComponents||{flags:{}};var Wt=document.querySelector('script[src*="webcomponents-bundle"]'),Mt=/wc-(.+)/,Ht={};if(!Ht.noOpts){if(location.search.slice(1).split("&").forEach((function(t){var e;(t=t.split("="))[0]&&(e=t[0].match(Mt))&&(Ht[e[1]]=t[1]||!0)})),Wt)for(var Dt=0,Yt=void 0;Yt=Wt.attributes[Dt];Dt++)"src"!==Yt.name&&(Ht[Yt.name]=Yt.value||!0);var Ot={};Ht.log&&Ht.log.split&&Ht.log.split(",").forEach((function(t){Ot[t]=!0})),Ht.log=Ot}Xt.WebComponents.flags=Ht;var zt=Ht.shadydom;if(zt){Xt.ShadyDOM=Xt.ShadyDOM||{},Xt.ShadyDOM.force=zt;var Jt=Ht.noPatch;Xt.ShadyDOM.noPatch="true"===Jt||Jt}var jt=Ht.register||Ht.ce;function Pt(){}function Kt(t){return t.__shady||(t.__shady=new Pt),t.__shady}function qt(t){return t&&t.__shady}jt&&window.customElements&&(Xt.customElements.forcePolyfill=jt),function(){function t(){}function e(t,e){if(!t.childNodes.length)return[];switch(t.nodeType){case Node.DOCUMENT_NODE:return p.call(t,e);case Node.DOCUMENT_FRAGMENT_NODE:return v.call(t,e);default:return f.call(t,e)}}var n="undefined"==typeof HTMLTemplateElement,r=!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment),i=!1;/Trident/.test(navigator.userAgent)&&function(){function t(t,e){if(t instanceof DocumentFragment)for(var r;r=t.firstChild;)n.call(this,r,e);else n.call(this,t,e);return t}i=!0;var e=Node.prototype.cloneNode;Node.prototype.cloneNode=function(t){return t=e.call(this,t),this instanceof DocumentFragment&&(t.__proto__=DocumentFragment.prototype),t},DocumentFragment.prototype.querySelectorAll=HTMLElement.prototype.querySelectorAll,DocumentFragment.prototype.querySelector=HTMLElement.prototype.querySelector,Object.defineProperties(DocumentFragment.prototype,{nodeType:{get:function(){return Node.DOCUMENT_FRAGMENT_NODE},configurable:!0},localName:{get:function(){},configurable:!0},nodeName:{get:function(){return"#document-fragment"},configurable:!0}});var n=Node.prototype.insertBefore;Node.prototype.insertBefore=t;var r=Node.prototype.appendChild;Node.prototype.appendChild=function(e){return e instanceof DocumentFragment?t.call(this,e,null):r.call(this,e),e};var a=Node.prototype.removeChild,o=Node.prototype.replaceChild;Node.prototype.replaceChild=function(e,n){return e instanceof DocumentFragment?(t.call(this,e,n),a.call(this,n)):o.call(this,e,n),n},Document.prototype.createDocumentFragment=function(){var t=this.createElement("df");return t.__proto__=DocumentFragment.prototype,t};var s=Document.prototype.importNode;Document.prototype.importNode=function(t,e){return e=s.call(this,t,e||!1),t instanceof DocumentFragment&&(e.__proto__=DocumentFragment.prototype),e}}();var a=Node.prototype.cloneNode,o=Document.prototype.createElement,s=Document.prototype.importNode,l=Node.prototype.removeChild,c=Node.prototype.appendChild,u=Node.prototype.replaceChild,d=DOMParser.prototype.parseFromString,h=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML")||{get:function(){return this.innerHTML},set:function(t){this.innerHTML=t}},g=Object.getOwnPropertyDescriptor(window.Node.prototype,"childNodes")||{get:function(){return this.childNodes}},f=Element.prototype.querySelectorAll,p=Document.prototype.querySelectorAll,v=DocumentFragment.prototype.querySelectorAll,m=function(){if(!n){var t=document.createElement("template"),e=document.createElement("template");return e.content.appendChild(document.createElement("div")),t.content.appendChild(e),0===(t=t.cloneNode(!0)).content.childNodes.length||0===t.content.firstChild.content.childNodes.length||r}}();if(n){var y=document.implementation.createHTMLDocument("template"),b=!0,I=document.createElement("style");I.textContent="template{display:none;}";var C=document.head;C.insertBefore(I,C.firstElementChild),t.prototype=Object.create(HTMLElement.prototype);var x=!document.createElement("div").hasOwnProperty("innerHTML");t.Z=function(e){if(!e.content&&e.namespaceURI===document.documentElement.namespaceURI){e.content=y.createDocumentFragment();for(var n;n=e.firstChild;)c.call(e.content,n);if(x)e.__proto__=t.prototype;else if(e.cloneNode=function(e){return t.sa(this,e)},b)try{A(e),F(e)}catch(t){b=!1}t.bootstrap(e.content)}};var B={option:["select"],thead:["table"],col:["colgroup","table"],tr:["tbody","table"],th:["tr","tbody","table"],td:["tr","tbody","table"]},A=function(e){Object.defineProperty(e,"innerHTML",{get:function(){return S(this)},set:function(e){var n=B[(/<([a-z][^/\0>\x20\t\r\n\f]+)/i.exec(e)||["",""])[1].toLowerCase()];if(n)for(var r=0;r<n.length;r++)e="<"+n[r]+">"+e+"</"+n[r]+">";for(y.body.innerHTML=e,t.bootstrap(y);this.content.firstChild;)l.call(this.content,this.content.firstChild);if(e=y.body,n)for(r=0;r<n.length;r++)e=e.lastChild;for(;e.firstChild;)c.call(this.content,e.firstChild)},configurable:!0})},F=function(t){Object.defineProperty(t,"outerHTML",{get:function(){return"<template>"+this.innerHTML+"</template>"},set:function(t){if(!this.parentNode)throw Error("Failed to set the 'outerHTML' property on 'Element': This element has no parent node.");for(y.body.innerHTML=t,t=this.ownerDocument.createDocumentFragment();y.body.firstChild;)c.call(t,y.body.firstChild);u.call(this.parentNode,t,this)},configurable:!0})};A(t.prototype),F(t.prototype),t.bootstrap=function(n){for(var r,i=0,a=(n=e(n,"template")).length;i<a&&(r=n[i]);i++)t.Z(r)},document.addEventListener("DOMContentLoaded",(function(){t.bootstrap(document)})),Document.prototype.createElement=function(){var e=o.apply(this,arguments);return"template"===e.localName&&t.Z(e),e},DOMParser.prototype.parseFromString=function(){var e=d.apply(this,arguments);return t.bootstrap(e),e},Object.defineProperty(HTMLElement.prototype,"innerHTML",{get:function(){return S(this)},set:function(e){h.set.call(this,e),t.bootstrap(this)},configurable:!0,enumerable:!0});var Q=/[&\u00A0"]/g,w=/[&\u00A0<>]/g,U=function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case" ":return"&nbsp;"}};I=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e};var G=I("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),R=I("style script xmp iframe noembed noframes plaintext noscript".split(" ")),S=function t(e,n){"template"===e.localName&&(e=e.content);for(var r,i="",a=n?n(e):g.get.call(e),o=0,s=a.length;o<s&&(r=a[o]);o++){t:{var l=r,c=e,u=n;switch(l.nodeType){case Node.ELEMENT_NODE:for(var d=l.localName,h="<"+d,f=l.attributes,p=0;c=f[p];p++)h+=" "+c.name+'="'+c.value.replace(Q,U)+'"';h+=">",l=G[d]?h:h+t(l,u)+"</"+d+">";break t;case Node.TEXT_NODE:l=l.data,l=c&&R[c.localName]?l:l.replace(w,U);break t;case Node.COMMENT_NODE:l="\x3c!--"+l.data+"--\x3e";break t;default:throw window.console.error(l),Error("not implemented")}}i+=l}return i}}if(n||m){t.sa=function(t,e){var n=a.call(t,!1);return this.Z&&this.Z(n),e&&(c.call(n.content,a.call(t.content,!0)),L(n.content,t.content)),n};var L=function(n,r){if(r.querySelectorAll&&0!==(r=e(r,"template")).length)for(var i,a,o=0,s=(n=e(n,"template")).length;o<s;o++)a=r[o],i=n[o],t&&t.Z&&t.Z(a),u.call(i.parentNode,_.call(a,!0),i)},_=Node.prototype.cloneNode=function(e){if(!i&&r&&this instanceof DocumentFragment){if(!e)return this.ownerDocument.createDocumentFragment();var n=E.call(this.ownerDocument,this,!0)}else n=this.nodeType===Node.ELEMENT_NODE&&"template"===this.localName&&this.namespaceURI==document.documentElement.namespaceURI?t.sa(this,e):a.call(this,e);return e&&L(n,this),n},E=Document.prototype.importNode=function(n,r){if(r=r||!1,"template"===n.localName)return t.sa(n,r);var i=s.call(this,n,r);if(r){L(i,n),n=e(i,'script:not([type]),script[type="application/javascript"],script[type="text/javascript"]');for(var a,l=0;l<n.length;l++){a=n[l],(r=o.call(document,"script")).textContent=a.textContent;for(var c,d=a.attributes,h=0;h<d.length;h++)c=d[h],r.setAttribute(c.name,c.value);u.call(a.parentNode,r,a)}}return i}}n&&(window.HTMLTemplateElement=t)}(),Pt.prototype.toJSON=function(){return{}};var $t=window.ShadyDOM||{};$t.Ya=!(!Element.prototype.attachShadow||!Node.prototype.getRootNode);var te=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild");function ee(){return Document.prototype.msElementsFromPoint?"msElementsFromPoint":"elementsFromPoint"}function ne(t){return(t=qt(t))&&void 0!==t.firstChild}function re(t){return t instanceof ShadowRoot}function ie(t){return(t=(t=qt(t))&&t.root)&&Dr(t)}$t.H=!!(te&&te.configurable&&te.get),$t.ya=$t.force||!$t.Ya,$t.J=$t.noPatch||!1,$t.fa=$t.preferPerformance,$t.Aa="on-demand"===$t.J,$t.Na=navigator.userAgent.match("Trident");var ae=Element.prototype,oe=ae.matches||ae.matchesSelector||ae.mozMatchesSelector||ae.msMatchesSelector||ae.oMatchesSelector||ae.webkitMatchesSelector,se=document.createTextNode(""),le=0,ce=[];function ue(t){ce.push(t),se.textContent=le++}new MutationObserver((function(){for(;ce.length;)try{ce.shift()()}catch(t){throw se.textContent=le++,t}})).observe(se,{characterData:!0});var de=document.contains?function(t,e){return t.__shady_native_contains(e)}:function(t,e){return t===e||t.documentElement&&t.documentElement.__shady_native_contains(e)};function he(t,e){for(;e;){if(e==t)return!0;e=e.__shady_parentNode}return!1}function ge(t){for(var e=t.length-1;0<=e;e--){var n=t[e],r=n.getAttribute("id")||n.getAttribute("name");r&&"length"!==r&&isNaN(r)&&(t[r]=n)}return t.item=function(e){return t[e]},t.namedItem=function(e){if("length"!==e&&isNaN(e)&&t[e])return t[e];for(var n=c(t),r=n.next();!r.done;r=n.next())if(((r=r.value).getAttribute("id")||r.getAttribute("name"))==e)return r;return null},t}function fe(t){var e=[];for(t=t.__shady_native_firstChild;t;t=t.__shady_native_nextSibling)e.push(t);return e}function pe(t){var e=[];for(t=t.__shady_firstChild;t;t=t.__shady_nextSibling)e.push(t);return e}function ve(t,e,n){if(n.configurable=!0,n.value)t[e]=n.value;else try{Object.defineProperty(t,e,n)}catch(t){}}function me(t,e,n,r){for(var i in n=void 0===n?"":n,e)r&&0<=r.indexOf(i)||ve(t,n+i,e[i])}function ye(t,e){for(var n in e)n in t&&ve(t,n,e[n])}function be(t){var e={};return Object.getOwnPropertyNames(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e}function Ie(t,e){for(var n,r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++)t[n=r[i]]=e[n]}function Ce(t){return t instanceof Node?t:document.createTextNode(""+t)}function xe(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];if(1===e.length)return Ce(e[0]);n=document.createDocumentFragment();for(var r=(e=c(e)).next();!r.done;r=e.next())n.appendChild(Ce(r.value));return n}var Be,Ae=[];function Fe(t){Be||(Be=!0,ue(Qe)),Ae.push(t)}function Qe(){Be=!1;for(var t=!!Ae.length;Ae.length;)Ae.shift()();return t}function we(){this.g=!1,this.addedNodes=[],this.removedNodes=[],this.oa=new Set}Qe.list=Ae,we.prototype.flush=function(){if(this.g){this.g=!1;var t=this.takeRecords();t.length&&this.oa.forEach((function(e){e(t)}))}},we.prototype.takeRecords=function(){if(this.addedNodes.length||this.removedNodes.length){var t=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];return this.addedNodes=[],this.removedNodes=[],t}return[]};var Ue=/[&\u00A0"]/g,Ge=/[&\u00A0<>]/g;function Re(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case" ":return"&nbsp;"}}function Se(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e}var Le=Se("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),_e=Se("style script xmp iframe noembed noframes plaintext noscript".split(" "));function Ee(t,e){"template"===t.localName&&(t=t.content);for(var n="",r=e?e(t):t.childNodes,i=0,a=r.length,o=void 0;i<a&&(o=r[i]);i++){t:{var s=o,l=t,c=e;switch(s.nodeType){case Node.ELEMENT_NODE:for(var u,d="<"+(l=s.localName),h=s.attributes,g=0;u=h[g];g++)d+=" "+u.name+'="'+u.value.replace(Ue,Re)+'"';d+=">",s=Le[l]?d:d+Ee(s,c)+"</"+l+">";break t;case Node.TEXT_NODE:s=s.data,s=l&&_e[l.localName]?s:s.replace(Ge,Re);break t;case Node.COMMENT_NODE:s="\x3c!--"+s.data+"--\x3e";break t;default:throw window.console.error(s),Error("not implemented")}}n+=s}return n}var ke=$t.H,Ve={querySelector:function(t){return this.__shady_native_querySelector(t)},querySelectorAll:function(t){return this.__shady_native_querySelectorAll(t)}},Ze={};function Ne(t){Ze[t]=function(e){return e["__shady_native_"+t]}}function Te(t,e){for(var n in me(t,e,"__shady_native_"),e)Ne(n)}function Xe(t,e){e=void 0===e?[]:e;for(var n=0;n<e.length;n++){var r=e[n],i=Object.getOwnPropertyDescriptor(t,r);i&&(Object.defineProperty(t,"__shady_native_"+r,i),i.value?Ve[r]||(Ve[r]=i.value):Ne(r))}}var We=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),Me=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1),He=document.implementation.createHTMLDocument("inert");function De(t){for(var e;e=t.__shady_native_firstChild;)t.__shady_native_removeChild(e)}var Ye=["firstElementChild","lastElementChild","children","childElementCount"],Oe=["querySelector","querySelectorAll","append","prepend","replaceChildren"];var ze=be({get childNodes(){return this.__shady_childNodes},get firstChild(){return this.__shady_firstChild},get lastChild(){return this.__shady_lastChild},get childElementCount(){return this.__shady_childElementCount},get children(){return this.__shady_children},get firstElementChild(){return this.__shady_firstElementChild},get lastElementChild(){return this.__shady_lastElementChild},get shadowRoot(){return this.__shady_shadowRoot}}),Je=be({get textContent(){return this.__shady_textContent},set textContent(t){this.__shady_textContent=t},get innerHTML(){return this.__shady_innerHTML},set innerHTML(t){this.__shady_innerHTML=t}}),je=be({get parentElement(){return this.__shady_parentElement},get parentNode(){return this.__shady_parentNode},get nextSibling(){return this.__shady_nextSibling},get previousSibling(){return this.__shady_previousSibling},get nextElementSibling(){return this.__shady_nextElementSibling},get previousElementSibling(){return this.__shady_previousElementSibling},get className(){return this.__shady_className},set className(t){this.__shady_className=t}});function Pe(t){for(var e in t){var n=t[e];n&&(n.enumerable=!1)}}Pe(ze),Pe(Je),Pe(je);var Ke=$t.H||!0===$t.J,qe=Ke?function(){}:function(t){var e=Kt(t);e.Pa||(e.Pa=!0,ye(t,je))},$e=Ke?function(){}:function(t){var e=Kt(t);e.Oa||(e.Oa=!0,ye(t,ze),window.customElements&&window.customElements.polyfillWrapFlushCallback&&!$t.J||ye(t,Je))},tn="__eventWrappers"+Date.now(),en=function(){var t=Object.getOwnPropertyDescriptor(Event.prototype,"composed");return t?function(e){return t.get.call(e)}:null}(),nn=function(){function t(){}var e=!1,n={get capture(){return e=!0,!1}};return window.addEventListener("test",t,n),window.removeEventListener("test",t,n),e}();function rn(t){if(t&&"object"===o(t))var e=!!t.capture,n=!!t.once,r=!!t.passive,i=t.U;else e=!!t,r=n=!1;return{La:i,capture:e,once:n,passive:r,Ja:nn?t:e}}var an={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},on={DOMAttrModified:!0,DOMAttributeNameChanged:!0,DOMCharacterDataModified:!0,DOMElementNameChanged:!0,DOMNodeInserted:!0,DOMNodeInsertedIntoDocument:!0,DOMNodeRemoved:!0,DOMNodeRemovedFromDocument:!0,DOMSubtreeModified:!0};function sn(t){return t instanceof Node?t.__shady_getRootNode():t}function ln(t,e){var n=[],r=t;for(t=sn(t);r;)n.push(r),r=r.__shady_assignedSlot?r.__shady_assignedSlot:r.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&r.host&&(e||r!==t)?r.host:r.__shady_parentNode;return n[n.length-1]===document&&n.push(window),n}function cn(t,e){if(!re)return t;t=ln(t,!0);for(var n,r,i=0,a=void 0,o=void 0;i<e.length;i++)if((r=sn(n=e[i]))!==a&&(o=t.indexOf(r),a=r),!re(r)||-1<o)return n}function un(t){function e(e,n){return(e=new t(e,n)).__composed=n&&!!n.composed,e}return e.__proto__=t,e.prototype=t.prototype,e}var dn={focus:!0,blur:!0};function hn(t){return t.__target!==t.target||t.__relatedTarget!==t.relatedTarget}function gn(t,e,n){if(n=e.__handlers&&e.__handlers[t.type]&&e.__handlers[t.type][n])for(var r,i=0;(r=n[i])&&(!hn(t)||t.target!==t.relatedTarget)&&(r.call(e,t),!t.__immediatePropagationStopped);i++);}function fn(t){var e=t.composedPath(),n=e.map((function(t){return cn(t,e)})),r=t.bubbles;Object.defineProperty(t,"currentTarget",{configurable:!0,enumerable:!0,get:function(){return o}});var i=Event.CAPTURING_PHASE;Object.defineProperty(t,"eventPhase",{configurable:!0,enumerable:!0,get:function(){return i}});for(var a=e.length-1;0<=a;a--){var o=e[a];if(i=o===n[a]?Event.AT_TARGET:Event.CAPTURING_PHASE,gn(t,o,"capture"),t.ra)return}for(a=0;a<e.length;a++){var s=(o=e[a])===n[a];if((s||r)&&(i=s?Event.AT_TARGET:Event.BUBBLING_PHASE,gn(t,o,"bubble"),t.ra))return}i=0,o=null}function pn(t,e,n,r,i,a){for(var o=0;o<t.length;o++){var s=t[o],l=s.type,c=s.capture,u=s.once,d=s.passive;if(e===s.node&&n===l&&r===c&&i===u&&a===d)return o}return-1}function vn(t){return Qe(),!$t.fa&&this instanceof Node&&!de(document,this)?(t.__target||In(t,this),fn(t)):this.__shady_native_dispatchEvent(t)}function mn(t,e,n){var r=rn(n),i=r.capture,a=r.once,s=r.passive,l=r.La;if(r=r.Ja,e){var c=o(e);if(("function"===c||"object"===c)&&("object"!==c||e.handleEvent&&"function"==typeof e.handleEvent)){if(on[t])return this.__shady_native_addEventListener(t,e,r);var u=l||this;if(l=e[tn]){if(-1<pn(l,u,t,i,a,s))return}else e[tn]=[];l=function(r){if(a&&this.__shady_removeEventListener(t,e,n),r.__target||In(r),u!==this){var o=Object.getOwnPropertyDescriptor(r,"currentTarget");Object.defineProperty(r,"currentTarget",{get:function(){return u},configurable:!0});var s=Object.getOwnPropertyDescriptor(r,"eventPhase");Object.defineProperty(r,"eventPhase",{configurable:!0,enumerable:!0,get:function(){return i?Event.CAPTURING_PHASE:Event.BUBBLING_PHASE}})}if(r.__previousCurrentTarget=r.currentTarget,(!re(u)&&"slot"!==u.localName||-1!=r.composedPath().indexOf(u))&&(r.composed||-1<r.composedPath().indexOf(u)))if(hn(r)&&r.target===r.relatedTarget)r.eventPhase===Event.BUBBLING_PHASE&&r.stopImmediatePropagation();else if(r.eventPhase===Event.CAPTURING_PHASE||r.bubbles||r.target===u||u instanceof Window){var l="function"===c?e.call(u,r):e.handleEvent&&e.handleEvent(r);return u!==this&&(o?(Object.defineProperty(r,"currentTarget",o),o=null):delete r.currentTarget,s?(Object.defineProperty(r,"eventPhase",s),s=null):delete r.eventPhase),l}},e[tn].push({node:u,type:t,capture:i,once:a,passive:s,pb:l}),this.__handlers=this.__handlers||{},this.__handlers[t]=this.__handlers[t]||{capture:[],bubble:[]},this.__handlers[t][i?"capture":"bubble"].push(l),dn[t]||this.__shady_native_addEventListener(t,l,r)}}}function yn(t,e,n){if(e){var r=rn(n);n=r.capture;var i=r.once,a=r.passive,o=r.La;if(r=r.Ja,on[t])return this.__shady_native_removeEventListener(t,e,r);var s=o||this;o=void 0;var l=null;try{l=e[tn]}catch(t){}l&&(-1<(i=pn(l,s,t,n,i,a))&&(o=l.splice(i,1)[0].pb,l.length||(e[tn]=void 0))),this.__shady_native_removeEventListener(t,o||e,r),o&&this.__handlers&&this.__handlers[t]&&(-1<(e=(t=this.__handlers[t][n?"capture":"bubble"]).indexOf(o))&&t.splice(e,1))}}var bn=be({get composed(){return void 0===this.__composed&&(en?this.__composed="focusin"===this.type||"focusout"===this.type||en(this):!1!==this.isTrusted&&(this.__composed=an[this.type])),this.__composed||!1},composedPath:function(){return this.__composedPath||(this.__composedPath=ln(this.__target,this.composed)),this.__composedPath},get target(){return cn(this.currentTarget||this.__previousCurrentTarget,this.composedPath())},get relatedTarget(){return this.__relatedTarget?(this.__relatedTargetComposedPath||(this.__relatedTargetComposedPath=ln(this.__relatedTarget,!0)),cn(this.currentTarget||this.__previousCurrentTarget,this.__relatedTargetComposedPath)):null},stopPropagation:function(){Event.prototype.stopPropagation.call(this),this.ra=!0},stopImmediatePropagation:function(){Event.prototype.stopImmediatePropagation.call(this),this.ra=this.__immediatePropagationStopped=!0}});function In(t,e){if(e=void 0===e?t.target:e,t.__target=e,t.__relatedTarget=t.relatedTarget,$t.H){if(!(e=Object.getPrototypeOf(t)).hasOwnProperty("__shady_patchedProto")){var n=Object.create(e);n.__shady_sourceProto=e,me(n,bn),e.__shady_patchedProto=n}t.__proto__=e.__shady_patchedProto}else me(t,bn)}var Cn=un(Event),xn=un(CustomEvent),Bn=un(MouseEvent);var An=Object.getOwnPropertyNames(Element.prototype).filter((function(t){return"on"===t.substring(0,2)})),Fn=Object.getOwnPropertyNames(HTMLElement.prototype).filter((function(t){return"on"===t.substring(0,2)}));function Qn(t){return{set:function(e){var n=Kt(this),r=t.substring(2);n.T||(n.T={}),n.T[t]&&this.removeEventListener(r,n.T[t]),this.__shady_addEventListener(r,e),n.T[t]=e},get:function(){var e=qt(this);return e&&e.T&&e.T[t]},configurable:!0}}function wn(t,e){return{index:t,ga:[],na:e}}function Un(t,e,n,r){var i=0,a=0,o=0,s=0,l=Math.min(e-i,r-a);if(0==i&&0==a)t:{for(o=0;o<l;o++)if(t[o]!==n[o])break t;o=l}if(e==t.length&&r==n.length){s=t.length;for(var c=n.length,u=0;u<l-o&&Gn(t[--s],n[--c]);)u++;s=u}if(a+=o,r-=s,0==(e-=s)-(i+=o)&&0==r-a)return[];if(i==e){for(e=wn(i,0);a<r;)e.ga.push(n[a++]);return[e]}if(a==r)return[wn(i,e-i)];for(r=r-(o=a)+1,s=e-(l=i)+1,e=Array(r),c=0;c<r;c++)e[c]=Array(s),e[c][0]=c;for(c=0;c<s;c++)e[0][c]=c;for(c=1;c<r;c++)for(u=1;u<s;u++)if(t[l+u-1]===n[o+c-1])e[c][u]=e[c-1][u-1];else{var d=e[c-1][u]+1,h=e[c][u-1]+1;e[c][u]=d<h?d:h}for(l=e.length-1,o=e[0].length-1,r=e[l][o],t=[];0<l||0<o;)0==l?(t.push(2),o--):0==o?(t.push(3),l--):(s=e[l-1][o-1],(d=(c=e[l-1][o])<(u=e[l][o-1])?c<s?c:s:u<s?u:s)==s?(s==r?t.push(0):(t.push(1),r=s),l--,o--):d==c?(t.push(3),l--,r=c):(t.push(2),o--,r=u));for(t.reverse(),e=void 0,l=[],o=0;o<t.length;o++)switch(t[o]){case 0:e&&(l.push(e),e=void 0),i++,a++;break;case 1:e||(e=wn(i,0)),e.na++,i++,e.ga.push(n[a]),a++;break;case 2:e||(e=wn(i,0)),e.na++,i++;break;case 3:e||(e=wn(i,0)),e.ga.push(n[a]),a++}return e&&l.push(e),l}function Gn(t,e){return t===e}var Rn=be({dispatchEvent:vn,addEventListener:mn,removeEventListener:yn}),Sn=null;function Ln(){return Sn||(Sn=window.ShadyCSS&&window.ShadyCSS.ScopingShim),Sn||null}function _n(t,e,n){var r=Ln();return!(!r||"class"!==e)&&(r.setElementClass(t,n),!0)}function En(t,e){var n=Ln();n&&n.unscopeNode(t,e)}function kn(t,e){var n=Ln();if(!n)return!0;if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){for(n=!0,t=t.__shady_firstChild;t;t=t.__shady_nextSibling)n=n&&kn(t,e);return n}return t.nodeType!==Node.ELEMENT_NODE||n.currentScopeForNode(t)===e}function Vn(t){if(t.nodeType!==Node.ELEMENT_NODE)return"";var e=Ln();return e?e.currentScopeForNode(t):""}function Zn(t,e){if(t)for(t.nodeType===Node.ELEMENT_NODE&&e(t),t=t.__shady_firstChild;t;t=t.__shady_nextSibling)t.nodeType===Node.ELEMENT_NODE&&Zn(t,e)}var Nn=window.document,Tn=$t.fa,Xn=Object.getOwnPropertyDescriptor(Node.prototype,"isConnected"),Wn=Xn&&Xn.get;function Mn(t){for(var e;e=t.__shady_firstChild;)t.__shady_removeChild(e)}function Hn(t){var e=qt(t);if(e&&void 0!==e.qa)for(e=t.__shady_firstChild;e;e=e.__shady_nextSibling)Hn(e);(t=qt(t))&&(t.qa=void 0)}function Dn(t){var e=t;if(t&&"slot"===t.localName){var n=qt(t);(n=n&&n.aa)&&(e=n.length?n[0]:Dn(t.__shady_nextSibling))}return e}function Yn(t,e,n){if(t=(t=qt(t))&&t.ea){if(e)if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(var r=0,i=e.childNodes.length;r<i;r++)t.addedNodes.push(e.childNodes[r]);else t.addedNodes.push(e);n&&t.removedNodes.push(n),function(t){t.g||(t.g=!0,ue((function(){t.flush()})))}(t)}}var On=be({get parentNode(){var t=qt(this);return void 0!==(t=t&&t.parentNode)?t:this.__shady_native_parentNode},get firstChild(){var t=qt(this);return void 0!==(t=t&&t.firstChild)?t:this.__shady_native_firstChild},get lastChild(){var t=qt(this);return void 0!==(t=t&&t.lastChild)?t:this.__shady_native_lastChild},get nextSibling(){var t=qt(this);return void 0!==(t=t&&t.nextSibling)?t:this.__shady_native_nextSibling},get previousSibling(){var t=qt(this);return void 0!==(t=t&&t.previousSibling)?t:this.__shady_native_previousSibling},get childNodes(){if(ne(this)){var t=qt(this);if(!t.childNodes){t.childNodes=[];for(var e=this.__shady_firstChild;e;e=e.__shady_nextSibling)t.childNodes.push(e)}var n=t.childNodes}else n=this.__shady_native_childNodes;return n.item=function(t){return n[t]},n},get parentElement(){var t=qt(this);return(t=t&&t.parentNode)&&t.nodeType!==Node.ELEMENT_NODE&&(t=null),void 0!==t?t:this.__shady_native_parentElement},get isConnected(){if(Wn&&Wn.call(this))return!0;if(this.nodeType==Node.DOCUMENT_FRAGMENT_NODE)return!1;var t=this.ownerDocument;if(null===t||de(t,this))return!0;for(t=this;t&&!(t instanceof Document);)t=t.__shady_parentNode||(re(t)?t.host:void 0);return!!(t&&t instanceof Document)},get textContent(){if(ne(this)){for(var t=[],e=this.__shady_firstChild;e;e=e.__shady_nextSibling)e.nodeType!==Node.COMMENT_NODE&&t.push(e.__shady_textContent);return t.join("")}return this.__shady_native_textContent},set textContent(t){switch(null==t&&(t=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:if(!ne(this)&&$t.H){var e=this.__shady_firstChild;(e!=this.__shady_lastChild||e&&e.nodeType!=Node.TEXT_NODE)&&Mn(this),this.__shady_native_textContent=t}else Mn(this),(0<t.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_insertBefore(document.createTextNode(t));break;default:this.nodeValue=t}},insertBefore:function(t,e){if(this.ownerDocument!==Nn&&t.ownerDocument!==Nn)return this.__shady_native_insertBefore(t,e),t;if(t===this)throw Error("Failed to execute 'appendChild' on 'Node': The new child element contains the parent.");if(e){var n=qt(e);if(void 0!==(n=n&&n.parentNode)&&n!==this||void 0===n&&e.__shady_native_parentNode!==this)throw Error("Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.")}if(e===t)return t;Yn(this,t);var r=[],i=(n=Jr(this))?n.host.localName:Vn(this),a=t.__shady_parentNode;if(a){var o=Vn(t),s=!!n||!Jr(t)||Tn&&void 0!==this.__noInsertionPoint;a.__shady_removeChild(t,s)}a=!0;var l=(!Tn||void 0===t.__noInsertionPoint&&void 0===this.__noInsertionPoint)&&!kn(t,i),c=n&&!t.__noInsertionPoint&&(!Tn||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE);return(c||l)&&(l&&(o=o||Vn(t)),Zn(t,(function(t){if(c&&"slot"===t.localName&&r.push(t),l){var e=o;Ln()&&(e&&En(t,e),(e=Ln())&&e.scopeNode(t,i))}}))),r.length&&(Xr(n),n.i.push.apply(n.i,u(r)),kr(n)),ne(this)&&(function(t,e,n){Ar(e,2);var r=Kt(e);if(void 0!==r.firstChild&&(r.childNodes=null),t.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(t=t.__shady_native_firstChild;t;t=t.__shady_native_nextSibling)Fr(t,e,r,n);else Fr(t,e,r,n)}(t,this,e),(s=qt(this)).root?(a=!1,ie(this)&&kr(s.root)):n&&"slot"===this.localName&&(a=!1,kr(n))),a?(n=re(this)?this.host:this,e?(e=Dn(e),n.__shady_native_insertBefore(t,e)):n.__shady_native_appendChild(t)):t.ownerDocument!==this.ownerDocument&&this.ownerDocument.adoptNode(t),t},appendChild:function(t){if(this!=t||!re(t))return this.__shady_insertBefore(t)},removeChild:function(t,e){if(e=void 0!==e&&e,this.ownerDocument!==Nn)return this.__shady_native_removeChild(t);if(t.__shady_parentNode!==this)throw Error("The node to be removed is not a child of this node: "+t);Yn(this,null,t);var n=Jr(t),r=n&&function(t,e){if(t.g){Wr(t);var n,r=t.h;for(n in r)for(var i=r[n],a=0;a<i.length;a++){var o=i[a];if(he(e,o)){i.splice(a,1);var s=t.g.indexOf(o);if(0<=s&&(t.g.splice(s,1),(s=qt(o.__shady_parentNode))&&s.ia&&s.ia--),a--,s=(o=qt(o)).aa)for(var l=0;l<s.length;l++){var c=s[l],u=c.__shady_native_parentNode;u&&u.__shady_native_removeChild(c)}o.aa=[],o.assignedNodes=[],s=!0}}return s}}(n,t),i=qt(this);if(ne(this)&&(function(t,e){var n=Kt(t);e=Kt(e),t===e.firstChild&&(e.firstChild=n.nextSibling),t===e.lastChild&&(e.lastChild=n.previousSibling),t=n.previousSibling;var r=n.nextSibling;t&&(Kt(t).nextSibling=r),r&&(Kt(r).previousSibling=t),n.parentNode=n.previousSibling=n.nextSibling=void 0,void 0!==e.childNodes&&(e.childNodes=null)}(t,this),ie(this))){kr(i.root);var a=!0}if(Ln()&&!e&&n&&t.nodeType!==Node.TEXT_NODE){var o=Vn(t);Zn(t,(function(t){En(t,o)}))}return Hn(t),n&&((e="slot"===this.localName)&&(a=!0),(r||e)&&kr(n)),a||(a=re(this)?this.host:this,(!i.root&&"slot"!==t.localName||a===t.__shady_native_parentNode)&&a.__shady_native_removeChild(t)),t},replaceChild:function(t,e){return this.__shady_insertBefore(t,e),this.__shady_removeChild(e),t},cloneNode:function(t){if("template"==this.localName)return this.__shady_native_cloneNode(t);var e=this.__shady_native_cloneNode(!1);if(t&&e.nodeType!==Node.ATTRIBUTE_NODE){t=this.__shady_firstChild;for(var n;t;t=t.__shady_nextSibling)n=t.__shady_cloneNode(!0),e.__shady_appendChild(n)}return e},getRootNode:function(t){if(this&&this.nodeType){var e=Kt(this),n=e.qa;return void 0===n&&(re(this)?(n=this,e.qa=n):(n=(n=this.__shady_parentNode)?n.__shady_getRootNode(t):this,document.documentElement.__shady_native_contains(this)&&(e.qa=n))),n}},contains:function(t){return he(this,t)}}),zn=be({get assignedSlot(){var t=this.__shady_parentNode;return(t=t&&t.__shady_shadowRoot)&&Vr(t),(t=qt(this))&&t.assignedSlot||null}});function Jn(t,e,n){var r=[];return jn(t,e,n,r),r}function jn(t,e,n,r){for(t=t.__shady_firstChild;t;t=t.__shady_nextSibling){var i;if(i=t.nodeType===Node.ELEMENT_NODE){var a=e,o=n,s=r,l=a(i=t);l&&s.push(i),o&&o(l)?i=l:(jn(i,a,o,s),i=void 0)}if(i)break}}var Pn={get firstElementChild(){var t=qt(this);if(t&&void 0!==t.firstChild){for(t=this.__shady_firstChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_nextSibling;return t}return this.__shady_native_firstElementChild},get lastElementChild(){var t=qt(this);if(t&&void 0!==t.lastChild){for(t=this.__shady_lastChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_previousSibling;return t}return this.__shady_native_lastElementChild},get children(){return ne(this)?ge(Array.prototype.filter.call(pe(this),(function(t){return t.nodeType===Node.ELEMENT_NODE}))):this.__shady_native_children},get childElementCount(){var t=this.__shady_children;return t?t.length:0}},Kn=be((Pn.append=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];this.__shady_insertBefore(xe.apply(null,u(e)),null)},Pn.prepend=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];this.__shady_insertBefore(xe.apply(null,u(e)),this.__shady_firstChild)},Pn.replaceChildren=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];for(;null!==(n=this.__shady_firstChild);)this.__shady_removeChild(n);this.__shady_insertBefore(xe.apply(null,u(e)),null)},Pn)),qn=be({querySelector:function(t){return Jn(this,(function(e){return oe.call(e,t)}),(function(t){return!!t}))[0]||null},querySelectorAll:function(t,e){if(e){e=Array.prototype.slice.call(this.__shady_native_querySelectorAll(t));var n=this.__shady_getRootNode();return ge(e.filter((function(t){return t.__shady_getRootNode()==n})))}return ge(Jn(this,(function(e){return oe.call(e,t)})))}}),$n=$t.fa&&!$t.J?Ie({},Kn):Kn;Ie(Kn,qn);var tr=be({after:function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];if(null!==(n=this.__shady_parentNode)){var r=this.__shady_nextSibling;n.__shady_insertBefore(xe.apply(null,u(e)),r)}},before:function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];null!==(n=this.__shady_parentNode)&&n.__shady_insertBefore(xe.apply(null,u(e)),this)},remove:function(){var t=this.__shady_parentNode;null!==t&&t.__shady_removeChild(this)},replaceWith:function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];if(null!==(n=this.__shady_parentNode)){var r=this.__shady_nextSibling;n.__shady_removeChild(this),n.__shady_insertBefore(xe.apply(null,u(e)),r)}}}),er=window.document;function nr(t,e){if("slot"===e)ie(t=t.__shady_parentNode)&&kr(qt(t).root);else if("slot"===t.localName&&"name"===e&&(e=Jr(t))){if(e.g){Wr(e);var n=t.Qa,r=Mr(t);if(r!==n){var i=(n=e.h[n]).indexOf(t);0<=i&&n.splice(i,1),(n=e.h[r]||(e.h[r]=[])).push(t),1<n.length&&(e.h[r]=Hr(n))}}kr(e)}}var rr=be({get previousElementSibling(){var t=qt(this);if(t&&void 0!==t.previousSibling){for(t=this.__shady_previousSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_previousSibling;return t}return this.__shady_native_previousElementSibling},get nextElementSibling(){var t=qt(this);if(t&&void 0!==t.nextSibling){for(t=this.__shady_nextSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_nextSibling;return t}return this.__shady_native_nextElementSibling},get slot(){return this.getAttribute("slot")},set slot(t){this.__shady_setAttribute("slot",t)},get className(){return this.getAttribute("class")||""},set className(t){this.__shady_setAttribute("class",t)},setAttribute:function(t,e){this.ownerDocument!==er?this.__shady_native_setAttribute(t,e):_n(this,t,e)||(this.__shady_native_setAttribute(t,e),nr(this,t))},removeAttribute:function(t){this.ownerDocument!==er?this.__shady_native_removeAttribute(t):_n(this,t,"")?""===this.getAttribute(t)&&this.__shady_native_removeAttribute(t):(this.__shady_native_removeAttribute(t),nr(this,t))}});$t.fa||An.forEach((function(t){rr[t]=Qn(t)}));var ir=be({attachShadow:function(t){if(!this)throw Error("Must provide a host.");if(!t)throw Error("Not enough arguments.");if(t.shadyUpgradeFragment&&!$t.Na){var e=t.shadyUpgradeFragment;if(e.__proto__=ShadowRoot.prototype,Er(e,this,t),Qr(e,e),t=e.__noInsertionPoint?null:e.querySelectorAll("slot"),e.__noInsertionPoint=void 0,t&&t.length){var n=e;Xr(n),n.i.push.apply(n.i,u(t)),kr(e)}e.host.__shady_native_appendChild(e)}else e=new _r(Rr,this,t);return this.__CE_shadowRoot=e},get shadowRoot(){var t=qt(this);return t&&t.gb||null}});Ie(rr,ir);var ar=document.implementation.createHTMLDocument("inert"),or=be({get innerHTML(){return ne(this)?Ee("template"===this.localName?this.content:this,pe):this.__shady_native_innerHTML},set innerHTML(t){if("template"===this.localName)this.__shady_native_innerHTML=t;else{Mn(this);var e=this.localName||"div";for(e=this.namespaceURI&&this.namespaceURI!==ar.namespaceURI?ar.createElementNS(this.namespaceURI,e):ar.createElement(e),$t.H?e.__shady_native_innerHTML=t:e.innerHTML=t;t=e.__shady_firstChild;)this.__shady_insertBefore(t)}}}),sr=be({blur:function(){var t=qt(this);(t=(t=t&&t.root)&&t.activeElement)?t.__shady_blur():this.__shady_native_blur()}});$t.fa||Fn.forEach((function(t){sr[t]=Qn(t)}));var lr=be({assignedNodes:function(t){if("slot"===this.localName){var e=this.__shady_getRootNode();return e&&re(e)&&Vr(e),(e=qt(this))&&(t&&t.flatten?e.aa:e.assignedNodes)||[]}},addEventListener:function(t,e,n){if("slot"!==this.localName||"slotchange"===t)mn.call(this,t,e,n);else{"object"!==o(n)&&(n={capture:!!n});var r=this.__shady_parentNode;if(!r)throw Error("ShadyDOM cannot attach event to slot unless it has a `parentNode`");n.U=this,r.__shady_addEventListener(t,e,n)}},removeEventListener:function(t,e,n){if("slot"!==this.localName||"slotchange"===t)yn.call(this,t,e,n);else{"object"!==o(n)&&(n={capture:!!n});var r=this.__shady_parentNode;if(!r)throw Error("ShadyDOM cannot attach event to slot unless it has a `parentNode`");n.U=this,r.__shady_removeEventListener(t,e,n)}}}),cr=be({getElementById:function(t){return""===t?null:Jn(this,(function(e){return e.id==t}),(function(t){return!!t}))[0]||null}});function ur(t,e){for(var n;e&&!t.has(n=e.__shady_getRootNode());)e=n.host;return e}var dr="__shady_native_"+ee(),hr=be({get activeElement(){var t=$t.H?document.__shady_native_activeElement:document.activeElement;if(!t||!t.nodeType)return null;var e=!!re(this);if(!(this===document||e&&this.host!==t&&this.host.__shady_native_contains(t)))return null;for(e=Jr(t);e&&e!==this;)e=Jr(t=e.host);return this===document?e?null:t:e===this?t:null},elementsFromPoint:function(t,e){t=[].slice.call(document[dr](t,e)),e=function(t){var e=new Set;for(e.add(t);re(t)&&t.host;)t=t.host.__shady_getRootNode(),e.add(t);return e}(this);for(var n=new Set,r=0;r<t.length;r++)n.add(ur(e,t[r]));var i=[];return n.forEach((function(t){return i.push(t)})),i},elementFromPoint:function(t,e){return this.__shady_elementsFromPoint(t,e)[0]||null}}),gr=window.document,fr=be({importNode:function(t,e){if(t.ownerDocument!==gr||"template"===t.localName)return this.__shady_native_importNode(t,e);var n=this.__shady_native_importNode(t,!1);if(e)for(t=t.__shady_firstChild;t;t=t.__shady_nextSibling)e=this.__shady_importNode(t,!0),n.__shady_appendChild(e);return n}}),pr=be({dispatchEvent:vn,addEventListener:mn.bind(window),removeEventListener:yn.bind(window)}),vr={};Object.getOwnPropertyDescriptor(HTMLElement.prototype,"parentElement")&&(vr.parentElement=On.parentElement),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"contains")&&(vr.contains=On.contains),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"children")&&(vr.children=Kn.children),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"innerHTML")&&(vr.innerHTML=or.innerHTML),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"className")&&(vr.className=rr.className);var mr={EventTarget:[Rn],Node:[On,window.EventTarget?null:Rn],Text:[zn],Comment:[zn],CDATASection:[zn],ProcessingInstruction:[zn],Element:[rr,Kn,tr,zn,!$t.H||"innerHTML"in Element.prototype?or:null,window.HTMLSlotElement?null:lr],HTMLElement:[sr,vr],HTMLSlotElement:[lr],DocumentFragment:[$n,cr],Document:[fr,$n,cr,hr],Window:[pr],CharacterData:[tr]},yr=$t.H?null:["innerHTML","textContent"];function br(t,e,n,r){e.forEach((function(e){return t&&e&&me(t,e,n,r)}))}function Ir(t){var e,n=t?null:yr;for(e in mr)br(window[e]&&window[e].prototype,mr[e],t,n)}function Cr(t){return t.__shady_protoIsPatched=!0,br(t,mr.EventTarget),br(t,mr.Node),br(t,mr.Element),br(t,mr.HTMLElement),br(t,mr.HTMLSlotElement),t}["Text","Comment","CDATASection","ProcessingInstruction"].forEach((function(t){var e=window[t],n=Object.create(e.prototype);n.__shady_protoIsPatched=!0,br(n,mr.EventTarget),br(n,mr.Node),mr[t]&&br(n,mr[t]),e.prototype.__shady_patchedProto=n}));var xr=$t.Aa,Br=$t.H;function Ar(t,e){if(xr&&!t.__shady_protoIsPatched&&!re(t)){var n=Object.getPrototypeOf(t),r=n.hasOwnProperty("__shady_patchedProto")&&n.__shady_patchedProto;r||(Cr(r=Object.create(n)),n.__shady_patchedProto=r),Object.setPrototypeOf(t,r)}Br||(1===e?qe(t):2===e&&$e(t))}function Fr(t,e,n,r){Ar(t,1),r=r||null;var i=Kt(t),a=r?Kt(r):null;i.previousSibling=r?a.previousSibling:e.__shady_lastChild,(a=qt(i.previousSibling))&&(a.nextSibling=t),(a=qt(i.nextSibling=r))&&(a.previousSibling=t),i.parentNode=e,r?r===n.firstChild&&(n.firstChild=t):(n.lastChild=t,n.firstChild||(n.firstChild=t)),n.childNodes=null}function Qr(t,e){var n=Kt(t);if(e||void 0===n.firstChild){n.childNodes=null;var r=n.firstChild=t.__shady_native_firstChild;for(n.lastChild=t.__shady_native_lastChild,Ar(t,2),n=r,r=void 0;n;n=n.__shady_native_nextSibling){var i=Kt(n);i.parentNode=e||t,i.nextSibling=n.__shady_native_nextSibling,i.previousSibling=r||null,r=n,Ar(n,1)}}}var wr=be({addEventListener:function(t,e,n){"object"!==o(n)&&(n={capture:!!n}),n.U=n.U||this,this.host.__shady_addEventListener(t,e,n)},removeEventListener:function(t,e,n){"object"!==o(n)&&(n={capture:!!n}),n.U=n.U||this,this.host.__shady_removeEventListener(t,e,n)}});function Ur(t,e){me(t,wr,e),me(t,hr,e),me(t,or,e),me(t,Kn,e),$t.J&&!e?(me(t,On,e),me(t,cr,e)):$t.H||(me(t,je),me(t,ze),me(t,Je))}var Gr,Rr={},Sr=$t.deferConnectionCallbacks&&"loading"===document.readyState;function Lr(t){var e=[];do{e.unshift(t)}while(t=t.__shady_parentNode);return e}function _r(t,e,n){if(t!==Rr)throw new TypeError("Illegal constructor");this.g=null,Er(this,e,n)}function Er(t,e,n){if(t.host=e,t.mode=n&&n.mode,Qr(t.host),(e=Kt(t.host)).root=t,e.gb="closed"!==t.mode?t:null,(e=Kt(t)).firstChild=e.lastChild=e.parentNode=e.nextSibling=e.previousSibling=null,$t.preferPerformance)for(;e=t.host.__shady_native_firstChild;)t.host.__shady_native_removeChild(e);else kr(t)}function kr(t){t.Y||(t.Y=!0,Fe((function(){return Vr(t)})))}function Vr(t){var e;if(e=t.Y){for(var n;t;)t.Y&&(n=t),re(t=(e=t).host.__shady_getRootNode())&&(e=qt(e.host))&&0<e.ia||(t=void 0);e=n}(n=e)&&n._renderSelf()}function Zr(t,e,n){var r=Kt(e),i=r.ua;r.ua=null,n||(n=(t=t.h[e.__shady_slot||"__catchall"])&&t[0]),n?(Kt(n).assignedNodes.push(e),r.assignedSlot=n):r.assignedSlot=void 0,i!==r.assignedSlot&&r.assignedSlot&&(Kt(r.assignedSlot).xa=!0)}function Nr(t,e,n){for(var r=0,i=void 0;r<n.length&&(i=n[r]);r++)if("slot"==i.localName){var a=qt(i).assignedNodes;a&&a.length&&Nr(t,e,a)}else e.push(n[r])}function Tr(t,e){e.__shady_native_dispatchEvent(new Event("slotchange")),(e=qt(e)).assignedSlot&&Tr(t,e.assignedSlot)}function Xr(t){t.i=t.i||[],t.g=t.g||[],t.h=t.h||{}}function Wr(t){if(t.i&&t.i.length){for(var e,n=t.i,r=0;r<n.length;r++){var i=n[r];Qr(i);var a=i.__shady_parentNode;Qr(a),(a=qt(a)).ia=(a.ia||0)+1,a=Mr(i),t.h[a]?((e=e||{})[a]=!0,t.h[a].push(i)):t.h[a]=[i],t.g.push(i)}if(e)for(var o in e)t.h[o]=Hr(t.h[o]);t.i=[]}}function Mr(t){var e=t.name||t.getAttribute("name")||"__catchall";return t.Qa=e}function Hr(t){return t.sort((function(t,e){t=Lr(t);for(var n=Lr(e),r=0;r<t.length;r++){e=t[r];var i=n[r];if(e!==i)return(t=pe(e.__shady_parentNode)).indexOf(e)-t.indexOf(i)}}))}function Dr(t){return Wr(t),!(!t.g||!t.g.length)}if(_r.prototype._renderSelf=function(){var t=Sr;if(Sr=!0,this.Y=!1,this.g){Wr(this);for(var e,n=0;n<this.g.length;n++){var r=qt(e=this.g[n]),i=r.assignedNodes;if(r.assignedNodes=[],r.aa=[],r.Ga=i)for(r=0;r<i.length;r++){var a=qt(i[r]);a.ua=a.assignedSlot,a.assignedSlot===e&&(a.assignedSlot=null)}}for(n=this.host.__shady_firstChild;n;n=n.__shady_nextSibling)Zr(this,n);for(n=0;n<this.g.length;n++){if(!(i=qt(e=this.g[n])).assignedNodes.length)for(r=e.__shady_firstChild;r;r=r.__shady_nextSibling)Zr(this,r,e);if((r=(r=qt(e.__shady_parentNode))&&r.root)&&(Dr(r)||r.Y)&&r._renderSelf(),Nr(this,i.aa,i.assignedNodes),r=i.Ga){for(a=0;a<r.length;a++)qt(r[a]).ua=null;i.Ga=null,r.length>i.assignedNodes.length&&(i.xa=!0)}i.xa&&(i.xa=!1,Tr(this,e))}for(e=this.g,n=[],i=0;i<e.length;i++)(a=qt(r=e[i].__shady_parentNode))&&a.root||!(0>n.indexOf(r))||n.push(r);for(e=0;e<n.length;e++){for(i=(a=n[e])===this?this.host:a,r=[],a=a.__shady_firstChild;a;a=a.__shady_nextSibling)if("slot"==a.localName)for(var o=qt(a).aa,s=0;s<o.length;s++)r.push(o[s]);else r.push(a);a=fe(i),o=Un(r,r.length,a,a.length);for(var l=s=0,c=void 0;s<o.length&&(c=o[s]);s++){for(var u=0,d=void 0;u<c.ga.length&&(d=c.ga[u]);u++)d.__shady_native_parentNode===i&&i.__shady_native_removeChild(d),a.splice(c.index+l,1);l-=c.na}for(l=0,c=void 0;l<o.length&&(c=o[l]);l++)for(s=a[c.index],u=c.index;u<c.index+c.na;u++)d=r[u],i.__shady_native_insertBefore(d,s),a.splice(u,0,d)}}if(!$t.preferPerformance&&!this.Fa)for(n=this.host.__shady_firstChild;n;n=n.__shady_nextSibling)e=qt(n),n.__shady_native_parentNode!==this.host||"slot"!==n.localName&&e.assignedSlot||this.host.__shady_native_removeChild(n);this.Fa=!0,Sr=t,Gr&&Gr()},function(t){t.__proto__=DocumentFragment.prototype,Ur(t,"__shady_"),Ur(t),Object.defineProperties(t,{nodeType:{value:Node.DOCUMENT_FRAGMENT_NODE,configurable:!0},nodeName:{value:"#document-fragment",configurable:!0},nodeValue:{value:null,configurable:!0}}),["localName","namespaceURI","prefix"].forEach((function(e){Object.defineProperty(t,e,{value:void 0,configurable:!0})})),["ownerDocument","baseURI","isConnected"].forEach((function(e){Object.defineProperty(t,e,{get:function(){return this.host[e]},configurable:!0})}))}(_r.prototype),window.customElements&&window.customElements.define&&$t.ya&&!$t.preferPerformance){var Yr=new Map;Gr=function(){var t=[];Yr.forEach((function(e,n){t.push([n,e])})),Yr.clear();for(var e=0;e<t.length;e++){var n=t[e][0];t[e][1]?n.__shadydom_connectedCallback():n.__shadydom_disconnectedCallback()}},Sr&&document.addEventListener("readystatechange",(function(){Sr=!1,Gr()}),{once:!0});var Or=window.customElements.define,zr=function(t,e){var n=e.prototype.connectedCallback,r=e.prototype.disconnectedCallback;Or.call(window.customElements,t,function(t,e,n){var r=0,i="__isConnected"+r++;return(e||n)&&(t.prototype.connectedCallback=t.prototype.__shadydom_connectedCallback=function(){Sr?Yr.set(this,!0):this[i]||(this[i]=!0,e&&e.call(this))},t.prototype.disconnectedCallback=t.prototype.__shadydom_disconnectedCallback=function(){Sr?this.isConnected||Yr.set(this,!1):this[i]&&(this[i]=!1,n&&n.call(this))}),t}(e,n,r)),e.prototype.connectedCallback=n,e.prototype.disconnectedCallback=r};window.customElements.define=zr,Object.defineProperty(window.CustomElementRegistry.prototype,"define",{value:zr,configurable:!0})}function Jr(t){if(re(t=t.__shady_getRootNode()))return t}function jr(t){this.node=t}function Pr(t){Object.defineProperty(jr.prototype,t,{get:function(){return this.node["__shady_"+t]},set:function(e){this.node["__shady_"+t]=e},configurable:!0})}(t=jr.prototype).addEventListener=function(t,e,n){return this.node.__shady_addEventListener(t,e,n)},t.removeEventListener=function(t,e,n){return this.node.__shady_removeEventListener(t,e,n)},t.appendChild=function(t){return this.node.__shady_appendChild(t)},t.insertBefore=function(t,e){return this.node.__shady_insertBefore(t,e)},t.removeChild=function(t){return this.node.__shady_removeChild(t)},t.replaceChild=function(t,e){return this.node.__shady_replaceChild(t,e)},t.cloneNode=function(t){return this.node.__shady_cloneNode(t)},t.getRootNode=function(t){return this.node.__shady_getRootNode(t)},t.contains=function(t){return this.node.__shady_contains(t)},t.dispatchEvent=function(t){return this.node.__shady_dispatchEvent(t)},t.setAttribute=function(t,e){this.node.__shady_setAttribute(t,e)},t.getAttribute=function(t){return this.node.__shady_native_getAttribute(t)},t.hasAttribute=function(t){return this.node.__shady_native_hasAttribute(t)},t.removeAttribute=function(t){this.node.__shady_removeAttribute(t)},t.attachShadow=function(t){return this.node.__shady_attachShadow(t)},t.focus=function(){this.node.__shady_native_focus()},t.blur=function(){this.node.__shady_blur()},t.importNode=function(t,e){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_importNode(t,e)},t.getElementById=function(t){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_getElementById(t)},t.elementsFromPoint=function(t,e){return this.node.__shady_elementsFromPoint(t,e)},t.elementFromPoint=function(t,e){return this.node.__shady_elementFromPoint(t,e)},t.querySelector=function(t){return this.node.__shady_querySelector(t)},t.querySelectorAll=function(t,e){return this.node.__shady_querySelectorAll(t,e)},t.assignedNodes=function(t){if("slot"===this.node.localName)return this.node.__shady_assignedNodes(t)},t.append=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];return this.node.__shady_append.apply(this.node,u(e))},t.prepend=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];return this.node.__shady_prepend.apply(this.node,u(e))},t.after=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];return this.node.__shady_after.apply(this.node,u(e))},t.before=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];return this.node.__shady_before.apply(this.node,u(e))},t.remove=function(){return this.node.__shady_remove()},t.replaceWith=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];return this.node.__shady_replaceWith.apply(this.node,u(e))},a.Object.defineProperties(jr.prototype,{activeElement:{configurable:!0,enumerable:!0,get:function(){if(re(this.node)||this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_activeElement}},_activeElement:{configurable:!0,enumerable:!0,get:function(){return this.activeElement}},host:{configurable:!0,enumerable:!0,get:function(){if(re(this.node))return this.node.host}},parentNode:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentNode}},firstChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstChild}},lastChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastChild}},nextSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextSibling}},previousSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousSibling}},childNodes:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childNodes}},parentElement:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentElement}},firstElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstElementChild}},lastElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastElementChild}},nextElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextElementSibling}},previousElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousElementSibling}},children:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_children}},childElementCount:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childElementCount}},shadowRoot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_shadowRoot}},assignedSlot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_assignedSlot}},isConnected:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_isConnected}},innerHTML:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_innerHTML},set:function(t){this.node.__shady_innerHTML=t}},textContent:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_textContent},set:function(t){this.node.__shady_textContent=t}},slot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_slot},set:function(t){this.node.__shady_slot=t}},className:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_className},set:function(t){this.node.__shady_className=t}}}),An.forEach((function(t){return Pr(t)})),Fn.forEach((function(t){return Pr(t)}));var Kr=new WeakMap;function qr(t){if(re(t)||t instanceof jr)return t;var e=Kr.get(t);return e||(e=new jr(t),Kr.set(t,e)),e}if($t.ya){var $r=$t.H?function(t){return t}:function(t){return $e(t),qe(t),t},ti={inUse:$t.ya,patch:$r,isShadyRoot:re,enqueue:Fe,flush:Qe,flushInitial:function(t){!t.Fa&&t.Y&&Vr(t)},settings:$t,filterMutations:function(t,e){var n=e.getRootNode();return t.map((function(t){var e=n===t.target.getRootNode();if(e&&t.addedNodes){if(e=[].slice.call(t.addedNodes).filter((function(t){return n===t.getRootNode()})),e.length)return t=Object.create(t),Object.defineProperty(t,"addedNodes",{value:e,configurable:!0}),t}else if(e)return t})).filter((function(t){return t}))},observeChildren:function(t,e){var n=Kt(t);n.ea||(n.ea=new we),n.ea.oa.add(e);var r=n.ea;return{Ra:e,X:r,Sa:t,takeRecords:function(){return r.takeRecords()}}},unobserveChildren:function(t){var e=t&&t.X;e&&(e.oa.delete(t.Ra),e.oa.size||(Kt(t.Sa).ea=null))},deferConnectionCallbacks:$t.deferConnectionCallbacks,preferPerformance:$t.preferPerformance,handlesDynamicScoping:!0,wrap:$t.J?qr:$r,wrapIfNeeded:!0===$t.J?qr:function(t){return t},Wrapper:jr,composedPath:function(t){return t.__composedPath||(t.__composedPath=ln(t.target,!0)),t.__composedPath},noPatch:$t.J,patchOnDemand:$t.Aa,nativeMethods:Ve,nativeTree:Ze,patchElementProto:Cr};window.ShadyDOM=ti,function(){var t=["dispatchEvent","addEventListener","removeEventListener"];window.EventTarget?(Xe(window.EventTarget.prototype,t),void 0===window.__shady_native_addEventListener&&Xe(Window.prototype,t)):(Xe(Node.prototype,t),Xe(Window.prototype,t)),ke?Xe(Node.prototype,"parentNode firstChild lastChild previousSibling nextSibling childNodes parentElement textContent".split(" ")):Te(Node.prototype,{parentNode:{get:function(){return We.currentNode=this,We.parentNode()}},firstChild:{get:function(){return We.currentNode=this,We.firstChild()}},lastChild:{get:function(){return We.currentNode=this,We.lastChild()}},previousSibling:{get:function(){return We.currentNode=this,We.previousSibling()}},nextSibling:{get:function(){return We.currentNode=this,We.nextSibling()}},childNodes:{get:function(){var t=[];We.currentNode=this;for(var e=We.firstChild();e;)t.push(e),e=We.nextSibling();return t}},parentElement:{get:function(){return Me.currentNode=this,Me.parentNode()}},textContent:{get:function(){switch(this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:for(var t,e=document.createTreeWalker(this,NodeFilter.SHOW_TEXT,null,!1),n="";t=e.nextNode();)n+=t.nodeValue;return n;default:return this.nodeValue}},set:function(t){switch(null==t&&(t=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:De(this),(0<t.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_native_insertBefore(document.createTextNode(t),void 0);break;default:this.nodeValue=t}}}}),Xe(Node.prototype,"appendChild insertBefore removeChild replaceChild cloneNode contains".split(" ")),Xe(HTMLElement.prototype,["parentElement","contains"]),t={firstElementChild:{get:function(){return Me.currentNode=this,Me.firstChild()}},lastElementChild:{get:function(){return Me.currentNode=this,Me.lastChild()}},children:{get:function(){var t=[];Me.currentNode=this;for(var e=Me.firstChild();e;)t.push(e),e=Me.nextSibling();return ge(t)}},childElementCount:{get:function(){return this.children?this.children.length:0}}},ke?(Xe(Element.prototype,Ye),Xe(Element.prototype,["previousElementSibling","nextElementSibling","innerHTML","className"]),Xe(HTMLElement.prototype,["children","innerHTML","className"])):(Te(Element.prototype,t),Te(Element.prototype,{previousElementSibling:{get:function(){return Me.currentNode=this,Me.previousSibling()}},nextElementSibling:{get:function(){return Me.currentNode=this,Me.nextSibling()}},innerHTML:{get:function(){return Ee(this,fe)},set:function(t){var e="template"===this.localName?this.content:this;De(e);var n=this.localName||"div";for((n=this.namespaceURI&&this.namespaceURI!==He.namespaceURI?He.createElementNS(this.namespaceURI,n):He.createElement(n)).innerHTML=t,t="template"===this.localName?n.content:n;n=t.__shady_native_firstChild;)e.__shady_native_insertBefore(n,void 0)}},className:{get:function(){return this.getAttribute("class")||""},set:function(t){this.setAttribute("class",t)}}})),Xe(Element.prototype,"setAttribute getAttribute hasAttribute removeAttribute focus blur".split(" ")),Xe(Element.prototype,Oe),Xe(HTMLElement.prototype,["focus","blur"]),window.HTMLTemplateElement&&Xe(window.HTMLTemplateElement.prototype,["innerHTML"]),ke?Xe(DocumentFragment.prototype,Ye):Te(DocumentFragment.prototype,t),Xe(DocumentFragment.prototype,Oe),ke?(Xe(Document.prototype,Ye),Xe(Document.prototype,["activeElement"])):Te(Document.prototype,t),Xe(Document.prototype,["importNode","getElementById","elementFromPoint",ee()]),Xe(Document.prototype,Oe)}(),Ir("__shady_"),Object.defineProperty(document,"_activeElement",hr.activeElement),me(Window.prototype,pr,"__shady_"),$t.J?$t.Aa&&me(Element.prototype,ir):(Ir(),function(){if(!en&&Object.getOwnPropertyDescriptor(Event.prototype,"isTrusted")){var t=function(){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,composed:!0});this.__shady_dispatchEvent(t)};Element.prototype.click?Element.prototype.click=t:HTMLElement.prototype.click&&(HTMLElement.prototype.click=t)}}()),function(){for(var t in dn)window.__shady_native_addEventListener(t,(function(t){t.__target||(In(t),fn(t))}),!0)}(),window.Event=Cn,window.CustomEvent=xn,window.MouseEvent=Bn,window.ShadowRoot=_r}var ei=window.Document.prototype.createElement,ni=window.Document.prototype.createElementNS,ri=window.Document.prototype.importNode,ii=window.Document.prototype.prepend,ai=window.Document.prototype.append,oi=window.DocumentFragment.prototype.prepend,si=window.DocumentFragment.prototype.append,li=window.Node.prototype.cloneNode,ci=window.Node.prototype.appendChild,ui=window.Node.prototype.insertBefore,di=window.Node.prototype.removeChild,hi=window.Node.prototype.replaceChild,gi=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),fi=window.Element.prototype.attachShadow,pi=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),vi=window.Element.prototype.getAttribute,mi=window.Element.prototype.setAttribute,yi=window.Element.prototype.removeAttribute,bi=window.Element.prototype.getAttributeNS,Ii=window.Element.prototype.setAttributeNS,Ci=window.Element.prototype.removeAttributeNS,xi=window.Element.prototype.insertAdjacentElement,Bi=window.Element.prototype.insertAdjacentHTML,Ai=window.Element.prototype.prepend,Fi=window.Element.prototype.append,Qi=window.Element.prototype.before,wi=window.Element.prototype.after,Ui=window.Element.prototype.replaceWith,Gi=window.Element.prototype.remove,Ri=window.HTMLElement,Si=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),Li=window.HTMLElement.prototype.insertAdjacentElement,_i=window.HTMLElement.prototype.insertAdjacentHTML,Ei=new Set;function ki(t){var e=Ei.has(t);return t=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(t),!e&&t}"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach((function(t){return Ei.add(t)}));var Vi=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function Zi(t){var e=t.isConnected;if(void 0!==e)return e;if(Vi(t))return!0;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function Ni(t){var e=t.children;if(e)return Array.prototype.slice.call(e);for(e=[],t=t.firstChild;t;t=t.nextSibling)t.nodeType===Node.ELEMENT_NODE&&e.push(t);return e}function Ti(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function Xi(t,e,n){for(var r=t;r;){if(r.nodeType===Node.ELEMENT_NODE){var i=r;e(i);var a=i.localName;if("link"===a&&"import"===i.getAttribute("rel")){if(r=i.import,void 0===n&&(n=new Set),r instanceof Node&&!n.has(r))for(n.add(r),r=r.firstChild;r;r=r.nextSibling)Xi(r,e,n);r=Ti(t,i);continue}if("template"===a){r=Ti(t,i);continue}if(i=i.__CE_shadowRoot)for(i=i.firstChild;i;i=i.nextSibling)Xi(i,e,n)}r=r.firstChild?r.firstChild:Ti(t,r)}}function Wi(){var t=!(null==la||!la.noDocumentConstructionObserver),e=!(null==la||!la.shadyDomFastWalk);this.ca=[],this.g=[],this.W=!1,this.shadyDomFastWalk=e,this.nb=!t}function Mi(t,e,n,r){var i=window.ShadyDOM;if(t.shadyDomFastWalk&&i&&i.inUse){if(e.nodeType===Node.ELEMENT_NODE&&n(e),e.querySelectorAll)for(t=i.nativeMethods.querySelectorAll.call(e,"*"),e=0;e<t.length;e++)n(t[e])}else Xi(e,n,r)}function Hi(t,e){t.W&&Mi(t,e,(function(e){return Di(t,e)}))}function Di(t,e){if(t.W&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.ca.length;n++)t.ca[n](e);for(n=0;n<t.g.length;n++)t.g[n](e)}}function Yi(t,e){var n=[];for(Mi(t,e,(function(t){return n.push(t)})),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state?t.connectedCallback(r):Ji(t,r)}}function Oi(t,e){var n=[];for(Mi(t,e,(function(t){return n.push(t)})),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state&&t.disconnectedCallback(r)}}function zi(t,e,n){var r=(n=void 0===n?{}:n).ob,i=n.upgrade||function(e){return Ji(t,e)},a=[];for(Mi(t,e,(function(e){if(t.W&&Di(t,e),"link"===e.localName&&"import"===e.getAttribute("rel")){var n=e.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_registry=document.__CE_registry),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:e.addEventListener("load",(function(){var n=e.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var a=new Set;r&&(r.forEach((function(t){return a.add(t)})),a.delete(n)),zi(t,n,{ob:a,upgrade:i})}}))}else a.push(e)}),r),e=0;e<a.length;e++)i(a[e])}function Ji(t,e){try{var n=e.ownerDocument,r=n.__CE_registry,i=r&&(n.defaultView||n.__CE_isImportDocument)?ia(r,e.localName):void 0;if(i&&void 0===e.__CE_state){i.constructionStack.push(e);try{try{if(new i.constructorFunction!==e)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{i.constructionStack.pop()}}catch(t){throw e.__CE_state=2,t}if(e.__CE_state=1,e.__CE_definition=i,i.attributeChangedCallback&&e.hasAttributes()){var a=i.observedAttributes;for(i=0;i<a.length;i++){var o=a[i],s=e.getAttribute(o);null!==s&&t.attributeChangedCallback(e,o,null,s,null)}}Zi(e)&&t.connectedCallback(e)}}catch(t){Pi(t)}}function ji(t,e,n,r){var i=e.__CE_registry;if(i&&(null===r||"http://www.w3.org/1999/xhtml"===r)&&(i=ia(i,n)))try{var a=new i.constructorFunction;if(void 0===a.__CE_state||void 0===a.__CE_definition)throw Error("Failed to construct '"+n+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==a.namespaceURI)throw Error("Failed to construct '"+n+"': The constructed element's namespace must be the HTML namespace.");if(a.hasAttributes())throw Error("Failed to construct '"+n+"': The constructed element must not have any attributes.");if(null!==a.firstChild)throw Error("Failed to construct '"+n+"': The constructed element must not have any children.");if(null!==a.parentNode)throw Error("Failed to construct '"+n+"': The constructed element must not have a parent node.");if(a.ownerDocument!==e)throw Error("Failed to construct '"+n+"': The constructed element's owner document is incorrect.");if(a.localName!==n)throw Error("Failed to construct '"+n+"': The constructed element's local name is incorrect.");return a}catch(i){return Pi(i),e=null===r?ei.call(e,n):ni.call(e,r,n),Object.setPrototypeOf(e,HTMLUnknownElement.prototype),e.__CE_state=2,e.__CE_definition=void 0,Di(t,e),e}return Di(t,e=null===r?ei.call(e,n):ni.call(e,r,n)),e}function Pi(t){var e=t.message,n=t.sourceURL||t.fileName||"",r=t.line||t.lineNumber||0,i=t.column||t.columnNumber||0,a=void 0;void 0===ErrorEvent.prototype.initErrorEvent?a=new ErrorEvent("error",{cancelable:!0,message:e,filename:n,lineno:r,colno:i,error:t}):((a=document.createEvent("ErrorEvent")).initErrorEvent("error",!1,!0,e,n,r),a.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),void 0===a.error&&Object.defineProperty(a,"error",{configurable:!0,enumerable:!0,get:function(){return t}}),window.dispatchEvent(a),a.defaultPrevented||console.error(t)}function Ki(){var t=this;this.I=void 0,this.Ha=new Promise((function(e){t.g=e}))}function qi(t){var e=document;this.X=void 0,this.S=t,this.g=e,zi(this.S,this.g),"loading"===this.g.readyState&&(this.X=new MutationObserver(this.h.bind(this)),this.X.observe(this.g,{childList:!0,subtree:!0}))}function $i(t){t.X&&t.X.disconnect()}function ta(t){this.ka=new Map,this.la=new Map,this.Ca=new Map,this.ta=!1,this.wa=new Map,this.ja=function(t){return t()},this.V=!1,this.ma=[],this.S=t,this.Da=t.nb?new qi(t):void 0}function ea(t,e){if(!ki(e))throw new SyntaxError("The element name '"+e+"' is not valid.");if(ia(t,e))throw Error("A custom element with name '"+e+"' has already been defined.");if(t.ta)throw Error("A custom element is already being defined.")}function na(t,e,n){var r;t.ta=!0;try{var i=n.prototype;if(!(i instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var a=function(t){var e=i[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e},o=a("connectedCallback"),s=a("disconnectedCallback"),l=a("adoptedCallback"),c=(r=a("attributeChangedCallback"))&&n.observedAttributes||[]}catch(t){throw t}finally{t.ta=!1}return n={localName:e,constructorFunction:n,connectedCallback:o,disconnectedCallback:s,adoptedCallback:l,attributeChangedCallback:r,observedAttributes:c,constructionStack:[]},t.la.set(e,n),t.Ca.set(n.constructorFunction,n),n}function ra(t){if(!1!==t.V){t.V=!1;for(var e=[],n=t.ma,r=new Map,i=0;i<n.length;i++)r.set(n[i],[]);for(zi(t.S,document,{upgrade:function(n){if(void 0===n.__CE_state){var i=n.localName,a=r.get(i);a?a.push(n):t.la.has(i)&&e.push(n)}}}),i=0;i<e.length;i++)Ji(t.S,e[i]);for(i=0;i<n.length;i++){for(var a=n[i],o=r.get(a),s=0;s<o.length;s++)Ji(t.S,o[s]);(a=t.wa.get(a))&&a.resolve(void 0)}n.length=0}}function ia(t,e){var n=t.la.get(e);if(n)return n;if(n=t.ka.get(e)){t.ka.delete(e);try{return na(t,e,n())}catch(t){Pi(t)}}}function aa(t,e,n){function r(e){return function(n){for(var r=[],i=0;i<arguments.length;++i)r[i]=arguments[i];i=[];for(var a=[],o=0;o<r.length;o++){var s=r[o];if(s instanceof Element&&Zi(s)&&a.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)i.push(s);else i.push(s)}for(e.apply(this,r),r=0;r<a.length;r++)Oi(t,a[r]);if(Zi(this))for(r=0;r<i.length;r++)(a=i[r])instanceof Element&&Yi(t,a)}}void 0!==n.prepend&&(e.prepend=r(n.prepend)),void 0!==n.append&&(e.append=r(n.append))}function oa(t){function e(e,n){Object.defineProperty(e,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){var r=this,i=void 0;if(Zi(this)&&(i=[],Mi(t,this,(function(t){t!==r&&i.push(t)}))),n.set.call(this,e),i)for(var a=0;a<i.length;a++){var o=i[a];1===o.__CE_state&&t.disconnectedCallback(o)}return this.ownerDocument.__CE_registry?zi(t,this):Hi(t,this),e}})}function n(e,n){e.insertAdjacentElement=function(e,r){var i=Zi(r);return e=n.call(this,e,r),i&&Oi(t,r),Zi(e)&&Yi(t,r),e}}function r(e,n){function r(e,n){for(var r=[];e!==n;e=e.nextSibling)r.push(e);for(n=0;n<r.length;n++)zi(t,r[n])}e.insertAdjacentHTML=function(t,e){if("beforebegin"===(t=t.toLowerCase())){var i=this.previousSibling;n.call(this,t,e),r(i||this.parentNode.firstChild,this)}else if("afterbegin"===t)i=this.firstChild,n.call(this,t,e),r(this.firstChild,i);else if("beforeend"===t)i=this.lastChild,n.call(this,t,e),r(i||this.firstChild,null);else{if("afterend"!==t)throw new SyntaxError("The value provided ("+String(t)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");i=this.nextSibling,n.call(this,t,e),r(this.nextSibling,i)}}}fi&&(Element.prototype.attachShadow=function(e){if(e=fi.call(this,e),t.W&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.ca.length;n++)t.ca[n](e)}return this.__CE_shadowRoot=e}),pi&&pi.get?e(Element.prototype,pi):Si&&Si.get?e(HTMLElement.prototype,Si):function(t,e){t.W=!0,t.g.push(e)}(t,(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){return li.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName,n=e?this.content:this,r=ni.call(document,this.namespaceURI,this.localName);for(r.innerHTML=t;0<n.childNodes.length;)di.call(n,n.childNodes[0]);for(t=e?r.content:r;0<t.childNodes.length;)ci.call(n,t.childNodes[0])}})})),Element.prototype.setAttribute=function(e,n){if(1!==this.__CE_state)return mi.call(this,e,n);var r=vi.call(this,e);mi.call(this,e,n),n=vi.call(this,e),t.attributeChangedCallback(this,e,r,n,null)},Element.prototype.setAttributeNS=function(e,n,r){if(1!==this.__CE_state)return Ii.call(this,e,n,r);var i=bi.call(this,e,n);Ii.call(this,e,n,r),r=bi.call(this,e,n),t.attributeChangedCallback(this,n,i,r,e)},Element.prototype.removeAttribute=function(e){if(1!==this.__CE_state)return yi.call(this,e);var n=vi.call(this,e);yi.call(this,e),null!==n&&t.attributeChangedCallback(this,e,n,null,null)},Element.prototype.removeAttributeNS=function(e,n){if(1!==this.__CE_state)return Ci.call(this,e,n);var r=bi.call(this,e,n);Ci.call(this,e,n);var i=bi.call(this,e,n);r!==i&&t.attributeChangedCallback(this,n,r,i,e)},Li?n(HTMLElement.prototype,Li):xi&&n(Element.prototype,xi),_i?r(HTMLElement.prototype,_i):Bi&&r(Element.prototype,Bi),aa(t,Element.prototype,{prepend:Ai,append:Fi}),function(t){function e(e){return function(n){for(var r=[],i=0;i<arguments.length;++i)r[i]=arguments[i];i=[];for(var a=[],o=0;o<r.length;o++){var s=r[o];if(s instanceof Element&&Zi(s)&&a.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)i.push(s);else i.push(s)}for(e.apply(this,r),r=0;r<a.length;r++)Oi(t,a[r]);if(Zi(this))for(r=0;r<i.length;r++)(a=i[r])instanceof Element&&Yi(t,a)}}var n=Element.prototype;void 0!==Qi&&(n.before=e(Qi)),void 0!==wi&&(n.after=e(wi)),void 0!==Ui&&(n.replaceWith=function(e){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];r=[];for(var i=[],a=0;a<n.length;a++){var o=n[a];if(o instanceof Element&&Zi(o)&&i.push(o),o instanceof DocumentFragment)for(o=o.firstChild;o;o=o.nextSibling)r.push(o);else r.push(o)}for(a=Zi(this),Ui.apply(this,n),n=0;n<i.length;n++)Oi(t,i[n]);if(a)for(Oi(t,this),n=0;n<r.length;n++)(i=r[n])instanceof Element&&Yi(t,i)}),void 0!==Gi&&(n.remove=function(){var e=Zi(this);Gi.call(this),e&&Oi(t,this)})}(t)}Wi.prototype.connectedCallback=function(t){var e=t.__CE_definition;if(e.connectedCallback)try{e.connectedCallback.call(t)}catch(t){Pi(t)}},Wi.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;if(e.disconnectedCallback)try{e.disconnectedCallback.call(t)}catch(t){Pi(t)}},Wi.prototype.attributeChangedCallback=function(t,e,n,r,i){var a=t.__CE_definition;if(a.attributeChangedCallback&&-1<a.observedAttributes.indexOf(e))try{a.attributeChangedCallback.call(t,e,n,r,i)}catch(t){Pi(t)}},Ki.prototype.resolve=function(t){if(this.I)throw Error("Already resolved.");this.I=t,this.g(t)},qi.prototype.h=function(t){var e=this.g.readyState;for("interactive"!==e&&"complete"!==e||$i(this),e=0;e<t.length;e++)for(var n=t[e].addedNodes,r=0;r<n.length;r++)zi(this.S,n[r])},(t=ta.prototype).eb=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");ea(this,t),this.ka.set(t,e),this.ma.push(t),this.V||(this.V=!0,this.ja((function(){return ra(n)})))},t.define=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");ea(this,t),na(this,t,e),this.ma.push(t),this.V||(this.V=!0,this.ja((function(){return ra(n)})))},t.upgrade=function(t){zi(this.S,t)},t.get=function(t){if(t=ia(this,t))return t.constructorFunction},t.whenDefined=function(t){if(!ki(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.wa.get(t);if(e)return e.Ha;e=new Ki,this.wa.set(t,e);var n=this.la.has(t)||this.ka.has(t);return t=-1===this.ma.indexOf(t),n&&t&&e.resolve(void 0),e.Ha},t.polyfillWrapFlushCallback=function(t){this.Da&&$i(this.Da);var e=this.ja;this.ja=function(n){return t((function(){return e(n)}))}},window.CustomElementRegistry=ta,ta.prototype.define=ta.prototype.define,ta.prototype.upgrade=ta.prototype.upgrade,ta.prototype.get=ta.prototype.get,ta.prototype.whenDefined=ta.prototype.whenDefined,ta.prototype.polyfillDefineLazy=ta.prototype.eb,ta.prototype.polyfillWrapFlushCallback=ta.prototype.polyfillWrapFlushCallback;var sa={};var la=window.customElements;function ca(){var t=new Wi;!function(t){function e(){var e=this.constructor,n=document.__CE_registry.Ca.get(e);if(!n)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var r=n.constructionStack;if(0===r.length)return r=ei.call(document,n.localName),Object.setPrototypeOf(r,e.prototype),r.__CE_state=1,r.__CE_definition=n,Di(t,r),r;var i=r.length-1,a=r[i];if(a===sa)throw Error("Failed to construct '"+n.localName+"': This element was already constructed.");return r[i]=sa,Object.setPrototypeOf(a,e.prototype),Di(t,a),a}e.prototype=Ri.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:e}),window.HTMLElement=e}(t),function(t){Document.prototype.createElement=function(e){return ji(t,this,e,null)},Document.prototype.importNode=function(e,n){return e=ri.call(this,e,!!n),this.__CE_registry?zi(t,e):Hi(t,e),e},Document.prototype.createElementNS=function(e,n){return ji(t,this,n,e)},aa(t,Document.prototype,{prepend:ii,append:ai})}(t),aa(t,DocumentFragment.prototype,{prepend:oi,append:si}),function(t){function e(e,n){Object.defineProperty(e,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,e);else{var r=void 0;if(this.firstChild){var i=this.childNodes,a=i.length;if(0<a&&Zi(this)){r=Array(a);for(var o=0;o<a;o++)r[o]=i[o]}}if(n.set.call(this,e),r)for(e=0;e<r.length;e++)Oi(t,r[e])}}})}Node.prototype.insertBefore=function(e,n){if(e instanceof DocumentFragment){var r=Ni(e);if(e=ui.call(this,e,n),Zi(this))for(n=0;n<r.length;n++)Yi(t,r[n]);return e}return r=e instanceof Element&&Zi(e),n=ui.call(this,e,n),r&&Oi(t,e),Zi(this)&&Yi(t,e),n},Node.prototype.appendChild=function(e){if(e instanceof DocumentFragment){var n=Ni(e);if(e=ci.call(this,e),Zi(this))for(var r=0;r<n.length;r++)Yi(t,n[r]);return e}return n=e instanceof Element&&Zi(e),r=ci.call(this,e),n&&Oi(t,e),Zi(this)&&Yi(t,e),r},Node.prototype.cloneNode=function(e){return e=li.call(this,!!e),this.ownerDocument.__CE_registry?zi(t,e):Hi(t,e),e},Node.prototype.removeChild=function(e){var n=e instanceof Element&&Zi(e),r=di.call(this,e);return n&&Oi(t,e),r},Node.prototype.replaceChild=function(e,n){if(e instanceof DocumentFragment){var r=Ni(e);if(e=hi.call(this,e,n),Zi(this))for(Oi(t,n),n=0;n<r.length;n++)Yi(t,r[n]);return e}r=e instanceof Element&&Zi(e);var i=hi.call(this,e,n),a=Zi(this);return a&&Oi(t,n),r&&Oi(t,e),a&&Yi(t,e),i},gi&&gi.get?e(Node.prototype,gi):function(t,e){t.W=!0,t.ca.push(e)}(t,(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=this.firstChild;e;e=e.nextSibling)e.nodeType!==Node.COMMENT_NODE&&t.push(e.textContent);return t.join("")},set:function(t){for(;this.firstChild;)di.call(this,this.firstChild);null!=t&&""!==t&&ci.call(this,document.createTextNode(t))}})}))}(t),oa(t),t=new ta(t),document.__CE_registry=t,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:t})}function ua(){this.end=this.start=0,this.rules=this.parent=this.previous=null,this.cssText=this.parsedCssText="",this.atRule=!1,this.type=0,this.parsedSelector=this.selector=this.keyframesName=""}function da(t){var e=t=t.replace(Ia,"").replace(Ca,""),n=new ua;n.start=0,n.end=e.length;for(var r=n,i=0,a=e.length;i<a;i++)if("{"===e[i]){r.rules||(r.rules=[]);var o=r,s=o.rules[o.rules.length-1]||null;(r=new ua).start=i+1,r.parent=o,r.previous=s,o.rules.push(r)}else"}"===e[i]&&(r.end=i+1,r=r.parent||n);return ha(n,t)}function ha(t,e){var n=e.substring(t.start,t.end-1);if(t.parsedCssText=t.cssText=n.trim(),t.parent&&(n=function(t){return t.replace(/\\([0-9a-f]{1,6})\s/gi,(function(t,e){for(e=6-(t=e).length;e--;)t="0"+t;return"\\"+t}))}(n=e.substring(t.previous?t.previous.end:t.parent.start,t.start-1)),n=(n=n.replace(wa," ")).substring(n.lastIndexOf(";")+1),n=t.parsedSelector=t.selector=n.trim(),t.atRule=0===n.indexOf("@"),t.atRule?0===n.indexOf("@media")?t.type=ya:n.match(Qa)&&(t.type=ma,t.keyframesName=t.selector.split(wa).pop()):t.type=0===n.indexOf("--")?ba:va),n=t.rules)for(var r=0,i=n.length,a=void 0;r<i&&(a=n[r]);r++)ha(a,e);return t}function ga(t,e,n){n=void 0===n?"":n;var r="";if(t.cssText||t.rules){var i,a=t.rules;if((i=a)&&(i=!((i=a[0])&&i.selector&&0===i.selector.indexOf("--"))),i){i=0;for(var o=a.length,s=void 0;i<o&&(s=a[i]);i++)r=ga(s,e,r)}else e?e=t.cssText:e=(e=(e=t.cssText).replace(xa,"").replace(Ba,"")).replace(Aa,"").replace(Fa,""),(r=e.trim())&&(r="  "+r+"\n")}return r&&(t.selector&&(n+=t.selector+" {\n"),n+=r,t.selector&&(n+="}\n\n")),n}la&&!la.forcePolyfill&&"function"==typeof la.define&&"function"==typeof la.get||ca(),window.__CE_installPolyfill=ca;var fa,pa,va=1,ma=7,ya=4,ba=1e3,Ia=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,Ca=/@import[^;]*;/gim,xa=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,Ba=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,Aa=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,Fa=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,Qa=/^@[^\s]*keyframes/,wa=/\s+/g,Ua=!(window.ShadyDOM&&window.ShadyDOM.inUse);function Ga(t){fa=(!t||!t.shimcssproperties)&&(Ua||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(pa=window.ShadyCSS.cssBuild);var Ra=!(!window.ShadyCSS||!window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?fa=window.ShadyCSS.nativeCss:window.ShadyCSS?(Ga(window.ShadyCSS),window.ShadyCSS=void 0):Ga(window.WebComponents&&window.WebComponents.flags);var Sa=fa,La=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,_a=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,Ea=/(--[\w-]+)\s*([:,;)]|$)/gi,ka=/(animation\s*:)|(animation-name\s*:)/,Va=/@media\s(.*)/,Za=/\{[^}]*\}/g,Na=new Set;function Ta(t,e){return t?("string"==typeof t&&(t=da(t)),e&&Ma(t,e),ga(t,Sa)):""}function Xa(t){return!t.__cssRules&&t.textContent&&(t.__cssRules=da(t.textContent)),t.__cssRules||null}function Wa(t){return!!t.parent&&t.parent.type===ma}function Ma(t,e,n,r){if(t){var i=!1,a=t.type;if(r&&a===ya){var o=t.selector.match(Va);o&&(window.matchMedia(o[1]).matches||(i=!0))}if(a===va?e(t):n&&a===ma?n(t):a===ba&&(i=!0),(t=t.rules)&&!i)for(i=0,a=t.length,o=void 0;i<a&&(o=t[i]);i++)Ma(o,e,n,r)}}function Ha(t,e,n,r){var i=document.createElement("style");return e&&i.setAttribute("scope",e),i.textContent=t,Ya(i,n,r),i}var Da=null;function Ya(t,e,n){(e=e||document.head).insertBefore(t,n&&n.nextSibling||e.firstChild),Da?t.compareDocumentPosition(Da)===Node.DOCUMENT_POSITION_PRECEDING&&(Da=t):Da=t}function Oa(t,e){for(var n=0,r=t.length;e<r;e++)if("("===t[e])n++;else if(")"===t[e]&&0==--n)return e;return-1}function za(t,e){var n=t.indexOf("var(");if(-1===n)return e(t,"","","");var r=Oa(t,n+3),i=t.substring(n+4,r);return n=t.substring(0,n),t=za(t.substring(r+1),e),-1===(r=i.indexOf(","))?e(n,i.trim(),"",t):e(n,i.substring(0,r).trim(),i.substring(r+1).trim(),t)}function Ja(t,e){Ua?t.setAttribute("class",e):window.ShadyDOM.nativeMethods.setAttribute.call(t,"class",e)}var ja=window.ShadyDOM&&window.ShadyDOM.wrap||function(t){return t};function Pa(t){var e=t.localName,n="";return e?-1<e.indexOf("-")||(n=e,e=t.getAttribute&&t.getAttribute("is")||""):(e=t.is,n=t.extends),{is:e,ha:n}}function Ka(t){for(var e=[],n="",r=0;0<=r&&r<t.length;r++)if("("===t[r]){var i=Oa(t,r);n+=t.slice(r,i+1),r=i}else","===t[r]?(e.push(n),n=""):n+=t[r];return n&&e.push(n),e}function qa(t){if(void 0!==pa)return pa;if(void 0===t.__cssBuild){var e=t.getAttribute("css-build");if(e)t.__cssBuild=e;else{if(""!==(e=(e="template"===t.localName?t.content.firstChild:t.firstChild)instanceof Comment&&"css-build"===(e=e.textContent.trim().split(":"))[0]?e[1]:"")){var n="template"===t.localName?t.content.firstChild:t.firstChild;n.parentNode.removeChild(n)}t.__cssBuild=e}}return t.__cssBuild||""}function $a(t){return!(""===(t=void 0===t?"":t)||!Sa)&&(Ua?"shadow"===t:"shady"===t)}function to(){}function eo(t,e,n){var r;if(e.nodeType===Node.ELEMENT_NODE&&n(e),r="template"===e.localName?(e.content||e._content||e).childNodes:e.children||e.childNodes)for(e=0;e<r.length;e++)eo(t,r[e],n)}function no(t,e,n){if(e)if(t.classList)n?(t.classList.remove("style-scope"),t.classList.remove(e)):(t.classList.add("style-scope"),t.classList.add(e));else if(t.getAttribute){var r=t.getAttribute("class");n?r&&Ja(t,e=r.replace("style-scope","").replace(e,"")):Ja(t,(r?r+" ":"")+"style-scope "+e)}}function ro(t,e,n){eo(Io,t,(function(t){no(t,e,!0),no(t,n)}))}function io(t,e){eo(Io,t,(function(t){no(t,e||"",!0)}))}function ao(t,e,n,r,i){var a=Io;return""===(i=void 0===i?"":i)&&(Ua||"shady"===(void 0===r?"":r)?i=Ta(e,n):i=function(t,e,n,r,i){var a=oo(n,r);return n=n?"."+n:"",Ta(e,(function(e){e.i||(e.selector=e.F=so(t,e,t.h,n,a),e.i=!0),i&&i(e,n,a)}))}(a,e,(t=Pa(t)).is,t.ha,n)+"\n\n"),i.trim()}function oo(t,e){return e?"[is="+t+"]":t}function so(t,e,n,r,i){var a=Ka(e.selector);if(!Wa(e)){e=0;for(var o=a.length,s=void 0;e<o&&(s=a[e]);e++)a[e]=n.call(t,s,r,i)}return a.filter((function(t){return!!t})).join(",")}function lo(t){return t.replace(ho,(function(t,e,n){return-1<n.indexOf("+")?n=n.replace(/\+/g,"___"):-1<n.indexOf("___")&&(n=n.replace(/___/g,"+")),":"+e+"("+n+")"}))}function co(t,e){t=t.split(/(\[.+?\])/);for(var n=[],r=0;r<t.length;r++)if(1==r%2)n.push(t[r]);else{var i=t[r];""===i&&r===t.length-1||((i=i.split(":"))[0]+=e,n.push(i.join(":")))}return n.join("")}function uo(t){":root"===t.selector&&(t.selector="html")}to.prototype.h=function(t,e,n){var r=!1;t=t.trim();var i=ho.test(t);i&&(t=t.replace(ho,(function(t,e,n){return":"+e+"("+n.replace(/\s/g,"")+")"})),t=lo(t));var a=bo.test(t);if(a){var o=function(t){for(var e,n=[];e=t.match(bo);){var r=e.index,i=Oa(t,r);if(-1===i)throw Error(e.input+" selector missing ')'");e=t.slice(r,i+1),t=t.replace(e,""),n.push(e)}return{Ba:t,matches:n}}(t);t=o.Ba,o=o.matches}return t=(t=t.replace(po,":host $1")).replace(go,(function(t,i,a){return r||(t=function(t,e,n,r){var i=t.indexOf("::slotted");if(0<=t.indexOf(":host")?t=function(t,e){var n=t.match(vo);return(n=n&&n[2].trim()||"")?n[0].match(fo)?t.replace(vo,(function(t,n,r){return e+r})):n.split(fo)[0]===e?n:"should_not_match":t.replace(":host",e)}(t,r):0!==i&&(t=n?co(t,n):t),n=!1,0<=i&&(e="",n=!0),n){var a=!0;n&&(t=t.replace(mo,(function(t,e){return" > "+e})))}return{value:t,Ua:e,stop:a}}(a,i,e,n),r=r||t.stop,i=t.Ua,a=t.value),i+a})),a&&(t=function(t,e){var n=t.split("");return e.reduce((function(t,e,r){return t+e+n[r+1]}),n[0])}(t,o)),i&&(t=lo(t)),t.replace(yo,(function(t,e,n,r){return'[dir="'+n+'"] '+e+r+", "+e+'[dir="'+n+'"]'+r}))},to.prototype.i=function(t){return t.match(":host")?"":t.match("::slotted")?this.h(t,":not(.style-scope)"):co(t.trim(),":not(.style-scope)")},a.Object.defineProperties(to.prototype,{g:{configurable:!0,enumerable:!0,get:function(){return"style-scope"}}});var ho=/:(nth[-\w]+)\(([^)]+)\)/,go=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=[])+)/g,fo=/[[.:#*]/,po=/^(::slotted)/,vo=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,mo=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,yo=/(.*):dir\((?:(ltr|rtl))\)(.*)/,bo=/:(?:matches|any|-(?:webkit|moz)-any)/,Io=new to;function Co(t,e,n,r,i){this.M=t||null,this.h=e||null,this.za=n||[],this.K=null,this.cssBuild=i||"",this.ha=r||"",this.g=this.L=this.R=null}function xo(t){return t?t.__styleInfo:null}function Bo(t,e){return t.__styleInfo=e}function Ao(t){var e=this.matches||this.matchesSelector||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector;return e&&e.call(this,t)}Co.prototype.i=function(){return this.M},Co.prototype._getStyleRules=Co.prototype.i;var Fo=/:host\s*>\s*/,Qo=navigator.userAgent.match("Trident");function wo(){}function Uo(t){if(!t.D){var e={},n={};Go(t,n)&&(e.P=n,t.rules=null),e.cssText=t.parsedCssText.replace(Za,"").replace(La,""),t.D=e}}function Go(t,e){var n=t.D;if(!n){n=t.parsedCssText;for(var r;t=La.exec(n);)"inherit"===(r=(t[2]||t[3]).trim())&&"unset"===r||(e[t[1].trim()]=r),r=!0;return r}if(n.P)return Object.assign(e,n.P),!0}function Ro(t,e,n){return e&&(e=0<=e.indexOf(";")?So(t,e,n):za(e,(function(e,r,i,a){return r?((r=Ro(t,n[r],n))&&"initial"!==r?"apply-shim-inherit"===r&&(r="inherit"):r=Ro(t,n[i]||i,n)||i,e+(r||"")+a):e+a}))),e&&e.trim()||""}function So(t,e,n){e=e.split(";");for(var r,i,a=0;a<e.length;a++)if(r=e[a]){if(_a.lastIndex=0,i=_a.exec(r))r=Ro(t,n[i[1]],n);else if(-1!==(i=r.indexOf(":"))){var o=r.substring(i);o=Ro(t,o=o.trim(),n)||o,r=r.substring(0,i)+o}e[a]=r&&r.lastIndexOf(";")===r.length-1?r.slice(0,-1):r||""}return e.join(";")}function Lo(t,e,n){var r={},i={};return Ma(e,(function(e){!function(t,e,n,r){if(e.D||Uo(e),e.D.P){var i=Pa(t);t=i.is,i=i.ha,i=t?oo(t,i):"html";var a=e.parsedSelector,o=!!a.match(Fo)||"html"===i&&-1<a.indexOf("html"),s=0===a.indexOf(":host")&&!o;"shady"===n&&(s=!(o=a===i+" > *."+i||-1!==a.indexOf("html"))&&0===a.indexOf(i)),(o||s)&&(n=i,s&&(e.F||(e.F=so(Io,e,Io.h,t?"."+t:"",i)),n=e.F||i),o&&"html"===i&&(n=e.F||e.O),r({Ba:n,ab:s,qb:o}))}}(t,e,n,(function(n){Ao.call(t._element||t,n.Ba)&&(n.ab?Go(e,r):Go(e,i))}))}),null,!0),{hb:i,Za:r}}function _o(t,e,n,r){var i=Pa(e),a=oo(i.is,i.ha),o=new RegExp("(?:^|[^.#[:])"+(e.extends?"\\"+a.slice(0,-1)+"\\]":a)+"($|[.:[\\s>+~])"),s=xo(e);i=s.M,s=s.cssBuild;var l=function(t,e){t=t.h;var n={};if(!Ua&&t)for(var r=0,i=t[r];r<t.length;i=t[++r]){var a=i,o=e;a.u=new RegExp("\\b"+a.keyframesName+"(?!\\B|-)","g"),a.g=a.keyframesName+"-"+o,a.F=a.F||a.selector,a.selector=a.F.replace(a.keyframesName,a.g),n[i.keyframesName]=Eo(i)}return n}(i,r);return ao(e,i,(function(e){var i="";if(e.D||Uo(e),e.D.cssText&&(i=So(t,e.D.cssText,n)),e.cssText=i,!Ua&&!Wa(e)&&e.cssText){var s=i=e.cssText;if(null==e.Ia&&(e.Ia=ka.test(i)),e.Ia)if(null==e.pa)for(var c in e.pa=[],l)i!==(s=(s=l[c])(i))&&(i=s,e.pa.push(c));else{for(c=0;c<e.pa.length;++c)i=(s=l[e.pa[c]])(i);s=i}e.cssText=s,e.F=e.F||e.selector,i="."+r,s=0;for(var u=(c=Ka(e.F)).length,d=void 0;s<u&&(d=c[s]);s++)c[s]=d.match(o)?d.replace(a,i):i+" "+d;e.selector=c.join(",")}}),s)}function Eo(t){return function(e){return e.replace(t.u,t.g)}}function ko(t,e){var n=Vo,r=Xa(t);t.textContent=Ta(r,(function(t){var r=t.cssText=t.parsedCssText;t.D&&t.D.cssText&&(r=r.replace(xa,"").replace(Ba,""),t.cssText=So(n,r,e))}))}a.Object.defineProperties(wo.prototype,{g:{configurable:!0,enumerable:!0,get:function(){return"x-scope"}}});var Vo=new wo,Zo={};function No(){this.cache={}}function To(){}No.prototype.store=function(t,e,n,r){var i=this.cache[t]||[];i.push({P:e,styleElement:n,L:r}),100<i.length&&i.shift(),this.cache[t]=i};var Xo=new RegExp(Io.g+"\\s*([^\\s]*)");function Wo(t){return(t=(t.classList&&t.classList.value?t.classList.value:t.getAttribute("class")||"").match(Xo))?t[1]:""}function Mo(t){var e=ja(t).getRootNode();return e===t||e===t.ownerDocument?"":(t=e.host)?Pa(t).is:""}function Ho(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.target!==document.documentElement&&n.target!==document.head)for(var r=0;r<n.addedNodes.length;r++){var i=n.addedNodes[r];if(i.nodeType===Node.ELEMENT_NODE){var a=i.getRootNode(),o=Wo(i);if(o&&a===i.ownerDocument&&("style"!==i.localName&&"template"!==i.localName||""===qa(i)))io(i,o);else if(a instanceof ShadowRoot)for((a=Mo(i))!==o&&ro(i,o,a),i=window.ShadyDOM.nativeMethods.querySelectorAll.call(i,":not(."+Io.g+")"),o=0;o<i.length;o++){var s=Mo(a=i[o]);s&&no(a,s)}}}}}if(!(Ua||window.ShadyDOM&&window.ShadyDOM.handlesDynamicScoping)){var Do=new MutationObserver(Ho),Yo=function(t){Do.observe(t,{childList:!0,subtree:!0})};if(window.customElements&&!window.customElements.polyfillWrapFlushCallback)Yo(document);else{var Oo=function(){Yo(document.body)};window.HTMLImports?window.HTMLImports.whenReady(Oo):requestAnimationFrame((function(){if("loading"===document.readyState){document.addEventListener("readystatechange",(function t(){Oo(),document.removeEventListener("readystatechange",t)}))}else Oo()}))}To=function(){Ho(Do.takeRecords())}}var zo={},Jo=Promise.resolve();function jo(t){(t=zo[t])&&(t._applyShimCurrentVersion=t._applyShimCurrentVersion||0,t._applyShimValidatingVersion=t._applyShimValidatingVersion||0,t._applyShimNextVersion=(t._applyShimNextVersion||0)+1)}function Po(t){return t._applyShimCurrentVersion===t._applyShimNextVersion}var Ko={},qo=new No;function $o(){this.da={},this.i=document.documentElement;var t=new ua;t.rules=[],this.u=Bo(this.i,new Co(t)),this.O=!1,this.g=this.h=null}function ts(t){var e=Pa(t),n=e.is;e=e.ha;var r=Zo[n]||null,i=zo[n];if(i)return Bo(t,e=new Co(n=i._styleAst,r,i.g,e,i=qa(i))),e}function es(t){if(!t.h&&window.ShadyCSS&&window.ShadyCSS.ApplyShim){t.h=window.ShadyCSS.ApplyShim,t.h.invalidCallback=jo;var e=!0}else e=!1;return function(t){!t.g&&window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface&&(t.g=window.ShadyCSS.CustomStyleInterface,t.g.transformCallback=function(e){t.Ma(e)},t.g.validateCallback=function(){requestAnimationFrame((function(){(t.g.enqueued||t.O)&&t.flushCustomStyles()}))})}(t),e}function ns(t,e,n){var r=Pa(e).is;if(n.K){var i,a=n.K;for(i in a)null===i?e.style.removeProperty(i):e.style.setProperty(i,a[i])}!(a=zo[r])&&e!==t.i||a&&""!==qa(a)||!a||!a._style||Po(a)||((Po(a)||a._applyShimValidatingVersion!==a._applyShimNextVersion)&&(es(t),t.h&&t.h.transformRules(a._styleAst,r),a._style.textContent=ao(e,n.M),function(t){t._applyShimValidatingVersion=t._applyShimNextVersion,t._validating||(t._validating=!0,Jo.then((function(){t._applyShimCurrentVersion=t._applyShimNextVersion,t._validating=!1})))}(a)),Ua&&(t=e.shadowRoot)&&(t=t.querySelector("style"))&&(t.textContent=ao(e,n.M)),n.M=a._styleAst)}function rs(t,e){return(e=ja(e).getRootNode().host)?xo(e)||ts(e)?e:rs(t,e):t.i}function is(t,e,n){var r=rs(t,e),i=xo(r),a=i.R;for(var o in r===t.i||a||(is(t,r,i),a=i.R),t=Object.create(a||null),r=Lo(e,n.M,n.cssBuild),e=function(t,e){var n={},r=[];return Ma(t,(function(t){t.D||Uo(t);var i=t.F||t.parsedSelector;e&&t.D.P&&i&&Ao.call(e,i)&&(Go(t,n),t=t.index,i=parseInt(t/32,10),r[i]=(r[i]||0)|1<<t%32)}),null,!0),{P:n,key:r}}(i.M,e).P,Object.assign(t,r.Za,e,r.hb),e=n.K)((i=e[o])||0===i)&&(t[o]=i);for(o=Vo,e=Object.getOwnPropertyNames(t),i=0;i<e.length;i++)t[r=e[i]]=Ro(o,t[r],t);n.R=t}(t=$o.prototype).flush=function(){To()},t.Xa=function(t){return Xa(t)},t.lb=function(t){return Ta(t)},t.prepareTemplate=function(t,e,n){this.prepareTemplateDom(t,e),this.prepareTemplateStyles(t,e,n)},t.prepareTemplateStyles=function(t,e,n){if(!t._prepared&&!Ra){Ua||Zo[e]||(Zo[e]=function(t){t=document.createComment(" Shady DOM styles for "+t+" ");var e=document.head;return e.insertBefore(t,(Da?Da.nextSibling:null)||e.firstChild),Da=t}(e)),t._prepared=!0,t.name=e,t.extends=n,zo[e]=t;var r=qa(t),i=$a(r);n={is:e,extends:n};for(var a=[],o=t.content.querySelectorAll("style"),s=0;s<o.length;s++){var l=o[s];if(l.hasAttribute("shady-unscoped")){if(!Ua){var c=l.textContent;if(!Na.has(c)){Na.add(c);var u=document.createElement("style");u.setAttribute("shady-unscoped",""),u.textContent=c,document.head.appendChild(u)}l.parentNode.removeChild(l)}}else a.push(l.textContent),l.parentNode.removeChild(l)}a=a.join("").trim()+(Ko[e]||""),es(this),i||((o=!r)&&(o=_a.test(a)||La.test(a),_a.lastIndex=0,La.lastIndex=0),s=da(a),o&&Sa&&this.h&&this.h.transformRules(s,e),t._styleAst=s),o=[],Sa||(o=function(t){var e={},n=[],r=0;for(var i in Ma(t,(function(t){Uo(t),t.index=r++,t=t.D.cssText;for(var n;n=Ea.exec(t);){var i=n[1];":"!==n[2]&&(e[i]=!0)}}),(function(t){n.push(t)})),t.h=n,t=[],e)t.push(i);return t}(t._styleAst)),o.length&&!Sa||(s=Ua?t.content:null,e=Zo[e]||null,r=(r=ao(n,t._styleAst,null,r,i?a:"")).length?Ha(r,n.is,s,e):null,t._style=r),t.g=o}},t.fb=function(t,e){Ko[e]=t.join(" ")},t.prepareTemplateDom=function(t,e){if(!Ra){var n=qa(t);Ua||"shady"===n||t._domPrepared||(t._domPrepared=!0,function(t,e){eo(Io,t,(function(t){no(t,e||"")}))}(t.content,e))}},t.flushCustomStyles=function(){if(!Ra){var t=es(this);if(this.g){var e=this.g.processStyles();if((t||this.g.enqueued)&&!$a(this.u.cssBuild)){if(Sa){if(!this.u.cssBuild)for(t=0;t<e.length;t++){var n=this.g.getStyleForCustomStyle(e[t]);if(n&&Sa&&this.h){var r=Xa(n);es(this),this.h.transformRules(r),n.textContent=Ta(r)}}}else{for(function(t,e){e=e.map((function(e){return t.g.getStyleForCustomStyle(e)})).filter((function(t){return!!t})),e.sort((function(t,e){return(t=e.compareDocumentPosition(t))&Node.DOCUMENT_POSITION_FOLLOWING?1:t&Node.DOCUMENT_POSITION_PRECEDING?-1:0})),t.u.M.rules=e.map((function(t){return Xa(t)}))}(this,e),is(this,this.i,this.u),t=0;t<e.length;t++)(n=this.g.getStyleForCustomStyle(e[t]))&&ko(n,this.u.R);this.O&&this.styleDocument()}this.g.enqueued=!1}}}},t.styleElement=function(t,e){if(Ra){if(e){xo(t)||Bo(t,new Co(null));var n=xo(t);n.K=n.K||{},Object.assign(n.K,e),ns(this,t,n)}}else if(n=xo(t)||ts(t))if(t!==this.i&&(this.O=!0),e&&(n.K=n.K||{},Object.assign(n.K,e)),Sa)ns(this,t,n);else if(this.flush(),is(this,t,n),n.za&&n.za.length){var r;e=Pa(t).is;t:{if(r=qo.cache[e])for(var i=r.length-1;0<=i;i--){var a=r[i];e:{for(var o=n.za,s=0;s<o.length;s++){var l=o[s];if(a.P[l]!==n.R[l]){o=!1;break e}}o=!0}if(o){r=a;break t}}r=void 0}o=r?r.styleElement:null,i=n.L,(a=r&&r.L)||(a=e+"-"+(a=this.da[e]=(this.da[e]||0)+1)),n.L=a,a=n.L,s=Vo,s=o?o.textContent||"":_o(s,t,n.R,a);var c=(l=xo(t)).g;c&&!Ua&&c!==o&&(c._useCount--,0>=c._useCount&&c.parentNode&&c.parentNode.removeChild(c)),Ua?l.g?(l.g.textContent=s,o=l.g):s&&(o=Ha(s,a,t.shadowRoot,l.h)):o?o.parentNode||(Qo&&-1<s.indexOf("@media")&&(o.textContent=s),Ya(o,null,l.h)):s&&(o=Ha(s,a,null,l.h)),o&&(o._useCount=o._useCount||0,l.g!=o&&o._useCount++,l.g=o),a=o,Ua||(o=n.L,l=s=t.getAttribute("class")||"",i&&(l=s.replace(new RegExp("\\s*x-scope\\s*"+i+"\\s*","g")," ")),s!==(l+=(l?" ":"")+"x-scope "+o)&&Ja(t,l)),r||qo.store(e,n.R,a,n.L)}},t.styleDocument=function(t){this.styleSubtree(this.i,t)},t.styleSubtree=function(t,e){var n=ja(t),r=n.shadowRoot,i=t===this.i;if((r||i)&&this.styleElement(t,e),t=i?n:r)for(t=Array.from(t.querySelectorAll("*")).filter((function(t){return ja(t).shadowRoot})),e=0;e<t.length;e++)this.styleSubtree(t[e])},t.Ma=function(t){var e=this,n=qa(t);if(n!==this.u.cssBuild&&(this.u.cssBuild=n),!$a(n)){var r=Xa(t);Ma(r,(function(t){if(Ua)uo(t);else{var r=Io;t.selector=t.parsedSelector,uo(t),t.selector=t.F=so(r,t,r.i,void 0,void 0)}Sa&&""===n&&(es(e),e.h&&e.h.transformRule(t))})),Sa?t.textContent=Ta(r):this.u.M.rules.push(r)}},t.getComputedStyleValue=function(t,e){var n;return Sa||(n=(xo(t)||xo(rs(this,t))).R[e]),(n=n||window.getComputedStyle(t).getPropertyValue(e))?n.trim():""},t.kb=function(t,e){var n=ja(t).getRootNode();if(e=e?("string"==typeof e?e:String(e)).split(/\s/):[],!(n=n.host&&n.host.localName)){var r=t.getAttribute("class");if(r){r=r.split(/\s/);for(var i=0;i<r.length;i++)if(r[i]===Io.g){n=r[i+1];break}}}n&&e.push(Io.g,n),Sa||(n=xo(t))&&n.L&&e.push(Vo.g,n.L),Ja(t,e.join(" "))},t.Ta=function(t){return xo(t)},t.jb=function(t,e){no(t,e)},t.mb=function(t,e){no(t,e,!0)},t.ib=function(t){return Mo(t)},t.Va=function(t){return Wo(t)},$o.prototype.flush=$o.prototype.flush,$o.prototype.prepareTemplate=$o.prototype.prepareTemplate,$o.prototype.styleElement=$o.prototype.styleElement,$o.prototype.styleDocument=$o.prototype.styleDocument,$o.prototype.styleSubtree=$o.prototype.styleSubtree,$o.prototype.getComputedStyleValue=$o.prototype.getComputedStyleValue,$o.prototype.setElementClass=$o.prototype.kb,$o.prototype._styleInfoForNode=$o.prototype.Ta,$o.prototype.transformCustomStyleForDocument=$o.prototype.Ma,$o.prototype.getStyleAst=$o.prototype.Xa,$o.prototype.styleAstToString=$o.prototype.lb,$o.prototype.flushCustomStyles=$o.prototype.flushCustomStyles,$o.prototype.scopeNode=$o.prototype.jb,$o.prototype.unscopeNode=$o.prototype.mb,$o.prototype.scopeForNode=$o.prototype.ib,$o.prototype.currentScopeForNode=$o.prototype.Va,$o.prototype.prepareAdoptedCssText=$o.prototype.fb,Object.defineProperties($o.prototype,{nativeShadow:{get:function(){return Ua}},nativeCss:{get:function(){return Sa}}});var as,os,ss=new $o;window.ShadyCSS&&(as=window.ShadyCSS.ApplyShim,os=window.ShadyCSS.CustomStyleInterface),window.ShadyCSS={ScopingShim:ss,prepareTemplate:function(t,e,n){ss.flushCustomStyles(),ss.prepareTemplate(t,e,n)},prepareTemplateDom:function(t,e){ss.prepareTemplateDom(t,e)},prepareTemplateStyles:function(t,e,n){ss.flushCustomStyles(),ss.prepareTemplateStyles(t,e,n)},styleSubtree:function(t,e){ss.flushCustomStyles(),ss.styleSubtree(t,e)},styleElement:function(t){ss.flushCustomStyles(),ss.styleElement(t)},styleDocument:function(t){ss.flushCustomStyles(),ss.styleDocument(t)},flushCustomStyles:function(){ss.flushCustomStyles()},getComputedStyleValue:function(t,e){return ss.getComputedStyleValue(t,e)},nativeCss:Sa,nativeShadow:Ua,cssBuild:pa,disableRuntime:Ra},as&&(window.ShadyCSS.ApplyShim=as),os&&(window.ShadyCSS.CustomStyleInterface=os),function(t){function e(t){return""==t&&(a.call(this),this.m=!0),t.toLowerCase()}function n(t){var e=t.charCodeAt(0);return 32<e&&127>e&&-1==[34,35,60,62,63,96].indexOf(e)?t:encodeURIComponent(t)}function r(t){var e=t.charCodeAt(0);return 32<e&&127>e&&-1==[34,35,60,62,96].indexOf(e)?t:encodeURIComponent(t)}function i(t,i,o){var s=i||"scheme start",l=0,g="",f=!1,p=!1;t:for(;(null!=t[l-1]||0==l)&&!this.m;){var v=t[l];switch(s){case"scheme start":if(!v||!d.test(v)){if(i)break t;g="",s="no scheme";continue}g+=v.toLowerCase(),s="scheme";break;case"scheme":if(v&&h.test(v))g+=v.toLowerCase();else{if(":"!=v){if(i)break t;g="",l=0,s="no scheme";continue}if(this.l=g,g="",i)break t;void 0!==c[this.l]&&(this.G=!0),s="file"==this.l?"relative":this.G&&o&&o.l==this.l?"relative or authority":this.G?"authority first slash":"scheme data"}break;case"scheme data":"?"==v?(this.A="?",s="query"):"#"==v?(this.C="#",s="fragment"):null!=v&&"\t"!=v&&"\n"!=v&&"\r"!=v&&(this.va+=n(v));break;case"no scheme":if(o&&void 0!==c[o.l]){s="relative";continue}a.call(this),this.m=!0;break;case"relative or authority":if("/"!=v||"/"!=t[l+1]){s="relative";continue}s="authority ignore slashes";break;case"relative":if(this.G=!0,"file"!=this.l&&(this.l=o.l),null==v){this.o=o.o,this.v=o.v,this.s=o.s.slice(),this.A=o.A,this.B=o.B,this.j=o.j;break t}if("/"==v||"\\"==v)s="relative slash";else if("?"==v)this.o=o.o,this.v=o.v,this.s=o.s.slice(),this.A="?",this.B=o.B,this.j=o.j,s="query";else{if("#"!=v){s=t[l+1];var m=t[l+2];("file"!=this.l||!d.test(v)||":"!=s&&"|"!=s||null!=m&&"/"!=m&&"\\"!=m&&"?"!=m&&"#"!=m)&&(this.o=o.o,this.v=o.v,this.B=o.B,this.j=o.j,this.s=o.s.slice(),this.s.pop()),s="relative path";continue}this.o=o.o,this.v=o.v,this.s=o.s.slice(),this.A=o.A,this.C="#",this.B=o.B,this.j=o.j,s="fragment"}break;case"relative slash":if("/"!=v&&"\\"!=v){"file"!=this.l&&(this.o=o.o,this.v=o.v,this.B=o.B,this.j=o.j),s="relative path";continue}s="file"==this.l?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=v){s="authority ignore slashes";continue}s="authority second slash";break;case"authority second slash":if(s="authority ignore slashes","/"!=v)continue;break;case"authority ignore slashes":if("/"!=v&&"\\"!=v){s="authority";continue}break;case"authority":if("@"==v){for(f&&(g+="%40"),f=!0,v=0;v<g.length;v++)"\t"==(m=g[v])||"\n"==m||"\r"==m||(":"==m&&null===this.j?this.j="":(m=n(m),null!==this.j?this.j+=m:this.B+=m));g=""}else{if(null==v||"/"==v||"\\"==v||"?"==v||"#"==v){l-=g.length,g="",s="host";continue}g+=v}break;case"file host":if(null==v||"/"==v||"\\"==v||"?"==v||"#"==v){2!=g.length||!d.test(g[0])||":"!=g[1]&&"|"!=g[1]?(0!=g.length&&(this.o=e.call(this,g),g=""),s="relative path start"):s="relative path";continue}"\t"==v||"\n"==v||"\r"==v||(g+=v);break;case"host":case"hostname":if(":"!=v||p){if(null==v||"/"==v||"\\"==v||"?"==v||"#"==v){if(this.o=e.call(this,g),g="",s="relative path start",i)break t;continue}"\t"!=v&&"\n"!=v&&"\r"!=v&&("["==v?p=!0:"]"==v&&(p=!1),g+=v)}else if(this.o=e.call(this,g),g="",s="port","hostname"==i)break t;break;case"port":if(/[0-9]/.test(v))g+=v;else{if(null==v||"/"==v||"\\"==v||"?"==v||"#"==v||i){if(""!=g&&((g=parseInt(g,10))!=c[this.l]&&(this.v=g+""),g=""),i)break t;s="relative path start";continue}"\t"==v||"\n"==v||"\r"==v||(a.call(this),this.m=!0)}break;case"relative path start":if(s="relative path","/"!=v&&"\\"!=v)continue;break;case"relative path":null!=v&&"/"!=v&&"\\"!=v&&(i||"?"!=v&&"#"!=v)?"\t"!=v&&"\n"!=v&&"\r"!=v&&(g+=n(v)):((m=u[g.toLowerCase()])&&(g=m),".."==g?(this.s.pop(),"/"!=v&&"\\"!=v&&this.s.push("")):"."==g&&"/"!=v&&"\\"!=v?this.s.push(""):"."!=g&&("file"==this.l&&0==this.s.length&&2==g.length&&d.test(g[0])&&"|"==g[1]&&(g=g[0]+":"),this.s.push(g)),g="","?"==v?(this.A="?",s="query"):"#"==v&&(this.C="#",s="fragment"));break;case"query":i||"#"!=v?null!=v&&"\t"!=v&&"\n"!=v&&"\r"!=v&&(this.A+=r(v)):(this.C="#",s="fragment");break;case"fragment":null!=v&&"\t"!=v&&"\n"!=v&&"\r"!=v&&(this.C+=v)}l++}}function a(){this.B=this.va=this.l="",this.j=null,this.v=this.o="",this.s=[],this.C=this.A="",this.G=this.m=!1}function o(t,e){void 0===e||e instanceof o||(e=new o(String(e))),this.g=t,a.call(this),i.call(this,this.g.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,""),null,e)}var s=!1;try{var l=new URL("b","http://a");l.pathname="c%20d",s="http://a/c%20d"===l.href}catch(t){}if(!s){var c=Object.create(null);c.ftp=21,c.file=0,c.gopher=70,c.http=80,c.https=443,c.ws=80,c.wss=443;var u=Object.create(null);u["%2e"]=".",u[".%2e"]="..",u["%2e."]="..",u["%2e%2e"]="..";var d=/[a-zA-Z]/,h=/[a-zA-Z0-9+\-.]/;o.prototype={toString:function(){return this.href},get href(){if(this.m)return this.g;var t="";return""==this.B&&null==this.j||(t=this.B+(null!=this.j?":"+this.j:"")+"@"),this.protocol+(this.G?"//"+t+this.host:"")+this.pathname+this.A+this.C},set href(t){a.call(this),i.call(this,t)},get protocol(){return this.l+":"},set protocol(t){this.m||i.call(this,t+":","scheme start")},get host(){return this.m?"":this.v?this.o+":"+this.v:this.o},set host(t){!this.m&&this.G&&i.call(this,t,"host")},get hostname(){return this.o},set hostname(t){!this.m&&this.G&&i.call(this,t,"hostname")},get port(){return this.v},set port(t){!this.m&&this.G&&i.call(this,t,"port")},get pathname(){return this.m?"":this.G?"/"+this.s.join("/"):this.va},set pathname(t){!this.m&&this.G&&(this.s=[],i.call(this,t,"relative path start"))},get search(){return this.m||!this.A||"?"==this.A?"":this.A},set search(t){!this.m&&this.G&&(this.A="?","?"==t[0]&&(t=t.slice(1)),i.call(this,t,"query"))},get hash(){return this.m||!this.C||"#"==this.C?"":this.C},set hash(t){this.m||(t?(this.C="#","#"==t[0]&&(t=t.slice(1)),i.call(this,t,"fragment")):this.C="")},get origin(){var t;if(this.m||!this.l)return"";switch(this.l){case"data":case"file":case"javascript":case"mailto":return"null"}return(t=this.host)?this.l+"://"+t:""}};var g=t.URL;g&&(o.createObjectURL=function(t){return g.createObjectURL.apply(g,arguments)},o.revokeObjectURL=function(t){g.revokeObjectURL(t)}),t.URL=o}}(window);var ls=window.customElements,cs=!1,us=null;function ds(){window.HTMLTemplateElement.bootstrap&&window.HTMLTemplateElement.bootstrap(window.document),us&&us(),cs=!0,window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}ls.polyfillWrapFlushCallback&&ls.polyfillWrapFlushCallback((function(t){us=t,cs&&t()})),"complete"!==document.readyState?(window.addEventListener("load",ds),window.addEventListener("DOMContentLoaded",(function(){window.removeEventListener("load",ds),ds()}))):ds()}.call(e),function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){var t;t=function(){var t,e;t=function(){
/**
	                          * @license
	                          * Copyright 2017 Google LLC
	                          * SPDX-License-Identifier: BSD-3-Clause
	                          */
var t,e="__scoped";null!==(t=globalThis.reactiveElementPolyfillSupport)&&void 0!==t||(globalThis.reactiveElementPolyfillSupport=function(t){var n=t.ReactiveElement;if(void 0!==window.ShadyCSS&&(!window.ShadyCSS.nativeShadow||window.ShadyCSS.ApplyShim)){var r=n.prototype;window.ShadyDOM&&window.ShadyDOM.inUse&&!0===window.ShadyDOM.noPatch&&window.ShadyDOM.patchElementProto(r);var i=r.createRenderRoot;r.createRenderRoot=function(){var t,n,r,a=this.localName;if(window.ShadyCSS.nativeShadow)return i.call(this);if(!this.constructor.hasOwnProperty(e)){this.constructor[e]=!0;var o=this.constructor.elementStyles.map((function(t){return t instanceof CSSStyleSheet?Array.from(t.cssRules).reduce((function(t,e){return t+e.cssText}),""):t.cssText}));null===(n=null===(t=window.ShadyCSS)||void 0===t?void 0:t.ScopingShim)||void 0===n||n.prepareAdoptedCssText(o,a),void 0===this.constructor._$AJ&&window.ShadyCSS.prepareTemplateStyles(document.createElement("template"),a)}return null!==(r=this.shadowRoot)&&void 0!==r?r:this.attachShadow(this.constructor.shadowRootOptions)};var a=r.connectedCallback;r.connectedCallback=function(){a.call(this),this.hasUpdated&&window.ShadyCSS.styleElement(this)};var o=r._$AE;r._$AE=function(t){this.hasUpdated||window.ShadyCSS.styleElement(this),o.call(this,t)}}})},"function"==typeof define&&define.amd?define(t):t(),function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){
/**
	                          * @license
	                          * Copyright 2017 Google LLC
	                          * SPDX-License-Identifier: BSD-3-Clause
	                          */
var t,e=new Set,n=new Map;null!==(t=globalThis.litHtmlPolyfillSupport)&&void 0!==t||(globalThis.litHtmlPolyfillSupport=function(t,r){if(void 0!==window.ShadyCSS&&(!window.ShadyCSS.nativeShadow||window.ShadyCSS.ApplyShim)){var i=function(t){return void 0!==t&&!e.has(t)},a=function(t){var e=n.get(t);return void 0===e&&n.set(t,e=[]),e},o=new Map,s=t.createElement;t.createElement=function(e,n){var r=s.call(t,e,n),o=null==n?void 0:n.scope;if(void 0!==o&&(window.ShadyCSS.nativeShadow||window.ShadyCSS.prepareTemplateDom(r,o),i(o))){var l=a(o),c=r.content.querySelectorAll("style");l.push.apply(l,Array.from(c).map((function(t){var e;return null===(e=t.parentNode)||void 0===e||e.removeChild(t),t.textContent})))}return r};var l=document.createDocumentFragment(),c=document.createComment(""),u=r.prototype,d=u._$AI;u._$AI=function(t,r){var o,s,u;void 0===r&&(r=this);var h=this._$AA.parentNode,g=null===(o=this.options)||void 0===o?void 0:o.scope;if(h instanceof ShadowRoot&&i(g)){var f=this._$AA,p=this._$AB;l.appendChild(c),this._$AA=c,this._$AB=null,d.call(this,t,r);var v=(null===(s=t)||void 0===s?void 0:s._$litType$)?this._$AH._$AD.el:document.createElement("template");if(function(t,r){var i,o=a(t),s=0!==o.length;s&&((i=document.createElement("style")).textContent=o.join("\n"),r.content.appendChild(i)),e.add(t),n.delete(t),window.ShadyCSS.prepareTemplateStyles(r,t),s&&window.ShadyCSS.nativeShadow&&null!==(i=r.content.querySelector("style"))&&r.content.appendChild(i)}(g,v),l.removeChild(c),null===(u=window.ShadyCSS)||void 0===u?void 0:u.nativeShadow){var m=v.content.querySelector("style");null!==m&&l.appendChild(m.cloneNode(!0))}h.insertBefore(l,p),this._$AA=f,this._$AB=p}else d.call(this,t,r)},u._$AC=function(e){var n,r=null===(n=this.options)||void 0===n?void 0:n.scope,i=o.get(r);void 0===i&&o.set(r,i=new Map);var a=i.get(e.strings);return void 0===a&&i.set(e.strings,a=new t(e,this.options)),a}}})})),null!==(e=globalThis.litElementPolyfillSupport)&&void 0!==e||(globalThis.litElementPolyfillSupport=function(t){var e=t.LitElement;if(void 0!==window.ShadyCSS&&(!window.ShadyCSS.nativeShadow||window.ShadyCSS.ApplyShim)){e._$AJ=!0;var n=e.prototype,r=n.createRenderRoot;n.createRenderRoot=function(){return this.renderOptions.scope=this.localName,r.call(this)}}})},"function"==typeof define&&define.amd?define(t):t()}));var pO="top",vO="bottom",mO="right",yO="left",bO="auto",IO=[pO,vO,mO,yO],CO="start",xO="end",BO="clippingParents",AO="viewport",FO="popper",QO="reference",wO=IO.reduce((function(t,e){return t.concat([e+"-"+CO,e+"-"+xO])}),[]),UO=[].concat(IO,[bO]).reduce((function(t,e){return t.concat([e,e+"-"+CO,e+"-"+xO])}),[]),GO="beforeRead",RO="read",SO="afterRead",LO="beforeMain",_O="main",EO="afterMain",kO="beforeWrite",VO="write",ZO="afterWrite",NO=[GO,RO,SO,LO,_O,EO,kO,VO,ZO];function TO(t){return t?(t.nodeName||"").toLowerCase():null}function XO(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function WO(t){return t instanceof XO(t).Element||t instanceof Element}function MO(t){return t instanceof XO(t).HTMLElement||t instanceof HTMLElement}function HO(t){return"undefined"!=typeof ShadowRoot&&(t instanceof XO(t).ShadowRoot||t instanceof ShadowRoot)}var DO={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},i=e.elements[t];MO(i)&&TO(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],i=e.attributes[t]||{},a=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});MO(r)&&TO(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]};function YO(t){return t.split("-")[0]}var OO=Math.max,zO=Math.min,JO=Math.round;function jO(t,e){void 0===e&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(MO(t)&&e){var a=t.offsetHeight,o=t.offsetWidth;o>0&&(r=JO(n.width)/o||1),a>0&&(i=JO(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function PO(t){var e=jO(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function KO(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&HO(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function qO(t){return XO(t).getComputedStyle(t)}function $O(t){return["table","td","th"].indexOf(TO(t))>=0}function tz(t){return((WO(t)?t.ownerDocument:t.document)||window.document).documentElement}function ez(t){return"html"===TO(t)?t:t.assignedSlot||t.parentNode||(HO(t)?t.host:null)||tz(t)}function nz(t){return MO(t)&&"fixed"!==qO(t).position?t.offsetParent:null}function rz(t){for(var e=XO(t),n=nz(t);n&&$O(n)&&"static"===qO(n).position;)n=nz(n);return n&&("html"===TO(n)||"body"===TO(n)&&"static"===qO(n).position)?e:n||function(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&MO(t)&&"fixed"===qO(t).position)return null;for(var n=ez(t);MO(n)&&["html","body"].indexOf(TO(n))<0;){var r=qO(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}function iz(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function az(t,e,n){return OO(t,zO(e,n))}function oz(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function sz(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}var lz={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,i=t.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=YO(n.placement),l=iz(s),c=[yO,mO].indexOf(s)>=0?"height":"width";if(a&&o){var u=function(t,e){return oz("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:sz(t,IO))}(i.padding,n),d=PO(a),h="y"===l?pO:yO,g="y"===l?vO:mO,f=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],p=o[l]-n.rects.reference[l],v=rz(a),m=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,y=f/2-p/2,b=u[h],I=m-d[c]-u[g],C=m/2-d[c]/2+y,x=az(b,C,I),B=l;n.modifiersData[r]=((e={})[B]=x,e.centerOffset=x-C,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=e.elements.popper.querySelector(r)))&&("production"!==process.env.NODE_ENV&&(MO(r)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" "))),KO(e.elements.popper,r)?e.elements.arrow=r:"production"!==process.env.NODE_ENV&&console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" ")))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function cz(t){return t.split("-")[1]}var uz={top:"auto",right:"auto",bottom:"auto",left:"auto"};function dz(t){var e,n=t.popper,r=t.popperRect,i=t.placement,a=t.variation,o=t.offsets,s=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=o.x,g=void 0===h?0:h,f=o.y,p=void 0===f?0:f,v="function"==typeof u?u({x:g,y:p}):{x:g,y:p};g=v.x,p=v.y;var m=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=yO,I=pO,C=window;if(c){var x=rz(n),B="clientHeight",A="clientWidth";if(x===XO(n)&&"static"!==qO(x=tz(n)).position&&"absolute"===s&&(B="scrollHeight",A="scrollWidth"),x=x,i===pO||(i===yO||i===mO)&&a===xO)I=vO,p-=(d&&C.visualViewport?C.visualViewport.height:x[B])-r.height,p*=l?1:-1;if(i===yO||(i===pO||i===vO)&&a===xO)b=mO,g-=(d&&C.visualViewport?C.visualViewport.width:x[A])-r.width,g*=l?1:-1}var F,Q=Object.assign({position:s},c&&uz),w=!0===u?function(t){var e=t.x,n=t.y,r=window.devicePixelRatio||1;return{x:JO(e*r)/r||0,y:JO(n*r)/r||0}}({x:g,y:p}):{x:g,y:p};return g=w.x,p=w.y,l?Object.assign({},Q,((F={})[I]=y?"0":"",F[b]=m?"0":"",F.transform=(C.devicePixelRatio||1)<=1?"translate("+g+"px, "+p+"px)":"translate3d("+g+"px, "+p+"px, 0)",F)):Object.assign({},Q,((e={})[I]=y?p+"px":"",e[b]=m?g+"px":"",e.transform="",e))}var hz={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,l=void 0===s||s;if("production"!==process.env.NODE_ENV){var c=qO(e.elements.popper).transitionProperty||"";o&&["transform","top","right","bottom","left"].some((function(t){return c.indexOf(t)>=0}))&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var u={placement:YO(e.placement),variation:cz(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,dz(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,dz(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},gz={passive:!0};var fz={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,l=XO(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach((function(t){t.addEventListener("scroll",n.update,gz)})),s&&l.addEventListener("resize",n.update,gz),function(){a&&c.forEach((function(t){t.removeEventListener("scroll",n.update,gz)})),s&&l.removeEventListener("resize",n.update,gz)}},data:{}},pz={left:"right",right:"left",bottom:"top",top:"bottom"};function vz(t){return t.replace(/left|right|bottom|top/g,(function(t){return pz[t]}))}var mz={start:"end",end:"start"};function yz(t){return t.replace(/start|end/g,(function(t){return mz[t]}))}function bz(t){var e=XO(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Iz(t){return jO(tz(t)).left+bz(t).scrollLeft}function Cz(t){var e=qO(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function xz(t){return["html","body","#document"].indexOf(TO(t))>=0?t.ownerDocument.body:MO(t)&&Cz(t)?t:xz(ez(t))}function Bz(t,e){var n;void 0===e&&(e=[]);var r=xz(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),a=XO(r),o=i?[a].concat(a.visualViewport||[],Cz(r)?r:[]):r,s=e.concat(o);return i?s:s.concat(Bz(ez(o)))}function Az(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Fz(t,e){return e===AO?Az(function(t){var e=XO(t),n=tz(t),r=e.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,s=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,s=r.offsetTop)),{width:i,height:a,x:o+Iz(t),y:s}}(t)):WO(e)?function(t){var e=jO(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(e):Az(function(t){var e,n=tz(t),r=bz(t),i=null==(e=t.ownerDocument)?void 0:e.body,a=OO(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=OO(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Iz(t),l=-r.scrollTop;return"rtl"===qO(i||n).direction&&(s+=OO(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}(tz(t)))}function Qz(t,e,n){var r="clippingParents"===e?function(t){var e=Bz(ez(t)),n=["absolute","fixed"].indexOf(qO(t).position)>=0&&MO(t)?rz(t):t;return WO(n)?e.filter((function(t){return WO(t)&&KO(t,n)&&"body"!==TO(t)})):[]}(t):[].concat(e),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(e,n){var r=Fz(t,n);return e.top=OO(r.top,e.top),e.right=zO(r.right,e.right),e.bottom=zO(r.bottom,e.bottom),e.left=OO(r.left,e.left),e}),Fz(t,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function wz(t){var e,n=t.reference,r=t.element,i=t.placement,a=i?YO(i):null,o=i?cz(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(a){case pO:e={x:s,y:n.y-r.height};break;case vO:e={x:s,y:n.y+n.height};break;case mO:e={x:n.x+n.width,y:l};break;case yO:e={x:n.x-r.width,y:l};break;default:e={x:n.x,y:n.y}}var c=a?iz(a):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case CO:e[c]=e[c]-(n[u]/2-r[u]/2);break;case xO:e[c]=e[c]+(n[u]/2-r[u]/2)}}return e}function Uz(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=void 0===r?t.placement:r,a=n.boundary,o=void 0===a?BO:a,s=n.rootBoundary,l=void 0===s?AO:s,c=n.elementContext,u=void 0===c?FO:c,d=n.altBoundary,h=void 0!==d&&d,g=n.padding,f=void 0===g?0:g,p=oz("number"!=typeof f?f:sz(f,IO)),v=u===FO?QO:FO,m=t.rects.popper,y=t.elements[h?v:u],b=Qz(WO(y)?y:y.contextElement||tz(t.elements.popper),o,l),I=jO(t.elements.reference),C=wz({reference:I,element:m,strategy:"absolute",placement:i}),x=Az(Object.assign({},m,C)),B=u===FO?x:I,A={top:b.top-B.top+p.top,bottom:B.bottom-b.bottom+p.bottom,left:b.left-B.left+p.left,right:B.right-b.right+p.right},F=t.modifiersData.offset;if(u===FO&&F){var Q=F[i];Object.keys(A).forEach((function(t){var e=[mO,vO].indexOf(t)>=0?1:-1,n=[pO,vO].indexOf(t)>=0?"y":"x";A[t]+=Q[n]*e}))}return A}function Gz(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?UO:l,u=cz(r),d=u?s?wO:wO.filter((function(t){return cz(t)===u})):IO,h=d.filter((function(t){return c.indexOf(t)>=0}));0===h.length&&(h=d,"production"!==process.env.NODE_ENV&&console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var g=h.reduce((function(e,n){return e[n]=Uz(t,{placement:n,boundary:i,rootBoundary:a,padding:o})[YO(n)],e}),{});return Object.keys(g).sort((function(t,e){return g[t]-g[e]}))}var Rz={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,g=n.flipVariations,f=void 0===g||g,p=n.allowedAutoPlacements,v=e.options.placement,m=YO(v),y=l||(m===v||!f?[vz(v)]:function(t){if(YO(t)===bO)return[];var e=vz(t);return[yz(t),e,yz(e)]}(v)),b=[v].concat(y).reduce((function(t,n){return t.concat(YO(n)===bO?Gz(e,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:p}):n)}),[]),I=e.rects.reference,C=e.rects.popper,x=new Map,B=!0,A=b[0],F=0;F<b.length;F++){var Q=b[F],w=YO(Q),U=cz(Q)===CO,G=[pO,vO].indexOf(w)>=0,R=G?"width":"height",S=Uz(e,{placement:Q,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),L=G?U?mO:yO:U?vO:pO;I[R]>C[R]&&(L=vz(L));var _=vz(L),E=[];if(a&&E.push(S[w]<=0),s&&E.push(S[L]<=0,S[_]<=0),E.every((function(t){return t}))){A=Q,B=!1;break}x.set(Q,E)}if(B)for(var k=function(t){var e=b.find((function(e){var n=x.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return A=e,"break"},V=f?3:1;V>0;V--){if("break"===k(V))break}e.placement!==A&&(e.modifiersData[r]._skip=!0,e.placement=A,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Sz(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Lz(t){return[pO,mO,vO,yO].some((function(e){return t[e]>=0}))}var _z={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,o=Uz(e,{elementContext:"reference"}),s=Uz(e,{altBoundary:!0}),l=Sz(o,r),c=Sz(s,i,a),u=Lz(l),d=Lz(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}};var Ez={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.offset,a=void 0===i?[0,0]:i,o=UO.reduce((function(t,n){return t[n]=function(t,e,n){var r=YO(t),i=[yO,pO].indexOf(r)>=0?-1:1,a="function"==typeof n?n(Object.assign({},e,{placement:t})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[yO,mO].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,e.rects,a),t}),{}),s=o[e.placement],l=s.x,c=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}};var kz={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=wz({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var Vz={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,g=void 0===h||h,f=n.tetherOffset,p=void 0===f?0:f,v=Uz(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),m=YO(e.placement),y=cz(e.placement),b=!y,I=iz(m),C=function(t){return"x"===t?"y":"x"}(I),x=e.modifiersData.popperOffsets,B=e.rects.reference,A=e.rects.popper,F="function"==typeof p?p(Object.assign({},e.rects,{placement:e.placement})):p,Q="number"==typeof F?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),w=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(x){if(a){var G,R="y"===I?pO:yO,S="y"===I?vO:mO,L="y"===I?"height":"width",_=x[I],E=_+v[R],k=_-v[S],V=g?-A[L]/2:0,Z=y===CO?B[L]:A[L],N=y===CO?-A[L]:-B[L],T=e.elements.arrow,X=g&&T?PO(T):{width:0,height:0},W=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},M=W[R],H=W[S],D=az(0,B[L],X[L]),Y=b?B[L]/2-V-D-M-Q.mainAxis:Z-D-M-Q.mainAxis,O=b?-B[L]/2+V+D+H+Q.mainAxis:N+D+H+Q.mainAxis,z=e.elements.arrow&&rz(e.elements.arrow),J=z?"y"===I?z.clientTop||0:z.clientLeft||0:0,j=null!=(G=null==w?void 0:w[I])?G:0,P=_+O-j,K=az(g?zO(E,_+Y-j-J):E,_,g?OO(k,P):k);x[I]=K,U[I]=K-_}if(s){var q,$="x"===I?pO:yO,tt="x"===I?vO:mO,et=x[C],nt="y"===C?"height":"width",rt=et+v[$],it=et-v[tt],at=-1!==[pO,yO].indexOf(m),ot=null!=(q=null==w?void 0:w[C])?q:0,st=at?rt:et-B[nt]-A[nt]-ot+Q.altAxis,lt=at?et+B[nt]+A[nt]-ot-Q.altAxis:it,ct=g&&at?function(t,e,n){var r=az(t,e,n);return r>n?n:r}(st,et,lt):az(g?st:rt,et,g?lt:it);x[C]=ct,U[C]=ct-et}e.modifiersData[r]=U}},requiresIfExists:["offset"]};function Zz(t,e,n){void 0===n&&(n=!1);var r=MO(e),i=MO(e)&&function(t){var e=t.getBoundingClientRect(),n=JO(e.width)/t.offsetWidth||1,r=JO(e.height)/t.offsetHeight||1;return 1!==n||1!==r}(e),a=tz(e),o=jO(t,i),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==TO(e)||Cz(a))&&(s=function(t){return t!==XO(t)&&MO(t)?{scrollLeft:(e=t).scrollLeft,scrollTop:e.scrollTop}:bz(t);var e}(e)),MO(e)?((l=jO(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=Iz(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function Nz(t){var e=new Map,n=new Set,r=[];function i(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&i(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||i(t)})),r}function Tz(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return[].concat(n).reduce((function(t,e){return t.replace(/%s/,e)}),t)}var Xz='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',Wz=["name","enabled","phase","fn","effect","requires","options"];var Mz="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",Hz={placement:"bottom",modifiers:[],strategy:"absolute"};function Dz(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function Yz(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,a=void 0===i?Hz:i;return function(t,e,n){void 0===n&&(n=a);var i,o,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Hz,a),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},l=[],c=!1,u={state:s,setOptions:function(n){var i="function"==typeof n?n(s.options):n;d(),s.options=Object.assign({},a,s.options,i),s.scrollParents={reference:WO(t)?Bz(t):t.contextElement?Bz(t.contextElement):[],popper:Bz(e)};var o,c,h,g=function(t){var e=Nz(t);return NO.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}(function(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}([].concat(r,s.options.modifiers)));if(s.orderedModifiers=g.filter((function(t){return t.enabled})),"production"!==process.env.NODE_ENV){if(function(t){t.forEach((function(e){[].concat(Object.keys(e),Wz).filter((function(t,e,n){return n.indexOf(t)===e})).forEach((function(n){switch(n){case"name":"string"!=typeof e.name&&console.error(Tz(Xz,String(e.name),'"name"','"string"','"'+String(e.name)+'"'));break;case"enabled":"boolean"!=typeof e.enabled&&console.error(Tz(Xz,e.name,'"enabled"','"boolean"','"'+String(e.enabled)+'"'));break;case"phase":NO.indexOf(e.phase)<0&&console.error(Tz(Xz,e.name,'"phase"',"either "+NO.join(", "),'"'+String(e.phase)+'"'));break;case"fn":"function"!=typeof e.fn&&console.error(Tz(Xz,e.name,'"fn"','"function"','"'+String(e.fn)+'"'));break;case"effect":null!=e.effect&&"function"!=typeof e.effect&&console.error(Tz(Xz,e.name,'"effect"','"function"','"'+String(e.fn)+'"'));break;case"requires":null==e.requires||Array.isArray(e.requires)||console.error(Tz(Xz,e.name,'"requires"','"array"','"'+String(e.requires)+'"'));break;case"requiresIfExists":Array.isArray(e.requiresIfExists)||console.error(Tz(Xz,e.name,'"requiresIfExists"','"array"','"'+String(e.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+e.name+'" modifier, valid properties are '+Wz.map((function(t){return'"'+t+'"'})).join(", ")+'; but "'+n+'" was provided.')}e.requires&&e.requires.forEach((function(n){null==t.find((function(t){return t.name===n}))&&console.error(Tz('Popper: modifier "%s" requires "%s", but "%s" modifier is not available',String(e.name),n,n))}))}))}))}((o=[].concat(g,s.options.modifiers),c=function(t){return t.name},h=new Set,o.filter((function(t){var e=c(t);if(!h.has(e))return h.add(e),!0})))),YO(s.options.placement)===bO)s.orderedModifiers.find((function(t){return"flip"===t.name}))||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "));var f=qO(e);[f.marginTop,f.marginRight,f.marginBottom,f.marginLeft].some((function(t){return parseFloat(t)}))&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return s.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,i=t.effect;if("function"==typeof i){var a=i({state:s,name:e,instance:u,options:r}),o=function(){};l.push(a||o)}})),u.update()},forceUpdate:function(){if(!c){var t=s.elements,e=t.reference,n=t.popper;if(Dz(e,n)){s.rects={reference:Zz(e,rz(n),"fixed"===s.options.strategy),popper:PO(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(t){return s.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0,i=0;i<s.orderedModifiers.length;i++){if("production"!==process.env.NODE_ENV&&(r+=1)>100){console.error("Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.");break}if(!0!==s.reset){var a=s.orderedModifiers[i],o=a.fn,l=a.options,d=void 0===l?{}:l,h=a.name;"function"==typeof o&&(s=o({state:s,options:d,name:h,instance:u})||s)}else s.reset=!1,i=-1}}else"production"!==process.env.NODE_ENV&&console.error(Mz)}},update:(i=function(){return new Promise((function(t){u.forceUpdate(),t(s)}))},function(){return o||(o=new Promise((function(t){Promise.resolve().then((function(){o=void 0,t(i())}))}))),o}),destroy:function(){d(),c=!0}};if(!Dz(t,e))return"production"!==process.env.NODE_ENV&&console.error(Mz),u;function d(){l.forEach((function(t){return t()})),l=[]}return u.setOptions(n).then((function(t){!c&&n.onFirstUpdate&&n.onFirstUpdate(t)})),u}}var Oz,zz=Yz(),Jz=Yz({defaultModifiers:[fz,kz,hz,DO]}),jz=Yz({defaultModifiers:[fz,kz,hz,DO,Ez,Rz,Vz,lz,_z]}),Pz=Object.freeze({__proto__:null,popperGenerator:Yz,detectOverflow:Uz,createPopperBase:zz,createPopper:jz,createPopperLite:Jz,top:pO,bottom:vO,right:mO,left:yO,auto:bO,basePlacements:IO,start:CO,end:xO,clippingParents:BO,viewport:AO,popper:FO,reference:QO,variationPlacements:wO,placements:UO,beforeRead:GO,read:RO,afterRead:SO,beforeMain:LO,main:_O,afterMain:EO,beforeWrite:kO,write:VO,afterWrite:ZO,modifierPhases:NO,applyStyles:DO,arrow:lz,computeStyles:hz,eventListeners:fz,flip:Rz,hide:_z,offset:Ez,popperOffsets:kz,preventOverflow:Vz}),Kz="transitionend",qz=function(t){var e=t.getAttribute("data-bs-target");if(!e||"#"===e){var n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#".concat(n.split("#")[1])),e=n&&"#"!==n?n.trim():null}return e},$z=function(t){var e=qz(t);return e&&document.querySelector(e)?e:null},tJ=function(t){var e=qz(t);return e?document.querySelector(e):null},eJ=function(t){if(!t)return 0;var e=window.getComputedStyle(t),n=e.transitionDuration,r=e.transitionDelay,i=Number.parseFloat(n),a=Number.parseFloat(r);return i||a?(n=n.split(",")[0],r=r.split(",")[0],1e3*(Number.parseFloat(n)+Number.parseFloat(r))):0},nJ=function(t){t.dispatchEvent(new Event(Kz))},rJ=function(t){return!(!t||"object"!==o(t))&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType)},iJ=function(t){return rJ(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(t):null},aJ=function(t,e,n){Object.keys(n).forEach((function(r){var i,a=n[r],o=e[r],s=o&&rJ(o)?"element":null==(i=o)?"".concat(i):{}.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(a).test(s))throw new TypeError("".concat(t.toUpperCase(),': Option "').concat(r,'" provided type "').concat(s,'" but expected type "').concat(a,'".'))}))},oJ=function(t){return!(!rJ(t)||0===t.getClientRects().length)&&"visible"===getComputedStyle(t).getPropertyValue("visibility")},sJ=function(t){return!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")))},lJ=function t(e){if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){var n=e.getRootNode();return n instanceof ShadowRoot?n:null}return e instanceof ShadowRoot?e:e.parentNode?t(e.parentNode):null},cJ=function(){},uJ=function(t){t.offsetHeight},dJ=function(){var t=window.jQuery;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},hJ=[],gJ=function(){return"rtl"===document.documentElement.dir},fJ=function(t){var e;e=function(){var e=dJ();if(e){var n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=function(){return e.fn[n]=r,t.jQueryInterface}}},"loading"===document.readyState?(hJ.length||document.addEventListener("DOMContentLoaded",(function(){hJ.forEach((function(t){return t()}))})),hJ.push(e)):e()},pJ=function(t){"function"==typeof t&&t()},vJ=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n){var r=5,i=eJ(e)+r,a=!1,o=function n(r){r.target===e&&(a=!0,e.removeEventListener(Kz,n),pJ(t))};e.addEventListener(Kz,o),setTimeout((function(){a||nJ(e)}),i)}else pJ(t)},mJ=function(t,e,n,r){var i=t.indexOf(e);if(-1===i)return t[!n&&r?t.length-1:0];var a=t.length;return i+=n?1:-1,r&&(i=(i+a)%a),t[Math.max(0,Math.min(i,a-1))]},yJ=/[^.]*(?=\..*)\.|.*/,bJ=/\..*/,IJ=/::\d+$/,CJ={},xJ=1,BJ={mouseenter:"mouseover",mouseleave:"mouseout"},AJ=/^(mouseenter|mouseleave)/i,FJ=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function QJ(t,e){return e&&"".concat(e,"::").concat(xJ++)||t.uidEvent||xJ++}function wJ(t){var e=QJ(t);return t.uidEvent=e,CJ[e]=CJ[e]||{},CJ[e]}function UJ(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Object.keys(t),i=0,a=r.length;i<a;i++){var o=t[r[i]];if(o.originalHandler===e&&o.delegationSelector===n)return o}return null}function GJ(t,e,n){var r="string"==typeof e,i=r?n:e,a=LJ(t);return FJ.has(a)||(a=t),[r,i,a]}function RJ(t,e,n,r,i){if("string"==typeof e&&t){if(n||(n=r,r=null),AJ.test(e)){var a=function(t){return function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)}};r?r=a(r):n=a(n)}var o=F(GJ(e,n,r),3),s=o[0],l=o[1],c=o[2],u=wJ(t),d=u[c]||(u[c]={}),h=UJ(d,l,s?n:null);if(h)h.oneOff=h.oneOff&&i;else{var g=QJ(l,e.replace(yJ,"")),f=s?function(t,e,n){return function r(i){for(var a=t.querySelectorAll(e),o=i.target;o&&o!==this;o=o.parentNode)for(var s=a.length;s--;)if(a[s]===o)return i.delegateTarget=o,r.oneOff&&_J.off(t,i.type,e,n),n.apply(o,[i]);return null}}(t,n,r):function(t,e){return function n(r){return r.delegateTarget=t,n.oneOff&&_J.off(t,r.type,e),e.apply(t,[r])}}(t,n);f.delegationSelector=s?n:null,f.originalHandler=l,f.oneOff=i,f.uidEvent=g,d[g]=f,t.addEventListener(c,f,s)}}}function SJ(t,e,n,r,i){var a=UJ(e[n],r,i);a&&(t.removeEventListener(n,a,Boolean(i)),delete e[n][a.uidEvent])}function LJ(t){return t=t.replace(bJ,""),BJ[t]||t}var _J={on:function(t,e,n,r){RJ(t,e,n,r,!1)},one:function(t,e,n,r){RJ(t,e,n,r,!0)},off:function(t,e,n,r){if("string"==typeof e&&t){var i=F(GJ(e,n,r),3),a=i[0],o=i[1],s=i[2],l=s!==e,c=wJ(t),u=e.startsWith(".");if(void 0===o){u&&Object.keys(c).forEach((function(n){!function(t,e,n,r){var i=e[n]||{};Object.keys(i).forEach((function(a){if(a.includes(r)){var o=i[a];SJ(t,e,n,o.originalHandler,o.delegationSelector)}}))}(t,c,n,e.slice(1))}));var d=c[s]||{};Object.keys(d).forEach((function(n){var r=n.replace(IJ,"");if(!l||e.includes(r)){var i=d[n];SJ(t,c,s,i.originalHandler,i.delegationSelector)}}))}else{if(!c||!c[s])return;SJ(t,c,s,o,a?n:null)}}},trigger:function(t,e,n){if("string"!=typeof e||!t)return null;var r,i=dJ(),a=LJ(e),o=e!==a,s=FJ.has(a),l=!0,c=!0,u=!1,d=null;return o&&i&&(r=i.Event(e,n),i(t).trigger(r),l=!r.isPropagationStopped(),c=!r.isImmediatePropagationStopped(),u=r.isDefaultPrevented()),s?(d=document.createEvent("HTMLEvents")).initEvent(a,l,!0):d=new CustomEvent(e,{bubbles:l,cancelable:!0}),void 0!==n&&Object.keys(n).forEach((function(t){Object.defineProperty(d,t,{get:function(){return n[t]}})})),u&&d.preventDefault(),c&&t.dispatchEvent(d),d.defaultPrevented&&void 0!==r&&r.preventDefault(),d}},EJ=new Map,kJ=function(t,e,n){EJ.has(t)||EJ.set(t,new Map);var r=EJ.get(t);r.has(e)||0===r.size?r.set(e,n):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(r.keys())[0],"."))},VJ=function(t,e){return EJ.has(t)&&EJ.get(t).get(e)||null},ZJ=function(t,e){if(EJ.has(t)){var n=EJ.get(t);n.delete(e),0===n.size&&EJ.delete(t)}},NJ=function(){function t(e){c(this,t),(e=iJ(e))&&(this._element=e,kJ(this._element,this.constructor.DATA_KEY,this))}return d(t,[{key:"dispose",value:function(){var t=this;ZJ(this._element,this.constructor.DATA_KEY),_J.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((function(e){t[e]=null}))}},{key:"_queueCallback",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];vJ(t,e,n)}}],[{key:"getInstance",value:function(t){return VJ(iJ(t),this.DATA_KEY)}},{key:"getOrCreateInstance",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(t)||new this(t,"object"===o(e)?e:null)}},{key:"VERSION",get:function(){return"5.1.3"}},{key:"NAME",get:function(){throw new Error('You have to implement the static method "NAME", for each component!')}},{key:"DATA_KEY",get:function(){return"bs.".concat(this.NAME)}},{key:"EVENT_KEY",get:function(){return".".concat(this.DATA_KEY)}}]),t}(),TJ=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hide",n="click.dismiss".concat(t.EVENT_KEY),r=t.NAME;_J.on(document,n,'[data-bs-dismiss="'.concat(r,'"]'),(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),!sJ(this)){var i=tJ(this)||this.closest(".".concat(r));t.getOrCreateInstance(i)[e]()}}))},XJ=".".concat("bs.alert"),WJ="close".concat(XJ),MJ="closed".concat(XJ),HJ=function(t){g(n,t);var e=C(n);function n(){return c(this,n),e.apply(this,arguments)}return d(n,[{key:"close",value:function(){var t=this;if(!_J.trigger(this._element,WJ).defaultPrevented){this._element.classList.remove("show");var e=this._element.classList.contains("fade");this._queueCallback((function(){return t._destroyElement()}),this._element,e)}}},{key:"_destroyElement",value:function(){this._element.remove(),_J.trigger(this._element,MJ),this.dispose()}}],[{key:"NAME",get:function(){return"alert"}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e=n.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError('No method named "'.concat(t,'"'));e[t](this)}}))}}]),n}(NJ);TJ(HJ,"close"),fJ(HJ);var DJ=".".concat("bs.button"),YJ='[data-bs-toggle="button"]',OJ="click".concat(DJ).concat(".data-api"),zJ=function(t){g(n,t);var e=C(n);function n(){return c(this,n),e.apply(this,arguments)}return d(n,[{key:"toggle",value:function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}}],[{key:"NAME",get:function(){return"button"}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e=n.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}]),n}(NJ);function JJ(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function jJ(t){return t.replace(/[A-Z]/g,(function(t){return"-".concat(t.toLowerCase())}))}_J.on(document,OJ,YJ,(function(t){t.preventDefault();var e=t.target.closest(YJ);zJ.getOrCreateInstance(e).toggle()})),fJ(zJ);var PJ={setDataAttribute:function(t,e,n){t.setAttribute("data-bs-".concat(jJ(e)),n)},removeDataAttribute:function(t,e){t.removeAttribute("data-bs-".concat(jJ(e)))},getDataAttributes:function(t){if(!t)return{};var e={};return Object.keys(t.dataset).filter((function(t){return t.startsWith("bs")})).forEach((function(n){var r=n.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=JJ(t.dataset[n])})),e},getDataAttribute:function(t,e){return JJ(t.getAttribute("data-bs-".concat(jJ(e))))},offset:function(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},position:function(t){return{top:t.offsetTop,left:t.offsetLeft}}},KJ={find:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return(e=[]).concat.apply(e,Q(Element.prototype.querySelectorAll.call(n,t)))},findOne:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(e,t)},children:function(t,e){var n;return(n=[]).concat.apply(n,Q(t.children)).filter((function(t){return t.matches(e)}))},parents:function(t,e){for(var n=[],r=t.parentNode;r&&r.nodeType===Node.ELEMENT_NODE&&3!==r.nodeType;)r.matches(e)&&n.push(r),r=r.parentNode;return n},prev:function(t,e){for(var n=t.previousElementSibling;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next:function(t,e){for(var n=t.nextElementSibling;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren:function(t){var e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((function(t){return"".concat(t,':not([tabindex^="-"])')})).join(", ");return this.find(e,t).filter((function(t){return!sJ(t)&&oJ(t)}))}},qJ="carousel",$J=".".concat("bs.carousel"),tj=".data-api",ej={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},nj={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},rj="next",ij="prev",aj="left",oj="right",sj=(h(Oz={},"ArrowLeft",oj),h(Oz,"ArrowRight",aj),Oz),lj="slide".concat($J),cj="slid".concat($J),uj="keydown".concat($J),dj="mouseenter".concat($J),hj="mouseleave".concat($J),gj="touchstart".concat($J),fj="touchmove".concat($J),pj="touchend".concat($J),vj="pointerdown".concat($J),mj="pointerup".concat($J),yj="dragstart".concat($J),bj="load".concat($J).concat(tj),Ij="click".concat($J).concat(tj),Cj="active",xj=".active.carousel-item",Bj=function(t){g(n,t);var e=C(n);function n(t,r){var i;return c(this,n),(i=e.call(this,t))._items=null,i._interval=null,i._activeElement=null,i._isPaused=!1,i._isSliding=!1,i.touchTimeout=null,i.touchStartX=0,i.touchDeltaX=0,i._config=i._getConfig(r),i._indicatorsElement=KJ.findOne(".carousel-indicators",i._element),i._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,i._pointerEvent=Boolean(window.PointerEvent),i._addEventListeners(),i}return d(n,[{key:"next",value:function(){this._slide(rj)}},{key:"nextWhenVisible",value:function(){!document.hidden&&oJ(this._element)&&this.next()}},{key:"prev",value:function(){this._slide(ij)}},{key:"pause",value:function(t){t||(this._isPaused=!0),KJ.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(nJ(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}},{key:"cycle",value:function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}},{key:"to",value:function(t){var e=this;this._activeElement=KJ.findOne(xj,this._element);var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)_J.one(this._element,cj,(function(){return e.to(t)}));else{if(n===t)return this.pause(),void this.cycle();var r=t>n?rj:ij;this._slide(r,this._items[t])}}},{key:"_getConfig",value:function(t){return t=a(a(a({},ej),PJ.getDataAttributes(this._element)),"object"===o(t)?t:{}),aJ(qJ,t,nj),t}},{key:"_handleSwipe",value:function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;this.touchDeltaX=0,e&&this._slide(e>0?oj:aj)}}},{key:"_addEventListeners",value:function(){var t=this;this._config.keyboard&&_J.on(this._element,uj,(function(e){return t._keydown(e)})),"hover"===this._config.pause&&(_J.on(this._element,dj,(function(e){return t.pause(e)})),_J.on(this._element,hj,(function(e){return t.cycle(e)}))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}},{key:"_addTouchEventListeners",value:function(){var t=this,e=function(e){return t._pointerEvent&&("pen"===e.pointerType||"touch"===e.pointerType)},n=function(n){e(n)?t.touchStartX=n.clientX:t._pointerEvent||(t.touchStartX=n.touches[0].clientX)},r=function(n){e(n)&&(t.touchDeltaX=n.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval))};KJ.find(".carousel-item img",this._element).forEach((function(t){_J.on(t,yj,(function(t){return t.preventDefault()}))})),this._pointerEvent?(_J.on(this._element,vj,(function(t){return n(t)})),_J.on(this._element,mj,(function(t){return r(t)})),this._element.classList.add("pointer-event")):(_J.on(this._element,gj,(function(t){return n(t)})),_J.on(this._element,fj,(function(e){return function(e){t.touchDeltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-t.touchStartX}(e)})),_J.on(this._element,pj,(function(t){return r(t)})))}},{key:"_keydown",value:function(t){if(!/input|textarea/i.test(t.target.tagName)){var e=sj[t.key];e&&(t.preventDefault(),this._slide(e))}}},{key:"_getItemIndex",value:function(t){return this._items=t&&t.parentNode?KJ.find(".carousel-item",t.parentNode):[],this._items.indexOf(t)}},{key:"_getItemByOrder",value:function(t,e){var n=t===rj;return mJ(this._items,e,n,this._config.wrap)}},{key:"_triggerSlideEvent",value:function(t,e){var n=this._getItemIndex(t),r=this._getItemIndex(KJ.findOne(xj,this._element));return _J.trigger(this._element,lj,{relatedTarget:t,direction:e,from:r,to:n})}},{key:"_setActiveIndicatorElement",value:function(t){if(this._indicatorsElement){var e=KJ.findOne(".active",this._indicatorsElement);e.classList.remove(Cj),e.removeAttribute("aria-current");for(var n=KJ.find("[data-bs-target]",this._indicatorsElement),r=0;r<n.length;r++)if(Number.parseInt(n[r].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(t)){n[r].classList.add(Cj),n[r].setAttribute("aria-current","true");break}}}},{key:"_updateInterval",value:function(){var t=this._activeElement||KJ.findOne(xj,this._element);if(t){var e=Number.parseInt(t.getAttribute("data-bs-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}}},{key:"_slide",value:function(t,e){var n=this,r=this._directionToOrder(t),i=KJ.findOne(xj,this._element),a=this._getItemIndex(i),o=e||this._getItemByOrder(r,i),s=this._getItemIndex(o),l=Boolean(this._interval),c=r===rj,u=c?"carousel-item-start":"carousel-item-end",d=c?"carousel-item-next":"carousel-item-prev",h=this._orderToDirection(r);if(o&&o.classList.contains(Cj))this._isSliding=!1;else if(!this._isSliding&&!this._triggerSlideEvent(o,h).defaultPrevented&&i&&o){this._isSliding=!0,l&&this.pause(),this._setActiveIndicatorElement(o),this._activeElement=o;var g=function(){_J.trigger(n._element,cj,{relatedTarget:o,direction:h,from:a,to:s})};if(this._element.classList.contains("slide")){o.classList.add(d),uJ(o),i.classList.add(u),o.classList.add(u);this._queueCallback((function(){o.classList.remove(u,d),o.classList.add(Cj),i.classList.remove(Cj,d,u),n._isSliding=!1,setTimeout(g,0)}),i,!0)}else i.classList.remove(Cj),o.classList.add(Cj),this._isSliding=!1,g();l&&this.cycle()}}},{key:"_directionToOrder",value:function(t){return[oj,aj].includes(t)?gJ()?t===aj?ij:rj:t===aj?rj:ij:t}},{key:"_orderToDirection",value:function(t){return[rj,ij].includes(t)?gJ()?t===ij?aj:oj:t===ij?oj:aj:t}}],[{key:"Default",get:function(){return ej}},{key:"NAME",get:function(){return qJ}},{key:"carouselInterface",value:function(t,e){var r=n.getOrCreateInstance(t,e),i=r._config;"object"===o(e)&&(i=a(a({},i),e));var s="string"==typeof e?e:i.slide;if("number"==typeof e)r.to(e);else if("string"==typeof s){if(void 0===r[s])throw new TypeError('No method named "'.concat(s,'"'));r[s]()}else i.interval&&i.ride&&(r.pause(),r.cycle())}},{key:"jQueryInterface",value:function(t){return this.each((function(){n.carouselInterface(this,t)}))}},{key:"dataApiClickHandler",value:function(t){var e=tJ(this);if(e&&e.classList.contains("carousel")){var r=a(a({},PJ.getDataAttributes(e)),PJ.getDataAttributes(this)),i=this.getAttribute("data-bs-slide-to");i&&(r.interval=!1),n.carouselInterface(e,r),i&&n.getInstance(e).to(i),t.preventDefault()}}}]),n}(NJ);_J.on(document,Ij,"[data-bs-slide], [data-bs-slide-to]",Bj.dataApiClickHandler),_J.on(window,bj,(function(){for(var t=KJ.find('[data-bs-ride="carousel"]'),e=0,n=t.length;e<n;e++)Bj.carouselInterface(t[e],Bj.getInstance(t[e]))})),fJ(Bj);var Aj="collapse",Fj="bs.collapse",Qj=".".concat(Fj),wj={toggle:!0,parent:null},Uj={toggle:"boolean",parent:"(null|element)"},Gj="show".concat(Qj),Rj="shown".concat(Qj),Sj="hide".concat(Qj),Lj="hidden".concat(Qj),_j="click".concat(Qj).concat(".data-api"),Ej="show",kj="collapse",Vj="collapsing",Zj="collapsed",Nj=":scope .".concat(kj," .").concat(kj),Tj='[data-bs-toggle="collapse"]',Xj=function(t){g(n,t);var e=C(n);function n(t,r){var i;c(this,n),(i=e.call(this,t))._isTransitioning=!1,i._config=i._getConfig(r),i._triggerArray=[];for(var a=KJ.find(Tj),o=0,s=a.length;o<s;o++){var l=a[o],u=$z(l),d=KJ.find(u).filter((function(t){return t===i._element}));null!==u&&d.length&&(i._selector=u,i._triggerArray.push(l))}return i._initializeChildren(),i._config.parent||i._addAriaAndCollapsedClass(i._triggerArray,i._isShown()),i._config.toggle&&i.toggle(),i}return d(n,[{key:"toggle",value:function(){this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var t=this;if(!this._isTransitioning&&!this._isShown()){var e,r=[];if(this._config.parent){var i=KJ.find(Nj,this._config.parent);r=KJ.find(".collapse.show, .collapse.collapsing",this._config.parent).filter((function(t){return!i.includes(t)}))}var a=KJ.findOne(this._selector);if(r.length){var o=r.find((function(t){return a!==t}));if((e=o?n.getInstance(o):null)&&e._isTransitioning)return}if(!_J.trigger(this._element,Gj).defaultPrevented){r.forEach((function(t){a!==t&&n.getOrCreateInstance(t,{toggle:!1}).hide(),e||kJ(t,Fj,null)}));var s=this._getDimension();this._element.classList.remove(kj),this._element.classList.add(Vj),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;var l=s[0].toUpperCase()+s.slice(1),c="scroll".concat(l);this._queueCallback((function(){t._isTransitioning=!1,t._element.classList.remove(Vj),t._element.classList.add(kj,Ej),t._element.style[s]="",_J.trigger(t._element,Rj)}),this._element,!0),this._element.style[s]="".concat(this._element[c],"px")}}}},{key:"hide",value:function(){var t=this;if(!this._isTransitioning&&this._isShown()&&!_J.trigger(this._element,Sj).defaultPrevented){var e=this._getDimension();this._element.style[e]="".concat(this._element.getBoundingClientRect()[e],"px"),uJ(this._element),this._element.classList.add(Vj),this._element.classList.remove(kj,Ej);for(var n=this._triggerArray.length,r=0;r<n;r++){var i=this._triggerArray[r],a=tJ(i);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;this._element.style[e]="",this._queueCallback((function(){t._isTransitioning=!1,t._element.classList.remove(Vj),t._element.classList.add(kj),_J.trigger(t._element,Lj)}),this._element,!0)}}},{key:"_isShown",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element;return t.classList.contains(Ej)}},{key:"_getConfig",value:function(t){return(t=a(a(a({},wj),PJ.getDataAttributes(this._element)),t)).toggle=Boolean(t.toggle),t.parent=iJ(t.parent),aJ(Aj,t,Uj),t}},{key:"_getDimension",value:function(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}},{key:"_initializeChildren",value:function(){var t=this;if(this._config.parent){var e=KJ.find(Nj,this._config.parent);KJ.find(Tj,this._config.parent).filter((function(t){return!e.includes(t)})).forEach((function(e){var n=tJ(e);n&&t._addAriaAndCollapsedClass([e],t._isShown(n))}))}}},{key:"_addAriaAndCollapsedClass",value:function(t,e){t.length&&t.forEach((function(t){e?t.classList.remove(Zj):t.classList.add(Zj),t.setAttribute("aria-expanded",e)}))}}],[{key:"Default",get:function(){return wj}},{key:"NAME",get:function(){return Aj}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e={};"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1);var r=n.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===r[t])throw new TypeError('No method named "'.concat(t,'"'));r[t]()}}))}}]),n}(NJ);_J.on(document,_j,Tj,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();var e=$z(this);KJ.find(e).forEach((function(t){Xj.getOrCreateInstance(t,{toggle:!1}).toggle()}))})),fJ(Xj);var Wj="dropdown",Mj=".".concat("bs.dropdown"),Hj=".data-api",Dj="Escape",Yj="Space",Oj="ArrowUp",zj="ArrowDown",Jj=new RegExp("".concat(Oj,"|").concat(zj,"|").concat(Dj)),jj="hide".concat(Mj),Pj="hidden".concat(Mj),Kj="show".concat(Mj),qj="shown".concat(Mj),$j="click".concat(Mj).concat(Hj),tP="keydown".concat(Mj).concat(Hj),eP="keyup".concat(Mj).concat(Hj),nP="show",rP='[data-bs-toggle="dropdown"]',iP=".dropdown-menu",aP=gJ()?"top-end":"top-start",oP=gJ()?"top-start":"top-end",sP=gJ()?"bottom-end":"bottom-start",lP=gJ()?"bottom-start":"bottom-end",cP=gJ()?"left-start":"right-start",uP=gJ()?"right-start":"left-start",dP={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},hP={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"},gP=function(t){g(n,t);var e=C(n);function n(t,r){var i;return c(this,n),(i=e.call(this,t))._popper=null,i._config=i._getConfig(r),i._menu=i._getMenuElement(),i._inNavbar=i._detectNavbar(),i}return d(n,[{key:"toggle",value:function(){return this._isShown()?this.hide():this.show()}},{key:"show",value:function(){if(!sJ(this._element)&&!this._isShown(this._menu)){var t={relatedTarget:this._element};if(!_J.trigger(this._element,Kj,t).defaultPrevented){var e,r=n.getParentFromElement(this._element);if(this._inNavbar?PJ.setDataAttribute(this._menu,"popper","none"):this._createPopper(r),"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav"))(e=[]).concat.apply(e,Q(document.body.children)).forEach((function(t){return _J.on(t,"mouseover",cJ)}));this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(nP),this._element.classList.add(nP),_J.trigger(this._element,qj,t)}}}},{key:"hide",value:function(){if(!sJ(this._element)&&this._isShown(this._menu)){var t={relatedTarget:this._element};this._completeHide(t)}}},{key:"dispose",value:function(){this._popper&&this._popper.destroy(),B(f(n.prototype),"dispose",this).call(this)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}},{key:"_completeHide",value:function(t){if(!_J.trigger(this._element,jj,t).defaultPrevented){var e;if("ontouchstart"in document.documentElement)(e=[]).concat.apply(e,Q(document.body.children)).forEach((function(t){return _J.off(t,"mouseover",cJ)}));this._popper&&this._popper.destroy(),this._menu.classList.remove(nP),this._element.classList.remove(nP),this._element.setAttribute("aria-expanded","false"),PJ.removeDataAttribute(this._menu,"popper"),_J.trigger(this._element,Pj,t)}}},{key:"_getConfig",value:function(t){if(t=a(a(a({},this.constructor.Default),PJ.getDataAttributes(this._element)),t),aJ(Wj,t,this.constructor.DefaultType),"object"===o(t.reference)&&!rJ(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError("".concat(Wj.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'));return t}},{key:"_createPopper",value:function(t){if(void 0===Pz)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var e=this._element;"parent"===this._config.reference?e=t:rJ(this._config.reference)?e=iJ(this._config.reference):"object"===o(this._config.reference)&&(e=this._config.reference);var n=this._getPopperConfig(),r=n.modifiers.find((function(t){return"applyStyles"===t.name&&!1===t.enabled}));this._popper=jz(e,this._menu,n),r&&PJ.setDataAttribute(this._menu,"popper","static")}},{key:"_isShown",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element;return t.classList.contains(nP)}},{key:"_getMenuElement",value:function(){return KJ.next(this._element,iP)[0]}},{key:"_getPlacement",value:function(){var t=this._element.parentNode;if(t.classList.contains("dropend"))return cP;if(t.classList.contains("dropstart"))return uP;var e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?oP:aP:e?lP:sP}},{key:"_detectNavbar",value:function(){return null!==this._element.closest(".".concat("navbar"))}},{key:"_getOffset",value:function(){var t=this,e=this._config.offset;return"string"==typeof e?e.split(",").map((function(t){return Number.parseInt(t,10)})):"function"==typeof e?function(n){return e(n,t._element)}:e}},{key:"_getPopperConfig",value:function(){var t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(t.modifiers=[{name:"applyStyles",enabled:!1}]),a(a({},t),"function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig)}},{key:"_selectMenuItem",value:function(t){var e=t.key,n=t.target,r=KJ.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(oJ);r.length&&mJ(r,n,e===zj,!r.includes(n)).focus()}}],[{key:"Default",get:function(){return dP}},{key:"DefaultType",get:function(){return hP}},{key:"NAME",get:function(){return Wj}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e=n.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'.concat(t,'"'));e[t]()}}))}},{key:"clearMenus",value:function(t){if(!t||2!==t.button&&("keyup"!==t.type||"Tab"===t.key))for(var e=KJ.find(rP),r=0,i=e.length;r<i;r++){var a=n.getInstance(e[r]);if(a&&!1!==a._config.autoClose&&a._isShown()){var o={relatedTarget:a._element};if(t){var s=t.composedPath(),l=s.includes(a._menu);if(s.includes(a._element)||"inside"===a._config.autoClose&&!l||"outside"===a._config.autoClose&&l)continue;if(a._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;"click"===t.type&&(o.clickEvent=t)}a._completeHide(o)}}}},{key:"getParentFromElement",value:function(t){return tJ(t)||t.parentNode}},{key:"dataApiKeydownHandler",value:function(t){if(!(/input|textarea/i.test(t.target.tagName)?t.key===Yj||t.key!==Dj&&(t.key!==zj&&t.key!==Oj||t.target.closest(iP)):!Jj.test(t.key))){var e=this.classList.contains(nP);if((e||t.key!==Dj)&&(t.preventDefault(),t.stopPropagation(),!sJ(this))){var r=this.matches(rP)?this:KJ.prev(this,rP)[0],i=n.getOrCreateInstance(r);if(t.key!==Dj)return t.key===Oj||t.key===zj?(e||i.show(),void i._selectMenuItem(t)):void(e&&t.key!==Yj||n.clearMenus());i.hide()}}}}]),n}(NJ);_J.on(document,tP,rP,gP.dataApiKeydownHandler),_J.on(document,tP,iP,gP.dataApiKeydownHandler),_J.on(document,$j,gP.clearMenus),_J.on(document,eP,gP.clearMenus),_J.on(document,$j,rP,(function(t){t.preventDefault(),gP.getOrCreateInstance(this).toggle()})),fJ(gP);var fP=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",pP=".sticky-top",vP=function(){function t(){c(this,t),this._element=document.body}return d(t,[{key:"getWidth",value:function(){var t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}},{key:"hide",value:function(){var t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",(function(e){return e+t})),this._setElementAttributes(fP,"paddingRight",(function(e){return e+t})),this._setElementAttributes(pP,"marginRight",(function(e){return e-t}))}},{key:"_disableOverFlow",value:function(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}},{key:"_setElementAttributes",value:function(t,e,n){var r=this,i=this.getWidth();this._applyManipulationCallback(t,(function(t){if(!(t!==r._element&&window.innerWidth>t.clientWidth+i)){r._saveInitialAttribute(t,e);var a=window.getComputedStyle(t)[e];t.style[e]="".concat(n(Number.parseFloat(a)),"px")}}))}},{key:"reset",value:function(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(fP,"paddingRight"),this._resetElementAttributes(pP,"marginRight")}},{key:"_saveInitialAttribute",value:function(t,e){var n=t.style[e];n&&PJ.setDataAttribute(t,e,n)}},{key:"_resetElementAttributes",value:function(t,e){this._applyManipulationCallback(t,(function(t){var n=PJ.getDataAttribute(t,e);void 0===n?t.style.removeProperty(e):(PJ.removeDataAttribute(t,e),t.style[e]=n)}))}},{key:"_applyManipulationCallback",value:function(t,e){rJ(t)?e(t):KJ.find(t,this._element).forEach(e)}},{key:"isOverflowing",value:function(){return this.getWidth()>0}}]),t}(),mP={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},yP={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},bP="backdrop",IP="show",CP="mousedown.bs.".concat(bP),xP=function(){function t(e){c(this,t),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}return d(t,[{key:"show",value:function(t){this._config.isVisible?(this._append(),this._config.isAnimated&&uJ(this._getElement()),this._getElement().classList.add(IP),this._emulateAnimation((function(){pJ(t)}))):pJ(t)}},{key:"hide",value:function(t){var e=this;this._config.isVisible?(this._getElement().classList.remove(IP),this._emulateAnimation((function(){e.dispose(),pJ(t)}))):pJ(t)}},{key:"_getElement",value:function(){if(!this._element){var t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}},{key:"_getConfig",value:function(t){return(t=a(a({},mP),"object"===o(t)?t:{})).rootElement=iJ(t.rootElement),aJ(bP,t,yP),t}},{key:"_append",value:function(){var t=this;this._isAppended||(this._config.rootElement.append(this._getElement()),_J.on(this._getElement(),CP,(function(){pJ(t._config.clickCallback)})),this._isAppended=!0)}},{key:"dispose",value:function(){this._isAppended&&(_J.off(this._element,CP),this._element.remove(),this._isAppended=!1)}},{key:"_emulateAnimation",value:function(t){vJ(t,this._getElement(),this._config.isAnimated)}}]),t}(),BP={trapElement:null,autofocus:!0},AP={trapElement:"element",autofocus:"boolean"},FP=".".concat("bs.focustrap"),QP="focusin".concat(FP),wP="keydown.tab".concat(FP),UP="backward",GP=function(){function t(e){c(this,t),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}return d(t,[{key:"activate",value:function(){var t=this,e=this._config,n=e.trapElement,r=e.autofocus;this._isActive||(r&&n.focus(),_J.off(document,FP),_J.on(document,QP,(function(e){return t._handleFocusin(e)})),_J.on(document,wP,(function(e){return t._handleKeydown(e)})),this._isActive=!0)}},{key:"deactivate",value:function(){this._isActive&&(this._isActive=!1,_J.off(document,FP))}},{key:"_handleFocusin",value:function(t){var e=t.target,n=this._config.trapElement;if(e!==document&&e!==n&&!n.contains(e)){var r=KJ.focusableChildren(n);0===r.length?n.focus():this._lastTabNavDirection===UP?r[r.length-1].focus():r[0].focus()}}},{key:"_handleKeydown",value:function(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?UP:"forward")}},{key:"_getConfig",value:function(t){return t=a(a({},BP),"object"===o(t)?t:{}),aJ("focustrap",t,AP),t}}]),t}(),RP="modal",SP=".".concat("bs.modal"),LP="Escape",_P={backdrop:!0,keyboard:!0,focus:!0},EP={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},kP="hide".concat(SP),VP="hidePrevented".concat(SP),ZP="hidden".concat(SP),NP="show".concat(SP),TP="shown".concat(SP),XP="resize".concat(SP),WP="click.dismiss".concat(SP),MP="keydown.dismiss".concat(SP),HP="mouseup.dismiss".concat(SP),DP="mousedown.dismiss".concat(SP),YP="click".concat(SP).concat(".data-api"),OP="modal-open",zP="show",JP="modal-static",jP=function(t){g(n,t);var e=C(n);function n(t,r){var i;return c(this,n),(i=e.call(this,t))._config=i._getConfig(r),i._dialog=KJ.findOne(".modal-dialog",i._element),i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._isShown=!1,i._ignoreBackdropClick=!1,i._isTransitioning=!1,i._scrollBar=new vP,i}return d(n,[{key:"toggle",value:function(t){return this._isShown?this.hide():this.show(t)}},{key:"show",value:function(t){var e=this;this._isShown||this._isTransitioning||(_J.trigger(this._element,NP,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(OP),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),_J.on(this._dialog,DP,(function(){_J.one(e._element,HP,(function(t){t.target===e._element&&(e._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return e._showElement(t)}))))}},{key:"hide",value:function(){var t=this;if(this._isShown&&!this._isTransitioning&&!_J.trigger(this._element,kP).defaultPrevented){this._isShown=!1;var e=this._isAnimated();e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(zP),_J.off(this._element,WP),_J.off(this._dialog,DP),this._queueCallback((function(){return t._hideModal()}),this._element,e)}}},{key:"dispose",value:function(){[window,this._dialog].forEach((function(t){return _J.off(t,SP)})),this._backdrop.dispose(),this._focustrap.deactivate(),B(f(n.prototype),"dispose",this).call(this)}},{key:"handleUpdate",value:function(){this._adjustDialog()}},{key:"_initializeBackDrop",value:function(){return new xP({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}},{key:"_initializeFocusTrap",value:function(){return new GP({trapElement:this._element})}},{key:"_getConfig",value:function(t){return t=a(a(a({},_P),PJ.getDataAttributes(this._element)),"object"===o(t)?t:{}),aJ(RP,t,EP),t}},{key:"_showElement",value:function(t){var e=this,n=this._isAnimated(),r=KJ.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,r&&(r.scrollTop=0),n&&uJ(this._element),this._element.classList.add(zP);this._queueCallback((function(){e._config.focus&&e._focustrap.activate(),e._isTransitioning=!1,_J.trigger(e._element,TP,{relatedTarget:t})}),this._dialog,n)}},{key:"_setEscapeEvent",value:function(){var t=this;this._isShown?_J.on(this._element,MP,(function(e){t._config.keyboard&&e.key===LP?(e.preventDefault(),t.hide()):t._config.keyboard||e.key!==LP||t._triggerBackdropTransition()})):_J.off(this._element,MP)}},{key:"_setResizeEvent",value:function(){var t=this;this._isShown?_J.on(window,XP,(function(){return t._adjustDialog()})):_J.off(window,XP)}},{key:"_hideModal",value:function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((function(){document.body.classList.remove(OP),t._resetAdjustments(),t._scrollBar.reset(),_J.trigger(t._element,ZP)}))}},{key:"_showBackdrop",value:function(t){var e=this;_J.on(this._element,WP,(function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&(!0===e._config.backdrop?e.hide():"static"===e._config.backdrop&&e._triggerBackdropTransition())})),this._backdrop.show(t)}},{key:"_isAnimated",value:function(){return this._element.classList.contains("fade")}},{key:"_triggerBackdropTransition",value:function(){var t=this;if(!_J.trigger(this._element,VP).defaultPrevented){var e=this._element,n=e.classList,r=e.scrollHeight,i=e.style,a=r>document.documentElement.clientHeight;!a&&"hidden"===i.overflowY||n.contains(JP)||(a||(i.overflowY="hidden"),n.add(JP),this._queueCallback((function(){n.remove(JP),a||t._queueCallback((function(){i.overflowY=""}),t._dialog)}),this._dialog),this._element.focus())}}},{key:"_adjustDialog",value:function(){var t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;(!n&&t&&!gJ()||n&&!t&&gJ())&&(this._element.style.paddingLeft="".concat(e,"px")),(n&&!t&&!gJ()||!n&&t&&gJ())&&(this._element.style.paddingRight="".concat(e,"px"))}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}}],[{key:"Default",get:function(){return _P}},{key:"NAME",get:function(){return RP}},{key:"jQueryInterface",value:function(t,e){return this.each((function(){var r=n.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===r[t])throw new TypeError('No method named "'.concat(t,'"'));r[t](e)}}))}}]),n}(NJ);_J.on(document,YP,'[data-bs-toggle="modal"]',(function(t){var e=this,n=tJ(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),_J.one(n,NP,(function(t){t.defaultPrevented||_J.one(n,ZP,(function(){oJ(e)&&e.focus()}))}));var r=KJ.findOne(".modal.show");r&&jP.getInstance(r).hide(),jP.getOrCreateInstance(n).toggle(this)})),TJ(jP),fJ(jP);var PP="offcanvas",KP=".".concat("bs.offcanvas"),qP=".data-api",$P="load".concat(KP).concat(qP),tK={backdrop:!0,keyboard:!0,scroll:!1},eK={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},nK="show",rK=".offcanvas.show",iK="show".concat(KP),aK="shown".concat(KP),oK="hide".concat(KP),sK="hidden".concat(KP),lK="click".concat(KP).concat(qP),cK="keydown.dismiss".concat(KP),uK=function(t){g(n,t);var e=C(n);function n(t,r){var i;return c(this,n),(i=e.call(this,t))._config=i._getConfig(r),i._isShown=!1,i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._addEventListeners(),i}return d(n,[{key:"toggle",value:function(t){return this._isShown?this.hide():this.show(t)}},{key:"show",value:function(t){var e=this;if(!this._isShown&&!_J.trigger(this._element,iK,{relatedTarget:t}).defaultPrevented){this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new vP).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(nK);this._queueCallback((function(){e._config.scroll||e._focustrap.activate(),_J.trigger(e._element,aK,{relatedTarget:t})}),this._element,!0)}}},{key:"hide",value:function(){var t=this;if(this._isShown&&!_J.trigger(this._element,oK).defaultPrevented){this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(nK),this._backdrop.hide();this._queueCallback((function(){t._element.setAttribute("aria-hidden",!0),t._element.removeAttribute("aria-modal"),t._element.removeAttribute("role"),t._element.style.visibility="hidden",t._config.scroll||(new vP).reset(),_J.trigger(t._element,sK)}),this._element,!0)}}},{key:"dispose",value:function(){this._backdrop.dispose(),this._focustrap.deactivate(),B(f(n.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(t){return t=a(a(a({},tK),PJ.getDataAttributes(this._element)),"object"===o(t)?t:{}),aJ(PP,t,eK),t}},{key:"_initializeBackDrop",value:function(){var t=this;return new xP({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:function(){return t.hide()}})}},{key:"_initializeFocusTrap",value:function(){return new GP({trapElement:this._element})}},{key:"_addEventListeners",value:function(){var t=this;_J.on(this._element,cK,(function(e){t._config.keyboard&&"Escape"===e.key&&t.hide()}))}}],[{key:"NAME",get:function(){return PP}},{key:"Default",get:function(){return tK}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e=n.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError('No method named "'.concat(t,'"'));e[t](this)}}))}}]),n}(NJ);_J.on(document,lK,'[data-bs-toggle="offcanvas"]',(function(t){var e=this,n=tJ(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),!sJ(this)){_J.one(n,sK,(function(){oJ(e)&&e.focus()}));var r=KJ.findOne(rK);r&&r!==n&&uK.getInstance(r).hide(),uK.getOrCreateInstance(n).toggle(this)}})),_J.on(window,$P,(function(){return KJ.find(rK).forEach((function(t){return uK.getOrCreateInstance(t).show()}))})),TJ(uK),fJ(uK);var dK=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),hK=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,gK=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,fK={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function pK(t,e,n){var r;if(!t.length)return t;if(n&&"function"==typeof n)return n(t);for(var i=(new window.DOMParser).parseFromString(t,"text/html"),a=(r=[]).concat.apply(r,Q(i.body.querySelectorAll("*"))),o=function(t,n){var r,i=a[t],o=i.nodeName.toLowerCase();if(!Object.keys(e).includes(o))return i.remove(),"continue";var s=(r=[]).concat.apply(r,Q(i.attributes)),l=[].concat(e["*"]||[],e[o]||[]);s.forEach((function(t){(function(t,e){var n=t.nodeName.toLowerCase();if(e.includes(n))return!dK.has(n)||Boolean(hK.test(t.nodeValue)||gK.test(t.nodeValue));for(var r=e.filter((function(t){return t instanceof RegExp})),i=0,a=r.length;i<a;i++)if(r[i].test(n))return!0;return!1})(t,l)||i.removeAttribute(t.nodeName)}))},s=0,l=a.length;s<l;s++)o(s);return i.body.innerHTML}var vK="tooltip",mK=".".concat("bs.tooltip"),yK=new Set(["sanitize","allowList","sanitizeFn"]),bK={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},IK={AUTO:"auto",TOP:"top",RIGHT:gJ()?"left":"right",BOTTOM:"bottom",LEFT:gJ()?"right":"left"},CK={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:fK,popperConfig:null},xK={HIDE:"hide".concat(mK),HIDDEN:"hidden".concat(mK),SHOW:"show".concat(mK),SHOWN:"shown".concat(mK),INSERTED:"inserted".concat(mK),CLICK:"click".concat(mK),FOCUSIN:"focusin".concat(mK),FOCUSOUT:"focusout".concat(mK),MOUSEENTER:"mouseenter".concat(mK),MOUSELEAVE:"mouseleave".concat(mK)},BK="fade",AK="show",FK="show",QK="out",wK=".tooltip-inner",UK=".".concat("modal"),GK="hide.bs.modal",RK="hover",SK="focus",LK=function(t){g(n,t);var e=C(n);function n(t,r){var i;if(c(this,n),void 0===Pz)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");return(i=e.call(this,t))._isEnabled=!0,i._timeout=0,i._hoverState="",i._activeTrigger={},i._popper=null,i._config=i._getConfig(r),i.tip=null,i._setListeners(),i}return d(n,[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"toggleEnabled",value:function(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function(t){if(this._isEnabled)if(t){var e=this._initializeOnDelegatedTarget(t);e._activeTrigger.click=!e._activeTrigger.click,e._isWithActiveTrigger()?e._enter(null,e):e._leave(null,e)}else{if(this.getTipElement().classList.contains(AK))return void this._leave(null,this);this._enter(null,this)}}},{key:"dispose",value:function(){clearTimeout(this._timeout),_J.off(this._element.closest(UK),GK,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),B(f(n.prototype),"dispose",this).call(this)}},{key:"show",value:function(){var t=this;if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(this.isWithContent()&&this._isEnabled){var e=_J.trigger(this._element,this.constructor.Event.SHOW),n=lJ(this._element),r=null===n?this._element.ownerDocument.documentElement.contains(this._element):n.contains(this._element);if(!e.defaultPrevented&&r){"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(wK).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);var i=this.getTipElement(),a=function(t){do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t}(this.constructor.NAME);i.setAttribute("id",a),this._element.setAttribute("aria-describedby",a),this._config.animation&&i.classList.add(BK);var o="function"==typeof this._config.placement?this._config.placement.call(this,i,this._element):this._config.placement,s=this._getAttachment(o);this._addAttachmentClass(s);var l=this._config.container;kJ(i,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(l.append(i),_J.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=jz(this._element,i,this._getPopperConfig(s)),i.classList.add(AK);var c,u,d=this._resolvePossibleFunction(this._config.customClass);if(d)(c=i.classList).add.apply(c,Q(d.split(" ")));if("ontouchstart"in document.documentElement)(u=[]).concat.apply(u,Q(document.body.children)).forEach((function(t){_J.on(t,"mouseover",cJ)}));var h=this.tip.classList.contains(BK);this._queueCallback((function(){var e=t._hoverState;t._hoverState=null,_J.trigger(t._element,t.constructor.Event.SHOWN),e===QK&&t._leave(null,t)}),this.tip,h)}}}},{key:"hide",value:function(){var t=this;if(this._popper){var e=this.getTipElement();if(!_J.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented){var n;if(e.classList.remove(AK),"ontouchstart"in document.documentElement)(n=[]).concat.apply(n,Q(document.body.children)).forEach((function(t){return _J.off(t,"mouseover",cJ)}));this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;var r=this.tip.classList.contains(BK);this._queueCallback((function(){t._isWithActiveTrigger()||(t._hoverState!==FK&&e.remove(),t._cleanTipClass(),t._element.removeAttribute("aria-describedby"),_J.trigger(t._element,t.constructor.Event.HIDDEN),t._disposePopper())}),this.tip,r),this._hoverState=""}}}},{key:"update",value:function(){null!==this._popper&&this._popper.update()}},{key:"isWithContent",value:function(){return Boolean(this.getTitle())}},{key:"getTipElement",value:function(){if(this.tip)return this.tip;var t=document.createElement("div");t.innerHTML=this._config.template;var e=t.children[0];return this.setContent(e),e.classList.remove(BK,AK),this.tip=e,this.tip}},{key:"setContent",value:function(t){this._sanitizeAndSetContent(t,this.getTitle(),wK)}},{key:"_sanitizeAndSetContent",value:function(t,e,n){var r=KJ.findOne(n,t);e||!r?this.setElementContent(r,e):r.remove()}},{key:"setElementContent",value:function(t,e){if(null!==t)return rJ(e)?(e=iJ(e),void(this._config.html?e.parentNode!==t&&(t.innerHTML="",t.append(e)):t.textContent=e.textContent)):void(this._config.html?(this._config.sanitize&&(e=pK(e,this._config.allowList,this._config.sanitizeFn)),t.innerHTML=e):t.textContent=e)}},{key:"getTitle",value:function(){var t=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(t)}},{key:"updateAttachment",value:function(t){return"right"===t?"end":"left"===t?"start":t}},{key:"_initializeOnDelegatedTarget",value:function(t,e){return e||this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}},{key:"_getOffset",value:function(){var t=this,e=this._config.offset;return"string"==typeof e?e.split(",").map((function(t){return Number.parseInt(t,10)})):"function"==typeof e?function(n){return e(n,t._element)}:e}},{key:"_resolvePossibleFunction",value:function(t){return"function"==typeof t?t.call(this._element):t}},{key:"_getPopperConfig",value:function(t){var e=this,n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:function(t){return e._handlePopperPlacementChange(t)}}],onFirstUpdate:function(t){t.options.placement!==t.placement&&e._handlePopperPlacementChange(t)}};return a(a({},n),"function"==typeof this._config.popperConfig?this._config.popperConfig(n):this._config.popperConfig)}},{key:"_addAttachmentClass",value:function(t){this.getTipElement().classList.add("".concat(this._getBasicClassPrefix(),"-").concat(this.updateAttachment(t)))}},{key:"_getAttachment",value:function(t){return IK[t.toUpperCase()]}},{key:"_setListeners",value:function(){var t=this;this._config.trigger.split(" ").forEach((function(e){if("click"===e)_J.on(t._element,t.constructor.Event.CLICK,t._config.selector,(function(e){return t.toggle(e)}));else if("manual"!==e){var n=e===RK?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,r=e===RK?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;_J.on(t._element,n,t._config.selector,(function(e){return t._enter(e)})),_J.on(t._element,r,t._config.selector,(function(e){return t._leave(e)}))}})),this._hideModalHandler=function(){t._element&&t.hide()},_J.on(this._element.closest(UK),GK,this._hideModalHandler),this._config.selector?this._config=a(a({},this._config),{},{trigger:"manual",selector:""}):this._fixTitle()}},{key:"_fixTitle",value:function(){var t=this._element.getAttribute("title"),e=o(this._element.getAttribute("data-bs-original-title"));(t||"string"!==e)&&(this._element.setAttribute("data-bs-original-title",t||""),!t||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",t),this._element.setAttribute("title",""))}},{key:"_enter",value:function(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusin"===t.type?SK:RK]=!0),e.getTipElement().classList.contains(AK)||e._hoverState===FK?e._hoverState=FK:(clearTimeout(e._timeout),e._hoverState=FK,e._config.delay&&e._config.delay.show?e._timeout=setTimeout((function(){e._hoverState===FK&&e.show()}),e._config.delay.show):e.show())}},{key:"_leave",value:function(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusout"===t.type?SK:RK]=e._element.contains(t.relatedTarget)),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=QK,e._config.delay&&e._config.delay.hide?e._timeout=setTimeout((function(){e._hoverState===QK&&e.hide()}),e._config.delay.hide):e.hide())}},{key:"_isWithActiveTrigger",value:function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}},{key:"_getConfig",value:function(t){var e=PJ.getDataAttributes(this._element);return Object.keys(e).forEach((function(t){yK.has(t)&&delete e[t]})),(t=a(a(a({},this.constructor.Default),e),"object"===o(t)&&t?t:{})).container=!1===t.container?document.body:iJ(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),aJ(vK,t,this.constructor.DefaultType),t.sanitize&&(t.template=pK(t.template,t.allowList,t.sanitizeFn)),t}},{key:"_getDelegateConfig",value:function(){var t={};for(var e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t}},{key:"_cleanTipClass",value:function(){var t=this.getTipElement(),e=new RegExp("(^|\\s)".concat(this._getBasicClassPrefix(),"\\S+"),"g"),n=t.getAttribute("class").match(e);null!==n&&n.length>0&&n.map((function(t){return t.trim()})).forEach((function(e){return t.classList.remove(e)}))}},{key:"_getBasicClassPrefix",value:function(){return"bs-tooltip"}},{key:"_handlePopperPlacementChange",value:function(t){var e=t.state;e&&(this.tip=e.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(e.placement)))}},{key:"_disposePopper",value:function(){this._popper&&(this._popper.destroy(),this._popper=null)}}],[{key:"Default",get:function(){return CK}},{key:"NAME",get:function(){return vK}},{key:"Event",get:function(){return xK}},{key:"DefaultType",get:function(){return bK}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e=n.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'.concat(t,'"'));e[t]()}}))}}]),n}(NJ);fJ(LK);var _K=".".concat("bs.popover"),EK=a(a({},LK.Default),{},{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),kK=a(a({},LK.DefaultType),{},{content:"(string|element|function)"}),VK={HIDE:"hide".concat(_K),HIDDEN:"hidden".concat(_K),SHOW:"show".concat(_K),SHOWN:"shown".concat(_K),INSERTED:"inserted".concat(_K),CLICK:"click".concat(_K),FOCUSIN:"focusin".concat(_K),FOCUSOUT:"focusout".concat(_K),MOUSEENTER:"mouseenter".concat(_K),MOUSELEAVE:"mouseleave".concat(_K)},ZK=function(t){g(n,t);var e=C(n);function n(){return c(this,n),e.apply(this,arguments)}return d(n,[{key:"isWithContent",value:function(){return this.getTitle()||this._getContent()}},{key:"setContent",value:function(t){this._sanitizeAndSetContent(t,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(t,this._getContent(),".popover-body")}},{key:"_getContent",value:function(){return this._resolvePossibleFunction(this._config.content)}},{key:"_getBasicClassPrefix",value:function(){return"bs-popover"}}],[{key:"Default",get:function(){return EK}},{key:"NAME",get:function(){return"popover"}},{key:"Event",get:function(){return VK}},{key:"DefaultType",get:function(){return kK}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e=n.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'.concat(t,'"'));e[t]()}}))}}]),n}(LK);fJ(ZK);var NK="scrollspy",TK=".".concat("bs.scrollspy"),XK={offset:10,method:"auto",target:""},WK={offset:"number",method:"string",target:"(string|element)"},MK="activate".concat(TK),HK="scroll".concat(TK),DK="load".concat(TK).concat(".data-api"),YK="dropdown-item",OK="active",zK=".nav-link",JK=".list-group-item",jK="".concat(zK,", ").concat(JK,", .").concat(YK),PK="position",KK=function(t){g(n,t);var e=C(n);function n(t,r){var i;return c(this,n),(i=e.call(this,t))._scrollElement="BODY"===i._element.tagName?window:i._element,i._config=i._getConfig(r),i._offsets=[],i._targets=[],i._activeTarget=null,i._scrollHeight=0,_J.on(i._scrollElement,HK,(function(){return i._process()})),i.refresh(),i._process(),i}return d(n,[{key:"refresh",value:function(){var t=this,e=this._scrollElement===this._scrollElement.window?"offset":PK,n="auto"===this._config.method?e:this._config.method,r=n===PK?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),KJ.find(jK,this._config.target).map((function(t){var e=$z(t),i=e?KJ.findOne(e):null;if(i){var a=i.getBoundingClientRect();if(a.width||a.height)return[PJ[n](i).top+r,e]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))}},{key:"dispose",value:function(){_J.off(this._scrollElement,TK),B(f(n.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(t){return(t=a(a(a({},XK),PJ.getDataAttributes(this._element)),"object"===o(t)&&t?t:{})).target=iJ(t.target)||document.documentElement,aJ(NK,t,WK),t}},{key:"_getScrollTop",value:function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}},{key:"_getScrollHeight",value:function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"_getOffsetHeight",value:function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}},{key:"_process",value:function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;){this._activeTarget!==this._targets[i]&&t>=this._offsets[i]&&(void 0===this._offsets[i+1]||t<this._offsets[i+1])&&this._activate(this._targets[i])}}}},{key:"_activate",value:function(t){this._activeTarget=t,this._clear();var e=jK.split(",").map((function(e){return"".concat(e,'[data-bs-target="').concat(t,'"],').concat(e,'[href="').concat(t,'"]')})),n=KJ.findOne(e.join(","),this._config.target);n.classList.add(OK),n.classList.contains(YK)?KJ.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add(OK):KJ.parents(n,".nav, .list-group").forEach((function(t){KJ.prev(t,"".concat(zK,", ").concat(JK)).forEach((function(t){return t.classList.add(OK)})),KJ.prev(t,".nav-item").forEach((function(t){KJ.children(t,zK).forEach((function(t){return t.classList.add(OK)}))}))})),_J.trigger(this._scrollElement,MK,{relatedTarget:t})}},{key:"_clear",value:function(){KJ.find(jK,this._config.target).filter((function(t){return t.classList.contains(OK)})).forEach((function(t){return t.classList.remove(OK)}))}}],[{key:"Default",get:function(){return XK}},{key:"NAME",get:function(){return NK}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e=n.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'.concat(t,'"'));e[t]()}}))}}]),n}(NJ);_J.on(window,DK,(function(){KJ.find('[data-bs-spy="scroll"]').forEach((function(t){return new KK(t)}))})),fJ(KK);var qK=".".concat("bs.tab"),$K="hide".concat(qK),tq="hidden".concat(qK),eq="show".concat(qK),nq="shown".concat(qK),rq="click".concat(qK).concat(".data-api"),iq="active",aq="fade",oq="show",sq=".active",lq=":scope > li > .active",cq=function(t){g(n,t);var e=C(n);function n(){return c(this,n),e.apply(this,arguments)}return d(n,[{key:"show",value:function(){var t=this;if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE||!this._element.classList.contains(iq)){var e,n=tJ(this._element),r=this._element.closest(".nav, .list-group");if(r){var i="UL"===r.nodeName||"OL"===r.nodeName?lq:sq;e=(e=KJ.find(i,r))[e.length-1]}var a=e?_J.trigger(e,$K,{relatedTarget:this._element}):null;if(!(_J.trigger(this._element,eq,{relatedTarget:e}).defaultPrevented||null!==a&&a.defaultPrevented)){this._activate(this._element,r);var o=function(){_J.trigger(e,tq,{relatedTarget:t._element}),_J.trigger(t._element,nq,{relatedTarget:e})};n?this._activate(n,n.parentNode,o):o()}}}},{key:"_activate",value:function(t,e,n){var r=this,i=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?KJ.children(e,sq):KJ.find(lq,e))[0],a=n&&i&&i.classList.contains(aq),o=function(){return r._transitionComplete(t,i,n)};i&&a?(i.classList.remove(oq),this._queueCallback(o,t,!0)):o()}},{key:"_transitionComplete",value:function(t,e,n){if(e){e.classList.remove(iq);var r=KJ.findOne(":scope > .dropdown-menu .active",e.parentNode);r&&r.classList.remove(iq),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}t.classList.add(iq),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),uJ(t),t.classList.contains(aq)&&t.classList.add(oq);var i=t.parentNode;if(i&&"LI"===i.nodeName&&(i=i.parentNode),i&&i.classList.contains("dropdown-menu")){var a=t.closest(".dropdown");a&&KJ.find(".dropdown-toggle",a).forEach((function(t){return t.classList.add(iq)})),t.setAttribute("aria-expanded",!0)}n&&n()}}],[{key:"NAME",get:function(){return"tab"}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e=n.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'.concat(t,'"'));e[t]()}}))}}]),n}(NJ);_J.on(document,rq,'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',(function(t){(["A","AREA"].includes(this.tagName)&&t.preventDefault(),sJ(this))||cq.getOrCreateInstance(this).show()})),fJ(cq);var uq="toast",dq=".".concat("bs.toast"),hq="mouseover".concat(dq),gq="mouseout".concat(dq),fq="focusin".concat(dq),pq="focusout".concat(dq),vq="hide".concat(dq),mq="hidden".concat(dq),yq="show".concat(dq),bq="shown".concat(dq),Iq="hide",Cq="show",xq="showing",Bq={animation:"boolean",autohide:"boolean",delay:"number"},Aq={animation:!0,autohide:!0,delay:5e3},Fq=function(t){g(n,t);var e=C(n);function n(t,r){var i;return c(this,n),(i=e.call(this,t))._config=i._getConfig(r),i._timeout=null,i._hasMouseInteraction=!1,i._hasKeyboardInteraction=!1,i._setListeners(),i}return d(n,[{key:"show",value:function(){var t=this;if(!_J.trigger(this._element,yq).defaultPrevented){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");this._element.classList.remove(Iq),uJ(this._element),this._element.classList.add(Cq),this._element.classList.add(xq),this._queueCallback((function(){t._element.classList.remove(xq),_J.trigger(t._element,bq),t._maybeScheduleHide()}),this._element,this._config.animation)}}},{key:"hide",value:function(){var t=this;if(this._element.classList.contains(Cq)&&!_J.trigger(this._element,vq).defaultPrevented){this._element.classList.add(xq),this._queueCallback((function(){t._element.classList.add(Iq),t._element.classList.remove(xq),t._element.classList.remove(Cq),_J.trigger(t._element,mq)}),this._element,this._config.animation)}}},{key:"dispose",value:function(){this._clearTimeout(),this._element.classList.contains(Cq)&&this._element.classList.remove(Cq),B(f(n.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(t){return t=a(a(a({},Aq),PJ.getDataAttributes(this._element)),"object"===o(t)&&t?t:{}),aJ(uq,t,this.constructor.DefaultType),t}},{key:"_maybeScheduleHide",value:function(){var t=this;this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((function(){t.hide()}),this._config.delay)))}},{key:"_onInteraction",value:function(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)this._clearTimeout();else{var n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}}},{key:"_setListeners",value:function(){var t=this;_J.on(this._element,hq,(function(e){return t._onInteraction(e,!0)})),_J.on(this._element,gq,(function(e){return t._onInteraction(e,!1)})),_J.on(this._element,fq,(function(e){return t._onInteraction(e,!0)})),_J.on(this._element,pq,(function(e){return t._onInteraction(e,!1)}))}},{key:"_clearTimeout",value:function(){clearTimeout(this._timeout),this._timeout=null}}],[{key:"DefaultType",get:function(){return Bq}},{key:"Default",get:function(){return Aq}},{key:"NAME",get:function(){return uq}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e=n.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'.concat(t,'"'));e[t](this)}}))}}]),n}(NJ);TJ(Fq),fJ(Fq);
/**
	 * @license
	 * Copyright 2019 Google LLC
	 * SPDX-License-Identifier: BSD-3-Clause
	 */
var Qq,wq,Uq=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Gq=Symbol(),Rq=new Map,Sq=function(){function t(e,n){if(c(this,t),this._$cssResult$=!0,n!==Gq)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}return d(t,[{key:"styleSheet",get:function(){var t=Rq.get(this.cssText);return Uq&&void 0===t&&(Rq.set(this.cssText,t=new CSSStyleSheet),t.replaceSync(this.cssText)),t}},{key:"toString",value:function(){return this.cssText}}]),t}(),Lq=function(t){return new Sq("string"==typeof t?t:t+"",Gq)},_q=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=1===t.length?t[0]:n.reduce((function(e,n,r){return e+function(t){if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(n)+t[r+1]}),t[0]);return new Sq(i,Gq)},Eq=Uq?function(t){return t}:function(t){return t instanceof CSSStyleSheet?function(t){var e,n="",r=G(t.cssRules);try{for(r.s();!(e=r.n()).done;){n+=e.value.cssText}}catch(t){r.e(t)}finally{r.f()}return Lq(n)}(t):t},kq=window.trustedTypes,Vq=kq?kq.emptyScript:"",Zq=window.reactiveElementPolyfillSupport,Nq={toAttribute:function(t,e){switch(e){case Boolean:t=t?Vq:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute:function(t,e){var n=t;switch(e){case Boolean:n=null!==t;break;case Number:n=null===t?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(t){n=null}}return n}},Tq=function(t,e){return e!==t&&(e==e||t==t)},Xq={attribute:!0,type:String,converter:Nq,reflect:!1,hasChanged:Tq},Wq=function(t){g(r,t);var e,n=C(r);function r(){var t;return c(this,r),(t=n.call(this))._$Et=new Map,t.isUpdatePending=!1,t.hasUpdated=!1,t._$Ei=null,t.o(),t}return d(r,[{key:"o",value:function(){var t,e=this;this._$Ep=new Promise((function(t){return e.enableUpdating=t})),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach((function(t){return t(e)}))}},{key:"addController",value:function(t){var e,n;(null!==(e=this._$Eg)&&void 0!==e?e:this._$Eg=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(n=t.hostConnected)||void 0===n||n.call(t))}},{key:"removeController",value:function(t){var e;null===(e=this._$Eg)||void 0===e||e.splice(this._$Eg.indexOf(t)>>>0,1)}},{key:"_$Em",value:function(){var t=this;this.constructor.elementProperties.forEach((function(e,n){t.hasOwnProperty(n)&&(t._$Et.set(n,t[n]),delete t[n])}))}},{key:"createRenderRoot",value:function(){var t,e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return function(t,e){Uq?t.adoptedStyleSheets=e.map((function(t){return t instanceof CSSStyleSheet?t:t.styleSheet})):e.forEach((function(e){var n=document.createElement("style"),r=window.litNonce;void 0!==r&&n.setAttribute("nonce",r),n.textContent=e.cssText,t.appendChild(n)}))}(e,this.constructor.elementStyles),e}},{key:"connectedCallback",value:function(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$Eg)||void 0===t||t.forEach((function(t){var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}},{key:"enableUpdating",value:function(t){}},{key:"disconnectedCallback",value:function(){var t;null===(t=this._$Eg)||void 0===t||t.forEach((function(t){var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}},{key:"attributeChangedCallback",value:function(t,e,n){this._$AK(t,n)}},{key:"_$ES",value:function(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xq,a=this.constructor._$Eh(t,i);if(void 0!==a&&!0===i.reflect){var o=(null!==(r=null===(n=i.converter)||void 0===n?void 0:n.toAttribute)&&void 0!==r?r:Nq.toAttribute)(e,i.type);this._$Ei=t,null==o?this.removeAttribute(a):this.setAttribute(a,o),this._$Ei=null}}},{key:"_$AK",value:function(t,e){var n,r,i,a=this.constructor,o=a._$Eu.get(t);if(void 0!==o&&this._$Ei!==o){var s=a.getPropertyOptions(o),l=s.converter,c=null!==(i=null!==(r=null===(n=l)||void 0===n?void 0:n.fromAttribute)&&void 0!==r?r:"function"==typeof l?l:null)&&void 0!==i?i:Nq.fromAttribute;this._$Ei=o,this[o]=c(e,s.type),this._$Ei=null}}},{key:"requestUpdate",value:function(t,e,n){var r=!0;void 0!==t&&(((n=n||this.constructor.getPropertyOptions(t)).hasChanged||Tq)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===n.reflect&&this._$Ei!==t&&(void 0===this._$E_&&(this._$E_=new Map),this._$E_.set(t,n))):r=!1),!this.isUpdatePending&&r&&(this._$Ep=this._$EC())}},{key:"_$EC",value:(e=l(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isUpdatePending=!0,t.prev=1,t.next=4,this._$Ep;case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),Promise.reject(t.t0);case 9:if(e=this.scheduleUpdate(),t.t1=null!=e,!t.t1){t.next=14;break}return t.next=14,e;case 14:return t.abrupt("return",!this.isUpdatePending);case 15:case"end":return t.stop()}}),t,this,[[1,6]])}))),function(){return e.apply(this,arguments)})},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var t,e=this;if(this.isUpdatePending){this.hasUpdated,this._$Et&&(this._$Et.forEach((function(t,n){return e[n]=t})),this._$Et=void 0);var n=!1,r=this._$AL;try{(n=this.shouldUpdate(r))?(this.willUpdate(r),null===(t=this._$Eg)||void 0===t||t.forEach((function(t){var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(r)):this._$EU()}catch(t){throw n=!1,this._$EU(),t}n&&this._$AE(r)}}},{key:"willUpdate",value:function(t){}},{key:"_$AE",value:function(t){var e;null===(e=this._$Eg)||void 0===e||e.forEach((function(t){var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}},{key:"_$EU",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$Ep}},{key:"shouldUpdate",value:function(t){return!0}},{key:"update",value:function(t){var e=this;void 0!==this._$E_&&(this._$E_.forEach((function(t,n){return e._$ES(n,e[n],t)})),this._$E_=void 0),this._$EU()}},{key:"updated",value:function(t){}},{key:"firstUpdated",value:function(t){}}],[{key:"addInitializer",value:function(t){var e;null!==(e=this.l)&&void 0!==e||(this.l=[]),this.l.push(t)}},{key:"observedAttributes",get:function(){var t=this;this.finalize();var e=[];return this.elementProperties.forEach((function(n,r){var i=t._$Eh(r,n);void 0!==i&&(t._$Eu.set(i,r),e.push(i))})),e}},{key:"createProperty",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xq;if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){var n="symbol"==o(t)?Symbol():"__"+t,r=this.getPropertyDescriptor(t,n,e);void 0!==r&&Object.defineProperty(this.prototype,t,r)}}},{key:"getPropertyDescriptor",value:function(t,e,n){return{get:function(){return this[e]},set:function(r){var i=this[t];this[e]=r,this.requestUpdate(t,i,n)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(t){return this.elementProperties.get(t)||Xq}},{key:"finalize",value:function(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){var e,n=this.properties,r=G([].concat(Q(Object.getOwnPropertyNames(n)),Q(Object.getOwnPropertySymbols(n))));try{for(r.s();!(e=r.n()).done;){var i=e.value;this.createProperty(i,n[i])}}catch(t){r.e(t)}finally{r.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(t){var e=[];if(Array.isArray(t)){var n,r=G(new Set(t.flat(1/0).reverse()));try{for(r.s();!(n=r.n()).done;){var i=n.value;e.unshift(Eq(i))}}catch(t){r.e(t)}finally{r.f()}}else void 0!==t&&e.push(Eq(t));return e}},{key:"_$Eh",value:function(t,e){var n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}}]),r}(y(HTMLElement));Wq.finalized=!0,Wq.elementProperties=new Map,Wq.elementStyles=[],Wq.shadowRootOptions={mode:"open"},null==Zq||Zq({ReactiveElement:Wq}),(null!==(Qq=globalThis.reactiveElementVersions)&&void 0!==Qq?Qq:globalThis.reactiveElementVersions=[]).push("1.1.2");var Mq=globalThis.trustedTypes,Hq=Mq?Mq.createPolicy("lit-html",{createHTML:function(t){return t}}):void 0,Dq="lit$".concat((Math.random()+"").slice(9),"$"),Yq="?"+Dq,Oq="<".concat(Yq,">"),zq=document,Jq=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return zq.createComment(t)},jq=function(t){return null===t||"object"!=o(t)&&"function"!=typeof t},Pq=Array.isArray,Kq=function(t){var e;return Pq(t)||"function"==typeof(null===(e=t)||void 0===e?void 0:e[Symbol.iterator])},qq=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,$q=/-->/g,t$=/>/g,e$=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,n$=/'/g,r$=/"/g,i$=/^(?:script|style|textarea)$/i,a$=function(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return{_$litType$:t,strings:e,values:r}}},o$=a$(1),s$=a$(2),l$=Symbol.for("lit-noChange"),c$=Symbol.for("lit-nothing"),u$=new WeakMap,d$=zq.createTreeWalker(zq,129,null,!1),h$=function(t,e){for(var n,r=t.length-1,i=[],a=2===e?"<svg>":"",o=qq,s=0;s<r;s++){for(var l=t[s],c=void 0,u=void 0,d=-1,h=0;h<l.length&&(o.lastIndex=h,null!==(u=o.exec(l)));)h=o.lastIndex,o===qq?"!--"===u[1]?o=$q:void 0!==u[1]?o=t$:void 0!==u[2]?(i$.test(u[2])&&(n=RegExp("</"+u[2],"g")),o=e$):void 0!==u[3]&&(o=e$):o===e$?">"===u[0]?(o=null!=n?n:qq,d=-1):void 0===u[1]?d=-2:(d=o.lastIndex-u[2].length,c=u[1],o=void 0===u[3]?e$:'"'===u[3]?r$:n$):o===r$||o===n$?o=e$:o===$q||o===t$?o=qq:(o=e$,n=void 0);var g=o===e$&&t[s+1].startsWith("/>")?" ":"";a+=o===qq?l+Oq:d>=0?(i.push(c),l.slice(0,d)+"$lit$"+l.slice(d)+Dq+g):l+Dq+(-2===d?(i.push(void 0),s):g)}var f=a+(t[r]||"<?>")+(2===e?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==Hq?Hq.createHTML(f):f,i]},g$=function(){function t(e,n){var r,i=e.strings,a=e._$litType$;c(this,t),this.parts=[];var o=0,s=0,l=i.length-1,u=this.parts,d=F(h$(i,a),2),h=d[0],g=d[1];if(this.el=t.createElement(h,n),d$.currentNode=this.el.content,2===a){var f=this.el.content,p=f.firstChild;p.remove(),f.append.apply(f,Q(p.childNodes))}for(;null!==(r=d$.nextNode())&&u.length<l;){if(1===r.nodeType){if(r.hasAttributes()){var v,m=[],y=G(r.getAttributeNames());try{for(y.s();!(v=y.n()).done;){var b=v.value;if(b.endsWith("$lit$")||b.startsWith(Dq)){var I=g[s++];if(m.push(b),void 0!==I){var C=r.getAttribute(I.toLowerCase()+"$lit$").split(Dq),x=/([.?@])?(.*)/.exec(I);u.push({type:1,index:o,name:x[2],strings:C,ctor:"."===x[1]?I$:"?"===x[1]?x$:"@"===x[1]?B$:b$})}else u.push({type:6,index:o})}}}catch(t){y.e(t)}finally{y.f()}for(var B=0,A=m;B<A.length;B++){var w=A[B];r.removeAttribute(w)}}if(i$.test(r.tagName)){var U=r.textContent.split(Dq),R=U.length-1;if(R>0){r.textContent=Mq?Mq.emptyScript:"";for(var S=0;S<R;S++)r.append(U[S],Jq()),d$.nextNode(),u.push({type:2,index:++o});r.append(U[R],Jq())}}}else if(8===r.nodeType)if(r.data===Yq)u.push({type:2,index:o});else for(var L=-1;-1!==(L=r.data.indexOf(Dq,L+1));)u.push({type:7,index:o}),L+=Dq.length-1;o++}}return d(t,null,[{key:"createElement",value:function(t,e){var n=zq.createElement("template");return n.innerHTML=t,n}}]),t}();function f$(t,e){var n,r,i,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,s=arguments.length>3?arguments[3]:void 0;if(e===l$)return e;var l=void 0!==s?null===(n=o._$Cl)||void 0===n?void 0:n[s]:o._$Cu,c=jq(e)?void 0:e._$litDirective$;return(null==l?void 0:l.constructor)!==c&&(null===(r=null==l?void 0:l._$AO)||void 0===r||r.call(l,!1),void 0===c?l=void 0:(l=new c(t))._$AT(t,o,s),void 0!==s?(null!==(i=(a=o)._$Cl)&&void 0!==i?i:a._$Cl=[])[s]=l:o._$Cu=l),void 0!==l&&(e=f$(t,l._$AS(t,e.values),l,s)),e}var p$,v$,m$=function(){function t(e,n){c(this,t),this.v=[],this._$AN=void 0,this._$AD=e,this._$AM=n}return d(t,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"p",value:function(t){var e,n=this._$AD,r=n.el.content,i=n.parts,a=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:zq).importNode(r,!0);d$.currentNode=a;for(var o=d$.nextNode(),s=0,l=0,c=i[0];void 0!==c;){if(s===c.index){var u=void 0;2===c.type?u=new y$(o,o.nextSibling,this,t):1===c.type?u=new c.ctor(o,c.name,c.strings,this,t):6===c.type&&(u=new A$(o,this,t)),this.v.push(u),c=i[++l]}s!==(null==c?void 0:c.index)&&(o=d$.nextNode(),s++)}return a}},{key:"m",value:function(t){var e,n=0,r=G(this.v);try{for(r.s();!(e=r.n()).done;){var i=e.value;void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,n),n+=i.strings.length-2):i._$AI(t[n])),n++}}catch(t){r.e(t)}finally{r.f()}}}]),t}(),y$=function(){function t(e,n,r,i){var a;c(this,t),this.type=2,this._$AH=c$,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cg=null===(a=null==i?void 0:i.isConnected)||void 0===a||a}return d(t,[{key:"_$AU",get:function(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cg}},{key:"parentNode",get:function(){var t=this._$AA.parentNode,e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;t=f$(this,t,e),jq(t)?t===c$||null==t||""===t?(this._$AH!==c$&&this._$AR(),this._$AH=c$):t!==this._$AH&&t!==l$&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.S(t):Kq(t)?this.A(t):this.$(t)}},{key:"M",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(t,e)}},{key:"S",value:function(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}},{key:"$",value:function(t){this._$AH!==c$&&jq(this._$AH)?this._$AA.nextSibling.data=t:this.S(zq.createTextNode(t)),this._$AH=t}},{key:"T",value:function(t){var e,n=t.values,r=t._$litType$,i="number"==typeof r?this._$AC(t):(void 0===r.el&&(r.el=g$.createElement(r.h,this.options)),r);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===i)this._$AH.m(n);else{var a=new m$(i,this),o=a.p(this.options);a.m(n),this.S(o),this._$AH=a}}},{key:"_$AC",value:function(t){var e=u$.get(t.strings);return void 0===e&&u$.set(t.strings,e=new g$(t)),e}},{key:"A",value:function(e){Pq(this._$AH)||(this._$AH=[],this._$AR());var n,r,i=this._$AH,a=0,o=G(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;a===i.length?i.push(n=new t(this.M(Jq()),this.M(Jq()),this,this.options)):n=i[a],n._$AI(s),a++}}catch(t){o.e(t)}finally{o.f()}a<i.length&&(this._$AR(n&&n._$AB.nextSibling,a),i.length=a)}},{key:"_$AR",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0;for(null===(t=this._$AP)||void 0===t||t.call(this,!1,!0,n);e&&e!==this._$AB;){var r=e.nextSibling;e.remove(),e=r}}},{key:"setConnected",value:function(t){var e;void 0===this._$AM&&(this._$Cg=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}]),t}(),b$=function(){function t(e,n,r,i,a){c(this,t),this.type=1,this._$AH=c$,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=a,r.length>2||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=c$}return d(t,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=this.strings,a=!1;if(void 0===i)t=f$(this,t,e,0),(a=!jq(t)||t!==this._$AH&&t!==l$)&&(this._$AH=t);else{var o,s,l=t;for(t=i[0],o=0;o<i.length-1;o++)(s=f$(this,l[n+o],e,o))===l$&&(s=this._$AH[o]),a||(a=!jq(s)||s!==this._$AH[o]),s===c$?t=c$:t!==c$&&(t+=(null!=s?s:"")+i[o+1]),this._$AH[o]=s}a&&!r&&this.k(t)}},{key:"k",value:function(t){t===c$?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}]),t}(),I$=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.apply(this,arguments)).type=3,t}return d(n,[{key:"k",value:function(t){this.element[this.name]=t===c$?void 0:t}}]),n}(b$),C$=Mq?Mq.emptyScript:"",x$=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.apply(this,arguments)).type=4,t}return d(n,[{key:"k",value:function(t){t&&t!==c$?this.element.setAttribute(this.name,C$):this.element.removeAttribute(this.name)}}]),n}(b$),B$=function(t){g(n,t);var e=C(n);function n(t,r,i,a,o){var s;return c(this,n),(s=e.call(this,t,r,i,a,o)).type=5,s}return d(n,[{key:"_$AI",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;if((t=null!==(e=f$(this,t,n,0))&&void 0!==e?e:c$)!==l$){var r=this._$AH,i=t===c$&&r!==c$||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,a=t!==c$&&(r===c$||i);i&&this.element.removeEventListener(this.name,this,r),a&&this.element.addEventListener(this.name,this,t),this._$AH=t}}},{key:"handleEvent",value:function(t){var e,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==n?n:this.element,t):this._$AH.handleEvent(t)}}]),n}(b$),A$=function(){function t(e,n,r){c(this,t),this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}return d(t,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(t){f$(this,t)}}]),t}(),F$=window.litHtmlPolyfillSupport;null==F$||F$(g$,y$),(null!==(wq=globalThis.litHtmlVersions)&&void 0!==wq?wq:globalThis.litHtmlVersions=[]).push("2.1.1");var Q$=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.apply(this,arguments)).renderOptions={host:b(t)},t._$Dt=void 0,t}return d(n,[{key:"createRenderRoot",value:function(){var t,e,r=B(f(n.prototype),"createRenderRoot",this).call(this);return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=r.firstChild),r}},{key:"update",value:function(t){var e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),B(f(n.prototype),"update",this).call(this,t),this._$Dt=function(t,e,n){var r,i,a=null!==(r=null==n?void 0:n.renderBefore)&&void 0!==r?r:e,o=a._$litPart$;if(void 0===o){var s=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:null;a._$litPart$=o=new y$(e.insertBefore(Jq(),s),s,void 0,null!=n?n:{})}return o._$AI(t),o}(e,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var t;B(f(n.prototype),"connectedCallback",this).call(this),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var t;B(f(n.prototype),"disconnectedCallback",this).call(this),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}},{key:"render",value:function(){return l$}}]),n}(Wq);Q$.finalized=!0,Q$._$litElement$=!0,null===(p$=globalThis.litElementHydrateSupport)||void 0===p$||p$.call(globalThis,{LitElement:Q$});var w$=globalThis.litElementPolyfillSupport;function U$(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function G$(t){var e=t,n=t,r=t;function i(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<a){if(0!==n(e,e))return a;do{var o=i+a>>>1;r(t[o],e)<0?i=o+1:a=o}while(i<a)}return i}return 2!==t.length&&(e=function(e,n){return t(e)-n},n=U$,r=function(e,n){return U$(t(e),n)}),{left:i,center:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,o=i(t,n,r,a-1);return o>r&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<a){if(0!==n(e,e))return a;do{var o=i+a>>>1;r(t[o],e)<=0?i=o+1:a=o}while(i<a)}return i}}}null==w$||w$({LitElement:Q$}),(null!==(v$=globalThis.litElementVersions)&&void 0!==v$?v$:globalThis.litElementVersions=[]).push("3.1.1");var R$=G$(U$).right;G$((function(t){return null===t?NaN:+t})).center;var S$=R$,L$=Math.sqrt(50),_$=Math.sqrt(10),E$=Math.sqrt(2);function k$(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=L$?10:a>=_$?5:a>=E$?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=L$?10:a>=_$?5:a>=E$?2:1)}function V$(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Z$(t){return t}var N$=1e-6;function T$(t){return"translate("+t+",0)"}function X$(t){return"translate(0,"+t+")"}function W$(t){return function(e){return+t(e)}}function M$(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function H$(){return!this.__axis}function D$(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=1===t||4===t?-1:1,u=4===t||2===t?"x":"y",d=1===t||3===t?T$:X$;function h(h){var g=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,f=null==i?e.tickFormat?e.tickFormat.apply(e,n):Z$:i,p=Math.max(a,0)+s,v=e.range(),m=+v[0]+l,y=+v[v.length-1]+l,b=(e.bandwidth?M$:W$)(e.copy(),l),I=h.selection?h.selection():h,C=I.selectAll(".domain").data([null]),x=I.selectAll(".tick").data(g,e).order(),B=x.exit(),A=x.enter().append("g").attr("class","tick"),F=x.select("line"),Q=x.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(A),F=F.merge(A.append("line").attr("stroke","currentColor").attr(u+"2",c*a)),Q=Q.merge(A.append("text").attr("fill","currentColor").attr(u,c*p).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==I&&(C=C.transition(h),x=x.transition(h),F=F.transition(h),Q=Q.transition(h),B=B.transition(h).attr("opacity",N$).attr("transform",(function(t){return isFinite(t=b(t))?d(t+l):this.getAttribute("transform")})),A.attr("opacity",N$).attr("transform",(function(t){var e=this.parentNode.__axis;return d((e&&isFinite(e=e(t))?e:b(t))+l)}))),B.remove(),C.attr("d",4===t||2===t?o?"M"+c*o+","+m+"H"+l+"V"+y+"H"+c*o:"M"+l+","+m+"V"+y:o?"M"+m+","+c*o+"V"+l+"H"+y+"V"+c*o:"M"+m+","+l+"H"+y),x.attr("opacity",1).attr("transform",(function(t){return d(b(t)+l)})),F.attr(u+"2",c*a),Q.attr(u,c*p).text(f),I.filter(H$).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),I.each((function(){this.__axis=b}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(a=o=+t,h):a},h.tickSizeInner=function(t){return arguments.length?(a=+t,h):a},h.tickSizeOuter=function(t){return arguments.length?(o=+t,h):o},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h.offset=function(t){return arguments.length?(l=+t,h):l},h}function Y$(t){return D$(3,t)}function O$(t){return D$(4,t)}var z$={value:function(){}};function J$(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new j$(r)}function j$(t){this._=t}function P$(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function K$(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function q$(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=z$,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}j$.prototype=J$.prototype={constructor:j$,on:function(t,e){var n,r=this._,i=P$(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(n=(t=i[a]).type)r[n]=q$(r[n],t.name,e);else if(null==e)for(n in r)r[n]=q$(r[n],t.name,null);return this}for(;++a<o;)if((n=(t=i[a]).type)&&(n=K$(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new j$(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var $$="http://www.w3.org/1999/xhtml",t0={svg:"http://www.w3.org/2000/svg",xhtml:$$,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function e0(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),t0.hasOwnProperty(e)?{space:t0[e],local:t}:t}function n0(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===$$&&e.documentElement.namespaceURI===$$?e.createElement(t):e.createElementNS(n,t)}}function r0(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function i0(t){var e=e0(t);return(e.local?r0:n0)(e)}function a0(){}function o0(t){return null==t?a0:function(){return this.querySelector(t)}}function s0(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function l0(){return[]}function c0(t){return null==t?l0:function(){return this.querySelectorAll(t)}}function u0(t){return function(){return this.matches(t)}}function d0(t){return function(e){return e.matches(t)}}var h0=Array.prototype.find;function g0(){return this.firstElementChild}var f0=Array.prototype.filter;function p0(){return Array.from(this.children)}function v0(t){return new Array(t.length)}function m0(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function y0(t){return function(){return t}}function b0(t,e,n,r,i,a){for(var o,s=0,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new m0(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function I0(t,e,n,r,i,a,o){var s,l,c,u=new Map,d=e.length,h=a.length,g=new Array(d);for(s=0;s<d;++s)(l=e[s])&&(g[s]=c=o.call(l,l.__data__,s,e)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<h;++s)c=o.call(t,a[s],s,a)+"",(l=u.get(c))?(r[s]=l,l.__data__=a[s],u.delete(c)):n[s]=new m0(t,a[s]);for(s=0;s<d;++s)(l=e[s])&&u.get(g[s])===l&&(i[s]=l)}function C0(t){return t.__data__}function x0(t){return"object"===o(t)&&"length"in t?t:Array.from(t)}function B0(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function A0(t){return function(){this.removeAttribute(t)}}function F0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Q0(t,e){return function(){this.setAttribute(t,e)}}function w0(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function U0(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function G0(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function R0(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function S0(t){return function(){this.style.removeProperty(t)}}function L0(t,e,n){return function(){this.style.setProperty(t,e,n)}}function _0(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function E0(t,e){return t.style.getPropertyValue(e)||R0(t).getComputedStyle(t,null).getPropertyValue(e)}function k0(t){return function(){delete this[t]}}function V0(t,e){return function(){this[t]=e}}function Z0(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function N0(t){return t.trim().split(/^|\s+/)}function T0(t){return t.classList||new X0(t)}function X0(t){this._node=t,this._names=N0(t.getAttribute("class")||"")}function W0(t,e){for(var n=T0(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function M0(t,e){for(var n=T0(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function H0(t){return function(){W0(this,t)}}function D0(t){return function(){M0(this,t)}}function Y0(t,e){return function(){(e.apply(this,arguments)?W0:M0)(this,t)}}function O0(){this.textContent=""}function z0(t){return function(){this.textContent=t}}function J0(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function j0(){this.innerHTML=""}function P0(t){return function(){this.innerHTML=t}}function K0(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function q0(){this.nextSibling&&this.parentNode.appendChild(this)}function $0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function t1(){return null}function e1(){var t=this.parentNode;t&&t.removeChild(this)}function n1(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function r1(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function i1(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function a1(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function o1(t,e,n){return function(){var r,i=this.__on,a=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=e);this.addEventListener(t.type,a,n),r={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(r):this.__on=[r]}}function s1(t,e,n){var r=R0(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function l1(t,e){return function(){return s1(this,t,e)}}function c1(t,e){return function(){return s1(this,t,e.apply(this,arguments))}}m0.prototype={constructor:m0,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},X0.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var u1=regeneratorRuntime.mark(d1);function d1(){var t,e,n,r,i,a,o;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=this._groups,e=0,n=t.length;case 1:if(!(e<n)){s.next=13;break}r=t[e],i=0,a=r.length;case 3:if(!(i<a)){s.next=10;break}if(!(o=r[i])){s.next=7;break}return s.next=7,o;case 7:++i,s.next=3;break;case 10:++e,s.next=1;break;case 13:case"end":return s.stop()}}),u1,this)}var h1=[null];function g1(t,e){this._groups=t,this._parents=e}function f1(){return new g1([[document.documentElement]],h1)}function p1(t){return"string"==typeof t?new g1([[document.querySelector(t)]],[document.documentElement]):new g1([[t]],h1)}function v1(t,e){if(t=function(t){for(var e;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}g1.prototype=f1.prototype=h({constructor:g1,select:function(t){"function"!=typeof t&&(t=o0(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(o=t.call(a,a.__data__,u,s))&&("__data__"in a&&(o.__data__=a.__data__),c[u]=o);return new g1(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return s0(t.apply(this,arguments))}}(t):c0(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],l=s.length,c=0;c<l;++c)(o=s[c])&&(r.push(t.call(o,o.__data__,c,s)),i.push(o));return new g1(r,i)},selectChild:function(t){return this.select(null==t?g0:function(t){return function(){return h0.call(this.children,t)}}("function"==typeof t?t:d0(t)))},selectChildren:function(t){return this.selectAll(null==t?p0:function(t){return function(){return f0.call(this.children,t)}}("function"==typeof t?t:d0(t)))},filter:function(t){"function"!=typeof t&&(t=u0(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&l.push(a);return new g1(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,C0);var n=e?I0:b0,r=this._parents,i=this._groups;"function"!=typeof t&&(t=y0(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],h=d.length,g=x0(t.call(u,u&&u.__data__,c,r)),f=g.length,p=s[c]=new Array(f),v=o[c]=new Array(f),m=l[c]=new Array(h);n(u,d,p,v,m,g,e);for(var y,b,I=0,C=0;I<f;++I)if(y=p[I]){for(I>=C&&(C=I+1);!(b=v[C])&&++C<f;);y._next=b||null}}return(o=new g1(o,r))._enter=s,o._exit=l,o},enter:function(){return new g1(this._enter||this._groups.map(v0),this._parents)},exit:function(){return new g1(this._exit||this._groups.map(v0),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var c,u=n[l],d=r[l],h=u.length,g=s[l]=new Array(h),f=0;f<h;++f)(c=u[f]||d[f])&&(g[f]=c);for(;l<i;++l)s[l]=n[l];return new g1(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=B0);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],l=s.length,c=i[a]=new Array(l),u=0;u<l;++u)(o=s[u])&&(c[u]=o);c.sort(e)}return new g1(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t,e=0,n=G(this);try{for(n.s();!(t=n.n()).done;){t.value;++e}}catch(t){n.e(t)}finally{n.f()}return e},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=e0(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?F0:A0:"function"==typeof e?n.local?G0:U0:n.local?w0:Q0)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?S0:"function"==typeof e?_0:L0)(t,e,null==n?"":n)):E0(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?k0:"function"==typeof e?Z0:V0)(t,e)):this.node()[t]},classed:function(t,e){var n=N0(t+"");if(arguments.length<2){for(var r=T0(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Y0:e?H0:D0)(n,e))},text:function(t){return arguments.length?this.each(null==t?O0:("function"==typeof t?J0:z0)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?j0:("function"==typeof t?K0:P0)(t)):this.node().innerHTML},raise:function(){return this.each(q0)},lower:function(){return this.each($0)},append:function(t){var e="function"==typeof t?t:i0(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:i0(t),r=null==e?t1:"function"==typeof e?e:o0(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(e1)},clone:function(t){return this.select(t?r1:n1)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=i1(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?o1:a1,r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<o;++r)if((i=a[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?c1:l1)(t,e))}},Symbol.iterator,d1);var m1={passive:!1},y1={capture:!0,passive:!1};function b1(t){t.stopImmediatePropagation()}function I1(t){t.preventDefault(),t.stopImmediatePropagation()}var C1=function(t){return function(){return t}};function x1(t,e){var n=e.sourceEvent,r=e.subject,i=e.target,a=e.identifier,o=e.active,s=e.x,l=e.y,c=e.dx,u=e.dy,d=e.dispatch;Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}function B1(t){return!t.ctrlKey&&!t.button}function A1(){return this.parentNode}function F1(t,e){return null==e?{x:t.x,y:t.y}:e}function Q1(){return navigator.maxTouchPoints||"ontouchstart"in this}function w1(){var t,e,n,r,i=B1,a=A1,o=F1,s=Q1,l={},c=J$("start","drag","end"),u=0,d=0;function h(t){t.on("mousedown.drag",g).filter(s).on("touchstart.drag",v).on("touchmove.drag",m,m1).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(o,s){if(!r&&i.call(this,o,s)){var l=b(this,a.call(this,o,s),o,s,"mouse");l&&(p1(o.view).on("mousemove.drag",f,y1).on("mouseup.drag",p,y1),function(t){var e=t.document.documentElement,n=p1(t).on("dragstart.drag",I1,y1);"onselectstart"in e?n.on("selectstart.drag",I1,y1):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}(o.view),b1(o),n=!1,t=o.clientX,e=o.clientY,l("start",o))}}function f(r){if(I1(r),!n){var i=r.clientX-t,a=r.clientY-e;n=i*i+a*a>d}l.mouse("drag",r)}function p(t){p1(t.view).on("mousemove.drag mouseup.drag",null),function(t,e){var n=t.document.documentElement,r=p1(t).on("dragstart.drag",null);e&&(r.on("click.drag",I1,y1),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(t.view,n),I1(t),l.mouse("end",t)}function v(t,e){if(i.call(this,t,e)){var n,r,o=t.changedTouches,s=a.call(this,t,e),l=o.length;for(n=0;n<l;++n)(r=b(this,s,t,e,o[n].identifier,o[n]))&&(b1(t),r("start",t,o[n]))}}function m(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=l[r[e].identifier])&&(I1(t),n("drag",t,r[e]))}function y(t){var e,n,i=t.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<a;++e)(n=l[i[e].identifier])&&(b1(t),n("end",t,i[e]))}function b(t,e,n,r,i,a){var s,d,g,f=c.copy(),p=v1(a||n,e);if(null!=(g=o.call(t,new x1("beforestart",{sourceEvent:n,target:h,identifier:i,active:u,x:p[0],y:p[1],dx:0,dy:0,dispatch:f}),r)))return s=g.x-p[0]||0,d=g.y-p[1]||0,function n(a,o,c){var v,m=p;switch(a){case"start":l[i]=n,v=u++;break;case"end":delete l[i],--u;case"drag":p=v1(c||o,e),v=u}f.call(a,t,new x1(a,{sourceEvent:o,subject:g,target:h,identifier:i,active:v,x:p[0]+s,y:p[1]+d,dx:p[0]-m[0],dy:p[1]-m[1],dispatch:f}),r)}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:C1(!!t),h):i},h.container=function(t){return arguments.length?(a="function"==typeof t?t:C1(t),h):a},h.subject=function(t){return arguments.length?(o="function"==typeof t?t:C1(t),h):o},h.touchable=function(t){return arguments.length?(s="function"==typeof t?t:C1(!!t),h):s},h.on=function(){var t=c.on.apply(c,arguments);return t===c?h:t},h.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,h):Math.sqrt(d)},h}function U1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function G1(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function R1(){}x1.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var S1=.7,L1=1/S1,_1="\\s*([+-]?\\d+)\\s*",E1="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",k1="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",V1=/^#([0-9a-f]{3,8})$/,Z1=new RegExp("^rgb\\("+[_1,_1,_1]+"\\)$"),N1=new RegExp("^rgb\\("+[k1,k1,k1]+"\\)$"),T1=new RegExp("^rgba\\("+[_1,_1,_1,E1]+"\\)$"),X1=new RegExp("^rgba\\("+[k1,k1,k1,E1]+"\\)$"),W1=new RegExp("^hsl\\("+[E1,k1,k1]+"\\)$"),M1=new RegExp("^hsla\\("+[E1,k1,k1,E1]+"\\)$"),H1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function D1(){return this.rgb().formatHex()}function Y1(){return this.rgb().formatRgb()}function O1(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=V1.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?z1(e):3===n?new K1(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?J1(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?J1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Z1.exec(t))?new K1(e[1],e[2],e[3],1):(e=N1.exec(t))?new K1(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=T1.exec(t))?J1(e[1],e[2],e[3],e[4]):(e=X1.exec(t))?J1(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=W1.exec(t))?e2(e[1],e[2]/100,e[3]/100,1):(e=M1.exec(t))?e2(e[1],e[2]/100,e[3]/100,e[4]):H1.hasOwnProperty(t)?z1(H1[t]):"transparent"===t?new K1(NaN,NaN,NaN,0):null}function z1(t){return new K1(t>>16&255,t>>8&255,255&t,1)}function J1(t,e,n,r){return r<=0&&(t=e=n=NaN),new K1(t,e,n,r)}function j1(t){return t instanceof R1||(t=O1(t)),t?new K1((t=t.rgb()).r,t.g,t.b,t.opacity):new K1}function P1(t,e,n,r){return 1===arguments.length?j1(t):new K1(t,e,n,null==r?1:r)}function K1(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function q1(){return"#"+t2(this.r)+t2(this.g)+t2(this.b)}function $1(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function t2(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function e2(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new r2(t,e,n,r)}function n2(t){if(t instanceof r2)return new r2(t.h,t.s,t.l,t.opacity);if(t instanceof R1||(t=O1(t)),!t)return new r2;if(t instanceof r2)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new r2(o,s,l,t.opacity)}function r2(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function i2(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}U1(R1,O1,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:D1,formatHex:D1,formatHsl:function(){return n2(this).formatHsl()},formatRgb:Y1,toString:Y1}),U1(K1,P1,G1(R1,{brighter:function(t){return t=null==t?L1:Math.pow(L1,t),new K1(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?S1:Math.pow(S1,t),new K1(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:q1,formatHex:q1,formatRgb:$1,toString:$1})),U1(r2,(function(t,e,n,r){return 1===arguments.length?n2(t):new r2(t,e,n,null==r?1:r)}),G1(R1,{brighter:function(t){return t=null==t?L1:Math.pow(L1,t),new r2(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?S1:Math.pow(S1,t),new r2(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new K1(i2(t>=240?t-240:t+120,i,r),i2(t,i,r),i2(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var a2=function(t){return function(){return t}};function o2(t){return 1==(t=+t)?s2:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):a2(isNaN(e)?n:e)}}function s2(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):a2(isNaN(t)?e:t)}var l2=function t(e){var n=o2(e);function r(t,e){var r=n((t=P1(t)).r,(e=P1(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=s2(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function c2(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function u2(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=m2(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function d2(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function h2(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function g2(t,e){var n,r={},i={};for(n in null!==t&&"object"===o(t)||(t={}),null!==e&&"object"===o(e)||(e={}),e)n in t?r[n]=m2(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var f2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,p2=new RegExp(f2.source,"g");function v2(t,e){var n,r,i,a=f2.lastIndex=p2.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=f2.exec(t))&&(r=p2.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:h2(n,r)})),a=p2.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function m2(t,e){var n,r=o(e);return null==e||"boolean"===r?a2(e):("number"===r?h2:"string"===r?(n=O1(e))?(e=n,l2):v2:e instanceof O1?l2:e instanceof Date?d2:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?c2:Array.isArray(e)?u2:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?g2:h2)(t,e)}function y2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var b2,I2=180/Math.PI,C2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function x2(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*I2,skewX:Math.atan(l)*I2,scaleX:o,scaleY:s}}function B2(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var s=[],l=[];return a=t(a),o=t(o),function(t,r,i,a,o,s){if(t!==i||r!==a){var l=o.push("translate(",null,e,null,n);s.push({i:l-4,x:h2(t,i)},{i:l-2,x:h2(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,l),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:h2(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(a.rotate,o.rotate,s,l),function(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:h2(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(a.skewX,o.skewX,s,l),function(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:h2(t,n)},{i:s-2,x:h2(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,l),a=o=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var A2,F2,Q2=B2((function(t){var e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?C2:x2(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),w2=B2((function(t){return null==t?C2:(b2||(b2=document.createElementNS("http://www.w3.org/2000/svg","g")),b2.setAttribute("transform",t),(t=b2.transform.baseVal.consolidate())?x2((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):C2)}),", ",")",")"),U2=0,G2=0,R2=0,S2=0,L2=0,_2=0,E2="object"===("undefined"==typeof performance?"undefined":o(performance))&&performance.now?performance:Date,k2="object"===("undefined"==typeof window?"undefined":o(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function V2(){return L2||(k2(Z2),L2=E2.now()+_2)}function Z2(){L2=0}function N2(){this._call=this._time=this._next=null}function T2(t,e,n){var r=new N2;return r.restart(t,e,n),r}function X2(){L2=(S2=E2.now())+_2,U2=G2=0;try{!function(){V2(),++U2;for(var t,e=A2;e;)(t=L2-e._time)>=0&&e._call.call(void 0,t),e=e._next;--U2}()}finally{U2=0,function(){var t,e,n=A2,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:A2=e);F2=t,M2(r)}(),L2=0}}function W2(){var t=E2.now(),e=t-S2;e>1e3&&(_2-=e,S2=t)}function M2(t){U2||(G2&&(G2=clearTimeout(G2)),t-L2>24?(t<1/0&&(G2=setTimeout(X2,t-E2.now()-_2)),R2&&(R2=clearInterval(R2))):(R2||(S2=E2.now(),R2=setInterval(W2,1e3)),U2=1,k2(X2)))}function H2(t,e,n){var r=new N2;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}N2.prototype=T2.prototype={constructor:N2,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?V2():+n)+(null==e?0:+e),this._next||F2===this||(F2?F2._next=this:A2=this,F2=this),this._call=t,this._time=n,M2()},stop:function(){this._call&&(this._call=null,this._time=1/0,M2())}};var D2=J$("start","end","cancel","interrupt"),Y2=[];function O2(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(a){var c,u,d,h;if(1!==n.state)return l();for(c in i)if((h=i[c]).name===n.name){if(3===h.state)return H2(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(H2((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(a))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=T2(a,0,n.time)}(t,n,{name:e,index:r,group:i,on:D2,tween:Y2,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function z2(t,e){var n=j2(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function J2(t,e){var n=j2(t,e);if(n.state>3)throw new Error("too late; already running");return n}function j2(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function P2(t,e){var n,r;return function(){var i=J2(this,t),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function K2(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=J2(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}a.tween=i}}function q2(t,e,n){var r=t._id;return t.each((function(){var t=J2(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return j2(t,r).value[e]}}function $2(t,e){var n;return("number"==typeof e?h2:e instanceof O1?l2:(n=O1(e))?(e=n,l2):v2)(t,e)}function t3(t){return function(){this.removeAttribute(t)}}function e3(t){return function(){this.removeAttributeNS(t.space,t.local)}}function n3(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function r3(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function i3(t,e,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttribute(t))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,l));this.removeAttribute(t)}}function a3(t,e,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,l));this.removeAttributeNS(t.space,t.local)}}function o3(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function s3(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function l3(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&s3(t,i)),n}return i._value=e,i}function c3(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&o3(t,i)),n}return i._value=e,i}function u3(t,e){return function(){z2(this,t).delay=+e.apply(this,arguments)}}function d3(t,e){return e=+e,function(){z2(this,t).delay=e}}function h3(t,e){return function(){J2(this,t).duration=+e.apply(this,arguments)}}function g3(t,e){return e=+e,function(){J2(this,t).duration=e}}function f3(t,e){if("function"!=typeof e)throw new Error;return function(){J2(this,t).ease=e}}function p3(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?z2:J2;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}var v3=f1.prototype.constructor;function m3(t){return function(){this.style.removeProperty(t)}}function y3(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function b3(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&y3(t,a,n)),r}return a._value=e,a}function I3(t){return function(e){this.textContent=t.call(this,e)}}function C3(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&I3(r)),e}return r._value=t,r}var x3=0;function B3(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function A3(){return++x3}var F3=f1.prototype;function Q3(t){return t*t*t}function w3(t){return--t*t*t+1}B3.prototype=h({constructor:B3,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=o0(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,l,c=r[o],u=c.length,d=a[o]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=t.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,O2(d[h],e,n,h,d,j2(s,n)));return new B3(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=c0(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,g=t.call(l,l.__data__,d,c),f=j2(l,n),p=0,v=g.length;p<v;++p)(h=g[p])&&O2(h,e,n,p,g,f);a.push(g),o.push(l)}return new B3(a,o,e,n)},selectChild:F3.selectChild,selectChildren:F3.selectChildren,filter:function(t){"function"!=typeof t&&(t=u0(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&l.push(a);return new B3(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,c=e[s],u=n[s],d=c.length,h=o[s]=new Array(d),g=0;g<d;++g)(l=c[g]||u[g])&&(h[g]=l);for(;s<r;++s)o[s]=e[s];return new B3(o,this._parents,this._name,this._id)},selection:function(){return new v3(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=A3(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)if(o=s[c]){var u=j2(o,e);O2(o,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new B3(r,this._parents,t,n)},call:F3.call,nodes:F3.nodes,node:F3.node,size:F3.size,empty:F3.empty,each:F3.each,on:function(t,e){var n=this._id;return arguments.length<2?j2(this.node(),n).on.on(t):this.each(p3(n,t,e))},attr:function(t,e){var n=e0(t),r="transform"===n?w2:$2;return this.attrTween(t,"function"==typeof e?(n.local?a3:i3)(n,r,q2(this,"attr."+t,e)):null==e?(n.local?e3:t3)(n):(n.local?r3:n3)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=e0(t);return this.tween(n,(r.local?l3:c3)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Q2:$2;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=E0(this,t),o=(this.style.removeProperty(t),E0(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,m3(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var o=E0(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=E0(this,t)),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s))}}(t,r,q2(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,s="end."+o;return function(){var l=J2(this,t),c=l.on,u=null==l.value[o]?a||(a=m3(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,a=n+"";return function(){var o=E0(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,b3(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(q2(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,C3(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=j2(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?P2:K2)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?u3:d3)(e,t)):j2(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?h3:g3)(e,t)):j2(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(f3(e,t)):j2(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;J2(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},l={value:function(){0==--i&&a()}};n.each((function(){var n=J2(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})),0===i&&a()}))}},Symbol.iterator,F3[Symbol.iterator]);var U3={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function G3(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error("transition ".concat(e," not found"));return n}f1.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}}(this,t)}))},f1.prototype.transition=function(t){var e,n;t instanceof B3?(e=t._id,t=t._name):(e=A3(),(n=U3).time=V2(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)(o=s[c])&&O2(o,t,e,c,s,n||G3(o,e));return new B3(r,this._parents,t,e)};var R3=Math.PI,S3=2*R3,L3=1e-6,_3=S3-L3;function E3(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function k3(){return new E3}function V3(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Z3(t){return(t=V3(Math.abs(t)))?t[1]:NaN}E3.prototype=k3.prototype={constructor:E3,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-t,l=r-e,c=a-t,u=o-e,d=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(d>L3)if(Math.abs(u*s-l*c)>L3&&i){var h=n-a,g=r-o,f=s*s+l*l,p=h*h+g*g,v=Math.sqrt(f),m=Math.sqrt(d),y=i*Math.tan((R3-Math.acos((f+d-p)/(2*v*m)))/2),b=y/m,I=y/v;Math.abs(b-1)>L3&&(this._+="L"+(t+b*c)+","+(e+b*u)),this._+="A"+i+","+i+",0,0,"+ +(u*h>c*g)+","+(this._x1=t+I*s)+","+(this._y1=e+I*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,a){t=+t,e=+e,a=!!a;var o=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+o,c=e+s,u=1^a,d=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>L3||Math.abs(this._y1-c)>L3)&&(this._+="L"+l+","+c),n&&(d<0&&(d=d%S3+S3),d>_3?this._+="A"+n+","+n+",0,1,"+u+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):d>L3&&(this._+="A"+n+","+n+",0,"+ +(d>=R3)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var N3,T3=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function X3(t){if(!(e=T3.exec(t)))throw new Error("invalid format: "+t);var e;return new W3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function W3(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function M3(t,e){var n=V3(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}X3.prototype=W3.prototype,W3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var H3={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return M3(100*t,e)},r:M3,s:function(t,e){var n=V3(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(N3=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+V3(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function D3(t){return t}var Y3,O3,z3,J3=Array.prototype.map,j3=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function P3(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?D3:(e=J3.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?D3:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(J3.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function d(t){var e=(t=X3(t)).fill,n=t.align,d=t.sign,h=t.symbol,g=t.zero,f=t.width,p=t.comma,v=t.precision,m=t.trim,y=t.type;"n"===y?(p=!0,y="g"):H3[y]||(void 0===v&&(v=12),m=!0,y="g"),(g||"0"===e&&"="===n)&&(g=!0,e="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",I="$"===h?a:/[%p]/.test(y)?l:"",C=H3[y],x=/[defgprs%]/.test(y);function B(t){var i,a,l,h=b,B=I;if("c"===y)B=C(t)+B,t="";else{var A=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:C(Math.abs(t),v),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),A&&0==+t&&"+"!==d&&(A=!1),h=(A?"("===d?d:c:"-"===d||"("===d?"":d)+h,B=("s"===y?j3[8+N3/3]:"")+B+(A&&"("===d?")":""),x)for(i=-1,a=t.length;++i<a;)if(48>(l=t.charCodeAt(i))||l>57){B=(46===l?o+t.slice(i+1):t.slice(i))+B,t=t.slice(0,i);break}}p&&!g&&(t=r(t,1/0));var F=h.length+t.length+B.length,Q=F<f?new Array(f-F+1).join(e):"";switch(p&&g&&(t=r(Q+t,Q.length?f-B.length:1/0),Q=""),n){case"<":t=h+t+B+Q;break;case"=":t=h+Q+t+B;break;case"^":t=Q.slice(0,F=Q.length>>1)+h+t+B+Q.slice(F);break;default:t=Q+h+t+B}return s(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),B.toString=function(){return t+""},B}return{format:d,formatPrefix:function(t,e){var n=d(((t=X3(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Z3(e)/3))),i=Math.pow(10,-r),a=j3[8+r/3];return function(t){return n(i*t)+a}}}}function K3(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function q3(t){return+t}Y3=P3({thousands:",",grouping:[3],currency:["$",""]}),O3=Y3.format,z3=Y3.formatPrefix;var $3=[0,1];function t5(t){return t}function e5(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function n5(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=e5(i,r),a=n(o,a)):(r=e5(r,i),a=n(a,o)),function(t){return a(r(t))}}function r5(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=e5(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=S$(t,e,1,r)-1;return a[n](i[n](e))}}function i5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function a5(){var t,e,n,r,i,a,o=$3,s=$3,l=m2,c=t5;function u(){var t=Math.min(o.length,s.length);return c!==t5&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(o[0],o[t-1])),r=t>2?r5:n5,i=a=null,d}function d(e){return null==e||isNaN(e=+e)?n:(i||(i=r(o.map(t),s,l)))(t(c(e)))}return d.invert=function(n){return c(e((a||(a=r(s,o.map(t),h2)))(n)))},d.domain=function(t){return arguments.length?(o=Array.from(t,q3),u()):o.slice()},d.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},d.rangeRound=function(t){return s=Array.from(t),l=y2,u()},d.clamp=function(t){return arguments.length?(c=!!t||t5,u()):c!==t5},d.interpolate=function(t){return arguments.length?(l=t,u()):l},d.unknown=function(t){return arguments.length?(n=t,d):n},function(n,r){return t=n,e=r,u()}}function o5(){return a5()(t5,t5)}function s5(t,e,n,r){var i,a=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=L$?i*=10:a>=_$?i*=5:a>=E$&&(i*=2),e<t?-i:i}(t,e,n);switch((r=X3(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Z3(e)/3)))-Z3(Math.abs(t)))}(a,o))||(r.precision=i),z3(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Z3(e)-Z3(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Z3(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return O3(r)}function l5(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,a,o,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=k$(t,e,n))||!isFinite(o))return[];if(o>0){var l=Math.round(t/o),c=Math.round(e/o);for(l*o<t&&++l,c*o>e&&--c,a=new Array(i=c-l+1);++s<i;)a[s]=(l+s)*o}else{o=-o;var u=Math.round(t*o),d=Math.round(e*o);for(u/o<t&&++u,d/o>e&&--d,a=new Array(i=d-u+1);++s<i;)a[s]=(u+s)/o}return r&&a.reverse(),a}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return s5(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,a=e(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(i=l,l=c,c=i,i=o,o=s,s=i);u-- >0;){if((i=k$(l,c,n))===r)return a[o]=l,a[s]=c,e(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function c5(){var t=o5();return t.copy=function(){return i5(t,c5())},K3.apply(t,arguments),l5(t)}var u5=function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");function d5(t){return function(){return t}}var h5,g5,f5,p5,v5,m5,y5,b5,I5,C5=Math.abs,x5=Math.atan2,B5=Math.cos,A5=Math.max,F5=Math.min,Q5=Math.sin,w5=Math.sqrt,U5=1e-12,G5=Math.PI,R5=G5/2,S5=2*G5;function L5(t){return t>1?0:t<-1?G5:Math.acos(t)}function _5(t){return t>=1?R5:t<=-1?-R5:Math.asin(t)}function E5(t){return t.innerRadius}function k5(t){return t.outerRadius}function V5(t){return t.startAngle}function Z5(t){return t.endAngle}function N5(t){return t&&t.padAngle}function T5(t,e,n,r,i,a,o,s){var l=n-t,c=r-e,u=o-i,d=s-a,h=d*l-u*c;if(!(h*h<U5))return[t+(h=(u*(e-a)-d*(t-i))/h)*l,e+h*c]}function X5(t,e,n,r,i,a,o){var s=t-n,l=e-r,c=(o?a:-a)/w5(s*s+l*l),u=c*l,d=-c*s,h=t+u,g=e+d,f=n+u,p=r+d,v=(h+f)/2,m=(g+p)/2,y=f-h,b=p-g,I=y*y+b*b,C=i-a,x=h*p-f*g,B=(b<0?-1:1)*w5(A5(0,C*C*I-x*x)),A=(x*b-y*B)/I,F=(-x*y-b*B)/I,Q=(x*b+y*B)/I,w=(-x*y+b*B)/I,U=A-v,G=F-m,R=Q-v,S=w-m;return U*U+G*G>R*R+S*S&&(A=Q,F=w),{cx:A,cy:F,x01:-u,y01:-d,x11:A*(i/C-1),y11:F*(i/C-1)}}function W5(){var t=E5,e=k5,n=d5(0),r=null,i=V5,a=Z5,o=N5,s=null;function l(){var l,c,u=+t.apply(this,arguments),d=+e.apply(this,arguments),h=i.apply(this,arguments)-R5,g=a.apply(this,arguments)-R5,f=C5(g-h),p=g>h;if(s||(s=l=k3()),d<u&&(c=d,d=u,u=c),d>U5)if(f>S5-U5)s.moveTo(d*B5(h),d*Q5(h)),s.arc(0,0,d,h,g,!p),u>U5&&(s.moveTo(u*B5(g),u*Q5(g)),s.arc(0,0,u,g,h,p));else{var v,m,y=h,b=g,I=h,C=g,x=f,B=f,A=o.apply(this,arguments)/2,F=A>U5&&(r?+r.apply(this,arguments):w5(u*u+d*d)),Q=F5(C5(d-u)/2,+n.apply(this,arguments)),w=Q,U=Q;if(F>U5){var G=_5(F/u*Q5(A)),R=_5(F/d*Q5(A));(x-=2*G)>U5?(I+=G*=p?1:-1,C-=G):(x=0,I=C=(h+g)/2),(B-=2*R)>U5?(y+=R*=p?1:-1,b-=R):(B=0,y=b=(h+g)/2)}var S=d*B5(y),L=d*Q5(y),_=u*B5(C),E=u*Q5(C);if(Q>U5){var k,V=d*B5(b),Z=d*Q5(b),N=u*B5(I),T=u*Q5(I);if(f<G5&&(k=T5(S,L,N,T,V,Z,_,E))){var X=S-k[0],W=L-k[1],M=V-k[0],H=Z-k[1],D=1/Q5(L5((X*M+W*H)/(w5(X*X+W*W)*w5(M*M+H*H)))/2),Y=w5(k[0]*k[0]+k[1]*k[1]);w=F5(Q,(u-Y)/(D-1)),U=F5(Q,(d-Y)/(D+1))}}B>U5?U>U5?(v=X5(N,T,S,L,d,U,p),m=X5(V,Z,_,E,d,U,p),s.moveTo(v.cx+v.x01,v.cy+v.y01),U<Q?s.arc(v.cx,v.cy,U,x5(v.y01,v.x01),x5(m.y01,m.x01),!p):(s.arc(v.cx,v.cy,U,x5(v.y01,v.x01),x5(v.y11,v.x11),!p),s.arc(0,0,d,x5(v.cy+v.y11,v.cx+v.x11),x5(m.cy+m.y11,m.cx+m.x11),!p),s.arc(m.cx,m.cy,U,x5(m.y11,m.x11),x5(m.y01,m.x01),!p))):(s.moveTo(S,L),s.arc(0,0,d,y,b,!p)):s.moveTo(S,L),u>U5&&x>U5?w>U5?(v=X5(_,E,V,Z,u,-w,p),m=X5(S,L,N,T,u,-w,p),s.lineTo(v.cx+v.x01,v.cy+v.y01),w<Q?s.arc(v.cx,v.cy,w,x5(v.y01,v.x01),x5(m.y01,m.x01),!p):(s.arc(v.cx,v.cy,w,x5(v.y01,v.x01),x5(v.y11,v.x11),!p),s.arc(0,0,u,x5(v.cy+v.y11,v.cx+v.x11),x5(m.cy+m.y11,m.cx+m.x11),p),s.arc(m.cx,m.cy,w,x5(m.y11,m.x11),x5(m.y01,m.x01),!p))):s.arc(0,0,u,C,I,p):s.lineTo(_,E)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-G5/2;return[B5(r)*n,Q5(r)*n]},l.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:d5(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:d5(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:d5(+t),l):n},l.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:d5(+t),l):r},l.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:d5(+t),l):i},l.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:d5(+t),l):a},l.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:d5(+t),l):o},l.context=function(t){return arguments.length?(s=null==t?null:t,l):s},l}function M5(t){return"object"===o(t)&&"length"in t?t:Array.from(t)}function H5(t){this._context=t}function D5(t){return new H5(t)}function Y5(t){return t[0]}function O5(t){return t[1]}function z5(t,e){var n=d5(!0),r=null,i=D5,a=null;function o(o){var s,l,c,u=(o=M5(o)).length,d=!1;for(null==r&&(a=i(c=k3())),s=0;s<=u;++s)!(s<u&&n(l=o[s],s,o))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(l,s,o),+e(l,s,o));if(c)return a=null,c+""||null}return t="function"==typeof t?t:void 0===t?Y5:d5(t),e="function"==typeof e?e:void 0===e?O5:d5(e),o.x=function(e){return arguments.length?(t="function"==typeof e?e:d5(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:d5(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:d5(!!t),o):n},o.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),o):r},o}function J5(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function j5(t){return t}H5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var P5,K5,q5=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).uniqueId="decidable-".concat(n.uniqueId),t}return d(n,[{key:"getComputedStyleValue",value:function(t){return window.ShadyCSS?window.ShadyCSS.getComputedStyleValue(this,t):getComputedStyle(this).getPropertyValue(t)}},{key:"firstUpdated",value:function(t){B(f(n.prototype),"firstUpdated",this).call(this,t),p1(this.renderRoot.host).classed("keyboard",!0).on("mousemove.keyboard touchstart.keyboard",(function(t){p1(t.currentTarget.renderRoot.host).classed("keyboard",!1).on("mousemove.keyboard touchstart.keyboard",null)})).on("keydown.keyboard",(function(t){p1(t.currentTarget.renderRoot.host).classed("keyboard",!0).on("keydown.keyboard mousemove.keyboard touchstart.keyboard",null)}))}}],[{key:"uniqueId",get:function(){return n.ID+=1,n.ID}},{key:"greys",get:function(){var t="#999999",e={white:"#ffffff"};return e.light75=l2(t,"#ffffff")(.75),e.light50=l2(t,"#ffffff")(.5),e.light25=l2(t,"#ffffff")(.25),e.grey=t,e.dark25=l2(t,"#000000")(.25),e.dark50=l2(t,"#000000")(.5),e.dark75=l2(t,"#000000")(.75),e.black="#000000",e}},{key:"shadows",get:function(){return{elevations:[0,2,4,8,16],baselineColor:"#000000",baselineColorString:"0, 0, 0",inverseBaselineColor:"#FFFFFF",inverseBaselineColorString:"255, 255, 255",opacityUmbra:.2,opacityPenumbra:.14,opacityAmbient:.12,opacityBoost:.2,mapUmbra:{0:{x:0,y:0,b:0,s:0},2:{x:0,y:3,b:1,s:-2},4:{x:0,y:2,b:4,s:-1},8:{x:0,y:5,b:5,s:-3},16:{x:0,y:8,b:10,s:-5}},mapPenumbra:{0:{x:0,y:0,b:0,s:0},2:{x:0,y:2,b:2,s:0},4:{x:0,y:4,b:5,s:0},8:{x:0,y:8,b:10,s:1},16:{x:0,y:16,b:24,s:2}},mapAmbient:{0:{x:0,y:0,b:0,s:0},2:{x:0,y:1,b:5,s:0},4:{x:0,y:1,b:10,s:0},8:{x:0,y:3,b:14,s:2},16:{x:0,y:6,b:30,s:5}}}}},{key:"cssBoxShadow",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.shadows.opacityUmbra+this.shadows.opacityBoost,i=this.shadows.opacityPenumbra+this.shadows.opacityBoost,a=this.shadows.opacityAmbient+this.shadows.opacityBoost,o=n?"rgba(".concat(this.shadows.inverseBaselineColorString,", ").concat(r,")"):"rgba(".concat(this.shadows.baselineColorString,", ").concat(r,")"),s=n?"rgba(".concat(this.shadows.inverseBaselineColorString,", ").concat(i,")"):"rgba(".concat(this.shadows.baselineColorString,", ").concat(i,")"),l=n?"rgba(".concat(this.shadows.inverseBaselineColorString,", ").concat(a,")"):"rgba(".concat(this.shadows.baselineColorString,", ").concat(a,")"),c=this.shadows.mapUmbra[t],u=this.shadows.mapPenumbra[t],d=this.shadows.mapAmbient[t],h=e?"".concat(-c.y,"px ").concat(c.y/2,"px ").concat(c.b,"px ").concat(c.s,"px"):"".concat(c.y/2,"px ").concat(c.y,"px ").concat(c.b,"px ").concat(c.s,"px"),g=e?"".concat(-u.y,"px ").concat(u.y/2,"px ").concat(u.b,"px ").concat(u.s,"px"):"".concat(u.y/2,"px ").concat(u.y,"px ").concat(u.b,"px ").concat(u.s,"px"),f=e?"".concat(-d.y,"px ").concat(d.y/2,"px ").concat(d.b,"px ").concat(d.s,"px"):"".concat(d.y/2,"px ").concat(d.y,"px ").concat(d.b,"px ").concat(d.s,"px");return"".concat(h," ").concat(o,", ").concat(g," ").concat(s,", ").concat(f," ").concat(l)}},{key:"svgFilters",get:function(){var t=n.shadows,e=t.elevations.map((function(e){return s$(h5||(h5=A(["\n        <filter id=",' x="-400%" y="-400%" width="900%" height="900%">\n          <feComponentTransfer in="SourceAlpha" result="solid">\n            <feFuncA  type="table" tableValues="0 1 1"/>\n          </feComponentTransfer>\n          <feOffset in="solid" result="offU" dx='," dy=",' />\n          <feOffset in="solid" result="offP" dx='," dy=",' />\n          <feOffset in="solid" result="offA" dx='," dy="," />\n          ","\n          ","\n          ","\n          <feGaussianBlur in=",' result="blurU" stdDeviation='," />\n          <feGaussianBlur in=",' result="blurP" stdDeviation='," />\n          <feGaussianBlur in=",' result="blurA" stdDeviation=',' />\n          <feFlood in="SourceGraphic" result="opU" flood-color='," flood-opacity=",' />\n          <feFlood in="SourceGraphic" result="opP" flood-color='," flood-opacity=",' />\n          <feFlood in="SourceGraphic" result="opA" flood-color='," flood-opacity=",' />\n          <feComposite in="opU" in2="blurU" result="shU" operator="in" />\n          <feComposite in="opP" in2="blurP" result="shP" operator="in" />\n          <feComposite in="opA" in2="blurA" result="shA" operator="in" />\n          \x3c!-- HACK Edge: Using a dynamic value for erode radius stops Edge from corrupting the "radius" value! --\x3e\n          <feMorphology in="solid" result="smaller" operator="erode" radius=',' />\n          <feComposite in="shU" in2="smaller" result="finalU" operator="out" />\n          <feComposite in="shP" in2="smaller" result="finalP" operator="out" />\n          <feComposite in="shA" in2="smaller" result="finalA" operator="out" />\n          <feMerge>\n            <feMergeNode in="finalU" />\n            <feMergeNode in="finalP" />\n            <feMergeNode in="finalA" />\n            <feMergeNode in="SourceGraphic" />\n          </feMerge>\n        </filter>'])),"shadow-".concat(e),t.mapUmbra[e].y/2,t.mapUmbra[e].y,t.mapPenumbra[e].y/2,t.mapPenumbra[e].y,t.mapAmbient[e].y/2,t.mapAmbient[e].y,0===t.mapUmbra[e].s?s$(g5||(g5=A([""]))):s$(f5||(f5=A(['<feMorphology in="offU" result="spreadU" operator='," radius="," />"])),t.mapUmbra[e].s>0?"dilate":"erode",Math.abs(t.mapUmbra[e].s)),0===t.mapPenumbra[e].s?s$(p5||(p5=A([""]))):s$(v5||(v5=A(['<feMorphology in="offP" result="spreadP" operator='," radius="," />"])),t.mapPenumbra[e].s>0?"dilate":"erode",Math.abs(t.mapPenumbra[e].s)),0===t.mapAmbient[e].s?s$(m5||(m5=A([""]))):s$(y5||(y5=A(['<feMorphology in="offA" result="spreadA" operator='," radius="," />"])),t.mapAmbient[e].s>0?"dilate":"erode",Math.abs(t.mapAmbient[e].s)),0===t.mapUmbra[e].s?"offU":"spreadU",t.mapUmbra[e].b/2,0===t.mapPenumbra[e].s?"offP":"spreadP",t.mapPenumbra[e].b/2,0===t.mapAmbient[e].s?"offA":"spreadA",t.mapAmbient[e].b/2,t.baselineColor,t.opacityUmbra+t.opacityBoost,t.baselineColor,t.opacityPenumbra+t.opacityBoost,t.baselineColor,t.opacityAmbient+t.opacityBoost,1)}));return s$(b5||(b5=A(['\n      <svg class="defs">\n        <defs>\n          ',"\n        </defs>\n      </svg>\n    "])),e)}},{key:"styles",get:function(){return _q(I5||(I5=A(["\n      :host {\n        ---shadow-0: var(--shadow-0, ",");\n        ---shadow-2: var(--shadow-2, ",");\n        ---shadow-4: var(--shadow-4, ",");\n        ---shadow-8: var(--shadow-8, ",");\n\n        ---color-background: var(--color-background, ",");\n        ---color-border: var(--color-border, ",");\n        ---color-text: var(--color-text, ",");\n        ---color-text-inverse: var(--color-text-inverse, ",");\n        ---color-link: var(--color-link, ",");\n        ---color-element-background: var(--color-element-background, ",");\n        ---color-element-disabled: var(--color-element-disabled, ",");\n        ---color-element-enabled: var(--color-element-enabled, ",");\n        ---color-element-selected: var(--color-element-selected, ",");\n        ---color-element-border: var(--color-element-border, ",");\n        ---color-element-emphasis: var(--color-element-emphasis, ",');\n\n        ---font-family-base: var(--font-family-base, "Source Sans", sans-serif);\n        ---font-family-math: var(--font-family-math, "Source Serif", serif);\n\n        ---transition-duration: var(--transition-duration, 500ms);\n\n        font-family: var(---font-family-base);\n      }\n\n      :host,\n      :host *,\n      :host *::before,\n      :host *::after {\n        box-sizing: border-box;\n      }\n\n      .math-greek {\n        font-family: var(---font-family-math);\n        font-style: normal;\n      }\n\n      .math-num {\n        font-family: var(---font-family-base);\n        font-style: normal;\n      }\n\n      .math-var {\n        font-family: var(---font-family-math);\n        font-style: italic;\n      }\n\n      .defs {\n        display: block;\n\n        width: 0;\n        height: 0;\n      }\n    '])),Lq(this.cssBoxShadow(0)),Lq(this.cssBoxShadow(2)),Lq(this.cssBoxShadow(4)),Lq(this.cssBoxShadow(8)),Lq(this.greys.white),Lq(this.greys.light75),Lq(this.greys.dark75),Lq(this.greys.white),Lq(this.greys.dark25),Lq(this.greys.light75),Lq(this.greys.light50),Lq(this.greys.grey),Lq(this.greys.dark25),Lq(this.greys.dark50),Lq(this.greys.dark75))}}]),n}(Q$);q5.ID=0;var $5=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).disabled=!1,t}return d(n,[{key:"render",value:function(){return o$(P5||(P5=A(["\n      <button ?disabled=",">\n        <slot></slot>\n      </button>\n    "])),this.disabled)}}],[{key:"properties",get:function(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0}}}},{key:"styles",get:function(){return[B(f(n),"styles",this),_q(K5||(K5=A(["\n        :host {\n          margin: 0.25rem;\n        }\n\n        button {\n          width: 100%;\n          height: 100%;\n          padding: 0.375rem 0.75rem;\n\n          font-family: var(---font-family-base);\n          font-size: 1.125rem;\n          line-height: 1.5;\n          color: var(---color-text-inverse);\n\n          border: 0;\n          border-radius: 0.25rem;\n          outline: none;\n        }\n\n        button:disabled {\n          background-color: var(--decidable-button-background-color, var(---color-element-disabled));\n          outline: none;\n          box-shadow: none;\n        }\n\n        button:enabled {\n          cursor: pointer;\n\n          background-color: var(--decidable-button-background-color, var(---color-element-enabled));\n          outline: none;\n          box-shadow: var(---shadow-2);\n        }\n\n        button:enabled:hover {\n          outline: none;\n          box-shadow: var(---shadow-4);\n        }\n\n        button:enabled:active {\n          outline: none;\n          box-shadow: var(---shadow-8);\n        }\n\n        :host(.keyboard) button:enabled:focus {\n          outline: none;\n          box-shadow: var(---shadow-4);\n        }\n\n        :host(.keyboard) button:enabled:focus:active {\n          outline: none;\n          box-shadow: var(---shadow-8);\n        }\n      "])))]}}]),n}(q5);customElements.define("decidable-button",$5);
/**
	 * @license
	 * Copyright 2018 Google LLC
	 * SPDX-License-Identifier: BSD-3-Clause
	 */
var t9,e9,n9,r9,i9=function(t){return null!=t?t:c$},a9=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).disabled=!1,t.max=void 0,t.min=void 0,t.step=void 0,t.value=void 0,t}return d(n,[{key:"changed",value:function(t){this.value=t.target.value,this.dispatchEvent(new CustomEvent("change",{detail:{value:this.value},bubbles:!0}))}},{key:"inputted",value:function(t){this.value=t.target.value}},{key:"render",value:function(){return o$(t9||(t9=A(["\n      <label for=",'>\n        <slot></slot>\n      </label>\n      <div class="range">\n        <input type="range" id='," min="," max="," step="," .value="," @change="," @input=",">\n      </div>\n      <decidable-spinner min="," max="," step="," .value="," @input=","></decidable-spinner>\n    "])),"".concat(this.uniqueId,"-slider"),"".concat(this.uniqueId,"-slider"),i9(this.min),i9(this.max),i9(this.step),this.value,this.changed.bind(this),this.inputted.bind(this),i9(this.min),i9(this.max),i9(this.step),this.value,this.inputted.bind(this))}}],[{key:"properties",get:function(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0},max:{attribute:"max",type:Number,reflect:!0},min:{attribute:"min",type:Number,reflect:!0},step:{attribute:"step",type:Number,reflect:!0},value:{attribute:"value",type:Number,reflect:!0}}}},{key:"styles",get:function(){return[B(f(n),"styles",this),_q(e9||(e9=A(["\n        :host {\n          ---shadow-2-rotate: var(--shadow-2-rotate, ",");\n          ---shadow-4-rotate: var(--shadow-4-rotate, ",");\n          ---shadow-8-rotate: var(--shadow-8-rotate, ",");\n\n          display: flex;\n\n          flex-direction: column;\n\n          align-items: center;\n          justify-content: center;\n        }\n\n        label {\n          margin: 0.25rem 0.25rem 0;\n        }\n\n        .range {\n          display: inline-block;\n\n          width: 3.5rem;\n          height: 4.75rem;\n          margin: 0 0.25rem 0.25rem;\n        }\n\n        decidable-spinner {\n          --decidable-spinner-input-width: 3.5rem;\n\n          margin: 0 0.25rem 0.25rem;\n        }\n\n        /* Adapted from http://danielstern.ca/range.css/#/ */\n        /* Overall */\n        input[type=range] {\n          width: 4.75rem;\n          height: 3.5rem;\n          padding: 0;\n          margin: 0;\n\n          background-color: unset;\n\n          transform: rotate(-90deg);\n          transform-origin: 2.375rem 2.375rem;\n\n          /* stylelint-disable-next-line property-no-vendor-prefix */\n          -webkit-appearance: none;\n        }\n\n        input[type=range]:enabled {\n          cursor: ns-resize;\n        }\n\n        input[type=range]:focus {\n          outline: none;\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]::-ms-tooltip {\n          display: none;\n        }\n\n        /* Track */\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]::-webkit-slider-runnable-track {\n          width: 100%;\n          height: 4px;\n\n          background: var(---color-element-disabled);\n          border: 0;\n          border-radius: 2px;\n          box-shadow: none;\n        }\n\n        input[type=range]:focus::-webkit-slider-runnable-track {\n          background: var(---color-element-disabled);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]::-moz-range-track {\n          width: 100%;\n          height: 4px;\n\n          background: var(---color-element-disabled);\n          border: 0;\n          border-radius: 2px;\n          box-shadow: none;\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]::-ms-track {\n          width: 100%;\n          height: 4px;\n\n          color: transparent;\n\n          background: transparent;\n          border-color: transparent;\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]::-ms-fill-lower {\n          background: #cccccc;\n          /* background: var(---color-element-disabled); */\n          border: 0;\n          border-radius: 2px;\n          box-shadow: none;\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]::-ms-fill-upper {\n          background: #cccccc;\n          /* background: var(---color-element-disabled); */\n          border: 0;\n          border-radius: 2px;\n          box-shadow: none;\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:focus::-ms-fill-lower {\n          background: var(---color-element-disabled);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:focus::-ms-fill-upper {\n          background: var(---color-element-disabled);\n        }\n\n        /* Thumb */\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]::-webkit-slider-thumb {\n          width: 10px;\n          height: 20px;\n          margin-top: -8px;\n\n          border: 0;\n          border-radius: 4px;\n\n          /* stylelint-disable-next-line property-no-vendor-prefix */\n          -webkit-appearance: none;\n        }\n\n        input[type=range]:disabled::-webkit-slider-thumb {\n          background: var(---color-element-disabled);\n          box-shadow: none;\n        }\n\n        input[type=range]:enabled::-webkit-slider-thumb {\n          background: var(---color-element-enabled);\n          box-shadow: var(---shadow-2-rotate);\n        }\n\n        input[type=range]:enabled:hover::-webkit-slider-thumb {\n          box-shadow: var(---shadow-4-rotate);\n        }\n\n        input[type=range]:enabled:active::-webkit-slider-thumb {\n          box-shadow: var(---shadow-8-rotate);\n        }\n\n        :host(.keyboard) input[type=range]:enabled:focus::-webkit-slider-thumb {\n          box-shadow: var(---shadow-4-rotate);\n        }\n\n        :host(.keyboard) input[type=range]:focus:active::-webkit-slider-thumb {\n          box-shadow: var(---shadow-8-rotate);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]::-moz-range-thumb {\n          width: 10px;\n          height: 20px;\n\n          border: 0;\n          border-radius: 4px;\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:disabled::-moz-range-thumb {\n          background: var(---color-element-disabled);\n          box-shadow: none;\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:enabled::-moz-range-thumb {\n          background: var(---color-element-enabled);\n          box-shadow: var(---shadow-2-rotate);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:enabled:hover::-moz-range-thumb {\n          box-shadow: var(---shadow-4-rotate);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:enabled:active::-moz-range-thumb {\n          box-shadow: var(---shadow-8-rotate);\n        }\n\n        :host(.keyboard) input[type=range]:enabled:focus::-moz-range-thumb {\n          box-shadow: var(---shadow-4-rotate);\n        }\n\n        :host(.keyboard) input[type=range]:enabled:focus:active::-moz-range-thumb {\n          box-shadow: var(---shadow-8-rotate);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]::-ms-thumb {\n          width: 10px;\n          height: 20px;\n          margin-top: 0;\n\n          background: #999999;\n          /* background: var(---color-element-enabled); */\n          border: 0;\n          border-radius: 4px;\n          box-shadow: var(---shadow-2-rotate);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:disabled::-ms-thumb {\n          background: var(---color-element-disabled);\n          box-shadow: none;\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:enabled::-ms-thumb {\n          background: var(---color-element-enabled);\n          box-shadow: var(---shadow-2-rotate);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:enabled:hover::-ms-thumb {\n          box-shadow: var(---shadow-4-rotate);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:enabled:active::-ms-thumb {\n          box-shadow: var(---shadow-8-rotate);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        :host(.keyboard) input[type=range]:enabled:focus::-ms-thumb {\n          box-shadow: var(---shadow-4-rotate);\n        }\n\n        :host(.keyboard) input[type=range]:enabled:focus:active::-ms-thumb {\n          box-shadow: var(---shadow-8-rotate);\n        }\n      "])),Lq(this.cssBoxShadow(2,!0,!1)),Lq(this.cssBoxShadow(4,!0,!1)),Lq(this.cssBoxShadow(8,!0,!1)))]}}]),n}(q5);customElements.define("decidable-slider",a9);var o9,s9,l9=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).disabled=!1,t.max=void 0,t.min=void 0,t.step=void 0,t.value=void 0,t}return d(n,[{key:"inputted",value:function(t){this.value=t.target.value}},{key:"render",value:function(){return o$(n9||(n9=A(["\n      <label>\n        <slot></slot>\n        <input ?disabled=",' type="number" min='," max="," step="," .value="," @input=",">\n      </label>\n    "])),this.disabled,i9(this.min),i9(this.max),i9(this.step),this.value,this.inputted.bind(this))}}],[{key:"properties",get:function(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0},max:{attribute:"max",type:Number,reflect:!0},min:{attribute:"min",type:Number,reflect:!0},step:{attribute:"step",type:Number,reflect:!0},value:{attribute:"value",type:Number,reflect:!0}}}},{key:"styles",get:function(){return[B(f(n),"styles",this),_q(r9||(r9=A(['\n        :host {\n          ---decidable-spinner-font-size: var(--decidable-spinner-font-size, 1.125rem);\n          ---decidable-spinner-input-width: var(--decidable-spinner-input-width, 4rem);\n          ---decidable-spinner-prefix: var(--decidable-spinner-prefix, "");\n\n          display: block;\n        }\n\n        label {\n          position: relative;\n          display: flex;\n\n          flex-direction: column;\n\n          align-items: center;\n\n          margin: 0;\n\n          font-size: 0.75rem;\n        }\n\n        label::before {\n          position: absolute;\n          bottom: 1px;\n          left: calc(50% - var(---decidable-spinner-input-width) / 2 + 0.25rem);\n\n          font-size: var(---decidable-spinner-font-size);\n          line-height: normal;\n\n          content: var(---decidable-spinner-prefix);\n        }\n\n        input[type=number] {\n          width: var(---decidable-spinner-input-width);\n\n          font-family: var(---font-family-base);\n          font-size: var(---decidable-spinner-font-size);\n          color: inherit;\n          text-align: right;\n\n          background: none;\n          border: 0;\n          border-radius: 0;\n          outline: none;\n          box-shadow: var(---shadow-2);\n\n          -webkit-appearance: none; /* stylelint-disable-line property-no-vendor-prefix */\n        }\n\n        input[type=number]:hover {\n          box-shadow: var(---shadow-4);\n        }\n\n        input[type=number]:focus,\n        input[type=number]:active {\n          box-shadow: var(---shadow-8);\n        }\n\n        input[type=number]:disabled {\n          color: var(---color-text);\n\n          border: 0;\n          box-shadow: none;\n\n          /* HACK: Use correct text color in Safari */\n          -webkit-opacity: 1;\n          /* HACK: Hide spinners in disabled input for Firefox and Safari */\n          -moz-appearance: textfield; /* stylelint-disable-line property-no-vendor-prefix */\n          /* HACK: Use correct text color in Safari */\n          -webkit-text-fill-color: var(---color-text);\n        }\n\n        /* HACK: Hide spinners in disabled input for Firefox and Safari */\n        input[type=number]:disabled::-webkit-outer-spin-button,\n        input[type=number]:disabled::-webkit-inner-spin-button {\n          margin: 0;\n          -webkit-appearance: none; /* stylelint-disable-line property-no-vendor-prefix */\n        }\n      '])))]}}]),n}(q5);customElements.define("decidable-spinner",l9);var c9,u9,d9=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).checked=!1,t.disabled=!1,t}return d(n,[{key:"changed",value:function(t){this.checked=t.target.checked,this.dispatchEvent(new CustomEvent("change",{detail:{checked:this.checked},bubbles:!0}))}},{key:"render",value:function(){return o$(o9||(o9=A(['\n      <input type="checkbox" id='," ?checked="," ?disabled="," @change=",">\n      <label for=",'>\n        <slot name="off-label"></slot>\n      </label>\n      <label for=',">\n        <slot></slot>\n      </label>\n    "])),"".concat(this.uniqueId,"-checkbox"),this.checked,this.disabled,this.changed.bind(this),"".concat(this.uniqueId,"-checkbox"),"".concat(this.uniqueId,"-checkbox"))}}],[{key:"properties",get:function(){return{checked:{attribute:"checked",type:Boolean,reflect:!0},disabled:{attribute:"disabled",type:Boolean,reflect:!0}}}},{key:"styles",get:function(){return[B(f(n),"styles",this),_q(s9||(s9=A(['\n        :host {\n          display: flex;\n\n          flex-direction: column;\n\n          align-items: center;\n          justify-content: center;\n        }\n\n        /* Adapted from https://codepen.io/guuslieben/pen/YyPRVP */\n        input[type=checkbox] {\n          /* visuallyhidden: https://github.com/h5bp/html5-boilerplate/blob/master/dist/doc/css.md */\n          position: absolute;\n\n          width: 1px;\n          height: 1px;\n          padding: 0;\n          margin: -1px;\n          overflow: hidden;\n          clip: rect(0 0 0 0);\n\n          white-space: nowrap;\n\n          border: 0;\n          clip-path: inset(100%); /* May cause a performance issue: https://github.com/h5bp/html5-boilerplate/issues/2021 */\n        }\n\n        input[type=checkbox] + label {\n          order: 1;\n\n          margin: 0 0.25rem 0.25rem;\n\n          font-weight: 400;\n        }\n\n        input[type=checkbox] + label + label {\n          position: relative;\n\n          min-width: 24px;\n          padding: 0 0 36px;\n          margin: 0.25rem 0.25rem 0;\n\n          font-weight: 400;\n\n          outline: none;\n        }\n\n        input[type=checkbox] + label + label::before,\n        input[type=checkbox] + label + label::after {\n          position: absolute;\n\n          left: 50%;\n\n          margin: 0;\n\n          content: "";\n\n          outline: 0;\n\n          transition: all var(---transition-duration) ease;\n          transform: translate(-50%, 0);\n        }\n\n        input[type=checkbox] + label + label::before {\n          bottom: 1px;\n\n          width: 8px;\n          height: 34px;\n\n          background-color: var(---color-element-disabled);\n          border-radius: 4px;\n        }\n\n        input[type=checkbox] + label + label::after {\n          bottom: 0;\n\n          width: 18px;\n          height: 18px;\n\n          background-color: var(---color-element-enabled);\n          border-radius: 50%;\n          box-shadow: var(---shadow-2);\n        }\n\n        input[type=checkbox]:checked + label + label::after {\n          transform: translate(-50%, -100%);\n        }\n\n        input[type=checkbox]:disabled + label + label::after {\n          background-color: var(---color-element-disabled);\n          box-shadow: none;\n        }\n\n        input[type=checkbox]:enabled + label,\n        input[type=checkbox]:enabled + label + label {\n          cursor: pointer;\n        }\n\n        input[type=checkbox]:enabled + label:hover + label::after,\n        input[type=checkbox]:enabled + label + label:hover::after {\n          box-shadow: var(---shadow-4);\n        }\n\n        input[type=checkbox]:enabled + label:active + label::after,\n        input[type=checkbox]:enabled + label + label:active::after {\n          box-shadow: var(---shadow-8);\n        }\n\n        /* stylelint-disable-next-line selector-max-compound-selectors */\n        :host(.keyboard) input[type=checkbox]:enabled:focus + label + label::after {\n          box-shadow: var(---shadow-4);\n        }\n\n        /* stylelint-disable-next-line selector-max-compound-selectors */\n        :host(.keyboard) input[type=checkbox]:enabled:focus + label + label:active::after,\n        :host(.keyboard) input[type=checkbox]:enabled:focus:active + label + label::after {\n          box-shadow: var(---shadow-8);\n        }\n      '])))]}}]),n}(q5);customElements.define("decidable-switch",d9);var h9,g9,f9=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).disabled=!1,t}return d(n,[{key:"render",value:function(){return o$(c9||(c9=A(["\n      <fieldset ?disabled=",'>\n        <legend><slot name="label"></slot></legend>\n        <slot></slot>\n      </fieldset>\n    '])),this.disabled)}}],[{key:"properties",get:function(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0}}}},{key:"styles",get:function(){return[B(f(n),"styles",this),_q(u9||(u9=A(["\n        fieldset {\n          display: flex;\n\n          flex-direction: column;\n\n          align-items: stretch;\n          justify-content: center;\n\n          margin: 0.25rem;\n\n          border: 0;\n        }\n\n        legend {\n          text-align: center;\n        }\n      "])))]}}]),n}(q5);customElements.define("decidable-toggle",f9);var p9=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).checked=!1,t.disabled=!1,t.name=void 0,t.value=void 0,t}return d(n,[{key:"changed",value:function(t){this.checked=t.target.checked,this.dispatchEvent(new CustomEvent("change",{detail:{checked:this.checked,value:this.value},bubbles:!0}))}},{key:"render",value:function(){return o$(h9||(h9=A(['\n      <input type="radio" id='," name="," value="," .checked="," @change=",">\n      <label for=",">\n        <slot></slot>\n      </label>\n    "])),"".concat(this.uniqueId,"-radio"),this.name,this.value,this.checked,this.changed.bind(this),"".concat(this.uniqueId,"-radio"))}}],[{key:"properties",get:function(){return{checked:{attribute:"checked",type:Boolean,reflect:!0},disabled:{attribute:"disabled",type:Boolean,reflect:!0},name:{attribute:"name",type:String,reflect:!0},value:{attribute:"value",type:String,reflect:!0}}}},{key:"styles",get:function(){return[B(f(n),"styles",this),_q(g9||(g9=A(["\n        :host {\n          display: flex;\n        }\n\n        input[type=radio] {\n          /* visuallyhidden: https://github.com/h5bp/html5-boilerplate/blob/master/dist/doc/css.md */\n          position: absolute;\n\n          width: 1px;\n          height: 1px;\n          padding: 0;\n          margin: -1px;\n          overflow: hidden;\n          clip: rect(0 0 0 0);\n\n          white-space: nowrap;\n\n          border: 0;\n          clip-path: inset(100%); /* May cause a performance issue: https://github.com/h5bp/html5-boilerplate/issues/2021 */\n        }\n\n        input[type=radio] + label {\n          width: 100%;\n          padding: 0.375rem 0.75rem;\n\n          font-family: var(---font-family-base);\n          font-size: 1.125rem;\n          line-height: 1.5;\n          color: var(---color-text-inverse);\n          text-align: center;\n\n          cursor: pointer;\n\n          background-color: var(---color-element-enabled);\n          border: 0;\n          border-radius: 0;\n          outline: none;\n\n          box-shadow: var(---shadow-2);\n        }\n\n        input[type=radio]:checked + label {\n          background-color: var(---color-element-selected);\n          outline: none;\n          box-shadow: var(---shadow-2);\n        }\n\n        input[type=radio] + label:hover {\n          z-index: 1;\n\n          outline: none;\n          box-shadow: var(---shadow-4);\n        }\n\n        input[type=radio] + label:active {\n          z-index: 2;\n\n          outline: none;\n          box-shadow: var(---shadow-8);\n        }\n\n        :host(:first-of-type) input[type=radio] + label {\n          border-top-left-radius: 0.25rem;\n          border-top-right-radius: 0.25rem;\n        }\n\n        :host(:last-of-type) input[type=radio] + label {\n          border-bottom-right-radius: 0.25rem;\n          border-bottom-left-radius: 0.25rem;\n        }\n\n        :host(.keyboard) input[type=radio]:focus + label {\n          z-index: 1;\n\n          outline: none;\n          box-shadow: var(---shadow-4);\n        }\n\n        :host(.keyboard) input[type=radio]:focus:checked + label {\n          z-index: 1;\n\n          background-color: var(---color-element-selected);\n          outline: none;\n          box-shadow: var(---shadow-4);\n        }\n\n        :host(.keyboard) input[type=radio]:focus + label:active {\n          z-index: 2;\n\n          outline: none;\n          box-shadow: var(---shadow-8);\n        }\n      "])))]}}]),n}(q5);customElements.define("decidable-toggle-option",p9);var v9,m9={fromAttribute:function(t){return t.split(/\s+/).map((function(t){return Number.parseFloat(t)}))},toAttribute:function(t){return t.length?t.map((function(t){return t.toFixed(3)})).join(" "):null}},y9=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).interactive=!1,t}return d(n,null,[{key:"properties",get:function(){return{interactive:{attribute:"interactive",type:Boolean,reflect:!0}}}},{key:"colors",get:function(){return{x:u5[0],a:u5[4],l:u5[5],v:u5[7],p:u5[1],g:u5[2],w:u5[3],u:u5[6],chosen:u5[8],better:"#4545d0",worse:"#f032e6",even:"#10dbc9",correct:"#ffffff",error:"#000000",nr:"#cccccc"}}},{key:"lights",get:function(){return Object.keys(n.colors).reduce((function(t,e){return t[e]=l2(n.colors[e],"#ffffff")(.5),t}),{})}},{key:"darks",get:function(){return Object.keys(n.colors).reduce((function(t,e){return t[e]=l2(n.colors[e],"#000000")(.5),t}),{})}},{key:"styles",get:function(){return[B(f(n),"styles",this),_q(v9||(v9=A(["\n        :host {\n          ---color-x: var(--color-x, ",");\n          ---color-a: var(--color-a, ",");\n          ---color-l: var(--color-l, ",");\n          ---color-v: var(--color-v, ",");\n          ---color-p: var(--color-p, ",");\n          ---color-g: var(--color-g, ",");\n          ---color-w: var(--color-w, ",");\n          ---color-u: var(--color-u, ",");\n          ---color-chosen: var(--color-chosen, ",");\n          ---color-better: var(--color-better, ",");\n          ---color-worse: var(--color-worse, ",");\n          ---color-even: var(--color-even, ",");\n          ---color-correct: var(--color-correct, ",");\n          ---color-error: var(--color-error, ",");\n          ---color-nr: var(--color-nr, ",");\n\n          ---color-x-light: var(--color-x-light, ",");\n          ---color-a-light: var(--color-a-light, ",");\n          ---color-l-light: var(--color-l-light, ",");\n          ---color-v-light: var(--color-v-light, ",");\n          ---color-p-light: var(--color-p-light, ",");\n          ---color-g-light: var(--color-g-light, ",");\n          ---color-w-light: var(--color-w-light, ",");\n          ---color-u-light: var(--color-u-light, ",");\n          ---color-chosen-light: var(--color-chosen-light, ",");\n          ---color-better-light: var(--color-better-light, ",");\n          ---color-worse-light: var(--color-worse-light, ",");\n          ---color-even-light: var(--color-even-light, ",");\n          ---color-correct-light: var(--color-correct-light, ",");\n          ---color-error-light: var(--color-error-light, ",");\n          ---color-nr-light: var(--color-nr-light, ",");\n\n          ---color-x-dark: var(--color-x-dark, ",");\n          ---color-a-dark: var(--color-a-dark, ",");\n          ---color-l-dark: var(--color-l-dark, ",");\n          ---color-v-dark: var(--color-v-dark, ",");\n          ---color-p-dark: var(--color-p-dark, ",");\n          ---color-g-dark: var(--color-g-dark, ",");\n          ---color-w-dark: var(--color-w-dark, ",");\n          ---color-u-dark: var(--color-u-dark, ",");\n          ---color-chosen-dark: var(--color-chosen-dark, ",");\n          ---color-better-dark: var(--color-better-dark, ",");\n          ---color-worse-dark: var(--color-worse-dark, ",");\n          ---color-even-dark: var(--color-even-dark, ",");\n          ---color-correct-dark: var(--color-correct-dark, ",");\n          ---color-error-dark: var(--color-error-dark, ",");\n          ---color-nr-dark: var(--color-nr-dark, ",");\n        }\n      "])),Lq(this.colors.x),Lq(this.colors.a),Lq(this.colors.l),Lq(this.colors.v),Lq(this.colors.p),Lq(this.colors.g),Lq(this.colors.w),Lq(this.colors.u),Lq(this.colors.chosen),Lq(this.colors.better),Lq(this.colors.worse),Lq(this.colors.even),Lq(this.colors.correct),Lq(this.colors.error),Lq(this.colors.nr),Lq(this.lights.x),Lq(this.lights.a),Lq(this.lights.l),Lq(this.lights.v),Lq(this.lights.p),Lq(this.lights.g),Lq(this.lights.w),Lq(this.lights.u),Lq(this.lights.chosen),Lq(this.lights.better),Lq(this.lights.worse),Lq(this.lights.even),Lq(this.lights.correct),Lq(this.lights.error),Lq(this.lights.nr),Lq(this.darks.x),Lq(this.darks.a),Lq(this.darks.l),Lq(this.darks.v),Lq(this.darks.p),Lq(this.darks.g),Lq(this.darks.w),Lq(this.darks.u),Lq(this.darks.chosen),Lq(this.darks.better),Lq(this.darks.worse),Lq(this.darks.even),Lq(this.darks.correct),Lq(this.darks.error),Lq(this.darks.nr))]}}]),n}(q5),b9=2,I9=function(){function t(e){c(this,t)}return d(t,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(t,e,n){this._$Ct=t,this._$AM=e,this._$Ci=n}},{key:"_$AS",value:function(t,e){return this.update(t,e)}},{key:"update",value:function(t,e){return this.render.apply(this,Q(e))}}]),t}(),C9=function t(e,n){var r,i,a=e._$AN;if(void 0===a)return!1;var o,s=G(a);try{for(s.s();!(o=s.n()).done;){var l=o.value;null===(i=(r=l)._$AO)||void 0===i||i.call(r,n,!1),t(l,n)}}catch(t){s.e(t)}finally{s.f()}return!0},x9=function(t){var e,n;do{if(void 0===(e=t._$AM))break;(n=e._$AN).delete(t),t=e}while(0===(null==n?void 0:n.size))},B9=function(t){for(var e;e=t._$AM;t=e){var n=e._$AN;if(void 0===n)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),r4(e)}};function A9(t){void 0!==this._$AN?(x9(this),this._$AM=t,B9(this)):this._$AM=t}function F9(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this._$AH,i=this._$AN;if(void 0!==i&&0!==i.size)if(e)if(Array.isArray(r))for(var a=n;a<r.length;a++)C9(r[a],!1),x9(r[a]);else null!=r&&(C9(r,!1),x9(r));else C9(this,t)}var Q9,w9,U9,G9,R9,S9,L9,_9,E9,k9,V9,Z9,N9,T9,X9,W9,M9,H9,D9,Y9,O9,z9,J9,j9,P9,K9,q9,$9,t4,e4,n4,r4=function(t){var e,n,r,i;t.type==b9&&(null!==(e=(r=t)._$AP)&&void 0!==e||(r._$AP=F9),null!==(n=(i=t)._$AQ)&&void 0!==n||(i._$AQ=A9))},i4=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.apply(this,arguments))._$AN=void 0,t}return d(n,[{key:"_$AT",value:function(t,e,r){B(f(n.prototype),"_$AT",this).call(this,t,e,r),B9(this),this.isConnected=t._$AU}},{key:"_$AO",value:function(t){var e,n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t!==this.isConnected&&(this.isConnected=t,t?null===(e=this.reconnected)||void 0===e||e.call(this):null===(n=this.disconnected)||void 0===n||n.call(this)),r&&(C9(this,t),x9(this))}},{key:"setValue",value:function(t){if(function(t){return void 0===t.strings}(this._$Ct))this._$Ct._$AI(t,this);else{var e=Q(this._$Ct._$AH);e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}},{key:"disconnected",value:function(){}},{key:"reconnected",value:function(){}}]),n}(I9),a4=new WeakMap,o4=0,s4=new Map,l4=new WeakSet,c4=function(){return new Promise((function(t){return requestAnimationFrame(t)}))},u4=[{transform:"translateX(-100%) scale(0)",opacity:0}],d4=[{opacity:0},{opacity:1}],h4=function(t,e){var n=t-e;return 0===n?void 0:n},g4=function(t,e){var n=t/e;return 1===n?void 0:n},f4={left:function(t,e){var n=h4(t,e);return{value:n,transform:n&&"translateX(".concat(n,"px)")}},top:function(t,e){var n=h4(t,e);return{value:n,transform:n&&"translateY(".concat(n,"px)")}},width:function(t,e){var n=g4(t,e);return{value:n,transform:n&&"scaleX(".concat(n,")")}},height:function(t,e){var n=g4(t,e);return{value:n,transform:n&&"scaleY(".concat(n,")")}}},p4={duration:333,easing:"ease-in-out"},v4=["left","top","width","height","opacity","color","background"],m4=new WeakMap,y4=function(t){g(s,t);var e,n,r,i,o=C(s);function s(t){var e;if(c(this,s),(e=o.call(this,t)).t=null,e.i=null,e.o=!0,e.shouldLog=!1,t.type===b9)throw Error("The `animate` directive must be used in attribute position.");return e.createFinished(),I(e)}return d(s,[{key:"createFinished",value:function(){var t,e=this;null===(t=this.resolveFinished)||void 0===t||t.call(this),this.finished=new Promise((function(t){e.h=t}))}},{key:"resolveFinished",value:(i=l(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(e=this.h)||void 0===e||e.call(this),this.h=void 0;case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"render",value:function(t){return c$}},{key:"getController",value:function(){return a4.get(this.l)}},{key:"isDisabled",value:function(){var t;return this.options.disabled||(null===(t=this.getController())||void 0===t?void 0:t.disabled)}},{key:"update",value:function(t,e){var n,r=F(e,1)[0],i=void 0===this.l;return i&&(this.l=null===(n=t.options)||void 0===n?void 0:n.host,this.l.addController(this),this.element=t.element,m4.set(this.element,this)),this.optionsOrCallback=r,(i||"function"!=typeof r)&&this.u(r),this.render(r)}},{key:"u",value:function(t){var e,n;t=null!=t?t:{};var r=this.getController();void 0!==r&&((t=a(a({},r.defaultOptions),t)).keyframeOptions=a(a({},r.defaultOptions.keyframeOptions),t.keyframeOptions)),null!==(e=(n=t).properties)&&void 0!==e||(n.properties=v4),this.options=t}},{key:"v",value:function(){var t={},e=this.element.getBoundingClientRect(),n=getComputedStyle(this.element);return this.options.properties.forEach((function(r){var i,a=null!==(i=e[r])&&void 0!==i?i:f4[r]?void 0:n[r],o=Number(a);t[r]=isNaN(o)?a+"":o})),t}},{key:"p",value:function(){var t,e=!0;return this.options.guard&&(e=function(t,e){if(Array.isArray(t)){if(Array.isArray(e)&&e.length===t.length&&t.every((function(t,n){return t===e[n]})))return!1}else if(e===t)return!1;return!0}(t=this.options.guard(),this.m)),this.o=this.l.hasUpdated&&!this.isDisabled()&&!this.isAnimating()&&e&&this.element.isConnected,this.o&&(this.m=Array.isArray(t)?Array.from(t):t),this.o}},{key:"hostUpdate",value:function(){var t;"function"==typeof this.optionsOrCallback&&this.u(this.optionsOrCallback()),this.p()&&(this.g=this.v(),this.t=null!==(t=this.t)&&void 0!==t?t:this.element.parentNode,this.i=this.element.nextSibling)}},{key:"hostUpdated",value:(r=l(regeneratorRuntime.mark((function t(){var e,n,r,i,o,s,l,c,u,d,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.o&&this.element.isConnected&&(!this.options.skipInitial||this.isHostRendered)){t.next=2;break}return t.abrupt("return");case 2:return this.prepare(),t.next=5,c4;case 5:n=this.A(),r=this._(this.options.keyframeOptions,n),i=this.v(),void 0!==this.g?(o=this.j(this.g,i,n),s=o.from,l=o.to,this.log("measured",[this.g,i,s,l]),e=this.calculateKeyframes(s,l)):(c=s4.get(this.options.inId))?(s4.delete(this.options.inId),u=this.j(c,i,n),d=u.from,h=u.to,e=this.calculateKeyframes(d,h),e=this.options.in?[a(a({},this.options.in[0]),e[0])].concat(Q(this.options.in.slice(1)),[e[1]]):e,o4++,e.forEach((function(t){return t.zIndex=o4}))):this.options.in&&(e=[].concat(Q(this.options.in),[{}])),this.animate(e,r);case 8:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"resetStyles",value:function(){var t;void 0!==this.S&&(this.element.setAttribute("style",null!==(t=this.S)&&void 0!==t?t:""),this.S=void 0)}},{key:"commitStyles",value:function(){var t,e;this.S=this.element.getAttribute("style"),null===(t=this.webAnimation)||void 0===t||t.commitStyles(),null===(e=this.webAnimation)||void 0===e||e.cancel()}},{key:"reconnected",value:function(){}},{key:"disconnected",value:(n=l(regeneratorRuntime.mark((function t(){var e,n,r,i,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.o){t.next=2;break}return t.abrupt("return");case 2:if(void 0!==this.options.id&&s4.set(this.options.id,this.g),void 0!==this.options.out){t.next=4;break}return t.abrupt("return");case 4:return this.prepare(),t.next=7,c4();case 7:if(!(null===(e=this.t)||void 0===e?void 0:e.isConnected)){t.next=10;break}n=this.i&&this.i.parentNode===this.t?this.i:null,this.t.insertBefore(this.element,n),this.options.stabilizeOut&&(r=this.v(),this.log("stabilizing out"),i=this.g.left-r.left,a=this.g.top-r.top,!("static"===getComputedStyle(this.element).position)||0===i&&0===a||(this.element.style.position="relative"),0!==i&&(this.element.style.left=i+"px"),0!==a&&(this.element.style.top=a+"px"));case 10:return o=this._(this.options.keyframeOptions),t.next=13,this.animate(this.options.out,o);case 13:this.element.remove();case 14:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"prepare",value:function(){this.createFinished()}},{key:"start",value:function(){var t,e;null===(e=(t=this.options).onStart)||void 0===e||e.call(t,this)}},{key:"didFinish",value:function(t){var e,n;t&&(null===(n=(e=this.options).onComplete)||void 0===n||n.call(e,this)),this.g=void 0,this.animatingProperties=void 0,this.frames=void 0,this.resolveFinished()}},{key:"A",value:function(){for(var t=[],e=this.element.parentNode;e;e=null==e?void 0:e.parentNode){var n=m4.get(e);n&&!n.isDisabled()&&n&&t.push(n)}return t}},{key:"isHostRendered",get:function(){var t=this,e=l4.has(this.l);return e||this.l.updateComplete.then((function(){l4.add(t.l)})),e}},{key:"_",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.A(),n=a({},p4);return e.forEach((function(t){return Object.assign(n,t.options.keyframeOptions)})),Object.assign(n,t),n}},{key:"j",value:function(t,e,n){t=a({},t),e=a({},e);var r=n.map((function(t){return t.animatingProperties})).filter((function(t){return void 0!==t})),i=1,o=1;return void 0!==r&&(r.forEach((function(t){t.width&&(i/=t.width),t.height&&(o/=t.height)})),void 0!==t.left&&void 0!==e.left&&(t.left=i*t.left,e.left=i*e.left),void 0!==t.top&&void 0!==e.top&&(t.top=o*t.top,e.top=o*e.top)),{from:t,to:e}}},{key:"calculateKeyframes",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i={},a={},o=!1,s={};for(var l in e){var c=t[l],u=e[l];if(l in f4){var d=f4[l];if(void 0===c||void 0===u)continue;var h=d(c,u);void 0!==h.transform&&(s[l]=h.value,o=!0,i.transform="".concat(null!==(n=i.transform)&&void 0!==n?n:""," ").concat(h.transform))}else c!==u&&void 0!==c&&void 0!==u&&(o=!0,i[l]=c,a[l]=u)}return i.transformOrigin=a.transformOrigin=r?"center center":"top left",this.animatingProperties=s,o?[i,a]:void 0}},{key:"animate",value:(e=l(regeneratorRuntime.mark((function t(e){var n,r,i,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:this.options.keyframeOptions,this.start(),this.frames=e,r=!1,this.isAnimating()||this.isDisabled()||(this.options.onFrames&&(this.frames=e=this.options.onFrames(this),this.log("modified frames",e)),void 0===e)){t.next=15;break}return this.log("animate",[e,n]),r=!0,this.webAnimation=this.element.animate(e,n),null==(i=this.getController())||i.add(this),t.prev=7,t.next=10,this.webAnimation.finished;case 10:t.next=14;break;case 12:t.prev=12,t.t0=t.catch(7);case 14:null==i||i.remove(this);case 15:return t.abrupt("return",(this.didFinish(r),r));case 16:case"end":return t.stop()}}),t,this,[[7,12]])}))),function(t){return e.apply(this,arguments)})},{key:"isAnimating",value:function(){var t,e;return"running"===(null===(t=this.webAnimation)||void 0===t?void 0:t.playState)||(null===(e=this.webAnimation)||void 0===e?void 0:e.pending)}},{key:"log",value:function(t,e){this.shouldLog&&!this.isDisabled()&&console.log(t,this.options.id,e)}}]),s}(i4),b4=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return{_$litDirective$:t,values:n}}}(y4),I4=function(){function t(){c(this,t)}return d(t,null,[{key:"xal2v",value:function(t,e,n){return t>=0?Math.pow(t,e):-n*Math.pow(-t,e)}},{key:"xlv2a",value:function(t,e,n){return t>=0?Math.log(n)/Math.log(t):(Math.log(-n)-Math.log(e))/Math.log(-t)}},{key:"xav2l",value:function(t,e,n){return t>=0?1:-n/Math.pow(-t,e)}},{key:"pg2w",value:function(t,e){return Math.pow(t,e)/Math.pow(Math.pow(t,e)+Math.pow(1-t,e),1/e)}}]),t}(),C4=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).numeric=!1,t}return d(n,null,[{key:"properties",get:function(){return{numeric:{attribute:"numeric",type:Boolean,reflect:!0}}}},{key:"styles",get:function(){return[B(f(n),"styles",this),_q(Q9||(Q9=A(["\n        :host {\n          display: block;\n\n          margin: 1rem;\n        }\n\n        /* Containing <div> */\n        .holder {\n          display: flex;\n\n          flex-direction: row;\n\n          justify-content: left;\n        }\n\n        /* Overall <table> */\n        .equation {\n          text-align: center;\n\n          border-collapse: collapse;\n\n          border: 0;\n        }\n\n        /* Modifies <td> */\n        .underline {\n          border-bottom: 1px solid var(---color-text);\n        }\n\n        /* Basic <span> and <var> w/modifiers */\n        span,\n        var {\n          padding: 0 0.25rem;\n\n          font-style: normal;\n        }\n\n        .tight {\n          padding: 0;\n        }\n\n        .paren {\n          font-size: 150%;\n        }\n\n        .bracket {\n          font-size: 175%;\n        }\n\n        .brace {\n          font-size: 200%;\n        }\n\n        .addend {\n          position: relative;\n          display: inline-block;\n        }\n\n        .comparison {\n          position: relative;\n          display: inline-block;\n\n          font-size: 125%;\n          font-weight: 600;\n        }\n\n        .function {\n          display: inline-block;\n        }\n\n        :host([numeric]) .function {\n          padding: 0.25rem;\n        }\n\n        .exp {\n          display: inline-block;\n\n          font-size: 0.75rem;\n        }\n\n        .subscript {\n          display: inline-block;\n\n          font-size: 66.667%;\n        }\n\n        .summation {\n          display: flex;\n\n          flex-direction: column;\n\n          line-height: 0.8;\n        }\n\n        .sigma {\n          display: inline-block;\n\n          font-size: 200%;\n        }\n\n        /* Input wrapping <label> */\n        decidable-spinner {\n          --decidable-spinner-input-width: 4rem;\n\n          display: inline-block;\n\n          padding: 0.125rem 0.375rem 0.375rem;\n\n          line-height: 1.5;\n          vertical-align: middle;\n        }\n\n        .n {\n          --decidable-spinner-input-width: 2rem;\n        }\n\n        .left {\n          text-align: left;\n        }\n\n        .right {\n          text-align: right;\n        }\n\n        .bottom {\n          vertical-align: bottom;\n        }\n\n        .top {\n          vertical-align: top;\n        }\n\n        /* Color scheme */\n        /* .win {\n          background: var(---color-better);\n        }\n\n        .loss {\n          background: var(---color-worse);\n        }\n\n        .sure {\n          background: var(---color-even);\n        } */\n\n        .x {\n          background: var(---color-x-light);\n        }\n\n        .a {\n          background: var(---color-a-light);\n        }\n\n        .l {\n          background: var(---color-l-light);\n        }\n\n        .v {\n          background: var(---color-v-light);\n        }\n\n        .p {\n          background: var(---color-p-light);\n        }\n\n        .g {\n          background: var(---color-g-light);\n        }\n\n        .w {\n          background: var(---color-w-light);\n        }\n\n        .u {\n          background: var(---color-u-light);\n        }\n      "])))]}}]),n}(y9),x4=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).numeric=!1,t.xl=0,t.xw=100,t.pw=.75,t.xs=50,t.a=.8,t.l=1.2,t.g=.8,t.alignState(),t}return d(n,[{key:"alignState",value:function(){this.vw=I4.xal2v(this.xw,this.a,this.l),this.vl=I4.xal2v(this.xl,this.a,this.l),this.ww=I4.pg2w(this.pw,this.g),this.wl=1-this.ww,this.vs=I4.xal2v(this.xs,this.a,this.l),this.ug=this.vw*this.ww+this.vl*this.wl,this.us=this.vs,this.uDiff=this.ug-this.us}},{key:"sendEvent",value:function(){this.dispatchEvent(new CustomEvent("cpt-calculation-change",{detail:{xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,a:this.a,l:this.l,g:this.g},bubbles:!0}))}},{key:"xwInput",value:function(t){this.xw=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"pwInput",value:function(t){this.pw=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"xsInput",value:function(t){this.xs=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"aInput",value:function(t){this.a=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"lInput",value:function(t){this.l=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"gInput",value:function(t){this.g=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"render",value:function(){var t,e,n,r,i,a,o,s,l,c,u,d;this.alignState(),this.numeric?(t=o$(w9||(w9=A(['<decidable-spinner class="x" ?disabled=',' .value="','" @input=','>\n          <var class="math-var">x<sub class="subscript win">win</sub></var>\n        </decidable-spinner>'])),!this.interactive,this.xw,this.xwInput.bind(this)),e=o$(U9||(U9=A(['<decidable-spinner class="x" disabled .value="','">\n          <var class="math-var">x<sub class="subscript loss">loss</sub></var>\n        </decidable-spinner>'])),this.xl),n=o$(G9||(G9=A(['<decidable-spinner class="p" ?disabled=',' min="0" max="1" step=".01" .value="','" @input=','>\n          <var class="math-var">p<sub class="subscript win">win</sub></var>\n        </decidable-spinner>'])),!this.interactive,+this.pw.toFixed(2),this.pwInput.bind(this)),r=o$(R9||(R9=A(['<decidable-spinner class="x" ?disabled=',' .value="','" @input=','>\n          <var class="math-var">x<sub class="subscript sure">sure</sub></var>\n        </decidable-spinner>'])),!this.interactive,this.xs,this.xsInput.bind(this)),i=o$(S9||(S9=A(['<decidable-spinner class="v" disabled .value="','">\n          <var class="math-var">v<sub class="subscript win">win</sub></var>\n        </decidable-spinner>'])),+this.vw.toFixed(1)),a=o$(L9||(L9=A(['<decidable-spinner class="v" disabled .value="','">\n          <var class="math-var">v<sub class="subscript loss">loss</sub></var>\n        </decidable-spinner>'])),+this.vl.toFixed(1)),o=o$(_9||(_9=A(['<decidable-spinner class="w" disabled .value="','">\n          <var class="math-var">w<sub class="subscript win">win</sub></var>\n        </decidable-spinner>'])),+this.ww.toFixed(2)),s=o$(E9||(E9=A(['<decidable-spinner class="w" disabled .value="','">\n          <var class="math-var">w<sub class="subscript loss">loss</sub></var>\n        </decidable-spinner>'])),+this.wl.toFixed(2)),l=o$(k9||(k9=A(['<decidable-spinner class="v" disabled .value="','">\n          <var class="math-var">v<sub class="subscript sure">sure</sub></var>\n        </decidable-spinner>'])),+this.vs.toFixed(1)),c=o$(V9||(V9=A(['<decidable-spinner class="u" disabled .value="','">\n          <var class="math-var">U<sub class="subscript gamble">gamble</sub></var>\n        </decidable-spinner>'])),+this.ug.toFixed(1)),u=o$(Z9||(Z9=A(['<decidable-spinner class="u" disabled .value="','">\n          <var class="math-var">U<sub class="subscript sure">sure</sub></var>\n        </decidable-spinner>'])),+this.us.toFixed(1)),d=o$(N9||(N9=A(["",""])),this.uDiff>0?o$(T9||(T9=A(['<span class="comparison" ',">&gt;</span>"])),b4({in:d4})):this.uDiff<0?o$(X9||(X9=A(['<span class="comparison" ',">&lt;</span>"])),b4({in:d4})):o$(W9||(W9=A(['<span class="comparison" ',">=</span>"])),b4({in:d4})))):(t=o$(M9||(M9=A(['<var class="math-var x">x<sub class="subscript win">win</sub></var>']))),e=o$(H9||(H9=A(['<var class="math-var x">x<sub class="subscript loss">loss</sub></var>']))),n=o$(D9||(D9=A(['<var class="math-var p">p<sub class="subscript win">win</sub></var>']))),r=o$(Y9||(Y9=A(['<var class="math-var x">x<sub class="subscript sure">sure</sub></var>']))),i=o$(O9||(O9=A(['<var class="math-var v">v<sub class="subscript win">win</sub></var>']))),a=o$(z9||(z9=A(['<var class="math-var v">v<sub class="subscript loss">loss</sub></var>']))),o=o$(J9||(J9=A(['<var class="math-var w">w<sub class="subscript win">win</sub></var>']))),s=o$(j9||(j9=A(['<var class="math-var w">w<sub class="subscript loss">loss</sub></var>']))),l=o$(P9||(P9=A(['<var class="math-var v">v<sub class="subscript sure">sure</sub></var>']))),c=o$(K9||(K9=A(['<var class="math-var u">U<sub class="subscript gamble">gamble</sub></var>']))),u=o$(q9||(q9=A(['<var class="math-var u">U<sub class="subscript sure">sure</sub></var>']))),d=o$($9||($9=A(['<span class="comparison">≟</span>']))));var h=o$(t4||(t4=A(['\n      <tr>\n        <td class="right">\n          <span class="function v"><var class="math-var v tight">v</var><span class="paren tight">(</span>','<span class="paren tight">)</span></span>&nbsp;<span class="function w"><var class="math-var w tight">w</var><span class="paren tight">(</span>','<span class="paren tight">)</span></span><span class="plus">+</span><span class="function v"><var class="math-var v tight">v</var><span class="paren tight">(</span>','<span class="paren tight">)</span></span>&nbsp;<span class="bracket tight">[</span><span class="tight">1</span><span class="minus">−</span><span class="function w"><var class="math-var w">w</var><span class="paren tight">(</span>','<span class="paren tight">)</span></span><span class="bracket tight">]</span>\n        </td>\n        <td>\n          ','\n        </td>\n        <td class="left">\n          <span class="function v"><var class="math-var v tight">v</var><span class="paren tight">(</span>','<span class="paren tight">)</span></span>\n        </td>\n      </tr>\n      <tr>\n        <td class="right">\n          ',"&nbsp;",'<span class="plus">+</span>',"&nbsp;","\n        </td>\n        <td>\n          ",'\n        </td>\n        <td class="left">\n          ','\n        </td>\n      </tr>\n      <tr>\n        <td class="right">\n          ',"\n        </td>\n        <td>\n          ",'\n        </td>\n        <td class="left">\n          ',"\n        </td>\n      </tr>"])),t,n,e,n,d,r,i,o,a,s,d,l,c,d,u);return o$(e4||(e4=A(['\n      <div class="holder">\n        <table class="equation">\n          <tbody>\n            ',"\n          </tbody>\n        </table>\n      </div>"])),h)}}],[{key:"properties",get:function(){return{numeric:{attribute:"numeric",type:Boolean,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0}}}},{key:"styles",get:function(){return[B(f(n),"styles",this),_q(n4||(n4=A(["\n        /* :host {\n          display: inline-block;\n        } */\n      "])))]}}]),n}(C4);customElements.define("cpt-calculation",x4);var B4,A4={},F4={version:"2.9.0"};B4={exports:{}},function(t,e,n){e[t]=e[t]||n(),B4.exports&&(B4.exports=e[t])}("Promise",e,(function(){var t,e,n,r=Object.prototype.toString,i="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(t,e,n,r){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:!1!==r})}}catch(e){t=function(t,e,n){return t[e]=n,t}}function a(t,r){n.add(t,r),e||(e=i(n.drain))}function s(t){var e,n=o(t);return null==t||"object"!=n&&"function"!=n||(e=t.then),"function"==typeof e&&e}function l(){for(var t=0;t<this.chain.length;t++)c(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function c(t,e,n){var r,i;try{!1===e?n.reject(t.msg):(r=!0===e?t.msg:e.call(void 0,t.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(i=s(r))?i.call(r,n.resolve,n.reject):n.resolve(r)}catch(t){n.reject(t)}}function u(t){var e,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(e=s(t))?a((function(){var r=new g(n);try{e.call(t,(function(){u.apply(r,arguments)}),(function(){d.apply(r,arguments)}))}catch(t){d.call(r,t)}})):(n.msg=t,n.state=1,n.chain.length>0&&a(l,n))}catch(t){d.call(new g(n),t)}}}function d(t){var e=this;e.triggered||(e.triggered=!0,e.def&&(e=e.def),e.msg=t,e.state=2,e.chain.length>0&&a(l,e))}function h(t,e,n,r){for(var i=0;i<e.length;i++)!function(i){t.resolve(e[i]).then((function(t){n(i,t)}),r)}(i)}function g(t){this.def=t,this.triggered=!1}function f(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function p(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var e=new f(this);this.then=function(t,n){var r={success:"function"!=typeof t||t,failure:"function"==typeof n&&n};return r.promise=new this.constructor((function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");r.resolve=t,r.reject=e})),e.chain.push(r),0!==e.state&&a(l,e),r.promise},this.catch=function(t){return this.then(void 0,t)};try{t.call(void 0,(function(t){u.call(e,t)}),(function(t){d.call(e,t)}))}catch(t){d.call(e,t)}}n=function(){var t,n,r;function i(t,e){this.fn=t,this.self=e,this.next=void 0}return{add:function(e,a){r=new i(e,a),n?n.next=r:t=r,n=r,r=void 0},drain:function(){var r=t;for(t=n=e=void 0;r;)r.fn.call(r.self),r=r.next}}}();var v=t({},"constructor",p,!1);return p.prototype=v,t(v,"__NPO__",0,!1),t(p,"resolve",(function(t){return t&&"object"==o(t)&&1===t.__NPO__?t:new this((function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");e(t)}))})),t(p,"reject",(function(t){return new this((function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");n(t)}))})),t(p,"all",(function(t){var e=this;return"[object Array]"!=r.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e((function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var i=t.length,a=Array(i),o=0;h(e,t,(function(t,e){a[t]=e,++o===i&&n(a)}),r)}))})),t(p,"race",(function(t){var e=this;return"[object Array]"!=r.call(t)?e.reject(TypeError("Not an array")):new e((function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");h(e,t,(function(t,e){n(e)}),r)}))})),p}));var Q4={exports:{}},w4={exports:{}};!function(t){(function(){var e={version:"3.8.0"},n=[].slice,r=function(t){return n.call(t)},i=self.document;function a(t){return t&&(t.ownerDocument||t.document||t).documentElement}function s(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(i)try{r(i.documentElement.childNodes)[0].nodeType}catch(t){r=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),i)try{i.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var l=this.Element.prototype,c=l.setAttribute,u=l.setAttributeNS,d=this.CSSStyleDeclaration.prototype,h=d.setProperty;l.setAttribute=function(t,e){c.call(this,t,e+"")},l.setAttributeNS=function(t,e,n){u.call(this,t,e,n+"")},d.setProperty=function(t,e,n){h.call(this,t,e+"",n)}}function g(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function f(t){return null===t?NaN:+t}function p(t){return!isNaN(t)}function v(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}e.ascending=g,e.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},e.min=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},e.max=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},e.extent=function(t,e){var n,r,i,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=t[a])&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=t[a])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++a<o;)if(null!=(r=e.call(t,t[a],a))&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=e.call(t,t[a],a))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},e.sum=function(t,e){var n,r=0,i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)p(n=+t[a])&&(r+=n);else for(;++a<i;)p(n=+e.call(t,t[a],a))&&(r+=n);return r},e.mean=function(t,e){var n,r=0,i=t.length,a=-1,o=i;if(1===arguments.length)for(;++a<i;)p(n=f(t[a]))?r+=n:--o;else for(;++a<i;)p(n=f(e.call(t,t[a],a)))?r+=n:--o;if(o)return r/o},e.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i},e.median=function(t,n){var r,i=[],a=t.length,o=-1;if(1===arguments.length)for(;++o<a;)p(r=f(t[o]))&&i.push(r);else for(;++o<a;)p(r=f(n.call(t,t[o],o)))&&i.push(r);if(i.length)return e.quantile(i.sort(g),.5)},e.variance=function(t,e){var n,r,i=t.length,a=0,o=0,s=-1,l=0;if(1===arguments.length)for(;++s<i;)p(n=f(t[s]))&&(o+=(r=n-a)*(n-(a+=r/++l)));else for(;++s<i;)p(n=f(e.call(t,t[s],s)))&&(o+=(r=n-a)*(n-(a+=r/++l)));if(l>1)return o/(l-1)},e.deviation=function(){var t=e.variance.apply(this,arguments);return t?Math.sqrt(t):t};var m=v(g);function y(t){return t.length}e.bisectLeft=m.left,e.bisect=e.bisectRight=m.right,e.bisector=function(t){return v(1===t.length?function(e,n){return g(t(e),n)}:t)},e.shuffle=function(t,e,n){(a=arguments.length)<3&&(n=t.length,a<2&&(e=0));for(var r,i,a=n-e;a;)i=Math.random()*a--|0,r=t[a+e],t[a+e]=t[i+e],t[i+e]=r;return t},e.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},e.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},e.transpose=function(t){if(!(a=t.length))return[];for(var n=-1,r=e.min(t,y),i=new Array(r);++n<r;)for(var a,o=-1,s=i[n]=new Array(a);++o<a;)s[o]=t[o][n];return i},e.zip=function(){return e.transpose(arguments)},e.keys=function(t){var e=[];for(var n in t)e.push(n);return e},e.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},e.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},e.merge=function(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--o]=r[e];return n};var b=Math.abs;function I(t){for(var e=1;t*e%1;)e*=10;return e}function C(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function x(){this._=Object.create(null)}e.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,i=[],a=I(b(n)),o=-1;if(t*=a,e*=a,(n*=a)<0)for(;(r=t+n*++o)>e;)i.push(r/a);else for(;(r=t+n*++o)<e;)i.push(r/a);return i},e.map=function(t,e){var n=new x;if(t instanceof x)t.forEach((function(t,e){n.set(t,e)}));else if(Array.isArray(t)){var r,i=-1,a=t.length;if(1===arguments.length)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e.call(t,r=t[i],i),r)}else for(var o in t)n.set(o,t[o]);return n};function B(t){return"__proto__"==(t+="")||"\0"===t[0]?"\0"+t:t}function A(t){return"\0"===(t+="")[0]?t.slice(1):t}function F(t){return B(t)in this._}function Q(t){return(t=B(t))in this._&&delete this._[t]}function w(){var t=[];for(var e in this._)t.push(A(e));return t}function U(){var t=0;for(var e in this._)++t;return t}function G(){for(var t in this._)return!1;return!0}function R(){this._=Object.create(null)}function S(t){return t}function L(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function _(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=E.length;n<r;++n){var i=E[n]+e;if(i in t)return i}}C(x,{has:F,get:function(t){return this._[B(t)]},set:function(t,e){return this._[B(t)]=e},remove:Q,keys:w,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:A(e),value:this._[e]});return t},size:U,empty:G,forEach:function(t){for(var e in this._)t.call(this,A(e),this._[e])}}),e.nest=function(){var t,n,r={},i=[],a=[];function o(e,a,s){if(s>=i.length)return n?n.call(r,a):t?a.sort(t):a;for(var l,c,u,d,h=-1,g=a.length,f=i[s++],p=new x;++h<g;)(d=p.get(l=f(c=a[h])))?d.push(c):p.set(l,[c]);return e?(c=e(),u=function(t,n){c.set(t,o(e,n,s))}):(c={},u=function(t,n){c[t]=o(e,n,s)}),p.forEach(u),c}function s(t,e){if(e>=i.length)return t;var n=[],r=a[e++];return t.forEach((function(t,r){n.push({key:t,values:s(r,e)})})),r?n.sort((function(t,e){return r(t.key,e.key)})):n}return r.map=function(t,e){return o(e,t,0)},r.entries=function(t){return s(o(e.map,t,0),0)},r.key=function(t){return i.push(t),r},r.sortKeys=function(t){return a[i.length-1]=t,r},r.sortValues=function(e){return t=e,r},r.rollup=function(t){return n=t,r},r},e.set=function(t){var e=new R;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},C(R,{has:F,add:function(t){return this._[B(t+="")]=!0,t},remove:Q,values:w,size:U,empty:G,forEach:function(t){for(var e in this._)t.call(this,A(e))}}),e.behavior={},e.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=L(t,e,e[n]);return t};var E=["webkit","ms","moz","Moz","o","O"];function k(){}function V(){}function Z(t){var e=[],n=new x;function r(){for(var n,r=e,i=-1,a=r.length;++i<a;)(n=r[i].on)&&n.apply(this,arguments);return t}return r.on=function(r,i){var a,o=n.get(r);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,a=e.indexOf(o)).concat(e.slice(a+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},r}function N(){e.event.preventDefault()}function T(){for(var t,n=e.event;t=n.sourceEvent;)n=t;return n}function X(t){for(var n=new V,r=0,i=arguments.length;++r<i;)n[arguments[r]]=Z(n);return n.of=function(r,i){return function(a){try{var o=a.sourceEvent=e.event;a.target=t,e.event=a,n[a.type].apply(r,i)}finally{e.event=o}}},n}e.dispatch=function(){for(var t=new V,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=Z(t);return t},V.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},e.event=null,e.requote=function(t){return t.replace(W,"\\$&")};var W=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,M=function(t,e){for(var n in e)t[n]=e[n]};function H(t){return M(t,z),t}var D=function(t,e){return e.querySelector(t)},Y=function(t,e){return e.querySelectorAll(t)},O=function(t,e){var n=t.matches||t[_(t,"matchesSelector")];return O=function(t,e){return n.call(t,e)},O(t,e)};"function"==typeof Sizzle&&(D=function(t,e){return Sizzle(t,e)[0]||null},Y=Sizzle,O=Sizzle.matchesSelector),e.selection=function(){return e.select(i.documentElement)};var z=e.selection.prototype=[];function J(t){return"function"==typeof t?t:function(){return D(t,this)}}function j(t){return"function"==typeof t?t:function(){return Y(t,this)}}z.select=function(t){var e,n,r,i,a=[];t=J(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(r=this[o]).parentNode;for(var l=-1,c=r.length;++l<c;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return H(a)},z.selectAll=function(t){var e,n,i=[];t=j(t);for(var a=-1,o=this.length;++a<o;)for(var s=this[a],l=-1,c=s.length;++l<c;)(n=s[l])&&(i.push(e=r(t.call(n,n.__data__,l,a))),e.parentNode=n);return H(i)};var P="http://www.w3.org/1999/xhtml",K={svg:"http://www.w3.org/2000/svg",xhtml:P,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function q(t,n){return t=e.ns.qualify(t),null==n?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof n?t.local?function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}:function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}:t.local?function(){this.setAttributeNS(t.space,t.local,n)}:function(){this.setAttribute(t,n)}}function $(t){return t.trim().replace(/\s+/g," ")}function tt(t){return new RegExp("(?:^|\\s+)"+e.requote(t)+"(?:\\s+|$)","g")}function et(t){return(t+"").trim().split(/^|\s+/)}function nt(t,e){var n=(t=et(t).map(rt)).length;return"function"==typeof e?function(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function rt(t){var e=tt(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",$(i+" "+t))):n.setAttribute("class",$(i.replace(e," ")))}}function it(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function at(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function ot(t){return"function"==typeof t?t:(t=e.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===P&&e.documentElement.namespaceURI===P?e.createElement(t):e.createElementNS(n,t)}}function st(){var t=this.parentNode;t&&t.removeChild(this)}function lt(t){return{__data__:t}}function ct(t){return function(){return O(this,t)}}function ut(t){return arguments.length||(t=g),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function dt(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,a=t[n],o=0,s=a.length;o<s;o++)(i=a[o])&&e(i,o,n);return t}function ht(t){return M(t,gt),t}e.ns={prefix:K,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),K.hasOwnProperty(n)?{space:K[n],local:t}:t}},z.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var r=this.node();return(t=e.ns.qualify(t)).local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(n in t)this.each(q(n,t[n]));return this}return this.each(q(t,n))},z.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=et(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!tt(t[i]).test(e))return!1;return!0}for(e in t)this.each(nt(e,t[e]));return this}return this.each(nt(t,e))},z.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(it(n,t[n],e));return this}if(r<2){var i=this.node();return s(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(it(t,e,n))},z.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(at(e,t[e]));return this}return this.each(at(t,e))},z.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},z.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},z.append=function(t){return t=ot(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},z.insert=function(t,e){return t=ot(t),e=J(e),this.select((function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)}))},z.remove=function(){return this.each(st)},z.data=function(t,e){var n,r,i=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(n=this[0]).length);++i<a;)(r=n[i])&&(t[i]=r.__data__);return t}function o(t,n){var r,i,a,o=t.length,u=n.length,d=Math.min(o,u),h=new Array(u),g=new Array(u),f=new Array(o);if(e){var p,v=new x,m=new Array(o);for(r=-1;++r<o;)(i=t[r])&&(v.has(p=e.call(i,i.__data__,r))?f[r]=i:v.set(p,i),m[r]=p);for(r=-1;++r<u;)(i=v.get(p=e.call(n,a=n[r],r)))?!0!==i&&(h[r]=i,i.__data__=a):g[r]=lt(a),v.set(p,!0);for(r=-1;++r<o;)r in m&&!0!==v.get(m[r])&&(f[r]=t[r])}else{for(r=-1;++r<d;)i=t[r],a=n[r],i?(i.__data__=a,h[r]=i):g[r]=lt(a);for(;r<u;++r)g[r]=lt(n[r]);for(;r<o;++r)f[r]=t[r]}g.update=h,g.parentNode=h.parentNode=f.parentNode=t.parentNode,s.push(g),l.push(h),c.push(f)}var s=ht([]),l=H([]),c=H([]);if("function"==typeof t)for(;++i<a;)o(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<a;)o(n=this[i],t);return l.enter=function(){return s},l.exit=function(){return c},l},z.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},z.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=ct(t));for(var a=0,o=this.length;a<o;a++){i.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,a)&&e.push(r)}return H(i)},z.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,a=r[i];--i>=0;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},z.sort=function(t){t=ut.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},z.each=function(t){return dt(this,(function(e,n,r){t.call(e,e.__data__,n,r)}))},z.call=function(t){var e=r(arguments);return t.apply(e[0]=this,e),this},z.empty=function(){return!this.node()},z.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}return null},z.size=function(){var t=0;return dt(this,(function(){++t})),t};var gt=[];function ft(t){var e,n;return function(r,i,a){var o,s=t[a].update,l=s.length;for(a!=n&&(n=a,e=0),i>=e&&(e=i+1);!(o=s[e])&&++e<l;);return o}}function pt(t,n,i){var a="__on"+t,o=t.indexOf("."),s=mt;o>0&&(t=t.slice(0,o));var l=vt.get(t);function c(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}return l&&(t=l,s=yt),o?n?function(){var e=s(n,r(arguments));c.call(this),this.addEventListener(t,this[a]=e,e.$=i),e._=n}:c:n?k:function(){var n,r=new RegExp("^__on([^.]+)"+e.requote(t)+"$");for(var i in this)if(n=i.match(r)){var a=this[i];this.removeEventListener(n[1],a,a.$),delete this[i]}}}e.selection.enter=ht,e.selection.enter.prototype=gt,gt.append=z.append,gt.empty=z.empty,gt.node=z.node,gt.call=z.call,gt.size=z.size,gt.select=function(t){for(var e,n,r,i,a,o=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,o.push(e=[]),e.parentNode=i.parentNode;for(var c=-1,u=i.length;++c<u;)(a=i[c])?(e.push(r[c]=n=t.call(i.parentNode,a.__data__,c,s)),n.__data__=a.__data__):e.push(null)}return H(o)},gt.insert=function(t,e){return arguments.length<2&&(e=ft(this)),z.insert.call(this,t,e)},e.select=function(t){var e;return"string"==typeof t?(e=[D(t,i)]).parentNode=i.documentElement:(e=[t]).parentNode=a(t),H([e])},e.selectAll=function(t){var e;return"string"==typeof t?(e=r(Y(t,i))).parentNode=i.documentElement:(e=r(t)).parentNode=null,H([e])},z.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(pt(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(pt(t,e,n))};var vt=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});function mt(t,n){return function(r){var i=e.event;e.event=r,n[0]=this.__data__;try{t.apply(this,n)}finally{e.event=i}}}function yt(t,e){var n=mt(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}i&&vt.forEach((function(t){"on"+t in i&&vt.remove(t)}));var bt,It=0;function Ct(t){var n=".dragsuppress-"+ ++It,r="click"+n,i=e.select(s(t)).on("touchmove"+n,N).on("dragstart"+n,N).on("selectstart"+n,N);if(null==bt&&(bt=!("onselectstart"in t)&&_(t.style,"userSelect")),bt){var o=a(t).style,l=o[bt];o[bt]="none"}return function(t){if(i.on(n,null),bt&&(o[bt]=l),t){var e=function(){i.on(r,null)};i.on(r,(function(){N(),e()}),!0),setTimeout(e,0)}}}e.mouse=function(t){return Bt(t,T())};var xt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Bt(t,n){n.changedTouches&&(n=n.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();if(xt<0){var a=s(t);if(a.scrollX||a.scrollY){var o=(r=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();xt=!(o.f||o.e),r.remove()}}return xt?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var l=t.getBoundingClientRect();return[n.clientX-l.left-t.clientLeft,n.clientY-l.top-t.clientTop]}function At(){return e.event.changedTouches[0].identifier}e.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=T().changedTouches),e)for(var r,i=0,a=e.length;i<a;++i)if((r=e[i]).identifier===n)return Bt(t,r)},e.behavior.drag=function(){var t=X(a,"drag","dragstart","dragend"),n=null,r=o(k,e.mouse,s,"mousemove","mouseup"),i=o(At,e.touch,S,"touchmove","touchend");function a(){this.on("mousedown.drag",r).on("touchstart.drag",i)}function o(r,i,a,o,s){return function(){var l,c=this,u=e.event.target.correspondingElement||e.event.target,d=c.parentNode,h=t.of(c,arguments),g=0,f=r(),p=".drag"+(null==f?"":"-"+f),v=e.select(a(u)).on(o+p,b).on(s+p,I),m=Ct(u),y=i(d,f);function b(){var t,e,n=i(d,f);n&&(t=n[0]-y[0],e=n[1]-y[1],g|=t|e,y=n,h({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:t,dy:e}))}function I(){i(d,f)&&(v.on(o+p,null).on(s+p,null),m(g),h({type:"dragend"}))}l=n?[(l=n.apply(c,arguments)).x-y[0],l.y-y[1]]:[0,0],h({type:"dragstart"})}}return a.origin=function(t){return arguments.length?(n=t,a):n},e.rebind(a,t,"on")},e.touches=function(t,e){return arguments.length<2&&(e=T().touches),e?r(e).map((function(e){var n=Bt(t,e);return n.identifier=e.identifier,n})):[]};var Ft=1e-6,Qt=Math.PI,wt=2*Qt,Ut=wt-Ft,Gt=Qt/2,Rt=Qt/180,St=180/Qt;function Lt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function _t(t){return t>1?Gt:t<-1?-Gt:Math.asin(t)}function Et(t){return((t=Math.exp(t))+1/t)/2}var kt=Math.SQRT2;e.interpolateZoom=function(t,e){var n,r,i=t[0],a=t[1],o=t[2],s=e[0],l=e[1],c=e[2],u=s-i,d=l-a,h=u*u+d*d;if(h<1e-12)r=Math.log(c/o)/kt,n=function(t){return[i+t*u,a+t*d,o*Math.exp(kt*t*r)]};else{var g=Math.sqrt(h),f=(c*c-o*o+4*h)/(2*o*2*g),p=(c*c-o*o-4*h)/(2*c*2*g),v=Math.log(Math.sqrt(f*f+1)-f),m=Math.log(Math.sqrt(p*p+1)-p);r=(m-v)/kt,n=function(t){var e=t*r,n=Et(v),s=o/(2*g)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(kt*e+v)-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[i+s*u,a+s*d,o*n/Et(kt*e+v)]}}return n.duration=1e3*r,n},e.behavior.zoom=function(){var t,n,r,a,o,l,c,u,d,h={x:0,y:0,k:1},g=[960,500],f=Nt,p=250,v=0,m="mousedown.zoom",y="mousemove.zoom",b="mouseup.zoom",I="touchstart.zoom",C=X(x,"zoomstart","zoom","zoomend");function x(t){t.on(m,S).on(Zt+".zoom",_).on("dblclick.zoom",E).on(I,L)}function B(t){return[(t[0]-h.x)/h.k,(t[1]-h.y)/h.k]}function A(t){h.k=Math.max(f[0],Math.min(f[1],t))}function F(t,e){e=function(t){return[t[0]*h.k+h.x,t[1]*h.k+h.y]}(e),h.x+=t[0]-e[0],h.y+=t[1]-e[1]}function Q(t,r,i,a){t.__chart__={x:h.x,y:h.y,k:h.k},A(Math.pow(2,a)),F(n=r,i),t=e.select(t),p>0&&(t=t.transition().duration(p)),t.call(x.event)}function w(){c&&c.domain(l.range().map((function(t){return(t-h.x)/h.k})).map(l.invert)),d&&d.domain(u.range().map((function(t){return(t-h.y)/h.k})).map(u.invert))}function U(t){v++||t({type:"zoomstart"})}function G(t){w(),t({type:"zoom",scale:h.k,translate:[h.x,h.y]})}function R(t){--v||(t({type:"zoomend"}),n=null)}function S(){var t=this,n=C.of(t,arguments),r=0,i=e.select(s(t)).on(y,l).on(b,c),a=B(e.mouse(t)),o=Ct(t);function l(){r=1,F(e.mouse(t),a),G(n)}function c(){i.on(y,null).on(b,null),o(r),R(n)}qi.call(t),U(n)}function L(){var t,n=this,r=C.of(n,arguments),i={},a=0,s=".zoom-"+e.event.changedTouches[0].identifier,l="touchmove"+s,c="touchend"+s,u=[],d=e.select(n),g=Ct(n);function f(){var r=e.touches(n);return t=h.k,r.forEach((function(t){t.identifier in i&&(i[t.identifier]=B(t))})),r}function p(){var t=e.event.target;e.select(t).on(l,v).on(c,y),u.push(t);for(var r=e.event.changedTouches,s=0,d=r.length;s<d;++s)i[r[s].identifier]=null;var g=f(),p=Date.now();if(1===g.length){if(p-o<500){var m=g[0];Q(n,m,i[m.identifier],Math.floor(Math.log(h.k)/Math.LN2)+1),N()}o=p}else if(g.length>1){m=g[0];var b=g[1],I=m[0]-b[0],C=m[1]-b[1];a=I*I+C*C}}function v(){var s,l,c,u,d=e.touches(n);qi.call(n);for(var h=0,g=d.length;h<g;++h,u=null)if(c=d[h],u=i[c.identifier]){if(l)break;s=c,l=u}if(u){var f=(f=c[0]-s[0])*f+(f=c[1]-s[1])*f,p=a&&Math.sqrt(f/a);s=[(s[0]+c[0])/2,(s[1]+c[1])/2],l=[(l[0]+u[0])/2,(l[1]+u[1])/2],A(p*t)}o=null,F(s,l),G(r)}function y(){if(e.event.touches.length){for(var t=e.event.changedTouches,n=0,a=t.length;n<a;++n)delete i[t[n].identifier];for(var o in i)return void f()}e.selectAll(u).on(s,null),d.on(m,S).on(I,L),g(),R(r)}p(),U(r),d.on(m,null).on(I,p)}function _(){var i=C.of(this,arguments);a?clearTimeout(a):(qi.call(this),t=B(n=r||e.mouse(this)),U(i)),a=setTimeout((function(){a=null,R(i)}),50),N(),A(Math.pow(2,.002*Vt())*h.k),F(n,t),G(i)}function E(){var t=e.mouse(this),n=Math.log(h.k)/Math.LN2;Q(this,t,B(t),e.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return Zt||(Zt="onwheel"in i?(Vt=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in i?(Vt=function(){return e.event.wheelDelta},"mousewheel"):(Vt=function(){return-e.event.detail},"MozMousePixelScroll")),x.event=function(t){t.each((function(){var t=C.of(this,arguments),r=h;ea?e.select(this).transition().each("start.zoom",(function(){h=this.__chart__||{x:0,y:0,k:1},U(t)})).tween("zoom:zoom",(function(){var i=g[0],a=g[1],o=n?n[0]:i/2,s=n?n[1]:a/2,l=e.interpolateZoom([(o-h.x)/h.k,(s-h.y)/h.k,i/h.k],[(o-r.x)/r.k,(s-r.y)/r.k,i/r.k]);return function(e){var n=l(e),r=i/n[2];this.__chart__=h={x:o-n[0]*r,y:s-n[1]*r,k:r},G(t)}})).each("interrupt.zoom",(function(){R(t)})).each("end.zoom",(function(){R(t)})):(this.__chart__=h,U(t),G(t),R(t))}))},x.translate=function(t){return arguments.length?(h={x:+t[0],y:+t[1],k:h.k},w(),x):[h.x,h.y]},x.scale=function(t){return arguments.length?(h={x:h.x,y:h.y,k:null},A(+t),w(),x):h.k},x.scaleExtent=function(t){return arguments.length?(f=null==t?Nt:[+t[0],+t[1]],x):f},x.center=function(t){return arguments.length?(r=t&&[+t[0],+t[1]],x):r},x.size=function(t){return arguments.length?(g=t&&[+t[0],+t[1]],x):g},x.duration=function(t){return arguments.length?(p=+t,x):p},x.x=function(t){return arguments.length?(c=t,l=t.copy(),h={x:0,y:0,k:1},x):c},x.y=function(t){return arguments.length?(d=t,u=t.copy(),h={x:0,y:0,k:1},x):d},e.rebind(x,C,"on")};var Vt,Zt,Nt=[0,1/0];function Tt(){}function Xt(t,e,n){return this instanceof Xt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Xt?new Xt(t.h,t.s,t.l):se(""+t,le,Xt):new Xt(t,e,n)}e.color=Tt,Tt.prototype.toString=function(){return this.rgb()+""},e.hsl=Xt;var Wt=Xt.prototype=new Tt;function Mt(t,e,n){var r,i;function a(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new ne(a(t+120),a(t),a(t-120))}function Ht(t,n,r){return this instanceof Ht?(this.h=+t,this.c=+n,void(this.l=+r)):arguments.length<2?t instanceof Ht?new Ht(t.h,t.c,t.l):qt(t instanceof Ot?t.l:(t=ce((t=e.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Ht(t,n,r)}Wt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Xt(this.h,this.s,this.l/t)},Wt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Xt(this.h,this.s,t*this.l)},Wt.rgb=function(){return Mt(this.h,this.s,this.l)},e.hcl=Ht;var Dt=Ht.prototype=new Tt;function Yt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Ot(n,Math.cos(t*=Rt)*e,Math.sin(t)*e)}function Ot(t,e,n){return this instanceof Ot?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Ot?new Ot(t.l,t.a,t.b):t instanceof Ht?Yt(t.h,t.c,t.l):ce((t=ne(t)).r,t.g,t.b):new Ot(t,e,n)}Dt.brighter=function(t){return new Ht(this.h,this.c,Math.min(100,this.l+zt*(arguments.length?t:1)))},Dt.darker=function(t){return new Ht(this.h,this.c,Math.max(0,this.l-zt*(arguments.length?t:1)))},Dt.rgb=function(){return Yt(this.h,this.c,this.l).rgb()},e.lab=Ot;var zt=18,Jt=.95047,jt=1.08883,Pt=Ot.prototype=new Tt;function Kt(t,e,n){var r=(t+16)/116,i=r+e/500,a=r-n/200;return new ne(ee(3.2404542*(i=$t(i)*Jt)-1.5371385*(r=1*$t(r))-.4985314*(a=$t(a)*jt)),ee(-.969266*i+1.8760108*r+.041556*a),ee(.0556434*i-.2040259*r+1.0572252*a))}function qt(t,e,n){return t>0?new Ht(Math.atan2(n,e)*St,Math.sqrt(e*e+n*n),t):new Ht(NaN,NaN,t)}function $t(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function te(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ee(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ne(t,e,n){return this instanceof ne?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof ne?new ne(t.r,t.g,t.b):se(""+t,ne,Mt):new ne(t,e,n)}function re(t){return new ne(t>>16,t>>8&255,255&t)}function ie(t){return re(t)+""}Pt.brighter=function(t){return new Ot(Math.min(100,this.l+zt*(arguments.length?t:1)),this.a,this.b)},Pt.darker=function(t){return new Ot(Math.max(0,this.l-zt*(arguments.length?t:1)),this.a,this.b)},Pt.rgb=function(){return Kt(this.l,this.a,this.b)},e.rgb=ne;var ae=ne.prototype=new Tt;function oe(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function se(t,e,n){var r,i,a,o=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(de(i[0]),de(i[1]),de(i[2]))}return(a=he.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&a)>>4,o|=o>>4,s=240&a,s|=s>>4,l=15&a,l|=l<<4):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),e(o,s,l))}function le(t,e,n){var r,i,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,l=(o+a)/2;return s?(i=l<.5?s/(o+a):s/(2-o-a),r=t==o?(e-n)/s+(e<n?6:0):e==o?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new Xt(r,i,l)}function ce(t,e,n){var r=te((.4124564*(t=ue(t))+.3575761*(e=ue(e))+.1804375*(n=ue(n)))/Jt),i=te((.2126729*t+.7151522*e+.072175*n)/1);return Ot(116*i-16,500*(r-i),200*(i-te((.0193339*t+.119192*e+.9503041*n)/jt)))}function ue(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function de(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}ae.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new ne(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new ne(i,i,i)},ae.darker=function(t){return new ne((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ae.hsl=function(){return le(this.r,this.g,this.b)},ae.toString=function(){return"#"+oe(this.r)+oe(this.g)+oe(this.b)};var he=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ge(t){return"function"==typeof t?t:function(){return t}}function fe(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),pe(e,n,t,r)}}function pe(t,n,i,a){var o={},s=e.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,u=null;function d(){var t,e=c.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(c)||e>=200&&e<300||304===e){try{t=i.call(o,c)}catch(t){return void s.error.call(o,t)}s.load.call(o,t)}else s.error.call(o,c)}return self.XDomainRequest&&!("withCredentials"in c)&&/^(http(s)?:)?\/\//.test(t)&&(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=d:c.onreadystatechange=function(){c.readyState>3&&d()},c.onprogress=function(t){var n=e.event;e.event=t;try{s.progress.call(o,c)}finally{e.event=n}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(n=null==t?null:t+"",o):n},o.responseType=function(t){return arguments.length?(u=t,o):u},o.response=function(t){return i=t,o},["get","post"].forEach((function(t){o[t]=function(){return o.send.apply(o,[t].concat(r(arguments)))}})),o.send=function(e,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),c.open(e,t,!0),null==n||"accept"in l||(l.accept=n+",*/*"),c.setRequestHeader)for(var a in l)c.setRequestHeader(a,l[a]);return null!=n&&c.overrideMimeType&&c.overrideMimeType(n),null!=u&&(c.responseType=u),null!=i&&o.on("error",i).on("load",(function(t){i(null,t)})),s.beforesend.call(o,c),c.send(null==r?null:r),o},o.abort=function(){return c.abort(),o},e.rebind(o,s,"on"),null==a?o:o.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(a))}he.forEach((function(t,e){he.set(t,re(e))})),e.functor=ge,e.xhr=fe(S),e.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(t,n,r){arguments.length<3&&(r=n,n=null);var i=pe(t,e,null==n?a:o(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?a:o(t)):n},i}function a(t){return i.parse(t.responseText)}function o(t){return function(e){return i.parse(e.responseText,t)}}function s(e){return e.map(l).join(t)}function l(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i.parse=function(t,e){var n;return i.parseRows(t,(function(t,r){if(n)return n(t,r-1);var i=function(e){for(var n={},r=t.length,i=0;i<r;++i)n[t[i]]=e[i];return n};n=e?function(t,n){return e(i(t),n)}:i}))},i.parseRows=function(t,e){var n,i,a={},o={},s=[],l=t.length,c=0,u=0;function d(){if(c>=l)return o;if(i)return i=!1,a;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return c=n+2,13===(s=t.charCodeAt(n+1))?(i=!0,10===t.charCodeAt(n+2)&&++c):10===s&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<l;){var s,u=1;if(10===(s=t.charCodeAt(c++)))i=!0;else if(13===s)i=!0,10===t.charCodeAt(c)&&(++c,++u);else if(s!==r)continue;return t.slice(e,c-u)}return t.slice(e)}for(;(n=d())!==o;){for(var h=[];n!==a&&n!==o;)h.push(n),n=d();e&&null==(h=e(h,u++))||s.push(h)}return s},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new R,r=[];return e.forEach((function(t){for(var e in t)n.has(e)||r.push(n.add(e))})),[r.map(l).join(t)].concat(e.map((function(e){return r.map((function(t){return l(e[t])})).join(t)}))).join("\n")},i.formatRows=function(t){return t.map(s).join("\n")},i},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("\t","text/tab-separated-values");var ve,me,ye,be,Ie=this[_(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Ce(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,a={c:t,t:i,n:null};return me?me.n=a:ve=a,me=a,ye||(be=clearTimeout(be),ye=1,Ie(xe)),a}function xe(){var t=Be(),e=Ae()-t;e>24?(isFinite(e)&&(clearTimeout(be),be=setTimeout(xe,e)),ye=0):(ye=1,Ie(xe))}function Be(){for(var t=Date.now(),e=ve;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Ae(){for(var t,e=ve,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:ve=e.n;return me=t,n}function Fe(t){return t[0]}function Qe(t){return t[1]}function we(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&Lt(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Ue(t,e){return t[0]-e[0]||t[1]-e[1]}e.timer=function(){Ce.apply(this,arguments)},e.timer.flush=function(){Be(),Ae()},e.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},e.geom={},e.geom.hull=function(t){var e=Fe,n=Qe;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,i=ge(e),a=ge(n),o=t.length,s=[],l=[];for(r=0;r<o;r++)s.push([+i.call(this,t[r],r),+a.call(this,t[r],r),r]);for(s.sort(Ue),r=0;r<o;r++)l.push([s[r][0],-s[r][1]]);var c=we(s),u=we(l),d=u[0]===c[0],h=u[u.length-1]===c[c.length-1],g=[];for(r=c.length-1;r>=0;--r)g.push(t[s[c[r]][2]]);for(r=+d;r<u.length-h;++r)g.push(t[s[u[r]][2]]);return g}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},e.geom.polygon=function(t){return M(t,Ge),t};var Ge=e.geom.polygon.prototype=[];function Re(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Se(t,e,n,r){var i=t[0],a=n[0],o=e[0]-i,s=r[0]-a,l=t[1],c=n[1],u=e[1]-l,d=r[1]-c,h=(s*(l-c)-d*(i-a))/(d*o-s*u);return[i+h*o,l+h*u]}function Le(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}Ge.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},Ge.centroid=function(t){var e,n,r=-1,i=this.length,a=0,o=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},Ge.clip=function(t){for(var e,n,r,i,a,o,s=Le(t),l=-1,c=this.length-Le(this),u=this[c-1];++l<c;){for(e=t.slice(),t.length=0,i=this[l],a=e[(r=e.length-s)-1],n=-1;++n<r;)Re(o=e[n],u,i)?(Re(a,u,i)||t.push(Se(a,o,u,i)),t.push(o)):Re(a,u,i)&&t.push(Se(a,o,u,i)),a=o;s&&t.push(t[0]),u=i}return t};var _e,Ee,ke,Ve,Ze,Ne=[],Te=[];function Xe(){on(this),this.edge=this.site=this.circle=null}function We(t){var e=Ne.pop()||new Xe;return e.site=t,e}function Me(t){Ke(t),ke.remove(t),Ne.push(t),on(t)}function He(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},a=t.P,o=t.N,s=[t];Me(t);for(var l=a;l.circle&&b(n-l.circle.x)<Ft&&b(r-l.circle.cy)<Ft;)a=l.P,s.unshift(l),Me(l),l=a;s.unshift(l),Ke(l);for(var c=o;c.circle&&b(n-c.circle.x)<Ft&&b(r-c.circle.cy)<Ft;)o=c.N,s.push(c),Me(c),c=o;s.push(c),Ke(c);var u,d=s.length;for(u=1;u<d;++u)c=s[u],l=s[u-1],nn(c.edge,l.site,c.site,i);l=s[0],(c=s[d-1]).edge=tn(l.site,c.site,null,i),Pe(l),Pe(c)}function De(t){for(var e,n,r,i,a=t.x,o=t.y,s=ke._;s;)if((r=Ye(s,o)-a)>Ft)s=s.L;else{if(!((i=a-Oe(s,o))>Ft)){r>-Ft?(e=s.P,n=s):i>-Ft?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=We(t);if(ke.insert(e,l),e||n){if(e===n)return Ke(e),n=We(e.site),ke.insert(l,n),l.edge=n.edge=tn(e.site,l.site),Pe(e),void Pe(n);if(n){Ke(e),Ke(n);var c=e.site,u=c.x,d=c.y,h=t.x-u,g=t.y-d,f=n.site,p=f.x-u,v=f.y-d,m=2*(h*v-g*p),y=h*h+g*g,b=p*p+v*v,I={x:(v*y-g*b)/m+u,y:(h*b-p*y)/m+d};nn(n.edge,c,f,I),l.edge=tn(c,t,null,I),n.edge=tn(t,f,null,I),Pe(e),Pe(n)}else l.edge=tn(e.site,l.site)}}function Ye(t,e){var n=t.site,r=n.x,i=n.y,a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;var s=(n=o.site).x,l=n.y,c=l-e;if(!c)return s;var u=s-r,d=1/a-1/c,h=u/c;return d?(-h+Math.sqrt(h*h-2*d*(u*u/(-2*c)-l+c/2+i-a/2)))/d+r:(r+s)/2}function Oe(t,e){var n=t.N;if(n)return Ye(n,e);var r=t.site;return r.y===e?r.x:1/0}function ze(t){this.site=t,this.edges=[]}function Je(t,e){return e.angle-t.angle}function je(){on(this),this.x=this.y=this.arc=this.site=this.cy=null}function Pe(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i.x,s=i.y,l=r.x-o,c=r.y-s,u=a.x-o,d=2*(l*(v=a.y-s)-c*u);if(!(d>=-1e-12)){var h=l*l+c*c,g=u*u+v*v,f=(v*h-c*g)/d,p=(l*g-u*h)/d,v=p+s,m=Te.pop()||new je;m.arc=t,m.site=i,m.x=f+o,m.y=v+Math.sqrt(f*f+p*p),m.cy=v,t.circle=m;for(var y=null,b=Ze._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Ze.insert(y,m),y||(Ve=m)}}}}function Ke(t){var e=t.circle;e&&(e.P||(Ve=e.N),Ze.remove(e),Te.push(e),on(e),t.circle=null)}function qe(t,e){var n=t.b;if(n)return!0;var r,i,a=t.a,o=e[0][0],s=e[1][0],l=e[0][1],c=e[1][1],u=t.l,d=t.r,h=u.x,g=u.y,f=d.x,p=d.y,v=(h+f)/2,m=(g+p)/2;if(p===g){if(v<o||v>=s)return;if(h>f){if(a){if(a.y>=c)return}else a={x:v,y:l};n={x:v,y:c}}else{if(a){if(a.y<l)return}else a={x:v,y:c};n={x:v,y:l}}}else if(i=m-(r=(h-f)/(p-g))*v,r<-1||r>1)if(h>f){if(a){if(a.y>=c)return}else a={x:(l-i)/r,y:l};n={x:(c-i)/r,y:c}}else{if(a){if(a.y<l)return}else a={x:(c-i)/r,y:c};n={x:(l-i)/r,y:l}}else if(g<p){if(a){if(a.x>=s)return}else a={x:o,y:r*o+i};n={x:s,y:r*s+i}}else{if(a){if(a.x<o)return}else a={x:s,y:r*s+i};n={x:o,y:r*o+i}}return t.a=a,t.b=n,!0}function $e(t,e){this.l=t,this.r=e,this.a=this.b=null}function tn(t,e,n,r){var i=new $e(t,e);return _e.push(i),n&&nn(i,t,e,n),r&&nn(i,e,t,r),Ee[t.i].edges.push(new rn(i,t,e)),Ee[e.i].edges.push(new rn(i,e,t)),i}function en(t,e,n){var r=new $e(t,null);return r.a=e,r.b=n,_e.push(r),r}function nn(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function rn(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function an(){this._=null}function on(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function sn(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ln(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function cn(t){for(;t.L;)t=t.L;return t}function un(t,e){var n,r,i,a=t.sort(dn).pop();for(_e=[],Ee=new Array(t.length),ke=new an,Ze=new an;;)if(i=Ve,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))a.x===n&&a.y===r||(Ee[a.i]=new ze(a),De(a),n=a.x,r=a.y),a=t.pop();else{if(!i)break;He(i.arc)}e&&(function(t){for(var e,n,r,i,a,o=_e,s=(n=t[0][0],r=t[0][1],i=t[1][0],a=t[1][1],function(t){var e,o=t.a,s=t.b,l=o.x,c=o.y,u=0,d=1,h=s.x-l,g=s.y-c;if(e=n-l,h||!(e>0)){if(e/=h,h<0){if(e<u)return;e<d&&(d=e)}else if(h>0){if(e>d)return;e>u&&(u=e)}if(e=i-l,h||!(e<0)){if(e/=h,h<0){if(e>d)return;e>u&&(u=e)}else if(h>0){if(e<u)return;e<d&&(d=e)}if(e=r-c,g||!(e>0)){if(e/=g,g<0){if(e<u)return;e<d&&(d=e)}else if(g>0){if(e>d)return;e>u&&(u=e)}if(e=a-c,g||!(e<0)){if(e/=g,g<0){if(e>d)return;e>u&&(u=e)}else if(g>0){if(e<u)return;e<d&&(d=e)}return u>0&&(t.a={x:l+u*h,y:c+u*g}),d<1&&(t.b={x:l+d*h,y:c+d*g}),t}}}}}),l=o.length;l--;)(!qe(e=o[l],t)||!s(e)||b(e.a.x-e.b.x)<Ft&&b(e.a.y-e.b.y)<Ft)&&(e.a=e.b=null,o.splice(l,1))}(e),function(t){for(var e,n,r,i,a,o,s,l,c,u,d=t[0][0],h=t[1][0],g=t[0][1],f=t[1][1],p=Ee,v=p.length;v--;)if((a=p[v])&&a.prepare())for(l=(s=a.edges).length,o=0;o<l;)r=(u=s[o].end()).x,i=u.y,e=(c=s[++o%l].start()).x,n=c.y,(b(r-e)>Ft||b(i-n)>Ft)&&(s.splice(o,0,new rn(en(a.site,u,b(r-d)<Ft&&f-i>Ft?{x:d,y:b(e-d)<Ft?n:f}:b(i-f)<Ft&&h-r>Ft?{x:b(n-f)<Ft?e:h,y:f}:b(r-h)<Ft&&i-g>Ft?{x:h,y:b(e-h)<Ft?n:g}:b(i-g)<Ft&&r-d>Ft?{x:b(n-g)<Ft?e:d,y:g}:null),a.site,null)),++l)}(e));var o={cells:Ee,edges:_e};return ke=Ze=_e=Ee=null,o}function dn(t,e){return e.y-t.y||e.x-t.x}ze.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Je),e.length},rn.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},an.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=cn(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(sn(this,n),n=(t=n).U),n.C=!1,r.C=!0,ln(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ln(this,n),n=(t=n).U),n.C=!1,r.C=!0,sn(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?cn(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,sn(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ln(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,sn(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,ln(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,sn(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ln(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},e.geom.voronoi=function(t){var e=Fe,n=Qe,r=e,i=n,a=hn;if(t)return o(t);function o(t){var e=new Array(t.length),n=a[0][0],r=a[0][1],i=a[1][0],o=a[1][1];return un(s(t),a).cells.forEach((function(a,s){var l=a.edges,c=a.site,u=e[s]=l.length?l.map((function(t){var e=t.start();return[e.x,e.y]})):c.x>=n&&c.x<=i&&c.y>=r&&c.y<=o?[[n,o],[i,o],[i,r],[n,r]]:[];u.point=t[s]})),e}function s(t){return t.map((function(t,e){return{x:Math.round(r(t,e)/Ft)*Ft,y:Math.round(i(t,e)/Ft)*Ft,i:e}}))}return o.links=function(t){return un(s(t)).edges.filter((function(t){return t.l&&t.r})).map((function(e){return{source:t[e.l.i],target:t[e.r.i]}}))},o.triangles=function(t){var e=[];return un(s(t)).cells.forEach((function(n,r){for(var i,a=n.site,o=n.edges.sort(Je),s=-1,l=o.length,c=o[l-1].edge,u=c.l===a?c.r:c.l;++s<l;)i=u,u=(c=o[s].edge).l===a?c.r:c.l,r<i.i&&r<u.i&&gn(a,i,u)<0&&e.push([t[r],t[i.i],t[u.i]])})),e},o.x=function(t){return arguments.length?(r=ge(e=t),o):e},o.y=function(t){return arguments.length?(i=ge(n=t),o):n},o.clipExtent=function(t){return arguments.length?(a=null==t?hn:t,o):a===hn?null:a},o.size=function(t){return arguments.length?o.clipExtent(t&&[[0,0],t]):a===hn?null:a&&a[1]},o};var hn=[[-1e6,-1e6],[1e6,1e6]];function gn(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function fn(t){return t.x}function pn(t){return t.y}function vn(t,e,n,r,i,a){if(!t(e,n,r,i,a)){var o=.5*(n+i),s=.5*(r+a),l=e.nodes;l[0]&&vn(t,l[0],n,r,o,s),l[1]&&vn(t,l[1],o,r,i,s),l[2]&&vn(t,l[2],n,s,o,a),l[3]&&vn(t,l[3],o,s,i,a)}}function mn(t,e,n,r,i,a,o){var s,l=1/0;return function t(c,u,d,h,g){if(!(u>a||d>o||h<r||g<i)){if(f=c.point){var f,p=e-c.x,v=n-c.y,m=p*p+v*v;if(m<l){var y=Math.sqrt(l=m);r=e-y,i=n-y,a=e+y,o=n+y,s=f}}for(var b=c.nodes,I=.5*(u+h),C=.5*(d+g),x=(n>=C)<<1|e>=I,B=x+4;x<B;++x)if(c=b[3&x])switch(3&x){case 0:t(c,u,d,I,C);break;case 1:t(c,I,d,h,C);break;case 2:t(c,u,C,I,g);break;case 3:t(c,I,C,h,g)}}}(t,r,i,a,o),s}function yn(t,n){t=e.rgb(t),n=e.rgb(n);var r=t.r,i=t.g,a=t.b,o=n.r-r,s=n.g-i,l=n.b-a;return function(t){return"#"+oe(Math.round(r+o*t))+oe(Math.round(i+s*t))+oe(Math.round(a+l*t))}}function bn(t,e){var n,r={},i={};for(n in t)n in e?r[n]=An(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function In(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Cn(t,e){var n,r,i,a=xn.lastIndex=Bn.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=xn.exec(t))&&(r=Bn.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:In(n,r)})),a=Bn.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}e.geom.delaunay=function(t){return e.geom.voronoi().triangles(t)},e.geom.quadtree=function(t,e,n,r,i){var a,o=Fe,s=Qe;if(a=arguments.length)return o=fn,s=pn,3===a&&(i=n,r=e,n=e=0),l(t);function l(t){var l,c,u,d,h,g,f,p,v,m=ge(o),y=ge(s);if(null!=e)g=e,f=n,p=r,v=i;else if(p=v=-(g=f=1/0),c=[],u=[],h=t.length,a)for(d=0;d<h;++d)(l=t[d]).x<g&&(g=l.x),l.y<f&&(f=l.y),l.x>p&&(p=l.x),l.y>v&&(v=l.y),c.push(l.x),u.push(l.y);else for(d=0;d<h;++d){var I=+m(l=t[d],d),C=+y(l,d);I<g&&(g=I),C<f&&(f=C),I>p&&(p=I),C>v&&(v=C),c.push(I),u.push(C)}var x=p-g,B=v-f;function A(t,e,n,r,i,a,o,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(b(l-n)+b(c-r)<.01)F(t,e,n,r,i,a,o,s);else{var u=t.point;t.x=t.y=t.point=null,F(t,u,l,c,i,a,o,s),F(t,e,n,r,i,a,o,s)}else t.x=n,t.y=r,t.point=e}else F(t,e,n,r,i,a,o,s)}function F(t,e,n,r,i,a,o,s){var l=.5*(i+o),c=.5*(a+s),u=n>=l,d=r>=c,h=d<<1|u;t.leaf=!1,u?i=l:o=l,d?a=c:s=c,A(t=t.nodes[h]||(t.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,r,i,a,o,s)}x>B?v=f+x:p=g+B;var Q={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){A(Q,t,+m(t,++d),+y(t,d),g,f,p,v)},visit:function(t){vn(t,Q,g,f,p,v)},find:function(t){return mn(Q,t[0],t[1],g,f,p,v)}};if(d=-1,null==e){for(;++d<h;)A(Q,t[d],c[d],u[d],g,f,p,v);--d}else t.forEach(Q.add);return c=u=t=l=null,Q}return l.x=function(t){return arguments.length?(o=t,l):o},l.y=function(t){return arguments.length?(s=t,l):s},l.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),l):null==e?null:[[e,n],[r,i]]},l.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),l):null==e?null:[r-e,i-n]},l},e.interpolateRgb=yn,e.interpolateObject=bn,e.interpolateNumber=In,e.interpolateString=Cn;var xn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bn=new RegExp(xn.source,"g");function An(t,n){for(var r,i=e.interpolators.length;--i>=0&&!(r=e.interpolators[i](t,n)););return r}function Fn(t,e){var n,r=[],i=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(An(t[n],e[n]));for(;n<a;++n)i[n]=t[n];for(;n<o;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}e.interpolate=An,e.interpolators=[function(t,e){var n=o(e);return("string"===n?he.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?yn:Cn:e instanceof Tt?yn:Array.isArray(e)?Fn:"object"===n&&isNaN(e)?bn:In)(t,e)}],e.interpolateArray=Fn;var Qn=function(){return S},wn=e.map({linear:Qn,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return Ln},cubic:function(){return _n},sin:function(){return kn},exp:function(){return Vn},circle:function(){return Zn},elastic:function(t,e){var n;arguments.length<2&&(e=.45);arguments.length?n=e/wt*Math.asin(1/t):(t=1,n=e/4);return function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*wt/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return Nn}}),Un=e.map({in:S,out:Rn,"in-out":Sn,"out-in":function(t){return Sn(Rn(t))}});function Gn(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function Rn(t){return function(e){return 1-t(1-e)}}function Sn(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Ln(t){return t*t}function _n(t){return t*t*t}function En(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function kn(t){return 1-Math.cos(t*Gt)}function Vn(t){return Math.pow(2,10*(t-1))}function Zn(t){return 1-Math.sqrt(1-t*t)}function Nn(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Tn(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Xn(t){var e=[t.a,t.b],n=[t.c,t.d],r=Mn(e),i=Wn(e,n),a=Mn(function(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*St,this.translate=[t.e,t.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*St:0}function Wn(t,e){return t[0]*e[0]+t[1]*e[1]}function Mn(t){var e=Math.sqrt(Wn(t,t));return e&&(t[0]/=e,t[1]/=e),e}e.ease=function(t){var e=t.indexOf("-"),r=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return r=wn.get(r)||Qn,Gn((i=Un.get(i)||S)(r.apply(null,n.call(arguments,1))))},e.interpolateHcl=function(t,n){t=e.hcl(t),n=e.hcl(n);var r=t.h,i=t.c,a=t.l,o=n.h-r,s=n.c-i,l=n.l-a;isNaN(s)&&(s=0,i=isNaN(i)?n.c:i);isNaN(o)?(o=0,r=isNaN(r)?n.h:r):o>180?o-=360:o<-180&&(o+=360);return function(t){return Yt(r+o*t,i+s*t,a+l*t)+""}},e.interpolateHsl=function(t,n){t=e.hsl(t),n=e.hsl(n);var r=t.h,i=t.s,a=t.l,o=n.h-r,s=n.s-i,l=n.l-a;isNaN(s)&&(s=0,i=isNaN(i)?n.s:i);isNaN(o)?(o=0,r=isNaN(r)?n.h:r):o>180?o-=360:o<-180&&(o+=360);return function(t){return Mt(r+o*t,i+s*t,a+l*t)+""}},e.interpolateLab=function(t,n){t=e.lab(t),n=e.lab(n);var r=t.l,i=t.a,a=t.b,o=n.l-r,s=n.a-i,l=n.b-a;return function(t){return Kt(r+o*t,i+s*t,a+l*t)+""}},e.interpolateRound=Tn,e.transform=function(t){var n=i.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new Xn(e?e.matrix:Hn)})(t)},Xn.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Hn={a:1,b:0,c:0,d:1,e:0,f:0};function Dn(t){return t.length?t.pop()+",":""}function Yn(t,n){var r=[],i=[];return t=e.transform(t),n=e.transform(n),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:In(t[0],e[0])},{i:i-2,x:In(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,n.translate,r,i),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(Dn(n)+"rotate(",null,")")-2,x:In(t,e)})):e&&n.push(Dn(n)+"rotate("+e+")")}(t.rotate,n.rotate,r,i),function(t,e,n,r){t!==e?r.push({i:n.push(Dn(n)+"skewX(",null,")")-2,x:In(t,e)}):e&&n.push(Dn(n)+"skewX("+e+")")}(t.skew,n.skew,r,i),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(Dn(n)+"scale(",null,",",null,")");r.push({i:i-4,x:In(t[0],e[0])},{i:i-2,x:In(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Dn(n)+"scale("+e+")")}(t.scale,n.scale,r,i),t=n=null,function(t){for(var e,n=-1,a=i.length;++n<a;)r[(e=i[n]).i]=e.x(t);return r.join("")}}function On(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function zn(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Jn(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;var n=jn(t),r=jn(e),i=n.pop(),a=r.pop(),o=null;for(;i===a;)o=i,i=n.pop(),a=r.pop();return o}(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function jn(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Pn(t){t.fixed|=2}function Kn(t){t.fixed&=-7}function qn(t){t.fixed|=4,t.px=t.x,t.py=t.y}function $n(t){t.fixed&=-5}function tr(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,s=o.length,l=-1;++l<s;)null!=(a=o[l])&&(tr(a,e,n),t.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,i+=c*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}e.interpolateTransform=Yn,e.layout={},e.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Jn(t[n]));return e}},e.layout.chord=function(){var t,n,r,i,a,o,s,l={},c=0;function u(){var l,u,h,g,f,p={},v=[],m=e.range(i),y=[];for(t=[],n=[],l=0,g=-1;++g<i;){for(u=0,f=-1;++f<i;)u+=r[g][f];v.push(u),y.push(e.range(i)),l+=u}for(a&&m.sort((function(t,e){return a(v[t],v[e])})),o&&y.forEach((function(t,e){t.sort((function(t,n){return o(r[e][t],r[e][n])}))})),l=(wt-c*i)/l,u=0,g=-1;++g<i;){for(h=u,f=-1;++f<i;){var b=m[g],I=y[b][f],C=r[b][I],x=u,B=u+=C*l;p[b+"-"+I]={index:b,subindex:I,startAngle:x,endAngle:B,value:C}}n[b]={index:b,startAngle:h,endAngle:u,value:v[b]},u+=c}for(g=-1;++g<i;)for(f=g-1;++f<i;){var A=p[g+"-"+f],F=p[f+"-"+g];(A.value||F.value)&&t.push(A.value<F.value?{source:F,target:A}:{source:A,target:F})}s&&d()}function d(){t.sort((function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)}))}return l.matrix=function(e){return arguments.length?(i=(r=e)&&r.length,t=n=null,l):r},l.padding=function(e){return arguments.length?(c=e,t=n=null,l):c},l.sortGroups=function(e){return arguments.length?(a=e,t=n=null,l):a},l.sortSubgroups=function(e){return arguments.length?(o=e,t=null,l):o},l.sortChords=function(e){return arguments.length?(s=e,t&&d(),l):s},l.chords=function(){return t||u(),t},l.groups=function(){return n||u(),n},l},e.layout.force=function(){var t,n,r,i,a,o,s={},l=e.dispatch("start","tick","end"),c=[1,1],u=.9,d=er,h=nr,g=-30,f=rr,p=.1,v=.64,m=[],y=[];function b(t){return function(e,n,r,i){if(e.point!==t){var a=e.cx-t.x,o=e.cy-t.y,s=i-n,l=a*a+o*o;if(s*s/v<l){if(l<f){var c=e.charge/l;t.px-=a*c,t.py-=o*c}return!0}if(e.point&&l&&l<f){c=e.pointCharge/l;t.px-=a*c,t.py-=o*c}}return!e.charge}}function I(t){t.px=e.event.x,t.py=e.event.y,s.resume()}return s.tick=function(){if((r*=.99)<.005)return t=null,l.end({type:"end",alpha:r=0}),!0;var n,s,d,h,f,v,I,C,x,B=m.length,A=y.length;for(s=0;s<A;++s)h=(d=y[s]).source,(v=(C=(f=d.target).x-h.x)*C+(x=f.y-h.y)*x)&&(C*=v=r*a[s]*((v=Math.sqrt(v))-i[s])/v,x*=v,f.x-=C*(I=h.weight+f.weight?h.weight/(h.weight+f.weight):.5),f.y-=x*I,h.x+=C*(I=1-I),h.y+=x*I);if((I=r*p)&&(C=c[0]/2,x=c[1]/2,s=-1,I))for(;++s<B;)(d=m[s]).x+=(C-d.x)*I,d.y+=(x-d.y)*I;if(g)for(tr(n=e.geom.quadtree(m),r,o),s=-1;++s<B;)(d=m[s]).fixed||n.visit(b(d));for(s=-1;++s<B;)(d=m[s]).fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*u,d.y-=(d.py-(d.py=d.y))*u);l.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(m=t,s):m},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(c=t,s):c},s.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.friction=function(t){return arguments.length?(u=+t,s):u},s.charge=function(t){return arguments.length?(g="function"==typeof t?t:+t,s):g},s.chargeDistance=function(t){return arguments.length?(f=t*t,s):Math.sqrt(f)},s.gravity=function(t){return arguments.length?(p=+t,s):p},s.theta=function(t){return arguments.length?(v=t*t,s):Math.sqrt(v)},s.alpha=function(e){return arguments.length?(e=+e,r?e>0?r=e:(t.c=null,t.t=NaN,t=null,l.end({type:"end",alpha:r=0})):e>0&&(l.start({type:"start",alpha:r=e}),t=Ce(s.tick)),s):r},s.start=function(){var t,e,n,r=m.length,l=y.length,u=c[0],f=c[1];for(t=0;t<r;++t)(n=m[t]).index=t,n.weight=0;for(t=0;t<l;++t)"number"==typeof(n=y[t]).source&&(n.source=m[n.source]),"number"==typeof n.target&&(n.target=m[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<r;++t)n=m[t],isNaN(n.x)&&(n.x=p("x",u)),isNaN(n.y)&&(n.y=p("y",f)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"==typeof d)for(t=0;t<l;++t)i[t]=+d.call(this,y[t],t);else for(t=0;t<l;++t)i[t]=d;if(a=[],"function"==typeof h)for(t=0;t<l;++t)a[t]=+h.call(this,y[t],t);else for(t=0;t<l;++t)a[t]=h;if(o=[],"function"==typeof g)for(t=0;t<r;++t)o[t]=+g.call(this,m[t],t);else for(t=0;t<r;++t)o[t]=g;function p(n,i){if(!e){for(e=new Array(r),c=0;c<r;++c)e[c]=[];for(c=0;c<l;++c){var a=y[c];e[a.source.index].push(a.target),e[a.target.index].push(a.source)}}for(var o,s=e[t],c=-1,u=s.length;++c<u;)if(!isNaN(o=s[c][n]))return o;return Math.random()*i}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(n||(n=e.behavior.drag().origin(S).on("dragstart.force",Pn).on("drag.force",I).on("dragend.force",Kn)),!arguments.length)return n;this.on("mouseover.force",qn).on("mouseout.force",$n).call(n)},e.rebind(s,l,"on")};var er=20,nr=1,rr=1/0;function ir(t,n){return e.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=ur,t}function ar(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function or(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(a=t.children)&&(i=a.length))for(var i,a,o=-1;++o<i;)n.push(a[o]);for(;null!=(t=r.pop());)e(t)}function sr(t){return t.children}function lr(t){return t.value}function cr(t,e){return e.value-t.value}function ur(t){return e.merge(t.map((function(t){return(t.children||[]).map((function(e){return{source:t,target:e}}))})))}e.layout.hierarchy=function(){var t=cr,e=sr,n=lr;function r(i){var a,o=[i],s=[];for(i.depth=0;null!=(a=o.pop());)if(s.push(a),(c=e.call(r,a,a.depth))&&(l=c.length)){for(var l,c,u;--l>=0;)o.push(u=c[l]),u.parent=a,u.depth=a.depth+1;n&&(a.value=0),a.children=c}else n&&(a.value=+n.call(r,a,a.depth)||0),delete a.children;return or(i,(function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)})),s}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(ar(t,(function(t){t.children&&(t.value=0)})),or(t,(function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)}))),t},r},e.layout.partition=function(){var t=e.layout.hierarchy(),n=[1,1];function r(t,e,n,i){var a=t.children;if(t.x=e,t.y=t.depth*i,t.dx=n,t.dy=i,a&&(o=a.length)){var o,s,l,c=-1;for(n=t.value?n/t.value:0;++c<o;)r(s=a[c],e,l=s.value*n,i),e+=l}}function i(t){var e=t.children,n=0;if(e&&(r=e.length))for(var r,a=-1;++a<r;)n=Math.max(n,i(e[a]));return 1+n}function a(e,a){var o=t.call(this,e,a);return r(o[0],0,n[0],n[1]/i(o[0])),o}return a.size=function(t){return arguments.length?(n=t,a):n},ir(a,t)},e.layout.pie=function(){var t=Number,n=dr,r=0,i=wt,a=0;function o(s){var l,c=s.length,u=s.map((function(e,n){return+t.call(o,e,n)})),d=+("function"==typeof r?r.apply(this,arguments):r),h=("function"==typeof i?i.apply(this,arguments):i)-d,g=Math.min(Math.abs(h)/c,+("function"==typeof a?a.apply(this,arguments):a)),f=g*(h<0?-1:1),p=e.sum(u),v=p?(h-c*f)/p:0,m=e.range(c),y=[];return null!=n&&m.sort(n===dr?function(t,e){return u[e]-u[t]}:function(t,e){return n(s[t],s[e])}),m.forEach((function(t){y[t]={data:s[t],value:l=u[t],startAngle:d,endAngle:d+=l*v+f,padAngle:g}})),y}return o.value=function(e){return arguments.length?(t=e,o):t},o.sort=function(t){return arguments.length?(n=t,o):n},o.startAngle=function(t){return arguments.length?(r=t,o):r},o.endAngle=function(t){return arguments.length?(i=t,o):i},o.padAngle=function(t){return arguments.length?(a=t,o):a},o};var dr={};function hr(t){return t.x}function gr(t){return t.y}function fr(t,e,n){t.y0=e,t.y=n}e.layout.stack=function(){var t=S,n=mr,r=yr,i=fr,a=hr,o=gr;function s(l,c){if(!(g=l.length))return l;var u=l.map((function(e,n){return t.call(s,e,n)})),d=u.map((function(t){return t.map((function(t,e){return[a.call(s,t,e),o.call(s,t,e)]}))})),h=n.call(s,d,c);u=e.permute(u,h),d=e.permute(d,h);var g,f,p,v,m=r.call(s,d,c),y=u[0].length;for(p=0;p<y;++p)for(i.call(s,u[0][p],v=m[p],d[0][p][1]),f=1;f<g;++f)i.call(s,u[f][p],v+=d[f-1][p][1],d[f][p][1]);return l}return s.values=function(e){return arguments.length?(t=e,s):t},s.order=function(t){return arguments.length?(n="function"==typeof t?t:pr.get(t)||mr,s):n},s.offset=function(t){return arguments.length?(r="function"==typeof t?t:vr.get(t)||yr,s):r},s.x=function(t){return arguments.length?(a=t,s):a},s.y=function(t){return arguments.length?(o=t,s):o},s.out=function(t){return arguments.length?(i=t,s):i},s};var pr=e.map({"inside-out":function(t){var n,r,i=t.length,a=t.map(br),o=t.map(Ir),s=e.range(i).sort((function(t,e){return a[t]-a[e]})),l=0,c=0,u=[],d=[];for(n=0;n<i;++n)r=s[n],l<c?(l+=o[r],u.push(r)):(c+=o[r],d.push(r));return d.reverse().concat(u)},reverse:function(t){return e.range(t.length).reverse()},default:mr}),vr=e.map({silhouette:function(t){var e,n,r,i=t.length,a=t[0].length,o=[],s=0,l=[];for(n=0;n<a;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),o.push(r)}for(n=0;n<a;++n)l[n]=(s-o[n])/2;return l},wiggle:function(t){var e,n,r,i,a,o,s,l,c,u=t.length,d=t[0],h=d.length,g=[];for(g[0]=l=c=0,n=1;n<h;++n){for(e=0,i=0;e<u;++e)i+=t[e][n][1];for(e=0,a=0,s=d[n][0]-d[n-1][0];e<u;++e){for(r=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)o+=(t[r][n][1]-t[r][n-1][1])/s;a+=o*t[e][n][1]}g[n]=l-=i?a/i*s:0,l<c&&(c=l)}for(n=0;n<h;++n)g[n]-=c;return g},expand:function(t){var e,n,r,i=t.length,a=t[0].length,o=1/i,s=[];for(n=0;n<a;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:yr});function mr(t){return e.range(t.length)}function yr(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function br(t){for(var e,n=1,r=0,i=t[0][1],a=t.length;n<a;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function Ir(t){return t.reduce(Cr,0)}function Cr(t,e){return t+e[1]}function xr(t,e){return Br(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Br(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,a=[];++n<=e;)a[n]=i*n+r;return a}function Ar(t){return[e.min(t),e.max(t)]}function Fr(t,e){return t.value-e.value}function Qr(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function wr(t,e){t._pack_next=e,e._pack_prev=t}function Ur(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function Gr(t){if((e=t.children)&&(l=e.length)){var e,n,r,i,a,o,s,l,c=1/0,u=-1/0,d=1/0,h=-1/0;if(e.forEach(Rr),(n=e[0]).x=-n.r,n.y=0,b(n),l>1&&((r=e[1]).x=r.r,r.y=0,b(r),l>2))for(_r(n,r,i=e[2]),b(i),Qr(n,i),n._pack_prev=i,Qr(i,r),r=n._pack_next,a=3;a<l;a++){_r(n,r,i=e[a]);var g=0,f=1,p=1;for(o=r._pack_next;o!==r;o=o._pack_next,f++)if(Ur(o,i)){g=1;break}if(1==g)for(s=n._pack_prev;s!==o._pack_prev&&!Ur(s,i);s=s._pack_prev,p++);g?(f<p||f==p&&r.r<n.r?wr(n,r=o):wr(n=s,r),a--):(Qr(n,i),r=i,b(i))}var v=(c+u)/2,m=(d+h)/2,y=0;for(a=0;a<l;a++)(i=e[a]).x-=v,i.y-=m,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=y,e.forEach(Sr)}function b(t){c=Math.min(t.x-t.r,c),u=Math.max(t.x+t.r,u),d=Math.min(t.y-t.r,d),h=Math.max(t.y+t.r,h)}}function Rr(t){t._pack_next=t._pack_prev=t}function Sr(t){delete t._pack_next,delete t._pack_prev}function Lr(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var a=-1,o=i.length;++a<o;)Lr(i[a],e,n,r)}function _r(t,e,n){var r=t.r+n.r,i=e.x-t.x,a=e.y-t.y;if(r&&(i||a)){var o=e.r+n.r,s=i*i+a*a,l=.5+((r*=r)-(o*=o))/(2*s),c=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=t.x+l*i+c*a,n.y=t.y+l*a-c*i}else n.x=t.x+r,n.y=t.y}function Er(t,e){return t.parent==e.parent?1:2}function kr(t){var e=t.children;return e.length?e[0]:t.t}function Vr(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Zr(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Nr(t,e,n){return t.a.parent===e.parent?t.a:n}function Tr(t){var e=t.children;return e&&e.length?Tr(e[0]):t}function Xr(t){var e,n=t.children;return n&&(e=n.length)?Xr(n[e-1]):t}function Wr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Mr(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function Hr(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Dr(t){return t.rangeExtent?t.rangeExtent():Hr(t.range())}function Yr(t,e,n,r){var i=n(t[0],t[1]),a=r(e[0],e[1]);return function(t){return a(i(t))}}function Or(t,e){var n,r=0,i=t.length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}function zr(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Jr}e.layout.histogram=function(){var t=!0,n=Number,r=Ar,i=xr;function a(a,o){for(var s,l,c=[],u=a.map(n,this),d=r.call(this,u,o),h=i.call(this,d,u,o),g=(o=-1,u.length),f=h.length-1,p=t?1:1/g;++o<f;)(s=c[o]=[]).dx=h[o+1]-(s.x=h[o]),s.y=0;if(f>0)for(o=-1;++o<g;)(l=u[o])>=d[0]&&l<=d[1]&&((s=c[e.bisect(h,l,1,f)-1]).y+=p,s.push(a[o]));return c}return a.value=function(t){return arguments.length?(n=t,a):n},a.range=function(t){return arguments.length?(r=ge(t),a):r},a.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return Br(e,t)}:ge(t),a):i},a.frequency=function(e){return arguments.length?(t=!!e,a):t},a},e.layout.pack=function(){var t,n=e.layout.hierarchy().sort(Fr),r=0,i=[1,1];function a(e,a){var o=n.call(this,e,a),s=o[0],l=i[0],c=i[1],u=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,or(s,(function(t){t.r=+u(t.value)})),or(s,Gr),r){var d=r*(t?1:Math.max(2*s.r/l,2*s.r/c))/2;or(s,(function(t){t.r+=d})),or(s,Gr),or(s,(function(t){t.r-=d}))}return Lr(s,l/2,c/2,t?1:1/Math.max(2*s.r/l,2*s.r/c)),o}return a.size=function(t){return arguments.length?(i=t,a):i},a.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,a):t},a.padding=function(t){return arguments.length?(r=+t,a):r},ir(a,n)},e.layout.tree=function(){var t=e.layout.hierarchy().sort(null).value(null),n=Er,r=[1,1],i=null;function a(e,a){var c=t.call(this,e,a),u=c[0],d=function(t){var e,n={A:null,children:[t]},r=[n];for(;null!=(e=r.pop());)for(var i,a=e.children,o=0,s=a.length;o<s;++o)r.push((a[o]=i={_:a[o],parent:e,children:(i=a[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}(u);if(or(d,o),d.parent.m=-d.z,ar(d,s),i)ar(u,l);else{var h=u,g=u,f=u;ar(u,(function(t){t.x<h.x&&(h=t),t.x>g.x&&(g=t),t.depth>f.depth&&(f=t)}));var p=n(h,g)/2-h.x,v=r[0]/(g.x+n(g,h)/2+p),m=r[1]/(f.depth||1);ar(u,(function(t){t.x=(t.x+p)*v,t.y=t.depth*m}))}return c}function o(t){var e=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(e.length){!function(t){var e,n=0,r=0,i=t.children,a=i.length;for(;--a>=0;)(e=i[a]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+n(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+n(t._,i._));t.parent.A=function(t,e,r){if(e){for(var i,a=t,o=t,s=e,l=a.parent.children[0],c=a.m,u=o.m,d=s.m,h=l.m;s=Vr(s),a=kr(a),s&&a;)l=kr(l),(o=Vr(o)).a=t,(i=s.z+d-a.z-c+n(s._,a._))>0&&(Zr(Nr(s,t,r),t,i),c+=i,u+=i),d+=s.m,c+=a.m,h+=l.m,u+=o.m;s&&!Vr(o)&&(o.t=s,o.m+=d-u),a&&!kr(l)&&(l.t=a,l.m+=c-h,r=t)}return r}(t,i,t.parent.A||r[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=r[0],t.y=t.depth*r[1]}return a.separation=function(t){return arguments.length?(n=t,a):n},a.size=function(t){return arguments.length?(i=null==(r=t)?l:null,a):i?null:r},a.nodeSize=function(t){return arguments.length?(i=null==(r=t)?null:l,a):i?r:null},ir(a,t)},e.layout.cluster=function(){var t=e.layout.hierarchy().sort(null).value(null),n=Er,r=[1,1],i=!1;function a(a,o){var s,l=t.call(this,a,o),c=l[0],u=0;or(c,(function(t){var r=t.children;r&&r.length?(t.x=function(t){return t.reduce((function(t,e){return t+e.x}),0)/t.length}(r),t.y=function(t){return 1+e.max(t,(function(t){return t.y}))}(r)):(t.x=s?u+=n(t,s):0,t.y=0,s=t)}));var d=Tr(c),h=Xr(c),g=d.x-n(d,h)/2,f=h.x+n(h,d)/2;return or(c,i?function(t){t.x=(t.x-c.x)*r[0],t.y=(c.y-t.y)*r[1]}:function(t){t.x=(t.x-g)/(f-g)*r[0],t.y=(1-(c.y?t.y/c.y:1))*r[1]}),l}return a.separation=function(t){return arguments.length?(n=t,a):n},a.size=function(t){return arguments.length?(i=null==(r=t),a):i?null:r},a.nodeSize=function(t){return arguments.length?(i=null!=(r=t),a):i?r:null},ir(a,t)},e.layout.treemap=function(){var t,n=e.layout.hierarchy(),r=Math.round,i=[1,1],a=null,s=Wr,l=!1,c="squarify",u=.5*(1+Math.sqrt(5));function d(t,e){for(var n,r,i=-1,a=t.length;++i<a;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function h(t){var e=t.children;if(e&&e.length){var n,r,i,a=s(t),o=[],l=e.slice(),u=1/0,g="slice"===c?a.dx:"dice"===c?a.dy:"slice-dice"===c?1&t.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(d(l,a.dx*a.dy/t.value),o.area=0;(i=l.length)>0;)o.push(n=l[i-1]),o.area+=n.area,"squarify"!==c||(r=f(o,g))<=u?(l.pop(),u=r):(o.area-=o.pop().area,p(o,g,a,!1),g=Math.min(a.dx,a.dy),o.length=o.area=0,u=1/0);o.length&&(p(o,g,a,!0),o.length=o.area=0),e.forEach(h)}}function g(t){var e=t.children;if(e&&e.length){var n,r=s(t),i=e.slice(),a=[];for(d(i,r.dx*r.dy/t.value),a.area=0;n=i.pop();)a.push(n),a.area+=n.area,null!=n.z&&(p(a,n.z?r.dx:r.dy,r,!i.length),a.length=a.area=0);e.forEach(g)}}function f(t,e){for(var n,r=t.area,i=0,a=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(n<a&&(a=n),n>i&&(i=n));return e*=e,(r*=r)?Math.max(e*i*u/r,r/(e*a*u)):1/0}function p(t,e,n,i){var a,o=-1,s=t.length,l=n.x,c=n.y,u=e?r(t.area/e):0;if(e==n.dx){for((i||u>n.dy)&&(u=n.dy);++o<s;)(a=t[o]).x=l,a.y=c,a.dy=u,l+=a.dx=Math.min(n.x+n.dx-l,u?r(a.area/u):0);a.z=!0,a.dx+=n.x+n.dx-l,n.y+=u,n.dy-=u}else{for((i||u>n.dx)&&(u=n.dx);++o<s;)(a=t[o]).x=l,a.y=c,a.dx=u,c+=a.dy=Math.min(n.y+n.dy-c,u?r(a.area/u):0);a.z=!1,a.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function v(e){var r=t||n(e),a=r[0];return a.x=a.y=0,a.value?(a.dx=i[0],a.dy=i[1]):a.dx=a.dy=0,t&&n.revalue(a),d([a],a.dx*a.dy/a.value),(t?g:h)(a),l&&(t=r),r}return v.size=function(t){return arguments.length?(i=t,v):i},v.padding=function(t){if(!arguments.length)return a;function e(e){var n=t.call(v,e,e.depth);return null==n?Wr(e):Mr(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Mr(e,t)}var r;return s=null==(a=t)?Wr:"function"===(r=o(t))?e:"number"===r?(t=[t,t,t,t],n):n,v},v.round=function(t){return arguments.length?(r=t?Math.round:Number,v):r!=Number},v.sticky=function(e){return arguments.length?(l=e,t=null,v):l},v.ratio=function(t){return arguments.length?(u=t,v):u},v.mode=function(t){return arguments.length?(c=t+"",v):c},ir(v,n)},e.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=e.random.normal.apply(e,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=e.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},e.scale={};var Jr={floor:S,ceil:S};function jr(t,n,r,i){var a=[],o=[],s=0,l=Math.min(t.length,n.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<=l;)a.push(r(t[s-1],t[s])),o.push(i(n[s-1],n[s]));return function(n){var r=e.bisect(t,n,1,l)-1;return o[r](a[r](n))}}function Pr(t,e,n,r){var i,a;function o(){var o=Math.min(t.length,e.length)>2?jr:Yr,l=r?zn:On;return i=o(t,e,l,n),a=o(e,t,l,An),s}function s(t){return i(t)}return s.invert=function(t){return a(t)},s.domain=function(e){return arguments.length?(t=e.map(Number),o()):t},s.range=function(t){return arguments.length?(e=t,o()):e},s.rangeRound=function(t){return s.range(t).interpolate(Tn)},s.clamp=function(t){return arguments.length?(r=t,o()):r},s.interpolate=function(t){return arguments.length?(n=t,o()):n},s.ticks=function(e){return ti(t,e)},s.tickFormat=function(e,n){return d3_scale_linearTickFormat(t,e,n)},s.nice=function(e){return qr(t,e),o()},s.copy=function(){return Pr(t,e,n,r)},o()}function Kr(t,n){return e.rebind(t,n,"range","rangeRound","interpolate","clamp")}function qr(t,e){return Or(t,zr($r(t,e)[2])),Or(t,zr($r(t,e)[2])),t}function $r(t,e){null==e&&(e=10);var n=Hr(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=e/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function ti(t,n){return e.range.apply(e,$r(t,n))}function ei(t,e,n,r){function i(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function a(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function o(e){return t(i(e))}return o.invert=function(e){return a(t.invert(e))},o.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),o):r},o.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),o):e},o.nice=function(){var e=Or(r.map(i),n?Math:ni);return t.domain(e),r=e.map(a),o},o.ticks=function(){var t=Hr(r),o=[],s=t[0],l=t[1],c=Math.floor(i(s)),u=Math.ceil(i(l)),d=e%1?2:e;if(isFinite(u-c)){if(n){for(;c<u;c++)for(var h=1;h<d;h++)o.push(a(c)*h);o.push(a(c))}else for(o.push(a(c));c++<u;)for(h=d-1;h>0;h--)o.push(a(c)*h);for(c=0;o[c]<s;c++);for(u=o.length;o[u-1]>l;u--);o=o.slice(c,u)}return o},o.copy=function(){return ei(t.copy(),e,n,r)},Kr(o,t)}e.scale.linear=function(){return Pr([0,1],[0,1],An,!1)},e.scale.log=function(){return ei(e.scale.linear().domain([0,1]),10,!0,[1,10])};var ni={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function ri(t,e,n){var r=ii(e),i=ii(1/e);function a(e){return t(r(e))}return a.invert=function(e){return i(t.invert(e))},a.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),a):n},a.ticks=function(t){return ti(n,t)},a.tickFormat=function(t,e){return d3_scale_linearTickFormat(n,t,e)},a.nice=function(t){return a.domain(qr(n,t))},a.exponent=function(o){return arguments.length?(r=ii(e=o),i=ii(1/e),t.domain(n.map(r)),a):e},a.copy=function(){return ri(t.copy(),e,n)},Kr(a,t)}function ii(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ai(t,n){var r,i,a;function o(e){return i[((r.get(e)||("range"===n.t?r.set(e,t.push(e)):NaN))-1)%i.length]}function s(n,r){return e.range(t.length).map((function(t){return n+r*t}))}return o.domain=function(e){if(!arguments.length)return t;t=[],r=new x;for(var i,a=-1,s=e.length;++a<s;)r.has(i=e[a])||r.set(i,t.push(i));return o[n.t].apply(o,n.a)},o.range=function(t){return arguments.length?(i=t,a=0,n={t:"range",a:arguments},o):i},o.rangePoints=function(e,r){arguments.length<2&&(r=0);var l=e[0],c=e[1],u=t.length<2?(l=(l+c)/2,0):(c-l)/(t.length-1+r);return i=s(l+u*r/2,u),a=0,n={t:"rangePoints",a:arguments},o},o.rangeRoundPoints=function(e,r){arguments.length<2&&(r=0);var l=e[0],c=e[1],u=t.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(t.length-1+r)|0;return i=s(l+Math.round(u*r/2+(c-l-(t.length-1+r)*u)/2),u),a=0,n={t:"rangeRoundPoints",a:arguments},o},o.rangeBands=function(e,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var c=e[1]<e[0],u=e[c-0],d=e[1-c],h=(d-u)/(t.length-r+2*l);return i=s(u+h*l,h),c&&i.reverse(),a=h*(1-r),n={t:"rangeBands",a:arguments},o},o.rangeRoundBands=function(e,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var c=e[1]<e[0],u=e[c-0],d=e[1-c],h=Math.floor((d-u)/(t.length-r+2*l));return i=s(u+Math.round((d-u-(t.length-r)*h)/2),h),c&&i.reverse(),a=Math.round(h*(1-r)),n={t:"rangeRoundBands",a:arguments},o},o.rangeBand=function(){return a},o.rangeExtent=function(){return Hr(n.a[0])},o.copy=function(){return ai(t,n)},o.domain(t)}e.scale.pow=function(){return ri(e.scale.linear(),1,[0,1])},e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return ai([],{t:"range",a:[[]]})},e.scale.category10=function(){return e.scale.ordinal().range(oi)},e.scale.category20=function(){return e.scale.ordinal().range(si)},e.scale.category20b=function(){return e.scale.ordinal().range(li)},e.scale.category20c=function(){return e.scale.ordinal().range(ci)};var oi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ie),si=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ie),li=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ie),ci=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ie);function ui(t,n){var r;function i(){var i=0,o=n.length;for(r=[];++i<o;)r[i-1]=e.quantile(t,i/o);return a}function a(t){if(!isNaN(t=+t))return n[e.bisect(r,t)]}return a.domain=function(e){return arguments.length?(t=e.map(f).filter(p).sort(g),i()):t},a.range=function(t){return arguments.length?(n=t,i()):n},a.quantiles=function(){return r},a.invertExtent=function(e){return(e=n.indexOf(e))<0?[NaN,NaN]:[e>0?r[e-1]:t[0],e<r.length?r[e]:t[t.length-1]]},a.copy=function(){return ui(t,n)},i()}function di(t,e,n){var r,i;function a(e){return n[Math.max(0,Math.min(i,Math.floor(r*(e-t))))]}function o(){return r=n.length/(e-t),i=n.length-1,a}return a.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],o()):[t,e]},a.range=function(t){return arguments.length?(n=t,o()):n},a.invertExtent=function(e){return[e=(e=n.indexOf(e))<0?NaN:e/r+t,e+1/r]},a.copy=function(){return di(t,e,n)},o()}function hi(t,n){function r(r){if(r<=r)return n[e.bisect(t,r)]}return r.domain=function(e){return arguments.length?(t=e,r):t},r.range=function(t){return arguments.length?(n=t,r):n},r.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]},r.copy=function(){return hi(t,n)},r}function gi(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return ti(t,e)},e.tickFormat=function(e,n){return d3_scale_linearTickFormat(t,e,n)},e.copy=function(){return gi(t)},e}function fi(){return 0}e.scale.quantile=function(){return ui([],[])},e.scale.quantize=function(){return di(0,1,[0,1])},e.scale.threshold=function(){return hi([.5],[0,1])},e.scale.identity=function(){return gi([0,1])},e.svg={},e.svg.arc=function(){var t=vi,e=mi,n=fi,r=pi,i=yi,a=bi,o=Ii;function s(){var s=Math.max(0,+t.apply(this,arguments)),c=Math.max(0,+e.apply(this,arguments)),u=i.apply(this,arguments)-Gt,d=a.apply(this,arguments)-Gt,h=Math.abs(d-u),g=u>d?0:1;if(c<s&&(f=c,c=s,s=f),h>=Ut)return l(c,g)+(s?l(s,1-g):"")+"Z";var f,p,v,m,y,b,I,C,x,B,A,F,Q=0,w=0,U=[];if((m=(+o.apply(this,arguments)||0)/2)&&(v=r===pi?Math.sqrt(s*s+c*c):+r.apply(this,arguments),g||(w*=-1),c&&(w=_t(v/c*Math.sin(m))),s&&(Q=_t(v/s*Math.sin(m)))),c){y=c*Math.cos(u+w),b=c*Math.sin(u+w),I=c*Math.cos(d-w),C=c*Math.sin(d-w);var G=Math.abs(d-u-2*w)<=Qt?0:1;if(w&&Ci(y,b,I,C)===g^G){var R=(u+d)/2;y=c*Math.cos(R),b=c*Math.sin(R),I=C=null}}else y=b=0;if(s){x=s*Math.cos(d-Q),B=s*Math.sin(d-Q),A=s*Math.cos(u+Q),F=s*Math.sin(u+Q);var S=Math.abs(u-d+2*Q)<=Qt?0:1;if(Q&&Ci(x,B,A,F)===1-g^S){var L=(u+d)/2;x=s*Math.cos(L),B=s*Math.sin(L),A=F=null}}else x=B=0;if(h>Ft&&(f=Math.min(Math.abs(c-s)/2,+n.apply(this,arguments)))>.001){p=s<c^g?0:1;var _=f,E=f;if(h<Qt){var k=null==A?[x,B]:null==I?[y,b]:Se([y,b],[A,F],[I,C],[x,B]),V=y-k[0],Z=b-k[1],N=I-k[0],T=C-k[1],X=1/Math.sin(Math.acos((V*N+Z*T)/(Math.sqrt(V*V+Z*Z)*Math.sqrt(N*N+T*T)))/2),W=Math.sqrt(k[0]*k[0]+k[1]*k[1]);E=Math.min(f,(s-W)/(X-1)),_=Math.min(f,(c-W)/(X+1))}if(null!=I){var M=xi(null==A?[x,B]:[A,F],[y,b],c,_,g),H=xi([I,C],[x,B],c,_,g);f===_?U.push("M",M[0],"A",_,",",_," 0 0,",p," ",M[1],"A",c,",",c," 0 ",1-g^Ci(M[1][0],M[1][1],H[1][0],H[1][1]),",",g," ",H[1],"A",_,",",_," 0 0,",p," ",H[0]):U.push("M",M[0],"A",_,",",_," 0 1,",p," ",H[0])}else U.push("M",y,",",b);if(null!=A){var D=xi([y,b],[A,F],s,-E,g),Y=xi([x,B],null==I?[y,b]:[I,C],s,-E,g);f===E?U.push("L",Y[0],"A",E,",",E," 0 0,",p," ",Y[1],"A",s,",",s," 0 ",g^Ci(Y[1][0],Y[1][1],D[1][0],D[1][1]),",",1-g," ",D[1],"A",E,",",E," 0 0,",p," ",D[0]):U.push("L",Y[0],"A",E,",",E," 0 0,",p," ",D[0])}else U.push("L",x,",",B)}else U.push("M",y,",",b),null!=I&&U.push("A",c,",",c," 0 ",G,",",g," ",I,",",C),U.push("L",x,",",B),null!=A&&U.push("A",s,",",s," 0 ",S,",",1-g," ",A,",",F);return U.push("Z"),U.join("")}function l(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return s.innerRadius=function(e){return arguments.length?(t=ge(e),s):t},s.outerRadius=function(t){return arguments.length?(e=ge(t),s):e},s.cornerRadius=function(t){return arguments.length?(n=ge(t),s):n},s.padRadius=function(t){return arguments.length?(r=t==pi?pi:ge(t),s):r},s.startAngle=function(t){return arguments.length?(i=ge(t),s):i},s.endAngle=function(t){return arguments.length?(a=ge(t),s):a},s.padAngle=function(t){return arguments.length?(o=ge(t),s):o},s.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Gt;return[Math.cos(r)*n,Math.sin(r)*n]},s};var pi="auto";function vi(t){return t.innerRadius}function mi(t){return t.outerRadius}function yi(t){return t.startAngle}function bi(t){return t.endAngle}function Ii(t){return t&&t.padAngle}function Ci(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function xi(t,e,n,r,i){var a=t[0]-e[0],o=t[1]-e[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),l=s*o,c=-s*a,u=t[0]+l,d=t[1]+c,h=e[0]+l,g=e[1]+c,f=(u+h)/2,p=(d+g)/2,v=h-u,m=g-d,y=v*v+m*m,b=n-r,I=u*g-h*d,C=(m<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-I*I)),x=(I*m-v*C)/y,B=(-I*v-m*C)/y,A=(I*m+v*C)/y,F=(-I*v+m*C)/y,Q=x-f,w=B-p,U=A-f,G=F-p;return Q*Q+w*w>U*U+G*G&&(x=A,B=F),[[x-l,B-c],[x*n/b,B*n/b]]}function Bi(){return!0}function Ai(t){var e=Fe,n=Qe,r=Bi,i=Qi,a=i.key,o=.7;function s(a){var s,l=[],c=[],u=-1,d=a.length,h=ge(e),g=ge(n);function f(){l.push("M",i(t(c),o))}for(;++u<d;)r.call(this,s=a[u],u)?c.push([+h.call(this,s,u),+g.call(this,s,u)]):c.length&&(f(),c=[]);return c.length&&f(),l.length?l.join(""):null}return s.x=function(t){return arguments.length?(e=t,s):e},s.y=function(t){return arguments.length?(n=t,s):n},s.defined=function(t){return arguments.length?(r=t,s):r},s.interpolate=function(t){return arguments.length?(a="function"==typeof t?i=t:(i=Fi.get(t)||Qi).key,s):a},s.tension=function(t){return arguments.length?(o=t,s):o},s}e.svg.line=function(){return Ai(S)};var Fi=e.map({linear:Qi,"linear-closed":wi,step:function(t){var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];for(;++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);n>1&&i.push("H",r[0]);return i.join("")},"step-before":Ui,"step-after":Gi,basis:Li,"basis-open":function(t){if(t.length<4)return Qi(t);var e,n=[],r=-1,i=t.length,a=[0],o=[0];for(;++r<3;)e=t[r],a.push(e[0]),o.push(e[1]);n.push(_i(Vi,a)+","+_i(Vi,o)),--r;for(;++r<i;)e=t[r],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),Zi(n,a,o);return n.join("")},"basis-closed":function(t){var e,n,r=-1,i=t.length,a=i+4,o=[],s=[];for(;++r<4;)n=t[r%i],o.push(n[0]),s.push(n[1]);e=[_i(Vi,o),",",_i(Vi,s)],--r;for(;++r<a;)n=t[r%i],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Zi(e,o,s);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,a=t[0][0],o=t[0][1],s=t[n][0]-a,l=t[n][1]-o,c=-1;++c<=n;)r=t[c],i=c/n,r[0]=e*r[0]+(1-e)*(a+i*s),r[1]=e*r[1]+(1-e)*(o+i*l);return Li(t)},cardinal:function(t,e){return t.length<3?Qi(t):t[0]+Ri(t,Si(t,e))},"cardinal-open":function(t,e){return t.length<4?Qi(t):t[1]+Ri(t.slice(1,-1),Si(t,e))},"cardinal-closed":function(t,e){return t.length<3?wi(t):t[0]+Ri((t.push(t[0]),t),Si([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Qi(t):t[0]+Ri(t,function(t){var e,n,r,i,a=[],o=function(t){var e=0,n=t.length-1,r=[],i=t[0],a=t[1],o=r[0]=Ni(i,a);for(;++e<n;)r[e]=(o+(o=Ni(i=a,a=t[e+1])))/2;return r[e]=o,r}(t),s=-1,l=t.length-1;for(;++s<l;)e=Ni(t[s],t[s+1]),b(e)<Ft?o[s]=o[s+1]=0:(i=(n=o[s]/e)*n+(r=o[s+1]/e)*r)>9&&(i=3*e/Math.sqrt(i),o[s]=i*n,o[s+1]=i*r);s=-1;for(;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([i||0,o[s]*i||0]);return a}(t))}});function Qi(t){return t.length>1?t.join("L"):t+"Z"}function wi(t){return t.join("L")+"Z"}function Ui(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function Gi(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function Ri(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Qi(t);var n=t.length!=e.length,r="",i=t[0],a=t[1],o=e[0],s=o,l=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=t[1],l=2),e.length>1){s=e[1],a=t[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var c=2;c<e.length;c++,l++)a=t[l],s=e[c],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var u=t[l];r+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+u[0]+","+u[1]}return r}function Si(t,e){for(var n,r=[],i=(1-e)/2,a=t[0],o=t[1],s=1,l=t.length;++s<l;)n=a,a=o,o=t[s],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function Li(t){if(t.length<3)return Qi(t);var e=1,n=t.length,r=t[0],i=r[0],a=r[1],o=[i,i,i,(r=t[1])[0]],s=[a,a,a,r[1]],l=[i,",",a,"L",_i(Vi,o),",",_i(Vi,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),Zi(l,o,s);return t.pop(),l.push("L",r),l.join("")}function _i(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}Fi.forEach((function(t,e){e.key=t,e.closed=/-closed$/.test(t)}));var Ei=[0,2/3,1/3,0],ki=[0,1/3,2/3,0],Vi=[0,1/6,2/3,1/6];function Zi(t,e,n){t.push("C",_i(Ei,e),",",_i(Ei,n),",",_i(ki,e),",",_i(ki,n),",",_i(Vi,e),",",_i(Vi,n))}function Ni(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Ti(t){for(var e,n,r,i=-1,a=t.length;++i<a;)n=(e=t[i])[0],r=e[1]-Gt,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Xi(t){var e=Fe,n=Fe,r=0,i=Qe,a=Bi,o=Qi,s=o.key,l=o,c="L",u=.7;function d(s){var d,h,g,f=[],p=[],v=[],m=-1,y=s.length,b=ge(e),I=ge(r),C=e===n?function(){return h}:ge(n),x=r===i?function(){return g}:ge(i);function B(){f.push("M",o(t(v),u),c,l(t(p.reverse()),u),"Z")}for(;++m<y;)a.call(this,d=s[m],m)?(p.push([h=+b.call(this,d,m),g=+I.call(this,d,m)]),v.push([+C.call(this,d,m),+x.call(this,d,m)])):p.length&&(B(),p=[],v=[]);return p.length&&B(),f.length?f.join(""):null}return d.x=function(t){return arguments.length?(e=n=t,d):n},d.x0=function(t){return arguments.length?(e=t,d):e},d.x1=function(t){return arguments.length?(n=t,d):n},d.y=function(t){return arguments.length?(r=i=t,d):i},d.y0=function(t){return arguments.length?(r=t,d):r},d.y1=function(t){return arguments.length?(i=t,d):i},d.defined=function(t){return arguments.length?(a=t,d):a},d.interpolate=function(t){return arguments.length?(s="function"==typeof t?o=t:(o=Fi.get(t)||Qi).key,l=o.reverse||o,c=o.closed?"M":"L",d):s},d.tension=function(t){return arguments.length?(u=t,d):u},d}function Wi(t){return t.source}function Mi(t){return t.target}function Hi(t){return t.radius}function Di(t){return[t.x,t.y]}function Yi(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Gt;return[n*Math.cos(r),n*Math.sin(r)]}}function Oi(){return 64}function zi(){return"circle"}function Ji(t){var e=Math.sqrt(t/Qt);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}e.svg.line.radial=function(){var t=Ai(Ti);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Ui.reverse=Gi,Gi.reverse=Ui,e.svg.area=function(){return Xi(S)},e.svg.area.radial=function(){var t=Xi(Ti);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},e.svg.chord=function(){var t=Wi,e=Mi,n=Hi,r=yi,i=bi;function a(n,r){var i=o(this,t,n,r),a=o(this,e,n,r);return"M"+i.p0+s(i.r,i.p1,i.a1-i.a0)+(function(t,e){return t.a0==e.a0&&t.a1==e.a1}(i,a)?l(i.r,i.p1,i.r,i.p0):l(i.r,i.p1,a.r,a.p0)+s(a.r,a.p1,a.a1-a.a0)+l(a.r,a.p1,i.r,i.p0))+"Z"}function o(t,e,a,o){var s=e.call(t,a,o),l=n.call(t,s,o),c=r.call(t,s,o)-Gt,u=i.call(t,s,o)-Gt;return{r:l,a0:c,a1:u,p0:[l*Math.cos(c),l*Math.sin(c)],p1:[l*Math.cos(u),l*Math.sin(u)]}}function s(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Qt)+",1 "+e}function l(t,e,n,r){return"Q 0,0 "+r}return a.radius=function(t){return arguments.length?(n=ge(t),a):n},a.source=function(e){return arguments.length?(t=ge(e),a):t},a.target=function(t){return arguments.length?(e=ge(t),a):e},a.startAngle=function(t){return arguments.length?(r=ge(t),a):r},a.endAngle=function(t){return arguments.length?(i=ge(t),a):i},a},e.svg.diagonal=function(){var t=Wi,e=Mi,n=Di;function r(r,i){var a=t.call(this,r,i),o=e.call(this,r,i),s=(a.y+o.y)/2,l=[a,{x:a.x,y:s},{x:o.x,y:s},o];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return r.source=function(e){return arguments.length?(t=ge(e),r):t},r.target=function(t){return arguments.length?(e=ge(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},e.svg.diagonal.radial=function(){var t=e.svg.diagonal(),n=Di,r=t.projection;return t.projection=function(t){return arguments.length?r(Yi(n=t)):n},t},e.svg.symbol=function(){var t=zi,e=Oi;function n(n,r){return(ji.get(t.call(this,n,r))||Ji)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=ge(e),n):t},n.size=function(t){return arguments.length?(e=ge(t),n):e},n};var ji=e.map({circle:Ji,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Ki)),n=e*Ki;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Pi),n=e*Pi/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Pi),n=e*Pi/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});e.svg.symbolTypes=ji.keys();var Pi=Math.sqrt(3),Ki=Math.tan(30*Rt);z.transition=function(t){for(var e,n,r=ea||++ia,i=sa(t),a=[],o=na||{time:Date.now(),ease:En,delay:0,duration:250},s=-1,l=this.length;++s<l;){a.push(e=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(n=c[u])&&la(n,u,i,r,o),e.push(n)}return ta(a,i,r)},z.interrupt=function(t){return this.each(null==t?qi:$i(sa(t)))};var qi=$i(sa());function $i(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function ta(t,e,n){return M(t,ra),t.namespace=e,t.id=n,t}var ea,na,ra=[],ia=0;function aa(t,e,n,r){var i=t.id,a=t.namespace;return dt(t,"function"==typeof n?function(t,o,s){t[a][i].tween.set(e,r(n.call(t,t.__data__,o,s)))}:(n=r(n),function(t){t[a][i].tween.set(e,n)}))}function oa(t){return null==t&&(t=""),function(){this.textContent=t}}function sa(t){return null==t?"__transition__":"__transition_"+t+"__"}function la(t,e,n,r,i){var a,o,s,l,c,u=t[n]||(t[n]={active:0,count:0}),d=u[r];function h(n){var i=u.active,h=u[i];for(var f in h&&(h.timer.c=null,h.timer.t=NaN,--u.count,delete u[i],h.event&&h.event.interrupt.call(t,t.__data__,h.index)),u)if(+f<r){var p=u[f];p.timer.c=null,p.timer.t=NaN,--u.count,delete u[f]}o.c=g,Ce((function(){return o.c&&g(n||1)&&(o.c=null,o.t=NaN),1}),0,a),u.active=r,d.event&&d.event.start.call(t,t.__data__,e),c=[],d.tween.forEach((function(n,r){(r=r.call(t,t.__data__,e))&&c.push(r)})),l=d.ease,s=d.duration}function g(i){for(var a=i/s,o=l(a),h=c.length;h>0;)c[--h].call(t,o);if(a>=1)return d.event&&d.event.end.call(t,t.__data__,e),--u.count?delete u[r]:delete t[n],1}d||(a=i.time,o=Ce((function(t){var e=d.delay;if(o.t=e+a,e<=t)return h(t-e);o.c=h}),0,a),d=u[r]={tween:new x,time:a,timer:o,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++u.count)}ra.call=z.call,ra.empty=z.empty,ra.node=z.node,ra.size=z.size,e.transition=function(t,n){return t&&t.transition?ea?t.transition(n):t:e.selection().transition(t)},e.transition.prototype=ra,ra.select=function(t){var e,n,r,i=this.id,a=this.namespace,o=[];t=J(t);for(var s=-1,l=this.length;++s<l;){o.push(e=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(r=c[u])&&(n=t.call(r,r.__data__,u,s))?("__data__"in r&&(n.__data__=r.__data__),la(n,u,a,i,r[a][i]),e.push(n)):e.push(null)}return ta(o,a,i)},ra.selectAll=function(t){var e,n,r,i,a,o=this.id,s=this.namespace,l=[];t=j(t);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],h=-1,g=d.length;++h<g;)if(r=d[h]){a=r[s][o],n=t.call(r,r.__data__,h,c),l.push(e=[]);for(var f=-1,p=n.length;++f<p;)(i=n[f])&&la(i,f,s,o,a),e.push(i)}return ta(l,s,o)},ra.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=ct(t));for(var i=0,a=this.length;i<a;i++){r.push(e=[]);for(var o,s=0,l=(o=this[i]).length;s<l;s++)(n=o[s])&&t.call(n,n.__data__,s,i)&&e.push(n)}return ta(r,this.namespace,this.id)},ra.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):dt(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},ra.attr=function(t,n){if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var r="transform"==t?Yn:An,i=e.ns.qualify(t);function a(){this.removeAttribute(i)}function o(){this.removeAttributeNS(i.space,i.local)}function s(t){return null==t?a:(t+="",function(){var e,n=this.getAttribute(i);return n!==t&&(e=r(n,t),function(t){this.setAttribute(i,e(t))})})}function l(t){return null==t?o:(t+="",function(){var e,n=this.getAttributeNS(i.space,i.local);return n!==t&&(e=r(n,t),function(t){this.setAttributeNS(i.space,i.local,e(t))})})}return aa(this,"attr."+t,n,i.local?l:s)},ra.attrTween=function(t,n){var r=e.ns.qualify(t);return this.tween("attr."+t,r.local?function(t,e){var i=n.call(this,t,e,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}:function(t,e){var i=n.call(this,t,e,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}})},ra.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}function a(e){return null==e?i:(e+="",function(){var r,i=s(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=An(i,e),function(e){this.style.setProperty(t,r(e),n)})})}return aa(this,"style."+t,e,a)},ra.styleTween=function(t,e,n){function r(r,i){var a=e.call(this,r,i,s(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},ra.text=function(t){return aa(this,"text",t,oa)},ra.remove=function(){var t=this.namespace;return this.each("end.transition",(function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)}))},ra.ease=function(t){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof t&&(t=e.ease.apply(e,arguments)),dt(this,(function(e){e[r][n].ease=t})))},ra.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:dt(this,"function"==typeof t?function(r,i,a){r[n][e].delay=+t.call(r,r.__data__,i,a)}:(t=+t,function(r){r[n][e].delay=t}))},ra.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:dt(this,"function"==typeof t?function(r,i,a){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,a))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},ra.each=function(t,n){var r=this.id,i=this.namespace;if(arguments.length<2){var a=na,o=ea;try{ea=r,dt(this,(function(e,n,a){na=e[i][r],t.call(e,e.__data__,n,a)}))}finally{na=a,ea=o}}else dt(this,(function(a){var o=a[i][r];(o.event||(o.event=e.dispatch("start","end","interrupt"))).on(t,n)}));return this},ra.transition=function(){for(var t,e,n,r=this.id,i=++ia,a=this.namespace,o=[],s=0,l=this.length;s<l;s++){o.push(t=[]);for(var c,u=0,d=(c=this[s]).length;u<d;u++)(e=c[u])&&la(e,u,a,i,{time:(n=e[a][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return ta(o,a,i)},e.svg.axis=function(){var t,n=e.scale.linear(),i=ca,a=6,o=6,s=3,l=[10],c=null;function u(r){r.each((function(){var r,u=e.select(this),d=this.__chart__||n,h=this.__chart__=n.copy(),g=null==c?h.ticks?h.ticks.apply(h,l):h.domain():c,f=null==t?h.tickFormat?h.tickFormat.apply(h,l):S:t,p=u.selectAll(".tick").data(g,h),v=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ft),m=e.transition(p.exit()).style("opacity",Ft).remove(),y=e.transition(p.order()).style("opacity",1),b=Math.max(a,0)+s,I=Dr(h),C=u.selectAll(".domain").data([0]),x=(C.enter().append("path").attr("class","domain"),e.transition(C));v.append("line"),v.append("text");var B,A,F,Q,w=v.select("line"),U=y.select("line"),G=p.select("text").text(f),R=v.select("text"),L=y.select("text"),_="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(r=da,B="x",F="y",A="x2",Q="y2",G.attr("dy",_<0?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+I[0]+","+_*o+"V0H"+I[1]+"V"+_*o)):(r=ha,B="y",F="x",A="y2",Q="x2",G.attr("dy",".32em").style("text-anchor",_<0?"end":"start"),x.attr("d","M"+_*o+","+I[0]+"H0V"+I[1]+"H"+_*o)),w.attr(Q,_*a),R.attr(F,_*b),U.attr(A,0).attr(Q,_*a),L.attr(B,0).attr(F,_*b),h.rangeBand){var E=h,k=E.rangeBand()/2;d=h=function(t){return E(t)+k}}else d.rangeBand?d=h:m.call(r,h,d);v.call(r,d,h),y.call(r,h,h)}))}return u.scale=function(t){return arguments.length?(n=t,u):n},u.orient=function(t){return arguments.length?(i=t in ua?t+"":ca,u):i},u.ticks=function(){return arguments.length?(l=r(arguments),u):l},u.tickValues=function(t){return arguments.length?(c=t,u):c},u.tickFormat=function(e){return arguments.length?(t=e,u):t},u.tickSize=function(t){var e=arguments.length;return e?(a=+t,o=+arguments[e-1],u):a},u.innerTickSize=function(t){return arguments.length?(a=+t,u):a},u.outerTickSize=function(t){return arguments.length?(o=+t,u):o},u.tickPadding=function(t){return arguments.length?(s=+t,u):s},u.tickSubdivide=function(){return arguments.length&&u},u};var ca="bottom",ua={top:1,right:1,bottom:1,left:1};function da(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"}))}function ha(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"}))}e.svg.brush=function(){var t,n,r=X(h,"brushstart","brush","brushend"),i=null,a=null,o=[0,0],l=[0,0],c=!0,u=!0,d=fa[0];function h(t){t.each((function(){var t=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",v).on("touchstart.brush",v),n=t.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=t.selectAll(".resize").data(d,S);r.exit().remove(),r.enter().append("g").attr("class",(function(t){return"resize "+t})).style("cursor",(function(t){return ga[t]})).append("rect").attr("x",(function(t){return/[ew]$/.test(t)?-3:null})).attr("y",(function(t){return/^[ns]/.test(t)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",h.empty()?"none":null);var o,s=e.transition(t),l=e.transition(n);i&&(o=Dr(i),l.attr("x",o[0]).attr("width",o[1]-o[0]),f(s)),a&&(o=Dr(a),l.attr("y",o[0]).attr("height",o[1]-o[0]),p(s)),g(s)}))}function g(t){t.selectAll(".resize").attr("transform",(function(t){return"translate("+o[+/e$/.test(t)]+","+l[+/^s/.test(t)]+")"}))}function f(t){t.select(".extent").attr("x",o[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",o[1]-o[0])}function p(t){t.select(".extent").attr("y",l[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function v(){var d,v,m=this,y=e.select(e.event.target),b=r.of(m,arguments),I=e.select(m),C=y.datum(),x=!/^(n|s)$/.test(C)&&i,B=!/^(e|w)$/.test(C)&&a,A=y.classed("extent"),F=Ct(m),Q=e.mouse(m),w=e.select(s(m)).on("keydown.brush",R).on("keyup.brush",S);if(e.event.changedTouches?w.on("touchmove.brush",L).on("touchend.brush",E):w.on("mousemove.brush",L).on("mouseup.brush",E),I.interrupt().selectAll("*").interrupt(),A)Q[0]=o[0]-Q[0],Q[1]=l[0]-Q[1];else if(C){var U=+/w$/.test(C),G=+/^n/.test(C);v=[o[1-U]-Q[0],l[1-G]-Q[1]],Q[0]=o[U],Q[1]=l[G]}else e.event.altKey&&(d=Q.slice());function R(){32==e.event.keyCode&&(A||(d=null,Q[0]-=o[1],Q[1]-=l[1],A=2),N())}function S(){32==e.event.keyCode&&2==A&&(Q[0]+=o[1],Q[1]+=l[1],A=0,N())}function L(){var t=e.mouse(m),n=!1;v&&(t[0]+=v[0],t[1]+=v[1]),A||(e.event.altKey?(d||(d=[(o[0]+o[1])/2,(l[0]+l[1])/2]),Q[0]=o[+(t[0]<d[0])],Q[1]=l[+(t[1]<d[1])]):d=null),x&&_(t,i,0)&&(f(I),n=!0),B&&_(t,a,1)&&(p(I),n=!0),n&&(g(I),b({type:"brush",mode:A?"move":"resize"}))}function _(e,r,i){var a,s,h=Dr(r),g=h[0],f=h[1],p=Q[i],v=i?l:o,m=v[1]-v[0];if(A&&(g-=p,f-=m+p),a=(i?u:c)?Math.max(g,Math.min(f,e[i])):e[i],A?s=(a+=p)+m:(d&&(p=Math.max(g,Math.min(f,2*d[i]-a))),p<a?(s=a,a=p):s=p),v[0]!=a||v[1]!=s)return i?n=null:t=null,v[0]=a,v[1]=s,!0}function E(){L(),I.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),e.select("body").style("cursor",null),w.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),F(),b({type:"brushend"})}I.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",y.style("cursor")),b({type:"brushstart"}),L()}return h.event=function(i){i.each((function(){var i=r.of(this,arguments),a={x:o,y:l,i:t,j:n},s=this.__chart__||a;this.__chart__=a,ea?e.select(this).transition().each("start.brush",(function(){t=s.i,n=s.j,o=s.x,l=s.y,i({type:"brushstart"})})).tween("brush:brush",(function(){var e=Fn(o,a.x),r=Fn(l,a.y);return t=n=null,function(t){o=a.x=e(t),l=a.y=r(t),i({type:"brush",mode:"resize"})}})).each("end.brush",(function(){t=a.i,n=a.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})})):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))}))},h.x=function(t){return arguments.length?(d=fa[!(i=t)<<1|!a],h):i},h.y=function(t){return arguments.length?(d=fa[!i<<1|!(a=t)],h):a},h.clamp=function(t){return arguments.length?(i&&a?(c=!!t[0],u=!!t[1]):i?c=!!t:a&&(u=!!t),h):i&&a?[c,u]:i?c:a?u:null},h.extent=function(e){var r,s,c,u,d;return arguments.length?(i&&(r=e[0],s=e[1],a&&(r=r[0],s=s[0]),t=[r,s],i.invert&&(r=i(r),s=i(s)),s<r&&(d=r,r=s,s=d),r==o[0]&&s==o[1]||(o=[r,s])),a&&(c=e[0],u=e[1],i&&(c=c[1],u=u[1]),n=[c,u],a.invert&&(c=a(c),u=a(u)),u<c&&(d=c,c=u,u=d),c==l[0]&&u==l[1]||(l=[c,u])),h):(i&&(t?(r=t[0],s=t[1]):(r=o[0],s=o[1],i.invert&&(r=i.invert(r),s=i.invert(s)),s<r&&(d=r,r=s,s=d))),a&&(n?(c=n[0],u=n[1]):(c=l[0],u=l[1],a.invert&&(c=a.invert(c),u=a.invert(u)),u<c&&(d=c,c=u,u=d))),i&&a?[[r,c],[s,u]]:i?[r,s]:a&&[c,u])},h.clear=function(){return h.empty()||(o=[0,0],l=[0,0],t=n=null),h},h.empty=function(){return!!i&&o[0]==o[1]||!!a&&l[0]==l[1]},e.rebind(h,r,"on")};var ga={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},fa=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function pa(t){return JSON.parse(t.responseText)}function va(t){var e=i.createRange();return e.selectNode(i.body),e.createContextualFragment(t.responseText)}e.text=fe((function(t){return t.responseText})),e.json=function(t,e){return pe(t,"application/json",pa,e)},e.html=function(t,e){return pe(t,"text/html",va,e)},e.xml=fe((function(t){return t.responseXML})),t.exports?t.exports=e:this.d3=e}).apply(self)}(w4);var U4=new Date,G4=new Date;function R4(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,a){var o,s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;do{s.push(o=new Date(+n)),e(n,a),t(n)}while(o<n&&n<r);return s},i.filter=function(n){return R4((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return U4.setTime(+e),G4.setTime(+r),t(U4),t(G4),Math.floor(n(U4,G4))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var S4=R4((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));S4.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?R4((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):S4:null};var L4=S4,_4=S4.range,E4=1e3,k4=6e4,V4=36e5,Z4=864e5,N4=6048e5,T4=R4((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*E4)}),(function(t,e){return(e-t)/E4}),(function(t){return t.getUTCSeconds()})),X4=T4,W4=T4.range,M4=R4((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*E4)}),(function(t,e){t.setTime(+t+e*k4)}),(function(t,e){return(e-t)/k4}),(function(t){return t.getMinutes()})),H4=M4,D4=M4.range,Y4=R4((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*E4-t.getMinutes()*k4)}),(function(t,e){t.setTime(+t+e*V4)}),(function(t,e){return(e-t)/V4}),(function(t){return t.getHours()})),O4=Y4,z4=Y4.range,J4=R4((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*k4)/Z4}),(function(t){return t.getDate()-1})),j4=J4,P4=J4.range;function K4(t){return R4((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*k4)/N4}))}var q4=K4(0),$4=K4(1),t7=K4(2),e7=K4(3),n7=K4(4),r7=K4(5),i7=K4(6),a7=q4.range,o7=$4.range,s7=t7.range,l7=e7.range,c7=n7.range,u7=r7.range,d7=i7.range,h7=R4((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),g7=h7,f7=h7.range,p7=R4((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));p7.every=function(t){return isFinite(t=Math.floor(t))&&t>0?R4((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var v7=p7,m7=p7.range,y7=R4((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*k4)}),(function(t,e){return(e-t)/k4}),(function(t){return t.getUTCMinutes()})),b7=y7,I7=y7.range,C7=R4((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*V4)}),(function(t,e){return(e-t)/V4}),(function(t){return t.getUTCHours()})),x7=C7,B7=C7.range,A7=R4((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Z4}),(function(t){return t.getUTCDate()-1})),F7=A7,Q7=A7.range;function w7(t){return R4((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/N4}))}var U7=w7(0),G7=w7(1),R7=w7(2),S7=w7(3),L7=w7(4),_7=w7(5),E7=w7(6),k7=U7.range,V7=G7.range,Z7=R7.range,N7=S7.range,T7=L7.range,X7=_7.range,W7=E7.range,M7=R4((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),H7=M7,D7=M7.range,Y7=R4((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Y7.every=function(t){return isFinite(t=Math.floor(t))&&t>0?R4((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var O7=Y7,z7=Y7.range,J7=Object.freeze({__proto__:null,timeInterval:R4,timeMillisecond:L4,timeMilliseconds:_4,utcMillisecond:L4,utcMilliseconds:_4,timeSecond:X4,timeSeconds:W4,utcSecond:X4,utcSeconds:W4,timeMinute:H4,timeMinutes:D4,timeHour:O4,timeHours:z4,timeDay:j4,timeDays:P4,timeWeek:q4,timeWeeks:a7,timeSunday:q4,timeSundays:a7,timeMonday:$4,timeMondays:o7,timeTuesday:t7,timeTuesdays:s7,timeWednesday:e7,timeWednesdays:l7,timeThursday:n7,timeThursdays:c7,timeFriday:r7,timeFridays:u7,timeSaturday:i7,timeSaturdays:d7,timeMonth:g7,timeMonths:f7,timeYear:v7,timeYears:m7,utcMinute:b7,utcMinutes:I7,utcHour:x7,utcHours:B7,utcDay:F7,utcDays:Q7,utcWeek:U7,utcWeeks:k7,utcSunday:U7,utcSundays:k7,utcMonday:G7,utcMondays:V7,utcTuesday:R7,utcTuesdays:Z7,utcWednesday:S7,utcWednesdays:N7,utcThursday:L7,utcThursdays:T7,utcFriday:_7,utcFridays:X7,utcSaturday:E7,utcSaturdays:W7,utcMonth:H7,utcMonths:D7,utcYear:O7,utcYears:z7});function j7(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function P7(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function K7(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function q7(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=u8(i),u=d8(i),d=u8(a),h=d8(a),g=u8(o),f=d8(o),p=u8(s),v=d8(s),m=u8(l),y=d8(l),b={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:L8,e:L8,f:Z8,g:J8,G:P8,H:_8,I:E8,j:k8,L:V8,m:N8,M:T8,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:b6,s:I6,S:X8,u:W8,U:M8,V:D8,w:Y8,W:O8,x:null,X:null,y:z8,Y:j8,Z:K8,"%":y6},I={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:q8,e:q8,f:r6,g:f6,G:v6,H:$8,I:t6,j:e6,L:n6,m:i6,M:a6,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:b6,s:I6,S:o6,u:s6,U:l6,V:u6,w:d6,W:h6,x:null,X:null,y:g6,Y:p6,Z:m6,"%":y6},C={a:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return A(t,e,n,r)},d:x8,e:x8,f:U8,g:y8,G:m8,H:A8,I:A8,j:B8,L:w8,m:C8,M:F8,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:I8,Q:R8,s:S8,S:Q8,u:g8,U:f8,V:p8,w:h8,W:v8,x:function(t,e,r){return A(t,n,e,r)},X:function(t,e,n){return A(t,r,e,n)},y:y8,Y:m8,Z:b8,"%":G8};function x(t,e){return function(n){var r,i,a,o=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(o.push(t.slice(l,s)),null!=(i=i8[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(t.slice(l,s)),o.join("")}}function B(t,e){return function(n){var r,i,a=K7(1900,void 0,1);if(A(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(e&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=P7(K7(a.y,0,1))).getUTCDay(),r=i>4||0===i?G7.ceil(r):G7(r),r=F7.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=j7(K7(a.y,0,1))).getDay(),r=i>4||0===i?$4.ceil(r):$4(r),r=j4.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?P7(K7(a.y,0,1)).getUTCDay():j7(K7(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,P7(a)):j7(a)}}function A(t,e,n,r){for(var i,a,o=0,s=e.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=C[i in i8?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),I.x=x(n,I),I.X=x(r,I),I.c=x(e,I),{format:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=B(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",I);return e.toString=function(){return t},e},utcParse:function(t){var e=B(t+="",!0);return e.toString=function(){return t},e}}}var $7,t8,e8,n8,r8,i8={"-":"",_:" ",0:"0"},a8=/^\s*\d+/,o8=/^%/,s8=/[\\^$*+?|[\]().{}]/g;function l8(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function c8(t){return t.replace(s8,"\\$&")}function u8(t){return new RegExp("^(?:"+t.map(c8).join("|")+")","i")}function d8(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function h8(t,e,n){var r=a8.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function g8(t,e,n){var r=a8.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function f8(t,e,n){var r=a8.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function p8(t,e,n){var r=a8.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function v8(t,e,n){var r=a8.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function m8(t,e,n){var r=a8.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function y8(t,e,n){var r=a8.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function b8(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function I8(t,e,n){var r=a8.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function C8(t,e,n){var r=a8.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function x8(t,e,n){var r=a8.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function B8(t,e,n){var r=a8.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function A8(t,e,n){var r=a8.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function F8(t,e,n){var r=a8.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Q8(t,e,n){var r=a8.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function w8(t,e,n){var r=a8.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function U8(t,e,n){var r=a8.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function G8(t,e,n){var r=o8.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function R8(t,e,n){var r=a8.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function S8(t,e,n){var r=a8.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function L8(t,e){return l8(t.getDate(),e,2)}function _8(t,e){return l8(t.getHours(),e,2)}function E8(t,e){return l8(t.getHours()%12||12,e,2)}function k8(t,e){return l8(1+j4.count(v7(t),t),e,3)}function V8(t,e){return l8(t.getMilliseconds(),e,3)}function Z8(t,e){return V8(t,e)+"000"}function N8(t,e){return l8(t.getMonth()+1,e,2)}function T8(t,e){return l8(t.getMinutes(),e,2)}function X8(t,e){return l8(t.getSeconds(),e,2)}function W8(t){var e=t.getDay();return 0===e?7:e}function M8(t,e){return l8(q4.count(v7(t)-1,t),e,2)}function H8(t){var e=t.getDay();return e>=4||0===e?n7(t):n7.ceil(t)}function D8(t,e){return t=H8(t),l8(n7.count(v7(t),t)+(4===v7(t).getDay()),e,2)}function Y8(t){return t.getDay()}function O8(t,e){return l8($4.count(v7(t)-1,t),e,2)}function z8(t,e){return l8(t.getFullYear()%100,e,2)}function J8(t,e){return l8((t=H8(t)).getFullYear()%100,e,2)}function j8(t,e){return l8(t.getFullYear()%1e4,e,4)}function P8(t,e){var n=t.getDay();return l8((t=n>=4||0===n?n7(t):n7.ceil(t)).getFullYear()%1e4,e,4)}function K8(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+l8(e/60|0,"0",2)+l8(e%60,"0",2)}function q8(t,e){return l8(t.getUTCDate(),e,2)}function $8(t,e){return l8(t.getUTCHours(),e,2)}function t6(t,e){return l8(t.getUTCHours()%12||12,e,2)}function e6(t,e){return l8(1+F7.count(O7(t),t),e,3)}function n6(t,e){return l8(t.getUTCMilliseconds(),e,3)}function r6(t,e){return n6(t,e)+"000"}function i6(t,e){return l8(t.getUTCMonth()+1,e,2)}function a6(t,e){return l8(t.getUTCMinutes(),e,2)}function o6(t,e){return l8(t.getUTCSeconds(),e,2)}function s6(t){var e=t.getUTCDay();return 0===e?7:e}function l6(t,e){return l8(U7.count(O7(t)-1,t),e,2)}function c6(t){var e=t.getUTCDay();return e>=4||0===e?L7(t):L7.ceil(t)}function u6(t,e){return t=c6(t),l8(L7.count(O7(t),t)+(4===O7(t).getUTCDay()),e,2)}function d6(t){return t.getUTCDay()}function h6(t,e){return l8(G7.count(O7(t)-1,t),e,2)}function g6(t,e){return l8(t.getUTCFullYear()%100,e,2)}function f6(t,e){return l8((t=c6(t)).getUTCFullYear()%100,e,2)}function p6(t,e){return l8(t.getUTCFullYear()%1e4,e,4)}function v6(t,e){var n=t.getUTCDay();return l8((t=n>=4||0===n?L7(t):L7.ceil(t)).getUTCFullYear()%1e4,e,4)}function m6(){return"+0000"}function y6(){return"%"}function b6(t){return+t}function I6(t){return Math.floor(+t/1e3)}function C6(t){return $7=q7(t),t8=$7.format,e8=$7.parse,n8=$7.utcFormat,r8=$7.utcParse,$7}C6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var x6="%Y-%m-%dT%H:%M:%S.%LZ";var B6=Date.prototype.toISOString?function(t){return t.toISOString()}:n8(x6),A6=B6;var F6=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:r8(x6),Q6=F6,w6=n(Object.freeze({__proto__:null,timeFormatDefaultLocale:C6,get timeFormat(){return t8},get timeParse(){return e8},get utcFormat(){return n8},get utcParse(){return r8},timeFormatLocale:q7,isoFormat:A6,isoParse:Q6}));function U6(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function G6(t){return(t=U6(Math.abs(t)))?t[1]:NaN}var R6,S6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function L6(t){if(!(e=S6.exec(t)))throw new Error("invalid format: "+t);var e;return new _6({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function _6(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function E6(t,e){var n=U6(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}L6.prototype=_6.prototype,_6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var k6={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return E6(100*t,e)},r:E6,s:function(t,e){var n=U6(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(R6=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+U6(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function V6(t){return t}var Z6,N6,T6,X6=Array.prototype.map,W6=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function M6(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?V6:(e=X6.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?V6:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(X6.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function d(t){var e=(t=L6(t)).fill,n=t.align,d=t.sign,h=t.symbol,g=t.zero,f=t.width,p=t.comma,v=t.precision,m=t.trim,y=t.type;"n"===y?(p=!0,y="g"):k6[y]||(void 0===v&&(v=12),m=!0,y="g"),(g||"0"===e&&"="===n)&&(g=!0,e="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",I="$"===h?a:/[%p]/.test(y)?l:"",C=k6[y],x=/[defgprs%]/.test(y);function B(t){var i,a,l,h=b,B=I;if("c"===y)B=C(t)+B,t="";else{var A=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:C(Math.abs(t),v),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),A&&0==+t&&"+"!==d&&(A=!1),h=(A?"("===d?d:c:"-"===d||"("===d?"":d)+h,B=("s"===y?W6[8+R6/3]:"")+B+(A&&"("===d?")":""),x)for(i=-1,a=t.length;++i<a;)if(48>(l=t.charCodeAt(i))||l>57){B=(46===l?o+t.slice(i+1):t.slice(i))+B,t=t.slice(0,i);break}}p&&!g&&(t=r(t,1/0));var F=h.length+t.length+B.length,Q=F<f?new Array(f-F+1).join(e):"";switch(p&&g&&(t=r(Q+t,Q.length?f-B.length:1/0),Q=""),n){case"<":t=h+t+B+Q;break;case"=":t=h+Q+t+B;break;case"^":t=Q.slice(0,F=Q.length>>1)+h+t+B+Q.slice(F);break;default:t=Q+h+t+B}return s(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),B.toString=function(){return t+""},B}return{format:d,formatPrefix:function(t,e){var n=d(((t=L6(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(G6(e)/3))),i=Math.pow(10,-r),a=W6[8+r/3];return function(t){return n(i*t)+a}}}}function H6(t){return Z6=M6(t),N6=Z6.format,T6=Z6.formatPrefix,Z6}H6({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var D6=Object.freeze({__proto__:null,formatDefaultLocale:H6,get format(){return N6},get formatPrefix(){return T6},formatLocale:M6,formatSpecifier:L6,FormatSpecifier:_6,precisionFixed:function(t){return Math.max(0,-G6(Math.abs(t)))},precisionPrefix:function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(G6(e)/3)))-G6(Math.abs(t)))},precisionRound:function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,G6(e)-G6(t))+1}}),Y6=n(D6),O6=function(t){for(var e,n=t.length,r=0;r<n;r++)if(((e=t.charCodeAt(r))<9||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0},z6=function(t){var e=o(t);if("string"===e){var n=t;if(0===(t=+t)&&O6(n))return!1}else if("number"!==e)return!1;return t-t<1},J6={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"},j6={},P6=Array.isArray,K6=ArrayBuffer,q6=DataView;function $6(t){return K6.isView(t)&&!(t instanceof q6)}function ttt(t){return P6(t)||$6(t)}function ett(t,e,n){if(ttt(t)){if(ttt(t[0])){for(var r=n,i=0;i<t.length;i++)r=e(r,t[i].length);return r}return t.length}return 0}j6.isTypedArray=$6,j6.isArrayOrTypedArray=ttt,j6.isArray1D=function(t){return!ttt(t[0])},j6.ensureArray=function(t,e){return P6(t)||(t=[]),t.length=e,t},j6.concat=function(){var t,e,n,r,i,a,o,s,l=[],c=!0,u=0;for(n=0;n<arguments.length;n++)(a=(r=arguments[n]).length)&&(e?l.push(r):(e=r,i=a),P6(r)?t=!1:(c=!1,u?t!==r.constructor&&(t=!1):t=r.constructor),u+=a);if(!u)return[];if(!l.length)return e;if(c)return e.concat.apply(e,l);if(t){for((o=new t(u)).set(e),n=0;n<l.length;n++)r=l[n],o.set(r,i),i+=r.length;return o}for(o=new Array(u),s=0;s<e.length;s++)o[s]=e[s];for(n=0;n<l.length;n++){for(r=l[n],s=0;s<r.length;s++)o[i+s]=r[s];i+=s}return o},j6.maxRowLength=function(t){return ett(t,Math.max,0)},j6.minRowLength=function(t){return ett(t,Math.min,1/0)};var ntt=z6,rtt=j6.isArrayOrTypedArray,itt=function(t,e){if(ntt(e))e=String(e);else if("string"!=typeof e||"[-1]"===e.substr(e.length-4))throw"bad property string";for(var n,r,i,a=0,s=e.split(".");a<s.length;){if(n=String(s[a]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(n[1])s[a]=n[1];else{if(0!==a)throw"bad property string";s.splice(0,1)}for(r=n[2].substr(1,n[2].length-2).split("]["),i=0;i<r.length;i++)a++,s.splice(a,0,Number(r[i]))}a++}return"object"!==o(t)?function(t,e,n){return{set:function(){throw"bad container"},get:function(){},astr:e,parts:n,obj:t}}(t,e,s):{set:ltt(t,s,e),get:att(t,s),astr:e,parts:s,obj:t}};function att(t,e){return function(){var n,r,i,a,s,l=t;for(a=0;a<e.length-1;a++){if(-1===(n=e[a])){for(r=!0,i=[],s=0;s<l.length;s++)i[s]=att(l[s],e.slice(a+1))(),i[s]!==i[0]&&(r=!1);return r?i[0]:i}if("number"==typeof n&&!rtt(l))return;if("object"!==o(l=l[n])||null===l)return}if("object"===o(l)&&null!==l&&null!==(i=l[e[a]]))return i}}var ott=/(^|\.)args\[/;function stt(t,e){return void 0===t||null===t&&!e.match(ott)}function ltt(t,e,n){return function(r){var i,a,s=t,l="",c=stt(r,n);for(a=0;a<e.length-1;a++){if("number"==typeof(i=e[a])&&!rtt(s))throw"array index but container is not an array";if(-1===i){if(c=!utt(s,e.slice(a+1),r,n))break;return}if(!dtt(s,i,e[a+1],c))break;if("object"!==o(s=s[i])||null===s)throw"container is not an object";l=ctt(l,i)}if(c){if(a===e.length-1&&(delete s[e[a]],Array.isArray(s)&&+e[a]==s.length-1))for(;s.length&&void 0===s[s.length-1];)s.pop()}else s[e[a]]=r}}function ctt(t,e){var n=e;return ntt(e)?n="["+e+"]":t&&(n="."+e),t+n}function utt(t,e,n,r){var i,a=rtt(n),o=!0,s=n,l=r.replace("-1",0),c=!a&&stt(n,l),u=e[0];for(i=0;i<t.length;i++)l=r.replace("-1",i),a&&(c=stt(s=n[i%n.length],l)),c&&(o=!1),dtt(t,i,u,c)&&ltt(t[i],e,r.replace("-1",i))(s);return o}function dtt(t,e,n,r){if(void 0===t[e]){if(r)return!1;t[e]="number"==typeof n?[]:{}}return!0}var htt=itt,gtt=/^\w*$/,ftt=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,ptt=/^[^\.\[\]]+$/,vtt=function(t){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(t):"[object Object]"===Object.prototype.toString.call(t)&&Object.getPrototypeOf(t).hasOwnProperty("hasOwnProperty")},mtt=z6,ytt=function(t,e){if(t>0)return Math.log(t)/Math.LN10;var n=Math.log(Math.min(e[0],e[1]))/Math.LN10;return mtt(n)||(n=Math.log(Math.max(e[0],e[1]))/Math.LN10-6),n},btt=j6.isArrayOrTypedArray,Itt=vtt;var Ctt={mod:function(t,e){var n=t%e;return n<0?n+e:n},modHalf:function(t,e){return Math.abs(t)>e/2?t-Math.round(t/e)*e:t}},xtt={},Btt={exports:{}};!function(t){!function(e){var n=/^\s+/,r=/\s+$/,i=0,a=e.round,s=e.min,l=e.max,c=e.random;function u(t,c){if(c=c||{},(t=t||"")instanceof u)return t;if(!(this instanceof u))return new u(t,c);var d=function(t){var i={r:0,g:0,b:0},a=1,c=null,u=null,d=null,h=!1,g=!1;"string"==typeof t&&(t=function(t){t=t.replace(n,"").replace(r,"").toLowerCase();var e,i=!1;if(U[t])t=U[t],i=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=W.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=W.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=W.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=W.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=W.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=W.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=W.hex8.exec(t))return{r:_(e[1]),g:_(e[2]),b:_(e[3]),a:Z(e[4]),format:i?"name":"hex8"};if(e=W.hex6.exec(t))return{r:_(e[1]),g:_(e[2]),b:_(e[3]),format:i?"name":"hex"};if(e=W.hex4.exec(t))return{r:_(e[1]+""+e[1]),g:_(e[2]+""+e[2]),b:_(e[3]+""+e[3]),a:Z(e[4]+""+e[4]),format:i?"name":"hex8"};if(e=W.hex3.exec(t))return{r:_(e[1]+""+e[1]),g:_(e[2]+""+e[2]),b:_(e[3]+""+e[3]),format:i?"name":"hex"};return!1}(t));"object"==o(t)&&(M(t.r)&&M(t.g)&&M(t.b)?(i=function(t,e,n){return{r:255*S(t,255),g:255*S(e,255),b:255*S(n,255)}}(t.r,t.g,t.b),h=!0,g="%"===String(t.r).substr(-1)?"prgb":"rgb"):M(t.h)&&M(t.s)&&M(t.v)?(c=k(t.s),u=k(t.v),i=function(t,n,r){t=6*S(t,360),n=S(n,100),r=S(r,100);var i=e.floor(t),a=t-i,o=r*(1-n),s=r*(1-a*n),l=r*(1-(1-a)*n),c=i%6;return{r:255*[r,s,o,o,l,r][c],g:255*[l,r,r,s,o,o][c],b:255*[o,o,l,r,r,s][c]}}(t.h,c,u),h=!0,g="hsv"):M(t.h)&&M(t.s)&&M(t.l)&&(c=k(t.s),d=k(t.l),i=function(t,e,n){var r,i,a;function o(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=S(t,360),e=S(e,100),n=S(n,100),0===e)r=i=a=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=o(l,s,t+1/3),i=o(l,s,t),a=o(l,s,t-1/3)}return{r:255*r,g:255*i,b:255*a}}(t.h,c,d),h=!0,g="hsl"),t.hasOwnProperty("a")&&(a=t.a));return a=R(a),{ok:h,format:t.format||g,r:s(255,l(i.r,0)),g:s(255,l(i.g,0)),b:s(255,l(i.b,0)),a:a}}(t);this._originalInput=t,this._r=d.r,this._g=d.g,this._b=d.b,this._a=d.a,this._roundA=a(100*this._a)/100,this._format=c.format||d.format,this._gradientType=c.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=d.ok,this._tc_id=i++}function d(t,e,n){t=S(t,255),e=S(e,255),n=S(n,255);var r,i,a=l(t,e,n),o=s(t,e,n),c=(a+o)/2;if(a==o)r=i=0;else{var u=a-o;switch(i=c>.5?u/(2-a-o):u/(a+o),a){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,l:c}}function h(t,e,n){t=S(t,255),e=S(e,255),n=S(n,255);var r,i,a=l(t,e,n),o=s(t,e,n),c=a,u=a-o;if(i=0===a?0:u/a,a==o)r=0;else{switch(a){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,v:c}}function g(t,e,n,r){var i=[E(a(t).toString(16)),E(a(e).toString(16)),E(a(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function f(t,e,n,r){return[E(V(r)),E(a(t).toString(16)),E(a(e).toString(16)),E(a(n).toString(16))].join("")}function p(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.s-=e/100,n.s=L(n.s),u(n)}function v(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.s+=e/100,n.s=L(n.s),u(n)}function m(t){return u(t).desaturate(100)}function y(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.l+=e/100,n.l=L(n.l),u(n)}function b(t,e){e=0===e?0:e||10;var n=u(t).toRgb();return n.r=l(0,s(255,n.r-a(-e/100*255))),n.g=l(0,s(255,n.g-a(-e/100*255))),n.b=l(0,s(255,n.b-a(-e/100*255))),u(n)}function I(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.l-=e/100,n.l=L(n.l),u(n)}function C(t,e){var n=u(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,u(n)}function x(t){var e=u(t).toHsl();return e.h=(e.h+180)%360,u(e)}function B(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+120)%360,s:e.s,l:e.l}),u({h:(n+240)%360,s:e.s,l:e.l})]}function A(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+90)%360,s:e.s,l:e.l}),u({h:(n+180)%360,s:e.s,l:e.l}),u({h:(n+270)%360,s:e.s,l:e.l})]}function F(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+72)%360,s:e.s,l:e.l}),u({h:(n+216)%360,s:e.s,l:e.l})]}function Q(t,e,n){e=e||6,n=n||30;var r=u(t).toHsl(),i=360/n,a=[u(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,a.push(u(r));return a}function w(t,e){e=e||6;for(var n=u(t).toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/e;e--;)o.push(u({h:r,s:i,v:a})),a=(a+s)%1;return o}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,n,r,i=this.toRgb();return t=i.r/255,n=i.g/255,r=i.b/255,.2126*(t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:e.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=R(t),this._roundA=a(100*this._a)/100,this},toHsv:function(){var t=h(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=h(this._r,this._g,this._b),e=a(360*t.h),n=a(100*t.s),r=a(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=d(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=d(this._r,this._g,this._b),e=a(360*t.h),n=a(100*t.s),r=a(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return g(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,i){var o=[E(a(t).toString(16)),E(a(e).toString(16)),E(a(n).toString(16)),E(V(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(100*S(this._r,255))+"%",g:a(100*S(this._g,255))+"%",b:a(100*S(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+a(100*S(this._r,255))+"%, "+a(100*S(this._g,255))+"%, "+a(100*S(this._b,255))+"%)":"rgba("+a(100*S(this._r,255))+"%, "+a(100*S(this._g,255))+"%, "+a(100*S(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(G[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+f(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=u(t);n="#"+f(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return u(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(I,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(C,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(Q,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(w,arguments)},splitcomplement:function(){return this._applyCombination(F,arguments)},triad:function(){return this._applyCombination(B,arguments)},tetrad:function(){return this._applyCombination(A,arguments)}},u.fromRatio=function(t,e){if("object"==o(t)){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:k(t[r]));t=n}return u(t,e)},u.equals=function(t,e){return!(!t||!e)&&u(t).toRgbString()==u(e).toRgbString()},u.random=function(){return u.fromRatio({r:c(),g:c(),b:c()})},u.mix=function(t,e,n){n=0===n?0:n||50;var r=u(t).toRgb(),i=u(e).toRgb(),a=n/100;return u({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},u.readability=function(t,n){var r=u(t),i=u(n);return(e.max(r.getLuminance(),i.getLuminance())+.05)/(e.min(r.getLuminance(),i.getLuminance())+.05)},u.isReadable=function(t,e,n){var r,i,a=u.readability(t,e);switch(i=!1,(r=function(t){var e,n;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==n&&"large"!==n&&(n="small");return{level:e,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},u.mostReadable=function(t,e,n){var r,i,a,o,s=null,l=0;i=(n=n||{}).includeFallbackColors,a=n.level,o=n.size;for(var c=0;c<e.length;c++)(r=u.readability(t,e[c]))>l&&(l=r,s=u(e[c]));return u.isReadable(t,s,{level:a,size:o})||!i?s:(n.includeFallbackColors=!1,u.mostReadable(t,["#fff","#000"],n))};var U=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},G=u.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(U);function R(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function S(t,n){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var r=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=s(n,l(0,parseFloat(t))),r&&(t=parseInt(t*n,10)/100),e.abs(t-n)<1e-6?1:t%n/parseFloat(n)}function L(t){return s(1,l(0,t))}function _(t){return parseInt(t,16)}function E(t){return 1==t.length?"0"+t:""+t}function k(t){return t<=1&&(t=100*t+"%"),t}function V(t){return e.round(255*parseFloat(t)).toString(16)}function Z(t){return _(t)/255}var N,T,X,W=(T="[\\s|\\(]+("+(N="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",X="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",{CSS_UNIT:new RegExp(N),rgb:new RegExp("rgb"+T),rgba:new RegExp("rgba"+X),hsl:new RegExp("hsl"+T),hsla:new RegExp("hsla"+X),hsv:new RegExp("hsv"+T),hsva:new RegExp("hsva"+X),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function M(t){return!!W.CSS_UNIT.exec(t)}t.exports?t.exports=u:window.tinycolor=u}(Math)}(Btt);var Att=function(t){var e=t.editType,n=t.colorEditType;void 0===n&&(n=e);var r={family:{valType:"string",noBlank:!0,strict:!0,editType:e,description:["HTML font family - the typeface that will be applied by the web browser.","The web browser will only be able to apply a font if it is available on the system","which it operates. Provide multiple font families, separated by commas, to indicate","the preference in which to apply fonts if they aren't available on the system.","The Chart Studio Cloud (at https://chart-studio.plotly.com or on-premise) generates images on a server,","where only a select number of","fonts are installed and supported.","These include *Arial*, *Balto*, *Courier New*, *Droid Sans*,, *Droid Serif*,","*Droid Sans Mono*, *Gravitas One*, *Old Standard TT*, *Open Sans*, *Overpass*,","*PT Sans Narrow*, *Raleway*, *Times New Roman*."].join(" ")},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:n},editType:e,description:""+(t.description||"")};return t.autoSize&&(r.size.dflt="auto"),t.autoColor&&(r.color.dflt="auto"),t.arrayOk&&(r.family.arrayOk=!0,r.size.arrayOk=!0,r.color.arrayOk=!0),r},Ftt={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"},Qtt=Ftt,wtt=Att,Utt=wtt({editType:"none",description:"Sets the default hover label font used by all traces on the graph."});Utt.family.dflt=Qtt.HOVERFONT,Utt.size.dflt=Qtt.HOVERFONTSIZE;var Gtt={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"],description:["Determines the mode of single click interactions.","*event* is the default value and emits the `plotly_click`","event. In addition this mode emits the `plotly_selected` event","in drag modes *lasso* and *select*, but with no event data attached","(kept for compatibility reasons).","The *select* flag enables selecting single","data points via click. This mode also supports persistent selections,","meaning that pressing Shift while clicking, adds to / subtracts from an","existing selection. *select* with `hovermode`: *x* can be confusing, consider","explicitly setting `hovermode`: *closest* when using this feature.","Selection events are sent accordingly as long as *event* flag is set as well.","When the *event* flag is missing, `plotly_click` and `plotly_selected`","events are not fired."].join(" ")},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar",description:["Determines the mode of drag interactions.","*select* and *lasso* apply only to scatter traces with","markers or text. *orbit* and *turntable* apply only to","3D scenes."].join(" ")},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar",description:["Determines the mode of hover interactions.","If *closest*, a single hoverlabel will appear","for the *closest* point within the `hoverdistance`.","If *x* (or *y*), multiple hoverlabels will appear for multiple points","at the *closest* x- (or y-) coordinate within the `hoverdistance`,","with the caveat that no more than one hoverlabel will appear per trace.","If *x unified* (or *y unified*), a single hoverlabel will appear","multiple points at the closest x- (or y-) coordinate within the `hoverdistance`","with the caveat that no more than one hoverlabel will appear per trace.","In this mode, spikelines are enabled by default perpendicular to the specified axis.","If false, hover interactions are disabled."].join(" ")},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none",description:["Sets the default distance (in pixels) to look for data","to add hover labels (-1 means no cutoff, 0 means no looking for data).","This is only a real distance for hovering on point-like objects,","like scatter points. For area-like objects (bars, scatter fills, etc)","hovering is on inside the area and off outside, but these objects","will not supersede hover on point-like objects in case of conflict."].join(" ")},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none",description:["Sets the default distance (in pixels) to look for data to draw","spikelines to (-1 means no cutoff, 0 means no looking for data).","As with hoverdistance, distance does not apply to area-like objects.","In addition, some objects can be hovered on but will not generate","spikelines, such as scatter fills."].join(" ")},hoverlabel:{bgcolor:{valType:"color",editType:"none",description:["Sets the background color of all hover labels on graph"].join(" ")},bordercolor:{valType:"color",editType:"none",description:["Sets the border color of all hover labels on graph."].join(" ")},font:Utt,grouptitlefont:wtt({editType:"none",description:["Sets the font for group titles in hover (unified modes).","Defaults to `hoverlabel.font`."].join(" ")}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none",description:["Sets the horizontal alignment of the text content within hover label box.","Has an effect only if the hover label text spans more two or more lines"].join(" ")},namelength:{valType:"integer",min:-1,dflt:15,editType:"none",description:["Sets the default length (in number of characters) of the trace name in","the hover labels for all traces. -1 shows the whole name","regardless of length. 0-3 shows the first 0-3 characters, and","an integer >3 will show the whole name if it is less than that","many characters, but if it is longer, will truncate to","`namelength - 3` characters and add an ellipsis."].join(" ")},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",description:["When `dragmode` is set to *select*, this limits the selection of the drag to","horizontal, vertical or diagonal. *h* only allows horizontal selection,","*v* only vertical, *d* only diagonal and *any* sets no limit."].join(" "),editType:"none"}},Rtt={},Stt=vtt,Ltt=Array.isArray;function _tt(t,e,n,r){var i,a,s,l,c,u,d,h=t[0],g=t.length;if(2===g&&Ltt(h)&&Ltt(t[1])&&0===h.length){if(d=function(t,e){var n,r;for(n=0;n<t.length;n++){if(null!==(r=t[n])&&"object"===o(r))return!1;void 0!==r&&(e[n]=r)}return!0}(t[1],h),d)return h;h.splice(0,h.length)}for(var f=1;f<g;f++)for(a in i=t[f])s=h[a],l=i[a],r&&Ltt(l)?h[a]=l:e&&l&&(Stt(l)||(c=Ltt(l)))?(c?(c=!1,u=s&&Ltt(s)?s:[]):u=s&&Stt(s)?s:{},h[a]=_tt([u,l],e,n,r)):(void 0!==l||n)&&(h[a]=l);return h}Rtt.extendFlat=function(){return _tt(arguments,!1,!1,!1)},Rtt.extendDeep=function(){return _tt(arguments,!0,!1,!1)},Rtt.extendDeepAll=function(){return _tt(arguments,!0,!0,!1)},Rtt.extendDeepNoArrays=function(){return _tt(arguments,!0,!1,!0)};var Ett=Att,ktt=Gtt.hoverlabel,Vtt=Rtt.extendFlat,Ztt={hoverlabel:{bgcolor:Vtt({},ktt.bgcolor,{arrayOk:!0,description:"Sets the background color of the hover labels for this trace"}),bordercolor:Vtt({},ktt.bordercolor,{arrayOk:!0,description:"Sets the border color of the hover labels for this trace."}),font:Ett({arrayOk:!0,editType:"none",description:"Sets the font used in hover labels."}),align:Vtt({},ktt.align,{arrayOk:!0}),namelength:Vtt({},ktt.namelength,{arrayOk:!0}),editType:"none"}},Ntt=Att,Ttt=Ztt,Xtt={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc",description:["Determines whether or not this trace is visible.","If *legendonly*, the trace is not drawn,","but can appear as a legend item","(provided that the legend itself is visible)."].join(" ")},showlegend:{valType:"boolean",dflt:!0,editType:"style",description:["Determines whether or not an item corresponding to this","trace is shown in the legend."].join(" ")},legendgroup:{valType:"string",dflt:"",editType:"style",description:["Sets the legend group for this trace.","Traces part of the same legend group hide/show at the same time","when toggling legend items."].join(" ")},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style",description:["Sets the title of the legend group."].join(" ")},font:Ntt({editType:"style",description:["Sets this legend group's title font."].join(" ")}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style",description:["Sets the legend rank for this trace.","Items and groups with smaller ranks are presented on top/left side while","with `*reversed* `legend.traceorder` they are on bottom/right side.","The default legendrank is 1000,","so that you can use ranks less than 1000 to place certain items before all unranked items,","and ranks greater than 1000 to go after all unranked items."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style",description:"Sets the opacity of the trace."},name:{valType:"string",editType:"style",description:["Sets the trace name.","The trace name appear as the legend item and on hover."].join(" ")},uid:{valType:"string",editType:"plot",anim:!0,description:["Assign an id to this trace,","Use this to provide object constancy between traces during animations","and transitions."].join(" ")},ids:{valType:"data_array",editType:"calc",anim:!0,description:["Assigns id labels to each datum.","These ids for object constancy of data points during animation.","Should be an array of strings, not numbers or any other type."].join(" ")},customdata:{valType:"data_array",editType:"calc",description:["Assigns extra data each datum.","This may be useful when listening to hover, click and selection events.","Note that, *scatter* traces also appends customdata items in the markers","DOM elements"].join(" ")},meta:{valType:"any",arrayOk:!0,editType:"plot",description:["Assigns extra meta information associated with this trace","that can be used in various text attributes.","Attributes such as trace `name`, graph, axis and colorbar `title.text`, annotation `text`","`rangeselector`, `updatemenues` and `sliders` `label` text","all support `meta`.","To access the trace `meta` values in an attribute in the same trace, simply use","`%{meta[i]}` where `i` is the index or key of the `meta`","item in question.","To access trace `meta` in layout attributes, use","`%{data[n[.meta[i]}` where `i` is the index or key of the `meta`","and `n` is the trace index."].join(" ")},selectedpoints:{valType:"any",editType:"calc",description:["Array containing integer indices of selected points.","Has an effect only for traces that support selections.","Note that an empty array means an empty selection where the `unselected`","are turned on for all points, whereas, any other non-array values means no","selection all where the `selected` and `unselected` styles have no effect."].join(" ")},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none",description:["Determines which trace information appear on hover.","If `none` or `skip` are set, no information is displayed upon hovering.","But, if `none` is set, click and hover events are still fired."].join(" ")},hoverlabel:Ttt.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc",description:["The stream id number links a data trace on a plot with a stream.","See https://chart-studio.plotly.com/settings for more details."].join(" ")},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc",description:["Sets the maximum number of points to keep on the plots from an","incoming stream.","If `maxpoints` is set to *50*, only the newest 50 points will","be displayed on the plot."].join(" ")},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc",description:["WARNING: All transforms are deprecated and may be removed from the API in next major version.","An array of operations that manipulate the trace data,","for example filtering or sorting the data arrays."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of some user-driven changes to the trace:","`constraintrange` in `parcoords` traces, as well as some","`editable: true` modifications such as `name` and `colorbar.title`.","Defaults to `layout.uirevision`.","Note that other user-driven trace attribute changes are controlled","by `layout` attributes:","`trace.visible` is controlled by `layout.legend.uirevision`,","`selectedpoints` is controlled by `layout.selectionrevision`,","and `colorbar.(x|y)` (accessible with `config: {editable: true}`)","is controlled by `layout.editrevision`.","Trace changes are tracked by `uid`, which only falls back on trace","index if no `uid` is provided. So if your app can add/remove traces","before the end of the `data` array, such that the same trace has a","different index, you can still preserve user-driven changes if you","give each trace a `uid` that stays with it as it moves."].join(" ")}},Wtt=Btt.exports,Mtt={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},Htt=Mtt.RdBu;function Dtt(t){var e=0;if(!Array.isArray(t)||t.length<2)return!1;if(!t[0]||!t[t.length-1])return!1;if(0!=+t[0][0]||1!=+t[t.length-1][0])return!1;for(var n=0;n<t.length;n++){var r=t[n];if(2!==r.length||+r[0]<e||!Wtt(r[1]).isValid())return!1;e=+r[0]}return!0}var Ytt={scales:Mtt,defaultScale:Htt,get:function(t,e){if(e||(e=Htt),!t)return e;function n(){try{t=Mtt[t]||JSON.parse(t)}catch(n){t=e}}return"string"==typeof t&&(n(),"string"==typeof t&&n()),Dtt(t)?t:e},isValid:function(t){return void 0!==Mtt[t]||Dtt(t)}},Ott={exports:{}},ztt={defaults:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],defaultLine:"#444",lightLine:"#eee",background:"#fff",borderLine:"#BEC8D9",lightFraction:1e3/11},Jtt=Btt.exports,jtt=z6,Ptt=j6.isTypedArray,Ktt=Ott.exports={},qtt=ztt;Ktt.defaults=qtt.defaults;var $tt=Ktt.defaultLine=qtt.defaultLine;Ktt.lightLine=qtt.lightLine;var tet=Ktt.background=qtt.background;function eet(t){if(jtt(t)||"string"!=typeof t)return t;var e=t.trim();if("rgb"!==e.substr(0,3))return t;var n=e.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var r=n[1].trim().split(/\s*[\s,]\s*/),i="a"===e.charAt(3)&&4===r.length;if(!i&&3!==r.length)return t;for(var a=0;a<r.length;a++){if(!r[a].length)return t;if(r[a]=Number(r[a]),!(r[a]>=0))return t;if(3===a)r[a]>1&&(r[a]=1);else if(r[a]>=1)return t}var o=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return i?"rgba("+o+", "+r[3]+")":"rgb("+o+")"}Ktt.tinyRGB=function(t){var e=t.toRgb();return"rgb("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+")"},Ktt.rgb=function(t){return Ktt.tinyRGB(Jtt(t))},Ktt.opacity=function(t){return t?Jtt(t).getAlpha():0},Ktt.addOpacity=function(t,e){var n=Jtt(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+e+")"},Ktt.combine=function(t,e){var n=Jtt(t).toRgb();if(1===n.a)return Jtt(t).toRgbString();var r=Jtt(e||tet).toRgb(),i=1===r.a?r:{r:255*(1-r.a)+r.r*r.a,g:255*(1-r.a)+r.g*r.a,b:255*(1-r.a)+r.b*r.a},a={r:i.r*(1-n.a)+n.r*n.a,g:i.g*(1-n.a)+n.g*n.a,b:i.b*(1-n.a)+n.b*n.a};return Jtt(a).toRgbString()},Ktt.contrast=function(t,e,n){var r=Jtt(t);return 1!==r.getAlpha()&&(r=Jtt(Ktt.combine(t,tet))),(r.isDark()?e?r.lighten(e):tet:n?r.darken(n):$tt).toString()},Ktt.stroke=function(t,e){var n=Jtt(e);t.style({stroke:Ktt.tinyRGB(n),"stroke-opacity":n.getAlpha()})},Ktt.fill=function(t,e){var n=Jtt(e);t.style({fill:Ktt.tinyRGB(n),"fill-opacity":n.getAlpha()})},Ktt.clean=function(t){if(t&&"object"===o(t)){var e,n,r,i,a=Object.keys(t);for(e=0;e<a.length;e++)if(i=t[r=a[e]],"color"===r.substr(r.length-5))if(Array.isArray(i))for(n=0;n<i.length;n++)i[n]=eet(i[n]);else t[r]=eet(i);else if("colorscale"===r.substr(r.length-10)&&Array.isArray(i))for(n=0;n<i.length;n++)Array.isArray(i[n])&&(i[n][1]=eet(i[n][1]));else if(Array.isArray(i)){var s=i[0];if(!Array.isArray(s)&&s&&"object"===o(s))for(n=0;n<i.length;n++)Ktt.clean(i[n])}else i&&"object"===o(i)&&!Ptt(i)&&Ktt.clean(i)}};var net={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2},ret={counter:function(t,e,n,r){var i=(e||"")+(n?"":"$"),a=!1===r?"":"^";return"xy"===t?new RegExp(a+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+i):new RegExp(a+t+"([2-9]|[1-9][0-9]+)?"+i)}};!function(t){var e=z6,n=Btt.exports,r=Xtt,i=Ytt,a=Ott.exports,o=net.DESELECTDIM,s=itt,l=ret.counter,c=Ctt.modHalf,u=j6.isArrayOrTypedArray;function d(e,n){var r=t.valObjectMeta[n.valType];if(n.arrayOk&&u(e))return!0;if(r.validateFunction)return r.validateFunction(e,n);var i={},a=i,o={set:function(t){a=t}};return r.coerceFunction(e,o,i,n),a!==i}t.valObjectMeta={data_array:{description:["An {array} of data.","The value MUST be an {array}, or we ignore it.","Note that typed arrays (e.g. Float32Array) are supported."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,n){u(t)?e.set(t):void 0!==n&&e.set(n)}},enumerated:{description:["Enumerated value type. The available values are listed","in `values`."].join(" "),requiredOpts:["values"],otherOpts:["dflt","coerceNumber","arrayOk"],coerceFunction:function(t,e,n,r){r.coerceNumber&&(t=+t),-1===r.values.indexOf(t)?e.set(n):e.set(t)},validateFunction:function(t,e){e.coerceNumber&&(t=+t);for(var n=e.values,r=0;r<n.length;r++){var i=String(n[r]);if("/"===i.charAt(0)&&"/"===i.charAt(i.length-1)){if(new RegExp(i.substr(1,i.length-2)).test(t))return!0}else if(t===n[r])return!0}return!1}},boolean:{description:"A boolean (true/false) value.",requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,n){!0===t||!1===t?e.set(t):e.set(n)}},number:{description:["A number or a numeric value","(e.g. a number inside a string).","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk"],coerceFunction:function(t,n,r,i){!e(t)||void 0!==i.min&&t<i.min||void 0!==i.max&&t>i.max?n.set(r):n.set(+t)}},integer:{description:["An integer or an integer inside a string.","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk"],coerceFunction:function(t,n,r,i){t%1||!e(t)||void 0!==i.min&&t<i.min||void 0!==i.max&&t>i.max?n.set(r):n.set(+t)}},string:{description:["A string value.","Numbers are converted to strings except for attributes with","`strict` set to true."].join(" "),requiredOpts:[],otherOpts:["dflt","noBlank","strict","arrayOk","values"],coerceFunction:function(t,e,n,r){if("string"!=typeof t){var i="number"==typeof t;!0!==r.strict&&i?e.set(String(t)):e.set(n)}else r.noBlank&&!t?e.set(n):e.set(t)}},color:{description:["A string describing color.","Supported formats:","- hex (e.g. '#d3d3d3')","- rgb (e.g. 'rgb(255, 0, 0)')","- rgba (e.g. 'rgb(255, 0, 0, 0.5)')","- hsl (e.g. 'hsl(0, 100%, 50%)')","- hsv (e.g. 'hsv(0, 100%, 100%)')","- named colors (full list: http://www.w3.org/TR/css3-color/#svg-color)"].join(" "),requiredOpts:[],otherOpts:["dflt","arrayOk"],coerceFunction:function(t,e,r){n(t).isValid()?e.set(t):e.set(r)}},colorlist:{description:["A list of colors.","Must be an {array} containing valid colors."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,r){Array.isArray(t)&&t.length&&t.every((function(t){return n(t).isValid()}))?e.set(t):e.set(r)}},colorscale:{description:["A Plotly colorscale either picked by a name:","(any of",Object.keys(i.scales).join(", "),")","customized as an {array} of 2-element {arrays} where","the first element is the normalized color level value","(starting at *0* and ending at *1*),","and the second item is a valid color string."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,n){e.set(i.get(t,n))}},angle:{description:["A number (in degree) between -180 and 180."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,n,r){"auto"===t?n.set("auto"):e(t)?n.set(c(+t,360)):n.set(r)}},subplotid:{description:["An id string of a subplot type (given by dflt), optionally","followed by an integer >1. e.g. if dflt='geo', we can have","'geo', 'geo2', 'geo3', ..."].join(" "),requiredOpts:["dflt"],otherOpts:["regex"],coerceFunction:function(t,e,n,r){var i=r.regex||l(n);"string"==typeof t&&i.test(t)?e.set(t):e.set(n)},validateFunction:function(t,e){var n=e.dflt;return t===n||"string"==typeof t&&!!l(n).test(t)}},flaglist:{description:["A string representing a combination of flags","(order does not matter here).","Combine any of the available `flags` with *+*.","(e.g. ('lines+markers')).","Values in `extras` cannot be combined."].join(" "),requiredOpts:["flags"],otherOpts:["dflt","extras","arrayOk"],coerceFunction:function(t,e,n,r){if("string"==typeof t)if(-1===(r.extras||[]).indexOf(t)){for(var i=t.split("+"),a=0;a<i.length;){var o=i[a];-1===r.flags.indexOf(o)||i.indexOf(o)<a?i.splice(a,1):a++}i.length?e.set(i.join("+")):e.set(n)}else e.set(t);else e.set(n)}},any:{description:"Any type.",requiredOpts:[],otherOpts:["dflt","values","arrayOk"],coerceFunction:function(t,e,n){void 0===t?e.set(n):e.set(t)}},info_array:{description:["An {array} of plot information."].join(" "),requiredOpts:["items"],otherOpts:["dflt","freeLength","dimensions"],coerceFunction:function(e,n,r,i){function a(e,n,r){var i,a={set:function(t){i=t}};return void 0===r&&(r=n.dflt),t.valObjectMeta[n.valType].coerceFunction(e,a,r,n),i}var o=2===i.dimensions||"1-2"===i.dimensions&&Array.isArray(e)&&Array.isArray(e[0]);if(Array.isArray(e)){var s,l,c,u,d,h,g=i.items,f=[],p=Array.isArray(g),v=p&&o&&Array.isArray(g[0]),m=o&&p&&!v,y=p&&!m?g.length:e.length;if(r=Array.isArray(r)?r:[],o)for(s=0;s<y;s++)for(f[s]=[],c=Array.isArray(e[s])?e[s]:[],d=m?g.length:p?g[s].length:c.length,l=0;l<d;l++)u=m?g[l]:p?g[s][l]:g,void 0!==(h=a(c[l],u,(r[s]||[])[l]))&&(f[s][l]=h);else for(s=0;s<y;s++)void 0!==(h=a(e[s],p?g[s]:g,r[s]))&&(f[s]=h);n.set(f)}else n.set(r)},validateFunction:function(t,e){if(!Array.isArray(t))return!1;var n=e.items,r=Array.isArray(n),i=2===e.dimensions;if(!e.freeLength&&t.length!==n.length)return!1;for(var a=0;a<t.length;a++)if(i){if(!Array.isArray(t[a])||!e.freeLength&&t[a].length!==n[a].length)return!1;for(var o=0;o<t[a].length;o++)if(!d(t[a][o],r?n[a][o]:n))return!1}else if(!d(t[a],r?n[a]:n))return!1;return!0}}},t.coerce=function(e,n,r,i,a){var o=s(r,i).get(),l=s(e,i),c=s(n,i),h=l.get(),g=n._template;if(void 0===h&&g&&(h=s(g,i).get(),g=0),void 0===a&&(a=o.dflt),o.arrayOk&&u(h))return c.set(h),h;var f=t.valObjectMeta[o.valType].coerceFunction;f(h,c,a,o);var p=c.get();return g&&p===a&&!d(h,o)&&(f(h=s(g,i).get(),c,a,o),p=c.get()),p},t.coerce2=function(e,n,r,i,a){var o=s(e,i),l=t.coerce(e,n,r,i,a),c=o.get();return null!=c&&l},t.coerceFont=function(t,e,n){var r={};return n=n||{},r.family=t(e+".family",n.family),r.size=t(e+".size",n.size),r.color=t(e+".color",n.color),r},t.coercePattern=function(t,e,n,r){if(t(e+".shape")){t(e+".solidity"),t(e+".size");var i="overlay"===t(e+".fillmode");if(!r){var o=t(e+".bgcolor",i?n:void 0);t(e+".fgcolor",i?a.contrast(o):n)}t(e+".fgopacity",i?.5:1)}},t.coerceHoverinfo=function(e,n,i){var a,o=n._module.attributes,s=o.hoverinfo?o:r,l=s.hoverinfo;if(1===i._dataLength){var c="all"===l.dflt?l.flags.slice():l.dflt.split("+");c.splice(c.indexOf("name"),1),a=c.join("+")}return t.coerce(e,n,s,"hoverinfo",a)},t.coerceSelectionMarkerOpacity=function(t,e){if(t.marker){var n,r,i=t.marker.opacity;if(void 0!==i)u(i)||t.selected||t.unselected||(n=i,r=o*i),e("selected.marker.opacity",n),e("unselected.marker.opacity",r)}},t.validate=d}(xtt);var iet={},aet={exports:{}},oet={staticPlot:{valType:"boolean",dflt:!1,description:["Determines whether the graphs are interactive or not.","If *false*, no interactivity, for export or image generation."].join(" ")},plotlyServerURL:{valType:"string",dflt:"",description:["When set it determines base URL for","the 'Edit in Chart Studio' `showEditInChartStudio`/`showSendToCloud` mode bar button","and the showLink/sendData on-graph link.","To enable sending your data to Chart Studio Cloud, you need to","set both `plotlyServerURL` to 'https://chart-studio.plotly.com' and","also set `showSendToCloud` to true."].join(" ")},editable:{valType:"boolean",dflt:!1,description:["Determines whether the graph is editable or not.","Sets all pieces of `edits`","unless a separate `edits` config item overrides individual parts."].join(" ")},edits:{annotationPosition:{valType:"boolean",dflt:!1,description:["Determines if the main anchor of the annotation is editable.","The main anchor corresponds to the","text (if no arrow) or the arrow (which drags the whole thing leaving","the arrow length & direction unchanged)."].join(" ")},annotationTail:{valType:"boolean",dflt:!1,description:["Has only an effect for annotations with arrows.","Enables changing the length and direction of the arrow."].join(" ")},annotationText:{valType:"boolean",dflt:!1,description:"Enables editing annotation text."},axisTitleText:{valType:"boolean",dflt:!1,description:"Enables editing axis title text."},colorbarPosition:{valType:"boolean",dflt:!1,description:"Enables moving colorbars."},colorbarTitleText:{valType:"boolean",dflt:!1,description:"Enables editing colorbar title text."},legendPosition:{valType:"boolean",dflt:!1,description:"Enables moving the legend."},legendText:{valType:"boolean",dflt:!1,description:"Enables editing the trace name fields from the legend"},shapePosition:{valType:"boolean",dflt:!1,description:"Enables moving shapes."},titleText:{valType:"boolean",dflt:!1,description:"Enables editing the global layout title."}},autosizable:{valType:"boolean",dflt:!1,description:["Determines whether the graphs are plotted with respect to","layout.autosize:true and infer its container size."].join(" ")},responsive:{valType:"boolean",dflt:!1,description:["Determines whether to change the layout size when window is resized.","In v3, this option will be removed and will always be true."].join(" ")},fillFrame:{valType:"boolean",dflt:!1,description:["When `layout.autosize` is turned on, determines whether the graph","fills the container (the default) or the screen (if set to *true*)."].join(" ")},frameMargins:{valType:"number",dflt:0,min:0,max:.5,description:["When `layout.autosize` is turned on, set the frame margins","in fraction of the graph size."].join(" ")},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox",description:["Determines whether mouse wheel or two-finger scroll zooms is enable.","Turned on by default for gl3d, geo and mapbox subplots","(as these subplot types do not have zoombox via pan),","but turned off by default for cartesian subplots.","Set `scrollZoom` to *false* to disable scrolling for all subplots."].join(" ")},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize",description:["Sets the double click interaction mode.","Has an effect only in cartesian plots.","If *false*, double click is disable.","If *reset*, double click resets the axis ranges to their initial values.","If *autosize*, double click set the axis ranges to their autorange values.","If *reset+autosize*, the odd double clicks resets the axis ranges","to their initial values and even double clicks set the axis ranges","to their autorange values."].join(" ")},doubleClickDelay:{valType:"number",dflt:300,min:0,description:["Sets the delay for registering a double-click in ms.","This is the time interval (in ms) between first mousedown and","2nd mouseup to constitute a double-click.","This setting propagates to all on-subplot double clicks","(except for geo and mapbox) and on-legend double clicks."].join(" ")},showAxisDragHandles:{valType:"boolean",dflt:!0,description:["Set to *false* to omit cartesian axis pan/zoom drag handles."].join(" ")},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0,description:["Set to *false* to omit direct range entry at the pan/zoom drag points,","note that `showAxisDragHandles` must be enabled to have an effect."].join(" ")},showTips:{valType:"boolean",dflt:!0,description:["Determines whether or not tips are shown while interacting","with the resulting graphs."].join(" ")},showLink:{valType:"boolean",dflt:!1,description:["Determines whether a link to Chart Studio Cloud is displayed","at the bottom right corner of resulting graphs.","Use with `sendData` and `linkText`."].join(" ")},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0,description:["Sets the text appearing in the `showLink` link."].join(" ")},sendData:{valType:"boolean",dflt:!0,description:["If *showLink* is true, does it contain data","just link to a Chart Studio Cloud file?"].join(" ")},showSources:{valType:"any",dflt:!1,description:["Adds a source-displaying function to show sources on","the resulting graphs."].join(" ")},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover",description:["Determines the mode bar display mode.","If *true*, the mode bar is always visible.","If *false*, the mode bar is always hidden.","If *hover*, the mode bar is visible while the mouse cursor","is on the graph container."].join(" ")},showSendToCloud:{valType:"boolean",dflt:!1,description:['Should we include a ModeBar button, labeled "Edit in Chart Studio",',"that sends this chart to chart-studio.plotly.com (formerly plot.ly) or another plotly server","as specified by `plotlyServerURL` for editing, export, etc? Prior to version 1.43.0","this button was included by default, now it is opt-in using this flag.","Note that this button can (depending on `plotlyServerURL` being set) send your data","to an external server. However that server does not persist your data",'until you arrive at the Chart Studio and explicitly click "Save".'].join(" ")},showEditInChartStudio:{valType:"boolean",dflt:!1,description:["Same as `showSendToCloud`, but use a pencil icon instead of a floppy-disk.","Note that if both `showSendToCloud` and `showEditInChartStudio` are turned,","only `showEditInChartStudio` will be honored."].join(" ")},modeBarButtonsToRemove:{valType:"any",dflt:[],description:["Remove mode bar buttons by name.","See ./components/modebar/buttons.js for the list of names."].join(" ")},modeBarButtonsToAdd:{valType:"any",dflt:[],description:["Add mode bar button using config objects","See ./components/modebar/buttons.js for list of arguments.","To enable predefined modebar buttons e.g. shape drawing, hover and spikelines,","simply provide their string name(s). This could include:","*v1hovermode*, *hoverclosest*, *hovercompare*, *togglehover*, *togglespikelines*,","*drawline*, *drawopenpath*, *drawclosedpath*, *drawcircle*, *drawrect* and *eraseshape*.","Please note that these predefined buttons will only be shown if they are compatible","with all trace types used in a graph."].join(" ")},modeBarButtons:{valType:"any",dflt:!1,description:["Define fully custom mode bar buttons as nested array,","where the outer arrays represents button groups, and","the inner arrays have buttons config objects or names of default buttons","See ./components/modebar/buttons.js for more info."].join(" ")},toImageButtonOptions:{valType:"any",dflt:{},description:["Statically override options for toImage modebar button","allowed keys are format, filename, width, height, scale","see ../components/modebar/buttons.js"].join(" ")},displaylogo:{valType:"boolean",dflt:!0,description:["Determines whether or not the plotly logo is displayed","on the end of the mode bar."].join(" ")},watermark:{valType:"boolean",dflt:!1,description:"watermark the images with the company's logo"},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4,description:["Set the pixel ratio during WebGL image export.","This config option was formerly named `plot3dPixelRatio`","which is now deprecated."].join(" ")},setBackground:{valType:"any",dflt:"transparent",description:["Set function to add the background color (i.e. `layout.paper_color`)","to a different container.","This function take the graph div as first argument and the current background","color as second argument.","Alternatively, set to string *opaque* to ensure there is white behind it."].join(" ")},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/",description:["Set the URL to topojson used in geo charts.","By default, the topojson files are fetched from cdn.plot.ly.","For example, set this option to:","<path-to-plotly.js>/dist/topojson/","to render geographical feature using the topojson files","that ship with the plotly.js module."].join(" ")},mapboxAccessToken:{valType:"string",dflt:null,description:["Mapbox access token (required to plot mapbox trace types)","If using an Mapbox Atlas server, set this option to ''","so that plotly.js won't attempt to authenticate to the public Mapbox server."].join(" ")},logging:{valType:"integer",min:0,max:2,dflt:1,description:["Turn all console logging on or off (errors will be thrown)","This should ONLY be set via Plotly.setPlotConfig","Available levels:","0: no logs","1: warnings and errors, but not informational messages","2: verbose logs"].join(" ")},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0,description:["Set on-graph logging (notifier) level","This should ONLY be set via Plotly.setPlotConfig","Available levels:","0: no on-graph logs","1: warnings and errors, but not informational messages","2: verbose logs"].join(" ")},queueLength:{valType:"integer",min:0,dflt:0,description:"Sets the length of the undo/redo queue."},globalTransforms:{valType:"any",dflt:[],description:["Set global transform to be applied to all traces with no","specification needed"].join(" ")},locale:{valType:"string",dflt:"en-US",description:["Which localization should we use?","Should be a string like 'en' or 'en-US'."].join(" ")},locales:{valType:"any",dflt:{},description:["Localization definitions","Locales can be provided either here (specific to one chart) or globally","by registering them as modules.","Should be an object of objects {locale: {dictionary: {...}, format: {...}}}","{","  da: {","      dictionary: {'Reset axes': 'Nulstil aksler', ...},","      format: {months: [...], shortMonths: [...]}","  },","  ...","}","All parts are optional. When looking for translation or format fields, we","look first for an exact match in a config locale, then in a registered","module. If those fail, we strip off any regionalization ('en-US' -> 'en')","and try each (config, registry) again. The final fallback for translation","is untranslated (which is US English) and for formats is the base English","(the only consequence being the last fallback date format %x is DD/MM/YYYY","instead of MM/DD/YYYY). Currently `grouping` and `currency` are ignored","for our automatic number formatting, but can be used in custom formats."].join(" ")}},set={};!function t(e,n){for(var r in e){var i=e[r];i.valType?n[r]=i.dflt:(n[r]||(n[r]={}),t(i,n[r]))}}(oet,set);var cet={configAttributes:oet,dfltConfig:set},uet=w4.exports,det=z6,het=[],get=function(t,e){if(-1===het.indexOf(t)){het.push(t);var n=1e3;det(e)?n=e:"long"===e&&(n=3e3);var r=uet.select("body").selectAll(".plotly-notifier").data([0]);r.enter().append("div").classed("plotly-notifier",!0),r.selectAll(".notifier-note").data(het).enter().append("div").classed("notifier-note",!0).style("opacity",0).each((function(t){var r=uet.select(this);r.append("button").classed("notifier-close",!0).html("&times;").on("click",(function(){r.transition().call(i)}));for(var a=r.append("p"),o=t.split(/<br\s*\/?>/g),s=0;s<o.length;s++)s&&a.append("br"),a.append("span").text(o[s]);"stick"===e?r.transition().duration(350).style("opacity",1):r.transition().duration(700).style("opacity",1).transition().delay(n).call(i)}))}function i(t){t.duration(700).style("opacity",0).each("end",(function(t){var e=het.indexOf(t);-1!==e&&het.splice(e,1),uet.select(this).remove()}))}},fet=cet.dfltConfig,pet=get,vet=aet.exports={};vet.log=function(){var t;if(fet.logging>1){var e=["LOG:"];for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.trace.apply(console,e)}if(fet.notifyOnLogging>1){var n=[];for(t=0;t<arguments.length;t++)n.push(arguments[t]);pet(n.join("<br>"),"long")}},vet.warn=function(){var t;if(fet.logging>0){var e=["WARN:"];for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.trace.apply(console,e)}if(fet.notifyOnLogging>0){var n=[];for(t=0;t<arguments.length;t++)n.push(arguments[t]);pet(n.join("<br>"),"stick")}},vet.error=function(){var t;if(fet.logging>0){var e=["ERROR:"];for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.error.apply(console,e)}if(fet.notifyOnLogging>0){var n=[];for(t=0;t<arguments.length;t++)n.push(arguments[t]);pet(n.join("<br>"),"stick")}};var met={},yet=function(){},bet=function(t,e){if(e instanceof RegExp){for(var n=e.toString(),r=0;r<t.length;r++)if(t[r]instanceof RegExp&&t[r].toString()===n)return t;t.push(e)}else!e&&0!==e||-1!==t.indexOf(e)||t.push(e);return t},Iet={};var Cet=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e};var xet=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t};var Bet=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};var Aet=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t};var Fet=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],g=e[11],f=e[12],p=e[13],v=e[14],m=e[15],y=n*s-r*o,b=n*l-i*o,I=n*c-a*o,C=r*l-i*s,x=r*c-a*s,B=i*c-a*l,A=u*p-d*f,F=u*v-h*f,Q=u*m-g*f,w=d*v-h*p,U=d*m-g*p,G=h*m-g*v,R=y*G-b*U+I*w+C*Q-x*F+B*A;if(!R)return null;return R=1/R,t[0]=(s*G-l*U+c*w)*R,t[1]=(i*U-r*G-a*w)*R,t[2]=(p*B-v*x+m*C)*R,t[3]=(h*x-d*B-g*C)*R,t[4]=(l*Q-o*G-c*F)*R,t[5]=(n*G-i*Q+a*F)*R,t[6]=(v*I-f*B-m*b)*R,t[7]=(u*B-h*I+g*b)*R,t[8]=(o*U-s*Q+c*A)*R,t[9]=(r*Q-n*U-a*A)*R,t[10]=(f*x-p*I+m*y)*R,t[11]=(d*I-u*x-g*y)*R,t[12]=(s*F-o*w-l*A)*R,t[13]=(n*w-r*F+i*A)*R,t[14]=(p*b-f*C-v*y)*R,t[15]=(u*C-d*b+h*y)*R,t};var Qet=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],g=e[11],f=e[12],p=e[13],v=e[14],m=e[15];return t[0]=s*(h*m-g*v)-d*(l*m-c*v)+p*(l*g-c*h),t[1]=-(r*(h*m-g*v)-d*(i*m-a*v)+p*(i*g-a*h)),t[2]=r*(l*m-c*v)-s*(i*m-a*v)+p*(i*c-a*l),t[3]=-(r*(l*g-c*h)-s*(i*g-a*h)+d*(i*c-a*l)),t[4]=-(o*(h*m-g*v)-u*(l*m-c*v)+f*(l*g-c*h)),t[5]=n*(h*m-g*v)-u*(i*m-a*v)+f*(i*g-a*h),t[6]=-(n*(l*m-c*v)-o*(i*m-a*v)+f*(i*c-a*l)),t[7]=n*(l*g-c*h)-o*(i*g-a*h)+u*(i*c-a*l),t[8]=o*(d*m-g*p)-u*(s*m-c*p)+f*(s*g-c*d),t[9]=-(n*(d*m-g*p)-u*(r*m-a*p)+f*(r*g-a*d)),t[10]=n*(s*m-c*p)-o*(r*m-a*p)+f*(r*c-a*s),t[11]=-(n*(s*g-c*d)-o*(r*g-a*d)+u*(r*c-a*s)),t[12]=-(o*(d*v-h*p)-u*(s*v-l*p)+f*(s*h-l*d)),t[13]=n*(d*v-h*p)-u*(r*v-i*p)+f*(r*h-i*d),t[14]=-(n*(s*v-l*p)-o*(r*v-i*p)+f*(r*l-i*s)),t[15]=n*(s*h-l*d)-o*(r*h-i*d)+u*(r*l-i*s),t};var wet=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],l=t[7],c=t[8],u=t[9],d=t[10],h=t[11],g=t[12],f=t[13],p=t[14],v=t[15];return(e*o-n*a)*(d*v-h*p)-(e*s-r*a)*(u*v-h*f)+(e*l-i*a)*(u*p-d*f)+(n*s-r*o)*(c*v-h*g)-(n*l-i*o)*(c*p-d*g)+(r*l-i*s)*(c*f-u*g)};var Uet=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=e[9],g=e[10],f=e[11],p=e[12],v=e[13],m=e[14],y=e[15],b=n[0],I=n[1],C=n[2],x=n[3];return t[0]=b*r+I*s+C*d+x*p,t[1]=b*i+I*l+C*h+x*v,t[2]=b*a+I*c+C*g+x*m,t[3]=b*o+I*u+C*f+x*y,b=n[4],I=n[5],C=n[6],x=n[7],t[4]=b*r+I*s+C*d+x*p,t[5]=b*i+I*l+C*h+x*v,t[6]=b*a+I*c+C*g+x*m,t[7]=b*o+I*u+C*f+x*y,b=n[8],I=n[9],C=n[10],x=n[11],t[8]=b*r+I*s+C*d+x*p,t[9]=b*i+I*l+C*h+x*v,t[10]=b*a+I*c+C*g+x*m,t[11]=b*o+I*u+C*f+x*y,b=n[12],I=n[13],C=n[14],x=n[15],t[12]=b*r+I*s+C*d+x*p,t[13]=b*i+I*l+C*h+x*v,t[14]=b*a+I*c+C*g+x*m,t[15]=b*o+I*u+C*f+x*y,t};var Get=function(t,e,n){var r,i,a,o,s,l,c,u,d,h,g,f,p=n[0],v=n[1],m=n[2];e===t?(t[12]=e[0]*p+e[4]*v+e[8]*m+e[12],t[13]=e[1]*p+e[5]*v+e[9]*m+e[13],t[14]=e[2]*p+e[6]*v+e[10]*m+e[14],t[15]=e[3]*p+e[7]*v+e[11]*m+e[15]):(r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=e[9],g=e[10],f=e[11],t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t[6]=c,t[7]=u,t[8]=d,t[9]=h,t[10]=g,t[11]=f,t[12]=r*p+s*v+d*m+e[12],t[13]=i*p+l*v+h*m+e[13],t[14]=a*p+c*v+g*m+e[14],t[15]=o*p+u*v+f*m+e[15]);return t};var Ret=function(t,e,n){var r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t};var Let=function(t,e,n,r){var i,a,o,s,l,c,u,d,h,g,f,p,v,m,y,b,I,C,x,B,A,F,Q,w,U=r[0],G=r[1],R=r[2],S=Math.sqrt(U*U+G*G+R*R);if(Math.abs(S)<1e-6)return null;U*=S=1/S,G*=S,R*=S,i=Math.sin(n),a=Math.cos(n),o=1-a,s=e[0],l=e[1],c=e[2],u=e[3],d=e[4],h=e[5],g=e[6],f=e[7],p=e[8],v=e[9],m=e[10],y=e[11],b=U*U*o+a,I=G*U*o+R*i,C=R*U*o-G*i,x=U*G*o-R*i,B=G*G*o+a,A=R*G*o+U*i,F=U*R*o+G*i,Q=G*R*o-U*i,w=R*R*o+a,t[0]=s*b+d*I+p*C,t[1]=l*b+h*I+v*C,t[2]=c*b+g*I+m*C,t[3]=u*b+f*I+y*C,t[4]=s*x+d*B+p*A,t[5]=l*x+h*B+v*A,t[6]=c*x+g*B+m*A,t[7]=u*x+f*B+y*A,t[8]=s*F+d*Q+p*w,t[9]=l*F+h*Q+v*w,t[10]=c*F+g*Q+m*w,t[11]=u*F+f*Q+y*w,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t};var _et=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[4]=a*i+c*r,t[5]=o*i+u*r,t[6]=s*i+d*r,t[7]=l*i+h*r,t[8]=c*i-a*r,t[9]=u*i-o*r,t[10]=d*i-s*r,t[11]=h*i-l*r,t};var Eet=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],l=e[3],c=e[8],u=e[9],d=e[10],h=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=a*i-c*r,t[1]=o*i-u*r,t[2]=s*i-d*r,t[3]=l*i-h*r,t[8]=a*r+c*i,t[9]=o*r+u*i,t[10]=s*r+d*i,t[11]=l*r+h*i,t};var ket=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],l=e[3],c=e[4],u=e[5],d=e[6],h=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=a*i+c*r,t[1]=o*i+u*r,t[2]=s*i+d*r,t[3]=l*i+h*r,t[4]=c*i-a*r,t[5]=u*i-o*r,t[6]=d*i-s*r,t[7]=h*i-l*r,t};var Vet=function(t,e,n){var r,i,a,o=n[0],s=n[1],l=n[2],c=Math.sqrt(o*o+s*s+l*l);if(Math.abs(c)<1e-6)return null;return o*=c=1/c,s*=c,l*=c,r=Math.sin(e),i=Math.cos(e),a=1-i,t[0]=o*o*a+i,t[1]=s*o*a+l*r,t[2]=l*o*a-s*r,t[3]=0,t[4]=o*s*a-l*r,t[5]=s*s*a+i,t[6]=l*s*a+o*r,t[7]=0,t[8]=o*l*a+s*r,t[9]=s*l*a-o*r,t[10]=l*l*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};var Zet=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=r+r,l=i+i,c=a+a,u=r*s,d=r*l,h=r*c,g=i*l,f=i*c,p=a*c,v=o*s,m=o*l,y=o*c;return t[0]=1-(g+p),t[1]=d+y,t[2]=h-m,t[3]=0,t[4]=d-y,t[5]=1-(u+p),t[6]=f+v,t[7]=0,t[8]=h+m,t[9]=f-v,t[10]=1-(u+g),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t};var Net=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};var Tet=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t};var Xet=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};var Wet=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};var Met=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};var Het=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,l=i+i,c=n*o,u=r*o,d=r*s,h=i*o,g=i*s,f=i*l,p=a*o,v=a*s,m=a*l;return t[0]=1-d-f,t[1]=u+m,t[2]=h-v,t[3]=0,t[4]=u-m,t[5]=1-c-f,t[6]=g+p,t[7]=0,t[8]=h+v,t[9]=g-p,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};var Det=function(t,e,n,r,i,a,o){var s=1/(n-e),l=1/(i-r),c=1/(a-o);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*l,t[10]=(o+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*c,t[15]=0,t};var Yet=function(t,e,n,r,i){var a=1/Math.tan(e/2),o=1/(r-i);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*o,t[15]=0,t};var Oet=function(t,e,n,r,i,a,o){var s=1/(e-n),l=1/(r-i),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(o+a)*c,t[15]=1,t};var zet=Bet,Jet=function(t,e,n,r){var i,a,o,s,l,c,u,d,h,g,f=e[0],p=e[1],v=e[2],m=r[0],y=r[1],b=r[2],I=n[0],C=n[1],x=n[2];if(Math.abs(f-I)<1e-6&&Math.abs(p-C)<1e-6&&Math.abs(v-x)<1e-6)return zet(t);u=f-I,d=p-C,h=v-x,g=1/Math.sqrt(u*u+d*d+h*h),i=y*(h*=g)-b*(d*=g),a=b*(u*=g)-m*h,o=m*d-y*u,(g=Math.sqrt(i*i+a*a+o*o))?(i*=g=1/g,a*=g,o*=g):(i=0,a=0,o=0);s=d*o-h*a,l=h*i-u*o,c=u*a-d*i,(g=Math.sqrt(s*s+l*l+c*c))?(s*=g=1/g,l*=g,c*=g):(s=0,l=0,c=0);return t[0]=i,t[1]=s,t[2]=u,t[3]=0,t[4]=a,t[5]=l,t[6]=d,t[7]=0,t[8]=o,t[9]=c,t[10]=h,t[11]=0,t[12]=-(i*f+a*p+o*v),t[13]=-(s*f+l*p+c*v),t[14]=-(u*f+d*p+h*v),t[15]=1,t};var jet=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"};var Pet={create:function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},clone:Cet,copy:xet,identity:Bet,transpose:Aet,invert:Fet,adjoint:Qet,determinant:wet,multiply:Uet,translate:Get,scale:Ret,rotate:Let,rotateX:_et,rotateY:Eet,rotateZ:ket,fromRotation:Vet,fromRotationTranslation:Zet,fromScaling:Net,fromTranslation:Tet,fromXRotation:Xet,fromYRotation:Wet,fromZRotation:Met,fromQuat:Het,frustum:Det,perspective:Yet,perspectiveFromFieldOfView:function(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(o+s),c=2/(i+a);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-s)*l*.5,t[9]=(i-a)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},ortho:Oet,lookAt:Jet,str:jet};!function(t){var e=Pet;t.init2dArray=function(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=new Array(e);return n},t.transposeRagged=function(t){var e,n,r=0,i=t.length;for(e=0;e<i;e++)r=Math.max(r,t[e].length);var a=new Array(r);for(e=0;e<r;e++)for(a[e]=new Array(i),n=0;n<i;n++)a[e][n]=t[n][e];return a},t.dot=function(e,n){if(!e.length||!n.length||e.length!==n.length)return null;var r,i,a=e.length;if(e[0].length)for(r=new Array(a),i=0;i<a;i++)r[i]=t.dot(e[i],n);else if(n[0].length){var o=t.transposeRagged(n);for(r=new Array(o.length),i=0;i<o.length;i++)r[i]=t.dot(e,o[i])}else for(r=0,i=0;i<a;i++)r+=e[i]*n[i];return r},t.translationMatrix=function(t,e){return[[1,0,t],[0,1,e],[0,0,1]]},t.rotationMatrix=function(t){var e=t*Math.PI/180;return[[Math.cos(e),-Math.sin(e),0],[Math.sin(e),Math.cos(e),0],[0,0,1]]},t.rotationXYMatrix=function(e,n,r){return t.dot(t.dot(t.translationMatrix(n,r),t.rotationMatrix(e)),t.translationMatrix(-n,-r))},t.apply3DTransform=function(e){return function(){var n=arguments,r=1===arguments.length?n[0]:[n[0],n[1],n[2]||0];return t.dot(e,[r[0],r[1],r[2],1]).slice(0,3)}},t.apply2DTransform=function(e){return function(){var n=arguments;3===n.length&&(n=n[0]);var r=1===arguments.length?n[0]:[n[0],n[1]];return t.dot(e,[r[0],r[1],1]).slice(0,2)}},t.apply2DTransform2=function(e){var n=t.apply2DTransform(e);return function(t){return n(t.slice(0,2)).concat(n(t.slice(2,4)))}},t.convertCssMatrix=function(t){if(t){var e=t.length;if(16===e)return t;if(6===e)return[t[0],t[1],0,0,t[2],t[3],0,0,0,0,1,0,t[4],t[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},t.inverseTransformMatrix=function(t){var n=[];return e.invert(n,t),[[n[0],n[1],n[2],n[3]],[n[4],n[5],n[6],n[7]],[n[8],n[9],n[10],n[11]],[n[12],n[13],n[14],n[15]]]}}(Iet);var Ket=w4.exports,qet=aet.exports,$et=Iet,tnt=Pet;function ent(t){var e=t&&t.parentNode;e&&e.removeChild(t)}function nnt(t,e,n){var r="plotly.js-style-"+t,i=document.getElementById(r);i||((i=document.createElement("style")).setAttribute("id",r),i.appendChild(document.createTextNode("")),document.head.appendChild(i));var a=i.sheet;a.insertRule?a.insertRule(e+"{"+n+"}",0):a.addRule?a.addRule(e,n,0):qet.warn("addStyleRule failed")}function rnt(t){var e=window.getComputedStyle(t,null),n=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform");return"none"===n?null:n.replace("matrix","").replace("3d","").slice(1,-1).split(",").map((function(t){return+t}))}function int(t){for(var e=[];ant(t);)e.push(t),t=t.parentNode;return e}function ant(t){return t&&(t instanceof Element||t instanceof HTMLElement)}var ont={getGraphDiv:function(t){var e;if("string"==typeof t){if(null===(e=document.getElementById(t)))throw new Error("No DOM element with id '"+t+"' exists on the page.");return e}if(null==t)throw new Error("DOM element provided is null or undefined");return t},isPlotDiv:function(t){var e=Ket.select(t);return e.node()instanceof HTMLElement&&e.size()&&e.classed("js-plotly-plot")},removeElement:ent,addStyleRule:function(t,e){nnt("global",t,e)},addRelatedStyleRule:nnt,deleteRelatedStyleRule:function(t){var e="plotly.js-style-"+t,n=document.getElementById(e);n&&ent(n)},getFullTransformMatrix:function(t){var e=int(t),n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return e.forEach((function(t){var e=rnt(t);if(e){var r=$et.convertCssMatrix(e);n=tnt.multiply(n,n,r)}})),n},getElementTransformMatrix:rnt,getElementAndAncestors:int,equalDomRects:function(t,e){return t&&e&&t.x===e.x&&t.y===e.y&&t.top===e.top&&t.left===e.left&&t.right===e.right&&t.bottom===e.bottom}},snt={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"],description:["Describes how a new animate call interacts with currently-running","animations. If `immediate`, current animations are interrupted and","the new animation is started. If `next`, the current frame is allowed","to complete, after which the new animation is started. If `afterall`","all existing frames are animated to completion before the new animation","is started."].join(" ")},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward",description:["The direction in which to play the frames triggered by the animation call"].join(" ")},fromcurrent:{valType:"boolean",dflt:!1,description:["Play frames starting at the current frame instead of the beginning."].join(" ")},frame:{duration:{valType:"number",min:0,dflt:500,description:["The duration in milliseconds of each frame. If greater than the frame","duration, it will be limited to the frame duration."].join(" ")},redraw:{valType:"boolean",dflt:!0,description:["Redraw the plot at completion of the transition. This is desirable","for transitions that include properties that cannot be transitioned,","but may significantly slow down updates that do not require a full","redraw of the plot"].join(" ")}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none",description:["The duration of the transition, in milliseconds. If equal to zero,","updates are synchronous."].join(" ")},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none",description:"The easing function used for the transition"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none",description:["Determines whether the figure's layout or traces smoothly transitions","during updates that make both traces and layout change."].join(" ")}}},lnt={};lnt.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style",description:["Sets the dash style of lines. Set to a dash type string","(*solid*, *dot*, *dash*, *longdash*, *dashdot*, or *longdashdot*)","or a dash length list in px (eg *5px,10px,2px,2px*)."].join(" ")},lnt.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style",description:["Sets the shape of the pattern fill.","By default, no pattern is used for filling the area."].join(" ")},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style",description:["Determines whether `marker.color` should be used","as a default to `bgcolor` or a `fgcolor`."].join(" ")},bgcolor:{valType:"color",arrayOk:!0,editType:"style",description:["When there is no colorscale sets the color of background pattern fill.","Defaults to a `marker.color` background when `fillmode` is *overlay*.","Otherwise, defaults to a transparent background."].join(" ")},fgcolor:{valType:"color",arrayOk:!0,editType:"style",description:["When there is no colorscale sets the color of foreground pattern fill.","Defaults to a `marker.color` background when `fillmode` is *replace*.","Otherwise, defaults to dark grey or white","to increase contrast with the `bgcolor`."].join(" ")},fgopacity:{valType:"number",editType:"style",min:0,max:1,description:["Sets the opacity of the foreground pattern fill.","Defaults to a 0.5 when `fillmode` is *overlay*.","Otherwise, defaults to 1."].join(" ")},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style",description:["Sets the size of unit squares of the pattern fill in pixels,","which corresponds to the interval of repetition of the pattern."].join(" ")},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style",description:["Sets the solidity of the pattern fill.","Solidity is roughly the fraction of the area filled by the pattern.","Solidity of 0 shows only the background color without pattern","and solidty of 1 shows only the foreground color without pattern."].join(" ")},editType:"style",description:["Sets the pattern within the marker."].join(" ")};var cnt=lnt.dash,unt=Rtt.extendFlat,dnt={newshape:{line:{color:{valType:"color",editType:"none",description:["Sets the line color.","By default uses either dark grey or white","to increase contrast with background color."].join(" ")},width:{valType:"number",min:0,dflt:4,editType:"none",description:"Sets the line width (in px)."},dash:unt({},cnt,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none",description:["Sets the color filling new shapes' interior.","Please note that if using a fillcolor with alpha greater than half,","drag inside the active shape starts moving the shape underneath,","otherwise a new shape could be started over."].join(" ")},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none",description:["Determines the path's interior.","For more info please visit https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-rule"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none",description:"Sets the opacity of new shapes."},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none",description:"Specifies whether new shapes are drawn below or above traces."},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none",description:["When `dragmode` is set to *drawrect*, *drawline* or *drawcircle*","this limits the drag to be horizontal, vertical or diagonal.","Using *diagonal* there is no limit e.g. in drawing lines in any direction.","*ortho* limits the draw to be either horizontal or vertical.","*horizontal* allows horizontal extend.","*vertical* allows vertical extend."].join(" ")},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none",description:"Sets the color filling the active shape' interior."},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none",description:"Sets the opacity of the active shape."},editType:"none"}},hnt=function(t){var e=t.editType;return{t:{valType:"number",dflt:0,editType:e,description:"The amount of padding (in px) along the top of the component."},r:{valType:"number",dflt:0,editType:e,description:"The amount of padding (in px) on the right side of the component."},b:{valType:"number",dflt:0,editType:e,description:"The amount of padding (in px) along the bottom of the component."},l:{valType:"number",dflt:0,editType:e,description:"The amount of padding (in px) on the left side of the component."},editType:e}},gnt=Att,fnt=snt,pnt=ztt,vnt=dnt,mnt=hnt,ynt=Rtt.extendFlat,bnt=gnt({editType:"calc",description:["Sets the global font.","Note that fonts used in traces and other","layout components inherit from the global font."].join(" ")});bnt.family.dflt='"Open Sans", verdana, arial, sans-serif',bnt.size.dflt=12,bnt.color.dflt=pnt.defaultLine;var Int={font:bnt,title:{text:{valType:"string",editType:"layoutstyle",description:["Sets the plot's title.","Note that before the existence of `title.text`, the title's","contents used to be defined as the `title` attribute itself.","This behavior has been deprecated."].join(" ")},font:gnt({editType:"layoutstyle",description:["Sets the title font.","Note that the title's font used to be customized","by the now deprecated `titlefont` attribute."].join(" ")}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `x` refers to.","*container* spans the entire `width` of the plot.","*paper* refers to the width of the plotting area only."].join(" ")},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `y` refers to.","*container* spans the entire `height` of the plot.","*paper* refers to the height of the plotting area only."].join(" ")},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle",description:["Sets the x position with respect to `xref` in normalized","coordinates from *0* (left) to *1* (right)."].join(" ")},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle",description:["Sets the y position with respect to `yref` in normalized","coordinates from *0* (bottom) to *1* (top).","*auto* places the baseline of the title onto the","vertical center of the top margin."].join(" ")},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle",description:["Sets the title's horizontal alignment with respect to its x position.","*left* means that the title starts at x,","*right* means that the title ends at x","and *center* means that the title's center is at x.","*auto* divides `xref` by three and calculates the `xanchor`","value automatically based on the value of `x`."].join(" ")},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle",description:["Sets the title's vertical alignment with respect to its y position.","*top* means that the title's cap line is at y,","*bottom* means that the title's baseline is at y","and *middle* means that the title's midline is at y.","*auto* divides `yref` by three and calculates the `yanchor`","value automatically based on the value of `y`."].join(" ")},pad:ynt(mnt({editType:"layoutstyle"}),{description:["Sets the padding of the title.","Each padding value only applies when the corresponding","`xanchor`/`yanchor` value is set accordingly. E.g. for left","padding to take effect, `xanchor` must be set to *left*.","The same rule applies if `xanchor`/`yanchor` is determined automatically.","Padding is muted if the respective anchor value is *middle*/*center*."].join(" ")}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot",description:["Determines how the font size for various text","elements are uniformed between each trace type.","If the computed text sizes were smaller than","the minimum size defined by `uniformtext.minsize`","using *hide* option hides the text; and","using *show* option shows the text without further downscaling.","Please note that if the size defined by `minsize` is greater than","the font size defined by trace, then the `minsize` is used."].join(" ")},minsize:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets the minimum text size between traces of the same type."].join(" ")},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none",description:["Determines whether or not a layout width or height","that has been left undefined by the user","is initialized on each relayout.","Note that, regardless of this attribute,","an undefined layout width or height","is always initialized on the first call to plot."].join(" ")},width:{valType:"number",min:10,dflt:700,editType:"plot",description:["Sets the plot's width (in px)."].join(" ")},height:{valType:"number",min:10,dflt:450,editType:"plot",description:["Sets the plot's height (in px)."].join(" ")},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot",description:"Sets the left margin (in px)."},r:{valType:"number",min:0,dflt:80,editType:"plot",description:"Sets the right margin (in px)."},t:{valType:"number",min:0,dflt:100,editType:"plot",description:"Sets the top margin (in px)."},b:{valType:"number",min:0,dflt:80,editType:"plot",description:"Sets the bottom margin (in px)."},pad:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets the amount of padding (in px)","between the plotting area and the axis lines"].join(" ")},autoexpand:{valType:"boolean",dflt:!0,editType:"plot",description:["Turns on/off margin expansion computations.","Legends, colorbars, updatemenus, sliders, axis rangeselector and rangeslider","are allowed to push the margins by defaults."].join(" ")},editType:"plot"},computed:{valType:"any",editType:"none",description:["Placeholder for exporting automargin-impacting values namely","`margin.t`, `margin.b`, `margin.l` and `margin.r` in *full-json* mode."].join(" ")},paper_bgcolor:{valType:"color",dflt:pnt.background,editType:"plot",description:"Sets the background color of the paper where the graph is drawn."},plot_bgcolor:{valType:"color",dflt:pnt.background,editType:"layoutstyle",description:["Sets the background color of the plotting area in-between x and y axes."].join(" ")},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc",description:["Using *strict* a numeric string in trace data is not converted to a number.","Using *convert types* a numeric string in trace data may be","treated as a number during automatic axis `type` detection.","This is the default value; however it could be overridden for individual axes."].join(" ")},separators:{valType:"string",editType:"plot",description:["Sets the decimal and thousand separators.","For example, *. * puts a '.' before decimals and a space","between thousands. In English locales, dflt is *.,* but","other locales may alter this default."].join(" ")},hidesources:{valType:"boolean",dflt:!1,editType:"plot",description:["Determines whether or not a text link citing the data source is","placed at the bottom-right cored of the figure.","Has only an effect only on graphs that have been generated via","forked graphs from the Chart Studio Cloud (at https://chart-studio.plotly.com or on-premise)."].join(" ")},showlegend:{valType:"boolean",editType:"legend",description:["Determines whether or not a legend is drawn.","Default is `true` if there is a trace to show and any of these:","a) Two or more traces would by default be shown in the legend.","b) One pie trace is shown in the legend.","c) One trace is explicitly given with `showlegend: true`."].join(" ")},colorway:{valType:"colorlist",dflt:pnt.defaults,editType:"calc",description:"Sets the default trace colors."},datarevision:{valType:"any",editType:"calc",description:["If provided, a changed value tells `Plotly.react` that","one or more data arrays has changed. This way you can modify","arrays in-place rather than making a complete new copy for an","incremental change.","If NOT provided, `Plotly.react` assumes that data arrays are","being treated as immutable, thus any data array with a","different identity from its predecessor contains new data."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Used to allow user interactions with the plot to persist after","`Plotly.react` calls that are unaware of these interactions.","If `uirevision` is omitted, or if it is given and it changed from","the previous `Plotly.react` call, the exact new figure is used.","If `uirevision` is truthy and did NOT change, any attribute","that has been affected by user interactions and did not receive a","different value in the new figure will keep the interaction value.","`layout.uirevision` attribute serves as the default for","`uirevision` attributes in various sub-containers. For finer","control you can set these sub-attributes directly. For example,","if your app separately controls the data on the x and y axes you","might set `xaxis.uirevision=*time*` and `yaxis.uirevision=*cost*`.","Then if only the y data is changed, you can update","`yaxis.uirevision=*quantity*` and the y axis range will reset but","the x axis range will retain any user-driven zoom."].join(" ")},editrevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in `editable: true`","configuration, other than trace names and axis titles.","Defaults to `layout.uirevision`."].join(" ")},selectionrevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in selected points","from all traces."].join(" ")},template:{valType:"any",editType:"calc",description:["Default attributes to be applied to the plot. Templates can be","created from existing plots using `Plotly.makeTemplate`, or","created manually. They should be objects with format:","`{layout: layoutTemplate, data: {[type]: [traceTemplate, ...]}, ...}`","`layoutTemplate` and `traceTemplate` are objects matching the","attribute structure of `layout` and a data trace. ","Trace templates are applied cyclically to traces of each type.","Container arrays (eg `annotations`) have special handling:","An object ending in `defaults` (eg `annotationdefaults`) is applied","to each array item. But if an item has a `templateitemname` key","we look in the template array for an item with matching `name` and","apply that instead. If no matching `name` is found we mark the item","invisible. Any named template item not referenced is appended to","the end of the array, so you can use this for a watermark annotation","or a logo image, for example. To omit one of these items on the plot,","make an item with matching `templateitemname` and `visible: false`."].join(" ")},newshape:vnt.newshape,activeshape:vnt.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot",description:["Assigns extra meta information that can be used in various `text` attributes.","Attributes such as the graph, axis and colorbar `title.text`, annotation `text`","`trace.name` in legend items, `rangeselector`, `updatemenus` and `sliders` `label` text","all support `meta`. One can access `meta` fields using template strings:","`%{meta[i]}` where `i` is the index of the `meta`","item in question.","`meta` can also be an object for example `{key: value}` which can be accessed","%{meta[key]}."].join(" ")},transition:ynt({},fnt.transition,{description:["Sets transition options used during Plotly.react updates."].join(" "),editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle",description:["Value of `title` is no longer a simple *string* but a set of sub-attributes.","To set the contents of the title, please use `title.text` now."].join(" ")},titlefont:gnt({editType:"layoutstyle",description:["Former `titlefont` is now the sub-attribute `font` of `title`.","To customize title font properties, please use `title.font` now."].join(" ")})}};!function(t){var e=aet.exports,n=yet,r=bet,i=vtt,a=ont.addStyleRule,s=Rtt,l=Xtt,c=Int,u=s.extendFlat,d=s.extendDeepAll;function h(n){var r=n.name,i=n.categories,s=n.meta;if(t.modules[r])e.log("Type "+r+" already registered");else{t.subplotsRegistry[n.basePlotModule.name]||function(n){var r=n.name;if(t.subplotsRegistry[r])return void e.log("Plot type "+r+" already registered.");for(var i in v(n),t.subplotsRegistry[r]=n,t.componentsRegistry)b(i,n.name)}(n.basePlotModule);for(var l={},c=0;c<i.length;c++)l[i[c]]=!0,t.allCategories[i[c]]=!0;for(var d in t.modules[r]={_module:n,categories:l},s&&Object.keys(s).length&&(t.modules[r].meta=s),t.allTypes.push(r),t.componentsRegistry)m(d,r);n.layoutAttributes&&u(t.traceLayoutAttributes,n.layoutAttributes);var h=n.basePlotModule,g=h.name;if("mapbox"===g){var f=h.constants.styleRules;for(var p in f)a(".js-plotly-plot .plotly .mapboxgl-"+p,f[p])}"geo"!==g&&"mapbox"!==g||void 0===("undefined"==typeof window?"undefined":o(window))||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function g(e){if("string"!=typeof e.name)throw new Error("Component module *name* must be a string.");var n=e.name;for(var i in t.componentsRegistry[n]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&r(t.layoutArrayContainers,n),v(e)),t.modules)m(n,i);for(var a in t.subplotsRegistry)b(n,a);for(var o in t.transformsRegistry)y(n,o);e.schema&&e.schema.layout&&d(c,e.schema.layout)}function f(n){if("string"!=typeof n.name)throw new Error("Transform module *name* must be a string.");var r="Transform module "+n.name,a="function"==typeof n.transform,o="function"==typeof n.calcTransform;if(!a&&!o)throw new Error(r+" is missing a *transform* or *calcTransform* method.");for(var s in a&&o&&e.log([r+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),i(n.attributes)||e.log(r+" registered without an *attributes* object."),"function"!=typeof n.supplyDefaults&&e.log(r+" registered without a *supplyDefaults* method."),t.transformsRegistry[n.name]=n,t.componentsRegistry)y(s,n.name)}function p(e){var n=e.name,r=n.split("-")[0],i=e.dictionary,a=e.format,o=i&&Object.keys(i).length,s=a&&Object.keys(a).length,l=t.localeRegistry,c=l[n];if(c||(l[n]=c={}),r!==n){var u=l[r];u||(l[r]=u={}),o&&u.dictionary===c.dictionary&&(u.dictionary=i),s&&u.format===c.format&&(u.format=a)}o&&(c.dictionary=i),s&&(c.format=a)}function v(e){if(e.layoutAttributes){var n=e.layoutAttributes._arrayAttrRegexps;if(n)for(var i=0;i<n.length;i++)r(t.layoutArrayRegexes,n[i])}}function m(e,n){var r=t.componentsRegistry[e].schema;if(r&&r.traces){var i=r.traces[n];i&&d(t.modules[n]._module.attributes,i)}}function y(e,n){var r=t.componentsRegistry[e].schema;if(r&&r.transforms){var i=r.transforms[n];i&&d(t.transformsRegistry[n].attributes,i)}}function b(e,n){var r=t.componentsRegistry[e].schema;if(r&&r.subplots){var i=t.subplotsRegistry[n],a=i.layoutAttributes,o="subplot"===i.attr?i.name:i.attr;Array.isArray(o)&&(o=o[0]);var s=r.subplots[o];a&&s&&d(a,s)}}function I(t){return"object"===o(t)&&(t=t.type),t}t.modules={},t.allCategories={},t.allTypes=[],t.subplotsRegistry={},t.transformsRegistry={},t.componentsRegistry={},t.layoutArrayContainers=[],t.layoutArrayRegexes=[],t.traceLayoutAttributes={},t.localeRegistry={},t.apiMethodRegistry={},t.collectableSubplotTypes=null,t.register=function(e){if(t.collectableSubplotTypes=null,!e)throw new Error("No argument passed to Plotly.register.");e&&!Array.isArray(e)&&(e=[e]);for(var n=0;n<e.length;n++){var r=e[n];if(!r)throw new Error("Invalid module was attempted to be registered!");switch(r.moduleType){case"trace":h(r);break;case"transform":f(r);break;case"component":g(r);break;case"locale":p(r);break;case"apiMethod":var i=r.name;t.apiMethodRegistry[i]=r.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},t.getModule=function(e){var n=t.modules[I(e)];return!!n&&n._module},t.traceIs=function(n,r){if("various"===(n=I(n)))return!1;var i=t.modules[n];return i||(n&&e.log("Unrecognized trace type "+n+"."),i=t.modules[l.type.dflt]),!!i.categories[r]},t.getTransformIndices=function(t,e){for(var n=[],r=t.transforms||[],i=0;i<r.length;i++)r[i].type===e&&n.push(i);return n},t.hasTransform=function(t,e){for(var n=t.transforms||[],r=0;r<n.length;r++)if(n[r].type===e)return!0;return!1},t.getComponentMethod=function(e,r){var i=t.componentsRegistry[e];return i&&i[r]||n},t.call=function(){var e=arguments[0],n=[].slice.call(arguments,1);return t.apiMethodRegistry[e].apply(null,n)}}(met),function(t){var e,n,r=w6.timeFormat,i=z6,a=aet.exports,s=Ctt.mod,l=J6.BADNUM,c=J6.ONEDAY,u=J6.ONEHOUR,d=J6.ONEMIN,h=J6.ONESEC,g=J6.EPOCHJD,f=met,p=w6.utcFormat,v=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,y=(new Date).getFullYear()-70;function b(t){return t&&f.componentsRegistry.calendars&&"string"==typeof t&&"gregorian"!==t}function I(t,e){return String(t+Math.pow(10,e)).substr(1)}t.dateTick0=function(e,n){var r=function(t,e){return b(t)?e?f.getComponentMethod("calendars","CANONICAL_SUNDAY")[t]:f.getComponentMethod("calendars","CANONICAL_TICK")[t]:e?"2000-01-02":"2000-01-01"}(e,!!n);if(n<2)return r;var i=t.dateTime2ms(r,e);return i+=c*(n-1),t.ms2DateTime(i,0,e)},t.dfltRange=function(t){return b(t)?f.getComponentMethod("calendars","DFLTRANGE")[t]:["2000-01-01","2001-01-01"]},t.isJSDate=function(t){return"object"===o(t)&&null!==t&&"function"==typeof t.getTime},t.dateTime2ms=function(r,i){if(t.isJSDate(r)){var a=r.getTimezoneOffset()*d,o=(r.getUTCMinutes()-r.getMinutes())*d+(r.getUTCSeconds()-r.getSeconds())*h+(r.getUTCMilliseconds()-r.getMilliseconds());if(o){var p=3*d;a=a-p/2+s(o-a+p/2,p)}return(r=Number(r)-a)>=e&&r<=n?r:l}if("string"!=typeof r&&"number"!=typeof r)return l;r=String(r);var I=b(i),C=r.charAt(0);!I||"G"!==C&&"g"!==C||(r=r.substr(1),i="");var x=I&&"chinese"===i.substr(0,7),B=r.match(x?m:v);if(!B)return l;var A=B[1],F=B[3]||"1",Q=Number(B[5]||1),w=Number(B[7]||0),U=Number(B[9]||0),G=Number(B[11]||0);if(I){if(2===A.length)return l;var R;A=Number(A);try{var S=f.getComponentMethod("calendars","getCal")(i);if(x){var L="i"===F.charAt(F.length-1);F=parseInt(F,10),R=S.newDate(A,S.toMonthIndex(A,F,L),Q)}else R=S.newDate(A,Number(F),Q)}catch(t){return l}return R?(R.toJD()-g)*c+w*u+U*d+G*h:l}A=2===A.length?(Number(A)+2e3-y)%100+y:Number(A),F-=1;var _=new Date(Date.UTC(2e3,F,Q,w,U));return _.setUTCFullYear(A),_.getUTCMonth()!==F||_.getUTCDate()!==Q?l:_.getTime()+G*h},e=t.MIN_MS=t.dateTime2ms("-9999"),n=t.MAX_MS=t.dateTime2ms("9999-12-31 23:59:59.9999"),t.isDateTime=function(e,n){return t.dateTime2ms(e,n)!==l};var C=90*c,x=3*u,B=5*d;function A(t,e,n,r,i){if((e||n||r||i)&&(t+=" "+I(e,2)+":"+I(n,2),(r||i)&&(t+=":"+I(r,2),i))){for(var a=4;i%10==0;)a-=1,i/=10;t+="."+I(i,a)}return t}t.ms2DateTime=function(t,r,i){if("number"!=typeof t||!(t>=e&&t<=n))return l;r||(r=0);var a,o,v,m,y,I,F=Math.floor(10*s(t+.05,1)),Q=Math.round(t-F/10);if(b(i)){var w=Math.floor(Q/c)+g,U=Math.floor(s(t,c));try{a=f.getComponentMethod("calendars","getCal")(i).fromJD(w).formatDate("yyyy-mm-dd")}catch(t){a=p("G%Y-%m-%d")(new Date(Q))}if("-"===a.charAt(0))for(;a.length<11;)a="-0"+a.substr(1);else for(;a.length<10;)a="0"+a;o=r<C?Math.floor(U/u):0,v=r<C?Math.floor(U%u/d):0,m=r<x?Math.floor(U%d/h):0,y=r<B?U%h*10+F:0}else I=new Date(Q),a=p("%Y-%m-%d")(I),o=r<C?I.getUTCHours():0,v=r<C?I.getUTCMinutes():0,m=r<x?I.getUTCSeconds():0,y=r<B?10*I.getUTCMilliseconds()+F:0;return A(a,o,v,m,y)},t.ms2DateTimeLocal=function(t){if(!(t>=e+c&&t<=n-c))return l;var i=Math.floor(10*s(t+.05,1)),a=new Date(Math.round(t-i/10));return A(r("%Y-%m-%d")(a),a.getHours(),a.getMinutes(),a.getSeconds(),10*a.getUTCMilliseconds()+i)},t.cleanDate=function(e,n,r){if(e===l)return n;if(t.isJSDate(e)||"number"==typeof e&&isFinite(e)){if(b(r))return a.error("JS Dates and milliseconds are incompatible with world calendars",e),n;if(!(e=t.ms2DateTimeLocal(+e))&&void 0!==n)return n}else if(!t.isDateTime(e,r))return a.error("unrecognized date",e),n;return e};var F=/%\d?f/g,Q=/%h/g,w={1:"1",2:"1",3:"2",4:"2"};function U(t,e,n,r){t=t.replace(F,(function(t){var n=Math.min(+t.charAt(1)||6,6);return(e/1e3%1+2).toFixed(n).substr(2).replace(/0+$/,"")||"0"}));var i=new Date(Math.floor(e+.05));if(t=t.replace(Q,(function(){return w[n("%q")(i)]})),b(r))try{t=f.getComponentMethod("calendars","worldCalFmt")(t,e,r)}catch(t){return"Invalid"}return n(t)(i)}var G=[59,59.9,59.99,59.999,59.9999];t.formatDate=function(t,e,n,r,a,o){if(a=b(a)&&a,!e)if("y"===n)e=o.year;else if("m"===n)e=o.month;else{if("d"!==n)return function(t,e){var n=s(t+.05,c),r=I(Math.floor(n/u),2)+":"+I(s(Math.floor(n/d),60),2);if("M"!==e){i(e)||(e=0);var a=(100+Math.min(s(t/h,60),G[e])).toFixed(e).substr(1);e>0&&(a=a.replace(/0+$/,"").replace(/[\.]$/,"")),r+=":"+a}return r}(t,n)+"\n"+U(o.dayMonthYear,t,r,a);e=o.dayMonth+"\n"+o.year}return U(e,t,r,a)};var R=3*c;t.incrementMonth=function(t,e,n){n=b(n)&&n;var r=s(t,c);if(t=Math.round(t-r),n)try{var i=Math.round(t/c)+g,o=f.getComponentMethod("calendars","getCal")(n),l=o.fromJD(i);return e%12?o.add(l,e,"m"):o.add(l,e/12,"y"),(l.toJD()-g)*c+r}catch(e){a.error("invalid ms "+t+" in calendar "+n)}var u=new Date(t+R);return u.setUTCMonth(u.getUTCMonth()+e)+r-R},t.findExactDates=function(t,e){for(var n,r,a=0,o=0,s=0,l=0,u=b(e)&&f.getComponentMethod("calendars","getCal")(e),d=0;d<t.length;d++)if(r=t[d],i(r)){if(!(r%c))if(u)try{1===(n=u.fromJD(r/c+g)).day()?1===n.month()?a++:o++:s++}catch(t){}else 1===(n=new Date(r)).getUTCDate()?0===n.getUTCMonth()?a++:o++:s++}else l++;s+=o+=a;var h=t.length-l;return{exactYears:a/h,exactMonths:o/h,exactDays:s/h}}}(iet);var Cnt={},xnt=function(t){return t};!function(t){var e=z6,n=aet.exports,r=xnt,i=J6.BADNUM,a=1e-9;function o(t,e){return t<e}function s(t,e){return t<=e}function l(t,e){return t>e}function c(t,e){return t>=e}t.findBin=function(t,r,i){if(e(r.start))return i?Math.ceil((t-r.start)/r.size-a)-1:Math.floor((t-r.start)/r.size+a);var u,d,h=0,g=r.length,f=0,p=g>1?(r[g-1]-r[0])/(g-1):1;for(d=p>=0?i?o:s:i?c:l,t+=p*a*(i?-1:1)*(p>=0?1:-1);h<g&&f++<100;)d(r[u=Math.floor((h+g)/2)],t)?h=u+1:g=u;return f>90&&n.log("Long binary search..."),h-1},t.sorterAsc=function(t,e){return t-e},t.sorterDes=function(t,e){return e-t},t.distinctVals=function(e){var n,r=e.slice();for(r.sort(t.sorterAsc),n=r.length-1;n>-1&&r[n]===i;n--);for(var a,o=r[n]-r[0]||1,s=o/(n||1)/1e4,l=[],c=0;c<=n;c++){var u=r[c],d=u-a;void 0===a?(l.push(u),a=u):d>s&&(o=Math.min(o,d),l.push(u),a=u)}return{vals:l,minDiff:o}},t.roundUp=function(t,e,n){for(var r,i=0,a=e.length-1,o=0,s=n?0:1,l=n?1:0,c=n?Math.ceil:Math.floor;i<a&&o++<100;)e[r=c((i+a)/2)]<=t?i=r+s:a=r-l;return e[i]},t.sort=function(t,e){for(var n=0,r=0,i=1;i<t.length;i++){var a=e(t[i],t[i-1]);if(a<0?n=1:a>0&&(r=1),n&&r)return t.sort(e)}return r?t:t.reverse()},t.findIndexOfMin=function(t,e){e=e||r;for(var n,i=1/0,a=0;a<t.length;a++){var o=e(t[a]);o<i&&(i=o,n=a)}return n}}(Cnt);var Bnt=function(t){return Object.keys(t).sort()},Ant={};!function(t){var e=z6,n=j6.isArrayOrTypedArray;t.aggNums=function(r,i,a,o){var s,l;if((!o||o>a.length)&&(o=a.length),e(i)||(i=!1),n(a[0])){for(l=new Array(o),s=0;s<o;s++)l[s]=t.aggNums(r,i,a[s]);a=l}for(s=0;s<o;s++)e(i)?e(a[s])&&(i=r(+i,+a[s])):i=a[s];return i},t.len=function(e){return t.aggNums((function(t){return t+1}),0,e)},t.mean=function(e,n){return n||(n=t.len(e)),t.aggNums((function(t,e){return t+e}),0,e)/n},t.midRange=function(e){if(void 0!==e&&0!==e.length)return(t.aggNums(Math.max,null,e)+t.aggNums(Math.min,null,e))/2},t.variance=function(n,r,i){return r||(r=t.len(n)),e(i)||(i=t.mean(n,r)),t.aggNums((function(t,e){return t+Math.pow(e-i,2)}),0,n)/r},t.stdev=function(e,n,r){return Math.sqrt(t.variance(e,n,r))},t.median=function(e){var n=e.slice().sort();return t.interp(n,.5)},t.interp=function(t,n){if(!e(n))throw"n should be a finite number";if((n=n*t.length-.5)<0)return t[0];if(n>t.length-1)return t[t.length-1];var r=n%1;return r*t[Math.ceil(n)]+(1-r)*t[Math.floor(n)]}}(Ant);var Fnt=Ctt.mod,Qnt=Ctt.modHalf,wnt=Math.PI,Unt=2*wnt;function Gnt(t){return Math.abs(t[1]-t[0])>Unt-1e-14}function Rnt(t,e){return Qnt(e-t,Unt)}function Snt(t,e){if(Gnt(e))return!0;var n,r;e[0]<e[1]?(n=e[0],r=e[1]):(n=e[1],r=e[0]),(n=Fnt(n,Unt))>(r=Fnt(r,Unt))&&(r+=Unt);var i=Fnt(t,Unt),a=i+Unt;return i>=n&&i<=r||a>=n&&a<=r}function Lnt(t,e,n,r,i,a,o){i=i||0,a=a||0;var s,l,c,u,d,h=Gnt([n,r]);function g(t,e){return[t*Math.cos(e)+i,a-t*Math.sin(e)]}h?(s=0,l=wnt,c=Unt):n<r?(s=n,c=r):(s=r,c=n),t<e?(u=t,d=e):(u=e,d=t);var f,p=Math.abs(c-s)<=wnt?0:1;function v(t,e,n){return"A"+[t,t]+" "+[0,p,n]+" "+g(t,e)}return h?f=null===u?"M"+g(d,s)+v(d,l,0)+v(d,c,0)+"Z":"M"+g(u,s)+v(u,l,0)+v(u,c,0)+"ZM"+g(d,s)+v(d,l,1)+v(d,c,1)+"Z":null===u?(f="M"+g(d,s)+v(d,c,0),o&&(f+="L0,0Z")):f="M"+g(u,s)+"L"+g(d,s)+v(d,c,0)+"L"+g(u,c)+v(u,s,1)+"Z",f}var _nt,Ent,knt,Vnt={deg2rad:function(t){return t/180*wnt},rad2deg:function(t){return t/wnt*180},angleDelta:Rnt,angleDist:function(t,e){return Math.abs(Rnt(t,e))},isFullCircle:Gnt,isAngleInsideSector:Snt,isPtInsideSector:function(t,e,n,r){return!!Snt(e,r)&&(n[0]<n[1]?(i=n[0],a=n[1]):(i=n[1],a=n[0]),t>=i&&t<=a);var i,a},pathArc:function(t,e,n,r,i){return Lnt(null,t,e,n,r,i,0)},pathSector:function(t,e,n,r,i){return Lnt(null,t,e,n,r,i,1)},pathAnnulus:function(t,e,n,r,i,a){return Lnt(t,e,n,r,i,a,1)}},Znt={isLeftAnchor:function(t){return"left"===t.xanchor||"auto"===t.xanchor&&t.x<=1/3},isCenterAnchor:function(t){return"center"===t.xanchor||"auto"===t.xanchor&&t.x>1/3&&t.x<2/3},isRightAnchor:function(t){return"right"===t.xanchor||"auto"===t.xanchor&&t.x>=2/3},isTopAnchor:function(t){return"top"===t.yanchor||"auto"===t.yanchor&&t.y>=2/3},isMiddleAnchor:function(t){return"middle"===t.yanchor||"auto"===t.yanchor&&t.y>1/3&&t.y<2/3},isBottomAnchor:function(t){return"bottom"===t.yanchor||"auto"===t.yanchor&&t.y<=1/3}},Nnt={},Tnt=Ctt.mod;function Xnt(t,e,n,r,i,a,o,s){var l=n-t,c=i-t,u=o-i,d=r-e,h=a-e,g=s-a,f=l*g-u*d;if(0===f)return null;var p=(c*g-u*h)/f,v=(c*d-l*h)/f;return v<0||v>1||p<0||p>1?null:{x:t+l*p,y:e+d*p}}function Wnt(t,e,n,r,i){var a=r*t+i*e;if(a<0)return r*r+i*i;if(a>n){var o=r-t,s=i-e;return o*o+s*s}var l=r*e-i*t;return l*l/n}Nnt.segmentsIntersect=Xnt,Nnt.segmentDistance=function(t,e,n,r,i,a,o,s){if(Xnt(t,e,n,r,i,a,o,s))return 0;var l=n-t,c=r-e,u=o-i,d=s-a,h=l*l+c*c,g=u*u+d*d,f=Math.min(Wnt(l,c,h,i-t,a-e),Wnt(l,c,h,o-t,s-e),Wnt(u,d,g,t-i,e-a),Wnt(u,d,g,n-i,r-a));return Math.sqrt(f)},Nnt.getTextLocation=function(t,e,n,r){if(t===Ent&&r===knt||(_nt={},Ent=t,knt=r),_nt[n])return _nt[n];var i=t.getPointAtLength(Tnt(n-r/2,e)),a=t.getPointAtLength(Tnt(n+r/2,e)),o=Math.atan((a.y-i.y)/(a.x-i.x)),s=t.getPointAtLength(Tnt(n,e)),l={x:(4*s.x+i.x+a.x)/6,y:(4*s.y+i.y+a.y)/6,theta:o};return _nt[n]=l,l},Nnt.clearLocationCache=function(){Ent=null},Nnt.getVisibleSegment=function(t,e,n){var r,i,a=e.left,o=e.right,s=e.top,l=e.bottom,c=0,u=t.getTotalLength(),d=u;function h(e){var n=t.getPointAtLength(e);0===e?r=n:e===u&&(i=n);var c=n.x<a?a-n.x:n.x>o?n.x-o:0,d=n.y<s?s-n.y:n.y>l?n.y-l:0;return Math.sqrt(c*c+d*d)}for(var g=h(c);g;){if((c+=g+n)>d)return;g=h(c)}for(g=h(d);g;){if(c>(d-=g+n))return;g=h(d)}return{min:c,max:d,len:d-c,total:u,isClosed:0===c&&d===u&&Math.abs(r.x-i.x)<.1&&Math.abs(r.y-i.y)<.1}},Nnt.findPointOnPath=function(t,e,n,r){for(var i,a,o,s=(r=r||{}).pathLength||t.getTotalLength(),l=r.tolerance||.001,c=r.iterationLimit||30,u=t.getPointAtLength(0)[n]>t.getPointAtLength(s)[n]?-1:1,d=0,h=0,g=s;d<c;){if(i=(h+g)/2,o=(a=t.getPointAtLength(i))[n]-e,Math.abs(o)<l)return a;u*o>0?g=i:h=i,d++}return a};var Mnt={};!function(t){var e={};function n(t){t&&null!==t.timer&&(clearTimeout(t.timer),t.timer=null)}t.throttle=function(t,r,i){var a=e[t],o=Date.now();if(!a){for(var s in e)e[s].ts<o-6e4&&delete e[s];a=e[t]={ts:0,timer:null}}function l(){i(),a.ts=Date.now(),a.onDone&&(a.onDone(),a.onDone=null)}n(a),o>a.ts+r?l():a.timer=setTimeout((function(){l(),a.timer=null}),r)},t.done=function(t){var n=e[t];return n&&n.timer?new Promise((function(t){var e=n.onDone;n.onDone=function(){e&&e(),t(),n.onDone=null}})):Promise.resolve()},t.clear=function(r){if(r)n(e[r]),delete e[r];else for(var i in e)t.clear(i)}}(Mnt);var Hnt={exports:{}};Hnt.exports=Ont,Hnt.exports.isMobile=Ont,Hnt.exports.default=Ont;var Dnt=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,Ynt=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function Ont(t){t||(t={});var e=t.ua;if(e||"undefined"==typeof navigator||(e=navigator.userAgent),e&&e.headers&&"string"==typeof e.headers["user-agent"]&&(e=e.headers["user-agent"]),"string"!=typeof e)return!1;var n=t.tablet?Ynt.test(e):Dnt.test(e);return!n&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==e.indexOf("Macintosh")&&-1!==e.indexOf("Safari")&&(n=!0),n}var znt=z6,Jnt=Hnt.exports;var jnt=w4.exports,Pnt=met;function Knt(t){return!0===t.visible}function qnt(t){var e=t[0].trace;return!0===e.visible&&0!==e._length}var $nt=z6,trt=J6.BADNUM,ert=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g,nrt=w4.exports,rrt=w6.utcFormat,irt=Y6.format,art=z6,ort=J6.FP_SAFE,srt=-ort,lrt=J6.BADNUM,crt=Q4.exports={};crt.adjustFormat=function(t){return!t||/^\d[.]\df/.test(t)||/[.]\d%/.test(t)?t:"0.f"===t?"~f":/^\d%/.test(t)?"~%":/^\ds/.test(t)?"~s":!/^[~,.0$]/.test(t)&&/[&fps]/.test(t)?"~"+t:t};var urt={};crt.warnBadFormat=function(t){var e=String(t);urt[e]||(urt[e]=1,crt.warn('encountered bad format: "'+e+'"'))},crt.noFormat=function(t){return String(t)},crt.numberFormat=function(t){var e;try{e=irt(crt.adjustFormat(t))}catch(e){return crt.warnBadFormat(t),crt.noFormat}return e},crt.nestedProperty=itt,crt.keyedContainer=function(t,e,n,r){var i,a,o;n=n||"name",r=r||"value";var s={};e&&e.length?(o=htt(t,e),a=o.get()):a=t,e=e||"";var l={};if(a)for(i=0;i<a.length;i++)l[a[i][n]]=i;var c=gtt.test(r),u={set:function(t,e){var i=null===e?4:0;if(!a){if(!o||4===i)return;a=[],o.set(a)}var d=l[t];if(void 0===d){if(4===i)return;i|=3,d=a.length,l[t]=d}else e!==(c?a[d][r]:htt(a[d],r).get())&&(i|=2);var h=a[d]=a[d]||{};return h[n]=t,c?h[r]=e:htt(h,r).set(e),null!==e&&(i&=-5),s[d]=s[d]|i,u},get:function(t){if(a){var e=l[t];return void 0===e?void 0:c?a[e][r]:htt(a[e],r).get()}},rename:function(t,e){var r=l[t];return void 0===r||(s[r]=1|s[r],l[e]=r,delete l[t],a[r][n]=e),u},remove:function(t){var e=l[t];if(void 0===e)return u;var o=a[e];if(Object.keys(o).length>2)return s[e]=2|s[e],u.set(t,null);if(c){for(i=e;i<a.length;i++)s[i]=3|s[i];for(i=e;i<a.length;i++)l[a[i][n]]--;a.splice(e,1),delete l[t]}else htt(o,r).set(null),s[e]=6|s[e];return u},constructUpdate:function(){for(var t,i,o={},l=Object.keys(s),u=0;u<l.length;u++)i=l[u],t=e+"["+i+"]",a[i]?(1&s[i]&&(o[t+"."+n]=a[i][n]),2&s[i]&&(o[t+"."+r]=c?4&s[i]?null:a[i][r]:4&s[i]?null:htt(a[i],r).get())):o[t]=null;return o}};return u},crt.relativeAttr=function(t,e){for(;e;){var n=t.match(ftt);if(n)t=n[1];else{if(!t.match(ptt))throw new Error("bad relativeAttr call:"+[t,e]);t=""}if("^"!==e.charAt(0))break;e=e.slice(1)}return t&&"["!==e.charAt(0)?t+"."+e:t+e},crt.isPlainObject=vtt,crt.toLogRange=ytt,crt.relinkPrivateKeys=function t(e,n){for(var r in n){var i=n[r],a=e[r];if(a!==i)if("_"===r.charAt(0)||"function"==typeof i){if(r in e)continue;e[r]=i}else if(btt(i)&&btt(a)&&Itt(i[0])){if("customdata"===r||"ids"===r)continue;for(var o=Math.min(i.length,a.length),s=0;s<o;s++)a[s]!==i[s]&&Itt(i[s])&&Itt(a[s])&&t(a[s],i[s])}else Itt(i)&&Itt(a)&&(t(a,i),Object.keys(a).length||delete e[r])}};var drt=j6;crt.isTypedArray=drt.isTypedArray,crt.isArrayOrTypedArray=drt.isArrayOrTypedArray,crt.isArray1D=drt.isArray1D,crt.ensureArray=drt.ensureArray,crt.concat=drt.concat,crt.maxRowLength=drt.maxRowLength,crt.minRowLength=drt.minRowLength;var hrt=Ctt;crt.mod=hrt.mod,crt.modHalf=hrt.modHalf;var grt=xtt;crt.valObjectMeta=grt.valObjectMeta,crt.coerce=grt.coerce,crt.coerce2=grt.coerce2,crt.coerceFont=grt.coerceFont,crt.coercePattern=grt.coercePattern,crt.coerceHoverinfo=grt.coerceHoverinfo,crt.coerceSelectionMarkerOpacity=grt.coerceSelectionMarkerOpacity,crt.validate=grt.validate;var frt=iet;crt.dateTime2ms=frt.dateTime2ms,crt.isDateTime=frt.isDateTime,crt.ms2DateTime=frt.ms2DateTime,crt.ms2DateTimeLocal=frt.ms2DateTimeLocal,crt.cleanDate=frt.cleanDate,crt.isJSDate=frt.isJSDate,crt.formatDate=frt.formatDate,crt.incrementMonth=frt.incrementMonth,crt.dateTick0=frt.dateTick0,crt.dfltRange=frt.dfltRange,crt.findExactDates=frt.findExactDates,crt.MIN_MS=frt.MIN_MS,crt.MAX_MS=frt.MAX_MS;var prt=Cnt;crt.findBin=prt.findBin,crt.sorterAsc=prt.sorterAsc,crt.sorterDes=prt.sorterDes,crt.distinctVals=prt.distinctVals,crt.roundUp=prt.roundUp,crt.sort=prt.sort,crt.findIndexOfMin=prt.findIndexOfMin,crt.sortObjectKeys=Bnt;var vrt=Ant;crt.aggNums=vrt.aggNums,crt.len=vrt.len,crt.mean=vrt.mean,crt.median=vrt.median,crt.midRange=vrt.midRange,crt.variance=vrt.variance,crt.stdev=vrt.stdev,crt.interp=vrt.interp;var mrt=Iet;crt.init2dArray=mrt.init2dArray,crt.transposeRagged=mrt.transposeRagged,crt.dot=mrt.dot,crt.translationMatrix=mrt.translationMatrix,crt.rotationMatrix=mrt.rotationMatrix,crt.rotationXYMatrix=mrt.rotationXYMatrix,crt.apply3DTransform=mrt.apply3DTransform,crt.apply2DTransform=mrt.apply2DTransform,crt.apply2DTransform2=mrt.apply2DTransform2,crt.convertCssMatrix=mrt.convertCssMatrix,crt.inverseTransformMatrix=mrt.inverseTransformMatrix;var yrt=Vnt;crt.deg2rad=yrt.deg2rad,crt.rad2deg=yrt.rad2deg,crt.angleDelta=yrt.angleDelta,crt.angleDist=yrt.angleDist,crt.isFullCircle=yrt.isFullCircle,crt.isAngleInsideSector=yrt.isAngleInsideSector,crt.isPtInsideSector=yrt.isPtInsideSector,crt.pathArc=yrt.pathArc,crt.pathSector=yrt.pathSector,crt.pathAnnulus=yrt.pathAnnulus;var brt=Znt;crt.isLeftAnchor=brt.isLeftAnchor,crt.isCenterAnchor=brt.isCenterAnchor,crt.isRightAnchor=brt.isRightAnchor,crt.isTopAnchor=brt.isTopAnchor,crt.isMiddleAnchor=brt.isMiddleAnchor,crt.isBottomAnchor=brt.isBottomAnchor;var Irt=Nnt;crt.segmentsIntersect=Irt.segmentsIntersect,crt.segmentDistance=Irt.segmentDistance,crt.getTextLocation=Irt.getTextLocation,crt.clearLocationCache=Irt.clearLocationCache,crt.getVisibleSegment=Irt.getVisibleSegment,crt.findPointOnPath=Irt.findPointOnPath;var Crt=Rtt;crt.extendFlat=Crt.extendFlat,crt.extendDeep=Crt.extendDeep,crt.extendDeepAll=Crt.extendDeepAll,crt.extendDeepNoArrays=Crt.extendDeepNoArrays;var xrt=aet.exports;crt.log=xrt.log,crt.warn=xrt.warn,crt.error=xrt.error;var Brt=ret;crt.counterRegex=Brt.counter;var Art=Mnt;crt.throttle=Art.throttle,crt.throttleDone=Art.done,crt.clearThrottle=Art.clear;var Frt=ont;function Qrt(t){var e={};for(var n in t)for(var r=t[n],i=0;i<r.length;i++)e[r[i]]=+n;return e}crt.getGraphDiv=Frt.getGraphDiv,crt.isPlotDiv=Frt.isPlotDiv,crt.removeElement=Frt.removeElement,crt.addStyleRule=Frt.addStyleRule,crt.addRelatedStyleRule=Frt.addRelatedStyleRule,crt.deleteRelatedStyleRule=Frt.deleteRelatedStyleRule,crt.getFullTransformMatrix=Frt.getFullTransformMatrix,crt.getElementTransformMatrix=Frt.getElementTransformMatrix,crt.getElementAndAncestors=Frt.getElementAndAncestors,crt.equalDomRects=Frt.equalDomRects,crt.clearResponsive=function(t){t._responsiveChartHandler&&(window.removeEventListener("resize",t._responsiveChartHandler),delete t._responsiveChartHandler)},crt.preserveDrawingBuffer=function(t){var e;if("string"!=typeof(e=t&&t.hasOwnProperty("userAgent")?t.userAgent:function(){var t;"undefined"!=typeof navigator&&(t=navigator.userAgent);t&&t.headers&&"string"==typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]);return t}()))return!0;var n=Jnt({ua:{headers:{"user-agent":e}},tablet:!0,featureDetect:!1});if(!n)for(var r=e.split(" "),i=1;i<r.length;i++){if(-1!==r[i].indexOf("Safari"))for(var a=i-1;a>-1;a--){var o=r[a];if("Version/"===o.substr(0,8)){var s=o.substr(8).split(".")[0];if(znt(s)&&(s=+s),s>=13)return!0}}}return n},crt.makeTraceGroups=function(t,e,n){var r=t.selectAll("g."+n.replace(/\s/g,".")).data(e,(function(t){return t[0].trace.uid}));r.exit().remove(),r.enter().append("g").attr("class",n),r.order();var i=t.classed("rangeplot")?"nodeRangePlot3":"node3";return r.each((function(t){t[0][i]=jnt.select(this)})),r},crt._=function(t,e){for(var n=t._context.locale,r=0;r<2;r++){for(var i=t._context.locales,a=0;a<2;a++){var o=(i[n]||{}).dictionary;if(o){var s=o[e];if(s)return s}i=Pnt.localeRegistry}var l=n.split("-")[0];if(l===n)break;n=l}return e},crt.notifier=get,crt.filterUnique=function(t){for(var e={},n=[],r=0,i=0;i<t.length;i++){var a=t[i];1!==e[a]&&(e[a]=1,n[r++]=a)}return n},crt.filterVisible=function(t){for(var e,n=(e=t,Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace?qnt:Knt),r=[],i=0;i<t.length;i++){var a=t[i];n(a)&&r.push(a)}return r},crt.pushUnique=bet,crt.increment=function(t,e){if(!e)return t;var n=1/Math.abs(e),r=n>1?(n*t+n*e)/n:t+e,i=String(r).length;if(i>16){var a=String(e).length;if(i>=String(t).length+a){var o=parseFloat(r).toPrecision(12);-1===o.indexOf("e+")&&(r=+o)}}return r},crt.cleanNumber=function(t){return"string"==typeof t&&(t=t.replace(ert,"")),$nt(t)?Number(t):trt},crt.ensureNumber=function(t){return art(t)?(t=Number(t))>ort||t<srt?lrt:t:lrt},crt.isIndex=function(t,e){return!(void 0!==e&&t>=e)&&(art(t)&&t>=0&&t%1==0)},crt.noop=yet,crt.identity=xnt,crt.repeat=function(t,e){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n},crt.swapAttrs=function(t,e,n,r){n||(n="x"),r||(r="y");for(var i=0;i<e.length;i++){var a=e[i],o=crt.nestedProperty(t,a.replace("?",n)),s=crt.nestedProperty(t,a.replace("?",r)),l=o.get();o.set(s.get()),s.set(l)}},crt.raiseToTop=function(t){t.parentNode.appendChild(t)},crt.cancelTransition=function(t){return t.transition().duration(0)},crt.constrain=function(t,e,n){return e>n?Math.max(n,Math.min(e,t)):Math.max(e,Math.min(n,t))},crt.bBoxIntersect=function(t,e,n){return n=n||0,t.left<=e.right+n&&e.left<=t.right+n&&t.top<=e.bottom+n&&e.top<=t.bottom+n},crt.simpleMap=function(t,e,n,r,i){for(var a=t.length,o=new Array(a),s=0;s<a;s++)o[s]=e(t[s],n,r,i);return o},crt.randstr=function t(e,n,r,i){if(r||(r=16),void 0===n&&(n=24),n<=0)return"0";var a,o,s=Math.log(Math.pow(2,n))/Math.log(r),l="";for(a=2;s===1/0;a*=2)s=Math.log(Math.pow(2,n/a))/Math.log(r)*a;var c=s-Math.floor(s);for(a=0;a<Math.floor(s);a++)l=Math.floor(Math.random()*r).toString(r)+l;c&&(o=Math.pow(r,c),l=Math.floor(Math.random()*o).toString(r)+l);var u=parseInt(l,r);return e&&e[l]||u!==1/0&&u>=Math.pow(2,n)?i>10?(crt.warn("randstr failed uniqueness"),l):t(e,n,r,(i||0)+1):l},crt.OptionControl=function(t,e){t||(t={}),e||(e="opt");var n={optionList:[],_newoption:function(r){r[e]=t,n[r.name]=r,n.optionList.push(r)}};return n["_"+e]=t,n},crt.smooth=function(t,e){if((e=Math.round(e)||0)<2)return t;var n,r,i,a,o=t.length,s=2*o,l=2*e-1,c=new Array(l),u=new Array(o);for(n=0;n<l;n++)c[n]=(1-Math.cos(Math.PI*(n+1)/e))/(2*e);for(n=0;n<o;n++){for(a=0,r=0;r<l;r++)(i=n+r+1-e)<-o?i-=s*Math.round(i/s):i>=s&&(i-=s*Math.floor(i/s)),i<0?i=-1-i:i>=o&&(i=s-1-i),a+=t[i]*c[r];u[n]=a}return u},crt.syncOrAsync=function(t,e,n){var r;function i(){return crt.syncOrAsync(t,e,n)}for(;t.length;)if((r=(0,t.splice(0,1)[0])(e))&&r.then)return r.then(i);return n&&n(e)},crt.stripTrailingSlash=function(t){return"/"===t.substr(-1)?t.substr(0,t.length-1):t},crt.noneOrAll=function(t,e,n){if(t){var r,i=!1,a=!0;for(r=0;r<n.length;r++)null!=t[n[r]]?i=!0:a=!1;if(i&&!a)for(r=0;r<n.length;r++)t[n[r]]=e[n[r]]}},crt.mergeArray=function(t,e,n,r){var i="function"==typeof r;if(crt.isArrayOrTypedArray(t))for(var a=Math.min(t.length,e.length),o=0;o<a;o++){var s=t[o];e[o][n]=i?r(s):s}},crt.mergeArrayCastPositive=function(t,e,n){return crt.mergeArray(t,e,n,(function(t){var e=+t;return isFinite(e)&&e>0?e:0}))},crt.fillArray=function(t,e,n,r){if(r=r||crt.identity,crt.isArrayOrTypedArray(t))for(var i=0;i<e.length;i++)e[i][n]=r(t[i])},crt.castOption=function(t,e,n,r){r=r||crt.identity;var i=crt.nestedProperty(t,n).get();return crt.isArrayOrTypedArray(i)?Array.isArray(e)&&crt.isArrayOrTypedArray(i[e[0]])?r(i[e[0]][e[1]]):r(i[e]):i},crt.extractOption=function(t,e,n,r){if(n in t)return t[n];var i=crt.nestedProperty(e,r).get();return Array.isArray(i)?void 0:i},crt.tagSelected=function(t,e,n){var r,i=e.selectedpoints,a=e._indexToPoints;function o(e){return void 0!==e&&e<t.length}a&&(r=Qrt(a));for(var s=0;s<i.length;s++){var l=i[s];if(crt.isIndex(l)||crt.isArrayOrTypedArray(l)&&crt.isIndex(l[0])&&crt.isIndex(l[1])){var c=r?r[l]:l,u=n?n[c]:c;o(u)&&(t[u].selected=1)}}},crt.selIndices2selPoints=function(t){var e=t.selectedpoints,n=t._indexToPoints;if(n){for(var r=Qrt(n),i=[],a=0;a<e.length;a++){var o=e[a];if(crt.isIndex(o)){var s=r[o];crt.isIndex(s)&&i.push(s)}}return i}return e},crt.getTargetArray=function(t,e){var n=e.target;if("string"==typeof n&&n){var r=crt.nestedProperty(t,n).get();return!!Array.isArray(r)&&r}return!!Array.isArray(n)&&n},crt.minExtend=function(t,e){var n={};"object"!==o(e)&&(e={});var r,i,a,s=Object.keys(t);for(r=0;r<s.length;r++)a=t[i=s[r]],"_"!==i.charAt(0)&&"function"!=typeof a&&("module"===i?n[i]=a:Array.isArray(a)?n[i]="colorscale"===i?a.slice():a.slice(0,3):crt.isTypedArray(a)?n[i]=a.subarray(0,3):a&&"object"===o(a)?n[i]=crt.minExtend(t[i],e[i]):n[i]=a);for(s=Object.keys(e),r=0;r<s.length;r++)"object"===o(a=e[i=s[r]])&&i in n&&"object"===o(n[i])||(n[i]=a);return n},crt.titleCase=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},crt.containsAny=function(t,e){for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!0;return!1},crt.isIE=function(){return void 0!==window.navigator.msSaveBlob};var wrt=/Version\/[\d\.]+.*Safari/;crt.isSafari=function(){return wrt.test(window.navigator.userAgent)};var Urt=/iPad|iPhone|iPod/;crt.isIOS=function(){return Urt.test(window.navigator.userAgent)};var Grt=/Firefox\/(\d+)\.\d+/;crt.getFirefoxVersion=function(){var t=Grt.exec(window.navigator.userAgent);if(t&&2===t.length){var e=parseInt(t[1]);if(!isNaN(e))return e}return null},crt.isD3Selection=function(t){return t instanceof nrt.selection},crt.ensureSingle=function(t,e,n,r){var i=t.select(e+(n?"."+n:""));if(i.size())return i;var a=t.append(e);return n&&a.classed(n,!0),r&&a.call(r),a},crt.ensureSingleById=function(t,e,n,r){var i=t.select(e+"#"+n);if(i.size())return i;var a=t.append(e).attr("id",n);return r&&a.call(r),a},crt.objectFromPath=function(t,e){for(var n,r=t.split("."),i=n={},a=0;a<r.length;a++){var o=r[a],s=null,l=r[a].match(/(.*)\[([0-9]+)\]/);l?(o=l[1],s=l[2],n=n[o]=[],a===r.length-1?n[s]=e:n[s]={},n=n[s]):(a===r.length-1?n[o]=e:n[o]={},n=n[o])}return i};var Rrt=/^([^\[\.]+)\.(.+)?/,Srt=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;crt.expandObjectPaths=function(t){var e,n,r,i,a,s,l;if("object"===o(t)&&!Array.isArray(t))for(n in t)t.hasOwnProperty(n)&&((e=n.match(Rrt))?(i=t[n],r=e[1],delete t[n],t[r]=crt.extendDeepNoArrays(t[r]||{},crt.objectFromPath(n,crt.expandObjectPaths(i))[r])):(e=n.match(Srt))?(i=t[n],r=e[1],a=parseInt(e[2]),delete t[n],t[r]=t[r]||[],"."===e[3]?(l=e[4],s=t[r][a]=t[r][a]||{},crt.extendDeepNoArrays(s,crt.objectFromPath(l,crt.expandObjectPaths(i)))):t[r][a]=crt.expandObjectPaths(i)):t[n]=crt.expandObjectPaths(t[n]));return t},crt.numSeparate=function(t,e,n){if(n||(n=!1),"string"!=typeof e||0===e.length)throw new Error("Separator string required for formatting!");"number"==typeof t&&(t=String(t));var r=/(\d+)(\d{3})/,i=e.charAt(0),a=e.charAt(1),o=t.split("."),s=o[0],l=o.length>1?i+o[1]:"";if(a&&(o.length>1||s.length>4||n))for(;r.test(s);)s=s.replace(r,"$1"+a+"$2");return s+l},crt.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var Lrt=/^\w*$/;crt.templateString=function(t,e){var n={};return t.replace(crt.TEMPLATE_STRING_REGEX,(function(t,r){var i;return Lrt.test(r)?i=e[r]:(n[r]=n[r]||crt.nestedProperty(e,r).get,i=n[r]()),crt.isValidTextValue(i)?i:""}))};var _rt={max:10,count:0,name:"hovertemplate"};crt.hovertemplateString=function(){return Vrt.apply(_rt,arguments)};var Ert={max:10,count:0,name:"texttemplate"};crt.texttemplateString=function(){return Vrt.apply(Ert,arguments)};var krt=/^[:|\|]/;function Vrt(t,e,n){var r=this,i=arguments;e||(e={});var a={};return t.replace(crt.TEMPLATE_STRING_REGEX,(function(t,o,s){var l,c,u,d="_xother"===o||"_yother"===o,h="_xother_"===o||"_yother_"===o,g="xother_"===o||"yother_"===o,f="xother"===o||"yother"===o||d||g||h,p=o;if((d||h)&&(p=p.substring(1)),(g||h)&&(p=p.substring(0,p.length-1)),f){if(void 0===(l=e[p]))return""}else for(u=3;u<i.length;u++)if(c=i[u]){if(c.hasOwnProperty(p)){l=c[p];break}if(Lrt.test(p)||(l=crt.nestedProperty(c,p).get(),(l=a[p]||crt.nestedProperty(c,p).get())&&(a[p]=l)),void 0!==l)break}if(void 0===l&&r)return r.count<r.max&&(crt.warn("Variable '"+p+"' in "+r.name+" could not be found!"),l=t),r.count===r.max&&crt.warn("Too many "+r.name+" warnings - additional warnings will be suppressed"),r.count++,t;if(s){var v;if(":"===s[0]&&(l=(v=n?n.numberFormat:crt.numberFormat)(s.replace(krt,""))(l)),"|"===s[0]){v=n?n.timeFormat:rrt;var m=crt.dateTime2ms(l);l=crt.formatDate(m,s.replace(krt,""),!1,v)}}else{var y=p+"Label";e.hasOwnProperty(y)&&(l=e[y])}return f&&(l="("+l+")",(d||h)&&(l=" "+l),(g||h)&&(l+=" ")),l}))}crt.subplotSort=function(t,e){for(var n=Math.min(t.length,e.length)+1,r=0,i=0,a=0;a<n;a++){var o=t.charCodeAt(a)||0,s=e.charCodeAt(a)||0,l=o>=48&&o<=57,c=s>=48&&s<=57;if(l&&(r=10*r+o-48),c&&(i=10*i+s-48),!l||!c){if(r!==i)return r-i;if(o!==s)return o-s}}return i-r};var Zrt=2e9;crt.seedPseudoRandom=function(){Zrt=2e9},crt.pseudoRandom=function(){var t=Zrt;return Zrt=(69069*Zrt+1)%4294967296,Math.abs(Zrt-t)<429496729?crt.pseudoRandom():Zrt/4294967296},crt.fillText=function(t,e,n){var r=Array.isArray(n)?function(t){n.push(t)}:function(t){n.text=t},i=crt.extractOption(t,e,"htx","hovertext");if(crt.isValidTextValue(i))return r(i);var a=crt.extractOption(t,e,"tx","text");return crt.isValidTextValue(a)?r(a):void 0},crt.isValidTextValue=function(t){return t||0===t},crt.formatPercent=function(t,e){e=e||0;for(var n=(Math.round(100*t*Math.pow(10,e))*Math.pow(.1,e)).toFixed(e)+"%",r=0;r<e;r++)-1!==n.indexOf(".")&&(n=(n=n.replace("0%","%")).replace(".%","%"));return n},crt.isHidden=function(t){var e=window.getComputedStyle(t).display;return!e||"none"===e},crt.strTranslate=function(t,e){return t||e?"translate("+t+","+e+")":""},crt.strRotate=function(t){return t?"rotate("+t+")":""},crt.strScale=function(t){return 1!==t?"scale("+t+")":""},crt.getTextTransform=function(t){var e=t.noCenter,n=t.textX,r=t.textY,i=t.targetX,a=t.targetY,o=t.anchorX||0,s=t.anchorY||0,l=t.rotate,c=t.scale;return c?c>1&&(c=1):c=0,crt.strTranslate(i-c*(n+o),a-c*(r+s))+crt.strScale(c)+(l?"rotate("+l+(e?"":" "+n+" "+r)+")":"")},crt.ensureUniformFontSize=function(t,e){var n=crt.extendFlat({},e);return n.size=Math.max(e.size,t._fullLayout.uniformtext.minsize||0),n},crt.join2=function(t,e,n){var r=t.length;return r>1?t.slice(0,-1).join(e)+n+t[r-1]:t.join(e)},crt.bigFont=function(t){return Math.round(1.2*t)};var Nrt=crt.getFirefoxVersion(),Trt=null!==Nrt&&Nrt<86;crt.getPositionFromD3Event=function(){return Trt?[nrt.event.layerX,nrt.event.layerY]:[nrt.event.offsetX,nrt.event.offsetY]};var Xrt=Q4.exports,Wrt={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:#fff;","X .select-outline-2":"stroke:#000;stroke-dasharray:2px 2px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var Mrt in Wrt){var Hrt=Mrt.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");Xrt.addStyleRule(Hrt,Wrt[Mrt])}var Drt,Yrt={},Ort={},zrt="function"==typeof e.matchMedia&&!e.matchMedia("(hover: none)").matches,Jrt={exports:{}},jrt="object"===("undefined"==typeof Reflect?"undefined":o(Reflect))?Reflect:null,Prt=jrt&&"function"==typeof jrt.apply?jrt.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};Drt=jrt&&"function"==typeof jrt.ownKeys?jrt.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var Krt=Number.isNaN||function(t){return t!=t};function qrt(){qrt.init.call(this)}Jrt.exports=qrt,Jrt.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,a),r(n)}function a(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}lit(t,e,a,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&lit(t,"error",e,n)}(t,i,{once:!0})}))},qrt.EventEmitter=qrt,qrt.prototype._events=void 0,qrt.prototype._eventsCount=0,qrt.prototype._maxListeners=void 0;var $rt=10;function tit(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+o(t))}function eit(t){return void 0===t._maxListeners?qrt.defaultMaxListeners:t._maxListeners}function nit(t,e,n,r){var i,a,o,s;if(tit(n),void 0===(a=t._events)?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),a=t._events),o=a[e]),void 0===o)o=a[e]=n,++t._eventsCount;else if("function"==typeof o?o=a[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=eit(t))>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=o.length,s=l,console&&console.warn&&console.warn(s)}return t}function rit(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function iit(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=rit.bind(r);return i.listener=n,r.wrapFn=i,i}function ait(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):sit(i,i.length)}function oit(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function sit(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function lit(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+o(t));t.addEventListener(e,(function i(a){r.once&&t.removeEventListener(e,i),n(a)}))}}Object.defineProperty(qrt,"defaultMaxListeners",{enumerable:!0,get:function(){return $rt},set:function(t){if("number"!=typeof t||t<0||Krt(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");$rt=t}}),qrt.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},qrt.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||Krt(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},qrt.prototype.getMaxListeners=function(){return eit(this)},qrt.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var s=i[t];if(void 0===s)return!1;if("function"==typeof s)Prt(s,this,e);else{var l=s.length,c=sit(s,l);for(n=0;n<l;++n)Prt(c[n],this,e)}return!0},qrt.prototype.addListener=function(t,e){return nit(this,t,e,!1)},qrt.prototype.on=qrt.prototype.addListener,qrt.prototype.prependListener=function(t,e){return nit(this,t,e,!0)},qrt.prototype.once=function(t,e){return tit(e),this.on(t,iit(this,t,e)),this},qrt.prototype.prependOnceListener=function(t,e){return tit(e),this.prependListener(t,iit(this,t,e)),this},qrt.prototype.removeListener=function(t,e){var n,r,i,a,o;if(tit(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===e||n[a].listener===e){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,o||e)}return this},qrt.prototype.off=qrt.prototype.removeListener,qrt.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},qrt.prototype.listeners=function(t){return ait(this,t,!0)},qrt.prototype.rawListeners=function(t){return ait(this,t,!1)},qrt.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):oit.call(t,e)},qrt.prototype.listenerCount=oit,qrt.prototype.eventNames=function(){return this._eventsCount>0?Drt(this._events):[]};var cit=Jrt.exports.EventEmitter,uit={init:function(t){if(t._ev instanceof cit)return t;var e=new cit,n=new cit;return t._ev=e,t._internalEv=n,t.on=e.on.bind(e),t.once=e.once.bind(e),t.removeListener=e.removeListener.bind(e),t.removeAllListeners=e.removeAllListeners.bind(e),t._internalOn=n.on.bind(n),t._internalOnce=n.once.bind(n),t._removeInternalListener=n.removeListener.bind(n),t._removeAllInternalListeners=n.removeAllListeners.bind(n),t.emit=function(r,i){"undefined"!=typeof jQuery&&jQuery(t).trigger(r,i),e.emit(r,i),n.emit(r,i)},t},triggerHandler:function(t,e,n){var r,i;"undefined"!=typeof jQuery&&(r=jQuery(t).triggerHandler(e,n));var a=t._ev;if(!a)return r;var o,s=a._events[e];if(!s)return r;function l(t){return t.listener?(a.removeListener(e,t.listener),t.fired?void 0:(t.fired=!0,t.listener.apply(a,[n]))):t.apply(a,[n])}for(s=Array.isArray(s)?s:[s],o=0;o<s.length-1;o++)l(s[o]);return i=l(s[o]),void 0!==r?r:i},purge:function(t){return delete t._ev,delete t.on,delete t.once,delete t.removeListener,delete t.removeAllListeners,delete t.emit,delete t._ev,delete t._internalEv,delete t._internalOn,delete t._internalOnce,delete t._removeInternalListener,delete t._removeAllInternalListeners,t}},dit=uit,hit=Q4.exports,git=cet.dfltConfig;var fit={add:function(t,e,n,r,i){var a,o;t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},o=t.undoQueue.index,t.autoplay?t.undoQueue.inSequence||(t.autoplay=!1):(!t.undoQueue.sequence||t.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},t.undoQueue.queue.splice(o,t.undoQueue.queue.length-o,a),t.undoQueue.index+=1):a=t.undoQueue.queue[o-1],t.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(e),a.undo.args.unshift(n),a.redo.calls.push(r),a.redo.args.push(i)),t.undoQueue.queue.length>git.queueLength&&(t.undoQueue.queue.shift(),t.undoQueue.index--))},startSequence:function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!0,t.undoQueue.beginSequence=!0},stopSequence:function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!1,t.undoQueue.beginSequence=!1},undo:function(t){var e,n;if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index<=0)){for(t.undoQueue.index--,e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,n=0;n<e.undo.calls.length;n++)fit.plotDo(t,e.undo.calls[n],e.undo.args[n]);t.undoQueue.inSequence=!1,t.autoplay=!1}},redo:function(t){var e,n;if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index>=t.undoQueue.queue.length)){for(e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,n=0;n<e.redo.calls.length;n++)fit.plotDo(t,e.redo.calls[n],e.redo.args[n]);t.undoQueue.inSequence=!1,t.autoplay=!1,t.undoQueue.index++}}};fit.plotDo=function(t,e,n){t.autoplay=!0,n=function(t,e){for(var n,r=[],i=0;i<e.length;i++)(n=e[i])===t?r[i]=n:"object"===o(n)?r[i]=Array.isArray(n)?hit.extendDeep([],n):hit.extendDeepAll({},n):r[i]=n;return r}(t,n),e.apply(null,n)};var pit=fit,vit={},mit={_isLinkedToArray:"frames_entry",group:{valType:"string",description:["An identifier that specifies the group to which the frame belongs,","used by animate to select a subset of frames."].join(" ")},name:{valType:"string",description:"A label by which to identify the frame"},traces:{valType:"any",description:["A list of trace indices that identify the respective traces in the","data attribute"].join(" ")},baseframe:{valType:"string",description:["The name of the frame into which this frame's properties are merged","before applying. This is used to unify properties and avoid needing","to specify the same values for the same properties in multiple frames."].join(" ")},data:{valType:"any",description:["A list of traces this frame modifies. The format is identical to the","normal trace definition."].join(" ")},layout:{valType:"any",description:["Layout properties which this frame modifies. The format is identical","to the normal layout definition."].join(" ")}},yit=Q4.exports,bit=yit.extendFlat,Iit=yit.isPlainObject,Cit={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"],description:["trace attributes should include an `editType` string matching this flaglist.","*calc* is the most extensive: a full (re)plot starting by clearing `gd.calcdata`","to force it to be regenerated","*clearAxisTypes* resets the types of the axes this trace is on, because new data could","cause the automatic axis type detection to change. Log type will not be cleared, as that","is never automatically chosen so must have been user-specified.","*plot* (re)plots but without first clearing `gd.calcdata`.","*style* only calls `module.style` (or module.editStyle) for all trace modules and redraws the legend.","*markerSize* is like *style*, but propagate axis-range changes due to scatter `marker.size`","*colorbars* only redraws colorbars."].join(" ")},xit={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"],description:["layout attributes should include an `editType` string matching this flaglist.","*calc* is the most extensive: a full (re)plot starting by clearing `gd.calcdata`","to force it to be regenerated","*plot* (re)plots but without first clearing `gd.calcdata`.","*legend* only redraws the legend.","*ticks* only redraws axis ticks, labels, and gridlines.","*axrange* minimal sequence when updating axis ranges.","*layoutstyle* reapplies global and SVG cartesian axis styles.","*modebar* just updates the modebar.","*camera* just updates the camera settings for gl3d scenes.","*arraydraw* allows component arrays to invoke the redraw routines just for the","component(s) that changed.","*colorbars* only redraws colorbars."].join(" ")},Bit=Cit.flags.slice().concat(["fullReplot"]),Ait=xit.flags.slice().concat("layoutReplot"),Fit={traces:Cit,layout:xit,traceFlags:function(){return Qit(Bit)},layoutFlags:function(){return Qit(Ait)},update:function(t,e){var n=e.editType;if(n&&"none"!==n)for(var r=n.split("+"),i=0;i<r.length;i++)t[r[i]]=!0},overrideAll:wit};function Qit(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!1;return e}function wit(t,e,n){var r=bit({},t);for(var i in r){var a=r[i];Iit(a)&&(r[i]=Uit(a,e,n,i))}return"from-root"===n&&(r.editType=e),r}function Uit(t,e,n,r){if(t.valType){var i=bit({},t);if(i.editType=e,Array.isArray(t.items)){i.items=new Array(t.items.length);for(var a=0;a<t.items.length;a++)i.items[a]=Uit(t.items[a],e)}return i}return wit(t,e,"_"===r.charAt(0)?"nested":"from-root")}!function(t){var e=met,n=Q4.exports,r=Xtt,i=Int,a=mit,o=snt,s=cet.configAttributes,l=Fit,c=n.extendDeepAll,u=n.isPlainObject,d=n.isArrayOrTypedArray,h=n.nestedProperty,g=n.valObjectMeta,f="_isSubplotObj",p="_isLinkedToArray",v="_deprecated",m=[f,p,"_arrayAttrRegexps",v];function y(t,e,n){if(!t)return!1;if(t._isLinkedToArray)if(b(e[n]))n++;else if(n<e.length)return!1;for(;n<e.length;n++){var r=t[e[n]];if(!u(r))break;if(t=r,n===e.length-1)break;if(t._isLinkedToArray){if(!b(e[++n]))return!1}else if("info_array"===t.valType){var i=e[++n];if(!b(i))return!1;var a=t.items;if(Array.isArray(a)){if(i>=a.length)return!1;if(2===t.dimensions){if(n++,e.length===n)return t;var o=e[n];if(!b(o))return!1;t=a[i][o]}else t=a[i]}else t=a}}return t}function b(t){return t===Math.round(t)&&t>=0}function I(){var t,n,r={};for(t in c(r,i),e.subplotsRegistry){if((n=e.subplotsRegistry[t]).layoutAttributes)if(Array.isArray(n.attr))for(var a=0;a<n.attr.length;a++)B(r,n,n.attr[a]);else B(r,n,"subplot"===n.attr?n.name:n.attr)}for(t in e.componentsRegistry){var o=(n=e.componentsRegistry[t]).schema;if(o&&(o.subplots||o.layout)){var s=o.subplots;if(s&&s.xaxis&&!s.yaxis)for(var l in s.xaxis)delete r.yaxis[l]}else"colorscale"===n.name?c(r,n.layoutAttributes):n.layoutAttributes&&A(r,n.layoutAttributes,n.name)}return{layoutAttributes:x(r)}}function C(){var t={frames:c({},a)};return x(t),t.frames}function x(e){return function(e){function n(t){return{valType:"string",description:"Sets the source reference on Chart Studio Cloud for `"+t+"`.",editType:"none"}}function r(e,r,i){t.isValObject(e)?!0!==e.arrayOk&&"data_array"!==e.valType||(i[r+"src"]=n(r)):u(e)&&(e.role="object")}t.crawl(e,r)}(e),function(e){function n(t,e,n){if(t){var r=t._isLinkedToArray;r&&(delete t._isLinkedToArray,n[e]={items:{}},n[e].items[r]=t,n[e].role="object")}}t.crawl(e,n)}(e),function(t){function e(t){for(var n in t)if(u(t[n]))e(t[n]);else if(Array.isArray(t[n]))for(var r=0;r<t[n].length;r++)e(t[n][r]);else t[n]instanceof RegExp&&(t[n]=t[n].toString())}e(t)}(e),e}function B(t,e,n){var r=h(t,n),i=c({},e.layoutAttributes);i._isSubplotObj=!0,r.set(i)}function A(t,e,n){var r=h(t,n);r.set(c(r.get()||{},e))}t.IS_SUBPLOT_OBJ=f,t.IS_LINKED_TO_ARRAY=p,t.DEPRECATED=v,t.UNDERSCORE_ATTRS=m,t.get=function(){var n={};e.allTypes.forEach((function(i){n[i]=function(n){var i,a;i=e.modules[n]._module,a=i.basePlotModule;var o={type:null},s=c({},r),l=c({},i.attributes);t.crawl(l,(function(t,e,n,r,i){h(s,i).set(void 0),void 0===t&&h(l,i).set(void 0)})),c(o,s),e.traceIs(n,"noOpacity")&&delete o.opacity;e.traceIs(n,"showLegend")||(delete o.showlegend,delete o.legendgroup);e.traceIs(n,"noHover")&&(delete o.hoverinfo,delete o.hoverlabel);i.selectPoints||delete o.selectedpoints;c(o,l),a.attributes&&c(o,a.attributes);o.type=n;var u={meta:i.meta||{},categories:i.categories||{},animatable:Boolean(i.animatable),type:n,attributes:x(o)};if(i.layoutAttributes){var d={};c(d,i.layoutAttributes),u.layoutAttributes=x(d)}i.animatable||t.crawl(u,(function(e){t.isValObject(e)&&"anim"in e&&delete e.anim}));return u}(i)}));var i={};return Object.keys(e.transformsRegistry).forEach((function(t){i[t]=function(t){var n=e.transformsRegistry[t],r=c({},n.attributes);return Object.keys(e.componentsRegistry).forEach((function(n){var i=e.componentsRegistry[n];i.schema&&i.schema.transforms&&i.schema.transforms[t]&&Object.keys(i.schema.transforms[t]).forEach((function(e){A(r,i.schema.transforms[t][e],e)}))})),{attributes:x(r)}}(t)})),{defs:{valObjects:g,metaKeys:m.concat(["description","role","editType","impliedEdits"]),editType:{traces:l.traces,layout:l.layout},impliedEdits:{description:["Sometimes when an attribute is changed, other attributes","must be altered as well in order to achieve the intended","result. For example, when `range` is specified, it is","important to set `autorange` to `false` or the new `range`","value would be lost in the redraw. `impliedEdits` is the","mechanism to do this: `impliedEdits: {autorange: false}`.","Each key is a relative paths to the attribute string to","change, using *^* to ascend into the parent container,","for example `range[0]` has `impliedEdits: {*^autorange*: false}`.","A value of `undefined` means that the attribute will not be","changed, but its previous value should be recorded in case","we want to reverse this change later. For example, `autorange`","has `impliedEdits: {*range[0]*: undefined, *range[1]*:undefined}","because the range will likely be changed by redraw."].join(" ")}},traces:n,layout:I(),transforms:i,frames:C(),animation:x(o),config:x(s)}},t.crawl=function(e,n,r,i){var a=r||0;i=i||"",Object.keys(e).forEach((function(r){var o=e[r];if(-1===m.indexOf(r)){var s=(i?i+".":"")+r;n(o,r,e,a,s),t.isValObject(o)||u(o)&&"impliedEdits"!==r&&t.crawl(o,n,a+1,s)}}))},t.isValObject=function(t){return t&&void 0!==t.valType},t.findArrayAttributes=function(e){var n,i,a=[],o=[],s=[];function l(t,e,r,i){o=o.slice(0,i).concat([e]),s=s.slice(0,i).concat([t&&t._isLinkedToArray]),t&&("data_array"===t.valType||!0===t.arrayOk)&&!("colorbar"===o[i-1]&&("ticktext"===e||"tickvals"===e))&&c(n,0,"")}function c(t,e,n){var r=t[o[e]],l=n+o[e];if(e===o.length-1)d(r)&&a.push(i+l);else if(s[e]){if(Array.isArray(r))for(var h=0;h<r.length;h++)u(r[h])&&c(r[h],e+1,l+"["+h+"].")}else u(r)&&c(r,e+1,l+".")}n=e,i="",t.crawl(r,l),e._module&&e._module.attributes&&t.crawl(e._module.attributes,l);var h=e.transforms;if(h)for(var g=0;g<h.length;g++){var f=h[g],p=f._module;p&&(i="transforms["+g+"].",n=f,t.crawl(p.attributes,l))}return a},t.getTraceValObject=function(t,n){var i,a,o=n[0],s=1;if("transforms"===o){if(1===n.length)return r.transforms;var l=t.transforms;if(!Array.isArray(l)||!l.length)return!1;var c=n[1];if(!b(c)||c>=l.length)return!1;a=(i=(e.transformsRegistry[l[c].type]||{}).attributes)&&i[n[2]],s=3}else{var u=t._module;if(u||(u=(e.modules[t.type||r.type.dflt]||{})._module),!u)return!1;if(!(a=(i=u.attributes)&&i[o])){var d=u.basePlotModule;d&&d.attributes&&(a=d.attributes[o])}a||(a=r[o])}return y(a,n,s)},t.getLayoutValObject=function(t,n){var r=function(t,n){var r,a,o,s,l=t._basePlotModules;if(l){var c;for(r=0;r<l.length;r++){if((o=l[r]).attrRegex&&o.attrRegex.test(n)){if(o.layoutAttrOverrides)return o.layoutAttrOverrides;!c&&o.layoutAttributes&&(c=o.layoutAttributes)}var u=o.baseLayoutAttrOverrides;if(u&&n in u)return u[n]}if(c)return c}var d=t._modules;if(d)for(r=0;r<d.length;r++)if((s=d[r].layoutAttributes)&&n in s)return s[n];for(a in e.componentsRegistry){if("colorscale"===(o=e.componentsRegistry[a]).name&&0===n.indexOf("coloraxis"))return o.layoutAttributes[n];if(!o.schema&&n===o.name)return o.layoutAttributes}return n in i&&i[n]}(t,n[0]);return y(r,n,1)}}(vit);var Git={exports:{}},Rit={},Sit=Q4.exports,Lit=Xtt,_it={name:{valType:"string",editType:"none",description:["When used in a template, named items are created in the output figure","in addition to any items the figure already has in this array.","You can modify these items in the output figure by making your own","item with `templateitemname` matching this `name`","alongside your modifications (including `visible: false` or","`enabled: false` to hide it).","Has no effect outside of a template."].join(" ")}};function Eit(t){return t&&"string"==typeof t}function kit(t){var e=t.length-1;return"s"!==t.charAt(e)&&Sit.warn("bad argument to arrayDefaultKey: "+t),t.substr(0,t.length-1)+"defaults"}_it.templateitemname={valType:"string",editType:"calc",description:["Used to refer to a named item in this array in the template. Named","items from the template will be created even without a matching item","in the input figure, but you can modify one by making an item with","`templateitemname` matching its `name`, alongside your modifications","(including `visible: false` or `enabled: false` to hide it).","If there is no template or no matching item, this item will be","hidden unless you explicitly show it with `visible: true`."].join(" ")},Rit.templatedArray=function(t,e){return e._isLinkedToArray=t,e.name=_it.name,e.templateitemname=_it.templateitemname,e},Rit.traceTemplater=function(t){var e,n,r={};for(e in t)n=t[e],Array.isArray(n)&&n.length&&(r[e]=0);return{newTrace:function(i){var a={type:e=Sit.coerce(i,{},Lit,"type"),_template:null};if(e in r){n=t[e];var o=r[e]%n.length;r[e]++,a._template=n[o]}return a}}},Rit.newContainer=function(t,e,n){var r=t._template,i=r&&(r[e]||n&&r[n]);return Sit.isPlainObject(i)||(i=null),t[e]={_template:i}},Rit.arrayTemplater=function(t,e,n){var r=t._template,i=r&&r[kit(e)],a=r&&r[e];Array.isArray(a)&&a.length||(a=[]);var o={};return{newItem:function(t){var e={name:t.name,_input:t},r=e.templateitemname=t.templateitemname;if(!Eit(r))return e._template=i,e;for(var s=0;s<a.length;s++){var l=a[s];if(l.name===r)return o[r]=1,e._template=l,e}return e[n]=t[n]||!1,e._template=!1,e},defaultItems:function(){for(var t=[],e=0;e<a.length;e++){var n=a[e],r=n.name;if(Eit(r)&&!o[r]){var i={_template:n,name:r,_input:{_templateitemname:r}};i.templateitemname=n.templateitemname,t.push(i),o[r]=1}}return t}}},Rit.arrayDefaultKey=kit,Rit.arrayEditor=function(t,e,n){var r=(Sit.nestedProperty(t,e).get()||[]).length,i=n._index,a=i>=r&&(n._input||{})._templateitemname;a&&(i=r);var o,s=e+"["+i+"]";function l(){o={},a&&(o[s]={},o[s].templateitemname=a)}function c(t,e){a?Sit.nestedProperty(o[s],t).set(e):o[s+"."+t]=e}function u(){var t=o;return l(),t}return l(),{modifyBase:function(t,e){o[t]=e},modifyItem:c,getUpdateObj:u,applyUpdate:function(e,n){e&&c(e,n);var r=u();for(var i in r)Sit.nestedProperty(t,i).set(r[i])}}};var Vit={},Zit=ret.counter,Nit={idRegex:{x:Zit("x","( domain)?"),y:Zit("y","( domain)?")},attrRegex:Zit("[xy]axis"),xAxisMatch:Zit("xaxis"),yAxisMatch:Zit("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}};!function(t){var e=met,n=Nit;function r(t,e){if(e&&e.length)for(var n=0;n<e.length;n++)if(e[n][t])return!0;return!1}t.id2name=function(t){if("string"==typeof t&&t.match(n.AX_ID_PATTERN)){var e=t.split(" ")[0].substr(1);return"1"===e&&(e=""),t.charAt(0)+"axis"+e}},t.name2id=function(t){if(t.match(n.AX_NAME_PATTERN)){var e=t.substr(5);return"1"===e&&(e=""),t.charAt(0)+e}},t.cleanId=function(t,e,r){var i=/( domain)$/.test(t);if("string"==typeof t&&t.match(n.AX_ID_PATTERN)&&(!e||t.charAt(0)===e)&&(!i||r)){var a=t.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===a&&(a=""),t.charAt(0)+a+(i&&r?" domain":"")}},t.list=function(e,n,r){var i=e._fullLayout;if(!i)return[];var a,o=t.listIds(e,n),s=new Array(o.length);for(a=0;a<o.length;a++){var l=o[a];s[a]=i[l.charAt(0)+"axis"+l.substr(1)]}if(!r){var c=i._subplots.gl3d||[];for(a=0;a<c.length;a++){var u=i[c[a]];n?s.push(u[n+"axis"]):s.push(u.xaxis,u.yaxis,u.zaxis)}}return s},t.listIds=function(t,e){var n=t._fullLayout;if(!n)return[];var r=n._subplots;return e?r[e+"axis"]:r.xaxis.concat(r.yaxis)},t.getFromId=function(e,n,r){var i=e._fullLayout;return n=void 0===n||"string"!=typeof n?n:n.replace(" domain",""),"x"===r?n=n.replace(/y[0-9]*/,""):"y"===r&&(n=n.replace(/x[0-9]*/,"")),i[t.id2name(n)]},t.getFromTrace=function(n,r,i){var a=n._fullLayout,o=null;if(e.traceIs(r,"gl3d")){var s=r.scene;"scene"===s.substr(0,5)&&(o=a[s][i+"axis"])}else o=t.getFromId(n,r[i+"axis"]||i);return o},t.idSort=function(t,e){var n=t.charAt(0),r=e.charAt(0);return n!==r?n>r?1:-1:+(t.substr(1)||1)-+(e.substr(1)||1)},t.ref2id=function(t){return!!/^[xyz]/.test(t)&&t.split(" ")[0]},t.isLinked=function(t,e){return r(e,t._axisMatchGroups)||r(e,t._axisConstraintGroups)}}(Vit);var Tit={clearOutlineControllers:function(t){var e=t._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearSelect:function(t){var e=t._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),t._fullLayout._drawing=!1}},Xit={},Wit=met,Mit=Nit.SUBPLOT_PATTERN;Xit.getSubplotCalcData=function(t,e,n){var r=Wit.subplotsRegistry[e];if(!r)return[];for(var i=r.attr,a=[],o=0;o<t.length;o++){var s=t[o];s[0].trace[i]===n&&a.push(s)}return a},Xit.getModuleCalcData=function(t,e){var n,r=[],i=[];if(!(n="string"==typeof e?Wit.getModule(e).plot:"function"==typeof e?e:e.plot))return[r,t];for(var a=0;a<t.length;a++){var o=t[a],s=o[0].trace;!0===s.visible&&0!==s._length&&(s._module.plot===n?r.push(o):i.push(o))}return[r,i]},Xit.getSubplotData=function(t,e,n){if(!Wit.subplotsRegistry[e])return[];var r,i,a,o=Wit.subplotsRegistry[e].attr,s=[];if("gl2d"===e){var l=n.match(Mit);i="x"+l[1],a="y"+l[2]}for(var c=0;c<t.length;c++)r=t[c],"gl2d"===e&&Wit.traceIs(r,"gl2d")?r[o[0]]===i&&r[o[1]]===a&&s.push(r):r[o]===n&&s.push(r);return s};var Hit={};!function(t){var e=met,n=Q4.exports;function r(t,e,r){var i,a,o,s=!1;if("data"===e.type)i=t._fullData[null!==e.traces?e.traces[0]:0];else{if("layout"!==e.type)return!1;i=t._fullLayout}return a=n.nestedProperty(i,e.prop).get(),(o=r[e.type]=r[e.type]||{}).hasOwnProperty(e.prop)&&o[e.prop]!==a&&(s=!0),o[e.prop]=a,{changed:s,value:a}}function i(t,e){var r=[],i=e[0],a={};if("string"==typeof i)a[i]=e[1];else{if(!n.isPlainObject(i))return r;a=i}return s(a,(function(t,e,n){r.push({type:"layout",prop:t,value:n})}),"",0),r}function a(t,e){var r,i,a,o,l=[];if(i=e[0],a=e[1],r=e[2],o={},"string"==typeof i)o[i]=a;else{if(!n.isPlainObject(i))return l;o=i,void 0===r&&(r=a)}return void 0===r&&(r=null),s(o,(function(e,n,i){var a,o;if(Array.isArray(i)){o=i.slice();var s=Math.min(o.length,t.data.length);r&&(s=Math.min(s,r.length)),a=[];for(var c=0;c<s;c++)a[c]=r?r[c]:c}else o=i,a=r?r.slice():null;if(null===a)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(a)){if(!Array.isArray(o)){var u=o;o=[];for(var d=0;d<a.length;d++)o[d]=u}o.length=Math.min(a.length,o.length)}l.push({type:"data",prop:e,traces:a,value:o})}),"",0),l}function s(t,e,r,i){Object.keys(t).forEach((function(a){var o=t[a];if("_"!==a[0]){var l=r+(i>0?".":"")+a;n.isPlainObject(o)?s(o,e,l,i+1):e(l,a,o)}}))}t.manageCommandObserver=function(e,i,a,o){var s={},l=!0;i&&i._commandObserver&&(s=i._commandObserver),s.cache||(s.cache={}),s.lookupTable={};var c=t.hasSimpleAPICommandBindings(e,a,s.lookupTable);if(i&&i._commandObserver){if(c)return s;if(i._commandObserver.remove)return i._commandObserver.remove(),i._commandObserver=null,s}if(c){r(e,c,s.cache),s.check=function(){if(l){var t=r(e,c,s.cache);return t.changed&&o&&void 0!==s.lookupTable[t.value]&&(s.disable(),Promise.resolve(o({value:t.value,type:c.type,prop:c.prop,traces:c.traces,index:s.lookupTable[t.value]})).then(s.enable,s.enable)),t.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],d=0;d<u.length;d++)e._internalOn(u[d],s.check);s.remove=function(){for(var t=0;t<u.length;t++)e._removeInternalListener(u[t],s.check)}}else n.log("Unable to automatically bind plot updates to API command"),s.lookupTable={},s.remove=function(){};return s.disable=function(){l=!1},s.enable=function(){l=!0},i&&(i._commandObserver=s),s},t.hasSimpleAPICommandBindings=function(e,n,r){var i,a,o=n.length;for(i=0;i<o;i++){var s,l=n[i],c=l.method,u=l.args;if(Array.isArray(u)||(u=[]),!c)return!1;var d=t.computeAPICommandBindings(e,c,u);if(1!==d.length)return!1;if(a){if((s=d[0]).type!==a.type)return!1;if(s.prop!==a.prop)return!1;if(Array.isArray(a.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var h=0;h<a.traces.length;h++)if(a.traces[h]!==s.traces[h])return!1}else if(s.prop!==a.prop)return!1}else a=d[0],Array.isArray(a.traces)&&a.traces.sort();var g=(s=d[0]).value;if(Array.isArray(g)){if(1!==g.length)return!1;g=g[0]}r&&(r[g]=i)}return a},t.executeAPICommand=function(t,r,i){if("skip"===r)return Promise.resolve();var a=e.apiMethodRegistry[r],o=[t];Array.isArray(i)||(i=[]);for(var s=0;s<i.length;s++)o.push(i[s]);return a.apply(null,o).catch((function(t){return n.warn("API call to Plotly."+r+" rejected.",t),Promise.reject(t)}))},t.computeAPICommandBindings=function(t,e,n){var r;switch(Array.isArray(n)||(n=[]),e){case"restyle":r=a(t,n);break;case"relayout":r=i(t,n);break;case"update":r=a(t,[n[0],n[2]]).concat(i(t,[n[1]]));break;case"animate":r=function(t,e){return Array.isArray(e[0])&&1===e[0].length&&-1!==["string","number"].indexOf(o(e[0][0]))?[{type:"layout",prop:"_currentFrame",value:e[0][0].toString()}]:[]}(0,n);break;default:r=[]}return r}}(Hit);var Dit=w4.exports,Yit=w6.timeFormatLocale,Oit=Y6.formatLocale,zit=z6,Jit=met,jit=vit,Pit=Rit,Kit=Q4.exports,qit=Ott.exports,$it=J6.BADNUM,tat=Vit,eat=Tit.clearSelect,nat=snt,rat=mit,iat=Xit.getModuleCalcData,aat=Kit.relinkPrivateKeys,oat=Kit._,sat=Git.exports={};Kit.extendFlat(sat,Jit),sat.attributes=Xtt,sat.attributes.type.values=sat.allTypes,sat.fontAttrs=Att,sat.layoutAttributes=Int,sat.fontWeight="normal";var lat=sat.transformsRegistry,cat=Hit;sat.executeAPICommand=cat.executeAPICommand,sat.computeAPICommandBindings=cat.computeAPICommandBindings,sat.manageCommandObserver=cat.manageCommandObserver,sat.hasSimpleAPICommandBindings=cat.hasSimpleAPICommandBindings,sat.redrawText=function(t){return t=Kit.getGraphDiv(t),new Promise((function(e){setTimeout((function(){t._fullLayout&&(Jit.getComponentMethod("annotations","draw")(t),Jit.getComponentMethod("legend","draw")(t),Jit.getComponentMethod("colorbar","draw")(t),e(sat.previousPromises(t)))}),300)}))},sat.resize=function(t){var e;t=Kit.getGraphDiv(t);var n=new Promise((function(n,r){t&&!Kit.isHidden(t)||r(new Error("Resize must be passed a displayed plot div element.")),t._redrawTimer&&clearTimeout(t._redrawTimer),t._resolveResize&&(e=t._resolveResize),t._resolveResize=n,t._redrawTimer=setTimeout((function(){if(!t.layout||t.layout.width&&t.layout.height||Kit.isHidden(t))n(t);else{delete t.layout.width,delete t.layout.height;var e=t.changed;t.autoplay=!0,Jit.call("relayout",t,{autosize:!0}).then((function(){t.changed=e,t._resolveResize===n&&(delete t._resolveResize,n(t))}))}}),100)}));return e&&e(n),n},sat.previousPromises=function(t){if((t._promises||[]).length)return Promise.all(t._promises).then((function(){t._promises=[]}))},sat.addLinks=function(t){if(t._context.showLink||t._context.showSources){var e=t._fullLayout,n=Kit.ensureSingle(e._paper,"text","js-plot-link-container",(function(t){t.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:qit.defaultLine,"pointer-events":"all"}).each((function(){var t=Dit.select(this);t.append("tspan").classed("js-link-to-tool",!0),t.append("tspan").classed("js-link-spacer",!0),t.append("tspan").classed("js-sourcelinks",!0)}))})),r=n.node(),i={y:e._paper.attr("height")-9};document.body.contains(r)&&r.getComputedTextLength()>=e.width-20?(i["text-anchor"]="start",i.x=5):(i["text-anchor"]="end",i.x=e._paper.attr("width")-7),n.attr(i);var a=n.select(".js-link-to-tool"),o=n.select(".js-link-spacer"),s=n.select(".js-sourcelinks");t._context.showSources&&t._context.showSources(t),t._context.showLink&&function(t,e){e.text("");var n=e.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(t._context.linkText+" "+String.fromCharCode(187));if(t._context.sendData)n.on("click",(function(){sat.sendDataToCloud(t)}));else{var r=window.location.pathname.split("/"),i=window.location.search;n.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+i})}}(t,a),o.text(a.text()&&s.text()?" - ":"")}},sat.sendDataToCloud=function(t){var e=(window.PLOTLYENV||{}).BASE_URL||t._context.plotlyServerURL;if(e){t.emit("plotly_beforeexport");var n=Dit.select(t).append("div").attr("id","hiddenform").style("display","none"),r=n.append("form").attr({action:e+"/external",method:"post",target:"_blank"});return r.append("input").attr({type:"text",name:"data"}).node().value=sat.graphJson(t,!1,"keepdata"),r.node().submit(),n.remove(),t.emit("plotly_afterexport"),!1}};var uat=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],dat=["year","month","dayMonth","dayMonthYear"];function hat(t,e){var n=t._context.locale;n||(n="en-US");var r=!1,i={};function a(t){for(var n=!0,a=0;a<e.length;a++){var o=e[a];i[o]||(t[o]?i[o]=t[o]:n=!1)}n&&(r=!0)}for(var o=0;o<2;o++){for(var s=t._context.locales,l=0;l<2;l++){var c=(s[n]||{}).format;if(c&&(a(c),r))break;s=Jit.localeRegistry}var u=n.split("-")[0];if(r||u===n)break;n=u}return r||a(Jit.localeRegistry.en.format),i}function gat(t,e){var n={_fullLayout:e},r="x"===t._id.charAt(0),i=t._mainAxis._anchorAxis,a="",o="",s="";if(i&&(s=i._mainAxis._id,a=r?t._id+s:s+t._id),!a||!e._plots[a]){a="";for(var l=t._counterAxes,c=0;c<l.length;c++){var u=l[c],d=r?t._id+u:u+t._id;o||(o=d);var h=tat.getFromId(n,u);if(s&&h.overlaying===s){a=d;break}}}return a||o}function fat(t){var e=t.transforms;if(Array.isArray(e)&&e.length)for(var n=0;n<e.length;n++){var r=e[n],i=r._module||lat[r.type];if(i&&i.makesData)return!0}return!1}function pat(t,e,n,r){for(var i=t.transforms,a=[t],o=0;o<i.length;o++){var s=i[o],l=lat[s.type];l&&l.transform&&(a=l.transform(a,{transform:s,fullTrace:t,fullData:e,layout:n,fullLayout:r,transformIndex:o}))}return a}function vat(t){return"string"==typeof t&&"px"===t.substr(t.length-2)&&parseFloat(t)}function mat(t){var e=t.margin;if(!t._size){var n=t._size={l:Math.round(e.l),r:Math.round(e.r),t:Math.round(e.t),b:Math.round(e.b),p:Math.round(e.pad)};n.w=Math.round(t.width)-n.l-n.r,n.h=Math.round(t.height)-n.t-n.b}t._pushmargin||(t._pushmargin={}),t._pushmarginIds||(t._pushmarginIds={})}sat.supplyDefaults=function(t,e){var n=e&&e.skipUpdateCalc,r=t._fullLayout||{};if(r._skipDefaults)delete r._skipDefaults;else{var i,a=t._fullLayout={},o=t.layout||{},s=t._fullData||[],l=t._fullData=[],c=t.data||[],u=t.calcdata||[],d=t._context||{};t._transitionData||sat.createTransitionData(t),a._dfltTitle={plot:oat(t,"Click to enter Plot title"),x:oat(t,"Click to enter X axis title"),y:oat(t,"Click to enter Y axis title"),colorbar:oat(t,"Click to enter Colorscale title"),annotation:oat(t,"new text")},a._traceWord=oat(t,"trace");var h=hat(t,uat);if(a._mapboxAccessToken=d.mapboxAccessToken,r._initialAutoSizeIsDone){var g=r.width,f=r.height;sat.supplyLayoutGlobalDefaults(o,a,h),o.width||(a.width=g),o.height||(a.height=f),sat.sanitizeMargins(a)}else{sat.supplyLayoutGlobalDefaults(o,a,h);var p=!o.width||!o.height,v=a.autosize,m=d.autosizable;p&&(v||m)?sat.plotAutoSize(t,o,a):p&&sat.sanitizeMargins(a),!v&&p&&(o.width=a.width,o.height=a.height)}a._d3locale=function(t,e){return t.decimal=e.charAt(0),t.thousands=e.charAt(1),{numberFormat:function(e){try{e=Oit(t).format(Kit.adjustFormat(e))}catch(t){return Kit.warnBadFormat(e),Kit.noFormat}return e},timeFormat:Yit(t).utcFormat}}(h,a.separators),a._extraFormat=hat(t,dat),a._initialAutoSizeIsDone=!0,a._dataLength=c.length,a._modules=[],a._visibleModules=[],a._basePlotModules=[];var y=a._subplots=function(){var t,e,n=Jit.collectableSubplotTypes,r={};if(!n){n=[];var i=Jit.subplotsRegistry;for(var a in i){var o=i[a].attr;if(o&&(n.push(a),Array.isArray(o)))for(e=0;e<o.length;e++)Kit.pushUnique(n,o[e])}}for(t=0;t<n.length;t++)r[n[t]]=[];return r}(),b=a._splomAxes={x:{},y:{}},I=a._splomSubplots={};a._splomGridDflt={},a._scatterStackOpts={},a._firstScatter={},a._alignmentOpts={},a._colorAxes={},a._requestRangeslider={},a._traceUids=function(t,e){var n,r,i=e.length,a=[];for(n=0;n<t.length;n++){var o=t[n]._fullInput;o!==r&&a.push(o),r=o}var s=a.length,l=new Array(i),c={};function u(t,e){l[e]=t,c[t]=1}function d(t,e){if(t&&"string"==typeof t&&!c[t])return u(t,e),!0}for(n=0;n<i;n++){var h=e[n].uid;"number"==typeof h&&(h=String(h)),d(h,n)||(n<s&&d(a[n].uid,n)||u(Kit.randstr(c),n))}return l}(s,c),a._globalTransforms=(t._context||{}).globalTransforms,sat.supplyDataDefaults(c,l,o,a);var C=Object.keys(b.x),x=Object.keys(b.y);if(C.length>1&&x.length>1){for(Jit.getComponentMethod("grid","sizeDefaults")(o,a),i=0;i<C.length;i++)Kit.pushUnique(y.xaxis,C[i]);for(i=0;i<x.length;i++)Kit.pushUnique(y.yaxis,x[i]);for(var B in I)Kit.pushUnique(y.cartesian,B)}if(a._has=sat._hasPlotType.bind(a),s.length===l.length)for(i=0;i<l.length;i++)aat(l[i],s[i]);sat.supplyLayoutModuleDefaults(o,a,l,t._transitionData);var A=a._visibleModules,F=[];for(i=0;i<A.length;i++){var Q=A[i].crossTraceDefaults;Q&&Kit.pushUnique(F,Q)}for(i=0;i<F.length;i++)F[i](l,a);a._hasOnlyLargeSploms=1===a._basePlotModules.length&&"splom"===a._basePlotModules[0].name&&C.length>15&&x.length>15&&0===a.shapes.length&&0===a.images.length,sat.linkSubplots(l,a,s,r),sat.cleanPlot(l,a,s,r);var w=!(!r._has||!r._has("gl2d")),U=!(!a._has||!a._has("gl2d")),G=!(!r._has||!r._has("cartesian"))||w,R=!(!a._has||!a._has("cartesian"))||U;G&&!R?r._bgLayer.remove():R&&!G&&(a._shouldCreateBgLayer=!0),r._zoomlayer&&!t._dragging&&eat({_fullLayout:r}),function(t,e){var n,r=[];e.meta&&(n=e._meta={meta:e.meta,layout:{meta:e.meta}});for(var i=0;i<t.length;i++){var a=t[i];a.meta?r[a.index]=a._meta={meta:a.meta}:e.meta&&(a._meta={meta:e.meta}),e.meta&&(a._meta.layout={meta:e.meta})}r.length&&(n||(n=e._meta={}),n.data=r)}(l,a),aat(a,r),Jit.getComponentMethod("colorscale","crossTraceDefaults")(l,a),a._preGUI||(a._preGUI={}),a._tracePreGUI||(a._tracePreGUI={});var S,L=a._tracePreGUI,_={};for(S in L)_[S]="old";for(i=0;i<l.length;i++)_[S=l[i]._fullInput.uid]||(L[S]={}),_[S]="new";for(S in _)"old"===_[S]&&delete L[S];mat(a),Jit.getComponentMethod("rangeslider","makeData")(a),n||u.length!==l.length||sat.supplyDefaultsUpdateCalc(u,l)}},sat.supplyDefaultsUpdateCalc=function(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=(t[n]||[])[0];if(i&&i.trace){var a=i.trace;if(a._hasCalcTransform){var o,s,l,c=a._arrayAttrs;for(o=0;o<c.length;o++)s=c[o],l=Kit.nestedProperty(a,s).get().slice(),Kit.nestedProperty(r,s).set(l)}i.trace=r}}},sat.createTransitionData=function(t){t._transitionData||(t._transitionData={}),t._transitionData._frames||(t._transitionData._frames=[]),t._transitionData._frameHash||(t._transitionData._frameHash={}),t._transitionData._counter||(t._transitionData._counter=0),t._transitionData._interruptCallbacks||(t._transitionData._interruptCallbacks=[])},sat._hasPlotType=function(t){var e,n=this._basePlotModules||[];for(e=0;e<n.length;e++)if(n[e].name===t)return!0;var r=this._modules||[];for(e=0;e<r.length;e++){var i=r[e].name;if(i===t)return!0;var a=Jit.modules[i];if(a&&a.categories[t])return!0}return!1},sat.cleanPlot=function(t,e,n,r){var i,a,o=r._basePlotModules||[];for(i=0;i<o.length;i++){var s=o[i];s.clean&&s.clean(t,e,n,r)}var l=r._has&&r._has("gl"),c=e._has&&e._has("gl");l&&!c&&void 0!==r._glcontainer&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.selectAll(".no-webgl").remove(),r._glcanvas=null);var u=!!r._infolayer;t:for(i=0;i<n.length;i++){var d=n[i].uid;for(a=0;a<t.length;a++){if(d===t[a].uid)continue t}u&&r._infolayer.select(".cb"+d).remove()}},sat.linkSubplots=function(t,e,n,r){var i,a,o=r._plots||{},s=e._plots={},l=e._subplots,c={_fullData:t,_fullLayout:e},u=l.cartesian.concat(l.gl2d||[]);for(i=0;i<u.length;i++){var d,h=u[i],g=o[h],f=tat.getFromId(c,h,"x"),p=tat.getFromId(c,h,"y");for(g?d=s[h]=g:(d=s[h]={}).id=h,f._counterAxes.push(p._id),p._counterAxes.push(f._id),f._subplotsWith.push(h),p._subplotsWith.push(h),d.xaxis=f,d.yaxis=p,d._hasClipOnAxisFalse=!1,a=0;a<t.length;a++){var v=t[a];if(v.xaxis===d.xaxis._id&&v.yaxis===d.yaxis._id&&!1===v.cliponaxis){d._hasClipOnAxisFalse=!0;break}}}var m,y=tat.list(c,null,!0);for(i=0;i<y.length;i++){var b=null;(m=y[i]).overlaying&&(b=tat.getFromId(c,m.overlaying))&&b.overlaying&&(m.overlaying=!1,b=null),m._mainAxis=b||m,b&&(m.domain=b.domain.slice()),m._anchorAxis="free"===m.anchor?null:tat.getFromId(c,m.anchor)}for(i=0;i<y.length;i++)if((m=y[i])._counterAxes.sort(tat.idSort),m._subplotsWith.sort(Kit.subplotSort),m._mainSubplot=gat(m,e),m._counterAxes.length&&(m.spikemode&&-1!==m.spikemode.indexOf("across")||m.automargin&&m.mirror&&"free"!==m.anchor||Jit.getComponentMethod("rangeslider","isVisible")(m))){var I=1,C=0;for(a=0;a<m._counterAxes.length;a++){var x=tat.getFromId(c,m._counterAxes[a]);I=Math.min(I,x.domain[0]),C=Math.max(C,x.domain[1])}I<C&&(m._counterDomainMin=I,m._counterDomainMax=C)}},sat.clearExpandedTraceDefaultColors=function(t){var e,n,r;for(n=[],(e=t._module._colorAttrs)||(t._module._colorAttrs=e=[],jit.crawl(t._module.attributes,(function(t,r,i,a){n[a]=r,n.length=a+1,"color"===t.valType&&void 0===t.dflt&&e.push(n.join("."))}))),r=0;r<e.length;r++){Kit.nestedProperty(t,"_input."+e[r]).get()||Kit.nestedProperty(t,e[r]).set(null)}},sat.supplyDataDefaults=function(t,e,n,r){var i,a,o,s=r._modules,l=r._visibleModules,c=r._basePlotModules,u=0,d=0;function h(t){e.push(t);var n=t._module;n&&(Kit.pushUnique(s,n),!0===t.visible&&Kit.pushUnique(l,n),Kit.pushUnique(c,t._module.basePlotModule),u++,!1!==t._input.visible&&d++)}r._transformModules=[];var g={},f=[],p=(n.template||{}).data||{},v=Pit.traceTemplater(p);for(i=0;i<t.length;i++){if(o=t[i],(a=v.newTrace(o)).uid=r._traceUids[i],sat.supplyTraceDefaults(o,a,d,r,i),a.index=i,a._input=o,a._expandedIndex=u,a.transforms&&a.transforms.length)for(var m=!1!==o.visible&&!1===a.visible,y=pat(a,e,n,r),b=0;b<y.length;b++){var I=y[b],C={_template:a._template,type:a.type,uid:a.uid+b};m&&!1===I.visible&&delete I.visible,sat.supplyTraceDefaults(I,C,u,r,i),aat(C,I),C.index=i,C._input=o,C._fullInput=a,C._expandedIndex=u,C._expandedInput=I,h(C)}else a._fullInput=a,a._expandedInput=a,h(a);Jit.traceIs(a,"carpetAxis")&&(g[a.carpet]=a),Jit.traceIs(a,"carpetDependent")&&f.push(i)}for(i=0;i<f.length;i++)if((a=e[f[i]]).visible){var x=g[a.carpet];a._carpet=x,x&&x.visible?(a.xaxis=x.xaxis,a.yaxis=x.yaxis):a.visible=!1}},sat.supplyAnimationDefaults=function(t){var e;t=t||{};var n={};function r(e,r){return Kit.coerce(t||{},n,nat,e,r)}if(r("mode"),r("direction"),r("fromcurrent"),Array.isArray(t.frame))for(n.frame=[],e=0;e<t.frame.length;e++)n.frame[e]=sat.supplyAnimationFrameDefaults(t.frame[e]||{});else n.frame=sat.supplyAnimationFrameDefaults(t.frame||{});if(Array.isArray(t.transition))for(n.transition=[],e=0;e<t.transition.length;e++)n.transition[e]=sat.supplyAnimationTransitionDefaults(t.transition[e]||{});else n.transition=sat.supplyAnimationTransitionDefaults(t.transition||{});return n},sat.supplyAnimationFrameDefaults=function(t){var e={};function n(n,r){return Kit.coerce(t||{},e,nat.frame,n,r)}return n("duration"),n("redraw"),e},sat.supplyAnimationTransitionDefaults=function(t){var e={};function n(n,r){return Kit.coerce(t||{},e,nat.transition,n,r)}return n("duration"),n("easing"),e},sat.supplyFrameDefaults=function(t){var e={};function n(n,r){return Kit.coerce(t,e,rat,n,r)}return n("group"),n("name"),n("traces"),n("baseframe"),n("data"),n("layout"),e},sat.supplyTraceDefaults=function(t,e,n,r,i){var a,o=r.colorway||qit.defaults,s=o[n%o.length];function l(n,r){return Kit.coerce(t,e,sat.attributes,n,r)}var c=l("visible");l("type"),l("name",r._traceWord+" "+i),l("uirevision",r.uirevision);var u=sat.getModule(e);if(e._module=u,u){var d=u.basePlotModule,h=d.attr,g=d.attributes;if(h&&g){var f=r._subplots,p="";if(c||"gl2d"!==d.name){if(Array.isArray(h))for(a=0;a<h.length;a++){var v=h[a],m=Kit.coerce(t,e,g,v);f[v]&&Kit.pushUnique(f[v],m),p+=m}else p=Kit.coerce(t,e,g,h);f[d.name]&&Kit.pushUnique(f[d.name],p)}}}return c&&(l("customdata"),l("ids"),l("meta"),Jit.traceIs(e,"showLegend")?(Kit.coerce(t,e,u.attributes.showlegend?u.attributes:sat.attributes,"showlegend"),l("legendgroup"),l("legendgrouptitle.text"),l("legendrank"),e._dfltShowLegend=!0):e._dfltShowLegend=!1,u&&u.supplyDefaults(t,e,s,r),Jit.traceIs(e,"noOpacity")||l("opacity"),Jit.traceIs(e,"notLegendIsolatable")&&(e.visible=!!e.visible),Jit.traceIs(e,"noHover")||(e.hovertemplate||Kit.coerceHoverinfo(t,e,r),"parcats"!==e.type&&Jit.getComponentMethod("fx","supplyDefaults")(t,e,s,r)),u&&u.selectPoints&&l("selectedpoints"),sat.supplyTransformDefaults(t,e,r)),e},sat.hasMakesDataTransform=fat,sat.supplyTransformDefaults=function(t,e,n){if(e._length||fat(t)){var r=n._globalTransforms||[],i=n._transformModules||[];if(Array.isArray(t.transforms)||0!==r.length)for(var a=t.transforms||[],o=r.concat(a),s=e.transforms=[],l=0;l<o.length;l++){var c,u=o[l],d=u.type,h=lat[d],g=!(u._module&&u._module===h),f=h&&"function"==typeof h.transform;h||Kit.warn("Unrecognized transform type "+d+"."),h&&h.supplyDefaults&&(g||f)?((c=h.supplyDefaults(u,e,n,t)).type=d,c._module=h,Kit.pushUnique(i,h)):c=Kit.extendFlat({},u),s.push(c)}}},sat.supplyLayoutGlobalDefaults=function(t,e,n){function r(n,r){return Kit.coerce(t,e,sat.layoutAttributes,n,r)}var i=t.template;Kit.isPlainObject(i)&&(e.template=i,e._template=i.layout,e._dataTemplate=i.data),r("autotypenumbers");var a=Kit.coerceFont(r,"font"),o=a.size;Kit.coerceFont(r,"title.font",Kit.extendFlat({},a,{size:Math.round(1.4*o)})),r("title.text",e._dfltTitle.plot),r("title.xref"),r("title.yref"),r("title.x"),r("title.y"),r("title.xanchor"),r("title.yanchor"),r("title.pad.t"),r("title.pad.r"),r("title.pad.b"),r("title.pad.l"),r("uniformtext.mode")&&r("uniformtext.minsize"),r("autosize",!(t.width&&t.height)),r("width"),r("height"),r("margin.l"),r("margin.r"),r("margin.t"),r("margin.b"),r("margin.pad"),r("margin.autoexpand"),t.width&&t.height&&sat.sanitizeMargins(e),Jit.getComponentMethod("grid","sizeDefaults")(t,e),r("paper_bgcolor"),r("separators",n.decimal+n.thousands),r("hidesources"),r("colorway"),r("datarevision");var s=r("uirevision");r("editrevision",s),r("selectionrevision",s),Jit.getComponentMethod("modebar","supplyLayoutDefaults")(t,e),Jit.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(t,e,r),r("meta"),Kit.isPlainObject(t.transition)&&(r("transition.duration"),r("transition.easing"),r("transition.ordering")),Jit.getComponentMethod("calendars","handleDefaults")(t,e,"calendar"),Jit.getComponentMethod("fx","supplyLayoutGlobalDefaults")(t,e,r)},sat.plotAutoSize=function(t,e,n){var r,i,a=t._context||{},o=a.frameMargins,s=Kit.isPlotDiv(t);if(s&&t.emit("plotly_autosize"),a.fillFrame)r=window.innerWidth,i=window.innerHeight,document.body.style.overflow="hidden";else{var l=s?window.getComputedStyle(t):{};if(r=vat(l.width)||vat(l.maxWidth)||n.width,i=vat(l.height)||vat(l.maxHeight)||n.height,zit(o)&&o>0){var c=1-2*o;r=Math.round(c*r),i=Math.round(c*i)}}var u=sat.layoutAttributes.width.min,d=sat.layoutAttributes.height.min;r<u&&(r=u),i<d&&(i=d);var h=!e.width&&Math.abs(n.width-r)>1,g=!e.height&&Math.abs(n.height-i)>1;(g||h)&&(h&&(n.width=r),g&&(n.height=i)),t._initialAutoSize||(t._initialAutoSize={width:r,height:i}),sat.sanitizeMargins(n)},sat.supplyLayoutModuleDefaults=function(t,e,n,r){var i,a,o,s=Jit.componentsRegistry,l=e._basePlotModules,c=Jit.subplotsRegistry.cartesian;for(i in s)(o=s[i]).includeBasePlot&&o.includeBasePlot(t,e);for(var u in l.length||l.push(c),e._has("cartesian")&&(Jit.getComponentMethod("grid","contentDefaults")(t,e),c.finalizeSubplots(t,e)),e._subplots)e._subplots[u].sort(Kit.subplotSort);for(a=0;a<l.length;a++)(o=l[a]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,n);var d=e._modules;for(a=0;a<d.length;a++)(o=d[a]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,n);var h=e._transformModules;for(a=0;a<h.length;a++)(o=h[a]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,n,r);for(i in s)(o=s[i]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,n)},sat.purge=function(t){var e=t._fullLayout||{};void 0!==e._glcontainer&&(e._glcontainer.selectAll(".gl-canvas").remove(),e._glcontainer.remove(),e._glcanvas=null),e._modeBar&&e._modeBar.destroy(),t._transitionData&&(t._transitionData._interruptCallbacks&&(t._transitionData._interruptCallbacks.length=0),t._transitionData._animationRaf&&window.cancelAnimationFrame(t._transitionData._animationRaf)),Kit.clearThrottle(),Kit.clearResponsive(t),delete t.data,delete t.layout,delete t._fullData,delete t._fullLayout,delete t.calcdata,delete t.empty,delete t.fid,delete t.undoqueue,delete t.undonum,delete t.autoplay,delete t.changed,delete t._promises,delete t._redrawTimer,delete t._hmlumcount,delete t._hmpixcount,delete t._transitionData,delete t._transitioning,delete t._initialAutoSize,delete t._transitioningWithDuration,delete t._dragging,delete t._dragged,delete t._dragdata,delete t._hoverdata,delete t._snapshotInProgress,delete t._editing,delete t._mouseDownTime,delete t._legendMouseDownTime,t.removeAllListeners&&t.removeAllListeners()},sat.style=function(t){var e,n=t._fullLayout._visibleModules,r=[];for(e=0;e<n.length;e++){var i=n[e];i.style&&Kit.pushUnique(r,i.style)}for(e=0;e<r.length;e++)r[e](t)},sat.sanitizeMargins=function(t){if(t&&t.margin){var e,n=t.width,r=t.height,i=t.margin,a=n-(i.l+i.r),o=r-(i.t+i.b);a<0&&(e=(n-1)/(i.l+i.r),i.l=Math.floor(e*i.l),i.r=Math.floor(e*i.r)),o<0&&(e=(r-1)/(i.t+i.b),i.t=Math.floor(e*i.t),i.b=Math.floor(e*i.b))}},sat.clearAutoMarginIds=function(t){t._fullLayout._pushmarginIds={}},sat.allowAutoMargin=function(t,e){t._fullLayout._pushmarginIds[e]=1};sat.autoMargin=function(t,e,n){var r=t._fullLayout,i=r.width,a=r.height,o=r.margin,s=Kit.constrain(i-o.l-o.r,2,64),l=Kit.constrain(a-o.t-o.b,2,64),c=Math.max(0,i-s),u=Math.max(0,a-l),d=r._pushmargin,h=r._pushmarginIds;if(!1!==o.autoexpand){if(n){var g=n.pad;if(void 0===g&&(g=Math.min(12,o.l,o.r,o.t,o.b)),c){var f=(n.l+n.r)/c;f>1&&(n.l/=f,n.r/=f)}if(u){var p=(n.t+n.b)/u;p>1&&(n.t/=p,n.b/=p)}var v=void 0!==n.xl?n.xl:n.x,m=void 0!==n.xr?n.xr:n.x,y=void 0!==n.yt?n.yt:n.y,b=void 0!==n.yb?n.yb:n.y;d[e]={l:{val:v,size:n.l+g},r:{val:m,size:n.r+g},b:{val:b,size:n.b+g},t:{val:y,size:n.t+g}},h[e]=1}else delete d[e],delete h[e];if(!r._replotting)return sat.doAutoMargin(t)}},sat.doAutoMargin=function(t){var e=t._fullLayout,n=e.width,r=e.height;e._size||(e._size={}),mat(e);var i=e._size,a=e.margin,o=Kit.extendFlat({},i),s=a.l,l=a.r,c=a.t,u=a.b,d=e._pushmargin,h=e._pushmarginIds;if(!1!==e.margin.autoexpand){for(var g in d)h[g]||delete d[g];for(var f in d.base={l:{val:0,size:s},r:{val:1,size:l},t:{val:1,size:c},b:{val:0,size:u}},d){var p=d[f].l||{},v=d[f].b||{},m=p.val,y=p.size,b=v.val,I=v.size;for(var C in d){if(zit(y)&&d[C].r){var x=d[C].r.val,B=d[C].r.size;if(x>m){var A=(y*x+(B-n)*m)/(x-m),F=(B*(1-m)+(y-n)*(1-x))/(x-m);A+F>s+l&&(s=A,l=F)}}if(zit(I)&&d[C].t){var Q=d[C].t.val,w=d[C].t.size;if(Q>b){var U=(I*Q+(w-r)*b)/(Q-b),G=(w*(1-b)+(I-r)*(1-Q))/(Q-b);U+G>u+c&&(u=U,c=G)}}}}}var R=Kit.constrain(n-a.l-a.r,2,64),S=Kit.constrain(r-a.t-a.b,2,64),L=Math.max(0,n-R),_=Math.max(0,r-S);if(L){var E=(s+l)/L;E>1&&(s/=E,l/=E)}if(_){var k=(u+c)/_;k>1&&(u/=k,c/=k)}if(i.l=Math.round(s),i.r=Math.round(l),i.t=Math.round(c),i.b=Math.round(u),i.p=Math.round(a.pad),i.w=Math.round(n)-i.l-i.r,i.h=Math.round(r)-i.t-i.b,!e._replotting&&sat.didMarginChange(o,i)){"_redrawFromAutoMarginCount"in e?e._redrawFromAutoMarginCount++:e._redrawFromAutoMarginCount=1;var V=3*(1+Object.keys(h).length);if(e._redrawFromAutoMarginCount<V)return Jit.call("_doPlot",t);e._size=o,Kit.warn("Too many auto-margin redraws.")}!function(t){var e=tat.list(t,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach((function(t){for(var n=0;n<e.length;n++){var r=e[n][t];r&&r()}}))}(t)};var yat=["l","r","t","b","p","w","h"];function bat(t,e,n){var r=!1;var i=[sat.previousPromises,function(){if(t._transitionData)return t._transitioning=!1,function(t){var e=Promise.resolve();if(!t)return e;for(;t.length;)e=e.then(t.shift());return e}(t._transitionData._interruptCallbacks)},n.prepareFn,sat.rehover,function(){return t.emit("plotly_transitioning",[]),new Promise((function(i){t._transitioning=!0,e.duration>0&&(t._transitioningWithDuration=!0),t._transitionData._interruptCallbacks.push((function(){r=!0})),n.redraw&&t._transitionData._interruptCallbacks.push((function(){return Jit.call("redraw",t)})),t._transitionData._interruptCallbacks.push((function(){t.emit("plotly_transitioninterrupted",[])}));var a=0,o=0;function s(){return a++,function(){o++,r||o!==a||function(e){if(!t._transitionData)return;(function(t){if(t)for(;t.length;)t.shift()})(t._transitionData._interruptCallbacks),Promise.resolve().then((function(){if(n.redraw)return Jit.call("redraw",t)})).then((function(){t._transitioning=!1,t._transitioningWithDuration=!1,t.emit("plotly_transitioned",[])})).then(e)}(i)}}n.runFn(s),setTimeout(s())}))}],a=Kit.syncOrAsync(i,t);return a&&a.then||(a=Promise.resolve()),a.then((function(){return t}))}sat.didMarginChange=function(t,e){for(var n=0;n<yat.length;n++){var r=yat[n],i=t[r],a=e[r];if(!zit(i)||Math.abs(a-i)>1)return!0}return!1},sat.graphJson=function(t,e,n,r,i,a){(i&&e&&!t._fullData||i&&!e&&!t._fullLayout)&&sat.supplyDefaults(t);var o=i?t._fullData:t.data,s=i?t._fullLayout:t.layout,l=(t._transitionData||{})._frames;function c(t,e){if("function"==typeof t)return e?"_function_":null;if(Kit.isPlainObject(t)){var r,i={};return Object.keys(t).sort().forEach((function(a){if(-1===["_","["].indexOf(a.charAt(0)))if("function"!=typeof t[a]){if("keepdata"===n){if("src"===a.substr(a.length-3))return}else if("keepstream"===n){if("string"==typeof(r=t[a+"src"])&&r.indexOf(":")>0&&!Kit.isPlainObject(t.stream))return}else if("keepall"!==n&&"string"==typeof(r=t[a+"src"])&&r.indexOf(":")>0)return;i[a]=c(t[a],e)}else e&&(i[a]="_function")})),i}return Array.isArray(t)?t.map((function(t){return c(t,e)})):Kit.isTypedArray(t)?Kit.simpleMap(t,Kit.identity):Kit.isJSDate(t)?Kit.ms2DateTimeLocal(+t):t}var u={data:(o||[]).map((function(t){var n=c(t);return e&&delete n.fit,n}))};if(!e&&(u.layout=c(s),i)){var d=s._size;u.layout.computed={margin:{b:d.b,l:d.l,r:d.r,t:d.t}}}return l&&(u.frames=c(l)),a&&(u.config=c(t._context,!0)),"object"===r?u:JSON.stringify(u)},sat.modifyFrames=function(t,e){var n,r,i,a=t._transitionData._frames,o=t._transitionData._frameHash;for(n=0;n<e.length;n++)switch((r=e[n]).type){case"replace":i=r.value;var s=(a[r.index]||{}).name,l=i.name;a[r.index]=o[l]=i,l!==s&&(delete o[s],o[l]=i);break;case"insert":o[(i=r.value).name]=i,a.splice(r.index,0,i);break;case"delete":delete o[(i=a[r.index]).name],a.splice(r.index,1)}return Promise.resolve()},sat.computeFrame=function(t,e){var n,r,i,a,o=t._transitionData._frameHash;if(!e)throw new Error("computeFrame must be given a string frame name");var s=o[e.toString()];if(!s)return!1;for(var l=[s],c=[s.name];s.baseframe&&(s=o[s.baseframe.toString()])&&-1===c.indexOf(s.name);)l.push(s),c.push(s.name);for(var u={};s=l.pop();)if(s.layout&&(u.layout=sat.extendLayout(u.layout,s.layout)),s.data){if(u.data||(u.data=[]),!(r=s.traces))for(r=[],n=0;n<s.data.length;n++)r[n]=n;for(u.traces||(u.traces=[]),n=0;n<s.data.length;n++)null!=(i=r[n])&&(-1===(a=u.traces.indexOf(i))&&(a=u.data.length,u.traces[a]=i),u.data[a]=sat.extendTrace(u.data[a],s.data[n]))}return u},sat.recomputeFrameHash=function(t){for(var e=t._transitionData._frameHash={},n=t._transitionData._frames,r=0;r<n.length;r++){var i=n[r];i&&i.name&&(e[i.name]=i)}},sat.extendObjectWithContainers=function(t,e,n){var r,i,a,o,s,l,c,u=Kit.extendDeepNoArrays({},e||{}),d=Kit.expandObjectPaths(u),h={};if(n&&n.length)for(a=0;a<n.length;a++)void 0===(i=(r=Kit.nestedProperty(d,n[a])).get())?Kit.nestedProperty(h,n[a]).set(null):(r.set(null),Kit.nestedProperty(h,n[a]).set(i));if(t=Kit.extendDeepNoArrays(t||{},d),n&&n.length)for(a=0;a<n.length;a++)if(l=Kit.nestedProperty(h,n[a]).get()){for(c=(s=Kit.nestedProperty(t,n[a])).get(),Array.isArray(c)||(c=[],s.set(c)),o=0;o<l.length;o++){var g=l[o];c[o]=null===g?null:sat.extendObjectWithContainers(c[o],g)}s.set(c)}return t},sat.dataArrayContainers=["transforms","dimensions"],sat.layoutArrayContainers=Jit.layoutArrayContainers,sat.extendTrace=function(t,e){return sat.extendObjectWithContainers(t,e,sat.dataArrayContainers)},sat.extendLayout=function(t,e){return sat.extendObjectWithContainers(t,e,sat.layoutArrayContainers)},sat.transition=function(t,e,n,r,i,a){var o={redraw:i.redraw},s={},l=[];return o.prepareFn=function(){for(var i=Array.isArray(e)?e.length:0,a=r.slice(0,i),o=0;o<a.length;o++){var c=a[o],u=t._fullData[c]._module;if(u){if(u.animatable){var d=u.basePlotModule.name;s[d]||(s[d]=[]),s[d].push(c)}t.data[a[o]]=sat.extendTrace(t.data[a[o]],e[o])}}var h=Kit.expandObjectPaths(Kit.extendDeepNoArrays({},n)),g=/^[xy]axis[0-9]*$/;for(var f in h)g.test(f)&&delete h[f].range;sat.extendLayout(t.layout,h),delete t.calcdata,sat.supplyDefaults(t),sat.doCalcdata(t);var p=Kit.expandObjectPaths(n);if(p){var v=t._fullLayout._plots;for(var m in v){var y=v[m],b=y.xaxis,I=y.yaxis,C=b.range.slice(),x=I.range.slice(),B=null,A=null,F=null,Q=null;Array.isArray(p[b._name+".range"])?B=p[b._name+".range"].slice():Array.isArray((p[b._name]||{}).range)&&(B=p[b._name].range.slice()),Array.isArray(p[I._name+".range"])?A=p[I._name+".range"].slice():Array.isArray((p[I._name]||{}).range)&&(A=p[I._name].range.slice()),C&&B&&(b.r2l(C[0])!==b.r2l(B[0])||b.r2l(C[1])!==b.r2l(B[1]))&&(F={xr0:C,xr1:B}),x&&A&&(I.r2l(x[0])!==I.r2l(A[0])||I.r2l(x[1])!==I.r2l(A[1]))&&(Q={yr0:x,yr1:A}),(F||Q)&&l.push(Kit.extendFlat({plotinfo:y},F,Q))}}return Promise.resolve()},o.runFn=function(e){var r,i,o=t._fullLayout._basePlotModules,c=l.length;if(n)for(i=0;i<o.length;i++)o[i].transitionAxes&&o[i].transitionAxes(t,l,a,e);for(var u in c?((r=Kit.extendFlat({},a)).duration=0,delete s.cartesian):r=a,s){var d=s[u];t._fullData[d[0]]._module.basePlotModule.plot(t,d,r,e)}},bat(t,a,o)},sat.transitionFromReact=function(t,e,n,r){var i=t._fullLayout,a=i.transition,o={},s=[];return o.prepareFn=function(){var t=i._plots;for(var a in o.redraw=!1,"some"===e.anim&&(o.redraw=!0),"some"===n.anim&&(o.redraw=!0),t){var l=t[a],c=l.xaxis,u=l.yaxis,d=r[c._name].range.slice(),h=r[u._name].range.slice(),g=c.range.slice(),f=u.range.slice();c.setScale(),u.setScale();var p=null,v=null;c.r2l(d[0])===c.r2l(g[0])&&c.r2l(d[1])===c.r2l(g[1])||(p={xr0:d,xr1:g}),u.r2l(h[0])===u.r2l(f[0])&&u.r2l(h[1])===u.r2l(f[1])||(v={yr0:h,yr1:f}),(p||v)&&s.push(Kit.extendFlat({plotinfo:l},p,v))}return Promise.resolve()},o.runFn=function(n){for(var r,i,o,l=t._fullData,c=t._fullLayout._basePlotModules,u=[],d=0;d<l.length;d++)u.push(d);function h(){if(t._fullLayout)for(var e=0;e<c.length;e++)c[e].transitionAxes&&c[e].transitionAxes(t,s,r,n)}function g(){if(t._fullLayout)for(var e=0;e<c.length;e++)c[e].plot(t,o,i,n)}s.length&&e.anim?"traces first"===a.ordering?(r=Kit.extendFlat({},a,{duration:0}),o=u,i=a,setTimeout(h,a.duration),g()):(r=a,o=null,i=Kit.extendFlat({},a,{duration:0}),setTimeout(g,r.duration),h()):s.length?(r=a,h()):e.anim&&(o=u,i=a,g())},bat(t,a,o)},sat.doCalcdata=function(t,e){var n,r,i,a,o=tat.list(t),s=t._fullData,l=t._fullLayout,c=new Array(s.length),u=(t.calcdata||[]).slice();for(t.calcdata=c,l._numBoxes=0,l._numViolins=0,l._violinScaleGroupStats={},t._hmpixcount=0,t._hmlumcount=0,l._piecolormap={},l._sunburstcolormap={},l._treemapcolormap={},l._iciclecolormap={},l._funnelareacolormap={},i=0;i<s.length;i++)Array.isArray(e)&&-1===e.indexOf(i)&&(c[i]=u[i]);for(i=0;i<s.length;i++)(n=s[i])._arrayAttrs=jit.findArrayAttributes(n),n._extremes={};var d=l._subplots.polar||[];for(i=0;i<d.length;i++)o.push(l[d[i]].radialaxis,l[d[i]].angularaxis);for(var h in l._colorAxes){var g=l[h];!1!==g.cauto&&(delete g.cmin,delete g.cmax)}var f=!1;function p(e){if(n=s[e],r=n._module,!0===n.visible&&n.transforms){if(r&&r.calc){var i=r.calc(t,n);i[0]&&i[0].t&&i[0].t._scene&&delete i[0].t._scene.dirty}for(a=0;a<n.transforms.length;a++){var o=n.transforms[a];(r=lat[o.type])&&r.calcTransform&&(n._hasCalcTransform=!0,f=!0,r.calcTransform(t,n,o))}}}function v(e,i){if(n=s[e],!!(r=n._module).isContainer===i){var o=[];if(!0===n.visible&&0!==n._length){delete n._indexToPoints;var l=n.transforms||[];for(a=l.length-1;a>=0;a--)if(l[a].enabled){n._indexToPoints=l[a]._indexToPoints;break}r&&r.calc&&(o=r.calc(t,n))}Array.isArray(o)&&o[0]||(o=[{x:$it,y:$it}]),o[0].t||(o[0].t={}),o[0].trace=n,c[e]=o}}for(Cat(o,s,l),i=0;i<s.length;i++)v(i,!0);for(i=0;i<s.length;i++)p(i);for(f&&Cat(o,s,l),i=0;i<s.length;i++)v(i,!0);for(i=0;i<s.length;i++)v(i,!1);xat(t);var m=function(t,e){var n,r,i,a,o,s=[];function l(t,n,r){var i=n._id.charAt(0);if("histogram2dcontour"===t){var a=n._counterAxes[0],o=tat.getFromId(e,a),s="x"===i||"x"===a&&"category"===o.type,l="y"===i||"y"===a&&"category"===o.type;return function(t,e){return 0===t||0===e||s&&t===r[e].length-1||l&&e===r.length-1?-1:("y"===i?e:t)-1}}return function(t,e){return"y"===i?e:t}}var c={min:function(t){return Kit.aggNums(Math.min,null,t)},max:function(t){return Kit.aggNums(Math.max,null,t)},sum:function(t){return Kit.aggNums((function(t,e){return t+e}),null,t)},total:function(t){return Kit.aggNums((function(t,e){return t+e}),null,t)},mean:function(t){return Kit.mean(t)},median:function(t){return Kit.median(t)}};for(n=0;n<t.length;n++){var u=t[n];if("category"===u.type){var d=u.categoryorder.match(Iat);if(d){var h=d[1],g=d[2],f=u._id.charAt(0),p="x"===f,v=[];for(r=0;r<u._categories.length;r++)v.push([u._categories[r],[]]);for(r=0;r<u._traceIndices.length;r++){var m=u._traceIndices[r],y=e._fullData[m];if(!0===y.visible){var b=y.type;Jit.traceIs(y,"histogram")&&(delete y._xautoBinFinished,delete y._yautoBinFinished);var I="splom"===b,C="scattergl"===b,x=e.calcdata[m];for(i=0;i<x.length;i++){var B,A,F=x[i];if(I){var Q=y._axesDim[u._id];if(!p){var w=y._diag[Q][0];w&&(u=e._fullLayout[tat.id2name(w)])}var U=F.trace.dimensions[Q].values;for(a=0;a<U.length;a++)for(B=u._categoriesMap[U[a]],o=0;o<F.trace.dimensions.length;o++)if(o!==Q){var G=F.trace.dimensions[o];v[B][1].push(G.values[a])}}else if(C){for(a=0;a<F.t.x.length;a++)p?(B=F.t.x[a],A=F.t.y[a]):(B=F.t.y[a],A=F.t.x[a]),v[B][1].push(A);F.t&&F.t._scene&&delete F.t._scene.dirty}else if(F.hasOwnProperty("z")){A=F.z;var R=l(y.type,u,A);for(a=0;a<A.length;a++)for(o=0;o<A[a].length;o++)(B=R(o,a))+1&&v[B][1].push(A[a][o])}else for(void 0===(B=F.p)&&(B=F[f]),void 0===(A=F.s)&&(A=F.v),void 0===A&&(A=p?F.y:F.x),Array.isArray(A)||(A=void 0===A?[]:[A]),a=0;a<A.length;a++)v[B][1].push(A[a])}}}u._categoriesValue=v;var S=[];for(r=0;r<v.length;r++)S.push([v[r][0],c[h](v[r][1])]);S.sort((function(t,e){return t[1]-e[1]})),u._categoriesAggregatedValue=S,u._initialCategories=S.map((function(t){return t[0]})),"descending"===g&&u._initialCategories.reverse(),s=s.concat(u.sortByInitialCategories())}}}return s}(o,t);if(m.length){for(l._numBoxes=0,l._numViolins=0,i=0;i<m.length;i++)v(m[i],!0);for(i=0;i<m.length;i++)v(m[i],!1);xat(t)}Jit.getComponentMethod("fx","calc")(t),Jit.getComponentMethod("errorbars","calc")(t)};var Iat=/(total|sum|min|max|mean|median) (ascending|descending)/;function Cat(t,e,n){var r={};function i(t){t.clearCalc(),"multicategory"===t.type&&t.setupMultiCategory(e),r[t._id]=1}Kit.simpleMap(t,i);for(var a=n._axisMatchGroups||[],o=0;o<a.length;o++)for(var s in a[o])r[s]||i(n[tat.id2name(s)])}function xat(t){var e,n,r,i=t._fullLayout,a=i._visibleModules,o={};for(n=0;n<a.length;n++){var s=a[n],l=s.crossTraceCalc;if(l){var c=s.basePlotModule.name;o[c]?Kit.pushUnique(o[c],l):o[c]=[l]}}for(r in o){var u=o[r],d=i._subplots[r];if(Array.isArray(d))for(e=0;e<d.length;e++){var h=d[e],g="cartesian"===r?i._plots[h]:i[h];for(n=0;n<u.length;n++)u[n](t,g,h)}else for(n=0;n<u.length;n++)u[n](t)}}sat.rehover=function(t){t._fullLayout._rehover&&t._fullLayout._rehover()},sat.redrag=function(t){t._fullLayout._redrag&&t._fullLayout._redrag()},sat.generalUpdatePerTraceModule=function(t,e,n,r){var i,a=e.traceHash,o={};for(i=0;i<n.length;i++){var s=n[i],l=s[0].trace;l.visible&&(o[l.type]=o[l.type]||[],o[l.type].push(s))}for(var c in a)if(!o[c]){var u=a[c][0];u[0].trace.visible=!1,o[c]=[u]}for(var d in o){var h=o[d];h[0][0].trace._module.plot(t,e,Kit.filterVisible(h),r)}e.traceHash=o},sat.plotBasePlot=function(t,e,n,r,i){var a=Jit.getModule(t),o=iat(e.calcdata,a)[0];a.plot(e,o,r,i)},sat.cleanBasePlot=function(t,e,n,r,i){var a=i._has&&i._has(t),o=n._has&&n._has(t);a&&!o&&i["_"+t+"layer"].selectAll("g.trace").remove()};var Bat,Aat={exports:{}},Fat={},Qat={};(Bat=Qat).xmlns="http://www.w3.org/2000/xmlns/",Bat.svg="http://www.w3.org/2000/svg",Bat.xlink="http://www.w3.org/1999/xlink",Bat.svgAttrs={xmlns:Bat.svg,"xmlns:xlink":Bat.xlink};var wat={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}};!function(t){var e=w4.exports,n=Q4.exports,r=n.strTranslate,i=Qat,a=wat.LINE_SPACING,o=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;t.convertToTspans=function(g,A,F){var U=g.text(),G=!g.attr("data-notex")&&"undefined"!=typeof MathJax&&U.match(o),R=e.select(g.node().parentNode);if(!R.empty()){var S=g.attr("class")?g.attr("class").split(" ")[0]:"text";return S+="-math",R.selectAll("svg."+S).remove(),R.selectAll("g."+S+"-group").remove(),g.style("display",null).attr({"data-unformatted":U,"data-math":"N"}),G?(A&&A._promises||[]).push(new Promise((function(t){g.style("display","none");var i=parseInt(g.node().style.fontSize,10),a={fontSize:i};!function(t,r,i){var a,o,c,u;MathJax.Hub.Queue((function(){return o=n.extendDeepAll({},MathJax.Hub.config),c=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]},displayAlign:"left"})}),(function(){if("SVG"!==(a=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")}),(function(){var i="math-output-"+n.randstr({},64);return u=e.select("body").append("div").attr({id:i}).style({visibility:"hidden",position:"absolute"}).style({"font-size":r.fontSize+"px"}).text(function(t){return t.replace(s,"\\lt ").replace(l,"\\gt ")}(t)),MathJax.Hub.Typeset(u.node())}),(function(){var r=e.select("body").select("#MathJax_SVG_glyphs");if(u.select(".MathJax_SVG").empty()||!u.select("svg").node())n.log("There was an error in the tex syntax.",t),i();else{var o=u.select("svg").node().getBoundingClientRect();i(u.select(".MathJax_SVG"),r,o)}if(u.remove(),"SVG"!==a)return MathJax.Hub.setRenderer(a)}),(function(){return void 0!==c&&(MathJax.Hub.processSectionDelay=c),MathJax.Hub.Config(o)}))}(G[2],a,(function(e,n,a){R.selectAll("svg."+S).remove(),R.selectAll("g."+S+"-group").remove();var o=e&&e.select("svg");if(!o||!o.node())return L(),void t();var s=R.append("g").classed(S+"-group",!0).attr({"pointer-events":"none","data-unformatted":U,"data-math":"Y"});s.node().appendChild(o.node()),n&&n.node()&&o.node().insertBefore(n.node().cloneNode(!0),o.node().firstChild);var l=a.width,c=a.height;o.attr({class:S,height:c,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var u=g.node().style.fill||"black",d=o.select("g");d.attr({fill:u,stroke:u});var h=d.node().getBoundingClientRect(),f=h.width,p=h.height;(f>l||p>c)&&(o.style("overflow","hidden"),f=(h=o.node().getBoundingClientRect()).width,p=h.height);var v=+g.attr("x"),m=+g.attr("y"),y=-(i||g.node().getBoundingClientRect().height)/4;if("y"===S[0])s.attr({transform:"rotate("+[-90,v,m]+")"+r(-f/2,y-p/2)});else if("l"===S[0])m=y-p/2;else if("a"===S[0]&&0!==S.indexOf("atitle"))v=0,m=y;else{var b=g.attr("text-anchor");v-=f*("middle"===b?.5:"end"===b?1:0),m=m+y-p/2}o.attr({x:v,y:m}),F&&F.call(g,s),t(s)}))}))):L(),g}function L(){R.empty()||(S=g.attr("class")+"-math",R.select("svg."+S).remove()),g.text("").style("white-space","pre");var r=function(t,r){r=r.replace(f," ");var o,s=!1,l=[],g=-1;function A(){g++;var n=document.createElementNS(i.svg,"tspan");e.select(n).attr({class:"line",dy:g*a+"em"}),t.appendChild(n),o=n;var r=l;if(l=[{node:n}],r.length>1)for(var s=1;s<r.length;s++)F(r[s])}function F(t){var n,r=t.type,a={};if("a"===r){n="a";var s=t.target,c=t.href,g=t.popup;c&&(a={"xlink:xlink:show":"_blank"===s||"_"!==s.charAt(0)?"new":"replace",target:s,"xlink:xlink:href":c},g&&(a.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+g+'");return false;'))}else n="tspan";t.style&&(a.style=t.style);var f=document.createElementNS(i.svg,n);if("sup"===r||"sub"===r){U(o,h),o.appendChild(f);var p=document.createElementNS(i.svg,"tspan");U(p,h),e.select(p).attr("dy",d[r]),a.dy=u[r],o.appendChild(f),o.appendChild(p)}else o.appendChild(f);e.select(f).attr(a),o=t.node=f,l.push(t)}function U(t,e){t.appendChild(document.createTextNode(e))}function G(t){if(1!==l.length){var e=l.pop();t!==e.type&&n.log("Start tag <"+e.type+"> doesnt match end tag <"+t+">. Pretending it did match.",r),o=l[l.length-1].node}else n.log("Ignoring unexpected end tag </"+t+">.",r)}m.test(r)?A():(o=t,l=[{node:t}]);for(var R=r.split(p),S=0;S<R.length;S++){var L=R[S],_=L.match(v),E=_&&_[2].toLowerCase(),k=c[E];if("br"===E)A();else if(void 0===k)U(o,Q(L));else if(_[1])G(E);else{var V=_[4],Z={type:E},N=x(V,y);if(N?(N=N.replace(B,"$1 fill:"),k&&(N+=";"+k)):k&&(N=k),N&&(Z.style=N),"a"===E){s=!0;var T=x(V,b);if(T){var X=w(T);X&&(Z.href=X,Z.target=x(V,I)||"_blank",Z.popup=x(V,C))}}F(Z)}}return s}(g.node(),U);r&&g.style("pointer-events","all"),t.positionText(g),F&&F.call(g)}};var s=/(<|&lt;|&#60;)/g,l=/(>|&gt;|&#62;)/g;var c={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},u={sub:"0.3em",sup:"-0.6em"},d={sub:"-0.21em",sup:"0.42em"},h="​",g=["http:","https:","mailto:","",void 0,":"],f=t.NEWLINES=/(\r\n?|\n)/g,p=/(<[^<>]*>)/,v=/<(\/?)([^ >]*)(\s+(.*))?>/i,m=/<br(\s+.*)?>/i;t.BR_TAG_ALL=/<br(\s+.*)?>/gi;var y=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,b=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,I=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,C=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function x(t,e){if(!t)return null;var n=t.match(e),r=n&&(n[3]||n[4]);return r&&Q(r)}var B=/(^|;)\s*color:/;t.plainText=function(t,e){for(var n=void 0!==(e=e||{}).len&&-1!==e.len?e.len:1/0,r=void 0!==e.allowedTags?e.allowedTags:["br"],i="...".length,a=t.split(p),o=[],s="",l=0,c=0;c<a.length;c++){var u=a[c],d=u.match(v),h=d&&d[2].toLowerCase();if(h)-1!==r.indexOf(h)&&(o.push(u),s=h);else{var g=u.length;if(l+g<n)o.push(u),l+=g;else if(l<n){var f=n-l;s&&("br"!==s||f<=i||g<=i)&&o.pop(),n>i?o.push(u.substr(0,f-i)+"..."):o.push(u.substr(0,f));break}s=""}}return o.join("")};var A={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},F=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function Q(t){return t.replace(F,(function(t,e){var n;return n="#"===e.charAt(0)?function(t){if(t>1114111)return;var e=String.fromCodePoint;if(e)return e(t);var n=String.fromCharCode;return t<=65535?n(t):n(55232+(t>>10),t%1024+56320)}("x"===e.charAt(1)?parseInt(e.substr(2),16):parseInt(e.substr(1),10)):A[e],n||t}))}function w(t){var e=encodeURI(decodeURI(t)),n=document.createElement("a"),r=document.createElement("a");n.href=t,r.href=e;var i=n.protocol,a=r.protocol;return-1!==g.indexOf(i)&&-1!==g.indexOf(a)?e:""}function U(t,e,r){var i,a,o,s=r.horizontalAlign,l=r.verticalAlign||"top",c=t.node().getBoundingClientRect(),u=e.node().getBoundingClientRect();return a="bottom"===l?function(){return c.bottom-i.height}:"middle"===l?function(){return c.top+(c.height-i.height)/2}:function(){return c.top},o="right"===s?function(){return c.right-i.width}:"center"===s?function(){return c.left+(c.width-i.width)/2}:function(){return c.left},function(){i=this.node().getBoundingClientRect();var t=o()-u.left,e=a()-u.top,s=r.gd||{};if(r.gd){s._fullLayout._calcInverseTransform(s);var l=n.apply3DTransform(s._fullLayout._invTransform)(t,e);t=l[0],e=l[1]}return this.style({top:e+"px",left:t+"px","z-index":1e3}),this}}t.convertEntities=Q,t.sanitizeHTML=function(t){t=t.replace(f," ");for(var n=document.createElement("p"),r=n,i=[],a=t.split(p),o=0;o<a.length;o++){var s=a[o],l=s.match(v),u=l&&l[2].toLowerCase();if(u in c)if(l[1])i.length&&(r=i.pop());else{var d=l[4],h=x(d,y),g=h?{style:h}:{};if("a"===u){var m=x(d,b);if(m){var C=w(m);if(C){g.href=C;var B=x(d,I);B&&(g.target=B)}}}var A=document.createElement(u);r.appendChild(A),e.select(A).attr(g),r=A,i.push(A)}else r.appendChild(document.createTextNode(Q(s)))}return n.innerHTML},t.lineCount=function(t){return t.selectAll("tspan.line").size()||1},t.positionText=function(t,n,r){return t.each((function(){var t=e.select(this);function i(e,n){return void 0===n?null===(n=t.attr(e))&&(t.attr(e,0),n=0):t.attr(e,n),n}var a=i("x",n),o=i("y",r);"text"===this.nodeName&&t.selectAll("tspan.line").attr({x:a,y:o})}))};var G="1px ";t.makeTextShadow=function(t){return G+G+G+t+", -"+G+"-"+G+G+t+", "+G+"-"+G+G+t+", -"+G+G+G+t},t.makeEditable=function(t,n){var r=n.gd,i=n.delegate,a=e.dispatch("edit","input","cancel"),o=i||t;if(t.style({"pointer-events":i?"none":"all"}),1!==t.size())throw new Error("boo");function s(){!function(){var i=e.select(r).select(".svg-container"),o=i.append("div"),s=t.node().style,c=parseFloat(s.fontSize||12),u=n.text;void 0===u&&(u=t.attr("data-unformatted"));o.classed("plugin-editable editable",!0).style({position:"absolute","font-family":s.fontFamily||"Arial","font-size":c,color:n.fill||s.fill||"black",opacity:1,"background-color":n.background||"transparent",outline:"#ffffff33 1px solid",margin:[-c/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(u).call(U(t,i,n)).on("blur",(function(){r._editing=!1,t.text(this.textContent).style({opacity:1});var n,i=e.select(this).attr("class");(n=i?"."+i.split(" ")[0]+"-math-group":"[class*=-math-group]")&&e.select(t.node().parentNode).select(n).style({opacity:0});var o=this.textContent;e.select(this).transition().duration(0).remove(),e.select(document).on("mouseup",null),a.edit.call(t,o)})).on("focus",(function(){var t=this;r._editing=!0,e.select(document).on("mouseup",(function(){if(e.event.target===t)return!1;document.activeElement===o.node()&&o.node().blur()}))})).on("keyup",(function(){27===e.event.which?(r._editing=!1,t.style({opacity:1}),e.select(this).style({opacity:0}).on("blur",(function(){return!1})).transition().remove(),a.cancel.call(t,this.textContent)):(a.input.call(t,this.textContent),e.select(this).call(U(t,i,n)))})).on("keydown",(function(){13===e.event.which&&this.blur()})).call(l)}(),t.style({opacity:0});var i,s=o.attr("class");(i=s?"."+s.split(" ")[0]+"-math-group":"[class*=-math-group]")&&e.select(t.node().parentNode).select(i).style({opacity:0})}function l(t){var e=t.node(),n=document.createRange();n.selectNodeContents(e);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),e.focus()}return n.immediate?s():o.on("click",s),e.rebind(t,a,"on")}}(Fat);var Uat={exports:{}},Gat=w4.exports,Rat=Btt.exports,Sat=z6,Lat=Q4.exports,_at=Ott.exports,Eat=Ytt.isValid;var kat=["showscale","autocolorscale","colorscale","reversescale","colorbar"],Vat=["min","max","mid","auto"];function Zat(t){var e,n,r,i=t._colorAx,a=i||t,o={};for(n=0;n<kat.length;n++)o[r=kat[n]]=a[r];if(i)for(e="c",n=0;n<Vat.length;n++)o[r=Vat[n]]=a["c"+r];else{var s;for(n=0;n<Vat.length;n++)((s="c"+(r=Vat[n]))in a||(s="z"+r)in a)&&(o[r]=a[s]);e=s.charAt(0)}return o._sync=function(t,n){var r=-1!==Vat.indexOf(t)?e+t:t;a[r]=a["_"+r]=n},o}function Nat(t){for(var e=Zat(t),n=e.min,r=e.max,i=e.reversescale?Tat(e.colorscale):e.colorscale,a=i.length,o=new Array(a),s=new Array(a),l=0;l<a;l++){var c=i[l];o[l]=n+c[0]*(r-n),s[l]=c[1]}return{domain:o,range:s}}function Tat(t){for(var e=t.length,n=new Array(e),r=e-1,i=0;r>=0;r--,i++){var a=t[r];n[i]=[1-a[0],a[1]]}return n}function Xat(t,e){e=e||{};for(var n=t.domain,r=t.range,i=r.length,a=new Array(i),o=0;o<i;o++){var s=Rat(r[o]).toRgb();a[o]=[s.r,s.g,s.b,s.a]}var l,c=Gat.scale.linear().domain(n).range(a).clamp(!0),u=e.noNumericCheck,d=e.returnArray;return l=u&&d?c:u?function(t){return Wat(c(t))}:d?function(t){return Sat(t)?c(t):Rat(t).isValid()?t:_at.defaultLine}:function(t){return Sat(t)?Wat(c(t)):Rat(t).isValid()?t:_at.defaultLine},l.domain=c.domain,l.range=function(){return r},l}function Wat(t){var e={r:t[0],g:t[1],b:t[2],a:t[3]};return Rat(e).toRgbString()}var Mat={hasColorscale:function(t,e,n){var r=e?Lat.nestedProperty(t,e).get()||{}:t,i=r[n||"color"],a=!1;if(Lat.isArrayOrTypedArray(i))for(var o=0;o<i.length;o++)if(Sat(i[o])){a=!0;break}return Lat.isPlainObject(r)&&(a||!0===r.showscale||Sat(r.cmin)&&Sat(r.cmax)||Eat(r.colorscale)||Lat.isPlainObject(r.colorbar))},extractOpts:Zat,extractScale:Nat,flipScale:Tat,makeColorScaleFunc:Xat,makeColorScaleFuncFromTrace:function(t,e){return Xat(Nat(t),e)}},Hat={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"},Dat=Hat.FORMAT_LINK,Yat=Hat.DATE_FORMAT_LINK;function Oat(t,e){return["Sets the "+t+" formatting rule"+(e?"for `"+e+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+Dat+"."].join(" ")}function zat(t,e){return Oat(t,e)+[" And for dates see: "+Yat+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}var Jat=function(t,e){return{valType:"string",dflt:"",editType:"none",description:(e?Oat:zat)("hover text",t)+["By default the values are formatted using "+(e?"generic number format":"`"+t+"axis.hoverformat`")+"."].join(" ")}},jat=zat,Pat=Att,Kat=ztt,qat=lnt.dash,$at=Rtt.extendFlat,tot=Rit.templatedArray,eot=jat,not=J6.ONEDAY,rot=Nit,iot=rot.HOUR_PATTERN,aot=rot.WEEKDAY_PATTERN,oot={visible:{valType:"boolean",editType:"plot",description:["A single toggle to hide the axis while preserving interaction like dragging.","Default is true when a cheater plot is present on the axis, otherwise","false"].join(" ")},color:{valType:"color",dflt:Kat.defaultLine,editType:"ticks",description:["Sets default for all colors associated with this axis","all at once: line, font, tick, and grid colors.","Grid color is lightened by blending this with the plot background","Individual pieces can override this."].join(" ")},title:{text:{valType:"string",editType:"ticks",description:["Sets the title of this axis.","Note that before the existence of `title.text`, the title's","contents used to be defined as the `title` attribute itself.","This behavior has been deprecated."].join(" ")},font:Pat({editType:"ticks",description:["Sets this axis' title font.","Note that the title's font used to be customized","by the now deprecated `titlefont` attribute."].join(" ")}),standoff:{valType:"number",min:0,editType:"ticks",description:["Sets the standoff distance (in px) between the axis labels and the title text","The default value is a function of the axis tick labels, the title `font.size`","and the axis `linewidth`.","Note that the axis title position is always constrained within the margins,","so the actual standoff distance is always less than the set or default value.","By setting `standoff` and turning on `automargin`, plotly.js will push the","margins to fit the axis title at given standoff distance."].join(" ")},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0,description:["Sets the axis type.","By default, plotly attempts to determined the axis type","by looking into the data of the traces that referenced","the axis in question."].join(" ")},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc",description:["Using *strict* a numeric string in trace data is not converted to a number.","Using *convert types* a numeric string in trace data may be","treated as a number during automatic axis `type` detection.","Defaults to layout.autotypenumbers."].join(" ")},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Determines whether or not the range of this axis is","computed in relation to the input data.","See `rangemode` for more info.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot",description:["If *normal*, the range is computed in relation to the extrema","of the input data.","If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data.","Applies only to linear axes."].join(" ")},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0,description:["Sets the range of this axis.","If the axis `type` is *log*, then you must take the log of your","desired range (e.g. to set the range from 1 to 100,","set the range from 0 to 2).","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},fixedrange:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not this axis is zoom-able.","If true, then zoom is disabled."].join(" ")},scaleanchor:{valType:"enumerated",values:[rot.idRegex.x.toString(),rot.idRegex.y.toString()],editType:"plot",description:["If set to another axis id (e.g. `x2`, `y`), the range of this axis","changes together with the range of the corresponding axis","such that the scale of pixels per unit is in a constant ratio.","Both axes are still zoomable, but when you zoom one, the other will","zoom the same amount, keeping a fixed midpoint.","`constrain` and `constraintoward` determine how we enforce the constraint.","You can chain these, ie `yaxis: {scaleanchor: *x*}, xaxis2: {scaleanchor: *y*}`","but you can only link axes of the same `type`.","The linked axis can have the opposite letter (to constrain the aspect ratio)","or the same letter (to match scales across subplots).","Loops (`yaxis: {scaleanchor: *x*}, xaxis: {scaleanchor: *y*}` or longer) are redundant","and the last constraint encountered will be ignored to avoid possible","inconsistent constraints via `scaleratio`.","Note that setting axes simultaneously in both a `scaleanchor` and a `matches` constraint","is currently forbidden."].join(" ")},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot",description:["If this axis is linked to another by `scaleanchor`, this determines the pixel","to unit scale ratio. For example, if this value is 10, then every unit on","this axis spans 10 times the number of pixels as a unit on the linked axis.","Use this for example to create an elevation profile where the vertical scale","is exaggerated a fixed amount with respect to the horizontal."].join(" ")},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot",description:["If this axis needs to be compressed (either due to its own `scaleanchor` and","`scaleratio` or those of the other axis), determines how that happens:","by increasing the *range*, or by decreasing the *domain*.","Default is *domain* for axes containing image traces, *range* otherwise."].join(" ")},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot",description:["If this axis needs to be compressed (either due to its own `scaleanchor` and","`scaleratio` or those of the other axis), determines which direction we push","the originally specified plot area. Options are *left*, *center* (default),","and *right* for x axes, and *top*, *middle* (default), and *bottom* for y axes."].join(" ")},matches:{valType:"enumerated",values:[rot.idRegex.x.toString(),rot.idRegex.y.toString()],editType:"calc",description:["If set to another axis id (e.g. `x2`, `y`), the range of this axis","will match the range of the corresponding axis in data-coordinates space.","Moreover, matching axes share auto-range values, category lists and","histogram auto-bins.","Note that setting axes simultaneously in both a `scaleanchor` and a `matches` constraint","is currently forbidden.","Moreover, note that matching axes must have the same `type`."].join(" ")},rangebreaks:tot("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether this axis rangebreak is enabled or disabled.","Please note that `rangebreaks` only work for *date* axis type."].join(" ")},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc",description:["Sets the lower and upper bounds of this axis rangebreak.","Can be used with `pattern`."].join(" ")},pattern:{valType:"enumerated",values:[aot,iot,""],editType:"calc",description:["Determines a pattern on the time line that generates breaks.","If *"+aot+"* - days of the week in English e.g. 'Sunday' or `sun`","(matching is case-insensitive and considers only the first three characters),","as well as Sunday-based integers between 0 and 6.","If *"+iot+"* - hour (24-hour clock) as decimal numbers between 0 and 24.","for more info.","Examples:","- { pattern: '"+aot+"', bounds: [6, 1] }"," or simply { bounds: ['sat', 'mon'] }","  breaks from Saturday to Monday (i.e. skips the weekends).","- { pattern: '"+iot+"', bounds: [17, 8] }","  breaks from 5pm to 8am (i.e. skips non-work hours)."].join(" ")},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"},description:["Sets the coordinate values corresponding to the rangebreaks.","An alternative to `bounds`.","Use `dvalue` to set the size of the values along the axis."].join(" ")},dvalue:{valType:"number",editType:"calc",min:0,dflt:not,description:["Sets the size of each `values` item.","The default is one day in milliseconds."].join(" ")},editType:"calc"}),tickmode:{valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0},description:["Sets the tick mode for this axis.","If *auto*, the number of ticks is set via `nticks`.","If *linear*, the placement of the ticks is determined by","a starting position `tick0` and a tick step `dtick`","(*linear* is the default value if `tick0` and `dtick` are provided).","If *array*, the placement of the ticks is set via `tickvals`","and the tick text is `ticktext`.","(*array* is the default value if `tickvals` is provided)."].join(" ")},nticks:{valType:"integer",min:0,dflt:0,editType:"ticks",description:["Specifies the maximum number of ticks for the particular axis.","The actual number of ticks will be chosen automatically to be","less than or equal to `nticks`.","Has an effect only if `tickmode` is set to *auto*."].join(" ")},tick0:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"},description:["Sets the placement of the first tick on this axis.","Use with `dtick`.","If the axis `type` is *log*, then you must take the log of your starting tick","(e.g. to set the starting tick to 100, set the `tick0` to 2)","except when `dtick`=*L<f>* (see `dtick` for more info).","If the axis `type` is *date*, it should be a date string, like date data.","If the axis `type` is *category*, it should be a number, using the scale where","each category is assigned a serial number from zero in the order it appears."].join(" ")},dtick:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"},description:["Sets the step in-between ticks on this axis. Use with `tick0`.","Must be a positive number, or special strings available to *log* and *date* axes.","If the axis `type` is *log*, then ticks are set every 10^(n*dtick) where n","is the tick number. For example,","to set a tick mark at 1, 10, 100, 1000, ... set dtick to 1.","To set tick marks at 1, 100, 10000, ... set dtick to 2.","To set tick marks at 1, 5, 25, 125, 625, 3125, ... set dtick to log_10(5), or 0.69897000433.","*log* has several special values; *L<f>*, where `f` is a positive number,","gives ticks linearly spaced in value (but not position).","For example `tick0` = 0.1, `dtick` = *L0.5* will put ticks at 0.1, 0.6, 1.1, 1.6 etc.","To show powers of 10 plus small digits between, use *D1* (all digits) or *D2* (only 2 and 5).","`tick0` is ignored for *D1* and *D2*.","If the axis `type` is *date*, then you must convert the time to milliseconds.","For example, to set the interval between ticks to one day,","set `dtick` to 86400000.0.","*date* also has special values *M<n>* gives ticks spaced by a number of months.","`n` must be a positive integer.","To set ticks on the 15th of every third month, set `tick0` to *2000-01-15* and `dtick` to *M3*.","To set ticks every 4 years, set `dtick` to *M48*"].join(" ")},ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks",description:["Sets the spacing between tick labels as compared to the spacing between ticks.","A value of 1 (default) means each tick gets a label.","A value of 2 means shows every 2nd label.","A larger value n means only every nth tick is labeled.","`tick0` determines which labels are shown.","Not implemented for axes with `type` *log* or *multicategory*, or when `tickmode` is *array*."].join(" ")},tickvals:{valType:"data_array",editType:"ticks",description:["Sets the values at which ticks on this axis appear.","Only has an effect if `tickmode` is set to *array*.","Used with `ticktext`."].join(" ")},ticktext:{valType:"data_array",editType:"ticks",description:["Sets the text displayed at the ticks position via `tickvals`.","Only has an effect if `tickmode` is set to *array*.","Used with `tickvals`."].join(" ")},ticks:{valType:"enumerated",values:["outside","inside",""],editType:"ticks",description:["Determines whether ticks are drawn or not.","If **, this axis' ticks are not drawn.","If *outside* (*inside*), this axis' are drawn outside (inside)","the axis lines."].join(" ")},tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks",description:["Determines where ticks and grid lines are drawn with respect to their","corresponding tick labels.","Only has an effect for axes of `type` *category* or *multicategory*.","When set to *boundaries*, ticks and grid lines are drawn half a category","to the left/bottom of labels."].join(" ")},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks",description:["Determines where tick labels are drawn with respect to their","corresponding ticks and grid lines.","Only has an effect for axes of `type` *date*","When set to *period*, tick labels are drawn in the middle of the period","between ticks."].join(" ")},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc",description:["Determines where tick labels are drawn with respect to the axis","Please note that","top or bottom has no effect on x axes or when `ticklabelmode` is set to *period*.","Similarly","left or right has no effect on y axes or when `ticklabelmode` is set to *period*.","Has no effect on *multicategory* axes or when `tickson` is set to *boundaries*.","When used on axes linked by `matches` or `scaleanchor`,","no extra padding for inside labels would be added by autorange,","so that the scales could match."].join(" ")},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc",description:["Determines how we handle tick labels that would overflow either the graph div or the domain of the axis.","The default value for inside tick labels is *hide past domain*.","Otherwise on *category* and *multicategory* axes the default is *allow*.","In other cases the default is *hide past div*."].join(" ")},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle",description:["Determines if the axis lines or/and ticks are mirrored to","the opposite side of the plotting area.","If *true*, the axis lines are mirrored.","If *ticks*, the axis lines and ticks are mirrored.","If *false*, mirroring is disable.","If *all*, axis lines are mirrored on all shared-axes subplots.","If *allticks*, axis lines and ticks are mirrored","on all shared-axes subplots."].join(" ")},ticklen:{valType:"number",min:0,dflt:5,editType:"ticks",description:"Sets the tick length (in px)."},tickwidth:{valType:"number",min:0,dflt:1,editType:"ticks",description:"Sets the tick width (in px)."},tickcolor:{valType:"color",dflt:Kat.defaultLine,editType:"ticks",description:"Sets the tick color."},showticklabels:{valType:"boolean",dflt:!0,editType:"ticks",description:"Determines whether or not the tick labels are drawn."},automargin:{valType:"boolean",dflt:!1,editType:"ticks",description:["Determines whether long tick labels automatically grow the figure","margins."].join(" ")},showspikes:{valType:"boolean",dflt:!1,editType:"modebar",description:["Determines whether or not spikes (aka droplines) are drawn for this axis.","Note: This only takes affect when hovermode = closest"].join(" ")},spikecolor:{valType:"color",dflt:null,editType:"none",description:"Sets the spike color. If undefined, will use the series color"},spikethickness:{valType:"number",dflt:3,editType:"none",description:"Sets the width (in px) of the zero line."},spikedash:$at({},qat,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none",description:["Determines the drawing mode for the spike line","If *toaxis*, the line is drawn from the data point to the axis the ","series is plotted on.","If *across*, the line is drawn across the entire plot area, and","supercedes *toaxis*.","If *marker*, then a marker dot is drawn on the axis the series is","plotted on"].join(" ")},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none",description:"Determines whether spikelines are stuck to the cursor or to the closest datapoints."},tickfont:Pat({editType:"ticks",description:"Sets the tick font."}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks",description:["Sets the angle of the tick labels with respect to the horizontal.","For example, a `tickangle` of -90 draws the tick labels","vertically."].join(" ")},tickprefix:{valType:"string",dflt:"",editType:"ticks",description:"Sets a tick label prefix."},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks",description:["If *all*, all tick labels are displayed with a prefix.","If *first*, only the first tick is displayed with a prefix.","If *last*, only the last tick is displayed with a suffix.","If *none*, tick prefixes are hidden."].join(" ")},ticksuffix:{valType:"string",dflt:"",editType:"ticks",description:"Sets a tick label suffix."},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks",description:"Same as `showtickprefix` but for tick suffixes."},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks",description:["If *all*, all exponents are shown besides their significands.","If *first*, only the exponent of the first tick is shown.","If *last*, only the exponent of the last tick is shown.","If *none*, no exponents appear."].join(" ")},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks",description:["Determines a formatting rule for the tick exponents.","For example, consider the number 1,000,000,000.","If *none*, it appears as 1,000,000,000.","If *e*, 1e+9.","If *E*, 1E+9.","If *power*, 1x10^9 (with 9 in a super script).","If *SI*, 1G.","If *B*, 1B."].join(" ")},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks",description:["Hide SI prefix for 10^n if |n| is below this number.","This only has an effect when `tickformat` is *SI* or *B*."].join(" ")},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks",description:['If "true", even 4-digit integers are separated'].join(" ")},tickformat:{valType:"string",dflt:"",editType:"ticks",description:eot("tick label")},tickformatstops:tot("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks",description:["Determines whether or not this stop is used.","If `false`, this stop is ignored even within its `dtickrange`."].join(" ")},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks",description:["range [*min*, *max*], where *min*, *max* - dtick values","which describe some zoom level, it is possible to omit *min*","or *max* value by passing *null*"].join(" ")},value:{valType:"string",dflt:"",editType:"ticks",description:["string - dtickformat for described zoom level, the same as *tickformat*"].join(" ")},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:eot("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle",description:["Determines whether or not a line bounding this axis is drawn."].join(" ")},linecolor:{valType:"color",dflt:Kat.defaultLine,editType:"layoutstyle",description:"Sets the axis line color."},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle",description:"Sets the width (in px) of the axis line."},showgrid:{valType:"boolean",editType:"ticks",description:["Determines whether or not grid lines are drawn.","If *true*, the grid lines are drawn at every tick mark."].join(" ")},gridcolor:{valType:"color",dflt:Kat.lightLine,editType:"ticks",description:"Sets the color of the grid lines."},gridwidth:{valType:"number",min:0,dflt:1,editType:"ticks",description:"Sets the width (in px) of the grid lines."},zeroline:{valType:"boolean",editType:"ticks",description:["Determines whether or not a line is drawn at along the 0 value","of this axis.","If *true*, the zero line is drawn on top of the grid lines."].join(" ")},zerolinecolor:{valType:"color",dflt:Kat.defaultLine,editType:"ticks",description:"Sets the line color of the zero line."},zerolinewidth:{valType:"number",dflt:1,editType:"ticks",description:"Sets the width (in px) of the zero line."},showdividers:{valType:"boolean",dflt:!0,editType:"ticks",description:["Determines whether or not a dividers are drawn","between the category levels of this axis.","Only has an effect on *multicategory* axes."].join(" ")},dividercolor:{valType:"color",dflt:Kat.defaultLine,editType:"ticks",description:["Sets the color of the dividers","Only has an effect on *multicategory* axes."].join(" ")},dividerwidth:{valType:"number",dflt:1,editType:"ticks",description:["Sets the width (in px) of the dividers","Only has an effect on *multicategory* axes."].join(" ")},anchor:{valType:"enumerated",values:["free",rot.idRegex.x.toString(),rot.idRegex.y.toString()],editType:"plot",description:["If set to an opposite-letter axis id (e.g. `x2`, `y`), this axis is bound to","the corresponding opposite-letter axis.","If set to *free*, this axis' position is determined by `position`."].join(" ")},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot",description:["Determines whether a x (y) axis is positioned","at the *bottom* (*left*) or *top* (*right*)","of the plotting area."].join(" ")},overlaying:{valType:"enumerated",values:["free",rot.idRegex.x.toString(),rot.idRegex.y.toString()],editType:"plot",description:["If set a same-letter axis id, this axis is overlaid on top of","the corresponding same-letter axis, with traces and axes visible for both","axes.","If *false*, this axis does not overlay any same-letter axes.","In this case, for axes with overlapping domains only the highest-numbered","axis will be visible."].join(" ")},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot",description:["Sets the layer on which this axis is displayed.","If *above traces*, this axis is displayed above all the subplot's traces","If *below traces*, this axis is displayed below all the subplot's traces,","but above the grid lines.","Useful when used together with scatter-like traces with `cliponaxis`","set to *false* to show markers and/or text nodes above this axis."].join(" ")},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot",description:["Sets the domain of this axis (in plot fraction)."].join(" ")},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot",description:["Sets the position of this axis in the plotting space","(in normalized coordinates).","Only has an effect if `anchor` is set to *free*."].join(" ")},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc",description:["Specifies the ordering logic for the case of categorical variables.","By default, plotly uses *trace*, which specifies the order that is present in the data supplied.","Set `categoryorder` to *category ascending* or *category descending* if order should be determined by","the alphanumerical order of the category names.","Set `categoryorder` to *array* to derive the ordering from the attribute `categoryarray`. If a category","is not found in the `categoryarray` array, the sorting behavior for that attribute will be identical to","the *trace* mode. The unspecified categories will follow the categories in `categoryarray`.","Set `categoryorder` to *total ascending* or *total descending* if order should be determined by the","numerical order of the values.","Similarly, the order can be determined by the min, max, sum, mean or median of all the values."].join(" ")},categoryarray:{valType:"data_array",editType:"calc",description:["Sets the order in which categories on this axis appear.","Only has an effect if `categoryorder` is set to *array*.","Used with `categoryorder`."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in axis `range`,","`autorange`, and `title` if in `editable: true` configuration.","Defaults to `layout.uirevision`."].join(" ")},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks",description:["Obsolete.","Set `tickmode` to *auto* for old `autotick` *true* behavior.","Set `tickmode` to *linear* for `autotick` *false*."].join(" ")},title:{valType:"string",editType:"ticks",description:["Value of `title` is no longer a simple *string* but a set of sub-attributes.","To set the axis' title, please use `title.text` now."].join(" ")},titlefont:Pat({editType:"ticks",description:["Former `titlefont` is now the sub-attribute `font` of `title`.","To customize title font properties, please use `title.font` now."].join(" ")})}},sot=oot,lot=Att,cot=Rtt.extendFlat,uot=(0,Fit.overrideAll)({orientation:{valType:"enumerated",values:["h","v"],dflt:"v",description:"Sets the orientation of the colorbar."},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",description:["Determines whether this color bar's thickness","(i.e. the measure in the constant color direction)","is set in units of plot *fraction* or in *pixels*.","Use `thickness` to set the value."].join(" ")},thickness:{valType:"number",min:0,dflt:30,description:["Sets the thickness of the color bar","This measure excludes the size of the padding, ticks and labels."].join(" ")},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction",description:["Determines whether this color bar's length","(i.e. the measure in the color variation direction)","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,description:["Sets the length of the color bar","This measure excludes the padding of both ends.","That is, the color bar length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",min:-2,max:3,description:["Sets the x position of the color bar (in plot fraction).","Defaults to 1.02 when `orientation` is *v* and","0.5 when `orientation` is *h*."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],description:["Sets this color bar's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the color bar.","Defaults to *left* when `orientation` is *v* and","*center* when `orientation` is *h*."].join(" ")},xpad:{valType:"number",min:0,dflt:10,description:"Sets the amount of padding (in px) along the x direction."},y:{valType:"number",min:-2,max:3,description:["Sets the y position of the color bar (in plot fraction).","Defaults to 0.5 when `orientation` is *v* and","1.02 when `orientation` is *h*."].join(" ")},yanchor:{valType:"enumerated",values:["top","middle","bottom"],description:["Sets this color bar's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the color bar.","Defaults to *middle* when `orientation` is *v* and","*bottom* when `orientation` is *h*."].join(" ")},ypad:{valType:"number",min:0,dflt:10,description:"Sets the amount of padding (in px) along the y direction."},outlinecolor:sot.linecolor,outlinewidth:sot.linewidth,bordercolor:sot.linecolor,borderwidth:{valType:"number",min:0,dflt:0,description:["Sets the width (in px) or the border enclosing this color bar."].join(" ")},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",description:"Sets the color of padded area."},tickmode:sot.tickmode,nticks:sot.nticks,tick0:sot.tick0,dtick:sot.dtick,tickvals:sot.tickvals,ticktext:sot.ticktext,ticks:cot({},sot.ticks,{dflt:""}),ticklabeloverflow:cot({},sot.ticklabeloverflow,{description:["Determines how we handle tick labels that would overflow either the graph div or the domain of the axis.","The default value for inside tick labels is *hide past domain*.","In other cases the default is *hide past div*."].join(" ")}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",description:["Determines where tick labels are drawn relative to the ticks.","Left and right options are used when `orientation` is *h*,","top and bottom when `orientation` is *v*."].join(" ")},ticklen:sot.ticklen,tickwidth:sot.tickwidth,tickcolor:sot.tickcolor,ticklabelstep:sot.ticklabelstep,showticklabels:sot.showticklabels,tickfont:lot({description:"Sets the color bar's tick label font"}),tickangle:sot.tickangle,tickformat:sot.tickformat,tickformatstops:sot.tickformatstops,tickprefix:sot.tickprefix,showtickprefix:sot.showtickprefix,ticksuffix:sot.ticksuffix,showticksuffix:sot.showticksuffix,separatethousands:sot.separatethousands,exponentformat:sot.exponentformat,minexponent:sot.minexponent,showexponent:sot.showexponent,title:{text:{valType:"string",description:["Sets the title of the color bar.","Note that before the existence of `title.text`, the title's","contents used to be defined as the `title` attribute itself.","This behavior has been deprecated."].join(" ")},font:lot({description:["Sets this color bar's title font.","Note that the title's font used to be set","by the now deprecated `titlefont` attribute."].join(" ")}),side:{valType:"enumerated",values:["right","top","bottom"],description:["Determines the location of color bar's title","with respect to the color bar.","Defaults to *top* when `orientation` if *v* and ","defaults to *right* when `orientation` if *h*.","Note that the title's location used to be set","by the now deprecated `titleside` attribute."].join(" ")}},_deprecated:{title:{valType:"string",description:["Deprecated in favor of color bar's `title.text`.","Note that value of color bar's `title` is no longer a simple","*string* but a set of sub-attributes."].join(" ")},titlefont:lot({description:"Deprecated in favor of color bar's `title.font`."}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top",description:"Deprecated in favor of color bar's `title.side`."}}},"colorbars","from-root"),dot=uot,hot=ret.counter,got=Ytt.scales,fot=Bnt(got);function pot(t){return"`"+t+"`"}var vot=function(t,e){t=t||"";var n,r,i=(e=e||{}).cLetter||"c",a="onlyIfNumerical"in e?e.onlyIfNumerical:Boolean(t),o="noScale"in e?e.noScale:"marker.line"===t,s="showScaleDflt"in e?e.showScaleDflt:"z"===i,l="string"==typeof e.colorscaleDflt?got[e.colorscaleDflt]:null,c=e.editTypeOverride||"",u=t?t+".":"";"colorAttr"in e?(n=e.colorAttr,r=e.colorAttr):r="in "+pot(u+(n={z:"z",c:"color"}[i]));var d=a?" Has an effect only if "+r+"is set to a numerical array.":"",h=i+"auto",g=i+"min",f=i+"max",p=i+"mid",v=pot(u+h),m=pot(u+g),y=pot(u+f),b=m+" and "+y,I={};I[g]=I[f]=void 0;var C={};C[h]=!1;var x={};return"color"===n&&(x.color={valType:"color",arrayOk:!0,editType:c||"style",description:["Sets the",t,"color."," It accepts either a specific color"," or an array of numbers that are mapped to the colorscale"," relative to the max and min values of the array or relative to"," "+b+" if set."].join("")},e.anim&&(x.color.anim=!0)),x[h]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:I,description:["Determines whether or not the color domain is computed"," with respect to the input data (here "+r+") or the bounds set in"," ",b," ",d," Defaults to `false` when ",b," are set by the user."].join("")},x[g]={valType:"number",dflt:null,editType:c||"plot",impliedEdits:C,description:["Sets the lower bound of the color domain.",d," Value should have the same units as ",r," and if set, ",y," must be set as well."].join("")},x[f]={valType:"number",dflt:null,editType:c||"plot",impliedEdits:C,description:["Sets the upper bound of the color domain.",d," Value should have the same units as ",r," and if set, ",m," must be set as well."].join("")},x[p]={valType:"number",dflt:null,editType:"calc",impliedEdits:I,description:["Sets the mid-point of the color domain by scaling ",m," and/or ",y," to be equidistant to this point.",d," Value should have the same units as ",r,". ","Has no effect when ",v," is `false`."].join("")},x.colorscale={valType:"colorscale",editType:"calc",dflt:l,impliedEdits:{autocolorscale:!1},description:["Sets the colorscale.",d," The colorscale must be an array containing"," arrays mapping a normalized value to an"," rgb, rgba, hex, hsl, hsv, or named color string."," At minimum, a mapping for the lowest (0) and highest (1)"," values are required. For example,"," `[[0, 'rgb(0,0,255)'], [1, 'rgb(255,0,0)']]`."," To control the bounds of the colorscale in color space,"," use",b,"."," Alternatively, `colorscale` may be a palette name string"," of the following list: "+fot+"."].join("")},x.autocolorscale={valType:"boolean",dflt:!1!==e.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0},description:["Determines whether the colorscale is a default palette (`autocolorscale: true`)"," or the palette determined by ",pot(u+"colorscale"),".",d," In case `colorscale` is unspecified or `autocolorscale` is true, the default "," palette will be chosen according to whether numbers in the `color` array are"," all positive, all negative or mixed."].join("")},x.reversescale={valType:"boolean",dflt:!1,editType:"plot",description:["Reverses the color mapping if true.",d," If true, ",m," will correspond to the last color"," in the array and ",y," will correspond to the first color."].join("")},o||(x.showscale={valType:"boolean",dflt:s,editType:"calc",description:["Determines whether or not a colorbar is displayed for this trace.",d].join("")},x.colorbar=dot),e.noColorAxis||(x.coloraxis={valType:"subplotid",regex:hot("coloraxis"),dflt:null,editType:"calc",description:["Sets a reference to a shared color axis.","References to these shared color axes are *coloraxis*, *coloraxis2*, *coloraxis3*, etc.","Settings for these shared color axes are set in the layout, under","`layout.coloraxis`, `layout.coloraxis2`, etc.","Note that multiple color scales can be linked to the same color axis."].join(" ")}),x},mot=Rtt.extendFlat,yot=vot,bot=Ytt.scales,Iot="Note that `autocolorscale` must be true for this attribute to work.",Cot={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:bot.Reds,editType:"calc",description:["Sets the default sequential colorscale for positive values.",Iot].join(" ")},sequentialminus:{valType:"colorscale",dflt:bot.Blues,editType:"calc",description:["Sets the default sequential colorscale for negative values.",Iot].join(" ")},diverging:{valType:"colorscale",dflt:bot.RdBu,editType:"calc",description:["Sets the default diverging colorscale.",Iot].join(" ")}},coloraxis:mot({_isSubplotObj:!0,editType:"calc",description:[""].join(" ")},yot("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))},xot=Q4.exports,Bot=function(t){return xot.isPlainObject(t.colorbar)},Aot={},Fot=z6,Qot=Q4.exports,wot=J6.ONEDAY,Uot=J6.ONEWEEK;Aot.dtick=function(t,e){var n="log"===e,r="date"===e,i="category"===e,a=r?wot:1;if(!t)return a;if(Fot(t))return(t=Number(t))<=0?a:i?Math.max(1,Math.round(t)):r?Math.max(.1,t):t;if("string"!=typeof t||!r&&!n)return a;var o=t.charAt(0),s=t.substr(1);return(s=Fot(s)?Number(s):0)<=0||!(r&&"M"===o&&s===Math.round(s)||n&&"L"===o||n&&"D"===o&&(1===s||2===s))?a:t},Aot.tick0=function(t,e,n,r){return"date"===e?Qot.cleanDate(t,Qot.dateTick0(n,r%Uot==0?1:0)):"D1"!==r&&"D2"!==r?Fot(t)?Number(t):0:void 0};var Got=Aot,Rot=Q4.exports.isArrayOrTypedArray,Sot=function(t,e,n,r){function i(n){var r=t[n];return void 0!==r?r:(e._template||{})[n]}var a=i("tick0"),o=i("dtick"),s=i("tickvals"),l=n("tickmode",Rot(s)?"array":o?"linear":"auto");if("auto"===l)n("nticks");else if("linear"===l){var c=e.dtick=Got.dtick(o,r);e.tick0=Got.tick0(a,r,e.calendar,c)}else if("multicategory"!==r){void 0===n("tickvals")?e.tickmode="auto":n("ticktext")}},Lot=Q4.exports,_ot=oot,Eot=function(t,e,n,r){var i=Lot.coerce2(t,e,_ot,"ticklen"),a=Lot.coerce2(t,e,_ot,"tickwidth"),o=Lot.coerce2(t,e,_ot,"tickcolor",e.color);n("ticks",r.outerTicks||i||a||o?"outside":"")||(delete e.ticklen,delete e.tickwidth,delete e.tickcolor)},kot=function(t){var e=["showexponent","showtickprefix","showticksuffix"].filter((function(e){return void 0!==t[e]}));if(e.every((function(n){return t[n]===t[e[0]]}))||1===e.length)return t[e[0]]},Vot=Q4.exports,Zot=Rit,Not=function(t,e,n){var r,i,a=n.name,o=n.inclusionAttr||"visible",s=e[a],l=Vot.isArrayOrTypedArray(t[a])?t[a]:[],c=e[a]=[],u=Zot.arrayTemplater(e,a,o);for(r=0;r<l.length;r++){var d=l[r];Vot.isPlainObject(d)?i=u.newItem(d):(i=u.newItem({}))[o]=!1,i._index=r,!1!==i[o]&&n.handleItemDefaults(d,i,e,n),c.push(i)}var h=u.defaultItems();for(r=0;r<h.length;r++)(i=h[r])._index=c.length,n.handleItemDefaults({},i,e,n,{}),c.push(i);if(Vot.isArrayOrTypedArray(s)){var g=Math.min(s.length,c.length);for(r=0;r<g;r++)Vot.relinkPrivateKeys(c[r],s[r])}return c},Tot=Q4.exports,Xot=Ott.exports.contrast,Wot=oot,Mot=kot,Hot=Not,Dot=function(t,e,n,r,i){i||(i={});var a=Mot(t);if(n("showticklabels")){var o=i.font||{},s=e.color,l=-1!==(e.ticklabelposition||"").indexOf("inside")?Xot(i.bgColor):s&&s!==Wot.color.dflt?s:o.color;if(Tot.coerceFont(n,"tickfont",{family:o.family,size:o.size,color:l}),i.noTicklabelstep||"multicategory"===r||"log"===r||n("ticklabelstep"),i.noAng||n("tickangle"),"category"!==r){var c=n("tickformat");Hot(t,e,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:Yot}),e.tickformatstops.length||delete e.tickformatstops,i.noExp||c||"date"===r||(n("showexponent",a),n("exponentformat"),n("minexponent"),n("separatethousands"))}}};function Yot(t,e){function n(n,r){return Tot.coerce(t,e,Wot.tickformatstops,n,r)}n("enabled")&&(n("dtickrange"),n("value"))}var Oot=kot,zot=function(t,e,n,r,i){i||(i={});var a=i.tickSuffixDflt,o=Oot(t);n("tickprefix")&&n("showtickprefix",o),n("ticksuffix",a)&&n("showticksuffix",o)},Jot=Q4.exports,jot=Rit,Pot=Sot,Kot=Eot,qot=Dot,$ot=zot,tst=uot,est=function(t,e,n){var r=jot.newContainer(e,"colorbar"),i=t.colorbar||{};function a(t,e){return Jot.coerce(i,r,tst,t,e)}var o=n.margin||{t:0,b:0,l:0,r:0},s=n.width-o.l-o.r,l=n.height-o.t-o.b,c="v"===a("orientation"),u=a("thicknessmode");a("thickness","fraction"===u?30/(c?s:l):30);var d=a("lenmode");a("len","fraction"===d?1:c?l:s),a("x",c?1.02:.5),a("xanchor",c?"left":"center"),a("xpad"),a("y",c?.5:1.02),a("yanchor",c?"middle":"bottom"),a("ypad"),Jot.noneOrAll(i,r,["x","y"]),a("outlinecolor"),a("outlinewidth"),a("bordercolor"),a("borderwidth"),a("bgcolor");var h=Jot.coerce(i,r,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:c?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");a("ticklabeloverflow",-1!==h.indexOf("inside")?"hide past domain":"hide past div"),Pot(i,r,a,"linear");var g=n.font,f={outerTicks:!1,font:g};-1!==h.indexOf("inside")&&(f.bgColor="black"),$ot(i,r,a,"linear",f),qot(i,r,a,"linear",f),Kot(i,r,a,"linear"),a("title.text",n._dfltTitle.colorbar);var p=r.tickfont,v=Jot.extendFlat({},p,{color:g.color,size:Jot.bigFont(p.size)});Jot.coerceFont(a,"title.font",v),a("title.side",c?"top":"right")},nst=z6,rst=Q4.exports,ist=Bot,ast=est,ost=Ytt.isValid,sst=met.traceIs;function lst(t,e){var n=e.slice(0,e.length-1);return e?rst.nestedProperty(t,n).get()||{}:t}var cst=function t(e,n,r,i,a){var o=a.prefix,s=a.cLetter,l="_module"in n,c=lst(e,o),u=lst(n,o),d=lst(n._template||{},o)||{},h=function(){return delete e.coloraxis,delete n.coloraxis,t(e,n,r,i,a)};if(l){var g=r._colorAxes||{},f=i(o+"coloraxis");if(f){var p=sst(n,"contour")&&rst.nestedProperty(n,"contours.coloring").get()||"heatmap",v=g[f];return void(v?(v[2].push(h),v[0]!==p&&(v[0]=!1,rst.warn(["Ignoring coloraxis:",f,"setting","as it is linked to incompatible colorscales."].join(" ")))):g[f]=[p,n,[h]])}}var m=c[s+"min"],y=c[s+"max"],b=nst(m)&&nst(y)&&m<y;i(o+s+"auto",!b)?i(o+s+"mid"):(i(o+s+"min"),i(o+s+"max"));var I,C,x=c.colorscale,B=d.colorscale;(void 0!==x&&(I=!ost(x)),void 0!==B&&(I=!ost(B)),i(o+"autocolorscale",I),i(o+"colorscale"),i(o+"reversescale"),"marker.line."!==o)&&(o&&l&&(C=ist(c)),i(o+"showscale",C)&&(o&&d&&(u._template=d),ast(c,u,r)))},ust=Q4.exports,dst=Rit,hst=Cot,gst=cst,fst=Q4.exports,pst=Mat.hasColorscale,vst=Mat.extractOpts,mst=z6,yst=Q4.exports,bst=Mat.extractOpts,Ist=function(t,e,n){var r,i=t._fullLayout,a=n.vals,o=n.containerStr,s=o?yst.nestedProperty(e,o).get():e,l=bst(s),c=!1!==l.auto,u=l.min,d=l.max,h=l.mid,g=function(){return yst.aggNums(Math.min,null,a)},f=function(){return yst.aggNums(Math.max,null,a)};(void 0===u?u=g():c&&(u=s._colorAx&&mst(u)?Math.min(u,g()):g()),void 0===d?d=f():c&&(d=s._colorAx&&mst(d)?Math.max(d,f()):f()),c&&void 0!==h&&(d-h>h-u?u=h-(d-h):d-h<h-u&&(d=h+(h-u))),u===d&&(u-=.5,d+=.5),l._sync("min",u),l._sync("max",d),l.autocolorscale)&&(r=u*d<0?i.colorscale.diverging:u>=0?i.colorscale.sequential:i.colorscale.sequentialminus,l._sync("colorscale",r))},Cst={moduleType:"component",name:"colorscale",attributes:vot,layoutAttributes:Cot,supplyLayoutDefaults:function(t,e){function n(n,r){return ust.coerce(t,e,hst,n,r)}n("colorscale.sequential"),n("colorscale.sequentialminus"),n("colorscale.diverging");var r,i,a=e._colorAxes;function o(t,e){return ust.coerce(r,i,hst.coloraxis,t,e)}for(var s in a){var l=a[s];if(l[0])r=t[s]||{},(i=dst.newContainer(e,s,"coloraxis"))._name=s,gst(r,i,e,o,{prefix:"",cLetter:"c"});else{for(var c=0;c<l[2].length;c++)l[2][c]();delete e._colorAxes[s]}}},handleDefaults:cst,crossTraceDefaults:function(t,e){function n(t,e){var n=t["_"+e];void 0!==n&&(t[e]=n)}function r(t,r){var i=r.container?fst.nestedProperty(t,r.container).get():t;if(i)if(i.coloraxis)i._colorAx=e[i.coloraxis];else{var a=vst(i),o=a.auto;(o||void 0===a.min)&&n(i,r.min),(o||void 0===a.max)&&n(i,r.max),a.autocolorscale&&n(i,"colorscale")}}for(var i=0;i<t.length;i++){var a=t[i],o=a._module.colorbar;if(o)if(Array.isArray(o))for(var s=0;s<o.length;s++)r(a,o[s]);else r(a,o);pst(a,"marker.line")&&r(a,{container:"marker.line",min:"cmin",max:"cmax"})}for(var l in e._colorAxes)r(e[l],{min:"cmin",max:"cmax"})},calc:Ist,scales:Ytt.scales,defaultScale:Ytt.defaultScale,getScale:Ytt.get,isValidScale:Ytt.isValid,hasColorscale:Mat.hasColorscale,extractOpts:Mat.extractOpts,extractScale:Mat.extractScale,flipScale:Mat.flipScale,makeColorScaleFunc:Mat.makeColorScaleFunc,makeColorScaleFuncFromTrace:Mat.makeColorScaleFuncFromTrace},xst=Q4.exports,Bst={hasLines:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("lines")},hasMarkers:function(t){return t.visible&&(t.mode&&-1!==t.mode.indexOf("markers")||"splom"===t.type)},hasText:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("text")},isBubble:function(t){return xst.isPlainObject(t.marker)&&xst.isArrayOrTypedArray(t.marker.size)}},Ast=z6,Fst=function(t,e){e||(e=2);var n=t.marker,r=n.sizeref||1,i=n.sizemin||0,a="area"===n.sizemode?function(t){return Math.sqrt(t/r)}:function(t){return t/r};return function(t){var n=a(t/e);return Ast(n)&&n>0?Math.max(n,i):0}},Qst={};!function(t){var e=Q4.exports;t.getSubplot=function(t){return t.subplot||t.xaxis+t.yaxis||t.geo},t.isTraceInSubplots=function(e,n){if("splom"===e.type){for(var r=e.xaxes||[],i=e.yaxes||[],a=0;a<r.length;a++)for(var o=0;o<i.length;o++)if(-1!==n.indexOf(r[a]+i[o]))return!0;return!1}return-1!==n.indexOf(t.getSubplot(e))},t.flat=function(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=e;return n},t.p2c=function(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r].p2c(e);return n},t.getDistanceFunction=function(e,n,r,i){return"closest"===e?i||t.quadrature(n,r):"x"===e.charAt(0)?n:r},t.getClosest=function(t,e,n){if(!1!==n.index)n.index>=0&&n.index<t.length?n.distance=0:n.index=!1;else for(var r=0;r<t.length;r++){var i=e(t[r]);i<=n.distance&&(n.index=r,n.distance=i)}return n},t.inbox=function(t,e,n){return t*e<0||0===t?n:1/0},t.quadrature=function(t,e){return function(n){var r=t(n),i=e(n);return Math.sqrt(r*r+i*i)}},t.makeEventData=function(e,n,r){var i="index"in e?e.index:e.pointNumber,a={data:n._input,fullData:n,curveNumber:n.index,pointNumber:i};if(n._indexToPoints){var o=n._indexToPoints[i];1===o.length?a.pointIndex=o[0]:a.pointIndices=o}else a.pointIndex=i;return n._module.eventData?a=n._module.eventData(a,e,n,r,i):("xVal"in e?a.x=e.xVal:"x"in e&&(a.x=e.x),"yVal"in e?a.y=e.yVal:"y"in e&&(a.y=e.y),e.xa&&(a.xaxis=e.xa),e.ya&&(a.yaxis=e.ya),void 0!==e.zLabelVal&&(a.z=e.zLabelVal)),t.appendArrayPointValue(a,n,i),a},t.appendArrayPointValue=function(t,n,a){var o=n._arrayAttrs;if(o)for(var s=0;s<o.length;s++){var l=o[s],c=r(l);if(void 0===t[c]){var u=i(e.nestedProperty(n,l).get(),a);void 0!==u&&(t[c]=u)}}},t.appendArrayMultiPointValues=function(t,n,a){var o=n._arrayAttrs;if(o)for(var s=0;s<o.length;s++){var l=o[s],c=r(l);if(void 0===t[c]){for(var u=e.nestedProperty(n,l).get(),d=new Array(a.length),h=0;h<a.length;h++)d[h]=i(u,a[h]);t[c]=d}}};var n={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function r(t){return n[t]||t}function i(t,e){return Array.isArray(e)?Array.isArray(t)&&Array.isArray(t[e[0]])?t[e[0]][e[1]]:void 0:t[e]}var a={x:!0,y:!0},o={"x unified":!0,"y unified":!0};t.isUnifiedHover=function(t){return"string"==typeof t&&!!o[t]},t.isXYhover=function(t){return"string"==typeof t&&!!a[t]}}(Qst);var wst=w4.exports,Ust={circle:{n:0,f:function(t){var e=wst.round(t,2);return"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"}},square:{n:1,f:function(t){var e=wst.round(t,2);return"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"}},diamond:{n:2,f:function(t){var e=wst.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"Z"}},cross:{n:3,f:function(t){var e=wst.round(.4*t,2),n=wst.round(1.2*t,2);return"M"+n+","+e+"H"+e+"V"+n+"H-"+e+"V"+e+"H-"+n+"V-"+e+"H-"+e+"V-"+n+"H"+e+"V-"+e+"H"+n+"Z"}},x:{n:4,f:function(t){var e=wst.round(.8*t/Math.sqrt(2),2),n="l"+e+","+e,r="l"+e+",-"+e,i="l-"+e+",-"+e,a="l-"+e+","+e;return"M0,"+e+n+r+i+r+i+a+i+a+n+a+n+"Z"}},"triangle-up":{n:5,f:function(t){var e=wst.round(2*t/Math.sqrt(3),2);return"M-"+e+","+wst.round(t/2,2)+"H"+e+"L0,-"+wst.round(t,2)+"Z"}},"triangle-down":{n:6,f:function(t){var e=wst.round(2*t/Math.sqrt(3),2);return"M-"+e+",-"+wst.round(t/2,2)+"H"+e+"L0,"+wst.round(t,2)+"Z"}},"triangle-left":{n:7,f:function(t){var e=wst.round(2*t/Math.sqrt(3),2);return"M"+wst.round(t/2,2)+",-"+e+"V"+e+"L-"+wst.round(t,2)+",0Z"}},"triangle-right":{n:8,f:function(t){var e=wst.round(2*t/Math.sqrt(3),2);return"M-"+wst.round(t/2,2)+",-"+e+"V"+e+"L"+wst.round(t,2)+",0Z"}},"triangle-ne":{n:9,f:function(t){var e=wst.round(.6*t,2),n=wst.round(1.2*t,2);return"M-"+n+",-"+e+"H"+e+"V"+n+"Z"}},"triangle-se":{n:10,f:function(t){var e=wst.round(.6*t,2),n=wst.round(1.2*t,2);return"M"+e+",-"+n+"V"+e+"H-"+n+"Z"}},"triangle-sw":{n:11,f:function(t){var e=wst.round(.6*t,2),n=wst.round(1.2*t,2);return"M"+n+","+e+"H-"+e+"V-"+n+"Z"}},"triangle-nw":{n:12,f:function(t){var e=wst.round(.6*t,2),n=wst.round(1.2*t,2);return"M-"+e+","+n+"V-"+e+"H"+n+"Z"}},pentagon:{n:13,f:function(t){var e=wst.round(.951*t,2),n=wst.round(.588*t,2),r=wst.round(-t,2),i=wst.round(-.309*t,2);return"M"+e+","+i+"L"+n+","+wst.round(.809*t,2)+"H-"+n+"L-"+e+","+i+"L0,"+r+"Z"}},hexagon:{n:14,f:function(t){var e=wst.round(t,2),n=wst.round(t/2,2),r=wst.round(t*Math.sqrt(3)/2,2);return"M"+r+",-"+n+"V"+n+"L0,"+e+"L-"+r+","+n+"V-"+n+"L0,-"+e+"Z"}},hexagon2:{n:15,f:function(t){var e=wst.round(t,2),n=wst.round(t/2,2),r=wst.round(t*Math.sqrt(3)/2,2);return"M-"+n+","+r+"H"+n+"L"+e+",0L"+n+",-"+r+"H-"+n+"L-"+e+",0Z"}},octagon:{n:16,f:function(t){var e=wst.round(.924*t,2),n=wst.round(.383*t,2);return"M-"+n+",-"+e+"H"+n+"L"+e+",-"+n+"V"+n+"L"+n+","+e+"H-"+n+"L-"+e+","+n+"V-"+n+"Z"}},star:{n:17,f:function(t){var e=1.4*t,n=wst.round(.225*e,2),r=wst.round(.951*e,2),i=wst.round(.363*e,2),a=wst.round(.588*e,2),o=wst.round(-e,2),s=wst.round(-.309*e,2),l=wst.round(.118*e,2),c=wst.round(.809*e,2);return"M"+n+","+s+"H"+r+"L"+i+","+l+"L"+a+","+c+"L0,"+wst.round(.382*e,2)+"L-"+a+","+c+"L-"+i+","+l+"L-"+r+","+s+"H-"+n+"L0,"+o+"Z"}},hexagram:{n:18,f:function(t){var e=wst.round(.66*t,2),n=wst.round(.38*t,2),r=wst.round(.76*t,2);return"M-"+r+",0l-"+n+",-"+e+"h"+r+"l"+n+",-"+e+"l"+n+","+e+"h"+r+"l-"+n+","+e+"l"+n+","+e+"h-"+r+"l-"+n+","+e+"l-"+n+",-"+e+"h-"+r+"Z"}},"star-triangle-up":{n:19,f:function(t){var e=wst.round(t*Math.sqrt(3)*.8,2),n=wst.round(.8*t,2),r=wst.round(1.6*t,2),i=wst.round(4*t,2),a="A "+i+","+i+" 0 0 1 ";return"M-"+e+","+n+a+e+","+n+a+"0,-"+r+a+"-"+e+","+n+"Z"}},"star-triangle-down":{n:20,f:function(t){var e=wst.round(t*Math.sqrt(3)*.8,2),n=wst.round(.8*t,2),r=wst.round(1.6*t,2),i=wst.round(4*t,2),a="A "+i+","+i+" 0 0 1 ";return"M"+e+",-"+n+a+"-"+e+",-"+n+a+"0,"+r+a+e+",-"+n+"Z"}},"star-square":{n:21,f:function(t){var e=wst.round(1.1*t,2),n=wst.round(2*t,2),r="A "+n+","+n+" 0 0 1 ";return"M-"+e+",-"+e+r+"-"+e+","+e+r+e+","+e+r+e+",-"+e+r+"-"+e+",-"+e+"Z"}},"star-diamond":{n:22,f:function(t){var e=wst.round(1.4*t,2),n=wst.round(1.9*t,2),r="A "+n+","+n+" 0 0 1 ";return"M-"+e+",0"+r+"0,"+e+r+e+",0"+r+"0,-"+e+r+"-"+e+",0Z"}},"diamond-tall":{n:23,f:function(t){var e=wst.round(.7*t,2),n=wst.round(1.4*t,2);return"M0,"+n+"L"+e+",0L0,-"+n+"L-"+e+",0Z"}},"diamond-wide":{n:24,f:function(t){var e=wst.round(1.4*t,2),n=wst.round(.7*t,2);return"M0,"+n+"L"+e+",0L0,-"+n+"L-"+e+",0Z"}},hourglass:{n:25,f:function(t){var e=wst.round(t,2);return"M"+e+","+e+"H-"+e+"L"+e+",-"+e+"H-"+e+"Z"},noDot:!0},bowtie:{n:26,f:function(t){var e=wst.round(t,2);return"M"+e+","+e+"V-"+e+"L-"+e+","+e+"V-"+e+"Z"},noDot:!0},"circle-cross":{n:27,f:function(t){var e=wst.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(t){var e=wst.round(t,2),n=wst.round(t/Math.sqrt(2),2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(t){var e=wst.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(t){var e=wst.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(t){var e=wst.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM0,-"+e+"V"+e+"M-"+e+",0H"+e},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(t){var e=wst.round(1.3*t,2),n=wst.round(.65*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(t){var e=wst.round(1.4*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(t){var e=wst.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(t){var e=wst.round(1.2*t,2),n=wst.round(.85*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(t){var e=wst.round(t/2,2),n=wst.round(t,2);return"M"+e+","+n+"V-"+n+"m-"+n+",0V"+n+"M"+n+","+e+"H-"+n+"m0,-"+n+"H"+n},needLine:!0,noFill:!0},"y-up":{n:37,f:function(t){var e=wst.round(1.2*t,2),n=wst.round(1.6*t,2),r=wst.round(.8*t,2);return"M-"+e+","+r+"L0,0M"+e+","+r+"L0,0M0,-"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(t){var e=wst.round(1.2*t,2),n=wst.round(1.6*t,2),r=wst.round(.8*t,2);return"M-"+e+",-"+r+"L0,0M"+e+",-"+r+"L0,0M0,"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(t){var e=wst.round(1.2*t,2),n=wst.round(1.6*t,2),r=wst.round(.8*t,2);return"M"+r+","+e+"L0,0M"+r+",-"+e+"L0,0M-"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(t){var e=wst.round(1.2*t,2),n=wst.round(1.6*t,2),r=wst.round(.8*t,2);return"M-"+r+","+e+"L0,0M-"+r+",-"+e+"L0,0M"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(t){var e=wst.round(1.4*t,2);return"M"+e+",0H-"+e},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(t){var e=wst.round(1.4*t,2);return"M0,"+e+"V-"+e},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(t){var e=wst.round(t,2);return"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(t){var e=wst.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(t){var e=wst.round(t,2);return"M0,0L-"+e+","+wst.round(2*t,2)+"H"+e+"Z"},noDot:!0},"arrow-down":{n:46,f:function(t){var e=wst.round(t,2);return"M0,0L-"+e+",-"+wst.round(2*t,2)+"H"+e+"Z"},noDot:!0},"arrow-left":{n:47,f:function(t){var e=wst.round(2*t,2),n=wst.round(t,2);return"M0,0L"+e+",-"+n+"V"+n+"Z"},noDot:!0},"arrow-right":{n:48,f:function(t){var e=wst.round(2*t,2),n=wst.round(t,2);return"M0,0L-"+e+",-"+n+"V"+n+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(t){var e=wst.round(t,2);return"M-"+e+",0H"+e+"M0,0L-"+e+","+wst.round(2*t,2)+"H"+e+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(t){var e=wst.round(t,2);return"M-"+e+",0H"+e+"M0,0L-"+e+",-"+wst.round(2*t,2)+"H"+e+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(t){var e=wst.round(2*t,2),n=wst.round(t,2);return"M0,-"+n+"V"+n+"M0,0L"+e+",-"+n+"V"+n+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(t){var e=wst.round(2*t,2),n=wst.round(t,2);return"M0,-"+n+"V"+n+"M0,0L-"+e+",-"+n+"V"+n+"Z"},needLine:!0,noDot:!0}},Gst=w4.exports,Rst=Q4.exports,Sst=Rst.numberFormat,Lst=z6,_st=Btt.exports,Est=met,kst=Ott.exports,Vst=Cst,Zst=Rst.strTranslate,Nst=Fat,Tst=Qat,Xst=wat.LINE_SPACING,Wst=net.DESELECTDIM,Mst=Bst,Hst=Fst,Dst=Qst.appendArrayPointValue,Yst=Uat.exports={};Yst.font=function(t,e,n,r){Rst.isPlainObject(e)&&(r=e.color,n=e.size,e=e.family),e&&t.style("font-family",e),n+1&&t.style("font-size",n+"px"),r&&t.call(kst.fill,r)},Yst.setPosition=function(t,e,n){t.attr("x",e).attr("y",n)},Yst.setSize=function(t,e,n){t.attr("width",e).attr("height",n)},Yst.setRect=function(t,e,n,r,i){t.call(Yst.setPosition,e,n).call(Yst.setSize,r,i)},Yst.translatePoint=function(t,e,n,r){var i=n.c2p(t.x),a=r.c2p(t.y);return!!(Lst(i)&&Lst(a)&&e.node())&&("text"===e.node().nodeName?e.attr("x",i).attr("y",a):e.attr("transform",Zst(i,a)),!0)},Yst.translatePoints=function(t,e,n){t.each((function(t){var r=Gst.select(this);Yst.translatePoint(t,r,e,n)}))},Yst.hideOutsideRangePoint=function(t,e,n,r,i,a){e.attr("display",n.isPtWithinRange(t,i)&&r.isPtWithinRange(t,a)?null:"none")},Yst.hideOutsideRangePoints=function(t,e){if(e._hasClipOnAxisFalse){var n=e.xaxis,r=e.yaxis;t.each((function(e){var i=e[0].trace,a=i.xcalendar,o=i.ycalendar,s=Est.traceIs(i,"bar-like")?".bartext":".point,.textpoint";t.selectAll(s).each((function(t){Yst.hideOutsideRangePoint(t,Gst.select(this),n,r,a,o)}))}))}},Yst.crispRound=function(t,e,n){return e&&Lst(e)?t._context.staticPlot?e:e<1?1:Math.round(e):n||0},Yst.singleLineStyle=function(t,e,n,r,i){e.style("fill","none");var a=(((t||[])[0]||{}).trace||{}).line||{},o=n||a.width||0,s=i||a.dash||"";kst.stroke(e,r||a.color),Yst.dashLine(e,s,o)},Yst.lineGroupStyle=function(t,e,n,r){t.style("fill","none").each((function(t){var i=(((t||[])[0]||{}).trace||{}).line||{},a=e||i.width||0,o=r||i.dash||"";Gst.select(this).call(kst.stroke,n||i.color).call(Yst.dashLine,o,a)}))},Yst.dashLine=function(t,e,n){n=+n||0,e=Yst.dashStyle(e,n),t.style({"stroke-dasharray":e,"stroke-width":n+"px"})},Yst.dashStyle=function(t,e){e=+e||1;var n=Math.max(e,3);return"solid"===t?t="":"dot"===t?t=n+"px,"+n+"px":"dash"===t?t=3*n+"px,"+3*n+"px":"longdash"===t?t=5*n+"px,"+5*n+"px":"dashdot"===t?t=3*n+"px,"+n+"px,"+n+"px,"+n+"px":"longdashdot"===t&&(t=5*n+"px,"+2*n+"px,"+n+"px,"+2*n+"px"),t},Yst.singleFillStyle=function(t){var e=(((Gst.select(t.node()).data()[0]||[])[0]||{}).trace||{}).fillcolor;e&&t.call(kst.fill,e)},Yst.fillGroupStyle=function(t){t.style("stroke-width",0).each((function(t){var e=Gst.select(this);t[0].trace&&e.call(kst.fill,t[0].trace.fillcolor)}))};var Ost=Ust;Yst.symbolNames=[],Yst.symbolFuncs=[],Yst.symbolNeedLines={},Yst.symbolNoDot={},Yst.symbolNoFill={},Yst.symbolList=[],Object.keys(Ost).forEach((function(t){var e=Ost[t],n=e.n;Yst.symbolList.push(n,String(n),t,n+100,String(n+100),t+"-open"),Yst.symbolNames[n]=t,Yst.symbolFuncs[n]=e.f,e.needLine&&(Yst.symbolNeedLines[n]=!0),e.noDot?Yst.symbolNoDot[n]=!0:Yst.symbolList.push(n+200,String(n+200),t+"-dot",n+300,String(n+300),t+"-open-dot"),e.noFill&&(Yst.symbolNoFill[n]=!0)}));var zst=Yst.symbolNames.length;function Jst(t,e){var n=t%100;return Yst.symbolFuncs[n](e)+(t>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}Yst.symbolNumber=function(t){if(Lst(t))t=+t;else if("string"==typeof t){var e=0;t.indexOf("-open")>0&&(e=100,t=t.replace("-open","")),t.indexOf("-dot")>0&&(e+=200,t=t.replace("-dot","")),(t=Yst.symbolNames.indexOf(t))>=0&&(t+=e)}return t%100>=zst||t>=400?0:Math.floor(Math.max(t,0))};var jst={x1:1,x2:0,y1:0,y2:0},Pst={x1:0,x2:0,y1:1,y2:0},Kst=Sst("~f"),qst={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:jst},horizontalreversed:{node:"linearGradient",attrs:jst,reversed:!0},vertical:{node:"linearGradient",attrs:Pst},verticalreversed:{node:"linearGradient",attrs:Pst,reversed:!0}};Yst.gradient=function(t,e,n,r,i,a){for(var o=i.length,s=qst[r],l=new Array(o),c=0;c<o;c++)s.reversed?l[o-1-c]=[Kst(100*(1-i[c][0])),i[c][1]]:l[c]=[Kst(100*i[c][0]),i[c][1]];var u=e._fullLayout,d="g"+u._uid+"-"+n,h=u._defs.select(".gradients").selectAll("#"+d).data([r+l.join(";")],Rst.identity);h.exit().remove(),h.enter().append(s.node).each((function(){var t=Gst.select(this);s.attrs&&t.attr(s.attrs),t.attr("id",d);var e=t.selectAll("stop").data(l);e.exit().remove(),e.enter().append("stop"),e.each((function(t){var e=_st(t[1]);Gst.select(this).attr({offset:t[0]+"%","stop-color":kst.tinyRGB(e),"stop-opacity":e.getAlpha()})}))})),t.style(a,slt(d,e)).style(a+"-opacity",null);var g=function(t){return"."+t.attr("class").replace(/\s/g,".")},f=g(Gst.select(t.node().parentNode))+">"+g(t);u._gradientUrlQueryParts[f]=1},Yst.pattern=function(t,e,n,r,i,a,o,s,l,c,u,d){var h="legend"===e;s&&("overlay"===l?(c=s,u=kst.contrast(c)):(c=void 0,u=s));var g,f,p,v,m,y,b=n._fullLayout,I="p"+b._uid+"-"+r,C={};switch(i){case"/":g=a*Math.sqrt(2),f=a*Math.sqrt(2),y="path",C={d:p="M-"+g/4+","+f/4+"l"+g/2+",-"+f/2+"M0,"+f+"L"+g+",0M"+g/4*3+","+f/4*5+"l"+g/2+",-"+f/2,opacity:d,stroke:u,"stroke-width":(v=o*a)+"px"};break;case"\\":g=a*Math.sqrt(2),f=a*Math.sqrt(2),y="path",C={d:p="M"+g/4*3+",-"+f/4+"l"+g/2+","+f/2+"M0,0L"+g+","+f+"M-"+g/4+","+f/4*3+"l"+g/2+","+f/2,opacity:d,stroke:u,"stroke-width":(v=o*a)+"px"};break;case"x":g=a*Math.sqrt(2),f=a*Math.sqrt(2),p="M-"+g/4+","+f/4+"l"+g/2+",-"+f/2+"M0,"+f+"L"+g+",0M"+g/4*3+","+f/4*5+"l"+g/2+",-"+f/2+"M"+g/4*3+",-"+f/4+"l"+g/2+","+f/2+"M0,0L"+g+","+f+"M-"+g/4+","+f/4*3+"l"+g/2+","+f/2,v=a-a*Math.sqrt(1-o),y="path",C={d:p,opacity:d,stroke:u,"stroke-width":v+"px"};break;case"|":y="path",y="path",C={d:p="M"+(g=a)/2+",0L"+g/2+","+(f=a),opacity:d,stroke:u,"stroke-width":(v=o*a)+"px"};break;case"-":y="path",y="path",C={d:p="M0,"+(f=a)/2+"L"+(g=a)+","+f/2,opacity:d,stroke:u,"stroke-width":(v=o*a)+"px"};break;case"+":y="path",p="M"+(g=a)/2+",0L"+g/2+","+(f=a)+"M0,"+f/2+"L"+g+","+f/2,v=a-a*Math.sqrt(1-o),y="path",C={d:p,opacity:d,stroke:u,"stroke-width":v+"px"};break;case".":g=a,f=a,m=o<Math.PI/4?Math.sqrt(o*a*a/Math.PI):function(t,e,n,r,i){return r+(i-r)*(t-e)/(n-e)}(o,Math.PI/4,1,a/2,a/Math.sqrt(2)),y="circle",C={cx:g/2,cy:f/2,r:m,opacity:d,fill:u}}var x=[i||"noSh",c||"noBg",u||"noFg",a,o].join(";"),B=b._defs.select(".patterns").selectAll("#"+I).data([x],Rst.identity);B.exit().remove(),B.enter().append("pattern").each((function(){var t=Gst.select(this);if(t.attr({id:I,width:g+"px",height:f+"px",patternUnits:"userSpaceOnUse",patternTransform:h?"scale(0.8)":""}),c){var e=t.selectAll("rect").data([0]);e.exit().remove(),e.enter().append("rect").attr({width:g+"px",height:f+"px",fill:c})}var n=t.selectAll(y).data([0]);n.exit().remove(),n.enter().append(y).attr(C)})),t.style("fill",slt(I,n)).style("fill-opacity",null),t.classed("pattern_filled",!0);var A=function(t){return"."+t.attr("class").replace(/\s/g,".")}(Gst.select(t.node().parentNode))+">.pattern_filled";b._patternUrlQueryParts[A]=1},Yst.initGradients=function(t){var e=t._fullLayout;Rst.ensureSingle(e._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),e._gradientUrlQueryParts={}},Yst.initPatterns=function(t){var e=t._fullLayout;Rst.ensureSingle(e._defs,"g","patterns").selectAll("pattern").remove(),e._patternUrlQueryParts={}},Yst.getPatternAttr=function(t,e,n){return t&&Rst.isArrayOrTypedArray(t)?e<t.length?t[e]:n:t},Yst.pointStyle=function(t,e,n){if(t.size()){var r=Yst.makePointStyleFns(e);t.each((function(t){Yst.singlePointStyle(t,Gst.select(this),e,r,n)}))}},Yst.singlePointStyle=function(t,e,n,r,i){var a=n.marker,o=a.line;if(e.style("opacity",r.selectedOpacityFn?r.selectedOpacityFn(t):void 0===t.mo?a.opacity:t.mo),r.ms2mrc){var s;s="various"===t.ms||"various"===a.size?3:r.ms2mrc(t.ms),t.mrc=s,r.selectedSizeFn&&(s=t.mrc=r.selectedSizeFn(t));var l=Yst.symbolNumber(t.mx||a.symbol)||0;t.om=l%200>=100,e.attr("d",Jst(l,s))}var c,u,d,h=!1;if(t.so)d=o.outlierwidth,u=o.outliercolor,c=a.outliercolor;else{var g=(o||{}).width;d=(t.mlw+1||g+1||(t.trace?(t.trace.marker.line||{}).width:0)+1)-1||0,u="mlc"in t?t.mlcc=r.lineScale(t.mlc):Rst.isArrayOrTypedArray(o.color)?kst.defaultLine:o.color,Rst.isArrayOrTypedArray(a.color)&&(c=kst.defaultLine,h=!0),c="mc"in t?t.mcc=r.markerScale(t.mc):a.color||"rgba(0,0,0,0)",r.selectedColorFn&&(c=r.selectedColorFn(t))}if(t.om)e.call(kst.stroke,c).style({"stroke-width":(d||1)+"px",fill:"none"});else{e.style("stroke-width",(t.isBlank?0:d)+"px");var f=a.gradient,p=t.mgt;p?h=!0:p=f&&f.type,Rst.isArrayOrTypedArray(p)&&(p=p[0],qst[p]||(p=0));var v=a.pattern,m=v&&Yst.getPatternAttr(v.shape,t.i,"");if(p&&"none"!==p){var y=t.mgc;y?h=!0:y=f.color;var b=n.uid;h&&(b+="-"+t.i),Yst.gradient(e,i,b,p,[[0,y],[1,c]],"fill")}else if(m){var I=Yst.getPatternAttr(v.bgcolor,t.i,null),C=Yst.getPatternAttr(v.fgcolor,t.i,null),x=v.fgopacity,B=Yst.getPatternAttr(v.size,t.i,8),A=Yst.getPatternAttr(v.solidity,t.i,.3),F=t.mcc||Rst.isArrayOrTypedArray(v.shape)||Rst.isArrayOrTypedArray(v.bgcolor)||Rst.isArrayOrTypedArray(v.size)||Rst.isArrayOrTypedArray(v.solidity),Q=n.uid;F&&(Q+="-"+t.i),Yst.pattern(e,"point",i,Q,m,B,A,t.mcc,v.fillmode,I,C,x)}else kst.fill(e,c);d&&kst.stroke(e,u)}},Yst.makePointStyleFns=function(t){var e={},n=t.marker;return e.markerScale=Yst.tryColorscale(n,""),e.lineScale=Yst.tryColorscale(n,"line"),Est.traceIs(t,"symbols")&&(e.ms2mrc=Mst.isBubble(t)?Hst(t):function(){return(n.size||6)/2}),t.selectedpoints&&Rst.extendFlat(e,Yst.makeSelectedPointStyleFns(t)),e},Yst.makeSelectedPointStyleFns=function(t){var e={},n=t.selected||{},r=t.unselected||{},i=t.marker||{},a=n.marker||{},o=r.marker||{},s=i.opacity,l=a.opacity,c=o.opacity,u=void 0!==l,d=void 0!==c;(Rst.isArrayOrTypedArray(s)||u||d)&&(e.selectedOpacityFn=function(t){var e=void 0===t.mo?i.opacity:t.mo;return t.selected?u?l:e:d?c:Wst*e});var h=i.color,g=a.color,f=o.color;(g||f)&&(e.selectedColorFn=function(t){var e=t.mcc||h;return t.selected?g||e:f||e});var p=i.size,v=a.size,m=o.size,y=void 0!==v,b=void 0!==m;return Est.traceIs(t,"symbols")&&(y||b)&&(e.selectedSizeFn=function(t){var e=t.mrc||p/2;return t.selected?y?v/2:e:b?m/2:e}),e},Yst.makeSelectedTextStyleFns=function(t){var e={},n=t.selected||{},r=t.unselected||{},i=t.textfont||{},a=n.textfont||{},o=r.textfont||{},s=i.color,l=a.color,c=o.color;return e.selectedTextColorFn=function(t){var e=t.tc||s;return t.selected?l||e:c||(l?e:kst.addOpacity(e,Wst))},e},Yst.selectedPointStyle=function(t,e){if(t.size()&&e.selectedpoints){var n=Yst.makeSelectedPointStyleFns(e),r=e.marker||{},i=[];n.selectedOpacityFn&&i.push((function(t,e){t.style("opacity",n.selectedOpacityFn(e))})),n.selectedColorFn&&i.push((function(t,e){kst.fill(t,n.selectedColorFn(e))})),n.selectedSizeFn&&i.push((function(t,e){var i=e.mx||r.symbol||0,a=n.selectedSizeFn(e);t.attr("d",Jst(Yst.symbolNumber(i),a)),e.mrc2=a})),i.length&&t.each((function(t){for(var e=Gst.select(this),n=0;n<i.length;n++)i[n](e,t)}))}},Yst.tryColorscale=function(t,e){var n=e?Rst.nestedProperty(t,e).get():t;if(n){var r=n.color;if((n.colorscale||n._colorAx)&&Rst.isArrayOrTypedArray(r))return Vst.makeColorScaleFuncFromTrace(n)}return Rst.identity};var $st={start:1,end:-1,middle:0,bottom:1,top:-1};function tlt(t,e,n,r,i){var a=Gst.select(t.node().parentNode),o=-1!==e.indexOf("top")?"top":-1!==e.indexOf("bottom")?"bottom":"middle",s=-1!==e.indexOf("left")?"end":-1!==e.indexOf("right")?"start":"middle",l=r?r/.8+1:0,c=(Nst.lineCount(t)-1)*Xst+1,u=$st[s]*l,d=.75*n+$st[o]*l+($st[o]-1)*c*n/2;t.attr("text-anchor",s),i||a.attr("transform",Zst(u,d))}function elt(t,e){var n=t.ts||e.textfont.size;return Lst(n)&&n>0?n:0}Yst.textPointStyle=function(t,e,n){if(t.size()){var r;if(e.selectedpoints){var i=Yst.makeSelectedTextStyleFns(e);r=i.selectedTextColorFn}var a=e.texttemplate,o=n._fullLayout;t.each((function(t){var i=Gst.select(this),s=a?Rst.extractOption(t,e,"txt","texttemplate"):Rst.extractOption(t,e,"tx","text");if(s||0===s){if(a){var l=e._module.formatLabels,c=l?l(t,e,o):{},u={};Dst(u,e,t.i);var d=e._meta||{};s=Rst.texttemplateString(s,c,o._d3locale,u,t,d)}var h=t.tp||e.textposition,g=elt(t,e),f=r?r(t):t.tc||e.textfont.color;i.call(Yst.font,t.tf||e.textfont.family,g,f).text(s).call(Nst.convertToTspans,n).call(tlt,h,g,t.mrc)}else i.remove()}))}},Yst.selectedTextStyle=function(t,e){if(t.size()&&e.selectedpoints){var n=Yst.makeSelectedTextStyleFns(e);t.each((function(t){var r=Gst.select(this),i=n.selectedTextColorFn(t),a=t.tp||e.textposition,o=elt(t,e);kst.fill(r,i);var s=Est.traceIs(e,"bar-like");tlt(r,a,o,t.mrc2||t.mrc,s)}))}};function nlt(t,e,n,r){var i=t[0]-e[0],a=t[1]-e[1],o=n[0]-e[0],s=n[1]-e[1],l=Math.pow(i*i+a*a,.25),c=Math.pow(o*o+s*s,.25),u=(c*c*i-l*l*o)*r,d=(c*c*a-l*l*s)*r,h=3*c*(l+c),g=3*l*(l+c);return[[Gst.round(e[0]+(h&&u/h),2),Gst.round(e[1]+(h&&d/h),2)],[Gst.round(e[0]-(g&&u/g),2),Gst.round(e[1]-(g&&d/g),2)]]}Yst.smoothopen=function(t,e){if(t.length<3)return"M"+t.join("L");var n,r="M"+t[0],i=[];for(n=1;n<t.length-1;n++)i.push(nlt(t[n-1],t[n],t[n+1],e));for(r+="Q"+i[0][0]+" "+t[1],n=2;n<t.length-1;n++)r+="C"+i[n-2][1]+" "+i[n-1][0]+" "+t[n];return r+="Q"+i[t.length-3][1]+" "+t[t.length-1]},Yst.smoothclosed=function(t,e){if(t.length<3)return"M"+t.join("L")+"Z";var n,r="M"+t[0],i=t.length-1,a=[nlt(t[i],t[0],t[1],e)];for(n=1;n<i;n++)a.push(nlt(t[n-1],t[n],t[n+1],e));for(a.push(nlt(t[i-1],t[i],t[0],e)),n=1;n<=i;n++)r+="C"+a[n-1][1]+" "+a[n][0]+" "+t[n];return r+="C"+a[i][1]+" "+a[0][0]+" "+t[0]+"Z"};var rlt={hv:function(t,e){return"H"+Gst.round(e[0],2)+"V"+Gst.round(e[1],2)},vh:function(t,e){return"V"+Gst.round(e[1],2)+"H"+Gst.round(e[0],2)},hvh:function(t,e){return"H"+Gst.round((t[0]+e[0])/2,2)+"V"+Gst.round(e[1],2)+"H"+Gst.round(e[0],2)},vhv:function(t,e){return"V"+Gst.round((t[1]+e[1])/2,2)+"H"+Gst.round(e[0],2)+"V"+Gst.round(e[1],2)}},ilt=function(t,e){return"L"+Gst.round(e[0],2)+","+Gst.round(e[1],2)};Yst.steps=function(t){var e=rlt[t]||ilt;return function(t){for(var n="M"+Gst.round(t[0][0],2)+","+Gst.round(t[0][1],2),r=1;r<t.length;r++)n+=e(t[r-1],t[r]);return n}},Yst.makeTester=function(){var t=Rst.ensureSingleById(Gst.select("body"),"svg","js-plotly-tester",(function(t){t.attr(Tst.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})})),e=Rst.ensureSingle(t,"path","js-reference-point",(function(t){t.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})}));Yst.tester=t,Yst.testref=e},Yst.savedBBoxes={};var alt=0;function olt(t){var e=t.getAttribute("data-unformatted");if(null!==e)return e+t.getAttribute("data-math")+t.getAttribute("text-anchor")+t.getAttribute("style")}function slt(t,e){if(!t)return null;var n=e._context,r=n._exportedPlot?"":n._baseUrl||"";return r?"url('"+r+"#"+t+"')":"url(#"+t+")"}Yst.bBox=function(t,e,n){var r,i,a;if(n||(n=olt(t)),n){if(r=Yst.savedBBoxes[n])return Rst.extendFlat({},r)}else if(1===t.childNodes.length){var o=t.childNodes[0];if(n=olt(o)){var s=+o.getAttribute("x")||0,l=+o.getAttribute("y")||0,c=o.getAttribute("transform");if(!c){var u=Yst.bBox(o,!1,n);return s&&(u.left+=s,u.right+=s),l&&(u.top+=l,u.bottom+=l),u}if(n+="~"+s+"~"+l+"~"+c,r=Yst.savedBBoxes[n])return Rst.extendFlat({},r)}}e?i=t:(a=Yst.tester.node(),i=t.cloneNode(!0),a.appendChild(i)),Gst.select(i).attr("transform",null).call(Nst.positionText,0,0);var d=i.getBoundingClientRect(),h=Yst.testref.node().getBoundingClientRect();e||a.removeChild(i);var g={height:d.height,width:d.width,left:d.left-h.left,top:d.top-h.top,right:d.right-h.left,bottom:d.bottom-h.top};return alt>=1e4&&(Yst.savedBBoxes={},alt=0),n&&(Yst.savedBBoxes[n]=g),alt++,Rst.extendFlat({},g)},Yst.setClipUrl=function(t,e,n){t.attr("clip-path",slt(e,n))},Yst.getTranslate=function(t){var e=(t[t.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,(function(t,e,n){return[e,n].join(" ")})).split(" ");return{x:+e[0]||0,y:+e[1]||0}},Yst.setTranslate=function(t,e,n){var r=t.attr?"attr":"getAttribute",i=t.attr?"attr":"setAttribute",a=t[r]("transform")||"";return e=e||0,n=n||0,a=a.replace(/(\btranslate\(.*?\);?)/,"").trim(),a=(a+=Zst(e,n)).trim(),t[i]("transform",a),a},Yst.getScale=function(t){var e=(t[t.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,(function(t,e,n){return[e,n].join(" ")})).split(" ");return{x:+e[0]||1,y:+e[1]||1}},Yst.setScale=function(t,e,n){var r=t.attr?"attr":"getAttribute",i=t.attr?"attr":"setAttribute",a=t[r]("transform")||"";return e=e||1,n=n||1,a=a.replace(/(\bscale\(.*?\);?)/,"").trim(),a=(a+="scale("+e+","+n+")").trim(),t[i]("transform",a),a};var llt=/\s*sc.*/;Yst.setPointGroupScale=function(t,e,n){if(e=e||1,n=n||1,t){var r=1===e&&1===n?"":"scale("+e+","+n+")";t.each((function(){var t=(this.getAttribute("transform")||"").replace(llt,"");t=(t+=r).trim(),this.setAttribute("transform",t)}))}};var clt=/translate\([^)]*\)\s*$/;Yst.setTextPointsScale=function(t,e,n){t&&t.each((function(){var t,r=Gst.select(this),i=r.select("text");if(i.node()){var a=parseFloat(i.attr("x")||0),o=parseFloat(i.attr("y")||0),s=(r.attr("transform")||"").match(clt);t=1===e&&1===n?[]:[Zst(a,o),"scale("+e+","+n+")",Zst(-a,-o)],s&&t.push(s),r.attr("transform",t.join(""))}}))};var ult=w4.exports,dlt=z6,hlt=Git.exports,glt=met,flt=Q4.exports,plt=flt.strTranslate,vlt=Uat.exports,mlt=Ott.exports,ylt=Fat,blt=net,Ilt=wat.OPPOSITE_SIDE,Clt=/ [XY][0-9]* /;var xlt={draw:function(t,e,n){var r,i=n.propContainer,a=n.propName,o=n.placeholder,s=n.traceIndex,l=n.avoid||{},c=n.attributes,u=n.transform,d=n.containerGroup,h=t._fullLayout,g=1,f=!1,p=i.title,v=(p&&p.text?p.text:"").trim(),m=p&&p.font?p.font:{},y=m.family,b=m.size,I=m.color;"title.text"===a?r="titleText":-1!==a.indexOf("axis")?r="axisTitleText":a.indexOf(!0)&&(r="colorbarTitleText");var C=t._context.edits[r];""===v?g=0:v.replace(Clt," % ")===o.replace(Clt," % ")&&(g=.2,f=!0,C||(v="")),n._meta?v=flt.templateString(v,n._meta):h._meta&&(v=flt.templateString(v,h._meta));var x,B=v||C;d||(d=flt.ensureSingle(h._infolayer,"g","g-"+e),x=h._hColorbarMoveTitle);var A=d.selectAll("text").data(B?[0]:[]);if(A.enter().append("text"),A.text(v).attr("class",e),A.exit().remove(),!B)return d;function F(t){flt.syncOrAsync([Q,w],t)}function Q(e){var n;return!u&&x&&(u={}),u?(n="",u.rotate&&(n+="rotate("+[u.rotate,c.x,c.y]+")"),(u.offset||x)&&(n+=plt(0,(u.offset||0)-(x||0)))):n=null,e.attr("transform",n),e.style({"font-family":y,"font-size":ult.round(b,2)+"px",fill:mlt.rgb(I),opacity:g*mlt.opacity(I),"font-weight":hlt.fontWeight}).attr(c).call(ylt.convertToTspans,t),hlt.previousPromises(t)}function w(t){var e=ult.select(t.node().parentNode);if(l&&l.selection&&l.side&&v){e.attr("transform",null);var n=Ilt[l.side],r="left"===l.side||"top"===l.side?-1:1,i=dlt(l.pad)?l.pad:2,a=vlt.bBox(e.node()),o={left:0,top:0,right:h.width,bottom:h.height},s=l.maxShift||r*(o[l.side]-a[l.side]),c=0;if(s<0)c=s;else{var u=l.offsetLeft||0,d=l.offsetTop||0;a.left-=u,a.right-=u,a.top-=d,a.bottom-=d,l.selection.each((function(){var t=vlt.bBox(this);flt.bBoxIntersect(a,t,i)&&(c=Math.max(c,r*(t[l.side]-a[n])+i))})),c=Math.min(s,c)}if(c>0||s<0){var g={left:[-c,0],right:[c,0],top:[0,-c],bottom:[0,c]}[l.side];e.attr("transform",plt(g[0],g[1]))}}}return A.call(F),C&&(v?A.on(".opacity",null):(g=0,f=!0,A.text(o).on("mouseover.opacity",(function(){ult.select(this).transition().duration(blt.SHOW_PLACEHOLDER).style("opacity",1)})).on("mouseout.opacity",(function(){ult.select(this).transition().duration(blt.HIDE_PLACEHOLDER).style("opacity",0)}))),A.call(ylt.makeEditable,{gd:t}).on("edit",(function(e){void 0!==s?glt.call("_guiRestyle",t,a,e,s):glt.call("_guiRelayout",t,a,e)})).on("cancel",(function(){this.text(this.attr("data-unformatted")).call(F)})).on("input",(function(t){this.text(t||" ").call(ylt.positionText,c.x,c.y)}))),A.classed("js-placeholder",f),d}},Blt=w4.exports,Alt=w6.utcFormat,Flt=Q4.exports,Qlt=Flt.numberFormat,wlt=z6,Ult=Flt.cleanNumber,Glt=Flt.ms2DateTime,Rlt=Flt.dateTime2ms,Slt=Flt.ensureNumber,Llt=Flt.isArrayOrTypedArray,_lt=J6.FP_SAFE,Elt=J6.BADNUM,klt=J6.LOG_CLIP,Vlt=J6.ONEWEEK,Zlt=J6.ONEDAY,Nlt=J6.ONEHOUR,Tlt=J6.ONEMIN,Xlt=J6.ONESEC,Wlt=Vit,Mlt=Nit,Hlt=Mlt.HOUR_PATTERN,Dlt=Mlt.WEEKDAY_PATTERN;function Ylt(t){return Math.pow(10,t)}function Olt(t){return null!=t}var zlt=function(t,e){e=e||{};var n=t._id||"x",r=n.charAt(0);function i(e,n){if(e>0)return Math.log(e)/Math.LN10;if(e<=0&&n&&t.range&&2===t.range.length){var r=t.range[0],i=t.range[1];return.5*(r+i-2*klt*Math.abs(r-i))}return Elt}function a(e,n,r,i){if((i||{}).msUTC&&wlt(e))return+e;var a=Rlt(e,r||t.calendar);if(a===Elt){if(!wlt(e))return Elt;e=+e;var o=Math.floor(10*Flt.mod(e+.05,1)),s=Math.round(e-o/10);a=Rlt(new Date(s))+o/10}return a}function o(e,n,r){return Glt(e,n,r||t.calendar)}function s(e){return t._categories[Math.round(e)]}function l(e){if(Olt(e)){if(void 0===t._categoriesMap&&(t._categoriesMap={}),void 0!==t._categoriesMap[e])return t._categoriesMap[e];t._categories.push("number"==typeof e?String(e):e);var n=t._categories.length-1;return t._categoriesMap[e]=n,n}return Elt}function c(e){if(t._categoriesMap)return t._categoriesMap[e]}function u(t){var e=c(t);return void 0!==e?e:wlt(t)?+t:void 0}function d(t){return wlt(t)?+t:c(t)}function h(t,e,n){return Blt.round(n+e*t,2)}function g(t,e,n){return(t-n)/e}var f=function(e){return wlt(e)?h(e,t._m,t._b):Elt},p=function(e){return g(e,t._m,t._b)};if(t.rangebreaks){var v="y"===r;f=function(e){if(!wlt(e))return Elt;var n=t._rangebreaks.length;if(!n)return h(e,t._m,t._b);var r=v;t.range[0]>t.range[1]&&(r=!r);for(var i=r?-1:1,a=i*e,o=0,s=0;s<n;s++){var l=i*t._rangebreaks[s].min,c=i*t._rangebreaks[s].max;if(a<l)break;if(!(a>c)){o=a<(l+c)/2?s:s+1;break}o=s+1}var u=t._B[o]||0;return isFinite(u)?h(e,t._m2,u):0},p=function(e){var n=t._rangebreaks.length;if(!n)return g(e,t._m,t._b);for(var r=0,i=0;i<n&&!(e<t._rangebreaks[i].pmin);i++)e>t._rangebreaks[i].pmax&&(r=i+1);return g(e,t._m2,t._B[r])}}t.c2l="log"===t.type?i:Slt,t.l2c="log"===t.type?Ylt:Slt,t.l2p=f,t.p2l=p,t.c2p="log"===t.type?function(t,e){return f(i(t,e))}:f,t.p2c="log"===t.type?function(t){return Ylt(p(t))}:p,-1!==["linear","-"].indexOf(t.type)?(t.d2r=t.r2d=t.d2c=t.r2c=t.d2l=t.r2l=Ult,t.c2d=t.c2r=t.l2d=t.l2r=Slt,t.d2p=t.r2p=function(e){return t.l2p(Ult(e))},t.p2d=t.p2r=p,t.cleanPos=Slt):"log"===t.type?(t.d2r=t.d2l=function(t,e){return i(Ult(t),e)},t.r2d=t.r2c=function(t){return Ylt(Ult(t))},t.d2c=t.r2l=Ult,t.c2d=t.l2r=Slt,t.c2r=i,t.l2d=Ylt,t.d2p=function(e,n){return t.l2p(t.d2r(e,n))},t.p2d=function(t){return Ylt(p(t))},t.r2p=function(e){return t.l2p(Ult(e))},t.p2r=p,t.cleanPos=Slt):"date"===t.type?(t.d2r=t.r2d=Flt.identity,t.d2c=t.r2c=t.d2l=t.r2l=a,t.c2d=t.c2r=t.l2d=t.l2r=o,t.d2p=t.r2p=function(e,n,r){return t.l2p(a(e,0,r))},t.p2d=t.p2r=function(t,e,n){return o(p(t),e,n)},t.cleanPos=function(e){return Flt.cleanDate(e,Elt,t.calendar)}):"category"===t.type?(t.d2c=t.d2l=l,t.r2d=t.c2d=t.l2d=s,t.d2r=t.d2l_noadd=u,t.r2c=function(e){var n=d(e);return void 0!==n?n:t.fraction2r(.5)},t.l2r=t.c2r=Slt,t.r2l=d,t.d2p=function(e){return t.l2p(t.r2c(e))},t.p2d=function(t){return s(p(t))},t.r2p=t.d2p,t.p2r=p,t.cleanPos=function(t){return"string"==typeof t&&""!==t?t:Slt(t)}):"multicategory"===t.type&&(t.r2d=t.c2d=t.l2d=s,t.d2r=t.d2l_noadd=u,t.r2c=function(e){var n=u(e);return void 0!==n?n:t.fraction2r(.5)},t.r2c_just_indices=c,t.l2r=t.c2r=Slt,t.r2l=u,t.d2p=function(e){return t.l2p(t.r2c(e))},t.p2d=function(t){return s(p(t))},t.r2p=t.d2p,t.p2r=p,t.cleanPos=function(t){return Array.isArray(t)||"string"==typeof t&&""!==t?t:Slt(t)},t.setupMultiCategory=function(i){var a,o,s=t._traceIndices,c=t._matchGroup;if(c&&0===t._categories.length)for(var u in c)if(u!==n){var d=e[Wlt.id2name(u)];s=s.concat(d._traceIndices)}var h=[[0,{}],[0,{}]],g=[];for(a=0;a<s.length;a++){var f=i[s[a]];if(r in f){var p=f[r],v=f._length||Flt.minRowLength(p);if(Llt(p[0])&&Llt(p[1]))for(o=0;o<v;o++){var m=p[0][o],y=p[1][o];Olt(m)&&Olt(y)&&(g.push([m,y]),m in h[0][1]||(h[0][1][m]=h[0][0]++),y in h[1][1]||(h[1][1][y]=h[1][0]++))}}}for(g.sort((function(t,e){var n=h[0][1],r=n[t[0]]-n[e[0]];if(r)return r;var i=h[1][1];return i[t[1]]-i[e[1]]})),a=0;a<g.length;a++)l(g[a])}),t.fraction2r=function(e){var n=t.r2l(t.range[0]),r=t.r2l(t.range[1]);return t.l2r(n+e*(r-n))},t.r2fraction=function(e){var n=t.r2l(t.range[0]),r=t.r2l(t.range[1]);return(t.r2l(e)-n)/(r-n)},t.cleanRange=function(e,n){n||(n={}),e||(e="range");var i,a,o=Flt.nestedProperty(t,e).get();if(a=(a="date"===t.type?Flt.dfltRange(t.calendar):"y"===r?Mlt.DFLTRANGEY:"realaxis"===t._name?[0,1]:n.dfltRange||Mlt.DFLTRANGEX).slice(),"tozero"!==t.rangemode&&"nonnegative"!==t.rangemode||(a[0]=0),o&&2===o.length)for("date"!==t.type||t.autorange||(o[0]=Flt.cleanDate(o[0],Elt,t.calendar),o[1]=Flt.cleanDate(o[1],Elt,t.calendar)),i=0;i<2;i++)if("date"===t.type){if(!Flt.isDateTime(o[i],t.calendar)){t[e]=a;break}if(t.r2l(o[0])===t.r2l(o[1])){var s=Flt.constrain(t.r2l(o[0]),Flt.MIN_MS+1e3,Flt.MAX_MS-1e3);o[0]=t.l2r(s-1e3),o[1]=t.l2r(s+1e3);break}}else{if(!wlt(o[i])){if(!wlt(o[1-i])){t[e]=a;break}o[i]=o[1-i]*(i?10:.1)}if(o[i]<-_lt?o[i]=-_lt:o[i]>_lt&&(o[i]=_lt),o[0]===o[1]){var l=Math.max(1,Math.abs(1e-6*o[0]));o[0]-=l,o[1]+=l}}else Flt.nestedProperty(t,e).set(a)},t.setScale=function(n){var i=e._size;if(t.overlaying){var a=Wlt.getFromId({_fullLayout:e},t.overlaying);t.domain=a.domain}var o=n&&t._r?"_r":"range",s=t.calendar;t.cleanRange(o);var l,c,u=t.r2l(t[o][0],s),d=t.r2l(t[o][1],s),h="y"===r;if((h?(t._offset=i.t+(1-t.domain[1])*i.h,t._length=i.h*(t.domain[1]-t.domain[0]),t._m=t._length/(u-d),t._b=-t._m*d):(t._offset=i.l+t.domain[0]*i.w,t._length=i.w*(t.domain[1]-t.domain[0]),t._m=t._length/(d-u),t._b=-t._m*u),t._rangebreaks=[],t._lBreaks=0,t._m2=0,t._B=[],t.rangebreaks)&&(t._rangebreaks=t.locateBreaks(Math.min(u,d),Math.max(u,d)),t._rangebreaks.length)){for(l=0;l<t._rangebreaks.length;l++)c=t._rangebreaks[l],t._lBreaks+=Math.abs(c.max-c.min);var g=h;u>d&&(g=!g),g&&t._rangebreaks.reverse();var p=g?-1:1;for(t._m2=p*t._length/(Math.abs(d-u)-t._lBreaks),t._B.push(-t._m2*(h?d:u)),l=0;l<t._rangebreaks.length;l++)c=t._rangebreaks[l],t._B.push(t._B[t._B.length-1]-p*t._m2*(c.max-c.min));for(l=0;l<t._rangebreaks.length;l++)(c=t._rangebreaks[l]).pmin=f(c.min),c.pmax=f(c.max)}if(!isFinite(t._m)||!isFinite(t._b)||t._length<0)throw e._replotting=!1,new Error("Something went wrong with axis scaling")},t.maskBreaks=function(e){var n,r,i,a,o,s=t.rangebreaks||[];s._cachedPatterns||(s._cachedPatterns=s.map((function(e){return e.enabled&&e.bounds?Flt.simpleMap(e.bounds,e.pattern?Ult:t.d2c):null}))),s._cachedValues||(s._cachedValues=s.map((function(e){return e.enabled&&e.values?Flt.simpleMap(e.values,t.d2c).sort(Flt.sorterAsc):null})));for(var l=0;l<s.length;l++){var c=s[l];if(c.enabled)if(c.bounds){var u=c.pattern;switch(r=(n=s._cachedPatterns[l])[0],i=n[1],u){case Dlt:a=(o=new Date(e)).getUTCDay(),r>i&&(i+=7,a<r&&(a+=7));break;case Hlt:a=(o=new Date(e)).getUTCHours()+(o.getUTCMinutes()/60+o.getUTCSeconds()/3600+o.getUTCMilliseconds()/36e5),r>i&&(i+=24,a<r&&(a+=24));break;case"":a=e}if(a>=r&&a<i)return Elt}else for(var d=s._cachedValues[l],h=0;h<d.length;h++)if(i=(r=d[h])+c.dvalue,e>=r&&e<i)return Elt}return e},t.locateBreaks=function(e,n){var r,i,a,o,s=[];if(!t.rangebreaks)return s;var l=t.rangebreaks.slice().sort((function(t,e){return t.pattern===Dlt&&e.pattern===Hlt?-1:e.pattern===Dlt&&t.pattern===Hlt?1:0})),c=function(t,r){if((t=Flt.constrain(t,e,n))!==(r=Flt.constrain(r,e,n))){for(var i=!0,a=0;a<s.length;a++){var o=s[a];t<o.max&&r>=o.min&&(t<o.min&&(o.min=t),r>o.max&&(o.max=r),i=!1)}i&&s.push({min:t,max:r})}};for(r=0;r<l.length;r++){var u=l[r];if(u.enabled)if(u.bounds){var d=e,h=n;u.pattern&&(d=Math.floor(d)),a=(i=Flt.simpleMap(u.bounds,u.pattern?Ult:t.r2l))[0],o=i[1];var g,f,p=new Date(d);switch(u.pattern){case Dlt:f=Vlt,g=(o-a+(o<a?7:0))*Zlt,d+=a*Zlt-(p.getUTCDay()*Zlt+p.getUTCHours()*Nlt+p.getUTCMinutes()*Tlt+p.getUTCSeconds()*Xlt+p.getUTCMilliseconds());break;case Hlt:f=Zlt,g=(o-a+(o<a?24:0))*Nlt,d+=a*Nlt-(p.getUTCHours()*Nlt+p.getUTCMinutes()*Tlt+p.getUTCSeconds()*Xlt+p.getUTCMilliseconds());break;default:d=Math.min(i[0],i[1]),g=f=(h=Math.max(i[0],i[1]))-d}for(var v=d;v<h;v+=f)c(v,v+g)}else for(var m=Flt.simpleMap(u.values,t.d2c),y=0;y<m.length;y++)c(a=m[y],o=a+u.dvalue)}return s.sort((function(t,e){return t.min-e.min})),s},t.makeCalcdata=function(e,n,r){var i,a,o,s,l=t.type,u="date"===l&&e[n+"calendar"];if(n in e){if(i=e[n],s=e._length||Flt.minRowLength(i),Flt.isTypedArray(i)&&("linear"===l||"log"===l)){if(s===i.length)return i;if(i.subarray)return i.subarray(0,s)}if("multicategory"===l)return function(t,e){for(var n=new Array(e),r=0;r<e;r++){var i=(t[0]||[])[r],a=(t[1]||[])[r];n[r]=c([i,a])}return n}(i,s);for(a=new Array(s),o=0;o<s;o++)a[o]=t.d2c(i[o],0,u,r)}else{var d=n+"0"in e?t.d2c(e[n+"0"],0,u):0,h=e["d"+n]?Number(e["d"+n]):1;for(i=e[{x:"y",y:"x"}[n]],s=e._length||i.length,a=new Array(s),o=0;o<s;o++)a[o]=d+o*h}if(t.rangebreaks)for(o=0;o<s;o++)a[o]=t.maskBreaks(a[o]);return a},t.isValidRange=function(e){return Array.isArray(e)&&2===e.length&&wlt(t.r2l(e[0]))&&wlt(t.r2l(e[1]))},t.isPtWithinRange=function(e,n){var i=t.c2l(e[r],null,n),a=t.r2l(t.range[0]),o=t.r2l(t.range[1]);return a<o?a<=i&&i<=o:o<=i&&i<=a},t._emptyCategories=function(){t._categories=[],t._categoriesMap={}},t.clearCalc=function(){var n=t._matchGroup;if(n){var r=null,i=null;for(var a in n){var o=e[Wlt.id2name(a)];if(o._categories){r=o._categories,i=o._categoriesMap;break}}r&&i?(t._categories=r,t._categoriesMap=i):t._emptyCategories()}else t._emptyCategories();if(t._initialCategories)for(var s=0;s<t._initialCategories.length;s++)l(t._initialCategories[s])},t.sortByInitialCategories=function(){var r=[];if(t._emptyCategories(),t._initialCategories)for(var i=0;i<t._initialCategories.length;i++)l(t._initialCategories[i]);r=r.concat(t._traceIndices);var a=t._matchGroup;for(var o in a)if(n!==o){var s=e[Wlt.id2name(o)];s._categories=t._categories,s._categoriesMap=t._categoriesMap,r=r.concat(s._traceIndices)}return r};var m=e._d3locale;"date"===t.type&&(t._dateFormat=m?m.timeFormat:Alt,t._extraFormat=e._extraFormat),t._separators=e.separators,t._numFormat=m?m.numberFormat:Qlt,delete t._minDtick,delete t._forceTick0},Jlt=z6,jlt=Q4.exports,Plt=J6.BADNUM,Klt=jlt.isArrayOrTypedArray,qlt=jlt.isDateTime,$lt=jlt.cleanNumber,tct=Math.round,ect=function(t,e,n){var r=t,i=n.noMultiCategory;if(Klt(r)&&!r.length)return"-";if(!i&&function(t){return Klt(t[0])&&Klt(t[1])}(r))return"multicategory";if(i&&Array.isArray(r[0])){for(var a=[],s=0;s<r.length;s++)if(Klt(r[s]))for(var l=0;l<r[s].length;l++)a.push(r[s][l]);r=a}if(function(t,e){for(var n=t.length,r=rct(n),i=0,a=0,o={},s=0;s<n;s+=r){var l=t[tct(s)],c=String(l);o[c]||(o[c]=1,qlt(l,e)&&i++,Jlt(l)&&a++)}return i>2*a}(r,e))return"date";var c="strict"!==n.autotypenumbers;return function(t,e){for(var n=t.length,r=rct(n),i=0,a=0,s={},l=0;l<n;l+=r){var c=t[tct(l)],u=String(c);if(!s[u]){s[u]=1;var d=o(c);"boolean"===d?a++:(e?$lt(c)!==Plt:"number"===d)?i++:"string"===d&&a++}}return a>2*i}(r,c)?"category":function(t,e){for(var n=t.length,r=0;r<n;r++)if(nct(t[r],e))return!0;return!1}(r,c)?"linear":"-"};function nct(t,e){return e?Jlt(t):"number"==typeof t}function rct(t){return Math.max(1,(t-1)/1e3)}var ict=w4.exports,act=z6,oct=Q4.exports,sct=J6.FP_SAFE,lct=met,cct=Uat.exports,uct=Vit.getFromId,dct=Vit.isLinked,hct={getAutoRange:gct,makePadFn:pct,doAutoRange:function(t,e,n){if(e.setScale(),e.autorange){e.range=n?n.slice():gct(t,e),e._r=e.range.slice(),e._rl=oct.simpleMap(e._r,e.r2l);var r=e._input,i={};i[e._attr+".range"]=e.range,i[e._attr+".autorange"]=e.autorange,lct.call("_storeDirectGUIEdit",t.layout,t._fullLayout._preGUI,i),r.range=e.range.slice(),r.autorange=e.autorange}var a=e._anchorAxis;if(a&&a.rangeslider){var o=a.rangeslider[e._name];o&&"auto"===o.rangemode&&(o.range=gct(t,e)),a._input.rangeslider[e._name]=oct.extendFlat({},o)}},findExtremes:function(t,e,n){n||(n={});t._m||t.setScale();var r,i,a,o,s,l,c,u,d,h=[],g=[],f=e.length,p=n.padded||!1,v=n.tozero&&("linear"===t.type||"-"===t.type),m="log"===t.type,y=!1,b=n.vpadLinearized||!1;function I(t){if(Array.isArray(t))return y=!0,function(e){return Math.max(Number(t[e]||0),0)};var e=Math.max(Number(t||0),0);return function(){return e}}var C=I((t._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),x=I((t._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),B=I(n.vpadplus||n.vpad),A=I(n.vpadminus||n.vpad);if(!y){if(u=1/0,d=-1/0,m)for(r=0;r<f;r++)(i=e[r])<u&&i>0&&(u=i),i>d&&i<sct&&(d=i);else for(r=0;r<f;r++)(i=e[r])<u&&i>-sct&&(u=i),i>d&&i<sct&&(d=i);e=[u,d],f=2}var F={tozero:v,extrapad:p};function Q(n){a=e[n],act(a)&&(l=C(n),c=x(n),b?(o=t.c2l(a)-A(n),s=t.c2l(a)+B(n)):(u=a-A(n),d=a+B(n),m&&u<d/10&&(u=d/10),o=t.c2l(u),s=t.c2l(d)),v&&(o=Math.min(0,o),s=Math.max(0,s)),Ict(o)&&mct(h,o,c,F),Ict(s)&&yct(g,s,l,F))}var w=Math.min(6,f);for(r=0;r<w;r++)Q(r);for(r=f-1;r>=w;r--)Q(r);return{min:h,max:g,opts:n}},concatExtremes:vct};function gct(t,e){var n,r,i=[],a=t._fullLayout,o=pct(a,e,0),s=pct(a,e,1),l=vct(t,e),c=l.min,u=l.max;if(0===c.length||0===u.length)return oct.simpleMap(e.range,e.r2l);var d=c[0].val,h=u[0].val;for(n=1;n<c.length&&d===h;n++)d=Math.min(d,c[n].val);for(n=1;n<u.length&&d===h;n++)h=Math.max(h,u[n].val);var g=!1;if(e.range){var f=oct.simpleMap(e.range,e.r2l);g=f[1]<f[0]}"reversed"===e.autorange&&(g=!0,e.autorange=!0);var p,v,m,y,b,I,C=e.rangemode,x="tozero"===C,B="nonnegative"===C,A=e._length,F=A/10,Q=0;for(n=0;n<c.length;n++)for(p=c[n],r=0;r<u.length;r++)(I=(v=u[r]).val-p.val-fct(e,p.val,v.val))>0&&((b=A-o(p)-s(v))>F?I/b>Q&&(m=p,y=v,Q=I/b):I/A>Q&&(m={val:p.val,nopad:1},y={val:v.val,nopad:1},Q=I/A));if(d===h){var w=d-1,U=d+1;if(x)if(0===d)i=[0,1];else{var G=(d>0?u:c).reduce((function(t,e){return Math.max(t,s(e))}),0),R=d/(1-Math.min(.5,G/A));i=d>0?[0,R]:[R,0]}else i=B?[Math.max(0,w),Math.max(1,U)]:[w,U]}else x?(m.val>=0&&(m={val:0,nopad:1}),y.val<=0&&(y={val:0,nopad:1})):B&&(m.val-Q*o(m)<0&&(m={val:0,nopad:1}),y.val<=0&&(y={val:1,nopad:1})),Q=(y.val-m.val-fct(e,p.val,v.val))/(A-o(m)-s(y)),i=[m.val-Q*o(m),y.val+Q*s(y)];return g&&i.reverse(),oct.simpleMap(i,e.l2r||Number)}function fct(t,e,n){var r=0;if(t.rangebreaks)for(var i=t.locateBreaks(e,n),a=0;a<i.length;a++){var o=i[a];r+=o.max-o.min}return r}function pct(t,e,n){var r=.05*e._length,i=e._anchorAxis||{};if(-1!==(e.ticklabelposition||"").indexOf("inside")||-1!==(i.ticklabelposition||"").indexOf("inside")){var a="reversed"===e.autorange;if(!a){var o=oct.simpleMap(e.range,e.r2l);a=o[1]<o[0]}a&&(n=!n)}var s=0;return dct(t,e._id)||(s=function(t,e,n){var r=0,i="x"===e._id.charAt(0);for(var a in t._plots){var o=t._plots[a];if(e._id===o.xaxis._id||e._id===o.yaxis._id){var s=(i?o.yaxis:o.xaxis)||{};if(-1!==(s.ticklabelposition||"").indexOf("inside")&&(!n&&("left"===s.side||"bottom"===s.side)||n&&("top"===s.side||"right"===s.side))){if(s._vals){var l=oct.deg2rad(s._tickAngles[s._id+"tick"]||0),c=Math.abs(Math.cos(l)),u=Math.abs(Math.sin(l));if(!s._vals[0].bb){var d=s._id+"tick";s._selections[d].each((function(t){var e=ict.select(this);e.select(".text-math-group").empty()&&(t.bb=cct.bBox(e.node()))}))}for(var h=0;h<s._vals.length;h++){var g=s._vals[h].bb;if(g){var f=6+g.width,p=6+g.height;r=Math.max(r,i?Math.max(f*c,p*u):Math.max(p*c,f*u))}}}"inside"===s.ticks&&"inside"===s.ticklabelposition&&(r+=s.ticklen||0)}}}return r}(t,e,n)),r=Math.max(s,r),"domain"===e.constrain&&e._inputDomain&&(r*=(e._inputDomain[1]-e._inputDomain[0])/(e.domain[1]-e.domain[0])),function(t){return t.nopad?0:t.pad+(t.extrapad?r:s)}}function vct(t,e,n){var r,i,a,o=e._id,s=t._fullData,l=t._fullLayout,c=[],u=[];function d(t,e){for(r=0;r<e.length;r++){var n=t[e[r]],s=(n._extremes||{})[o];if(!0===n.visible&&s){for(i=0;i<s.min.length;i++)a=s.min[i],mct(c,a.val,a.pad,{extrapad:a.extrapad});for(i=0;i<s.max.length;i++)a=s.max[i],yct(u,a.val,a.pad,{extrapad:a.extrapad})}}}if(d(s,e._traceIndices),d(l.annotations||[],e._annIndices||[]),d(l.shapes||[],e._shapeIndices||[]),e._matchGroup&&!n)for(var h in e._matchGroup)if(h!==e._id){var g=uct(t,h),f=vct(t,g,!0),p=e._length/g._length;for(i=0;i<f.min.length;i++)a=f.min[i],mct(c,a.val,a.pad*p,{extrapad:a.extrapad});for(i=0;i<f.max.length;i++)a=f.max[i],yct(u,a.val,a.pad*p,{extrapad:a.extrapad})}return{min:c,max:u}}function mct(t,e,n,r){bct(t,e,n,r,Cct)}function yct(t,e,n,r){bct(t,e,n,r,xct)}function bct(t,e,n,r,i){for(var a=r.tozero,o=r.extrapad,s=!0,l=0;l<t.length&&s;l++){var c=t[l];if(i(c.val,e)&&c.pad>=n&&(c.extrapad||!o)){s=!1;break}i(e,c.val)&&c.pad<=n&&(o||!c.extrapad)&&(t.splice(l,1),l--)}if(s){var u=a&&0===e;t.push({val:e,pad:u?0:n,extrapad:!u&&o})}}function Ict(t){return act(t)&&Math.abs(t)<sct}function Cct(t,e){return t<=e}function xct(t,e){return t>=e}var Bct=w4.exports,Act=z6,Fct=Git.exports,Qct=met,wct=Q4.exports,Uct=wct.strTranslate,Gct=Fat,Rct=xlt,Sct=Ott.exports,Lct=Uat.exports,_ct=oot,Ect=Aot,kct=J6.ONEMAXYEAR,Vct=J6.ONEAVGYEAR,Zct=J6.ONEMINYEAR,Nct=J6.ONEMAXQUARTER,Tct=J6.ONEAVGQUARTER,Xct=J6.ONEMINQUARTER,Wct=J6.ONEMAXMONTH,Mct=J6.ONEAVGMONTH,Hct=J6.ONEMINMONTH,Dct=J6.ONEWEEK,Yct=J6.ONEDAY,Oct=Yct/2,zct=J6.ONEHOUR,Jct=J6.ONEMIN,jct=J6.ONESEC,Pct=J6.MINUS_SIGN,Kct=J6.BADNUM,qct={K:"zeroline"},$ct={K:"gridline",L:"path"},tut={K:"tick",L:"path"},eut={K:"tick",L:"text"},nut=wat.MID_SHIFT,rut=wat.CAP_SHIFT,iut=wat.LINE_SPACING,aut=wat.OPPOSITE_SIDE,out=Aat.exports={};out.setConvert=zlt;var sut=ect,lut=Vit,cut=lut.idSort,uut=lut.isLinked;out.id2name=lut.id2name,out.name2id=lut.name2id,out.cleanId=lut.cleanId,out.list=lut.list,out.listIds=lut.listIds,out.getFromId=lut.getFromId,out.getFromTrace=lut.getFromTrace;var dut=hct;out.getAutoRange=dut.getAutoRange,out.findExtremes=dut.findExtremes;function hut(t){var e=1e-4*(t[1]-t[0]);return[t[0]-e,t[1]+e]}out.coerceRef=function(t,e,n,r,i,a){var o=r.charAt(r.length-1),s=n._fullLayout._subplots[o+"axis"],l=r+"ref",c={};return i||(i=s[0]||("string"==typeof a?a:a[0])),a||(a=i),s=s.concat(s.map((function(t){return t+" domain"}))),c[l]={valType:"enumerated",values:s.concat(a?"string"==typeof a?[a]:a:[]),dflt:i},wct.coerce(t,e,c,l)},out.getRefType=function(t){return void 0===t?t:"paper"===t?"paper":"pixel"===t?"pixel":/( domain)$/.test(t)?"domain":"range"},out.coercePosition=function(t,e,n,r,i,a){var o,s;if("range"!==out.getRefType(r))o=wct.ensureNumber,s=n(i,a);else{var l=out.getFromId(e,r);s=n(i,a=l.fraction2r(a)),o=l.cleanPos}t[i]=o(s)},out.cleanPosition=function(t,e,n){return("paper"===n||"pixel"===n?wct.ensureNumber:out.getFromId(e,n).cleanPos)(t)},out.redrawComponents=function(t,e){e=e||out.listIds(t);var n=t._fullLayout;function r(r,i,a,o){for(var s=Qct.getComponentMethod(r,i),l={},c=0;c<e.length;c++)for(var u=n[out.id2name(e[c])][a],d=0;d<u.length;d++){var h=u[d];if(!l[h]&&(s(t,h),l[h]=1,o))return}}r("annotations","drawOne","_annIndices"),r("shapes","drawOne","_shapeIndices"),r("images","draw","_imgIndices",!0)};var gut=out.getDataConversions=function(t,e,n,r){var i,a="x"===n||"y"===n||"z"===n?n:r;if(Array.isArray(a)){if(i={type:sut(r,void 0,{autotypenumbers:t._fullLayout.autotypenumbers}),_categories:[]},out.setConvert(i),"category"===i.type)for(var o=0;o<r.length;o++)i.d2c(r[o])}else i=out.getFromTrace(t,e,a);return i?{d2c:i.d2c,c2d:i.c2d}:"ids"===a?{d2c:put,c2d:put}:{d2c:fut,c2d:fut}};function fut(t){return+t}function put(t){return String(t)}function vut(t){return+t.substring(1)}out.getDataToCoordFunc=function(t,e,n,r){return gut(t,e,n,r).d2c},out.counterLetter=function(t){var e=t.charAt(0);return"x"===e?"y":"y"===e?"x":void 0},out.minDtick=function(t,e,n,r){-1===["log","category","multicategory"].indexOf(t.type)&&r?void 0===t._minDtick?(t._minDtick=e,t._forceTick0=n):t._minDtick&&((t._minDtick/e+1e-6)%1<2e-6&&((n-t._forceTick0)/e%1+1.000001)%1<2e-6?(t._minDtick=e,t._forceTick0=n):((e/t._minDtick+1e-6)%1>2e-6||((n-t._forceTick0)/t._minDtick%1+1.000001)%1>2e-6)&&(t._minDtick=0)):t._minDtick=0},out.saveRangeInitial=function(t,e){for(var n=out.list(t,"",!0),r=!1,i=0;i<n.length;i++){var a=n[i],o=void 0===a._rangeInitial,s=o||!(a.range[0]===a._rangeInitial[0]&&a.range[1]===a._rangeInitial[1]);(o&&!1===a.autorange||e&&s)&&(a._rangeInitial=a.range.slice(),r=!0)}return r},out.saveShowSpikeInitial=function(t,e){for(var n=out.list(t,"",!0),r=!1,i="on",a=0;a<n.length;a++){var o=n[a],s=void 0===o._showSpikeInitial,l=s||!(o.showspikes===o._showspikes);(s||e&&l)&&(o._showSpikeInitial=o.showspikes,r=!0),"on"!==i||o.showspikes||(i="off")}return t._fullLayout._cartesianSpikesEnabled=i,r},out.autoBin=function(t,e,n,r,i,a){var o,s=wct.aggNums(Math.min,null,t),l=wct.aggNums(Math.max,null,t);if("category"===e.type||"multicategory"===e.type)return{start:s-.5,end:l+.5,size:Math.max(1,Math.round(a)||1),_dataSpan:l-s};if(i||(i=e.calendar),o="log"===e.type?{type:"linear",range:[s,l]}:{type:e.type,range:wct.simpleMap([s,l],e.c2r,0,i),calendar:i},out.setConvert(o),a=a&&Ect.dtick(a,o.type))o.dtick=a,o.tick0=Ect.tick0(void 0,o.type,i);else{var c;if(n)c=(l-s)/n;else{var u=wct.distinctVals(t),d=Math.pow(10,Math.floor(Math.log(u.minDiff)/Math.LN10)),h=d*wct.roundUp(u.minDiff/d,[.9,1.9,4.9,9.9],!0);c=Math.max(h,2*wct.stdev(t)/Math.pow(t.length,r?.25:.4)),Act(c)||(c=1)}out.autoTicks(o,c)}var g,f=o.dtick,p=out.tickIncrement(out.tickFirst(o),f,"reverse",i);if("number"==typeof f)p=function(t,e,n,r,i){var a=0,o=0,s=0,l=0;function c(e){return(1+100*(e-t)/n.dtick)%100<2}for(var u=0;u<e.length;u++)e[u]%1==0?s++:Act(e[u])||l++,c(e[u])&&a++,c(e[u]+n.dtick/2)&&o++;var d=e.length-l;if(s===d&&"date"!==n.type)n.dtick<1?t=r-.5*n.dtick:(t-=.5)+n.dtick<r&&(t+=n.dtick);else if(o<.1*d&&(a>.3*d||c(r)||c(i))){var h=n.dtick/2;t+=t+h<r?h:-h}return t}(p,t,o,s,l),g=p+(1+Math.floor((l-p)/f))*f;else for("M"===o.dtick.charAt(0)&&(p=function(t,e,n,r,i){var a=wct.findExactDates(e,i),o=.8;if(a.exactDays>o){var s=Number(n.substr(1));a.exactYears>o&&s%12==0?t=out.tickIncrement(t,"M6","reverse")+1.5*Yct:a.exactMonths>o?t=out.tickIncrement(t,"M1","reverse")+15.5*Yct:t-=Oct;var l=out.tickIncrement(t,n);if(l<=r)return l}return t}(p,t,f,s,i)),g=p,0;g<=l;)g=out.tickIncrement(g,f,!1,i);return{start:e.c2r(p,0,i),end:e.c2r(g,0,i),size:f,_dataSpan:l-s}},out.prepTicks=function(t,e){var n=wct.simpleMap(t.range,t.r2l,void 0,void 0,e);if(t._dtickInit=t.dtick,t._tick0Init=t.tick0,"auto"===t.tickmode||!t.dtick){var r,i=t.nticks;i||("category"===t.type||"multicategory"===t.type?(r=t.tickfont?wct.bigFont(t.tickfont.size||12):15,i=t._length/r):(r="y"===t._id.charAt(0)?40:80,i=wct.constrain(t._length/r,4,9)+1),"radialaxis"===t._name&&(i*=2)),"array"===t.tickmode&&(i*=100),t._roughDTick=Math.abs(n[1]-n[0])/i,out.autoTicks(t,t._roughDTick),t._minDtick>0&&t.dtick<2*t._minDtick&&(t.dtick=t._minDtick,t.tick0=t.l2r(t._forceTick0))}"period"===t.ticklabelmode&&function(t){var e;function n(){return!(Act(t.dtick)||"M"!==t.dtick.charAt(0))}var r=n(),i=out.getTickFormat(t);if(i){var a=t._dtickInit!==t.dtick;/%[fLQsSMX]/.test(i)||(/%[HI]/.test(i)?(e=zct,a&&!r&&t.dtick<zct&&(t.dtick=zct)):/%p/.test(i)?(e=Oct,a&&!r&&t.dtick<Oct&&(t.dtick=Oct)):/%[Aadejuwx]/.test(i)?(e=Yct,a&&!r&&t.dtick<Yct&&(t.dtick=Yct)):/%[UVW]/.test(i)?(e=Dct,a&&!r&&t.dtick<Dct&&(t.dtick=Dct)):/%[Bbm]/.test(i)?(e=Mct,a&&(r?vut(t.dtick)<1:t.dtick<Hct)&&(t.dtick="M1")):/%[q]/.test(i)?(e=Tct,a&&(r?vut(t.dtick)<3:t.dtick<Xct)&&(t.dtick="M3")):/%[Yy]/.test(i)&&(e=Vct,a&&(r?vut(t.dtick)<12:t.dtick<Zct)&&(t.dtick="M12")))}(r=n())&&t.tick0===t._dowTick0&&(t.tick0=t._rawTick0);t._definedDelta=e}(t),t.tick0||(t.tick0="date"===t.type?"2000-01-01":0),"date"===t.type&&t.dtick<.1&&(t.dtick=.1),Fut(t)},out.calcTicks=function(t,e){out.prepTicks(t,e);var n=wct.simpleMap(t.range,t.r2l,void 0,void 0,e);if("array"===t.tickmode)return function(t){var e=t.tickvals,n=t.ticktext,r=new Array(e.length),i=hut(wct.simpleMap(t.range,t.r2l)),a=Math.min(i[0],i[1]),o=Math.max(i[0],i[1]),s=0;Array.isArray(n)||(n=[]);var l="category"===t.type?t.d2l_noadd:t.d2l;"log"===t.type&&"L"!==String(t.dtick).charAt(0)&&(t.dtick="L"+Math.pow(10,Math.floor(Math.min(t.range[0],t.range[1]))-1));for(var c=0;c<e.length;c++){var u=l(e[c]);u>a&&u<o&&(void 0===n[c]?r[s]=out.tickText(t,u):r[s]=Qut(t,u,String(n[c])),s++)}s<e.length&&r.splice(s,e.length-s);t.rangebreaks&&(r=r.filter((function(e){return t.maskBreaks(e.x)!==Kct})));return r}(t);var r=hut(n),i=r[0],a=r[1],o=n[1]<n[0],s=Math.min(n[0],n[1]),l=Math.max(n[0],n[1]),c=Act(t.dtick),u="log"===t.type&&!(c||"L"===t.dtick.charAt(0)),d="period"===t.ticklabelmode;if(t._tmin=out.tickFirst(t,e),t._tmin<i!==o)return[];"category"!==t.type&&"multicategory"!==t.type||(a=o?Math.max(-.5,a):Math.min(t._categories.length-.5,a));var h=t._tmin;t.rangebreaks&&t._tick0Init!==t.tick0&&(h=Dut(h,t),o||(h=out.tickIncrement(h,t.dtick,!o,t.calendar))),d&&(h=out.tickIncrement(h,t.dtick,!o,t.calendar));var g,f=t.ticklabelstep,p=Math.max(1e3,t._length||0),v=[],m=null;c?g=t.dtick:"date"===t.type?"string"==typeof t.dtick&&"M"===t.dtick.charAt(0)&&(g=Mct*t.dtick.substring(1)):g=t._roughDTick;for(var y,b,I=Math.round((t.r2l(h)-t.r2l(t.tick0))/g)-1;o?h>=a:h<=a;h=out.tickIncrement(h,t.dtick,o,t.calendar)){if(I++,t.rangebreaks&&!o){if(h<i)continue;if(t.maskBreaks(h)===Kct&&Dut(h,t)>=l)break}if(v.length>p||h===m)break;m=h;var C=!1;u&&h!==(0|h)&&(C=!0);var x={minor:C,value:h};f>1&&I%f&&(x.skipLabel=!0),v.push(x)}if(d&&function(t,e,n){for(var r=0;r<t.length;r++){var i=t[r].value,a=r,o=r+1;r<t.length-1?(a=r,o=r+1):r>0?(a=r-1,o=r):(a=r,o=r);var s,l=t[a].value,c=t[o].value,u=Math.abs(c-l),d=n||u,h=0;d>=Zct?h=u>=Zct&&u<=kct?u:Vct:n===Tct&&d>=Xct?h=u>=Xct&&u<=Nct?u:Tct:d>=Hct?h=u>=Hct&&u<=Wct?u:Mct:n===Dct&&d>=Dct?h=Dct:d>=Yct?h=Yct:n===Oct&&d>=Oct?h=Oct:n===zct&&d>=zct&&(h=zct),h>=u&&(h=u,s=!0);var g=i+h;if(e.rangebreaks&&h>0){for(var f=0,p=0;p<84;p++){var v=(p+.5)/84;e.maskBreaks(i*(1-v)+v*g)!==Kct&&f++}(h*=f/84)||(t[r].drop=!0),s&&u>Dct&&(h=u)}(h>0||0===r)&&(t[r].periodX=i+h/2)}}(v,t,t._definedDelta),t.rangebreaks){var B="y"===t._id.charAt(0),A=1;"auto"===t.tickmode&&(A=t.tickfont?t.tickfont.size:12);var F=NaN;for(y=v.length-1;y>-1;y--)if(v[y].drop)v.splice(y,1);else{v[y].value=Dut(v[y].value,t);var Q=t.c2p(v[y].value);(B?F>Q-A:F<Q+A)?v.splice(o?y+1:y,1):F=Q}}Hut(t)&&360===Math.abs(n[1]-n[0])&&v.pop(),t._tmax=(v[v.length-1]||{}).value,t._prevDateHead="",t._inCalcTicks=!0;var w,U,G=function(e){e.text=" ",t._prevDateHead=b},R=[];for(y=0;y<v.length;y++){var S=v[y].minor,L=v[y].value;b=t._prevDateHead,w=out.tickText(t,L,!1,S),void 0!==(U=v[y].periodX)&&(w.periodX=U,(U>l||U<s)&&(U>l&&(w.periodX=l),U<s&&(w.periodX=s),G(w))),v[y].skipLabel&&G(w),R.push(w)}return t._inCalcTicks=!1,R};var mut=[2,5,10],yut=[1,2,3,6,12],but=[1,2,5,10,15,30],Iut=[1,2,3,7,14],Cut=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],xut=[-.301,0,.301,.699,1],But=[15,30,45,90,180];function Aut(t,e,n){return e*wct.roundUp(t/e,n)}function Fut(t){var e=t.dtick;if(t._tickexponent=0,Act(e)||"string"==typeof e||(e=1),"category"!==t.type&&"multicategory"!==t.type||(t._tickround=null),"date"===t.type){var n=t.r2l(t.tick0),r=t.l2r(n).replace(/(^-|i)/g,""),i=r.length;if("M"===String(e).charAt(0))i>10||"01-01"!==r.substr(5)?t._tickround="d":t._tickround=+e.substr(1)%12==0?"y":"m";else if(e>=Yct&&i<=10||e>=15*Yct)t._tickround="d";else if(e>=Jct&&i<=16||e>=zct)t._tickround="M";else if(e>=jct&&i<=19||e>=Jct)t._tickround="S";else{var a=t.l2r(n+e).replace(/^-/,"").length;t._tickround=Math.max(i,a)-20,t._tickround<0&&(t._tickround=4)}}else if(Act(e)||"L"===e.charAt(0)){var o=t.range.map(t.r2d||Number);Act(e)||(e=Number(e.substr(1))),t._tickround=2-Math.floor(Math.log(e)/Math.LN10+.01);var s=Math.max(Math.abs(o[0]),Math.abs(o[1])),l=Math.floor(Math.log(s)/Math.LN10+.01),c=void 0===t.minexponent?3:t.minexponent;Math.abs(l)>c&&(Uut(t.exponentformat)&&!Gut(l)?t._tickexponent=3*Math.round((l-1)/3):t._tickexponent=l)}else t._tickround=null}function Qut(t,e,n){var r=t.tickfont||{};return{x:e,dx:0,dy:0,text:n||"",fontSize:r.size,font:r.family,fontColor:r.color}}out.autoTicks=function(t,e){var n;function r(t){return Math.pow(t,Math.floor(Math.log(e)/Math.LN10))}if("date"===t.type){t.tick0=wct.dateTick0(t.calendar,0);var i=2*e;if(i>Vct)e/=Vct,n=r(10),t.dtick="M"+12*Aut(e,n,mut);else if(i>Mct)e/=Mct,t.dtick="M"+Aut(e,1,yut);else if(i>Yct){t.dtick=Aut(e,Yct,t._hasDayOfWeekBreaks?[1,2,7,14]:Iut);var a=out.getTickFormat(t),o="period"===t.ticklabelmode;o&&(t._rawTick0=t.tick0),/%[uVW]/.test(a)?t.tick0=wct.dateTick0(t.calendar,2):t.tick0=wct.dateTick0(t.calendar,1),o&&(t._dowTick0=t.tick0)}else i>zct?t.dtick=Aut(e,zct,yut):i>Jct?t.dtick=Aut(e,Jct,but):i>jct?t.dtick=Aut(e,jct,but):(n=r(10),t.dtick=Aut(e,n,mut))}else if("log"===t.type){t.tick0=0;var s=wct.simpleMap(t.range,t.r2l);if(e>.7)t.dtick=Math.ceil(e);else if(Math.abs(s[1]-s[0])<1){var l=1.5*Math.abs((s[1]-s[0])/e);e=Math.abs(Math.pow(10,s[1])-Math.pow(10,s[0]))/l,n=r(10),t.dtick="L"+Aut(e,n,mut)}else t.dtick=e>.3?"D2":"D1"}else"category"===t.type||"multicategory"===t.type?(t.tick0=0,t.dtick=Math.ceil(Math.max(e,1))):Hut(t)?(t.tick0=0,n=1,t.dtick=Aut(e,n,But)):(t.tick0=0,n=r(10),t.dtick=Aut(e,n,mut));if(0===t.dtick&&(t.dtick=1),!Act(t.dtick)&&"string"!=typeof t.dtick){var c=t.dtick;throw t.dtick=1,"ax.dtick error: "+String(c)}},out.tickIncrement=function(t,e,n,r){var i=n?-1:1;if(Act(e))return wct.increment(t,i*e);var a=e.charAt(0),o=i*Number(e.substr(1));if("M"===a)return wct.incrementMonth(t,o,r);if("L"===a)return Math.log(Math.pow(10,t)+o)/Math.LN10;if("D"===a){var s="D2"===e?xut:Cut,l=t+.01*i,c=wct.roundUp(wct.mod(l,1),s,n);return Math.floor(l)+Math.log(Bct.round(Math.pow(10,c),1))/Math.LN10}throw"unrecognized dtick "+String(e)},out.tickFirst=function(t,e){var n=t.r2l||Number,r=wct.simpleMap(t.range,n,void 0,void 0,e),i=r[1]<r[0],a=i?Math.floor:Math.ceil,o=hut(r)[0],s=t.dtick,l=n(t.tick0);if(Act(s)){var c=a((o-l)/s)*s+l;return"category"!==t.type&&"multicategory"!==t.type||(c=wct.constrain(c,0,t._categories.length-1)),c}var u=s.charAt(0),d=Number(s.substr(1));if("M"===u){for(var h,g,f,p=0,v=l;p<10;){if(((h=out.tickIncrement(v,s,i,t.calendar))-o)*(v-o)<=0)return i?Math.min(v,h):Math.max(v,h);g=(o-(v+h)/2)/(h-v),f=u+(Math.abs(Math.round(g))||1)*d,v=out.tickIncrement(v,f,g<0?!i:i,t.calendar),p++}return wct.error("tickFirst did not converge",t),v}if("L"===u)return Math.log(a((Math.pow(10,o)-l)/d)*d+l)/Math.LN10;if("D"===u){var m="D2"===s?xut:Cut,y=wct.roundUp(wct.mod(o,1),m,i);return Math.floor(o)+Math.log(Bct.round(Math.pow(10,y),1))/Math.LN10}throw"unrecognized dtick "+String(s)},out.tickText=function(t,e,n,r){var i,a=Qut(t,e),o="array"===t.tickmode,s=n||o,l=t.type,c="category"===l?t.d2l_noadd:t.d2l;if(o&&Array.isArray(t.ticktext)){var u=wct.simpleMap(t.range,t.r2l),d=(Math.abs(u[1]-u[0])-(t._lBreaks||0))/1e4;for(i=0;i<t.ticktext.length&&!(Math.abs(e-c(t.tickvals[i]))<d);i++);if(i<t.ticktext.length)return a.text=String(t.ticktext[i]),a}function h(r){if(void 0===r)return!0;if(n)return"none"===r;var i={first:t._tmin,last:t._tmax}[r];return"all"!==r&&e!==i}var g=n?"never":"none"!==t.exponentformat&&h(t.showexponent)?"hide":"";if("date"===l?function(t,e,n,r){var i=t._tickround,a=n&&t.hoverformat||out.getTickFormat(t);r&&(i=Act(i)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[i]);var o,s=wct.formatDate(e.x,a,i,t._dateFormat,t.calendar,t._extraFormat),l=s.indexOf("\n");-1!==l&&(o=s.substr(l+1),s=s.substr(0,l));r&&("00:00:00"===s||"00:00"===s?(s=o,o=""):8===s.length&&(s=s.replace(/:00$/,"")));if(o)if(n)"d"===i?s+=", "+o:s=o+(s?", "+s:"");else if(t._inCalcTicks&&t._prevDateHead===o){var c=Yut(t),u=t._trueSide||t.side;(!c&&"top"===u||c&&"bottom"===u)&&(s+="<br> ")}else t._prevDateHead=o,s+="<br>"+o;e.text=s}(t,a,n,s):"log"===l?function(t,e,n,r,i){var a=t.dtick,o=e.x,s=t.tickformat,l="string"==typeof a&&a.charAt(0);"never"===i&&(i="");r&&"L"!==l&&(a="L3",l="L");if(s||"L"===l)e.text=Rut(Math.pow(10,o),t,i,r);else if(Act(a)||"D"===l&&wct.mod(o+.01,1)<.1){var c=Math.round(o),u=Math.abs(c),d=t.exponentformat;"power"===d||Uut(d)&&Gut(c)?(e.text=0===c?1:1===c?"10":"10<sup>"+(c>1?"":Pct)+u+"</sup>",e.fontSize*=1.25):("e"===d||"E"===d)&&u>2?e.text="1"+d+(c>0?"+":Pct)+u:(e.text=Rut(Math.pow(10,o),t,"","fakehover"),"D1"===a&&"y"===t._id.charAt(0)&&(e.dy-=e.fontSize/6))}else{if("D"!==l)throw"unrecognized dtick "+String(a);e.text=String(Math.round(Math.pow(10,wct.mod(o,1)))),e.fontSize*=.75}if("D1"===t.dtick){var h=String(e.text).charAt(0);"0"!==h&&"1"!==h||("y"===t._id.charAt(0)?e.dx-=e.fontSize/4:(e.dy+=e.fontSize/2,e.dx+=(t.range[1]>t.range[0]?1:-1)*e.fontSize*(o<0?.5:.25)))}}(t,a,0,s,g):"category"===l?function(t,e){var n=t._categories[Math.round(e.x)];void 0===n&&(n="");e.text=String(n)}(t,a):"multicategory"===l?function(t,e,n){var r=Math.round(e.x),i=t._categories[r]||[],a=void 0===i[1]?"":String(i[1]),o=void 0===i[0]?"":String(i[0]);n?e.text=o+" - "+a:(e.text=a,e.text2=o)}(t,a,n):Hut(t)?function(t,e,n,r,i){if("radians"!==t.thetaunit||n)e.text=Rut(e.x,t,i,r);else{var a=e.x/180;if(0===a)e.text="0";else{var o=function(t){function e(t,e){return Math.abs(t-e)<=1e-6}function n(t,r){return e(r,0)?t:n(r,t%r)}function r(t){for(var n=1;!e(Math.round(t*n)/n,t);)n*=10;return n}var i=r(t),a=t*i,o=Math.abs(n(a,i));return[Math.round(a/o),Math.round(i/o)]}(a);if(o[1]>=100)e.text=Rut(wct.deg2rad(e.x),t,i,r);else{var s=e.x<0;1===o[1]?1===o[0]?e.text="π":e.text=o[0]+"π":e.text=["<sup>",o[0],"</sup>","⁄","<sub>",o[1],"</sub>","π"].join(""),s&&(e.text=Pct+e.text)}}}}(t,a,n,s,g):function(t,e,n,r,i){"never"===i?i="":"all"===t.showexponent&&Math.abs(e.x/t.dtick)<1e-6&&(i="hide");e.text=Rut(e.x,t,i,r)}(t,a,0,s,g),r||(t.tickprefix&&!h(t.showtickprefix)&&(a.text=t.tickprefix+a.text),t.ticksuffix&&!h(t.showticksuffix)&&(a.text+=t.ticksuffix)),"boundaries"===t.tickson||t.showdividers){var f=function(e){var n=t.l2p(e);return n>=0&&n<=t._length?e:null};a.xbnd=[f(a.x-.5),f(a.x+t.dtick-.5)]}return a},out.hoverLabelText=function(t,e,n){n&&(t=wct.extendFlat({},t,{hoverformat:n}));var r=Array.isArray(e)?e[0]:e,i=Array.isArray(e)?e[1]:void 0;if(void 0!==i&&i!==r)return out.hoverLabelText(t,r,n)+" - "+out.hoverLabelText(t,i,n);var a="log"===t.type&&r<=0,o=out.tickText(t,t.c2l(a?-r:r),"hover").text;return a?0===r?"0":Pct+o:o};var wut=["f","p","n","μ","m","","k","M","G","T"];function Uut(t){return"SI"===t||"B"===t}function Gut(t){return t>14||t<-15}function Rut(t,e,n,r){var i=t<0,a=e._tickround,o=n||e.exponentformat||"B",s=e._tickexponent,l=out.getTickFormat(e),c=e.separatethousands;if(r){var u={exponentformat:o,minexponent:e.minexponent,dtick:"none"===e.showexponent?e.dtick:Act(t)&&Math.abs(t)||1,range:"none"===e.showexponent?e.range.map(e.r2d):[0,t||1]};Fut(u),a=(Number(u._tickround)||0)+4,s=u._tickexponent,e.hoverformat&&(l=e.hoverformat)}if(l)return e._numFormat(l)(t).replace(/-/g,Pct);var d,h=Math.pow(10,-a)/2;if("none"===o&&(s=0),(t=Math.abs(t))<h)t="0",i=!1;else{if(t+=h,s&&(t*=Math.pow(10,-s),a+=s),0===a)t=String(Math.floor(t));else if(a<0){t=(t=String(Math.round(t))).substr(0,t.length+a);for(var g=a;g<0;g++)t+="0"}else{var f=(t=String(t)).indexOf(".")+1;f&&(t=t.substr(0,f+a).replace(/\.?0+$/,""))}t=wct.numSeparate(t,e._separators,c)}s&&"hide"!==o&&(Uut(o)&&Gut(s)&&(o="power"),d=s<0?Pct+-s:"power"!==o?"+"+s:String(s),"e"===o||"E"===o?t+=o+d:"power"===o?t+="×10<sup>"+d+"</sup>":"B"===o&&9===s?t+="B":Uut(o)&&(t+=wut[s/3+5]));return i?Pct+t:t}function Sut(t,e){for(var n=[],r={},i=0;i<e.length;i++){var a=e[i];r[a.text2]?r[a.text2].push(a.x):r[a.text2]=[a.x]}for(var o in r)n.push(Qut(t,wct.interp(r[o],.5),o));return n}function Lut(t){return void 0!==t.periodX?t.periodX:t.x}function _ut(t){return[t.text,t.x,t.axInfo,t.font,t.fontSize,t.fontColor].join("_")}function Eut(t){var e=t.title.font.size,n=(t.title.text.match(Gct.BR_TAG_ALL)||[]).length;return t.title.hasOwnProperty("standoff")?n?e*(rut+n*iut):e*rut:n?e*(n+1)*iut:e}function kut(t,e){var n=t.l2p(e);return n>1&&n<t._length-1}function Vut(t){var e=Bct.select(t),n=e.select(".text-math-group");return n.empty()?e.select("text"):n}function Zut(t){return t._id+".automargin"}function Nut(t){return Zut(t)+".mirror"}function Tut(t){return t._id+".rangeslider"}function Xut(t,e){for(var n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n])}function Wut(t,e,n){var r,i,a=[],o=[],s=t.layout;for(r=0;r<e.length;r++)a.push(out.getFromId(t,e[r]));for(r=0;r<n.length;r++)o.push(out.getFromId(t,n[r]));var l=Object.keys(_ct),c=["anchor","domain","overlaying","position","side","tickangle","editType"],u=["linear","log"];for(r=0;r<l.length;r++){var d=l[r],h=a[0][d],g=o[0][d],f=!0,p=!1,v=!1;if("_"!==d.charAt(0)&&"function"!=typeof h&&-1===c.indexOf(d)){for(i=1;i<a.length&&f;i++){var m=a[i][d];"type"===d&&-1!==u.indexOf(h)&&-1!==u.indexOf(m)&&h!==m?p=!0:m!==h&&(f=!1)}for(i=1;i<o.length&&f;i++){var y=o[i][d];"type"===d&&-1!==u.indexOf(g)&&-1!==u.indexOf(y)&&g!==y?v=!0:o[i][d]!==g&&(f=!1)}f&&(p&&(s[a[0]._name].type="linear"),v&&(s[o[0]._name].type="linear"),Mut(s,d,a,o,t._fullLayout._dfltTitle))}}for(r=0;r<t._fullLayout.annotations.length;r++){var b=t._fullLayout.annotations[r];-1!==e.indexOf(b.xref)&&-1!==n.indexOf(b.yref)&&wct.swapAttrs(s.annotations[r],["?"])}}function Mut(t,e,n,r,i){var a,o=wct.nestedProperty,s=o(t[n[0]._name],e).get(),l=o(t[r[0]._name],e).get();for("title"===e&&(s&&s.text===i.x&&(s.text=i.y),l&&l.text===i.y&&(l.text=i.x)),a=0;a<n.length;a++)o(t,n[a]._name+"."+e).set(l);for(a=0;a<r.length;a++)o(t,r[a]._name+"."+e).set(s)}function Hut(t){return"angularaxis"===t._id}function Dut(t,e){for(var n=e._rangebreaks.length,r=0;r<n;r++){var i=e._rangebreaks[r];if(t>=i.min&&t<i.max)return i.max}return t}function Yut(t){return-1!==(t.ticklabelposition||"").indexOf("inside")}function Out(t,e){Yut(t._anchorAxis||{})&&t._hideCounterAxisInsideTickLabels&&t._hideCounterAxisInsideTickLabels(e)}out.getTickFormat=function(t){var e,n,r;function i(t){return"string"!=typeof t?t:Number(t.replace("M",""))*Mct}function a(t,e){var n=["L","D"];if(o(t)===o(e)){if("number"==typeof t)return t-e;var r=n.indexOf(t.charAt(0)),i=n.indexOf(e.charAt(0));return r===i?Number(t.replace(/(L|D)/g,""))-Number(e.replace(/(L|D)/g,"")):r-i}return"number"==typeof t?1:-1}function s(t,e,n){var r=n||function(t){return t},i=e[0],a=e[1];return(!i&&"number"!=typeof i||r(i)<=r(t))&&(!a&&"number"!=typeof a||r(a)>=r(t))}function l(t,e){var n=null===e[0],r=null===e[1],i=a(t,e[0])>=0,o=a(t,e[1])<=0;return(n||i)&&(r||o)}if(t.tickformatstops&&t.tickformatstops.length>0)switch(t.type){case"date":case"linear":for(e=0;e<t.tickformatstops.length;e++)if((r=t.tickformatstops[e]).enabled&&s(t.dtick,r.dtickrange,i)){n=r;break}break;case"log":for(e=0;e<t.tickformatstops.length;e++)if((r=t.tickformatstops[e]).enabled&&l(t.dtick,r.dtickrange)){n=r;break}}return n?n.value:t.tickformat},out.getSubplots=function(t,e){var n=t._fullLayout._subplots,r=n.cartesian.concat(n.gl2d||[]),i=e?out.findSubplotsWithAxis(r,e):r;return i.sort((function(t,e){var n=t.substr(1).split("y"),r=e.substr(1).split("y");return n[0]===r[0]?+n[1]-+r[1]:+n[0]-+r[0]})),i},out.findSubplotsWithAxis=function(t,e){for(var n=new RegExp("x"===e._id.charAt(0)?"^"+e._id+"y":e._id+"$"),r=[],i=0;i<t.length;i++){var a=t[i];n.test(a)&&r.push(a)}return r},out.makeClipPaths=function(t){var e=t._fullLayout;if(!e._hasOnlyLargeSploms){var n,r,i={_offset:0,_length:e.width,_id:""},a={_offset:0,_length:e.height,_id:""},o=out.list(t,"x",!0),s=out.list(t,"y",!0),l=[];for(n=0;n<o.length;n++)for(l.push({x:o[n],y:a}),r=0;r<s.length;r++)0===n&&l.push({x:i,y:s[r]}),l.push({x:o[n],y:s[r]});var c=e._clips.selectAll(".axesclip").data(l,(function(t){return t.x._id+t.y._id}));c.enter().append("clipPath").classed("axesclip",!0).attr("id",(function(t){return"clip"+e._uid+t.x._id+t.y._id})).append("rect"),c.exit().remove(),c.each((function(t){Bct.select(this).select("rect").attr({x:t.x._offset||0,y:t.y._offset||0,width:t.x._length||1,height:t.y._length||1})}))}},out.draw=function(t,e,n){var r=t._fullLayout;"redraw"===e&&r._paper.selectAll("g.subplot").each((function(t){var e=t[0],n=r._plots[e];if(n){var i=n.xaxis,a=n.yaxis;n.xaxislayer.selectAll("."+i._id+"tick").remove(),n.yaxislayer.selectAll("."+a._id+"tick").remove(),n.xaxislayer.selectAll("."+i._id+"tick2").remove(),n.yaxislayer.selectAll("."+a._id+"tick2").remove(),n.xaxislayer.selectAll("."+i._id+"divider").remove(),n.yaxislayer.selectAll("."+a._id+"divider").remove(),n.gridlayer&&n.gridlayer.selectAll("path").remove(),n.zerolinelayer&&n.zerolinelayer.selectAll("path").remove(),r._infolayer.select(".g-"+i._id+"title").remove(),r._infolayer.select(".g-"+a._id+"title").remove()}}));var i=e&&"redraw"!==e?e:out.listIds(t);return wct.syncOrAsync(i.map((function(e){return function(){if(e){var r=out.getFromId(t,e),i=out.drawOne(t,r,n);return r._r=r.range.slice(),r._rl=wct.simpleMap(r._r,r.r2l),i}}})))},out.drawOne=function(t,e,n){var r,i,a;n=n||{},e.setScale();var o=t._fullLayout,s=e._id,l=s.charAt(0),c=out.counterLetter(s),u=o._plots[e._mainSubplot];if(u){var d=u[l+"axislayer"],h=e._mainLinePosition,g=e._mainMirrorPosition,f=e._vals=out.calcTicks(e),p=[e.mirror,h,g].join("_");for(r=0;r<f.length;r++)f[r].axInfo=p;e._selections={},e._tickAngles&&(e._prevTickAngles=e._tickAngles),e._tickAngles={},e._depth=null;var v={};if(e.visible){var m,y,b=out.makeTransTickFn(e),I=out.makeTransTickLabelFn(e),C="inside"===e.ticks,x="outside"===e.ticks;if("boundaries"===e.tickson){var B=function(t,e){var n,r=[],i=function(t,e){var n=t.xbnd[e];null!==n&&r.push(wct.extendFlat({},t,{x:n}))};if(e.length){for(n=0;n<e.length;n++)i(e[n],0);i(e[n-1],1)}return r}(0,f);y=out.clipEnds(e,B),m=C?y:B}else y=out.clipEnds(e,f),m=C&&"period"!==e.ticklabelmode?y:f;var A=e._gridVals=y,F=function(t,e){var n,r,i=[],a=e.length&&e[e.length-1].x<e[0].x,o=function(t,e){var n=t.xbnd[e];null!==n&&i.push(wct.extendFlat({},t,{x:n}))};if(t.showdividers&&e.length){for(n=0;n<e.length;n++){var s=e[n];s.text2!==r&&o(s,a?1:0),r=s.text2}o(e[n-1],a?0:1)}return i}(e,f);if(!o._hasOnlyLargeSploms){var Q=e._subplotsWith,w={};for(r=0;r<Q.length;r++){i=Q[r];var U=(a=o._plots[i])[c+"axis"],G=U._mainAxis._id;if(!w[G]){w[G]=1;var R="x"===l?"M0,"+U._offset+"v"+U._length:"M"+U._offset+",0h"+U._length;out.drawGrid(t,e,{vals:A,counterAxis:U,layer:a.gridlayer.select("."+s),path:R,transFn:b}),out.drawZeroLine(t,e,{counterAxis:U,layer:a.zerolinelayer,path:R,transFn:b})}}}var S=out.getTickSigns(e),L=[];if(e.ticks){var _,E,k,V=out.makeTickPath(e,h,S[2]);if(e._anchorAxis&&e.mirror&&!0!==e.mirror?(_=out.makeTickPath(e,g,S[3]),E=V+_):(_="",E=V),e.showdividers&&x&&"boundaries"===e.tickson){var Z={};for(r=0;r<F.length;r++)Z[F[r].x]=1;k=function(t){return Z[t.x]?_:E}}else k=E;out.drawTicks(t,e,{vals:m,layer:d,path:k,transFn:b}),"allticks"===e.mirror&&(L=Object.keys(e._linepositions||{}))}for(r=0;r<L.length;r++){i=L[r],a=o._plots[i];var N=e._linepositions[i]||[],T=out.makeTickPath(e,N[0],S[0])+out.makeTickPath(e,N[1],S[1]);out.drawTicks(t,e,{vals:m,layer:a[l+"axislayer"],path:T,transFn:b})}var X=[];if(X.push((function(){return out.drawLabels(t,e,{vals:f,layer:d,plotinfo:a,transFn:I,labelFns:out.makeLabelFns(e,h)})})),"multicategory"===e.type){var W={x:2,y:10}[l];X.push((function(){var n={x:"height",y:"width"}[l],r=H()[n]+W+(e._tickAngles[s+"tick"]?e.tickfont.size*iut:0);return out.drawLabels(t,e,{vals:Sut(e,f),layer:d,cls:s+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:b,labelFns:out.makeLabelFns(e,h+r*S[4])})})),X.push((function(){return e._depth=S[4]*(H("tick2")[e.side]-h),function(t,e,n){var r=e._id+"divider",i=n.vals,a=n.layer.selectAll("path."+r).data(i,_ut);a.exit().remove(),a.enter().insert("path",":first-child").classed(r,1).classed("crisp",1).call(Sct.stroke,e.dividercolor).style("stroke-width",Lct.crispRound(t,e.dividerwidth,1)+"px"),a.attr("transform",n.transFn).attr("d",n.path)}(t,e,{vals:F,layer:d,path:out.makeTickPath(e,h,S[4],e._depth),transFn:b})}))}else e.title.hasOwnProperty("standoff")&&X.push((function(){e._depth=S[4]*(H()[e.side]-h)}));var M=Qct.getComponentMethod("rangeslider","isVisible")(e);return X.push((function(){var n,r,i,a,s=e.side.charAt(0),u=aut[e.side].charAt(0),d=out.getPxPosition(t,e),h=x?e.ticklen:0;if((e.automargin||M)&&("multicategory"===e.type?n=H("tick2"):(n=H(),"x"===l&&"b"===s&&(e._depth=Math.max(n.width>0?n.bottom-d:0,h)))),e.automargin){r={x:0,y:0,r:0,l:0,t:0,b:0};var g=[0,1];if("x"===l){if("b"===s?r[s]=e._depth:(r[s]=e._depth=Math.max(n.width>0?d-n.top:0,h),g.reverse()),n.width>0){var f=n.right-(e._offset+e._length);f>0&&(r.xr=1,r.r=f);var p=e._offset-n.left;p>0&&(r.xl=0,r.l=p)}}else if("l"===s?r[s]=e._depth=Math.max(n.height>0?d-n.left:0,h):(r[s]=e._depth=Math.max(n.height>0?n.right-d:0,h),g.reverse()),n.height>0){var v=n.bottom-(e._offset+e._length);v>0&&(r.yb=0,r.b=v);var m=e._offset-n.top;m>0&&(r.yt=1,r.t=m)}r[c]="free"===e.anchor?e.position:e._anchorAxis.domain[g[0]],e.title.text!==o._dfltTitle[l]&&(r[s]+=Eut(e)+(e.title.standoff||0)),e.mirror&&"free"!==e.anchor&&((i={x:0,y:0,r:0,l:0,t:0,b:0})[u]=e.linewidth,e.mirror&&!0!==e.mirror&&(i[u]+=h),!0===e.mirror||"ticks"===e.mirror?i[c]=e._anchorAxis.domain[g[1]]:"all"!==e.mirror&&"allticks"!==e.mirror||(i[c]=[e._counterDomainMin,e._counterDomainMax][g[1]]))}M&&(a=Qct.getComponentMethod("rangeslider","autoMarginOpts")(t,e)),Fct.autoMargin(t,Zut(e),r),Fct.autoMargin(t,Nut(e),i),Fct.autoMargin(t,Tut(e),a)})),n.skipTitle||M&&"bottom"===e.side||X.push((function(){return function(t,e){var n,r=t._fullLayout,i=e._id,a=i.charAt(0),o=e.title.font.size;if(e.title.hasOwnProperty("standoff"))n=e._depth+e.title.standoff+Eut(e);else{var s=Yut(e);if("multicategory"===e.type)n=e._depth;else{var l=1.5*o;s&&(l=.5*o,"outside"===e.ticks&&(l+=e.ticklen)),n=10+l+(e.linewidth?e.linewidth-1:0)}s||(n+="x"===a?"top"===e.side?o*(e.showticklabels?1:0):o*(e.showticklabels?1.5:.5):"right"===e.side?o*(e.showticklabels?1:.5):o*(e.showticklabels?.5:0))}var c,u,d,h,g=out.getPxPosition(t,e);"x"===a?(u=e._offset+e._length/2,d="top"===e.side?g-n:g+n):(d=e._offset+e._length/2,u="right"===e.side?g+n:g-n,c={rotate:"-90",offset:0});if("multicategory"!==e.type){var f=e._selections[e._id+"tick"];if(h={selection:f,side:e.side},f&&f.node()&&f.node().parentNode){var p=Lct.getTranslate(f.node().parentNode);h.offsetLeft=p.x,h.offsetTop=p.y}e.title.hasOwnProperty("standoff")&&(h.pad=0)}return Rct.draw(t,i+"title",{propContainer:e,propName:e._name+".title.text",placeholder:r._dfltTitle[a],avoid:h,transform:c,attributes:{x:u,y:d,"text-anchor":"middle"}})}(t,e)})),wct.syncOrAsync(X)}}function H(t){var n=s+(t||"tick");return v[n]||(v[n]=function(t,e){var n,r,i,a;t._selections[e].size()?(n=1/0,r=-1/0,i=1/0,a=-1/0,t._selections[e].each((function(){var t=Vut(this),e=Lct.bBox(t.node().parentNode);n=Math.min(n,e.top),r=Math.max(r,e.bottom),i=Math.min(i,e.left),a=Math.max(a,e.right)}))):(n=0,r=0,i=0,a=0);return{top:n,bottom:r,left:i,right:a,height:r-n,width:a-i}}(e,n)),v[n]}},out.getTickSigns=function(t){var e=t._id.charAt(0),n={x:"top",y:"right"}[e],r=t.side===n?1:-1,i=[-1,1,r,-r];return"inside"!==t.ticks==("x"===e)&&(i=i.map((function(t){return-t}))),t.side&&i.push({l:-1,t:-1,r:1,b:1}[t.side.charAt(0)]),i},out.makeTransTickFn=function(t){return"x"===t._id.charAt(0)?function(e){return Uct(t._offset+t.l2p(e.x),0)}:function(e){return Uct(0,t._offset+t.l2p(e.x))}},out.makeTransTickLabelFn=function(t){var e=function(t){var e=t.ticklabelposition||"",n=function(t){return-1!==e.indexOf(t)},r=n("top"),i=n("left"),a=n("right"),o=n("bottom"),s=n("inside"),l=o||i||r||a;if(!l&&!s)return[0,0];var c=t.side,u=l?(t.tickwidth||0)/2:0,d=3,h=t.tickfont?t.tickfont.size:12;(o||r)&&(u+=h*rut,d+=(t.linewidth||0)/2);(i||a)&&(u+=(t.linewidth||0)/2,d+=3);s&&"top"===c&&(d-=h*(1-rut));(i||r)&&(u=-u);"bottom"!==c&&"right"!==c||(d=-d);return[l?u:0,s?d:0]}(t),n=e[0],r=e[1];return"x"===t._id.charAt(0)?function(e){return Uct(n+t._offset+t.l2p(Lut(e)),r)}:function(e){return Uct(r,n+t._offset+t.l2p(Lut(e)))}},out.makeTickPath=function(t,e,n,r){r=void 0!==r?r:t.ticklen;var i=t._id.charAt(0),a=(t.linewidth||1)/2;return"x"===i?"M0,"+(e+a*n)+"v"+r*n:"M"+(e+a*n)+",0h"+r*n},out.makeLabelFns=function(t,e,n){var r=t.ticklabelposition||"",i=function(t){return-1!==r.indexOf(t)},a=i("top"),o=i("left"),s=i("right"),l=i("bottom")||o||a||s,c=i("inside"),u="inside"===r&&"inside"===t.ticks||!c&&"outside"===t.ticks&&"boundaries"!==t.tickson,d=0,h=0,g=u?t.ticklen:0;if(c?g*=-1:l&&(g=0),u&&(d+=g,n)){var f=wct.deg2rad(n);d=g*Math.cos(f)+1,h=g*Math.sin(f)}t.showticklabels&&(u||t.showline)&&(d+=.2*t.tickfont.size);var p,v,m,y,b,I={labelStandoff:d+=(t.linewidth||1)/2*(c?-1:1),labelShift:h},C=0,x=t.side,B=t._id.charAt(0),A=t.tickangle;if("x"===B)y=(b=!c&&"bottom"===x||c&&"top"===x)?1:-1,c&&(y*=-1),p=h*y,v=e+d*y,m=b?1:-.2,90===Math.abs(A)&&(c?m+=nut:m=-90===A&&"bottom"===x?rut:90===A&&"top"===x?nut:.5,C=nut/2*(A/90)),I.xFn=function(t){return t.dx+p+C*t.fontSize},I.yFn=function(t){return t.dy+v+t.fontSize*m},I.anchorFn=function(t,e){if(l){if(o)return"end";if(s)return"start"}return Act(e)&&0!==e&&180!==e?e*y<0!==c?"end":"start":"middle"},I.heightFn=function(e,n,r){return n<-60||n>60?-.5*r:"top"===t.side!==c?-r:0};else if("y"===B){if(y=(b=!c&&"left"===x||c&&"right"===x)?1:-1,c&&(y*=-1),p=d,v=h*y,m=0,c||90!==Math.abs(A)||(m=-90===A&&"left"===x||90===A&&"right"===x?rut:.5),c){var F=Act(A)?+A:0;if(0!==F){var Q=wct.deg2rad(F);C=Math.abs(Math.sin(Q))*rut*y,m=0}}I.xFn=function(t){return t.dx+e-(p+t.fontSize*m)*y+C*t.fontSize},I.yFn=function(t){return t.dy+v+t.fontSize*nut},I.anchorFn=function(t,e){return Act(e)&&90===Math.abs(e)?"middle":b?"end":"start"},I.heightFn=function(e,n,r){return"right"===t.side&&(n*=-1),n<-30?-r:n<30?-.5*r:0}}return I},out.drawTicks=function(t,e,n){n=n||{};var r=e._id+"tick",i=n.vals;"period"===e.ticklabelmode&&(i=i.slice()).shift();var a=n.layer.selectAll("path."+r).data(e.ticks?i:[],_ut);a.exit().remove(),a.enter().append("path").classed(r,1).classed("ticks",1).classed("crisp",!1!==n.crisp).call(Sct.stroke,e.tickcolor).style("stroke-width",Lct.crispRound(t,e.tickwidth,1)+"px").attr("d",n.path).style("display",null),Out(e,[tut]),a.attr("transform",n.transFn)},out.drawGrid=function(t,e,n){n=n||{};var r=e._id+"grid",i=n.vals,a=n.counterAxis;if(!1===e.showgrid)i=[];else if(a&&out.shouldShowZeroLine(t,e,a))for(var o="array"===e.tickmode,s=0;s<i.length;s++){var l=i[s].x;if(o?!l:Math.abs(l)<e.dtick/100){if(i=i.slice(0,s).concat(i.slice(s+1)),!o)break;s--}}var c=n.layer.selectAll("path."+r).data(i,_ut);c.exit().remove(),c.enter().append("path").classed(r,1).classed("crisp",!1!==n.crisp),e._gw=Lct.crispRound(t,e.gridwidth,1),c.attr("transform",n.transFn).attr("d",n.path).call(Sct.stroke,e.gridcolor||"#ddd").style("stroke-width",e._gw+"px").style("display",null),Out(e,[$ct]),"function"==typeof n.path&&c.attr("d",n.path)},out.drawZeroLine=function(t,e,n){n=n||n;var r=e._id+"zl",i=out.shouldShowZeroLine(t,e,n.counterAxis),a=n.layer.selectAll("path."+r).data(i?[{x:0,id:e._id}]:[]);a.exit().remove(),a.enter().append("path").classed(r,1).classed("zl",1).classed("crisp",!1!==n.crisp).each((function(){n.layer.selectAll("path").sort((function(t,e){return cut(t.id,e.id)}))})),a.attr("transform",n.transFn).attr("d",n.path).call(Sct.stroke,e.zerolinecolor||Sct.defaultLine).style("stroke-width",Lct.crispRound(t,e.zerolinewidth,e._gw||1)+"px").style("display",null),Out(e,[qct])},out.drawLabels=function(t,e,n){n=n||{};var r=t._fullLayout,i=e._id,a=i.charAt(0),o=n.cls||i+"tick",s=n.vals,l=n.labelFns,c=n.secondary?0:e.tickangle,u=(e._prevTickAngles||{})[o],d=n.layer.selectAll("g."+o).data(e.showticklabels?s:[],_ut),h=[];function g(t,r){t.each((function(t){var i=Bct.select(this),a=i.select(".text-math-group"),o=l.anchorFn(t,r),s=n.transFn.call(i.node(),t)+(Act(r)&&0!=+r?" rotate("+r+","+l.xFn(t)+","+(l.yFn(t)-t.fontSize/2)+")":""),c=Gct.lineCount(i),u=iut*t.fontSize,d=l.heightFn(t,Act(r)?+r:0,(c-1)*u);if(d&&(s+=Uct(0,d)),a.empty()){var h=i.select("text");h.attr({transform:s,"text-anchor":o}),h.style("opacity",1),e._adjustTickLabelsOverflow&&e._adjustTickLabelsOverflow()}else{var g=Lct.bBox(a.node()).width*{end:-.5,start:.5}[o];a.attr("transform",s+Uct(g,0))}}))}d.enter().append("g").classed(o,1).append("text").attr("text-anchor","middle").each((function(e){var n=Bct.select(this),r=t._promises.length;n.call(Gct.positionText,l.xFn(e),l.yFn(e)).call(Lct.font,e.font,e.fontSize,e.fontColor).text(e.text).call(Gct.convertToTspans,t),t._promises[r]?h.push(t._promises.pop().then((function(){g(n,c)}))):g(n,c)})),Out(e,[eut]),d.exit().remove(),n.repositionOnUpdate&&d.each((function(t){Bct.select(this).select("text").call(Gct.positionText,l.xFn(t),l.yFn(t))})),e._adjustTickLabelsOverflow=function(){var n=e.ticklabeloverflow;if(n&&"allow"!==n){var i=-1!==n.indexOf("hide"),a="x"===e._id.charAt(0),o=0,s=a?t._fullLayout.width:t._fullLayout.height;if(-1!==n.indexOf("domain")){var l=wct.simpleMap(e.range,e.r2l);o=e.l2p(l[0])+e._offset,s=e.l2p(l[1])+e._offset}var c=Math.min(o,s),u=Math.max(o,s),h=e.side,g=1/0,f=-1/0;for(var p in d.each((function(t){var n=Bct.select(this);if(n.select(".text-math-group").empty()){var r=Lct.bBox(n.node()),o=0;a?(r.right>u||r.left<c)&&(o=1):(r.bottom>u||r.top+(e.tickangle?0:t.fontSize/4)<c)&&(o=1);var s=n.select("text");o?i&&s.style("opacity",0):(s.style("opacity",1),g="bottom"===h||"right"===h?Math.min(g,a?r.top:r.left):-1/0,f="top"===h||"left"===h?Math.max(f,a?r.bottom:r.right):1/0)}})),r._plots){var v=r._plots[p];if(e._id===v.xaxis._id||e._id===v.yaxis._id){var m=a?v.yaxis:v.xaxis;m&&(m["_visibleLabelMin_"+e._id]=g,m["_visibleLabelMax_"+e._id]=f)}}}},e._hideCounterAxisInsideTickLabels=function(t){var n="x"===e._id.charAt(0),i=[];for(var a in r._plots){var o=r._plots[a];e._id!==o.xaxis._id&&e._id!==o.yaxis._id||i.push(n?o.yaxis:o.xaxis)}i.forEach((function(n,i){n&&Yut(n)&&(t||[qct,$ct,tut,eut]).forEach((function(t){var a="tick"===t.K&&"text"===t.L&&"period"===e.ticklabelmode,o=r._plots[e._mainSubplot];(t.K===qct.K?o.zerolinelayer.selectAll("."+e._id+"zl"):t.K===$ct.K?o.gridlayer.selectAll("."+e._id):o[e._id.charAt(0)+"axislayer"]).each((function(){var r=Bct.select(this);t.L&&(r=r.selectAll(t.L)),r.each((function(r){var o=e.l2p(a?Lut(r):r.x)+e._offset,s=Bct.select(this);o<e["_visibleLabelMax_"+n._id]&&o>e["_visibleLabelMin_"+n._id]?s.style("display","none"):"tick"!==t.K||i||s.style("display",null)}))}))}))}))},g(d,u+1?u:c);var f=null;e._selections&&(e._selections[o]=d);var p=[function(){return h.length&&Promise.all(h)}];e.automargin&&r._redrawFromAutoMarginCount&&90===u?(f=90,p.push((function(){g(d,u)}))):p.push((function(){if(g(d,c),s.length&&"x"===a&&!Act(c)&&("log"!==e.type||"D"!==String(e.dtick).charAt(0))){f=0;var t,r=0,i=[];if(d.each((function(t){r=Math.max(r,t.fontSize);var n=e.l2p(t.x),a=Vut(this),o=Lct.bBox(a.node());i.push({top:0,bottom:10,height:10,left:n-o.width/2,right:n+o.width/2+2,width:o.width+2})})),"boundaries"!==e.tickson&&!e.showdividers||n.secondary){var o=s.length,l=Math.abs((s[o-1].x-s[0].x)*e._m)/(o-1),u=e.ticklabelposition||"",h=function(t){return-1!==u.indexOf(t)},p=h("top"),v=h("left"),m=h("right"),y=h("bottom")||v||p||m?(e.tickwidth||0)+6:0,b=l<2.5*r||"multicategory"===e.type||"realaxis"===e._name;for(t=0;t<i.length-1;t++)if(wct.bBoxIntersect(i[t],i[t+1],y)){f=b?90:30;break}}else{var I=2;for(e.ticks&&(I+=e.tickwidth/2),t=0;t<i.length;t++){var C=s[t].xbnd,x=i[t];if(null!==C[0]&&x.left-e.l2p(C[0])<I||null!==C[1]&&e.l2p(C[1])-x.right<I){f=90;break}}}f&&g(d,f)}})),e._tickAngles&&p.push((function(){e._tickAngles[o]=null===f?Act(c)?c:0:f}));var v=e._anchorAxis;v&&v.autorange&&Yut(e)&&!uut(r,e._id)&&(r._insideTickLabelsAutorange||(r._insideTickLabelsAutorange={}),r._insideTickLabelsAutorange[v._name+".autorange"]=v.autorange,p.push((function(){d.each((function(t,n){var r=Vut(this);r.select(".text-math-group").empty()&&(e._vals[n].bb=Lct.bBox(r.node()))}))})));var m=wct.syncOrAsync(p);return m&&m.then&&t._promises.push(m),m},out.getPxPosition=function(t,e){var n,r=t._fullLayout._size,i=e._id.charAt(0),a=e.side;return"free"!==e.anchor?n=e._anchorAxis:"x"===i?n={_offset:r.t+(1-(e.position||0))*r.h,_length:0}:"y"===i&&(n={_offset:r.l+(e.position||0)*r.w,_length:0}),"top"===a||"left"===a?n._offset:"bottom"===a||"right"===a?n._offset+n._length:void 0},out.shouldShowZeroLine=function(t,e,n){var r=wct.simpleMap(e.range,e.r2l);return r[0]*r[1]<=0&&e.zeroline&&("linear"===e.type||"-"===e.type)&&!(e.rangebreaks&&e.maskBreaks(0)===Kct)&&(kut(e,0)||!function(t,e,n,r){var i=n._mainAxis;if(!i)return;var a=t._fullLayout,o=e._id.charAt(0),s=out.counterLetter(e._id),l=e._offset+(Math.abs(r[0])<Math.abs(r[1])==("x"===o)?0:e._length);function c(t){if(!t.showline||!t.linewidth)return!1;var n=Math.max((t.linewidth+e.zerolinewidth)/2,1);function r(t){return"number"==typeof t&&Math.abs(t-l)<n}if(r(t._mainLinePosition)||r(t._mainMirrorPosition))return!0;var i=t._linepositions||{};for(var a in i)if(r(i[a][0])||r(i[a][1]))return!0}var u=a._plots[n._mainSubplot];if(!(u.mainplotinfo||u).overlays.length)return c(n);for(var d=out.list(t,s),h=0;h<d.length;h++){var g=d[h];if(g._mainAxis===i&&c(g))return!0}}(t,e,n,r)||function(t,e){for(var n=t._fullData,r=e._mainSubplot,i=e._id.charAt(0),a=0;a<n.length;a++){var o=n[a];if(!0===o.visible&&o.xaxis+o.yaxis===r){if(Qct.traceIs(o,"bar-like")&&o.orientation==={x:"h",y:"v"}[i])return!0;if(o.fill&&o.fill.charAt(o.fill.length-1)===i)return!0}}return!1}(t,e))},out.clipEnds=function(t,e){return e.filter((function(e){return kut(t,e.x)}))},out.allowAutoMargin=function(t){for(var e=out.list(t,"",!0),n=0;n<e.length;n++){var r=e[n];r.automargin&&(Fct.allowAutoMargin(t,Zut(r)),r.mirror&&Fct.allowAutoMargin(t,Nut(r))),Qct.getComponentMethod("rangeslider","isVisible")(r)&&Fct.allowAutoMargin(t,Tut(r))}},out.swap=function(t,e){for(var n=function(t,e){var n,r,i=[];for(n=0;n<e.length;n++){var a=[],o=t._fullData[e[n]].xaxis,s=t._fullData[e[n]].yaxis;if(o&&s){for(r=0;r<i.length;r++)-1===i[r].x.indexOf(o)&&-1===i[r].y.indexOf(s)||a.push(r);if(a.length){var l,c=i[a[0]];if(a.length>1)for(r=1;r<a.length;r++)l=i[a[r]],Xut(c.x,l.x),Xut(c.y,l.y);Xut(c.x,[o]),Xut(c.y,[s])}else i.push({x:[o],y:[s]})}}return i}(t,e),r=0;r<n.length;r++)Wut(t,n[r].x,n[r].y)};var zut={},Jut={exports:{}},jut={left:0,top:0},Put=function(t,e,n){e=e||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var r=t.clientX||0,i=t.clientY||0,a=(o=e,o===window||o===document||o===document.body?jut:o.getBoundingClientRect());var o;return n[0]=r-a.left,n[1]=i-a.top,n};var Kut=Q4.exports,qut=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]],$ut={exports:{}},tdt=dit,edt=Mnt,ndt=ont.getGraphDiv,rdt=Ftt,idt=$ut.exports={};idt.wrapped=function(t,e,n){(t=ndt(t))._fullLayout&&edt.clear(t._fullLayout._uid+rdt.HOVERID),idt.raw(t,e,n)},idt.raw=function(t,e){var n=t._fullLayout,r=t._hoverdata;e||(e={}),e.target&&!t._dragged&&!1===tdt.triggerHandler(t,"plotly_beforehover",e)||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),t._hoverdata=void 0,e.target&&r&&t.emit("plotly_unhover",{event:e,points:r}))};var adt=Put,odt=zrt,sdt=Q4.exports.removeElement,ldt=Nit,cdt=Jut.exports={};cdt.align=function(t,e,n,r,i){var a=(t-n)/(r-n),o=a+e/(r-n),s=(a+o)/2;return"left"===i||"bottom"===i?a:"center"===i||"middle"===i?s:"right"===i||"top"===i?o:a<2/3-s?a:o>4/3-s?o:s},cdt.getCursor=function(t,e,n,r){return t="left"===n?0:"center"===n?1:"right"===n?2:Kut.constrain(Math.floor(3*t),0,2),e="bottom"===r?0:"middle"===r?1:"top"===r?2:Kut.constrain(Math.floor(3*e),0,2),qut[e][t]};var udt=$ut.exports;function ddt(){var t=document.createElement("div");t.className="dragcover";var e=t.style;return e.position="fixed",e.left=0,e.right=0,e.top=0,e.bottom=0,e.zIndex=999999999,e.background="none",document.body.appendChild(t),t}function hdt(t){return adt(t.changedTouches?t.changedTouches[0]:t,document.body)}cdt.unhover=udt.wrapped,cdt.unhoverRaw=udt.raw,cdt.init=function(t){var e,n,r,i,a,o,s,l,c=t.gd,u=1,d=c._context.doubleClickDelay,h=t.element;c._mouseDownTime||(c._mouseDownTime=0),h.style.pointerEvents="all",h.onmousedown=f,h.ontouchstart=f;var g=t.clampFn||function(t,e,n){return Math.abs(t)<n&&(t=0),Math.abs(e)<n&&(e=0),[t,e]};function f(g){c._dragged=!1,c._dragging=!0;var f=hdt(g);e=f[0],n=f[1],s=g.target,o=g,l=2===g.buttons||g.ctrlKey,void 0===g.clientX&&void 0===g.clientY&&(g.clientX=e,g.clientY=n),(r=(new Date).getTime())-c._mouseDownTime<d?u+=1:(u=1,c._mouseDownTime=r),t.prepFn&&t.prepFn(g,e,n),odt&&!l?(a=ddt()).style.cursor=window.getComputedStyle(h).cursor:odt||(a=document,i=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(h).cursor),document.addEventListener("mouseup",v),document.addEventListener("touchend",v),!1!==t.dragmode&&(g.preventDefault(),document.addEventListener("mousemove",p),document.addEventListener("touchmove",p,{passive:!1}))}function p(r){r.preventDefault();var i=hdt(r),a=t.minDrag||ldt.MINDRAG,o=g(i[0]-e,i[1]-n,a),s=o[0],u=o[1];(s||u)&&(c._dragged=!0,cdt.unhover(c,r)),c._dragged&&t.moveFn&&!l&&(c._dragdata={element:h,dx:s,dy:u},t.moveFn(s,u))}function v(e){if(delete c._dragdata,!1!==t.dragmode&&(e.preventDefault(),document.removeEventListener("mousemove",p),document.removeEventListener("touchmove",p)),document.removeEventListener("mouseup",v),document.removeEventListener("touchend",v),odt?sdt(a):i&&(a.documentElement.style.cursor=i,i=null),c._dragging){if(c._dragging=!1,(new Date).getTime()-c._mouseDownTime>d&&(u=Math.max(u-1,1)),c._dragged)t.doneFn&&t.doneFn();else if(t.clickFn&&t.clickFn(u,o),!l){var n;try{n=new MouseEvent("click",e)}catch(t){var r=hdt(e);(n=document.createEvent("MouseEvents")).initMouseEvent("click",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,r[0],r[1],e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}s.dispatchEvent(n)}c._dragging=!1,c._dragged=!1}else c._dragged=!1}},cdt.coverSlip=ddt;var gdt={},fdt=function(t,e){(t.attr("class")||"").split(" ").forEach((function(e){0===e.indexOf("cursor-")&&t.classed(e,!1)})),e&&t.classed("cursor-"+e,!0)},pdt=fdt,vdt="data-savedcursor",mdt=Att,ydt=ztt,bdt={bgcolor:{valType:"color",editType:"legend",description:["Sets the legend background color.","Defaults to `layout.paper_bgcolor`."].join(" ")},bordercolor:{valType:"color",dflt:ydt.defaultLine,editType:"legend",description:"Sets the color of the border enclosing the legend."},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend",description:"Sets the width (in px) of the border enclosing the legend."},font:mdt({editType:"legend",description:"Sets the font used to text the legend items."}),grouptitlefont:mdt({editType:"legend",description:["Sets the font for group titles in legend.","Defaults to `legend.font` with its size increased about 10%."].join(" ")}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend",description:"Sets the orientation of the legend."},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend",description:["Determines the order at which the legend items are displayed.","If *normal*, the items are displayed top-to-bottom in the same","order as the input data.","If *reversed*, the items are displayed in the opposite order","as *normal*.","If *grouped*, the items are displayed in groups","(when a trace `legendgroup` is provided).","if *grouped+reversed*, the items are displayed in the opposite order","as *grouped*."].join(" ")},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend",description:["Sets the amount of vertical space (in px) between legend groups."].join(" ")},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend",description:["Determines if the legend items symbols scale with their corresponding *trace* attributes","or remain *constant* independent of the symbol size on the graph."].join(" ")},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend",description:"Sets the width (in px) of the legend item symbols (the part other than the title.text)."},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend",description:["Determines the behavior on legend item click.","*toggle* toggles the visibility of the item clicked on the graph.","*toggleothers* makes the clicked item the sole visible item on the graph.","*false* disables legend item click interactions."].join(" ")},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend",description:["Determines the behavior on legend item double-click.","*toggle* toggles the visibility of the item clicked on the graph.","*toggleothers* makes the clicked item the sole visible item on the graph.","*false* disables legend item double-click interactions."].join(" ")},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend",description:["Determines the behavior on legend group item click.","*toggleitem* toggles the visibility of the individual item clicked on the graph.","*togglegroup* toggles the visibility of all items in the same legendgroup as the item clicked on the graph."].join(" ")},x:{valType:"number",min:-2,max:3,editType:"legend",description:["Sets the x position (in normalized coordinates) of the legend.","Defaults to *1.02* for vertical legends and","defaults to *0* for horizontal legends."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend",description:["Sets the legend's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the legend.","Value *auto* anchors legends to the right for `x` values greater than or equal to 2/3,","anchors legends to the left for `x` values less than or equal to 1/3 and","anchors legends with respect to their center otherwise."].join(" ")},y:{valType:"number",min:-2,max:3,editType:"legend",description:["Sets the y position (in normalized coordinates) of the legend.","Defaults to *1* for vertical legends,","defaults to *-0.1* for horizontal legends on graphs w/o range sliders and","defaults to *1.1* for horizontal legends on graph with one or multiple range sliders."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend",description:["Sets the legend's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the legend.","Value *auto* anchors legends at their bottom for `y` values less than or equal to 1/3,","anchors legends to at their top for `y` values greater than or equal to 2/3 and","anchors legends with respect to their middle otherwise."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of legend-driven changes in trace and pie label","visibility. Defaults to `layout.uirevision`."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend",description:["Sets the vertical alignment of the symbols with respect to their associated text."].join(" ")},title:{text:{valType:"string",dflt:"",editType:"legend",description:["Sets the title of the legend."].join(" ")},font:mdt({editType:"legend",description:["Sets this legend's title font.","Defaults to `legend.font` with its size increased about 20%."].join(" ")}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend",description:["Determines the location of legend's title","with respect to the legend items.","Defaulted to *top* with `orientation` is *h*.","Defaulted to *left* with `orientation` is *v*.","The *top left* options could be used to expand","legend area in both x and y sides."].join(" ")},editType:"legend"},editType:"legend"},Idt={isGrouped:function(t){return-1!==(t.traceorder||"").indexOf("grouped")},isVertical:function(t){return"h"!==t.orientation},isReversed:function(t){return-1!==(t.traceorder||"").indexOf("reversed")}},Cdt=met,xdt=Q4.exports,Bdt=Rit,Adt=Xtt,Fdt=bdt,Qdt=Int,wdt=Idt,Udt=function(t,e,n){var r,i=t.legend||{},a=Bdt.newContainer(e,"legend");function o(t,e){return xdt.coerce(i,a,Fdt,t,e)}for(var s=function(t,e){var n=r._input,i=r;return xdt.coerce(n,i,Adt,t,e)},l=e.font||{},c=xdt.coerceFont(o,"grouptitlefont",xdt.extendFlat({},l,{size:Math.round(1.1*l.size)})),u=0,d=!1,h="normal",g=0;g<n.length;g++)(r=n[g]).visible&&((r.showlegend||r._dfltShowLegend&&!(r._module&&r._module.attributes&&r._module.attributes.showlegend&&!1===r._module.attributes.showlegend.dflt))&&(u++,r.showlegend&&(d=!0,(Cdt.traceIs(r,"pie-like")||!0===r._input.showlegend)&&u++),xdt.coerceFont(s,"legendgrouptitle.font",c)),(Cdt.traceIs(r,"bar")&&"stack"===e.barmode||-1!==["tonextx","tonexty"].indexOf(r.fill))&&(h=wdt.isGrouped({traceorder:h})?"grouped+reversed":"reversed"),void 0!==r.legendgroup&&""!==r.legendgroup&&(h=wdt.isReversed({traceorder:h})?"reversed+grouped":"grouped"));var f=xdt.coerce(t,e,Qdt,"showlegend",d&&u>1);if(!1===f&&(e.legend=void 0),(!1!==f||i.uirevision)&&(o("uirevision",e.uirevision),!1!==f)){o("bgcolor",e.paper_bgcolor),o("bordercolor"),o("borderwidth");var p,v,m,y=xdt.coerceFont(o,"font",e.font),b="h"===o("orientation");if(b?(p=0,Cdt.getComponentMethod("rangeslider","isVisible")(t.xaxis)?(v=1.1,m="bottom"):(v=-.1,m="top")):(p=1.02,v=1,m="auto"),o("traceorder",h),wdt.isGrouped(e.legend)&&o("tracegroupgap"),o("itemsizing"),o("itemwidth"),o("itemclick"),o("itemdoubleclick"),o("groupclick"),o("x",p),o("xanchor"),o("y",v),o("yanchor",m),o("valign"),xdt.noneOrAll(i,a,["x","y"]),o("title.text")){o("title.side",b?"left":"top");var I=xdt.extendFlat({},y,{size:xdt.bigFont(y.size)});xdt.coerceFont(o,"title.font",I)}}},Gdt=Q4.exports,Rdt=met,Sdt=!0,Ldt={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5},_dt=met,Edt=Idt,kdt={};!function(t){var e=Q4.exports;function n(t){return-1!==t.indexOf("e")?t.replace(/[.]?0+e/,"e"):-1!==t.indexOf(".")?t.replace(/[.]?0+$/,""):t}t.formatPiePercent=function(t,r){var i=n((100*t).toPrecision(3));return e.numSeparate(i,r)+"%"},t.formatPieValue=function(t,r){var i=n(t.toPrecision(10));return e.numSeparate(i,r)},t.getFirstFilled=function(t,e){if(Array.isArray(t))for(var n=0;n<e.length;n++){var r=t[e[n]];if(r||0===r||""===r)return r}},t.castOption=function(e,n){return Array.isArray(e)?t.getFirstFilled(e,n):e||void 0},t.getRotationAngle=function(t){return("auto"===t?0:t)*Math.PI/180}}(kdt);var Vdt=Ott.exports,Zdt=kdt.castOption,Ndt=w4.exports,Tdt=met,Xdt=Q4.exports,Wdt=Xdt.strTranslate,Mdt=Uat.exports,Hdt=Ott.exports,Ddt=Mat.extractOpts,Ydt=Bst,Odt=function(t,e,n){var r=n.marker.line,i=Zdt(r.color,e.pts)||Vdt.defaultLine,a=Zdt(r.width,e.pts)||0;t.style("stroke-width",a).call(Vdt.fill,e.color).call(Vdt.stroke,i)},zdt=kdt.castOption,Jdt=Ldt,jdt=function(t,e,n){var r=e._fullLayout;n||(n=r.legend);var i="constant"===n.itemsizing,a=n.itemwidth,o=Wdt((a+2*Jdt.itemGap)/2,0),s=function(t,e,n,r){var a;if(t+1)a=t;else{if(!(e&&e.width>0))return 0;a=e.width}return i?r:Math.min(a,n)};function l(t,r,i){var a=t[0].trace,l=a.marker||{},c=l.line||{},u=i?a.visible&&a.type===i:Tdt.traceIs(a,"bar"),d=Ndt.select(r).select("g.legendpoints").selectAll("path.legend"+i).data(u?[t]:[]);d.enter().append("path").classed("legend"+i,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",o),d.exit().remove(),d.each((function(t){var r=Ndt.select(this),i=t[0],o=s(i.mlw,l.line,5,2);r.style("stroke-width",o+"px");var u=i.mcc;if(!n._inHover&&"mc"in i){var d=Ddt(l),h=d.mid;void 0===h&&(h=(d.max+d.min)/2),u=Mdt.tryColorscale(l,"")(h)}var g=u||i.mc||l.color,f=l.pattern,p=f&&Mdt.getPatternAttr(f.shape,0,"");if(p){var v=Mdt.getPatternAttr(f.bgcolor,0,null),m=Mdt.getPatternAttr(f.fgcolor,0,null),y=f.fgopacity,b=qdt(f.size,8,10),I=qdt(f.solidity,.5,1),C="legend-"+a.uid;r.call(Mdt.pattern,"legend",e,C,p,b,I,u,f.fillmode,v,m,y)}else r.call(Hdt.fill,g);o&&Hdt.stroke(r,i.mlc||c.color)}))}function c(t,e,n){var r=t[0],i=r.trace,a=n?i.visible&&i.type===n:Tdt.traceIs(i,n),l=Ndt.select(e).select("g.legendpoints").selectAll("path.legend"+n).data(a?[t]:[]);if(l.enter().append("path").classed("legend"+n,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",o),l.exit().remove(),l.size()){var c=(i.marker||{}).line,u=s(zdt(c.width,r.pts),c,5,2),d=Xdt.minExtend(i,{marker:{line:{width:u}}});d.marker.line.color=c.color;var h=Xdt.minExtend(r,{trace:d});Odt(l,h,d)}}t.each((function(t){var e=Ndt.select(this),r=Xdt.ensureSingle(e,"g","layers");r.style("opacity",t[0].trace.opacity);var i=n.valign,a=t[0].lineHeight,o=t[0].height;if("middle"!==i&&a&&o){var s={top:1,bottom:-1}[i]*(.5*(a-o+3));r.attr("transform",Wdt(0,s))}else r.attr("transform",null);r.selectAll("g.legendfill").data([t]).enter().append("g").classed("legendfill",!0),r.selectAll("g.legendlines").data([t]).enter().append("g").classed("legendlines",!0);var l=r.selectAll("g.legendsymbols").data([t]);l.enter().append("g").classed("legendsymbols",!0),l.selectAll("g.legendpoints").data([t]).enter().append("g").classed("legendpoints",!0)})).each((function(t){var n,r=t[0].trace,i=[];if(r.visible)switch(r.type){case"histogram2d":case"heatmap":i=[["M-15,-2V4H15V-2Z"]],n=!0;break;case"choropleth":case"choroplethmapbox":i=[["M-6,-6V6H6V-6Z"]],n=!0;break;case"densitymapbox":i=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],n="radial";break;case"cone":i=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],n=!1;break;case"streamtube":i=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],n=!1;break;case"surface":i=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],n=!0;break;case"mesh3d":i=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],n=!1;break;case"volume":i=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],n=!0;break;case"isosurface":i=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],n=!1}var a=Ndt.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(i);a.enter().append("path").classed("legend3dandfriends",!0).attr("transform",o).style("stroke-miterlimit",1),a.exit().remove(),a.each((function(t,i){var a,o=Ndt.select(this),s=Ddt(r),l=s.colorscale,c=s.reversescale;if(l){if(!n){var u=l.length;a=0===i?l[c?u-1:0][1]:1===i?l[c?0:u-1][1]:l[Math.floor((u-1)/2)][1]}}else{var d=r.vertexcolor||r.facecolor||r.color;a=Xdt.isArrayOrTypedArray(d)?d[i]||d[0]:d}o.attr("d",t[0]),a?o.call(Hdt.fill,a):o.call((function(t){if(t.size()){var i="legendfill-"+r.uid;Mdt.gradient(t,e,i,Pdt(c,"radial"===n),l,"fill")}}))}))})).each((function(t){var e=t[0].trace,n="waterfall"===e.type;if(t[0]._distinct&&n){var r=t[0].trace[t[0].dir].marker;return t[0].mc=r.color,t[0].mlw=r.line.width,t[0].mlc=r.line.color,l(t,this,"waterfall")}var i=[];e.visible&&n&&(i=t[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var a=Ndt.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(i);a.enter().append("path").classed("legendwaterfall",!0).attr("transform",o).style("stroke-miterlimit",1),a.exit().remove(),a.each((function(t){var n=Ndt.select(this),r=e[t[0]].marker,i=s(void 0,r.line,5,2);n.attr("d",t[1]).style("stroke-width",i+"px").call(Hdt.fill,r.color),i&&n.call(Hdt.stroke,r.line.color)}))})).each((function(t){l(t,this,"funnel")})).each((function(t){l(t,this)})).each((function(t){var n=t[0].trace,r=Ndt.select(this).select("g.legendpoints").selectAll("path.legendbox").data(n.visible&&Tdt.traceIs(n,"box-violin")?[t]:[]);r.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",o),r.exit().remove(),r.each((function(){var t=Ndt.select(this);if("all"!==n.boxpoints&&"all"!==n.points||0!==Hdt.opacity(n.fillcolor)||0!==Hdt.opacity((n.line||{}).color)){var a=s(void 0,n.line,5,2);t.style("stroke-width",a+"px").call(Hdt.fill,n.fillcolor),a&&Hdt.stroke(t,n.line.color)}else{var o=Xdt.minExtend(n,{marker:{size:i?12:Xdt.constrain(n.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});r.call(Mdt.pointStyle,o,e)}}))})).each((function(t){c(t,this,"funnelarea")})).each((function(t){c(t,this,"pie")})).each((function(t){var n,r,i=Kdt(t),o=i.showFill,l=i.showLine,c=i.showGradientLine,u=i.showGradientFill,d=i.anyFill,h=i.anyLine,g=t[0],f=g.trace,p=Ddt(f),v=p.colorscale,m=p.reversescale,y=function(t){if(t.size()){var n="legendfill-"+f.uid;Mdt.gradient(t,e,n,Pdt(m),v,"fill")}},b=Ydt.hasMarkers(f)||!d?"M5,0":h?"M5,-2":"M5,-3",I=Ndt.select(this),C=I.select(".legendfill").selectAll("path").data(o||u?[t]:[]);if(C.enter().append("path").classed("js-fill",!0),C.exit().remove(),C.attr("d",b+"h"+a+"v6h-"+a+"z").call(o?Mdt.fillGroupStyle:y),l||c){var x=s(void 0,f.line,10,5);r=Xdt.minExtend(f,{line:{width:x}}),n=[Xdt.minExtend(g,{trace:r})]}var B=I.select(".legendlines").selectAll("path").data(l||c?[n]:[]);B.enter().append("path").classed("js-line",!0),B.exit().remove(),B.attr("d",b+(c?"l"+a+",0.0001":"h"+a)).call(l?Mdt.lineGroupStyle:function(t){if(t.size()){var n="legendline-"+f.uid;Mdt.lineGroupStyle(t),Mdt.gradient(t,e,n,Pdt(m),v,"stroke")}})})).each((function(t){var n,r,a=Kdt(t),s=a.anyFill,l=a.anyLine,c=a.showLine,u=a.showMarker,d=t[0],h=d.trace,g=!u&&!l&&!s&&Ydt.hasText(h);function f(t,e,n,r){var a=Xdt.nestedProperty(h,t).get(),o=Xdt.isArrayOrTypedArray(a)&&e?e(a):a;if(i&&o&&void 0!==r&&(o=r),n){if(o<n[0])return n[0];if(o>n[1])return n[1]}return o}function p(t){return d._distinct&&d.index&&t[d.index]?t[d.index]:t[0]}if(u||g||c){var v={},m={};if(u){v.mc=f("marker.color",p),v.mx=f("marker.symbol",p),v.mo=f("marker.opacity",Xdt.mean,[.2,1]),v.mlc=f("marker.line.color",p),v.mlw=f("marker.line.width",Xdt.mean,[0,5],2),m.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var y=f("marker.size",Xdt.mean,[2,16],12);v.ms=y,m.marker.size=y}c&&(m.line={width:f("line.width",p,[0,10],5)}),g&&(v.tx="Aa",v.tp=f("textposition",p),v.ts=10,v.tc=f("textfont.color",p),v.tf=f("textfont.family",p)),n=[Xdt.minExtend(d,v)],(r=Xdt.minExtend(h,m)).selectedpoints=null,r.texttemplate=null}var b=Ndt.select(this).select("g.legendpoints"),I=b.selectAll("path.scatterpts").data(u?n:[]);I.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",o),I.exit().remove(),I.call(Mdt.pointStyle,r,e),u&&(n[0].mrc=3);var C=b.selectAll("g.pointtext").data(g?n:[]);C.enter().append("g").classed("pointtext",!0).append("text").attr("transform",o),C.exit().remove(),C.selectAll("text").call(Mdt.textPointStyle,r,e)})).each((function(t){var e=t[0].trace,n=Ndt.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(e.visible&&"candlestick"===e.type?[t,t]:[]);n.enter().append("path").classed("legendcandle",!0).attr("d",(function(t,e){return e?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"})).attr("transform",o).style("stroke-miterlimit",1),n.exit().remove(),n.each((function(t,n){var r=Ndt.select(this),i=e[n?"increasing":"decreasing"],a=s(void 0,i.line,5,2);r.style("stroke-width",a+"px").call(Hdt.fill,i.fillcolor),a&&Hdt.stroke(r,i.line.color)}))})).each((function(t){var e=t[0].trace,n=Ndt.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(e.visible&&"ohlc"===e.type?[t,t]:[]);n.enter().append("path").classed("legendohlc",!0).attr("d",(function(t,e){return e?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"})).attr("transform",o).style("stroke-miterlimit",1),n.exit().remove(),n.each((function(t,n){var r=Ndt.select(this),i=e[n?"increasing":"decreasing"],a=s(void 0,i.line,5,2);r.style("fill","none").call(Mdt.dashLine,i.line.dash,a),a&&Hdt.stroke(r,i.line.color)}))}))};function Pdt(t,e){return(e?"radial":"horizontal")+(t?"":"reversed")}function Kdt(t){var e=t[0].trace,n=e.contours,r=Ydt.hasLines(e),i=Ydt.hasMarkers(e),a=e.visible&&e.fill&&"none"!==e.fill,o=!1,s=!1;if(n){var l=n.coloring;"lines"===l?o=!0:r="none"===l||"heatmap"===l||n.showlines,"constraint"===n.type?a="="!==n._operation:"fill"!==l&&"heatmap"!==l||(s=!0)}return{showMarker:i,showLine:r,showFill:a,showGradientLine:o,showGradientFill:s,anyLine:r||o,anyFill:a||s}}function qdt(t,e,n){return t&&Xdt.isArrayOrTypedArray(t)?e:t>n?n:t}var $dt=w4.exports,tht=Q4.exports,eht=Git.exports,nht=met,rht=dit,iht=Jut.exports,aht=Uat.exports,oht=Ott.exports,sht=Fat,lht=function(t,e,n){var r=e._fullLayout;if(!e._dragged&&!e._editing){var i,a=r.legend.itemclick,o=r.legend.itemdoubleclick,s=r.legend.groupclick;if(1===n&&"toggle"===a&&"toggleothers"===o&&Sdt&&e.data&&e._context.showTips?(Gdt.notifier(Gdt._(e,"Double-click on legend to isolate one trace"),"long"),Sdt=!1):Sdt=!1,1===n?i=a:2===n&&(i=o),i){var l="togglegroup"===s,c=r.hiddenlabels?r.hiddenlabels.slice():[],u=t.data()[0][0];if(!u.groupTitle||!u.noClick){var d,h,g,f,p,v=e._fullData,m=u.trace,y=m.legendgroup,b={},I=[],C=[],x=[];if(Rdt.traceIs(m,"pie-like")){var B=u.label,A=c.indexOf(B);"toggle"===i?-1===A?c.push(B):c.splice(A,1):"toggleothers"===i&&(c=[],e.calcdata[0].forEach((function(t){B!==t.label&&c.push(t.label)})),e._fullLayout.hiddenlabels&&e._fullLayout.hiddenlabels.length===c.length&&-1===A&&(c=[])),Rdt.call("_guiRelayout",e,"hiddenlabels",c)}else{var F,Q=y&&y.length,w=[];if(Q)for(d=0;d<v.length;d++)(F=v[d]).visible&&F.legendgroup===y&&w.push(d);if("toggle"===i){var U;switch(m.visible){case!0:U="legendonly";break;case!1:U=!1;break;case"legendonly":U=!0}if(Q)if(l)for(d=0;d<v.length;d++)!1!==v[d].visible&&v[d].legendgroup===y&&Z(v[d],U);else Z(m,U);else Z(m,U)}else if("toggleothers"===i){var G,R,S,L,_=!0;for(d=0;d<v.length;d++)if(G=v[d]===m,S=!0!==v[d].showlegend,!(G||S||(R=Q&&v[d].legendgroup===y)||!0!==v[d].visible||Rdt.traceIs(v[d],"notLegendIsolatable"))){_=!1;break}for(d=0;d<v.length;d++)if(!1!==v[d].visible&&!Rdt.traceIs(v[d],"notLegendIsolatable"))switch(m.visible){case"legendonly":Z(v[d],!0);break;case!0:L=!!_||"legendonly",G=v[d]===m,S=!0!==v[d].showlegend&&!v[d].legendgroup,R=G||Q&&v[d].legendgroup===y,Z(v[d],!(!R&&!S)||L)}}for(d=0;d<C.length;d++)if(g=C[d]){var E=g.constructUpdate(),k=Object.keys(E);for(h=0;h<k.length;h++)f=k[h],(b[f]=b[f]||[])[x[d]]=E[f]}for(p=Object.keys(b),d=0;d<p.length;d++)for(f=p[d],h=0;h<I.length;h++)b[f].hasOwnProperty(h)||(b[f][h]=void 0);Rdt.call("_guiRestyle",e,b,I)}}}}function V(t,e,n){var r=I.indexOf(t),i=b[e];return i||(i=b[e]=[]),-1===I.indexOf(t)&&(I.push(t),r=I.length-1),i[r]=n,r}function Z(t,e){if(!u.groupTitle||l){var n=t._fullInput;if(Rdt.hasTransform(n,"groupby")){var r=C[n.index];if(!r){var i=Rdt.getTransformIndices(n,"groupby"),a=i[i.length-1];r=Gdt.keyedContainer(n,"transforms["+a+"].styles","target","value.visible"),C[n.index]=r}var o=r.get(t._group);void 0===o&&(o=!0),!1!==o&&r.set(t._group,e),x[n.index]=V(n.index,"visible",!1!==n.visible)}else{var s=!1!==n.visible&&e;V(n.index,"visible",s)}}}},cht=Ldt,uht=wat.LINE_SPACING,dht=wat.FROM_TL,hht=wat.FROM_BR,ght=function(t,e){var n,r,i=e._inHover,a=Edt.isGrouped(e),o=Edt.isReversed(e),s={},l=[],c=!1,u={},d=0,h=0;function g(t,n){if(""!==t&&Edt.isGrouped(e))-1===l.indexOf(t)?(l.push(t),c=!0,s[t]=[n]):s[t].push(n);else{var r="~~i"+d;l.push(r),s[r]=[n],d++}}for(n=0;n<t.length;n++){var f=t[n],p=f[0],v=p.trace,m=v.legendgroup;if(i||v.visible&&v.showlegend)if(_dt.traceIs(v,"pie-like"))for(u[m]||(u[m]={}),r=0;r<f.length;r++){var y=f[r].label;u[m][y]||(g(m,{label:y,color:f[r].color,i:f[r].i,trace:v,pts:f[r].pts}),u[m][y]=!0,h=Math.max(h,(y||"").length))}else g(m,p),h=Math.max(h,(v.name||"").length)}if(!l.length)return[];var b=!c||!a,I=[];for(n=0;n<l.length;n++){var C=s[l[n]];b?I.push(C[0]):I.push(C)}for(b&&(I=[I]),n=0;n<I.length;n++){var x=1/0;for(r=0;r<I[n].length;r++){var B=I[n][r].trace.legendrank;x>B&&(x=B)}I[n][0]._groupMinRank=x,I[n][0]._preGroupSort=n}var A=function(t,e){return t.trace.legendrank-e.trace.legendrank||t._preSort-e._preSort};for(I.forEach((function(t,e){t[0]._preGroupSort=e})),I.sort((function(t,e){return t[0]._groupMinRank-e[0]._groupMinRank||t[0]._preGroupSort-e[0]._preGroupSort})),n=0;n<I.length;n++){I[n].forEach((function(t,e){t._preSort=e})),I[n].sort(A);var F=I[n][0].trace,Q=null;for(r=0;r<I[n].length;r++){var w=I[n][r].trace.legendgrouptitle;if(w&&w.text){Q=w,i&&(w.font=e._groupTitleFont);break}}if(o&&I[n].reverse(),Q){var U=!1;for(r=0;r<I[n].length;r++)if(_dt.traceIs(I[n][r].trace,"pie-like")){U=!0;break}I[n].unshift({i:-1,groupTitle:Q,noClick:U,trace:{showlegend:F.showlegend,legendgroup:F.legendgroup,visible:"toggleitem"===e.groupclick||F.visible}})}for(r=0;r<I[n].length;r++)I[n][r]=[I[n][r]]}return e._lgroupsLength=I.length,e._maxNameLength=h,I},fht=jdt,pht=Idt,vht=function(t,e){return e||(e=t._fullLayout.legend||{}),function(t,e){var n,r,i=t._fullLayout,a="legend"+i._uid,o=e._inHover;o?(n=e.layer,a+="-hover"):n=i._infolayer;if(!n)return;t._legendMouseDownTime||(t._legendMouseDownTime=0);if(o){if(!e.entries)return;r=ght(e.entries,e)}else{if(!t.calcdata)return;r=i.showlegend&&ght(t.calcdata,e)}var s=i.hiddenlabels||[];if(!(o||i.showlegend&&r.length))return n.selectAll(".legend").remove(),i._topdefs.select("#"+a).remove(),eht.autoMargin(t,"legend");var l=tht.ensureSingle(n,"g","legend",(function(t){o||t.attr("pointer-events","all")})),c=tht.ensureSingleById(i._topdefs,"clipPath",a,(function(t){t.append("rect")})),u=tht.ensureSingle(l,"rect","bg",(function(t){t.attr("shape-rendering","crispEdges")}));u.call(oht.stroke,e.bordercolor).call(oht.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px");var d=tht.ensureSingle(l,"g","scrollbox"),h=e.title;if(e._titleWidth=0,e._titleHeight=0,h.text){var g=tht.ensureSingle(d,"text","legendtitletext");g.attr("text-anchor","start").call(aht.font,h.font).text(h.text),Cht(g,d,t,e,1)}else d.selectAll(".legendtitletext").remove();var f=tht.ensureSingle(l,"rect","scrollbar",(function(t){t.attr(cht.scrollBarEnterAttrs).call(oht.fill,cht.scrollBarColor)})),p=d.selectAll("g.groups").data(r);p.enter().append("g").attr("class","groups"),p.exit().remove();var v=p.selectAll("g.traces").data(tht.identity);v.enter().append("g").attr("class","traces"),v.exit().remove(),v.style("opacity",(function(t){var e=t[0].trace;return nht.traceIs(e,"pie-like")?-1!==s.indexOf(t[0].label)?.5:1:"legendonly"===e.visible?.5:1})).each((function(){$dt.select(this).call(yht,t,e)})).call(fht,t,e).each((function(){o||$dt.select(this).call(Iht,t)})),tht.syncOrAsync([eht.previousPromises,function(){return function(t,e,n,r){var i=t._fullLayout;r||(r=i.legend);var a=i._size,o=pht.isVertical(r),s=pht.isGrouped(r),l=r.borderwidth,c=2*l,u=cht.itemGap,d=r.itemwidth+2*u,h=2*(l+u),g=Bht(r),f=r.y<0||0===r.y&&"top"===g,p=r.y>1||1===r.y&&"bottom"===g,v=r.tracegroupgap;r._maxHeight=Math.max(f||p?i.height/2:a.h,30);var m=0;r._width=0,r._height=0;var y=function(t){var e=0,n=0,r=t.title.side;r&&(-1!==r.indexOf("left")&&(e=t._titleWidth),-1!==r.indexOf("top")&&(n=t._titleHeight));return[e,n]}(r);if(o)n.each((function(t){var e=t[0].height;aht.setTranslate(this,l+y[0],l+y[1]+r._height+e/2+u),r._height+=e,r._width=Math.max(r._width,t[0].width)})),m=d+r._width,r._width+=u+d+c,r._height+=h,s&&(e.each((function(t,e){aht.setTranslate(this,0,e*r.tracegroupgap)})),r._height+=(r._lgroupsLength-1)*r.tracegroupgap);else{var b=xht(r),I=r.x<0||0===r.x&&"right"===b,C=r.x>1||1===r.x&&"left"===b,x=p||f,B=i.width/2;r._maxWidth=Math.max(I?x&&"left"===b?a.l+a.w:B:C?x&&"right"===b?a.r+a.w:B:a.w,2*d);var A=0,F=0;n.each((function(t){var e=t[0].width+d;A=Math.max(A,e),F+=e})),m=null;var Q=0;if(s){var w=0,U=0,G=0;e.each((function(){var t=0,e=0;$dt.select(this).selectAll("g.traces").each((function(n){var r=n[0].width,i=n[0].height;aht.setTranslate(this,y[0],y[1]+l+u+i/2+e),e+=i,t=Math.max(t,d+r)}));var n=t+u;U>0&&n+l+U>r._maxWidth?(Q=Math.max(Q,U),U=0,G+=w+v,w=e):w=Math.max(w,e),aht.setTranslate(this,U,G),U+=n})),r._width=Math.max(Q,U)+l,r._height=G+w+h}else{var R=n.size(),S=F+c+(R-1)*u<r._maxWidth,L=0,_=0,E=0,k=0;n.each((function(t){var e=t[0].height,n=d+t[0].width,i=(S?n:A)+u;i+l+_-u>=r._maxWidth&&(Q=Math.max(Q,k),_=0,E+=L,r._height+=L,L=0),aht.setTranslate(this,y[0]+l+_,y[1]+l+E+e/2+u),k=_+n+u,_+=i,L=Math.max(L,e)})),S?(r._width=_+c,r._height=L+h):(r._width=Math.max(Q,k)+c,r._height+=L+h)}}r._width=Math.ceil(Math.max(r._width+y[0],r._titleWidth+2*(l+cht.titlePad))),r._height=Math.ceil(Math.max(r._height+y[1],r._titleHeight+2*(l+cht.itemGap))),r._effHeight=Math.min(r._height,r._maxHeight);var V=t._context.edits,Z=V.legendText||V.legendPosition;n.each((function(t){var e=$dt.select(this).select(".legendtoggle"),n=t[0].height,r=Z?d:m||d+t[0].width;o||(r+=u/2),aht.setRect(e,0,-n/2,r,n)}))}(t,p,v,e)},function(){var r,s,h,g,p=i._size,v=e.borderwidth;if(!o){var m=function(t){var e=t._fullLayout.legend,n=xht(e),r=Bht(e);return eht.autoMargin(t,"legend",{x:e.x,y:e.y,l:e._width*dht[n],r:e._width*hht[n],b:e._effHeight*hht[r],t:e._effHeight*dht[r]})}(t);if(m)return;var y=p.l+p.w*e.x-dht[xht(e)]*e._width,b=p.t+p.h*(1-e.y)-dht[Bht(e)]*e._effHeight;if(i.margin.autoexpand){var I=y,C=b;y=tht.constrain(y,0,i.width-e._width),b=tht.constrain(b,0,i.height-e._effHeight),y!==I&&tht.log("Constrain legend.x to make legend fit inside graph"),b!==C&&tht.log("Constrain legend.y to make legend fit inside graph")}aht.setTranslate(l,y,b)}if(f.on(".drag",null),l.on("wheel",null),o||e._height<=e._maxHeight||t._context.staticPlot){var x=e._effHeight;o&&(x=e._height),u.attr({width:e._width-v,height:x-v,x:v/2,y:v/2}),aht.setTranslate(d,0,0),c.select("rect").attr({width:e._width-2*v,height:x-2*v,x:v,y:v}),aht.setClipUrl(d,a,t),aht.setRect(f,0,0,0,0),delete e._scrollY}else{var B,A,F,Q=Math.max(cht.scrollBarMinHeight,e._effHeight*e._effHeight/e._height),w=e._effHeight-Q-2*cht.scrollBarMargin,U=e._height-e._effHeight,G=w/U,R=Math.min(e._scrollY||0,U);u.attr({width:e._width-2*v+cht.scrollBarWidth+cht.scrollBarMargin,height:e._effHeight-v,x:v/2,y:v/2}),c.select("rect").attr({width:e._width-2*v+cht.scrollBarWidth+cht.scrollBarMargin,height:e._effHeight-2*v,x:v,y:v+R}),aht.setClipUrl(d,a,t),k(R,Q,G),l.on("wheel",(function(){k(R=tht.constrain(e._scrollY+$dt.event.deltaY/w*U,0,U),Q,G),0!==R&&R!==U&&$dt.event.preventDefault()}));var S=function(t,e,n){var r=(n-e)/G+t;return tht.constrain(r,0,U)},L=function(t,e,n){var r=(e-n)/G+t;return tht.constrain(r,0,U)},_=$dt.behavior.drag().on("dragstart",(function(){var t=$dt.event.sourceEvent;B="touchstart"===t.type?t.changedTouches[0].clientY:t.clientY,F=R})).on("drag",(function(){var t=$dt.event.sourceEvent;2===t.buttons||t.ctrlKey||(A="touchmove"===t.type?t.changedTouches[0].clientY:t.clientY,k(R=S(F,B,A),Q,G))}));f.call(_);var E=$dt.behavior.drag().on("dragstart",(function(){var t=$dt.event.sourceEvent;"touchstart"===t.type&&(B=t.changedTouches[0].clientY,F=R)})).on("drag",(function(){var t=$dt.event.sourceEvent;"touchmove"===t.type&&(A=t.changedTouches[0].clientY,k(R=L(F,B,A),Q,G))}));d.call(E)}function k(n,r,i){e._scrollY=t._fullLayout.legend._scrollY=n,aht.setTranslate(d,0,-n),aht.setRect(f,e._width,cht.scrollBarMargin+n*i,cht.scrollBarWidth,r),c.select("rect").attr("y",v+n)}t._context.edits.legendPosition&&(l.classed("cursor-move",!0),iht.init({element:l.node(),gd:t,prepFn:function(){var t=aht.getTranslate(l);h=t.x,g=t.y},moveFn:function(t,n){var i=h+t,a=g+n;aht.setTranslate(l,i,a),r=iht.align(i,0,p.l,p.l+p.w,e.xanchor),s=iht.align(a,0,p.t+p.h,p.t,e.yanchor)},doneFn:function(){void 0!==r&&void 0!==s&&nht.call("_guiRelayout",t,{"legend.x":r,"legend.y":s})},clickFn:function(e,r){var i=n.selectAll("g.traces").filter((function(){var t=this.getBoundingClientRect();return r.clientX>=t.left&&r.clientX<=t.right&&r.clientY>=t.top&&r.clientY<=t.bottom}));i.size()>0&&mht(t,l,i,e,r)}}))}],t)}(t,e)};function mht(t,e,n,r,i){var a=n.data()[0][0].trace,o={event:i,node:n.node(),curveNumber:a.index,expandedIndex:a._expandedIndex,data:t.data,layout:t.layout,frames:t._transitionData._frames,config:t._context,fullData:t._fullData,fullLayout:t._fullLayout};if(a._group&&(o.group=a._group),nht.traceIs(a,"pie-like")&&(o.label=n.datum()[0].label),!1!==rht.triggerHandler(t,"plotly_legendclick",o))if(1===r)e._clickTimeout=setTimeout((function(){t._fullLayout&&lht(n,t,r)}),t._context.doubleClickDelay);else if(2===r){e._clickTimeout&&clearTimeout(e._clickTimeout),t._legendMouseDownTime=0,!1!==rht.triggerHandler(t,"plotly_legenddoubleclick",o)&&lht(n,t,r)}}function yht(t,e,n){var r,i,a=t.data()[0][0],o=a.trace,s=nht.traceIs(o,"pie-like"),l=!n._inHover&&e._context.edits.legendText&&!s,c=n._maxNameLength;a.groupTitle?(r=a.groupTitle.text,i=a.groupTitle.font):(i=n.font,n.entries?r=a.text:(r=s?a.label:o.name,o._meta&&(r=tht.templateString(r,o._meta))));var u=tht.ensureSingle(t,"text","legendtext");u.attr("text-anchor","start").call(aht.font,i).text(l?bht(r,c):r);var d=n.itemwidth+2*cht.itemGap;sht.positionText(u,d,0),l?u.call(sht.makeEditable,{gd:e,text:r}).call(Cht,t,e,n).on("edit",(function(r){this.text(bht(r,c)).call(Cht,t,e,n);var i=a.trace._fullInput||{},s={};if(nht.hasTransform(i,"groupby")){var l=nht.getTransformIndices(i,"groupby"),u=l[l.length-1],d=tht.keyedContainer(i,"transforms["+u+"].styles","target","value.name");d.set(a.trace._group,r),s=d.constructUpdate()}else s.name=r;return nht.call("_guiRestyle",e,s,o.index)})):Cht(u,t,e,n)}function bht(t,e){var n=Math.max(4,e);if(t&&t.trim().length>=n/2)return t;for(var r=n-(t=t||"").length;r>0;r--)t+=" ";return t}function Iht(t,e){var n,r=e._context.doubleClickDelay,i=1,a=tht.ensureSingle(t,"rect","legendtoggle",(function(t){e._context.staticPlot||t.style("cursor","pointer").attr("pointer-events","all"),t.call(oht.fill,"rgba(0,0,0,0)")}));e._context.staticPlot||(a.on("mousedown",(function(){(n=(new Date).getTime())-e._legendMouseDownTime<r?i+=1:(i=1,e._legendMouseDownTime=n)})),a.on("mouseup",(function(){if(!e._dragged&&!e._editing){var n=e._fullLayout.legend;(new Date).getTime()-e._legendMouseDownTime>r&&(i=Math.max(i-1,1)),mht(e,n,t,i,$dt.event)}})))}function Cht(t,e,n,r,i){r._inHover&&t.attr("data-notex",!0),sht.convertToTspans(t,n,(function(){!function(t,e,n,r){var i=t.data()[0][0];if(!n._inHover&&i&&!i.trace.showlegend)return void t.remove();var a=t.select("g[class*=math-group]"),o=a.node();n||(n=e._fullLayout.legend);var s,l=n.borderwidth;s=1===r?n.title.font:i.groupTitle?i.groupTitle.font:n.font;var c,u,d=s.size*uht;if(o){var h=aht.bBox(o);c=h.height,u=h.width,1===r?aht.setTranslate(a,l,l+.75*c):aht.setTranslate(a,0,.25*c)}else{var g=t.select(1===r?".legendtitletext":".legendtext"),f=sht.lineCount(g),p=g.node();if(c=d*f,u=p?aht.bBox(p).width:0,1===r)"left"===n.title.side&&(u+=2*cht.itemGap),sht.positionText(g,l+cht.titlePad,l+d);else{var v=2*cht.itemGap+n.itemwidth;i.groupTitle&&(v=cht.itemGap,u-=n.itemwidth),sht.positionText(g,v,-d*((f-1)/2-.3))}}1===r?(n._titleWidth=u,n._titleHeight=c):(i.lineHeight=d,i.height=Math.max(c,16)+3,i.width=u)}(e,n,r,i)}))}function xht(t){return tht.isRightAnchor(t)?"right":tht.isCenterAnchor(t)?"center":"left"}function Bht(t){return tht.isBottomAnchor(t)?"bottom":tht.isMiddleAnchor(t)?"middle":"top"}var Aht=w4.exports,Fht=z6,Qht=Btt.exports,wht=Q4.exports,Uht=wht.strTranslate,Ght=wht.strRotate,Rht=dit,Sht=Fat,Lht=function(t,e){var n=t.attr(vdt);if(e){if(!n){for(var r=(t.attr("class")||"").split(" "),i=0;i<r.length;i++){var a=r[i];0===a.indexOf("cursor-")&&t.attr(vdt,a.substr(7)).classed(a,!1)}t.attr(vdt)||t.attr(vdt,"!!")}pdt(t,e)}else n&&(t.attr(vdt,null),"!!"===n?pdt(t):pdt(t,n))},_ht=Uat.exports,Eht=Ott.exports,kht=Jut.exports,Vht=Aat.exports,Zht=met,Nht=Qst,Tht=Ftt,Xht=Udt,Wht=vht,Mht=Tht.YANGLE,Hht=Math.PI*Mht/180,Dht=1/Math.sin(Hht),Yht=Math.cos(Hht),Oht=Math.sin(Hht),zht=Tht.HOVERARROWSIZE,Jht=Tht.HOVERTEXTPAD,jht={box:!0,ohlc:!0,violin:!0,candlestick:!0},Pht={scatter:!0,scattergl:!0,splom:!0};function Kht(t){return[t.trace.index,t.index,t.x0,t.y0,t.name,t.attr,t.xa?t.xa._id:"",t.ya?t.ya._id:""].join(",")}gdt.hover=function(t,e,n,r){t=wht.getGraphDiv(t);var i=e.target;wht.throttle(t._fullLayout._uid+Tht.HOVERID,Tht.HOVERMINTIME,(function(){!function(t,e,n,r,i){n||(n="xy");var a=Array.isArray(n)?n:[n],o=t._fullLayout,s=o._plots||[],l=s[n],c=o._has("cartesian");if(l){var u=l.overlays.map((function(t){return t.id}));a=a.concat(u)}for(var d=a.length,h=new Array(d),g=new Array(d),f=!1,p=0;p<d;p++){var v=a[p];if(s[v])f=!0,h[p]=s[v].xaxis,g[p]=s[v].yaxis;else{if(!o[v]||!o[v]._subplot)return void wht.warn("Unrecognized subplot: "+v);var m=o[v]._subplot;h[p]=m.xaxis,g[p]=m.yaxis}}var y=e.hovermode||o.hovermode;y&&!f&&(y="closest");if(-1===["x","y","closest","x unified","y unified"].indexOf(y)||!t.calcdata||t.querySelector(".zoombox")||t._dragging)return kht.unhoverRaw(t,e);var b=o.hoverdistance;-1===b&&(b=1/0);var I=o.spikedistance;-1===I&&(I=1/0);var C,x,B,A,F,Q,w,U,G,R,S,L,_,E=[],k=[],V={hLinePoint:null,vLinePoint:null},Z=!1;if(Array.isArray(e))for(y="array",B=0;B<e.length;B++)(F=t.calcdata[e[B].curveNumber||0])&&(Q=F[0].trace,"skip"!==F[0].trace.hoverinfo&&(k.push(F),"h"===Q.orientation&&(Z=!0)));else{for(A=0;A<t.calcdata.length;A++)F=t.calcdata[A],"skip"!==(Q=F[0].trace).hoverinfo&&Nht.isTraceInSubplots(Q,a)&&(k.push(F),"h"===Q.orientation&&(Z=!0));var N,T;if(!i)N="xpx"in e?e.xpx:h[0]._length/2,T="ypx"in e?e.ypx:g[0]._length/2;else{if(!1===Rht.triggerHandler(t,"plotly_beforehover",e))return;var X=i.getBoundingClientRect();N=e.clientX-X.left,T=e.clientY-X.top,o._calcInverseTransform(t);var W=wht.apply3DTransform(o._invTransform)(N,T);if(N=W[0],T=W[1],N<0||N>h[0]._length||T<0||T>g[0]._length)return kht.unhoverRaw(t,e)}if(e.pointerX=N+h[0]._offset,e.pointerY=T+g[0]._offset,C="xval"in e?Nht.flat(a,e.xval):Nht.p2c(h,N),x="yval"in e?Nht.flat(a,e.yval):Nht.p2c(g,T),!Fht(C[0])||!Fht(x[0]))return wht.warn("Fx.hover failed",e,t),kht.unhoverRaw(t,e)}var M=1/0;function H(t,n){for(A=0;A<k.length;A++)if((F=k[A])&&F[0]&&F[0].trace&&!0===(Q=F[0].trace).visible&&0!==Q._length&&-1===["carpet","contourcarpet"].indexOf(Q._module.name)){if("splom"===Q.type?w=a[U=0]:(w=Nht.getSubplot(Q),U=a.indexOf(w)),G=y,Nht.isUnifiedHover(G)&&(G=G.charAt(0)),L={cd:F,trace:Q,xa:h[U],ya:g[U],maxHoverDistance:b,maxSpikeDistance:I,index:!1,distance:Math.min(M,b),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:Eht.defaultLine,name:Q.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},o[w]&&(L.subplot=o[w]._subplot),o._splomScenes&&o._splomScenes[Q.uid]&&(L.scene=o._splomScenes[Q.uid]),_=E.length,"array"===G){var r=e[A];"pointNumber"in r?(L.index=r.pointNumber,G="closest"):(G="","xval"in r&&(R=r.xval,G="x"),"yval"in r&&(S=r.yval,G=G?"closest":"y"))}else void 0!==t&&void 0!==n?(R=t,S=n):(R=C[U],S=x[U]);if(0!==b)if(Q._module&&Q._module.hoverPoints){var i=Q._module.hoverPoints(L,R,S,G,{finiteRange:!0,hoverLayer:o._hoverlayer});if(i)for(var s,l=0;l<i.length;l++)s=i[l],Fht(s.x0)&&Fht(s.y0)&&E.push(ngt(s,y))}else wht.log("Unrecognized trace type in hover:",Q);if("closest"===y&&E.length>_&&(E.splice(0,_),M=E[0].distance),c&&0!==I&&0===E.length){L.distance=I,L.index=!1;var u=Q._module.hoverPoints(L,R,S,"closest",{hoverLayer:o._hoverlayer});if(u&&(u=u.filter((function(t){return t.spikeDistance<=I}))),u&&u.length){var d,f=u.filter((function(t){return t.xa.showspikes&&"hovered data"!==t.xa.spikesnap}));if(f.length){var p=f[0];Fht(p.x0)&&Fht(p.y0)&&(d=Y(p),(!V.vLinePoint||V.vLinePoint.spikeDistance>d.spikeDistance)&&(V.vLinePoint=d))}var v=u.filter((function(t){return t.ya.showspikes&&"hovered data"!==t.ya.spikesnap}));if(v.length){var m=v[0];Fht(m.x0)&&Fht(m.y0)&&(d=Y(m),(!V.hLinePoint||V.hLinePoint.spikeDistance>d.spikeDistance)&&(V.hLinePoint=d))}}}}}function D(t,e,n){for(var r,i=null,a=1/0,o=0;o<t.length;o++)r=t[o].spikeDistance,n&&0===o&&(r=-1/0),r<=a&&r<=e&&(i=t[o],a=r);return i}function Y(t){return t?{xa:t.xa,ya:t.ya,x:void 0!==t.xSpike?t.xSpike:(t.x0+t.x1)/2,y:void 0!==t.ySpike?t.ySpike:(t.y0+t.y1)/2,distance:t.distance,spikeDistance:t.spikeDistance,curveNumber:t.trace.index,color:t.color,pointNumber:t.index}:null}H();var O={fullLayout:o,container:o._hoverlayer,event:e},z=t._spikepoints,J={vLinePoint:V.vLinePoint,hLinePoint:V.hLinePoint};t._spikepoints=J;var j=function(){E.sort((function(t,e){return t.distance-e.distance})),E=function(t,e){for(var n=e.charAt(0),r=[],i=[],a=[],o=0;o<t.length;o++){var s=t[o];Zht.traceIs(s.trace,"bar-like")||Zht.traceIs(s.trace,"box-violin")?a.push(s):s.trace[n+"period"]?i.push(s):r.push(s)}return r.concat(i).concat(a)}(E,y)};j();var P=y.charAt(0),K=("x"===P||"y"===P)&&E[0]&&Pht[E[0].trace.type];if(c&&0!==I&&0!==E.length){var q=D(E.filter((function(t){return t.ya.showspikes})),I,K);V.hLinePoint=Y(q);var $=D(E.filter((function(t){return t.xa.showspikes})),I,K);V.vLinePoint=Y($)}if(0===E.length){var tt=kht.unhoverRaw(t,e);return!c||null===V.hLinePoint&&null===V.vLinePoint||igt(z)&&rgt(t,V,O),tt}c&&igt(z)&&rgt(t,V,O);if(Nht.isXYhover(G)&&0!==E[0].length&&"splom"!==E[0].trace.type){var et=E[0];E=jht[et.trace.type]?E.filter((function(t){return t.trace.index===et.trace.index})):[et];var nt=E.length;H(ogt("x",et,o),ogt("y",et,o));var rt,it=[],at={},ot=0,st=function(t){var e=jht[t.trace.type]?Kht(t):t.trace.index;if(at[e]){var n=at[e]-1,r=it[n];n>0&&Math.abs(t.distance)<Math.abs(r.distance)&&(it[n]=t)}else ot++,at[e]=ot,it.push(t)};for(rt=0;rt<nt;rt++)st(E[rt]);for(rt=E.length-1;rt>nt-1;rt--)st(E[rt]);E=it,j()}var lt=t._hoverdata,ct=[],ut=sgt(t),dt=lgt(t);for(B=0;B<E.length;B++){var ht=E[B],gt=Nht.makeEventData(ht,ht.trace,ht.cd);if(!1!==ht.hovertemplate){var ft=!1;ht.cd[ht.index]&&ht.cd[ht.index].ht&&(ft=ht.cd[ht.index].ht),ht.hovertemplate=ft||ht.trace.hovertemplate||!1}if(ht.xa&&ht.ya){var pt=ht.x0+ht.xa._offset,vt=ht.x1+ht.xa._offset,mt=ht.y0+ht.ya._offset,yt=ht.y1+ht.ya._offset,bt=Math.min(pt,vt),It=Math.max(pt,vt),Ct=Math.min(mt,yt),xt=Math.max(mt,yt);gt.bbox={x0:bt+dt,x1:It+dt,y0:Ct+ut,y1:xt+ut}}ht.eventData=[gt],ct.push(gt)}t._hoverdata=ct;var Bt="y"===y&&(k.length>1||E.length>1)||"closest"===y&&Z&&E.length>1,At=Eht.combine(o.plot_bgcolor||Eht.background,o.paper_bgcolor),Ft=$ht(E,{gd:t,hovermode:y,rotateLabels:Bt,bgColor:At,container:o._hoverlayer,outerContainer:o._paper.node(),commonLabelOpts:o.hoverlabel,hoverdistance:o.hoverdistance});Nht.isUnifiedHover(y)||(!function(t,e,n){var r,i,a,o,s,l,c,u=0,d=1,h=t.size(),g=new Array(h),f=0;function p(t){var e=t[0],n=t[t.length-1];if(i=e.pmin-e.pos-e.dp+e.size,a=n.pos+n.dp+n.size-e.pmax,i>.01){for(s=t.length-1;s>=0;s--)t[s].dp+=i;r=!1}if(!(a<.01)){if(i<-.01){for(s=t.length-1;s>=0;s--)t[s].dp-=a;r=!1}if(r){var c=0;for(o=0;o<t.length;o++)(l=t[o]).pos+l.dp+l.size>e.pmax&&c++;for(o=t.length-1;o>=0&&!(c<=0);o--)(l=t[o]).pos>e.pmax-1&&(l.del=!0,c--);for(o=0;o<t.length&&!(c<=0);o++)if((l=t[o]).pos<e.pmin+1)for(l.del=!0,c--,a=2*l.size,s=t.length-1;s>=0;s--)t[s].dp-=a;for(o=t.length-1;o>=0&&!(c<=0);o--)(l=t[o]).pos+l.dp+l.size>e.pmax&&(l.del=!0,c--)}}}t.each((function(t){var r=t[e],i="x"===r._id.charAt(0),a=r.range;0===f&&a&&a[0]>a[1]!==i&&(d=-1),g[f++]=[{datum:t,traceIndex:t.trace.index,dp:0,pos:t.pos,posref:t.posref,size:t.by*(i?Dht:1)/2,pmin:0,pmax:i?n.width:n.height}]})),g.sort((function(t,e){return t[0].posref-e[0].posref||d*(e[0].traceIndex-t[0].traceIndex)}));for(;!r&&u<=h;){for(u++,r=!0,o=0;o<g.length-1;){var v=g[o],m=g[o+1],y=v[v.length-1],b=m[0];if((i=y.pos+y.dp+y.size-b.pos-b.dp+b.size)>.01&&y.pmin===b.pmin&&y.pmax===b.pmax){for(s=m.length-1;s>=0;s--)m[s].dp+=i;for(v.push.apply(v,m),g.splice(o+1,1),c=0,s=v.length-1;s>=0;s--)c+=v[s].dp;for(a=c/v.length,s=v.length-1;s>=0;s--)v[s].dp-=a;r=!1}else o++}g.forEach(p)}for(o=g.length-1;o>=0;o--){var I=g[o];for(s=I.length-1;s>=0;s--){var C=I[s],x=C.datum;x.offset=C.dp,x.del=C.del}}}(Ft,Bt?"xa":"ya",o),egt(Ft,Bt,o._invScaleX,o._invScaleY));if(i&&i.tagName){var Qt=Zht.getComponentMethod("annotations","hasClickToShow")(t,ct);Lht(Aht.select(i),Qt?"pointer":"")}if(!i||r||!function(t,e,n){if(!n||n.length!==t._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var i=n[r],a=t._hoverdata[r];if(i.curveNumber!==a.curveNumber||String(i.pointNumber)!==String(a.pointNumber)||String(i.pointNumbers)!==String(a.pointNumbers))return!0}return!1}(t,0,lt))return;lt&&t.emit("plotly_unhover",{event:e,points:lt});t.emit("plotly_hover",{event:e,points:t._hoverdata,xaxes:h,yaxes:g,xvals:C,yvals:x})}(t,e,n,r,i)}))},gdt.loneHover=function(t,e){var n=!0;Array.isArray(t)||(n=!1,t=[t]);var r=e.gd,i=sgt(r),a=lgt(r),o=$ht(t.map((function(t){var n=t._x0||t.x0||t.x||0,o=t._x1||t.x1||t.x||0,s=t._y0||t.y0||t.y||0,l=t._y1||t.y1||t.y||0,c=t.eventData;if(c){var u=Math.min(n,o),d=Math.max(n,o),h=Math.min(s,l),g=Math.max(s,l),f=t.trace;if(Zht.traceIs(f,"gl3d")){var p=r._fullLayout[f.scene]._scene.container,v=p.offsetLeft,m=p.offsetTop;u+=v,d+=v,h+=m,g+=m}c.bbox={x0:u+a,x1:d+a,y0:h+i,y1:g+i},e.inOut_bbox&&e.inOut_bbox.push(c.bbox)}else c=!1;return{color:t.color||Eht.defaultLine,x0:t.x0||t.x||0,x1:t.x1||t.x||0,y0:t.y0||t.y||0,y1:t.y1||t.y||0,xLabel:t.xLabel,yLabel:t.yLabel,zLabel:t.zLabel,text:t.text,name:t.name,idealAlign:t.idealAlign,borderColor:t.borderColor,fontFamily:t.fontFamily,fontSize:t.fontSize,fontColor:t.fontColor,nameLength:t.nameLength,textAlign:t.textAlign,trace:t.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:t.hovertemplate||!1,hovertemplateLabels:t.hovertemplateLabels||!1,eventData:c}})),{gd:r,hovermode:"closest",rotateLabels:false,bgColor:e.bgColor||Eht.background,container:Aht.select(e.container),outerContainer:e.outerContainer||e.container}),s=0,l=0;return o.sort((function(t,e){return t.y0-e.y0})).each((function(t,n){var r=t.y0-t.by/2;t.offset=r-5<s?s-r+5:0,s=r+t.by+t.offset,n===e.anchorIndex&&(l=t.offset)})).each((function(t){t.offset-=l})),egt(o,false,r._fullLayout._invScaleX,r._fullLayout._invScaleY),n?o:o.node()};var qht=/<extra>([\s\S]*)<\/extra>/;function $ht(t,e){var n=e.gd,r=n._fullLayout,i=e.hovermode,a=e.rotateLabels,o=e.bgColor,s=e.container,l=e.outerContainer,c=e.commonLabelOpts||{};if(0===t.length)return[[]];var u=e.fontFamily||Tht.HOVERFONT,d=e.fontSize||Tht.HOVERFONTSIZE,h=t[0],g=h.xa,f=h.ya,p=i.charAt(0),v=h[p+"Label"],m=cgt(n,l),y=m.top,b=m.width,I=m.height,C=void 0!==v&&h.distance<=e.hoverdistance&&("x"===i||"y"===i);if(C){var x,B,A=!0;for(x=0;x<t.length;x++)if(A&&void 0===t[x].zLabel&&(A=!1),B=t[x].hoverinfo||t[x].trace.hoverinfo){var F=Array.isArray(B)?B:B.split("+");if(-1===F.indexOf("all")&&-1===F.indexOf(i)){C=!1;break}}A&&(C=!1)}var Q=s.selectAll("g.axistext").data(C?[0]:[]);if(Q.enter().append("g").classed("axistext",!0),Q.exit().remove(),Q.each((function(){var t=Aht.select(this),e=wht.ensureSingle(t,"path","",(function(t){t.style({"stroke-width":"1px"})})),a=wht.ensureSingle(t,"text","",(function(t){t.attr("data-notex",1)})),o=c.bgcolor||Eht.defaultLine,s=c.bordercolor||Eht.contrast(o),l=Eht.contrast(o),p={family:c.font.family||u,size:c.font.size||d,color:c.font.color||l};e.style({fill:o,stroke:s}),a.text(v).call(_ht.font,p).call(Sht.positionText,0,0).call(Sht.convertToTspans,n),t.attr("transform","");var m,b,I=cgt(n,a.node());if("x"===i){var C="top"===g.side?"-":"";a.attr("text-anchor","middle").call(Sht.positionText,0,"top"===g.side?y-I.bottom-zht-Jht:y-I.top+zht+Jht),m=g._offset+(h.x0+h.x1)/2,b=f._offset+("top"===g.side?0:f._length);var x=I.width/2+Jht;m<x?(m=x,e.attr("d","M-"+(x-zht)+",0L-"+(x-2*zht)+","+C+zht+"H"+(Jht+I.width/2)+"v"+C+(2*Jht+I.height)+"H-"+x+"V"+C+zht+"Z")):m>r.width-x?(m=r.width-x,e.attr("d","M"+(x-zht)+",0L"+x+","+C+zht+"v"+C+(2*Jht+I.height)+"H-"+x+"V"+C+zht+"H"+(x-2*zht)+"Z")):e.attr("d","M0,0L"+zht+","+C+zht+"H"+(Jht+I.width/2)+"v"+C+(2*Jht+I.height)+"H-"+(Jht+I.width/2)+"V"+C+zht+"H-"+zht+"Z")}else{var B,A,F;"right"===f.side?(B="start",A=1,F="",m=g._offset+g._length):(B="end",A=-1,F="-",m=g._offset),b=f._offset+(h.y0+h.y1)/2,a.attr("text-anchor",B),e.attr("d","M0,0L"+F+zht+","+zht+"V"+(Jht+I.height/2)+"h"+F+(2*Jht+I.width)+"V-"+(Jht+I.height/2)+"H"+F+zht+"V-"+zht+"Z");var Q,w=I.height/2,U=y-I.top-w,G="clip"+r._uid+"commonlabel"+f._id;if(m<I.width+2*Jht+zht){Q="M-"+(zht+Jht)+"-"+w+"h-"+(I.width-Jht)+"V"+w+"h"+(I.width-Jht)+"Z";var R=I.width-m+Jht;Sht.positionText(a,R,U),"end"===B&&a.selectAll("tspan").each((function(){var t=Aht.select(this),e=_ht.tester.append("text").text(t.text()).call(_ht.font,p),r=cgt(n,e.node());Math.round(r.width)<Math.round(I.width)&&t.attr("x",R-r.width),e.remove()}))}else Sht.positionText(a,A*(Jht+zht),U),Q=null;var S=r._topclips.selectAll("#"+G).data(Q?[0]:[]);S.enter().append("clipPath").attr("id",G).append("path"),S.exit().remove(),S.select("path").attr("d",Q),_ht.setClipUrl(a,Q?G:null,n)}t.attr("transform",Uht(m,b))})),Nht.isUnifiedHover(i)){s.selectAll("g.hovertext").remove();var w=t.filter((function(t){return"none"!==t.hoverinfo}));if(0===w.length)return;var U=r.hoverlabel,G=U.font,R={showlegend:!0,legend:{title:{text:v,font:G},font:G,bgcolor:U.bgcolor,bordercolor:U.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:r.legend?r.legend.traceorder:void 0,orientation:"v"}},S={font:G};Xht(R,S,n._fullData);var L=S.legend;L.entries=[];for(var _=0;_<w.length;_++){var E=w[_];if("none"!==E.hoverinfo){var k=tgt(E,!0,i,r,v),V=k[0],Z=k[1];E.name=Z,E.text=""!==Z?Z+" : "+V:V;var N=E.cd[E.index];N&&(N.mc&&(E.mc=N.mc),N.mcc&&(E.mc=N.mcc),N.mlc&&(E.mlc=N.mlc),N.mlcc&&(E.mlc=N.mlcc),N.mlw&&(E.mlw=N.mlw),N.mrc&&(E.mrc=N.mrc),N.dir&&(E.dir=N.dir)),E._distinct=!0,L.entries.push([E])}}L.entries.sort((function(t,e){return t[0].trace.index-e[0].trace.index})),L.layer=s,L._inHover=!0,L._groupTitleFont=U.grouptitlefont,Wht(n,L);var T,X,W,M,H=s.select("g.legend"),D=cgt(n,H.node()),Y=D.width+2*Jht,O=D.height+2*Jht,z=w[0],J=(z.x0+z.x1)/2,j=(z.y0+z.y1)/2,P=!(Zht.traceIs(z.trace,"bar-like")||Zht.traceIs(z.trace,"box-violin"));"y"===p?P?(X=j-Jht,T=j+Jht):(X=Math.min.apply(null,w.map((function(t){return Math.min(t.y0,t.y1)}))),T=Math.max.apply(null,w.map((function(t){return Math.max(t.y0,t.y1)})))):X=T=wht.mean(w.map((function(t){return(t.y0+t.y1)/2})))-O/2,"x"===p?P?(W=J+Jht,M=J-Jht):(W=Math.max.apply(null,w.map((function(t){return Math.max(t.x0,t.x1)}))),M=Math.min.apply(null,w.map((function(t){return Math.min(t.x0,t.x1)})))):W=M=wht.mean(w.map((function(t){return(t.x0+t.x1)/2})))-Y/2;var K,q,$=g._offset,tt=f._offset;return M+=$-Y,X+=tt-O,K=(W+=$)+Y<b&&W>=0?W:M+Y<b&&M>=0?M:$+Y<b?$:W-J<J-M+Y?b-Y:0,K+=Jht,q=(T+=tt)+O<I&&T>=0?T:X+O<I&&X>=0?X:tt+O<I?tt:T-j<j-X+O?I-O:0,q+=Jht,H.attr("transform",Uht(K-1,q-1)),H}var et=s.selectAll("g.hovertext").data(t,(function(t){return Kht(t)}));return et.enter().append("g").classed("hovertext",!0).each((function(){var t=Aht.select(this);t.append("rect").call(Eht.fill,Eht.addOpacity(o,.8)),t.append("text").classed("name",!0),t.append("path").style("stroke-width","1px"),t.append("text").classed("nums",!0).call(_ht.font,u,d)})),et.exit().remove(),et.each((function(t){var e=Aht.select(this).attr("transform",""),s=t.color;Array.isArray(s)&&(s=s[t.eventData[0].pointNumber]);var l=t.bgcolor||s,c=Eht.combine(Eht.opacity(l)?l:Eht.defaultLine,o),h=Eht.combine(Eht.opacity(s)?s:Eht.defaultLine,o),g=t.borderColor||Eht.contrast(c),f=tgt(t,C,i,r,v,e),p=f[0],m=f[1],x=e.select("text.nums").call(_ht.font,t.fontFamily||u,t.fontSize||d,t.fontColor||g).text(p).attr("data-notex",1).call(Sht.positionText,0,0).call(Sht.convertToTspans,n),B=e.select("text.name"),A=0,F=0;if(m&&m!==p){B.call(_ht.font,t.fontFamily||u,t.fontSize||d,h).text(m).attr("data-notex",1).call(Sht.positionText,0,0).call(Sht.convertToTspans,n);var Q=cgt(n,B.node());A=Q.width+2*Jht,F=Q.height+2*Jht}else B.remove(),e.select("rect").remove();e.select("path").style({fill:c,stroke:g});var w=t.xa._offset+(t.x0+t.x1)/2,U=t.ya._offset+(t.y0+t.y1)/2,G=Math.abs(t.x1-t.x0),R=Math.abs(t.y1-t.y0),S=cgt(n,x.node()),L=S.width/r._invScaleX,_=S.height/r._invScaleY;t.ty0=(y-S.top)/r._invScaleY,t.bx=L+2*Jht,t.by=Math.max(_+2*Jht,F),t.anchor="start",t.txwidth=L,t.tx2width=A,t.offset=0;var E,k,V=(L+zht+Jht+A)*r._invScaleX;if(a)t.pos=w,E=U+R/2+V<=I,k=U-R/2-V>=0,"top"!==t.idealAlign&&E||!k?E?(U+=R/2,t.anchor="start"):t.anchor="middle":(U-=R/2,t.anchor="end");else if(t.pos=U,E=w+G/2+V<=b,k=w-G/2-V>=0,"left"!==t.idealAlign&&E||!k)if(E)w+=G/2,t.anchor="start";else{t.anchor="middle";var Z=V/2,N=w+Z-b,T=w-Z;N>0&&(w-=N),T<0&&(w+=-T)}else w-=G/2,t.anchor="end";x.attr("text-anchor",t.anchor),A&&B.attr("text-anchor",t.anchor),e.attr("transform",Uht(w,U)+(a?Ght(Mht):""))})),et}function tgt(t,e,n,r,i,a){var o="",s="";void 0!==t.nameOverride&&(t.name=t.nameOverride),t.name&&(t.trace._meta&&(t.name=wht.templateString(t.name,t.trace._meta)),o=agt(t.name,t.nameLength));var l=n.charAt(0),c="x"===l?"y":"x";void 0!==t.zLabel?(void 0!==t.xLabel&&(s+="x: "+t.xLabel+"<br>"),void 0!==t.yLabel&&(s+="y: "+t.yLabel+"<br>"),"choropleth"!==t.trace.type&&"choroplethmapbox"!==t.trace.type&&(s+=(s?"z: ":"")+t.zLabel)):e&&t[l+"Label"]===i?s=t[c+"Label"]||"":void 0===t.xLabel?void 0!==t.yLabel&&"scattercarpet"!==t.trace.type&&(s=t.yLabel):s=void 0===t.yLabel?t.xLabel:"("+t.xLabel+", "+t.yLabel+")",!t.text&&0!==t.text||Array.isArray(t.text)||(s+=(s?"<br>":"")+t.text),void 0!==t.extraText&&(s+=(s?"<br>":"")+t.extraText),a&&""===s&&!t.hovertemplate&&(""===o&&a.remove(),s=o);var u=t.hovertemplate||!1;if(u){var d=t.hovertemplateLabels||t;t[l+"Label"]!==i&&(d[l+"other"]=d[l+"Val"],d[l+"otherLabel"]=d[l+"Label"]),s=(s=wht.hovertemplateString(u,d,r._d3locale,t.eventData[0]||{},t.trace._meta)).replace(qht,(function(e,n){return o=agt(n,t.nameLength),""}))}return[s,o]}function egt(t,e,n,r){var i=function(t){return t*n},a=function(t){return t*r};t.each((function(t){var n=Aht.select(this);if(t.del)return n.remove();var r=n.select("text.nums"),o=t.anchor,s="end"===o?-1:1,l={start:1,end:-1,middle:0}[o],c=l*(zht+Jht),u=c+l*(t.txwidth+Jht),d=0,h=t.offset,g="middle"===o;g&&(c-=t.tx2width/2,u+=t.txwidth/2+Jht),e&&(h*=-Oht,d=t.offset*Yht),n.select("path").attr("d",g?"M-"+i(t.bx/2+t.tx2width/2)+","+a(h-t.by/2)+"h"+i(t.bx)+"v"+a(t.by)+"h-"+i(t.bx)+"Z":"M0,0L"+i(s*zht+d)+","+a(zht+h)+"v"+a(t.by/2-zht)+"h"+i(s*t.bx)+"v-"+a(t.by)+"H"+i(s*zht+d)+"V"+a(h-zht)+"Z");var f=d+c,p=h+t.ty0-t.by/2+Jht,v=t.textAlign||"auto";"auto"!==v&&("left"===v&&"start"!==o?(r.attr("text-anchor","start"),f=g?-t.bx/2-t.tx2width/2+Jht:-t.bx-Jht):"right"===v&&"end"!==o&&(r.attr("text-anchor","end"),f=g?t.bx/2-t.tx2width/2-Jht:t.bx+Jht)),r.call(Sht.positionText,i(f),a(p)),t.tx2width&&(n.select("text.name").call(Sht.positionText,i(u+l*Jht+d),a(h+t.ty0-t.by/2+Jht)),n.select("rect").call(_ht.setRect,i(u+(l-1)*t.tx2width/2+d),a(h-t.by/2-1),i(t.tx2width),a(t.by+2)))}))}function ngt(t,e){var n=t.index,r=t.trace||{},i=t.cd[0],a=t.cd[n]||{};function o(t){return t||Fht(t)&&0===t}var s=Array.isArray(n)?function(t,e){var a=wht.castOption(i,n,t);return o(a)?a:wht.extractOption({},r,"",e)}:function(t,e){return wht.extractOption(a,r,t,e)};function l(e,n,r){var i=s(n,r);o(i)&&(t[e]=i)}if(l("hoverinfo","hi","hoverinfo"),l("bgcolor","hbg","hoverlabel.bgcolor"),l("borderColor","hbc","hoverlabel.bordercolor"),l("fontFamily","htf","hoverlabel.font.family"),l("fontSize","hts","hoverlabel.font.size"),l("fontColor","htc","hoverlabel.font.color"),l("nameLength","hnl","hoverlabel.namelength"),l("textAlign","hta","hoverlabel.align"),t.posref="y"===e||"closest"===e&&"h"===r.orientation?t.xa._offset+(t.x0+t.x1)/2:t.ya._offset+(t.y0+t.y1)/2,t.x0=wht.constrain(t.x0,0,t.xa._length),t.x1=wht.constrain(t.x1,0,t.xa._length),t.y0=wht.constrain(t.y0,0,t.ya._length),t.y1=wht.constrain(t.y1,0,t.ya._length),void 0!==t.xLabelVal&&(t.xLabel="xLabel"in t?t.xLabel:Vht.hoverLabelText(t.xa,t.xLabelVal,r.xhoverformat),t.xVal=t.xa.c2d(t.xLabelVal)),void 0!==t.yLabelVal&&(t.yLabel="yLabel"in t?t.yLabel:Vht.hoverLabelText(t.ya,t.yLabelVal,r.yhoverformat),t.yVal=t.ya.c2d(t.yLabelVal)),void 0!==t.zLabelVal&&void 0===t.zLabel&&(t.zLabel=String(t.zLabelVal)),!(isNaN(t.xerr)||"log"===t.xa.type&&t.xerr<=0)){var c=Vht.tickText(t.xa,t.xa.c2l(t.xerr),"hover").text;void 0!==t.xerrneg?t.xLabel+=" +"+c+" / -"+Vht.tickText(t.xa,t.xa.c2l(t.xerrneg),"hover").text:t.xLabel+=" ± "+c,"x"===e&&(t.distance+=1)}if(!(isNaN(t.yerr)||"log"===t.ya.type&&t.yerr<=0)){var u=Vht.tickText(t.ya,t.ya.c2l(t.yerr),"hover").text;void 0!==t.yerrneg?t.yLabel+=" +"+u+" / -"+Vht.tickText(t.ya,t.ya.c2l(t.yerrneg),"hover").text:t.yLabel+=" ± "+u,"y"===e&&(t.distance+=1)}var d=t.hoverinfo||t.trace.hoverinfo;return d&&"all"!==d&&(-1===(d=Array.isArray(d)?d:d.split("+")).indexOf("x")&&(t.xLabel=void 0),-1===d.indexOf("y")&&(t.yLabel=void 0),-1===d.indexOf("z")&&(t.zLabel=void 0),-1===d.indexOf("text")&&(t.text=void 0),-1===d.indexOf("name")&&(t.name=void 0)),t}function rgt(t,e,n){var r,i,a=n.container,o=n.fullLayout,s=o._size,l=n.event,c=!!e.hLinePoint,u=!!e.vLinePoint;if(a.selectAll(".spikeline").remove(),u||c){var d=Eht.combine(o.plot_bgcolor,o.paper_bgcolor);if(c){var h,g,f=e.hLinePoint;r=f&&f.xa,"cursor"===(i=f&&f.ya).spikesnap?(h=l.pointerX,g=l.pointerY):(h=r._offset+f.x,g=i._offset+f.y);var p,v,m=Qht.readability(f.color,d)<1.5?Eht.contrast(d):f.color,y=i.spikemode,b=i.spikethickness,I=i.spikecolor||m,C=Vht.getPxPosition(t,i);if(-1!==y.indexOf("toaxis")||-1!==y.indexOf("across")){if(-1!==y.indexOf("toaxis")&&(p=C,v=h),-1!==y.indexOf("across")){var x=i._counterDomainMin,B=i._counterDomainMax;"free"===i.anchor&&(x=Math.min(x,i.position),B=Math.max(B,i.position)),p=s.l+x*s.w,v=s.l+B*s.w}a.insert("line",":first-child").attr({x1:p,x2:v,y1:g,y2:g,"stroke-width":b,stroke:I,"stroke-dasharray":_ht.dashStyle(i.spikedash,b)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:p,x2:v,y1:g,y2:g,"stroke-width":b+2,stroke:d}).classed("spikeline",!0).classed("crisp",!0)}-1!==y.indexOf("marker")&&a.insert("circle",":first-child").attr({cx:C+("right"!==i.side?b:-b),cy:g,r:b,fill:I}).classed("spikeline",!0)}if(u){var A,F,Q=e.vLinePoint;r=Q&&Q.xa,i=Q&&Q.ya,"cursor"===r.spikesnap?(A=l.pointerX,F=l.pointerY):(A=r._offset+Q.x,F=i._offset+Q.y);var w,U,G=Qht.readability(Q.color,d)<1.5?Eht.contrast(d):Q.color,R=r.spikemode,S=r.spikethickness,L=r.spikecolor||G,_=Vht.getPxPosition(t,r);if(-1!==R.indexOf("toaxis")||-1!==R.indexOf("across")){if(-1!==R.indexOf("toaxis")&&(w=_,U=F),-1!==R.indexOf("across")){var E=r._counterDomainMin,k=r._counterDomainMax;"free"===r.anchor&&(E=Math.min(E,r.position),k=Math.max(k,r.position)),w=s.t+(1-k)*s.h,U=s.t+(1-E)*s.h}a.insert("line",":first-child").attr({x1:A,x2:A,y1:w,y2:U,"stroke-width":S,stroke:L,"stroke-dasharray":_ht.dashStyle(r.spikedash,S)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:A,x2:A,y1:w,y2:U,"stroke-width":S+2,stroke:d}).classed("spikeline",!0).classed("crisp",!0)}-1!==R.indexOf("marker")&&a.insert("circle",":first-child").attr({cx:A,cy:_-("top"!==r.side?S:-S),r:S,fill:L}).classed("spikeline",!0)}}}function igt(t,e){return!e||(e.vLinePoint!==t._spikepoints.vLinePoint||e.hLinePoint!==t._spikepoints.hLinePoint)}function agt(t,e){return Sht.plainText(t||"",{len:e,allowedTags:["br","sub","sup","b","i","em"]})}function ogt(t,e,n){var r=e[t+"a"],i=e[t+"Val"],a=e.cd[0];if("category"===r.type)i=r._categoriesMap[i];else if("date"===r.type){var o=e.trace[t+"periodalignment"];if(o){var s=e.cd[e.index],l=s[t+"Start"];void 0===l&&(l=s[t]);var c=s[t+"End"];void 0===c&&(c=s[t]);var u=c-l;"end"===o?i+=u:"middle"===o&&(i+=u/2)}i=r.d2c(i)}return a&&a.t&&a.t.posLetter===r._id&&("group"!==n.boxmode&&"group"!==n.violinmode||(i+=a.t.dPos)),i}function sgt(t){return t.offsetTop+t.clientTop}function lgt(t){return t.offsetLeft+t.clientLeft}function cgt(t,e){var n=t._fullLayout,r=e.getBoundingClientRect(),i=r.x,a=r.y,o=i+r.width,s=a+r.height,l=wht.apply3DTransform(n._invTransform)(i,a),c=wht.apply3DTransform(n._invTransform)(o,s),u=l[0],d=l[1],h=c[0],g=c[1];return{x:u,y:d,width:h-u,height:g-d,top:Math.min(d,g),left:Math.min(u,h),right:Math.max(u,h),bottom:Math.max(d,g)}}var ugt=Q4.exports,dgt=Ott.exports,hgt=Qst.isUnifiedHover,ggt=function(t,e,n,r){r=r||{};var i=e.legend;function a(t){r.font[t]||(r.font[t]=i?e.legend.font[t]:e.font[t])}e&&hgt(e.hovermode)&&(r.font||(r.font={}),a("size"),a("family"),a("color"),i?(r.bgcolor||(r.bgcolor=dgt.combine(e.legend.bgcolor,e.paper_bgcolor)),r.bordercolor||(r.bordercolor=e.legend.bordercolor)):r.bgcolor||(r.bgcolor=e.paper_bgcolor)),n("hoverlabel.bgcolor",r.bgcolor),n("hoverlabel.bordercolor",r.bordercolor),n("hoverlabel.namelength",r.namelength),ugt.coerceFont(n,"hoverlabel.font",r.font),n("hoverlabel.align",r.align)},fgt=Q4.exports,pgt=ggt,vgt=Gtt,mgt=Q4.exports,ygt=Ztt,bgt=ggt,Igt=Q4.exports,Cgt=Gtt,xgt=function(t,e){function n(n,r){return void 0!==e[n]?e[n]:Igt.coerce(t,e,Cgt,n,r)}return n("clickmode"),n("hovermode")},Bgt=Q4.exports,Agt=Gtt,Fgt=xgt,Qgt=ggt,wgt=Q4.exports,Ugt=met;function Ggt(t,e,n,r){r=r||wgt.identity,Array.isArray(t)&&(e[0][n]=r(t))}var Rgt=met,Sgt=gdt.hover,Lgt=w4.exports,_gt=Q4.exports,Egt=Jut.exports,kgt=gdt,Vgt={moduleType:"component",name:"fx",constants:Ftt,schema:{layout:Gtt},attributes:Ztt,layoutAttributes:Gtt,supplyLayoutGlobalDefaults:function(t,e){pgt(t,e,(function(n,r){return fgt.coerce(t,e,vgt,n,r)}))},supplyDefaults:function(t,e,n,r){var i=mgt.extendFlat({},r.hoverlabel);e.hovertemplate&&(i.namelength=-1),bgt(t,e,(function(n,r){return mgt.coerce(t,e,ygt,n,r)}),i)},supplyLayoutDefaults:function(t,e){function n(n,r){return Bgt.coerce(t,e,Agt,n,r)}Fgt(t,e)&&(n("hoverdistance"),n("spikedistance")),"select"===n("dragmode")&&n("selectdirection");var r=e._has("mapbox"),i=e._has("geo"),a=e._basePlotModules.length;"zoom"===e.dragmode&&((r||i)&&1===a||r&&i&&2===a)&&(e.dragmode="pan"),Qgt(t,e,n),Bgt.coerceFont(n,"hoverlabel.grouptitlefont",e.hoverlabel.font)},calc:function(t){var e=t.calcdata,n=t._fullLayout;function r(t){return function(e){return wgt.coerceHoverinfo({hoverinfo:e},{_module:t._module},n)}}for(var i=0;i<e.length;i++){var a=e[i],o=a[0].trace;if(!Ugt.traceIs(o,"pie-like")){var s=Ugt.traceIs(o,"2dMap")?Ggt:wgt.fillArray;s(o.hoverinfo,a,"hi",r(o)),o.hovertemplate&&s(o.hovertemplate,a,"ht"),o.hoverlabel&&(s(o.hoverlabel.bgcolor,a,"hbg"),s(o.hoverlabel.bordercolor,a,"hbc"),s(o.hoverlabel.font.size,a,"hts"),s(o.hoverlabel.font.color,a,"htc"),s(o.hoverlabel.font.family,a,"htf"),s(o.hoverlabel.namelength,a,"hnl"),s(o.hoverlabel.align,a,"hta"))}}},getDistanceFunction:Qst.getDistanceFunction,getClosest:Qst.getClosest,inbox:Qst.inbox,quadrature:Qst.quadrature,appendArrayPointValue:Qst.appendArrayPointValue,castHoverOption:function(t,e,n){return _gt.castOption(t,e,"hoverlabel."+n)},castHoverinfo:function(t,e,n){return _gt.castOption(t,n,"hoverinfo",(function(n){return _gt.coerceHoverinfo({hoverinfo:n},{_module:t._module},e)}))},hover:kgt.hover,unhover:Egt.unhover,loneHover:kgt.loneHover,loneUnhover:function(t){var e=_gt.isD3Selection(t)?t:Lgt.select(t);e.selectAll("g.hovertext").remove(),e.selectAll(".spikeline").remove()},click:function(t,e,n){var r=Rgt.getComponentMethod("annotations","onClick")(t,t._hoverdata);function i(){t.emit("plotly_click",{points:t._hoverdata,event:e})}void 0!==n&&Sgt(t,e,n,!0),t._hoverdata&&e&&e.target&&(r&&r.then?r.then(i):i(),e.stopImmediatePropagation&&e.stopImmediatePropagation())}};var Zgt={};!function(t){t.selectMode=function(t){return"lasso"===t||"select"===t},t.drawMode=function(t){return"drawclosedpath"===t||"drawopenpath"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},t.openMode=function(t){return"drawline"===t||"drawopenpath"===t},t.rectMode=function(t){return"select"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},t.freeMode=function(t){return"lasso"===t||"drawclosedpath"===t||"drawopenpath"===t},t.selectingOrDrawing=function(e){return t.freeMode(e)||t.rectMode(e)}}(Zgt);var Ngt=function(t){var e=t._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each((function(t){t.regl&&t.regl.clear({color:!0,depth:!0})}))},Tgt={},Xgt={exports:{}},Wgt={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}},Mgt={},Hgt=function(t){var e=[];return t.replace(Ygt,(function(t,n,r){var i=n.toLowerCase();for(r=function(t){var e=t.match(Ogt);return e?e.map(Number):[]}(r),"m"==i&&r.length>2&&(e.push([n].concat(r.splice(0,2))),i="l",n="m"==n?"l":"L");;){if(r.length==Dgt[i])return r.unshift(n),e.push(r);if(r.length<Dgt[i])throw new Error("malformed path data");e.push([n].concat(r.splice(0,Dgt[i])))}})),e},Dgt={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},Ygt=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var Ogt=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;var zgt={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)},Jgt=Q4.exports.strTranslate;function jgt(t,e){switch(t.type){case"log":return t.p2d(e);case"date":return t.p2r(e,0,t.calendar);default:return t.p2r(e)}}var Pgt={p2r:jgt,r2p:function(t,e){switch(t.type){case"log":return t.d2p(e);case"date":return t.r2p(e,0,t.calendar);default:return t.r2p(e)}},axValue:function(t){var e="y"===t._id.charAt(0)?1:0;return function(n){return jgt(t,n[e])}},getTransform:function(t){return Jgt(t.xaxis._offset,t.yaxis._offset)}};!function(t){var e=Hgt,n=zgt.CIRCLE_SIDES,r=zgt.SQRT2,i=Pgt.p2r,a=Pgt.r2p,o=[0,3,4,5,6,1,2],s=[0,3,4,1,2];function l(t,e){return Math.abs(t-e)<=1e-6}function c(t,e){var n=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(n*n+r*r)}t.writePaths=function(t){var e=t.length;if(!e)return"M0,0Z";for(var n="",r=0;r<e;r++)for(var i=t[r].length,a=0;a<i;a++){var l=t[r][a][0];if("Z"===l)n+="Z";else for(var c=t[r][a].length,u=0;u<c;u++){var d=u;"Q"===l||"S"===l?d=s[u]:"C"===l&&(d=o[u]),n+=t[r][a][d],u>0&&u<c-1&&(n+=",")}}return n},t.readPaths=function(t,r,o,s){var l,c,u,d=e(t),h=[],g=-1,f=0,p=0,v=function(){c=f,u=p};v();for(var m=0;m<d.length;m++){var y,b,I,C,x=[],B=d[m][0],A=B;switch(B){case"M":g++,h[g]=[],f=+d[m][1],p=+d[m][2],x.push([A,f,p]),v();break;case"Q":case"S":y=+d[m][1],I=+d[m][2],f=+d[m][3],p=+d[m][4],x.push([A,f,p,y,I]);break;case"C":y=+d[m][1],I=+d[m][2],b=+d[m][3],C=+d[m][4],f=+d[m][5],p=+d[m][6],x.push([A,f,p,y,I,b,C]);break;case"T":case"L":f=+d[m][1],p=+d[m][2],x.push([A,f,p]);break;case"H":A="L",f=+d[m][1],x.push([A,f,p]);break;case"V":A="L",p=+d[m][1],x.push([A,f,p]);break;case"A":A="L";var F=+d[m][1],Q=+d[m][2];+d[m][4]||(F=-F,Q=-Q);var w=f-F,U=p;for(l=1;l<=n/2;l++){var G=2*Math.PI*l/n;x.push([A,w+F*Math.cos(G),U+Q*Math.sin(G)])}break;case"Z":f===c&&p===u||(f=c,p=u,x.push([A,f,p]))}for(var R=(o||{}).domain,S=r._fullLayout._size,L=o&&"pixel"===o.xsizemode,_=o&&"pixel"===o.ysizemode,E=!1===s,k=0;k<x.length;k++){for(l=0;l+2<7;l+=2){var V=x[k][l+1],Z=x[k][l+2];void 0!==V&&void 0!==Z&&(f=V,p=Z,o&&(o.xaxis&&o.xaxis.p2r?(E&&(V-=o.xaxis._offset),V=L?a(o.xaxis,o.xanchor)+V:i(o.xaxis,V)):(E&&(V-=S.l),R?V=R.x[0]+V/S.w:V/=S.w),o.yaxis&&o.yaxis.p2r?(E&&(Z-=o.yaxis._offset),Z=_?a(o.yaxis,o.yanchor)-Z:i(o.yaxis,Z)):(E&&(Z-=S.t),Z=R?R.y[1]-Z/S.h:1-Z/S.h)),x[k][l+1]=V,x[k][l+2]=Z)}h[g].push(x[k].slice())}}return h},t.pointsShapeRectangle=function(t){if(5!==t.length)return!1;for(var e=1;e<3;e++){if(!l(t[0][e]-t[1][e],t[3][e]-t[2][e]))return!1;if(!l(t[0][e]-t[3][e],t[1][e]-t[2][e]))return!1}return!(!l(t[0][1],t[1][1])&&!l(t[0][1],t[3][1]))&&!!(c(t[0],t[1])*c(t[0],t[3]))},t.pointsShapeEllipse=function(t){var e=t.length;if(e!==n+1)return!1;e=n;for(var r=0;r<e;r++){var i=(2*e-r)%e,a=(e/2+i)%e,o=(e/2+r)%e;if(!l(c(t[r],t[o]),c(t[i],t[a])))return!1}return!0},t.handleEllipse=function(e,i,a){if(!e)return[i,a];var o=t.ellipseOver({x0:i[0],y0:i[1],x1:a[0],y1:a[1]}),s=(o.x1+o.x0)/2,l=(o.y1+o.y0)/2,c=(o.x1-o.x0)/2,u=(o.y1-o.y0)/2;c||(c=u/=r),u||(u=c/=r);for(var d=[],h=0;h<n;h++){var g=2*h*Math.PI/n;d.push([s+c*Math.cos(g),l+u*Math.sin(g)])}return d},t.ellipseOver=function(t){var e=t.x0,n=t.y0,i=t.x1,a=t.y1,o=i-e,s=a-n,l=((e-=o)+i)/2,c=((n-=s)+a)/2;return{x0:l-(o*=r),y0:c-(s*=r),x1:l+o,y1:c+s}}}(Mgt);var Kgt=Zgt.drawMode,qgt=Zgt.openMode,$gt=zgt.i000,tft=zgt.i090,eft=zgt.i180,nft=zgt.i270,rft=zgt.cos45,ift=zgt.sin45,aft=Pgt.p2r,oft=Pgt.r2p,sft=Tit.clearSelect,lft=Mgt.readPaths,cft=Mgt.writePaths,uft=Mgt.ellipseOver,dft=function(t,e){if(t.length){var n=t[0][0];if(n){var r=n.getAttribute("d"),i=e.gd,a=i._fullLayout.newshape,o=e.plotinfo,s=o.xaxis,l=o.yaxis,c=!!o.domain||!o.xaxis,u=!!o.domain||!o.yaxis,d=e.isActiveShape,h=e.dragmode,g=(i.layout||{}).shapes||[];if(!Kgt(h)&&void 0!==d){var f=i._fullLayout._activeShapeIndex;if(f<g.length)switch(i._fullLayout.shapes[f].type){case"rect":h="drawrect";break;case"circle":h="drawcircle";break;case"line":h="drawline";break;case"path":var p=g[f].path||"";h="Z"===p[p.length-1]?"drawclosedpath":"drawopenpath"}}var v,m=qgt(h),y=lft(r,i,o,d),b={editable:!0,xref:c?"paper":s._id,yref:u?"paper":l._id,layer:a.layer,opacity:a.opacity,line:{color:a.line.color,width:a.line.width,dash:a.line.dash}};if(m||(b.fillcolor=a.fillcolor,b.fillrule=a.fillrule),1===y.length&&(v=y[0]),v&&"drawrect"===h)b.type="rect",b.x0=v[0][1],b.y0=v[0][2],b.x1=v[2][1],b.y1=v[2][2];else if(v&&"drawline"===h)b.type="line",b.x0=v[0][1],b.y0=v[0][2],b.x1=v[1][1],b.y1=v[1][2];else if(v&&"drawcircle"===h){b.type="circle";var I=v[$gt][1],C=v[tft][1],x=v[eft][1],B=v[nft][1],A=v[$gt][2],F=v[tft][2],Q=v[eft][2],w=v[nft][2],U=o.xaxis&&("date"===o.xaxis.type||"log"===o.xaxis.type),G=o.yaxis&&("date"===o.yaxis.type||"log"===o.yaxis.type);U&&(I=oft(o.xaxis,I),C=oft(o.xaxis,C),x=oft(o.xaxis,x),B=oft(o.xaxis,B)),G&&(A=oft(o.yaxis,A),F=oft(o.yaxis,F),Q=oft(o.yaxis,Q),w=oft(o.yaxis,w));var R=(C+B)/2,S=(A+Q)/2,L=uft({x0:R,y0:S,x1:R+(B-C+x-I)/2*rft,y1:S+(w-F+Q-A)/2*ift});U&&(L.x0=aft(o.xaxis,L.x0),L.x1=aft(o.xaxis,L.x1)),G&&(L.y0=aft(o.yaxis,L.y0),L.y1=aft(o.yaxis,L.y1)),b.x0=L.x0,b.y0=L.y0,b.x1=L.x1,b.y1=L.y1}else b.type="path",s&&l&&function(t,e,n){var r="date"===e.type,i="date"===n.type;if(!r&&!i)return t;for(var a=0;a<t.length;a++)for(var o=0;o<t[a].length;o++)for(var s=0;s+2<t[a][o].length;s+=2)r&&(t[a][o][s+1]=t[a][o][s+1].replace(" ","_")),i&&(t[a][o][s+2]=t[a][o][s+2].replace(" ","_"))}(y,s,l),b.path=cft(y),v=null;sft(i);for(var _=e.editHelpers,E=(_||{}).modifyItem,k=[],V=0;V<g.length;V++){var Z=i._fullLayout.shapes[V];if(k[V]=Z._input,void 0!==d&&V===i._fullLayout._activeShapeIndex){var N=b;switch(Z.type){case"line":case"rect":case"circle":E("x0",N.x0),E("x1",N.x1),E("y0",N.y0),E("y1",N.y1);break;case"path":E("path",N.path)}}}return void 0===d?(k.push(b),k):_?_.getUpdateObj():{}}}};var hft=Jut.exports,gft=Zgt.drawMode,fft=met,pft=zgt.i000,vft=zgt.i090,mft=zgt.i180,yft=zgt.i270,bft=Tit.clearOutlineControllers,Ift=Mgt.pointsShapeRectangle,Cft=Mgt.pointsShapeEllipse,xft=Mgt.writePaths,Bft=dft,Aft=function t(e,n,r,i){i||(i=0);var a=r.gd;function o(){t(e,n,r,i++),Cft(e[0])&&s({redrawing:!0})}function s(t){r.isActiveShape=!1;var e=Bft(n,r);Object.keys(e).length&&fft.call((t||{}).redrawing?"relayout":"_guiRelayout",a,e)}var l,c,u,d,h,g=r.isActiveShape,f=a._fullLayout._zoomlayer,p=r.dragmode;(gft(p)?a._fullLayout._drawing=!0:a._fullLayout._activeShapeIndex>=0&&bft(a),n.attr("d",xft(e)),g&&!i)&&(h=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];t[n]=[];for(var i=0;i<r.length;i++){t[n][i]=[];for(var a=0;a<r[i].length;a++)t[n][i][a]=r[i][a]}}return t}([],e),function(t){l=[];for(var n=0;n<e.length;n++){var r=e[n],i=!Ift(r)&&Cft(r);l[n]=[];for(var o=0;o<r.length;o++)if("Z"!==r[o][0]&&(!i||o===pft||o===vft||o===mft||o===yft)){var s=r[o][1],c=r[o][2],u=t.append("circle").classed("cursor-grab",!0).attr("data-i",n).attr("data-j",o).attr("cx",s).attr("cy",c).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});l[n][o]={element:u.node(),gd:a,prepFn:v,doneFn:y,clickFn:b},hft.init(l[n][o])}}}(f.append("g").attr("class","outline-controllers")),function(){if(c=[],!e.length)return;var t=0;c[t]={element:n[0][0],gd:a,prepFn:C,doneFn:x},hft.init(c[t])}());function v(t){u=+t.srcElement.getAttribute("data-i"),d=+t.srcElement.getAttribute("data-j"),l[u][d].moveFn=m}function m(t,n){if(e.length){var r=h[u][d][1],i=h[u][d][2],a=e[u],s=a.length;if(Ift(a)){for(var l=0;l<s;l++)if(l!==d){var c=a[l];c[1]===a[d][1]&&(c[1]=r+t),c[2]===a[d][2]&&(c[2]=i+n)}if(a[d][1]=r+t,a[d][2]=i+n,!Ift(a))for(var g=0;g<s;g++)for(var f=0;f<a[g].length;f++)a[g][f]=h[u][g][f]}else a[d][1]=r+t,a[d][2]=i+n;o()}}function y(){s()}function b(t,n){if(2===t){u=+n.srcElement.getAttribute("data-i"),d=+n.srcElement.getAttribute("data-j");var r=e[u];Ift(r)||Cft(r)||function(){if(e.length&&e[u]&&e[u].length){for(var t=[],n=0;n<e[u].length;n++)n!==d&&t.push(e[u][n]);t.length>1&&(2!==t.length||"Z"!==t[1][0])&&(0===d&&(t[0][0]="M"),e[u]=t,o(),s())}}()}}function I(t,n){!function(t,n){if(e.length)for(var r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)for(var a=0;a+2<e[r][i].length;a+=2)e[r][i][a+1]=h[r][i][a+1]+t,e[r][i][a+2]=h[r][i][a+2]+n}(t,n),o()}function C(t){(u=+t.srcElement.getAttribute("data-i"))||(u=0),c[u].moveFn=I}function x(){s()}};var Fft={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}},Qft={};!function(t){var e=Fft,n=Q4.exports;t.rangeToShapePosition=function(t){return"log"===t.type?t.r2d:function(t){return t}},t.shapePositionToRange=function(t){return"log"===t.type?t.d2r:function(t){return t}},t.decodeDate=function(t){return function(e){return e.replace&&(e=e.replace("_"," ")),t(e)}},t.encodeDate=function(t){return function(e){return t(e).replace(" ","_")}},t.extractPathCoords=function(t,r){var i=[];return t.match(e.segmentRE).forEach((function(t){var a=r[t.charAt(0)].drawn;if(void 0!==a){var o=t.substr(1).match(e.paramRE);!o||o.length<a||i.push(n.cleanNumber(o[a]))}})),i},t.getDataToPixel=function(e,n,r,i){var a,o=e._fullLayout._size;if(n)if("domain"===i)a=function(t){return n._length*(r?1-t:t)+n._offset};else{var s=t.shapePositionToRange(n);a=function(t){return n._offset+n.r2p(s(t,!0))},"date"===n.type&&(a=t.decodeDate(a))}else a=r?function(t){return o.t+o.h*(1-t)}:function(t){return o.l+o.w*t};return a},t.getPixelToData=function(e,n,r,i){var a,o=e._fullLayout._size;if(n)if("domain"===i)a=function(t){var e=(t-n._offset)/n._length;return r?1-e:e};else{var s=t.rangeToShapePosition(n);a=function(t){return s(n.p2r(t-n._offset))}}else a=r?function(t){return 1-(t-o.t)/o.h}:function(t){return(t-o.l)/o.w};return a},t.roundPositionForSharpStrokeRendering=function(t,e){var n=1===Math.round(e%2),r=Math.round(t);return n?r+.5:r},t.makeOptionsAndPlotinfo=function(t,e){var n=t._fullLayout.shapes[e]||{},r=t._fullLayout._plots[n.xref+n.yref];return!!r?r._hadPlotinfo=!0:(r={},n.xref&&"paper"!==n.xref&&(r.xaxis=t._fullLayout[n.xref+"axis"]),n.yref&&"paper"!==n.yref&&(r.yaxis=t._fullLayout[n.yref+"axis"])),r.xsizemode=n.xsizemode,r.ysizemode=n.ysizemode,r.xanchor=n.xanchor,r.yanchor=n.yanchor,{options:n,plotinfo:r}}}(Qft);var wft=met,Uft=Q4.exports,Gft=Aat.exports,Rft=Mgt.readPaths,Sft=Aft,Lft=Tit.clearOutlineControllers,_ft=Ott.exports,Eft=Uat.exports,kft=Rit.arrayEditor,Vft=Jut.exports,Zft=fdt,Nft=Fft,Tft=Qft,Xft={draw:Wft,drawOne:Dft,eraseActiveShape:function(t){if(!Hft(t))return;Lft(t);var e=t._fullLayout._activeShapeIndex,n=(t.layout||{}).shapes||[];if(e<n.length){for(var r=[],i=0;i<n.length;i++)i!==e&&r.push(n[i]);delete t._fullLayout._activeShapeIndex,wft.call("_guiRelayout",t,{shapes:r})}}};function Wft(t){var e=t._fullLayout;for(var n in e._shapeUpperLayer.selectAll("path").remove(),e._shapeLowerLayer.selectAll("path").remove(),e._plots){var r=e._plots[n].shapelayer;r&&r.selectAll("path").remove()}for(var i=0;i<e.shapes.length;i++)e.shapes[i].visible&&Dft(t,i)}function Mft(t){return!!t._fullLayout._drawing}function Hft(t){return!t._context.edits.shapePosition}function Dft(t,e){t._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+e+'"]').remove();var n=Tft.makeOptionsAndPlotinfo(t,e),r=n.options,i=n.plotinfo;if(r._input&&!1!==r.visible)if("below"!==r.layer)a(t._fullLayout._shapeUpperLayer);else if("paper"===r.xref||"paper"===r.yref)a(t._fullLayout._shapeLowerLayer);else{if(i._hadPlotinfo)a((i.mainplotinfo||i).shapelayer);else a(t._fullLayout._shapeLowerLayer)}function a(n){var a=Oft(t,r),o={"data-index":e,"fill-rule":r.fillrule,d:a},s=r.opacity,l=r.fillcolor,c=r.line.width?r.line.color:"rgba(0,0,0,0)",u=r.line.width,d=r.line.dash;u||!0!==r.editable||(u=5,d="solid");var h="Z"!==a[a.length-1],g=Hft(t)&&r.editable&&t._fullLayout._activeShapeIndex===e;g&&(l=h?"rgba(0,0,0,0)":t._fullLayout.activeshape.fillcolor,s=t._fullLayout.activeshape.opacity);var f,p=n.append("path").attr(o).style("opacity",s).call(_ft.stroke,c).call(_ft.fill,l).call(Eft.dashLine,d,u);if(Yft(p,t,r),(g||t._context.edits.shapePosition)&&(f=kft(t.layout,"shapes",r)),g){p.style({cursor:"move"});var v={element:p.node(),plotinfo:i,gd:t,editHelpers:f,isActiveShape:!0},m=Rft(a,t);Sft(m,p,v)}else t._context.edits.shapePosition?function(t,e,n,r,i,a){var o,s,l,c,u,d,h,g,f,p,v,m,y,b,I,C,x=10,B=10,A="pixel"===n.xsizemode,F="pixel"===n.ysizemode,Q="line"===n.type,w="path"===n.type,U=a.modifyItem,G=Gft.getFromId(t,n.xref),R=Gft.getRefType(n.xref),S=Gft.getFromId(t,n.yref),L=Gft.getRefType(n.yref),_=Tft.getDataToPixel(t,G,!1,R),E=Tft.getDataToPixel(t,S,!0,L),k=Tft.getPixelToData(t,G,!1,R),V=Tft.getPixelToData(t,S,!0,L),Z=T(),N={element:Z.node(),gd:t,prepFn:M,doneFn:H,clickFn:D};function T(){return Q?X():e}function X(){var t=10,a=Math.max(n.line.width,t),o=i.append("g").attr("data-index",r);o.append("path").attr("d",e.attr("d")).style({cursor:"move","stroke-width":a,"stroke-opacity":"0"});var s={"fill-opacity":"0"},l=Math.max(a/2,t);return o.append("circle").attr({"data-line-point":"start-point",cx:A?_(n.xanchor)+n.x0:_(n.x0),cy:F?E(n.yanchor)-n.y0:E(n.y0),r:l}).style(s).classed("cursor-grab",!0),o.append("circle").attr({"data-line-point":"end-point",cx:A?_(n.xanchor)+n.x1:_(n.x1),cy:F?E(n.yanchor)-n.y1:E(n.y1),r:l}).style(s).classed("cursor-grab",!0),o}function W(n){if(Mft(t))C=null;else if(Q)C="path"===n.target.tagName?"move":"start-point"===n.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var r=N.element.getBoundingClientRect(),i=r.right-r.left,a=r.bottom-r.top,o=n.clientX-r.left,s=n.clientY-r.top,l=!w&&i>x&&a>B&&!n.shiftKey?Vft.getCursor(o/i,1-s/a):"move";Zft(e,l),C=l.split("-")[0]}}function M(r){Mft(t)||(A&&(u=_(n.xanchor)),F&&(d=E(n.yanchor)),"path"===n.type?I=n.path:(o=A?n.x0:_(n.x0),s=F?n.y0:E(n.y0),l=A?n.x1:_(n.x1),c=F?n.y1:E(n.y1)),o<l?(f=o,y="x0",p=l,b="x1"):(f=l,y="x1",p=o,b="x0"),!F&&s<c||F&&s>c?(h=s,v="y0",g=c,m="y1"):(h=c,v="y1",g=s,m="y0"),W(r),z(i,n),j(e,n,t),N.moveFn="move"===C?Y:O,N.altKey=r.altKey)}function H(){Mft(t)||(Zft(e),J(i),Yft(e,t,n),wft.call("_guiRelayout",t,a.getUpdateObj()))}function D(){Mft(t)||J(i)}function Y(r,a){if("path"===n.type){var h=function(t){return t},g=h,f=h;A?U("xanchor",n.xanchor=k(u+r)):(g=function(t){return k(_(t)+r)},G&&"date"===G.type&&(g=Tft.encodeDate(g))),F?U("yanchor",n.yanchor=V(d+a)):(f=function(t){return V(E(t)+a)},S&&"date"===S.type&&(f=Tft.encodeDate(f))),U("path",n.path=zft(I,g,f))}else A?U("xanchor",n.xanchor=k(u+r)):(U("x0",n.x0=k(o+r)),U("x1",n.x1=k(l+r))),F?U("yanchor",n.yanchor=V(d+a)):(U("y0",n.y0=V(s+a)),U("y1",n.y1=V(c+a)));e.attr("d",Oft(t,n)),z(i,n)}function O(r,a){if(w){var R=function(t){return t},L=R,Z=R;A?U("xanchor",n.xanchor=k(u+r)):(L=function(t){return k(_(t)+r)},G&&"date"===G.type&&(L=Tft.encodeDate(L))),F?U("yanchor",n.yanchor=V(d+a)):(Z=function(t){return V(E(t)+a)},S&&"date"===S.type&&(Z=Tft.encodeDate(Z))),U("path",n.path=zft(I,L,Z))}else if(Q){if("resize-over-start-point"===C){var N=o+r,T=F?s-a:s+a;U("x0",n.x0=A?N:k(N)),U("y0",n.y0=F?T:V(T))}else if("resize-over-end-point"===C){var X=l+r,W=F?c-a:c+a;U("x1",n.x1=A?X:k(X)),U("y1",n.y1=F?W:V(W))}}else{var M=function(t){return-1!==C.indexOf(t)},H=M("n"),D=M("s"),Y=M("w"),O=M("e"),J=H?h+a:h,j=D?g+a:g,P=Y?f+r:f,K=O?p+r:p;F&&(H&&(J=h-a),D&&(j=g-a)),(!F&&j-J>B||F&&J-j>B)&&(U(v,n[v]=F?J:V(J)),U(m,n[m]=F?j:V(j))),K-P>x&&(U(y,n[y]=A?P:k(P)),U(b,n[b]=A?K:k(K)))}e.attr("d",Oft(t,n)),z(i,n)}function z(t,e){function n(){var n="path"!==e.type,r=t.selectAll(".visual-cue").data([0]),i=1;r.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":i}).classed("visual-cue",!0);var a=_(A?e.xanchor:Uft.midRange(n?[e.x0,e.x1]:Tft.extractPathCoords(e.path,Nft.paramIsX))),o=E(F?e.yanchor:Uft.midRange(n?[e.y0,e.y1]:Tft.extractPathCoords(e.path,Nft.paramIsY)));if(a=Tft.roundPositionForSharpStrokeRendering(a,i),o=Tft.roundPositionForSharpStrokeRendering(o,i),A&&F){var s="M"+(a-1-i)+","+(o-1-i)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";r.attr("d",s)}else if(A){var l="M"+(a-1-i)+","+(o-9-i)+"v18 h2 v-18 Z";r.attr("d",l)}else{var c="M"+(a-9-i)+","+(o-1-i)+"h18 v2 h-18 Z";r.attr("d",c)}}(A||F)&&n()}function J(t){t.selectAll(".visual-cue").remove()}function j(t,e,n){var r=e.xref,i=e.yref,a=Gft.getFromId(n,r),o=Gft.getFromId(n,i),s="";"paper"===r||a.autorange||(s+=r),"paper"===i||o.autorange||(s+=i),Eft.setClipUrl(t,s?"clip"+n._fullLayout._uid+s:null,n)}Vft.init(N),Z.node().onmousemove=W}(t,p,r,e,n,f):!0===r.editable&&p.style("pointer-events",h||_ft.opacity(l)*s<=.5?"stroke":"all");p.node().addEventListener("click",(function(){return function(t,e){if(!Hft(t))return;var n=+e.node().getAttribute("data-index");if(n>=0){if(n===t._fullLayout._activeShapeIndex)return void Jft(t);t._fullLayout._activeShapeIndex=n,t._fullLayout._deactivateShape=Jft,Wft(t)}}(t,p)}))}}function Yft(t,e,n){var r=(n.xref+n.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");Eft.setClipUrl(t,r?"clip"+e._fullLayout._uid+r:null,e)}function Oft(t,e){var n,r,i,a,o,s,l,c,u=e.type,d=Gft.getRefType(e.xref),h=Gft.getRefType(e.yref),g=Gft.getFromId(t,e.xref),f=Gft.getFromId(t,e.yref),p=t._fullLayout._size;if(g?"domain"===d?r=function(t){return g._offset+g._length*t}:(n=Tft.shapePositionToRange(g),r=function(t){return g._offset+g.r2p(n(t,!0))}):r=function(t){return p.l+p.w*t},f?"domain"===h?a=function(t){return f._offset+f._length*(1-t)}:(i=Tft.shapePositionToRange(f),a=function(t){return f._offset+f.r2p(i(t,!0))}):a=function(t){return p.t+p.h*(1-t)},"path"===u)return g&&"date"===g.type&&(r=Tft.decodeDate(r)),f&&"date"===f.type&&(a=Tft.decodeDate(a)),function(t,e,n){var r=t.path,i=t.xsizemode,a=t.ysizemode,o=t.xanchor,s=t.yanchor;return r.replace(Nft.segmentRE,(function(t){var r=0,l=t.charAt(0),c=Nft.paramIsX[l],u=Nft.paramIsY[l],d=Nft.numParams[l],h=t.substr(1).replace(Nft.paramRE,(function(t){return c[r]?t="pixel"===i?e(o)+Number(t):e(t):u[r]&&(t="pixel"===a?n(s)-Number(t):n(t)),++r>d&&(t="X"),t}));return r>d&&(h=h.replace(/[\s,]*X.*/,""),Uft.log("Ignoring extra params in segment "+t)),l+h}))}(e,r,a);if("pixel"===e.xsizemode){var v=r(e.xanchor);o=v+e.x0,s=v+e.x1}else o=r(e.x0),s=r(e.x1);if("pixel"===e.ysizemode){var m=a(e.yanchor);l=m-e.y0,c=m-e.y1}else l=a(e.y0),c=a(e.y1);if("line"===u)return"M"+o+","+l+"L"+s+","+c;if("rect"===u)return"M"+o+","+l+"H"+s+"V"+c+"H"+o+"Z";var y=(o+s)/2,b=(l+c)/2,I=Math.abs(y-o),C=Math.abs(b-l),x="A"+I+","+C,B=y+I+","+b;return"M"+B+x+" 0 1,1 "+(y+","+(b-C))+x+" 0 0,1 "+B+"Z"}function zft(t,e,n){return t.replace(Nft.segmentRE,(function(t){var r=0,i=t.charAt(0),a=Nft.paramIsX[i],o=Nft.paramIsY[i],s=Nft.numParams[i];return i+t.substr(1).replace(Nft.paramRE,(function(t){return r>=s||(a[r]?t=e(t):o[r]&&(t=n(t)),r++),t}))}))}function Jft(t){Hft(t)&&(t._fullLayout._activeShapeIndex>=0&&(Lft(t),delete t._fullLayout._activeShapeIndex,Wft(t)))}var jft=met,Pft=Git.exports,Kft=Vit,qft=Wgt,$ft=Xft.eraseActiveShape,tpt=Q4.exports,ept=tpt._,npt=Xgt.exports={};function rpt(t,e){var n,r,i=e.currentTarget,a=i.getAttribute("data-attr"),o=i.getAttribute("data-val")||!0,s=t._fullLayout,l={},c=Kft.list(t,null,!0),u=s._cartesianSpikesEnabled;if("zoom"===a){var d,h="in"===o?.5:2,g=(1+h)/2,f=(1-h)/2;for(r=0;r<c.length;r++)if(!(n=c[r]).fixedrange)if(d=n._name,"auto"===o)l[d+".autorange"]=!0;else if("reset"===o){if(void 0===n._rangeInitial)l[d+".autorange"]=!0;else{var p=n._rangeInitial.slice();l[d+".range[0]"]=p[0],l[d+".range[1]"]=p[1]}void 0!==n._showSpikeInitial&&(l[d+".showspikes"]=n._showSpikeInitial,"on"!==u||n._showSpikeInitial||(u="off"))}else{var v=[n.r2l(n.range[0]),n.r2l(n.range[1])],m=[g*v[0]+f*v[1],g*v[1]+f*v[0]];l[d+".range[0]"]=n.l2r(m[0]),l[d+".range[1]"]=n.l2r(m[1])}}else"hovermode"!==a||"x"!==o&&"y"!==o||(o=s._isHoriz?"y":"x",i.setAttribute("data-val",o)),l[a]=o;s._cartesianSpikesEnabled=u,jft.call("_guiRelayout",t,l)}function ipt(t,e){for(var n=e.currentTarget,r=n.getAttribute("data-attr"),i=n.getAttribute("data-val")||!0,a=t._fullLayout._subplots.gl3d||[],o={},s=r.split("."),l=0;l<a.length;l++)o[a[l]+"."+s[1]]=i;var c="pan"===i?i:"zoom";o.dragmode=c,jft.call("_guiRelayout",t,o)}function apt(t,e){for(var n=e.currentTarget.getAttribute("data-attr"),r="resetLastSave"===n,i="resetDefault"===n,a=t._fullLayout,o=a._subplots.gl3d||[],s={},l=0;l<o.length;l++){var c,u=o[l],d=u+".camera",h=u+".aspectratio",g=u+".aspectmode",f=a[u]._scene;r?(s[d+".up"]=f.viewInitial.up,s[d+".eye"]=f.viewInitial.eye,s[d+".center"]=f.viewInitial.center,c=!0):i&&(s[d+".up"]=null,s[d+".eye"]=null,s[d+".center"]=null,c=!0),c&&(s[h+".x"]=f.viewInitial.aspectratio.x,s[h+".y"]=f.viewInitial.aspectratio.y,s[h+".z"]=f.viewInitial.aspectratio.z,s[g]=f.viewInitial.aspectmode)}jft.call("_guiRelayout",t,s)}function opt(t,e){var n=e.currentTarget,r=n._previousVal,i=t._fullLayout,a=i._subplots.gl3d||[],o=["xaxis","yaxis","zaxis"],s={},l={};if(r)l=r,n._previousVal=null;else{for(var c=0;c<a.length;c++){var u=a[c],d=i[u],h=u+".hovermode";s[h]=d.hovermode,l[h]=!1;for(var g=0;g<3;g++){var f=o[g],p=u+"."+f+".showspikes";l[p]=!1,s[p]=d[f].showspikes}}n._previousVal=s}return l}function spt(t,e){for(var n=e.currentTarget,r=n.getAttribute("data-attr"),i=n.getAttribute("data-val")||!0,a=t._fullLayout,o=a._subplots.geo||[],s=0;s<o.length;s++){var l=o[s],c=a[l];if("zoom"===r){var u=c.projection.scale,d="in"===i?2*u:.5*u;jft.call("_guiRelayout",t,l+".projection.scale",d)}}"reset"===r&&dpt(t,"geo")}function lpt(t){var e=t._fullLayout;return!e.hovermode&&(e._has("cartesian")?e._isHoriz?"y":"x":"closest")}function cpt(t){var e=lpt(t);jft.call("_guiRelayout",t,"hovermode",e)}function upt(t,e){for(var n=e.currentTarget.getAttribute("data-val"),r=t._fullLayout,i=r._subplots.mapbox||[],a={},o=0;o<i.length;o++){var s=i[o],l=r[s].zoom,c="in"===n?1.05*l:l/1.05;a[s+".zoom"]=c}jft.call("_guiRelayout",t,a)}function dpt(t,e){for(var n=t._fullLayout,r=n._subplots[e]||[],i={},a=0;a<r.length;a++)for(var o=r[a],s=n[o]._subplot.viewInitial,l=Object.keys(s),c=0;c<l.length;c++){var u=l[c];i[o+"."+u]=s[u]}jft.call("_guiRelayout",t,i)}npt.toImage={name:"toImage",title:function(t){var e=(t._context.toImageButtonOptions||{}).format||"png";return ept(t,"png"===e?"Download plot as a png":"Download plot")},icon:qft.camera,click:function(t){var e=t._context.toImageButtonOptions,n={format:e.format||"png"};tpt.notifier(ept(t,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==n.format&&tpt.isIE()&&(tpt.notifier(ept(t,"IE only supports svg.  Changing format to svg."),"long"),n.format="svg"),["filename","width","height","scale"].forEach((function(t){t in e&&(n[t]=e[t])})),jft.call("downloadImage",t,n).then((function(e){tpt.notifier(ept(t,"Snapshot succeeded")+" - "+e,"long")})).catch((function(){tpt.notifier(ept(t,"Sorry, there was a problem downloading your snapshot!"),"long")}))}},npt.sendDataToCloud={name:"sendDataToCloud",title:function(t){return ept(t,"Edit in Chart Studio")},icon:qft.disk,click:function(t){Pft.sendDataToCloud(t)}},npt.editInChartStudio={name:"editInChartStudio",title:function(t){return ept(t,"Edit in Chart Studio")},icon:qft.pencil,click:function(t){Pft.sendDataToCloud(t)}},npt.zoom2d={name:"zoom2d",_cat:"zoom",title:function(t){return ept(t,"Zoom")},attr:"dragmode",val:"zoom",icon:qft.zoombox,click:rpt},npt.pan2d={name:"pan2d",_cat:"pan",title:function(t){return ept(t,"Pan")},attr:"dragmode",val:"pan",icon:qft.pan,click:rpt},npt.select2d={name:"select2d",_cat:"select",title:function(t){return ept(t,"Box Select")},attr:"dragmode",val:"select",icon:qft.selectbox,click:rpt},npt.lasso2d={name:"lasso2d",_cat:"lasso",title:function(t){return ept(t,"Lasso Select")},attr:"dragmode",val:"lasso",icon:qft.lasso,click:rpt},npt.drawclosedpath={name:"drawclosedpath",title:function(t){return ept(t,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:qft.drawclosedpath,click:rpt},npt.drawopenpath={name:"drawopenpath",title:function(t){return ept(t,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:qft.drawopenpath,click:rpt},npt.drawline={name:"drawline",title:function(t){return ept(t,"Draw line")},attr:"dragmode",val:"drawline",icon:qft.drawline,click:rpt},npt.drawrect={name:"drawrect",title:function(t){return ept(t,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:qft.drawrect,click:rpt},npt.drawcircle={name:"drawcircle",title:function(t){return ept(t,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:qft.drawcircle,click:rpt},npt.eraseshape={name:"eraseshape",title:function(t){return ept(t,"Erase active shape")},icon:qft.eraseshape,click:$ft},npt.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(t){return ept(t,"Zoom in")},attr:"zoom",val:"in",icon:qft.zoom_plus,click:rpt},npt.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(t){return ept(t,"Zoom out")},attr:"zoom",val:"out",icon:qft.zoom_minus,click:rpt},npt.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(t){return ept(t,"Autoscale")},attr:"zoom",val:"auto",icon:qft.autoscale,click:rpt},npt.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(t){return ept(t,"Reset axes")},attr:"zoom",val:"reset",icon:qft.home,click:rpt},npt.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(t){return ept(t,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:qft.tooltip_basic,gravity:"ne",click:rpt},npt.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(t){return ept(t,"Compare data on hover")},attr:"hovermode",val:function(t){return t._fullLayout._isHoriz?"y":"x"},icon:qft.tooltip_compare,gravity:"ne",click:rpt},npt.zoom3d={name:"zoom3d",_cat:"zoom",title:function(t){return ept(t,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:qft.zoombox,click:ipt},npt.pan3d={name:"pan3d",_cat:"pan",title:function(t){return ept(t,"Pan")},attr:"scene.dragmode",val:"pan",icon:qft.pan,click:ipt},npt.orbitRotation={name:"orbitRotation",title:function(t){return ept(t,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:qft["3d_rotate"],click:ipt},npt.tableRotation={name:"tableRotation",title:function(t){return ept(t,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:qft["z-axis"],click:ipt},npt.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(t){return ept(t,"Reset camera to default")},attr:"resetDefault",icon:qft.home,click:apt},npt.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(t){return ept(t,"Reset camera to last save")},attr:"resetLastSave",icon:qft.movie,click:apt},npt.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(t){return ept(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:qft.tooltip_basic,gravity:"ne",click:function(t,e){var n=opt(t,e);jft.call("_guiRelayout",t,n)}},npt.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(t){return ept(t,"Zoom in")},attr:"zoom",val:"in",icon:qft.zoom_plus,click:spt},npt.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(t){return ept(t,"Zoom out")},attr:"zoom",val:"out",icon:qft.zoom_minus,click:spt},npt.resetGeo={name:"resetGeo",_cat:"reset",title:function(t){return ept(t,"Reset")},attr:"reset",val:null,icon:qft.autoscale,click:spt},npt.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(t){return ept(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:qft.tooltip_basic,gravity:"ne",click:cpt},npt.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(t){return ept(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:qft.tooltip_basic,gravity:"ne",click:cpt},npt.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(t){return ept(t,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:qft.tooltip_basic,gravity:"ne",click:cpt},npt.resetViewSankey={name:"resetSankeyGroup",title:function(t){return ept(t,"Reset view")},icon:qft.home,click:function(t){for(var e={"node.groups":[],"node.x":[],"node.y":[]},n=0;n<t._fullData.length;n++){var r=t._fullData[n]._viewInitial;e["node.groups"].push(r.node.groups.slice()),e["node.x"].push(r.node.x.slice()),e["node.y"].push(r.node.y.slice())}jft.call("restyle",t,e)}},npt.toggleHover={name:"toggleHover",title:function(t){return ept(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:qft.tooltip_basic,gravity:"ne",click:function(t,e){var n=opt(t,e);n.hovermode=lpt(t),jft.call("_guiRelayout",t,n)}},npt.resetViews={name:"resetViews",title:function(t){return ept(t,"Reset views")},icon:qft.home,click:function(t,e){var n=e.currentTarget;n.setAttribute("data-attr","zoom"),n.setAttribute("data-val","reset"),rpt(t,e),n.setAttribute("data-attr","resetLastSave"),apt(t,e),dpt(t,"geo"),dpt(t,"mapbox")}},npt.toggleSpikelines={name:"toggleSpikelines",title:function(t){return ept(t,"Toggle Spike Lines")},icon:qft.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(t){var e=t._fullLayout,n=e._cartesianSpikesEnabled;e._cartesianSpikesEnabled="on"===n?"off":"on",jft.call("_guiRelayout",t,function(t){for(var e="on"===t._fullLayout._cartesianSpikesEnabled,n=Kft.list(t,null,!0),r={},i=0;i<n.length;i++){var a=n[i];r[a._name+".showspikes"]=!!e||a._showSpikeInitial}return r}(t))}},npt.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(t){return ept(t,"Reset view")},attr:"reset",icon:qft.home,click:function(t){dpt(t,"mapbox")}},npt.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(t){return ept(t,"Zoom in")},attr:"zoom",val:"in",icon:qft.zoom_plus,click:upt},npt.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(t){return ept(t,"Zoom out")},attr:"zoom",val:"out",icon:qft.zoom_minus,click:upt};var hpt=Xgt.exports,gpt=Object.keys(hpt),fpt=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],ppt=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(fpt),vpt=[];gpt.forEach((function(t){!function(t){if(-1===ppt.indexOf(t._cat||t.name)){var e=t.name,n=(t._cat||t.name).toLowerCase();-1===vpt.indexOf(e)&&vpt.push(e),-1===vpt.indexOf(n)&&vpt.push(n)}}(hpt[t])})),vpt.sort();var mpt={DRAW_MODES:fpt,backButtons:ppt,foreButtons:vpt},ypt=mpt,bpt={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar",description:"Sets the orientation of the modebar."},bgcolor:{valType:"color",editType:"modebar",description:"Sets the background color of the modebar."},color:{valType:"color",editType:"modebar",description:"Sets the color of the icons in the modebar."},activecolor:{valType:"color",editType:"modebar",description:"Sets the color of the active or hovered on icons in the modebar."},uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes related to the modebar,","including `hovermode`, `dragmode`, and `showspikes` at both the","root level and inside subplots. Defaults to `layout.uirevision`."].join(" ")},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar",description:["Determines which predefined modebar buttons to add.","Please note that these buttons will only be shown if they are","compatible with all trace types used in a graph.","Similar to `config.modeBarButtonsToAdd` option.","This may include *"+ypt.backButtons.join("*, *")+"*."].join(" ")},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar",description:["Determines which predefined modebar buttons to remove.","Similar to `config.modeBarButtonsToRemove` option.","This may include *"+ypt.foreButtons.join("*, *")+"*."].join(" ")}},Ipt=Q4.exports,Cpt=Ott.exports,xpt=Rit,Bpt=bpt,Apt=w4.exports,Fpt=z6,Qpt=Q4.exports,wpt=Wgt,Upt=F4.version,Gpt=new DOMParser;function Rpt(t){this.container=t.container,this.element=document.createElement("div"),this.update(t.graphInfo,t.buttons),this.container.appendChild(this.element)}var Spt=Rpt.prototype;Spt.update=function(t,e){this.graphInfo=t;var n=this.graphInfo._context,r=this.graphInfo._fullLayout,i="modebar-"+r._uid;this.element.setAttribute("id",i),this._uid=i,this.element.className="modebar","hover"===n.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===r.modebar.orientation&&(this.element.className+=" vertical",e=e.reverse());var a=r.modebar,o="hover"===n.displayModeBar?".js-plotly-plot .plotly:hover ":"";Qpt.deleteRelatedStyleRule(i),Qpt.addRelatedStyleRule(i,o+"#"+i+" .modebar-group","background-color: "+a.bgcolor),Qpt.addRelatedStyleRule(i,"#"+i+" .modebar-btn .icon path","fill: "+a.color),Qpt.addRelatedStyleRule(i,"#"+i+" .modebar-btn:hover .icon path","fill: "+a.activecolor),Qpt.addRelatedStyleRule(i,"#"+i+" .modebar-btn.active .icon path","fill: "+a.activecolor);var s=!this.hasButtons(e),l=this.hasLogo!==n.displaylogo,c=this.locale!==n.locale;if(this.locale=n.locale,(s||l||c)&&(this.removeAllButtons(),this.updateButtons(e),n.watermark||n.displaylogo)){var u=this.getLogo();n.watermark&&(u.className=u.className+" watermark"),"v"===r.modebar.orientation?this.element.insertBefore(u,this.element.childNodes[0]):this.element.appendChild(u),this.hasLogo=!0}this.updateActiveButton()},Spt.updateButtons=function(t){var e=this;this.buttons=t,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach((function(t){var n=e.createGroup();t.forEach((function(t){var r=t.name;if(!r)throw new Error("must provide button 'name' in button config");if(-1!==e.buttonsNames.indexOf(r))throw new Error("button name '"+r+"' is taken");e.buttonsNames.push(r);var i=e.createButton(t);e.buttonElements.push(i),n.appendChild(i)})),e.element.appendChild(n)}))},Spt.createGroup=function(){var t=document.createElement("div");return t.className="modebar-group",t},Spt.createButton=function(t){var e=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var r=t.title;void 0===r?r=t.name:"function"==typeof r&&(r=r(this.graphInfo)),(r||0===r)&&n.setAttribute("data-title",r),void 0!==t.attr&&n.setAttribute("data-attr",t.attr);var i=t.val;if(void 0!==i&&("function"==typeof i&&(i=i(this.graphInfo)),n.setAttribute("data-val",i)),"function"!=typeof t.click)throw new Error("must provide button 'click' function in button config");n.addEventListener("click",(function(n){t.click(e.graphInfo,n),e.updateActiveButton(n.currentTarget)})),n.setAttribute("data-toggle",t.toggle||!1),t.toggle&&Apt.select(n).classed("active",!0);var a=t.icon;return"function"==typeof a?n.appendChild(a()):n.appendChild(this.createIcon(a||wpt.question)),n.setAttribute("data-gravity",t.gravity||"n"),n},Spt.createIcon=function(t){var e,n=Fpt(t.height)?Number(t.height):t.ascent-t.descent,r="http://www.w3.org/2000/svg";if(t.path){(e=document.createElementNS(r,"svg")).setAttribute("viewBox",[0,0,t.width,n].join(" ")),e.setAttribute("class","icon");var i=document.createElementNS(r,"path");i.setAttribute("d",t.path),t.transform?i.setAttribute("transform",t.transform):void 0!==t.ascent&&i.setAttribute("transform","matrix(1 0 0 -1 0 "+t.ascent+")"),e.appendChild(i)}t.svg&&(e=Gpt.parseFromString(t.svg,"application/xml").childNodes[0]);return e.setAttribute("height","1em"),e.setAttribute("width","1em"),e},Spt.updateActiveButton=function(t){var e=this.graphInfo._fullLayout,n=void 0!==t?t.getAttribute("data-attr"):null;this.buttonElements.forEach((function(t){var r=t.getAttribute("data-val")||!0,i=t.getAttribute("data-attr"),a="true"===t.getAttribute("data-toggle"),o=Apt.select(t);if(a)i===n&&o.classed("active",!o.classed("active"));else{var s=null===i?i:Qpt.nestedProperty(e,i).get();o.classed("active",s===r)}}))},Spt.hasButtons=function(t){var e=this.buttons;if(!e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n){if(t[n].length!==e[n].length)return!1;for(var r=0;r<t[n].length;r++)if(t[n][r].name!==e[n][r].name)return!1}return!0},Spt.getLogo=function(){var t=this.createGroup(),e=document.createElement("a");return e.href="https://plotly.com/",e.target="_blank",e.setAttribute("data-title",function(t){return t+" (v"+Upt+")"}(Qpt._(this.graphInfo,"Produced with Plotly.js"))),e.className="modebar-btn plotlyjsicon modebar-btn--logo",e.appendChild(this.createIcon(wpt.newplotlylogo)),t.appendChild(e),t},Spt.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},Spt.destroy=function(){Qpt.removeElement(this.container.querySelector(".modebar")),Qpt.deleteRelatedStyleRule(this._uid)};var Lpt=function(t,e){var n=t._fullLayout,r=new Rpt({graphInfo:t,container:n._modebardiv.node(),buttons:e});return n._privateplot&&Apt.select(r.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),r},_pt=Vit,Ept=Bst,kpt=met,Vpt=Qst.isUnifiedHover,Zpt=Lpt,Npt=Xgt.exports,Tpt=mpt.DRAW_MODES;var Xpt={moduleType:"component",name:"modebar",layoutAttributes:bpt,supplyLayoutDefaults:function(t,e){var n=t.modebar||{},r=xpt.newContainer(e,"modebar");function i(t,e){return Ipt.coerce(n,r,Bpt,t,e)}i("orientation"),i("bgcolor",Cpt.addOpacity(e.paper_bgcolor,.5));var a=Cpt.contrast(Cpt.rgb(e.modebar.bgcolor));i("color",Cpt.addOpacity(a,.3)),i("activecolor",Cpt.addOpacity(a,.7)),i("uirevision",e.uirevision),i("add"),i("remove")},manage:function(t){var e=t._fullLayout,n=t._context,r=e._modeBar;if(n.displayModeBar||n.watermark){if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var i,a=n.modeBarButtons;i=Array.isArray(a)&&a.length?function(t){for(var e=0;e<t.length;e++)for(var n=t[e],r=0;r<n.length;r++){var i=n[r];if("string"==typeof i){if(void 0===Npt[i])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));t[e][r]=Npt[i]}}return t}(a):!n.displayModeBar&&n.watermark?[]:function(t){var e=t._fullLayout,n=t._fullData,r=t._context;function i(t,e){if("string"==typeof e){if(e.toLowerCase()===t.toLowerCase())return!0}else{var n=e.name,r=e._cat||e.name;if(n===t||r===t.toLowerCase())return!0}return!1}var a=e.modebar.add;"string"==typeof a&&(a=[a]);var o=e.modebar.remove;"string"==typeof o&&(o=[o]);var s=r.modeBarButtonsToAdd.concat(a.filter((function(t){for(var e=0;e<r.modeBarButtonsToRemove.length;e++)if(i(t,r.modeBarButtonsToRemove[e]))return!1;return!0}))),l=r.modeBarButtonsToRemove.concat(o.filter((function(t){for(var e=0;e<r.modeBarButtonsToAdd.length;e++)if(i(t,r.modeBarButtonsToAdd[e]))return!1;return!0}))),c=e._has("cartesian"),u=e._has("gl3d"),d=e._has("geo"),h=e._has("pie"),g=e._has("funnelarea"),f=e._has("gl2d"),p=e._has("ternary"),v=e._has("mapbox"),m=e._has("polar"),y=e._has("smith"),b=e._has("sankey"),I=function(t){for(var e=_pt.list({_fullLayout:t},null,!0),n=0;n<e.length;n++)if(!e[n].fixedrange)return!1;return!0}(e),C=Vpt(e.hovermode),x=[];function B(t){if(t.length){for(var e=[],n=0;n<t.length;n++){for(var r=t[n],i=Npt[r],a=i.name.toLowerCase(),o=(i._cat||i.name).toLowerCase(),s=!1,c=0;c<l.length;c++){var u=l[c].toLowerCase();if(u===a||u===o){s=!0;break}}s||e.push(Npt[r])}x.push(e)}}var A=["toImage"];r.showEditInChartStudio?A.push("editInChartStudio"):r.showSendToCloud&&A.push("sendDataToCloud");B(A);var F=[],Q=[],w=[],U=[];(c||f||h||g||p)+d+u+v+m+y>1?(Q=["toggleHover"],w=["resetViews"]):d?(F=["zoomInGeo","zoomOutGeo"],Q=["hoverClosestGeo"],w=["resetGeo"]):u?(Q=["hoverClosest3d"],w=["resetCameraDefault3d","resetCameraLastSave3d"]):v?(F=["zoomInMapbox","zoomOutMapbox"],Q=["toggleHover"],w=["resetViewMapbox"]):f?Q=["hoverClosestGl2d"]:h?Q=["hoverClosestPie"]:b?(Q=["hoverClosestCartesian","hoverCompareCartesian"],w=["resetViewSankey"]):Q=["toggleHover"];c&&(Q=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]);(function(t){for(var e=0;e<t.length;e++)if(!kpt.traceIs(t[e],"noHover"))return!1;return!0}(n)||C)&&(Q=[]);!c&&!f||I||(F=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==w[0]&&(w=["resetScale2d"]));u?U=["zoom3d","pan3d","orbitRotation","tableRotation"]:(c||f)&&!I||p?U=["zoom2d","pan2d"]:v||d?U=["pan2d"]:m&&(U=["zoom2d"]);(function(t){for(var e=!1,n=0;n<t.length&&!e;n++){var r=t[n];r._module&&r._module.selectPoints&&(kpt.traceIs(r,"scatter-like")?(Ept.hasMarkers(r)||Ept.hasText(r))&&(e=!0):kpt.traceIs(r,"box-violin")&&"all"!==r.boxpoints&&"all"!==r.points||(e=!0))}return e})(n)&&U.push("select2d","lasso2d");var G=[],R=function(t){-1===G.indexOf(t)&&-1!==Q.indexOf(t)&&G.push(t)};if(Array.isArray(s)){for(var S=[],L=0;L<s.length;L++){var _=s[L];"string"==typeof _?(_=_.toLowerCase(),-1!==Tpt.indexOf(_)?(e._has("mapbox")||e._has("cartesian"))&&U.push(_):"togglespikelines"===_?R("toggleSpikelines"):"togglehover"===_?R("toggleHover"):"hovercompare"===_?R("hoverCompareCartesian"):"hoverclosest"===_?(R("hoverClosestCartesian"),R("hoverClosestGeo"),R("hoverClosest3d"),R("hoverClosestGl2d"),R("hoverClosestPie")):"v1hovermode"===_&&(R("toggleHover"),R("hoverClosestCartesian"),R("hoverCompareCartesian"),R("hoverClosestGeo"),R("hoverClosest3d"),R("hoverClosestGl2d"),R("hoverClosestPie"))):S.push(_)}s=S}return B(U),B(F.concat(w)),B(G),function(t,e){if(e.length)if(Array.isArray(e[0]))for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}(x,s)}(t),r?r.update(t,i):e._modeBar=Zpt(t,i)}else r&&(r.destroy(),delete e._modeBar)}},Wpt={},Mpt=wat.FROM_BL,Hpt=function(t,e,n){void 0===n&&(n=Mpt[t.constraintoward||"center"]);var r=[t.r2l(t.range[0]),t.r2l(t.range[1])],i=r[0]+(r[1]-r[0])*n;t.range=t._input.range=[t.l2r(i+(r[0]-i)*e),t.l2r(i+(r[1]-i)*e)],t.setScale()},Dpt=Q4.exports,Ypt=hct,Opt=Vit.id2name,zpt=oot,Jpt=Hpt,jpt=zlt,Ppt=J6.ALMOST_EQUAL,Kpt=wat.FROM_BL;function qpt(t,e,n){var r=n.axIds,i=n.layoutOut,a=n.hasImage,o=i._axisConstraintGroups,s=i._axisMatchGroups,l=e._id,c=l.charAt(0),u=((i._splomAxes||{})[c]||{})[l]||{},d=e._id,h="x"===d.charAt(0);function g(n,r){return Dpt.coerce(t,e,zpt,n,r)}e._matchGroup=null,e._constraintGroup=null,g("constrain",a?"domain":"range"),Dpt.coerce(t,e,{constraintoward:{valType:"enumerated",values:h?["left","center","right"]:["bottom","middle","top"],dflt:h?"center":"middle"}},"constraintoward");var f,p,v=e.type,m=[];for(f=0;f<r.length;f++){if((p=r[f])!==d)i[Opt(p)].type===v&&m.push(p)}var y=tvt(o,d);if(y){var b=[];for(f=0;f<m.length;f++)y[p=m[f]]||b.push(p);m=b}var I,C,x=m.length;x&&(t.matches||u.matches)&&(I=Dpt.coerce(t,e,{matches:{valType:"enumerated",values:m,dflt:-1!==m.indexOf(u.matches)?u.matches:void 0}},"matches"));var B=a&&!h?e.anchor:void 0;if(x&&!I&&(t.scaleanchor||B)&&(C=Dpt.coerce(t,e,{scaleanchor:{valType:"enumerated",values:m}},"scaleanchor",B)),I){e._matchGroup=evt(s,d,I,1);var A=i[Opt(I)],F=$pt(i,e)/$pt(i,A);h!==("x"===I.charAt(0))&&(F=(h?"x":"y")+F),evt(o,d,I,F)}else t.matches&&-1!==r.indexOf(t.matches)&&Dpt.warn("ignored "+e._name+'.matches: "'+t.matches+'" to avoid an infinite loop');if(C){var Q=g("scaleratio");Q||(Q=e.scaleratio=1),evt(o,d,C,Q)}else t.scaleanchor&&-1!==r.indexOf(t.scaleanchor)&&Dpt.warn("ignored "+e._name+'.scaleanchor: "'+t.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function $pt(t,e){var n=e.domain;return n||(n=t[Opt(e.overlaying)].domain),n[1]-n[0]}function tvt(t,e){for(var n=0;n<t.length;n++)if(t[n][e])return t[n];return null}function evt(t,e,n,r){var i,a,o,s,l,c=tvt(t,e);null===c?((c={})[e]=1,l=t.length,t.push(c)):l=t.indexOf(c);var u=Object.keys(c);for(i=0;i<t.length;i++)if(o=t[i],i!==l&&o[n]){var d=o[n];for(a=0;a<u.length;a++)o[s=u[a]]=nvt(d,nvt(r,c[s]));return void t.splice(l,1)}if(1!==r)for(a=0;a<u.length;a++){var h=u[a];c[h]=nvt(r,c[h])}c[n]=1}function nvt(t,e){var n,r,i="",a="";"string"==typeof t&&(n=(i=t.match(/^[xy]*/)[0]).length,t=+t.substr(n)),"string"==typeof e&&(r=(a=e.match(/^[xy]*/)[0]).length,e=+e.substr(r));var o=t*e;return n||r?n&&r&&i.charAt(0)!==a.charAt(0)?n===r?o:(n>r?i.substr(r):a.substr(n))+o:i+a+t*e:o}function rvt(t,e){for(var n=e._size,r=n.h/n.w,i={},a=Object.keys(t),o=0;o<a.length;o++){var s=a[o],l=t[s];if("string"==typeof l){var c=l.match(/^[xy]*/)[0],u=c.length;l=+l.substr(u);for(var d="y"===c.charAt(0)?r:1/r,h=0;h<u;h++)l*=d}i[s]=l}return i}function ivt(t,e){var n=t._inputDomain,r=Kpt[t.constraintoward],i=n[0]+(n[1]-n[0])*r;t.domain=t._input.domain=[i+(n[0]-i)/e,i+(n[1]-i)/e],t.setScale()}Wpt.handleDefaults=function(t,e,n){var r,i,a,o,s,l,c,u,d=n.axIds,h=n.axHasImage,g=e._axisConstraintGroups=[],f=e._axisMatchGroups=[];for(r=0;r<d.length;r++)qpt(s=t[o=Opt(d[r])],l=e[o],{axIds:d,layoutOut:e,hasImage:h[o]});function p(t,n){for(r=0;r<t.length;r++)for(a in i=t[r])e[Opt(a)][n]=i}for(p(f,"_matchGroup"),r=0;r<g.length;r++)for(a in i=g[r])if((l=e[Opt(a)]).fixedrange){for(var v in i){var m=Opt(v);!1===(t[m]||{}).fixedrange&&Dpt.warn("fixedrange was specified as false for axis "+m+" but was overridden because another axis in its constraint group has fixedrange true"),e[m].fixedrange=!0}break}for(r=0;r<g.length;){for(a in i=g[r]){(l=e[Opt(a)])._matchGroup&&Object.keys(l._matchGroup).length===Object.keys(i).length&&(g.splice(r,1),r--);break}r++}p(g,"_constraintGroup");var y=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],b=!1,I=!1;function C(){u=l[c],"rangebreaks"===c&&(I=l._hasDayOfWeekBreaks)}for(r=0;r<f.length;r++){i=f[r];for(var x=0;x<y.length;x++){var B;for(a in c=y[x],u=null,i)if(s=t[o=Opt(a)],l=e[o],c in l){if(!l.matches&&(B=l,c in s)){C();break}null===u&&c in s&&C()}if("range"===c&&u&&(b=!0),"autorange"===c&&null===u&&b&&(u=!1),null===u&&c in B&&(u=B[c]),null!==u)for(a in i)(l=e[Opt(a)])[c]="range"===c?u.slice():u,"rangebreaks"===c&&(l._hasDayOfWeekBreaks=I,jpt(l,e))}}},Wpt.enforce=function(t){var e,n,r,i,a,o,s,l,c=t._fullLayout,u=c._axisConstraintGroups||[];for(e=0;e<u.length;e++){r=rvt(u[e],c);var d=Object.keys(r),h=1/0,g=0,f=1/0,p={},v={},m=!1;for(n=0;n<d.length;n++)v[i=d[n]]=a=c[Opt(i)],a._inputDomain?a.domain=a._inputDomain.slice():a._inputDomain=a.domain.slice(),a._inputRange||(a._inputRange=a.range.slice()),a.setScale(),p[i]=o=Math.abs(a._m)/r[i],h=Math.min(h,o),"domain"!==a.constrain&&a._constraintShrinkable||(f=Math.min(f,o)),delete a._constraintShrinkable,g=Math.max(g,o),"domain"===a.constrain&&(m=!0);if(!(h>Ppt*g)||m)for(n=0;n<d.length;n++)if(o=p[i=d[n]],s=(a=v[i]).constrain,o!==f||"domain"===s)if(l=o/f,"range"===s)Jpt(a,l);else{var y=a._inputDomain,b=(a.domain[1]-a.domain[0])/(y[1]-y[0]),I=(a.r2l(a.range[1])-a.r2l(a.range[0]))/(a.r2l(a._inputRange[1])-a.r2l(a._inputRange[0]));if((l/=b)*I<1){a.domain=a._input.domain=y.slice(),Jpt(a,l);continue}if(I<1&&(a.range=a._input.range=a._inputRange.slice(),l*=I),a.autorange){var C=a.r2l(a.range[0]),x=a.r2l(a.range[1]),B=(C+x)/2,A=B,F=B,Q=Math.abs(x-B),w=B-Q*l*1.0001,U=B+Q*l*1.0001,G=Ypt.makePadFn(c,a,0),R=Ypt.makePadFn(c,a,1);ivt(a,l);var S,L,_=Math.abs(a._m),E=Ypt.concatExtremes(t,a),k=E.min,V=E.max;for(L=0;L<k.length;L++)(S=k[L].val-G(k[L])/_)>w&&S<A&&(A=S);for(L=0;L<V.length;L++)(S=V[L].val+R(V[L])/_)<U&&S>F&&(F=S);l/=(F-A)/(2*Q),A=a.l2r(A),F=a.l2r(F),a.range=a._input.range=C<x?[A,F]:[F,A]}ivt(a,l)}}},Wpt.getAxisGroup=function(t,e){for(var n=t._axisMatchGroups,r=0;r<n.length;r++){if(n[r][e])return"g"+r}return e},Wpt.clean=function(t,e){if(e._inputDomain){for(var n=!1,r=e._id,i=t._fullLayout._axisConstraintGroups,a=0;a<i.length;a++)if(i[a][r]){n=!0;break}n&&"domain"===e.constrain||(e._input.domain=e.domain=e._inputDomain,delete e._inputDomain)}},function(t){var e=w4.exports,n=met,r=Git.exports,i=Q4.exports,a=Ngt,o=Ott.exports,s=Uat.exports,l=xlt,c=Xpt,u=Aat.exports,d=wat,h=Wpt,g=h.enforce,f=h.clean,p=hct.doAutoRange,v="start",m="middle",y="end";function b(t,e,n){for(var r=0;r<n.length;r++){var i=n[r][0],a=n[r][1];if(!(i[0]>=t[1]||i[1]<=t[0])&&(a[0]<e[1]&&a[1]>e[0]))return!0}return!1}function I(n){var a,l,h,g,f,p,v=n._fullLayout,m=v._size,y=m.p,I=u.list(n,"",!0);if(v._paperdiv.style({width:n._context.responsive&&v.autosize&&!n._context._hasZeroWidth&&!n.layout.width?"100%":v.width+"px",height:n._context.responsive&&v.autosize&&!n._context._hasZeroHeight&&!n.layout.height?"100%":v.height+"px"}).selectAll(".main-svg").call(s.setSize,v.width,v.height),n._context.setBackground(n,v.paper_bgcolor),t.drawMainTitle(n),c.manage(n),!v._has("cartesian"))return r.previousPromises(n);function x(t,e,n){var r=t._lw/2;return"x"===t._id.charAt(0)?e?"top"===n?e._offset-y-r:e._offset+e._length+y+r:m.t+m.h*(1-(t.position||0))+r%1:e?"right"===n?e._offset+e._length+y+r:e._offset-y-r:m.l+m.w*(t.position||0)+r%1}for(a=0;a<I.length;a++){var A=(g=I[a])._anchorAxis;g._linepositions={},g._lw=s.crispRound(n,g.linewidth,1),g._mainLinePosition=x(g,A,g.side),g._mainMirrorPosition=g.mirror&&A?x(g,A,d.OPPOSITE_SIDE[g.side]):null}var F=[],Q=[],w=[],U=1===o.opacity(v.paper_bgcolor)&&1===o.opacity(v.plot_bgcolor)&&v.paper_bgcolor===v.plot_bgcolor;for(l in v._plots)if((h=v._plots[l]).mainplot)h.bg&&h.bg.remove(),h.bg=void 0;else{var G=h.xaxis.domain,R=h.yaxis.domain,S=h.plotgroup;if(b(G,R,w)){var L=S.node(),_=h.bg=i.ensureSingle(S,"rect","bg");L.insertBefore(_.node(),L.childNodes[0]),Q.push(l)}else S.select("rect.bg").remove(),w.push([G,R]),U||(F.push(l),Q.push(l))}var E,k,V,Z,N,T,X,W,M,H,D,Y,O,z=v._bgLayer.selectAll(".bg").data(F);for(z.enter().append("rect").classed("bg",!0),z.exit().remove(),z.each((function(t){v._plots[t].bg=e.select(this)})),a=0;a<Q.length;a++)h=v._plots[Q[a]],f=h.xaxis,p=h.yaxis,h.bg&&void 0!==f._offset&&void 0!==p._offset&&h.bg.call(s.setRect,f._offset-y,p._offset-y,f._length+2*y,p._length+2*y).call(o.fill,v.plot_bgcolor).style("stroke-width",0);if(!v._hasOnlyLargeSploms)for(l in v._plots){h=v._plots[l],f=h.xaxis,p=h.yaxis;var J,j,P=h.clipId="clip"+v._uid+l+"plot",K=i.ensureSingleById(v._clips,"clipPath",P,(function(t){t.classed("plotclip",!0).append("rect")}));h.clipRect=K.select("rect").attr({width:f._length,height:p._length}),s.setTranslate(h.plot,f._offset,p._offset),h._hasClipOnAxisFalse?(J=null,j=P):(J=P,j=null),s.setClipUrl(h.plot,J,n),h.layerClipId=j}function q(t){return"M"+E+","+t+"H"+k}function $(t){return"M"+f._offset+","+t+"h"+f._length}function tt(t){return"M"+t+","+W+"V"+X}function et(t){return"M"+t+","+p._offset+"v"+p._length}function nt(t,e,n){if(!t.showline||l!==t._mainSubplot)return"";if(!t._anchorAxis)return n(t._mainLinePosition);var r=e(t._mainLinePosition);return t.mirror&&(r+=e(t._mainMirrorPosition)),r}for(l in v._plots){h=v._plots[l],f=h.xaxis,p=h.yaxis;var rt="M0,0";C(f,l)&&(N=B(f,"left",p,I),E=f._offset-(N?y+N:0),T=B(f,"right",p,I),k=f._offset+f._length+(T?y+T:0),V=x(f,p,"bottom"),Z=x(f,p,"top"),!(O=!f._anchorAxis||l!==f._mainSubplot)||"allticks"!==f.mirror&&"all"!==f.mirror||(f._linepositions[l]=[V,Z]),rt=nt(f,q,$),O&&f.showline&&("all"===f.mirror||"allticks"===f.mirror)&&(rt+=q(V)+q(Z)),h.xlines.style("stroke-width",f._lw+"px").call(o.stroke,f.showline?f.linecolor:"rgba(0,0,0,0)")),h.xlines.attr("d",rt);var it="M0,0";C(p,l)&&(D=B(p,"bottom",f,I),X=p._offset+p._length+(D?y:0),Y=B(p,"top",f,I),W=p._offset-(Y?y:0),M=x(p,f,"left"),H=x(p,f,"right"),!(O=!p._anchorAxis||l!==p._mainSubplot)||"allticks"!==p.mirror&&"all"!==p.mirror||(p._linepositions[l]=[M,H]),it=nt(p,tt,et),O&&p.showline&&("all"===p.mirror||"allticks"===p.mirror)&&(it+=tt(M)+tt(H)),h.ylines.style("stroke-width",p._lw+"px").call(o.stroke,p.showline?p.linecolor:"rgba(0,0,0,0)")),h.ylines.attr("d",it)}return u.makeClipPaths(n),r.previousPromises(n)}function C(t,e){return(t.ticks||t.showline)&&(e===t._mainSubplot||"all"===t.mirror||"allticks"===t.mirror)}function x(t,e,n){if(!n.showline||!n._lw)return!1;if("all"===n.mirror||"allticks"===n.mirror)return!0;var r=n._anchorAxis;if(!r)return!1;var i=d.FROM_BL[e];return n.side===e?r.domain[i]===t.domain[i]:n.mirror&&r.domain[1-i]===t.domain[1-i]}function B(t,e,n,r){if(x(t,e,n))return n._lw;for(var i=0;i<r.length;i++){var a=r[i];if(a._mainAxis===n._mainAxis&&x(t,e,a))return a._lw}return 0}function A(t,e){var n=t.title,r=t._size,i=0;return e===v?i=n.pad.l:e===y&&(i=-n.pad.r),"paper"===n.xref?r.l+r.w*n.x+i:t.width*n.x+i}function F(t,e){var n=t.title,r=t._size,i=0;return"0em"!==e&&e?e===d.CAP_SHIFT+"em"&&(i=n.pad.t):i=-n.pad.b,"auto"===n.y?r.t/2:"paper"===n.yref?r.t+r.h-r.h*n.y+i:t.height-t.height*n.y+i}t.layoutStyles=function(t){return i.syncOrAsync([r.doAutoMargin,I],t)},t.drawMainTitle=function(t){var e=t._fullLayout,n=function(t){var e=t.title,n=m;i.isRightAnchor(e)?n=y:i.isLeftAnchor(e)&&(n=v);return n}(e),r=function(t){var e=t.title,n="0em";i.isTopAnchor(e)?n=d.CAP_SHIFT+"em":i.isMiddleAnchor(e)&&(n=d.MID_SHIFT+"em");return n}(e);l.draw(t,"gtitle",{propContainer:e,propName:"title.text",placeholder:e._dfltTitle.plot,attributes:{x:A(e,n),y:F(e,r),"text-anchor":n,dy:r}})},t.doTraceStyle=function(e){var i,o=e.calcdata,s=[];for(i=0;i<o.length;i++){var l=o[i],c=l[0]||{},u=c.trace||{},d=u._module||{},h=d.arraysToCalcdata;h&&h(l,u);var g=d.editStyle;g&&s.push({fn:g,cd0:c})}if(s.length){for(i=0;i<s.length;i++){var f=s[i];f.fn(e,f.cd0)}a(e),t.redrawReglTraces(e)}return r.style(e),n.getComponentMethod("legend","draw")(e),r.previousPromises(e)},t.doColorBars=function(t){return n.getComponentMethod("colorbar","draw")(t),r.previousPromises(t)},t.layoutReplot=function(t){var e=t.layout;return t.layout=void 0,n.call("_doPlot",t,"",e)},t.doLegend=function(t){return n.getComponentMethod("legend","draw")(t),r.previousPromises(t)},t.doTicksRelayout=function(e){return u.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(n.subplotsRegistry.splom.updateGrid(e),a(e),t.redrawReglTraces(e)),t.drawMainTitle(e),r.previousPromises(e)},t.doModeBar=function(t){var e=t._fullLayout;c.manage(t);for(var n=0;n<e._basePlotModules.length;n++){var i=e._basePlotModules[n].updateFx;i&&i(t)}return r.previousPromises(t)},t.doCamera=function(t){for(var e=t._fullLayout,n=e._subplots.gl3d,r=0;r<n.length;r++){var i=e[n[r]];i._scene.setViewport(i)}},t.drawData=function(e){var i=e._fullLayout;a(e);for(var o=i._basePlotModules,s=0;s<o.length;s++)o[s].plot(e);return t.redrawReglTraces(e),r.style(e),n.getComponentMethod("shapes","draw")(e),n.getComponentMethod("annotations","draw")(e),n.getComponentMethod("images","draw")(e),i._replotting=!1,r.previousPromises(e)},t.redrawReglTraces=function(t){var e=t._fullLayout;if(e._has("regl")){var n,r,a=t._fullData,o=[],s=[];for(e._hasOnlyLargeSploms&&e._splomGrid.draw(),n=0;n<a.length;n++){var l=a[n];!0===l.visible&&0!==l._length&&("splom"===l.type?e._splomScenes[l.uid].draw():"scattergl"===l.type?i.pushUnique(o,l.xaxis+l.yaxis):"scatterpolargl"===l.type&&i.pushUnique(s,l.subplot))}for(n=0;n<o.length;n++)(r=e._plots[o[n]])._scene&&r._scene.draw();for(n=0;n<s.length;n++)(r=e[s[n]]._subplot)._scene&&r._scene.draw()}},t.doAutoRangeAndConstraints=function(t){for(var e,n=u.list(t,"",!0),r={},i=0;i<n.length;i++)if(!r[(e=n[i])._id]){r[e._id]=1,f(t,e),p(t,e);var a=e._matchGroup;if(a)for(var o in a){var s=u.getFromId(t,o);p(t,s,e.range),r[o]=1}}g(t)},t.finalDraw=function(t){n.getComponentMethod("rangeslider","draw")(t),n.getComponentMethod("rangeselector","draw")(t)},t.drawMarginPushers=function(t){n.getComponentMethod("legend","draw")(t),n.getComponentMethod("rangeselector","draw")(t),n.getComponentMethod("sliders","draw")(t),n.getComponentMethod("updatemenus","draw")(t),n.getComponentMethod("colorbar","draw")(t)}}(Tgt);var avt=function(){var t,e=0,n=!1;function r(e,n){return t.list.push({type:e,data:n?JSON.parse(JSON.stringify(n)):void 0}),t}return t={list:[],segmentId:function(){return e++},checkIntersection:function(t,e){return r("check",{seg1:t,seg2:e})},segmentChop:function(t,e){return r("div_seg",{seg:t,pt:e}),r("chop",{seg:t,pt:e})},statusRemove:function(t){return r("pop_seg",{seg:t})},segmentUpdate:function(t){return r("seg_update",{seg:t})},segmentNew:function(t,e){return r("new_seg",{seg:t,primary:e})},segmentRemove:function(t){return r("rem_seg",{seg:t})},tempStatus:function(t,e,n){return r("temp_status",{seg:t,above:e,below:n})},rewind:function(t){return r("rewind",{seg:t})},status:function(t,e,n){return r("status",{seg:t,above:e,below:n})},vert:function(e){return e===n?t:(n=e,r("vert",{x:e}))},log:function(t){return"string"!=typeof t&&(t=JSON.stringify(t,!1,"  ")),r("log",{txt:t})},reset:function(){return r("reset")},selected:function(t){return r("selected",{segs:t})},chainStart:function(t){return r("chain_start",{seg:t})},chainRemoveHead:function(t,e){return r("chain_rem_head",{index:t,pt:e})},chainRemoveTail:function(t,e){return r("chain_rem_tail",{index:t,pt:e})},chainNew:function(t,e){return r("chain_new",{pt1:t,pt2:e})},chainMatch:function(t){return r("chain_match",{index:t})},chainClose:function(t){return r("chain_close",{index:t})},chainAddHead:function(t,e){return r("chain_add_head",{index:t,pt:e})},chainAddTail:function(t,e){return r("chain_add_tail",{index:t,pt:e})},chainConnect:function(t,e){return r("chain_con",{index1:t,index2:e})},chainReverse:function(t){return r("chain_rev",{index:t})},chainJoin:function(t,e){return r("chain_join",{index1:t,index2:e})},done:function(){return r("done")}},t};var ovt=function(t){"number"!=typeof t&&(t=1e-10);var e={epsilon:function(e){return"number"==typeof e&&(t=e),t},pointAboveOrOnLine:function(e,n,r){var i=n[0],a=n[1],o=r[0],s=r[1],l=e[0];return(o-i)*(e[1]-a)-(s-a)*(l-i)>=-t},pointBetween:function(e,n,r){var i=e[1]-n[1],a=r[0]-n[0],o=e[0]-n[0],s=r[1]-n[1],l=o*a+i*s;return!(l<t)&&!(l-(a*a+s*s)>-t)},pointsSameX:function(e,n){return Math.abs(e[0]-n[0])<t},pointsSameY:function(e,n){return Math.abs(e[1]-n[1])<t},pointsSame:function(t,n){return e.pointsSameX(t,n)&&e.pointsSameY(t,n)},pointsCompare:function(t,n){return e.pointsSameX(t,n)?e.pointsSameY(t,n)?0:t[1]<n[1]?-1:1:t[0]<n[0]?-1:1},pointsCollinear:function(e,n,r){var i=e[0]-n[0],a=e[1]-n[1],o=n[0]-r[0],s=n[1]-r[1];return Math.abs(i*s-o*a)<t},linesIntersect:function(e,n,r,i){var a=n[0]-e[0],o=n[1]-e[1],s=i[0]-r[0],l=i[1]-r[1],c=a*l-o*s;if(Math.abs(c)<t)return!1;var u=e[0]-r[0],d=e[1]-r[1],h=(s*d-l*u)/c,g=(a*d-o*u)/c,f={alongA:0,alongB:0,pt:[e[0]+h*a,e[1]+h*o]};return f.alongA=h<=-t?-2:h<t?-1:h-1<=-t?0:h-1<t?1:2,f.alongB=g<=-t?-2:g<t?-1:g-1<=-t?0:g-1<t?1:2,f},pointInsideRegion:function(e,n){for(var r=e[0],i=e[1],a=n[n.length-1][0],o=n[n.length-1][1],s=!1,l=0;l<n.length;l++){var c=n[l][0],u=n[l][1];u-i>t!=o-i>t&&(a-c)*(i-u)/(o-u)+c-r>t&&(s=!s),a=c,o=u}return s}};return e},svt={create:function(){var t={root:{root:!0,next:null},exists:function(e){return null!==e&&e!==t.root},isEmpty:function(){return null===t.root.next},getHead:function(){return t.root.next},insertBefore:function(e,n){for(var r=t.root,i=t.root.next;null!==i;){if(n(i))return e.prev=i.prev,e.next=i,i.prev.next=e,void(i.prev=e);r=i,i=i.next}r.next=e,e.prev=r,e.next=null},findTransition:function(e){for(var n=t.root,r=t.root.next;null!==r&&!e(r);)n=r,r=r.next;return{before:n===t.root?null:n,after:r,insert:function(t){return t.prev=n,t.next=r,n.next=t,null!==r&&(r.prev=t),t}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}},lvt=svt;var cvt=function(t,e,n){function r(t,e){return{id:n?n.segmentId():-1,start:t,end:e,myFill:{above:null,below:null},otherFill:null}}function i(t,e,r){return{id:n?n.segmentId():-1,start:t,end:e,myFill:{above:r.myFill.above,below:r.myFill.below},otherFill:null}}var a=lvt.create();function o(t,n){a.insertBefore(t,(function(r){return function(t,n,r,i,a,o){var s=e.pointsCompare(n,a);return 0!==s?s:e.pointsSame(r,o)?0:t!==i?t?1:-1:e.pointAboveOrOnLine(r,i?a:o,i?o:a)?1:-1}(t.isStart,t.pt,n,r.isStart,r.pt,r.other.pt)<0}))}function s(t,e){var n=function(t,e){var n=lvt.node({isStart:!0,pt:t.start,seg:t,primary:e,other:null,status:null});return o(n,t.end),n}(t,e);return function(t,e,n){var r=lvt.node({isStart:!1,pt:e.end,seg:e,primary:n,other:t,status:null});t.other=r,o(r,t.pt)}(n,t,e),n}function l(t,e){var r=i(e,t.seg.end,t.seg);return function(t,e){n&&n.segmentChop(t.seg,e),t.other.remove(),t.seg.end=e,t.other.pt=e,o(t.other,t.pt)}(t,e),s(r,t.primary)}function c(r,i){var o=lvt.create();function s(t){return o.findTransition((function(n){var r,i,a,o,s,l;return(r=t,i=n.ev,a=r.seg.start,o=r.seg.end,s=i.seg.start,l=i.seg.end,e.pointsCollinear(a,s,l)?e.pointsCollinear(o,s,l)||e.pointAboveOrOnLine(o,s,l)?1:-1:e.pointAboveOrOnLine(a,s,l)?1:-1)>0}))}function c(t,r){var i=t.seg,a=r.seg,o=i.start,s=i.end,c=a.start,u=a.end;n&&n.checkIntersection(i,a);var d=e.linesIntersect(o,s,c,u);if(!1===d){if(!e.pointsCollinear(o,s,c))return!1;if(e.pointsSame(o,u)||e.pointsSame(s,c))return!1;var h=e.pointsSame(o,c),g=e.pointsSame(s,u);if(h&&g)return r;var f=!h&&e.pointBetween(o,c,u),p=!g&&e.pointBetween(s,c,u);if(h)return p?l(r,s):l(t,u),r;f&&(g||(p?l(r,s):l(t,u)),l(r,o))}else 0===d.alongA&&(-1===d.alongB?l(t,c):0===d.alongB?l(t,d.pt):1===d.alongB&&l(t,u)),0===d.alongB&&(-1===d.alongA?l(r,o):0===d.alongA?l(r,d.pt):1===d.alongA&&l(r,s));return!1}for(var u=[];!a.isEmpty();){var d=a.getHead();if(n&&n.vert(d.pt[0]),d.isStart){n&&n.segmentNew(d.seg,d.primary);var h=s(d),g=h.before?h.before.ev:null,f=h.after?h.after.ev:null;n&&n.tempStatus(d.seg,!!g&&g.seg,!!f&&f.seg);var p,v=function(){if(g){var t=c(d,g);if(t)return t}return!!f&&c(d,f)}();if(v){var m;if(t)(m=null===d.seg.myFill.below||d.seg.myFill.above!==d.seg.myFill.below)&&(v.seg.myFill.above=!v.seg.myFill.above);else v.seg.otherFill=d.seg.myFill;n&&n.segmentUpdate(v.seg),d.other.remove(),d.remove()}if(a.getHead()!==d){n&&n.rewind(d.seg);continue}if(t)m=null===d.seg.myFill.below||d.seg.myFill.above!==d.seg.myFill.below,d.seg.myFill.below=f?f.seg.myFill.above:r,d.seg.myFill.above=m?!d.seg.myFill.below:d.seg.myFill.below;else if(null===d.seg.otherFill)p=f?d.primary===f.primary?f.seg.otherFill.above:f.seg.myFill.above:d.primary?i:r,d.seg.otherFill={above:p,below:p};n&&n.status(d.seg,!!g&&g.seg,!!f&&f.seg),d.other.status=h.insert(lvt.node({ev:d}))}else{var y=d.status;if(null===y)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(o.exists(y.prev)&&o.exists(y.next)&&c(y.prev.ev,y.next.ev),n&&n.statusRemove(y.ev.seg),y.remove(),!d.primary){var b=d.seg.myFill;d.seg.myFill=d.seg.otherFill,d.seg.otherFill=b}u.push(d.seg)}a.getHead().remove()}return n&&n.done(),u}return t?{addRegion:function(t){for(var n,i=t[t.length-1],a=0;a<t.length;a++){n=i,i=t[a];var o=e.pointsCompare(n,i);0!==o&&s(r(o<0?n:i,o<0?i:n),!0)}},calculate:function(t){return c(t,!1)}}:{calculate:function(t,e,n,r){return t.forEach((function(t){s(i(t.start,t.end,t),!0)})),n.forEach((function(t){s(i(t.start,t.end,t),!1)})),c(e,r)}}};var uvt=function(t,e,n){var r=[],i=[];return t.forEach((function(t){var a=t.start,o=t.end;if(e.pointsSame(a,o))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{n&&n.chainStart(t);for(var s={index:0,matches_head:!1,matches_pt1:!1},l={index:0,matches_head:!1,matches_pt1:!1},c=s,u=0;u<r.length;u++){var d=(v=r[u])[0];v[1];var h=v[v.length-1];if(v[v.length-2],e.pointsSame(d,a)){if(A(u,!0,!0))break}else if(e.pointsSame(d,o)){if(A(u,!0,!1))break}else if(e.pointsSame(h,a)){if(A(u,!1,!0))break}else if(e.pointsSame(h,o)&&A(u,!1,!1))break}if(c===s)return r.push([a,o]),void(n&&n.chainNew(a,o));if(c===l){n&&n.chainMatch(s.index);var g=s.index,f=s.matches_pt1?o:a,p=s.matches_head,v=r[g],m=p?v[0]:v[v.length-1],y=p?v[1]:v[v.length-2],b=p?v[v.length-1]:v[0],I=p?v[v.length-2]:v[1];return e.pointsCollinear(y,m,f)&&(p?(n&&n.chainRemoveHead(s.index,f),v.shift()):(n&&n.chainRemoveTail(s.index,f),v.pop()),m=y),e.pointsSame(b,f)?(r.splice(g,1),e.pointsCollinear(I,b,m)&&(p?(n&&n.chainRemoveTail(s.index,m),v.pop()):(n&&n.chainRemoveHead(s.index,m),v.shift())),n&&n.chainClose(s.index),void i.push(v)):void(p?(n&&n.chainAddHead(s.index,f),v.unshift(f)):(n&&n.chainAddTail(s.index,f),v.push(f)))}var C=s.index,x=l.index;n&&n.chainConnect(C,x);var B=r[C].length<r[x].length;s.matches_head?l.matches_head?B?(F(C),Q(C,x)):(F(x),Q(x,C)):Q(x,C):l.matches_head?Q(C,x):B?(F(C),Q(x,C)):(F(x),Q(C,x))}function A(t,e,n){return c.index=t,c.matches_head=e,c.matches_pt1=n,c===s?(c=l,!1):(c=null,!0)}function F(t){n&&n.chainReverse(t),r[t].reverse()}function Q(t,i){var a=r[t],o=r[i],s=a[a.length-1],l=a[a.length-2],c=o[0],u=o[1];e.pointsCollinear(l,s,c)&&(n&&n.chainRemoveTail(t,s),a.pop(),s=l),e.pointsCollinear(s,c,u)&&(n&&n.chainRemoveHead(i,c),o.shift()),n&&n.chainJoin(t,i),r[t]=a.concat(o),r.splice(i,1)}})),i};function dvt(t,e,n){var r=[];return t.forEach((function(t){var i=(t.myFill.above?8:0)+(t.myFill.below?4:0)+(t.otherFill&&t.otherFill.above?2:0)+(t.otherFill&&t.otherFill.below?1:0);0!==e[i]&&r.push({id:n?n.segmentId():-1,start:t.start,end:t.end,myFill:{above:1===e[i],below:2===e[i]},otherFill:null})})),n&&n.selected(r),r}var hvt,gvt={union:function(t,e){return dvt(t,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],e)},intersect:function(t,e){return dvt(t,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],e)},difference:function(t,e){return dvt(t,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],e)},differenceRev:function(t,e){return dvt(t,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],e)},xor:function(t,e){return dvt(t,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],e)}},fvt={toPolygon:function(t,e){function n(e){if(e.length<=0)return t.segments({inverted:!1,regions:[]});function n(e){var n=e.slice(0,e.length-1);return t.segments({inverted:!1,regions:[n]})}for(var r=n(e[0]),i=1;i<e.length;i++)r=t.selectDifference(t.combine(r,n(e[i])));return r}if("Polygon"===e.type)return t.polygon(n(e.coordinates));if("MultiPolygon"===e.type){for(var r=t.segments({inverted:!1,regions:[]}),i=0;i<e.coordinates.length;i++)r=t.selectUnion(t.combine(r,n(e.coordinates[i])));return t.polygon(r)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,e,n){function r(t,n){return e.pointInsideRegion([.5*(t[0][0]+t[1][0]),.5*(t[0][1]+t[1][1])],n)}function i(t){return{region:t,children:[]}}n=t.polygon(t.segments(n));var a=i(null);function o(t,e){for(var n=0;n<t.children.length;n++){if(r(e,(s=t.children[n]).region))return void o(s,e)}var a=i(e);for(n=0;n<t.children.length;n++){var s;r((s=t.children[n]).region,e)&&(a.children.push(s),t.children.splice(n,1),n--)}t.children.push(a)}for(var s=0;s<n.regions.length;s++){var l=n.regions[s];l.length<3||o(a,l)}function c(t,e){for(var n=0,r=t[t.length-1][0],i=t[t.length-1][1],a=[],o=0;o<t.length;o++){var s=t[o][0],l=t[o][1];a.push([s,l]),n+=l*r-s*i,r=s,i=l}return n<0!==e&&a.reverse(),a.push([a[0][0],a[0][1]]),a}var u=[];function d(t){var e=[c(t.region,!1)];u.push(e);for(var n=0;n<t.children.length;n++)e.push(h(t.children[n]))}function h(t){for(var e=0;e<t.children.length;e++)d(t.children[e]);return c(t.region,!0)}for(s=0;s<a.children.length;s++)d(a.children[s]);return u.length<=0?{type:"Polygon",coordinates:[]}:1==u.length?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}},pvt=avt,vvt=cvt,mvt=uvt,yvt=gvt,bvt=fvt,Ivt=!1,Cvt=ovt();function xvt(t,e,n){var r=hvt.segments(t),i=hvt.segments(e),a=n(hvt.combine(r,i));return hvt.polygon(a)}hvt={buildLog:function(t){return!0===t?Ivt=pvt():!1===t&&(Ivt=!1),!1!==Ivt&&Ivt.list},epsilon:function(t){return Cvt.epsilon(t)},segments:function(t){var e=vvt(!0,Cvt,Ivt);return t.regions.forEach(e.addRegion),{segments:e.calculate(t.inverted),inverted:t.inverted}},combine:function(t,e){return{combined:vvt(!1,Cvt,Ivt).calculate(t.segments,t.inverted,e.segments,e.inverted),inverted1:t.inverted,inverted2:e.inverted}},selectUnion:function(t){return{segments:yvt.union(t.combined,Ivt),inverted:t.inverted1||t.inverted2}},selectIntersect:function(t){return{segments:yvt.intersect(t.combined,Ivt),inverted:t.inverted1&&t.inverted2}},selectDifference:function(t){return{segments:yvt.difference(t.combined,Ivt),inverted:t.inverted1&&!t.inverted2}},selectDifferenceRev:function(t){return{segments:yvt.differenceRev(t.combined,Ivt),inverted:!t.inverted1&&t.inverted2}},selectXor:function(t){return{segments:yvt.xor(t.combined,Ivt),inverted:t.inverted1!==t.inverted2}},polygon:function(t){return{regions:mvt(t.segments,Cvt,Ivt),inverted:t.inverted}},polygonFromGeoJSON:function(t){return bvt.toPolygon(hvt,t)},polygonToGeoJSON:function(t){return bvt.fromPolygon(hvt,Cvt,t)},union:function(t,e){return xvt(t,e,hvt.selectUnion)},intersect:function(t,e){return xvt(t,e,hvt.selectIntersect)},difference:function(t,e){return xvt(t,e,hvt.selectDifference)},differenceRev:function(t,e){return xvt(t,e,hvt.selectDifferenceRev)},xor:function(t,e){return xvt(t,e,hvt.selectXor)}},"object"===("undefined"==typeof window?"undefined":o(window))&&(window.PolyBool=hvt);var Bvt=hvt,Avt={exports:{}},Fvt=Iet.dot,Qvt=J6.BADNUM,wvt=Avt.exports={};wvt.tester=function(t){var e,n=t.slice(),r=n[0][0],i=r,a=n[0][1],o=a;for(n.push(n[0]),e=1;e<n.length;e++)r=Math.min(r,n[e][0]),i=Math.max(i,n[e][0]),a=Math.min(a,n[e][1]),o=Math.max(o,n[e][1]);var s,l=!1;5===n.length&&(n[0][0]===n[1][0]?n[2][0]===n[3][0]&&n[0][1]===n[3][1]&&n[1][1]===n[2][1]&&(l=!0,s=function(t){return t[0]===n[0][0]}):n[0][1]===n[1][1]&&n[2][1]===n[3][1]&&n[0][0]===n[3][0]&&n[1][0]===n[2][0]&&(l=!0,s=function(t){return t[1]===n[0][1]}));var c=!0,u=n[0];for(e=1;e<n.length;e++)if(u[0]!==n[e][0]||u[1]!==n[e][1]){c=!1;break}return{xmin:r,xmax:i,ymin:a,ymax:o,pts:n,contains:l?function(t,e){var n=t[0],l=t[1];return!(n===Qvt||n<r||n>i||l===Qvt||l<a||l>o)&&(!e||!s(t))}:function(t,e){var s=t[0],l=t[1];if(s===Qvt||s<r||s>i||l===Qvt||l<a||l>o)return!1;var c,u,d,h,g,f=n.length,p=n[0][0],v=n[0][1],m=0;for(c=1;c<f;c++)if(u=p,d=v,p=n[c][0],v=n[c][1],!(s<(h=Math.min(u,p))||s>Math.max(u,p)||l>Math.max(d,v)))if(l<Math.min(d,v))s!==h&&m++;else{if(l===(g=p===u?l:d+(s-u)*(v-d)/(p-u)))return 1!==c||!e;l<=g&&s!==h&&m++}return m%2==1},isRect:l,degenerate:c}},wvt.isSegmentBent=function(t,e,n,r){var i,a,o,s=t[e],l=[t[n][0]-s[0],t[n][1]-s[1]],c=Fvt(l,l),u=Math.sqrt(c),d=[-l[1]/u,l[0]/u];for(i=e+1;i<n;i++)if(a=[t[i][0]-s[0],t[i][1]-s[1]],(o=Fvt(a,l))<0||o>c||Math.abs(Fvt(a,d))>r)return!0;return!1},wvt.filter=function(t,e){var n=[t[0]],r=0,i=0;function a(a){t.push(a);var o=n.length,s=r;n.splice(i+1);for(var l=s+1;l<t.length;l++)(l===t.length-1||wvt.isSegmentBent(t,s,l+1,e))&&(n.push(t[l]),n.length<o-2&&(r=l,i=n.length-1),s=l)}t.length>1&&a(t.pop());return{addPt:a,raw:t,filtered:n}};var Uvt=Bvt,Gvt=met,Rvt=Uat.exports.dashStyle,Svt=Ott.exports,Lvt=Vgt,_vt=Qst.makeEventData,Evt=Zgt.freeMode,kvt=Zgt.rectMode,Vvt=Zgt.drawMode,Zvt=Zgt.openMode,Nvt=Zgt.selectMode,Tvt=Aft,Xvt=Mgt.handleEllipse,Wvt=dft,Mvt=Q4.exports,Hvt=Avt.exports,Dvt=Mnt,Yvt=Vit.getFromId,Ovt=Ngt,zvt=Tgt.redrawReglTraces,Jvt=Nit,jvt=Jvt.MINSELECT,Pvt=Hvt.filter,Kvt=Hvt.tester,qvt=Tit.clearSelect,$vt=Pgt.p2r,tmt=Pgt.axValue,emt=Pgt.getTransform;function nmt(t,e,n,r,i,a,o){var s,l,c,u,d,h,g,f,p,v=e._hoverdata,m=e._fullLayout.clickmode.indexOf("event")>-1,y=[];if(function(t){return t&&Array.isArray(t)&&!0!==t[0].hoverOnBox}(v)){omt(t,e,a);var b=function(t,e){var n,r,i=t[0],a=-1,o=[];for(r=0;r<e.length;r++)if(n=e[r],i.fullData._expandedIndex===n.cd[0].trace._expandedIndex){if(!0===i.hoverOnBox)break;void 0!==i.pointNumber?a=i.pointNumber:void 0!==i.binNumber&&(a=i.binNumber,o=i.pointNumbers);break}return{pointNumber:a,pointNumbers:o,searchInfo:n}}(v,s=lmt(e,n,r,i));if(b.pointNumbers.length>0?function(t,e){var n,r,i,a=[];for(i=0;i<t.length;i++)(n=t[i]).cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&a.push(n);if(1===a.length&&a[0]===e.searchInfo&&(r=e.searchInfo.cd[0].trace).selectedpoints.length===e.pointNumbers.length){for(i=0;i<e.pointNumbers.length;i++)if(r.selectedpoints.indexOf(e.pointNumbers[i])<0)return!1;return!0}return!1}(s,b):function(t){var e,n,r=0;for(n=0;n<t.length;n++)if((e=t[n].cd[0].trace).selectedpoints){if(e.selectedpoints.length>1)return!1;if((r+=e.selectedpoints.length)>1)return!1}return 1===r}(s)&&(h=cmt(b))){for(o&&o.remove(),p=0;p<s.length;p++)(l=s[p])._module.selectPoints(l,!1);umt(e,s),smt(a),m&&e.emit("plotly_deselect",null)}else{for(g=t.shiftKey&&(void 0!==h?h:cmt(b)),c=function(t,e,n){return{pointNumber:t,searchInfo:e,subtract:n}}(b.pointNumber,b.searchInfo,g),u=amt(a.selectionDefs.concat([c])),p=0;p<s.length;p++)if(d=dmt(s[p]._module.selectPoints(s[p],u),s[p]),y.length)for(var I=0;I<d.length;I++)y.push(d[I]);else y=d;if(umt(e,s,f={points:y}),c&&a&&a.selectionDefs.push(c),o){var C=a.mergedPolygons,x=Zvt(a.dragmode);Tvt(hmt(C,x),o,a)}m&&e.emit("plotly_selected",f)}}}function rmt(t){return"pointNumber"in t&&"searchInfo"in t}function imt(t){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(e,n,r,i){var a=t.searchInfo.cd[0].trace._expandedIndex;return i.cd[0].trace._expandedIndex===a&&r===t.pointNumber},isRect:!1,degenerate:!1,subtract:t.subtract}}function amt(t){for(var e=[],n=rmt(t[0])?0:t[0][0][0],r=n,i=rmt(t[0])?0:t[0][0][1],a=i,o=0;o<t.length;o++)if(rmt(t[o]))e.push(imt(t[o]));else{var s=Hvt.tester(t[o]);s.subtract=t[o].subtract,e.push(s),n=Math.min(n,s.xmin),r=Math.max(r,s.xmax),i=Math.min(i,s.ymin),a=Math.max(a,s.ymax)}return{xmin:n,xmax:r,ymin:i,ymax:a,pts:[],contains:function(t,n,r,i){for(var a=!1,o=0;o<e.length;o++)e[o].contains(t,n,r,i)&&(a=!1===e[o].subtract);return a},isRect:!1,degenerate:!1}}function omt(t,e,n){e._fullLayout._drawing=!1;var r=e._fullLayout,i=n.plotinfo,a=n.dragmode,o=r._lastSelectedSubplot&&r._lastSelectedSubplot===i.id,s=(t.shiftKey||t.altKey)&&!(Vvt(a)&&Zvt(a));o&&s&&i.selection&&i.selection.selectionDefs&&!n.selectionDefs?(n.selectionDefs=i.selection.selectionDefs,n.mergedPolygons=i.selection.mergedPolygons):s&&i.selection||smt(n),o||(qvt(e),r._lastSelectedSubplot=i.id)}function smt(t){var e=t.dragmode,n=t.plotinfo,r=t.gd;if(r._fullLayout._activeShapeIndex>=0&&r._fullLayout._deactivateShape(r),Vvt(e)){var i=r._fullLayout._zoomlayer.selectAll(".select-outline-"+n.id);if(i&&r._fullLayout._drawing){var a=Wvt(i,t);a&&Gvt.call("_guiRelayout",r,{shapes:a}),r._fullLayout._drawing=!1}}n.selection={},n.selection.selectionDefs=t.selectionDefs=[],n.selection.mergedPolygons=t.mergedPolygons=[]}function lmt(t,e,n,r){var i,a,o,s=[],l=e.map((function(t){return t._id})),c=n.map((function(t){return t._id}));for(o=0;o<t.calcdata.length;o++)if(!0===(a=(i=t.calcdata[o])[0].trace).visible&&a._module&&a._module.selectPoints)if(!r||a.subplot!==r&&a.geo!==r)if("splom"===a.type&&a._xaxes[l[0]]&&a._yaxes[c[0]]){var u=h(a._module,i,e[0],n[0]);u.scene=t._fullLayout._splomScenes[a.uid],s.push(u)}else if("sankey"===a.type){var d=h(a._module,i,e[0],n[0]);s.push(d)}else{if(-1===l.indexOf(a.xaxis))continue;if(-1===c.indexOf(a.yaxis))continue;s.push(h(a._module,i,Yvt(t,a.xaxis),Yvt(t,a.yaxis)))}else s.push(h(a._module,i,e[0],n[0]));return s;function h(t,e,n,r){return{_module:t,cd:e,xaxis:n,yaxis:r}}}function cmt(t){var e=t.searchInfo.cd[0].trace,n=t.pointNumber,r=t.pointNumbers,i=r.length>0?r[0]:n;return!!e.selectedpoints&&e.selectedpoints.indexOf(i)>-1}function umt(t,e,n){var r,i,a,o;for(r=0;r<e.length;r++){var s=e[r].cd[0].trace._fullInput,l=t._fullLayout._tracePreGUI[s.uid]||{};void 0===l.selectedpoints&&(l.selectedpoints=s._input.selectedpoints||null)}if(n){var c=n.points||[];for(r=0;r<e.length;r++)(o=e[r].cd[0].trace)._input.selectedpoints=o._fullInput.selectedpoints=[],o._fullInput!==o&&(o.selectedpoints=[]);for(r=0;r<c.length;r++){var u=c[r],d=u.data,h=u.fullData;u.pointIndices?([].push.apply(d.selectedpoints,u.pointIndices),o._fullInput!==o&&[].push.apply(h.selectedpoints,u.pointIndices)):(d.selectedpoints.push(u.pointIndex),o._fullInput!==o&&h.selectedpoints.push(u.pointIndex))}}else for(r=0;r<e.length;r++)delete(o=e[r].cd[0].trace).selectedpoints,delete o._input.selectedpoints,o._fullInput!==o&&delete o._fullInput.selectedpoints;var g=!1;for(r=0;r<e.length;r++){o=(a=(i=e[r]).cd)[0].trace,Gvt.traceIs(o,"regl")&&(g=!0);var f=i._module,p=f.styleOnSelect||f.style;p&&(p(t,a,a[0].node3),a[0].nodeRangePlot3&&p(t,a,a[0].nodeRangePlot3))}g&&(Ovt(t),zvt(t))}function dmt(t,e){if(Array.isArray(t))for(var n=e.cd,r=e.cd[0].trace,i=0;i<t.length;i++)t[i]=_vt(t[i],r,n);return t}function hmt(t,e){for(var n=[],r=0;r<t.length;r++){n[r]=[];for(var i=0;i<t[r].length;i++){n[r][i]=[],n[r][i][0]=i?"L":"M";for(var a=0;a<t[r][i].length;a++)n[r][i].push(t[r][i][a])}e||n[r].push(["Z",n[r][0][1],n[r][0][2]])}return n}var gmt={prepSelect:function(t,e,n,r,i){var a=Evt(i),o=kvt(i),s=Zvt(i),l=Vvt(i),c=Nvt(i),u="drawcircle"===i,d="drawline"===i||u,h=r.gd,g=h._fullLayout,f=g._zoomlayer,p=r.element.getBoundingClientRect(),v=r.plotinfo,m=emt(v),y=e-p.left,b=n-p.top;g._calcInverseTransform(h);var I=Mvt.apply3DTransform(g._invTransform)(y,b);y=I[0],b=I[1];var C,x,B,A,F,Q,w,U=g._invScaleX,G=g._invScaleY,R=y,S=b,L="M"+y+","+b,_=r.xaxes[0]._length,E=r.yaxes[0]._length,k=r.xaxes.concat(r.yaxes),V=t.altKey&&!(Vvt(i)&&s);omt(t,h,r),a&&(C=Pvt([[y,b]],Jvt.BENDPX));var Z=f.selectAll("path.select-outline-"+v.id).data(l?[0]:[1,2]),N=g.newshape;Z.enter().append("path").attr("class",(function(t){return"select-outline select-outline-"+t+" select-outline-"+v.id})).style(l?{opacity:N.opacity/2,fill:s?void 0:N.fillcolor,stroke:N.line.color,"stroke-dasharray":Rvt(N.line.dash,N.line.width),"stroke-width":N.line.width+"px"}:{}).attr("fill-rule",N.fillrule).classed("cursor-move",!!l).attr("transform",m).attr("d",L+"Z");var T,X=f.append("path").attr("class","zoombox-corners").style({fill:Svt.background,stroke:Svt.defaultLine,"stroke-width":1}).attr("transform",m).attr("d","M0,0Z"),W=g._uid+Jvt.SELECTID,M=[],H=lmt(h,r.xaxes,r.yaxes,r.subplot);function D(t,e){return t-e}T=v.fillRangeItems?v.fillRangeItems:o?function(t,e){var n=t.range={};for(F=0;F<k.length;F++){var r=k[F],i=r._id.charAt(0);n[r._id]=[$vt(r,e[i+"min"]),$vt(r,e[i+"max"])].sort(D)}}:function(t,e,n){var r=t.lassoPoints={};for(F=0;F<k.length;F++){var i=k[F];r[i._id]=n.filtered.map(tmt(i))}},r.moveFn=function(t,e){R=Math.max(0,Math.min(_,U*t+y)),S=Math.max(0,Math.min(E,G*e+b));var n=Math.abs(R-y),i=Math.abs(S-b);if(o){var f,p,v;if(c){var m=g.selectdirection;switch(f="any"===m?i<Math.min(.6*n,jvt)?"h":n<Math.min(.6*i,jvt)?"v":"d":m){case"h":p=u?E/2:0,v=E;break;case"v":p=u?_/2:0,v=_}}if(l)switch(g.newshape.drawdirection){case"vertical":f="h",p=u?E/2:0,v=E;break;case"horizontal":f="v",p=u?_/2:0,v=_;break;case"ortho":n<i?(f="h",p=b,v=S):(f="v",p=y,v=R);break;default:f="d"}"h"===f?((A=d?Xvt(u,[R,p],[R,v]):[[y,p],[y,v],[R,v],[R,p]]).xmin=d?R:Math.min(y,R),A.xmax=d?R:Math.max(y,R),A.ymin=Math.min(p,v),A.ymax=Math.max(p,v),X.attr("d","M"+A.xmin+","+(b-jvt)+"h-4v"+2*jvt+"h4ZM"+(A.xmax-1)+","+(b-jvt)+"h4v"+2*jvt+"h-4Z")):"v"===f?((A=d?Xvt(u,[p,S],[v,S]):[[p,b],[p,S],[v,S],[v,b]]).xmin=Math.min(p,v),A.xmax=Math.max(p,v),A.ymin=d?S:Math.min(b,S),A.ymax=d?S:Math.max(b,S),X.attr("d","M"+(y-jvt)+","+A.ymin+"v-4h"+2*jvt+"v4ZM"+(y-jvt)+","+(A.ymax-1)+"v4h"+2*jvt+"v-4Z")):"d"===f&&((A=d?Xvt(u,[y,b],[R,S]):[[y,b],[y,S],[R,S],[R,b]]).xmin=Math.min(y,R),A.xmax=Math.max(y,R),A.ymin=Math.min(b,S),A.ymax=Math.max(b,S),X.attr("d","M0,0Z"))}else a&&(C.addPt([R,S]),A=C.filtered);r.selectionDefs&&r.selectionDefs.length?(B=function(t,e,n){if(n)return Uvt.difference({regions:t,inverted:!1},{regions:[e],inverted:!1}).regions;return Uvt.union({regions:t,inverted:!1},{regions:[e],inverted:!1}).regions}(r.mergedPolygons,A,V),A.subtract=V,x=amt(r.selectionDefs.concat([A]))):(B=[A],x=Kvt(A)),Tvt(hmt(B,s),Z,r),c&&Dvt.throttle(W,Jvt.SELECTDELAY,(function(){var t;for(M=[],F=0;F<H.length;F++)if(t=dmt((Q=H[F])._module.selectPoints(Q,x),Q),M.length)for(var e=0;e<t.length;e++)M.push(t[e]);else M=t;umt(h,H,w={points:M}),T(w,A,C),r.gd.emit("plotly_selecting",w)}))},r.clickFn=function(t,e){if(X.remove(),h._fullLayout._activeShapeIndex>=0)h._fullLayout._deactivateShape(h);else if(!l){var n=g.clickmode;Dvt.done(W).then((function(){if(Dvt.clear(W),2===t){for(Z.remove(),F=0;F<H.length;F++)(Q=H[F])._module.selectPoints(Q,!1);umt(h,H),smt(r),h.emit("plotly_deselect",null)}else n.indexOf("select")>-1&&nmt(e,h,r.xaxes,r.yaxes,r.subplot,r,Z),"event"===n&&h.emit("plotly_selected",void 0);Lvt.click(h,e)})).catch(Mvt.error)}},r.doneFn=function(){X.remove(),Dvt.done(W).then((function(){Dvt.clear(W),r.gd.emit("plotly_selected",w),A&&r.selectionDefs&&(A.subtract=V,r.selectionDefs.push(A),r.mergedPolygons.length=0,[].push.apply(r.mergedPolygons,B)),r.doneFnCompleted&&r.doneFnCompleted(M)})).catch(Mvt.error),l&&smt(r)}},clearSelect:qvt,clearSelectionsCache:smt,selectOnClick:nmt},fmt=w4.exports,pmt=Q4.exports,vmt=pmt.numberFormat,mmt=Btt.exports,ymt=met,bmt=pmt.strTranslate,Imt=Fat,Cmt=Ott.exports,xmt=Uat.exports,Bmt=Vgt,Amt=Aat.exports,Fmt=fdt,Qmt=Jut.exports,wmt=Zgt.selectingOrDrawing,Umt=Zgt.freeMode,Gmt=wat.FROM_TL,Rmt=Ngt,Smt=Tgt.redrawReglTraces,Lmt=Git.exports,_mt=Vit.getFromId,Emt=gmt.prepSelect,kmt=gmt.clearSelect,Vmt=gmt.selectOnClick,Zmt=Hpt,Nmt=Nit,Tmt=Nmt.MINDRAG,Xmt=Nmt.MINZOOM,Wmt=!0;function Mmt(t,e,n,r){var i=pmt.ensureSingle(t.draglayer,e,n,(function(e){e.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",t.id)}));return i.call(Fmt,r),i.node()}function Hmt(t,e,n,r,i,a,o){var s=Mmt(t,"rect",e,n);return fmt.select(s).call(xmt.setRect,r,i,a,o),s}function Dmt(t,e){for(var n=0;n<t.length;n++)if(!t[n].fixedrange)return e;return""}function Ymt(t,e,n,r,i){for(var a=0;a<t.length;a++){var o=t[a];if(!o.fixedrange)if(o.rangebreaks){var s="y"===o._id.charAt(0),l=s?1-e:e,c=s?1-n:n;r[o._name+".range[0]"]=o.l2r(o.p2l(l*o._length)),r[o._name+".range[1]"]=o.l2r(o.p2l(c*o._length))}else{var u=o._rl[0],d=o._rl[1]-u;r[o._name+".range[0]"]=o.l2r(u+d*e),r[o._name+".range[1]"]=o.l2r(u+d*n)}}if(i&&i.length){var h=(e+(1-n))/2;Ymt(i,h,1-h,r,[])}}function Omt(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(!r.fixedrange)if(r.rangebreaks){var i=r._length,a=(r.p2l(0+e)-r.p2l(0)+(r.p2l(i+e)-r.p2l(i)))/2;r.range=[r.l2r(r._rl[0]-a),r.l2r(r._rl[1]-a)]}else r.range=[r.l2r(r._rl[0]-e/r._m),r.l2r(r._rl[1]-e/r._m)]}}function zmt(t){return 1-(t>=0?Math.min(t,.9):1/(1/Math.max(t,-.3)+3.222))}function Jmt(t,e,n,r,i){return t.append("path").attr("class","zoombox").style({fill:e>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",bmt(n,r)).attr("d",i+"Z")}function jmt(t,e,n){return t.append("path").attr("class","zoombox-corners").style({fill:Cmt.background,stroke:Cmt.defaultLine,"stroke-width":1,opacity:0}).attr("transform",bmt(e,n)).attr("d","M0,0Z")}function Pmt(t,e,n,r,i,a){t.attr("d",r+"M"+n.l+","+n.t+"v"+n.h+"h"+n.w+"v-"+n.h+"h-"+n.w+"Z"),Kmt(t,e,i,a)}function Kmt(t,e,n,r){n||(t.transition().style("fill",r>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),e.transition().style("opacity",1).duration(200))}function qmt(t){fmt.select(t).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function $mt(t){Wmt&&t.data&&t._context.showTips&&(pmt.notifier(pmt._(t,"Double-click to zoom back out"),"long"),Wmt=!1)}function tyt(t){var e=Math.floor(Math.min(t.b-t.t,t.r-t.l,Xmt)/2);return"M"+(t.l-3.5)+","+(t.t-.5+e)+"h3v"+-e+"h"+e+"v-3h-"+(e+3)+"ZM"+(t.r+3.5)+","+(t.t-.5+e)+"h-3v"+-e+"h"+-e+"v-3h"+(e+3)+"ZM"+(t.r+3.5)+","+(t.b+.5-e)+"h-3v"+e+"h"+-e+"v3h"+(e+3)+"ZM"+(t.l-3.5)+","+(t.b+.5-e)+"h3v"+e+"h"+e+"v3h-"+(e+3)+"Z"}function eyt(t,e,n,r,i){for(var a,o,s,l,c=!1,u={},d={},h=(i||{}).xaHash,g=(i||{}).yaHash,f=0;f<e.length;f++){var p=e[f];for(a in n)if(p[a]){for(s in p)i&&(h[s]||g[s])||("x"===s.charAt(0)?n:r)[s]||(u[s]=a);for(o in r)i&&(h[o]||g[o])||!p[o]||(c=!0)}for(o in r)if(p[o])for(l in p)i&&(h[l]||g[l])||("x"===l.charAt(0)?n:r)[l]||(d[l]=o)}c&&(pmt.extendFlat(u,d),d={});var v={},m=[];for(s in u){var y=_mt(t,s);m.push(y),v[y._id]=y}var b={},I=[];for(l in d){var C=_mt(t,l);I.push(C),b[C._id]=C}return{xaHash:v,yaHash:b,xaxes:m,yaxes:I,xLinks:u,yLinks:d,isSubplotConstrained:c}}function nyt(t,e){void 0!==t.onwheel?t.onwheel=e:void 0!==t.onmousewheel?t.onmousewheel=e:t.isAddedWheelEvent||(t.isAddedWheelEvent=!0,t.addEventListener("wheel",e,{passive:!1}))}function ryt(t){var e=[];for(var n in t)e.push(t[n]);return e}var iyt=function(t,e,n,r,i,a,o,s){var l,c,u,d,h,g,f,p,v,m,y,b,I,C,x,B,A,F,Q,w,U,G,R,S=t._fullLayout._zoomlayer,L=o+s==="nsew",_=1===(o+s).length;function E(){if(l=e.xaxis,c=e.yaxis,v=l._length,m=c._length,f=l._offset,p=c._offset,(u={})[l._id]=l,(d={})[c._id]=c,o&&s)for(var n=e.overlays,r=0;r<n.length;r++){var i=n[r].xaxis;u[i._id]=i;var a=n[r].yaxis;d[a._id]=a}h=ryt(u),g=ryt(d),I=Dmt(h,s),C=Dmt(g,o),x=!C&&!I,b=eyt(t,t._fullLayout._axisMatchGroups,u,d);var U=(y=eyt(t,t._fullLayout._axisConstraintGroups,u,d,b)).isSubplotConstrained||b.isSubplotConstrained;B=s||U,A=o||U;var G=t._fullLayout;F=G._has("scattergl"),Q=G._has("splom"),w=G._has("svg")}E();var k=function(t,e,n){if(!t)return"pointer";if("nsew"===t)return n?"":"pan"===e?"move":"crosshair";return t.toLowerCase()+"-resize"}(C+I,t._fullLayout.dragmode,L),V=Hmt(e,o+s+"drag",k,n,r,i,a);if(x&&!L)return V.onmousedown=null,V.style.pointerEvents="none",V;var Z,N,T,X,W,M,H,D,Y,O,z={element:V,gd:t,plotinfo:e};function J(){z.plotinfo.selection=!1,kmt(t)}function j(t,n){var r=z.gd;if(r._fullLayout._activeShapeIndex>=0)r._fullLayout._deactivateShape(r);else{var i=r._fullLayout.clickmode;if(qmt(r),2!==t||_||ot(),L)i.indexOf("select")>-1&&Vmt(n,r,h,g,e.id,z),i.indexOf("event")>-1&&Bmt.click(r,n,e.id);else if(1===t&&_){var a=o?c:l,u="s"===o||"w"===s?0:1,d=a._name+".range["+u+"]",f=function(t,e){var n,r=t.range[e],i=Math.abs(r-t.range[1-e]);return"date"===t.type?r:"log"===t.type?(n=Math.ceil(Math.max(0,-Math.log(i)/Math.LN10))+3,vmt("."+n+"g")(Math.pow(10,r))):(n=Math.floor(Math.log(Math.abs(r))/Math.LN10)-Math.floor(Math.log(i)/Math.LN10)+4,vmt("."+String(n)+"g")(r))}(a,u),p="left",v="middle";if(a.fixedrange)return;o?(v="n"===o?"top":"bottom","right"===a.side&&(p="right")):"e"===s&&(p="right"),r._context.showAxisRangeEntryBoxes&&fmt.select(V).call(Imt.makeEditable,{gd:r,immediate:!0,background:r._fullLayout.paper_bgcolor,text:String(f),fill:a.tickfont?a.tickfont.color:"#444",horizontalAlign:p,verticalAlign:v}).on("edit",(function(t){var e=a.d2r(t);void 0!==e&&ymt.call("_guiRelayout",r,d,e)}))}}}function P(e,n){if(t._transitioningWithDuration)return!1;var r=Math.max(0,Math.min(v,G*e+Z)),i=Math.max(0,Math.min(m,R*n+N)),a=Math.abs(r-Z),o=Math.abs(i-N);function s(){H="",T.r=T.l,T.t=T.b,Y.attr("d","M0,0Z")}if(T.l=Math.min(Z,r),T.r=Math.max(Z,r),T.t=Math.min(N,i),T.b=Math.max(N,i),y.isSubplotConstrained)a>Xmt||o>Xmt?(H="xy",a/v>o/m?(o=a*m/v,N>i?T.t=N-o:T.b=N+o):(a=o*v/m,Z>r?T.l=Z-a:T.r=Z+a),Y.attr("d",tyt(T))):s();else if(b.isSubplotConstrained)if(a>Xmt||o>Xmt){H="xy";var l=Math.min(T.l/v,(m-T.b)/m),c=Math.max(T.r/v,(m-T.t)/m);T.l=l*v,T.r=c*v,T.b=(1-l)*m,T.t=(1-c)*m,Y.attr("d",tyt(T))}else s();else!C||o<Math.min(Math.max(.6*a,Tmt),Xmt)?a<Tmt||!I?s():(T.t=0,T.b=m,H="x",Y.attr("d",function(t,e){return"M"+(t.l-.5)+","+(e-Xmt-.5)+"h-3v"+(2*Xmt+1)+"h3ZM"+(t.r+.5)+","+(e-Xmt-.5)+"h3v"+(2*Xmt+1)+"h-3Z"}(T,N))):!I||a<Math.min(.6*o,Xmt)?(T.l=0,T.r=v,H="y",Y.attr("d",function(t,e){return"M"+(e-Xmt-.5)+","+(t.t-.5)+"v-3h"+(2*Xmt+1)+"v3ZM"+(e-Xmt-.5)+","+(t.b+.5)+"v3h"+(2*Xmt+1)+"v-3Z"}(T,Z))):(H="xy",Y.attr("d",tyt(T)));T.w=T.r-T.l,T.h=T.b-T.t,H&&(O=!0),t._dragged=O,Pmt(D,Y,T,W,M,X),K(),t.emit("plotly_relayouting",U),M=!0}function K(){U={},"xy"!==H&&"x"!==H||(Ymt(h,T.l/v,T.r/v,U,y.xaxes),it("x",U)),"xy"!==H&&"y"!==H||(Ymt(g,(m-T.b)/m,(m-T.t)/m,U,y.yaxes),it("y",U))}function q(){K(),qmt(t),st(),$mt(t)}z.prepFn=function(e,n,r){var i=z.dragmode,a=t._fullLayout.dragmode;a!==i&&(z.dragmode=a),E(),G=t._fullLayout._invScaleX,R=t._fullLayout._invScaleY,x||(L?e.shiftKey?"pan"===a?a="zoom":wmt(a)||(a="pan"):e.ctrlKey&&(a="pan"):a="pan"),Umt(a)?z.minDrag=1:z.minDrag=void 0,wmt(a)?(z.xaxes=h,z.yaxes=g,Emt(e,n,r,z,a)):(z.clickFn=j,wmt(i)&&J(),x||("zoom"===a?(z.moveFn=P,z.doneFn=q,z.minDrag=1,function(e,n,r){var i=V.getBoundingClientRect();Z=n-i.left,N=r-i.top,t._fullLayout._calcInverseTransform(t);var a=pmt.apply3DTransform(t._fullLayout._invTransform)(Z,N);Z=a[0],N=a[1],T={l:Z,r:Z,w:0,t:N,b:N,h:0},X=t._hmpixcount?t._hmlumcount/t._hmpixcount:mmt(t._fullLayout.plot_bgcolor).getLuminance(),M=!1,H="xy",O=!1,D=Jmt(S,X,f,p,W="M0,0H"+v+"V"+m+"H0V0"),Y=jmt(S,f,p)}(0,n,r)):"pan"===a&&(z.moveFn=rt,z.doneFn=st))),t._fullLayout._redrag=function(){var e=t._dragdata;if(e&&e.element===V){var n=t._fullLayout.dragmode;wmt(n)||(E(),lt([0,0,v,m]),z.moveFn(e.dx,e.dy))}}},Qmt.init(z);var $=[0,0,v,m],tt=null,et=Nmt.REDRAWDELAY,nt=e.mainplot?t._fullLayout._plots[e.mainplot]:e;function rt(e,n){if(e*=G,n*=R,!t._transitioningWithDuration){if(t._fullLayout._replotting=!0,"ew"===I||"ns"===C){var r=I?-e:0,i=C?-n:0;if(b.isSubplotConstrained){if(I&&C){var a=(e/v-n/m)/2;r=-(e=a*v),i=-(n=-a*m)}C?r=-i*v/m:i=-r*m/v}return I&&(Omt(h,e),it("x")),C&&(Omt(g,n),it("y")),lt([r,i,v,m]),at(),void t.emit("plotly_relayouting",U)}var o,s,l="w"===I==("n"===C)?1:-1;if(I&&C&&(y.isSubplotConstrained||b.isSubplotConstrained)){var c=(e/v+l*n/m)/2;e=c*v,n=l*c*m}if("w"===I?e=p(h,0,e):"e"===I?e=p(h,1,-e):I||(e=0),"n"===C?n=p(g,1,n):"s"===C?n=p(g,0,-n):C||(n=0),o="w"===I?e:0,s="n"===C?n:0,y.isSubplotConstrained&&!b.isSubplotConstrained||b.isSubplotConstrained&&I&&C&&l>0){var u;if(b.isSubplotConstrained||!I&&1===C.length){for(u=0;u<h.length;u++)h[u].range=h[u]._r.slice(),Zmt(h[u],1-n/m);o=(e=n*v/m)/2}if(b.isSubplotConstrained||!C&&1===I.length){for(u=0;u<g.length;u++)g[u].range=g[u]._r.slice(),Zmt(g[u],1-e/v);s=(n=e*m/v)/2}}b.isSubplotConstrained&&C||it("x"),b.isSubplotConstrained&&I||it("y");var d=v-e,f=m-n;!b.isSubplotConstrained||I&&C||(I?(s=o?0:e*m/v,f=d*m/v):(o=s?0:n*v/m,d=f*v/m)),lt([o,s,d,f]),at(),t.emit("plotly_relayouting",U)}function p(t,e,n){for(var r,i,a=1-e,o=0;o<t.length;o++){var s=t[o];if(!s.fixedrange){r=s,i=s._rl[a]+(s._rl[e]-s._rl[a])/zmt(n/s._length);var l=s.l2r(i);!1!==l&&void 0!==l&&(s.range[e]=l)}}return r._length*(r._rl[e]-i)/(r._rl[e]-r._rl[a])}}function it(t,e){for(var n=b.isSubplotConstrained?{x:g,y:h}[t]:b[t+"axes"],r=b.isSubplotConstrained?{x:h,y:g}[t]:[],i=0;i<n.length;i++){var a=n[i],o=a._id,s=b.xLinks[o]||b.yLinks[o],l=r[0]||u[s]||d[s];l&&(e?(e[a._name+".range[0]"]=e[l._name+".range[0]"],e[a._name+".range[1]"]=e[l._name+".range[1]"]):a.range=l.range.slice())}}function at(){var e,n=[];function r(t){for(e=0;e<t.length;e++)t[e].fixedrange||n.push(t[e]._id)}for(B&&(r(h),r(y.xaxes),r(b.xaxes)),A&&(r(g),r(y.yaxes),r(b.yaxes)),U={},e=0;e<n.length;e++){var i=n[e],a=_mt(t,i);Amt.drawOne(t,a,{skipTitle:!0}),U[a._name+".range[0]"]=a.range[0],U[a._name+".range[1]"]=a.range[1]}Amt.redrawComponents(t,n)}function ot(){if(!t._transitioningWithDuration){var e=t._context.doubleClick,n=[];I&&(n=n.concat(h)),C&&(n=n.concat(g)),b.xaxes&&(n=n.concat(b.xaxes)),b.yaxes&&(n=n.concat(b.yaxes));var r,i,a,o={};if("reset+autosize"===e)for(e="autosize",i=0;i<n.length;i++)if((r=n[i])._rangeInitial&&(r.range[0]!==r._rangeInitial[0]||r.range[1]!==r._rangeInitial[1])||!r._rangeInitial&&!r.autorange){e="reset";break}if("autosize"===e)for(i=0;i<n.length;i++)(r=n[i]).fixedrange||(o[r._name+".autorange"]=!0);else if("reset"===e)for((I||y.isSubplotConstrained)&&(n=n.concat(y.xaxes)),C&&!y.isSubplotConstrained&&(n=n.concat(y.yaxes)),y.isSubplotConstrained&&(I?C||(n=n.concat(g)):n=n.concat(h)),i=0;i<n.length;i++)(r=n[i]).fixedrange||(r._rangeInitial?(a=r._rangeInitial,o[r._name+".range[0]"]=a[0],o[r._name+".range[1]"]=a[1]):o[r._name+".autorange"]=!0);t.emit("plotly_doubleclick",null),ymt.call("_guiRelayout",t,o)}}function st(){lt([0,0,v,m]),pmt.syncOrAsync([Lmt.previousPromises,function(){t._fullLayout._replotting=!1,ymt.call("_guiRelayout",t,U)}],t)}function lt(e){var n,r,i,a,h=t._fullLayout,g=h._plots,f=h._subplots.cartesian;if(Q&&ymt.subplotsRegistry.splom.drag(t),F)for(n=0;n<f.length;n++)if(i=(r=g[f[n]]).xaxis,a=r.yaxis,r._scene){var p=pmt.simpleMap(i.range,i.r2l),v=pmt.simpleMap(a.range,a.r2l);r._scene.update({range:[p[0],v[0],p[1],v[1]]})}if((Q||F)&&(Rmt(t),Smt(t)),w){var m=e[2]/l._length,y=e[3]/c._length;for(n=0;n<f.length;n++){i=(r=g[f[n]]).xaxis,a=r.yaxis;var x,U,G,R,S=(B||b.isSubplotConstrained)&&!i.fixedrange&&u[i._id],L=(A||b.isSubplotConstrained)&&!a.fixedrange&&d[a._id];if(S?(x=m,G=s||b.isSubplotConstrained?e[0]:dt(i,x)):b.xaHash[i._id]?(x=m,G=e[0]*i._length/l._length):b.yaHash[i._id]?(x=y,G="ns"===C?-e[1]*i._length/c._length:dt(i,x,{n:"top",s:"bottom"}[C])):G=ut(i,x=ct(i,m,y)),L?(U=y,R=o||b.isSubplotConstrained?e[1]:dt(a,U)):b.yaHash[a._id]?(U=y,R=e[1]*a._length/c._length):b.xaHash[a._id]?(U=m,R="ew"===I?-e[0]*a._length/l._length:dt(a,U,{e:"right",w:"left"}[I])):R=ut(a,U=ct(a,m,y)),x||U){x||(x=1),U||(U=1);var _=i._offset-G/x,E=a._offset-R/U;r.clipRect.call(xmt.setTranslate,G,R).call(xmt.setScale,x,U),r.plot.call(xmt.setTranslate,_,E).call(xmt.setScale,1/x,1/U),x===r.xScaleFactor&&U===r.yScaleFactor||(xmt.setPointGroupScale(r.zoomScalePts,x,U),xmt.setTextPointsScale(r.zoomScaleTxt,x,U)),xmt.hideOutsideRangePoints(r.clipOnAxisFalseTraces,r),r.xScaleFactor=x,r.yScaleFactor=U}}}}function ct(t,e,n){return t.fixedrange?0:B&&y.xaHash[t._id]?e:A&&(y.isSubplotConstrained?y.xaHash:y.yaHash)[t._id]?n:0}function ut(t,e){return e?(t.range=t._r.slice(),Zmt(t,e),dt(t,e)):0}function dt(t,e,n){return t._length*(1-e)*Gmt[n||t.constraintoward||"middle"]}return o.length*s.length!=1&&nyt(V,(function(e){if(t._context._scrollZoom.cartesian||t._fullLayout._enablescrollzoom){if(J(),t._transitioningWithDuration)return e.preventDefault(),void e.stopPropagation();E(),clearTimeout(tt);var n=-e.deltaY;if(isFinite(n)||(n=e.wheelDelta/10),isFinite(n)){var r,i=Math.exp(-Math.min(Math.max(n,-20),20)/200),a=nt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),l=(e.clientX-a.left)/a.width,c=(a.bottom-e.clientY)/a.height;if(B){for(s||(l=.5),r=0;r<h.length;r++)u(h[r],l,i);it("x"),$[2]*=i,$[0]+=$[2]*l*(1/i-1)}if(A){for(o||(c=.5),r=0;r<g.length;r++)u(g[r],c,i);it("y"),$[3]*=i,$[1]+=$[3]*(1-c)*(1/i-1)}lt($),at(),t.emit("plotly_relayouting",U),tt=setTimeout((function(){t._fullLayout&&($=[0,0,v,m],st())}),et),e.preventDefault()}else pmt.log("Did not find wheel motion attributes: ",e)}function u(t,e,n){if(!t.fixedrange){var r=pmt.simpleMap(t.range,t.r2l),i=r[0]+(r[1]-r[0])*e;t.range=r.map((function(e){return t.l2r(i+(e-i)*n)}))}}})),V};!function(t){var e=w4.exports,n=Vgt,r=Jut.exports,i=fdt,a=iyt,o=Nit.DRAGGERSIZE;t.initInteractions=function(i){var s=i._fullLayout;if(i._context.staticPlot)e.select(i).selectAll(".drag").remove();else if(s._has("cartesian")||s._has("splom")){var l=Object.keys(s._plots||{}).sort((function(t,e){if((s._plots[t].mainplot&&!0)===(s._plots[e].mainplot&&!0)){var n=t.split("y"),r=e.split("y");return n[0]===r[0]?Number(n[1]||1)-Number(r[1]||1):Number(n[0]||1)-Number(r[0]||1)}return s._plots[t].mainplot?1:-1}));l.forEach((function(t){var e=s._plots[t],l=e.xaxis,c=e.yaxis;if(!e.mainplot){var u=a(i,e,l._offset,c._offset,l._length,c._length,"ns","ew");u.onmousemove=function(e){i._fullLayout._rehover=function(){i._fullLayout._hoversubplot===t&&i._fullLayout._plots[t]&&n.hover(i,e,t)},n.hover(i,e,t),i._fullLayout._lasthover=u,i._fullLayout._hoversubplot=t},u.onmouseout=function(t){i._dragging||(i._fullLayout._hoversubplot=null,r.unhover(i,t))},i._context.showAxisDragHandles&&(a(i,e,l._offset-o,c._offset-o,o,o,"n","w"),a(i,e,l._offset+l._length,c._offset-o,o,o,"n","e"),a(i,e,l._offset-o,c._offset+c._length,o,o,"s","w"),a(i,e,l._offset+l._length,c._offset+c._length,o,o,"s","e"))}if(i._context.showAxisDragHandles){if(t===l._mainSubplot){var d=l._mainLinePosition;"top"===l.side&&(d-=o),a(i,e,l._offset+.1*l._length,d,.8*l._length,o,"","ew"),a(i,e,l._offset,d,.1*l._length,o,"","w"),a(i,e,l._offset+.9*l._length,d,.1*l._length,o,"","e")}if(t===c._mainSubplot){var h=c._mainLinePosition;"right"!==c.side&&(h-=o),a(i,e,h,c._offset+.1*c._length,o,.8*c._length,"ns",""),a(i,e,h,c._offset+.9*c._length,o,.1*c._length,"s",""),a(i,e,h,c._offset,o,.1*c._length,"n","")}}}));var c=s._hoverlayer.node();c.onmousemove=function(t){t.target=i._fullLayout._lasthover,n.hover(i,t,s._hoversubplot)},c.onclick=function(t){t.target=i._fullLayout._lasthover,n.click(i,t)},c.onmousedown=function(t){i._fullLayout._lasthover.onmousedown(t)},t.updateFx(i)}},t.updateFx=function(t){var e=t._fullLayout,n="pan"===e.dragmode?"move":"crosshair";i(e._draggers,n)}}(zut);var ayt={},oyt=met,syt=vtt,lyt=yet,cyt=aet.exports,uyt=Cnt.sorterAsc,dyt=met;ayt.containerArrayMatch=function(t){for(var e,n,r=oyt.layoutArrayContainers,i=oyt.layoutArrayRegexes,a=t.split("[")[0],o=0;o<i.length;o++)if((n=t.match(i[o]))&&0===n.index){e=n[0];break}if(e||(e=r[r.indexOf(a)]),!e)return!1;var s=t.substr(e.length);return s?!!(n=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:e,index:Number(n[1]),property:n[3]||""}:{array:e,index:"",property:""}};var hyt=ayt.isAddVal=function(t){return"add"===t||syt(t)},gyt=ayt.isRemoveVal=function(t){return null===t||"remove"===t};ayt.applyContainerArrayChanges=function(t,e,n,r,i){var a=e.astr,o=dyt.getComponentMethod(a,"supplyLayoutDefaults"),s=dyt.getComponentMethod(a,"draw"),l=dyt.getComponentMethod(a,"drawOne"),c=r.replot||r.recalc||o===lyt||s===lyt,u=t.layout,d=t._fullLayout;if(n[""]){Object.keys(n).length>1&&cyt.warn("Full array edits are incompatible with other edits",a);var h=n[""][""];if(gyt(h))e.set(null);else{if(!Array.isArray(h))return cyt.warn("Unrecognized full array edit value",a,h),!0;e.set(h)}return!c&&(o(u,d),s(t),!0)}var g,f,p,v,m,y,b,I,C=Object.keys(n).map(Number).sort(uyt),x=e.get(),B=x||[],A=i(d,a).get(),F=[],Q=-1,w=B.length;for(g=0;g<C.length;g++)if(v=n[p=C[g]],m=Object.keys(v),y=v[""],b=hyt(y),p<0||p>B.length-(b?0:1))cyt.warn("index out of range",a,p);else if(void 0!==y)m.length>1&&cyt.warn("Insertion & removal are incompatible with edits to the same index.",a,p),gyt(y)?F.push(p):b?("add"===y&&(y={}),B.splice(p,0,y),A&&A.splice(p,0,{})):cyt.warn("Unrecognized full object edit value",a,p,y),-1===Q&&(Q=p);else for(f=0;f<m.length;f++)I=a+"["+p+"].",i(B[p],m[f],I).set(v[m[f]]);for(g=F.length-1;g>=0;g--)B.splice(F[g],1),A&&A.splice(F[g],1);if(B.length?x||e.set(B):e.set(null),c)return!1;if(o(u,d),l!==lyt){var U;if(-1===Q)U=C;else{for(w=Math.max(B.length,w),U=[],g=0;g<C.length&&!((p=C[g])>=Q);g++)U.push(p);for(g=Q;g<w;g++)U.push(g)}for(g=0;g<U.length;g++)l(t,U[g])}else s(t);return!0};var fyt={};!function(t){var e=z6,n=Het,r=met,i=Q4.exports,a=Git.exports,s=Vit,l=Ott.exports,c=s.cleanId,u=s.getFromTrace,d=r.traceIs;function h(t,e){var n=t[e],r=e.charAt(0);n&&"paper"!==n&&(t[e]=c(n,r,!0))}function g(t){function e(e,n){var r=t[e],i=t.title&&t.title[n];r&&!i&&(t.title||(t.title={}),t.title[n]=t[e],delete t[e])}t&&("string"!=typeof t.title&&"number"!=typeof t.title||(t.title={text:t.title}),e("titlefont","font"),e("titleposition","position"),e("titleside","side"),e("titleoffset","offset"))}function f(t){if(!i.isPlainObject(t))return!1;var e=t.name;return delete t.name,delete t.showlegend,("string"==typeof e||"number"==typeof e)&&String(e)}function p(t,e,n,r){if(n&&!r)return t;if(r&&!n)return e;if(!t.trim())return e;if(!e.trim())return t;var i,a=Math.min(t.length,e.length);for(i=0;i<a&&t.charAt(i)===e.charAt(i);i++);return t.substr(0,i).trim()}function v(t){var e="middle",n="center";return"string"==typeof t&&(-1!==t.indexOf("top")?e="top":-1!==t.indexOf("bottom")&&(e="bottom"),-1!==t.indexOf("left")?n="left":-1!==t.indexOf("right")&&(n="right")),e+" "+n}function m(t,e){return e in t&&"object"===o(t[e])&&0===Object.keys(t[e]).length}t.clearPromiseQueue=function(t){Array.isArray(t._promises)&&t._promises.length>0&&i.log("Clearing previous rejected promises from queue."),t._promises=[]},t.cleanLayout=function(e){var r,o;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var s=(a.subplotsRegistry.cartesian||{}).attrRegex,u=(a.subplotsRegistry.polar||{}).attrRegex,d=(a.subplotsRegistry.ternary||{}).attrRegex,f=(a.subplotsRegistry.gl3d||{}).attrRegex,p=Object.keys(e);for(r=0;r<p.length;r++){var v=p[r];if(s&&s.test(v)){var y=e[v];y.anchor&&"free"!==y.anchor&&(y.anchor=c(y.anchor)),y.overlaying&&(y.overlaying=c(y.overlaying)),y.type||(y.isdate?y.type="date":y.islog?y.type="log":!1===y.isdate&&!1===y.islog&&(y.type="linear")),"withzero"!==y.autorange&&"tozero"!==y.autorange||(y.autorange=!0,y.rangemode="tozero"),delete y.islog,delete y.isdate,delete y.categories,m(y,"domain")&&delete y.domain,void 0!==y.autotick&&(void 0===y.tickmode&&(y.tickmode=y.autotick?"auto":"linear"),delete y.autotick),g(y)}else if(u&&u.test(v)){g(e[v].radialaxis)}else if(d&&d.test(v)){var b=e[v];g(b.aaxis),g(b.baxis),g(b.caxis)}else if(f&&f.test(v)){var I=e[v],C=I.cameraposition;if(Array.isArray(C)&&4===C[0].length){var x=C[0],B=C[1],A=C[2],F=n([],x),Q=[];for(o=0;o<3;++o)Q[o]=B[o]+A*F[2+4*o];I.camera={eye:{x:Q[0],y:Q[1],z:Q[2]},center:{x:B[0],y:B[1],z:B[2]},up:{x:0,y:0,z:1}},delete I.cameraposition}g(I.xaxis),g(I.yaxis),g(I.zaxis)}}var w=Array.isArray(e.annotations)?e.annotations.length:0;for(r=0;r<w;r++){var U=e.annotations[r];i.isPlainObject(U)&&(U.ref&&("paper"===U.ref?(U.xref="paper",U.yref="paper"):"data"===U.ref&&(U.xref="x",U.yref="y"),delete U.ref),h(U,"xref"),h(U,"yref"))}var G=Array.isArray(e.shapes)?e.shapes.length:0;for(r=0;r<G;r++){var R=e.shapes[r];i.isPlainObject(R)&&(h(R,"xref"),h(R,"yref"))}var S=Array.isArray(e.images)?e.images.length:0;for(r=0;r<S;r++){var L=e.images[r];i.isPlainObject(L)&&(h(L,"xref"),h(L,"yref"))}var _=e.legend;return _&&(_.x>3?(_.x=1.02,_.xanchor="left"):_.x<-2&&(_.x=-.02,_.xanchor="right"),_.y>3?(_.y=1.02,_.yanchor="bottom"):_.y<-2&&(_.y=-.02,_.yanchor="top")),g(e),"rotate"===e.dragmode&&(e.dragmode="orbit"),l.clean(e),e.template&&e.template.layout&&t.cleanLayout(e.template.layout),e},t.cleanData=function(e){for(var n=0;n<e.length;n++){var o,s=e[n];if("histogramy"===s.type&&"xbins"in s&&!("ybins"in s)&&(s.ybins=s.xbins,delete s.xbins),s.error_y&&"opacity"in s.error_y){var u=l.defaults,h=s.error_y.color||(d(s,"bar")?l.defaultLine:u[n%u.length]);s.error_y.color=l.addOpacity(l.rgb(h),l.opacity(h)*s.error_y.opacity),delete s.error_y.opacity}if("bardir"in s&&("h"!==s.bardir||!d(s,"bar")&&"histogram"!==s.type.substr(0,9)||(s.orientation="h",t.swapXYData(s)),delete s.bardir),"histogramy"===s.type&&t.swapXYData(s),"histogramx"!==s.type&&"histogramy"!==s.type||(s.type="histogram"),"scl"in s&&!("colorscale"in s)&&(s.colorscale=s.scl,delete s.scl),"reversescl"in s&&!("reversescale"in s)&&(s.reversescale=s.reversescl,delete s.reversescl),s.xaxis&&(s.xaxis=c(s.xaxis,"x")),s.yaxis&&(s.yaxis=c(s.yaxis,"y")),d(s,"gl3d")&&s.scene&&(s.scene=a.subplotsRegistry.gl3d.cleanId(s.scene)),!d(s,"pie-like")&&!d(s,"bar-like"))if(Array.isArray(s.textposition))for(o=0;o<s.textposition.length;o++)s.textposition[o]=v(s.textposition[o]);else s.textposition&&(s.textposition=v(s.textposition));var y=r.getModule(s);if(y&&y.colorbar){var b=y.colorbar.container,I=b?s[b]:s;I&&I.colorscale&&("YIGnBu"===I.colorscale&&(I.colorscale="YlGnBu"),"YIOrRd"===I.colorscale&&(I.colorscale="YlOrRd"))}if("surface"===s.type&&i.isPlainObject(s.contours)){var C=["x","y","z"];for(o=0;o<C.length;o++){var x=s.contours[C[o]];i.isPlainObject(x)&&(x.highlightColor&&(x.highlightcolor=x.highlightColor,delete x.highlightColor),x.highlightWidth&&(x.highlightwidth=x.highlightWidth,delete x.highlightWidth))}}if("candlestick"===s.type||"ohlc"===s.type){var B=!1!==(s.increasing||{}).showlegend,A=!1!==(s.decreasing||{}).showlegend,F=f(s.increasing),Q=f(s.decreasing);if(!1!==F&&!1!==Q){var w=p(F,Q,B,A);w&&(s.name=w)}else!F&&!Q||s.name||(s.name=F||Q)}if(Array.isArray(s.transforms)){var U=s.transforms;for(o=0;o<U.length;o++){var G=U[o];if(i.isPlainObject(G))switch(G.type){case"filter":G.filtersrc&&(G.target=G.filtersrc,delete G.filtersrc),G.calendar&&(G.valuecalendar||(G.valuecalendar=G.calendar),delete G.calendar);break;case"groupby":if(G.styles=G.styles||G.style,G.styles&&!Array.isArray(G.styles)){var R=G.styles,S=Object.keys(R);G.styles=[];for(var L=0;L<S.length;L++)G.styles.push({target:S[L],value:R[S[L]]})}}}}m(s,"line")&&delete s.line,"marker"in s&&(m(s.marker,"line")&&delete s.marker.line,m(s,"marker")&&delete s.marker),l.clean(s),s.autobinx&&(delete s.autobinx,delete s.xbins),s.autobiny&&(delete s.autobiny,delete s.ybins),g(s),s.colorbar&&g(s.colorbar),s.marker&&s.marker.colorbar&&g(s.marker.colorbar),s.line&&s.line.colorbar&&g(s.line.colorbar),s.aaxis&&g(s.aaxis),s.baxis&&g(s.baxis)}},t.swapXYData=function(t){var e;if(i.swapAttrs(t,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(t.z)&&Array.isArray(t.z[0])&&(t.transpose?delete t.transpose:t.transpose=!0),t.error_x&&t.error_y){var n=t.error_y,r="copy_ystyle"in n?n.copy_ystyle:!(n.color||n.thickness||n.width);i.swapAttrs(t,["error_?.copy_ystyle"]),r&&i.swapAttrs(t,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof t.hoverinfo){var a=t.hoverinfo.split("+");for(e=0;e<a.length;e++)"x"===a[e]?a[e]="y":"y"===a[e]&&(a[e]="x");t.hoverinfo=a.join("+")}},t.coerceTraceIndices=function(t,n){if(e(n))return[n];if(!Array.isArray(n)||!n.length)return t.data.map((function(t,e){return e}));if(Array.isArray(n)){for(var r=[],a=0;a<n.length;a++)i.isIndex(n[a],t.data.length)?r.push(n[a]):i.warn("trace index (",n[a],") is not a number or is out of bounds");return r}return n},t.manageArrayContainers=function(t,n,r){var a=t.obj,o=t.parts,s=o.length,l=o[s-1],c=e(l);if(c&&null===n){var u=o.slice(0,s-1).join(".");i.nestedProperty(a,u).get().splice(l,1)}else c&&void 0===t.get()?(void 0===t.get()&&(r[t.astr]=null),t.set(n)):t.set(n)};var y=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function b(t){var e=t.search(y);if(e>0)return t.substr(0,e)}t.hasParent=function(t,e){for(var n=b(e);n;){if(n in t)return!0;n=b(n)}return!1};var I=["x","y","z"];t.clearAxisTypes=function(t,e,n){for(var r=0;r<e.length;r++)for(var a=t._fullData[r],o=0;o<3;o++){var s=u(t,a,I[o]);if(s&&"log"!==s.type){var l=s._name,c=s._id.substr(1);if("scene"===c.substr(0,5)){if(void 0!==n[c])continue;l=c+"."+l}var d=l+".type";void 0===n[l]&&void 0===n[d]&&i.nestedProperty(t.layout,d).set(null)}}}}(fyt),function(t){var e=w4.exports,n=z6,r=zrt,i=Q4.exports,a=i.nestedProperty,s=dit,l=pit,c=met,u=vit,d=Git.exports,h=Aat.exports,g=Uat.exports,f=Ott.exports,p=zut.initInteractions,v=Qat,m=gmt.clearSelect,y=cet.dfltConfig,b=ayt,I=fyt,C=Tgt,x=Fit,B=Nit.AX_NAME_PATTERN,A=0;function F(t){var e=t._fullLayout;e._redrawFromAutoMarginCount?e._redrawFromAutoMarginCount--:t.emit("plotly_afterplot")}function Q(t,e){try{t._fullLayout._paper.style("background",e)}catch(t){i.error(t)}}function w(t,e){Q(t,f.combine(e,"white"))}function U(t,n){if(!t._context){t._context=i.extendDeep({},y);var a=e.select("base");t._context._baseUrl=a.size()&&a.attr("href")?window.location.href.split("#")[0]:""}var o,s,l,c=t._context;if(n){for(s=Object.keys(n),o=0;o<s.length;o++)"editable"!==(l=s[o])&&"edits"!==l&&l in c&&("setBackground"===l&&"opaque"===n[l]?c[l]=w:c[l]=n[l]);n.plot3dPixelRatio&&!c.plotGlPixelRatio&&(c.plotGlPixelRatio=c.plot3dPixelRatio);var u=n.editable;if(void 0!==u)for(c.editable=u,s=Object.keys(c.edits),o=0;o<s.length;o++)c.edits[s[o]]=u;if(n.edits)for(s=Object.keys(n.edits),o=0;o<s.length;o++)(l=s[o])in c.edits&&(c.edits[l]=n.edits[l]);c._exportedPlot=n._exportedPlot}c.staticPlot&&(c.editable=!1,c.edits={},c.autosizable=!1,c.scrollZoom=!1,c.doubleClick=!1,c.showTips=!1,c.showLink=!1,c.displayModeBar=!1),"hover"!==c.displayModeBar||r||(c.displayModeBar=!0),"transparent"!==c.setBackground&&"function"==typeof c.setBackground||(c.setBackground=Q),c._hasZeroHeight=c._hasZeroHeight||0===t.clientHeight,c._hasZeroWidth=c._hasZeroWidth||0===t.clientWidth;var d=c.scrollZoom,h=c._scrollZoom={};if(!0===d)h.cartesian=1,h.gl3d=1,h.geo=1,h.mapbox=1;else if("string"==typeof d){var g=d.split("+");for(o=0;o<g.length;o++)h[g[o]]=1}else!1!==d&&(h.gl3d=1,h.geo=1,h.mapbox=1)}function G(t,e){var n,r,i=e+1,a=[];for(n=0;n<t.length;n++)(r=t[n])<0?a.push(i+r):a.push(r);return a}function R(t,e,n){var r,i;for(r=0;r<e.length;r++){if((i=e[r])!==parseInt(i,10))throw new Error("all values in "+n+" must be integers");if(i>=t.data.length||i<-t.data.length)throw new Error(n+" must be valid indices for gd.data.");if(e.indexOf(i,r+1)>-1||i>=0&&e.indexOf(-t.data.length+i)>-1||i<0&&e.indexOf(t.data.length+i)>-1)throw new Error("each index in "+n+" must be unique.")}}function S(t,e,n){if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(void 0===e)throw new Error("currentIndices is a required argument.");if(Array.isArray(e)||(e=[e]),R(t,e,"currentIndices"),void 0===n||Array.isArray(n)||(n=[n]),void 0!==n&&R(t,n,"newIndices"),void 0!==n&&e.length!==n.length)throw new Error("current and new indices must be of equal length.")}function L(t,e,r,o,s){!function(t,e,n,r){var a=i.isPlainObject(r);if(!Array.isArray(t.data))throw new Error("gd.data must be an array");if(!i.isPlainObject(e))throw new Error("update must be a key:value object");if(void 0===n)throw new Error("indices must be an integer or array of integers");for(var o in R(t,n,"indices"),e){if(!Array.isArray(e[o])||e[o].length!==n.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(a&&(!(o in r)||!Array.isArray(r[o])||r[o].length!==e[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(t,e,r,o);for(var l=function(t,e,r,o){var s,l,c,u,d,h=i.isPlainObject(o),g=[];for(var f in Array.isArray(r)||(r=[r]),r=G(r,t.data.length-1),e)for(var p=0;p<r.length;p++){if(s=t.data[r[p]],l=(c=a(s,f)).get(),u=e[f][p],!i.isArrayOrTypedArray(u))throw new Error("attribute: "+f+" index: "+p+" must be an array");if(!i.isArrayOrTypedArray(l))throw new Error("cannot extend missing or non-array attribute: "+f);if(l.constructor!==u.constructor)throw new Error("cannot extend array with an array of a different type: "+f);d=h?o[f][p]:o,n(d)||(d=-1),g.push({prop:c,target:l,insert:u,maxp:Math.floor(d)})}return g}(t,e,r,o),c={},u={},d=0;d<l.length;d++){var h=l[d].prop,g=l[d].maxp,f=s(l[d].target,l[d].insert,g);h.set(f[0]),Array.isArray(c[h.astr])||(c[h.astr]=[]),c[h.astr].push(f[1]),Array.isArray(u[h.astr])||(u[h.astr]=[]),u[h.astr].push(l[d].target.length)}return{update:c,maxPoints:u}}function _(t,e){var n=new t.constructor(t.length+e.length);return n.set(t),n.set(e,t.length),n}function E(e,n,r,a){e=i.getGraphDiv(e),I.clearPromiseQueue(e);var o={};if("string"==typeof n)o[n]=r;else{if(!i.isPlainObject(n))return i.warn("Restyle fail.",n,r,a),Promise.reject();o=i.extendFlat({},n),void 0===a&&(a=r)}Object.keys(o).length&&(e.changed=!0);var s=I.coerceTraceIndices(e,a),c=N(e,o,s),u=c.flags;u.calc&&(e.calcdata=void 0),u.clearAxisTypes&&I.clearAxisTypes(e,s,{});var h=[];u.fullReplot?h.push(t._doPlot):(h.push(d.previousPromises),d.supplyDefaults(e),u.markerSize&&(d.doCalcdata(e),M(h)),u.style&&h.push(C.doTraceStyle),u.colorbars&&h.push(C.doColorBars),h.push(F)),h.push(d.rehover,d.redrag),l.add(e,E,[e,c.undoit,c.traces],E,[e,c.redoit,c.traces]);var g=i.syncOrAsync(h,e);return g&&g.then||(g=Promise.resolve()),g.then((function(){return e.emit("plotly_restyle",c.eventData),e}))}function k(t){return void 0===t?null:t}function V(t,e){return e?function(e,n,r){var i=a(e,n),o=i.set;return i.set=function(e){Z((r||"")+n,i.get(),e,t),o(e)},i}:a}function Z(t,e,n,r){if(Array.isArray(e)||Array.isArray(n))for(var a=Array.isArray(e)?e:[],o=Array.isArray(n)?n:[],s=Math.max(a.length,o.length),l=0;l<s;l++)Z(t+"["+l+"]",a[l],o[l],r);else if(i.isPlainObject(e)||i.isPlainObject(n)){var c=i.isPlainObject(e)?e:{},u=i.isPlainObject(n)?n:{},d=i.extendFlat({},c,u);for(var h in d)Z(t+"."+h,c[h],u[h],r)}else void 0===r[t]&&(r[t]=k(e))}function N(t,e,n){var r,o=t._fullLayout,s=t._fullData,l=t.data,g=o._guiEditing,f=V(o._preGUI,g),p=i.extendDeepAll({},e);T(e);var v,m=x.traceFlags(),y={},b={};function C(){return n.map((function(){}))}function B(t){var e=h.id2name(t);-1===v.indexOf(e)&&v.push(e)}function A(t){return"LAYOUT"+t+".autorange"}function F(t){return"LAYOUT"+t+".range"}function Q(t){for(var e=t;e<s.length;e++)if(s[e]._input===l[t])return s[e]}function w(r,i,a){if(Array.isArray(r))r.forEach((function(t){w(t,i,a)}));else if(!(r in e)&&!I.hasParent(e,r)){var s;if("LAYOUT"===r.substr(0,6))s=f(t.layout,r.replace("LAYOUT",""));else{var c=n[a];s=V(o._tracePreGUI[Q(c)._fullInput.uid],g)(l[c],r)}r in b||(b[r]=C()),void 0===b[r][a]&&(b[r][a]=k(s.get())),void 0!==i&&s.set(i)}}function U(t){return function(e){return s[e][t]}}function G(t){return function(e,r){return!1===e?s[n[r]][t]:null}}for(var R in e){if(I.hasParent(e,R))throw new Error("cannot set "+R+" and a parent attribute simultaneously");var S,L,_,E,Z,N,X=e[R];if("autobinx"!==R&&"autobiny"!==R||(R=R.charAt(R.length-1)+"bins",X=Array.isArray(X)?X.map(G(R)):!1===X?n.map(U(R)):null),y[R]=X,"LAYOUT"!==R.substr(0,6)){for(b[R]=C(),r=0;r<n.length;r++){if(S=l[n[r]],L=Q(n[r]),E=(_=V(o._tracePreGUI[L._fullInput.uid],g)(S,R)).get(),void 0!==(Z=Array.isArray(X)?X[r%X.length]:X)){var W=_.parts[_.parts.length-1],M=R.substr(0,R.length-W.length-1),H=M?M+".":"",D=M?a(L,M).get():L;if((N=u.getTraceValObject(L,_.parts))&&N.impliedEdits&&null!==Z)for(var Y in N.impliedEdits)w(i.relativeAttr(R,Y),N.impliedEdits[Y],r);else if("thicknessmode"!==W&&"lenmode"!==W||E===Z||"fraction"!==Z&&"pixels"!==Z||!D){if("type"===R&&("pie"===Z!=("pie"===E)||"funnelarea"===Z!=("funnelarea"===E))){var O="x",z="y";"bar"!==Z&&"bar"!==E||"h"!==S.orientation||(O="y",z="x"),i.swapAttrs(S,["?","?src"],"labels",O),i.swapAttrs(S,["d?","?0"],"label",O),i.swapAttrs(S,["?","?src"],"values",z),"pie"===E||"funnelarea"===E?(a(S,"marker.color").set(a(S,"marker.colors").get()),o._pielayer.selectAll("g.trace").remove()):c.traceIs(S,"cartesian")&&a(S,"marker.colors").set(a(S,"marker.color").get())}}else{var J=o._size,j=D.orient,P="top"===j||"bottom"===j;if("thicknessmode"===W){var K=P?J.h:J.w;w(H+"thickness",D.thickness*("fraction"===Z?1/K:K),r)}else{var q=P?J.w:J.h;w(H+"len",D.len*("fraction"===Z?1/q:q),r)}}b[R][r]=k(E);if(-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(R)){if("orientation"===R){_.set(Z);var $=S.x&&!S.y?"h":"v";if((_.get()||$)===L.orientation)continue}else"orientationaxes"===R&&(S.orientation={v:"h",h:"v"}[L.orientation]);I.swapXYData(S),m.calc=m.clearAxisTypes=!0}else-1!==d.dataArrayContainers.indexOf(_.parts[0])?(I.manageArrayContainers(_,Z,b),m.calc=!0):(N?N.arrayOk&&!c.traceIs(L,"regl")&&(i.isArrayOrTypedArray(Z)||i.isArrayOrTypedArray(E))?m.calc=!0:x.update(m,N):m.calc=!0,_.set(Z))}}if(-1!==["swapxyaxes","orientationaxes"].indexOf(R)&&h.swap(t,n),"orientationaxes"===R){var tt=a(t.layout,"hovermode"),et=tt.get();"x"===et?tt.set("y"):"y"===et?tt.set("x"):"x unified"===et?tt.set("y unified"):"y unified"===et&&tt.set("x unified")}if(-1!==["orientation","type"].indexOf(R)){for(v=[],r=0;r<n.length;r++){var nt=l[n[r]];c.traceIs(nt,"cartesian")&&(B(nt.xaxis||"x"),B(nt.yaxis||"y"))}w(v.map(A),!0,0),w(v.map(F),[0,1],0)}}else _=f(t.layout,R.replace("LAYOUT","")),b[R]=[k(_.get())],_.set(Array.isArray(X)?X[0]:X),m.calc=!0}return(m.calc||m.plot)&&(m.fullReplot=!0),{flags:m,undoit:b,redoit:y,traces:n,eventData:i.extendDeepNoArrays([],[p,n])}}function T(t){var e,n,r,a=i.counterRegex("axis",".title",!1,!1),o=/colorbar\.title$/,s=Object.keys(t);for(e=0;e<s.length;e++)n=s[e],r=t[n],"title"!==n&&!a.test(n)&&!o.test(n)||"string"!=typeof r&&"number"!=typeof r?n.indexOf("titlefont")>-1&&-1===n.indexOf("grouptitlefont")?l(n,n.replace("titlefont","title.font")):n.indexOf("titleposition")>-1?l(n,n.replace("titleposition","title.position")):n.indexOf("titleside")>-1?l(n,n.replace("titleside","title.side")):n.indexOf("titleoffset")>-1&&l(n,n.replace("titleoffset","title.offset")):l(n,n.replace("title","title.text"));function l(e,n){t[n]=t[e],delete t[e]}}function X(t,e,n){t=i.getGraphDiv(t),I.clearPromiseQueue(t);var r={};if("string"==typeof e)r[e]=n;else{if(!i.isPlainObject(e))return i.warn("Relayout fail.",e,n),Promise.reject();r=i.extendFlat({},e)}Object.keys(r).length&&(t.changed=!0);var a=O(t,r),o=a.flags;o.calc&&(t.calcdata=void 0);var s=[d.previousPromises];o.layoutReplot?s.push(C.layoutReplot):Object.keys(r).length&&(W(t,o,a)||d.supplyDefaults(t),o.legend&&s.push(C.doLegend),o.layoutstyle&&s.push(C.layoutStyles),o.axrange&&M(s,a.rangesAltered),o.ticks&&s.push(C.doTicksRelayout),o.modebar&&s.push(C.doModeBar),o.camera&&s.push(C.doCamera),o.colorbars&&s.push(C.doColorBars),s.push(F)),s.push(d.rehover,d.redrag),l.add(t,X,[t,a.undoit],X,[t,a.redoit]);var c=i.syncOrAsync(s,t);return c&&c.then||(c=Promise.resolve(t)),c.then((function(){return t.emit("plotly_relayout",a.eventData),t}))}function W(t,e,n){var r=t._fullLayout;if(!e.axrange)return!1;for(var i in e)if("axrange"!==i&&e[i])return!1;for(var a in n.rangesAltered){var o=h.id2name(a),s=t.layout[o],l=r[o];if(l.autorange=s.autorange,s.range&&(l.range=s.range.slice()),l.cleanRange(),l._matchGroup)for(var c in l._matchGroup)if(c!==a){var u=r[h.id2name(c)];u.autorange=l.autorange,u.range=l.range.slice(),u._input.range=l.range.slice()}}return!0}function M(t,e){var n=e?function(t){var n=[],r=!0;for(var i in e){var a=h.getFromId(t,i);if(n.push(i),-1!==(a.ticklabelposition||"").indexOf("inside")&&a._anchorAxis&&n.push(a._anchorAxis._id),a._matchGroup)for(var o in a._matchGroup)e[o]||n.push(o);a.automargin&&(r=!1)}return h.draw(t,n,{skipTitle:r})}:function(t){return h.draw(t,"redraw")};t.push(m,C.doAutoRangeAndConstraints,n,C.drawData,C.finalDraw)}var H=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,D=/^[xyz]axis[0-9]*\.autorange$/,Y=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function O(t,e){var n,r,o,s=t.layout,l=t._fullLayout,d=l._guiEditing,g=V(l._preGUI,d),f=Object.keys(e),p=h.list(t),v=i.extendDeepAll({},e),m={};for(T(e),f=Object.keys(e),r=0;r<f.length;r++)if(0===f[r].indexOf("allaxes")){for(o=0;o<p.length;o++){var y=p[o]._id.substr(1),C=-1!==y.indexOf("scene")?y+".":"",A=f[r].replace("allaxes",C+p[o]._name);e[A]||(e[A]=e[f[r]])}delete e[f[r]]}var F=x.layoutFlags(),Q={},w={};function U(t,n){if(Array.isArray(t))t.forEach((function(t){U(t,n)}));else if(!(t in e)&&!I.hasParent(e,t)){var r=g(s,t);t in w||(w[t]=k(r.get())),void 0!==n&&r.set(n)}}var G,R={};function S(t){var e=h.name2id(t.split(".")[0]);return R[e]=1,e}for(var L in e){if(I.hasParent(e,L))throw new Error("cannot set "+L+" and a parent attribute simultaneously");for(var _=g(s,L),E=e[L],Z=_.parts.length-1;Z>0&&"string"!=typeof _.parts[Z];)Z--;var N=_.parts[Z],X=_.parts[Z-1]+"."+N,W=_.parts.slice(0,Z).join("."),M=a(t.layout,W).get(),O=a(l,W).get(),J=_.get();if(void 0!==E){Q[L]=E,w[L]="reverse"===N?E:k(J);var j=u.getLayoutValObject(l,_.parts);if(j&&j.impliedEdits&&null!==E)for(var P in j.impliedEdits)U(i.relativeAttr(L,P),j.impliedEdits[P]);if(-1!==["width","height"].indexOf(L))if(E){U("autosize",null);var K="height"===L?"width":"height";U(K,l[K])}else l[L]=t._initialAutoSize[L];else if("autosize"===L)U("width",E?null:l.width),U("height",E?null:l.height);else if(X.match(H))S(X),a(l,W+"._inputRange").set(null);else if(X.match(D)){S(X),a(l,W+"._inputRange").set(null);var q=a(l,W).get();q._inputDomain&&(q._input.domain=q._inputDomain.slice())}else X.match(Y)&&a(l,W+"._inputDomain").set(null);if("type"===N){G=M;var $="linear"===O.type&&"log"===E,tt="log"===O.type&&"linear"===E;if($||tt){if(G&&G.range)if(O.autorange)$&&(G.range=G.range[1]>G.range[0]?[1,2]:[2,1]);else{var et=G.range[0],nt=G.range[1];$?(et<=0&&nt<=0&&U(W+".autorange",!0),et<=0?et=nt/1e6:nt<=0&&(nt=et/1e6),U(W+".range[0]",Math.log(et)/Math.LN10),U(W+".range[1]",Math.log(nt)/Math.LN10)):(U(W+".range[0]",Math.pow(10,et)),U(W+".range[1]",Math.pow(10,nt)))}else U(W+".autorange",!0);Array.isArray(l._subplots.polar)&&l._subplots.polar.length&&l[_.parts[0]]&&"radialaxis"===_.parts[1]&&delete l[_.parts[0]]._subplot.viewInitial["radialaxis.range"],c.getComponentMethod("annotations","convertCoords")(t,O,E,U),c.getComponentMethod("images","convertCoords")(t,O,E,U)}else U(W+".autorange",!0),U(W+".range",null);a(l,W+"._inputRange").set(null)}else if(N.match(B)){var rt=a(l,L).get(),it=(E||{}).type;it&&"-"!==it||(it="linear"),c.getComponentMethod("annotations","convertCoords")(t,rt,it,U),c.getComponentMethod("images","convertCoords")(t,rt,it,U)}var at=b.containerArrayMatch(L);if(at){n=at.array,r=at.index;var ot=at.property,st=j||{editType:"calc"};""!==r&&""===ot&&(b.isAddVal(E)?w[L]=null:b.isRemoveVal(E)?w[L]=(a(s,n).get()||[])[r]:i.warn("unrecognized full object value",e)),x.update(F,st),m[n]||(m[n]={});var lt=m[n][r];lt||(lt=m[n][r]={}),lt[ot]=E,delete e[L]}else"reverse"===N?(M.range?M.range.reverse():(U(W+".autorange",!0),M.range=[1,0]),O.autorange?F.calc=!0:F.plot=!0):(l._has("scatter-like")&&l._has("regl")&&"dragmode"===L&&("lasso"===E||"select"===E)&&"lasso"!==J&&"select"!==J||l._has("gl2d")?F.plot=!0:j?x.update(F,j):F.calc=!0,_.set(E))}}for(n in m){b.applyContainerArrayChanges(t,g(s,n),m[n],F,g)||(F.plot=!0)}for(var ct in R){var ut=(G=h.getFromId(t,ct))&&G._constraintGroup;if(ut)for(var dt in F.calc=!0,ut)R[dt]||(h.getFromId(t,dt)._constraintShrinkable=!0)}return(z(t)||e.height||e.width)&&(F.plot=!0),(F.plot||F.calc)&&(F.layoutReplot=!0),{flags:F,rangesAltered:R,undoit:w,redoit:Q,eventData:v}}function z(t){var e=t._fullLayout,n=e.width,r=e.height;return t.layout.autosize&&d.plotAutoSize(t,t.layout,e),e.width!==n||e.height!==r}function J(e,n,r,a){e=i.getGraphDiv(e),I.clearPromiseQueue(e),i.isPlainObject(n)||(n={}),i.isPlainObject(r)||(r={}),Object.keys(n).length&&(e.changed=!0),Object.keys(r).length&&(e.changed=!0);var o=I.coerceTraceIndices(e,a),s=N(e,i.extendFlat({},n),o),c=s.flags,u=O(e,i.extendFlat({},r)),h=u.flags;(c.calc||h.calc)&&(e.calcdata=void 0),c.clearAxisTypes&&I.clearAxisTypes(e,o,r);var g=[];h.layoutReplot?g.push(C.layoutReplot):c.fullReplot?g.push(t._doPlot):(g.push(d.previousPromises),W(e,h,u)||d.supplyDefaults(e),c.style&&g.push(C.doTraceStyle),(c.colorbars||h.colorbars)&&g.push(C.doColorBars),h.legend&&g.push(C.doLegend),h.layoutstyle&&g.push(C.layoutStyles),h.axrange&&M(g,u.rangesAltered),h.ticks&&g.push(C.doTicksRelayout),h.modebar&&g.push(C.doModeBar),h.camera&&g.push(C.doCamera),g.push(F)),g.push(d.rehover,d.redrag),l.add(e,J,[e,s.undoit,u.undoit,s.traces],J,[e,s.redoit,u.redoit,s.traces]);var f=i.syncOrAsync(g,e);return f&&f.then||(f=Promise.resolve(e)),f.then((function(){return e.emit("plotly_update",{data:s.eventData,layout:u.eventData}),e}))}function j(t){return function(e){e._fullLayout._guiEditing=!0;var n=t.apply(null,arguments);return e._fullLayout._guiEditing=!1,n}}var P=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],K=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function q(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=t.match(r.pattern);if(i){var a=i[1]||"";return{head:a,tail:t.substr(a.length+1),attr:r.attr}}}}function $(t,e){var n=a(e,t).get();if(void 0!==n)return n;var r=t.split(".");for(r.pop();r.length>1;)if(r.pop(),void 0!==(n=a(e,r.join(".")+".uirevision").get()))return n;return e.uirevision}function tt(t,e){for(var n=0;n<e.length;n++)if(e[n]._fullInput.uid===t)return n;return-1}function et(t,e,n){for(var r=0;r<e.length;r++)if(e[r].uid===t)return r;return!e[n]||e[n].uid?-1:n}function nt(t,e){var n=i.isPlainObject(t),r=Array.isArray(t);return n||r?(n&&i.isPlainObject(e)||r&&Array.isArray(e))&&JSON.stringify(t)===JSON.stringify(e):t===e}function rt(t,e,n,r){var o,s,l,c=r.getValObject,u=r.flags,d=r.immutable,h=r.inArray,g=r.arrayIndex;function f(){var t=o.editType;h&&-1!==t.indexOf("arraydraw")?i.pushUnique(u.arrays[h],g):(x.update(u,o),"none"!==t&&u.nChanges++,r.transition&&o.anim&&u.nChangesAnim++,(H.test(l)||D.test(l))&&(u.rangesAltered[n[0]]=1),Y.test(l)&&a(e,"_inputDomain").set(null),"datarevision"===s&&(u.newDataRevision=1))}function p(t){return"data_array"===t.valType||t.arrayOk}for(s in t){if(u.calc&&!r.transition)return;var v=t[s],m=e[s],y=n.concat(s);if(l=y.join("."),"_"!==s.charAt(0)&&"function"!=typeof v&&v!==m){if(("tick0"===s||"dtick"===s)&&"geo"!==n[0]){var b=e.tickmode;if("auto"===b||"array"===b||!b)continue}if(("range"!==s||!e.autorange)&&("zmin"!==s&&"zmax"!==s||"contourcarpet"!==e.type)&&(o=c(y))&&(!o._compareAsJSON||JSON.stringify(v)!==JSON.stringify(m))){var I,C=o.valType,B=p(o),A=Array.isArray(v),F=Array.isArray(m);if(A&&F){var Q="_input_"+s,w=t[Q],U=e[Q];if(Array.isArray(w)&&w===U)continue}if(void 0===m)B&&A?u.calc=!0:f();else if(o._isLinkedToArray){var G=[],R=!1;h||(u.arrays[s]=G);var S=Math.min(v.length,m.length),L=Math.max(v.length,m.length);if(S!==L){if("arraydraw"!==o.editType){f();continue}R=!0}for(I=0;I<S;I++)rt(v[I],m[I],y.concat(I),i.extendFlat({inArray:s,arrayIndex:I},r));if(R)for(I=S;I<L;I++)G.push(I)}else!C&&i.isPlainObject(v)?rt(v,m,y,r):B?A&&F?(d&&(u.calc=!0),(d||r.newDataRevision)&&f()):A!==F?u.calc=!0:f():A&&F&&v.length===m.length&&String(v)===String(m)||f()}}}for(s in e)if(!(s in t)&&"_"!==s.charAt(0)&&"function"!=typeof e[s]){if(p(o=c(n.concat(s)))&&Array.isArray(e[s]))return void(u.calc=!0);f()}}function it(t,e){var n;for(n in t)if("_"!==n.charAt(0)){var r=t[n],a=e[n];if(r!==a)if(i.isPlainObject(r)&&i.isPlainObject(a)){if(it(r,a))return!0}else{if(!Array.isArray(r)||!Array.isArray(a))return!0;if(r.length!==a.length)return!0;for(var o=0;o<r.length;o++)if(r[o]!==a[o]){if(!i.isPlainObject(r[o])||!i.isPlainObject(a[o]))return!0;if(it(r[o],a[o]))return!0}}}}function at(t){var e=t._fullLayout,n=t.getBoundingClientRect();if(!i.equalDomRects(n,e._lastBBox)){var r=e._invTransform=i.inverseTransformMatrix(i.getFullTransformMatrix(t));e._invScaleX=Math.sqrt(r[0][0]*r[0][0]+r[0][1]*r[0][1]+r[0][2]*r[0][2]),e._invScaleY=Math.sqrt(r[1][0]*r[1][0]+r[1][1]*r[1][1]+r[1][2]*r[1][2]),e._lastBBox=n}}t.animate=function(t,e,n){if(t=i.getGraphDiv(t),!i.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var r=t._transitionData;r._frameQueue||(r._frameQueue=[]);var a=(n=d.supplyAnimationDefaults(n)).transition,s=n.frame;function l(t){return Array.isArray(a)?t>=a.length?a[0]:a[t]:a}function c(t){return Array.isArray(s)?t>=s.length?s[0]:s[t]:s}function u(t,e){var n=0;return function(){if(t&&++n===e)return t()}}return void 0===r._frameWaitingCnt&&(r._frameWaitingCnt=0),new Promise((function(s,h){function g(){r._currentFrame&&r._currentFrame.onComplete&&r._currentFrame.onComplete();var e=r._currentFrame=r._frameQueue.shift();if(e){var n=e.name?e.name.toString():null;t._fullLayout._currentFrame=n,r._lastFrameAt=Date.now(),r._timeToNext=e.frameOpts.duration,d.transition(t,e.frame.data,e.frame.layout,I.coerceTraceIndices(t,e.frame.traces),e.frameOpts,e.transitionOpts).then((function(){e.onComplete&&e.onComplete()})),t.emit("plotly_animatingframe",{name:n,frame:e.frame,animation:{frame:e.frameOpts,transition:e.transitionOpts}})}else t.emit("plotly_animated"),window.cancelAnimationFrame(r._animationRaf),r._animationRaf=null}function f(){t.emit("plotly_animating"),r._lastFrameAt=-1/0,r._timeToNext=0,r._runningTransitions=0,r._currentFrame=null;!function t(){r._animationRaf=window.requestAnimationFrame(t),Date.now()-r._lastFrameAt>r._timeToNext&&g()}()}var p,v,m=0;function y(t){return Array.isArray(a)?m>=a.length?t.transitionOpts=a[m]:t.transitionOpts=a[0]:t.transitionOpts=a,m++,t}var b=[],C=null==e,x=Array.isArray(e);if(!C&&!x&&i.isPlainObject(e))b.push({type:"object",data:y(i.extendFlat({},e))});else if(C||-1!==["string","number"].indexOf(o(e)))for(p=0;p<r._frames.length;p++)(v=r._frames[p])&&(C||String(v.group)===String(e))&&b.push({type:"byname",name:String(v.name),data:y({name:v.name})});else if(x)for(p=0;p<e.length;p++){var B=e[p];-1!==["number","string"].indexOf(o(B))?(B=String(B),b.push({type:"byname",name:B,data:y({name:B})})):i.isPlainObject(B)&&b.push({type:"object",data:y(i.extendFlat({},B))})}for(p=0;p<b.length;p++)if("byname"===(v=b[p]).type&&!r._frameHash[v.data.name])return i.warn('animate failure: frame not found: "'+v.data.name+'"'),void h();-1!==["next","immediate"].indexOf(n.mode)&&function(){if(0!==r._frameQueue.length){for(;r._frameQueue.length;){var e=r._frameQueue.pop();e.onInterrupt&&e.onInterrupt()}t.emit("plotly_animationinterrupted",[])}}(),"reverse"===n.direction&&b.reverse();var A=t._fullLayout._currentFrame;if(A&&n.fromcurrent){var F=-1;for(p=0;p<b.length;p++)if("byname"===(v=b[p]).type&&v.name===A){F=p;break}if(F>0&&F<b.length-1){var Q=[];for(p=0;p<b.length;p++)v=b[p],("byname"!==b[p].type||p>F)&&Q.push(v);b=Q}}b.length>0?function(e){if(0!==e.length){for(var i=0;i<e.length;i++){var a;a="byname"===e[i].type?d.computeFrame(t,e[i].name):e[i].data;var o=c(i),g=l(i);g.duration=Math.min(g.duration,o.duration);var p={frame:a,name:e[i].name,frameOpts:o,transitionOpts:g};i===e.length-1&&(p.onComplete=u(s,2),p.onInterrupt=h),r._frameQueue.push(p)}"immediate"===n.mode&&(r._lastFrameAt=-1/0),r._animationRaf||f()}}(b):(t.emit("plotly_animated"),s())}))},t.addFrames=function(t,e,n){if(t=i.getGraphDiv(t),null==e)return Promise.resolve();if(!i.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var r,a,o,s,c=t._transitionData._frames,u=t._transitionData._frameHash;if(!Array.isArray(e))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+e);var h=c.length+2*e.length,g=[],f={};for(r=e.length-1;r>=0;r--)if(i.isPlainObject(e[r])){var p=e[r].name,v=(u[p]||f[p]||{}).name,m=e[r].name,y=u[v]||f[v];v&&m&&"number"==typeof m&&y&&A<5&&(A++,i.warn('addFrames: overwriting frame "'+(u[v]||f[v]).name+'" with a frame whose name of type "number" also equates to "'+v+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===A&&i.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),f[p]={name:p},g.push({frame:d.supplyFrameDefaults(e[r]),index:n&&void 0!==n[r]&&null!==n[r]?n[r]:h+r})}g.sort((function(t,e){return t.index>e.index?-1:t.index<e.index?1:0}));var b=[],I=[],C=c.length;for(r=g.length-1;r>=0;r--){if("number"==typeof(a=g[r].frame).name&&i.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!a.name)for(;u[a.name="frame "+t._transitionData._counter++];);if(u[a.name]){for(o=0;o<c.length&&(c[o]||{}).name!==a.name;o++);b.push({type:"replace",index:o,value:a}),I.unshift({type:"replace",index:o,value:c[o]})}else s=Math.max(0,Math.min(g[r].index,C)),b.push({type:"insert",index:s,value:a}),I.unshift({type:"delete",index:s}),C++}var x=d.modifyFrames,B=d.modifyFrames,F=[t,I],Q=[t,b];return l&&l.add(t,x,F,B,Q),d.modifyFrames(t,b)},t.deleteFrames=function(t,e){if(t=i.getGraphDiv(t),!i.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);var n,r,a=t._transitionData._frames,o=[],s=[];if(!e)for(e=[],n=0;n<a.length;n++)e.push(n);for((e=e.slice()).sort(),n=e.length-1;n>=0;n--)r=e[n],o.push({type:"delete",index:r}),s.unshift({type:"insert",index:r,value:a[r]});var c=d.modifyFrames,u=d.modifyFrames,h=[t,s],g=[t,o];return l&&l.add(t,c,h,u,g),d.modifyFrames(t,o)},t.addTraces=function e(n,r,a){n=i.getGraphDiv(n);var s,c,u=[],d=t.deleteTraces,h=e,g=[n,u],f=[n,r];for(function(t,e,n){var r,i;if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(void 0===e)throw new Error("traces must be defined.");for(Array.isArray(e)||(e=[e]),r=0;r<e.length;r++)if("object"!==o(i=e[r])||Array.isArray(i)||null===i)throw new Error("all values in traces array must be non-array objects");if(void 0===n||Array.isArray(n)||(n=[n]),void 0!==n&&n.length!==e.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(n,r,a),Array.isArray(r)||(r=[r]),r=r.map((function(t){return i.extendFlat({},t)})),I.cleanData(r),s=0;s<r.length;s++)n.data.push(r[s]);for(s=0;s<r.length;s++)u.push(-r.length+s);if(void 0===a)return c=t.redraw(n),l.add(n,d,g,h,f),c;Array.isArray(a)||(a=[a]);try{S(n,u,a)}catch(t){throw n.data.splice(n.data.length-r.length,r.length),t}return l.startSequence(n),l.add(n,d,g,h,f),c=t.moveTraces(n,u,a),l.stopSequence(n),c},t.deleteTraces=function e(n,r){n=i.getGraphDiv(n);var a,o,s=[],c=t.addTraces,u=e,d=[n,s,r],h=[n,r];if(void 0===r)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),R(n,r,"indices"),(r=G(r,n.data.length-1)).sort(i.sorterDes),a=0;a<r.length;a+=1)o=n.data.splice(r[a],1)[0],s.push(o);var g=t.redraw(n);return l.add(n,c,d,u,h),g},t.extendTraces=function e(n,r,a,o){function s(t,e,n){var r,a;if(i.isTypedArray(t))if(n<0){var o=new t.constructor(0),s=_(t,e);n<0?(r=s,a=o):(r=o,a=s)}else if(r=new t.constructor(n),a=new t.constructor(t.length+e.length-n),n===e.length)r.set(e),a.set(t);else if(n<e.length){var l=e.length-n;r.set(e.subarray(l)),a.set(t),a.set(e.subarray(0,l),t.length)}else{var c=n-e.length,u=t.length-c;r.set(t.subarray(u)),r.set(e,c),a.set(t.subarray(0,u))}else r=t.concat(e),a=n>=0&&n<r.length?r.splice(0,r.length-n):[];return[r,a]}var c=L(n=i.getGraphDiv(n),r,a,o,s),u=t.redraw(n),d=[n,c.update,a,c.maxPoints];return l.add(n,t.prependTraces,d,e,arguments),u},t.moveTraces=function e(n,r,a){var o,s=[],c=[],u=e,d=e,h=[n=i.getGraphDiv(n),a,r],g=[n,r,a];if(S(n,r,a),r=Array.isArray(r)?r:[r],void 0===a)for(a=[],o=0;o<r.length;o++)a.push(-r.length+o);for(a=Array.isArray(a)?a:[a],r=G(r,n.data.length-1),a=G(a,n.data.length-1),o=0;o<n.data.length;o++)-1===r.indexOf(o)&&s.push(n.data[o]);for(o=0;o<r.length;o++)c.push({newIndex:a[o],trace:n.data[r[o]]});for(c.sort((function(t,e){return t.newIndex-e.newIndex})),o=0;o<c.length;o+=1)s.splice(c[o].newIndex,0,c[o].trace);n.data=s;var f=t.redraw(n);return l.add(n,u,h,d,g),f},t.prependTraces=function e(n,r,a,o){function s(t,e,n){var r,a;if(i.isTypedArray(t))if(n<=0){var o=new t.constructor(0),s=_(e,t);n<0?(r=s,a=o):(r=o,a=s)}else if(r=new t.constructor(n),a=new t.constructor(t.length+e.length-n),n===e.length)r.set(e),a.set(t);else if(n<e.length){var l=e.length-n;r.set(e.subarray(0,l)),a.set(e.subarray(l)),a.set(t,l)}else{var c=n-e.length;r.set(e),r.set(t.subarray(0,c),e.length),a.set(t.subarray(c))}else r=e.concat(t),a=n>=0&&n<r.length?r.splice(n,r.length):[];return[r,a]}var c=L(n=i.getGraphDiv(n),r,a,o,s),u=t.redraw(n),d=[n,c.update,a,c.maxPoints];return l.add(n,t.extendTraces,d,e,arguments),u},t.newPlot=function(e,n,r,a){return e=i.getGraphDiv(e),d.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),d.purge(e),t._doPlot(e,n,r,a)},t._doPlot=function(n,r,a,o){var l;if(n=i.getGraphDiv(n),s.init(n),i.isPlainObject(r)){var u=r;r=u.data,a=u.layout,o=u.config,l=u.frames}if(!1===s.triggerHandler(n,"plotly_beforeplot",[r,a,o]))return Promise.reject();r||a||i.isPlotDiv(n)||i.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",n),U(n,o),a||(a={}),e.select(n).classed("js-plotly-plot",!0),g.makeTester(),Array.isArray(n._promises)||(n._promises=[]);var f=0===(n.data||[]).length&&Array.isArray(r);Array.isArray(r)&&(I.cleanData(r),f?n.data=r:n.data.push.apply(n.data,r),n.empty=!1),n.layout&&!f||(n.layout=I.cleanLayout(a)),d.supplyDefaults(n);var m=n._fullLayout,y=m._has("cartesian");m._replotting=!0,(f||m._shouldCreateBgLayer)&&(!function(t){var n=e.select(t),r=t._fullLayout;if(r._calcInverseTransform=at,r._calcInverseTransform(t),r._container=n.selectAll(".plot-container").data([0]),r._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),r._paperdiv=r._container.selectAll(".svg-container").data([0]),r._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),r._glcontainer=r._paperdiv.selectAll(".gl-container").data([{}]),r._glcontainer.enter().append("div").classed("gl-container",!0),r._paperdiv.selectAll(".main-svg").remove(),r._paperdiv.select(".modebar-container").remove(),r._paper=r._paperdiv.insert("svg",":first-child").classed("main-svg",!0),r._toppaper=r._paperdiv.append("svg").classed("main-svg",!0),r._modebardiv=r._paperdiv.append("div"),delete r._modeBar,r._hoverpaper=r._paperdiv.append("svg").classed("main-svg",!0),!r._uid){var a={};e.selectAll("defs").each((function(){this.id&&(a[this.id.split("-")[1]]=1)})),r._uid=i.randstr(a)}r._paperdiv.selectAll(".main-svg").attr(v.svgAttrs),r._defs=r._paper.append("defs").attr("id","defs-"+r._uid),r._clips=r._defs.append("g").classed("clips",!0),r._topdefs=r._toppaper.append("defs").attr("id","topdefs-"+r._uid),r._topclips=r._topdefs.append("g").classed("clips",!0),r._bgLayer=r._paper.append("g").classed("bglayer",!0),r._draggers=r._paper.append("g").classed("draglayer",!0);var o=r._paper.append("g").classed("layer-below",!0);r._imageLowerLayer=o.append("g").classed("imagelayer",!0),r._shapeLowerLayer=o.append("g").classed("shapelayer",!0),r._cartesianlayer=r._paper.append("g").classed("cartesianlayer",!0),r._polarlayer=r._paper.append("g").classed("polarlayer",!0),r._smithlayer=r._paper.append("g").classed("smithlayer",!0),r._ternarylayer=r._paper.append("g").classed("ternarylayer",!0),r._geolayer=r._paper.append("g").classed("geolayer",!0),r._funnelarealayer=r._paper.append("g").classed("funnelarealayer",!0),r._pielayer=r._paper.append("g").classed("pielayer",!0),r._iciclelayer=r._paper.append("g").classed("iciclelayer",!0),r._treemaplayer=r._paper.append("g").classed("treemaplayer",!0),r._sunburstlayer=r._paper.append("g").classed("sunburstlayer",!0),r._indicatorlayer=r._toppaper.append("g").classed("indicatorlayer",!0),r._glimages=r._paper.append("g").classed("glimages",!0);var s=r._toppaper.append("g").classed("layer-above",!0);r._imageUpperLayer=s.append("g").classed("imagelayer",!0),r._shapeUpperLayer=s.append("g").classed("shapelayer",!0),r._infolayer=r._toppaper.append("g").classed("infolayer",!0),r._menulayer=r._toppaper.append("g").classed("menulayer",!0),r._zoomlayer=r._toppaper.append("g").classed("zoomlayer",!0),r._hoverlayer=r._hoverpaper.append("g").classed("hoverlayer",!0),r._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),t.emit("plotly_framework")}(n),m._shouldCreateBgLayer&&delete m._shouldCreateBgLayer),g.initGradients(n),g.initPatterns(n),f&&h.saveShowSpikeInitial(n);var b=!n.calcdata||n.calcdata.length!==(n._fullData||[]).length;b&&d.doCalcdata(n);for(var x=0;x<n.calcdata.length;x++)n.calcdata[x][0].trace=n._fullData[x];n._context.responsive?n._responsiveChartHandler||(n._responsiveChartHandler=function(){i.isHidden(n)||d.resize(n)},window.addEventListener("resize",n._responsiveChartHandler)):i.clearResponsive(n);var B=i.extendFlat({},m._size),A=0;function Q(){if(d.clearAutoMarginIds(n),C.drawMarginPushers(n),h.allowAutoMargin(n),m._has("pie"))for(var t=n._fullData,e=0;e<t.length;e++){var r=t[e];"pie"===r.type&&r.automargin&&d.allowAutoMargin(n,"pie."+r.uid+".automargin")}return d.doAutoMargin(n),d.previousPromises(n)}function w(){n._transitioning||(C.doAutoRangeAndConstraints(n),f&&h.saveRangeInitial(n),c.getComponentMethod("rangeslider","calcAutorange")(n))}var G=[d.previousPromises,function(){if(l)return t.addFrames(n,l)},function t(){for(var e=m._basePlotModules,r=0;r<e.length;r++)e[r].drawFramework&&e[r].drawFramework(n);!m._glcanvas&&m._has("gl")&&(m._glcanvas=m._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],(function(t){return t.key})),m._glcanvas.enter().append("canvas").attr("class",(function(t){return"gl-canvas gl-canvas-"+t.key.replace("Layer","")})).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var a=n._context.plotGlPixelRatio;if(m._glcanvas){m._glcanvas.attr("width",m.width*a).attr("height",m.height*a).style("width",m.width+"px").style("height",m.height+"px");var o=m._glcanvas.data()[0].regl;if(o&&(Math.floor(m.width*a)!==o._gl.drawingBufferWidth||Math.floor(m.height*a)!==o._gl.drawingBufferHeight)){var s="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!A)return i.log(s+" Clearing graph and plotting again."),d.cleanPlot([],{},n._fullData,m),d.supplyDefaults(n),m=n._fullLayout,d.doCalcdata(n),A++,t();i.error(s)}}return"h"===m.modebar.orientation?m._modebardiv.style("height",null).style("width","100%"):m._modebardiv.style("width",null).style("height",m.height+"px"),d.previousPromises(n)},Q,function(){if(d.didMarginChange(B,m._size))return i.syncOrAsync([Q,C.layoutStyles],n)}];y&&G.push((function(){if(b)return i.syncOrAsync([c.getComponentMethod("shapes","calcAutorange"),c.getComponentMethod("annotations","calcAutorange"),w],n);w()})),G.push(C.layoutStyles),y&&G.push((function(){return h.draw(n,f?"":"redraw")}),(function(t){t._fullLayout._insideTickLabelsAutorange&&X(t,t._fullLayout._insideTickLabelsAutorange).then((function(){t._fullLayout._insideTickLabelsAutorange=void 0}))})),G.push(C.drawData,C.finalDraw,p,d.addLinks,d.rehover,d.redrag,d.doAutoMargin,(function(t){t._fullLayout._insideTickLabelsAutorange&&f&&h.saveRangeInitial(t,!0)}),d.previousPromises);var R=i.syncOrAsync(G,n);return R&&R.then||(R=Promise.resolve()),R.then((function(){return F(n),n}))},t.purge=function(t){var e=(t=i.getGraphDiv(t))._fullLayout||{},n=t._fullData||[];return d.cleanPlot([],{},n,e),d.purge(t),s.purge(t),e._container&&e._container.remove(),delete t._context,t},t.react=function(e,n,r,o){var s,l;e=i.getGraphDiv(e),I.clearPromiseQueue(e);var h=e._fullData,g=e._fullLayout;if(i.isPlotDiv(e)&&h&&g){if(i.isPlainObject(n)){var f=n;n=f.data,r=f.layout,o=f.config,s=f.frames}var p=!1;if(o){var v=i.extendDeep({},e._context);e._context=void 0,U(e,o),p=it(v,e._context)}e.data=n||[],I.cleanData(e.data),e.layout=r||{},I.cleanLayout(e.layout),function(t,e,n,r){var o,s,l,c,u,d,h,g,f,p,v=r._preGUI,m=[],y={},b={};for(o in v){if(u=q(o,P)){if(f=u.head,p=u.tail,s=u.attr||f+".uirevision",(c=(l=a(r,s).get())&&$(s,e))&&c===l){if(null===(d=v[o])&&(d=void 0),nt(g=(h=a(e,o)).get(),d)){void 0===g&&"autorange"===p&&m.push(f),h.set(k(a(r,o).get()));continue}if("autorange"===p||"range["===p.substr(0,6)){var I=v[f+".range[0]"],C=v[f+".range[1]"],x=v[f+".autorange"];if(x||null===x&&null===I&&null===C){if(!(f in y)){var B=a(e,f).get();y[f]=B&&(B.autorange||!1!==B.autorange&&(!B.range||2!==B.range.length))}if(y[f]){h.set(k(a(r,o).get()));continue}}}}}else i.warn("unrecognized GUI edit: "+o);delete v[o],u&&"range["===u.tail.substr(0,6)&&(b[u.head]=1)}for(var A=0;A<m.length;A++){var F=m[A];if(b[F]){var Q=a(e,F).get();Q&&delete Q.autorange}}var w=r._tracePreGUI;for(var U in w){var G,R=w[U],S=null;for(o in R){if(!S){var L=tt(U,n);if(L<0){delete w[U];break}var _=et(U,t,(G=n[L]._fullInput).index);if(_<0){delete w[U];break}S=t[_]}if(u=q(o,K)){if(u.attr?c=(l=a(r,u.attr).get())&&$(u.attr,e):(l=G.uirevision,void 0===(c=S.uirevision)&&(c=e.uirevision)),c&&c===l&&(null===(d=R[o])&&(d=void 0),nt(g=(h=a(S,o)).get(),d))){h.set(k(a(G,o).get()));continue}}else i.warn("unrecognized GUI edit: "+o+" in trace uid "+U);delete R[o]}}}(e.data,e.layout,h,g),d.supplyDefaults(e,{skipUpdateCalc:!0});var m=e._fullData,y=e._fullLayout,b=void 0===y.datarevision,B=y.transition,A=function(t,e,n,r,i){var a=x.layoutFlags();function o(t){return u.getLayoutValObject(n,t)}a.arrays={},a.rangesAltered={},a.nChanges=0,a.nChangesAnim=0,rt(e,n,[],{getValObject:o,flags:a,immutable:r,transition:i,gd:t}),(a.plot||a.calc)&&(a.layoutReplot=!0);i&&a.nChanges&&a.nChangesAnim&&(a.anim=a.nChanges===a.nChangesAnim?"all":"some");return a}(e,g,y,b,B),Q=A.newDataRevision,w=function(t,e,n,r,i,a){var o=e.length===n.length;if(!i&&!o)return{fullReplot:!0,calc:!0};var s,l,c=x.traceFlags();function h(t){var e=u.getTraceValObject(l,t);return!l._module.animatable&&e.anim&&(e.anim=!1),e}c.arrays={},c.nChanges=0,c.nChangesAnim=0;var g={getValObject:h,flags:c,immutable:r,transition:i,newDataRevision:a,gd:t},f={};for(s=0;s<e.length;s++)if(n[s]){if(l=n[s]._fullInput,d.hasMakesDataTransform(l)&&(l=n[s]),f[l.uid])continue;f[l.uid]=1,rt(e[s]._fullInput,l,[],g)}(c.calc||c.plot)&&(c.fullReplot=!0);i&&c.nChanges&&c.nChangesAnim&&(c.anim=c.nChanges===c.nChangesAnim&&o?"all":"some");return c}(e,h,m,b,B,Q);if(z(e)&&(A.layoutReplot=!0),w.calc||A.calc){e.calcdata=void 0;for(var G=Object.getOwnPropertyNames(y),R=0;R<G.length;R++){var S=G[R],L=S.substring(0,5);if("xaxis"===L||"yaxis"===L){var _=y[S]._emptyCategories;_&&_()}}}else d.supplyDefaultsUpdateCalc(e.calcdata,m);var E=[];if(s&&(e._transitionData={},d.createTransitionData(e),E.push((function(){return t.addFrames(e,s)}))),y.transition&&!p&&(w.anim||A.anim))A.ticks&&E.push(C.doTicksRelayout),d.doCalcdata(e),C.doAutoRangeAndConstraints(e),E.push((function(){return d.transitionFromReact(e,w,A,g)}));else if(w.fullReplot||A.layoutReplot||p)e._fullLayout._skipDefaults=!0,E.push(t._doPlot);else{for(var V in A.arrays){var Z=A.arrays[V];if(Z.length){var N=c.getComponentMethod(V,"drawOne");if(N!==i.noop)for(var T=0;T<Z.length;T++)N(e,Z[T]);else{var X=c.getComponentMethod(V,"draw");if(X===i.noop)throw new Error("cannot draw components: "+V);X(e)}}}E.push(d.previousPromises),w.style&&E.push(C.doTraceStyle),(w.colorbars||A.colorbars)&&E.push(C.doColorBars),A.legend&&E.push(C.doLegend),A.layoutstyle&&E.push(C.layoutStyles),A.axrange&&M(E),A.ticks&&E.push(C.doTicksRelayout),A.modebar&&E.push(C.doModeBar),A.camera&&E.push(C.doCamera),E.push(F)}E.push(d.rehover,d.redrag),(l=i.syncOrAsync(E,e))&&l.then||(l=Promise.resolve(e))}else l=t.newPlot(e,n,r,o);return l.then((function(){return e.emit("plotly_react",{data:n,layout:r}),e}))},t.redraw=function(e){if(e=i.getGraphDiv(e),!i.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return I.cleanData(e.data),I.cleanLayout(e.layout),e.calcdata=void 0,t._doPlot(e).then((function(){return e.emit("plotly_redraw"),e}))},t.relayout=X,t.restyle=E,t.setPlotConfig=function(t){return i.extendFlat(y,t)},t.update=J,t._guiRelayout=j(X),t._guiRestyle=j(E),t._guiUpdate=j(J),t._storeDirectGUIEdit=function(t,e,n){for(var r in n){Z(r,a(t,r).get(),n[r],e)}}}(Ort);var pyt={},vyt=met;pyt.getDelay=function(t){return t._has&&(t._has("gl3d")||t._has("gl2d")||t._has("mapbox"))?500:0},pyt.getRedrawFunc=function(t){return function(){vyt.getComponentMethod("colorbar","draw")(t)}},pyt.encodeSVG=function(t){return"data:image/svg+xml,"+encodeURIComponent(t)},pyt.encodeJSON=function(t){return"data:application/json,"+encodeURIComponent(t)};var myt=window.URL||window.webkitURL;pyt.createObjectURL=function(t){return myt.createObjectURL(t)},pyt.revokeObjectURL=function(t){return myt.revokeObjectURL(t)},pyt.createBlob=function(t,e){if("svg"===e)return new window.Blob([t],{type:"image/svg+xml;charset=utf-8"});if("full-json"===e)return new window.Blob([t],{type:"application/json;charset=utf-8"});var n=function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}(window.atob(t));return new window.Blob([n],{type:"image/"+e})},pyt.octetStream=function(t){document.location.href="data:application/octet-stream"+t},pyt.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,pyt.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.";var yyt=w4.exports,byt=Q4.exports,Iyt=Uat.exports,Cyt=Ott.exports,xyt=Qat,Byt=/"/g,Ayt="TOBESTRIPPED",Fyt=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");var Qyt=function(t,e,n){var r,i,a=t._fullLayout,o=a._paper,s=a._toppaper,l=a.width,c=a.height;o.insert("rect",":first-child").call(Iyt.setRect,0,0,l,c).call(Cyt.fill,a.paper_bgcolor);var u=a._basePlotModules||[];for(r=0;r<u.length;r++){var d=u[r];d.toSVG&&d.toSVG(t)}if(s){var h=s.node().childNodes,g=Array.prototype.slice.call(h);for(r=0;r<g.length;r++){var f=g[r];f.childNodes.length&&o.node().appendChild(f)}}a._draggers&&a._draggers.remove(),o.node().style.background="",o.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each((function(){var t=yyt.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){t.style({visibility:null,display:null});var e=this.style.fontFamily;e&&-1!==e.indexOf('"')&&t.style("font-family",e.replace(Byt,Ayt))}else t.remove()}));var p=[];if(a._gradientUrlQueryParts)for(i in a._gradientUrlQueryParts)p.push(i);if(a._patternUrlQueryParts)for(i in a._patternUrlQueryParts)p.push(i);p.length&&o.selectAll(p.join(",")).each((function(){var t=yyt.select(this),e=this.style.fill;e&&-1!==e.indexOf("url(")&&t.style("fill",e.replace(Byt,Ayt));var n=this.style.stroke;n&&-1!==n.indexOf("url(")&&t.style("stroke",n.replace(Byt,Ayt))})),"pdf"!==e&&"eps"!==e||o.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),o.node().setAttributeNS(xyt.xmlns,"xmlns",xyt.svg),o.node().setAttributeNS(xyt.xmlns,"xmlns:xlink",xyt.xlink),"svg"===e&&n&&(o.attr("width",n*l),o.attr("height",n*c),o.attr("viewBox","0 0 "+l+" "+c));var v=(new window.XMLSerializer).serializeToString(o.node());return v=function(t){var e=yyt.select("body").append("div").style({display:"none"}).html(""),n=t.replace(/(&[^;]*;)/gi,(function(t){return"&lt;"===t?"&#60;":"&rt;"===t?"&#62;":-1!==t.indexOf("<")||-1!==t.indexOf(">")?"":e.html(t).text()}));return e.remove(),n}(v),v=function(t){return t.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}(v),v=v.replace(Fyt,"'"),byt.isIE()&&(v=(v=(v=v.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),v},wyt=Q4.exports,Uyt=Jrt.exports.EventEmitter,Gyt=pyt;var Ryt=function(t){var e=t.emitter||new Uyt,n=new Promise((function(r,i){var a=window.Image,o=t.svg,s=t.format||"png";if(wyt.isIE()&&"svg"!==s){var l=new Error(Gyt.MSG_IE_BAD_FORMAT);return i(l),t.promise?n:e.emit("error",l)}var c,u,d=t.canvas,h=t.scale||1,g=t.width||300,f=t.height||150,p=h*g,v=h*f,m=d.getContext("2d"),y=new a;"svg"===s||wyt.isSafari()?u=Gyt.encodeSVG(o):(c=Gyt.createBlob(o,"svg"),u=Gyt.createObjectURL(c)),d.width=p,d.height=v,y.onload=function(){var n;switch(c=null,Gyt.revokeObjectURL(u),"svg"!==s&&m.drawImage(y,0,0,p,v),s){case"jpeg":n=d.toDataURL("image/jpeg");break;case"png":n=d.toDataURL("image/png");break;case"webp":n=d.toDataURL("image/webp");break;case"svg":n=u;break;default:var a="Image format is not jpeg, png, svg or webp.";if(i(new Error(a)),!t.promise)return e.emit("error",a)}r(n),t.promise||e.emit("success",n)},y.onerror=function(n){if(c=null,Gyt.revokeObjectURL(u),i(n),!t.promise)return e.emit("error",n)},y.src=u}));return t.promise?n:e},Syt=z6,Lyt=Ort,_yt=Git.exports,Eyt=Q4.exports,kyt=pyt,Vyt=Qyt,Zyt=Ryt,Nyt=F4.version,Tyt={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png",description:"Sets the format of exported image."},width:{valType:"number",min:1,description:["Sets the exported image width.","Defaults to the value found in `layout.width`","If set to *null*, the exported image width will match the current graph width."].join(" ")},height:{valType:"number",min:1,description:["Sets the exported image height.","Defaults to the value found in `layout.height`","If set to *null*, the exported image height will match the current graph height."].join(" ")},scale:{valType:"number",min:0,dflt:1,description:["Sets a scaling for the generated image.","If set, all features of a graphs (e.g. text, line width)","are scaled, unlike simply setting","a bigger *width* and *height*."].join(" ")},setBackground:{valType:"any",dflt:!1,description:["Sets the image background mode.","By default, the image background is determined by `layout.paper_bgcolor`,","the *transparent* mode.","One might consider setting `setBackground` to *opaque*","when exporting a *jpeg* image as JPEGs do not support opacity."].join(" ")},imageDataOnly:{valType:"boolean",dflt:!1,description:["Determines whether or not the return value is prefixed by","the image format's corresponding 'data:image;' spec."].join(" ")}};var Xyt=function(t,e){var n,r,i,a;function o(t){return!(t in e)||Eyt.validate(e[t],Tyt[t])}if(e=e||{},Eyt.isPlainObject(t)?(n=t.data||[],r=t.layout||{},i=t.config||{},a={}):(t=Eyt.getGraphDiv(t),n=Eyt.extendDeep([],t.data),r=Eyt.extendDeep({},t.layout),i=t._context,a=t._fullLayout||{}),!o("width")&&null!==e.width||!o("height")&&null!==e.height)throw new Error("Height and width should be pixel values.");if(!o("format"))throw new Error("Export format is not "+Eyt.join2(Tyt.format.values,", "," or ")+".");var s={};function l(t,n){return Eyt.coerce(e,s,Tyt,t,n)}var c=l("format"),u=l("width"),d=l("height"),h=l("scale"),g=l("setBackground"),f=l("imageDataOnly"),p=document.createElement("div");p.style.position="absolute",p.style.left="-5000px",document.body.appendChild(p);var v=Eyt.extendFlat({},r);u?v.width=u:null===e.width&&Syt(a.width)&&(v.width=a.width),d?v.height=d:null===e.height&&Syt(a.height)&&(v.height=a.height);var m=Eyt.extendFlat({},i,{_exportedPlot:!0,staticPlot:!0,setBackground:g}),y=kyt.getRedrawFunc(p);function b(){return new Promise((function(t){setTimeout(t,kyt.getDelay(p._fullLayout))}))}function I(){return new Promise((function(t,e){var n=Vyt(p,c,h),r=p._fullLayout.width,i=p._fullLayout.height;function a(){Lyt.purge(p),document.body.removeChild(p)}if("full-json"===c){var o=_yt.graphJson(p,!1,"keepdata","object",!0,!0);return o.version=Nyt,o=JSON.stringify(o),a(),t(f?o:kyt.encodeJSON(o))}if(a(),"svg"===c)return t(f?n:kyt.encodeSVG(n));var s=document.createElement("canvas");s.id=Eyt.randstr(),Zyt({format:c,width:r,height:i,scale:h,canvas:s,svg:n,promise:!0}).then(t).catch(e)}))}return new Promise((function(t,e){Lyt.newPlot(p,n,v,m).then(y).then(b).then(I).then((function(e){t(function(t){return f?t.replace(kyt.IMAGE_URL_PREFIX,""):t}(e))})).catch((function(t){e(t)}))}))},Wyt=Q4.exports,Myt=Git.exports,Hyt=vit,Dyt=cet.dfltConfig,Yyt=Wyt.isPlainObject,Oyt=Array.isArray,zyt=Wyt.isArrayOrTypedArray;function Jyt(t,e,n,r,i,a){a=a||[];for(var o=Object.keys(t),s=0;s<o.length;s++){var l=o[s];if("transforms"!==l){var c=a.slice();c.push(l);var u=t[l],d=e[l],h=tbt(n,l),g=(h||{}).valType,f="info_array"===g,p="colorscale"===g,v=(h||{}).items;if($yt(n,l))if(Yyt(u)&&Yyt(d)&&"any"!==g)Jyt(u,d,h,r,i,c);else if(f&&Oyt(u)){u.length>d.length&&r.push(qyt("unused",i,c.concat(d.length)));var m,y,b,I,C,x=d.length,B=Array.isArray(v);if(B&&(x=Math.min(x,v.length)),2===h.dimensions)for(y=0;y<x;y++)if(Oyt(u[y])){u[y].length>d[y].length&&r.push(qyt("unused",i,c.concat(y,d[y].length)));var A=d[y].length;for(m=0;m<(B?Math.min(A,v[y].length):A);m++)b=B?v[y][m]:v,I=u[y][m],C=d[y][m],Wyt.validate(I,b)?C!==I&&C!==+I&&r.push(qyt("dynamic",i,c.concat(y,m),I,C)):r.push(qyt("value",i,c.concat(y,m),I))}else r.push(qyt("array",i,c.concat(y),u[y]));else for(y=0;y<x;y++)b=B?v[y]:v,I=u[y],C=d[y],Wyt.validate(I,b)?C!==I&&C!==+I&&r.push(qyt("dynamic",i,c.concat(y),I,C)):r.push(qyt("value",i,c.concat(y),I))}else if(h.items&&!f&&Oyt(u)){var F,Q,w=v[Object.keys(v)[0]],U=[];for(F=0;F<d.length;F++){var G=d[F]._index||F;if((Q=c.slice()).push(G),Yyt(u[G])&&Yyt(d[F])){U.push(G);var R=u[G],S=d[F];Yyt(R)&&!1!==R.visible&&!1===S.visible?r.push(qyt("invisible",i,Q)):Jyt(R,S,w,r,i,Q)}}for(F=0;F<u.length;F++)(Q=c.slice()).push(F),Yyt(u[F])?-1===U.indexOf(F)&&r.push(qyt("unused",i,Q)):r.push(qyt("object",i,Q,u[F]))}else!Yyt(u)&&Yyt(d)?r.push(qyt("object",i,c,u)):zyt(u)||!zyt(d)||f||p?l in e?Wyt.validate(u,h)?"enumerated"===h.valType&&(h.coerceNumber&&u!==+d||u!==d)&&r.push(qyt("dynamic",i,c,u,d)):r.push(qyt("value",i,c,u)):r.push(qyt("unused",i,c,u)):r.push(qyt("array",i,c,u));else r.push(qyt("schema",i,c))}}return r}function jyt(t,e){for(var n=t.layout.layoutAttributes,r=0;r<e.length;r++){var i=e[r],a=t.traces[i.type],o=a.layoutAttributes;o&&(i.subplot?Wyt.extendFlat(n[a.attributes.subplot.dflt],o):Wyt.extendFlat(n,o))}return n}var Pyt={object:function(t,e){return("layout"===t&&""===e?"The layout argument":"data"===t[0]&&""===e?"Trace "+t[1]+" in the data argument":Kyt(t)+"key "+e)+" must be linked to an object container"},array:function(t,e){return("data"===t?"The data argument":Kyt(t)+"key "+e)+" must be linked to an array container"},schema:function(t,e){return Kyt(t)+"key "+e+" is not part of the schema"},unused:function(t,e,n){var r=Yyt(n)?"container":"key";return Kyt(t)+r+" "+e+" did not get coerced"},dynamic:function(t,e,n,r){return[Kyt(t)+"key",e,"(set to '"+n+"')","got reset to","'"+r+"'","during defaults."].join(" ")},invisible:function(t,e){return(e?Kyt(t)+"item "+e:"Trace "+t[1])+" got defaulted to be not visible"},value:function(t,e,n){return[Kyt(t)+"key "+e,"is set to an invalid value ("+n+")"].join(" ")}};function Kyt(t){return Oyt(t)?"In data trace "+t[1]+", ":"In "+t+", "}function qyt(t,e,n,r,i){var a,o;n=n||"",Oyt(e)?(a=e[0],o=e[1]):(a=e,o=null);var s=function(t){if(!Oyt(t))return String(t);for(var e="",n=0;n<t.length;n++){var r=t[n];"number"==typeof r?e=e.substr(0,e.length-1)+"["+r+"]":e+=r,n<t.length-1&&(e+=".")}return e}(n),l=Pyt[t](e,s,r,i);return Wyt.log(l),{code:t,container:a,trace:o,path:n,astr:s,msg:l}}function $yt(t,e){var n=nbt(e),r=n.keyMinusId,i=n.id;return!!(r in t&&t[r]._isSubplotObj&&i)||e in t}function tbt(t,e){return e in t?t[e]:t[nbt(e).keyMinusId]}var ebt=Wyt.counterRegex("([a-z]+)");function nbt(t){var e=t.match(ebt);return{keyMinusId:e&&e[1],id:e&&e[2]}}var rbt=Q4.exports,ibt=pyt;var abt=function(t,e,n){var r=document.createElement("a"),i="download"in r;return new Promise((function(a,o){var s,l;if(rbt.isIE())return s=ibt.createBlob(t,"svg"),window.navigator.msSaveBlob(s,e),s=null,a(e);if(i)return s=ibt.createBlob(t,n),l=ibt.createObjectURL(s),r.href=l,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),ibt.revokeObjectURL(l),s=null,a(e);if(rbt.isSafari()){var c="svg"===n?",":";base64,";return ibt.octetStream(c+encodeURIComponent(t)),a(e)}o(new Error("download error"))}))},obt=Q4.exports,sbt=Xyt,lbt=abt,cbt=pyt;var ubt=function(t,e){var n;return obt.isPlainObject(t)||(n=obt.getGraphDiv(t)),(e=e||{}).format=e.format||"png",e.width=e.width||null,e.height=e.height||null,e.imageDataOnly=!0,new Promise((function(r,i){n&&n._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),obt.isIE()&&"svg"!==e.format&&i(new Error(cbt.MSG_IE_BAD_FORMAT)),n&&(n._snapshotInProgress=!0);var a=sbt(t,e),o=e.filename||t.fn||"newplot";o+="."+e.format.replace("-","."),a.then((function(t){return n&&(n._snapshotInProgress=!1),lbt(t,o,e.format)})).then((function(t){r(t)})).catch((function(t){n&&(n._snapshotInProgress=!1),i(t)}))}))},dbt={},hbt=Q4.exports,gbt=hbt.isPlainObject,fbt=vit,pbt=Git.exports,vbt=Xtt,mbt=Rit,ybt=cet.dfltConfig;function bbt(t,e){t=hbt.extendDeep({},t);var n,r,i=Object.keys(t).sort();function a(e,n,i){if(gbt(n)&&gbt(e))bbt(e,n);else if(Array.isArray(n)&&Array.isArray(e)){var a=mbt.arrayTemplater({_template:t},i);for(r=0;r<n.length;r++){var o=n[r],s=a.newItem(o)._template;s&&bbt(s,o)}var l=a.defaultItems();for(r=0;r<l.length;r++)n.push(l[r]._template);for(r=0;r<n.length;r++)delete n[r].templateitemname}}for(n=0;n<i.length;n++){var o=i[n],s=t[o];if(o in e?a(s,e[o],o):e[o]=s,Ibt(o)===o)for(var l in e){var c=Ibt(l);l===c||c!==o||l in t||a(s,e[l],o)}}}function Ibt(t){return t.replace(/[0-9]+$/,"")}function Cbt(t,e,n,r,i){var a=i&&n(i);for(var o in t){var s=t[o],l=Abt(t,o,r),c=Abt(t,o,i),u=n(c);if(!u){var d=Ibt(o);d!==o&&(u=n(c=Abt(t,d,i)))}if((!a||a!==u)&&!(!u||u._noTemplating||"data_array"===u.valType||u.arrayOk&&Array.isArray(s)))if(!u.valType&&gbt(s))Cbt(s,e,n,l,c);else if(u._isLinkedToArray&&Array.isArray(s))for(var h=!1,g=0,f={},p=0;p<s.length;p++){var v=s[p];if(gbt(v)){var m=v.name;if(m)f[m]||(Cbt(v,e,n,Abt(s,g,l),Abt(s,g,c)),g++,f[m]=1);else if(!h){var y=Abt(t,mbt.arrayDefaultKey(o),r),b=Abt(s,g,l);Cbt(v,e,n,b,Abt(s,g,c));var I=hbt.nestedProperty(e,b);hbt.nestedProperty(e,y).set(I.get()),I.set(null),h=!0}}}else{hbt.nestedProperty(e,l).set(s)}}}function xbt(t,e){return fbt.getLayoutValObject(t,hbt.nestedProperty({},e).parts)}function Bbt(t,e){return fbt.getTraceValObject(t,hbt.nestedProperty({},e).parts)}function Abt(t,e,n){return n?Array.isArray(t)?n+"["+e+"]":n+"."+e:e}function Fbt(t){for(var e=0;e<t.length;e++)if(gbt(t[e]))return!0}function Qbt(t){var e;switch(t.code){case"data":e="The template has no key data.";break;case"layout":e="The template has no key layout.";break;case"missing":e=t.path?"There are no templates for item "+t.path+" with name "+t.templateitemname:"There are no templates for trace "+t.index+", of type "+t.traceType+".";break;case"unused":e=t.path?"The template item at "+t.path+" was not used in constructing the plot.":t.dataCount?"Some of the templates of type "+t.traceType+" were not used. The template has "+t.templateCount+" traces, the data only has "+t.dataCount+" of this type.":"The template has "+t.templateCount+" traces of type "+t.traceType+" but there are none in the data.";break;case"reused":e="Some of the templates of type "+t.traceType+" were used more than once. The template has "+t.templateCount+" traces, the data has "+t.dataCount+" of this type."}return t.msg=e,t}dbt.makeTemplate=function(t){t=hbt.isPlainObject(t)?t:hbt.getGraphDiv(t),t=hbt.extendDeep({_context:ybt},{data:t.data,layout:t.layout}),pbt.supplyDefaults(t);var e=t.data||[],n=t.layout||{};n._basePlotModules=t._fullLayout._basePlotModules,n._modules=t._fullLayout._modules;var r={data:{},layout:{}};e.forEach((function(t){var e={};Cbt(t,e,Bbt.bind(null,t));var n=hbt.coerce(t,{},vbt,"type"),i=r.data[n];i||(i=r.data[n]=[]),i.push(e)})),Cbt(n,r.layout,xbt.bind(null,n)),delete r.layout.template;var i=n.template;if(gbt(i)){var a,o,s,l,c,u,d=i.layout;gbt(d)&&bbt(d,r.layout);var h=i.data;if(gbt(h)){for(o in r.data)if(s=h[o],Array.isArray(s)){for(u=(c=r.data[o]).length,l=s.length,a=0;a<u;a++)bbt(s[a%l],c[a]);for(a=u;a<l;a++)c.push(hbt.extendDeep({},s[a]))}for(o in h)o in r.data||(r.data[o]=hbt.extendDeep([],h[o]))}}return r},dbt.validateTemplate=function(t,e){var n=hbt.extendDeep({},{_context:ybt,data:t.data,layout:t.layout}),r=n.layout||{};gbt(e)||(e=r.template||{});var i=e.layout,a=e.data,o=[];n.layout=r,n.layout.template=e,pbt.supplyDefaults(n);var s=n._fullLayout,l=n._fullData,c={};if(gbt(i)?(!function t(e,n){for(var r in e)if("_"!==r.charAt(0)&&gbt(e[r])){var i,a=Ibt(r),o=[];for(i=0;i<n.length;i++)o.push(Abt(e,r,n[i])),a!==r&&o.push(Abt(e,a,n[i]));for(i=0;i<o.length;i++)c[o[i]]=1;t(e[r],o)}}(s,["layout"]),function t(e,n){for(var r in e)if(-1===r.indexOf("defaults")&&gbt(e[r])){var i=Abt(e,r,n);c[i]?t(e[r],i):o.push({code:"unused",path:i})}}(i,"layout")):o.push({code:"layout"}),gbt(a)){for(var u,d={},h=0;h<l.length;h++){var g=l[h];d[u=g.type]=(d[u]||0)+1,g._fullInput._template||o.push({code:"missing",index:g._fullInput.index,traceType:u})}for(u in a){var f=a[u].length,p=d[u]||0;f>p?o.push({code:"unused",traceType:u,templateCount:f,dataCount:p}):p>f&&o.push({code:"reused",traceType:u,templateCount:f,dataCount:p})}}else o.push({code:"data"});if(function t(e,n){for(var r in e)if("_"!==r.charAt(0)){var i=e[r],a=Abt(e,r,n);gbt(i)?(Array.isArray(e)&&!1===i._template&&i.templateitemname&&o.push({code:"missing",path:a,templateitemname:i.templateitemname}),t(i,a)):Array.isArray(i)&&Fbt(i)&&t(i,a)}}({data:l,layout:s},""),o.length)return o.map(Qbt)};var wbt=Ort;Yrt._doPlot=wbt._doPlot,Yrt.newPlot=wbt.newPlot,Yrt.restyle=wbt.restyle,Yrt.relayout=wbt.relayout,Yrt.redraw=wbt.redraw,Yrt.update=wbt.update,Yrt._guiRestyle=wbt._guiRestyle,Yrt._guiRelayout=wbt._guiRelayout,Yrt._guiUpdate=wbt._guiUpdate,Yrt._storeDirectGUIEdit=wbt._storeDirectGUIEdit,Yrt.react=wbt.react,Yrt.extendTraces=wbt.extendTraces,Yrt.prependTraces=wbt.prependTraces,Yrt.addTraces=wbt.addTraces,Yrt.deleteTraces=wbt.deleteTraces,Yrt.moveTraces=wbt.moveTraces,Yrt.purge=wbt.purge,Yrt.addFrames=wbt.addFrames,Yrt.deleteFrames=wbt.deleteFrames,Yrt.animate=wbt.animate,Yrt.setPlotConfig=wbt.setPlotConfig,Yrt.toImage=Xyt,Yrt.validate=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={});var n,r,i=Hyt.get(),a=[],o={_context:Wyt.extendFlat({},Dyt)};Oyt(t)?(o.data=Wyt.extendDeep([],t),n=t):(o.data=[],n=[],a.push(qyt("array","data"))),Yyt(e)?(o.layout=Wyt.extendDeep({},e),r=e):(o.layout={},r={},arguments.length>1&&a.push(qyt("object","layout"))),Myt.supplyDefaults(o);for(var s=o._fullData,l=n.length,c=0;c<l;c++){var u=n[c],d=["data",c];if(Yyt(u)){var h=s[c],g=h.type,f=i.traces[g].attributes;f.type={valType:"enumerated",values:[g]},!1===h.visible&&!1!==u.visible&&a.push(qyt("invisible",d)),Jyt(u,h,f,a,d);var p=u.transforms,v=h.transforms;if(p){Oyt(p)||a.push(qyt("array",d,["transforms"])),d.push("transforms");for(var m=0;m<p.length;m++){var y=["transforms",m],b=p[m].type;if(Yyt(p[m])){var I=i.transforms[b]?i.transforms[b].attributes:{};I.type={valType:"enumerated",values:Object.keys(i.transforms)},Jyt(p[m],v[m],I,a,d,y)}else a.push(qyt("object",d,y))}}}else a.push(qyt("object",d))}var C=o._fullLayout,x=jyt(i,s);return Jyt(r,C,x,a,"layout"),0===a.length?void 0:a},Yrt.downloadImage=ubt;var Ubt=dbt;Yrt.makeTemplate=Ubt.makeTemplate,Yrt.validateTemplate=Ubt.validateTemplate;var Gbt={},Rbt=Hat.FORMAT_LINK,Sbt=Hat.DATE_FORMAT_LINK;function Lbt(t){return["Variables are inserted using %{variable},",'for example "y: %{y}"'+(t&&t.supportOther?" as well as %{xother}, {%_xother}, {%_xother_}, {%xother_}. When showing info for several points, *xother* will be added to those with different x positions from the first point. An underscore before or after *(x|y)other* will add a space on that side, only when this field is shown.":"."),'Numbers are formatted using d3-format\'s syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".',Rbt,"for details on the formatting syntax.",'Dates are formatted using d3-time-format\'s syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".',Sbt,"for details on the date formatting syntax."].join(" ")}function _bt(t){var e=t.description?" "+t.description:"",n=t.keys||[];if(n.length>0){for(var r=[],i=0;i<n.length;i++)r[i]="`"+n[i]+"`";e+="Finally, the template string has access to ",e=1===n.length?"variable "+r[0]:"variables "+r.slice(0,-1).join(", ")+" and "+r.slice(-1)+"."}return e}Gbt.hovertemplateAttrs=function(t,e){t=t||{};var n=_bt(e=e||{}),r={valType:"string",dflt:"",editType:t.editType||"none",description:["Template string used for rendering the information that appear on hover box.","Note that this will override `hoverinfo`.",Lbt({supportOther:!0}),"The variables available in `hovertemplate` are the ones emitted as event data described at this link https://plotly.com/javascript/plotlyjs-events/#event-data.","Additionally, every attributes that can be specified per-point (the ones that are `arrayOk: true`) are available.",n,'Anything contained in tag `<extra>` is displayed in the secondary box, for example "<extra>{fullData.name}</extra>".',"To hide the secondary box completely, use an empty tag `<extra></extra>`."].join(" ")};return!1!==t.arrayOk&&(r.arrayOk=!0),r},Gbt.texttemplateAttrs=function(t,e){t=t||{};var n=_bt(e=e||{}),r={valType:"string",dflt:"",editType:t.editType||"calc",description:["Template string used for rendering the information text that appear on points.","Note that this will override `textinfo`.",Lbt(),"Every attributes that can be specified per-point (the ones that are `arrayOk: true`) are available.",n].join(" ")};return!1!==t.arrayOk&&(r.arrayOk=!0),r};var Ebt={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]},kbt=Jat,Vbt=Gbt.texttemplateAttrs,Zbt=Gbt.hovertemplateAttrs,Nbt=vot,Tbt=Att,Xbt=lnt.dash,Wbt=Uat.exports,Mbt=Ebt,Hbt=Rtt.extendFlat;function Dbt(t){return{valType:"any",dflt:0,editType:"calc",description:["Only relevant when the axis `type` is *date*.","Sets the period positioning in milliseconds or *M<n>* on the "+t+" axis.","Special values in the form of *M<n>* could be used to declare","the number of months. In this case `n` must be a positive integer."].join(" ")}}function Ybt(t){return{valType:"any",editType:"calc",description:["Only relevant when the axis `type` is *date*.","Sets the base for period positioning in milliseconds or date string on the "+t+" axis.","When `"+t+"period` is round number of weeks,","the `"+t+"period0` by default would be on a Sunday i.e. 2000-01-02,","otherwise it would be at 2000-01-01."].join(" ")}}function Obt(t){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc",description:["Only relevant when the axis `type` is *date*.","Sets the alignment of data points on the "+t+" axis."].join(" ")}}var zbt={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0,description:"Sets the x coordinates."},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0,description:["Alternate to `x`.","Builds a linear space of x coordinates.","Use with `dx`","where `x0` is the starting coordinate and `dx` the step."].join(" ")},dx:{valType:"number",dflt:1,editType:"calc",anim:!0,description:["Sets the x coordinate step.","See `x0` for more info."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0,description:"Sets the y coordinates."},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0,description:["Alternate to `y`.","Builds a linear space of y coordinates.","Use with `dy`","where `y0` is the starting coordinate and `dy` the step."].join(" ")},dy:{valType:"number",dflt:1,editType:"calc",anim:!0,description:["Sets the y coordinate step.","See `y0` for more info."].join(" ")},xperiod:Dbt("x"),yperiod:Dbt("y"),xperiod0:Ybt("x0"),yperiod0:Ybt("y0"),xperiodalignment:Obt("x"),yperiodalignment:Obt("y"),xhoverformat:kbt("x"),yhoverformat:kbt("y"),stackgroup:{valType:"string",dflt:"",editType:"calc",description:["Set several scatter traces (on the same subplot) to the same","stackgroup in order to add their y values (or their x values if","`orientation` is *h*). If blank or omitted this trace will not be","stacked. Stacking also turns `fill` on by default, using *tonexty*","(*tonextx*) if `orientation` is *h* (*v*) and sets the default","`mode` to *lines* irrespective of point count.","You can only stack on a numeric (linear or log) axis.","Traces in a `stackgroup` will only fill to (or be filled to) other","traces in the same group. With multiple `stackgroup`s or some","traces stacked and some not, if fill-linked traces are not already","consecutive, the later ones will be pushed down in the drawing order."].join(" ")},orientation:{valType:"enumerated",values:["v","h"],editType:"calc",description:["Only relevant when `stackgroup` is used, and only the first","`orientation` found in the `stackgroup` will be used - including","if `visible` is *legendonly* but not if it is `false`. Sets the","stacking direction. With *v* (*h*), the y (x) values of subsequent","traces are added. Also affects the default value of `fill`."].join(" ")},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc",description:["Only relevant when `stackgroup` is used, and only the first","`groupnorm` found in the `stackgroup` will be used - including","if `visible` is *legendonly* but not if it is `false`.","Sets the normalization for the sum of this `stackgroup`.","With *fraction*, the value of each trace at each location is","divided by the sum of all trace values at that location.","*percent* is the same but multiplied by 100 to show percentages.","If there are multiple subplots, or multiple `stackgroup`s on one","subplot, each will be normalized within its own set."].join(" ")},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc",description:["Only relevant when `stackgroup` is used, and only the first","`stackgaps` found in the `stackgroup` will be used - including","if `visible` is *legendonly* but not if it is `false`.","Determines how we handle locations at which other traces in this","group have data but this one does not.","With *infer zero* we insert a zero at these locations.","With *interpolate* we linearly interpolate between existing","values, and extrapolate a constant beyond the existing values."].join(" ")},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc",description:["Sets text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},texttemplate:Vbt({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style",description:["Sets hover text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc",description:["Determines the drawing mode for this scatter trace.","If the provided `mode` includes *text* then the `text` elements","appear at the coordinates. Otherwise, the `text` elements","appear on hover.","If there are less than "+Mbt.PTS_LINESONLY+" points","and the trace is not stacked","then the default is *lines+markers*. Otherwise, *lines*."].join(" ")},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style",description:["Do the hover effects highlight individual points (markers or","line points) or do they highlight filled regions?","If the fill is *toself* or *tonext* and there are no markers","or text, then the default is *fills*, otherwise it is *points*."].join(" ")},hovertemplate:Zbt({},{keys:Mbt.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0,description:"Sets the line color."},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0,description:"Sets the line width (in px)."},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot",description:["Determines the line shape.","With *spline* the lines are drawn using spline interpolation.","The other available values correspond to step-wise line shapes."].join(" ")},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot",description:["Has an effect only if `shape` is set to *spline*","Sets the amount of smoothing.","*0* corresponds to no smoothing (equivalent to a *linear* shape)."].join(" ")},dash:Hbt({},Xbt,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot",description:["Simplifies lines by removing nearly-collinear points. When transitioning","lines, it may be desirable to disable this so that the number of points","along the resulting SVG path is unaffected."].join(" ")},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the provided data arrays are connected."].join(" ")},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot",description:["Determines whether or not markers and text nodes","are clipped about the subplot axes.","To show markers and text nodes above axis lines and tick labels,","make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."].join(" ")},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc",description:["Sets the area to fill with a solid color.","Defaults to *none* unless this trace is stacked, then it gets","*tonexty* (*tonextx*) if `orientation` is *v* (*h*)","Use with `fillcolor` if not *none*.","*tozerox* and *tozeroy* fill to x=0 and y=0 respectively.","*tonextx* and *tonexty* fill between the endpoints of this","trace and the endpoints of the trace before it, connecting those","endpoints with straight lines (to make a stacked area graph);","if there is no trace before it, they behave like *tozerox* and","*tozeroy*.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other.","Traces in a `stackgroup` will only fill to (or be filled to) other","traces in the same group. With multiple `stackgroup`s or some","traces stacked and some not, if fill-linked traces are not already","consecutive, the later ones will be pushed down in the drawing order."].join(" ")},fillcolor:{valType:"color",editType:"style",anim:!0,description:["Sets the fill color.","Defaults to a half-transparent variant of the line color,","marker color, or marker line color, whichever is available."].join(" ")},marker:Hbt({symbol:{valType:"enumerated",values:Wbt.symbolList,dflt:"circle",arrayOk:!0,editType:"style",description:["Sets the marker symbol type.","Adding 100 is equivalent to appending *-open* to a symbol name.","Adding 200 is equivalent to appending *-dot* to a symbol name.","Adding 300 is equivalent to appending *-open-dot*","or *dot-open* to a symbol name."].join(" ")},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0,description:"Sets the marker opacity."},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0,description:"Sets the marker size (in px)."},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets a maximum number of points to be drawn on the graph.","*0* corresponds to no limit."].join(" ")},sizeref:{valType:"number",dflt:1,editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the scale factor used to determine the rendered size of","marker points. Use with `sizemin` and `sizemode`."].join(" ")},sizemin:{valType:"number",min:0,dflt:0,editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the minimum size (in px) of the rendered marker points."].join(" ")},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the rule for which the data in `size` is converted","to pixels."].join(" ")},line:Hbt({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0,description:"Sets the width (in px) of the lines bounding the marker points."},editType:"calc"},Nbt("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc",description:["Sets the type of gradient used to fill the markers"].join(" ")},color:{valType:"color",arrayOk:!0,editType:"calc",description:["Sets the final color of the gradient fill:","the center color for radial, the right for horizontal,","or the bottom for vertical."].join(" ")},editType:"calc"},editType:"calc"},Nbt("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style",description:"Sets the marker opacity of selected points."},color:{valType:"color",editType:"style",description:"Sets the marker color of selected points."},size:{valType:"number",min:0,editType:"style",description:"Sets the marker size of selected points."},editType:"style"},textfont:{color:{valType:"color",editType:"style",description:"Sets the text font color of selected points."},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style",description:"Sets the marker opacity of unselected points, applied only when a selection exists."},color:{valType:"color",editType:"style",description:"Sets the marker color of unselected points, applied only when a selection exists."},size:{valType:"number",min:0,editType:"style",description:"Sets the marker size of unselected points, applied only when a selection exists."},editType:"style"},textfont:{color:{valType:"color",editType:"style",description:"Sets the text font color of unselected points, applied only when a selection exists."},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc",description:["Sets the positions of the `text` elements","with respects to the (x,y) coordinates."].join(" ")},textfont:Tbt({editType:"calc",colorEditType:"style",arrayOk:!0,description:"Sets the text font."})},Jbt=Q4.exports,jbt=met,Pbt=function(t,e,n,r){var i,a=r("x"),o=r("y");if(jbt.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y"],n),a){var s=Jbt.minRowLength(a);o?i=Math.min(s,Jbt.minRowLength(o)):(i=s,r("y0"),r("dy"))}else{if(!o)return 0;i=Jbt.minRowLength(o),r("x0"),r("dx")}return e._length=i,i},Kbt=Q4.exports.dateTick0,qbt=J6.ONEWEEK;function $bt(t,e){return Kbt(e,t%qbt==0?1:0)}var tIt=function(t,e,n,r,i){if(i||(i={x:!0,y:!0}),i.x){var a=r("xperiod");a&&(r("xperiod0",$bt(a,e.xcalendar)),r("xperiodalignment"))}if(i.y){var o=r("yperiod");o&&(r("yperiod0",$bt(o,e.ycalendar)),r("yperiodalignment"))}},eIt=["orientation","groupnorm","stackgaps"],nIt=Ott.exports,rIt=Mat.hasColorscale,iIt=cst,aIt=Bst,oIt=function(t,e,n,r,i,a){var o=aIt.isBubble(t),s=(t.line||{}).color;(a=a||{},s&&(n=s),i("marker.symbol"),i("marker.opacity",o?.7:1),i("marker.size"),i("marker.color",n),rIt(t,"marker")&&iIt(t,e,r,i,{prefix:"marker.",cLetter:"c"}),a.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),a.noLine||(i("marker.line.color",s&&!Array.isArray(s)&&e.marker.color!==s?s:o?nIt.background:nIt.defaultLine),rIt(t,"marker.line")&&iIt(t,e,r,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",o?1:0)),o&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),a.gradient)&&("none"!==i("marker.gradient.type")&&i("marker.gradient.color"))},sIt=Q4.exports.isArrayOrTypedArray,lIt=Mat.hasColorscale,cIt=cst,uIt=function(t,e,n,r,i,a){var o=(t.marker||{}).color;(i("line.color",n),lIt(t,"line"))?cIt(t,e,r,i,{prefix:"line.",cLetter:"c"}):i("line.color",!sIt(o)&&o||n);i("line.width"),(a||{}).noDash||i("line.dash")},dIt=Q4.exports,hIt=function(t,e,n,r,i){i=i||{},r("textposition"),dIt.coerceFont(r,"textfont",n.font),i.noSelect||(r("selected.textfont.color"),r("unselected.textfont.color"))},gIt=Ott.exports,fIt=Q4.exports.isArrayOrTypedArray,pIt=Q4.exports,vIt=met,mIt=zbt,yIt=Ebt,bIt=Bst,IIt=Pbt,CIt=tIt,xIt=function(t,e,n,r){var i=n._scatterStackOpts,a=r("stackgroup");if(a){var o=e.xaxis+e.yaxis,s=i[o];s||(s=i[o]={});var l=s[a],c=!1;l?l.traces.push(e):(l=s[a]={traceIndices:[],traces:[e]},c=!0);for(var u={orientation:e.x&&!e.y?"h":"v"},d=0;d<eIt.length;d++){var h=eIt[d],g=h+"Found";if(!l[g]){var f=void 0!==t[h],p="orientation"===h;if((f||c)&&(l[h]=r(h,u[h]),p&&(l.fillDflt="h"===l[h]?"tonextx":"tonexty"),f&&(l[g]=!0,!c&&(delete l.traces[0][h],p))))for(var v=0;v<l.traces.length-1;v++){var m=l.traces[v];m._input.fill!==m.fill&&(m.fill=l.fillDflt)}}}return l}},BIt=oIt,AIt=uIt,FIt=function(t,e,n){"spline"===n("line.shape")&&n("line.smoothing")},QIt=hIt,wIt=function(t,e,n,r){var i=!1;if(e.marker){var a=e.marker.color,o=(e.marker.line||{}).color;a&&!fIt(a)?i=a:o&&!fIt(o)&&(i=o)}r("fillcolor",gIt.addOpacity((e.line||{}).color||i||n,.5))},UIt=z6,GIt=Q4.exports,RIt=GIt.dateTime2ms,SIt=GIt.incrementMonth,LIt=J6.ONEAVGMONTH,_It=Mat.hasColorscale,EIt=Ist,kIt=Bst,VIt=function(t,e){kIt.hasLines(e)&&_It(e,"line")&&EIt(t,e,{vals:e.line.color,containerStr:"line",cLetter:"c"}),kIt.hasMarkers(e)&&(_It(e,"marker")&&EIt(t,e,{vals:e.marker.color,containerStr:"marker",cLetter:"c"}),_It(e,"marker.line")&&EIt(t,e,{vals:e.marker.line.color,containerStr:"marker.line",cLetter:"c"}))},ZIt=Q4.exports,NIt=function(t,e){for(var n=0;n<t.length;n++)t[n].i=n;ZIt.mergeArray(e.text,t,"tx"),ZIt.mergeArray(e.texttemplate,t,"txt"),ZIt.mergeArray(e.hovertext,t,"htx"),ZIt.mergeArray(e.customdata,t,"data"),ZIt.mergeArray(e.textposition,t,"tp"),e.textfont&&(ZIt.mergeArrayCastPositive(e.textfont.size,t,"ts"),ZIt.mergeArray(e.textfont.color,t,"tc"),ZIt.mergeArray(e.textfont.family,t,"tf"));var r=e.marker;if(r){ZIt.mergeArrayCastPositive(r.size,t,"ms"),ZIt.mergeArrayCastPositive(r.opacity,t,"mo"),ZIt.mergeArray(r.symbol,t,"mx"),ZIt.mergeArray(r.color,t,"mc");var i=r.line;r.line&&(ZIt.mergeArray(i.color,t,"mlc"),ZIt.mergeArrayCastPositive(i.width,t,"mlw"));var a=r.gradient;a&&"none"!==a.type&&(ZIt.mergeArray(a.type,t,"mgt"),ZIt.mergeArray(a.color,t,"mgc"))}},TIt=Q4.exports,XIt=z6,WIt=Q4.exports,MIt=Aat.exports,HIt=function(t,e,n,r){if("date"!==e.type)return{vals:r};var i=t[n+"periodalignment"];if(!i)return{vals:r};var a,o=t[n+"period"];if(UIt(o)){if((o=+o)<=0)return{vals:r}}else if("string"==typeof o&&"M"===o.charAt(0)){var s=+o.substring(1);if(!(s>0&&Math.round(s)===s))return{vals:r};a=s}for(var l=e.calendar,c="start"===i,u="end"===i,d=t[n+"period0"],h=RIt(d,l)||0,g=[],f=[],p=[],v=r.length,m=0;m<v;m++){var y,b,I,C=r[m];if(a){for(y=Math.round((C-h)/(a*LIt)),I=SIt(h,a*y,l);I>C;)I=SIt(I,-a,l);for(;I<=C;)I=SIt(I,a,l);b=SIt(I,-a,l)}else{for(I=h+(y=Math.round((C-h)/o))*o;I>C;)I-=o;for(;I<=C;)I+=o;b=I-o}g[m]=c?b:u?I:(b+I)/2,f[m]=b,p[m]=I}return{vals:g,starts:f,ends:p}},DIt=J6.BADNUM,YIt=Bst,OIt=VIt,zIt=NIt,JIt=function(t,e){TIt.isArrayOrTypedArray(e.selectedpoints)&&TIt.tagSelected(t,e)};function jIt(t,e,n,r,i,a,o){var s=e._length,l=t._fullLayout,c=n._id,u=r._id,d=l._firstScatter[qIt(e)]===e.uid,h=($It(e,l,n,r)||{}).orientation,g=e.fill;n._minDtick=0,r._minDtick=0;var f={padded:!0},p={padded:!0};o&&(f.ppad=p.ppad=o);var v=s<2||i[0]!==i[s-1]||a[0]!==a[s-1];v&&("tozerox"===g||"tonextx"===g&&(d||"h"===h))?f.tozero=!0:(e.error_y||{}).visible||"tonexty"!==g&&"tozeroy"!==g&&(YIt.hasMarkers(e)||YIt.hasText(e))||(f.padded=!1,f.ppad=0),v&&("tozeroy"===g||"tonexty"===g&&(d||"v"===h))?p.tozero=!0:"tonextx"!==g&&"tozerox"!==g||(p.padded=!1),c&&(e._extremes[c]=MIt.findExtremes(n,i,f)),u&&(e._extremes[u]=MIt.findExtremes(r,a,p))}function PIt(t,e){if(YIt.hasMarkers(t)){var n,r=t.marker,i=1.6*(t.marker.sizeref||1);if(n="area"===t.marker.sizemode?function(t){return Math.max(Math.sqrt((t||0)/i),3)}:function(t){return Math.max((t||0)/i,3)},WIt.isArrayOrTypedArray(r.size)){var a={type:"linear"};MIt.setConvert(a);for(var o=a.makeCalcdata(t.marker,"size"),s=new Array(e),l=0;l<e;l++)s[l]=n(o[l]);return s}return n(r.size)}}function KIt(t,e){var n=qIt(e),r=t._firstScatter;r[n]||(r[n]=e.uid)}function qIt(t){var e=t.stackgroup;return t.xaxis+t.yaxis+t.type+(e?"-"+e:"")}function $It(t,e,n,r){var i=t.stackgroup;if(i){var a=e._scatterStackOpts[n._id+r._id][i],o="v"===a.orientation?r:n;return"linear"===o.type||"log"===o.type?a:void 0}}var tCt={calc:function(t,e){var n,r,i,a,o,s,l=t._fullLayout,c=MIt.getFromId(t,e.xaxis||"x"),u=MIt.getFromId(t,e.yaxis||"y"),d=c.makeCalcdata(e,"x"),h=u.makeCalcdata(e,"y"),g=HIt(e,c,"x",d),f=HIt(e,u,"y",h),p=g.vals,v=f.vals,m=e._length,y=new Array(m),b=e.ids,I=$It(e,l,c,u),C=!1;KIt(l,e);var x,B="x",A="y";I?(WIt.pushUnique(I.traceIndices,e._expandedIndex),(n="v"===I.orientation)?(A="s",x="x"):(B="s",x="y"),o="interpolate"===I.stackgaps):jIt(t,e,c,u,p,v,PIt(e,m));var F=!!e.xperiodalignment,Q=!!e.yperiodalignment;for(r=0;r<m;r++){var w=y[r]={},U=XIt(p[r]),G=XIt(v[r]);U&&G?(w[B]=p[r],w[A]=v[r],F&&(w.orig_x=d[r],w.xEnd=g.ends[r],w.xStart=g.starts[r]),Q&&(w.orig_y=h[r],w.yEnd=f.ends[r],w.yStart=f.starts[r])):I&&(n?U:G)?(w[x]=n?p[r]:v[r],w.gap=!0,o?(w.s=DIt,C=!0):w.s=0):w[B]=w[A]=DIt,b&&(w.id=String(b[r]))}if(zIt(y,e),OIt(t,e),JIt(y,e),I){for(r=0;r<y.length;)y[r][x]===DIt?y.splice(r,1):r++;if(WIt.sort(y,(function(t,e){return t[x]-e[x]||t.i-e.i})),C){for(r=0;r<y.length-1&&y[r].gap;)r++;for((s=y[r].s)||(s=y[r].s=0),i=0;i<r;i++)y[i].s=s;for(a=y.length-1;a>r&&y[a].gap;)a--;for(s=y[a].s,i=y.length-1;i>a;i--)y[i].s=s;for(;r<a;)if(y[++r].gap){for(i=r+1;y[i].gap;)i++;for(var R=y[r-1][x],S=y[r-1].s,L=(y[i].s-S)/(y[i][x]-R);r<i;)y[r].s=S+(y[r][x]-R)*L,r++}}}return y},calcMarkerSize:PIt,calcAxisExpansion:jIt,setFirstScatter:KIt,getStackOpts:$It},eCt=tCt;function nCt(t,e,n,r,i,a,o){i[r]=!0;var s={i:null,gap:!0,s:0};if(s[o]=n,t.splice(e,0,s),e&&n===t[e-1][o]){var l=t[e-1];s.s=l.s,s.i=l.i,s.gap=l.gap}else a&&(s.s=function(t,e,n,r){var i=t[e-1],a=t[e+1];return a?i?i.s+(a.s-i.s)*(n-i[r])/(a[r]-i[r]):a.s:i.s}(t,e,n,o));e||(t[0].t=t[1].t,t[0].trace=t[1].trace,delete t[1].t,delete t[1].trace)}var rCt=J6.BADNUM,iCt=J6.LOG_CLIP,aCt=iCt+.5,oCt=iCt-.5,sCt=Q4.exports,lCt=sCt.segmentsIntersect,cCt=sCt.constrain,uCt=Ebt,dCt={tonextx:1,tonexty:1,tonext:1},hCt=w4.exports,gCt=met,fCt=Q4.exports,pCt=fCt.ensureSingle,vCt=fCt.identity,mCt=Uat.exports,yCt=Bst,bCt=function(t,e){var n,r,i,a,o,s,l,c,u,d,h,g,f,p,v,m,y,b,I=e.xaxis,C=e.yaxis,x="log"===I.type,B="log"===C.type,A=I._length,F=C._length,Q=e.connectGaps,w=e.baseTolerance,U=e.shape,G="linear"===U,R=e.fill&&"none"!==e.fill,S=[],L=uCt.minTolerance,_=t.length,E=new Array(_),k=0;function V(n){var r=t[n];if(!r)return!1;var i=e.linearized?I.l2p(r.x):I.c2p(r.x),a=e.linearized?C.l2p(r.y):C.c2p(r.y);if(i===rCt){if(x&&(i=I.c2p(r.x,!0)),i===rCt)return!1;B&&a===rCt&&(i*=Math.abs(I._m*F*(I._m>0?aCt:oCt)/(C._m*A*(C._m>0?aCt:oCt)))),i*=1e3}if(a===rCt){if(B&&(a=C.c2p(r.y,!0)),a===rCt)return!1;a*=1e3}return[i,a]}function Z(t,e,n,r){var i=n-t,a=r-e,o=.5-t,s=.5-e,l=i*i+a*a,c=i*o+a*s;if(c>0&&c<l){var u=o*a-s*i;if(u*u<l)return!0}}function N(t,e){var n=t[0]/A,r=t[1]/F,i=Math.max(0,-n,n-1,-r,r-1);return i&&void 0!==y&&Z(n,r,y,b)&&(i=0),i&&e&&Z(n,r,e[0]/A,e[1]/F)&&(i=0),(1+uCt.toleranceGrowth*i)*w}function T(t,e){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}var X,W,M,H,D,Y,O,z=uCt.maxScreensAway,J=-A*z,j=A*(1+z),P=-F*z,K=F*(1+z),q=[[J,P,j,P],[j,P,j,K],[j,K,J,K],[J,K,J,P]];function $(t){if(t[0]<J||t[0]>j||t[1]<P||t[1]>K)return[cCt(t[0],J,j),cCt(t[1],P,K)]}function tt(t,e){return t[0]===e[0]&&(t[0]===J||t[0]===j)||(t[1]===e[1]&&(t[1]===P||t[1]===K)||void 0)}function et(t,e,n){return function(r,i){var a=$(r),o=$(i),s=[];if(a&&o&&tt(a,o))return s;a&&s.push(a),o&&s.push(o);var l=2*sCt.constrain((r[t]+i[t])/2,e,n)-((a||r)[t]+(o||i)[t]);l&&((a&&o?l>0==a[t]>o[t]?a:o:a||o)[t]+=l);return s}}function nt(t){var e=t[0],n=t[1],r=e===E[k-1][0],i=n===E[k-1][1];if(!r||!i)if(k>1){var a=e===E[k-2][0],o=n===E[k-2][1];r&&(e===J||e===j)&&a?o?k--:E[k-1]=t:i&&(n===P||n===K)&&o?a?k--:E[k-1]=t:E[k++]=t}else E[k++]=t}function rt(t){E[k-1][0]!==t[0]&&E[k-1][1]!==t[1]&&nt([M,H]),nt(t),D=null,M=H=0}function it(t){if(y=t[0]/A,b=t[1]/F,X=t[0]<J?J:t[0]>j?j:0,W=t[1]<P?P:t[1]>K?K:0,X||W){if(k)if(D){var e=O(D,t);e.length>1&&(rt(e[0]),E[k++]=e[1])}else Y=O(E[k-1],t)[0],E[k++]=Y;else E[k++]=[X||t[0],W||t[1]];var n=E[k-1];X&&W&&(n[0]!==X||n[1]!==W)?(D&&(M!==X&&H!==W?nt(M&&H?function(t,e){var n=e[0]-t[0],r=(e[1]-t[1])/n;return(t[1]*e[0]-e[1]*t[0])/n>0?[r>0?J:j,K]:[r>0?j:J,P]}(D,t):[M||X,H||W]):M&&H&&nt([M,H])),nt([X,W])):M-X&&H-W&&nt([X||M,W||H]),D=t,M=X,H=W}else D&&rt(O(D,t)[0]),E[k++]=t}for("linear"===U||"spline"===U?O=function(t,e){for(var n=[],r=0,i=0;i<4;i++){var a=q[i],o=lCt(t[0],t[1],e[0],e[1],a[0],a[1],a[2],a[3]);o&&(!r||Math.abs(o.x-n[0][0])>1||Math.abs(o.y-n[0][1])>1)&&(o=[o.x,o.y],r&&T(o,t)<T(n[0],t)?n.unshift(o):n.push(o),r++)}return n}:"hv"===U||"vh"===U?O=function(t,e){var n=[],r=$(t),i=$(e);return r&&i&&tt(r,i)||(r&&n.push(r),i&&n.push(i)),n}:"hvh"===U?O=et(0,J,j):"vhv"===U&&(O=et(1,P,K)),n=0;n<_;n++)if(r=V(n)){for(k=0,D=null,it(r),n++;n<_;n++){if(!(a=V(n))){if(Q)continue;break}if(G&&e.simplify){var at=V(n+1);if(d=T(a,r),R&&(0===k||k===_-1)||!(d<N(a,at)*L)){for(c=[(a[0]-r[0])/d,(a[1]-r[1])/d],o=r,h=d,g=p=v=0,l=!1,i=a,n++;n<t.length;n++){if(s=at,at=V(n+1),!s){if(Q)continue;break}if(m=(u=[s[0]-r[0],s[1]-r[1]])[0]*c[1]-u[1]*c[0],p=Math.min(p,m),(v=Math.max(v,m))-p>N(s,at))break;i=s,(f=u[0]*c[0]+u[1]*c[1])>h?(h=f,a=s,l=!1):f<g&&(g=f,o=s,l=!0)}if(l?(it(a),i!==o&&it(o)):(o!==r&&it(o),i!==a&&it(a)),it(i),n>=t.length||!s)break;it(s),r=s}}else it(a)}D&&nt([M||D[0],H||D[1]]),S.push(E.slice(0,k))}return S},ICt=function(t,e,n){var r,i,a,o,s,l={},c=!1,u=-1,d=0,h=-1;for(i=0;i<n.length;i++)(a=(r=n[i][0].trace).stackgroup||"")?a in l?s=l[a]:(s=l[a]=d,d++):r.fill in dCt&&h>=0?s=h:(s=h=d,d++),s<u&&(c=!0),r._groupIndex=u=s;var g=n.slice();c&&g.sort((function(t,e){var n=t[0].trace,r=e[0].trace;return n._groupIndex-r._groupIndex||n.index-r.index}));var f={};for(i=0;i<g.length;i++)a=(r=g[i][0].trace).stackgroup||"",!0===r.visible?(r._nexttrace=null,r.fill in dCt&&(o=f[a],r._prevtrace=o||null,o&&(o._nexttrace=r)),r._ownfill=r.fill&&("tozero"===r.fill.substr(0,6)||"toself"===r.fill||"to"===r.fill.substr(0,2)&&!r._prevtrace),f[a]=r):r._prevtrace=r._nexttrace=r._ownfill=null;return g},CCt=Avt.exports.tester;function xCt(t,e,n,r,i,a,o){var s;!function(t,e,n,r,i){var a=n.xaxis,o=n.yaxis,s=hCt.extent(fCt.simpleMap(a.range,a.r2c)),l=hCt.extent(fCt.simpleMap(o.range,o.r2c)),c=r[0].trace;if(!yCt.hasMarkers(c))return;var u=c.marker.maxdisplayed;if(0===u)return;var d=r.filter((function(t){return t.x>=s[0]&&t.x<=s[1]&&t.y>=l[0]&&t.y<=l[1]})),h=Math.ceil(d.length/u),g=0;i.forEach((function(t,n){var r=t[0].trace;yCt.hasMarkers(r)&&r.marker.maxdisplayed>0&&n<e&&g++}));var f=Math.round(g*h/3+Math.floor(g/3)*h/7.1);r.forEach((function(t){delete t.vis})),d.forEach((function(t,e){0===Math.round((e+f)%h)&&(t.vis=!0)}))}(0,e,n,r,i);var l=!!o&&o.duration>0;function c(t){return l?t.transition():t}var u=n.xaxis,d=n.yaxis,h=r[0].trace,g=h.line,f=hCt.select(a),p=pCt(f,"g","errorbars"),v=pCt(f,"g","lines"),m=pCt(f,"g","points"),y=pCt(f,"g","text");if(gCt.getComponentMethod("errorbars","plot")(t,p,n,o),!0===h.visible){var b,I;c(f).style("opacity",h.opacity);var C=h.fill.charAt(h.fill.length-1);"x"!==C&&"y"!==C&&(C=""),r[0][n.isRangePlot?"nodeRangePlot3":"node3"]=f;var x,B,A="",F=[],Q=h._prevtrace;Q&&(A=Q._prevRevpath||"",I=Q._nextFill,F=Q._polygons);var w,U,G,R,S,L,_,E="",k="",V=[],Z=fCt.noop;if(b=h._ownFill,yCt.hasLines(h)||"none"!==h.fill){for(I&&I.datum(r),-1!==["hv","vh","hvh","vhv"].indexOf(g.shape)?(w=mCt.steps(g.shape),U=mCt.steps(g.shape.split("").reverse().join(""))):w=U="spline"===g.shape?function(t){var e=t[t.length-1];return t.length>1&&t[0][0]===e[0]&&t[0][1]===e[1]?mCt.smoothclosed(t.slice(1),g.smoothing):mCt.smoothopen(t,g.smoothing)}:function(t){return"M"+t.join("L")},G=function(t){return U(t.reverse())},V=bCt(r,{xaxis:u,yaxis:d,connectGaps:h.connectgaps,baseTolerance:Math.max(g.width||1,3)/4,shape:g.shape,simplify:g.simplify,fill:h.fill}),_=h._polygons=new Array(V.length),s=0;s<V.length;s++)h._polygons[s]=CCt(V[s]);V.length&&(R=V[0][0],L=(S=V[V.length-1])[S.length-1]),Z=function(t){return function(e){if(x=w(e),B=G(e),E?C?(E+="L"+x.substr(1),k=B+"L"+k.substr(1)):(E+="Z"+x,k=B+"Z"+k):(E=x,k=B),yCt.hasLines(h)&&e.length>1){var n=hCt.select(this);if(n.datum(r),t)c(n.style("opacity",0).attr("d",x).call(mCt.lineGroupStyle)).style("opacity",1);else{var i=c(n);i.attr("d",x),mCt.singleLineStyle(r,i)}}}}}var N=v.selectAll(".js-line").data(V);c(N.exit()).style("opacity",0).remove(),N.each(Z(!1)),N.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(mCt.lineGroupStyle).each(Z(!0)),mCt.setClipUrl(N,n.layerClipId,t),V.length?(b?(b.datum(r),R&&L&&(C?("y"===C?R[1]=L[1]=d.c2p(0,!0):"x"===C&&(R[0]=L[0]=u.c2p(0,!0)),c(b).attr("d","M"+L+"L"+R+"L"+E.substr(1)).call(mCt.singleFillStyle)):c(b).attr("d",E+"Z").call(mCt.singleFillStyle))):I&&("tonext"===h.fill.substr(0,6)&&E&&A?("tonext"===h.fill?c(I).attr("d",E+"Z"+A+"Z").call(mCt.singleFillStyle):c(I).attr("d",E+"L"+A.substr(1)+"Z").call(mCt.singleFillStyle),h._polygons=h._polygons.concat(F)):(X(I),h._polygons=null)),h._prevRevpath=k,h._prevPolygons=_):(b?X(b):I&&X(I),h._polygons=h._prevRevpath=h._prevPolygons=null),m.datum(r),y.datum(r),function(e,r,i){var a,o=i[0].trace,s=yCt.hasMarkers(o),h=yCt.hasText(o),g=Y(o),f=O,p=O;if(s||h){var v=vCt,m=o.stackgroup,y=m&&"infer zero"===t._fullLayout._scatterStackOpts[u._id+d._id][m].stackgaps;o.marker.maxdisplayed||o._needsCull?v=y?M:W:m&&!y&&(v=H),s&&(f=v),h&&(p=v)}var b,I=(a=e.selectAll("path.point").data(f,g)).enter().append("path").classed("point",!0);l&&I.call(mCt.pointStyle,o,t).call(mCt.translatePoints,u,d).style("opacity",0).transition().style("opacity",1),a.order(),s&&(b=mCt.makePointStyleFns(o)),a.each((function(e){var r=hCt.select(this),i=c(r);mCt.translatePoint(e,i,u,d)?(mCt.singlePointStyle(e,i,o,b,t),n.layerClipId&&mCt.hideOutsideRangePoint(e,i,u,d,o.xcalendar,o.ycalendar),o.customdata&&r.classed("plotly-customdata",null!==e.data&&void 0!==e.data)):i.remove()})),l?a.exit().transition().style("opacity",0).remove():a.exit().remove(),(a=r.selectAll("g").data(p,g)).enter().append("g").classed("textpoint",!0).append("text"),a.order(),a.each((function(t){var e=hCt.select(this),r=c(e.select("text"));mCt.translatePoint(t,r,u,d)?n.layerClipId&&mCt.hideOutsideRangePoint(t,e,u,d,o.xcalendar,o.ycalendar):e.remove()})),a.selectAll("text").call(mCt.textPointStyle,o,t).each((function(t){var e=u.c2p(t.x),n=d.c2p(t.y);hCt.select(this).selectAll("tspan.line").each((function(){c(hCt.select(this)).attr({x:e,y:n})}))})),a.exit().remove()}(m,y,r);var T=!1===h.cliponaxis?null:n.layerClipId;mCt.setClipUrl(m,T,t),mCt.setClipUrl(y,T,t)}function X(t){c(t).attr("d","M0,0Z")}function W(t){return t.filter((function(t){return!t.gap&&t.vis}))}function M(t){return t.filter((function(t){return t.vis}))}function H(t){return t.filter((function(t){return!t.gap}))}function D(t){return t.id}function Y(t){if(t.ids)return D}function O(){return!1}}var BCt={container:"marker",min:"cmin",max:"cmax"},ACt=Aat.exports,FCt=w4.exports,QCt=Uat.exports,wCt=met;function UCt(t,e,n){QCt.pointStyle(t.selectAll("path.point"),e,n)}function GCt(t,e,n){QCt.textPointStyle(t.selectAll("text"),e,n)}var RCt={style:function(t){var e=FCt.select(t).selectAll("g.trace.scatter");e.style("opacity",(function(t){return t[0].trace.opacity})),e.selectAll("g.points").each((function(e){UCt(FCt.select(this),e.trace||e[0].trace,t)})),e.selectAll("g.text").each((function(e){GCt(FCt.select(this),e.trace||e[0].trace,t)})),e.selectAll("g.trace path.js-line").call(QCt.lineGroupStyle),e.selectAll("g.trace path.js-fill").call(QCt.fillGroupStyle),wCt.getComponentMethod("errorbars","style")(e)},stylePoints:UCt,styleText:GCt,styleOnSelect:function(t,e,n){var r=e[0].trace;r.selectedpoints?(QCt.selectedPointStyle(n.selectAll("path.point"),r),QCt.selectedTextStyle(n.selectAll("text"),r)):(UCt(n,r,t),GCt(n,r,t))}},SCt=Ott.exports,LCt=Bst,_Ct=Q4.exports,ECt=Vgt,kCt=met,VCt=function(t,e){var n,r;if("lines"===t.mode)return(n=t.line.color)&&SCt.opacity(n)?n:t.fillcolor;if("none"===t.mode)return t.fill?t.fillcolor:"";var i=e.mcc||(t.marker||{}).color,a=e.mlcc||((t.marker||{}).line||{}).color;return(r=i&&SCt.opacity(i)?i:a&&SCt.opacity(a)&&(e.mlw||((t.marker||{}).line||{}).width)?a:"")?SCt.opacity(r)<.3?SCt.addOpacity(r,.3):r:(n=(t.line||{}).color)&&SCt.opacity(n)&&LCt.hasLines(t)&&t.line.width?n:t.fillcolor},ZCt=Ott.exports,NCt=_Ct.fillText,TCt=Bst,XCt={},WCt={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's x coordinates and","a 2D cartesian x axis.","If *x* (the default value), the x coordinates refer to","`layout.xaxis`.","If *x2*, the x coordinates refer to `layout.xaxis2`, and so on."].join(" ")},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's y coordinates and","a 2D cartesian y axis.","If *y* (the default value), the y coordinates refer to","`layout.yaxis`.","If *y2*, the y coordinates refer to `layout.yaxis2`, and so on."].join(" ")}},MCt=met.traceIs,HCt=ect,DCt=function(t,e,n,r){n("autotypenumbers",r.autotypenumbersDflt),"-"===n("type",(r.splomStash||{}).type)&&(!function(t,e){if("-"!==t.type)return;var n,r=t._id,i=r.charAt(0);-1!==r.indexOf("scene")&&(r=i);var a=function(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if("splom"===i.type&&i._length>0&&(i["_"+n+"axes"]||{})[e])return i;if((i[n+"axis"]||n)===e){if(OCt(i,n))return i;if((i[n]||[]).length||i[n+"0"])return i}}}(e,r,i);if(!a)return;if("histogram"===a.type&&i==={v:"y",h:"x"}[a.orientation||"v"])return void(t.type="linear");var o=i+"calendar",s=a[o],l={noMultiCategory:!MCt(a,"cartesian")||MCt(a,"noMultiCategory")};"box"===a.type&&a._hasPreCompStats&&i==={h:"x",v:"y"}[a.orientation||"v"]&&(l.noMultiCategory=!0);if(l.autotypenumbers=t.autotypenumbers,OCt(a,i)){var c=YCt(a),u=[];for(n=0;n<e.length;n++){var d=e[n];MCt(d,"box-violin")&&(d[i+"axis"]||i)===r&&(void 0!==d[c]?u.push(d[c][0]):void 0!==d.name?u.push(d.name):u.push("text"),d[o]!==s&&(s=void 0))}t.type=HCt(u,s,l)}else if("splom"===a.type){var h=a.dimensions[a._axesDim[r]];h.visible&&(t.type=HCt(h.values,s,l))}else t.type=HCt(a[i]||[a[i+"0"]],s,l)}(e,r.data),"-"===e.type?e.type="linear":t.type=e.type)};function YCt(t){return{v:"x",h:"y"}[t.orientation||"v"]}function OCt(t,e){var n=YCt(t),r=MCt(t,"box-violin"),i=MCt(t._fullInput||{},"candlestick");return r&&!i&&e===n&&void 0===t[n]&&void 0===t[n+"0"]}var zCt=Btt.exports.mix,JCt=ztt.lightFraction,jCt=Q4.exports,PCt=z6,KCt=met,qCt=Q4.exports,$Ct=Not,txt=oot,ext=Sot,nxt=Eot,rxt=Dot,ixt=zot,axt=function(t,e,n,r){if("category"===e.type){var i,a=t.categoryarray,o=Array.isArray(a)&&a.length>0;o&&(i="array");var s,l=n("categoryorder",i);"array"===l&&(s=n("categoryarray")),o||"array"!==l||(l=e.categoryorder="trace"),"trace"===l?e._initialCategories=[]:"array"===l?e._initialCategories=s.slice():(s=function(t,e){var n,r,i,a=e.dataAttr||t._id.charAt(0),o={};if(e.axData)n=e.axData;else for(n=[],r=0;r<e.data.length;r++){var s=e.data[r];s[a+"axis"]===t._id&&n.push(s)}for(r=0;r<n.length;r++){var l=n[r][a];for(i=0;i<l.length;i++){var c=l[i];null!=c&&(o[c]=1)}}return Object.keys(o)}(e,r).sort(),"category ascending"===l?e._initialCategories=s:"category descending"===l&&(e._initialCategories=s.reverse()))}},oxt=function(t,e,n,r){var i=(r=r||{}).dfltColor;function a(n,i){return jCt.coerce2(t,e,r.attributes,n,i)}var o=a("linecolor",i),s=a("linewidth");n("showline",r.showLine||!!o||!!s)||(delete e.linecolor,delete e.linewidth);var l=a("gridcolor",zCt(i,r.bgColor,r.blend||JCt).toRgbString()),c=a("gridwidth");if(n("showgrid",r.showGrid||!!l||!!c)||(delete e.gridcolor,delete e.gridwidth),!r.noZeroLine){var u=a("zerolinecolor",i),d=a("zerolinewidth");n("zeroline",r.showGrid||!!u||!!d)||(delete e.zerolinecolor,delete e.zerolinewidth)}},sxt=zlt,lxt=Nit.WEEKDAY_PATTERN,cxt=Nit.HOUR_PATTERN,uxt=function(t,e,n,r,i){var a,o=r.letter,s=r.font||{},l=r.splomStash||{},c=n("visible",!r.visibleDflt),u=e._template||{},d=e.type||u.type||"-";"date"===d&&(KCt.getComponentMethod("calendars","handleDefaults")(t,e,"calendar",r.calendar),r.noTicklabelmode||(a=n("ticklabelmode")));var h="";r.noTicklabelposition&&"multicategory"!==d||(h=qCt.coerce(t,e,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===a?["outside","inside"]:"x"===o?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),r.noTicklabeloverflow||n("ticklabeloverflow",-1!==h.indexOf("inside")?"hide past domain":"category"===d||"multicategory"===d?"allow":"hide past div"),sxt(e,i);var g=!e.isValidRange(t.range);g&&r.reverseDflt&&(g="reversed"),!n("autorange",g)||"linear"!==d&&"-"!==d||n("rangemode"),n("range"),e.cleanRange(),axt(t,e,n,r),"category"===d||r.noHover||n("hoverformat");var f=n("color"),p=f!==txt.color.dflt?f:s.color,v=l.label||i._dfltTitle[o];if(ixt(t,e,n,d,r),!c)return e;n("title.text",v),qCt.coerceFont(n,"title.font",{family:s.family,size:qCt.bigFont(s.size),color:p}),ext(t,e,n,d),rxt(t,e,n,d,r),nxt(t,e,n,r),oxt(t,e,n,{dfltColor:f,bgColor:r.bgColor,showGrid:r.showGrid,attributes:txt}),(e.showline||e.ticks)&&n("mirror"),r.automargin&&n("automargin");var m,y="multicategory"===d;r.noTickson||"category"!==d&&!y||!e.ticks&&!e.showgrid||(y&&(m="boundaries"),"boundaries"===n("tickson",m)&&delete e.ticklabelposition);y&&(n("showdividers")&&(n("dividercolor"),n("dividerwidth")));if("date"===d)if($Ct(t,e,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:dxt}),e.rangebreaks.length){for(var b=0;b<e.rangebreaks.length;b++)if(e.rangebreaks[b].pattern===lxt){e._hasDayOfWeekBreaks=!0;break}if(sxt(e,i),i._has("scattergl")||i._has("splom"))for(var I=0;I<r.data.length;I++){var C=r.data[I];"scattergl"!==C.type&&"splom"!==C.type||(C.visible=!1,qCt.warn(C.type+" traces do not work on axes with rangebreaks. Setting trace "+C.index+" to `visible: false`."))}}else delete e.rangebreaks;return e};function dxt(t,e,n){function r(n,r){return qCt.coerce(t,e,txt.rangebreaks,n,r)}if(r("enabled")){var i=r("bounds");if(i&&i.length>=2){var a,o,s="";if(2===i.length)for(a=0;a<2;a++)if(o=gxt(i[a])){s=lxt;break}var l=r("pattern",s);if(l===lxt)for(a=0;a<2;a++)(o=gxt(i[a]))&&(e.bounds[a]=i[a]=o-1);if(l)for(a=0;a<2;a++)switch(o=i[a],l){case lxt:if(!PCt(o))return void(e.enabled=!1);if((o=+o)!==Math.floor(o)||o<0||o>=7)return void(e.enabled=!1);e.bounds[a]=i[a]=o;break;case cxt:if(!PCt(o))return void(e.enabled=!1);if((o=+o)<0||o>24)return void(e.enabled=!1);e.bounds[a]=i[a]=o}if(!1===n.autorange){var c=n.range;if(c[0]<c[1]){if(i[0]<c[0]&&i[1]>c[1])return void(e.enabled=!1)}else if(i[0]>c[0]&&i[1]<c[1])return void(e.enabled=!1)}}else{var u=r("values");if(!u||!u.length)return void(e.enabled=!1);r("dvalue")}}}var hxt={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function gxt(t){if("string"==typeof t)return hxt[t.substr(0,3).toLowerCase()]}var fxt=z6,pxt=Q4.exports,vxt=function(t,e,n,r){var i,a,o,s,l=r.counterAxes||[],c=r.overlayableAxes||[],u=r.letter,d=r.grid;d&&(a=d._domains[u][d._axisMap[e._id]],i=d._anchors[e._id],a&&(o=d[u+"side"].split(" ")[0],s=d.domain[u]["right"===o||"top"===o?1:0])),a=a||[0,1],i=i||(fxt(t.position)?"free":l[0]||"free"),o=o||("x"===u?"bottom":"left"),s=s||0,"free"===pxt.coerce(t,e,{anchor:{valType:"enumerated",values:["free"].concat(l),dflt:i}},"anchor")&&n("position",s),pxt.coerce(t,e,{side:{valType:"enumerated",values:"x"===u?["bottom","top"]:["left","right"],dflt:o}},"side");var h=!1;if(c.length&&(h=pxt.coerce(t,e,{overlaying:{valType:"enumerated",values:[!1].concat(c),dflt:!1}},"overlaying")),!h){var g=n("domain",a);g[0]>g[1]-1/4096&&(e.domain=a),pxt.noneOrAll(t.domain,e.domain,a)}return n("layer"),e},mxt=Q4.exports,yxt=Ott.exports,bxt=Qst.isUnifiedHover,Ixt=xgt,Cxt=Rit,xxt=Int,Bxt=oot,Axt=DCt,Fxt=uxt,Qxt=Wpt,wxt=vxt,Uxt=Vit,Gxt=Uxt.id2name,Rxt=Uxt.name2id,Sxt=Nit.AX_ID_PATTERN,Lxt=met.traceIs,_xt=met.getComponentMethod;function Ext(t,e,n){Array.isArray(t[e])?t[e].push(n):t[e]=[n]}var kxt=w4.exports,Vxt=met,Zxt=Q4.exports,Nxt=Uat.exports,Txt=Aat.exports,Xxt=w4.exports,Wxt=met,Mxt=Q4.exports,Hxt=Git.exports,Dxt=Uat.exports,Yxt=Xit.getModuleCalcData,Oxt=Vit,zxt=Nit,Jxt=Qat,jxt=Mxt.ensureSingle;function Pxt(t,e,n){return Mxt.ensureSingle(t,e,n,(function(t){t.datum(n)}))}function Kxt(t,e,n,r,i){for(var a,o,s,l=zxt.traceLayerClasses,c=t._fullLayout,u=c._modules,d=[],h=[],g=0;g<u.length;g++){var f=(a=u[g]).name,p=Wxt.modules[f].categories;if(p.svg){var v=a.layerName||f+"layer",m=a.plot;s=(o=Yxt(n,m))[0],n=o[1],s.length&&d.push({i:l.indexOf(v),className:v,plotMethod:m,cdModule:s}),p.zoomScale&&h.push("."+v)}}d.sort((function(t,e){return t.i-e.i}));var y=e.plot.selectAll("g.mlayer").data(d,(function(t){return t.className}));if(y.enter().append("g").attr("class",(function(t){return t.className})).classed("mlayer",!0).classed("rangeplot",e.isRangePlot),y.exit().remove(),y.order(),y.each((function(n){var a=Xxt.select(this),o=n.className;n.plotMethod(t,e,n.cdModule,a,r,i),-1===zxt.clipOnAxisFalseQuery.indexOf("."+o)&&Dxt.setClipUrl(a,e.layerClipId,t)})),c._has("scattergl")&&(a=Wxt.getModule("scattergl"),s=Yxt(n,a)[0],a.plot(t,e,s)),!t._context.staticPlot&&(e._hasClipOnAxisFalse&&(e.clipOnAxisFalseTraces=e.plot.selectAll(zxt.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),h.length)){var b=e.plot.selectAll(h.join(",")).selectAll(".trace");e.zoomScalePts=b.selectAll("path.point"),e.zoomScaleTxt=b.selectAll(".textpoint")}}function qxt(t,e){var n=e.plotgroup,r=e.id,i=zxt.layerValue2layerClass[e.xaxis.layer],a=zxt.layerValue2layerClass[e.yaxis.layer],o=t._fullLayout._hasOnlyLargeSploms;if(e.mainplot){var s=e.mainplotinfo,l=s.plotgroup,c=r+"-x",u=r+"-y";e.gridlayer=s.gridlayer,e.zerolinelayer=s.zerolinelayer,jxt(s.overlinesBelow,"path",c),jxt(s.overlinesBelow,"path",u),jxt(s.overaxesBelow,"g",c),jxt(s.overaxesBelow,"g",u),e.plot=jxt(s.overplot,"g",r),jxt(s.overlinesAbove,"path",c),jxt(s.overlinesAbove,"path",u),jxt(s.overaxesAbove,"g",c),jxt(s.overaxesAbove,"g",u),e.xlines=l.select(".overlines-"+i).select("."+c),e.ylines=l.select(".overlines-"+a).select("."+u),e.xaxislayer=l.select(".overaxes-"+i).select("."+c),e.yaxislayer=l.select(".overaxes-"+a).select("."+u)}else if(o)e.xlines=jxt(n,"path","xlines-above"),e.ylines=jxt(n,"path","ylines-above"),e.xaxislayer=jxt(n,"g","xaxislayer-above"),e.yaxislayer=jxt(n,"g","yaxislayer-above");else{var d=jxt(n,"g","layer-subplot");e.shapelayer=jxt(d,"g","shapelayer"),e.imagelayer=jxt(d,"g","imagelayer"),e.gridlayer=jxt(n,"g","gridlayer"),e.zerolinelayer=jxt(n,"g","zerolinelayer"),jxt(n,"path","xlines-below"),jxt(n,"path","ylines-below"),e.overlinesBelow=jxt(n,"g","overlines-below"),jxt(n,"g","xaxislayer-below"),jxt(n,"g","yaxislayer-below"),e.overaxesBelow=jxt(n,"g","overaxes-below"),e.plot=jxt(n,"g","plot"),e.overplot=jxt(n,"g","overplot"),e.xlines=jxt(n,"path","xlines-above"),e.ylines=jxt(n,"path","ylines-above"),e.overlinesAbove=jxt(n,"g","overlines-above"),jxt(n,"g","xaxislayer-above"),jxt(n,"g","yaxislayer-above"),e.overaxesAbove=jxt(n,"g","overaxes-above"),e.xlines=n.select(".xlines-"+i),e.ylines=n.select(".ylines-"+a),e.xaxislayer=n.select(".xaxislayer-"+i),e.yaxislayer=n.select(".yaxislayer-"+a)}o||(Pxt(e.gridlayer,"g",e.xaxis._id),Pxt(e.gridlayer,"g",e.yaxis._id),e.gridlayer.selectAll("g").map((function(t){return t[0]})).sort(Oxt.idSort)),e.xlines.style("fill","none").classed("crisp",!0),e.ylines.style("fill","none").classed("crisp",!0)}function $xt(t,e){if(t){var n={};for(var r in t.each((function(t){var r=t[0];Xxt.select(this).remove(),tBt(r,e),n[r]=!0})),e._plots)for(var i=e._plots[r].overlays||[],a=0;a<i.length;a++){var o=i[a];n[o.id]&&o.plot.selectAll(".trace").remove()}}}function tBt(t,e){e._draggers.selectAll("g."+t).remove(),e._defs.select("#clip"+e._uid+t+"plot").remove()}XCt.name="cartesian",XCt.attr=["xaxis","yaxis"],XCt.idRoot=["x","y"],XCt.idRegex=zxt.idRegex,XCt.attrRegex=zxt.attrRegex,XCt.attributes=WCt,XCt.layoutAttributes=oot,XCt.supplyLayoutDefaults=function(t,e,n){var r,i,a=e.autotypenumbers,o={},s={},l={},c={},u={},d={},h={},g={},f={},p={};for(r=0;r<n.length;r++){var v=n[r];if(Lxt(v,"cartesian")||Lxt(v,"gl2d")){var m,y;if(v.xaxis)m=Gxt(v.xaxis),Ext(o,m,v);else if(v.xaxes)for(i=0;i<v.xaxes.length;i++)Ext(o,Gxt(v.xaxes[i]),v);if(v.yaxis)y=Gxt(v.yaxis),Ext(o,y,v);else if(v.yaxes)for(i=0;i<v.yaxes.length;i++)Ext(o,Gxt(v.yaxes[i]),v);if("funnel"===v.type?"h"===v.orientation?(m&&(s[m]=!0),y&&(h[y]=!0)):y&&(l[y]=!0):"image"===v.type?(y&&(g[y]=!0),m&&(g[m]=!0)):(y&&(u[y]=!0,d[y]=!0),Lxt(v,"carpet")&&("carpet"!==v.type||v._cheater)||m&&(c[m]=!0)),"carpet"===v.type&&v._cheater&&m&&(s[m]=!0),Lxt(v,"2dMap")&&(f[m]=!0,f[y]=!0),Lxt(v,"oriented"))p["h"===v.orientation?y:m]=!0}}var b=e._subplots,I=b.xaxis,C=b.yaxis,x=mxt.simpleMap(I,Gxt),B=mxt.simpleMap(C,Gxt),A=x.concat(B),F=yxt.background;I.length&&C.length&&(F=mxt.coerce(t,e,xxt,"plot_bgcolor"));var Q,w,U,G,R,S=yxt.combine(F,e.paper_bgcolor);function L(){var t=o[Q]||[];R._traceIndices=t.map((function(t){return t._expandedIndex})),R._annIndices=[],R._shapeIndices=[],R._imgIndices=[],R._subplotsWith=[],R._counterAxes=[],R._name=R._attr=Q,R._id=w}function _(t,e){return mxt.coerce(G,R,Bxt,t,e)}function E(t,e){return mxt.coerce2(G,R,Bxt,t,e)}function k(t){return"x"===t?C:I}function V(e,n){for(var r="x"===e?x:B,i=[],a=0;a<r.length;a++){var o=r[a];o===n||(t[o]||{}).overlaying||i.push(Rxt(o))}return i}var Z={x:k("x"),y:k("y")},N=Z.x.concat(Z.y),T={},X=[];function W(){var t=G.matches;Sxt.test(t)&&-1===N.indexOf(t)&&(T[t]=G.type,X=Object.keys(T))}var M=Ixt(t,e),H=bxt(M);for(r=0;r<A.length;r++){Q=A[r],w=Rxt(Q),U=Q.charAt(0),mxt.isPlainObject(t[Q])||(t[Q]={}),G=t[Q],R=Cxt.newContainer(e,Q,U+"axis"),L();var D="x"===U&&!c[Q]&&s[Q]||"y"===U&&!u[Q]&&l[Q],Y="y"===U&&(!d[Q]&&h[Q]||g[Q]),O={letter:U,font:e.font,outerTicks:f[Q],showGrid:!p[Q],data:o[Q]||[],bgColor:S,calendar:e.calendar,automargin:!0,visibleDflt:D,reverseDflt:Y,autotypenumbersDflt:a,splomStash:((e._splomAxes||{})[U]||{})[w]};_("uirevision",e.uirevision),Axt(G,R,_,O),Fxt(G,R,_,O,e);var z=H&&U===M.charAt(0),J=E("spikecolor",H?R.color:void 0),j=E("spikethickness",H?1.5:void 0),P=E("spikedash",H?"dot":void 0),K=E("spikemode",H?"across":void 0),q=E("spikesnap");_("showspikes",!!(z||J||j||P||K||q))||(delete R.spikecolor,delete R.spikethickness,delete R.spikedash,delete R.spikemode,delete R.spikesnap),wxt(G,R,_,{letter:U,counterAxes:Z[U],overlayableAxes:V(U,Q),grid:e.grid}),_("title.standoff"),W(),R._input=G}for(r=0;r<X.length;){w=X[r++],U=(Q=Gxt(w)).charAt(0),mxt.isPlainObject(t[Q])||(t[Q]={}),G=t[Q],R=Cxt.newContainer(e,Q,U+"axis"),L();var $={letter:U,font:e.font,outerTicks:f[Q],showGrid:!p[Q],data:[],bgColor:S,calendar:e.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:a,splomStash:((e._splomAxes||{})[U]||{})[w]};_("uirevision",e.uirevision),R.type=T[w]||"linear",Fxt(G,R,_,$,e),wxt(G,R,_,{letter:U,counterAxes:Z[U],overlayableAxes:V(U,Q),grid:e.grid}),_("fixedrange"),W(),R._input=G}var tt=_xt("rangeslider","handleDefaults"),et=_xt("rangeselector","handleDefaults");for(r=0;r<x.length;r++)Q=x[r],G=t[Q],R=e[Q],tt(t,e,Q),"date"===R.type&&et(G,R,e,B,R.calendar),_("fixedrange");for(r=0;r<B.length;r++){Q=B[r],G=t[Q],R=e[Q];var nt=e[Gxt(R.anchor)];_("fixedrange",_xt("rangeslider","isVisible")(nt))}Qxt.handleDefaults(t,e,{axIds:N.concat(X).sort(Uxt.idSort),axHasImage:g})},XCt.transitionAxes=function(t,e,n,r){var i=t._fullLayout;if(0!==e.length){var a,o,s,l;r&&(a=r());var c=kxt.ease(n.easing);return t._transitionData._interruptCallbacks.push((function(){return window.cancelAnimationFrame(l),l=null,function(){for(var n={},r=0;r<e.length;r++){var i=e[r],a=i.plotinfo.xaxis,o=i.plotinfo.yaxis;i.xr0&&(n[a._name+".range"]=i.xr0.slice()),i.yr0&&(n[o._name+".range"]=i.yr0.slice())}return Vxt.call("relayout",t,n).then((function(){for(var t=0;t<e.length;t++)u(e[t].plotinfo)}))}()})),o=Date.now(),l=window.requestAnimationFrame((function r(){s=Date.now();for(var i=Math.min(1,(s-o)/n.duration),h=c(i),g=0;g<e.length;g++)d(e[g],h);s-o>n.duration?(!function(){for(var n={},r=0;r<e.length;r++){var i=e[r],o=i.plotinfo.xaxis,s=i.plotinfo.yaxis;i.xr1&&(n[o._name+".range"]=i.xr1.slice()),i.yr1&&(n[s._name+".range"]=i.yr1.slice())}a&&a(),Vxt.call("relayout",t,n).then((function(){for(var t=0;t<e.length;t++)u(e[t].plotinfo)}))}(),l=window.cancelAnimationFrame(r)):l=window.requestAnimationFrame(r)})),Promise.resolve()}function u(t){var e=t.xaxis,n=t.yaxis;i._defs.select("#"+t.clipId+"> rect").call(Nxt.setTranslate,0,0).call(Nxt.setScale,1,1),t.plot.call(Nxt.setTranslate,e._offset,n._offset).call(Nxt.setScale,1,1);var r=t.plot.selectAll(".scatterlayer .trace");r.selectAll(".point").call(Nxt.setPointGroupScale,1,1),r.selectAll(".textpoint").call(Nxt.setTextPointsScale,1,1),r.call(Nxt.hideOutsideRangePoints,t)}function d(e,n){var r=e.plotinfo,i=r.xaxis,a=r.yaxis,o=i._length,s=a._length,l=!!e.xr1,c=!!e.yr1,u=[];if(l){var d=Zxt.simpleMap(e.xr0,i.r2l),h=Zxt.simpleMap(e.xr1,i.r2l),g=d[1]-d[0],f=h[1]-h[0];u[0]=(d[0]*(1-n)+n*h[0]-d[0])/(d[1]-d[0])*o,u[2]=o*(1-n+n*f/g),i.range[0]=i.l2r(d[0]*(1-n)+n*h[0]),i.range[1]=i.l2r(d[1]*(1-n)+n*h[1])}else u[0]=0,u[2]=o;if(c){var p=Zxt.simpleMap(e.yr0,a.r2l),v=Zxt.simpleMap(e.yr1,a.r2l),m=p[1]-p[0],y=v[1]-v[0];u[1]=(p[1]*(1-n)+n*v[1]-p[1])/(p[0]-p[1])*s,u[3]=s*(1-n+n*y/m),a.range[0]=i.l2r(p[0]*(1-n)+n*v[0]),a.range[1]=a.l2r(p[1]*(1-n)+n*v[1])}else u[1]=0,u[3]=s;Txt.drawOne(t,i,{skipTitle:!0}),Txt.drawOne(t,a,{skipTitle:!0}),Txt.redrawComponents(t,[i._id,a._id]);var b=l?o/u[2]:1,I=c?s/u[3]:1,C=l?u[0]:0,x=c?u[1]:0,B=l?u[0]/u[2]*o:0,A=c?u[1]/u[3]*s:0,F=i._offset-B,Q=a._offset-A;r.clipRect.call(Nxt.setTranslate,C,x).call(Nxt.setScale,1/b,1/I),r.plot.call(Nxt.setTranslate,F,Q).call(Nxt.setScale,b,I),Nxt.setPointGroupScale(r.zoomScalePts,1/b,1/I),Nxt.setTextPointsScale(r.zoomScaleTxt,1/b,1/I)}Txt.redrawComponents(t)},XCt.finalizeSubplots=function(t,e){var n,r,i,a=e._subplots,o=a.xaxis,s=a.yaxis,l=a.cartesian,c=l.concat(a.gl2d||[]),u={},d={};for(n=0;n<c.length;n++){var h=c[n].split("y");u[h[0]]=1,d["y"+h[1]]=1}for(n=0;n<o.length;n++)u[r=o[n]]||(i=(t[Oxt.id2name(r)]||{}).anchor,zxt.idRegex.y.test(i)||(i="y"),l.push(r+i),c.push(r+i),d[i]||(d[i]=1,Mxt.pushUnique(s,i)));for(n=0;n<s.length;n++)d[i=s[n]]||(r=(t[Oxt.id2name(i)]||{}).anchor,zxt.idRegex.x.test(r)||(r="x"),l.push(r+i),c.push(r+i),u[r]||(u[r]=1,Mxt.pushUnique(o,r)));if(!c.length){for(var g in r="",i="",t){if(zxt.attrRegex.test(g))"x"===g.charAt(0)?(!r||+g.substr(5)<+r.substr(5))&&(r=g):(!i||+g.substr(5)<+i.substr(5))&&(i=g)}r=r?Oxt.name2id(r):"x",i=i?Oxt.name2id(i):"y",o.push(r),s.push(i),l.push(r+i)}},XCt.plot=function(t,e,n,r){var i,a=t._fullLayout,o=a._subplots.cartesian,s=t.calcdata;if(!Array.isArray(e))for(e=[],i=0;i<s.length;i++)e.push(i);for(i=0;i<o.length;i++){for(var l,c=o[i],u=a._plots[c],d=[],h=0;h<s.length;h++){var g=s[h],f=g[0].trace;f.xaxis+f.yaxis===c&&((-1!==e.indexOf(f.index)||f.carpet)&&(l&&l[0].trace.xaxis+l[0].trace.yaxis===c&&-1!==["tonextx","tonexty","tonext"].indexOf(f.fill)&&-1===d.indexOf(l)&&d.push(l),d.push(g)),l=g)}Kxt(t,u,d,n,r)}},XCt.clean=function(t,e,n,r){var i,a,o,s=r._plots||{},l=e._plots||{},c=r._subplots||{};if(r._hasOnlyLargeSploms&&!e._hasOnlyLargeSploms)for(o in s)(i=s[o]).plotgroup&&i.plotgroup.remove();var u=r._has&&r._has("gl"),d=e._has&&e._has("gl");if(u&&!d)for(o in s)(i=s[o])._scene&&i._scene.destroy();if(c.xaxis&&c.yaxis){var h=Oxt.listIds({_fullLayout:r});for(a=0;a<h.length;a++){var g=h[a];e[Oxt.id2name(g)]||r._infolayer.selectAll(".g-"+g+"title").remove()}}var f=r._has&&r._has("cartesian"),p=e._has&&e._has("cartesian");if(f&&!p)$xt(r._cartesianlayer.selectAll(".subplot"),r),r._defs.selectAll(".axesclip").remove(),delete r._axisConstraintGroups,delete r._axisMatchGroups;else if(c.cartesian)for(a=0;a<c.cartesian.length;a++){var v=c.cartesian[a];if(!l[v]){var m="."+v+",."+v+"-x,."+v+"-y";r._cartesianlayer.selectAll(m).remove(),tBt(v,r)}}},XCt.drawFramework=function(t){var e=t._fullLayout,n=function(t){var e,n,r,i,a,o,s=t._fullLayout,l=s._subplots.cartesian,c=l.length,u=[],d=[];for(e=0;e<c;e++){r=l[e],a=(i=s._plots[r]).xaxis,o=i.yaxis;var h=a._mainAxis,g=o._mainAxis,f=h._id+g._id,p=s._plots[f];i.overlays=[],f!==r&&p?(i.mainplot=f,i.mainplotinfo=p,d.push(r)):(i.mainplot=void 0,i.mainplotinfo=void 0,u.push(r))}for(e=0;e<d.length;e++)r=d[e],(i=s._plots[r]).mainplotinfo.overlays.push(i);var v=u.concat(d),m=new Array(c);for(e=0;e<c;e++){r=v[e],a=(i=s._plots[r]).xaxis,o=i.yaxis;var y=[r,a.layer,o.layer,a.overlaying||"",o.overlaying||""];for(n=0;n<i.overlays.length;n++)y.push(i.overlays[n].id);m[e]=y}return m}(t),r=e._cartesianlayer.selectAll(".subplot").data(n,String);r.enter().append("g").attr("class",(function(t){return"subplot "+t[0]})),r.order(),r.exit().call($xt,e),r.each((function(n){var r=n[0],i=e._plots[r];i.plotgroup=Xxt.select(this),qxt(t,i),i.draglayer=jxt(e._draggers,"g",r)}))},XCt.rangePlot=function(t,e,n){qxt(t,e),Kxt(t,e,n),Hxt.style(t)},XCt.toSVG=function(t){var e=t._fullLayout._glimages,n=Xxt.select(t).selectAll(".svg-container"),r=n.filter((function(t,e){return e===n.size()-1})).selectAll(".gl-canvas-context, .gl-canvas-focus");r.each((function(){var t=this,n=t.toDataURL("image/png");e.append("svg:image").attr({xmlns:Jxt.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:t.style.width,height:t.style.height})}))},XCt.updateFx=zut.updateFx;var eBt={hasLines:Bst.hasLines,hasMarkers:Bst.hasMarkers,hasText:Bst.hasText,isBubble:Bst.isBubble,attributes:zbt,supplyDefaults:function(t,e,n,r){function i(n,r){return pIt.coerce(t,e,mIt,n,r)}var a=IIt(t,e,r,i);if(a||(e.visible=!1),e.visible){CIt(t,e,r,i),i("xhoverformat"),i("yhoverformat");var o=xIt(t,e,r,i),s=!o&&a<yIt.PTS_LINESONLY?"lines+markers":"lines";i("text"),i("hovertext"),i("mode",s),bIt.hasLines(e)&&(AIt(t,e,n,r,i),FIt(t,e,i),i("connectgaps"),i("line.simplify")),bIt.hasMarkers(e)&&BIt(t,e,n,r,i,{gradient:!0}),bIt.hasText(e)&&(i("texttemplate"),QIt(t,e,r,i));var l=[];(bIt.hasMarkers(e)||bIt.hasText(e))&&(i("cliponaxis"),i("marker.maxdisplayed"),l.push("points")),i("fill",o?o.fillDflt:"none"),"none"!==e.fill&&(wIt(t,e,n,i),bIt.hasLines(e)||FIt(t,e,i));var c=(e.line||{}).color,u=(e.marker||{}).color;"tonext"!==e.fill&&"toself"!==e.fill||l.push("fills"),i("hoveron",l.join("+")||"points"),"fills"!==e.hoveron&&i("hovertemplate");var d=vIt.getComponentMethod("errorbars","supplyDefaults");d(t,e,c||u||n,{axis:"y"}),d(t,e,c||u||n,{axis:"x",inherit:"y"}),pIt.coerceSelectionMarkerOpacity(e,i)}},crossTraceDefaults:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("scatter"===n.type){var r=n.fill;if("none"!==r&&"toself"!==r&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var i=e-1;i>=0;i--){var a=t[i];if("scatter"===a.type&&a.xaxis===n.xaxis&&a.yaxis===n.yaxis){a.opacity=void 0;break}}}}},calc:tCt.calc,crossTraceCalc:function(t,e){var n=e.xaxis,r=e.yaxis,i=n._id+r._id,a=t._fullLayout._scatterStackOpts[i];if(a){var o,s,l,c,u,d,h,g,f,p,v,m,y,b,I,C=t.calcdata;for(var x in a){var B=(p=a[x]).traceIndices;if(B.length){for(v="interpolate"===p.stackgaps,m=p.groupnorm,"v"===p.orientation?(y="x",b="y"):(y="y",b="x"),I=new Array(B.length),o=0;o<I.length;o++)I[o]=!1;d=C[B[0]];var A=new Array(d.length);for(o=0;o<d.length;o++)A[o]=d[o][y];for(o=1;o<B.length;o++){for(u=C[B[o]],s=l=0;s<u.length;s++){for(h=u[s][y];h>A[l]&&l<A.length;l++)nCt(u,s,A[l],o,I,v,y),s++;if(h!==A[l]){for(c=0;c<o;c++)nCt(C[B[c]],l,h,c,I,v,y);A.splice(l,0,h)}l++}for(;l<A.length;l++)nCt(u,s,A[l],o,I,v,y),s++}var F=A.length;for(s=0;s<d.length;s++){for(g=d[s][b]=d[s].s,o=1;o<B.length;o++)(u=C[B[o]])[0].trace._rawLength=u[0].trace._length,u[0].trace._length=F,g+=u[s].s,u[s][b]=g;if(m)for(f=("fraction"===m?g:g/100)||1,o=0;o<B.length;o++){var Q=C[B[o]][s];Q[b]/=f,Q.sNorm=Q.s/f}}for(o=0;o<B.length;o++){var w=(u=C[B[o]])[0].trace,U=eCt.calcMarkerSize(w,w._rawLength),G=Array.isArray(U);if(U&&I[o]||G){var R=U;for(U=new Array(F),s=0;s<F;s++)U[s]=u[s].gap?0:G?R[u[s].i]:R}var S=new Array(F),L=new Array(F);for(s=0;s<F;s++)S[s]=u[s].x,L[s]=u[s].y;eCt.calcAxisExpansion(t,w,n,r,S,L,U),u[0].t.orientation=p.orientation}}}}},arraysToCalcdata:NIt,plot:function(t,e,n,r,i,a){var o,s,l=!i,c=!!i&&i.duration>0,u=ICt(t,e,n);(o=r.selectAll("g.trace").data(u,(function(t){return t[0].trace.uid})),o.enter().append("g").attr("class",(function(t){return"trace scatter trace"+t[0].trace.uid})).style("stroke-miterlimit",2),o.order(),function(t,e,n){e.each((function(e){var r=pCt(hCt.select(this),"g","fills");mCt.setClipUrl(r,n.layerClipId,t);var i=e[0].trace,a=[];i._ownfill&&a.push("_ownFill"),i._nexttrace&&a.push("_nextFill");var o=r.selectAll("g").data(a,vCt);o.enter().append("g"),o.exit().each((function(t){i[t]=null})).remove(),o.order().each((function(t){i[t]=pCt(hCt.select(this),"path","js-fill")}))}))}(t,o,e),c)?(a&&(s=a()),hCt.transition().duration(i.duration).ease(i.easing).each("end",(function(){s&&s()})).each("interrupt",(function(){s&&s()})).each((function(){r.selectAll("g.trace").each((function(n,r){xCt(t,r,e,n,u,this,i)}))}))):o.each((function(n,r){xCt(t,r,e,n,u,this,i)}));l&&o.exit().remove(),r.selectAll("path:not([d])").remove()},colorbar:BCt,formatLabels:function(t,e,n){var r={},i={_fullLayout:n},a=ACt.getFromTrace(i,e,"x"),o=ACt.getFromTrace(i,e,"y");return r.xLabel=ACt.tickText(a,a.c2l(t.x),!0).text,r.yLabel=ACt.tickText(o,o.c2l(t.y),!0).text,r},style:RCt.style,styleOnSelect:RCt.styleOnSelect,hoverPoints:function(t,e,n,r){var i=t.cd,a=i[0].trace,o=t.xa,s=t.ya,l=o.c2p(e),c=s.c2p(n),u=[l,c],d=a.hoveron||"",h=-1!==a.mode.indexOf("markers")?3:.5,g=!!a.xperiodalignment,f=!!a.yperiodalignment;if(-1!==d.indexOf("points")){var p=function(t){var e=Math.max(h,t.mrc||0),n=o.c2p(t.x)-l,r=s.c2p(t.y)-c;return Math.max(Math.sqrt(n*n+r*r)-e,1-h/e)},v=ECt.getDistanceFunction(r,(function(t){if(g){var e=o.c2p(t.xStart),n=o.c2p(t.xEnd);return l>=Math.min(e,n)&&l<=Math.max(e,n)?0:1/0}var r=Math.max(3,t.mrc||0),i=1-1/r,a=Math.abs(o.c2p(t.x)-l);return a<r?i*a/r:a-r+i}),(function(t){if(f){var e=s.c2p(t.yStart),n=s.c2p(t.yEnd);return c>=Math.min(e,n)&&c<=Math.max(e,n)?0:1/0}var r=Math.max(3,t.mrc||0),i=1-1/r,a=Math.abs(s.c2p(t.y)-c);return a<r?i*a/r:a-r+i}),p);if(ECt.getClosest(i,v,t),!1!==t.index){var m=i[t.index],y=o.c2p(m.x,!0),b=s.c2p(m.y,!0),I=m.mrc||1;t.index=m.i;var C=i[0].t.orientation,x=C&&(m.sNorm||m.s),B="h"===C?x:void 0!==m.orig_x?m.orig_x:m.x,A="v"===C?x:void 0!==m.orig_y?m.orig_y:m.y;return _Ct.extendFlat(t,{color:VCt(a,m),x0:y-I,x1:y+I,xLabelVal:B,y0:b-I,y1:b+I,yLabelVal:A,spikeDistance:p(m),hovertemplate:a.hovertemplate}),NCt(m,a,t),kCt.getComponentMethod("errorbars","hoverInfo")(m,a,t),[t]}}if(-1!==d.indexOf("fills")&&a._polygons){var F,Q,w,U,G,R,S,L,_,E=a._polygons,k=[],V=!1,Z=1/0,N=-1/0,T=1/0,X=-1/0;for(F=0;F<E.length;F++)(w=E[F]).contains(u)&&(V=!V,k.push(w),T=Math.min(T,w.ymin),X=Math.max(X,w.ymax));if(V){var W=((T=Math.max(T,0))+(X=Math.min(X,s._length)))/2;for(F=0;F<k.length;F++)for(U=k[F].pts,Q=1;Q<U.length;Q++)(L=U[Q-1][1])>W!=(_=U[Q][1])>=W&&(R=U[Q-1][0],S=U[Q][0],_-L&&(G=R+(S-R)*(W-L)/(_-L),Z=Math.min(Z,G),N=Math.max(N,G)));Z=Math.max(Z,0),N=Math.min(N,o._length);var M=ZCt.defaultLine;return ZCt.opacity(a.fillcolor)?M=a.fillcolor:ZCt.opacity((a.line||{}).color)&&(M=a.line.color),_Ct.extendFlat(t,{distance:t.maxHoverDistance,x0:Z,x1:N,y0:W,y1:W,color:M,hovertemplate:!1}),delete t.index,a.text&&!Array.isArray(a.text)?t.text=String(a.text):t.text=a.name,[t]}}},selectPoints:function(t,e){var n,r,i,a,o=t.cd,s=t.xaxis,l=t.yaxis,c=[],u=o[0].trace;if(!TCt.hasMarkers(u)&&!TCt.hasText(u))return[];if(!1===e)for(n=0;n<o.length;n++)o[n].selected=0;else for(n=0;n<o.length;n++)r=o[n],i=s.c2p(r.x),a=l.c2p(r.y),null!==r.i&&e.contains([i,a],!1,n,t)?(c.push({pointNumber:r.i,x:s.c2d(r.x),y:l.c2d(r.y)}),r.selected=1):r.selected=0;return c},animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:XCt,categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{description:["The scatter trace type encompasses line charts, scatter charts, text charts, and bubble charts.","The data visualized as scatter point or lines is set in `x` and `y`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")}},nBt={moduleType:"component",name:"legend",layoutAttributes:bdt,supplyLayoutDefaults:Udt,draw:vht,style:jdt},rBt=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}],iBt=w4.exports,aBt=Ott.exports,oBt=rBt,sBt=Q4.exports,lBt=sBt.strScale,cBt=sBt.strRotate,uBt=sBt.strTranslate,dBt=w4.exports,hBt=met,gBt=Git.exports,fBt=Q4.exports,pBt=fBt.strTranslate,vBt=Aat.exports,mBt=Ott.exports,yBt=Uat.exports,bBt=Vgt,IBt=Fat,CBt=fdt,xBt=Jut.exports,BBt=Rit.arrayEditor,ABt=function(t,e,n){var r,i,a,o,s=t.node(),l=oBt[n.arrowhead||0],c=oBt[n.startarrowhead||0],u=(n.arrowwidth||1)*(n.arrowsize||1),d=(n.arrowwidth||1)*(n.startarrowsize||1),h=e.indexOf("start")>=0,g=e.indexOf("end")>=0,f=l.backoff*u+n.standoff,p=c.backoff*d+n.startstandoff;if("line"===s.nodeName){r={x:+t.attr("x1"),y:+t.attr("y1")},i={x:+t.attr("x2"),y:+t.attr("y2")};var v=r.x-i.x,m=r.y-i.y;if(o=(a=Math.atan2(m,v))+Math.PI,f&&p&&f+p>Math.sqrt(v*v+m*m))return void U();if(f){if(f*f>v*v+m*m)return void U();var y=f*Math.cos(a),b=f*Math.sin(a);i.x+=y,i.y+=b,t.attr({x2:i.x,y2:i.y})}if(p){if(p*p>v*v+m*m)return void U();var I=p*Math.cos(a),C=p*Math.sin(a);r.x-=I,r.y-=C,t.attr({x1:r.x,y1:r.y})}}else if("path"===s.nodeName){var x=s.getTotalLength(),B="";if(x<f+p)return void U();var A=s.getPointAtLength(0),F=s.getPointAtLength(.1);a=Math.atan2(A.y-F.y,A.x-F.x),r=s.getPointAtLength(Math.min(p,x)),B="0px,"+p+"px,";var Q=s.getPointAtLength(x),w=s.getPointAtLength(x-.1);o=Math.atan2(Q.y-w.y,Q.x-w.x),i=s.getPointAtLength(Math.max(0,x-f)),B+=x-(B?p+f:f)+"px,"+x+"px",t.style("stroke-dasharray",B)}function U(){t.style("stroke-dasharray","0px,100px")}function G(e,r,i,a){e.path&&(e.noRotate&&(i=0),iBt.select(s.parentNode).append("path").attr({class:t.attr("class"),d:e.path,transform:uBt(r.x,r.y)+cBt(180*i/Math.PI)+lBt(a)}).style({fill:aBt.rgb(n.arrowcolor),"stroke-width":0}))}h&&G(c,r,a,d),g&&G(l,i,o,u)},FBt={draw:function(t){var e=t._fullLayout;e._infolayer.selectAll(".annotation").remove();for(var n=0;n<e.annotations.length;n++)e.annotations[n].visible&&QBt(t,n);return gBt.previousPromises(t)},drawOne:QBt,drawRaw:UBt};function QBt(t,e){var n=t._fullLayout.annotations[e]||{},r=vBt.getFromId(t,n.xref),i=vBt.getFromId(t,n.yref);r&&r.setScale(),i&&i.setScale(),UBt(t,n,e,!1,r,i)}function wBt(t,e,n,r,i){var a=i[n],o=i[n+"ref"],s=-1!==n.indexOf("y"),l="domain"===vBt.getRefType(o),c=s?r.h:r.w;return t?l?a+(s?-e:e)/t._length:t.p2r(t.r2p(a)+e):a+(s?-e:e)/c}function UBt(t,e,n,r,i,a){var o,s,l=t._fullLayout,c=t._fullLayout._size,u=t._context.edits;r?(o="annotation-"+r,s=r+".annotations"):(o="annotation",s="annotations");var d=BBt(t.layout,s,e),h=d.modifyBase,g=d.modifyItem,f=d.getUpdateObj;l._infolayer.selectAll("."+o+'[data-index="'+n+'"]').remove();var p="clip"+l._uid+"_ann"+n;if(e._input&&!1!==e.visible){var v={x:{},y:{}},m=+e.textangle||0,y=l._infolayer.append("g").classed(o,!0).attr("data-index",String(n)).style("opacity",e.opacity),b=y.append("g").classed("annotation-text-g",!0),I=u[e.showarrow?"annotationTail":"annotationPosition"],C=e.captureevents||u.annotationText||I,x=b.append("g").style("pointer-events",C?"all":null).call(CBt,"pointer").on("click",(function(){t._dragging=!1,t.emit("plotly_clickannotation",L(dBt.event))}));e.hovertext&&x.on("mouseover",(function(){var n=e.hoverlabel,r=n.font,i=this.getBoundingClientRect(),a=t.getBoundingClientRect();bBt.loneHover({x0:i.left-a.left,x1:i.right-a.left,y:(i.top+i.bottom)/2-a.top,text:e.hovertext,color:n.bgcolor,borderColor:n.bordercolor,fontFamily:r.family,fontSize:r.size,fontColor:r.color},{container:l._hoverlayer.node(),outerContainer:l._paper.node(),gd:t})})).on("mouseout",(function(){bBt.loneUnhover(l._hoverlayer.node())}));var B=e.borderwidth,A=e.borderpad,F=B+A,Q=x.append("rect").attr("class","bg").style("stroke-width",B+"px").call(mBt.stroke,e.bordercolor).call(mBt.fill,e.bgcolor),w=e.width||e.height,U=l._topclips.selectAll("#"+p).data(w?[0]:[]);U.enter().append("clipPath").classed("annclip",!0).attr("id",p).append("rect"),U.exit().remove();var G=e.font,R=l._meta?fBt.templateString(e.text,l._meta):e.text,S=x.append("text").classed("annotation-text",!0).text(R);u.annotationText?S.call(IBt.makeEditable,{delegate:x,gd:t}).call(_).on("edit",(function(n){e.text=n,this.call(_),g("text",n),i&&i.autorange&&h(i._name+".autorange",!0),a&&a.autorange&&h(a._name+".autorange",!0),hBt.call("_guiRelayout",t,f())})):S.call(_)}else dBt.selectAll("#"+p).remove();function L(t){var i={index:n,annotation:e._input,fullAnnotation:e,event:t};return r&&(i.subplotId=r),i}function _(n){return n.call(yBt.font,G).attr({"text-anchor":{left:"start",right:"end"}[e.align]||"middle"}),IBt.convertToTspans(n,t,E),n}function E(){var n=S.selectAll("a");1===n.size()&&n.text()===S.text()&&x.insert("a",":first-child").attr({"xlink:xlink:href":n.attr("xlink:href"),"xlink:xlink:show":n.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(Q.node());var o=x.select(".annotation-text-math-group"),s=!o.empty(),d=yBt.bBox((s?o:S).node()),C=d.width,A=d.height,G=e.width||C,R=e.height||A,_=Math.round(G+2*F),E=Math.round(R+2*F);function k(t,e){return"auto"===e&&(e=t<1/3?"left":t>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[e]}for(var V=!1,Z=["x","y"],N=0;N<Z.length;N++){var T,X,W,M,H,D=Z[N],Y=e[D+"ref"]||D,O=e["a"+D+"ref"],z={x:i,y:a}[D],J=(m+("x"===D?0:-90))*Math.PI/180,j=_*Math.cos(J),P=E*Math.sin(J),K=Math.abs(j)+Math.abs(P),q=e[D+"anchor"],$=e[D+"shift"]*("x"===D?1:-1),tt=v[D],et=vBt.getRefType(Y);if(z&&"domain"!==et){var nt=z.r2fraction(e[D]);(nt<0||nt>1)&&(O===Y?((nt=z.r2fraction(e["a"+D]))<0||nt>1)&&(V=!0):V=!0),T=z._offset+z.r2p(e[D]),M=.5}else{var rt="domain"===et;"x"===D?(W=e[D],T=rt?z._offset+z._length*W:T=c.l+c.w*W):(W=1-e[D],T=rt?z._offset+z._length*W:T=c.t+c.h*W),M=e.showarrow?.5:W}if(e.showarrow){tt.head=T;var it=e["a"+D];if(H=j*k(.5,e.xanchor)-P*k(.5,e.yanchor),O===Y){var at=vBt.getRefType(O);"domain"===at?("y"===D&&(it=1-it),tt.tail=z._offset+z._length*it):"paper"===at?"y"===D?(it=1-it,tt.tail=c.t+c.h*it):tt.tail=c.l+c.w*it:tt.tail=z._offset+z.r2p(it),X=H}else tt.tail=T+it,X=H+it;tt.text=tt.tail+H;var ot=l["x"===D?"width":"height"];if("paper"===Y&&(tt.head=fBt.constrain(tt.head,1,ot-1)),"pixel"===O){var st=-Math.max(tt.tail-3,tt.text),lt=Math.min(tt.tail+3,tt.text)-ot;st>0?(tt.tail+=st,tt.text+=st):lt>0&&(tt.tail-=lt,tt.text-=lt)}tt.tail+=$,tt.head+=$}else X=H=K*k(M,q),tt.text=T+H;tt.text+=$,H+=$,X+=$,e["_"+D+"padplus"]=K/2+X,e["_"+D+"padminus"]=K/2-X,e["_"+D+"size"]=K,e["_"+D+"shift"]=H}if(V)x.remove();else{var ct=0,ut=0;if("left"!==e.align&&(ct=(G-C)*("center"===e.align?.5:1)),"top"!==e.valign&&(ut=(R-A)*("middle"===e.valign?.5:1)),s)o.select("svg").attr({x:F+ct-1,y:F+ut}).call(yBt.setClipUrl,w?p:null,t);else{var dt=F+ut-d.top,ht=F+ct-d.left;S.call(IBt.positionText,ht,dt).call(yBt.setClipUrl,w?p:null,t)}U.select("rect").call(yBt.setRect,F,F,G,R),Q.call(yBt.setRect,B/2,B/2,_-B,E-B),x.call(yBt.setTranslate,Math.round(v.x.text-_/2),Math.round(v.y.text-E/2)),b.attr({transform:"rotate("+m+","+v.x.text+","+v.y.text+")"});var gt,ft=function(n,o){y.selectAll(".annotation-arrow-g").remove();var s=v.x.head,l=v.y.head,d=v.x.tail+n,p=v.y.tail+o,I=v.x.text+n,C=v.y.text+o,B=fBt.rotationXYMatrix(m,I,C),A=fBt.apply2DTransform(B),F=fBt.apply2DTransform2(B),w=+Q.attr("width"),U=+Q.attr("height"),G=I-.5*w,R=G+w,S=C-.5*U,L=S+U,_=[[G,S,G,L],[G,L,R,L],[R,L,R,S],[R,S,G,S]].map(F);if(!_.reduce((function(t,e){return t^!!fBt.segmentsIntersect(s,l,s+1e6,l+1e6,e[0],e[1],e[2],e[3])}),!1)){_.forEach((function(t){var e=fBt.segmentsIntersect(d,p,s,l,t[0],t[1],t[2],t[3]);e&&(d=e.x,p=e.y)}));var E=e.arrowwidth,k=e.arrowcolor,V=e.arrowside,Z=y.append("g").style({opacity:mBt.opacity(k)}).classed("annotation-arrow-g",!0),N=Z.append("path").attr("d","M"+d+","+p+"L"+s+","+l).style("stroke-width",E+"px").call(mBt.stroke,mBt.rgb(k));if(ABt(N,V,e),u.annotationPosition&&N.node().parentNode&&!r){var T=s,X=l;if(e.standoff){var W=Math.sqrt(Math.pow(s-d,2)+Math.pow(l-p,2));T+=e.standoff*(d-s)/W,X+=e.standoff*(p-l)/W}var M,H,D=Z.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(d-T)+","+(p-X),transform:pBt(T,X)}).style("stroke-width",E+6+"px").call(mBt.stroke,"rgba(0,0,0,0)").call(mBt.fill,"rgba(0,0,0,0)");xBt.init({element:D.node(),gd:t,prepFn:function(){var t=yBt.getTranslate(x);M=t.x,H=t.y,i&&i.autorange&&h(i._name+".autorange",!0),a&&a.autorange&&h(a._name+".autorange",!0)},moveFn:function(t,n){var r=A(M,H),o=r[0]+t,s=r[1]+n;x.call(yBt.setTranslate,o,s),g("x",wBt(i,t,"x",c,e)),g("y",wBt(a,n,"y",c,e)),e.axref===e.xref&&g("ax",wBt(i,t,"ax",c,e)),e.ayref===e.yref&&g("ay",wBt(a,n,"ay",c,e)),Z.attr("transform",pBt(t,n)),b.attr({transform:"rotate("+m+","+o+","+s+")"})},doneFn:function(){hBt.call("_guiRelayout",t,f());var e=document.querySelector(".js-notes-box-panel");e&&e.redraw(e.selectedObj)}})}}};if(e.showarrow&&ft(0,0),I)xBt.init({element:x.node(),gd:t,prepFn:function(){gt=b.attr("transform")},moveFn:function(t,n){var o="pointer";if(e.showarrow)e.axref===e.xref?g("ax",wBt(i,t,"ax",c,e)):g("ax",e.ax+t),e.ayref===e.yref?g("ay",wBt(a,n,"ay",c.w,e)):g("ay",e.ay+n),ft(t,n);else{if(r)return;var s,l;if(i)s=wBt(i,t,"x",c,e);else{var u=e._xsize/c.w,d=e.x+(e._xshift-e.xshift)/c.w-u/2;s=xBt.align(d+t/c.w,u,0,1,e.xanchor)}if(a)l=wBt(a,n,"y",c,e);else{var h=e._ysize/c.h,f=e.y-(e._yshift+e.yshift)/c.h-h/2;l=xBt.align(f-n/c.h,h,0,1,e.yanchor)}g("x",s),g("y",l),i&&a||(o=xBt.getCursor(i?.5:s,a?.5:l,e.xanchor,e.yanchor))}b.attr({transform:pBt(t,n)+gt}),CBt(x,o)},clickFn:function(n,r){e.captureevents&&t.emit("plotly_clickannotation",L(r))},doneFn:function(){CBt(x),hBt.call("_guiRelayout",t,f());var e=document.querySelector(".js-notes-box-panel");e&&e.redraw(e.selectedObj)}})}}}var GBt=Q4.exports,RBt=met,SBt=Rit.arrayEditor,LBt={hasClickToShow:function(t,e){var n=_Bt(t,e);return n.on.length>0||n.explicitOff.length>0},onClick:function(t,e){var n,r,i=_Bt(t,e),a=i.on,o=i.off.concat(i.explicitOff),s={},l=t._fullLayout.annotations;if(!a.length&&!o.length)return;for(n=0;n<a.length;n++)(r=SBt(t.layout,"annotations",l[a[n]])).modifyItem("visible",!0),GBt.extendFlat(s,r.getUpdateObj());for(n=0;n<o.length;n++)(r=SBt(t.layout,"annotations",l[o[n]])).modifyItem("visible",!1),GBt.extendFlat(s,r.getUpdateObj());return RBt.call("update",t,{},s)}};function _Bt(t,e){var n,r,i,a,o,s,l,c=t._fullLayout.annotations,u=[],d=[],h=[],g=(e||[]).length;for(n=0;n<c.length;n++)if(a=(i=c[n]).clicktoshow){for(r=0;r<g;r++)if(s=(o=e[r]).xaxis,l=o.yaxis,s._id===i.xref&&l._id===i.yref&&s.d2r(o.x)===EBt(i._xclick,s)&&l.d2r(o.y)===EBt(i._yclick,l)){(i.visible?"onout"===a?d:h:u).push(n);break}r===g&&i.visible&&"onout"===a&&d.push(n)}return{on:u,off:d,explicitOff:h}}function EBt(t,e){return"log"===e.type?e.l2r(t):e.d2r(t)}var kBt={axisRefDescription:function(t,e,n){return["If set to a",t,"axis id (e.g. *"+t+"* or","*"+t+"2*), the `"+t+"` position refers to a",t,"coordinate. If set to *paper*, the `"+t+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+n+"). If set to a",t,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+t+"2 domain* refers to the domain of the second",t," axis and a",t,"position of 0.5 refers to the","point between the",e,"and the",n,"of the domain of the","second",t,"axis."].join(" ")}},VBt=rBt,ZBt=Att,NBt=Nit,TBt=kBt;function XBt(t){return["In order for absolute positioning of the arrow to work, *a"+t+"ref* must be exactly the same as *"+t+"ref*, otherwise *a"+t+"ref* will revert to *pixel* (explained next).","For relative positioning, *a"+t+"ref* can be set to *pixel*,","in which case the *a"+t+"* value is specified in pixels","relative to *"+t+"*.","Absolute positioning is useful","for trendline annotations which should continue to indicate","the correct trend when zoomed. Relative positioning is useful","for specifying the text offset for an annotated point."].join(" ")}function WBt(t,e,n){return["Sets the",t,"component of the arrow tail about the arrow head.","If `a"+t+"ref` is `pixel`, a positive (negative)","component corresponds to an arrow pointing","from",n,"to",e,"("+e,"to",n+").","If `a"+t+"ref` is not `pixel` and is exactly the same as `"+t+"ref`,","this is an absolute value on that axis,","like `"+t+"`, specified in the same coordinates as `"+t+"ref`."].join(" ")}var MBt=(0,Rit.templatedArray)("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw",description:["Determines whether or not this annotation is visible."].join(" ")},text:{valType:"string",editType:"calc+arraydraw",description:["Sets the text associated with this annotation.","Plotly uses a subset of HTML tags to do things like","newline (<br>), bold (<b></b>), italics (<i></i>),","hyperlinks (<a href='...'></a>). Tags <em>, <sup>, <sub>","<span> are also supported."].join(" ")},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw",description:["Sets the angle at which the `text` is drawn","with respect to the horizontal."].join(" ")},font:ZBt({editType:"calc+arraydraw",colorEditType:"arraydraw",description:"Sets the annotation text font."}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw",description:["Sets an explicit width for the text box. null (default) lets the","text set the box width. Wider text will be clipped.","There is no automatic wrapping; use <br> to start a new line."].join(" ")},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw",description:["Sets an explicit height for the text box. null (default) lets the","text set the box height. Taller text will be clipped."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the annotation (text + arrow)."},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw",description:["Sets the horizontal alignment of the `text` within the box.","Has an effect only if `text` spans two or more lines","(i.e. `text` contains one or more <br> HTML tags) or if an","explicit width is set to override the text width."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw",description:["Sets the vertical alignment of the `text` within the box.","Has an effect only if an explicit height is set to override","the text height."].join(" ")},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw",description:"Sets the background color of the annotation."},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw",description:["Sets the color of the border enclosing the annotation `text`."].join(" ")},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw",description:["Sets the padding (in px) between the `text`","and the enclosing border."].join(" ")},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw",description:["Sets the width (in px) of the border enclosing","the annotation `text`."].join(" ")},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw",description:["Determines whether or not the annotation is drawn with an arrow.","If *true*, `text` is placed near the arrow's tail.","If *false*, `text` lines up with the `x` and `y` provided."].join(" ")},arrowcolor:{valType:"color",editType:"arraydraw",description:"Sets the color of the annotation arrow."},arrowhead:{valType:"integer",min:0,max:VBt.length,dflt:1,editType:"arraydraw",description:"Sets the end annotation arrow head style."},startarrowhead:{valType:"integer",min:0,max:VBt.length,dflt:1,editType:"arraydraw",description:"Sets the start annotation arrow head style."},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw",description:"Sets the annotation arrow head position."},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw",description:["Sets the size of the end annotation arrow head, relative to `arrowwidth`.","A value of 1 (default) gives a head about 3x as wide as the line."].join(" ")},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw",description:["Sets the size of the start annotation arrow head, relative to `arrowwidth`.","A value of 1 (default) gives a head about 3x as wide as the line."].join(" ")},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw",description:"Sets the width (in px) of annotation arrow line."},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw",description:["Sets a distance, in pixels, to move the end arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw",description:["Sets a distance, in pixels, to move the start arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},ax:{valType:"any",editType:"calc+arraydraw",description:[WBt("x","left","right")].join(" ")},ay:{valType:"any",editType:"calc+arraydraw",description:[WBt("y","top","bottom")].join(" ")},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",NBt.idRegex.x.toString()],editType:"calc",description:["Indicates in what coordinates the tail of the","annotation (ax,ay) is specified.",TBt.axisRefDescription("ax","left","right"),XBt("x")].join(" ")},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",NBt.idRegex.y.toString()],editType:"calc",description:["Indicates in what coordinates the tail of the","annotation (ax,ay) is specified.",TBt.axisRefDescription("ay","bottom","top"),XBt("y")].join(" ")},xref:{valType:"enumerated",values:["paper",NBt.idRegex.x.toString()],editType:"calc",description:["Sets the annotation's x coordinate axis.",TBt.axisRefDescription("x","left","right")].join(" ")},x:{valType:"any",editType:"calc+arraydraw",description:["Sets the annotation's x position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw",description:["Sets the text box's horizontal position anchor","This anchor binds the `x` position to the *left*, *center*","or *right* of the annotation.","For example, if `x` is set to 1, `xref` to *paper* and","`xanchor` to *right* then the right-most portion of the","annotation lines up with the right-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *center* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw",description:["Shifts the position of the whole annotation and arrow to the","right (positive) or left (negative) by this many pixels."].join(" ")},yref:{valType:"enumerated",values:["paper",NBt.idRegex.y.toString()],editType:"calc",description:["Sets the annotation's y coordinate axis.",TBt.axisRefDescription("y","bottom","top")].join(" ")},y:{valType:"any",editType:"calc+arraydraw",description:["Sets the annotation's y position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw",description:["Sets the text box's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the annotation.","For example, if `y` is set to 1, `yref` to *paper* and","`yanchor` to *top* then the top-most portion of the","annotation lines up with the top-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *middle* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw",description:["Shifts the position of the whole annotation and arrow up","(positive) or down (negative) by this many pixels."].join(" ")},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw",description:["Makes this annotation respond to clicks on the plot.","If you click a data point that exactly matches the `x` and `y`","values of this annotation, and it is hidden (visible: false),","it will appear. In *onoff* mode, you must click the same point","again to make it disappear, so if you click multiple points,","you can show multiple annotations. In *onout* mode, a click","anywhere else in the plot (on another data point or not) will","hide this annotation.","If you need to show/hide this annotation in response to different","`x` or `y` values, you can set `xclick` and/or `yclick`. This is","useful for example to label the side of a bar. To label markers","though, `standoff` is preferred over `xclick` and `yclick`."].join(" ")},xclick:{valType:"any",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `x` value","is `xclick` rather than the annotation's `x` value."].join(" ")},yclick:{valType:"any",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `y` value","is `yclick` rather than the annotation's `y` value."].join(" ")},hovertext:{valType:"string",editType:"arraydraw",description:["Sets text to appear when hovering over this annotation.","If omitted or blank, no hover label will appear."].join(" ")},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw",description:["Sets the background color of the hover label.","By default uses the annotation's `bgcolor` made opaque,","or white if it was transparent."].join(" ")},bordercolor:{valType:"color",editType:"arraydraw",description:["Sets the border color of the hover label.","By default uses either dark grey or white, for maximum","contrast with `hoverlabel.bgcolor`."].join(" ")},font:ZBt({editType:"arraydraw",description:["Sets the hover label text font.","By default uses the global hover font and size,","with color from `hoverlabel.bordercolor`."].join(" ")}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw",description:["Determines whether the annotation text box captures mouse move","and click events, or allows those events to pass through to data","points in the plot that may be behind the annotation. By default","`captureevents` is *false* unless `hovertext` is provided.","If you use the event `plotly_clickannotation` without `hovertext`","you must explicitly enable `captureevents`."].join(" ")},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc",description:["Obsolete. Set `xref` and `yref` separately instead."].join(" ")}}}),HBt=Q4.exports,DBt=Ott.exports,YBt=function(t,e,n,r){r("opacity");var i=r("bgcolor"),a=r("bordercolor"),o=DBt.opacity(a);r("borderpad");var s=r("borderwidth"),l=r("showarrow");if(r("text",l?" ":n._dfltTitle.annotation),r("textangle"),HBt.coerceFont(r,"font",n.font),r("width"),r("align"),r("height")&&r("valign"),l){var c,u,d=r("arrowside");-1!==d.indexOf("end")&&(c=r("arrowhead"),u=r("arrowsize")),-1!==d.indexOf("start")&&(r("startarrowhead",c),r("startarrowsize",u)),r("arrowcolor",o?e.bordercolor:DBt.defaultLine),r("arrowwidth",2*(o&&s||1)),r("standoff"),r("startstandoff")}var h=r("hovertext"),g=n.hoverlabel||{};if(h){var f=r("hoverlabel.bgcolor",g.bgcolor||(DBt.opacity(i)?DBt.rgb(i):DBt.defaultLine)),p=r("hoverlabel.bordercolor",g.bordercolor||DBt.contrast(f));HBt.coerceFont(r,"hoverlabel.font",{family:g.font.family,size:g.font.size,color:g.font.color||p})}r("captureevents",!!h)},OBt=Q4.exports,zBt=Aat.exports,JBt=Not,jBt=YBt,PBt=MBt;function KBt(t,e,n){function r(n,r){return OBt.coerce(t,e,PBt,n,r)}var i=r("visible"),a=r("clicktoshow");if(i||a){jBt(t,e,n,r);for(var o=e.showarrow,s=["x","y"],l=[-10,-30],c={_fullLayout:n},u=0;u<2;u++){var d=s[u],h=zBt.coerceRef(t,e,c,d,"","paper");if("paper"!==h)zBt.getFromId(c,h)._annIndices.push(e._index);if(zBt.coercePosition(e,c,r,h,d,.5),o){var g="a"+d,f=zBt.coerceRef(t,e,c,g,"pixel",["pixel","paper"]);"pixel"!==f&&f!==h&&(f=e[g]="pixel");var p="pixel"===f?l[u]:.4;zBt.coercePosition(e,c,r,f,g,p)}r(d+"anchor"),r(d+"shift")}if(OBt.noneOrAll(t,e,["x","y"]),o&&OBt.noneOrAll(t,e,["ax","ay"]),a){var v=r("xclick"),m=r("yclick");e._xclick=void 0===v?e.x:zBt.cleanPosition(v,c,e.xref),e._yclick=void 0===m?e.y:zBt.cleanPosition(m,c,e.yref)}}}var qBt=met,$Bt=Q4.exports,tAt=Vit,eAt=function(t){return function(e,n){var r=e[t];if(Array.isArray(r))for(var i=qBt.subplotsRegistry.cartesian,a=i.idRegex,o=n._subplots,s=o.xaxis,l=o.yaxis,c=o.cartesian,u=n._has("cartesian")||n._has("gl2d"),d=0;d<r.length;d++){var h=r[d];if($Bt.isPlainObject(h)){var g=tAt.cleanId(h.xref,"x",!1),f=tAt.cleanId(h.yref,"y",!1),p=a.x.test(g),v=a.y.test(f);if(p||v){u||$Bt.pushUnique(n._basePlotModules,i);var m=!1;p&&-1===s.indexOf(g)&&(s.push(g),m=!0),v&&-1===l.indexOf(f)&&(l.push(f),m=!0),m&&p&&v&&c.push(g+f)}}}}},nAt=Q4.exports,rAt=Aat.exports,iAt=FBt.draw;function aAt(t){var e=t._fullLayout;nAt.filterVisible(e.annotations).forEach((function(e){var n=rAt.getFromId(t,e.xref),r=rAt.getFromId(t,e.yref),i=rAt.getRefType(e.xref),a=rAt.getRefType(e.yref);e._extremes={},"range"===i&&oAt(e,n),"range"===a&&oAt(e,r)}))}function oAt(t,e){var n,r=e._id,i=r.charAt(0),a=t[i],o=t["a"+i],s=t[i+"ref"],l=t["a"+i+"ref"],c=t["_"+i+"padplus"],u=t["_"+i+"padminus"],d={x:1,y:-1}[i]*t[i+"shift"],h=3*t.arrowsize*t.arrowwidth||0,g=h+d,f=h-d,p=3*t.startarrowsize*t.arrowwidth||0,v=p+d,m=p-d;if(l===s){var y=rAt.findExtremes(e,[e.r2c(a)],{ppadplus:g,ppadminus:f}),b=rAt.findExtremes(e,[e.r2c(o)],{ppadplus:Math.max(c,v),ppadminus:Math.max(u,m)});n={min:[y.min[0],b.min[0]],max:[y.max[0],b.max[0]]}}else v=o?v+o:v,m=o?m-o:m,n=rAt.findExtremes(e,[e.r2c(a)],{ppadplus:Math.max(c,g,v),ppadminus:Math.max(u,f,m)});t._extremes[r]=n}var sAt=z6,lAt=ytt,cAt=FBt,uAt=LBt,dAt={moduleType:"component",name:"annotations",layoutAttributes:MBt,supplyLayoutDefaults:function(t,e){JBt(t,e,{name:"annotations",handleItemDefaults:KBt})},includeBasePlot:eAt("annotations"),calcAutorange:function(t){var e=t._fullLayout;if(nAt.filterVisible(e.annotations).length&&t._fullData.length)return nAt.syncOrAsync([iAt,aAt],t)},draw:cAt.draw,drawOne:cAt.drawOne,drawRaw:cAt.drawRaw,hasClickToShow:uAt.hasClickToShow,onClick:uAt.onClick,convertCoords:function(t,e,n,r){e=e||{};var i="log"===n&&"linear"===e.type,a="linear"===n&&"log"===e.type;if(i||a)for(var o,s,l=t._fullLayout.annotations,c=e._id.charAt(0),u=0;u<l.length;u++)o=l[u],s="annotations["+u+"].",o[c+"ref"]===e._id&&d(c),o["a"+c+"ref"]===e._id&&d("a"+c);function d(t){var n=o[t],a=null;a=i?lAt(n,e.range):Math.pow(10,n),sAt(a)||(a=null),r(s+t,a)}}},hAt=MBt,gAt=(0,Fit.overrideAll)((0,Rit.templatedArray)("annotation",{visible:hAt.visible,x:{valType:"any",description:["Sets the annotation's x position."].join(" ")},y:{valType:"any",description:["Sets the annotation's y position."].join(" ")},z:{valType:"any",description:["Sets the annotation's z position."].join(" ")},ax:{valType:"number",description:["Sets the x component of the arrow tail about the arrow head (in pixels)."].join(" ")},ay:{valType:"number",description:["Sets the y component of the arrow tail about the arrow head (in pixels)."].join(" ")},xanchor:hAt.xanchor,xshift:hAt.xshift,yanchor:hAt.yanchor,yshift:hAt.yshift,text:hAt.text,textangle:hAt.textangle,font:hAt.font,width:hAt.width,height:hAt.height,opacity:hAt.opacity,align:hAt.align,valign:hAt.valign,bgcolor:hAt.bgcolor,bordercolor:hAt.bordercolor,borderpad:hAt.borderpad,borderwidth:hAt.borderwidth,showarrow:hAt.showarrow,arrowcolor:hAt.arrowcolor,arrowhead:hAt.arrowhead,startarrowhead:hAt.startarrowhead,arrowside:hAt.arrowside,arrowsize:hAt.arrowsize,startarrowsize:hAt.startarrowsize,arrowwidth:hAt.arrowwidth,standoff:hAt.standoff,startstandoff:hAt.startstandoff,hovertext:hAt.hovertext,hoverlabel:hAt.hoverlabel,captureevents:hAt.captureevents}),"calc","from-root"),fAt=Q4.exports,pAt=Aat.exports,vAt=Not,mAt=YBt,yAt=gAt;function bAt(t,e,n,r){function i(n,r){return fAt.coerce(t,e,yAt,n,r)}function a(t){var r=t+"axis",a={_fullLayout:{}};return a._fullLayout[r]=n[r],pAt.coercePosition(e,a,i,t,t,.5)}i("visible")&&(mAt(t,e,r.fullLayout,i),a("x"),a("y"),a("z"),fAt.noneOrAll(t,e,["x","y","z"]),e.xref="x",e.yref="y",e.zref="z",i("xanchor"),i("yanchor"),i("xshift"),i("yshift"),e.showarrow&&(e.axref="pixel",e.ayref="pixel",i("ax",-10),i("ay",-30),fAt.noneOrAll(t,e,["ax","ay"])))}var IAt=Q4.exports,CAt=Aat.exports;function xAt(t,e){var n=e.fullSceneLayout.domain,r=e.fullLayout._size,i={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};t._xa={},IAt.extendFlat(t._xa,i),CAt.setConvert(t._xa),t._xa._offset=r.l+n.x[0]*r.w,t._xa.l2p=function(){return.5*(1+t._pdata[0]/t._pdata[3])*r.w*(n.x[1]-n.x[0])},t._ya={},IAt.extendFlat(t._ya,i),CAt.setConvert(t._ya),t._ya._offset=r.t+(1-n.y[1])*r.h,t._ya.l2p=function(){return.5*(1-t._pdata[1]/t._pdata[3])*r.h*(n.y[1]-n.y[0])}}function BAt(t,e){var n,r,i=[0,0,0,0];for(n=0;n<4;++n)for(r=0;r<4;++r)i[r]+=t[4*n+r]*e[n];return i}var AAt=function(t,e){return BAt(t.projection,BAt(t.view,BAt(t.model,[e[0],e[1],e[2],1])))},FAt=FBt.drawRaw,QAt=AAt,wAt=["x","y","z"],UAt=met,GAt=Q4.exports,RAt={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:gAt}}},layoutAttributes:gAt,handleDefaults:function(t,e,n){vAt(t,e,{name:"annotations",handleItemDefaults:bAt,fullLayout:n.fullLayout})},includeBasePlot:function(t,e){var n=UAt.subplotsRegistry.gl3d;if(!n)return;for(var r=n.attrRegex,i=Object.keys(t),a=0;a<i.length;a++){var o=i[a];r.test(o)&&(t[o].annotations||[]).length&&(GAt.pushUnique(e._basePlotModules,n),GAt.pushUnique(e._subplots.gl3d,o))}},convert:function(t){for(var e=t.fullSceneLayout.annotations,n=0;n<e.length;n++)xAt(e[n],t);t.fullLayout._infolayer.selectAll(".annotation-"+t.id).remove()},draw:function(t){for(var e=t.fullSceneLayout,n=t.dataScale,r=e.annotations,i=0;i<r.length;i++){for(var a=r[i],o=!1,s=0;s<3;s++){var l=wAt[s],c=a[l],u=e[l+"axis"].r2fraction(c);if(u<0||u>1){o=!0;break}}o?t.fullLayout._infolayer.select(".annotation-"+t.id+'[data-index="'+i+'"]').remove():(a._pdata=QAt(t.glplot.cameraParams,[e.xaxis.r2l(a.x)*n[0],e.yaxis.r2l(a.y)*n[1],e.zaxis.r2l(a.z)*n[2]]),FAt(t.graphDiv,a,i,t.id,a._xa,a._ya))}}};var SAt=MBt,LAt=zbt.line,_At=lnt.dash,EAt=Rtt.extendFlat,kAt=kBt,VAt=(0,Rit.templatedArray)("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw",description:["Determines whether or not this shape is visible."].join(" ")},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw",description:["Specifies the shape type to be drawn.","If *line*, a line is drawn from (`x0`,`y0`) to (`x1`,`y1`)","with respect to the axes' sizing mode.","If *circle*, a circle is drawn from","((`x0`+`x1`)/2, (`y0`+`y1`)/2))","with radius","(|(`x0`+`x1`)/2 - `x0`|, |(`y0`+`y1`)/2 -`y0`)|)","with respect to the axes' sizing mode.","If *rect*, a rectangle is drawn linking","(`x0`,`y0`), (`x1`,`y0`), (`x1`,`y1`), (`x0`,`y1`), (`x0`,`y0`)","with respect to the axes' sizing mode.","If *path*, draw a custom SVG path using `path`.","with respect to the axes' sizing mode."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw",description:"Specifies whether shapes are drawn below or above traces."},xref:EAt({},SAt.xref,{description:["Sets the shape's x coordinate axis.",kAt.axisRefDescription("x","left","right"),"If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, then you must convert","the date to unix time in milliseconds."].join(" ")}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw",description:["Sets the shapes's sizing mode along the x axis.","If set to *scaled*, `x0`, `x1` and x coordinates within `path` refer to","data values on the x axis or a fraction of the plot area's width","(`xref` set to *paper*).","If set to *pixel*, `xanchor` specifies the x position in terms","of data or plot fraction but `x0`, `x1` and x coordinates within `path`","are pixels relative to `xanchor`. This way, the shape can have","a fixed width while maintaining a position relative to data or","plot fraction."].join(" ")},xanchor:{valType:"any",editType:"calc+arraydraw",description:["Only relevant in conjunction with `xsizemode` set to *pixel*.","Specifies the anchor point on the x axis to which `x0`, `x1`","and x coordinates within `path` are relative to.","E.g. useful to attach a pixel sized shape to a certain data value.","No effect when `xsizemode` not set to *pixel*."].join(" ")},x0:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's starting x position.","See `type` and `xsizemode` for more info."].join(" ")},x1:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's end x position.","See `type` and `xsizemode` for more info."].join(" ")},yref:EAt({},SAt.yref,{description:["Sets the annotation's y coordinate axis.",kAt.axisRefDescription("y","bottom","top")].join(" ")}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw",description:["Sets the shapes's sizing mode along the y axis.","If set to *scaled*, `y0`, `y1` and y coordinates within `path` refer to","data values on the y axis or a fraction of the plot area's height","(`yref` set to *paper*).","If set to *pixel*, `yanchor` specifies the y position in terms","of data or plot fraction but `y0`, `y1` and y coordinates within `path`","are pixels relative to `yanchor`. This way, the shape can have","a fixed height while maintaining a position relative to data or","plot fraction."].join(" ")},yanchor:{valType:"any",editType:"calc+arraydraw",description:["Only relevant in conjunction with `ysizemode` set to *pixel*.","Specifies the anchor point on the y axis to which `y0`, `y1`","and y coordinates within `path` are relative to.","E.g. useful to attach a pixel sized shape to a certain data value.","No effect when `ysizemode` not set to *pixel*."].join(" ")},y0:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's starting y position.","See `type` and `ysizemode` for more info."].join(" ")},y1:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's end y position.","See `type` and `ysizemode` for more info."].join(" ")},path:{valType:"string",editType:"calc+arraydraw",description:["For `type` *path* - a valid SVG path with the pixel values","replaced by data values in `xsizemode`/`ysizemode` being *scaled*","and taken unmodified as pixels relative to `xanchor` and `yanchor`","in case of *pixel* size mode.","There are a few restrictions / quirks","only absolute instructions, not relative. So the allowed segments","are: M, L, H, V, Q, C, T, S, and Z","arcs (A) are not allowed because radius rx and ry are relative.","In the future we could consider supporting relative commands,","but we would have to decide on how to handle date and log axes.","Note that even as is, Q and C Bezier paths that are smooth on","linear axes may not be smooth on log, and vice versa.",'no chained "polybezier" commands - specify the segment type for',"each one.","On category axes, values are numbers scaled to the serial numbers","of categories because using the categories themselves there would","be no way to describe fractional positions","On data axes: because space and T are both normal components of path","strings, we can't use either to separate date from time parts.","Therefore we'll use underscore for this purpose:","2015-02-21_13:45:56.789"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the shape."},line:{color:EAt({},LAt.color,{editType:"arraydraw"}),width:EAt({},LAt.width,{editType:"calc+arraydraw"}),dash:EAt({},_At,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw",description:["Sets the color filling the shape's interior. Only applies to closed shapes."].join(" ")},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw",description:["Determines which regions of complex paths constitute the interior.","For more info please visit https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-rule"].join(" ")},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw",description:["Determines whether the shape could be activated for edit or not.","Has no effect when the older editable shapes mode is enabled via","`config.editable` or `config.edits.shapePosition`."].join(" ")},editType:"arraydraw"}),ZAt=Q4.exports,NAt=Aat.exports,TAt=Not,XAt=VAt,WAt=Qft;function MAt(t,e,n){function r(n,r){return ZAt.coerce(t,e,XAt,n,r)}if(r("visible")){var i=r("path"),a=r("type",i?"path":"rect");"path"!==e.type&&delete e.path,r("editable"),r("layer"),r("opacity"),r("fillcolor"),r("fillrule"),r("line.width")&&(r("line.color"),r("line.dash"));for(var o=r("xsizemode"),s=r("ysizemode"),l=["x","y"],c=0;c<2;c++){var u,d,h,g=l[c],f=g+"anchor",p="x"===g?o:s,v={_fullLayout:n},m=NAt.coerceRef(t,e,v,g,void 0,"paper");if("range"===NAt.getRefType(m)?((u=NAt.getFromId(v,m))._shapeIndices.push(e._index),h=WAt.rangeToShapePosition(u),d=WAt.shapePositionToRange(u)):d=h=ZAt.identity,"path"!==a){var y=g+"0",b=g+"1",I=t[y],C=t[b];t[y]=d(t[y],!0),t[b]=d(t[b],!0),"pixel"===p?(r(y,0),r(b,10)):(NAt.coercePosition(e,v,r,m,y,.25),NAt.coercePosition(e,v,r,m,b,.75)),e[y]=h(e[y]),e[b]=h(e[b]),t[y]=I,t[b]=C}if("pixel"===p){var x=t[f];t[f]=d(t[f],!0),NAt.coercePosition(e,v,r,m,f,.25),e[f]=h(e[f]),t[f]=x}}"path"===a?r("path"):ZAt.noneOrAll(t,e,["x0","x1","y0","y1"])}}var HAt=Ott.exports,DAt=Q4.exports,YAt=Aat.exports,OAt=Fft,zAt=Qft;function JAt(t){return PAt(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function jAt(t){return PAt(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function PAt(t,e,n,r,i,a){var o=t/2,s=a;if("pixel"===e){var l=i?zAt.extractPathCoords(i,a?OAt.paramIsY:OAt.paramIsX):[n,r],c=DAt.aggNums(Math.max,null,l),u=DAt.aggNums(Math.min,null,l),d=u<0?Math.abs(u)+o:o,h=c>0?c+o:o;return{ppad:o,ppadplus:s?d:h,ppadminus:s?h:d}}return{ppad:o}}function KAt(t,e,n,r,i){var a="category"===t.type||"multicategory"===t.type?t.r2c:t.d2c;if(void 0!==e)return[a(e),a(n)];if(r){var o,s,l,c,u=1/0,d=-1/0,h=r.match(OAt.segmentRE);for("date"===t.type&&(a=zAt.decodeDate(a)),o=0;o<h.length;o++)void 0!==(s=i[h[o].charAt(0)].drawn)&&(!(l=h[o].substr(1).match(OAt.paramRE))||l.length<s||((c=a(l[s]))<u&&(u=c),c>d&&(d=c)));return d>=u?[u,d]:void 0}}var qAt=Xft,$At={moduleType:"component",name:"shapes",layoutAttributes:VAt,supplyLayoutDefaults:function(t,e){TAt(t,e,{name:"shapes",handleItemDefaults:MAt})},supplyDrawNewShapeDefaults:function(t,e,n){if(n("newshape.drawdirection"),n("newshape.layer"),n("newshape.fillcolor"),n("newshape.fillrule"),n("newshape.opacity"),n("newshape.line.width")){var r=(t||{}).plot_bgcolor||"#FFF";n("newshape.line.color",HAt.contrast(r)),n("newshape.line.dash")}n("activeshape.fillcolor"),n("activeshape.opacity")},includeBasePlot:eAt("shapes"),calcAutorange:function(t){var e=t._fullLayout,n=DAt.filterVisible(e.shapes);if(n.length&&t._fullData.length)for(var r=0;r<n.length;r++){var i,a,o=n[r];o._extremes={};var s=YAt.getRefType(o.xref),l=YAt.getRefType(o.yref);if("paper"!==o.xref&&"domain"!==s){var c="pixel"===o.xsizemode?o.xanchor:o.x0,u="pixel"===o.xsizemode?o.xanchor:o.x1;(a=KAt(i=YAt.getFromId(t,o.xref),c,u,o.path,OAt.paramIsX))&&(o._extremes[i._id]=YAt.findExtremes(i,a,JAt(o)))}if("paper"!==o.yref&&"domain"!==l){var d="pixel"===o.ysizemode?o.yanchor:o.y0,h="pixel"===o.ysizemode?o.yanchor:o.y1;(a=KAt(i=YAt.getFromId(t,o.yref),d,h,o.path,OAt.paramIsY))&&(o._extremes[i._id]=YAt.findExtremes(i,a,jAt(o)))}}},draw:qAt.draw,drawOne:qAt.drawOne},tFt=Nit,eFt=kBt,nFt=(0,Rit.templatedArray)("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw",description:["Determines whether or not this image is visible."].join(" ")},source:{valType:"string",editType:"arraydraw",description:["Specifies the URL of the image to be used.","The URL must be accessible from the domain where the","plot code is run, and can be either relative or absolute."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw",description:["Specifies whether images are drawn below or above traces.","When `xref` and `yref` are both set to `paper`,","image is drawn below the entire plot area."].join(" ")},sizex:{valType:"number",dflt:0,editType:"arraydraw",description:["Sets the image container size horizontally.","The image will be sized based on the `position` value.","When `xref` is set to `paper`, units are sized relative","to the plot width.","When `xref` ends with ` domain`, units are sized relative","to the axis width."].join(" ")},sizey:{valType:"number",dflt:0,editType:"arraydraw",description:["Sets the image container size vertically.","The image will be sized based on the `position` value.","When `yref` is set to `paper`, units are sized relative","to the plot height.","When `yref` ends with ` domain`, units are sized relative","to the axis height."].join(" ")},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw",description:["Specifies which dimension of the image to constrain."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the image."},x:{valType:"any",dflt:0,editType:"arraydraw",description:["Sets the image's x position.","When `xref` is set to `paper`, units are sized relative","to the plot height.","See `xref` for more info"].join(" ")},y:{valType:"any",dflt:0,editType:"arraydraw",description:["Sets the image's y position.","When `yref` is set to `paper`, units are sized relative","to the plot height.","See `yref` for more info"].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw",description:"Sets the anchor for the x position"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw",description:"Sets the anchor for the y position."},xref:{valType:"enumerated",values:["paper",tFt.idRegex.x.toString()],dflt:"paper",editType:"arraydraw",description:["Sets the images's x coordinate axis.",eFt.axisRefDescription("x","left","right")].join(" ")},yref:{valType:"enumerated",values:["paper",tFt.idRegex.y.toString()],dflt:"paper",editType:"arraydraw",description:["Sets the images's y coordinate axis.",eFt.axisRefDescription("y","bottom","top")].join(" ")},editType:"arraydraw"}),rFt=Q4.exports,iFt=Aat.exports,aFt=Not,oFt=nFt;function sFt(t,e,n){function r(n,r){return rFt.coerce(t,e,oFt,n,r)}var i=r("source");if(!r("visible",!!i))return e;r("layer"),r("xanchor"),r("yanchor"),r("sizex"),r("sizey"),r("sizing"),r("opacity");for(var a={_fullLayout:n},o=["x","y"],s=0;s<2;s++){var l=o[s],c=iFt.coerceRef(t,e,a,l,"paper",void 0);if("paper"!==c)iFt.getFromId(a,c)._imgIndices.push(e._index);iFt.coercePosition(e,a,r,c,l,0)}return e}var lFt=w4.exports,cFt=Uat.exports,uFt=Aat.exports,dFt=Vit,hFt=Qat,gFt=z6,fFt=ytt,pFt={moduleType:"component",name:"images",layoutAttributes:nFt,supplyLayoutDefaults:function(t,e){aFt(t,e,{name:"images",handleItemDefaults:sFt})},includeBasePlot:eAt("images"),draw:function(t){var e,n,r=t._fullLayout,i=[],a={},o=[];for(n=0;n<r.images.length;n++){var s=r.images[n];if(s.visible)if("below"===s.layer&&"paper"!==s.xref&&"paper"!==s.yref){e=dFt.ref2id(s.xref)+dFt.ref2id(s.yref);var l=r._plots[e];if(!l){o.push(s);continue}l.mainplot&&(e=l.mainplot.id),a[e]||(a[e]=[]),a[e].push(s)}else"above"===s.layer?i.push(s):o.push(s)}var c={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},u={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function d(e){var n=lFt.select(this);if(this._imgSrc!==e.source)if(n.attr("xmlns",hFt.svg),e.source&&"data:"===e.source.slice(0,5))n.attr("xlink:href",e.source),this._imgSrc=e.source;else{var r=new Promise(function(t){var r=new Image;function i(){n.remove(),t()}this.img=r,r.setAttribute("crossOrigin","anonymous"),r.onerror=i,r.onload=function(){var e=document.createElement("canvas");e.width=this.width,e.height=this.height,e.getContext("2d").drawImage(this,0,0);var r=e.toDataURL("image/png");n.attr("xlink:href",r),t()},n.on("error",i),r.src=e.source,this._imgSrc=e.source}.bind(this));t._promises.push(r)}}function h(e){var n,i,a=lFt.select(this),o=uFt.getFromId(t,e.xref),s=uFt.getFromId(t,e.yref),l="domain"===uFt.getRefType(e.xref),d="domain"===uFt.getRefType(e.yref),h=r._size;n=void 0!==o?"string"==typeof e.xref&&l?o._length*e.sizex:Math.abs(o.l2p(e.sizex)-o.l2p(0)):e.sizex*h.w,i=void 0!==s?"string"==typeof e.yref&&d?s._length*e.sizey:Math.abs(s.l2p(e.sizey)-s.l2p(0)):e.sizey*h.h;var g,f,p=n*c[e.xanchor].offset,v=i*u[e.yanchor].offset,m=c[e.xanchor].sizing+u[e.yanchor].sizing;switch(g=void 0!==o?"string"==typeof e.xref&&l?o._length*e.x+o._offset:o.r2p(e.x)+o._offset:e.x*h.w+h.l,g+=p,f=void 0!==s?"string"==typeof e.yref&&d?s._length*(1-e.y)+s._offset:s.r2p(e.y)+s._offset:h.h-e.y*h.h+h.t,f+=v,e.sizing){case"fill":m+=" slice";break;case"stretch":m="none"}a.attr({x:g,y:f,width:n,height:i,preserveAspectRatio:m,opacity:e.opacity});var y=(o&&"domain"!==uFt.getRefType(e.xref)?o._id:"")+(s&&"domain"!==uFt.getRefType(e.yref)?s._id:"");cFt.setClipUrl(a,y?"clip"+r._uid+y:null,t)}var g=r._imageLowerLayer.selectAll("image").data(o),f=r._imageUpperLayer.selectAll("image").data(i);g.enter().append("image"),f.enter().append("image"),g.exit().remove(),f.exit().remove(),g.each((function(t){d.bind(this)(t),h.bind(this)(t)})),f.each((function(t){d.bind(this)(t),h.bind(this)(t)}));var p=Object.keys(r._plots);for(n=0;n<p.length;n++){e=p[n];var v=r._plots[e];if(v.imagelayer){var m=v.imagelayer.selectAll("image").data(a[e]||[]);m.enter().append("image"),m.exit().remove(),m.each((function(t){d.bind(this)(t),h.bind(this)(t)}))}}},convertCoords:function(t,e,n,r){e=e||{};var i="log"===n&&"linear"===e.type,a="linear"===n&&"log"===e.type;if(i||a)for(var o,s,l=t._fullLayout.images,c=e._id.charAt(0),u=0;u<l.length;u++)if(s="images["+u+"].",(o=l[u])[c+"ref"]===e._id){var d=o[c],h=o["size"+c],g=null,f=null;if(i){g=fFt(d,e.range);var p=h/Math.pow(10,g)/2;f=2*Math.log(p+Math.sqrt(1+p*p))/Math.LN10}else f=(g=Math.pow(10,d))*(Math.pow(10,h/2)-Math.pow(10,-h/2));gFt(g)?gFt(f)||(f=null):(g=null,f=null),r(s+c,g),r(s+"size"+c,f)}}},vFt={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}},mFt=Att,yFt=ztt,bFt=Rtt.extendFlat,IFt=Fit.overrideAll,CFt=hnt,xFt=Rit.templatedArray,BFt=xFt("button",{visible:{valType:"boolean",description:"Determines whether or not this button is visible."},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",description:["Sets the Plotly method to be called on click.","If the `skip` method is used, the API updatemenu will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","updatemenu events manually via JavaScript."].join(" ")},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on click."].join(" ")},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets a 2nd set of `args`,","these arguments values are passed to the Plotly","method set in `method` when clicking this button while in the active state.","Use this to create toggle buttons."].join(" ")},label:{valType:"string",dflt:"",description:"Sets the text label to appear on the button."},execute:{valType:"boolean",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_buttonclicked` method and executing the API command manually without losing","the benefit of the updatemenu automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}}),AFt=IFt(xFt("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean",description:["Determines whether or not the update menu is visible."].join(" ")},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown",description:["Determines whether the buttons are accessible via a dropdown menu","or whether the buttons are stacked horizontally or vertically"].join(" ")},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down",description:["Determines the direction in which the buttons are laid out, whether","in a dropdown menu or a row/column of buttons. For `left` and `up`,","the buttons will still appear in left-to-right or top-to-bottom order","respectively."].join(" ")},active:{valType:"integer",min:-1,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},showactive:{valType:"boolean",dflt:!0,description:"Highlights active dropdown item or active button if true."},buttons:BFt,x:{valType:"number",min:-2,max:3,dflt:-.05,description:"Sets the x position (in normalized coordinates) of the update menu."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right",description:["Sets the update menu's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,description:"Sets the y position (in normalized coordinates) of the update menu."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",description:["Sets the update menu's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},pad:bFt(CFt({editType:"arraydraw"}),{description:"Sets the padding around the buttons or dropdown menu."}),font:mFt({description:"Sets the font of the update menu button text."}),bgcolor:{valType:"color",description:"Sets the background color of the update menu buttons."},bordercolor:{valType:"color",dflt:yFt.borderLine,description:"Sets the color of the border enclosing the update menu."},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw",description:"Sets the width (in px) of the border enclosing the update menu."}}),"arraydraw","from-root"),FFt=Q4.exports,QFt=Not,wFt=AFt,UFt=vFt.name,GFt=wFt.buttons;function RFt(t,e,n){function r(n,r){return FFt.coerce(t,e,wFt,n,r)}r("visible",QFt(t,e,{name:"buttons",handleItemDefaults:SFt}).length>0)&&(r("active"),r("direction"),r("type"),r("showactive"),r("x"),r("y"),FFt.noneOrAll(t,e,["x","y"]),r("xanchor"),r("yanchor"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),FFt.coerceFont(r,"font",n.font),r("bgcolor",n.paper_bgcolor),r("bordercolor"),r("borderwidth"))}function SFt(t,e){function n(n,r){return FFt.coerce(t,e,GFt,n,r)}n("visible","skip"===t.method||Array.isArray(t.args))&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}var LFt=ZFt,_Ft=w4.exports,EFt=Ott.exports,kFt=Uat.exports,VFt=Q4.exports;function ZFt(t,e,n){this.gd=t,this.container=e,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}ZFt.barWidth=2,ZFt.barLength=20,ZFt.barRadius=2,ZFt.barPad=1,ZFt.barColor="#808BA4",ZFt.prototype.enable=function(t,e,n){var r=this.gd._fullLayout,i=r.width,a=r.height;this.position=t;var o,s,l,c,u=this.position.l,d=this.position.w,h=this.position.t,g=this.position.h,f=this.position.direction,p="down"===f,v="left"===f,m="up"===f,y=d,b=g;p||v||"right"===f||m||(this.position.direction="down",p=!0),p||m?(s=(o=u)+y,p?(l=h,b=(c=Math.min(l+b,a))-l):b=(c=h+b)-(l=Math.max(c-b,0))):(c=(l=h)+b,v?y=(s=u+y)-(o=Math.max(s-y,0)):(o=u,y=(s=Math.min(o+y,i))-o)),this._box={l:o,t:l,w:y,h:b};var I=d>y,C=ZFt.barLength+2*ZFt.barPad,x=ZFt.barWidth+2*ZFt.barPad,B=u,A=h+g;A+x>a&&(A=a-x);var F=this.container.selectAll("rect.scrollbar-horizontal").data(I?[0]:[]);F.exit().on(".drag",null).remove(),F.enter().append("rect").classed("scrollbar-horizontal",!0).call(EFt.fill,ZFt.barColor),I?(this.hbar=F.attr({rx:ZFt.barRadius,ry:ZFt.barRadius,x:B,y:A,width:C,height:x}),this._hbarXMin=B+C/2,this._hbarTranslateMax=y-C):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var Q=g>b,w=ZFt.barWidth+2*ZFt.barPad,U=ZFt.barLength+2*ZFt.barPad,G=u+d,R=h;G+w>i&&(G=i-w);var S=this.container.selectAll("rect.scrollbar-vertical").data(Q?[0]:[]);S.exit().on(".drag",null).remove(),S.enter().append("rect").classed("scrollbar-vertical",!0).call(EFt.fill,ZFt.barColor),Q?(this.vbar=S.attr({rx:ZFt.barRadius,ry:ZFt.barRadius,x:G,y:R,width:w,height:U}),this._vbarYMin=R+U/2,this._vbarTranslateMax=b-U):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var L=this.id,_=o-.5,E=Q?s+w+.5:s+.5,k=l-.5,V=I?c+x+.5:c+.5,Z=r._topdefs.selectAll("#"+L).data(I||Q?[0]:[]);if(Z.exit().remove(),Z.enter().append("clipPath").attr("id",L).append("rect"),I||Q?(this._clipRect=Z.select("rect").attr({x:Math.floor(_),y:Math.floor(k),width:Math.ceil(E)-Math.floor(_),height:Math.ceil(V)-Math.floor(k)}),this.container.call(kFt.setClipUrl,L,this.gd),this.bg.attr({x:u,y:h,width:d,height:g})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(kFt.setClipUrl,null),delete this._clipRect),I||Q){var N=_Ft.behavior.drag().on("dragstart",(function(){_Ft.event.sourceEvent.preventDefault()})).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(N);var T=_Ft.behavior.drag().on("dragstart",(function(){_Ft.event.sourceEvent.preventDefault(),_Ft.event.sourceEvent.stopPropagation()})).on("drag",this._onBarDrag.bind(this));I&&this.hbar.on(".drag",null).call(T),Q&&this.vbar.on(".drag",null).call(T)}this.setTranslate(e,n)},ZFt.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(kFt.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},ZFt.prototype._onBoxDrag=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t-=_Ft.event.dx),this.vbar&&(e-=_Ft.event.dy),this.setTranslate(t,e)},ZFt.prototype._onBoxWheel=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t+=_Ft.event.deltaY),this.vbar&&(e+=_Ft.event.deltaY),this.setTranslate(t,e)},ZFt.prototype._onBarDrag=function(){var t=this.translateX,e=this.translateY;if(this.hbar){var n=t+this._hbarXMin,r=n+this._hbarTranslateMax;t=(VFt.constrain(_Ft.event.x,n,r)-n)/(r-n)*(this.position.w-this._box.w)}if(this.vbar){var i=e+this._vbarYMin,a=i+this._vbarTranslateMax;e=(VFt.constrain(_Ft.event.y,i,a)-i)/(a-i)*(this.position.h-this._box.h)}this.setTranslate(t,e)},ZFt.prototype.setTranslate=function(t,e){var n=this.position.w-this._box.w,r=this.position.h-this._box.h;if(t=VFt.constrain(t||0,0,n),e=VFt.constrain(e||0,0,r),this.translateX=t,this.translateY=e,this.container.call(kFt.setTranslate,this._box.l-this.position.l-t,this._box.t-this.position.t-e),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+t-.5),y:Math.floor(this.position.t+e-.5)}),this.hbar){var i=t/n;this.hbar.call(kFt.setTranslate,t+i*this._hbarTranslateMax,e)}if(this.vbar){var a=e/r;this.vbar.call(kFt.setTranslate,t,e+a*this._vbarTranslateMax)}};var NFt=w4.exports,TFt=Git.exports,XFt=Ott.exports,WFt=Uat.exports,MFt=Q4.exports,HFt=Fat,DFt=Rit.arrayEditor,YFt=wat.LINE_SPACING,OFt=vFt,zFt=LFt;function JFt(t){return t._index}function jFt(t,e){return+t.attr(OFt.menuIndexAttrName)===e._index}function PFt(t,e,n,r,i,a,o,s){e.active=o,DFt(t.layout,OFt.name,e).applyUpdate("active",o),"buttons"===e.type?qFt(t,r,null,null,e):"dropdown"===e.type&&(i.attr(OFt.menuIndexAttrName,"-1"),KFt(t,r,i,a,e),s||qFt(t,r,i,a,e))}function KFt(t,e,n,r,i){var a=MFt.ensureSingle(e,"g",OFt.headerClassName,(function(t){t.style("pointer-events","all")})),o=i._dims,s=i.active,l=i.buttons[s]||OFt.blankHeaderOpts,c={y:i.pad.t,yPad:0,x:i.pad.l,xPad:0,index:0},u={width:o.headerWidth,height:o.headerHeight};a.call($Ft,i,l,t).call(sQt,i,c,u);var d=MFt.ensureSingle(e,"text",OFt.headerArrowClassName,(function(t){t.attr("text-anchor","end").call(WFt.font,i.font).text(OFt.arrowSymbol[i.direction])}));d.attr({x:o.headerWidth-OFt.arrowOffsetX+i.pad.l,y:o.headerHeight/2+OFt.textOffsetY+i.pad.t}),a.on("click",(function(){n.call(lQt,String(jFt(n,i)?-1:i._index)),qFt(t,e,n,r,i)})),a.on("mouseover",(function(){a.call(rQt)})),a.on("mouseout",(function(){a.call(iQt,i)})),WFt.setTranslate(e,o.lx,o.ly)}function qFt(t,e,n,r,i){n||(n=e).attr("pointer-events","all");var a=function(t){return-1==+t.attr(OFt.menuIndexAttrName)}(n)&&"buttons"!==i.type?[]:i.buttons,o="dropdown"===i.type?OFt.dropdownButtonClassName:OFt.buttonClassName,s=n.selectAll("g."+o).data(MFt.filterVisible(a)),l=s.enter().append("g").classed(o,!0),c=s.exit();"dropdown"===i.type?(l.attr("opacity","0").transition().attr("opacity","1"),c.transition().attr("opacity","0").remove()):c.remove();var u=0,d=0,h=i._dims,g=-1!==["up","down"].indexOf(i.direction);"dropdown"===i.type&&(g?d=h.headerHeight+OFt.gapButtonHeader:u=h.headerWidth+OFt.gapButtonHeader),"dropdown"===i.type&&"up"===i.direction&&(d=-OFt.gapButtonHeader+OFt.gapButton-h.openHeight),"dropdown"===i.type&&"left"===i.direction&&(u=-OFt.gapButtonHeader+OFt.gapButton-h.openWidth);var f={x:h.lx+u+i.pad.l,y:h.ly+d+i.pad.t,yPad:OFt.gapButton,xPad:OFt.gapButton,index:0},p={l:f.x+i.borderwidth,t:f.y+i.borderwidth};s.each((function(a,o){var l=NFt.select(this);l.call($Ft,i,a,t).call(sQt,i,f),l.on("click",(function(){NFt.event.defaultPrevented||(a.execute&&(a.args2&&i.active===o?(PFt(t,i,0,e,n,r,-1),TFt.executeAPICommand(t,a.method,a.args2)):(PFt(t,i,0,e,n,r,o),TFt.executeAPICommand(t,a.method,a.args))),t.emit("plotly_buttonclicked",{menu:i,button:a,active:i.active}))})),l.on("mouseover",(function(){l.call(rQt)})),l.on("mouseout",(function(){l.call(iQt,i),s.call(nQt,i)}))})),s.call(nQt,i),g?(p.w=Math.max(h.openWidth,h.headerWidth),p.h=f.y-p.t):(p.w=f.x-p.l,p.h=Math.max(h.openHeight,h.headerHeight)),p.direction=i.direction,r&&(s.size()?function(t,e,n,r,i,a){var o,s,l,c=i.direction,u="up"===c||"down"===c,d=i._dims,h=i.active;if(u)for(s=0,l=0;l<h;l++)s+=d.heights[l]+OFt.gapButton;else for(o=0,l=0;l<h;l++)o+=d.widths[l]+OFt.gapButton;r.enable(a,o,s),r.hbar&&r.hbar.attr("opacity","0").transition().attr("opacity","1");r.vbar&&r.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,r,i,p):function(t){var e=!!t.hbar,n=!!t.vbar;e&&t.hbar.transition().attr("opacity","0").each("end",(function(){e=!1,n||t.disable()}));n&&t.vbar.transition().attr("opacity","0").each("end",(function(){n=!1,e||t.disable()}))}(r))}function $Ft(t,e,n,r){t.call(tQt,e).call(eQt,e,n,r)}function tQt(t,e){var n=MFt.ensureSingle(t,"rect",OFt.itemRectClassName,(function(t){t.attr({rx:OFt.rx,ry:OFt.ry,"shape-rendering":"crispEdges"})}));n.call(XFt.stroke,e.bordercolor).call(XFt.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px")}function eQt(t,e,n,r){var i=MFt.ensureSingle(t,"text",OFt.itemTextClassName,(function(t){t.attr({"text-anchor":"start","data-notex":1})})),a=n.label,o=r._fullLayout._meta;o&&(a=MFt.templateString(a,o)),i.call(WFt.font,e.font).text(a).call(HFt.convertToTspans,r)}function nQt(t,e){var n=e.active;t.each((function(t,r){var i=NFt.select(this);r===n&&e.showactive&&i.select("rect."+OFt.itemRectClassName).call(XFt.fill,OFt.activeColor)}))}function rQt(t){t.select("rect."+OFt.itemRectClassName).call(XFt.fill,OFt.hoverColor)}function iQt(t,e){t.select("rect."+OFt.itemRectClassName).call(XFt.fill,e.bgcolor)}function aQt(t,e){var n=e._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},r=WFt.tester.selectAll("g."+OFt.dropdownButtonClassName).data(MFt.filterVisible(e.buttons));r.enter().append("g").classed(OFt.dropdownButtonClassName,!0);var i=-1!==["up","down"].indexOf(e.direction);r.each((function(r,a){var o=NFt.select(this);o.call($Ft,e,r,t);var s=o.select("."+OFt.itemTextClassName),l=s.node()&&WFt.bBox(s.node()).width,c=Math.max(l+OFt.textPadX,OFt.minWidth),u=e.font.size*YFt,d=HFt.lineCount(s),h=Math.max(u*d,OFt.minHeight)+OFt.textOffsetY;h=Math.ceil(h),c=Math.ceil(c),n.widths[a]=c,n.heights[a]=h,n.height1=Math.max(n.height1,h),n.width1=Math.max(n.width1,c),i?(n.totalWidth=Math.max(n.totalWidth,c),n.openWidth=n.totalWidth,n.totalHeight+=h+OFt.gapButton,n.openHeight+=h+OFt.gapButton):(n.totalWidth+=c+OFt.gapButton,n.openWidth+=c+OFt.gapButton,n.totalHeight=Math.max(n.totalHeight,h),n.openHeight=n.totalHeight)})),i?n.totalHeight-=OFt.gapButton:n.totalWidth-=OFt.gapButton,n.headerWidth=n.width1+OFt.arrowPadX,n.headerHeight=n.height1,"dropdown"===e.type&&(i?(n.width1+=OFt.arrowPadX,n.totalHeight=n.height1):n.totalWidth=n.width1,n.totalWidth+=OFt.arrowPadX),r.remove();var a=n.totalWidth+e.pad.l+e.pad.r,o=n.totalHeight+e.pad.t+e.pad.b,s=t._fullLayout._size;n.lx=s.l+s.w*e.x,n.ly=s.t+s.h*(1-e.y);var l="left";MFt.isRightAnchor(e)&&(n.lx-=a,l="right"),MFt.isCenterAnchor(e)&&(n.lx-=a/2,l="center");var c="top";MFt.isBottomAnchor(e)&&(n.ly-=o,c="bottom"),MFt.isMiddleAnchor(e)&&(n.ly-=o/2,c="middle"),n.totalWidth=Math.ceil(n.totalWidth),n.totalHeight=Math.ceil(n.totalHeight),n.lx=Math.round(n.lx),n.ly=Math.round(n.ly),TFt.autoMargin(t,oQt(e),{x:e.x,y:e.y,l:a*({right:1,center:.5}[l]||0),r:a*({left:1,center:.5}[l]||0),b:o*({top:1,middle:.5}[c]||0),t:o*({bottom:1,middle:.5}[c]||0)})}function oQt(t){return OFt.autoMarginIdRoot+t._index}function sQt(t,e,n,r){r=r||{};var i=t.select("."+OFt.itemRectClassName),a=t.select("."+OFt.itemTextClassName),o=e.borderwidth,s=n.index,l=e._dims;WFt.setTranslate(t,o+n.x,o+n.y);var c=-1!==["up","down"].indexOf(e.direction),u=r.height||(c?l.heights[s]:l.height1);i.attr({x:0,y:0,width:r.width||(c?l.width1:l.widths[s]),height:u});var d=e.font.size*YFt,h=(HFt.lineCount(a)-1)*d/2;HFt.positionText(a,OFt.textOffsetX,u/2-h+OFt.textOffsetY),c?n.y+=l.heights[s]+n.yPad:n.x+=l.widths[s]+n.xPad,n.index++}function lQt(t,e){t.attr(OFt.menuIndexAttrName,e||"-1").selectAll("g."+OFt.dropdownButtonClassName).remove()}var cQt={moduleType:"component",name:vFt.name,layoutAttributes:AFt,supplyLayoutDefaults:function(t,e){QFt(t,e,{name:UFt,handleItemDefaults:RFt})},draw:function(t){var e=t._fullLayout,n=MFt.filterVisible(e[OFt.name]);function r(e){TFt.autoMargin(t,oQt(e))}var i=e._menulayer.selectAll("g."+OFt.containerClassName).data(n.length>0?[0]:[]);if(i.enter().append("g").classed(OFt.containerClassName,!0).style("cursor","pointer"),i.exit().each((function(){NFt.select(this).selectAll("g."+OFt.headerGroupClassName).each(r)})).remove(),0!==n.length){var a=i.selectAll("g."+OFt.headerGroupClassName).data(n,JFt);a.enter().append("g").classed(OFt.headerGroupClassName,!0);for(var o=MFt.ensureSingle(i,"g",OFt.dropdownButtonGroupClassName,(function(t){t.style("pointer-events","all")})),s=0;s<n.length;s++){var l=n[s];aQt(t,l)}var c="updatemenus"+e._uid,u=new zFt(t,o,c);a.enter().size()&&(o.node().parentNode.appendChild(o.node()),o.call(lQt)),a.exit().each((function(t){o.call(lQt),r(t)})).remove(),a.each((function(e){var n=NFt.select(this),r="dropdown"===e.type?o:null;TFt.manageCommandObserver(t,e,e.buttons,(function(i){PFt(t,e,e.buttons[i.index],n,r,u,i.index,!0)})),"dropdown"===e.type?(KFt(t,n,o,u,e),jFt(o,e)&&qFt(t,n,o,u,e)):qFt(t,n,null,null,e)}))}}},uQt={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0},dQt=Att,hQt=hnt,gQt=Rtt.extendDeepAll,fQt=Fit.overrideAll,pQt=snt,vQt=Rit.templatedArray,mQt=uQt,yQt=vQt("step",{visible:{valType:"boolean",dflt:!0,description:["Determines whether or not this step is included in the slider."].join(" ")},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",description:["Sets the Plotly method to be called when the slider value is changed.","If the `skip` method is used, the API slider will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","slider events manually via JavaScript."].join(" ")},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on slide."].join(" ")},label:{valType:"string",description:"Sets the text label to appear on the slider"},value:{valType:"string",description:["Sets the value of the slider step, used to refer to the step programatically.","Defaults to the slider label if not provided."].join(" ")},execute:{valType:"boolean",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_sliderchange` method and executing the API command manually without losing","the benefit of the slider automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}}),bQt=fQt(vQt("slider",{visible:{valType:"boolean",dflt:!0,description:["Determines whether or not the slider is visible."].join(" ")},active:{valType:"number",min:0,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},steps:yQt,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction",description:["Determines whether this slider length","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,description:["Sets the length of the slider","This measure excludes the padding of both ends.","That is, the slider's length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:0,description:"Sets the x position (in normalized coordinates) of the slider."},pad:gQt(hQt({editType:"arraydraw"}),{description:"Set the padding of the slider component along each side."},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",description:["Sets the slider's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:0,description:"Sets the y position (in normalized coordinates) of the slider."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",description:["Sets the slider's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},transition:{duration:{valType:"number",min:0,dflt:150,description:"Sets the duration of the slider transition"},easing:{valType:"enumerated",values:pQt.transition.easing.values,dflt:"cubic-in-out",description:"Sets the easing function of the slider transition"}},currentvalue:{visible:{valType:"boolean",dflt:!0,description:["Shows the currently-selected value above the slider."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",description:["The alignment of the value readout relative to the length of the slider."].join(" ")},offset:{valType:"number",dflt:10,description:["The amount of space, in pixels, between the current value label","and the slider."].join(" ")},prefix:{valType:"string",description:"When currentvalue.visible is true, this sets the prefix of the label."},suffix:{valType:"string",description:"When currentvalue.visible is true, this sets the suffix of the label."},font:dQt({description:"Sets the font of the current value label text."})},font:dQt({description:"Sets the font of the slider step labels."}),activebgcolor:{valType:"color",dflt:mQt.gripBgActiveColor,description:["Sets the background color of the slider grip","while dragging."].join(" ")},bgcolor:{valType:"color",dflt:mQt.railBgColor,description:"Sets the background color of the slider."},bordercolor:{valType:"color",dflt:mQt.railBorderColor,description:"Sets the color of the border enclosing the slider."},borderwidth:{valType:"number",min:0,dflt:mQt.railBorderWidth,description:"Sets the width (in px) of the border enclosing the slider."},ticklen:{valType:"number",min:0,dflt:mQt.tickLength,description:"Sets the length in pixels of step tick marks"},tickcolor:{valType:"color",dflt:mQt.tickColor,description:"Sets the color of the border enclosing the slider."},tickwidth:{valType:"number",min:0,dflt:1,description:"Sets the tick width (in px)."},minorticklen:{valType:"number",min:0,dflt:mQt.minorTickLength,description:"Sets the length in pixels of minor step tick marks"}}),"arraydraw","from-root"),IQt=Q4.exports,CQt=Not,xQt=bQt,BQt=uQt.name,AQt=xQt.steps;function FQt(t,e,n){function r(n,r){return IQt.coerce(t,e,xQt,n,r)}for(var i=CQt(t,e,{name:"steps",handleItemDefaults:QQt}),a=0,o=0;o<i.length;o++)i[o].visible&&a++;if(a<2?e.visible=!1:r("visible")){e._stepCount=a;var s=e._visibleSteps=IQt.filterVisible(i);(i[r("active")]||{}).visible||(e.active=s[0]._index),r("x"),r("y"),IQt.noneOrAll(t,e,["x","y"]),r("xanchor"),r("yanchor"),r("len"),r("lenmode"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),IQt.coerceFont(r,"font",n.font),r("currentvalue.visible")&&(r("currentvalue.xanchor"),r("currentvalue.prefix"),r("currentvalue.suffix"),r("currentvalue.offset"),IQt.coerceFont(r,"currentvalue.font",e.font)),r("transition.duration"),r("transition.easing"),r("bgcolor"),r("activebgcolor"),r("bordercolor"),r("borderwidth"),r("ticklen"),r("tickwidth"),r("tickcolor"),r("minorticklen")}}function QQt(t,e){function n(n,r){return IQt.coerce(t,e,AQt,n,r)}if("skip"===t.method||Array.isArray(t.args)?n("visible"):e.visible=!1){n("method"),n("args");var r=n("label","step-"+e._index);n("value",r),n("execute")}}var wQt=w4.exports,UQt=Git.exports,GQt=Ott.exports,RQt=Uat.exports,SQt=Q4.exports,LQt=SQt.strTranslate,_Qt=Fat,EQt=Rit.arrayEditor,kQt=uQt,VQt=wat.LINE_SPACING,ZQt=wat.FROM_TL,NQt=wat.FROM_BR;function TQt(t){return kQt.autoMarginIdRoot+t._index}function XQt(t){return t._index}function WQt(t,e){var n=RQt.tester.selectAll("g."+kQt.labelGroupClass).data(e._visibleSteps);n.enter().append("g").classed(kQt.labelGroupClass,!0);var r=0,i=0;n.each((function(t){var n=DQt(wQt.select(this),{step:t},e).node();if(n){var a=RQt.bBox(n);i=Math.max(i,a.height),r=Math.max(r,a.width)}})),n.remove();var a=e._dims={};a.inputAreaWidth=Math.max(kQt.railWidth,kQt.gripHeight);var o=t._fullLayout._size;a.lx=o.l+o.w*e.x,a.ly=o.t+o.h*(1-e.y),"fraction"===e.lenmode?a.outerLength=Math.round(o.w*e.len):a.outerLength=e.len,a.inputAreaStart=0,a.inputAreaLength=Math.round(a.outerLength-e.pad.l-e.pad.r);var s=(a.inputAreaLength-2*kQt.stepInset)/(e._stepCount-1),l=r+kQt.labelPadding;if(a.labelStride=Math.max(1,Math.ceil(l/s)),a.labelHeight=i,a.currentValueMaxWidth=0,a.currentValueHeight=0,a.currentValueTotalHeight=0,a.currentValueMaxLines=1,e.currentvalue.visible){var c=RQt.tester.append("g");n.each((function(t){var n=MQt(c,e,t.label),r=n.node()&&RQt.bBox(n.node())||{width:0,height:0},i=_Qt.lineCount(n);a.currentValueMaxWidth=Math.max(a.currentValueMaxWidth,Math.ceil(r.width)),a.currentValueHeight=Math.max(a.currentValueHeight,Math.ceil(r.height)),a.currentValueMaxLines=Math.max(a.currentValueMaxLines,i)})),a.currentValueTotalHeight=a.currentValueHeight+e.currentvalue.offset,c.remove()}a.height=a.currentValueTotalHeight+kQt.tickOffset+e.ticklen+kQt.labelOffset+a.labelHeight+e.pad.t+e.pad.b;var u="left";SQt.isRightAnchor(e)&&(a.lx-=a.outerLength,u="right"),SQt.isCenterAnchor(e)&&(a.lx-=a.outerLength/2,u="center");var d="top";SQt.isBottomAnchor(e)&&(a.ly-=a.height,d="bottom"),SQt.isMiddleAnchor(e)&&(a.ly-=a.height/2,d="middle"),a.outerLength=Math.ceil(a.outerLength),a.height=Math.ceil(a.height),a.lx=Math.round(a.lx),a.ly=Math.round(a.ly);var h={y:e.y,b:a.height*NQt[d],t:a.height*ZQt[d]};"fraction"===e.lenmode?(h.l=0,h.xl=e.x-e.len*ZQt[u],h.r=0,h.xr=e.x+e.len*NQt[u]):(h.x=e.x,h.l=a.outerLength*ZQt[u],h.r=a.outerLength*NQt[u]),UQt.autoMargin(t,TQt(e),h)}function MQt(t,e,n){if(e.currentvalue.visible){var r,i,a=e._dims;switch(e.currentvalue.xanchor){case"right":r=a.inputAreaLength-kQt.currentValueInset-a.currentValueMaxWidth,i="left";break;case"center":r=.5*a.inputAreaLength,i="middle";break;default:r=kQt.currentValueInset,i="left"}var o=SQt.ensureSingle(t,"text",kQt.labelClass,(function(t){t.attr({"text-anchor":i,"data-notex":1})})),s=e.currentvalue.prefix?e.currentvalue.prefix:"";if("string"==typeof n)s+=n;else{var l=e.steps[e.active].label,c=e._gd._fullLayout._meta;c&&(l=SQt.templateString(l,c)),s+=l}e.currentvalue.suffix&&(s+=e.currentvalue.suffix),o.call(RQt.font,e.currentvalue.font).text(s).call(_Qt.convertToTspans,e._gd);var u=_Qt.lineCount(o),d=(a.currentValueMaxLines+1-u)*e.currentvalue.font.size*VQt;return _Qt.positionText(o,r,d),o}}function HQt(t,e,n){var r=SQt.ensureSingle(t,"rect",kQt.gripRectClass,(function(r){r.call(JQt,e,t,n).style("pointer-events","all")}));r.attr({width:kQt.gripWidth,height:kQt.gripHeight,rx:kQt.gripRadius,ry:kQt.gripRadius}).call(GQt.stroke,n.bordercolor).call(GQt.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px")}function DQt(t,e,n){var r=SQt.ensureSingle(t,"text",kQt.labelClass,(function(t){t.attr({"text-anchor":"middle","data-notex":1})})),i=e.step.label,a=n._gd._fullLayout._meta;return a&&(i=SQt.templateString(i,a)),r.call(RQt.font,n.font).text(i).call(_Qt.convertToTspans,n._gd),r}function YQt(t,e){var n=SQt.ensureSingle(t,"g",kQt.labelsClass),r=e._dims,i=n.selectAll("g."+kQt.labelGroupClass).data(r.labelSteps);i.enter().append("g").classed(kQt.labelGroupClass,!0),i.exit().remove(),i.each((function(t){var n=wQt.select(this);n.call(DQt,t,e),RQt.setTranslate(n,KQt(e,t.fraction),kQt.tickOffset+e.ticklen+e.font.size*VQt+kQt.labelOffset+r.currentValueTotalHeight)}))}function OQt(t,e,n,r,i){var a=Math.round(r*(n._stepCount-1)),o=n._visibleSteps[a]._index;o!==n.active&&zQt(t,e,n,o,!0,i)}function zQt(t,e,n,r,i,a){var o=n.active;n.active=r,EQt(t.layout,kQt.name,n).applyUpdate("active",r);var s=n.steps[n.active];e.call(PQt,n,a),e.call(MQt,n),t.emit("plotly_sliderchange",{slider:n,step:n.steps[n.active],interaction:i,previousActive:o}),s&&s.method&&i&&(e._nextMethod?(e._nextMethod.step=s,e._nextMethod.doCallback=i,e._nextMethod.doTransition=a):(e._nextMethod={step:s,doCallback:i,doTransition:a},e._nextMethodRaf=window.requestAnimationFrame((function(){var n=e._nextMethod.step;n.method&&(n.execute&&UQt.executeAPICommand(t,n.method,n.args),e._nextMethod=null,e._nextMethodRaf=null)}))))}function JQt(t,e,n){var r=n.node(),i=wQt.select(e);function a(){return n.data()[0]}function o(){var t=a();e.emit("plotly_sliderstart",{slider:t});var o=n.select("."+kQt.gripRectClass);wQt.event.stopPropagation(),wQt.event.preventDefault(),o.call(GQt.fill,t.activebgcolor);var s=qQt(t,wQt.mouse(r)[0]);function l(){var t=a(),i=qQt(t,wQt.mouse(r)[0]);OQt(e,n,t,i,!1)}function c(){var t=a();t._dragging=!1,o.call(GQt.fill,t.bgcolor),i.on("mouseup",null),i.on("mousemove",null),i.on("touchend",null),i.on("touchmove",null),e.emit("plotly_sliderend",{slider:t,step:t.steps[t.active]})}OQt(e,n,t,s,!0),t._dragging=!0,i.on("mousemove",l),i.on("touchmove",l),i.on("mouseup",c),i.on("touchend",c)}t.on("mousedown",o),t.on("touchstart",o)}function jQt(t,e){var n=t.selectAll("rect."+kQt.tickRectClass).data(e._visibleSteps),r=e._dims;n.enter().append("rect").classed(kQt.tickRectClass,!0),n.exit().remove(),n.attr({width:e.tickwidth+"px","shape-rendering":"crispEdges"}),n.each((function(t,n){var i=n%r.labelStride==0,a=wQt.select(this);a.attr({height:i?e.ticklen:e.minorticklen}).call(GQt.fill,e.tickcolor),RQt.setTranslate(a,KQt(e,n/(e._stepCount-1))-.5*e.tickwidth,(i?kQt.tickOffset:kQt.minorTickOffset)+r.currentValueTotalHeight)}))}function PQt(t,e,n){for(var r=t.select("rect."+kQt.gripRectClass),i=0,a=0;a<e._stepCount;a++)if(e._visibleSteps[a]._index===e.active){i=a;break}var o=KQt(e,i/(e._stepCount-1));if(!e._invokingCommand){var s=r;n&&e.transition.duration>0&&(s=s.transition().duration(e.transition.duration).ease(e.transition.easing)),s.attr("transform",LQt(o-.5*kQt.gripWidth,e._dims.currentValueTotalHeight))}}function KQt(t,e){var n=t._dims;return n.inputAreaStart+kQt.stepInset+(n.inputAreaLength-2*kQt.stepInset)*Math.min(1,Math.max(0,e))}function qQt(t,e){var n=t._dims;return Math.min(1,Math.max(0,(e-kQt.stepInset-n.inputAreaStart)/(n.inputAreaLength-2*kQt.stepInset-2*n.inputAreaStart)))}function $Qt(t,e,n){var r=n._dims,i=SQt.ensureSingle(t,"rect",kQt.railTouchRectClass,(function(r){r.call(JQt,e,t,n).style("pointer-events","all")}));i.attr({width:r.inputAreaLength,height:Math.max(r.inputAreaWidth,kQt.tickOffset+n.ticklen+r.labelHeight)}).call(GQt.fill,n.bgcolor).attr("opacity",0),RQt.setTranslate(i,0,r.currentValueTotalHeight)}function twt(t,e){var n=e._dims,r=n.inputAreaLength-2*kQt.railInset,i=SQt.ensureSingle(t,"rect",kQt.railRectClass);i.attr({width:r,height:kQt.railWidth,rx:kQt.railRadius,ry:kQt.railRadius,"shape-rendering":"crispEdges"}).call(GQt.stroke,e.bordercolor).call(GQt.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px"),RQt.setTranslate(i,kQt.railInset,.5*(n.inputAreaWidth-kQt.railWidth)+n.currentValueTotalHeight)}var ewt={moduleType:"component",name:uQt.name,layoutAttributes:bQt,supplyLayoutDefaults:function(t,e){CQt(t,e,{name:BQt,handleItemDefaults:FQt})},draw:function(t){var e=t._fullLayout,n=function(t,e){for(var n=t[kQt.name],r=[],i=0;i<n.length;i++){var a=n[i];a.visible&&(a._gd=e,r.push(a))}return r}(e,t),r=e._infolayer.selectAll("g."+kQt.containerClassName).data(n.length>0?[0]:[]);function i(e){e._commandObserver&&(e._commandObserver.remove(),delete e._commandObserver),UQt.autoMargin(t,TQt(e))}if(r.enter().append("g").classed(kQt.containerClassName,!0).style("cursor","ew-resize"),r.exit().each((function(){wQt.select(this).selectAll("g."+kQt.groupClassName).each(i)})).remove(),0!==n.length){var a=r.selectAll("g."+kQt.groupClassName).data(n,XQt);a.enter().append("g").classed(kQt.groupClassName,!0),a.exit().each(i).remove();for(var o=0;o<n.length;o++){var s=n[o];WQt(t,s)}a.each((function(e){var n=wQt.select(this);!function(t){var e=t._dims;e.labelSteps=[];for(var n=t._stepCount,r=0;r<n;r+=e.labelStride)e.labelSteps.push({fraction:r/(n-1),step:t._visibleSteps[r]})}(e),UQt.manageCommandObserver(t,e,e._visibleSteps,(function(e){var r=n.data()[0];r.active!==e.index&&(r._dragging||zQt(t,n,r,e.index,!1,!0))})),function(t,e,n){(n.steps[n.active]||{}).visible||(n.active=n._visibleSteps[0]._index);e.call(MQt,n).call(twt,n).call(YQt,n).call(jQt,n).call($Qt,t,n).call(HQt,t,n);var r=n._dims;RQt.setTranslate(e,r.lx+n.pad.l,r.ly+n.pad.t),e.call(PQt,n,!1),e.call(MQt,n)}(t,wQt.select(this),e)}))}}},nwt=ztt,rwt={bgcolor:{valType:"color",dflt:nwt.background,editType:"plot",description:"Sets the background color of the range slider."},bordercolor:{valType:"color",dflt:nwt.defaultLine,editType:"plot",description:"Sets the border color of the range slider."},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot",description:"Sets the border width of the range slider."},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Determines whether or not the range slider range is","computed in relation to the input data.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1},description:["Sets the range of the range slider.","If not set, defaults to the full xaxis range.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot",description:["The height of the range slider as a fraction of the","total plot area height."].join(" ")},visible:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether or not the range slider will be visible.","If visible, perpendicular axes will be set to `fixedrange`"].join(" ")},editType:"calc"},iwt={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc",description:["Determines whether or not the range of this axis in","the rangeslider use the same value than in the main plot","when zooming in/out.","If *auto*, the autorange will be used.","If *fixed*, the `range` is used.","If *match*, the current range of the corresponding y-axis on the main subplot is used."].join(" ")},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot",description:["Sets the range of this axis for the rangeslider."].join(" ")},editType:"calc"},awt={},owt={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15},swt=Vit,lwt=Fat,cwt=owt,uwt=wat.LINE_SPACING,dwt=cwt.name;function hwt(t){var e=t&&t[dwt];return e&&e.visible}awt.isVisible=hwt,awt.makeData=function(t){var e=swt.list({_fullLayout:t},"x",!0),n=t.margin,r=[];if(!t._has("gl2d"))for(var i=0;i<e.length;i++){var a=e[i];if(hwt(a)){r.push(a);var o=a[dwt];o._id=dwt+a._id,o._height=(t.height-n.b-n.t)*o.thickness,o._offsetShift=Math.floor(o.borderwidth/2)}}t._rangeSliderData=r},awt.autoMarginOpts=function(t,e){var n=t._fullLayout,r=e[dwt],i=e._id.charAt(0),a=0,o=0;"bottom"===e.side&&(a=e._depth,e.title.text!==n._dfltTitle[i]&&(o=1.5*e.title.font.size+10+r._offsetShift,o+=(e.title.text.match(lwt.BR_TAG_ALL)||[]).length*e.title.font.size*uwt));return{x:0,y:e._counterDomainMin,l:0,r:0,t:0,b:r._height+a+Math.max(n.margin.b,o),pad:cwt.extraPad+2*r._offsetShift}};var gwt=Q4.exports,fwt=Rit,pwt=Vit,vwt=rwt,mwt=iwt,ywt=Vit.list,bwt=hct.getAutoRange,Iwt=owt,Cwt=w4.exports,xwt=met,Bwt=Git.exports,Awt=Q4.exports,Fwt=Awt.strTranslate,Qwt=Uat.exports,wwt=Ott.exports,Uwt=xlt,Gwt=XCt,Rwt=Vit,Swt=Jut.exports,Lwt=fdt,_wt=owt;function Ewt(t,e,n,r){var i=Awt.ensureSingle(t,"rect",_wt.bgClassName,(function(t){t.attr({x:0,y:0,"shape-rendering":"crispEdges"})})),a=r.borderwidth%2==0?r.borderwidth:r.borderwidth-1,o=-r._offsetShift,s=Qwt.crispRound(e,r.borderwidth);i.attr({width:r._width+a,height:r._height+a,transform:Fwt(o,o),fill:r.bgcolor,stroke:r.bordercolor,"stroke-width":s})}function kwt(t,e,n,r){var i=e._fullLayout,a=Awt.ensureSingleById(i._topdefs,"clipPath",r._clipId,(function(t){t.append("rect").attr({x:0,y:0})}));a.select("rect").attr({width:r._width,height:r._height})}function Vwt(t,e,n,r){var i,a=e.calcdata,o=t.selectAll("g."+_wt.rangePlotClassName).data(n._subplotsWith,Awt.identity);o.enter().append("g").attr("class",(function(t){return _wt.rangePlotClassName+" "+t})).call(Qwt.setClipUrl,r._clipId,e),o.order(),o.exit().remove(),o.each((function(t,o){var s=Cwt.select(this),l=0===o,c=Rwt.getFromId(e,t,"y"),u=c._name,d=r[u],h={data:[],layout:{xaxis:{type:n.type,domain:[0,1],range:r.range.slice(),calendar:n.calendar},width:r._width,height:r._height,margin:{t:0,b:0,l:0,r:0}},_context:e._context};n.rangebreaks&&(h.layout.xaxis.rangebreaks=n.rangebreaks),h.layout[u]={type:c.type,domain:[0,1],range:"match"!==d.rangemode?d.range.slice():c.range.slice(),calendar:c.calendar},c.rangebreaks&&(h.layout[u].rangebreaks=c.rangebreaks),Bwt.supplyDefaults(h);var g=h._fullLayout.xaxis,f=h._fullLayout[u];g.clearCalc(),g.setScale(),f.clearCalc(),f.setScale();var p={id:t,plotgroup:s,xaxis:g,yaxis:f,isRangePlot:!0};l?i=p:(p.mainplot="xy",p.mainplotinfo=i),Gwt.rangePlot(e,p,function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],a=i[0].trace;a.xaxis+a.yaxis===e&&n.push(i)}return n}(a,t))}))}function Zwt(t,e,n,r,i){var a=Awt.ensureSingle(t,"rect",_wt.maskMinClassName,(function(t){t.attr({x:0,y:0,"shape-rendering":"crispEdges"})}));a.attr("height",r._height).call(wwt.fill,_wt.maskColor);var o=Awt.ensureSingle(t,"rect",_wt.maskMaxClassName,(function(t){t.attr({y:0,"shape-rendering":"crispEdges"})}));if(o.attr("height",r._height).call(wwt.fill,_wt.maskColor),"match"!==i.rangemode){var s=Awt.ensureSingle(t,"rect",_wt.maskMinOppAxisClassName,(function(t){t.attr({y:0,"shape-rendering":"crispEdges"})}));s.attr("width",r._width).call(wwt.fill,_wt.maskOppAxisColor);var l=Awt.ensureSingle(t,"rect",_wt.maskMaxOppAxisClassName,(function(t){t.attr({y:0,"shape-rendering":"crispEdges"})}));l.attr("width",r._width).style("border-top",_wt.maskOppBorder).call(wwt.fill,_wt.maskOppAxisColor)}}function Nwt(t,e,n,r){if(!e._context.staticPlot){var i=Awt.ensureSingle(t,"rect",_wt.slideBoxClassName,(function(t){t.attr({y:0,cursor:_wt.slideBoxCursor,"shape-rendering":"crispEdges"})}));i.attr({height:r._height,fill:_wt.slideBoxFill})}}function Twt(t,e,n,r){var i=Awt.ensureSingle(t,"g",_wt.grabberMinClassName),a=Awt.ensureSingle(t,"g",_wt.grabberMaxClassName),o={x:0,width:_wt.handleWidth,rx:_wt.handleRadius,fill:wwt.background,stroke:wwt.defaultLine,"stroke-width":_wt.handleStrokeWidth,"shape-rendering":"crispEdges"},s={y:Math.round(r._height/4),height:Math.round(r._height/2)},l=Awt.ensureSingle(i,"rect",_wt.handleMinClassName,(function(t){t.attr(o)}));l.attr(s);var c=Awt.ensureSingle(a,"rect",_wt.handleMaxClassName,(function(t){t.attr(o)}));c.attr(s);var u={width:_wt.grabAreaWidth,x:0,y:0,fill:_wt.grabAreaFill,cursor:e._context.staticPlot?void 0:_wt.grabAreaCursor},d=Awt.ensureSingle(i,"rect",_wt.grabAreaMinClassName,(function(t){t.attr(u)}));d.attr("height",r._height);var h=Awt.ensureSingle(a,"rect",_wt.grabAreaMaxClassName,(function(t){t.attr(u)}));h.attr("height",r._height)}var Xwt=rwt,Wwt=iwt,Mwt=awt,Hwt={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:Q4.exports.extendFlat({},Xwt,{yaxis:Wwt})}}},layoutAttributes:rwt,handleDefaults:function(t,e,n){var r=t[n],i=e[n];if(r.rangeslider||e._requestRangeslider[i._id]){gwt.isPlainObject(r.rangeslider)||(r.rangeslider={});var a,o,s=r.rangeslider,l=fwt.newContainer(i,"rangeslider");if(v("visible")){v("bgcolor",e.plot_bgcolor),v("bordercolor"),v("borderwidth"),v("thickness"),v("autorange",!i.isValidRange(s.range)),v("range");var c=e._subplots;if(c)for(var u=c.cartesian.filter((function(t){return t.substr(0,t.indexOf("y"))===pwt.name2id(n)})).map((function(t){return t.substr(t.indexOf("y"),t.length)})),d=gwt.simpleMap(u,pwt.id2name),h=0;h<d.length;h++){var g=d[h];a=s[g]||{},o=fwt.newContainer(l,g,"yaxis");var f,p=e[g];a.range&&p.isValidRange(a.range)&&(f="fixed"),"match"!==m("rangemode",f)&&m("range",p.range.slice())}l._input=s}}function v(t,e){return gwt.coerce(s,l,vwt,t,e)}function m(t,e){return gwt.coerce(a,o,mwt,t,e)}},calcAutorange:function(t){for(var e=ywt(t,"x",!0),n=0;n<e.length;n++){var r=e[n],i=r[Iwt.name];i&&i.visible&&i.autorange&&(i._input.autorange=!0,i._input.range=i.range=bwt(t,r))}},draw:function(t){for(var e=t._fullLayout,n=e._rangeSliderData,r=0;r<n.length;r++){var i=n[r][_wt.name];i._clipId=i._id+"-"+e._uid}var a=e._infolayer.selectAll("g."+_wt.containerClassName).data(n,(function(t){return t._name}));a.exit().each((function(t){var n=t[_wt.name];e._topdefs.select("#"+n._clipId).remove()})).remove(),0!==n.length&&(a.enter().append("g").classed(_wt.containerClassName,!0).attr("pointer-events","all"),a.each((function(n){var r=Cwt.select(this),i=n[_wt.name],a=e[Rwt.id2name(n.anchor)],o=i[Rwt.id2name(n.anchor)];if(i.range){var s,l=Awt.simpleMap(i.range,n.r2l),c=Awt.simpleMap(n.range,n.r2l);s=c[0]<c[1]?[Math.min(l[0],c[0]),Math.max(l[1],c[1])]:[Math.max(l[0],c[0]),Math.min(l[1],c[1])],i.range=i._input.range=Awt.simpleMap(s,n.l2r)}n.cleanRange("rangeslider.range");var u=e._size,d=n.domain;i._width=u.w*(d[1]-d[0]);var h=Math.round(u.l+u.w*d[0]),g=Math.round(u.t+u.h*(1-n._counterDomainMin)+("bottom"===n.side?n._depth:0)+i._offsetShift+_wt.extraPad);r.attr("transform",Fwt(h,g)),i._rl=Awt.simpleMap(i.range,n.r2l);var f=i._rl[0],p=i._rl[1],v=p-f;if(i.p2d=function(t){return t/i._width*v+f},i.d2p=function(t){return(t-f)/v*i._width},n.rangebreaks){var m=n.locateBreaks(f,p);if(m.length){var y,b,I=0;for(y=0;y<m.length;y++)I+=(b=m[y]).max-b.min;var C=i._width/(p-f-I),x=[-C*f];for(y=0;y<m.length;y++)b=m[y],x.push(x[x.length-1]-C*(b.max-b.min));for(i.d2p=function(t){for(var e=x[0],n=0;n<m.length;n++){var r=m[n];if(t>=r.max)e=x[n+1];else if(t<r.min)break}return e+C*t},y=0;y<m.length;y++)(b=m[y]).pmin=i.d2p(b.min),b.pmax=i.d2p(b.max);i.p2d=function(t){for(var e=x[0],n=0;n<m.length;n++){var r=m[n];if(t>=r.pmax)e=x[n+1];else if(t<r.pmin)break}return(t-e)/C}}}if("match"!==o.rangemode){var B=a.r2l(o.range[0]),A=a.r2l(o.range[1])-B;i.d2pOppAxis=function(t){return(t-B)/A*i._height}}r.call(Ewt,t,n,i).call(kwt,t,n,i).call(Vwt,t,n,i).call(Zwt,t,n,i,o).call(Nwt,t,n,i).call(Twt,t,n,i),function(t,e,n,r){if(e._context.staticPlot)return;var i=t.select("rect."+_wt.slideBoxClassName).node(),a=t.select("rect."+_wt.grabAreaMinClassName).node(),o=t.select("rect."+_wt.grabAreaMaxClassName).node();function s(){var s=Cwt.event,l=s.target,c=s.clientX||s.touches[0].clientX,u=c-t.node().getBoundingClientRect().left,d=r.d2p(n._rl[0]),h=r.d2p(n._rl[1]),g=Swt.coverSlip();function f(t){var s,f,p,v=+(t.clientX||t.touches[0].clientX)-c;switch(l){case i:p="ew-resize",s=d+v,f=h+v;break;case a:p="col-resize",s=d+v,f=h;break;case o:p="col-resize",s=d,f=h+v;break;default:p="ew-resize",s=u,f=u+v}if(f<s){var m=f;f=s,s=m}r._pixelMin=s,r._pixelMax=f,Lwt(Cwt.select(g),p),function(t,e,n,r){function i(t){return n.l2r(Awt.constrain(t,r._rl[0],r._rl[1]))}var a=i(r.p2d(r._pixelMin)),o=i(r.p2d(r._pixelMax));window.requestAnimationFrame((function(){xwt.call("_guiRelayout",e,n._name+".range",[a,o])}))}(0,e,n,r)}function p(){g.removeEventListener("mousemove",f),g.removeEventListener("mouseup",p),this.removeEventListener("touchmove",f),this.removeEventListener("touchend",p),Awt.removeElement(g)}this.addEventListener("touchmove",f),this.addEventListener("touchend",p),g.addEventListener("mousemove",f),g.addEventListener("mouseup",p)}t.on("mousedown",s),t.on("touchstart",s)}(r,t,n,i),function(t,e,n,r,i,a){var o=_wt.handleWidth/2;function s(t){return Awt.constrain(t,0,r._width)}function l(t){return Awt.constrain(t,0,r._height)}function c(t){return Awt.constrain(t,-o,r._width+o)}var u=s(r.d2p(n._rl[0])),d=s(r.d2p(n._rl[1]));if(t.select("rect."+_wt.slideBoxClassName).attr("x",u).attr("width",d-u),t.select("rect."+_wt.maskMinClassName).attr("width",u),t.select("rect."+_wt.maskMaxClassName).attr("x",d).attr("width",r._width-d),"match"!==a.rangemode){var h=r._height-l(r.d2pOppAxis(i._rl[1])),g=r._height-l(r.d2pOppAxis(i._rl[0]));t.select("rect."+_wt.maskMinOppAxisClassName).attr("x",u).attr("height",h).attr("width",d-u),t.select("rect."+_wt.maskMaxOppAxisClassName).attr("x",u).attr("y",g).attr("height",r._height-g).attr("width",d-u),t.select("rect."+_wt.slideBoxClassName).attr("y",h).attr("height",g-h)}var f=.5,p=Math.round(c(u-o))-f,v=Math.round(c(d-o))+f;t.select("g."+_wt.grabberMinClassName).attr("transform",Fwt(p,f)),t.select("g."+_wt.grabberMaxClassName).attr("transform",Fwt(v,f))}(r,0,n,i,a,o),"bottom"===n.side&&Uwt.draw(t,n._id+"title",{propContainer:n,propName:n._name+".title",placeholder:e._dfltTitle.x,attributes:{x:n._offset+n._length/2,y:g+i._height+i._offsetShift+10+1.5*n.title.font.size,"text-anchor":"middle"}})})))},isVisible:Mwt.isVisible,makeData:Mwt.makeData,autoMarginOpts:Mwt.autoMarginOpts},Dwt=Att,Ywt=ztt,Owt=(0,Rit.templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot",description:"Determines whether or not this button is visible."},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot",description:["The unit of measurement that the `count` value will set the range by."].join(" ")},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot",description:["Sets the range update mode.","If *backward*, the range update shifts the start of range","back *count* times *step* milliseconds.","If *todate*, the range update shifts the start of range","back to the first timestamp from *count* times","*step* milliseconds back.","For example, with `step` set to *year* and `count` set to *1*","the range update shifts the start of the range back to","January 01 of the current year.","Month and year *todate* are currently available only","for the built-in (Gregorian) calendar."].join(" ")},count:{valType:"number",min:0,dflt:1,editType:"plot",description:["Sets the number of steps to take to update the range.","Use with `step` to specify the update interval."].join(" ")},label:{valType:"string",editType:"plot",description:"Sets the text label to appear on the button."},editType:"plot",description:["Sets the specifications for each buttons.","By default, a range selector comes with no buttons."].join(" ")}),zwt={visible:{valType:"boolean",editType:"plot",description:["Determines whether or not this range selector is visible.","Note that range selectors are only available for x axes of","`type` set to or auto-typed to *date*."].join(" ")},buttons:Owt,x:{valType:"number",min:-2,max:3,editType:"plot",description:"Sets the x position (in normalized coordinates) of the range selector."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot",description:["Sets the range selector's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,editType:"plot",description:"Sets the y position (in normalized coordinates) of the range selector."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot",description:["Sets the range selector's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},font:Dwt({editType:"plot",description:"Sets the font of the range selector button text."}),bgcolor:{valType:"color",dflt:Ywt.lightLine,editType:"plot",description:"Sets the background color of the range selector buttons."},activecolor:{valType:"color",editType:"plot",description:"Sets the background color of the active range selector button."},bordercolor:{valType:"color",dflt:Ywt.defaultLine,editType:"plot",description:"Sets the color of the border enclosing the range selector."},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot",description:"Sets the width (in px) of the border enclosing the range selector."},editType:"plot"},Jwt={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10},jwt=Q4.exports,Pwt=Ott.exports,Kwt=Rit,qwt=Not,$wt=zwt,tUt=Jwt;function eUt(t,e,n,r){var i=r.calendar;function a(n,r){return jwt.coerce(t,e,$wt.buttons,n,r)}if(a("visible")){var o=a("step");"all"!==o&&(!i||"gregorian"===i||"month"!==o&&"year"!==o?a("stepmode"):e.stepmode="backward",a("count")),a("label")}}var nUt=n(J7),rUt=Q4.exports.titleCase;var iUt=w4.exports,aUt=met,oUt=Git.exports,sUt=Ott.exports,lUt=Uat.exports,cUt=Q4.exports,uUt=cUt.strTranslate,dUt=Fat,hUt=Vit,gUt=wat.LINE_SPACING,fUt=wat.FROM_TL,pUt=wat.FROM_BR,vUt=Jwt,mUt=function(t,e){var n=t._name,r={};if("all"===e.step)r[n+".autorange"]=!0;else{var i=function(t,e){var n,r=t.range,i=new Date(t.r2l(r[1])),a=e.step,o=nUt["utc"+rUt(a)],s=e.count;switch(e.stepmode){case"backward":n=t.l2r(+o.offset(i,-s));break;case"todate":var l=o.offset(i,-s);n=t.l2r(+o.ceil(l))}var c=r[1];return[n,c]}(t,e);r[n+".range[0]"]=i[0],r[n+".range[1]"]=i[1]}return r};function yUt(t){return t._id}function bUt(t,e,n){var r=cUt.ensureSingle(t,"rect","selector-rect",(function(t){t.attr("shape-rendering","crispEdges")}));r.attr({rx:vUt.rx,ry:vUt.ry}),r.call(sUt.stroke,e.bordercolor).call(sUt.fill,function(t,e){return e._isActive||e._isHovered?t.activecolor:t.bgcolor}(e,n)).style("stroke-width",e.borderwidth+"px")}function IUt(t,e,n,r){var i=cUt.ensureSingle(t,"text","selector-text",(function(t){t.attr("text-anchor","middle")}));i.call(lUt.font,e.font).text(function(t,e){if(t.label)return e?cUt.templateString(t.label,e):t.label;return"all"===t.step?"all":t.count+t.step.charAt(0)}(n,r._fullLayout._meta)).call((function(t){dUt.convertToTspans(t,r)}))}var CUt={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:zwt}}},layoutAttributes:zwt,handleDefaults:function(t,e,n,r,i){var a=t.rangeselector||{},o=Kwt.newContainer(e,"rangeselector");function s(t,e){return jwt.coerce(a,o,$wt,t,e)}if(s("visible",qwt(a,o,{name:"buttons",handleItemDefaults:eUt,calendar:i}).length>0)){var l=function(t,e,n){for(var r=n.filter((function(n){return e[n].anchor===t._id})),i=0,a=0;a<r.length;a++){var o=e[r[a]].domain;o&&(i=Math.max(o[1],i))}return[t.domain[0],i+tUt.yPad]}(e,n,r);s("x",l[0]),s("y",l[1]),jwt.noneOrAll(t,e,["x","y"]),s("xanchor"),s("yanchor"),jwt.coerceFont(s,"font",n.font);var c=s("bgcolor");s("activecolor",Pwt.contrast(c,tUt.lightAmount,tUt.darkAmount)),s("bordercolor"),s("borderwidth")}},draw:function(t){var e=t._fullLayout._infolayer.selectAll(".rangeselector").data(function(t){for(var e=hUt.list(t,"x",!0),n=[],r=0;r<e.length;r++){var i=e[r];i.rangeselector&&i.rangeselector.visible&&n.push(i)}return n}(t),yUt);e.enter().append("g").classed("rangeselector",!0),e.exit().remove(),e.style({cursor:"pointer","pointer-events":"all"}),e.each((function(e){var n=iUt.select(this),r=e,i=r.rangeselector,a=n.selectAll("g.button").data(cUt.filterVisible(i.buttons));a.enter().append("g").classed("button",!0),a.exit().remove(),a.each((function(e){var n=iUt.select(this),a=mUt(r,e);e._isActive=function(t,e,n){if("all"===e.step)return!0===t.autorange;var r=Object.keys(n);return t.range[0]===n[r[0]]&&t.range[1]===n[r[1]]}(r,e,a),n.call(bUt,i,e),n.call(IUt,i,e,t),n.on("click",(function(){t._dragged||aUt.call("_guiRelayout",t,a)})),n.on("mouseover",(function(){e._isHovered=!0,n.call(bUt,i,e)})),n.on("mouseout",(function(){e._isHovered=!1,n.call(bUt,i,e)}))})),function(t,e,n,r,i){var a=0,o=0,s=n.borderwidth;e.each((function(){var t=iUt.select(this).select(".selector-text"),e=n.font.size*gUt,r=Math.max(e*dUt.lineCount(t),16)+3;o=Math.max(o,r)})),e.each((function(){var t=iUt.select(this),e=t.select(".selector-rect"),r=t.select(".selector-text"),i=r.node()&&lUt.bBox(r.node()).width,l=n.font.size*gUt,c=dUt.lineCount(r),u=Math.max(i+10,vUt.minButtonWidth);t.attr("transform",uUt(s+a,s)),e.attr({x:0,y:0,width:u,height:o}),dUt.positionText(r,u/2,o/2-(c-1)*l/2+3),a+=u+5}));var l=t._fullLayout._size,c=l.l+l.w*n.x,u=l.t+l.h*(1-n.y),d="left";cUt.isRightAnchor(n)&&(c-=a,d="right");cUt.isCenterAnchor(n)&&(c-=a/2,d="center");var h="top";cUt.isBottomAnchor(n)&&(u-=o,h="bottom");cUt.isMiddleAnchor(n)&&(u-=o/2,h="middle");a=Math.ceil(a),o=Math.ceil(o),c=Math.round(c),u=Math.round(u),oUt.autoMargin(t,r+"-range-selector",{x:n.x,y:n.y,l:a*fUt[d],r:a*pUt[d],b:o*pUt[h],t:o*fUt[h]}),i.attr("transform",uUt(c,u))}(t,a,i,r._name,n)}))}},xUt={},BUt=Rtt.extendFlat;xUt.attributes=function(t,e){e=e||{};var n={valType:"info_array",editType:(t=t||{}).editType,items:[{valType:"number",min:0,max:1,editType:t.editType},{valType:"number",min:0,max:1,editType:t.editType}],dflt:[0,1]},r=t.name?t.name+" ":"",i=t.trace?"trace ":"subplot ",a=e.description?" "+e.description:"",o={x:BUt({},n,{description:["Sets the horizontal domain of this ",r,i,"(in plot fraction).",a].join("")}),y:BUt({},n,{description:["Sets the vertical domain of this ",r,i,"(in plot fraction).",a].join("")}),editType:t.editType};return t.noGridCell||(o.row={valType:"integer",min:0,dflt:0,editType:t.editType,description:["If there is a layout grid, use the domain ","for this row in the grid for this ",r,i,".",a].join("")},o.column={valType:"integer",min:0,dflt:0,editType:t.editType,description:["If there is a layout grid, use the domain ","for this column in the grid for this ",r,i,".",a].join("")}),o},xUt.defaults=function(t,e,n,r){var i=r&&r.x||[0,1],a=r&&r.y||[0,1],o=e.grid;if(o){var s=n("domain.column");void 0!==s&&(s<o.columns?i=o._domains.x[s]:delete t.domain.column);var l=n("domain.row");void 0!==l&&(l<o.rows?a=o._domains.y[l]:delete t.domain.row)}var c=n("domain.x",i),u=n("domain.y",a);c[0]<c[1]||(t.domain.x=i.slice()),u[0]<u[1]||(t.domain.y=a.slice())};var AUt=Q4.exports,FUt=ret.counter,QUt=xUt.attributes,wUt=Nit.idRegex,UUt=Rit,GUt={rows:{valType:"integer",min:1,editType:"plot",description:["The number of rows in the grid. If you provide a 2D `subplots`","array or a `yaxes` array, its length is used as the default.","But it's also possible to have a different length, if you","want to leave a row at the end for non-cartesian subplots."].join(" ")},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot",description:["Is the first row the top or the bottom? Note that columns","are always enumerated from left to right."].join(" ")},columns:{valType:"integer",min:1,editType:"plot",description:["The number of columns in the grid. If you provide a 2D `subplots`","array, the length of its longest row is used as the default.","If you give an `xaxes` array, its length is used as the default.","But it's also possible to have a different length, if you","want to leave a row at the end for non-cartesian subplots."].join(" ")},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[FUt("xy").toString(),""],editType:"plot"},editType:"plot",description:["Used for freeform grids, where some axes may be shared across subplots","but others are not. Each entry should be a cartesian subplot id, like","*xy* or *x3y2*, or ** to leave that cell empty. You may reuse x axes","within the same column, and y axes within the same row.","Non-cartesian subplots and traces that support `domain` can place themselves","in this grid separately using the `gridcell` attribute."].join(" ")},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[wUt.x.toString(),""],editType:"plot"},editType:"plot",description:["Used with `yaxes` when the x and y axes are shared across columns and rows.","Each entry should be an x axis id like *x*, *x2*, etc., or ** to","not put an x axis in that column. Entries other than ** must be unique.","Ignored if `subplots` is present. If missing but `yaxes` is present,","will generate consecutive IDs."].join(" ")},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[wUt.y.toString(),""],editType:"plot"},editType:"plot",description:["Used with `yaxes` when the x and y axes are shared across columns and rows.","Each entry should be an y axis id like *y*, *y2*, etc., or ** to","not put a y axis in that row. Entries other than ** must be unique.","Ignored if `subplots` is present. If missing but `xaxes` is present,","will generate consecutive IDs."].join(" ")},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot",description:["If no `subplots`, `xaxes`, or `yaxes` are given but we do have `rows` and `columns`,","we can generate defaults using consecutive axis IDs, in two ways:","*coupled* gives one x axis per column and one y axis per row.","*independent* uses a new xy pair for each cell, left-to-right across each row","then iterating rows according to `roworder`."].join(" ")},xgap:{valType:"number",min:0,max:1,editType:"plot",description:["Horizontal space between grid cells, expressed as a fraction","of the total width available to one cell. Defaults to 0.1","for coupled-axes grids and 0.2 for independent grids."].join(" ")},ygap:{valType:"number",min:0,max:1,editType:"plot",description:["Vertical space between grid cells, expressed as a fraction","of the total height available to one cell. Defaults to 0.1","for coupled-axes grids and 0.3 for independent grids."].join(" ")},domain:QUt({name:"grid",editType:"plot",noGridCell:!0},{description:["The first and last cells end exactly at the domain","edges, with no grout around the edges."].join(" ")}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot",description:["Sets where the x axis labels and titles go. *bottom* means","the very bottom of the grid. *bottom plot* is the lowest plot","that each x axis is used in. *top* and *top plot* are similar."].join(" ")},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot",description:["Sets where the y axis labels and titles go. *left* means","the very left edge of the grid. *left plot* is the leftmost plot","that each y axis is used in. *right* and *right plot* are similar."].join(" ")},editType:"plot"};function RUt(t,e,n){var r=e[n+"axes"],i=Object.keys((t._splomAxes||{})[n]||{});return Array.isArray(r)?r:i.length?i:void 0}function SUt(t,e,n,r,i,a){var o=e(t+"gap",n),s=e("domain."+t);e(t+"side",r);for(var l=new Array(i),c=s[0],u=(s[1]-c)/(i-o),d=u*(1-o),h=0;h<i;h++){var g=c+u*h;l[a?i-1-h:h]=[g,g+d]}return l}function LUt(t,e,n,r,i){var a,o=new Array(n);function s(t,n){-1!==e.indexOf(n)&&void 0===r[n]?(o[t]=n,r[n]=t):o[t]=""}if(Array.isArray(t))for(a=0;a<n;a++)s(a,t[a]);else for(s(0,i),a=1;a<n;a++)s(a,i+(a+1));return o}var _Ut={moduleType:"component",name:"grid",schema:{layout:{grid:GUt}},layoutAttributes:GUt,sizeDefaults:function(t,e){var n=t.grid||{},r=RUt(e,n,"x"),i=RUt(e,n,"y");if(t.grid||r||i){var a,o,s=Array.isArray(n.subplots)&&Array.isArray(n.subplots[0]),l=Array.isArray(r),c=Array.isArray(i),u=l&&r!==n.xaxes&&c&&i!==n.yaxes;s?(a=n.subplots.length,o=n.subplots[0].length):(c&&(a=i.length),l&&(o=r.length));var d=UUt.newContainer(e,"grid"),h=b("rows",a),g=b("columns",o);if(h*g>1){if(!s&&!l&&!c)"independent"===b("pattern")&&(s=!0);d._hasSubplotGrid=s;var f,p,v="top to bottom"===b("roworder"),m=s?.2:.1,y=s?.3:.1;u&&e._splomGridDflt&&(f=e._splomGridDflt.xside,p=e._splomGridDflt.yside),d._domains={x:SUt("x",b,m,f,g),y:SUt("y",b,y,p,h,v)}}else delete e.grid}function b(t,e){return AUt.coerce(n,d,GUt,t,e)}},contentDefaults:function(t,e){var n=e.grid;if(n&&n._domains){var r,i,a,o,s,l,c,u=t.grid||{},d=e._subplots,h=n._hasSubplotGrid,g=n.rows,f=n.columns,p="independent"===n.pattern,v=n._axisMap={};if(h){var m=u.subplots||[];l=n.subplots=new Array(g);var y=1;for(r=0;r<g;r++){var b=l[r]=new Array(f),I=m[r]||[];for(i=0;i<f;i++)if(p?(s=1===y?"xy":"x"+y+"y"+y,y++):s=I[i],b[i]="",-1!==d.cartesian.indexOf(s)){if(c=s.indexOf("y"),a=s.slice(0,c),o=s.slice(c),void 0!==v[a]&&v[a]!==i||void 0!==v[o]&&v[o]!==r)continue;b[i]=s,v[a]=i,v[o]=r}}}else{var C=RUt(e,u,"x"),x=RUt(e,u,"y");n.xaxes=LUt(C,d.xaxis,f,v,"x"),n.yaxes=LUt(x,d.yaxis,g,v,"y")}var B=n._anchors={},A="top to bottom"===n.roworder;for(var F in v){var Q,w,U,G=F.charAt(0),R=n[G+"side"];if(R.length<8)B[F]="free";else if("x"===G){if("t"===R.charAt(0)===A?(Q=0,w=1,U=g):(Q=g-1,w=-1,U=-1),h){var S=v[F];for(r=Q;r!==U;r+=w)if((s=l[r][S])&&(c=s.indexOf("y"),s.slice(0,c)===F)){B[F]=s.slice(c);break}}else for(r=Q;r!==U;r+=w)if(o=n.yaxes[r],-1!==d.cartesian.indexOf(F+o)){B[F]=o;break}}else if("l"===R.charAt(0)?(Q=0,w=1,U=f):(Q=f-1,w=-1,U=-1),h){var L=v[F];for(r=Q;r!==U;r+=w)if((s=l[L][r])&&(c=s.indexOf("y"),s.slice(c)===F)){B[F]=s.slice(0,c);break}}else for(r=Q;r!==U;r+=w)if(a=n.xaxes[r],-1!==d.cartesian.indexOf(a+F)){B[F]=a;break}}}}},EUt={visible:{valType:"boolean",editType:"calc",description:["Determines whether or not this set of error bars is visible."].join(" ")},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc",description:["Determines the rule used to generate the error bars.","If *constant`, the bar lengths are of a constant value.","Set this constant in `value`.","If *percent*, the bar lengths correspond to a percentage of","underlying data. Set this percentage in `value`.","If *sqrt*, the bar lengths correspond to the square of the","underlying data.","If *data*, the bar lengths are set with data set `array`."].join(" ")},symmetric:{valType:"boolean",editType:"calc",description:["Determines whether or not the error bars have the same length","in both direction","(top/bottom for vertical bars, left/right for horizontal bars."].join(" ")},array:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar.","Values are plotted relative to the underlying data."].join(" ")},arrayminus:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar in the","bottom (left) direction for vertical (horizontal) bars","Values are plotted relative to the underlying data."].join(" ")},value:{valType:"number",min:0,dflt:10,editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars."].join(" ")},valueminus:{valType:"number",min:0,dflt:10,editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars in the","bottom (left) direction for vertical (horizontal) bars"].join(" ")},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style",description:"Sets the stoke color of the error bars."},thickness:{valType:"number",min:0,dflt:2,editType:"style",description:"Sets the thickness (in px) of the error bars."},width:{valType:"number",min:0,editType:"plot",description:["Sets the width (in px) of the cross-bar at both ends","of the error bars."].join(" ")},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style",description:["Obsolete.","Use the alpha channel in error bar `color` to set the opacity."].join(" ")}}},kUt=z6,VUt=met,ZUt=Q4.exports,NUt=Rit,TUt=EUt,XUt=function(t){var e=t.type,n=t.symmetric;if("data"===e){var r=t.array||[];if(n)return function(t,e){var n=+r[e];return[n,n]};var i=t.arrayminus||[];return function(t,e){var n=+r[e],a=+i[e];return isNaN(n)&&isNaN(a)?[NaN,NaN]:[a||0,n||0]}}var a=WUt(e,t.value),o=WUt(e,t.valueminus);return n||void 0===t.valueminus?function(t){var e=a(t);return[e,e]}:function(t){return[o(t),a(t)]}};function WUt(t,e){return"percent"===t?function(t){return Math.abs(t*e/100)}:"constant"===t?function(){return Math.abs(e)}:"sqrt"===t?function(t){return Math.sqrt(Math.abs(t))}:void 0}var MUt=z6,HUt=met,DUt=Aat.exports,YUt=Q4.exports,OUt=XUt;function zUt(t,e,n,r){var i=e["error_"+r]||{},a=[];if(i.visible&&-1!==["linear","log"].indexOf(n.type)){for(var o=OUt(i),s=0;s<t.length;s++){var l=t[s],c=l.i;if(void 0===c)c=s;else if(null===c)continue;var u=l[r];if(MUt(n.c2l(u))){var d=o(u,c);if(MUt(d[0])&&MUt(d[1])){var h=l[r+"s"]=u-d[0],g=l[r+"h"]=u+d[1];a.push(h,g)}}}var f=n._id,p=e._extremes[f],v=DUt.findExtremes(n,a,YUt.extendFlat({tozero:p.opts.tozero},{padded:!0}));p.min=p.min.concat(v.min),p.max=p.max.concat(v.max)}}var JUt=w4.exports,jUt=z6,PUt=Uat.exports,KUt=Bst;var qUt=w4.exports,$Ut=Ott.exports,tGt=Q4.exports,eGt=Fit.overrideAll,nGt=EUt,rGt={error_x:tGt.extendFlat({},nGt),error_y:tGt.extendFlat({},nGt)};delete rGt.error_x.copy_zstyle,delete rGt.error_y.copy_zstyle,delete rGt.error_y.copy_ystyle;var iGt={error_x:tGt.extendFlat({},nGt),error_y:tGt.extendFlat({},nGt),error_z:tGt.extendFlat({},nGt)};delete iGt.error_x.copy_ystyle,delete iGt.error_y.copy_ystyle,delete iGt.error_z.copy_ystyle,delete iGt.error_z.copy_zstyle;var aGt={moduleType:"component",name:"errorbars",schema:{traces:{scatter:rGt,bar:rGt,histogram:rGt,scatter3d:eGt(iGt,"calc","nested"),scattergl:eGt(rGt,"calc","nested")}},supplyDefaults:function(t,e,n,r){var i="error_"+r.axis,a=NUt.newContainer(e,i),o=t[i]||{};function s(t,e){return ZUt.coerce(o,a,TUt,t,e)}if(!1!==s("visible",void 0!==o.array||void 0!==o.value||"sqrt"===o.type)){var l=s("type","array"in o?"data":"percent"),c=!0;"sqrt"!==l&&(c=s("symmetric",!(("data"===l?"arrayminus":"valueminus")in o))),"data"===l?(s("array"),s("traceref"),c||(s("arrayminus"),s("tracerefminus"))):"percent"!==l&&"constant"!==l||(s("value"),c||s("valueminus"));var u="copy_"+r.inherit+"style";if(r.inherit)(e["error_"+r.inherit]||{}).visible&&s(u,!(o.color||kUt(o.thickness)||kUt(o.width)));r.inherit&&a[u]||(s("color",n),s("thickness"),s("width",VUt.traceIs(e,"gl3d")?0:4))}},calc:function(t){for(var e=t.calcdata,n=0;n<e.length;n++){var r=e[n],i=r[0].trace;if(!0===i.visible&&HUt.traceIs(i,"errorBarsOK")){var a=DUt.getFromId(t,i.xaxis),o=DUt.getFromId(t,i.yaxis);zUt(r,i,a,"x"),zUt(r,i,o,"y")}}},makeComputeError:XUt,plot:function(t,e,n,r){var i=n.xaxis,a=n.yaxis,o=r&&r.duration>0;e.each((function(e){var s,l=e[0].trace,c=l.error_x||{},u=l.error_y||{};l.ids&&(s=function(t){return t.id});var d=KUt.hasMarkers(l)&&l.marker.maxdisplayed>0;u.visible||c.visible||(e=[]);var h=JUt.select(this).selectAll("g.errorbar").data(e,s);if(h.exit().remove(),e.length){c.visible||h.selectAll("path.xerror").remove(),u.visible||h.selectAll("path.yerror").remove(),h.style("opacity",1);var g=h.enter().append("g").classed("errorbar",!0);o&&g.style("opacity",0).transition().duration(r.duration).style("opacity",1),PUt.setClipUrl(h,n.layerClipId,t),h.each((function(t){var e=JUt.select(this),n=function(t,e,n){var r={x:e.c2p(t.x),y:n.c2p(t.y)};void 0!==t.yh&&(r.yh=n.c2p(t.yh),r.ys=n.c2p(t.ys),jUt(r.ys)||(r.noYS=!0,r.ys=n.c2p(t.ys,!0)));void 0!==t.xh&&(r.xh=e.c2p(t.xh),r.xs=e.c2p(t.xs),jUt(r.xs)||(r.noXS=!0,r.xs=e.c2p(t.xs,!0)));return r}(t,i,a);if(!d||t.vis){var s,l=e.select("path.yerror");if(u.visible&&jUt(n.x)&&jUt(n.yh)&&jUt(n.ys)){var h=u.width;s="M"+(n.x-h)+","+n.yh+"h"+2*h+"m-"+h+",0V"+n.ys,n.noYS||(s+="m-"+h+",0h"+2*h),!l.size()?l=e.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0):o&&(l=l.transition().duration(r.duration).ease(r.easing)),l.attr("d",s)}else l.remove();var g=e.select("path.xerror");if(c.visible&&jUt(n.y)&&jUt(n.xh)&&jUt(n.xs)){var f=(c.copy_ystyle?u:c).width;s="M"+n.xh+","+(n.y-f)+"v"+2*f+"m0,-"+f+"H"+n.xs,n.noXS||(s+="m0,-"+f+"v"+2*f),!g.size()?g=e.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0):o&&(g=g.transition().duration(r.duration).ease(r.easing)),g.attr("d",s)}else g.remove()}}))}}))},style:function(t){t.each((function(t){var e=t[0].trace,n=e.error_y||{},r=e.error_x||{},i=qUt.select(this);i.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call($Ut.stroke,n.color),r.copy_ystyle&&(r=n),i.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call($Ut.stroke,r.color)}))},hoverInfo:function(t,e,n){(e.error_y||{}).visible&&(n.yerr=t.yh-t.y,e.error_y.symmetric||(n.yerrneg=t.y-t.ys));(e.error_x||{}).visible&&(n.xerr=t.xh-t.x,e.error_x.symmetric||(n.xerrneg=t.x-t.xs))}};var oGt=w4.exports,sGt=Btt.exports,lGt=Git.exports,cGt=met,uGt=Aat.exports,dGt=Jut.exports,hGt=Q4.exports,gGt=hGt.strTranslate,fGt=Rtt.extendFlat,pGt=fdt,vGt=Uat.exports,mGt=Ott.exports,yGt=xlt,bGt=Fat,IGt=Mat.flipScale,CGt=uxt,xGt=vxt,BGt=oot,AGt=wat.LINE_SPACING,FGt=wat.FROM_TL,QGt=wat.FROM_BR,wGt={colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"};var UGt={draw:function(t){var e=t._fullLayout._infolayer.selectAll("g."+wGt.colorbar).data(function(t){var e,n,r,i,a=t._fullLayout,o=t.calcdata,s=[];function l(t){return fGt(t,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function c(){"function"==typeof i.calc?i.calc(t,r,e):(e._fillgradient=n.reversescale?IGt(n.colorscale):n.colorscale,e._zrange=[n[i.min],n[i.max]])}for(var u=0;u<o.length;u++){var d=o[u],h=(r=d[0].trace)._module.colorbar;if(!0===r.visible&&h)for(var g=Array.isArray(h),f=g?h:[h],p=0;p<f.length;p++){var v=(i=f[p]).container;(n=v?r[v]:r)&&n.showscale&&((e=l(n.colorbar))._id="cb"+r.uid+(g&&v?"-"+v:""),e._traceIndex=r.index,e._propPrefix=(v?v+".":"")+"colorbar.",e._meta=r._meta,c(),s.push(e))}}for(var m in a._colorAxes)if((n=a[m]).showscale){var y=a._colorAxes[m];(e=l(n.colorbar))._id="cb"+m,e._propPrefix=m+".colorbar.",e._meta=a._meta,i={min:"cmin",max:"cmax"},"heatmap"!==y[0]&&(r=y[1],i.calc=r._module.colorbar.calc),c(),s.push(e)}return s}(t),(function(t){return t._id}));e.enter().append("g").attr("class",(function(t){return t._id})).classed(wGt.colorbar,!0),e.each((function(e){var n=oGt.select(this);hGt.ensureSingle(n,"rect",wGt.cbbg),hGt.ensureSingle(n,"g",wGt.cbfills),hGt.ensureSingle(n,"g",wGt.cblines),hGt.ensureSingle(n,"g",wGt.cbaxis,(function(t){t.classed(wGt.crisp,!0)})),hGt.ensureSingle(n,"g",wGt.cbtitleunshift,(function(t){t.append("g").classed(wGt.cbtitle,!0)})),hGt.ensureSingle(n,"rect",wGt.cboutline);var r=function(t,e,n){var r="v"===e.orientation,i=e.len,a=e.lenmode,o=e.thickness,s=e.thicknessmode,l=e.outlinewidth,c=e.borderwidth,u=e.bgcolor,d=e.xanchor,h=e.yanchor,g=e.xpad,f=e.ypad,p=e.x,v=r?e.y:1-e.y,m=n._fullLayout,y=m._size,b=e._fillcolor,I=e._line,C=e.title,x=C.side,B=e._zrange||oGt.extent(("function"==typeof b?b:I.color).domain()),A="function"==typeof I.color?I.color:function(){return I.color},F="function"==typeof b?b:function(){return b},Q=e._levels,w=function(t,e,n){var r,i,a=e._levels,o=[],s=[],l=a.end+a.size/100,c=a.size,u=1.001*n[0]-.001*n[1],d=1.001*n[1]-.001*n[0];for(i=0;i<1e5&&(r=a.start+i*c,!(c>0?r>=l:r<=l));i++)r>u&&r<d&&o.push(r);if(e._fillgradient)s=[0];else if("function"==typeof e._fillcolor){var h=e._filllevels;if(h)for(l=h.end+h.size/100,c=h.size,i=0;i<1e5&&(r=h.start+i*c,!(c>0?r>=l:r<=l));i++)r>n[0]&&r<n[1]&&s.push(r);else s=o.map((function(t){return t-a.size/2})),s.push(s[s.length-1]+a.size)}else e._fillcolor&&"string"==typeof e._fillcolor&&(s=[0]);a.size<0&&(o.reverse(),s.reverse());return{line:o,fill:s}}(0,e,B),U=w.fill,G=w.line,R=Math.round(o*("fraction"===s?r?y.w:y.h:1)),S=R/(r?y.w:y.h),L=Math.round(i*("fraction"===a?r?y.h:y.w:1)),_=L/(r?y.h:y.w),E=Math.round(r?p*y.w+g:v*y.h+f),k={center:.5,right:1}[d]||0,V={top:1,middle:.5}[h]||0,Z=r?p-k*S:v-V*S,N=r?v-V*_:p-k*_,T=Math.round(r?y.h*(1-N):y.w*N);e._lenFrac=_,e._thickFrac=S,e._uFrac=Z,e._vFrac=N;var X=e._axis=function(t,e,n){var r=t._fullLayout,i="v"===e.orientation,a={type:"linear",range:n,tickmode:e.tickmode,nticks:e.nticks,tick0:e.tick0,dtick:e.dtick,tickvals:e.tickvals,ticktext:e.ticktext,ticks:e.ticks,ticklen:e.ticklen,tickwidth:e.tickwidth,tickcolor:e.tickcolor,showticklabels:e.showticklabels,ticklabelposition:e.ticklabelposition,ticklabeloverflow:e.ticklabeloverflow,ticklabelstep:e.ticklabelstep,tickfont:e.tickfont,tickangle:e.tickangle,tickformat:e.tickformat,exponentformat:e.exponentformat,minexponent:e.minexponent,separatethousands:e.separatethousands,showexponent:e.showexponent,showtickprefix:e.showtickprefix,tickprefix:e.tickprefix,showticksuffix:e.showticksuffix,ticksuffix:e.ticksuffix,title:e.title,showline:!0,anchor:"free",side:i?"right":"bottom",position:1},o=i?"y":"x",s={type:"linear",_id:o+e._id},l={letter:o,font:r.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:r.calendar};function c(t,e){return hGt.coerce(a,s,BGt,t,e)}return CGt(a,s,c,l,r),xGt(a,s,c,l),s}(n,e,B);X.position=S+(r?p+g/y.w:v+f/y.h);var W=-1!==["top","bottom"].indexOf(x);r&&W&&(X.title.side=x,X.titlex=p+g/y.w,X.titley=N+("top"===C.side?_-f/y.h:f/y.h));r||W||(X.title.side=x,X.titley=v+f/y.h,X.titlex=N+g/y.w);if(I.color&&"auto"===e.tickmode){X.tickmode="linear",X.tick0=Q.start;var M=Q.size,H=hGt.constrain(L/50,4,15)+1,D=(B[1]-B[0])/((e.nticks||H)*M);if(D>1){var Y=Math.pow(10,Math.floor(Math.log(D)/Math.LN10));M*=Y*hGt.roundUp(D/Y,[2,5,10]),(Math.abs(Q.start)/Q.size+1e-6)%1<2e-6&&(X.tick0=0)}X.dtick=M}X.domain=r?[N+f/y.h,N+_-f/y.h]:[N+g/y.w,N+_-g/y.w],X.setScale(),t.attr("transform",gGt(Math.round(y.l),Math.round(y.t)));var O,z=t.select("."+wGt.cbtitleunshift).attr("transform",gGt(-Math.round(y.l),-Math.round(y.t))),J=X.ticklabelposition,j=X.title.font.size,P=t.select("."+wGt.cbaxis),K=0,q=0;function $(r,i){var a={propContainer:X,propName:e._propPrefix+"title",traceIndex:e._traceIndex,_meta:e._meta,placeholder:m._dfltTitle.colorbar,containerGroup:t.select("."+wGt.cbtitle)},o="h"===r.charAt(0)?r.substr(1):"h"+r;t.selectAll("."+o+",."+o+"-math-group").remove(),yGt.draw(n,r,fGt(a,i||{}))}function tt(){var t,e;(r&&W||!r&&!W)&&("top"===x&&(t=g+y.l+y.w*p,e=f+y.t+y.h*(1-N-_)+3+.75*j),"bottom"===x&&(t=g+y.l+y.w*p,e=f+y.t+y.h*(1-N)-3-.25*j),"right"===x&&(e=f+y.t+y.h*v+3+.75*j,t=g+y.l+y.w*N),$(X._id+"title",{attributes:{x:t,y:e,"text-anchor":r?"start":"middle"}}))}function et(){if(r&&!W||!r&&W){var t,i,a=X.position||0,o=X._offset+X._length/2;if("right"===x)i=o,t=y.l+y.w*a+10+j*(X.showticklabels?1:.5);else if(t=o,"bottom"===x&&(i=y.t+y.h*a+10+(-1===J.indexOf("inside")?X.tickfont.size:0)+("intside"!==X.ticks&&e.ticklen||0)),"top"===x){var s=C.text.split("<br>").length;i=y.t+y.h*a+10-R-AGt*j*s}$((r?"h":"v")+X._id+"title",{avoid:{selection:oGt.select(n).selectAll("g."+X._id+"tick"),side:x,offsetTop:r?0:y.t,offsetLeft:r?y.l:0,maxShift:r?m.width:m.height},attributes:{x:t,y:i,"text-anchor":"middle"},transform:{rotate:r?-90:0,offset:0}})}}function nt(){if(!r&&!W||r&&W){var i,a=t.select("."+wGt.cbtitle),o=a.select("text"),s=[-l/2,l/2],c=a.select(".h"+X._id+"title-math-group").node(),u=15.6;if(o.node()&&(u=parseInt(o.node().style.fontSize,10)*AGt),c?(i=vGt.bBox(c),q=i.width,(K=i.height)>u&&(s[1]-=(K-u)/2)):o.node()&&!o.classed(wGt.jsPlaceholder)&&(i=vGt.bBox(o.node()),q=i.width,K=i.height),r){if(K){if(K+=5,"top"===x)X.domain[1]-=K/y.h,s[1]*=-1;else{X.domain[0]+=K/y.h;var d=bGt.lineCount(o);s[1]+=(1-d)*u}a.attr("transform",gGt(s[0],s[1])),X.setScale()}}else q&&("right"===x&&(X.domain[0]+=(q+j/2)/y.w),a.attr("transform",gGt(s[0],s[1])),X.setScale())}t.selectAll("."+wGt.cbfills+",."+wGt.cblines).attr("transform",r?gGt(0,Math.round(y.h*(1-X.domain[1]))):gGt(Math.round(y.w*X.domain[0]),0)),P.attr("transform",r?gGt(0,Math.round(-y.t)):gGt(Math.round(-y.l),0));var h=t.select("."+wGt.cbfills).selectAll("rect."+wGt.cbfill).attr("style","").data(U);h.enter().append("rect").classed(wGt.cbfill,!0).style("stroke","none"),h.exit().remove();var g=B.map(X.c2p).map(Math.round).sort((function(t,e){return t-e}));h.each((function(t,i){var a=[0===i?B[0]:(U[i]+U[i-1])/2,i===U.length-1?B[1]:(U[i]+U[i+1])/2].map(X.c2p).map(Math.round);r&&(a[1]=hGt.constrain(a[1]+(a[1]>a[0])?1:-1,g[0],g[1]));var o=oGt.select(this).attr(r?"x":"y",E).attr(r?"y":"x",oGt.min(a)).attr(r?"width":"height",Math.max(R,2)).attr(r?"height":"width",Math.max(oGt.max(a)-oGt.min(a),2));if(e._fillgradient)vGt.gradient(o,n,e._id,r?"vertical":"horizontalreversed",e._fillgradient,"fill");else{var s=F(t).replace("e-","");o.attr("fill",sGt(s).toHexString())}}));var f=t.select("."+wGt.cblines).selectAll("path."+wGt.cbline).data(I.color&&I.width?G:[]);f.enter().append("path").classed(wGt.cbline,!0),f.exit().remove(),f.each((function(t){var e=E,n=Math.round(X.c2p(t))+I.width/2%1;oGt.select(this).attr("d","M"+(r?e+","+n:n+","+e)+(r?"h":"v")+R).call(vGt.lineGroupStyle,I.width,A(t),I.dash)})),P.selectAll("g."+X._id+"tick,path").remove();var p=E+R+(l||0)/2-("outside"===e.ticks?1:0),v=uGt.calcTicks(X),m=uGt.getTickSigns(X)[2];return uGt.drawTicks(n,X,{vals:"inside"===X.ticks?uGt.clipEnds(X,v):v,layer:P,path:uGt.makeTickPath(X,p,m),transFn:uGt.makeTransTickFn(X)}),uGt.drawLabels(n,X,{vals:v,layer:P,transFn:uGt.makeTransTickLabelFn(X),labelFns:uGt.makeLabelFns(X,p)})}function rt(){var b,I=R+l/2;-1===J.indexOf("inside")&&(b=vGt.bBox(P.node()),I+=r?b.width:b.height),O=z.select("text");var B=0,A=r&&"top"===x,F=!r&&"right"===x,Q=0;if(O.node()&&!O.classed(wGt.jsPlaceholder)){var w,U=z.select(".h"+X._id+"title-math-group").node();U&&(r&&W||!r&&!W)?(B=(b=vGt.bBox(U)).width,w=b.height):(B=(b=vGt.bBox(z.node())).right-y.l-(r?E:T),w=b.bottom-y.t-(r?T:E),r||"top"!==x||(I+=b.height,Q=b.height)),F&&(O.attr("transform",gGt(B/2+j/2,0)),B*=2),I=Math.max(I,r?B:w)}var G=2*(r?g:f)+I+c+l/2,S=0;!r&&C.text&&"bottom"===h&&v<=0&&(G+=S=G/2,Q+=S),m._hColorbarMoveTitle=S,m._hColorbarMoveCBTitle=Q;var _=c+l;t.select("."+wGt.cbbg).attr("x",(r?E:T)-_/2-(r?g:0)).attr("y",(r?T:E)-(r?L:f+Q-S)).attr(r?"width":"height",Math.max(G-S,2)).attr(r?"height":"width",Math.max(L+_,2)).call(mGt.fill,u).call(mGt.stroke,e.bordercolor).style("stroke-width",c);var Z=F?Math.max(B-10,0):0;if(t.selectAll("."+wGt.cboutline).attr("x",(r?E:T+g)+Z).attr("y",(r?T+f-L:E)+(A?K:0)).attr(r?"width":"height",Math.max(R,2)).attr(r?"height":"width",Math.max(L-(r?2*f+K:2*g+Z),2)).call(mGt.stroke,e.outlinecolor).style({fill:"none","stroke-width":l}),t.attr("transform",gGt(y.l-(r?k*G:0),y.t-(r?0:(1-V)*G-Q))),!r&&(c||sGt(u).getAlpha()&&!sGt.equals(m.paper_bgcolor,u))){var N=P.selectAll("text"),M=N[0].length,H=t.select("."+wGt.cbbg).node(),D=vGt.bBox(H),Y=vGt.getTranslate(t),q=2;N.each((function(t,e){var n=0,r=M-1;if(e===n||e===r){var i,a=vGt.bBox(this),o=vGt.getTranslate(this);if(e===r){var s=a.right+o.x;(i=D.right+Y.x+T-c-q+p-s)>0&&(i=0)}else if(e===n){var l=a.left+o.x;(i=D.left+Y.x+T+c+q-l)<0&&(i=0)}i&&(M<3?this.setAttribute("transform","translate("+i+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}}))}var $={},tt=FGt[d],et=QGt[d],nt=FGt[h],rt=QGt[h],it=G-R;r?("pixels"===a?($.y=v,$.t=L*nt,$.b=L*rt):($.t=$.b=0,$.yt=v+i*nt,$.yb=v-i*rt),"pixels"===s?($.x=p,$.l=G*tt,$.r=G*et):($.l=it*tt,$.r=it*et,$.xl=p-o*tt,$.xr=p+o*et)):("pixels"===a?($.x=p,$.l=L*tt,$.r=L*et):($.l=$.r=0,$.xl=p+i*tt,$.xr=p-i*et),"pixels"===s?($.y=1-v,$.t=G*nt,$.b=G*rt):($.t=it*nt,$.b=it*rt,$.yt=v-o*nt,$.yb=v+o*rt)),lGt.autoMargin(n,e._id,$)}return hGt.syncOrAsync([lGt.previousPromises,tt,nt,et,lGt.previousPromises,rt],n)}(n,e,t);r&&r.then&&(t._promises||[]).push(r),t._context.edits.colorbarPosition&&function(t,e,n){var r,i,a,o="v"===e.orientation,s=n._fullLayout._size;dGt.init({element:t.node(),gd:n,prepFn:function(){r=t.attr("transform"),pGt(t)},moveFn:function(n,l){t.attr("transform",r+gGt(n,l)),i=dGt.align((o?e._uFrac:e._vFrac)+n/s.w,o?e._thickFrac:e._lenFrac,0,1,e.xanchor),a=dGt.align((o?e._vFrac:1-e._uFrac)-l/s.h,o?e._lenFrac:e._thickFrac,0,1,e.yanchor);var c=dGt.getCursor(i,a,e.xanchor,e.yanchor);pGt(t,c)},doneFn:function(){if(pGt(t),void 0!==i&&void 0!==a){var r={};r[e._propPrefix+"x"]=i,r[e._propPrefix+"y"]=a,void 0!==e._traceIndex?cGt.call("_guiRestyle",n,r,e._traceIndex):cGt.call("_guiRelayout",n,r)}}})}(n,e,t)})),e.exit().each((function(e){lGt.autoMargin(t,e._id)})).remove(),e.order()}},GGt={moduleType:"component",name:"colorbar",attributes:uot,supplyDefaults:est,draw:UGt.draw,hasColorbar:Bot},RGt={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}},SGt={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}},LGt=met,_Gt=Q4.exports,EGt=_Gt.extendFlat,kGt=_Gt.extendDeep;function VGt(t){var e;switch(t){case"themes__thumb":e={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":e={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:e={}}return e}var ZGt=function(t,e){var n,r,i=t.data,a=t.layout,o=kGt([],i),s=kGt({},a,VGt(e.tileClass)),l=t._context||{};if(e.width&&(s.width=e.width),e.height&&(s.height=e.height),"thumbnail"===e.tileClass||"themes__thumb"===e.tileClass){s.annotations=[];var c=Object.keys(s);for(n=0;n<c.length;n++)r=c[n],["xaxis","yaxis","zaxis"].indexOf(r.slice(0,5))>-1&&(s[c[n]].title={text:""});for(n=0;n<o.length;n++){var u=o[n];u.showscale=!1,u.marker&&(u.marker.showscale=!1),LGt.traceIs(u,"pie-like")&&(u.textposition="none")}}if(Array.isArray(e.annotations))for(n=0;n<e.annotations.length;n++)s.annotations.push(e.annotations[n]);var d=Object.keys(s).filter((function(t){return t.match(/^scene\d*$/)}));if(d.length){var h={};for("thumbnail"===e.tileClass&&(h={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<d.length;n++){var g=s[d[n]];g.xaxis||(g.xaxis={}),g.yaxis||(g.yaxis={}),g.zaxis||(g.zaxis={}),EGt(g.xaxis,h),EGt(g.yaxis,h),EGt(g.zaxis,h),g._scene=null}}var f=document.createElement("div");e.tileClass&&(f.className=e.tileClass);var p={gd:f,td:f,layout:s,data:o,config:{staticPlot:void 0===e.staticPlot||e.staticPlot,plotGlPixelRatio:void 0===e.plotGlPixelRatio?2:e.plotGlPixelRatio,displaylogo:e.displaylogo||!1,showLink:e.showLink||!1,showTips:e.showTips||!1,mapboxAccessToken:l.mapboxAccessToken}};return"transparent"!==e.setBackground&&(p.config.setBackground=e.setBackground||"opaque"),p.gd.defaultLayout=VGt(e.tileClass),p},NGt=Jrt.exports.EventEmitter,TGt=met,XGt=Q4.exports,WGt=pyt,MGt=ZGt,HGt=Qyt,DGt=Ryt;var YGt=function(t,e){var n=new NGt,r=MGt(t,{format:"png"}),i=r.gd;i.style.position="absolute",i.style.left="-5000px",document.body.appendChild(i);var a=WGt.getRedrawFunc(i);return TGt.call("_doPlot",i,r.data,r.layout,r.config).then(a).then((function(){var t=WGt.getDelay(i._fullLayout);setTimeout((function(){var t=HGt(i),r=document.createElement("canvas");r.id=XGt.randstr(),(n=DGt({format:e.format,width:i._fullLayout.width,height:i._fullLayout.height,canvas:r,emitter:n,svg:t})).clean=function(){i&&document.body.removeChild(i)}}),t)})).catch((function(t){n.emit("error",t)})),n},OGt=pyt,zGt={getDelay:OGt.getDelay,getRedrawFunc:OGt.getRedrawFunc,clone:ZGt,toSVG:Qyt,svgToImg:Ryt,toImage:YGt,downloadImage:ubt};!function(t){t.version=F4.version;for(var e=met,n=t.register=e.register,r=Yrt,i=Object.keys(r),a=0;a<i.length;a++){var o=i[a];"_"!==o.charAt(0)&&(t[o]=r[o]),n({moduleType:"apiMethod",name:o,fn:r[o]})}n(eBt),n([nBt,Vgt,dAt,RAt,$At,pFt,cQt,ewt,Hwt,CUt,_Ut,aGt,Cst,GGt,Xpt]),n([RGt,SGt]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(n(window.PlotlyLocales),delete window.PlotlyLocales),t.Icons=Wgt;var s=Vgt,l=Git.exports;t.Plots={resize:l.resize,graphJson:l.graphJson,sendDataToCloud:l.sendDataToCloud},t.Fx={hover:s.hover,unhover:s.unhover,loneHover:s.loneHover,loneUnhover:s.loneUnhover},t.Snapshot=zGt,t.PlotSchema=vit}(A4);var JGt=A4,jGt={TEXTPAD:3,eventDataKeys:["value","label"]},PGt=zbt,KGt=Jat,qGt=Gbt.hovertemplateAttrs,$Gt=Gbt.texttemplateAttrs,tRt=vot,eRt=Att,nRt=jGt,rRt=lnt.pattern,iRt=Rtt.extendFlat,aRt=eRt({editType:"calc",arrayOk:!0,colorEditType:"style",description:""}),oRt=iRt({},PGt.marker.line.width,{dflt:0}),sRt=iRt({width:oRt,editType:"calc"},tRt("marker.line")),lRt=iRt({line:sRt,editType:"calc"},tRt("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style",description:"Sets the opacity of the bars."},pattern:rRt}),cRt={x:PGt.x,x0:PGt.x0,dx:PGt.dx,y:PGt.y,y0:PGt.y0,dy:PGt.dy,xperiod:PGt.xperiod,yperiod:PGt.yperiod,xperiod0:PGt.xperiod0,yperiod0:PGt.yperiod0,xperiodalignment:PGt.xperiodalignment,yperiodalignment:PGt.yperiodalignment,xhoverformat:KGt("x"),yhoverformat:KGt("y"),text:PGt.text,texttemplate:$Gt({editType:"plot"},{keys:nRt.eventDataKeys}),hovertext:PGt.hovertext,hovertemplate:qGt({},{keys:nRt.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc",description:["Specifies the location of the `text`.","*inside* positions `text` inside, next to the bar end","(rotated and scaled if needed).","*outside* positions `text` outside, next to the bar end","(scaled if needed), unless there is another bar stacked on","this one, then the text gets pushed inside.","*auto* tries to position `text` inside the bar, but if","the bar is too small and no bar is stacked on this one","the text is moved outside.","If *none*, no text appears."].join(" ")},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot",description:["Determines if texts are kept at center or start/end points in `textposition` *inside* mode."].join(" ")},textangle:{valType:"angle",dflt:"auto",editType:"plot",description:["Sets the angle of the tick labels with respect to the bar.","For example, a `tickangle` of -90 draws the tick labels","vertically. With *auto* the texts may automatically be","rotated to fit with the maximum size in bars."].join(" ")},textfont:iRt({},aRt,{description:"Sets the font used for `text`."}),insidetextfont:iRt({},aRt,{description:"Sets the font used for `text` lying inside the bar."}),outsidetextfont:iRt({},aRt,{description:"Sets the font used for `text` lying outside the bar."}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc",description:["Constrain the size of text inside or outside a bar to be no","larger than the bar itself."].join(" ")},cliponaxis:iRt({},PGt.cliponaxis,{description:["Determines whether the text nodes","are clipped about the subplot axes.","To show the text nodes above axis lines and tick labels,","make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."].join(" ")}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes",description:["Sets the orientation of the bars.","With *v* (*h*), the value of the each bar spans","along the vertical (horizontal)."].join(" ")},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc",description:["Sets where the bar base is drawn (in position axis units).","In *stack* or *relative* barmode,","traces that set *base* will be excluded","and drawn in *overlay* mode instead."].join(" ")},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc",description:["Shifts the position where the bar is drawn","(in position axis units).","In *group* barmode,","traces that set *offset* will be excluded","and drawn in *overlay* mode instead."].join(" ")},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc",description:["Sets the bar width (in position axis units)."].join(" ")},marker:lRt,offsetgroup:{valType:"string",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","offsetgroup where bars of the same position coordinate will line up."].join(" ")},alignmentgroup:{valType:"string",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","alignmentgroup. This controls whether bars compute their positional","range dependently or independently."].join(" ")},selected:{marker:{opacity:PGt.selected.marker.opacity,color:PGt.selected.marker.color,editType:"style"},textfont:PGt.selected.textfont,editType:"style"},unselected:{marker:{opacity:PGt.unselected.marker.opacity,color:PGt.unselected.marker.color,editType:"style"},textfont:PGt.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"],description:"Renamed to `orientation`."}}},uRt=cRt,dRt=Jat,hRt=Gbt.hovertemplateAttrs,gRt=Gbt.texttemplateAttrs,fRt=Att,pRt=function(t,e){return{start:{valType:"any",editType:"calc",description:["Sets the starting value for the",t,"axis bins. Defaults to the minimum data value,","shifted down if necessary to make nice round values","and to remove ambiguous bin edges. For example, if most of the","data is integers we shift the bin edges 0.5 down, so a `size`","of 5 would have a default `start` of -0.5, so it is clear","that 0-4 are in the first bin, 5-9 in the second, but","continuous data gets a start of 0 and bins [0,5), [5,10) etc.","Dates behave similarly, and `start` should be a date string.","For category data, `start` is based on the category serial","numbers, and defaults to -0.5.",e?"If multiple non-overlaying histograms share a subplot, the first explicit `start` is used exactly and all others are shifted down (if necessary) to differ from that one by an integer number of bins.":""].join(" ")},end:{valType:"any",editType:"calc",description:["Sets the end value for the",t,"axis bins. The last bin may not end exactly at this value,","we increment the bin edge by `size` from `start` until we","reach or exceed `end`. Defaults to the maximum data value.","Like `start`, for dates use a date string, and for category","data `end` is based on the category serial numbers."].join(" ")},size:{valType:"any",editType:"calc",description:["Sets the size of each",t,"axis bin.","Default behavior: If `nbins"+t+"` is 0 or omitted,","we choose a nice round bin size such that the number of bins","is about the same as the typical number of samples in each bin.","If `nbins"+t+"` is provided, we choose a nice round","bin size giving no more than that many bins.","For date data, use milliseconds or *M<n>* for months, as in","`axis.dtick`. For category data, the number of categories to","bin together (always defaults to 1).",e?"If multiple non-overlaying histograms share a subplot, the first explicit `size` is used and all others discarded. If no `size` is provided,the sample data from all traces is combined to determine `size` as described above.":""].join(" ")},editType:"calc"}},vRt={eventDataKeys:["binNumber"]},mRt=Rtt.extendFlat,yRt={x:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the sample data to be binned on the x axis."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the sample data to be binned on the y axis."].join(" ")},xhoverformat:dRt("x"),yhoverformat:dRt("y"),text:mRt({},uRt.text,{description:["Sets hover text elements associated with each bar.","If a single string, the same string appears over all bars.","If an array of string, the items are mapped in order to the","this trace's coordinates."].join(" ")}),hovertext:mRt({},uRt.hovertext,{description:"Same as `text`."}),orientation:uRt.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc",description:["Specifies the binning function used for this histogram trace.","If *count*, the histogram values are computed by counting the","number of values lying inside each bin.","If *sum*, *avg*, *min*, *max*,","the histogram values are computed using","the sum, the average, the minimum or the maximum","of the values lying inside each bin respectively."].join(" ")},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc",description:["Specifies the type of normalization used for this histogram trace.","If **, the span of each bar corresponds to the number of","occurrences (i.e. the number of data points lying inside the bins).","If *percent* / *probability*, the span of each bar corresponds to","the percentage / fraction of occurrences with respect to the total","number of sample points","(here, the sum of all bin HEIGHTS equals 100% / 1).","If *density*, the span of each bar corresponds to the number of","occurrences in a bin divided by the size of the bin interval","(here, the sum of all bin AREAS equals the","total number of sample points).","If *probability density*, the area of each bar corresponds to the","probability that an event will fall into the corresponding bin","(here, the sum of all bin AREAS equals 1)."].join(" ")},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc",description:["If true, display the cumulative distribution by summing the","binned values. Use the `direction` and `centralbin` attributes","to tune the accumulation method.","Note: in this mode, the *density* `histnorm` settings behave","the same as their equivalents without *density*:","** and *density* both rise to the number of data points, and","*probability* and *probability density* both rise to the","number of sample points."].join(" ")},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc",description:["Only applies if cumulative is enabled.","If *increasing* (default) we sum all prior bins, so the result","increases from left to right. If *decreasing* we sum later bins","so the result decreases from left to right."].join(" ")},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc",description:["Only applies if cumulative is enabled.","Sets whether the current bin is included, excluded, or has half","of its value included in the current cumulative value.","*include* is the default for compatibility with various other","tools, however it introduces a half-bin bias to the results.","*exclude* makes the opposite half-bin bias, and *half* removes","it."].join(" ")},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc",description:["Specifies the maximum number of desired bins. This value will be used","in an algorithm that will decide the optimal bin size such that the","histogram best visualizes the distribution of the data.","Ignored if `xbins.size` is provided."].join(" ")},xbins:pRt("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc",description:["Specifies the maximum number of desired bins. This value will be used","in an algorithm that will decide the optimal bin size such that the","histogram best visualizes the distribution of the data.","Ignored if `ybins.size` is provided."].join(" ")},ybins:pRt("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc",description:["Obsolete: since v1.42 each bin attribute is auto-determined","separately and `autobinx` is not needed. However, we accept","`autobinx: true` or `false` and will update `xbins` accordingly","before deleting `autobinx` from the trace."].join(" ")},autobiny:{valType:"boolean",dflt:null,editType:"calc",description:["Obsolete: since v1.42 each bin attribute is auto-determined","separately and `autobiny` is not needed. However, we accept","`autobiny: true` or `false` and will update `ybins` accordingly","before deleting `autobiny` from the trace."].join(" ")},bingroup:{valType:"string",dflt:"",editType:"calc",description:["Set a group of histogram traces which will have compatible bin settings.","Note that traces on the same subplot and with the same *orientation*","under `barmode` *stack*, *relative* and *group* are forced into the same bingroup,","Using `bingroup`, traces under `barmode` *overlay* and on different axes","(of the same axis type) can have compatible bin settings.","Note that histogram and histogram2d* trace can share the same `bingroup`"].join(" ")},hovertemplate:hRt({},{keys:vRt.eventDataKeys}),texttemplate:gRt({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:mRt({},uRt.textposition,{arrayOk:!1}),textfont:fRt({arrayOk:!1,editType:"plot",colorEditType:"style",description:"Sets the text font."}),outsidetextfont:fRt({arrayOk:!1,editType:"plot",colorEditType:"style",description:"Sets the font used for `text` lying outside the bar."}),insidetextfont:fRt({arrayOk:!1,editType:"plot",colorEditType:"style",description:"Sets the font used for `text` lying inside the bar."}),insidetextanchor:uRt.insidetextanchor,textangle:uRt.textangle,cliponaxis:uRt.cliponaxis,constraintext:uRt.constraintext,marker:uRt.marker,offsetgroup:uRt.offsetgroup,alignmentgroup:uRt.alignmentgroup,selected:uRt.selected,unselected:uRt.unselected,_deprecated:{bardir:uRt._deprecated.bardir}},bRt={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *stack*, the bars are stacked on top of one another","With *relative*, the bars are stacked on top of one another,","with negative values below the axis, positive values above","With *group*, the bars are plotted next to one another","centered around the shared location.","With *overlay*, the bars are plotted over one another,","you might need to an *opacity* to see multiple bars."].join(" ")},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc",description:["Sets the normalization for bar traces on the graph.","With *fraction*, the value of each bar is divided by the sum of all","values at that location coordinate.","*percent* is the same but multiplied by 100 to show percentages."].join(" ")},bargap:{valType:"number",min:0,max:1,editType:"calc",description:["Sets the gap (in plot fraction) between bars of","adjacent location coordinates."].join(" ")},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc",description:["Sets the gap (in plot fraction) between bars of","the same location coordinate."].join(" ")}},IRt=Ott.exports,CRt=Mat.hasColorscale,xRt=cst,BRt=Q4.exports.coercePattern,ARt=function(t,e,n,r,i){var a=n("marker.color",r),o=CRt(t,"marker");o&&xRt(t,e,i,n,{prefix:"marker.",cLetter:"c"}),n("marker.line.color",IRt.defaultLine),CRt(t,"marker.line")&&xRt(t,e,i,n,{prefix:"marker.line.",cLetter:"c"}),n("marker.line.width"),n("marker.opacity"),BRt(n,"marker.pattern",a,o),n("selected.marker.color"),n("unselected.marker.color")},FRt=Q4.exports,QRt=(Ott.exports,Wpt.getAxisGroup),wRt=FRt.coerceFont;function URt(t,e,n,r){var i=e.orientation,a=e[{v:"x",h:"y"}[i]+"axis"],o=QRt(n,a)+i,s=n._alignmentOpts||{},l=r("alignmentgroup"),c=s[o];c||(c=s[o]={});var u=c[l];u?u.traces.push(e):u=c[l]={traces:[e],alignmentIndex:Object.keys(c).length,offsetGroups:{}};var d=r("offsetgroup"),h=u.offsetGroups,g=h[d];d&&(g||(g=h[d]={offsetIndex:Object.keys(h).length}),e._offsetIndex=g.offsetIndex)}function GRt(t,e,n,r,i,a){var o=!(!1===(a=a||{}).moduleHasSelected),s=!(!1===a.moduleHasUnselected),l=!(!1===a.moduleHasConstrain),c=!(!1===a.moduleHasCliponaxis),u=!(!1===a.moduleHasTextangle),d=!(!1===a.moduleHasInsideanchor),h=!!a.hasPathbar,g=Array.isArray(i)||"auto"===i,f=g||"inside"===i,p=g||"outside"===i;if(f||p){var v=wRt(r,"textfont",n.font),m=FRt.extendFlat({},v),y=!(t.textfont&&t.textfont.color);if(y&&delete m.color,wRt(r,"insidetextfont",m),h){var b=FRt.extendFlat({},v);y&&delete b.color,wRt(r,"pathbar.textfont",b)}p&&wRt(r,"outsidetextfont",v),o&&r("selected.textfont.color"),s&&r("unselected.textfont.color"),l&&r("constraintext"),c&&r("cliponaxis"),u&&r("textangle"),r("texttemplate")}f&&d&&r("insidetextanchor")}var RRt=URt,SRt=GRt,LRt=met,_Rt=Q4.exports,ERt=Ott.exports,kRt=SRt,VRt=ARt,ZRt=yRt,NRt=Q4.exports,TRt=Vit,XRt=met.traceIs,WRt=RRt,MRt=NRt.nestedProperty,HRt=Wpt.getAxisGroup,DRt=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],YRt=["x","y"],ORt=met,zRt=Aat.exports,JRt=Q4.exports,jRt=bRt,PRt=Q4.exports,KRt=z6,qRt={count:function(t,e,n){return n[t]++,1},sum:function(t,e,n,r){var i=r[e];return KRt(i)?(i=Number(i),n[t]+=i,i):0},avg:function(t,e,n,r,i){var a=r[e];return KRt(a)&&(a=Number(a),n[t]+=a,i[t]++),0},min:function(t,e,n,r){var i=r[e];if(KRt(i)){if(i=Number(i),!KRt(n[t]))return n[t]=i,i;if(n[t]>i){var a=i-n[t];return n[t]=i,a}}return 0},max:function(t,e,n,r){var i=r[e];if(KRt(i)){if(i=Number(i),!KRt(n[t]))return n[t]=i,i;if(n[t]<i){var a=i-n[t];return n[t]=i,a}}return 0}},$Rt=J6.ONEAVGYEAR,tSt=J6.ONEAVGMONTH,eSt=J6.ONEDAY,nSt=J6.ONEHOUR,rSt=J6.ONEMIN,iSt=J6.ONESEC,aSt=Aat.exports.tickIncrement;function oSt(t,e,n,r){if(t*e<=0)return 1/0;for(var i=Math.abs(e-t),a="date"===n.type,o=sSt(i,a),s=0;s<10;s++){var l=sSt(80*o,a);if(o===l)break;if(!lSt(l,t,e,a,n,r))break;o=l}return o}function sSt(t,e){return e&&t>iSt?t>eSt?t>1.1*$Rt?$Rt:t>1.1*tSt?tSt:eSt:t>nSt?nSt:t>rSt?rSt:iSt:Math.pow(10,Math.floor(Math.log(t)/Math.LN10))}function lSt(t,e,n,r,i,a){if(r&&t>eSt){var o=cSt(e,i,a),s=cSt(n,i,a),l=t===$Rt?0:1;return o[l]!==s[l]}return Math.floor(n/t)-Math.floor(e/t)>.1}function cSt(t,e,n){var r=e.c2d(t,$Rt,n).split("-");return""===r[0]&&(r.unshift(),r[0]="-"+r[0]),r}var uSt=z6,dSt=Q4.exports,hSt=met,gSt=Aat.exports,fSt=function(t,e){for(var n=0;n<t.length;n++)t[n].i=n;PRt.mergeArray(e.text,t,"tx"),PRt.mergeArray(e.hovertext,t,"htx");var r=e.marker;if(r){PRt.mergeArray(r.opacity,t,"mo",!0),PRt.mergeArray(r.color,t,"mc");var i=r.line;i&&(PRt.mergeArray(i.color,t,"mlc"),PRt.mergeArrayCastPositive(i.width,t,"mlw"))}},pSt=qRt,vSt={percent:function(t,e){for(var n=t.length,r=100/e,i=0;i<n;i++)t[i]*=r},probability:function(t,e){for(var n=t.length,r=0;r<n;r++)t[r]/=e},density:function(t,e,n,r){var i=t.length;r=r||1;for(var a=0;a<i;a++)t[a]*=n[a]*r},"probability density":function(t,e,n,r){var i=t.length;r&&(e/=r);for(var a=0;a<i;a++)t[a]*=n[a]/e}},mSt=function(t,e){for(var n=t.length,r=0,i=0;i<n;i++)e[i]?(t[i]/=e[i],r+=t[i]):t[i]=null;return r},ySt=function(t,e,n,r,i){var a,o,s=-1.1*e,l=-.1*e,c=t-l,u=n[0],d=n[1],h=Math.min(oSt(u+l,u+c,r,i),oSt(d+l,d+c,r,i)),g=Math.min(oSt(u+s,u+l,r,i),oSt(d+s,d+l,r,i));if(h>g&&g<Math.abs(d-u)/4e3?(a=h,o=!1):(a=Math.min(h,g),o=!0),"date"===r.type&&a>eSt){var f=a===$Rt?1:6,p=a===$Rt?"M12":"M1";return function(e,n){var a=r.c2d(e,$Rt,i),s=a.indexOf("-",f);s>0&&(a=a.substr(0,s));var l=r.d2c(a,0,i);if(l<e){var c=aSt(l,p,!1,i);(l+c)/2<e+t&&(l=c)}return n&&o?aSt(l,p,!0,i):l}}return function(e,n){var r=a*Math.round(e/a);return r+a/10<e&&r+.9*a<e+t&&(r+=a),n&&o&&(r-=a),r}};function bSt(t,e,n,r,i){var a,o,s,l,c,u,d,h=r+"bins",g=t._fullLayout,f=e["_"+r+"bingroup"],p=g._histogramBinOpts[f],v="overlay"===g.barmode,m=function(t){return n.r2c(t,0,l)},y=function(t){return n.c2r(t,0,l)},b="date"===n.type?function(t){return t||0===t?dSt.cleanDate(t,null,l):null}:function(t){return uSt(t)?Number(t):null};function I(t,e,n){e[t+"Found"]?(e[t]=b(e[t]),null===e[t]&&(e[t]=n[t])):(u[t]=e[t]=n[t],dSt.nestedProperty(o[0],h+"."+t).set(n[t]))}if(e["_"+r+"autoBinFinished"])delete e["_"+r+"autoBinFinished"];else{o=p.traces;var C=[],x=!0,B=!1,A=!1;for(a=0;a<o.length;a++)if((s=o[a]).visible){var F=p.dirs[a];c=s["_"+F+"pos0"]=n.makeCalcdata(s,F),C=dSt.concat(C,c),delete s["_"+r+"autoBinFinished"],!0===e.visible&&(x?x=!1:(delete s._autoBin,s["_"+r+"autoBinFinished"]=1),hSt.traceIs(s,"2dMap")&&(B=!0),"histogram2dcontour"===s.type&&(A=!0))}l=o[0][r+"calendar"];var Q=gSt.autoBin(C,n,p.nbins,B,l,p.sizeFound&&p.size),w=o[0]._autoBin={};if(u=w[p.dirs[0]]={},A&&(p.size||(Q.start=y(gSt.tickIncrement(m(Q.start),Q.size,!0,l))),void 0===p.end&&(Q.end=y(gSt.tickIncrement(m(Q.end),Q.size,!1,l)))),v&&!hSt.traceIs(e,"2dMap")&&0===Q._dataSpan&&"category"!==n.type&&"multicategory"!==n.type){if(i)return[Q,c,!0];Q=function(t,e,n,r,i){var a,o,s,l=t._fullLayout,c=function(t,e){for(var n=e.xaxis,r=e.yaxis,i=e.orientation,a=[],o=t._fullData,s=0;s<o.length;s++){var l=o[s];"histogram"===l.type&&!0===l.visible&&l.orientation===i&&l.xaxis===n&&l.yaxis===r&&a.push(l)}return a}(t,e),u=!1,d=1/0,h=[e];for(a=0;a<c.length;a++)if((o=c[a])===e)u=!0;else if(u){var g=bSt(t,o,n,r,!0),f=g[0],p=g[2];o["_"+r+"autoBinFinished"]=1,o["_"+r+"pos0"]=g[1],p?h.push(o):d=Math.min(d,f.size)}else s=l._histogramBinOpts[o["_"+r+"bingroup"]],d=Math.min(d,s.size||o[i].size);var v=new Array(h.length);for(a=0;a<h.length;a++)for(var m=h[a]["_"+r+"pos0"],y=0;y<m.length;y++)if(void 0!==m[y]){v[a]=m[y];break}isFinite(d)||(d=dSt.distinctVals(v).minDiff);for(a=0;a<h.length;a++){var b=(o=h[a])[r+"calendar"],I={start:n.c2r(v[a]-d/2,0,b),end:n.c2r(v[a]+d/2,0,b),size:d};o._input[i]=o[i]=I,(s=l._histogramBinOpts[o["_"+r+"bingroup"]])&&dSt.extendFlat(s,I)}return e[i]}(t,e,n,r,h)}(d=s.cumulative||{}).enabled&&"include"!==d.currentbin&&("decreasing"===d.direction?Q.start=y(gSt.tickIncrement(m(Q.start),Q.size,!0,l)):Q.end=y(gSt.tickIncrement(m(Q.end),Q.size,!1,l))),p.size=Q.size,p.sizeFound||(u.size=Q.size,dSt.nestedProperty(o[0],h+".size").set(Q.size)),I("start",p,Q),I("end",p,Q)}c=e["_"+r+"pos0"],delete e["_"+r+"pos0"];var U=e._input[h]||{},G=dSt.extendFlat({},p),R=p.start,S=n.r2l(U.start),L=void 0!==S;if((p.startFound||L)&&S!==n.r2l(R)){var _=L?S:dSt.aggNums(Math.min,null,c),E={type:"category"===n.type||"multicategory"===n.type?"linear":n.type,r2l:n.r2l,dtick:p.size,tick0:R,calendar:l,range:[_,gSt.tickIncrement(_,p.size,!1,l)].map(n.l2r)},k=gSt.tickFirst(E);k>n.r2l(_)&&(k=gSt.tickIncrement(k,p.size,!0,l)),G.start=n.l2r(k),L||dSt.nestedProperty(e,h+".start").set(G.start)}var V=p.end,Z=n.r2l(U.end),N=void 0!==Z;if((p.endFound||N)&&Z!==n.r2l(V)){var T=N?Z:dSt.aggNums(Math.max,null,c);G.end=n.l2r(T),N||dSt.nestedProperty(e,h+".start").set(G.end)}var X="autobin"+r;return!1===e._input[X]&&(e._input[h]=dSt.extendFlat({},e[h]||{}),delete e._input[X],delete e[X]),[G,c]}var ISt={calc:function(t,e){var n,r,i,a,o=[],s=[],l="h"===e.orientation,c=gSt.getFromId(t,l?e.yaxis:e.xaxis),u=l?"y":"x",d={x:"y",y:"x"}[u],h=e[u+"calendar"],g=e.cumulative,f=bSt(t,e,c,u),p=f[0],v=f[1],m="string"==typeof p.size,y=[],b=m?y:p,I=[],C=[],x=[],B=0,A=e.histnorm,F=e.histfunc,Q=-1!==A.indexOf("density");g.enabled&&Q&&(A=A.replace(/ ?density$/,""),Q=!1);var w,U="max"===F||"min"===F?null:0,G=pSt.count,R=vSt[A],S=!1,L=function(t){return c.r2c(t,0,h)};for(dSt.isArrayOrTypedArray(e[d])&&"count"!==F&&(w=e[d],S="avg"===F,G=pSt[F]),n=L(p.start),i=L(p.end)+(n-gSt.tickIncrement(n,p.size,!1,h))/1e6;n<i&&o.length<1e6&&(r=gSt.tickIncrement(n,p.size,!1,h),o.push((n+r)/2),s.push(U),x.push([]),y.push(n),Q&&I.push(1/(r-n)),S&&C.push(0),!(r<=n));)n=r;y.push(n),m||"date"!==c.type||(b={start:L(b.start),end:L(b.end),size:b.size}),t._fullLayout._roundFnOpts||(t._fullLayout._roundFnOpts={});var _=e["_"+u+"bingroup"],E={leftGap:1/0,rightGap:1/0};_&&(t._fullLayout._roundFnOpts[_]||(t._fullLayout._roundFnOpts[_]=E),E=t._fullLayout._roundFnOpts[_]);var k,V=s.length,Z=!0,N=E.leftGap,T=E.rightGap,X={};for(n=0;n<v.length;n++){var W=v[n];(a=dSt.findBin(W,b))>=0&&a<V&&(B+=G(a,n,s,w,C),Z&&x[a].length&&W!==v[x[a][0]]&&(Z=!1),x[a].push(n),X[n]=a,N=Math.min(N,W-y[a]),T=Math.min(T,y[a+1]-W))}E.leftGap=N,E.rightGap=T,Z||(k=function(e,n){return function(){var r=t._fullLayout._roundFnOpts[_];return ySt(r.leftGap,r.rightGap,y,c,h)(e,n)}}),S&&(B=mSt(s,C)),R&&R(s,B,I),g.enabled&&function(t,e,n){var r,i,a;function o(e){a=t[e],t[e]/=2}function s(e){i=t[e],t[e]=a+i/2,a+=i}if("half"===n)if("increasing"===e)for(o(0),r=1;r<t.length;r++)s(r);else for(o(t.length-1),r=t.length-2;r>=0;r--)s(r);else if("increasing"===e){for(r=1;r<t.length;r++)t[r]+=t[r-1];"exclude"===n&&(t.unshift(0),t.pop())}else{for(r=t.length-2;r>=0;r--)t[r]+=t[r+1];"exclude"===n&&(t.push(0),t.shift())}}(s,g.direction,g.currentbin);var M=Math.min(o.length,s.length),H=[],D=0,Y=M-1;for(n=0;n<M;n++)if(s[n]){D=n;break}for(n=M-1;n>=D;n--)if(s[n]){Y=n;break}for(n=D;n<=Y;n++)if(uSt(o[n])&&uSt(s[n])){var O={p:o[n],s:s[n],b:0};g.enabled||(O.pts=x[n],Z?O.ph0=O.ph1=x[n].length?v[x[n][0]]:o[n]:(e._computePh=!0,O.ph0=k(y[n]),O.ph1=k(y[n+1],!0))),H.push(O)}return 1===H.length&&(H[0].width1=gSt.tickIncrement(H[0].p,p.size,!1,h)-H[0].p),fSt(H,e),dSt.isArrayOrTypedArray(e.selectedpoints)&&dSt.tagSelected(H,e,X),H},calcAllAutoBins:bSt},CSt=ASt,xSt=Q4.exports.distinctVals,BSt=J6.BADNUM;function ASt(t,e){this.traces=t,this.sepNegVal=e.sepNegVal,this.overlapNoMerge=e.overlapNoMerge;for(var n=1/0,r=[],i=0;i<t.length;i++){for(var a=t[i],o=0;o<a.length;o++){var s=a[o];s.p!==BSt&&r.push(s.p)}a[0]&&a[0].width1&&(n=Math.min(a[0].width1,n))}this.positions=r;var l=xSt(r);this.distinctPositions=l.vals,1===l.vals.length&&n!==1/0?this.minDiff=n:this.minDiff=Math.min(l.minDiff,n);var c=(e.posAxis||{}).type;"category"!==c&&"multicategory"!==c||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}ASt.prototype.put=function(t,e){var n=this.getLabel(t,e),r=this.bins[n]||0;return this.bins[n]=r+e,r},ASt.prototype.get=function(t,e){var n=this.getLabel(t,e);return this.bins[n]||0},ASt.prototype.getLabel=function(t,e){return(e<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?t:Math.round(t/this.binWidth))};var FSt=z6,QSt=Q4.exports.isArrayOrTypedArray,wSt=J6.BADNUM,USt=met,GSt=Aat.exports,RSt=Wpt.getAxisGroup,SSt=CSt;function LSt(t,e,n,r,i){if(r.length){var a,o,s,l;switch(function(t,e){var n,r;for(n=0;n<e.length;n++){var i,a=e[n],o=a[0].trace,s="funnel"===o.type?o._base:o.base,l="h"===o.orientation?o.xcalendar:o.ycalendar,c="category"===t.type||"multicategory"===t.type?function(){return null}:t.d2c;if(QSt(s)){for(r=0;r<Math.min(s.length,a.length);r++)i=c(s[r],0,l),FSt(i)?(a[r].b=+i,a[r].hasB=1):a[r].b=0;for(;r<a.length;r++)a[r].b=0}else{i=c(s,0,l);var u=FSt(i);for(i=u?i:0,r=0;r<a.length;r++)a[r].b=i,u&&(a[r].hasB=1)}}}(n,r),i.mode){case"overlay":_St(e,n,r,i);break;case"group":for(a=[],o=[],s=0;s<r.length;s++)void 0===(l=r[s])[0].trace.offset?o.push(l):a.push(l);o.length&&function(t,e,n,r,i){var a=new SSt(r,{posAxis:e,sepNegVal:!1,overlapNoMerge:!i.norm});(function(t,e,n,r){for(var i=t._fullLayout,a=n.positions,o=n.distinctPositions,s=n.minDiff,l=n.traces,c=l.length,u=a.length!==o.length,d=s*(1-r.gap),h=RSt(i,e._id)+l[0][0].trace.orientation,g=i._alignmentOpts[h]||{},f=0;f<c;f++){var p,v,m=l[f],y=m[0].trace,b=g[y.alignmentgroup]||{},I=Object.keys(b.offsetGroups||{}).length,C=(p=I?d/I:u?d/c:d)*(1-(r.groupgap||0));v=I?((2*y._offsetIndex+1-I)*p-C)/2:u?((2*f+1-c)*p-C)/2:-C/2;var x=m[0].t;x.barwidth=C,x.poffset=v,x.bargroupwidth=d,x.bardelta=s}n.binWidth=l[0][0].t.barwidth/100,kSt(n),VSt(e,n),ZSt(e,n,u)})(t,e,a,i),function(t,e){for(var n=t.traces,r=0;r<n.length;r++){var i=n[r];if(void 0===i[0].trace.base)for(var a=new SSt([i],{posAxis:e,sepNegVal:!0,overlapNoMerge:!0}),o=0;o<i.length;o++){var s=i[o];if(s.p!==wSt){var l=a.put(s.p,s.b+s.s);l&&(s.b=l)}}}}(a,e),i.norm?(TSt(a),XSt(n,a,i)):NSt(n,a)}(t,e,n,o,i),a.length&&_St(e,n,a,i);break;case"stack":case"relative":for(a=[],o=[],s=0;s<r.length;s++)void 0===(l=r[s])[0].trace.base?o.push(l):a.push(l);o.length&&function(t,e,n,r,i){var a=new SSt(r,{posAxis:e,sepNegVal:"relative"===i.mode,overlapNoMerge:!(i.norm||"stack"===i.mode||"relative"===i.mode)});ESt(e,a,i),function(t,e,n){var r,i,a,o,s,l,c=WSt(t),u=e.traces;for(o=0;o<u.length;o++)if("funnel"===(i=(r=u[o])[0].trace).type)for(s=0;s<r.length;s++)(l=r[s]).s!==wSt&&e.put(l.p,-.5*l.s);for(o=0;o<u.length;o++){a="funnel"===(i=(r=u[o])[0].trace).type;var d=[];for(s=0;s<r.length;s++)if((l=r[s]).s!==wSt){var h;h=a?l.s:l.s+l.b;var g=e.put(l.p,h),f=g+h;l.b=g,l[c]=f,n.norm||(d.push(f),l.hasB&&d.push(g))}n.norm||(i._extremes[t._id]=GSt.findExtremes(t,d,{tozero:!0,padded:!0}))}}(n,a,i);for(var o=0;o<r.length;o++)for(var s=r[o],l=0;l<s.length;l++){var c=s[l];if(c.s!==wSt)c.b+c.s===a.get(c.p,c.s)&&(c._outmost=!0)}i.norm&&XSt(n,a,i)}(0,e,n,o,i),a.length&&_St(e,n,a,i)}!function(t,e){var n,r,i,a=WSt(e),o={},s=1/0,l=-1/0;for(n=0;n<t.length;n++)for(i=t[n],r=0;r<i.length;r++){var c=i[r].p;FSt(c)&&(s=Math.min(s,c),l=Math.max(l,c))}var u=1e4/(l-s),d=o.round=function(t){return String(Math.round(u*(t-s)))};for(n=0;n<t.length;n++){(i=t[n])[0].t.extents=o;var h=i[0].t.poffset,g=Array.isArray(h);for(r=0;r<i.length;r++){var f=i[r],p=f[a]-f.w/2;if(FSt(p)){var v=f[a]+f.w/2,m=d(f.p);o[m]?o[m]=[Math.min(p,o[m][0]),Math.max(v,o[m][1])]:o[m]=[p,v]}f.p0=f.p+(g?h[r]:h),f.p1=f.p0+f.w,f.s0=f.b,f.s1=f.s0+f.s}}}(r,e)}}function _St(t,e,n,r){for(var i=0;i<n.length;i++){var a=n[i],o=new SSt([a],{posAxis:t,sepNegVal:!1,overlapNoMerge:!r.norm});ESt(t,o,r),r.norm?(TSt(o),XSt(e,o,r)):NSt(e,o)}}function ESt(t,e,n){for(var r=e.minDiff,i=e.traces,a=r*(1-n.gap),o=a*(1-(n.groupgap||0)),s=-o/2,l=0;l<i.length;l++){var c=i[l][0].t;c.barwidth=o,c.poffset=s,c.bargroupwidth=a,c.bardelta=r}e.binWidth=i[0][0].t.barwidth/100,kSt(e),VSt(t,e),ZSt(t,e)}function kSt(t){var e,n,r=t.traces;for(e=0;e<r.length;e++){var i,a=r[e],o=a[0],s=o.trace,l=o.t,c=s._offset||s.offset,u=l.poffset;if(QSt(c)){for(i=Array.prototype.slice.call(c,0,a.length),n=0;n<i.length;n++)FSt(i[n])||(i[n]=u);for(n=i.length;n<a.length;n++)i.push(u);l.poffset=i}else void 0!==c&&(l.poffset=c);var d=s._width||s.width,h=l.barwidth;if(QSt(d)){var g=Array.prototype.slice.call(d,0,a.length);for(n=0;n<g.length;n++)FSt(g[n])||(g[n]=h);for(n=g.length;n<a.length;n++)g.push(h);if(l.barwidth=g,void 0===c){for(i=[],n=0;n<a.length;n++)i.push(u+(h-g[n])/2);l.poffset=i}}else void 0!==d&&(l.barwidth=d,void 0===c&&(l.poffset=u+(h-d)/2))}}function VSt(t,e){for(var n=e.traces,r=WSt(t),i=0;i<n.length;i++)for(var a=n[i],o=a[0].t,s=o.poffset,l=Array.isArray(s),c=o.barwidth,u=Array.isArray(c),d=0;d<a.length;d++){var h=a[d],g=h.w=u?c[d]:c;h[r]=h.p+(l?s[d]:s)+g/2}}function ZSt(t,e,n){var r=e.traces,i=e.minDiff/2;GSt.minDtick(t,e.minDiff,e.distinctPositions[0],n);for(var a=0;a<r.length;a++){var o,s,l,c,u=r[a],d=u[0],h=d.trace,g=[];for(c=0;c<u.length;c++)s=(o=u[c]).p-i,l=o.p+i,g.push(s,l);if(h.width||h.offset){var f=d.t,p=f.poffset,v=f.barwidth,m=Array.isArray(p),y=Array.isArray(v);for(c=0;c<u.length;c++){o=u[c];var b=m?p[c]:p,I=y?v[c]:v;l=(s=o.p+b)+I,g.push(s,l)}}h._extremes[t._id]=GSt.findExtremes(t,g,{padded:!1})}}function NSt(t,e){for(var n=e.traces,r=WSt(t),i=0;i<n.length;i++){for(var a=n[i],o=a[0].trace,s=[],l=!1,c=0;c<a.length;c++){var u=a[c],d=u.b,h=d+u.s;u[r]=h,s.push(h),u.hasB&&s.push(d),u.hasB&&u.b||(l=!0)}o._extremes[t._id]=GSt.findExtremes(t,s,{tozero:l,padded:!0})}}function TSt(t){for(var e=t.traces,n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++){var a=r[i];a.s!==wSt&&t.put(a.p,a.b+a.s)}}function XSt(t,e,n){var r=e.traces,i=WSt(t),a="fraction"===n.norm?1:100,o=a/1e9,s=t.l2c(t.c2l(0)),l="stack"===n.mode?a:s;function c(e){return FSt(t.c2l(e))&&(e<s-o||e>l+o||!FSt(s))}for(var u=0;u<r.length;u++){for(var d=r[u],h=d[0].trace,g=[],f=!1,p=!1,v=0;v<d.length;v++){var m=d[v];if(m.s!==wSt){var y=Math.abs(a/e.get(m.p,m.s));m.b*=y,m.s*=y;var b=m.b,I=b+m.s;m[i]=I,g.push(I),p=p||c(I),m.hasB&&(g.push(b),p=p||c(b)),m.hasB&&m.b||(f=!0)}}h._extremes[t._id]=GSt.findExtremes(t,g,{tozero:f,padded:p})}}function WSt(t){return t._id.charAt(0)}var MSt={crossTraceCalc:function(t,e){for(var n=e.xaxis,r=e.yaxis,i=t._fullLayout,a=t._fullData,o=t.calcdata,s=[],l=[],c=0;c<a.length;c++){var u=a[c];if(!0===u.visible&&USt.traceIs(u,"bar")&&u.xaxis===n._id&&u.yaxis===r._id&&("h"===u.orientation?s.push(o[c]):l.push(o[c]),u._computePh))for(var d=t.calcdata[c],h=0;h<d.length;h++)"function"==typeof d[h].ph0&&(d[h].ph0=d[h].ph0()),"function"==typeof d[h].ph1&&(d[h].ph1=d[h].ph1())}var g={xCat:"category"===n.type||"multicategory"===n.type,yCat:"category"===r.type||"multicategory"===r.type,mode:i.barmode,norm:i.barnorm,gap:i.bargap,groupgap:i.bargroupgap};LSt(t,n,r,l,g),LSt(t,r,n,s,g)},setGroupPositions:LSt},HSt=w4.exports,DSt=Q4.exports;function YSt(t){return"_"+t+"Text_minsize"}var OSt={recordMinTextSize:function(t,e,n){if(n.uniformtext.mode){var r=YSt(t),i=n.uniformtext.minsize,a=e.scale*e.fontSize;e.hide=a<i,n[r]=n[r]||1/0,e.hide||(n[r]=Math.min(n[r],Math.max(a,i)))}},clearMinTextSize:function(t,e){e[YSt(t)]=void 0},resizeText:function(t,e,n){var r=t._fullLayout,i=r["_"+n+"Text_minsize"];if(i){var a,o="hide"===r.uniformtext.mode;switch(n){case"funnelarea":case"pie":case"sunburst":a="g.slice";break;case"treemap":case"icicle":a="g.slice, g.pathbar";break;default:a="g.points > g.point"}e.selectAll(a).each((function(t){var e=t.transform;e&&(e.scale=o&&e.hide?0:i/e.fontSize,HSt.select(this).select("text").attr("transform",DSt.getTextTransform(e)))}))}}},zSt={},JSt=z6,jSt=Btt.exports,PSt=Q4.exports.isArrayOrTypedArray;zSt.coerceString=function(t,e,n){if("string"==typeof e){if(e||!t.noBlank)return e}else if(("number"==typeof e||!0===e)&&!t.strict)return String(e);return void 0!==n?n:t.dflt},zSt.coerceNumber=function(t,e,n){if(JSt(e)){e=+e;var r=t.min,i=t.max;if(!(void 0!==r&&e<r||void 0!==i&&e>i))return e}return void 0!==n?n:t.dflt},zSt.coerceColor=function(t,e,n){return jSt(e).isValid()?e:void 0!==n?n:t.dflt},zSt.coerceEnumerated=function(t,e,n){return t.coerceNumber&&(e=+e),-1!==t.values.indexOf(e)?e:void 0!==n?n:t.dflt},zSt.getValue=function(t,e){var n;return Array.isArray(t)?e<t.length&&(n=t[e]):n=t,n},zSt.getLineWidth=function(t,e){return 0<e.mlw?e.mlw:PSt(t.marker.line.width)?0:t.marker.line.width};var KSt=w4.exports,qSt=Ott.exports,$St=Uat.exports,tLt=Q4.exports,eLt=met,nLt=OSt.resizeText,rLt=cRt.textfont,iLt=cRt.insidetextfont,aLt=cRt.outsidetextfont,oLt=zSt;function sLt(t,e,n){$St.pointStyle(t.selectAll("path"),e,n),lLt(t,e,n)}function lLt(t,e,n){t.selectAll("text").each((function(t){var r=KSt.select(this),i=tLt.ensureUniformFontSize(n,cLt(r,t,e,n));$St.font(r,i)}))}function cLt(t,e,n,r){var i=r._fullLayout.font,a=n.textfont;if(t.classed("bartext-inside")){var o=fLt(e,n);a=dLt(n,e.i,i,o)}else t.classed("bartext-outside")&&(a=hLt(n,e.i,i));return a}function uLt(t,e,n){return gLt(rLt,t.textfont,e,n)}function dLt(t,e,n,r){var i=uLt(t,e,n);return(void 0===t._input.textfont||void 0===t._input.textfont.color||Array.isArray(t.textfont.color)&&void 0===t.textfont.color[e])&&(i={color:qSt.contrast(r),family:i.family,size:i.size}),gLt(iLt,t.insidetextfont,e,i)}function hLt(t,e,n){var r=uLt(t,e,n);return gLt(aLt,t.outsidetextfont,e,r)}function gLt(t,e,n,r){e=e||{};var i=oLt.getValue(e.family,n),a=oLt.getValue(e.size,n),o=oLt.getValue(e.color,n);return{family:oLt.coerceString(t.family,i,r.family),size:oLt.coerceNumber(t.size,a,r.size),color:oLt.coerceColor(t.color,o,r.color)}}function fLt(t,e){return"waterfall"===e.type?e[t.dir].marker.color:t.mcc||t.mc||e.marker.color}var pLt={style:function(t){var e=KSt.select(t).selectAll("g.barlayer").selectAll("g.trace");nLt(t,e,"bar");var n=e.size(),r=t._fullLayout;e.style("opacity",(function(t){return t[0].trace.opacity})).each((function(t){("stack"===r.barmode&&n>1||0===r.bargap&&0===r.bargroupgap&&!t[0].trace.marker.line.width)&&KSt.select(this).attr("shape-rendering","crispEdges")})),e.selectAll("g.points").each((function(e){sLt(KSt.select(this),e[0].trace,t)})),eLt.getComponentMethod("errorbars","style")(e)},styleTextPoints:lLt,styleOnSelect:function(t,e,n){var r=e[0].trace;r.selectedpoints?function(t,e,n){$St.selectedPointStyle(t.selectAll("path"),e),function(t,e,n){t.each((function(t){var r,i=KSt.select(this);if(t.selected){r=tLt.ensureUniformFontSize(n,cLt(i,t,e,n));var a=e.selected.textfont&&e.selected.textfont.color;a&&(r.color=a),$St.font(i,r)}else $St.selectedTextStyle(i,e)}))}(t.selectAll("text"),e,n)}(n,r,t):(sLt(n,r,t),eLt.getComponentMethod("errorbars","style")(n))},getInsideTextFont:dLt,getOutsideTextFont:hLt,getBarColor:fLt,resizeText:nLt},vLt=w4.exports,mLt=z6,yLt=Q4.exports,bLt=Fat,ILt=Ott.exports,CLt=Uat.exports,xLt=met,BLt=Aat.exports.tickText,ALt=OSt.recordMinTextSize,FLt=OSt.clearMinTextSize,QLt=pLt,wLt=zSt,ULt=cRt.text,GLt=cRt.textposition,RLt=Qst.appendArrayPointValue,SLt=jGt.TEXTPAD;function LLt(t){return t.id}function _Lt(t){if(t.ids)return LLt}function ELt(t,e){return t<e?1:-1}function kLt(t,e,n,r){var i;return!e.uniformtext.mode&&VLt(n)?(r&&(i=r()),t.transition().duration(n.duration).ease(n.easing).each("end",(function(){i&&i()})).each("interrupt",(function(){i&&i()}))):t}function VLt(t){return t&&t.duration>0}function ZLt(t){return"auto"===t?0:t}function NLt(t,e){var n=Math.PI/180*e,r=Math.abs(Math.sin(n)),i=Math.abs(Math.cos(n));return{x:t.width*i+t.height*r,y:t.width*r+t.height*i}}function TLt(t,e,n,r,i,a){var o=!!a.isHorizontal,s=!!a.constrained,l=a.angle||0,c=a.anchor||"end",u="end"===c,d="start"===c,h=((a.leftToRight||0)+1)/2,g=1-h,f=i.width,p=i.height,v=Math.abs(e-t),m=Math.abs(r-n),y=v>2*SLt&&m>2*SLt?SLt:0;v-=2*y,m-=2*y;var b=ZLt(l);"auto"!==l||f<=v&&p<=m||!(f>v||p>m)||(f>m||p>v)&&f<p==v<m||(b+=90);var I=NLt(i,b),C=1;s&&(C=Math.min(1,v/I.x,m/I.y));var x=i.left*g+i.right*h,B=(i.top+i.bottom)/2,A=(t+SLt)*g+(e-SLt)*h,F=(n+r)/2,Q=0,w=0;if(d||u){var U=(o?I.x:I.y)/2,G=o?ELt(t,e):ELt(n,r);o?d?(A=t+G*y,Q=-G*U):(A=e-G*y,Q=G*U):d?(F=n+G*y,w=-G*U):(F=r-G*y,w=G*U)}return{textX:x,textY:B,targetX:A,targetY:F,anchorX:Q,anchorY:w,scale:C,rotate:b}}var XLt={plot:function(t,e,n,r,i,a){var o=e.xaxis,s=e.yaxis,l=t._fullLayout;i||(i={mode:l.barmode,norm:l.barmode,gap:l.bargap,groupgap:l.bargroupgap},FLt("bar",l));var c=yLt.makeTraceGroups(r,n,"trace bars").each((function(n){var r=vLt.select(this),c=n[0].trace,u="waterfall"===c.type,d="funnel"===c.type,h="bar"===c.type||d,g=0;u&&c.connector.visible&&"between"===c.connector.mode&&(g=c.connector.line.width/2);var f="h"===c.orientation,p=VLt(i),v=yLt.ensureSingle(r,"g","points"),m=_Lt(c),y=v.selectAll("g.point").data(yLt.identity,m);y.enter().append("g").classed("point",!0),y.exit().remove(),y.each((function(r,u){var d,v,m=vLt.select(this),y=function(t,e,n,r){var i=[],a=[],o=r?e:n,s=r?n:e;return i[0]=o.c2p(t.s0,!0),a[0]=s.c2p(t.p0,!0),i[1]=o.c2p(t.s1,!0),a[1]=s.c2p(t.p1,!0),r?[i,a]:[a,i]}(r,o,s,f),b=y[0][0],I=y[0][1],C=y[1][0],x=y[1][1],B=0==(f?I-b:x-C);if(B&&h&&wLt.getLineWidth(c,r)&&(B=!1),B||(B=!(mLt(b)&&mLt(I)&&mLt(C)&&mLt(x))),r.isBlank=B,B&&(f?I=b:x=C),g&&!B&&(f?(b-=ELt(b,I)*g,I+=ELt(b,I)*g):(C-=ELt(C,x)*g,x+=ELt(C,x)*g)),"waterfall"===c.type){if(!B){var A=c[r.dir].marker;d=A.line.width,v=A.color}}else d=wLt.getLineWidth(c,r),v=r.mc||c.marker.color;function F(t){var e=vLt.round(d/2%1,2);return 0===i.gap&&0===i.groupgap?vLt.round(Math.round(t)-e,2):t}if(!t._context.staticPlot){var Q=ILt.opacity(v)<1||d>.01?F:function(t,e,n){return n&&t===e?t:Math.abs(t-e)>=2?F(t):t>e?Math.ceil(t):Math.floor(t)};b=Q(b,I,f),I=Q(I,b,f),C=Q(C,x,!f),x=Q(x,C,!f)}var w=kLt(yLt.ensureSingle(m,"path"),l,i,a);if(w.style("vector-effect","non-scaling-stroke").attr("d",isNaN((I-b)*(x-C))||B&&t._context.staticPlot?"M0,0Z":"M"+b+","+C+"V"+x+"H"+I+"V"+C+"Z").call(CLt.setClipUrl,e.layerClipId,t),!l.uniformtext.mode&&p){var U=CLt.makePointStyleFns(c);CLt.singlePointStyle(r,w,c,U,t)}!function(t,e,n,r,i,a,o,s,l,c,u){var d,h=e.xaxis,g=e.yaxis,f=t._fullLayout;function p(e,n,r){return yLt.ensureSingle(e,"text").text(n).attr({class:"bartext bartext-"+d,"text-anchor":"middle","data-notex":1}).call(CLt.font,r).call(bLt.convertToTspans,t)}var v=r[0].trace,m="h"===v.orientation,y=function(t,e,n,r,i){var a,o=e[0].trace;a=o.texttemplate?function(t,e,n,r,i){var a=e[0].trace,o=yLt.castOption(a,n,"texttemplate");if(!o)return"";var s,l,c,u,d="histogram"===a.type,h="waterfall"===a.type,g="funnel"===a.type,f="h"===a.orientation;f?(s="y",l=i,c="x",u=r):(s="x",l=r,c="y",u=i);function p(t){return BLt(l,l.c2l(t),!0).text}function v(t){return BLt(u,u.c2l(t),!0).text}var m=e[n],y={};y.label=m.p,y.labelLabel=y[s+"Label"]=p(m.p);var b=yLt.castOption(a,m.i,"text");(0===b||b)&&(y.text=b);y.value=m.s,y.valueLabel=y[c+"Label"]=v(m.s);var I={};RLt(I,a,m.i),(d||void 0===I.x)&&(I.x=f?y.value:y.label);(d||void 0===I.y)&&(I.y=f?y.label:y.value);(d||void 0===I.xLabel)&&(I.xLabel=f?y.valueLabel:y.labelLabel);(d||void 0===I.yLabel)&&(I.yLabel=f?y.labelLabel:y.valueLabel);h&&(y.delta=+m.rawS||m.s,y.deltaLabel=v(y.delta),y.final=m.v,y.finalLabel=v(y.final),y.initial=y.final-y.delta,y.initialLabel=v(y.initial));g&&(y.value=m.s,y.valueLabel=v(y.value),y.percentInitial=m.begR,y.percentInitialLabel=yLt.formatPercent(m.begR),y.percentPrevious=m.difR,y.percentPreviousLabel=yLt.formatPercent(m.difR),y.percentTotal=m.sumR,y.percenTotalLabel=yLt.formatPercent(m.sumR));var C=yLt.castOption(a,m.i,"customdata");C&&(y.customdata=C);return yLt.texttemplateString(o,y,t._d3locale,I,y,a._meta||{})}(t,e,n,r,i):o.textinfo?function(t,e,n,r){var i=t[0].trace,a="h"===i.orientation,o="waterfall"===i.type,s="funnel"===i.type;function l(t){return BLt(a?r:n,t,!0).text}function c(t){return BLt(a?n:r,+t,!0).text}var u,d=i.textinfo,h=t[e],g=d.split("+"),f=[],p=function(t){return-1!==g.indexOf(t)};p("label")&&f.push(l(t[e].p));p("text")&&(0===(u=yLt.castOption(i,h.i,"text"))||u)&&f.push(u);if(o){var v=+h.rawS||h.s,m=h.v,y=m-v;p("initial")&&f.push(c(y)),p("delta")&&f.push(c(v)),p("final")&&f.push(c(m))}if(s){p("value")&&f.push(c(h.s));var b=0;p("percent initial")&&b++,p("percent previous")&&b++,p("percent total")&&b++;var I=b>1;p("percent initial")&&(u=yLt.formatPercent(h.begR),I&&(u+=" of initial"),f.push(u)),p("percent previous")&&(u=yLt.formatPercent(h.difR),I&&(u+=" of previous"),f.push(u)),p("percent total")&&(u=yLt.formatPercent(h.sumR),I&&(u+=" of total"),f.push(u))}return f.join("<br>")}(e,n,r,i):wLt.getValue(o.text,n);return wLt.coerceString(ULt,a)}(f,r,i,h,g);d=function(t,e){var n=wLt.getValue(t.textposition,e);return wLt.coerceEnumerated(GLt,n)}(v,i);var b="stack"===c.mode||"relative"===c.mode,I=r[i],C=!b||I._outmost;if(!y||"none"===d||(I.isBlank||a===o||s===l)&&("auto"===d||"inside"===d))return void n.select("text").remove();var x=f.font,B=QLt.getBarColor(r[i],v),A=QLt.getInsideTextFont(v,i,x,B),F=QLt.getOutsideTextFont(v,i,x),Q=n.datum();m?"log"===h.type&&Q.s0<=0&&(a=h.range[0]<h.range[1]?0:h._length):"log"===g.type&&Q.s0<=0&&(s=g.range[0]<g.range[1]?g._length:0);var w,U,G,R,S,L=Math.abs(o-a)-2*SLt,_=Math.abs(l-s)-2*SLt;"outside"===d&&(C||I.hasB||(d="inside"));if("auto"===d){if(C)d="inside",w=p(n,y,S=yLt.ensureUniformFontSize(t,A)),G=(U=CLt.bBox(w.node())).width,R=U.height,G>0&&R>0&&(G<=L&&R<=_||G<=_&&R<=L||(m?L>=G*(_/R):_>=R*(L/G)))?d="inside":(d="outside",w.remove(),w=null);else d="inside"}if(!w){var E=(w=p(n,y,S=yLt.ensureUniformFontSize(t,"outside"===d?F:A))).attr("transform");if(w.attr("transform",""),G=(U=CLt.bBox(w.node())).width,R=U.height,w.attr("transform",E),G<=0||R<=0)return void w.remove()}var k,V=v.textangle;k="outside"===d?function(t,e,n,r,i,a){var o,s=!!a.isHorizontal,l=!!a.constrained,c=a.angle||0,u=i.width,d=i.height,h=Math.abs(e-t),g=Math.abs(r-n);o=s?g>2*SLt?SLt:0:h>2*SLt?SLt:0;var f=1;l&&(f=s?Math.min(1,g/d):Math.min(1,h/u));var p=ZLt(c),v=NLt(i,p),m=(s?v.x:v.y)/2,y=(i.left+i.right)/2,b=(i.top+i.bottom)/2,I=(t+e)/2,C=(n+r)/2,x=0,B=0,A=s?ELt(e,t):ELt(n,r);s?(I=e-A*o,x=A*m):(C=r+A*o,B=-A*m);return{textX:y,textY:b,targetX:I,targetY:C,anchorX:x,anchorY:B,scale:f,rotate:p}}(a,o,s,l,U,{isHorizontal:m,constrained:"both"===v.constraintext||"outside"===v.constraintext,angle:V}):TLt(a,o,s,l,U,{isHorizontal:m,constrained:"both"===v.constraintext||"inside"===v.constraintext,angle:V,anchor:v.insidetextanchor});k.fontSize=S.size,ALt("histogram"===v.type?"bar":v.type,k,f),I.transform=k,kLt(w,f,c,u).attr("transform",yLt.getTextTransform(k))}(t,e,m,n,u,b,I,C,x,i,a),e.layerClipId&&CLt.hideOutsideRangePoint(r,m.select("text"),o,s,c.xcalendar,c.ycalendar)}));var b=!1===c.cliponaxis;CLt.setClipUrl(r,b?null:e.layerClipId,t)}));xLt.getComponentMethod("errorbars","plot")(t,c,e,i)},toMoveInsideBar:TLt},WLt=Vgt,MLt=met,HLt=Ott.exports,DLt=Q4.exports.fillText,YLt=zSt.getLineWidth,OLt=Aat.exports.hoverLabelText,zLt=J6.BADNUM;function JLt(t,e,n,r,i){var a,o,s,l,c,u,d,h=t.cd,g=h[0].trace,f=h[0].t,p="closest"===r,v="waterfall"===g.type,m=t.maxHoverDistance,y=t.maxSpikeDistance;"h"===g.orientation?(a=n,o=e,s="y",l="x",c=R,u=U):(a=e,o=n,s="x",l="y",u=R,c=U);var b=g[s+"period"],I=p||b;function C(t){return B(t,-1)}function x(t){return B(t,1)}function B(t,e){var n=t.w;return t[s]+e*n/2}function A(t){return t[s+"End"]-t[s+"Start"]}var F=p?C:b?function(t){return t.p-A(t)/2}:function(t){return Math.min(C(t),t.p-f.bardelta/2)},Q=p?x:b?function(t){return t.p+A(t)/2}:function(t){return Math.max(x(t),t.p+f.bardelta/2)};function w(t,e,n){return i.finiteRange&&(n=0),WLt.inbox(t-a,e-a,n+Math.min(1,Math.abs(e-t)/d)-1)}function U(t){return w(F(t),Q(t),m)}function G(t){var e=t[l];if(v){var n=Math.abs(t.rawS)||0;o>0?e+=n:o<0&&(e-=n)}return e}function R(t){var e=o,n=t.b,r=G(t);return WLt.inbox(n-e,r-e,m+(r-e)/(r-n)-1)}var S=t[s+"a"],L=t[l+"a"];d=Math.abs(S.r2c(S.range[1])-S.r2c(S.range[0]));var _=WLt.getDistanceFunction(r,c,u,(function(t){return(c(t)+u(t))/2}));if(WLt.getClosest(h,_,t),!1!==t.index&&h[t.index].p!==zLt){I||(F=function(t){return Math.min(C(t),t.p-f.bargroupwidth/2)},Q=function(t){return Math.max(x(t),t.p+f.bargroupwidth/2)});var E=h[t.index],k=g.base?E.b+E.s:E.s;t[l+"0"]=t[l+"1"]=L.c2p(E[l],!0),t[l+"LabelVal"]=k;var V=f.extents[f.extents.round(E.p)];t[s+"0"]=S.c2p(p?F(E):V[0],!0),t[s+"1"]=S.c2p(p?Q(E):V[1],!0);var Z=void 0!==E.orig_p;return t[s+"LabelVal"]=Z?E.orig_p:E.p,t.labelLabel=OLt(S,t[s+"LabelVal"],g[s+"hoverformat"]),t.valueLabel=OLt(L,t[l+"LabelVal"],g[l+"hoverformat"]),t.baseLabel=OLt(L,E.b,g[l+"hoverformat"]),t.spikeDistance=(function(t){var e=o,n=t.b,r=G(t);return WLt.inbox(n-e,r-e,y+(r-e)/(r-n)-1)}(E)+function(t){return w(C(t),x(t),y)}(E))/2,t[s+"Spike"]=S.c2p(E.p,!0),DLt(E,g,t),t.hovertemplate=g.hovertemplate,t}}function jLt(t,e){var n=e.mcc||t.marker.color,r=e.mlcc||t.marker.line.color,i=YLt(t,e);return HLt.opacity(n)?n:HLt.opacity(r)&&i?r:void 0}var PLt=function(t,e,n,r,i){var a=JLt(t,e,n,r,i);if(a){var o=a.cd,s=o[0].trace,l=o[a.index];return a.color=jLt(s,l),MLt.getComponentMethod("errorbars","hoverInfo")(l,s,a),[a]}},KLt=PLt,qLt=Aat.exports.hoverLabelText;function $Lt(t,e,n,r,i){var a=e.c2p(r?t.s0:t.p0,!0),o=e.c2p(r?t.s1:t.p1,!0),s=n.c2p(r?t.p0:t.s0,!0),l=n.c2p(r?t.p1:t.s1,!0);return i?[(a+o)/2,(s+l)/2]:r?[o,(s+l)/2]:[(a+o)/2,l]}var t_t={attributes:yRt,layoutAttributes:bRt,supplyDefaults:function(t,e,n,r){function i(n,r){return _Rt.coerce(t,e,ZRt,n,r)}var a=i("x"),o=i("y");i("cumulative.enabled")&&(i("cumulative.direction"),i("cumulative.currentbin")),i("text");var s=i("textposition");kRt(t,e,r,i,s,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat");var l=i("orientation",o&&!a?"h":"v"),c="v"===l?"x":"y",u="v"===l?"y":"x",d=a&&o?Math.min(_Rt.minRowLength(a)&&_Rt.minRowLength(o)):_Rt.minRowLength(e[c]||[]);if(d){e._length=d,LRt.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y"],r),e[u]&&i("histfunc"),i("histnorm"),i("autobin"+c),VRt(t,e,i,n,r),_Rt.coerceSelectionMarkerOpacity(e,i);var h=(e.marker.line||{}).color,g=LRt.getComponentMethod("errorbars","supplyDefaults");g(t,e,h||ERt.defaultLine,{axis:"y"}),g(t,e,h||ERt.defaultLine,{axis:"x",inherit:"y"})}else e.visible=!1},crossTraceDefaults:function(t,e){var n,r,i,a,o,s,l,c=e._histogramBinOpts={},u=[],d={},h=[];function g(t,e){return NRt.coerce(n._input,n,n._module.attributes,t,e)}function f(t){return"v"===t.orientation?"x":"y"}function p(t,n,r){var i=t.uid+"__"+r;n||(n=i);var a=function(t,n){return TRt.getFromTrace({_fullLayout:e},t,n).type}(t,r),o=t[r+"calendar"]||"",s=c[n],l=!0;s&&(a===s.axType&&o===s.calendar?(l=!1,s.traces.push(t),s.dirs.push(r)):(n=i,a!==s.axType&&NRt.warn(["Attempted to group the bins of trace",t.index,"set on a","type:"+a,"axis","with bins on","type:"+s.axType,"axis."].join(" ")),o!==s.calendar&&NRt.warn(["Attempted to group the bins of trace",t.index,"set with a",o,"calendar","with bins",s.calendar?"on a "+s.calendar+" calendar":"w/o a set calendar"].join(" ")))),l&&(c[n]={traces:[t],dirs:[r],axType:a,calendar:t[r+"calendar"]||""}),t["_"+r+"bingroup"]=n}for(o=0;o<t.length;o++)n=t[o],XRt(n,"histogram")&&(u.push(n),delete n._xautoBinFinished,delete n._yautoBinFinished,XRt(n,"2dMap")||WRt(n._input,n,e,g));var v=e._alignmentOpts||{};for(o=0;o<u.length;o++){if(n=u[o],i="",!XRt(n,"2dMap")){if(a=f(n),"group"===e.barmode&&n.alignmentgroup){var m=n[a+"axis"],y=HRt(e,m)+n.orientation;(v[y]||{})[n.alignmentgroup]&&(i=y)}i||"overlay"===e.barmode||(i=HRt(e,n.xaxis)+HRt(e,n.yaxis)+f(n))}i?(d[i]||(d[i]=[]),d[i].push(n)):h.push(n)}for(i in d)if(1!==(r=d[i]).length){var b=!1;for(r.length&&(n=r[0],b=g("bingroup")),i=b||i,o=0;o<r.length;o++){var I=(n=r[o])._input.bingroup;I&&I!==i&&NRt.warn(["Trace",n.index,"must match","within bingroup",i+".","Ignoring its bingroup:",I,"setting."].join(" ")),n.bingroup=i,p(n,i,f(n))}}else h.push(r[0]);for(o=0;o<h.length;o++){n=h[o];var C=g("bingroup");if(XRt(n,"2dMap"))for(l=0;l<2;l++){var x=g((a=YRt[l])+"bingroup",C?C+"__"+a:null);p(n,x,a)}else p(n,C,f(n))}for(i in c){var B=c[i];for(r=B.traces,s=0;s<DRt.length;s++){var A,F,Q=DRt[s],w=Q.name;if("nbins"!==w||!B.sizeFound){for(o=0;o<r.length;o++){if(n=r[o],a=B.dirs[o],A=Q.aStr[a],void 0!==MRt(n._input,A).get()){B[w]=g(A),B[w+"Found"]=!0;break}(F=(n._autoBin||{})[a]||{})[w]&&MRt(n,A).set(F[w])}if("start"===w||"end"===w)for(;o<r.length;o++)(n=r[o])["_"+a+"bingroup"]&&g(A,(F=(n._autoBin||{})[a]||{})[w]);"nbins"!==w||B.sizeFound||B.nbinsFound||(n=r[0],B[w]=g(A))}}}},supplyLayoutDefaults:function(t,e,n){function r(n,r){return JRt.coerce(t,e,jRt,n,r)}for(var i=!1,a=!1,o=!1,s={},l=r("barmode"),c=0;c<n.length;c++){var u=n[c];if(ORt.traceIs(u,"bar")&&u.visible){if(i=!0,"group"===l){var d=u.xaxis+u.yaxis;s[d]&&(o=!0),s[d]=!0}if(u.visible&&"histogram"===u.type)"category"!==zRt.getFromId({_fullLayout:e},u["v"===u.orientation?"xaxis":"yaxis"]).type&&(a=!0)}}i?("overlay"!==l&&r("barnorm"),r("bargap",a&&!o?0:.2),r("bargroupgap")):delete e.barmode},calc:ISt.calc,crossTraceCalc:MSt.crossTraceCalc,plot:XLt.plot,layerName:"barlayer",style:pLt.style,styleOnSelect:pLt.styleOnSelect,colorbar:BCt,hoverPoints:function(t,e,n,r,i){var a=KLt(t,e,n,r,i);if(a){var o=(t=a[0]).cd[t.index],s=t.cd[0].trace;if(!s.cumulative.enabled){var l="h"===s.orientation?"y":"x";t[l+"Label"]=qLt(t[l+"a"],[o.ph0,o.ph1],s[l+"hoverformat"])}return a}},selectPoints:function(t,e){var n,r=t.cd,i=t.xaxis,a=t.yaxis,o=r[0].trace,s="funnel"===o.type,l="h"===o.orientation,c=[];if(!1===e)for(n=0;n<r.length;n++)r[n].selected=0;else for(n=0;n<r.length;n++){var u=r[n],d="ct"in u?u.ct:$Lt(u,i,a,l,s);e.contains(d,!1,n,t)?(c.push({pointNumber:n,x:i.c2d(u.x),y:a.c2d(u.y)}),u.selected=1):u.selected=0}return c},eventData:function(t,e,n,r,i){if(t.x="xVal"in e?e.xVal:e.x,t.y="yVal"in e?e.yVal:e.y,"zLabelVal"in e&&(t.z=e.zLabelVal),e.xa&&(t.xaxis=e.xa),e.ya&&(t.yaxis=e.ya),!(n.cumulative||{}).enabled){var a,o=Array.isArray(i)?r[0].pts[i[0]][i[1]]:r[i].pts;if(t.pointNumbers=o,t.binNumber=t.pointNumber,delete t.pointNumber,delete t.pointIndex,n._indexToPoints){a=[];for(var s=0;s<o.length;s++)a=a.concat(n._indexToPoints[o[s]])}else a=o;t.pointIndices=a}return t},moduleType:"trace",name:"histogram",basePlotModule:XCt,categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{description:["The sample data from which statistics are computed is set in `x`","for vertically spanning histograms and","in `y` for horizontally spanning histograms.","Binning options are set `xbins` and `ybins` respectively","if no aggregation data is provided."].join(" ")}},e_t=t_t,n_t=Object.freeze(t({__proto__:null,default:e_t},[e_t]));function r_t(t,e,n){var r=void 0===e?null:e,i=function(t,e){var n=atob(t);if(e){for(var r=new Uint8Array(n.length),i=0,a=n.length;i<a;++i)r[i]=n.charCodeAt(i);return String.fromCharCode.apply(null,new Uint16Array(r.buffer))}return n}(t,void 0!==n&&n),a=i.indexOf("\n",10)+1,o=i.substring(a)+(r?"//# sourceMappingURL="+r:""),s=new Blob([o],{type:"application/javascript"});return URL.createObjectURL(s)}var i_t,a_t,o_t,s_t,l_t,c_t,u_t,d_t=(i_t="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgZnVuY3Rpb24gX3R5cGVvZihvYmopIHsKICAgICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7CgogICAgcmV0dXJuIF90eXBlb2YgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgInN5bWJvbCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsKICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7CiAgICB9IDogZnVuY3Rpb24gKG9iaikgewogICAgICByZXR1cm4gb2JqICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7CiAgICB9LCBfdHlwZW9mKG9iaik7CiAgfQoKICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7CiAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsKICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOwogICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7CiAgICAgIGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOwogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7CiAgICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsKICAgIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgInByb3RvdHlwZSIsIHsKICAgICAgd3JpdGFibGU6IGZhbHNlCiAgICB9KTsKICAgIHJldHVybiBDb25zdHJ1Y3RvcjsKICB9CgogIGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsKICAgIGlmICghbykgcmV0dXJuOwogICAgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7CiAgICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7CiAgICBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsKICAgIGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7CiAgICBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOwogIH0KCiAgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsKICAgIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOwoKICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTsKCiAgICByZXR1cm4gYXJyMjsKICB9CgogIGZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7CiAgICB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1siQEBpdGVyYXRvciJdOwoKICAgIGlmICghaXQpIHsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHsKICAgICAgICBpZiAoaXQpIG8gPSBpdDsKICAgICAgICB2YXIgaSA9IDA7CgogICAgICAgIHZhciBGID0gZnVuY3Rpb24gKCkge307CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICBzOiBGLAogICAgICAgICAgbjogZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsKICAgICAgICAgICAgICBkb25lOiB0cnVlCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgZG9uZTogZmFsc2UsCiAgICAgICAgICAgICAgdmFsdWU6IG9baSsrXQogICAgICAgICAgICB9OwogICAgICAgICAgfSwKICAgICAgICAgIGU6IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHRocm93IGU7CiAgICAgICAgICB9LAogICAgICAgICAgZjogRgogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsKICAgIH0KCiAgICB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsCiAgICAgICAgZGlkRXJyID0gZmFsc2UsCiAgICAgICAgZXJyOwogICAgcmV0dXJuIHsKICAgICAgczogZnVuY3Rpb24gKCkgewogICAgICAgIGl0ID0gaXQuY2FsbChvKTsKICAgICAgfSwKICAgICAgbjogZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBzdGVwID0gaXQubmV4dCgpOwogICAgICAgIG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7CiAgICAgICAgcmV0dXJuIHN0ZXA7CiAgICAgIH0sCiAgICAgIGU6IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZGlkRXJyID0gdHJ1ZTsKICAgICAgICBlcnIgPSBlOwogICAgICB9LAogICAgICBmOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIGlmIChkaWRFcnIpIHRocm93IGVycjsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfQoKICB2YXIgY29tbW9uanNHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fTsKCiAgdmFyIHJ1bnRpbWUgPSB7ZXhwb3J0czoge319OwoKICAoZnVuY3Rpb24gKG1vZHVsZSkgewogICAgdmFyIHJ1bnRpbWUgPSBmdW5jdGlvbiAoZXhwb3J0cykgewoKICAgICAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTsKICAgICAgdmFyIGhhc093biA9IE9wLmhhc093blByb3BlcnR5OwogICAgICB2YXIgdW5kZWZpbmVkJDE7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLgoKICAgICAgdmFyICRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iID8gU3ltYm9sIDoge307CiAgICAgIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgIkBAaXRlcmF0b3IiOwogICAgICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCAiQEBhc3luY0l0ZXJhdG9yIjsKICAgICAgdmFyIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCAiQEB0b1N0cmluZ1RhZyI7CgogICAgICBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgICAgd3JpdGFibGU6IHRydWUKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gb2JqW2tleV07CiAgICAgIH0KCiAgICAgIHRyeSB7CiAgICAgICAgLy8gSUUgOCBoYXMgYSBicm9rZW4gT2JqZWN0LmRlZmluZVByb3BlcnR5IHRoYXQgb25seSB3b3JrcyBvbiBET00gb2JqZWN0cy4KICAgICAgICBkZWZpbmUoe30sICIiKTsKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgZGVmaW5lID0gZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkgewogICAgICAgICAgcmV0dXJuIG9ialtrZXldID0gdmFsdWU7CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkgewogICAgICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLgogICAgICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yOwogICAgICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7CiAgICAgICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7IC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCwKICAgICAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuCgogICAgICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTsKICAgICAgICByZXR1cm4gZ2VuZXJhdG9yOwogICAgICB9CgogICAgICBleHBvcnRzLndyYXAgPSB3cmFwOyAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb24KICAgICAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkCiAgICAgIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZQogICAgICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlCiAgICAgIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWQKICAgICAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZwogICAgICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZQogICAgICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGUKICAgICAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaAogICAgICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuCgogICAgICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHsKICAgICAgICB0cnkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdHlwZTogIm5vcm1hbCIsCiAgICAgICAgICAgIGFyZzogZm4uY2FsbChvYmosIGFyZykKICAgICAgICAgIH07CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICB0eXBlOiAidGhyb3ciLAogICAgICAgICAgICBhcmc6IGVycgogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0ID0gInN1c3BlbmRlZFN0YXJ0IjsKICAgICAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSAic3VzcGVuZGVkWWllbGQiOwogICAgICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSAiZXhlY3V0aW5nIjsKICAgICAgdmFyIEdlblN0YXRlQ29tcGxldGVkID0gImNvbXBsZXRlZCI7IC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXMKICAgICAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LgoKICAgICAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTsgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kCiAgICAgIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvcgogICAgICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91cgogICAgICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLgoKICAgICAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge30KCiAgICAgIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge30KCiAgICAgIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge30gLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdAogICAgICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LgoKCiAgICAgIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9OwogICAgICBkZWZpbmUoSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0pOwogICAgICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7CiAgICAgIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTsKCiAgICAgIGlmIChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJiBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiYgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkgewogICAgICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkCiAgICAgICAgLy8gb2YgdGhlIHBvbHlmaWxsLgogICAgICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7CiAgICAgIH0KCiAgICAgIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTsKICAgICAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7CiAgICAgIGRlZmluZShHcCwgImNvbnN0cnVjdG9yIiwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpOwogICAgICBkZWZpbmUoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsICJjb25zdHJ1Y3RvciIsIEdlbmVyYXRvckZ1bmN0aW9uKTsKICAgICAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBkZWZpbmUoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIHRvU3RyaW5nVGFnU3ltYm9sLCAiR2VuZXJhdG9yRnVuY3Rpb24iKTsgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGUKICAgICAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC4KCiAgICAgIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHsKICAgICAgICBbIm5leHQiLCAidGhyb3ciLCAicmV0dXJuIl0uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7CiAgICAgICAgICBkZWZpbmUocHJvdG90eXBlLCBtZXRob2QsIGZ1bmN0aW9uIChhcmcpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24gKGdlbkZ1bikgewogICAgICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gImZ1bmN0aW9uIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7CiAgICAgICAgcmV0dXJuIGN0b3IgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fCAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuCiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LgogICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09ICJHZW5lcmF0b3JGdW5jdGlvbiIgOiBmYWxzZTsKICAgICAgfTsKCiAgICAgIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uIChnZW5GdW4pIHsKICAgICAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7CiAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTsKICAgICAgICAgIGRlZmluZShnZW5GdW4sIHRvU3RyaW5nVGFnU3ltYm9sLCAiR2VuZXJhdG9yRnVuY3Rpb24iKTsKICAgICAgICB9CgogICAgICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTsKICAgICAgICByZXR1cm4gZ2VuRnVuOwogICAgICB9OyAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG8KICAgICAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3QKICAgICAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCAiX19hd2FpdCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXMKICAgICAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC4KCgogICAgICBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24gKGFyZykgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBfX2F3YWl0OiBhcmcKICAgICAgICB9OwogICAgICB9OwoKICAgICAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7CiAgICAgICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpOwoKICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gInRocm93IikgewogICAgICAgICAgICByZWplY3QocmVjb3JkLmFyZyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZzsKICAgICAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlOwoKICAgICAgICAgICAgaWYgKHZhbHVlICYmIF90eXBlb2YodmFsdWUpID09PSAib2JqZWN0IiAmJiBoYXNPd24uY2FsbCh2YWx1ZSwgIl9fYXdhaXQiKSkgewogICAgICAgICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgICAgICBpbnZva2UoIm5leHQiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTsKICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICBpbnZva2UoInRocm93IiwgZXJyLCByZXNvbHZlLCByZWplY3QpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbiAodW53cmFwcGVkKSB7CiAgICAgICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXMKICAgICAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGUKICAgICAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi4KICAgICAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7CiAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpOwogICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFjawogICAgICAgICAgICAgIC8vIGludG8gdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgaGFuZGxlZCB0aGVyZS4KICAgICAgICAgICAgICByZXR1cm4gaW52b2tlKCJ0aHJvdyIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBwcmV2aW91c1Byb21pc2U7CgogICAgICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHsKICAgICAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkgewogICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2VJbXBsKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPSAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsCiAgICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSwKICAgICAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWYKICAgICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvCiAgICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSwKICAgICAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvCiAgICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5CiAgICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0cwogICAgICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHkKICAgICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlCiAgICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseQogICAgICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLgogICAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyCiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuCiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZykgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpOwogICAgICAgIH0gLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCwKICAgICAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS4KCgogICAgICAgIHRoaXMuX2ludm9rZSA9IGVucXVldWU7CiAgICAgIH0KCiAgICAgIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7CiAgICAgIGRlZmluZShBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSwgYXN5bmNJdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9KTsKICAgICAgZXhwb3J0cy5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvcjsgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZgogICAgICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2YKICAgICAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuCgogICAgICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24gKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkgewogICAgICAgIGlmIChQcm9taXNlSW1wbCA9PT0gdm9pZCAwKSBQcm9taXNlSW1wbCA9IFByb21pc2U7CiAgICAgICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcih3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSwgUHJvbWlzZUltcGwpOwogICAgICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbikgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci4KICAgICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHsKICAgICAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0OwogICAgICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHsKICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkgewogICAgICAgICAgICBpZiAobWV0aG9kID09PSAidGhyb3ciKSB7CiAgICAgICAgICAgICAgdGhyb3cgYXJnOwogICAgICAgICAgICB9IC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6CiAgICAgICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWUKCgogICAgICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kOwogICAgICAgICAgY29udGV4dC5hcmcgPSBhcmc7CgogICAgICAgICAgd2hpbGUgKHRydWUpIHsKICAgICAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTsKCiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZSkgewogICAgICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpOwoKICAgICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHsKICAgICAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7CiAgICAgICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09ICJuZXh0IikgewogICAgICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwncwogICAgICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uCiAgICAgICAgICAgICAgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnOwogICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSAidGhyb3ciKSB7CiAgICAgICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7CiAgICAgICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkOwogICAgICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gInJldHVybiIpIHsKICAgICAgICAgICAgICBjb250ZXh0LmFicnVwdCgicmV0dXJuIiwgY29udGV4dC5hcmcpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nOwogICAgICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7CgogICAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09ICJub3JtYWwiKSB7CiAgICAgICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PQogICAgICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi4KICAgICAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZSA/IEdlblN0YXRlQ29tcGxldGVkIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDsKCiAgICAgICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLAogICAgICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gInRocm93IikgewogICAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7IC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGUKICAgICAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLgoKICAgICAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyI7CiAgICAgICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGUKICAgICAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZQogICAgICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZywKICAgICAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuCgoKICAgICAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkgewogICAgICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07CgogICAgICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCQxKSB7CiAgICAgICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3cKICAgICAgICAgIC8vIG1ldGhvZCBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuCiAgICAgICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDsKCiAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09ICJ0aHJvdyIpIHsKICAgICAgICAgICAgLy8gTm90ZTogWyJyZXR1cm4iXSBtdXN0IGJlIHVzZWQgZm9yIEVTMyBwYXJzaW5nIGNvbXBhdGliaWxpdHkuCiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvclsicmV0dXJuIl0pIHsKICAgICAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhCiAgICAgICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLgogICAgICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gInJldHVybiI7CiAgICAgICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQkMTsKICAgICAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTsKCiAgICAgICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSAidGhyb3ciKSB7CiAgICAgICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbQogICAgICAgICAgICAgICAgLy8gInJldHVybiIgdG8gInRocm93IiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy4KICAgICAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29udGV4dC5tZXRob2QgPSAidGhyb3ciOwogICAgICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2QiKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDsKICAgICAgICB9CgogICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7CgogICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gInRocm93IikgewogICAgICAgICAgY29udGV4dC5tZXRob2QgPSAidGhyb3ciOwogICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnOwogICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7CiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDsKICAgICAgICB9CgogICAgICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZzsKCiAgICAgICAgaWYgKCFpbmZvKSB7CiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyI7CiAgICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0Iik7CiAgICAgICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDsKICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsOwogICAgICAgIH0KCiAgICAgICAgaWYgKGluZm8uZG9uZSkgewogICAgICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnkKICAgICAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuCiAgICAgICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTsgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLgoKICAgICAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7IC8vIElmIGNvbnRleHQubWV0aG9kIHdhcyAidGhyb3ciIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGUKICAgICAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWYKICAgICAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyAibmV4dCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlbgogICAgICAgICAgLy8gImNvbnN1bWVkIiBieSB0aGUgZGVsZWdhdGUgaXRlcmF0b3IuIElmIGNvbnRleHQubWV0aG9kIHdhcwogICAgICAgICAgLy8gInJldHVybiIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlCiAgICAgICAgICAvLyBvdXRlciBnZW5lcmF0b3IuCgogICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSAicmV0dXJuIikgewogICAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9ICJuZXh0IjsKICAgICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQkMTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLgogICAgICAgICAgcmV0dXJuIGluZm87CiAgICAgICAgfSAvLyBUaGUgZGVsZWdhdGUgaXRlcmF0b3IgaXMgZmluaXNoZWQsIHNvIGZvcmdldCBpdCBhbmQgY29udGludWUgd2l0aAogICAgICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuCgoKICAgICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDsKICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDsKICAgICAgfSAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZQogICAgICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuCgoKICAgICAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTsKICAgICAgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgIkdlbmVyYXRvciIpOyAvLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZQogICAgICAvLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZQogICAgICAvLyBpdGVyYXRvciBwcm90b3R5cGUgY2hhaW4gaW5jb3JyZWN0bHkgaW1wbGVtZW50IHRoaXMsIGNhdXNpbmcgdGhlIEdlbmVyYXRvcgogICAgICAvLyBvYmplY3QgdG8gbm90IGJlIHJldHVybmVkIGZyb20gdGhpcyBjYWxsLiBUaGlzIGVuc3VyZXMgdGhhdCBkb2Vzbid0IGhhcHBlbi4KICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuCgogICAgICBkZWZpbmUoR3AsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0pOwogICAgICBkZWZpbmUoR3AsICJ0b1N0cmluZyIsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gIltvYmplY3QgR2VuZXJhdG9yXSI7CiAgICAgIH0pOwoKICAgICAgZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHsKICAgICAgICB2YXIgZW50cnkgPSB7CiAgICAgICAgICB0cnlMb2M6IGxvY3NbMF0KICAgICAgICB9OwoKICAgICAgICBpZiAoMSBpbiBsb2NzKSB7CiAgICAgICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07CiAgICAgICAgfQoKICAgICAgICBpZiAoMiBpbiBsb2NzKSB7CiAgICAgICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTsKICAgICAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTsKICAgICAgICB9CgogICAgICAgIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkgewogICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9OwogICAgICAgIHJlY29yZC50eXBlID0gIm5vcm1hbCI7CiAgICAgICAgZGVsZXRlIHJlY29yZC5hcmc7CiAgICAgICAgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkgewogICAgICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaAogICAgICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb20KICAgICAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuCiAgICAgICAgdGhpcy50cnlFbnRyaWVzID0gW3sKICAgICAgICAgIHRyeUxvYzogInJvb3QiCiAgICAgICAgfV07CiAgICAgICAgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpOwogICAgICAgIHRoaXMucmVzZXQodHJ1ZSk7CiAgICAgIH0KCiAgICAgIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uIChvYmplY3QpIHsKICAgICAgICB2YXIga2V5cyA9IFtdOwoKICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7CiAgICAgICAgICBrZXlzLnB1c2goa2V5KTsKICAgICAgICB9CgogICAgICAgIGtleXMucmV2ZXJzZSgpOyAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcAogICAgICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuCgogICAgICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkgewogICAgICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7CiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpOwoKICAgICAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHsKICAgICAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5OwogICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlOwogICAgICAgICAgICAgIHJldHVybiBuZXh0OwogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vIFRvIGF2b2lkIGNyZWF0aW5nIGFuIGFkZGl0aW9uYWwgb2JqZWN0LCB3ZSBqdXN0IGhhbmcgdGhlIC52YWx1ZQogICAgICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXMKICAgICAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLgoKCiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlOwogICAgICAgICAgcmV0dXJuIG5leHQ7CiAgICAgICAgfTsKICAgICAgfTsKCiAgICAgIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkgewogICAgICAgIGlmIChpdGVyYWJsZSkgewogICAgICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdOwoKICAgICAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkgewogICAgICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVyYWJsZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHsKICAgICAgICAgICAgdmFyIGkgPSAtMSwKICAgICAgICAgICAgICAgIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkgewogICAgICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHsKICAgICAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldOwogICAgICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkJDE7CiAgICAgICAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTsKICAgICAgICAgICAgICByZXR1cm4gbmV4dDsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0OwogICAgICAgICAgfQogICAgICAgIH0gLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLgoKCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIG5leHQ6IGRvbmVSZXN1bHQKICAgICAgICB9OwogICAgICB9CgogICAgICBleHBvcnRzLnZhbHVlcyA9IHZhbHVlczsKCiAgICAgIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWQkMSwKICAgICAgICAgIGRvbmU6IHRydWUKICAgICAgICB9OwogICAgICB9CgogICAgICBDb250ZXh0LnByb3RvdHlwZSA9IHsKICAgICAgICBjb25zdHJ1Y3RvcjogQ29udGV4dCwKICAgICAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoc2tpcFRlbXBSZXNldCkgewogICAgICAgICAgdGhpcy5wcmV2ID0gMDsKICAgICAgICAgIHRoaXMubmV4dCA9IDA7IC8vIFJlc2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzCiAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLgoKICAgICAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQkMTsKICAgICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlOwogICAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IG51bGw7CiAgICAgICAgICB0aGlzLm1ldGhvZCA9ICJuZXh0IjsKICAgICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkJDE7CiAgICAgICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTsKCiAgICAgICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHsKICAgICAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7CiAgICAgICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczoKICAgICAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09ICJ0IiAmJiBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJiAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7CiAgICAgICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkJDE7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkgewogICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTsKICAgICAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07CiAgICAgICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uOwoKICAgICAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09ICJ0aHJvdyIpIHsKICAgICAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHRoaXMucnZhbDsKICAgICAgICB9LAogICAgICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihleGNlcHRpb24pIHsKICAgICAgICAgIGlmICh0aGlzLmRvbmUpIHsKICAgICAgICAgICAgdGhyb3cgZXhjZXB0aW9uOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpczsKCiAgICAgICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHsKICAgICAgICAgICAgcmVjb3JkLnR5cGUgPSAidGhyb3ciOwogICAgICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uOwogICAgICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7CgogICAgICAgICAgICBpZiAoY2F1Z2h0KSB7CiAgICAgICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jaywKICAgICAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LgogICAgICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gIm5leHQiOwogICAgICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkJDE7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiAhIWNhdWdodDsKICAgICAgICAgIH0KCiAgICAgICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7CiAgICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTsKICAgICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247CgogICAgICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSAicm9vdCIpIHsKICAgICAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZQogICAgICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0bwogICAgICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uCiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZSgiZW5kIik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7CiAgICAgICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksICJjYXRjaExvYyIpOwogICAgICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksICJmaW5hbGx5TG9jIik7CgogICAgICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykgewogICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5Iik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhYnJ1cHQ6IGZ1bmN0aW9uIGFicnVwdCh0eXBlLCBhcmcpIHsKICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHsKICAgICAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldOwoKICAgICAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgaGFzT3duLmNhbGwoZW50cnksICJmaW5hbGx5TG9jIikgJiYgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykgewogICAgICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmIChmaW5hbGx5RW50cnkgJiYgKHR5cGUgPT09ICJicmVhayIgfHwgdHlwZSA9PT0gImNvbnRpbnVlIikgJiYgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiYgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7CiAgICAgICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGEKICAgICAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLgogICAgICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9OwogICAgICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlOwogICAgICAgICAgcmVjb3JkLmFyZyA9IGFyZzsKCiAgICAgICAgICBpZiAoZmluYWxseUVudHJ5KSB7CiAgICAgICAgICAgIHRoaXMubWV0aG9kID0gIm5leHQiOwogICAgICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYzsKICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTsKICAgICAgICB9LAogICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZShyZWNvcmQsIGFmdGVyTG9jKSB7CiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09ICJ0aHJvdyIpIHsKICAgICAgICAgICAgdGhyb3cgcmVjb3JkLmFyZzsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09ICJicmVhayIgfHwgcmVjb3JkLnR5cGUgPT09ICJjb250aW51ZSIpIHsKICAgICAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZzsKICAgICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09ICJyZXR1cm4iKSB7CiAgICAgICAgICAgIHRoaXMucnZhbCA9IHRoaXMuYXJnID0gcmVjb3JkLmFyZzsKICAgICAgICAgICAgdGhpcy5tZXRob2QgPSAicmV0dXJuIjsKICAgICAgICAgICAgdGhpcy5uZXh0ID0gImVuZCI7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSAibm9ybWFsIiAmJiBhZnRlckxvYykgewogICAgICAgICAgICB0aGlzLm5leHQgPSBhZnRlckxvYzsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDsKICAgICAgICB9LAogICAgICAgIGZpbmlzaDogZnVuY3Rpb24gZmluaXNoKGZpbmFsbHlMb2MpIHsKICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHsKICAgICAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldOwoKICAgICAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHsKICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTsKICAgICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTsKICAgICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgImNhdGNoIjogZnVuY3Rpb24gX2NhdGNoKHRyeUxvYykgewogICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgewogICAgICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07CgogICAgICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHsKICAgICAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjsKCiAgICAgICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSAidGhyb3ciKSB7CiAgICAgICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZzsKICAgICAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIHRocm93bjsKICAgICAgICAgICAgfQogICAgICAgICAgfSAvLyBUaGUgY29udGV4dC5jYXRjaCBtZXRob2QgbXVzdCBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgbG9jYXRpb24KICAgICAgICAgIC8vIGFyZ3VtZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gYSBrbm93biBjYXRjaCBibG9jay4KCgogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKTsKICAgICAgICB9LAogICAgICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHsKICAgICAgICAgIHRoaXMuZGVsZWdhdGUgPSB7CiAgICAgICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLAogICAgICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLAogICAgICAgICAgICBuZXh0TG9jOiBuZXh0TG9jCiAgICAgICAgICB9OwoKICAgICAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gIm5leHQiKSB7CiAgICAgICAgICAgIC8vIERlbGliZXJhdGVseSBmb3JnZXQgdGhlIGxhc3Qgc2VudCB2YWx1ZSBzbyB0aGF0IHdlIGRvbid0CiAgICAgICAgICAgIC8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS4KICAgICAgICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQkMTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDsKICAgICAgICB9CiAgICAgIH07IC8vIFJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUKICAgICAgLy8gb3Igbm90LCByZXR1cm4gdGhlIHJ1bnRpbWUgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIGRlY2xhcmUgdGhlIHZhcmlhYmxlCiAgICAgIC8vIHJlZ2VuZXJhdG9yUnVudGltZSBpbiB0aGUgb3V0ZXIgc2NvcGUsIHdoaWNoIGFsbG93cyB0aGlzIG1vZHVsZSB0byBiZQogICAgICAvLyBpbmplY3RlZCBlYXNpbHkgYnkgYGJpbi9yZWdlbmVyYXRvciAtLWluY2x1ZGUtcnVudGltZSBzY3JpcHQuanNgLgoKICAgICAgcmV0dXJuIGV4cG9ydHM7CiAgICB9KCAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0cwogICAgLy8gYXMgdGhlIHJlZ2VuZXJhdG9yUnVudGltZSBuYW1lc3BhY2UuIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZW1wdHkKICAgIC8vIG9iamVjdC4gRWl0aGVyIHdheSwgdGhlIHJlc3VsdGluZyBvYmplY3Qgd2lsbCBiZSB1c2VkIHRvIGluaXRpYWxpemUKICAgIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuCiAgICBtb2R1bGUuZXhwb3J0cyApOwoKICAgIHRyeSB7CiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7CiAgICB9IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkgewogICAgICAvLyBUaGlzIG1vZHVsZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUsIHNvIHRoZSBhYm92ZQogICAgICAvLyBhc3NpZ25tZW50IHNob3VsZCBhbHdheXMgd29yayB1bmxlc3Mgc29tZXRoaW5nIGlzIG1pc2NvbmZpZ3VyZWQuIEp1c3QKICAgICAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCBpbiBtb2Rlcm4gZW5naW5lcwogICAgICAvLyB3ZSBjYW4gZXhwbGljaXRseSBhY2Nlc3MgZ2xvYmFsVGhpcy4gSW4gb2xkZXIgZW5naW5lcyB3ZSBjYW4gZXNjYXBlCiAgICAgIC8vIHN0cmljdCBtb2RlIHVzaW5nIGEgZ2xvYmFsIEZ1bmN0aW9uIGNhbGwuIFRoaXMgY291bGQgY29uY2VpdmFibHkgZmFpbAogICAgICAvLyBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGZvcmJpZHMgdXNpbmcgRnVuY3Rpb24sIGJ1dCBpbiB0aGF0IGNhc2UKICAgICAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWYKICAgICAgLy8geW91J3ZlIG1pc2NvbmZpZ3VyZWQgeW91ciBidW5kbGVyIHRvIGZvcmNlIHN0cmljdCBtb2RlIGFuZCBhcHBsaWVkIGEKICAgICAgLy8gQ1NQIHRvIGZvcmJpZCBGdW5jdGlvbiwgYW5kIHlvdSdyZSBub3Qgd2lsbGluZyB0byBmaXggZWl0aGVyIG9mIHRob3NlCiAgICAgIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLgogICAgICBpZiAoKHR5cGVvZiBnbG9iYWxUaGlzID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihnbG9iYWxUaGlzKSkgPT09ICJvYmplY3QiKSB7CiAgICAgICAgZ2xvYmFsVGhpcy5yZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lOwogICAgICB9IGVsc2UgewogICAgICAgIEZ1bmN0aW9uKCJyIiwgInJlZ2VuZXJhdG9yUnVudGltZSA9IHIiKShydW50aW1lKTsKICAgICAgfQogICAgfQogIH0pKHJ1bnRpbWUpOwoKICB2YXIgZGlzdHJpYnV0aW9ucyA9IHtleHBvcnRzOiB7fX07CgogIChmdW5jdGlvbiAobW9kdWxlKSB7CiAgICAvLyBzaG91bGQgbWF0Y2ggUidzLCBleGNlcHQgZm9yIHRoYXQgYWxsIGZ1bmN0aW9ucyByZXNpZGUgaW4gYW4gbGQgb2JqZWN0ICgKICAgIC8vIGFzIGluICJsb2cgZGVuc2l0eSIpLCBzbyB0byBnZXQgYSBub3JtYWwgbG9nIGRlbnNpdHkgeW91IHdvdWxkIHdyaXRlCiAgICAvLyBsZC5ub3JtKC4uLikuCiAgICAvLyBNb3N0IG9mIHRoZSBjb2RlIGJlbG93IGlzIGRpcmVjdGx5IHRha2VuIGZyb20gdGhlIGdyZWF0IEpzdGF0IHByb2plY3QKICAgIC8vIChodHRwczovL2dpdGh1Yi5jb20vanN0YXQvKSB3aGljaCBpbmNsdWRlcyBQREYgZm9yIG1hbnkgY29tbW9uIHByb2JhYmlsaXR5CiAgICAvLyBkaXN0cmlidXRpb25zLiBXaGF0IEkgaGF2ZSBkb25lIGlzIG9ubHkgdG8gY29udmVydCB0aGVzZSB0byBsb2cgUERGcy4KCiAgICAvKgogICAgT3JpZ2luYWwgd29yayBDb3B5cmlnaHQgKGMpIDIwMTMgalN0YXQKICAgIE1vZGlmaWVkIHdvcmsgQ29weXJpZ2h0IChjKSAyMDE1IFJhc211cyBCw6XDpXRoIAogICAgCiAgICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5CiAgICBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAogICAgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwogICAgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbAogICAgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzCiAgICBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgogICAgCiAgICBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbgogICAgYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCiAgICAKICAgIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCiAgICBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKICAgIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRQogICAgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgogICAgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwKICAgIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4KICAgIFRIRSBTT0ZUV0FSRS4KICAgIAogICAgKi8KICAgIC8vIFRoaXMgYm9pbGVyIHBsYXRlIGNvZGUgaGVyZSBpcyB0YWtlbiBmcm9tOgogICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci90ZW1wbGF0ZXMvcmV0dXJuRXhwb3J0cy5qcwogICAgLy8gSXQgc2hvdWxkIG1ha2Ugc2h1cmUgdGhhdCBtb2R1bGUgY2FuIGJlIGltcG9ydGVkIGJvdGggaW4gdGhlIGJyb3dzZXIsCiAgICAvLyBOb2RlLCBhbmQgYnkgdXNpbmcgdGhlIEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbiBzdGFuZGFyZC4KICAgIC8vIElmIHRoaXMgbW9kdWxlIGlzIGxvYWRlZCBpbiB0aGUgYnJvd3NlciBpdCB3aWxsIGNyZWF0ZWQgdGhlIGdsb2JhbAogICAgLy8gb2JqZWN0IGxkIC4KCiAgICAoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAgICAgaWYgKG1vZHVsZS5leHBvcnRzKSB7CiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0CiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsCiAgICAgICAgLy8gbGlrZSBOb2RlLgogICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICAgICAgcm9vdC5sZCA9IGZhY3RvcnkoKTsKICAgICAgfQogICAgfSkoY29tbW9uanNHbG9iYWwsIGZ1bmN0aW9uICgpIHsKICAgICAgLy8gT2JqZWN0IHRvIGhvbGQgdGhlIGZ1bmN0aW9ucyB0byBiZSBleHBvcnRlZC4KICAgICAgdmFyIGxkID0ge307IC8vLy8vLy8vLy8gSGVscGVyIGZ1bmN0aW9ucyAvLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgICB2YXIgbGdhbW1hID0gZnVuY3Rpb24gbGdhbW1hKHgpIHsKICAgICAgICB2YXIgaiA9IDA7CiAgICAgICAgdmFyIGNvZiA9IFs3Ni4xODAwOTE3Mjk0NzE0NiwgLTg2LjUwNTMyMDMyOTQxNjc3LCAyNC4wMTQwOTgyNDA4MzA5MSwgLTEuMjMxNzM5NTcyNDUwMTU1LCAwLjEyMDg2NTA5NzM4NjYxNzllLTIsIC0wLjUzOTUyMzkzODQ5NTNlLTVdOwogICAgICAgIHZhciBzZXIgPSAxLjAwMDAwMDAwMDE5MDAxNTsKICAgICAgICB2YXIgeHgsIHksIHRtcDsKICAgICAgICB0bXAgPSAoeSA9IHh4ID0geCkgKyA1LjU7CiAgICAgICAgdG1wIC09ICh4eCArIDAuNSkgKiBsb2codG1wKTsKCiAgICAgICAgZm9yICg7IGogPCA2OyBqKyspIHsKICAgICAgICAgIHNlciArPSBjb2Zbal0gLyArK3k7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbG9nKDIuNTA2NjI4Mjc0NjMxMDAwNSAqIHNlciAvIHh4KSAtIHRtcDsKICAgICAgfTsKCiAgICAgIGxkLmxnYW1tYSA9IGxnYW1tYTsKCiAgICAgIHZhciBsZmFjdG9yaWFsID0gZnVuY3Rpb24gbGZhY3RvcmlhbChuKSB7CiAgICAgICAgcmV0dXJuIG4gPCAwID8gTmFOIDogbGdhbW1hKG4gKyAxKTsKICAgICAgfTsKCiAgICAgIGxkLmxmYWN0b3JpYWwgPSBsZmFjdG9yaWFsOwoKICAgICAgdmFyIGxjaG9vc2UgPSBmdW5jdGlvbiBsY2hvb3NlKG4sIGspIHsKICAgICAgICByZXR1cm4gbGZhY3RvcmlhbChuKSAtIGxmYWN0b3JpYWwoaykgLSBsZmFjdG9yaWFsKG4gLSBrKTsKICAgICAgfTsKCiAgICAgIGxkLmxjaG9vc2UgPSBsY2hvb3NlOwoKICAgICAgdmFyIGxiZXRhID0gZnVuY3Rpb24gbGJldGEoYSwgYikgewogICAgICAgIHJldHVybiBsZ2FtbWEoYSkgKyBsZ2FtbWEoYikgLSBsZ2FtbWEoYSArIGIpOwogICAgICB9OwoKICAgICAgbGQubGJldGEgPSBsYmV0YTsKICAgICAgdmFyIGxvZyA9IE1hdGgubG9nOwogICAgICB2YXIgZXhwID0gTWF0aC5leHA7CiAgICAgIHZhciBhYnMgPSBNYXRoLmFiczsKICAgICAgdmFyIHBvdyA9IE1hdGgucG93OwogICAgICB2YXIgc3FydCA9IE1hdGguc3FydDsKICAgICAgdmFyIHBpID0gTWF0aC5QSTsgLy8vLy8vLy8vLyBDb250aW5vdXMgZGlzdHJpYnV0aW9ucyAvLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgICAgbGQuYmV0YSA9IGZ1bmN0aW9uICh4LCBzaGFwZTEsIHNoYXBlMikgewogICAgICAgIGlmICh4ID4gMSB8fCB4IDwgMCkgewogICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTsKICAgICAgICB9CgogICAgICAgIGlmIChzaGFwZTEgPT09IDEgJiYgc2hhcGUyID09PSAxKSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIChzaGFwZTEgLSAxKSAqIGxvZyh4KSArIChzaGFwZTIgLSAxKSAqIGxvZygxIC0geCkgLSBsYmV0YShzaGFwZTEsIHNoYXBlMik7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgbGQuY2F1Y2h5ID0gZnVuY3Rpb24gKHgsIGxvY2F0aW9uLCBzY2FsZSkgewogICAgICAgIHJldHVybiBsb2coc2NhbGUpIC0gbG9nKHBvdyh4IC0gbG9jYXRpb24sIDIpICsgcG93KHNjYWxlLCAyKSkgLSBsb2cocGkpOwogICAgICB9OwoKICAgICAgbGQubm9ybSA9IGZ1bmN0aW9uICh4LCBtZWFuLCBzZCkgewogICAgICAgIHJldHVybiAtMC41ICogbG9nKDIgKiBwaSkgLSBsb2coc2QpIC0gcG93KHggLSBtZWFuLCAyKSAvICgyICogc2QgKiBzZCk7CiAgICAgIH07IC8vIEEgYml2YXJpYXRlIE5vcm1hbCBkaXN0cmlidXRpb24gcGFyYW1ldGVyaXplZCBieSBhcnJheXMgb2YgdHdvIG1lYW5zIGFuZCBTRHMsIGFuZCAKICAgICAgLy8gdGhlIGNvcnJlbGF0aW9uLgoKCiAgICAgIGxkLmJpdmFybm9ybSA9IGZ1bmN0aW9uICh4LCBtZWFuLCBzZCwgY29ycikgewogICAgICAgIHZhciB6ID0gcG93KHhbMF0gLSBtZWFuWzBdLCAyKSAvIHBvdyhzZFswXSwgMikgKyBwb3coeFsxXSAtIG1lYW5bMV0sIDIpIC8gcG93KHNkWzFdLCAyKSAtIDIgKiBjb3JyICogKHhbMF0gLSBtZWFuWzBdKSAqICh4WzFdIC0gbWVhblsxXSkgLyAoc2RbMF0gKiBzZFsxXSk7CiAgICAgICAgdmFyIG5vcm1hbGl6aW5nX2ZhY3RvciA9IC0obG9nKDIpICsgbG9nKHBpKSArIGxvZyhzZFswXSkgKyBsb2coc2RbMV0pICsgMC41ICogbG9nKDEgLSBwb3coY29yciwgMikpKTsKICAgICAgICB2YXIgYml2YXJfbG9nX2RlbnMgPSBub3JtYWxpemluZ19mYWN0b3IgLSB6IC8gKDIgKiAoMSAtIHBvdyhjb3JyLCAyKSkpOwogICAgICAgIHJldHVybiBiaXZhcl9sb2dfZGVuczsKICAgICAgfTsKCiAgICAgIGxkLmxhcGxhY2UgPSBmdW5jdGlvbiAoeCwgbG9jYXRpb24sIHNjYWxlKSB7CiAgICAgICAgcmV0dXJuIC1hYnMoeCAtIGxvY2F0aW9uKSAvIHNjYWxlIC0gbG9nKDIgKiBzY2FsZSk7CiAgICAgIH07CgogICAgICBsZC5kZXhwID0gbGQubGFwbGFjZTsKCiAgICAgIGxkLmdhbW1hID0gZnVuY3Rpb24gKHgsIHNoYXBlLCByYXRlKSB7CiAgICAgICAgdmFyIHNjYWxlID0gMSAvIHJhdGU7CgogICAgICAgIGlmICh4IDwgMCkgewogICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTsKICAgICAgICB9CgogICAgICAgIGlmICh4ID09PSAwICYmIHNoYXBlID09PSAxKSB7CiAgICAgICAgICByZXR1cm4gLWxvZyhzY2FsZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiAoc2hhcGUgLSAxKSAqIGxvZyh4KSAtIHggLyBzY2FsZSAtIGxnYW1tYShzaGFwZSkgLSBzaGFwZSAqIGxvZyhzY2FsZSk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgbGQuaW52Z2FtbWEgPSBmdW5jdGlvbiAoeCwgc2hhcGUsIHNjYWxlKSB7CiAgICAgICAgaWYgKHggPD0gMCkgewogICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAtKHNoYXBlICsgMSkgKiBsb2coeCkgLSBzY2FsZSAvIHggLSBsZ2FtbWEoc2hhcGUpICsgc2hhcGUgKiBsb2coc2NhbGUpOwogICAgICB9OwoKICAgICAgbGQubG5vcm0gPSBmdW5jdGlvbiAoeCwgbWVhbmxvZywgc2Rsb2cpIHsKICAgICAgICBpZiAoeCA8PSAwKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIC1sb2coeCkgLSAwLjUgKiBsb2coMiAqIHBpKSAtIGxvZyhzZGxvZykgLSBwb3cobG9nKHgpIC0gbWVhbmxvZywgMikgLyAoMiAqIHNkbG9nICogc2Rsb2cpOwogICAgICB9OwoKICAgICAgbGQucGFyZXRvID0gZnVuY3Rpb24gKHgsIHNjYWxlLCBzaGFwZSkgewogICAgICAgIGlmICh4IDwgc2NhbGUpIHsKICAgICAgICAgIHJldHVybiAtSW5maW5pdHk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbG9nKHNoYXBlKSArIHNoYXBlICogbG9nKHNjYWxlKSAtIChzaGFwZSArIDEpICogbG9nKHgpOwogICAgICB9OwoKICAgICAgbGQudCA9IGZ1bmN0aW9uICh4LCBsb2NhdGlvbiwgc2NhbGUsIGRmKSB7CiAgICAgICAgZGYgPSBkZiA+IDFlMTAwID8gMWUxMDAgOiBkZjsKICAgICAgICByZXR1cm4gbGdhbW1hKChkZiArIDEpIC8gMikgLSBsZ2FtbWEoZGYgLyAyKSAtIGxvZyhzcXJ0KHBpICogZGYpICogc2NhbGUpICsgbG9nKHBvdygxICsgMSAvIGRmICogcG93KCh4IC0gbG9jYXRpb24pIC8gc2NhbGUsIDIpLCAtKGRmICsgMSkgLyAyKSk7CiAgICAgIH07IC8vIFRoaXMgaXMgYSBkaXJlY3QgamF2YXNjcmlwdCB0cmFuc2xhdGlvbiBvZiB0aGUgUiBjb2RlIHVzZWQgdG8gZXZhbHVhdGUKICAgICAgLy8gdGhlIGxvZyBkZW5zaXR5IG9mIGEgd2VpYnVsbCBkaXN0cmlidXRpb246IAogICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vd2NoL3Itc291cmNlL2Jsb2IvYjE1NmUzYTcxMTk2N2Y1ODEzMWUyM2MxYjFkYzFlYTkwZTJmMGM0My9zcmMvbm1hdGgvZHdlaWJ1bGwuYwoKCiAgICAgIGxkLndlaWJ1bGwgPSBmdW5jdGlvbiAoeCwgc2hhcGUsIHNjYWxlKSB7CiAgICAgICAgaWYgKHggPCAwKSByZXR1cm4gLUluZmluaXR5OwogICAgICAgIGlmICh4ID09PSAwICYmIHNoYXBlIDwgMSkgcmV0dXJuIEluZmluaXR5OwogICAgICAgIHZhciB0bXAxID0gcG93KHggLyBzY2FsZSwgc2hhcGUgLSAxKTsKICAgICAgICB2YXIgdG1wMiA9IHRtcDEgKiAoeCAvIHNjYWxlKTsKICAgICAgICByZXR1cm4gLXRtcDIgKyBsb2coc2hhcGUgKiB0bXAxIC8gc2NhbGUpOwogICAgICB9OyAvLyBUaGlzIGlzIGEgZGlyZWN0IGphdmFzY3JpcHQgdHJhbnNsYXRpb24gb2YgdGhlIFIgY29kZSB1c2VkIHRvIGV2YWx1YXRlCiAgICAgIC8vIHRoZSBsb2cgZGVuc2l0eSBvZiBhIGxvZ2lzdGljIGRpc3RyaWJ1dGlvbjogCiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93Y2gvci1zb3VyY2UvYmxvYi9iMTU2ZTNhNzExOTY3ZjU4MTMxZTIzYzFiMWRjMWVhOTBlMmYwYzQzL3NyYy9ubWF0aC9kbG9naXMuYwoKCiAgICAgIGxkLmxvZ2lzID0gZnVuY3Rpb24gKHgsIGxvY2F0aW9uLCBzY2FsZSkgewogICAgICAgIHggPSBhYnMoKHggLSBsb2NhdGlvbikgLyBzY2FsZSk7CiAgICAgICAgdmFyIGUgPSBleHAoLXgpOwogICAgICAgIHZhciBmID0gMS4wICsgZTsKICAgICAgICByZXR1cm4gLSh4ICsgbG9nKHNjYWxlICogZiAqIGYpKTsKICAgICAgfTsKCiAgICAgIGxkLmRpcmljaGxldCA9IGZ1bmN0aW9uICh4LCBhbHBoYSkgewogICAgICAgIHZhciBzdW1fYWxwaGEgPSAwOwogICAgICAgIHZhciBzdW1fbGdhbW1hX2FscGhhID0gMDsKICAgICAgICB2YXIgc3VtX2FscGhhX3N1Yl8xX2xvZ194ID0gMDsKICAgICAgICB2YXIgbiA9IGFscGhhLmxlbmd0aDsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgIHN1bV9hbHBoYSArPSBhbHBoYVtpXTsKICAgICAgICAgIHN1bV9sZ2FtbWFfYWxwaGEgKz0gbGdhbW1hKGFscGhhW2ldKTsKICAgICAgICAgIHN1bV9hbHBoYV9zdWJfMV9sb2dfeCArPSAoYWxwaGFbaV0gLSAxKSAqIGxvZyh4W2ldKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBsZ2FtbWEoc3VtX2FscGhhKSAtIHN1bV9sZ2FtbWFfYWxwaGEgKyBzdW1fYWxwaGFfc3ViXzFfbG9nX3g7CiAgICAgIH07CgogICAgICBsZC5leHAgPSBmdW5jdGlvbiAoeCwgcmF0ZSkgewogICAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhyYXRlKSAtIHJhdGUgKiB4OwogICAgICB9OwoKICAgICAgbGQudW5pZiA9IGZ1bmN0aW9uICh4LCBtaW4sIG1heCkgewogICAgICAgIHJldHVybiB4IDwgbWluIHx8IHggPiBtYXggPyAtSW5maW5pdHkgOiBsb2coMSAvIChtYXggLSBtaW4pKTsKICAgICAgfTsgLy8vLy8vLy8vLyBEaXNjcmV0ZSBkaXN0cmlidXRpb25zIC8vLy8vLy8vLy8KICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCgogICAgICBsZC5iZXJuID0gZnVuY3Rpb24gKHgsIHByb2IpIHsKICAgICAgICByZXR1cm4gISh4ID09PSAwIHx8IHggPT09IDEpID8gLUluZmluaXR5IDogbG9nKHggKiBwcm9iICsgKDEgLSB4KSAqICgxIC0gcHJvYikpOwogICAgICB9OwoKICAgICAgbGQuY2F0ID0gZnVuY3Rpb24gKHgsIHByb2JzKSB7CiAgICAgICAgaWYgKHggPCAxIHx8IHggPiBwcm9icy5sZW5ndGgpIHsKICAgICAgICAgIHJldHVybiAtSW5maW5pdHk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBsb2cocHJvYnNbeCAtIDFdKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICBsZC5iaW5vbSA9IGZ1bmN0aW9uICh4LCBzaXplLCBwcm9iKSB7CiAgICAgICAgaWYgKHggPiBzaXplIHx8IHggPCAwKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0KCiAgICAgICAgaWYgKHByb2IgPT09IDAgfHwgcHJvYiA9PT0gMSkgewogICAgICAgICAgcmV0dXJuIHNpemUgKiBwcm9iID09PSB4ID8gMCA6IC1JbmZpbml0eTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBsY2hvb3NlKHNpemUsIHgpICsgeCAqIGxvZyhwcm9iKSArIChzaXplIC0geCkgKiBsb2coMSAtIHByb2IpOwogICAgICB9OwoKICAgICAgbGQubmJpbm9tID0gZnVuY3Rpb24gKHgsIHNpemUsIHByb2IpIHsKICAgICAgICBpZiAoeCA8IDApIHsKICAgICAgICAgIHJldHVybiAtSW5maW5pdHk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbGNob29zZSh4ICsgc2l6ZSAtIDEsIHNpemUgLSAxKSArIHggKiBsb2coMSAtIHByb2IpICsgc2l6ZSAqIGxvZyhwcm9iKTsKICAgICAgfTsKCiAgICAgIGxkLmh5cGVyID0gZnVuY3Rpb24gKHgsIG0sIG4sIGspIHsKICAgICAgICBpZiAoeCA8IDAgfHwgeCA+IGspIHsKICAgICAgICAgIHJldHVybiAtSW5maW5pdHk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBsY2hvb3NlKG0sIHgpICsgbGNob29zZShuLCBrIC0geCkgLSBsY2hvb3NlKG0gKyBuLCBrKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICBsZC5wb2lzID0gZnVuY3Rpb24gKHgsIGxhbWJkYSkgewogICAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhsYW1iZGEpICogeCAtIGxhbWJkYSAtIGxmYWN0b3JpYWwoeCk7CiAgICAgIH07CgogICAgICByZXR1cm4gbGQ7CiAgICB9KTsKICB9KShkaXN0cmlidXRpb25zKTsKCiAgdmFyIG1jbWMgPSB7ZXhwb3J0czoge319OwoKICAoZnVuY3Rpb24gKG1vZHVsZSkgewogICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci90ZW1wbGF0ZXMvcmV0dXJuRXhwb3J0cy5qcwogICAgLy8gSXQgc2hvdWxkIG1ha2Ugc2h1cmUgdGhhdCBtb2R1bGUgY2FuIGJlIGltcG9ydGVkIGJvdGggaW4gdGhlIGJyb3dzZXIsCiAgICAvLyBOb2RlLCBhbmQgYnkgdXNpbmcgdGhlIEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbiBzdGFuZGFyZC4KICAgIC8vIElmIHRoaXMgbW9kdWxlIGlzIGxvYWRlZCBpbiB0aGUgYnJvd3NlciBpdCB3aWxsIGNyZWF0ZWQgdGhlIGdsb2JhbAogICAgLy8gb2JqZWN0IG1jbWMgLgoKICAgIChmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkgewogICAgICBpZiAobW9kdWxlLmV4cG9ydHMpIHsKICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXQKICAgICAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cywKICAgICAgICAvLyBsaWtlIE5vZGUuCiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdykKICAgICAgICByb290Lm1jbWMgPSBmYWN0b3J5KCk7CiAgICAgIH0KICAgIH0pKGNvbW1vbmpzR2xvYmFsLCBmdW5jdGlvbiAoKSB7CiAgICAgIC8vLyBUaGUgYWN0dWFsIG1vZHVsZSBjb2RlIHN0YXJ0cyBoZXJlIC8vLwogICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gIAogICAgICAvLy8vLy8vLy8vIEhlbHBlciBGdW5jdGlvbnMgLy8vLy8vLy8vLwogICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgICAgLyoqIFJldHVybnMgYSByYW5kb20gcmVhbCBudW1iZXIgYmV0d2VlbiBtaW4gYW5kIG1heCAqLwogICAgICB2YXIgcnVuaWYgPSBmdW5jdGlvbiBydW5pZihtaW4sIG1heCkgewogICAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW47CiAgICAgIH07CiAgICAgIC8qKiBSZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gYW5kIG1heCAqLwoKCiAgICAgIHZhciBydW5pZl9kaXNjcmV0ZSA9IGZ1bmN0aW9uIHJ1bmlmX2Rpc2NyZXRlKG1pbiwgbWF4KSB7CiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47CiAgICAgIH07CiAgICAgIC8qKiBSZXR1cm5zIGEgcmFuZG9tIHJlYWwgbnVtYmVyIGZyb20gYSBub3JtYWwgZGlzdHJpYmJ1dGlvbiBkZWZpbmVkCiAgICAgICAqICBieSBtZWFuIGFuZCBzZC4gCiAgICAgICAqICBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2pzdGF0L2pzdGF0L2Jsb2IvbWFzdGVyL3NyYy9zcGVjaWFsLmpzICovCgoKICAgICAgdmFyIHJub3JtID0gZnVuY3Rpb24gcm5vcm0obWVhbiwgc2QpIHsKICAgICAgICB2YXIgdSwgdiwgeCwgeSwgcTsKCiAgICAgICAgZG8gewogICAgICAgICAgdSA9IE1hdGgucmFuZG9tKCk7CiAgICAgICAgICB2ID0gMS43MTU2ICogKE1hdGgucmFuZG9tKCkgLSAwLjUpOwogICAgICAgICAgeCA9IHUgLSAwLjQ0OTg3MTsKICAgICAgICAgIHkgPSBNYXRoLmFicyh2KSArIDAuMzg2NTk1OwogICAgICAgICAgcSA9IHggKiB4ICsgeSAqICgwLjE5NjAwICogeSAtIDAuMjU0NzIgKiB4KTsKICAgICAgICB9IHdoaWxlIChxID4gMC4yNzU5NyAmJiAocSA+IDAuMjc4NDYgfHwgdiAqIHYgPiAtNCAqIE1hdGgubG9nKHUpICogdSAqIHUpKTsKCiAgICAgICAgcmV0dXJuIHYgLyB1ICogc2QgKyBtZWFuOwogICAgICB9OwogICAgICAvKiogUmV0dXJucyBhIGRlZXAgY2xvbmUgb2Ygc3JjLCBzb3J0IG9mLi4uIEl0IG9ubHkgY29waWVzIGEgbGltaXRlZAogICAgICAgKiBudW1iZXIgb2YgdHlwZXMgYW5kLCBmb3IgZXhhbXBsZSwgZnVuY3Rpb24gYXJlIG5vdCBjb3BpZWQuIAogICAgICAgKiBGcm9tIGh0dHA6Ly9kYXZpZHdhbHNoLm5hbWUvamF2YXNjcmlwdC1jbG9uZQogICAgICAgKi8KCgogICAgICB2YXIgZGVlcF9jbG9uZSA9IGZ1bmN0aW9uIGRlZXBfY2xvbmUoc3JjKSB7CiAgICAgICAgZnVuY3Rpb24gbWl4aW4oZGVzdCwgc291cmNlLCBjb3B5RnVuYykgewogICAgICAgICAgdmFyIG5hbWUsCiAgICAgICAgICAgICAgcywKICAgICAgICAgICAgICBlbXB0eSA9IHt9OwoKICAgICAgICAgIGZvciAobmFtZSBpbiBzb3VyY2UpIHsKICAgICAgICAgICAgLy8gdGhlICghKG5hbWUgaW4gZW1wdHkpIHx8IGVtcHR5W25hbWVdICE9PSBzKSBjb25kaXRpb24gYXZvaWRzIGNvcHlpbmcgcHJvcGVydGllcyBpbiAic291cmNlIgogICAgICAgICAgICAvLyBpbmhlcml0ZWQgZnJvbSBPYmplY3QucHJvdG90eXBlLgkgRm9yIGV4YW1wbGUsIGlmIGRlc3QgaGFzIGEgY3VzdG9tIHRvU3RyaW5nKCkgbWV0aG9kLAogICAgICAgICAgICAvLyBkb24ndCBvdmVyd3JpdGUgaXQgd2l0aCB0aGUgdG9TdHJpbmcoKSBtZXRob2QgdGhhdCBzb3VyY2UgaW5oZXJpdGVkIGZyb20gT2JqZWN0LnByb3RvdHlwZQogICAgICAgICAgICBzID0gc291cmNlW25hbWVdOwoKICAgICAgICAgICAgaWYgKCEobmFtZSBpbiBkZXN0KSB8fCBkZXN0W25hbWVdICE9PSBzICYmICghKG5hbWUgaW4gZW1wdHkpIHx8IGVtcHR5W25hbWVdICE9PSBzKSkgewogICAgICAgICAgICAgIGRlc3RbbmFtZV0gPSBjb3B5RnVuYyA/IGNvcHlGdW5jKHMpIDogczsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBkZXN0OwogICAgICAgIH0KCiAgICAgICAgaWYgKCFzcmMgfHwgX3R5cGVvZihzcmMpICE9ICJvYmplY3QiIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzcmMpID09PSAiW29iamVjdCBGdW5jdGlvbl0iKSB7CiAgICAgICAgICAvLyBudWxsLCB1bmRlZmluZWQsIGFueSBub24tb2JqZWN0LCBvciBmdW5jdGlvbgogICAgICAgICAgcmV0dXJuIHNyYzsgLy8gYW55dGhpbmcKICAgICAgICB9CgogICAgICAgIGlmIChzcmMubm9kZVR5cGUgJiYgImNsb25lTm9kZSIgaW4gc3JjKSB7CiAgICAgICAgICAvLyBET00gTm9kZQogICAgICAgICAgcmV0dXJuIHNyYy5jbG9uZU5vZGUodHJ1ZSk7IC8vIE5vZGUKICAgICAgICB9CgogICAgICAgIGlmIChzcmMgaW5zdGFuY2VvZiBEYXRlKSB7CiAgICAgICAgICAvLyBEYXRlCiAgICAgICAgICByZXR1cm4gbmV3IERhdGUoc3JjLmdldFRpbWUoKSk7IC8vIERhdGUKICAgICAgICB9CgogICAgICAgIGlmIChzcmMgaW5zdGFuY2VvZiBSZWdFeHApIHsKICAgICAgICAgIC8vIFJlZ0V4cAogICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoc3JjKTsgLy8gUmVnRXhwCiAgICAgICAgfQoKICAgICAgICB2YXIgciwgaSwgbDsKCiAgICAgICAgaWYgKHNyYyBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgICAgICAvLyBhcnJheQogICAgICAgICAgciA9IFtdOwoKICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBzcmMubGVuZ3RoOyBpIDwgbDsgKytpKSB7CiAgICAgICAgICAgIGlmIChpIGluIHNyYykgewogICAgICAgICAgICAgIHIucHVzaChkZWVwX2Nsb25lKHNyY1tpXSkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIGdlbmVyaWMgb2JqZWN0cwogICAgICAgICAgciA9IHNyYy5jb25zdHJ1Y3RvciA/IG5ldyBzcmMuY29uc3RydWN0b3IoKSA6IHt9OwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG1peGluKHIsIHNyYywgZGVlcF9jbG9uZSk7CiAgICAgIH07CiAgICAgIC8qKiBTcGVjaWFsaXplZCBjbG9uZSBmdW5jdGlvbiB0aGF0IG9ubHkgY2xvbmVzIHNjYWxhcnMgYW5kIG5lc3RlZCBhcnJheXMgd2hlcmUKICAgICAgICogZWFjaCBhcnJheSBlaXRoZXIgY29uc2lzdHMgb2YgYWxsIGFycmF5cyBvciBhbGwgbnVtYmVycy4gVGhpcyBmdW5jdGlvbgogICAgICAgKiBpcyBtZWFudCBhcyBhIGZhc3Qgd2F5IG9mIGNsb25pbmcgcGFyYW1ldGVyIGRyYXdzIHdpdGhpbiB0aGUgbWNtYyBzYW1wbGluZwogICAgICAgKiBsb29wLgogICAgICAgKi8KCgogICAgICB2YXIgY2xvbmVfcGFyYW1fZHJhdyA9IGZ1bmN0aW9uIGNsb25lX3BhcmFtX2RyYXcoeCkgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHgpKSB7CiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh4WzBdKSkgewogICAgICAgICAgICAvLyB4IGlzIGFuIGFycmF5IG9mIGFycmF5cyBzbyB3ZSBuZWVkIHRvIGNsb25lIGl0IHJlY3Vyc2l2ZWx5CiAgICAgICAgICAgIHZhciB4X2NvcHkgPSBbXTsKCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSB4Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgeF9jb3B5LnB1c2goY2xvbmVfcGFyYW1fZHJhdyh4W2ldKSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiB4X2NvcHk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBXZSdsbCBhc3N1bWUgeCBpcyBhIGFycmF5cyBvZiBzY2FsYXJzCiAgICAgICAgICAgIHJldHVybiB4LnNsaWNlKDApOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBXZSdsbCBhc3N1bWUgeCBpcyBhIHNjYWxhcgogICAgICAgICAgcmV0dXJuIHg7CiAgICAgICAgfQogICAgICB9OwogICAgICAvKiogUmV0dXJucyB0cnVlIGlmIG9iamVjdCBpcyBhIG51bWJlci4KICAgICAgICovCgoKICAgICAgdmFyIGlzX251bWJlciA9IGZ1bmN0aW9uIGlzX251bWJlcihvYmplY3QpIHsKICAgICAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PSAibnVtYmVyIiB8fCBfdHlwZW9mKG9iamVjdCkgPT0gIm9iamVjdCIgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBOdW1iZXI7CiAgICAgIH07CiAgICAgIC8qKgogICAgICAgKiBDcmVhdGVzIGFuZCBpbml0aWFsaXplcyBhIChwb3NzaWJseSBtdWx0aWRpbWVuc2lvbmFsL25lc3RlZCkgYXJyYXkuCiAgICAgICAqIEBwYXJhbSBkaW0gLSBBbiBhcnJheSBnaXZpbmcgdGhlIGRpbWVuc2lvbiBvZiB0aGUgYXJyYXkuIEZvciBleGFtcGxlLAogICAgICAgKiAgIFs1XSB3b3VsZCB5aWVsZCBhIDUgZWxlbWVudCBhcnJheSwgYW5kIFszLDNdIHdvdWxkIHlpZWxkIGEgMyBieSAzIG1hdHJpeC4KICAgICAgICogQHBhcmFtIGluaXQgLSBBIHZhbHVlIG9yIGEgZnVuY3Rpb24gdXNlZCB0byBmaWxsIGluIHRoZSBlYWNoIGVsZW1lbnQgaW4KICAgICAgICogICB0aGUgYXJyYXkuIElmIGl0IGlzIGEgZnVuY3Rpb24gaXQgc2hvdWxkIHRha2Ugbm8gYXJndW1lbnRzLCBpdCB3aWxsIGJlIAogICAgICAgKiAgIGV2YWx1YXRlZCBvbmNlIGZvciBlYWNoIGVsZW1lbnQsIGFuZCBpdCdzIHJldHVybiB2YWx1ZSB3aWxsIGJlIHVzZWQgdG8KICAgICAgICogICBmaWxsIGluIGVhY2ggZWxlbWVudC4KICAgICAgICogQGV4YW1wbGUgCiAgICAgICAqIC8vIFRoZSBmb2xsb3dpbmcgd291bGQgcmV0dXJuIFtbMSwxXSxbMSwxXSxbMSwxXV0KICAgICAgICogY3JlYXRlX2FycmF5KFsyLDNdLCAxKQogICAgICAgKi8KCgogICAgICB2YXIgY3JlYXRlX2FycmF5ID0gZnVuY3Rpb24gY3JlYXRlX2FycmF5KGRpbSwgaW5pdCkgewogICAgICAgIHZhciBhcnIgPSBuZXcgQXJyYXkoZGltWzBdKTsKICAgICAgICB2YXIgaTsKCiAgICAgICAgaWYgKGRpbS5sZW5ndGggPT0gMSkgewogICAgICAgICAgLy8gRmlsbCBpdCB1cCB3aXRoIGluaXQKICAgICAgICAgIGlmICh0eXBlb2YgaW5pdCA9PT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZGltWzBdOyBpKyspIHsKICAgICAgICAgICAgICBhcnJbaV0gPSBpbml0KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykgewogICAgICAgICAgICAgIGFycltpXSA9IGluaXQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGRpbS5sZW5ndGggPiAxKSB7CiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZGltWzBdOyBpKyspIHsKICAgICAgICAgICAgYXJyW2ldID0gY3JlYXRlX2FycmF5KGRpbS5zbGljZSgxKSwgaW5pdCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93ICJjcmVhdGVfYXJyYXkgY2FuJ3QgY3JlYXRlIGEgZGltZW5zaW9ubGVzcyBhcnJheSI7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYXJyOwogICAgICB9OwogICAgICAvKioKICAgICAgICogUmV0dXJuIHRoZSBkaW1lbnNpb25zIG9mIGEgcG9zc2libHkgbmVzdGVkIGFycmF5IGFzIGFuIGFycmF5LiBGb3IgCiAgICAgICAqIGV4YW1wbGUsIGFycmF5X2RpbSggW1sxLCAyXSwgWzEsIDJdXSApIHNob3VsZCByZXR1cm4gWzIsIDJdCiAgICAgICAqIEFzc3VtZXMgdGhhdCBhbGwgYXJyYXlzIGluc2lkZSBhbm90aGVyIGFycmF5IGFyZSBvZiB0aGUgc2FtZSBsZW5ndGguCiAgICAgICAqIEBleGFtcGxlCiAgICAgICAqIC8vIFNob3VsZCByZXR1cm4gWzQsIDIsIDFdCiAgICAgICAqIGFycmF5X2RpbShjcmVhdGVfYXJyYXkoWzQsIDIsIDFdLCAwKSkKICAgICAgICovCgoKICAgICAgdmFyIGFycmF5X2RpbSA9IGZ1bmN0aW9uIGFycmF5X2RpbShhKSB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYVswXSkpIHsKICAgICAgICAgIHJldHVybiBbYS5sZW5ndGhdLmNvbmNhdChhcnJheV9kaW0oYVswXSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gW2EubGVuZ3RoXTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIC8qKgogICAgICAgKiBDaGVja3MgaWYgdHdvIGFycmF5cyBhcmUgZXF1YWwgaW4gdGhlIHNlbnNlIHRoYXQgdGhleSBjb250YWluIHRoZSBzYW1lIGVsZW1lbnRzCiAgICAgICAqIGFzIGp1ZGdlZCBieSB0aGUgIj09IiBvcGVyYXRvci4gUmV0dXJucyB0cnVlIG9yIGZhbHNlLgogICAgICAgKiBBZGFwdGVkIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTQ4NTM5NzQvMTAwMTg0OAogICAgICAgKi8KCgogICAgICB2YXIgYXJyYXlfZXF1YWwgPSBmdW5jdGlvbiBhcnJheV9lcXVhbChhMSwgYTIpIHsKICAgICAgICBpZiAoYTEubGVuZ3RoICE9IGEyLmxlbmd0aCkgcmV0dXJuIGZhbHNlOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGExLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIG5lc3RlZCBhcnJheXMKICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGExW2ldKSAmJiBBcnJheS5pc0FycmF5KGEyW2ldKSkgewogICAgICAgICAgICAvLyByZWN1cnNlIGludG8gdGhlIG5lc3RlZCBhcnJheXMKICAgICAgICAgICAgaWYgKCFhcnJheV9lcXVhbChhMVtpXSwgYTJbaV0pKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9IGVsc2UgaWYgKGExW2ldICE9IGEyW2ldKSB7CiAgICAgICAgICAgIC8vIFdhcm5pbmcgLSB0d28gZGlmZmVyZW50IG9iamVjdCBpbnN0YW5jZXMgd2lsbCBuZXZlciBiZSBlcXVhbDoge3g6MjB9ICE9IHt4OjIwfQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfTsKICAgICAgLyoqCiAgICAgICAqIFRyYXZlcnNlcyBhIHBvc3NpYmx5IG5lc3RlZCBhcnJheSBhIGFuZCBhcHBsaWVzIGZ1biB0byBhbGwgImxlYWYgbm9kZXMiLCAKICAgICAgICogdGhhdCBpcywgdmFsdWVzIHRoYXQgYXJlIG5vdCBhcnJheXMuIFJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHNhbWUgc2l6ZSBhcwogICAgICAgKiBhLgogICAgICAgKi8KCgogICAgICB2YXIgbmVzdGVkX2FycmF5X2FwcGx5ID0gZnVuY3Rpb24gbmVzdGVkX2FycmF5X2FwcGx5KGEsIGZ1bikgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KGEubGVuZ3RoKTsKCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgcmVzdWx0W2ldID0gbmVzdGVkX2FycmF5X2FwcGx5KGFbaV0sIGZ1bik7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZ1bihhKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIC8qKiBSYW5kb21pemluZyB0aGUgYXJyYXkgZWxlbWVudCBvcmRlciBpbi1wbGFjZS4gVXNpbmcgRHVyc3RlbmZlbGQKICAgICAgICogc2h1ZmZsZSBhbGdvcml0aG0uIEFkYXB0ZWQgZnJvbSBoZXJlOiAKICAgICAgICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTI2NDY4NjQvMTAwMTg0OAogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBzaHVmZmxlX2FycmF5KGFycmF5KSB7CiAgICAgICAgZm9yICh2YXIgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHsKICAgICAgICAgIHZhciBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7CiAgICAgICAgICB2YXIgdGVtcCA9IGFycmF5W2ldOwogICAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtqXTsKICAgICAgICAgIGFycmF5W2pdID0gdGVtcDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBhcnJheTsKICAgICAgfQogICAgICAvKioKICAgICAgICogRG9lcyB0aGUgc2FtZSB0aGluZyBhcyBuZXN0ZWRfYXJyYXlfYXBwbHksIHRoYXQgaXMsIHRyYXZlcnNlcyBhIHBvc3NpYmx5CiAgICAgICAqIG5lc3RlZCBhcnJheSBhIGFuZCBhcHBsaWVzIGZ1biB0byBhbGwgImxlYWYgbm9kZXMiIGFuZCByZXR1cm5zIGFuIGFycmF5IAogICAgICAgKiBvZiB0aGUgc2FtZSBzaXplIGFzIGEuIFRoZSBkaWZmZXJlbmNlIGlzIHRoYXQgbmVzdGVkX2FycmF5X3JhbmRvbV9hcHBseQogICAgICAgKiBicmFuY2hlcyByYW5kb21seS4KICAgICAgICovCgoKICAgICAgdmFyIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkgPSBmdW5jdGlvbiBuZXN0ZWRfYXJyYXlfcmFuZG9tX2FwcGx5KGEsIGZ1bikgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7CiAgICAgICAgICB2YXIgbGVuID0gYS5sZW5ndGg7CiAgICAgICAgICB2YXIgaTsKICAgICAgICAgIHZhciBhcnJheV9pcyA9IFtdOwoKICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICAgICAgICBhcnJheV9pc1tpXSA9IGk7CiAgICAgICAgICB9CgogICAgICAgICAgc2h1ZmZsZV9hcnJheShhcnJheV9pcyk7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gW107CgogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIHZhciBhcnJheV9pID0gYXJyYXlfaXNbaV07CiAgICAgICAgICAgIHJlc3VsdFthcnJheV9pXSA9IG5lc3RlZF9hcnJheV9hcHBseShhW2FycmF5X2ldLCBmdW4pOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmdW4oYSk7CiAgICAgICAgfQogICAgICB9OwogICAgICAvKioKICAgICAgICogQWxsb3dzIGEgcHJldHR5IHdheSBvZiBzZXR0aW5nIGRlZmF1bHQgb3B0aW9ucyB3aGVyZSB0aGUgZGVmdWx0cyBjYW4gYmUKICAgICAgICogb3ZlcnJpZGRlbiBieSBhbiBvcHRpb25zIG9iamVjdC4KICAgICAgICogIEBwYXJhbSBvcHRpb25fbmFtZSAtIHRoZSBuYW1lIG9mIHRoZSBvcHRpb24gYXMgYSBzdHJpbmcKICAgICAgICogIEBwYXJhbSBteV9vcHRpb25zIC0gYW4gb3B0aW9uIG9iamVjdCB0aGF0IGNvdWxkIGhhdmUgb3B0aW9uX25hbWUgCiAgICAgICAqICAgIGFzIGEgbWVtYmVyLgogICAgICAgKiBAcGFyYW0gZGVmYXVsX3ZhbHVlIC0gZGVmdWx0IHZhbHVlIHRoYXQgaXMgcmV0dXJuZWQgaWYgb3B0aW9uX25hbWUgCiAgICAgICAqICAgaXMgbm90IGRlZmluZWQgaW4gbXlfb3B0aW9ucy4KICAgICAgICogQGV4YW1wbGUKICAgICAgICogdmFyIG15X29wdGlvbnMgPSB7cGk6IDMuMTQxNTl9CiAgICAgICAqIHZhciBwaSA9IGdldF9vcHRpb24oInBpIiwgbXlfb3B0aW9ucywgMy4xNCkKICAgICAgICovCiAgICAgIC8vIFByZXR0eSB3YXkgb2Ygc2V0dGluZyBkZWZhdWx0IG9wdGlvbnMgd2hlcmUgdGhlIGRlZmF1bHRzIGNhbiBiZSBvdmVycmlkZGVuCiAgICAgIC8vIGJ5IGFuIG9wdGlvbnMgb2JqZWN0LiBGb3IgZXhhbXBsZToKICAgICAgLy8gdmFyIHBpID0gZ2V0X29wdGlvbigicGkiLCBteV9vcHRpb25zLCAzLjE0KQoKCiAgICAgIHZhciBnZXRfb3B0aW9uID0gZnVuY3Rpb24gZ2V0X29wdGlvbihvcHRpb25fbmFtZSwgb3B0aW9ucywgZGVmYXVsX3ZhbHVlKSB7CiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgICAgcmV0dXJuIG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uX25hbWUpICYmIG9wdGlvbnNbb3B0aW9uX25hbWVdICE9PSB1bmRlZmluZWQgJiYgb3B0aW9uc1tvcHRpb25fbmFtZV0gIT09IG51bGwgPyBvcHRpb25zW29wdGlvbl9uYW1lXSA6IGRlZmF1bF92YWx1ZTsKICAgICAgfTsKICAgICAgLyoqIFZlcnNpb24gb2YgZ2V0X29wdGlvbiB3aGVyZSB0aGUgb3B0aW9uIHNob3VsZCBiZSBhIG9uZSBvciBtdWx0aS1kaW1lbnNpb25hbAogICAgICAgKiBhcnJheSBhbmQgd2hlcmUgdGhlIGRlZmF1bHQgY2FuIGJlIG92ZXJyaWRkZW4gZWl0aGVyIGJ5IGEgc2NhbGFyIG9yIGJ5IGFuIGFycmF5LgogICAgICAgKiBJZiBpdCdzIGEgc2NhbGFyIHRoZSB0aGF0IHNjYWxhciBpcyB1c2VkIHRvIGluaXRpYWxpemUgYW4gYXJyYXkgd2l0aCAKICAgICAgICogZGltIGRpbWVuc2lvbnMuCiAgICAgICAqIAogICAgICAgKi8KCgogICAgICB2YXIgZ2V0X211bHRpZGltX29wdGlvbiA9IGZ1bmN0aW9uIGdldF9tdWx0aWRpbV9vcHRpb24ob3B0aW9uX25hbWUsIG9wdGlvbnMsIGRpbSwgZGVmYXVsX3ZhbHVlKSB7CiAgICAgICAgdmFyIHZhbHVlID0gZ2V0X29wdGlvbihvcHRpb25fbmFtZSwgb3B0aW9ucywgZGVmYXVsX3ZhbHVlKTsKCiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkgewogICAgICAgICAgdmFsdWUgPSBjcmVhdGVfYXJyYXkoZGltLCB2YWx1ZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoIWFycmF5X2VxdWFsKGFycmF5X2RpbSh2YWx1ZSksIGRpbSkpIHsKICAgICAgICAgIHRocm93ICJUaGUgb3B0aW9uICIgKyBvcHRpb25fbmFtZSArICIgaXMgb2YgZGltZW5zaW9uIFsiICsgYXJyYXlfZGltKHZhbHVlKSArICJdIGJ1dCBzaG91bGQgYmUgWyIgKyBkaW0gKyAiXS4iOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICB9OyAvLy8vLy8vLy8vIEZ1bmN0aW9ucyBmb3IgaGFuZGxpbmcgcGFyYW1ldGVyIG9iamVjdHMgLy8vLy8vLy8vLwogICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgICAgLyoqCiAgICAgICAqIFJldHVybnMgYSBmaXhlZCAoc2FtZSBldmVyeSB0aW1lKSBudW1iZXIgdGhhdCBjb3VsZCBiZSB1c2VkIHRvIGluaXRpYWxpemUKICAgICAgICogYSBwYXJhbWV0ZXIgb2YgYSBjZXJ0YWluIHR5cGUsIHBvc3NpYmx5IHdpdGggbG93ZXIgYW5kIHVwcGVyIGJvdW5kcy4KICAgICAgICogVGhlIHBvc3NpbGUgdHlwZXMgYXJlICJyZWFsIiwgImludCIsIGFuZCAiYmluYXJ5Ii4KICAgICAgICovCgoKICAgICAgdmFyIHBhcmFtX2luaXRfZml4ZWQgPSBmdW5jdGlvbiBwYXJhbV9pbml0X2ZpeGVkKHR5cGUsIGxvd2VyLCB1cHBlcikgewogICAgICAgIGlmIChsb3dlciA+IHVwcGVyKSB7CiAgICAgICAgICB0aHJvdyAiQ2FuIG5vdCBpbml0aWFsaXplIHBhcmFtZXRlciB3aGVyZSBsb3dlciBib3VuZCA+IHVwcGVyIGJvdW5kIjsKICAgICAgICB9CgogICAgICAgIGlmICh0eXBlID09PSAicmVhbCIpIHsKICAgICAgICAgIGlmIChsb3dlciA9PT0gLUluZmluaXR5ICYmIHVwcGVyID09PSBJbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gMC41OwogICAgICAgICAgfSBlbHNlIGlmIChsb3dlciA9PT0gLUluZmluaXR5KSB7CiAgICAgICAgICAgIHJldHVybiB1cHBlciAtIDAuNTsKICAgICAgICAgIH0gZWxzZSBpZiAodXBwZXIgPT09IEluZmluaXR5KSB7CiAgICAgICAgICAgIHJldHVybiBsb3dlciArIDAuNTsKICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXIgPD0gdXBwZXIpIHsKICAgICAgICAgICAgcmV0dXJuIChsb3dlciArIHVwcGVyKSAvIDI7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAiaW50IikgewogICAgICAgICAgaWYgKGxvd2VyID09PSAtSW5maW5pdHkgJiYgdXBwZXIgPT09IEluZmluaXR5KSB7CiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgfSBlbHNlIGlmIChsb3dlciA9PT0gLUluZmluaXR5KSB7CiAgICAgICAgICAgIHJldHVybiB1cHBlciAtIDE7CiAgICAgICAgICB9IGVsc2UgaWYgKHVwcGVyID09PSBJbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gbG93ZXIgKyAxOwogICAgICAgICAgfSBlbHNlIGlmIChsb3dlciA8PSB1cHBlcikgewogICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgobG93ZXIgKyB1cHBlcikgLyAyKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICJiaW5hcnkiKSB7CiAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9CgogICAgICAgIHRocm93ICJDb3VsZCBub3QgaW5pdGlhbGl6ZSBwYXJhbWV0ZXIgb2YgdHlwZSAiICsgdHlwZSArICJbIiArIGxvd2VyICsgIiwgIiArIHVwcGVyICsgIl0iOwogICAgICB9OwogICAgICAvKioKICAgICAgICogQ29tcGxldGVzIHBhcmFtc190b19jb21wbGV0ZSwgYW4gb2JqZWN0IGNvbnRhaW5pbmcgcGFyYW1ldGVyIGRlc2NyaXB0aW9ucywgCiAgICAgICAqIGFuZCBpbml0aWFsaXplcyBub24taW5pdGlhbGl6ZWQgcGFyYW1ldGVycy4gVGhpcyBtb2RpZmllZCB2ZXJzaW9uIG9mCiAgICAgICAqIHBhcmFtc190b19jb21wbGV0ZSBpcyByZXR1cm5lZCBhcyBhIGRlZXAgY29weSBhbmQgbm90IG1vZGlmaWVkIGluIHBsYWNlLgogICAgICAgKiBJbml0aWFsaXphdGlvbiBpcyBkb25lIGJ5IHN1cHBseWluZyBhIHBhcmFtX2luaXQgZnVuY3Rpb24gd2l0aCBzaWduYXR1cmUKICAgICAgICogZnVuY3Rpb24odHlwZSwgbG93ZXIsIHVwcGVyKSB0aGF0IHNob3VsZCByZXR1cm4gYSBzaW5nbGUgbnVtYmVyIAogICAgICAgKiAobGlrZSBwYXJhbV9pbml0X2ZpeGVkLCBmb3IgZXhhbXBsZSkuCiAgICAgICAqIEBleGFtcGxlCiAgICAgICAqIHZhciBwYXJhbXMgPSB7ICJtdSI6IHsidHlwZSI6ICJyZWFsIn0gfQogICAgICAgKiBwYXJhbXMgPSBjb21wbGV0ZV9wYXJhbXMocGFyYW1zKTsKICAgICAgICogLy8gcGFyYW1zIHNob3VsZCBub3cgYmU6CiAgICAgICAqIC8vICB7Im11IjogeyAidHlwZSI6ICJyZWFsIiwgImRpbSI6IFsxXSwgInVwcGVyIjogSW5maW5pdHksCiAgICAgICAqIC8vICAgICAgICAgICAibG93ZXIiOiAtSW5maW5pdHksICJpbml0IjogMC41IH19CiAgICAgICAqLwoKCiAgICAgIHZhciBjb21wbGV0ZV9wYXJhbXMgPSBmdW5jdGlvbiBjb21wbGV0ZV9wYXJhbXMocGFyYW1zX3RvX2NvbXBsZXRlLCBwYXJhbV9pbml0KSB7CiAgICAgICAgdmFyIHBhcmFtcyA9IGRlZXBfY2xvbmUocGFyYW1zX3RvX2NvbXBsZXRlKTsKCiAgICAgICAgZm9yICh2YXIgcGFyYW1fbmFtZSBpbiBwYXJhbXMpIHsKICAgICAgICAgIGlmICghcGFyYW1zLmhhc093blByb3BlcnR5KHBhcmFtX25hbWUpKSBjb250aW51ZTsKICAgICAgICAgIHZhciBwYXJhbSA9IHBhcmFtc1twYXJhbV9uYW1lXTsKCiAgICAgICAgICBpZiAoIXBhcmFtLmhhc093blByb3BlcnR5KCJ0eXBlIikpIHsKICAgICAgICAgICAgcGFyYW0udHlwZSA9ICJyZWFsIjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIXBhcmFtLmhhc093blByb3BlcnR5KCJkaW0iKSkgewogICAgICAgICAgICBwYXJhbS5kaW0gPSBbMV07CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGlzX251bWJlcihwYXJhbS5kaW0pKSB7CiAgICAgICAgICAgIHBhcmFtLmRpbSA9IFtwYXJhbS5kaW1dOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChwYXJhbS50eXBlID09ICJiaW5hcnkiKSB7CiAgICAgICAgICAgIHBhcmFtLnVwcGVyID0gMTsKICAgICAgICAgICAgcGFyYW0ubG93ZXIgPSAwOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICghcGFyYW0uaGFzT3duUHJvcGVydHkoInVwcGVyIikpIHsKICAgICAgICAgICAgcGFyYW0udXBwZXIgPSBJbmZpbml0eTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIXBhcmFtLmhhc093blByb3BlcnR5KCJsb3dlciIpKSB7CiAgICAgICAgICAgIHBhcmFtLmxvd2VyID0gLUluZmluaXR5OwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChwYXJhbS5oYXNPd25Qcm9wZXJ0eSgiaW5pdCIpKSB7CiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMganVzdCBhIG51bWJlciBvciBhIG5lc3RlZCBhcnJheSB3ZSBsZWF2ZSBpdCBhbG9uZSwgYnV0IGlmLi4uCiAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkgJiYgdHlwZW9mIHBhcmFtLmluaXQgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgICAvLyBwYXJhbS5pbml0IGlzIGEgZnVuY3Rpb24sIHVzZSB0aGF0IHRvIGluaXRpYWxpemUgdGhlIHBhcmFtZXRlci4KICAgICAgICAgICAgICBwYXJhbS5pbml0ID0gcGFyYW0uaW5pdCgpOwogICAgICAgICAgICB9IGVsc2UgaWYgKCFhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkgJiYgIUFycmF5LmlzQXJyYXkocGFyYW0uaW5pdCkpIHsKICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgbXVsdGlkaW1lbnNpb25hbCBwYXJhbWV0ZXIgd2hlcmUgdGhlIHBhcmFtLmluaXQgZXhpc3QgYnV0CiAgICAgICAgICAgICAgLy8gaXMgbm90IGFuIGFycmF5LiBUaGVuIGFzc3VtZSBpdCBpcyBhIG51bWJlciBvciBhIGZ1bmN0aW9uIGFuZCB1c2UKICAgICAgICAgICAgICAvLyBpdCB0byBpbml0aWFsaXplIHRoZSBwYXJhbWV0ZXIuCiAgICAgICAgICAgICAgcGFyYW0uaW5pdCA9IGNyZWF0ZV9hcnJheShwYXJhbS5kaW0sIHBhcmFtLmluaXQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBXZSB1c2UgdGhlIGRlZmF1bHQgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24uCiAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHsKICAgICAgICAgICAgICBwYXJhbS5pbml0ID0gcGFyYW1faW5pdChwYXJhbS50eXBlLCBwYXJhbS5sb3dlciwgcGFyYW0udXBwZXIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBhcmFtLmluaXQgPSBjcmVhdGVfYXJyYXkocGFyYW0uZGltLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1faW5pdChwYXJhbS50eXBlLCBwYXJhbS5sb3dlciwgcGFyYW0udXBwZXIpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcGFyYW1zOwogICAgICB9OyAvLy8vLy8vLy8vIFN0ZXBwZXIgRnVuY3Rpb25zIC8vLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIC8qKgogICAgICAgKiBAaW50ZXJmYWNlCiAgICAgICAqIEEgU3RlcHBlciBpcyBhbiBvYmplY3QgcmVzcG9uc2libGUgZm9yIHB1c2hpbmcgYXJvdW5kIG9uZQogICAgICAgKiBvciBtb3JlIHBhcmFtZXRlciB2YWx1ZXMgaW4gYSBzdGF0ZSBhY2NvcmRpbmcgdG8gdGhlIGRpc3RyaWJ1dGlvbgogICAgICAgKiBkZWZpbmVkIGJ5IHRoZSBsb2cgcG9zdGVyaW9yLiBUaGlzIGRlZmluZXMgdGhlIFN0ZXBwZXIgImludGVyZmFjZSIsCiAgICAgICAqIHdoZXJlICJpbnRlcmZhY2UiIG1lYW5zIHRoYXQgU3RlcHBlciBkZWZpbmVzIGEgY2xhc3MgdGhhdCBpcyBuZXZlcgogICAgICAgKiBtZWFudCB0byBiZSBpbnN0YW50aWF0ZWQsIGJ1dCBqdXN0IHRvIGJlIHN1YmNsYXNzZWQgYnkgc3BlY2lhbGl6ZWQKICAgICAgICogc3RlcHBlciBmdW5jdGlvbnMuCiAgICAgICAqIEBpbnRlcmZhY2UKICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIHBhcmFtZXRlciBkZWZpbml0aW9ucywgZm9yIGV4YW1wbGU6CiAgICAgICAqICAgeyJtdSI6IHsgInR5cGUiOiAicmVhbCIsICJkaW0iOiBbMV0sICJ1cHBlciI6IEluZmluaXR5LCAKICAgICAgICogICAibG93ZXIiOiAtSW5maW5pdHksICJpbml0IjogMC41IH19CiAgICAgICAqICAgVGhlIHBhcmFtZXRlciBkZWZpbml0aW9ucyBhcmUgZXhwZWN0ZWQgdG8gYmUgImNvbXBsZXRlIiwgdGhhdCBpcywKICAgICAgICogICBzcGVjaWZ5aW5nIGFsbCByZWxldmFudCBhdHRyaWJ1dGVzIHN1Y2ggYXMgZGltLCBsb3dlciBhbmQgdXBwZXIuCiAgICAgICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycyBpbiBwYXJhbXMKICAgICAgICogICAoYW5kIHBvc3NpYmx5IG1vcmUpLiBUaGUgcGFyYW1ldGVyIG5hbWVzIGFyZSBnaXZlbiBhcyBrZXlzIGFuZCB0aGUgc3RhdGVzCiAgICAgICAqICAgYXMgc2NhbGFycyBvciwgcG9zc2libHkgbmVzdGVkLCBhcnJheXMuIEZvciBleGFtcGxlOgogICAgICAgKiAgIHttdTogMTAsIHNpZ21hOiA1LCBiZXRhOiBbMSwgMi41XX0KICAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiAqdGFraW5nIG5vIHBhcmFtZXRlcnMqIHRoYXQgcmV0dXJucyB0aGUKICAgICAgICogICBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBUaGF0IGlzLCB0aGUgdmFsdWUgb2YgbG9nX3Bvc3QKICAgICAgICogICBzaG91bGQgY2hhbmdlIGlmIHRoZSB0aGUgdmFsdWVzIGluIHN0YXRlIGFyZSBjaGFuZ2VkLgogICAgICAKICAgICAgICovCgoKICAgICAgdmFyIFN0ZXBwZXIgPSBmdW5jdGlvbiBTdGVwcGVyKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KSB7CiAgICAgICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7CiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlOwogICAgICAgIHRoaXMubG9nX3Bvc3QgPSBsb2dfcG9zdDsKICAgICAgfTsKICAgICAgLyoqCiAgICAgICAqIFRha2VzIGEgc3RlcCBpbiB0aGUgcGFyYW1ldGVyIHNwYWNlLiBTaG91bGQgcmV0dXJuIHRoZSBuZXcgc3RhdGUsCiAgICAgICAqIGJ1dCBpcyBtYWlubHkgY2FsbGVkIGZvciBpdCdzIHNpZGUgZWZmZWN0IG9mIG1ha2luZyBhIGNoYW5nZSBpbiB0aGUKICAgICAgICogc3RhdGUgb2JqZWN0LgogICAgICAgKi8KCgogICAgICBTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRocm93ICJFdmVyeSBTdGVwcGVyIG5lZWQgdG8gaW1wbGVtZW50IHN0ZXAoKSI7CiAgICAgIH07CiAgICAgIC8qKgogICAgICAgKiBJZiBpbXBsZW1lbnRlZCwgbWFrZXMgdGhlIHN0ZXBwZXIgYWRhcHQgd2hpbGUgc3RlcHBpbmcuCiAgICAgICAqLwoKCiAgICAgIFN0ZXBwZXIucHJvdG90eXBlLnN0YXJ0X2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7Ly8gT3B0aW9uYWwsIHNvbWUgc3RlcHBlcnMgbWlnaHQgbm90IGJlIGFkYXB0aXZlLiAqLyAKICAgICAgfTsKICAgICAgLyoqCiAgICAgICAqIElmIGltcGxlbWVudGVkLCBtYWtlcyB0aGUgc3RlcHBlciBjZWFzZSBhZGFwdGluZyB3aGlsZSBzdGVwcGluZy4KICAgICAgICovCgoKICAgICAgU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgey8vIE9wdGlvbmFsLCBzb21lIHN0ZXBwZXJzIG1pZ2h0IG5vdCBiZSBhZGFwdGl2ZS4gKi8gCiAgICAgIH07CiAgICAgIC8qKgogICAgICAgKiBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluZyBpbmZvIHJlZ2FyZGluZyB0aGUgc3RlcHBlci4KICAgICAgICovCgoKICAgICAgU3RlcHBlci5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGluZm8gYWJvdXQgdGhlIHN0YXRlIG9mIHRoZSBzdGVwcGVyLgogICAgICAgIHJldHVybiB7fTsKICAgICAgfTsKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn0KICAgICAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgdGhlIG1ldHJvcG9saXMgc3RlcCBpbgogICAgICAgKiB0aGUgQWRhcHRpdmUgTWV0cm9wb2xpcy1XaXRoaW4tR2liYnMgYWxnb3JpdGhtIGluICJFeGFtcGxlcyBvZiBBZGFwdGl2ZSBNQ01DIgogICAgICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpLgogICAgICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggYSBzaW5nbGUgcGFyYW1ldGVyIGRlZmluaXRpb24uCiAgICAgICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy4KICAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIAogICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuCiAgICAgICAqIEBwYXJhbSBnZW5lcmF0ZV9wcm9wb3NhbCAtIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGEgcHJvcG9zYWwgKGFzIGEgbnVtYmVyKQogICAgICAgKiB3aXRoIHNpZ25hdHVyZSBmdW5jdGlvbihwYXJhbV9zdGF0ZSwgbG9nX3NjYWxlKSB3aGVyZSBwYXJhbV9zdGF0ZSBpcyBhCiAgICAgICAqIG51bWJlciBhbmQgbG9nX3NjYWxlIGRlZmluZXMgdGhlIHNjYWxlIG9mIHRoZSBwcm9wb3NhbCBzb21laG93LgogICAgICAqLwoKCiAgICAgIHZhciBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBnZW5lcmF0ZV9wcm9wb3NhbCkgewogICAgICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7CiAgICAgICAgdmFyIHBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpOwoKICAgICAgICBpZiAocGFyYW1fbmFtZXMubGVuZ3RoICE9IDEpIHsKICAgICAgICAgIHRocm93ICJPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciBjYW4gb25seSBoYW5kbGUgb25lIHBhcmFtZXRlci4iOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07CiAgICAgICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTsKCiAgICAgICAgaWYgKCFhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHsKICAgICAgICAgIHRocm93ICJPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciBjYW4gb25seSBoYW5kbGUgb25lIG9uZS1kaW1lbnNpb25hbCBwYXJhbWV0ZXIuIjsKICAgICAgICB9CgogICAgICAgIHRoaXMubG93ZXIgPSBwYXJhbS5sb3dlcjsKICAgICAgICB0aGlzLnVwcGVyID0gcGFyYW0udXBwZXI7CiAgICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSA9IGdldF9vcHRpb24oInByb3BfbG9nX3NjYWxlIiwgb3B0aW9ucywgMCk7CiAgICAgICAgdGhpcy5iYXRjaF9zaXplID0gZ2V0X29wdGlvbigiYmF0Y2hfc2l6ZSIsIG9wdGlvbnMsIDUwKTsKICAgICAgICB0aGlzLm1heF9hZGFwdGF0aW9uID0gZ2V0X29wdGlvbigibWF4X2FkYXB0YXRpb24iLCBvcHRpb25zLCAwLjMzKTsKICAgICAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiA9IGdldF9vcHRpb24oImluaXRpYWxfYWRhcHRhdGlvbiIsIG9wdGlvbnMsIDEuMCk7CiAgICAgICAgdGhpcy50YXJnZXRfYWNjZXB0X3JhdGUgPSBnZXRfb3B0aW9uKCJ0YXJnZXRfYWNjZXB0X3JhdGUiLCBvcHRpb25zLCAwLjQ0KTsKICAgICAgICB0aGlzLmlzX2FkYXB0aW5nID0gZ2V0X29wdGlvbigiaXNfYWRhcHRpbmciLCBvcHRpb25zLCB0cnVlKTsKICAgICAgICB0aGlzLmdlbmVyYXRlX3Byb3Bvc2FsID0gZ2VuZXJhdGVfcHJvcG9zYWw7CiAgICAgICAgdGhpcy5hY2NlcHRhbmNlX2NvdW50ID0gMDsKICAgICAgICB0aGlzLmJhdGNoX2NvdW50ID0gMDsKICAgICAgICB0aGlzLml0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb24gPSAwOwogICAgICB9OwoKICAgICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyOwoKICAgICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHBhcmFtX3N0YXRlID0gdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdOwogICAgICAgIHZhciBwYXJhbV9wcm9wb3NhbCA9IHRoaXMuZ2VuZXJhdGVfcHJvcG9zYWwocGFyYW1fc3RhdGUsIHRoaXMucHJvcF9sb2dfc2NhbGUpOwoKICAgICAgICBpZiAocGFyYW1fcHJvcG9zYWwgPCB0aGlzLmxvd2VyIHx8IHBhcmFtX3Byb3Bvc2FsID4gdGhpcy51cHBlcikgOyBlbHNlIHsKICAgICAgICAgIC8vIG1ha2UgYSBNZXRyb3BvbGlzIHN0ZXAKICAgICAgICAgIHZhciBjdXJyX2xvZ19kZW5zID0gdGhpcy5sb2dfcG9zdCgpOwogICAgICAgICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gcGFyYW1fcHJvcG9zYWw7CiAgICAgICAgICB2YXIgcHJvcF9sb2dfZGVucyA9IHRoaXMubG9nX3Bvc3QoKTsKICAgICAgICAgIHZhciBhY2NlcHRfcHJvYiA9IE1hdGguZXhwKHByb3BfbG9nX2RlbnMgLSBjdXJyX2xvZ19kZW5zKTsKCiAgICAgICAgICBpZiAoYWNjZXB0X3Byb2IgPiBNYXRoLnJhbmRvbSgpKSB7CiAgICAgICAgICAgIC8vIFdlIGRvIG5vdGhpbmcgYXMgdGhlIHN0YXRlIG9mIHBhcmFtIGhhcyBhbHJlYWR5IGJlZW4gY2hhbmdlZCB0byB0aGUgcHJvcG9zYWwKICAgICAgICAgICAgaWYgKHRoaXMuaXNfYWRhcHRpbmcpIHRoaXMuYWNjZXB0YW5jZV9jb3VudCsrOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gcmV2ZXJ0IHN0YXRlIGJhY2sgdG8gdGhlIG9sZCBzdGF0ZSBvZiBwYXJhbQogICAgICAgICAgICB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0gPSBwYXJhbV9zdGF0ZTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmlzX2FkYXB0aW5nKSB7CiAgICAgICAgICB0aGlzLml0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb24rKzsKCiAgICAgICAgICBpZiAodGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uID49IHRoaXMuYmF0Y2hfc2l6ZSkgewogICAgICAgICAgICAvLyB0aGVuIGFkYXB0CiAgICAgICAgICAgIHRoaXMuYmF0Y2hfY291bnQrKzsKICAgICAgICAgICAgdmFyIGxvZ19zZF9hZGp1c3RtZW50ID0gTWF0aC5taW4odGhpcy5tYXhfYWRhcHRhdGlvbiwgdGhpcy5pbml0aWFsX2FkYXB0YXRpb24gLyBNYXRoLnNxcnQodGhpcy5iYXRjaF9jb3VudCkpOwoKICAgICAgICAgICAgaWYgKHRoaXMuYWNjZXB0YW5jZV9jb3VudCAvIHRoaXMuYmF0Y2hfc2l6ZSA+IHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlKSB7CiAgICAgICAgICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSArPSBsb2dfc2RfYWRqdXN0bWVudDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnByb3BfbG9nX3NjYWxlIC09IGxvZ19zZF9hZGp1c3RtZW50OwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLmFjY2VwdGFuY2VfY291bnQgPSAwOwogICAgICAgICAgICB0aGlzLml0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb24gPSAwOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXTsKICAgICAgfTsKCiAgICAgIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuaXNfYWRhcHRpbmcgPSB0cnVlOwogICAgICB9OwoKICAgICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLnN0b3BfYWRhcHRhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLmlzX2FkYXB0aW5nID0gZmFsc2U7CiAgICAgIH07CgogICAgICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgcHJvcF9sb2dfc2NhbGU6IHRoaXMucHJvcF9sb2dfc2NhbGUsCiAgICAgICAgICBpc19hZGFwdGluZzogdGhpcy5pc19hZGFwdGluZywKICAgICAgICAgIGFjY2VwdGFuY2VfY291bnQ6IHRoaXMuYWNjZXB0YW5jZV9jb3VudCwKICAgICAgICAgIGl0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb246IHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbiwKICAgICAgICAgIGJhdGNoX2NvdW50OiB0aGlzLmJhdGNoX2NvdW50CiAgICAgICAgfTsKICAgICAgfTsKICAgICAgLyoqCiAgICAgICAqIEZ1bmN0aW9uIHJldHVybmluZyBhIE5vcm1hbCBwcm9wb3NhbC4KICAgICAgICovCgoKICAgICAgdmFyIG5vcm1hbF9wcm9wb3NhbCA9IGZ1bmN0aW9uIG5vcm1hbF9wcm9wb3NhbChwYXJhbV9zdGF0ZSwgcHJvcF9sb2dfc2NhbGUpIHsKICAgICAgICByZXR1cm4gcm5vcm0ocGFyYW1fc3RhdGUsIE1hdGguZXhwKHByb3BfbG9nX3NjYWxlKSk7CiAgICAgIH07CiAgICAgIC8qKgogICAgICAgKiBAY2xhc3MKICAgICAgICogQGF1Z21lbnRzIHtPbmVkaW1NZXRyb3BvbGlzU3RlcHBlcn0KICAgICAgICogQSAic3ViY2xhc3MiIG9mIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBjb250aW5vdXMgTm9ybWFsIHByb3Bvc2Fscy4KICAgICAgICovCgoKICAgICAgdmFyIFJlYWxNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uIFJlYWxNZXRyb3BvbGlzU3RlcHBlcihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIG5vcm1hbF9wcm9wb3NhbCk7CiAgICAgIH07CgogICAgICBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUpOwogICAgICBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmVhbE1ldHJvcG9saXNTdGVwcGVyOwogICAgICAvKioKICAgICAgICogRnVuY3Rpb24gcmV0dXJuaW5nIGEgZGlzY3JldGl6ZWQgTm9ybWFsIHByb3Bvc2FsLgogICAgICAgKi8KCiAgICAgIHZhciBkaXNjcmV0ZV9ub3JtYWxfcHJvcG9zYWwgPSBmdW5jdGlvbiBkaXNjcmV0ZV9ub3JtYWxfcHJvcG9zYWwocGFyYW1fc3RhdGUsIHByb3BfbG9nX3NjYWxlKSB7CiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQocm5vcm0ocGFyYW1fc3RhdGUsIE1hdGguZXhwKHByb3BfbG9nX3NjYWxlKSkpOwogICAgICB9OwogICAgICAvKioKICAgICAgKiBAY2xhc3MKICAgICAgKiBAYXVnbWVudHMge09uZWRpbU1ldHJvcG9saXNTdGVwcGVyfQogICAgICAqIEEgInN1YmNsYXNzIiBvZiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciBtYWtpbmcgZGlzY3JldGl6ZWQgTm9ybWFsIHByb3Bvc2Fscy4KICAgICAgKi8KCgogICAgICB2YXIgSW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiBJbnRNZXRyb3BvbGlzU3RlcHBlcihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIGRpc2NyZXRlX25vcm1hbF9wcm9wb3NhbCk7CiAgICAgIH07CgogICAgICBJbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIEludE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEludE1ldHJvcG9saXNTdGVwcGVyOwogICAgICAvKioKICAgICAgICogQGNsYXNzCiAgICAgICAqIEBpbXBsZW1lbnRzIHtTdGVwcGVyfQogICAgICAgKiBDb25zdHJ1Y3RvciBmb3IgYW4gb2JqZWN0IHRoYXQgaW1wbGVtZW50cyB0aGUgbWV0cm9wb2xpcyBzdGVwIGluCiAgICAgICAqIHRoZSBBZGFwdGl2ZSBNZXRyb3BvbGlzLVdpdGhpbi1HaWJicyBhbGdvcml0aG0gaW4gIkV4YW1wbGVzIG9mIEFkYXB0aXZlIE1DTUMiCiAgICAgICAqIGJ5IFJvYmVydHMgYW5kIFJvc2VudGhhbCAoMjAwOCkgZm9yIHBvc3NpYmx5IG11bHRpZGltZW5zaW9uYWwgYXJyYXlzLiBUaGF0CiAgICAgICAqIGlzLCBpbnN0ZWFkIG9mIGp1c3QgdGFraW5nIGEgc3RlcCBmb3IgYSBvbmUtZGltZW5zaW9uYWwgcGFyYW1ldGVyIGxpa2UgCiAgICAgICAqIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLCB0aGlzIFN0ZXBwZXIgaXMgcmVzcG9uc2libGUgZm9yIHRha2luZyBzdGVwcyAKICAgICAgICogZm9yIGEgbXVsdGlkaW1lbnNpb25hbCBhcnJheS4gSXQncyBzdGlsbCBwcmV0dHkgZHVtYiBhbmQganVzdCB0YWtlcwogICAgICAgKiBvbmUtZGltZW5zaW9uYWwgc3RlcHMgZm9yIGVhY2ggcGFyYW1ldGVyIGNvbXBvbmVudCwgdGhvdWdoLgogICAgICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggYSBzaW5nbGUgcGFyYW1ldGVyIGRlZmluaXRpb24gZm9yIGEgCiAgICAgICAqICAgbXVsdGlkaW1lbnNpb25hbCBwYXJhbWV0ZXIuCiAgICAgICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy4KICAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIAogICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuCiAgICAgICAqIEBwYXJhbSBTdWJTdGVwcGVyIC0gYSBjb25zdHJ1Y3RvciBmb3IgdGhlIHR5cGUgb2Ygb25lIGRpbWVuc2lvbmFsIFN0ZXBwZXIgdG8gYXBwbHkgb24KICAgICAgICogICBhbGwgdGhlIGNvbXBvbmVudHMgb2YgdGhlIG11bHRpZGltZW5zaW9uYWwgcGFyYW1ldGVyLgogICAgICAqLwoKICAgICAgdmFyIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBTdWJTdGVwcGVyKSB7CiAgICAgICAgU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KTsKICAgICAgICB2YXIgcGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7CgogICAgICAgIGlmIChwYXJhbV9uYW1lcy5sZW5ndGggIT0gMSkgewogICAgICAgICAgdGhyb3cgIk11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgY2FuJ3QgaGFuZGxlIG1vcmUgdGhhbiBvbmUgcGFyYW1ldGVyLiI7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnBhcmFtX25hbWUgPSBwYXJhbV9uYW1lc1swXTsKICAgICAgICB2YXIgcGFyYW0gPSB0aGlzLnBhcmFtc1t0aGlzLnBhcmFtX25hbWVdOwogICAgICAgIHRoaXMubG93ZXIgPSBwYXJhbS5sb3dlcjsKICAgICAgICB0aGlzLnVwcGVyID0gcGFyYW0udXBwZXI7CiAgICAgICAgdGhpcy5kaW0gPSBwYXJhbS5kaW07CiAgICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSA9IGdldF9tdWx0aWRpbV9vcHRpb24oInByb3BfbG9nX3NjYWxlIiwgb3B0aW9ucywgdGhpcy5kaW0sIDApOwogICAgICAgIHRoaXMuYmF0Y2hfc2l6ZSA9IGdldF9tdWx0aWRpbV9vcHRpb24oImJhdGNoX3NpemUiLCBvcHRpb25zLCB0aGlzLmRpbSwgNTApOwogICAgICAgIHRoaXMubWF4X2FkYXB0YXRpb24gPSBnZXRfbXVsdGlkaW1fb3B0aW9uKCJtYXhfYWRhcHRhdGlvbiIsIG9wdGlvbnMsIHRoaXMuZGltLCAwLjMzKTsKICAgICAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiA9IGdldF9tdWx0aWRpbV9vcHRpb24oImluaXRpYWxfYWRhcHRhdGlvbiIsIG9wdGlvbnMsIHRoaXMuZGltLCAxLjApOwogICAgICAgIHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlID0gZ2V0X211bHRpZGltX29wdGlvbigidGFyZ2V0X2FjY2VwdF9yYXRlIiwgb3B0aW9ucywgdGhpcy5kaW0sIDAuNDQpOwogICAgICAgIHRoaXMuaXNfYWRhcHRpbmcgPSBnZXRfbXVsdGlkaW1fb3B0aW9uKCJpc19hZGFwdGluZyIsIG9wdGlvbnMsIHRoaXMuZGltLCB0cnVlKTsgLy8gVGhpcyBoYWNrIGJlbG93IGlzIGEgcmVjdXJzaXZlIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBhcnJheSBvZiAKICAgICAgICAvLyBvbmUgZGltZW5zaW9uYWwgc3RlcHBlcnMgYWNjb3JkaW5nIHRvIGRpbS4KCiAgICAgICAgdmFyIGNyZWF0ZV9zdWJzdGVwcGVycyA9IGZ1bmN0aW9uIGNyZWF0ZV9zdWJzdGVwcGVycyhkaW0sIHN1YnN0YXRlLCBsb2dfcG9zdCwgcHJvcF9sb2dfc2NhbGUsIGJhdGNoX3NpemUsIG1heF9hZGFwdGF0aW9uLCBpbml0aWFsX2FkYXB0YXRpb24sIHRhcmdldF9hY2NlcHRfcmF0ZSwgaXNfYWRhcHRpbmcpIHsKICAgICAgICAgIHZhciBzdWJzdGVwcGVycyA9IFtdOwoKICAgICAgICAgIGlmIChkaW0ubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGltWzBdOyBpKyspIHsKICAgICAgICAgICAgICB2YXIgc3Vib3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgIHByb3BfbG9nX3NjYWxlOiBwcm9wX2xvZ19zY2FsZVtpXSwKICAgICAgICAgICAgICAgIGJhdGNoX3NpemU6IGJhdGNoX3NpemVbaV0sCiAgICAgICAgICAgICAgICBtYXhfYWRhcHRhdGlvbjogbWF4X2FkYXB0YXRpb25baV0sCiAgICAgICAgICAgICAgICBpbml0aWFsX2FkYXB0YXRpb246IGluaXRpYWxfYWRhcHRhdGlvbltpXSwKICAgICAgICAgICAgICAgIHRhcmdldF9hY2NlcHRfcmF0ZTogdGFyZ2V0X2FjY2VwdF9yYXRlW2ldLAogICAgICAgICAgICAgICAgaXNfYWRhcHRpbmc6IGlzX2FkYXB0aW5nW2ldCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB2YXIgc3VicGFyYW0gPSB7fTsKICAgICAgICAgICAgICBzdWJwYXJhbVtpXSA9IGRlZXBfY2xvbmUocGFyYW0pOwogICAgICAgICAgICAgIHN1YnBhcmFtW2ldLmRpbSA9IFsxXTsgLy8gQXMgdGhpcyBzaG91bGQgbm93IGJlIGEgb25lLWRpbSBwYXJhbWV0ZXIKCiAgICAgICAgICAgICAgZGVsZXRlIHN1YnBhcmFtW2ldLmluaXQ7IC8vIEFzIGl0IHNvdWxkIG5vdCBiZSBuZWVkZWQKCiAgICAgICAgICAgICAgc3Vic3RlcHBlcnNbaV0gPSBuZXcgU3ViU3RlcHBlcihzdWJwYXJhbSwgc3Vic3RhdGUsIGxvZ19wb3N0LCBzdWJvcHRpb25zKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaW1bMF07IGkrKykgewogICAgICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gY3JlYXRlX3N1YnN0ZXBwZXJzKGRpbS5zbGljZSgxKSwgc3Vic3RhdGVbaV0sIGxvZ19wb3N0LCBwcm9wX2xvZ19zY2FsZVtpXSwgYmF0Y2hfc2l6ZVtpXSwgbWF4X2FkYXB0YXRpb25baV0sIGluaXRpYWxfYWRhcHRhdGlvbltpXSwgdGFyZ2V0X2FjY2VwdF9yYXRlW2ldLCBpc19hZGFwdGluZ1tpXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gc3Vic3RlcHBlcnM7CiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5zdWJzdGVwcGVycyA9IGNyZWF0ZV9zdWJzdGVwcGVycyh0aGlzLmRpbSwgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdLCB0aGlzLmxvZ19wb3N0LCB0aGlzLnByb3BfbG9nX3NjYWxlLCB0aGlzLmJhdGNoX3NpemUsIHRoaXMubWF4X2FkYXB0YXRpb24sIHRoaXMuaW5pdGlhbF9hZGFwdGF0aW9uLCB0aGlzLnRhcmdldF9hY2NlcHRfcmF0ZSwgdGhpcy5pc19hZGFwdGluZyk7CiAgICAgIH07CgogICAgICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RlcHBlci5wcm90b3R5cGUpOwogICAgICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7CgogICAgICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIEdvIHRocm91Z2ggdGhlIHN1YnN0ZXBwZXJzIGluIGEgcmFuZG9tIG9yZGVyIGFuZCBjYWxsIHN0ZXAoKSBvbiB0aGVtLgogICAgICAgIHJldHVybiBuZXN0ZWRfYXJyYXlfcmFuZG9tX2FwcGx5KHRoaXMuc3Vic3RlcHBlcnMsIGZ1bmN0aW9uIChzdWJzdGVwcGVyKSB7CiAgICAgICAgICByZXR1cm4gc3Vic3RlcHBlci5zdGVwKCk7CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIG5lc3RlZF9hcnJheV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbiAoc3Vic3RlcHBlcikgewogICAgICAgICAgc3Vic3RlcHBlci5zdGFydF9hZGFwdGF0aW9uKCk7CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgbmVzdGVkX2FycmF5X2FwcGx5KHRoaXMuc3Vic3RlcHBlcnMsIGZ1bmN0aW9uIChzdWJzdGVwcGVyKSB7CiAgICAgICAgICBzdWJzdGVwcGVyLnN0b3BfYWRhcHRhdGlvbigpOwogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gbmVzdGVkX2FycmF5X2FwcGx5KHRoaXMuc3Vic3RlcHBlcnMsIGZ1bmN0aW9uIChzdWJzdGVwcGVyKSB7CiAgICAgICAgICByZXR1cm4gc3Vic3RlcHBlci5pbmZvKCk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIC8qKgogICAgICAgKiBAY2xhc3MKICAgICAgICogQGF1Z21lbnRzIHtNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyfQogICAgICAgKiBBICJzdWJjbGFzcyIgb2YgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciBtYWtpbmcgY29udGlub3VzIE5vcm1hbCBwcm9wb3NhbHMuCiAgICAgICAqLwoKCiAgICAgIHZhciBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uIE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7CiAgICAgICAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIpOwogICAgICB9OwoKICAgICAgTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOwogICAgICAvKioKICAgICAgICogQGNsYXNzCiAgICAgICAqIEBhdWdtZW50cyB7TXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcn0KICAgICAgICogQSAic3ViY2xhc3MiIG9mIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgbWFraW5nIGRpc2NyZXRpemVkIE5vcm1hbCBwcm9wb3NhbHMuCiAgICAgICAqLwoKICAgICAgdmFyIE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7CiAgICAgICAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBJbnRNZXRyb3BvbGlzU3RlcHBlcik7CiAgICAgIH07CgogICAgICBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUpOwogICAgICBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7CiAgICAgIC8qKgogICAgICAgKiBAY2xhc3MKICAgICAgICogQGltcGxlbWVudHMge1N0ZXBwZXJ9CiAgICAgICAqIENvbnN0cnVjdG9yIGZvciBhbiBvYmplY3QgdGhhdCBpbXBsZW1lbnRzIGEgc3RlcCBmb3IgYSBiaW5hcnkgcGFyYW1ldGVyLgogICAgICAgKiBUaGlzIGlzIGRvbmUgYnkgZXZhbHVhdGluZyB0aGUgbG9nIHBvc3RlcmlvciBmb3IgYm90aCBzdGF0ZXMgb2YgdGhlCiAgICAgICAqIHBhcmFtZXRlciBhbmQgdGhlbiBzZWxlY3RpbmcgYSBzdGF0ZSByYW5kb21seSB3aXRoIHByb2JhYmlsaXR5IHJlbGF0aXZlIAogICAgICAgKiB0byB0aGUgcG9zdGVyaW9yIG9mIGVhY2ggc3RhdGUuCiAgICAgICAqIEBwYXJhbSBwYXJhbXMgLSBBbiBvYmplY3Qgd2l0aCBhIHNpbmdsZSBwYXJhbWV0ZXIgZGVmaW5pdGlvbi4KICAgICAgICogQHBhcmFtIHN0YXRlIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXRlIG9mIGFsbCBwYXJhbWV0ZXJzLgogICAgICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbG9nIGRlbnNpdHkgdGhhdCBkZXBlbmRzIG9uIHRoZSBzdGF0ZS4gCiAgICAgICAqIEBwYXJhbSBvcHRpb25zIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucyB0byB0aGUgc3RlcHBlci4KICAgICAgKi8KCiAgICAgIHZhciBCaW5hcnlTdGVwcGVyID0gZnVuY3Rpb24gQmluYXJ5U3RlcHBlcihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7CiAgICAgICAgdmFyIHBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpOwoKICAgICAgICBpZiAocGFyYW1fbmFtZXMubGVuZ3RoID09IDEpIHsKICAgICAgICAgIHRoaXMucGFyYW1fbmFtZSA9IHBhcmFtX25hbWVzWzBdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyAiQmluYXJ5U3RlcHBlciBjYW4ndCBoYW5kbGUgbW9yZSB0aGFuIG9uZSBwYXJhbWV0ZXIuIjsKICAgICAgICB9CiAgICAgIH07CgogICAgICBCaW5hcnlTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RlcHBlci5wcm90b3R5cGUpOwogICAgICBCaW5hcnlTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJpbmFyeVN0ZXBwZXI7CgogICAgICBCaW5hcnlTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXSA9IDA7CiAgICAgICAgdmFyIHplcm9fbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gMTsKICAgICAgICB2YXIgb25lX2xvZ19kZW5zID0gdGhpcy5sb2dfcG9zdCgpOwogICAgICAgIHZhciBtYXhfbG9nX2RlbnMgPSBNYXRoLm1heCh6ZXJvX2xvZ19kZW5zLCBvbmVfbG9nX2RlbnMpOwogICAgICAgIHplcm9fbG9nX2RlbnMgLT0gbWF4X2xvZ19kZW5zOwogICAgICAgIG9uZV9sb2dfZGVucyAtPSBtYXhfbG9nX2RlbnM7CiAgICAgICAgdmFyIHplcm9fcHJvYiA9IE1hdGguZXhwKHplcm9fbG9nX2RlbnMgLSBNYXRoLmxvZyhNYXRoLmV4cCh6ZXJvX2xvZ19kZW5zKSArIE1hdGguZXhwKG9uZV9sb2dfZGVucykpKTsKCiAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCB6ZXJvX3Byb2IpIHsKICAgICAgICAgIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXSA9IDA7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9IC8vIGVsc2Uga2VlcCB0aGUgcGFyYW0gYXQgMSAuCgoKICAgICAgICByZXR1cm4gMTsKICAgICAgfTsKICAgICAgLyoqCiAgICAgICogQGNsYXNzCiAgICAgICogQGltcGxlbWVudHMge1N0ZXBwZXJ9CiAgICAgICogSnVzdCBsaWtlIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgdGhpcyBTdGVwcGVyIHRha2VzIGEgc3RlcHMgZm9yCiAgICAgICogYSBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlciBieSB1cGRhdGluZyBlYWNoIGNvbXBvbmVudCBpbiB0dXJuLiBUaGUgZGlmZmVyZW5jZQogICAgICAqIGlzIHRoYXQgdGhpcyBzdGVwcGVyIHdvcmtzIG9uIGJpbmFyeSBwYXJhbWV0ZXJzLgogICAgICAqIEBwYXJhbSBwYXJhbXMgLSBBbiBvYmplY3Qgd2l0aCBhIHNpbmdsZSBwYXJhbWV0ZXIgZGVmaW5pdGlvbiBmb3IgYSAKICAgICAgKiAgIG11bHRpZGltZW5zaW9uYWwgcGFyYW1ldGVyLgogICAgICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy4KICAgICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbG9nIGRlbnNpdHkgdGhhdCBkZXBlbmRzIG9uIHRoZSBzdGF0ZS4gCiAgICAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLgogICAgICAqLwoKCiAgICAgIHZhciBCaW5hcnlDb21wb25lbnRTdGVwcGVyID0gZnVuY3Rpb24gQmluYXJ5Q29tcG9uZW50U3RlcHBlcihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7CiAgICAgICAgdmFyIHBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpOwoKICAgICAgICBpZiAocGFyYW1fbmFtZXMubGVuZ3RoID09IDEpIHsKICAgICAgICAgIHRoaXMucGFyYW1fbmFtZSA9IHBhcmFtX25hbWVzWzBdOwogICAgICAgICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTsKICAgICAgICAgIHRoaXMuZGltID0gcGFyYW0uZGltOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyAiQmluYXJ5Q29tcG9uZW50U3RlcHBlciBjYW4ndCBoYW5kbGUgbW9yZSB0aGFuIG9uZSBwYXJhbWV0ZXIuIjsKICAgICAgICB9CgogICAgICAgIHZhciBjcmVhdGVfc3Vic3RlcHBlcnMgPSBmdW5jdGlvbiBjcmVhdGVfc3Vic3RlcHBlcnMoZGltLCBzdWJzdGF0ZSwgbG9nX3Bvc3QpIHsKICAgICAgICAgIHZhciBzdWJzdGVwcGVycyA9IFtdOwogICAgICAgICAgdmFyIGk7CgogICAgICAgICAgaWYgKGRpbS5sZW5ndGggPT09IDEpIHsKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgdmFyIHN1YnBhcmFtcyA9IHt9OwogICAgICAgICAgICAgIHN1YnBhcmFtc1tpXSA9IHBhcmFtOwogICAgICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gbmV3IEJpbmFyeVN0ZXBwZXIoc3VicGFyYW1zLCBzdWJzdGF0ZSwgbG9nX3Bvc3QpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZGltWzBdOyBpKyspIHsKICAgICAgICAgICAgICBzdWJzdGVwcGVyc1tpXSA9IGNyZWF0ZV9zdWJzdGVwcGVycyhkaW0uc2xpY2UoMSksIHN1YnN0YXRlW2ldLCBsb2dfcG9zdCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gc3Vic3RlcHBlcnM7CiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5zdWJzdGVwcGVycyA9IGNyZWF0ZV9zdWJzdGVwcGVycyh0aGlzLmRpbSwgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdLCB0aGlzLmxvZ19wb3N0KTsKICAgICAgfTsKCiAgICAgIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQmluYXJ5Q29tcG9uZW50U3RlcHBlcjsKCiAgICAgIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gR28gdGhyb3VnaCB0aGUgc3Vic3RlcHBlcnMgaW4gYSByYW5kb20gb3JkZXIgYW5kIGNhbGwgc3RlcCgpIG9uIHRoZW0uCiAgICAgICAgcmV0dXJuIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24gKHN1YnN0ZXBwZXIpIHsKICAgICAgICAgIHJldHVybiBzdWJzdGVwcGVyLnN0ZXAoKTsKICAgICAgICB9KTsKICAgICAgfTsKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn0KICAgICAgICogVGhpcyBzdGVwcGVyIGNhbiBiZSByZXNwb25zaWJsZSBmb3IgdGFraW5nIGEgc3RlcCBmb3Igb25lIG9yIG1vcmUgcGFyYW1ldGVycy4KICAgICAgICogRm9yIHJlYWwgYW5kIGludCBwYXJhbWV0ZXJzIGl0IHRha2VzIE1ldHJvcG9saXMgd2l0aGluIEdpYmJzIHN0ZXBzLCBhbmQgZm9yIAogICAgICAgKiBiaW5hcnkgcGFyYW1ldGVycyBpdCBkb2VzIGV2YWx1YXRlcyB0aGUgcG9zdGVyaW9yIGZvciBib3RoIHBhcmFtdGVyIHZhbHVlcyBhbmQKICAgICAgICogcmFuZG9tbHkgY2hhbmdlcyB0byBhIGNlcnRhaW4gdmFsdWUgcHJvcG9ydGlvbmFsbHkgdG8gdGhhdCB2YWx1ZSdzIHBvc3RlcmlvcgogICAgICAgKiAodGhpcyBpcyBhbHNvIGRvbmUgZm9yIGVhY2ggcGFyYW1ldGVyLCBzbyBhbHNvIGEgKiB3aXRoaW4gR2liYnMgYXBwcm9hY2gpLgogICAgICAgKiBUaGlzIHN0ZXBwZXIgaXMgYWxzbyBhZGFwdGl2ZSBhbmQgY2FuIGJlIGVmZmljaWVudCB3aGVuIHRoZSBudW1iZXIgb2YgcGFyYW1ldGVycwogICAgICAgKiBhcmUgbm90IHRvbyBoaWdoIGFuZCB0aGUgY29ycmVsYXRpb25zIGJldHdlZW4gcGFyYW1ldGVycyBhcmUgbG93LgogICAgICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggYSBvbmUgb3IgbW9yZSBwYXJhbWV0ZXIgZGVmaW5pdGlvbnMKICAgICAgICogQHBhcmFtIHN0YXRlIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXRlIG9mIGFsbCBwYXJhbWV0ZXJzLgogICAgICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbG9nIGRlbnNpdHkgdGhhdCBkZXBlbmRzIG9uIHRoZSBzdGF0ZS4gCiAgICAgICAqIEBwYXJhbSBvcHRpb25zIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucyB0byB0aGUgc3RlcHBlci4KICAgICAgKi8KCgogICAgICB2YXIgQW13Z1N0ZXBwZXIgPSBmdW5jdGlvbiBBbXdnU3RlcHBlcihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7CiAgICAgICAgdGhpcy5wYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTsKICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzID0gW107CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXJhbV9uYW1lcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIHBhcmFtID0gcGFyYW1zW3RoaXMucGFyYW1fbmFtZXNbaV1dOwogICAgICAgICAgdmFyIFNlbGVjdFN0ZXBwZXI7CgogICAgICAgICAgc3dpdGNoIChwYXJhbS50eXBlKSB7CiAgICAgICAgICAgIGNhc2UgInJlYWwiOgogICAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHsKICAgICAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBSZWFsTWV0cm9wb2xpc1N0ZXBwZXI7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAiaW50IjoKICAgICAgICAgICAgICBpZiAoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7CiAgICAgICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gSW50TWV0cm9wb2xpc1N0ZXBwZXI7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlICJiaW5hcnkiOgogICAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHsKICAgICAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBCaW5hcnlTdGVwcGVyOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gQmluYXJ5Q29tcG9uZW50U3RlcHBlcjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICB0aHJvdyAiQW13Z1N0ZXBwZXIgY2FuJ3QgaGFuZGxlIHBhcmFtZXRlciAiICsgdGhpcy5wYXJhbV9uYW1lc1tpXSArICIgd2l0aCB0eXBlICIgKyBwYXJhbS50eXBlOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBwYXJhbV9vYmplY3Rfd3JhcCA9IHt9OwogICAgICAgICAgcGFyYW1fb2JqZWN0X3dyYXBbdGhpcy5wYXJhbV9uYW1lc1tpXV0gPSBwYXJhbTsKICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgICAgICAgdmFyIHBhcmFtX29wdGlvbnMgPSBvcHRpb25zLnBhcmFtcyAmJiBvcHRpb25zLnBhcmFtc1t0aGlzLnBhcmFtX25hbWVzW2ldXSB8fCB7fTsKICAgICAgICAgIHBhcmFtX29wdGlvbnMucHJvcF9sb2dfc2NhbGUgPSBwYXJhbV9vcHRpb25zLnByb3BfbG9nX3NjYWxlIHx8IG9wdGlvbnMucHJvcF9sb2dfc2NhbGU7CiAgICAgICAgICBwYXJhbV9vcHRpb25zLmJhdGNoX3NpemUgPSBwYXJhbV9vcHRpb25zLmJhdGNoX3NpemUgfHwgb3B0aW9ucy5iYXRjaF9zaXplOwogICAgICAgICAgcGFyYW1fb3B0aW9ucy5tYXhfYWRhcHRhdGlvbiA9IHBhcmFtX29wdGlvbnMubWF4X2FkYXB0YXRpb24gfHwgb3B0aW9ucy5tYXhfYWRhcHRhdGlvbjsKICAgICAgICAgIHBhcmFtX29wdGlvbnMuaW5pdGlhbF9hZGFwdGF0aW9uID0gcGFyYW1fb3B0aW9ucy5pbml0aWFsX2FkYXB0YXRpb24gfHwgb3B0aW9ucy5pbml0aWFsX2FkYXB0YXRpb247CiAgICAgICAgICBwYXJhbV9vcHRpb25zLnRhcmdldF9hY2NlcHRfcmF0ZSA9IHBhcmFtX29wdGlvbnMudGFyZ2V0X2FjY2VwdF9yYXRlIHx8IG9wdGlvbnMudGFyZ2V0X2FjY2VwdF9yYXRlOwogICAgICAgICAgcGFyYW1fb3B0aW9ucy5pc19hZGFwdGluZyA9IHBhcmFtX29wdGlvbnMuaXNfYWRhcHRpbmcgfHwgb3B0aW9ucy5pc19hZGFwdGluZzsKICAgICAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0gPSBuZXcgU2VsZWN0U3RlcHBlcihwYXJhbV9vYmplY3Rfd3JhcCwgc3RhdGUsIGxvZ19wb3N0LCBwYXJhbV9vcHRpb25zKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICBBbXdnU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0ZXBwZXIucHJvdG90eXBlKTsKICAgICAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQW13Z1N0ZXBwZXI7CgogICAgICBBbXdnU3RlcHBlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBzaHVmZmxlX2FycmF5KHRoaXMuc3Vic3RlcHBlcnMpOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic3RlcHBlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0uc3RlcCgpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGU7CiAgICAgIH07CgogICAgICBBbXdnU3RlcHBlci5wcm90b3R5cGUuc3RhcnRfYWRhcHRhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic3RlcHBlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0uc3RhcnRfYWRhcHRhdGlvbigpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIEFtd2dTdGVwcGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0b3BfYWRhcHRhdGlvbigpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIEFtd2dTdGVwcGVyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBpbmZvID0ge307CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdWJzdGVwcGVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgaW5mb1t0aGlzLnBhcmFtX25hbWVzW2ldXSA9IHRoaXMuc3Vic3RlcHBlcnNbaV0uaW5mbygpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGluZm87CiAgICAgIH07IC8vLy8vLy8vLy8vIFNhbXBsZXIgRnVuY3Rpb25zIC8vLy8vLy8vLy8KICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwoKICAgICAgLyoqCiAgICAgICogQGludGVyZmFjZQogICAgICAqIFdoaWxlIHlvdSBjb3VsZCBmaXQgYSBtb2RlbCBieSBwYXN0aW5nIHRvZ2V0aGVyIFN0ZXBwZXJzLCBhCiAgICAgIC8vIFNhbXBsZXIgaXMgaGVyZSBpcyBhIGNvbnZlbmllbmNlIGNsYXNzIHdoZXJlIGFuIGluc3RhbmNlIG9mIFNhbXBsZXIKICAgICAgLy8gc2V0cyB1cCB0aGUgU3RlcHBlcnMsIGNoZWNrcyB0aGUgcGFyYW1ldGVyIGRlZmluaXRpb24sCiAgICAgIC8vIGFuZCBtYW5hZ2VzIHRoZSBzYW1wbGluZy4gVGhpcyBoZXJlIGRlZmluZXMgdGhlIFNhbXBsZXIgImludGVyZmFjZSIuCiAgICAgICogQGludGVyZmFjZQogICAgICAqIEBwYXJhbSBwYXJhbXMgLSBBbiBvYmplY3Qgd2l0aCBwYXJhbWV0ZXIgZGVmaW5pdGlvbnMsIGZvciBleGFtcGxlOgogICAgICAqICAgeyJtdSI6IHsidHlwZSI6ICJyZWFsIn0sICJzaWdtYSI6IHsidHlwZSI6ICJyZWFsIiwgImxvd2VyIiA9IDB9fQogICAgICAqICAgVGhlIHBhcmFtZXRlciBkZWZpbml0aW9ucyBkb2Vzbid0IGhhdmUgdG8gYmUgImNvbXBsZXRlIiBhbmQgcHJvcGVydGllcwogICAgICAqICAgbGVmdCBvdXQgKGxpa2UgbG93ZXIgYW5kIHVwcGVyKSB3aWxsIGJlIGZpbGxlZCBpbiBieSBkZWZhdWx0cy4KICAgICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uIHdpdGggc2lnbmF0dXJlIGZ1bmN0aW9uKHN0YXRlLCBkYXRhKS4gSGVyZQogICAgICAqICAgc3RhdGUgd2lsbCBiZSBhbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBzdGF0ZSB3aXRoIGVhY2ggcGFyYW1ldGVyIGFzIGEgCiAgICAgICogICBrZXkgYW5kIHRoZSBwYXJhbWV0ZXIgdmFsdWVzIGFzIG51bWJlcnMgb3IgYXJyYXlzLiBGb3IgZXhhbXBsZToKICAgICAgKiAgIHsibXUiOiAzLCAic2lnbWEiOiAxLjV9LiBUaGUgZGF0YSBhcmd1bWVudCB3aWxsIGJlIHRoZSBzYW1lIG9iamVjdCBhcyAKICAgICAgKiAgIHRoZSBkYXRhIGFyZ3VtZW50IGdpdmVuIGJlbG93LgogICAgICAqIEBwYXJhbSBkYXRhIC0gYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIGxvZ19wb3N0IGZ1bmN0aW9uCiAgICAgICogICB3aGVuIHNhbXBsaW5nLgogICAgICAqIEBwYXJhbSBvcHRpb25zIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucyB0byB0aGUgc2FtcGxlci4KICAgICAgKi8KCgogICAgICB2YXIgU2FtcGxlciA9IGZ1bmN0aW9uIFNhbXBsZXIocGFyYW1zLCBsb2dfcG9zdCwgZGF0YSwgb3B0aW9ucykgewogICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zOwogICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7CiAgICAgICAgdGhpcy5wYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTsgLy8gU2V0dGluZyBkZWZhdWx0IG9wdGlvbnMgaWYgbm90IHBhc3NlZCB0aHJvdWdoIHRoZSBvcHRpb25zIG9iamVjdAoKICAgICAgICB0aGlzLnBhcmFtX2luaXRfZnVuID0gZ2V0X29wdGlvbigicGFyYW1faW5pdF9mdW4iLCBvcHRpb25zLCBwYXJhbV9pbml0X2ZpeGVkKTsKICAgICAgICB2YXIgdGhpbm5pbmdfaW50ZXJ2YWwgPSBnZXRfb3B0aW9uKCJ0aGluIiwgb3B0aW9ucywgMSk7CiAgICAgICAgdmFyIHBhcmFtc190b19tb25pdG9yID0gZ2V0X29wdGlvbigibW9uaXRvciIsIG9wdGlvbnMsIG51bGwpOwogICAgICAgIHRoaXMudGhpbih0aGlubmluZ19pbnRlcnZhbCk7CiAgICAgICAgdGhpcy5tb25pdG9yKHBhcmFtc190b19tb25pdG9yKTsKICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zOyAvLyBDb21wbGV0aW5nIHRoZSBwYXJhbXMgYW5kIGluaXRpYWxpemluZyB0aGUgc3RhdGUuCgogICAgICAgIHRoaXMucGFyYW1zID0gY29tcGxldGVfcGFyYW1zKHRoaXMucGFyYW1zLCB0aGlzLnBhcmFtX2luaXRfZnVuKTsKICAgICAgICB2YXIgc3RhdGUgPSB7fTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmFtX25hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBzdGF0ZVt0aGlzLnBhcmFtX25hbWVzW2ldXSA9IHRoaXMucGFyYW1zW3RoaXMucGFyYW1fbmFtZXNbaV1dLmluaXQ7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmxvZ19wb3N0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGxvZ19wb3N0KHN0YXRlLCBkYXRhKTsKICAgICAgICB9OyAvLyBSdW5uaW5nIHRoZSBsb2dfcG9zdCBmdW5jdGlvbiBvbmNlIGluIGNhc2UgaXQgZnVydGhlciBtb2RpZmllcyB0aGUgc3RhdGUKICAgICAgICAvLyBmb3IgZXhhbXBsZSBhZGRpbmcgZGVyaXZlZCBxdWFudGl0aWVzLgoKCiAgICAgICAgdGhpcy5sb2dfcG9zdCgpOwogICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTsKICAgICAgICB0aGlzLnN0ZXBwZXJzID0gdGhpcy5jcmVhdGVfc3RlcHBlcl9lbnNhbWJsZSh0aGlzLnBhcmFtcywgdGhpcy5zdGF0ZSwgdGhpcy5sb2dfcG9zdCwgdGhpcy5vcHRpb25zKTsKICAgICAgfTsKICAgICAgLyoqIFNob3VsZCByZXR1cm4gYSB2ZWN0b3Igb2Ygc3RlcHBlcnMgdGhhdCB3aGVuIGNhbGxlZCAKICAgICAgICogc2hvdWxkIHRha2UgYSBzdGVwIGluIHRoZSBwYXJhbWV0ZXIgc3BhY2UuCiAgICAgICAqLwoKCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLmNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlID0gZnVuY3Rpb24gKHN0YXRlLCBsb2dfcG9zdCkgewogICAgICAgIHRocm93ICJFdmVyeSBTYW1wbGVyIG5lZWRzIHRvIGltcGxlbWVudCBjcmVhdGVfc3RlcHBlcl9lbnNhbWJsZSgpIjsKICAgICAgfTsKICAgICAgLyoqIFJldHVybnMgYW4gb2JqZWN0IHdpdGggaW5mbyBhYm91dCB0aGUgc3RhdGUgb2YgdGhlIFNhbXBsZXIuCiAgICAgICAqLwoKCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLAogICAgICAgICAgdGhpbjogdGhpcy50aGluLAogICAgICAgICAgbW9uaXRvcjogdGhpcy5tb25pdG9yLAogICAgICAgICAgc3RlcHBlcnM6IHRoaXMuc3RlcHBlcnMKICAgICAgICB9OwogICAgICB9OwogICAgICAvKiogVGFrZXMgYSBzdGVwIGluIHRoZSBwYXJhbWV0ZXIgc3BhY2UuIFJldHVybnMgdGhlIG5ldyBzcGFjZQogICAgICAgKiBidXQgYWxzbyBtb2RpZmllcyB0aGUgc3RhdGUgaW4gcGxhY2UuCiAgICAgICAqLwoKCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgc2h1ZmZsZV9hcnJheSh0aGlzLnN0ZXBwZXJzKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN0ZXBwZXJzW2ldLnN0ZXAoKTsKICAgICAgICB9CgogICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnN0YXRlKS5sZW5ndGggPiBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcykubGVuZ3RoKSB7CiAgICAgICAgICAvLyBUaGUgc3RhdGUgY29udGFpbnMgZGV2aXZlZCBxdWFudGl0aWVzIChub3Qgb25seSBwYXJhbWV0ZXJzKSBhbmQgd2UKICAgICAgICAgIC8vIG5lZWQgdG8gcnVuIHRoZSBsb2dfcG9zdCBvbmNlIG1vcmUgaW4gb3JkZXIgdG8gc2V0IHRoZSBkZXJpdmVkIHF1YW50aXRpZXMKICAgICAgICAgIC8vIGZvciB0aGUgZmluYWwgcGFyYW1ldGVyIHN0YXRlCiAgICAgICAgICB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTsKICAgICAgfTsKICAgICAgLyoqCiAgICAgICAqIFRha2VzIG5faXRlcmF0aW9ucyBzdGVwcyBpbiB0aGUgcGFyYW1ldGVyIHNwYWNlIGFuZCByZXR1cm5zIHRoZW0KICAgICAgICogYXMgYW4gb2JqZWN0IG9mIGFycmF5cyB3aXRoIG9uZSBhcnJheSBwZXIgcGFyYW1ldGVyLiBGb3IgZXhhbXBsZToKICAgICAgICoge211OiBbMSwgLTEsIDIsIDMsIC4uLl0sIHNpZ21hOiBbMSwgMiwgMiwgMSwgLi4uXX0uCiAgICAgICAqIElmIHRoaW4gaXMgPiAxIHRoZW4gbl9pdGVyYXRpb25zIC8gdGhpbiBzYW1wbGVzIGFyZSByZXR1cm5lZC4KICAgICAgICovCgoKICAgICAgU2FtcGxlci5wcm90b3R5cGUuc2FtcGxlID0gZnVuY3Rpb24gKG5faXRlcmF0aW9ucykgewogICAgICAgIC8vIEluaXRpYWxpemluZyBjdXJyX3NhbXBsZSB3aGVyZSB0aGUgc2FtcGxlIGlzIGdvaW5nIHRvIGJlIHNhdmVkCiAgICAgICAgLy8gYXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgb25lIGFycmF5IHBlciBwYXJhbWV0ZXIgdG8gYmUgbW9uaXRvcmVkLgogICAgICAgIHZhciBpLCBqLCBtb25pdG9yZWRfcGFyYW1zOwoKICAgICAgICBpZiAodGhpcy5tb25pdG9yZWRfcGFyYW1zID09PSBudWxsKSB7CiAgICAgICAgICBtb25pdG9yZWRfcGFyYW1zID0gT2JqZWN0LmtleXModGhpcy5zdGF0ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1vbml0b3JlZF9wYXJhbXMgPSB0aGlzLm1vbml0b3JlZF9wYXJhbXM7CiAgICAgICAgfQoKICAgICAgICB2YXIgY3Vycl9zYW1wbGUgPSB7fTsKCiAgICAgICAgZm9yIChqID0gMDsgaiA8IG1vbml0b3JlZF9wYXJhbXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGN1cnJfc2FtcGxlW21vbml0b3JlZF9wYXJhbXNbal1dID0gW107CiAgICAgICAgfQoKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbl9pdGVyYXRpb25zOyBpKyspIHsKICAgICAgICAgIGlmIChpICUgdGhpcy50aGlubmluZ19pbnRlcnZhbCA9PT0gMCkgewogICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbW9uaXRvcmVkX3BhcmFtcy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgIHZhciBwYXJhbSA9IG1vbml0b3JlZF9wYXJhbXNbal07CiAgICAgICAgICAgICAgY3Vycl9zYW1wbGVbcGFyYW1dLnB1c2goY2xvbmVfcGFyYW1fZHJhdyh0aGlzLnN0YXRlW3BhcmFtXSkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5zdGVwKCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gY3Vycl9zYW1wbGU7CiAgICAgIH07CiAgICAgIC8qKgogICAgICAgKiBUYWtlcyBuX2l0ZXJhdGlvbiBzdGVwcyBpbiBwYXJhbWV0ZXIgc3BhY2UgYnV0IHJldHVybnMgbm90aGluZy4KICAgICAgICovCgoKICAgICAgU2FtcGxlci5wcm90b3R5cGUuYnVybiA9IGZ1bmN0aW9uIChuX2l0ZXJhdGlvbnMpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5faXRlcmF0aW9uczsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN0ZXAoKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIC8qKgogICAgICAgKiBTZXRzIHdoYXQgcGFyYW1ldGVycyBzaG91bGQgYmUgbW9uaXRvcmVkIGFuZCByZXR1cm5lZCB3aGVuIGNhbGxpbmcKICAgICAgICogc2FtcGxlLgogICAgICAgKi8KCgogICAgICBTYW1wbGVyLnByb3RvdHlwZS5tb25pdG9yID0gZnVuY3Rpb24gKHBhcmFtc190b19tb25pdG9yKSB7CiAgICAgICAgdGhpcy5tb25pdG9yZWRfcGFyYW1zID0gcGFyYW1zX3RvX21vbml0b3I7CiAgICAgIH07CiAgICAgIC8qKgogICAgICAgKiBTZXRzIHRoZSB0aGlubmluZy4gRm9yIGV4YW1wbGUgdGhpbiA9PSAxMCBtZWFucyB0aGF0IGV2ZXJ5IDEwdGggcG9zdGVyaW9yCiAgICAgICAqIGRyYXcgd2lsbCBiZSBrZXB0LgogICAgICAgKi8KCgogICAgICBTYW1wbGVyLnByb3RvdHlwZS50aGluID0gZnVuY3Rpb24gKHRoaW5uaW5nX2ludGVydmFsKSB7CiAgICAgICAgdGhpcy50aGlubmluZ19pbnRlcnZhbCA9IHRoaW5uaW5nX2ludGVydmFsOwogICAgICB9OwogICAgICAvKioKICAgICAgICogU2V0cyBhZGFwdGF0aW9uIG9uLCBpZiBhcHBsaWNhYmxlLCBpbiBhbGwgc3RlcHBlcnMuCiAgICAgICAqLwoKCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLnN0YXJ0X2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN0ZXBwZXJzW2ldLnN0YXJ0X2FkYXB0YXRpb24oKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIC8qKgogICAgICAqIFNldHMgYWRhcHRhdGlvbiBvZmYsIGlmIGFwcGxpY2FibGUsIGluIGFsbCBzdGVwcGVycy4KICAgICAgKi8KCgogICAgICBTYW1wbGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN0ZXBwZXJzW2ldLnN0b3BfYWRhcHRhdGlvbigpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgLyoqCiAgICAgICogQGNsYXNzCiAgICAgICogQGltcGxlbWVudHMge1NhbXBsZXJ9CiAgICAgICogVGhpcyBzYW1wbGVyIHVzZXMgdGhlIEFtd2dTdGVwcGVyIGFzIHRoZSBzdGVwcGVyIGZ1bmN0aW9uIHdoaWNoIGltcGxlbWVudHMgdGhlIAogICAgICAqIEFkYXB0aXZlIE1ldHJvcG9saXMtV2l0aGluLUdpYmJzIGFsZ29yaXRobSBpbiAiRXhhbXBsZXMgb2YgQWRhcHRpdmUgTUNNQyIKICAgICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpLiBBbiBhZGl0aW9uIGlzIHRoYXQgaXQgaGFuZGxlcyBpbnQgcGFyYW1ldGVycwogICAgICAqIGJ5IG1ha2luZyBkaXNjcmV0ZSBOb3JtYWwgcHJvcG9zYWxzIGFuZCBiaW5hcnkgcGFyYW1ldGVycyBieSB0YWtpbmcgb24gYSBuZXcgCiAgICAgICogdmFsdWUgcHJvcG9ydGlvbmFsIHRvIHRoZSBwb3N0ZXJpb3Igb2YgdGhlIHR3byBwb3NzaWJsZSBzdGF0ZXMgb2YgdGhlCiAgICAgICogcGFyYW1ldGVyLiBUaGlzIHNhbXBsZXIgY2FuIGJlIGVmZmljaWVudCB3aGVuIHRoZSBudW1iZXIgb2YgcGFyYW1ldGVycwogICAgICAqIGFyZSBub3QgdG9vIGhpZ2ggYW5kIHRoZSBjb3JyZWxhdGlvbnMgYmV0d2VlbiBwYXJhbWV0ZXJzIGFyZSBsb3cuCiAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgb25lIG9yIG1vcmUgcGFyYW1ldGVyIGRlZmluaXRpb25zCiAgICAgICogQHBhcmFtIHN0YXRlIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXRlIG9mIGFsbCBwYXJhbWV0ZXJzLgogICAgICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiAKICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuCiAgICAgICovCgoKICAgICAgdmFyIEFtd2dTYW1wbGVyID0gZnVuY3Rpb24gQW13Z1NhbXBsZXIocGFyYW1zLCBsb2dfcG9zdCwgZGF0YSwgb3B0aW9ucykgewogICAgICAgIFNhbXBsZXIuY2FsbCh0aGlzLCBwYXJhbXMsIGxvZ19wb3N0LCBkYXRhLCBvcHRpb25zKTsKICAgICAgfTsKCiAgICAgIEFtd2dTYW1wbGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU2FtcGxlci5wcm90b3R5cGUpOwogICAgICBBbXdnU2FtcGxlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBbXdnU2FtcGxlcjsKCiAgICAgIEFtd2dTYW1wbGVyLnByb3RvdHlwZS5jcmVhdGVfc3RlcHBlcl9lbnNhbWJsZSA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIHJldHVybiBbbmV3IEFtd2dTdGVwcGVyKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKV07CiAgICAgIH07IC8vIFJldHVybmluZyB0aGUgZnVuY3Rpb25zIHRoYXQgc2hvdWxkIGJlIHB1YmxpY2x5IGV4cG9zZWQgYnkgdGhpcyBtb2R1bGUKCgogICAgICByZXR1cm4gewogICAgICAgIHJ1bmlmOiBydW5pZiwKICAgICAgICBydW5pZl9kaXNjcmV0ZTogcnVuaWZfZGlzY3JldGUsCiAgICAgICAgcm5vcm06IHJub3JtLAogICAgICAgIHBhcmFtX2luaXRfZml4ZWQ6IHBhcmFtX2luaXRfZml4ZWQsCiAgICAgICAgY29tcGxldGVfcGFyYW1zOiBjb21wbGV0ZV9wYXJhbXMsCiAgICAgICAgUmVhbE1ldHJvcG9saXNTdGVwcGVyOiBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIsCiAgICAgICAgSW50TWV0cm9wb2xpc1N0ZXBwZXI6IEludE1ldHJvcG9saXNTdGVwcGVyLAogICAgICAgIE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOiBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciwKICAgICAgICBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOiBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLAogICAgICAgIEJpbmFyeVN0ZXBwZXI6IEJpbmFyeVN0ZXBwZXIsCiAgICAgICAgQmluYXJ5Q29tcG9uZW50U3RlcHBlcjogQmluYXJ5Q29tcG9uZW50U3RlcHBlciwKICAgICAgICBBbXdnU3RlcHBlcjogQW13Z1N0ZXBwZXIsCiAgICAgICAgQW13Z1NhbXBsZXI6IEFtd2dTYW1wbGVyCiAgICAgIH07CiAgICB9KTsKICB9KShtY21jKTsKCiAgZnVuY3Rpb24gYXNjZW5kaW5nKGEsIGIpIHsKICAgIHJldHVybiBhID09IG51bGwgfHwgYiA9PSBudWxsID8gTmFOIDogYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47CiAgfQoKICB2YXIgX21hcmtlZCA9IC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhudW1iZXJzKTsKICBmdW5jdGlvbiBudW1iZXJzKHZhbHVlcywgdmFsdWVvZikgewogICAgdmFyIF9pdGVyYXRvciwgX3N0ZXAsIHZhbHVlLCBpbmRleCwgX2l0ZXJhdG9yMiwgX3N0ZXAyLCBfdmFsdWU7CgogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIG51bWJlcnMkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpZiAoISh2YWx1ZW9mID09PSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih2YWx1ZXMpOwogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjsKCiAgICAgICAgICAgIF9pdGVyYXRvci5zKCk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBpZiAoKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFsdWUgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICAgIGlmICghKHZhbHVlICE9IG51bGwgJiYgKHZhbHVlID0gK3ZhbHVlKSA+PSB2YWx1ZSkpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgIHJldHVybiB2YWx1ZTsKCiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMzsKICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgIF9pdGVyYXRvci5lKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTY7CgogICAgICAgICAgICBfaXRlcmF0b3IuZigpOwoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmZpbmlzaCgxNik7CgogICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQwOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICBpbmRleCA9IC0xOwogICAgICAgICAgICBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodmFsdWVzKTsKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDIzOwoKICAgICAgICAgICAgX2l0ZXJhdG9yMi5zKCk7CgogICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgaWYgKChfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX3ZhbHVlID0gX3N0ZXAyLnZhbHVlOwoKICAgICAgICAgICAgaWYgKCEoKF92YWx1ZSA9IHZhbHVlb2YoX3ZhbHVlLCArK2luZGV4LCB2YWx1ZXMpKSAhPSBudWxsICYmIChfdmFsdWUgPSArX3ZhbHVlKSA+PSBfdmFsdWUpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDMwOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzA7CiAgICAgICAgICAgIHJldHVybiBfdmFsdWU7CgogICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI1OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzc7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMzQ6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzNDsKICAgICAgICAgICAgX2NvbnRleHQudDEgPSBfY29udGV4dFsiY2F0Y2giXSgyMyk7CgogICAgICAgICAgICBfaXRlcmF0b3IyLmUoX2NvbnRleHQudDEpOwoKICAgICAgICAgIGNhc2UgMzc6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzNzsKCiAgICAgICAgICAgIF9pdGVyYXRvcjIuZigpOwoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmZpbmlzaCgzNyk7CgogICAgICAgICAgY2FzZSA0MDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfbWFya2VkLCBudWxsLCBbWzIsIDEzLCAxNiwgMTldLCBbMjMsIDM0LCAzNywgNDBdXSk7CiAgfQoKICBmdW5jdGlvbiBjb21wYXJlRGVmaW5lZCgpIHsKICAgIHZhciBjb21wYXJlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBhc2NlbmRpbmc7CiAgICBpZiAoY29tcGFyZSA9PT0gYXNjZW5kaW5nKSByZXR1cm4gYXNjZW5kaW5nRGVmaW5lZDsKICAgIGlmICh0eXBlb2YgY29tcGFyZSAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IFR5cGVFcnJvcigiY29tcGFyZSBpcyBub3QgYSBmdW5jdGlvbiIpOwogICAgcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgIHZhciB4ID0gY29tcGFyZShhLCBiKTsKICAgICAgaWYgKHggfHwgeCA9PT0gMCkgcmV0dXJuIHg7CiAgICAgIHJldHVybiAoY29tcGFyZShiLCBiKSA9PT0gMCkgLSAoY29tcGFyZShhLCBhKSA9PT0gMCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhc2NlbmRpbmdEZWZpbmVkKGEsIGIpIHsKICAgIHJldHVybiAoYSA9PSBudWxsIHx8ICEoYSA+PSBhKSkgLSAoYiA9PSBudWxsIHx8ICEoYiA+PSBiKSkgfHwgKGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwKTsKICB9CgogIGZ1bmN0aW9uIG1heCh2YWx1ZXMsIHZhbHVlb2YpIHsKICAgIHZhciBtYXg7CgogICAgaWYgKHZhbHVlb2YgPT09IHVuZGVmaW5lZCkgewogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodmFsdWVzKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHZhbHVlID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgKG1heCA8IHZhbHVlIHx8IG1heCA9PT0gdW5kZWZpbmVkICYmIHZhbHVlID49IHZhbHVlKSkgewogICAgICAgICAgICBtYXggPSB2YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdmFyIGluZGV4ID0gLTE7CgogICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHZhbHVlcyksCiAgICAgICAgICBfc3RlcDI7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX3ZhbHVlID0gX3N0ZXAyLnZhbHVlOwoKICAgICAgICAgIGlmICgoX3ZhbHVlID0gdmFsdWVvZihfdmFsdWUsICsraW5kZXgsIHZhbHVlcykpICE9IG51bGwgJiYgKG1heCA8IF92YWx1ZSB8fCBtYXggPT09IHVuZGVmaW5lZCAmJiBfdmFsdWUgPj0gX3ZhbHVlKSkgewogICAgICAgICAgICBtYXggPSBfdmFsdWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtYXg7CiAgfQoKICBmdW5jdGlvbiBtaW4odmFsdWVzLCB2YWx1ZW9mKSB7CiAgICB2YXIgbWluOwoKICAgIGlmICh2YWx1ZW9mID09PSB1bmRlZmluZWQpIHsKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHZhbHVlcyksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciB2YWx1ZSA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIChtaW4gPiB2YWx1ZSB8fCBtaW4gPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpIHsKICAgICAgICAgICAgbWluID0gdmFsdWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHZhciBpbmRleCA9IC0xOwoKICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih2YWx1ZXMpLAogICAgICAgICAgX3N0ZXAyOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgdmFyIF92YWx1ZSA9IF9zdGVwMi52YWx1ZTsKCiAgICAgICAgICBpZiAoKF92YWx1ZSA9IHZhbHVlb2YoX3ZhbHVlLCArK2luZGV4LCB2YWx1ZXMpKSAhPSBudWxsICYmIChtaW4gPiBfdmFsdWUgfHwgbWluID09PSB1bmRlZmluZWQgJiYgX3ZhbHVlID49IF92YWx1ZSkpIHsKICAgICAgICAgICAgbWluID0gX3ZhbHVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWluOwogIH0KCiAgLy8gSVNDIGxpY2Vuc2UsIENvcHlyaWdodCAyMDE4IFZsYWRpbWlyIEFnYWZvbmtpbi4KCiAgZnVuY3Rpb24gcXVpY2tzZWxlY3QoYXJyYXksIGspIHsKICAgIHZhciBsZWZ0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwOwogICAgdmFyIHJpZ2h0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBhcnJheS5sZW5ndGggLSAxOwogICAgdmFyIGNvbXBhcmUgPSBhcmd1bWVudHMubGVuZ3RoID4gNCA/IGFyZ3VtZW50c1s0XSA6IHVuZGVmaW5lZDsKICAgIGNvbXBhcmUgPSBjb21wYXJlID09PSB1bmRlZmluZWQgPyBhc2NlbmRpbmdEZWZpbmVkIDogY29tcGFyZURlZmluZWQoY29tcGFyZSk7CgogICAgd2hpbGUgKHJpZ2h0ID4gbGVmdCkgewogICAgICBpZiAocmlnaHQgLSBsZWZ0ID4gNjAwKSB7CiAgICAgICAgdmFyIG4gPSByaWdodCAtIGxlZnQgKyAxOwogICAgICAgIHZhciBtID0gayAtIGxlZnQgKyAxOwogICAgICAgIHZhciB6ID0gTWF0aC5sb2cobik7CiAgICAgICAgdmFyIHMgPSAwLjUgKiBNYXRoLmV4cCgyICogeiAvIDMpOwogICAgICAgIHZhciBzZCA9IDAuNSAqIE1hdGguc3FydCh6ICogcyAqIChuIC0gcykgLyBuKSAqIChtIC0gbiAvIDIgPCAwID8gLTEgOiAxKTsKICAgICAgICB2YXIgbmV3TGVmdCA9IE1hdGgubWF4KGxlZnQsIE1hdGguZmxvb3IoayAtIG0gKiBzIC8gbiArIHNkKSk7CiAgICAgICAgdmFyIG5ld1JpZ2h0ID0gTWF0aC5taW4ocmlnaHQsIE1hdGguZmxvb3IoayArIChuIC0gbSkgKiBzIC8gbiArIHNkKSk7CiAgICAgICAgcXVpY2tzZWxlY3QoYXJyYXksIGssIG5ld0xlZnQsIG5ld1JpZ2h0LCBjb21wYXJlKTsKICAgICAgfQoKICAgICAgdmFyIHQgPSBhcnJheVtrXTsKICAgICAgdmFyIGkgPSBsZWZ0OwogICAgICB2YXIgaiA9IHJpZ2h0OwogICAgICBzd2FwKGFycmF5LCBsZWZ0LCBrKTsKICAgICAgaWYgKGNvbXBhcmUoYXJyYXlbcmlnaHRdLCB0KSA+IDApIHN3YXAoYXJyYXksIGxlZnQsIHJpZ2h0KTsKCiAgICAgIHdoaWxlIChpIDwgaikgewogICAgICAgIHN3YXAoYXJyYXksIGksIGopLCArK2ksIC0tajsKCiAgICAgICAgd2hpbGUgKGNvbXBhcmUoYXJyYXlbaV0sIHQpIDwgMCkgewogICAgICAgICAgKytpOwogICAgICAgIH0KCiAgICAgICAgd2hpbGUgKGNvbXBhcmUoYXJyYXlbal0sIHQpID4gMCkgewogICAgICAgICAgLS1qOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGNvbXBhcmUoYXJyYXlbbGVmdF0sIHQpID09PSAwKSBzd2FwKGFycmF5LCBsZWZ0LCBqKTtlbHNlICsraiwgc3dhcChhcnJheSwgaiwgcmlnaHQpOwogICAgICBpZiAoaiA8PSBrKSBsZWZ0ID0gaiArIDE7CiAgICAgIGlmIChrIDw9IGopIHJpZ2h0ID0gaiAtIDE7CiAgICB9CgogICAgcmV0dXJuIGFycmF5OwogIH0KCiAgZnVuY3Rpb24gc3dhcChhcnJheSwgaSwgaikgewogICAgdmFyIHQgPSBhcnJheVtpXTsKICAgIGFycmF5W2ldID0gYXJyYXlbal07CiAgICBhcnJheVtqXSA9IHQ7CiAgfQoKICBmdW5jdGlvbiBxdWFudGlsZSh2YWx1ZXMsIHAsIHZhbHVlb2YpIHsKICAgIHZhbHVlcyA9IEZsb2F0NjRBcnJheS5mcm9tKG51bWJlcnModmFsdWVzLCB2YWx1ZW9mKSk7CiAgICBpZiAoIShuID0gdmFsdWVzLmxlbmd0aCkpIHJldHVybjsKICAgIGlmICgocCA9ICtwKSA8PSAwIHx8IG4gPCAyKSByZXR1cm4gbWluKHZhbHVlcyk7CiAgICBpZiAocCA+PSAxKSByZXR1cm4gbWF4KHZhbHVlcyk7CiAgICB2YXIgbiwKICAgICAgICBpID0gKG4gLSAxKSAqIHAsCiAgICAgICAgaTAgPSBNYXRoLmZsb29yKGkpLAogICAgICAgIHZhbHVlMCA9IG1heChxdWlja3NlbGVjdCh2YWx1ZXMsIGkwKS5zdWJhcnJheSgwLCBpMCArIDEpKSwKICAgICAgICB2YWx1ZTEgPSBtaW4odmFsdWVzLnN1YmFycmF5KGkwICsgMSkpOwogICAgcmV0dXJuIHZhbHVlMCArICh2YWx1ZTEgLSB2YWx1ZTApICogKGkgLSBpMCk7CiAgfQoKICBmdW5jdGlvbiBtZWRpYW4odmFsdWVzLCB2YWx1ZW9mKSB7CiAgICByZXR1cm4gcXVhbnRpbGUodmFsdWVzLCAwLjUsIHZhbHVlb2YpOwogIH0KCiAgLy8gaW1wb3J0ICogYXMgalN0YXQgZnJvbSAnanN0YXQnOwoKICAvKgogICAgQ1BUTWF0aCBTdGF0aWMgQ2xhc3MgLSBOb3QgaW50ZW5kZWQgZm9yIGluc3RhbnRpYXRpb24hCgogICAgVmFyaWFibGVzOgogICAgICB4ID0gb2JqZWN0aXZlIHZhbHVlCiAgICAgIHYgPSBzdWJqZWN0aXZlIHZhbHVlL3V0aWxpdHkKICAgICAgcCA9IG9iamVjdGl2ZSBwcm9iYWJpbGl0eQogICAgICB3ID0gc3ViamVjdGl2ZSBwcm9iYWJpbGl0eS9kZWNpc2lvbiB3ZWlnaHQKICAgICAgViA9IGV4cGVjdGVkIHZhbHVlL3V0aWxpdHkKCiAgICAgIGEgPSBhbHBoYSAoY3VydmF0dXJlIGZvciB2YWx1ZSBmdW5jdGlvbikKICAgICAgbCA9IGxhbWJkYSAobG9zcyBhdmVyc2lvbiBmb3IgdmFsdWUgZnVuY3Rpb24pCiAgICAgIGcgPSBnYW1tYSAoc2Vuc2l0aXZpdHkgZm9yIGRlY2lzaW9uIHdlaWdodGluZyBmdW5jdGlvbikKCiAgICBFcXVhdGlvbnM6CiAgICAgIHYgPSB4XmEsIGlmIHggPj0gMDsgLWwgKiAteF5hLCBpZiB4IDwgMAogICAgICB3ID0gcF5nIC8gKHBeZyArICgxIC0gcCleZyleKDEgLyBnKQogICAgICBWID0gdiAqIHcKICAqLwogIHZhciBDUFRNYXRoID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIENQVE1hdGgoKSB7CiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDUFRNYXRoKTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoQ1BUTWF0aCwgbnVsbCwgW3sKICAgICAga2V5OiAieGFsMnYiLAogICAgICB2YWx1ZTogZnVuY3Rpb24geGFsMnYoeCwgYSwgbCkgewogICAgICAgIGlmICh4ID49IDApIHsKICAgICAgICAgIHJldHVybiBNYXRoLnBvdyh4LCBhKTsKICAgICAgICB9IC8vIGVsc2UgKHggPCAwKQoKCiAgICAgICAgcmV0dXJuIC1sICogTWF0aC5wb3coLXgsIGEpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogInhsdjJhIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHhsdjJhKHgsIGwsIHYpIHsKICAgICAgICBpZiAoeCA+PSAwKSB7CiAgICAgICAgICByZXR1cm4gTWF0aC5sb2codikgLyBNYXRoLmxvZyh4KTsKICAgICAgICB9IC8vIGVsc2UgKHggPCAwKQoKCiAgICAgICAgcmV0dXJuIChNYXRoLmxvZygtdikgLSBNYXRoLmxvZyhsKSkgLyBNYXRoLmxvZygteCk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAieGF2MmwiLAogICAgICB2YWx1ZTogZnVuY3Rpb24geGF2MmwoeCwgYSwgdikgewogICAgICAgIGlmICh4ID49IDApIHsKICAgICAgICAgIHJldHVybiAxOwogICAgICAgIH0gLy8gZWxzZSAoeCA8IDApCgoKICAgICAgICByZXR1cm4gLXYgLyBNYXRoLnBvdygteCwgYSk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAicGcydyIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBwZzJ3KHAsIGcpIHsKICAgICAgICByZXR1cm4gTWF0aC5wb3cocCwgZykgLyBNYXRoLnBvdyhNYXRoLnBvdyhwLCBnKSArIE1hdGgucG93KDEgLSBwLCBnKSwgMSAvIGcpOwogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIENQVE1hdGg7CiAgfSgpOwoKICAvLyBJbnRlcm5hbCBkZXBlbmRlbmNpZXMKCiAgLyogZXNsaW50IG5vLXJlc3RyaWN0ZWQtZ2xvYmFsczogWyJvZmYiLCAic2VsZiJdICovCgogIHNlbGYub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB2YXIgcGFyYW1zID0gewogICAgICBhbHBoYTogewogICAgICAgIHR5cGU6ICdyZWFsJywKICAgICAgICBsb3dlcjogMCwKICAgICAgICB1cHBlcjogMQogICAgICB9LAogICAgICBsYW1iZGE6IHsKICAgICAgICB0eXBlOiAncmVhbCcsCiAgICAgICAgbG93ZXI6IDAsCiAgICAgICAgdXBwZXI6IDEwCiAgICAgIH0sCiAgICAgIGdhbW1hOiB7CiAgICAgICAgdHlwZTogJ3JlYWwnLAogICAgICAgIGxvd2VyOiAwLAogICAgICAgIHVwcGVyOiAxCiAgICAgIH0sCiAgICAgIGx1Y2U6IHsKICAgICAgICB0eXBlOiAncmVhbCcsCiAgICAgICAgbG93ZXI6IDAsCiAgICAgICAgdXBwZXI6IDEwMAogICAgICB9CiAgICB9OwoKICAgIHZhciBsb2dQb3N0ID0gZnVuY3Rpb24gbG9nUG9zdChzdGF0ZSwgZGF0YSkgewogICAgICB2YXIgbHAgPSAwOyAvLyBQcmlvcnMKCiAgICAgIHZhciBhbHBoYU1lYW4gPSAwLjU7CiAgICAgIHZhciBhbHBoYVNhbXBsZVNpemUgPSAyLjU7CiAgICAgIGxwICs9IGRpc3RyaWJ1dGlvbnMuZXhwb3J0cy5iZXRhKHN0YXRlLmFscGhhLCBhbHBoYU1lYW4gKiBhbHBoYVNhbXBsZVNpemUsICgxIC0gYWxwaGFNZWFuKSAqIGFscGhhU2FtcGxlU2l6ZSk7IC8vIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy51bmlmKHN0YXRlLmFscGhhLCAwLCAxKTsKCiAgICAgIHZhciBsYW1iZGFNZWFuID0gMjsKICAgICAgdmFyIGxhbWJkYVNoYXBlID0gMzsKICAgICAgbHAgKz0gZGlzdHJpYnV0aW9ucy5leHBvcnRzLmdhbW1hKHN0YXRlLmxhbWJkYSwgbGFtYmRhU2hhcGUsIGxhbWJkYVNoYXBlIC8gbGFtYmRhTWVhbik7IC8vIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy51bmlmKHN0YXRlLmxhbWJkYSwgMCwgMTApOwoKICAgICAgdmFyIGdhbW1hTWVhbiA9IDAuNTsKICAgICAgdmFyIGdhbW1hU2FtcGxlU2l6ZSA9IDIuNTsKICAgICAgbHAgKz0gZGlzdHJpYnV0aW9ucy5leHBvcnRzLmJldGEoc3RhdGUuZ2FtbWEsIGdhbW1hTWVhbiAqIGdhbW1hU2FtcGxlU2l6ZSwgKDEgLSBnYW1tYU1lYW4pICogZ2FtbWFTYW1wbGVTaXplKTsgLy8gbHAgKz0gQmF5ZXNEaXN0cmlidXRpb25zLnVuaWYoc3RhdGUuZ2FtbWEsIDAsIDEpOwoKICAgICAgdmFyIGx1Y2VNZWFuID0gMjsKICAgICAgdmFyIGx1Y2VTaGFwZSA9IDM7CiAgICAgIGxwICs9IGRpc3RyaWJ1dGlvbnMuZXhwb3J0cy5nYW1tYShzdGF0ZS5sdWNlLCBsdWNlU2hhcGUsIGx1Y2VTaGFwZSAvIGx1Y2VNZWFuKTsgLy8gbHAgKz0gQmF5ZXNEaXN0cmlidXRpb25zLnVuaWYoc3RhdGUubHVjZSwgMCwgMTAwKTsKICAgICAgLy8gTGlrZWxpaG9vZAoKICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChjaG9pY2UpIHsKICAgICAgICAvLyBWYWx1ZXMKICAgICAgICB2YXIgdmwgPSBDUFRNYXRoLnhhbDJ2KGNob2ljZS54bCwgc3RhdGUuYWxwaGEsIHN0YXRlLmxhbWJkYSk7CiAgICAgICAgdmFyIHZ3ID0gQ1BUTWF0aC54YWwydihjaG9pY2UueHcsIHN0YXRlLmFscGhhLCBzdGF0ZS5sYW1iZGEpOwogICAgICAgIHZhciB2cyA9IENQVE1hdGgueGFsMnYoY2hvaWNlLnhzLCBzdGF0ZS5hbHBoYSwgc3RhdGUubGFtYmRhKTsgLy8gUHJvYmFiaWxpdGllcwoKICAgICAgICB2YXIgd3cgPSBDUFRNYXRoLnBnMncoY2hvaWNlLnB3LCBzdGF0ZS5nYW1tYSk7CiAgICAgICAgdmFyIHdsID0gMSAtIHd3OyAvLyBVdGlsaXRpZXMKCiAgICAgICAgdmFyIHVnID0gd2wgKiB2bCArIHd3ICogdnc7CiAgICAgICAgdmFyIHVzID0gdnM7IC8vIENob2ljZSBvZiBnYW1ibGUgb3Igc3VyZSBpcyBzYW1wbGVkIGZyb20gYSBCZXJub3VsbGkgZGlzdHJpYnV0aW9uCiAgICAgICAgLy8gTHVjZSBjaG9pY2UgcnVsZSBpcyB1c2VkIHRvIGNvbXB1dGUgcHJvYmFiaWxpdHkgb2YgZ2FtYmxpbmchICgwID0gc3VyZSwgMSA9IGdhbWJsZSkKCiAgICAgICAgdmFyIGJpbnZhbCA9IDEgLyAoMSArIE1hdGguZXhwKHN0YXRlLmx1Y2UgKiAodXMgLSB1ZykpKTsgLy8gQWN0dWFsIHJlc3BvbnNlCgogICAgICAgIHZhciByZXNwb25zZSA9IGNob2ljZS5yZXNwb25zZSA9PT0gJ3N1cmUnID8gMCA6IDE7CiAgICAgICAgbHAgKz0gZGlzdHJpYnV0aW9ucy5leHBvcnRzLmJlcm4ocmVzcG9uc2UsIGJpbnZhbCk7CiAgICAgIH0pOwogICAgICByZXR1cm4gbHA7CiAgICB9OyAvLyBJbml0aWFsaXppbmcgdGhlIHNhbXBsZXIKCgogICAgdmFyIHNhbXBsZXIgPSBuZXcgbWNtYy5leHBvcnRzLkFtd2dTYW1wbGVyKHBhcmFtcywgbG9nUG9zdCwgZXZlbnQuZGF0YSk7IC8vIEJ1cm5pbmcgc29tZSBzYW1wbGVzIHRvIHRoZSBNQ01DIGdvZHMgYW5kIHNhbXBsaW5nIDUwMDAgZHJhd3MKCiAgICBzYW1wbGVyLmJ1cm4oMTAwMCk7CiAgICB2YXIgc2FtcGxlcyA9IHNhbXBsZXIuc2FtcGxlKDUwMDApOyAvLyBFeHRyYWN0IHN1bW1hcnkgc3RhdHMKCiAgICB2YXIgcmVzdWx0cyA9IHsKICAgICAgYWxwaGE6IG1lZGlhbihzYW1wbGVzLmFscGhhKSwKICAgICAgbGFtYmRhOiBtZWRpYW4oc2FtcGxlcy5sYW1iZGEpLAogICAgICBnYW1tYTogbWVkaWFuKHNhbXBsZXMuZ2FtbWEpLAogICAgICBsdWNlOiBtZWRpYW4oc2FtcGxlcy5sdWNlKQogICAgfTsKICAgIHNlbGYucG9zdE1lc3NhZ2UoewogICAgICByZXN1bHRzOiByZXN1bHRzLAogICAgICBzYW1wbGVzOiBzYW1wbGVzCiAgICB9KTsKICB9OwoKfSkoKTsKCg==",a_t="data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3B0LWZpdC13b3JrZXIuanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9yZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvYmF5ZXMuanMvZGlzdHJpYnV0aW9ucy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9iYXllcy5qcy9tY21jLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9hc2NlbmRpbmcuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL251bWJlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvc29ydC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvbWF4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9taW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL3F1aWNrc2VsZWN0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9xdWFudGlsZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvbWVkaWFuLmpzIiwiLi4vLi4vbGlicmFyaWVzL3Byb3NwZWN0YWJsZS1tYXRoL3NyYy9jcHQtbWF0aC5qcyIsIi4uLy4uL2xpYnJhcmllcy9wcm9zcGVjdGFibGUtbWF0aC9zcmMvaW5kZXguanMiLCIuLi8uLi9saWJyYXJpZXMvcHJvc3BlY3RhYmxlLWVsZW1lbnRzL3NyYy9jb21wb25lbnRzL2NwdC1maXQtd29ya2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxudmFyIHJ1bnRpbWUgPSAoZnVuY3Rpb24gKGV4cG9ydHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIGhhc093biA9IE9wLmhhc093blByb3BlcnR5O1xuICB2YXIgdW5kZWZpbmVkOyAvLyBNb3JlIGNvbXByZXNzaWJsZSB0aGFuIHZvaWQgMC5cbiAgdmFyICRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgPyBTeW1ib2wgOiB7fTtcbiAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcbiAgdmFyIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIjtcbiAgdmFyIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjtcblxuICBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqW2tleV07XG4gIH1cbiAgdHJ5IHtcbiAgICAvLyBJRSA4IGhhcyBhIGJyb2tlbiBPYmplY3QuZGVmaW5lUHJvcGVydHkgdGhhdCBvbmx5IHdvcmtzIG9uIERPTSBvYmplY3RzLlxuICAgIGRlZmluZSh7fSwgXCJcIik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGRlZmluZSA9IGZ1bmN0aW9uKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIG9ialtrZXldID0gdmFsdWU7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkIGFuZCBvdXRlckZuLnByb3RvdHlwZSBpcyBhIEdlbmVyYXRvciwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvcjtcbiAgICB2YXIgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpO1xuICAgIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pO1xuXG4gICAgLy8gVGhlIC5faW52b2tlIG1ldGhvZCB1bmlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcy5cbiAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG5cbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9XG4gIGV4cG9ydHMud3JhcCA9IHdyYXA7XG5cbiAgLy8gVHJ5L2NhdGNoIGhlbHBlciB0byBtaW5pbWl6ZSBkZW9wdGltaXphdGlvbnMuIFJldHVybnMgYSBjb21wbGV0aW9uXG4gIC8vIHJlY29yZCBsaWtlIGNvbnRleHQudHJ5RW50cmllc1tpXS5jb21wbGV0aW9uLiBUaGlzIGludGVyZmFjZSBjb3VsZFxuICAvLyBoYXZlIGJlZW4gKGFuZCB3YXMgcHJldmlvdXNseSkgZGVzaWduZWQgdG8gdGFrZSBhIGNsb3N1cmUgdG8gYmVcbiAgLy8gaW52b2tlZCB3aXRob3V0IGFyZ3VtZW50cywgYnV0IGluIGFsbCB0aGUgY2FzZXMgd2UgY2FyZSBhYm91dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYW4gZXhpc3RpbmcgbWV0aG9kIHdlIHdhbnQgdG8gY2FsbCwgc28gdGhlcmUncyBubyBuZWVkXG4gIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmdcbiAgLy8gdGhlIG1ldGhvZCB0YWtlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgc2luY2UgdGhhdCBoYXBwZW5zIHRvIGJlIHRydWVcbiAgLy8gaW4gZXZlcnkgY2FzZSwgc28gd2UgZG9uJ3QgaGF2ZSB0byB0b3VjaCB0aGUgYXJndW1lbnRzIG9iamVjdC4gVGhlXG4gIC8vIG9ubHkgYWRkaXRpb25hbCBhbGxvY2F0aW9uIHJlcXVpcmVkIGlzIHRoZSBjb21wbGV0aW9uIHJlY29yZCwgd2hpY2hcbiAgLy8gaGFzIGEgc3RhYmxlIHNoYXBlIGFuZCBzbyBob3BlZnVsbHkgc2hvdWxkIGJlIGNoZWFwIHRvIGFsbG9jYXRlLlxuICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKSB9O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IGVyciB9O1xuICAgIH1cbiAgfVxuXG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0ID0gXCJzdXNwZW5kZWRTdGFydFwiO1xuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCA9IFwic3VzcGVuZGVkWWllbGRcIjtcbiAgdmFyIEdlblN0YXRlRXhlY3V0aW5nID0gXCJleGVjdXRpbmdcIjtcbiAgdmFyIEdlblN0YXRlQ29tcGxldGVkID0gXCJjb21wbGV0ZWRcIjtcblxuICAvLyBSZXR1cm5pbmcgdGhpcyBvYmplY3QgZnJvbSB0aGUgaW5uZXJGbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzXG4gIC8vIGJyZWFraW5nIG91dCBvZiB0aGUgZGlzcGF0Y2ggc3dpdGNoIHN0YXRlbWVudC5cbiAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTtcblxuICAvLyBEdW1teSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMgdGhhdCB3ZSB1c2UgYXMgdGhlIC5jb25zdHJ1Y3RvciBhbmRcbiAgLy8gLmNvbnN0cnVjdG9yLnByb3RvdHlwZSBwcm9wZXJ0aWVzIGZvciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gR2VuZXJhdG9yXG4gIC8vIG9iamVjdHMuIEZvciBmdWxsIHNwZWMgY29tcGxpYW5jZSwgeW91IG1heSB3aXNoIHRvIGNvbmZpZ3VyZSB5b3VyXG4gIC8vIG1pbmlmaWVyIG5vdCB0byBtYW5nbGUgdGhlIG5hbWVzIG9mIHRoZXNlIHR3byBmdW5jdGlvbnMuXG4gIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuXG4gIC8vIFRoaXMgaXMgYSBwb2x5ZmlsbCBmb3IgJUl0ZXJhdG9yUHJvdG90eXBlJSBmb3IgZW52aXJvbm1lbnRzIHRoYXRcbiAgLy8gZG9uJ3QgbmF0aXZlbHkgc3VwcG9ydCBpdC5cbiAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG4gIGRlZmluZShJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSk7XG5cbiAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuICB2YXIgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7XG4gIGlmIChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJlxuICAgICAgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmXG4gICAgICBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpKSB7XG4gICAgLy8gVGhpcyBlbnZpcm9ubWVudCBoYXMgYSBuYXRpdmUgJUl0ZXJhdG9yUHJvdG90eXBlJTsgdXNlIGl0IGluc3RlYWRcbiAgICAvLyBvZiB0aGUgcG9seWZpbGwuXG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZTtcbiAgfVxuXG4gIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9XG4gICAgR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgZGVmaW5lKEdwLCBcImNvbnN0cnVjdG9yXCIsIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBcImNvbnN0cnVjdG9yXCIsIEdlbmVyYXRvckZ1bmN0aW9uKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBkZWZpbmUoXG4gICAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsXG4gICAgdG9TdHJpbmdUYWdTeW1ib2wsXG4gICAgXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICk7XG5cbiAgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgZGVmaW5lKHByb3RvdHlwZSwgbWV0aG9kLCBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gY3RvclxuICAgICAgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgICAgICAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICAgICA6IGZhbHNlO1xuICB9O1xuXG4gIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgICAgZGVmaW5lKGdlbkZ1biwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIik7XG4gICAgfVxuICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTtcbiAgICByZXR1cm4gZ2VuRnVuO1xuICB9O1xuXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAvLyBgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKWAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzXG4gIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuXG4gIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4geyBfX2F3YWl0OiBhcmcgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvciwgUHJvbWlzZUltcGwpIHtcbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICByZWplY3QocmVjb3JkLmFyZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZztcbiAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgJiZcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbih1bndyYXBwZWQpIHtcbiAgICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLlxuICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgLy8gSWYgYSByZWplY3RlZCBQcm9taXNlIHdhcyB5aWVsZGVkLCB0aHJvdyB0aGUgcmVqZWN0aW9uIGJhY2tcbiAgICAgICAgICAvLyBpbnRvIHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gc28gaXQgY2FuIGJlIGhhbmRsZWQgdGhlcmUuXG4gICAgICAgICAgcmV0dXJuIGludm9rZShcInRocm93XCIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZUltcGwoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9XG4gICAgICAgIC8vIElmIGVucXVldWUgaGFzIGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIHdhaXQgdW50aWxcbiAgICAgICAgLy8gYWxsIHByZXZpb3VzIFByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBpbnZva2UsXG4gICAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWZcbiAgICAgICAgLy8gZW5xdWV1ZSBoYXMgbm90IGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdG9cbiAgICAgICAgLy8gY2FsbCBpbnZva2UgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBvbiBhIGNhbGxiYWNrIHRvIGZpcmUsXG4gICAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvXG4gICAgICAgIC8vIGFueSBuZWNlc3Nhcnkgc2V0dXAgaW4gYSBwcmVkaWN0YWJsZSB3YXkuIFRoaXMgcHJlZGljdGFiaWxpdHlcbiAgICAgICAgLy8gaXMgd2h5IHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIHN5bmNocm9ub3VzbHkgaW52b2tlcyBpdHNcbiAgICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHlcbiAgICAgICAgLy8gZXhlY3V0ZSBjb2RlIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQuIFNpbmNlIHdlIGltcGxlbWVudCBzaW1wbGVcbiAgICAgICAgLy8gYXN5bmMgZnVuY3Rpb25zIGluIHRlcm1zIG9mIGFzeW5jIGdlbmVyYXRvcnMsIGl0IGlzIGVzcGVjaWFsbHlcbiAgICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLlxuICAgICAgICBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbihcbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyxcbiAgICAgICAgICAvLyBBdm9pZCBwcm9wYWdhdGluZyBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieSBsYXRlclxuICAgICAgICAgIC8vIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci5cbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZ1xuICAgICAgICApIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTtcbiAgICB9XG5cbiAgICAvLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gKHNlZSBkZWZpbmVJdGVyYXRvck1ldGhvZHMpLlxuICAgIHRoaXMuX2ludm9rZSA9IGVucXVldWU7XG4gIH1cblxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpO1xuICBkZWZpbmUoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUsIGFzeW5jSXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSk7XG4gIGV4cG9ydHMuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3I7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIGV4cG9ydHMuYXN5bmMgPSBmdW5jdGlvbihpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCwgUHJvbWlzZUltcGwpIHtcbiAgICBpZiAoUHJvbWlzZUltcGwgPT09IHZvaWQgMCkgUHJvbWlzZUltcGwgPSBQcm9taXNlO1xuXG4gICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcihcbiAgICAgIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLFxuICAgICAgUHJvbWlzZUltcGxcbiAgICApO1xuXG4gICAgcmV0dXJuIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIC8vIE5vdGU6IFtcInJldHVyblwiXSBtdXN0IGJlIHVzZWQgZm9yIEVTMyBwYXJzaW5nIGNvbXBhdGliaWxpdHkuXG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXSkge1xuICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG5cbiAgICBpZiAoISBpbmZvKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAvLyBBc3NpZ24gdGhlIHJlc3VsdCBvZiB0aGUgZmluaXNoZWQgZGVsZWdhdGUgdG8gdGhlIHRlbXBvcmFyeVxuICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuXG4gICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuXG4gICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWZcbiAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgIC8vIFwicmV0dXJuXCIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlXG4gICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLlxuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGhcbiAgICAvLyB0aGUgb3V0ZXIgZ2VuZXJhdG9yLlxuICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIGRlZmluZShHcCwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yXCIpO1xuXG4gIC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yXG4gIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgZGVmaW5lKEdwLCBpdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xuXG4gIGRlZmluZShHcCwgXCJ0b1N0cmluZ1wiLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHtcbiAgICB2YXIgZW50cnkgPSB7IHRyeUxvYzogbG9jc1swXSB9O1xuXG4gICAgaWYgKDEgaW4gbG9jcykge1xuICAgICAgZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdO1xuICAgIH1cblxuICAgIGlmICgyIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdO1xuICAgICAgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdO1xuICAgIH1cblxuICAgIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHtcbiAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcbiAgICByZWNvcmQudHlwZSA9IFwibm9ybWFsXCI7XG4gICAgZGVsZXRlIHJlY29yZC5hcmc7XG4gICAgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBUaGUgcm9vdCBlbnRyeSBvYmplY3QgKGVmZmVjdGl2ZWx5IGEgdHJ5IHN0YXRlbWVudCB3aXRob3V0IGEgY2F0Y2hcbiAgICAvLyBvciBhIGZpbmFsbHkgYmxvY2spIGdpdmVzIHVzIGEgcGxhY2UgdG8gc3RvcmUgdmFsdWVzIHRocm93biBmcm9tXG4gICAgLy8gbG9jYXRpb25zIHdoZXJlIHRoZXJlIGlzIG5vIGVuY2xvc2luZyB0cnkgc3RhdGVtZW50LlxuICAgIHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogXCJyb290XCIgfV07XG4gICAgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpO1xuICAgIHRoaXMucmVzZXQodHJ1ZSk7XG4gIH1cblxuICBleHBvcnRzLmtleXMgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICBrZXlzLnJldmVyc2UoKTtcblxuICAgIC8vIFJhdGhlciB0aGFuIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBhIG5leHQgbWV0aG9kLCB3ZSBrZWVwXG4gICAgLy8gdGhpbmdzIHNpbXBsZSBhbmQgcmV0dXJuIHRoZSBuZXh0IGZ1bmN0aW9uIGl0c2VsZi5cbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5O1xuICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRvIGF2b2lkIGNyZWF0aW5nIGFuIGFkZGl0aW9uYWwgb2JqZWN0LCB3ZSBqdXN0IGhhbmcgdGhlIC52YWx1ZVxuICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXNcbiAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLlxuICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlLm5leHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICB2YXIgaSA9IC0xLCBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgaXRlcmFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duLmNhbGwoaXRlcmFibGUsIGkpKSB7XG4gICAgICAgICAgICAgIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXTtcbiAgICAgICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG5leHQudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcblxuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiBhbiBpdGVyYXRvciB3aXRoIG5vIHZhbHVlcy5cbiAgICByZXR1cm4geyBuZXh0OiBkb25lUmVzdWx0IH07XG4gIH1cbiAgZXhwb3J0cy52YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIH1cblxuICBDb250ZXh0LnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQ29udGV4dCxcblxuICAgIHJlc2V0OiBmdW5jdGlvbihza2lwVGVtcFJlc2V0KSB7XG4gICAgICB0aGlzLnByZXYgPSAwO1xuICAgICAgdGhpcy5uZXh0ID0gMDtcbiAgICAgIC8vIFJlc2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgIGlmICghc2tpcFRlbXBSZXNldCkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHtcbiAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCJ0XCIgJiZcbiAgICAgICAgICAgICAgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiZcbiAgICAgICAgICAgICAgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuXG4gICAgICB2YXIgcm9vdEVudHJ5ID0gdGhpcy50cnlFbnRyaWVzWzBdO1xuICAgICAgdmFyIHJvb3RSZWNvcmQgPSByb290RW50cnkuY29tcGxldGlvbjtcbiAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByb290UmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICB9LFxuXG4gICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uKGV4Y2VwdGlvbikge1xuICAgICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICByZWNvcmQudHlwZSA9IFwidGhyb3dcIjtcbiAgICAgICAgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbjtcbiAgICAgICAgY29udGV4dC5uZXh0ID0gbG9jO1xuXG4gICAgICAgIGlmIChjYXVnaHQpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLFxuICAgICAgICAgIC8vIHRoZW4gbGV0IHRoYXQgY2F0Y2ggYmxvY2sgaGFuZGxlIHRoZSBleGNlcHRpb24gbm9ybWFsbHkuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhISBjYXVnaHQ7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSBcInJvb3RcIikge1xuICAgICAgICAgIC8vIEV4Y2VwdGlvbiB0aHJvd24gb3V0c2lkZSBvZiBhbnkgdHJ5IGJsb2NrIHRoYXQgY291bGQgaGFuZGxlXG4gICAgICAgICAgLy8gaXQsIHNvIHNldCB0aGUgY29tcGxldGlvbiB2YWx1ZSBvZiB0aGUgZW50aXJlIGZ1bmN0aW9uIHRvXG4gICAgICAgICAgLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICByZXR1cm4gaGFuZGxlKFwiZW5kXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHtcbiAgICAgICAgICB2YXIgaGFzQ2F0Y2ggPSBoYXNPd24uY2FsbChlbnRyeSwgXCJjYXRjaExvY1wiKTtcbiAgICAgICAgICB2YXIgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIik7XG5cbiAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFicnVwdDogZnVuY3Rpb24odHlwZSwgYXJnKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIikgJiZcbiAgICAgICAgICAgIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJlxuICAgICAgICAgICh0eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICAgdHlwZSA9PT0gXCJjb250aW51ZVwiKSAmJlxuICAgICAgICAgIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmXG4gICAgICAgICAgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLlxuICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZShyZWNvcmQpO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICByZWNvcmQudHlwZSA9PT0gXCJjb250aW51ZVwiKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IHJlY29yZC5hcmc7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInJldHVyblwiKSB7XG4gICAgICAgIHRoaXMucnZhbCA9IHRoaXMuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICB0aGlzLm5leHQgPSBcImVuZFwiO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIiAmJiBhZnRlckxvYykge1xuICAgICAgICB0aGlzLm5leHQgPSBhZnRlckxvYztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfSxcblxuICAgIGZpbmlzaDogZnVuY3Rpb24oZmluYWxseUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSB7XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyk7XG4gICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbih0cnlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHtcbiAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRocm93bjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgY29udGV4dC5jYXRjaCBtZXRob2QgbXVzdCBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgbG9jYXRpb25cbiAgICAgIC8vIGFyZ3VtZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gYSBrbm93biBjYXRjaCBibG9jay5cbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTtcbiAgICB9LFxuXG4gICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24oaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSB7XG4gICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICBuZXh0TG9jOiBuZXh0TG9jXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgIC8vIERlbGliZXJhdGVseSBmb3JnZXQgdGhlIGxhc3Qgc2VudCB2YWx1ZSBzbyB0aGF0IHdlIGRvbid0XG4gICAgICAgIC8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS5cbiAgICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlXG4gIC8vIG9yIG5vdCwgcmV0dXJuIHRoZSBydW50aW1lIG9iamVjdCBzbyB0aGF0IHdlIGNhbiBkZWNsYXJlIHRoZSB2YXJpYWJsZVxuICAvLyByZWdlbmVyYXRvclJ1bnRpbWUgaW4gdGhlIG91dGVyIHNjb3BlLCB3aGljaCBhbGxvd3MgdGhpcyBtb2R1bGUgdG8gYmVcbiAgLy8gaW5qZWN0ZWQgZWFzaWx5IGJ5IGBiaW4vcmVnZW5lcmF0b3IgLS1pbmNsdWRlLXJ1bnRpbWUgc2NyaXB0LmpzYC5cbiAgcmV0dXJuIGV4cG9ydHM7XG5cbn0oXG4gIC8vIElmIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZSwgdXNlIG1vZHVsZS5leHBvcnRzXG4gIC8vIGFzIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgbmFtZXNwYWNlLiBPdGhlcndpc2UgY3JlYXRlIGEgbmV3IGVtcHR5XG4gIC8vIG9iamVjdC4gRWl0aGVyIHdheSwgdGhlIHJlc3VsdGluZyBvYmplY3Qgd2lsbCBiZSB1c2VkIHRvIGluaXRpYWxpemVcbiAgLy8gdGhlIHJlZ2VuZXJhdG9yUnVudGltZSB2YXJpYWJsZSBhdCB0aGUgdG9wIG9mIHRoaXMgZmlsZS5cbiAgdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiA/IG1vZHVsZS5leHBvcnRzIDoge31cbikpO1xuXG50cnkge1xuICByZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xufSBjYXRjaCAoYWNjaWRlbnRhbFN0cmljdE1vZGUpIHtcbiAgLy8gVGhpcyBtb2R1bGUgc2hvdWxkIG5vdCBiZSBydW5uaW5nIGluIHN0cmljdCBtb2RlLCBzbyB0aGUgYWJvdmVcbiAgLy8gYXNzaWdubWVudCBzaG91bGQgYWx3YXlzIHdvcmsgdW5sZXNzIHNvbWV0aGluZyBpcyBtaXNjb25maWd1cmVkLiBKdXN0XG4gIC8vIGluIGNhc2UgcnVudGltZS5qcyBhY2NpZGVudGFsbHkgcnVucyBpbiBzdHJpY3QgbW9kZSwgaW4gbW9kZXJuIGVuZ2luZXNcbiAgLy8gd2UgY2FuIGV4cGxpY2l0bHkgYWNjZXNzIGdsb2JhbFRoaXMuIEluIG9sZGVyIGVuZ2luZXMgd2UgY2FuIGVzY2FwZVxuICAvLyBzdHJpY3QgbW9kZSB1c2luZyBhIGdsb2JhbCBGdW5jdGlvbiBjYWxsLiBUaGlzIGNvdWxkIGNvbmNlaXZhYmx5IGZhaWxcbiAgLy8gaWYgYSBDb250ZW50IFNlY3VyaXR5IFBvbGljeSBmb3JiaWRzIHVzaW5nIEZ1bmN0aW9uLCBidXQgaW4gdGhhdCBjYXNlXG4gIC8vIHRoZSBwcm9wZXIgc29sdXRpb24gaXMgdG8gZml4IHRoZSBhY2NpZGVudGFsIHN0cmljdCBtb2RlIHByb2JsZW0uIElmXG4gIC8vIHlvdSd2ZSBtaXNjb25maWd1cmVkIHlvdXIgYnVuZGxlciB0byBmb3JjZSBzdHJpY3QgbW9kZSBhbmQgYXBwbGllZCBhXG4gIC8vIENTUCB0byBmb3JiaWQgRnVuY3Rpb24sIGFuZCB5b3UncmUgbm90IHdpbGxpbmcgdG8gZml4IGVpdGhlciBvZiB0aG9zZVxuICAvLyBwcm9ibGVtcywgcGxlYXNlIGRldGFpbCB5b3VyIHVuaXF1ZSBwcmVkaWNhbWVudCBpbiBhIEdpdEh1YiBpc3N1ZS5cbiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSBcIm9iamVjdFwiKSB7XG4gICAgZ2xvYmFsVGhpcy5yZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xuICB9IGVsc2Uge1xuICAgIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XG4gIH1cbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5cbi8vIEEgbnVtYmVyIG9mIGxvZyBwcm9iYWJpbGl0eSBkZW5zaXR5IGZ1bmN0aW9ucyAoUERGKS4gTmFtaW5nIGFuZCBwYXJhbWV0ZXJpemF0aW9uXG4vLyBzaG91bGQgbWF0Y2ggUidzLCBleGNlcHQgZm9yIHRoYXQgYWxsIGZ1bmN0aW9ucyByZXNpZGUgaW4gYW4gbGQgb2JqZWN0IChcbi8vIGFzIGluIFwibG9nIGRlbnNpdHlcIiksIHNvIHRvIGdldCBhIG5vcm1hbCBsb2cgZGVuc2l0eSB5b3Ugd291bGQgd3JpdGVcbi8vIGxkLm5vcm0oLi4uKS5cbi8vIE1vc3Qgb2YgdGhlIGNvZGUgYmVsb3cgaXMgZGlyZWN0bHkgdGFrZW4gZnJvbSB0aGUgZ3JlYXQgSnN0YXQgcHJvamVjdFxuLy8gKGh0dHBzOi8vZ2l0aHViLmNvbS9qc3RhdC8pIHdoaWNoIGluY2x1ZGVzIFBERiBmb3IgbWFueSBjb21tb24gcHJvYmFiaWxpdHlcbi8vIGRpc3RyaWJ1dGlvbnMuIFdoYXQgSSBoYXZlIGRvbmUgaXMgb25seSB0byBjb252ZXJ0IHRoZXNlIHRvIGxvZyBQREZzLlxuXG4vKlxuT3JpZ2luYWwgd29yayBDb3B5cmlnaHQgKGMpIDIwMTMgalN0YXRcbk1vZGlmaWVkIHdvcmsgQ29weXJpZ2h0IChjKSAyMDE1IFJhc211cyBCw6XDpXRoIFxuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG5USEUgU09GVFdBUkUuXG5cbiovXG5cblxuLy8gVGhpcyBib2lsZXIgcGxhdGUgY29kZSBoZXJlIGlzIHRha2VuIGZyb206XG4vLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3RlbXBsYXRlcy9yZXR1cm5FeHBvcnRzLmpzXG4vLyBJdCBzaG91bGQgbWFrZSBzaHVyZSB0aGF0IG1vZHVsZSBjYW4gYmUgaW1wb3J0ZWQgYm90aCBpbiB0aGUgYnJvd3Nlcixcbi8vIE5vZGUsIGFuZCBieSB1c2luZyB0aGUgQXN5bmNocm9ub3VzIE1vZHVsZSBEZWZpbml0aW9uIHN0YW5kYXJkLlxuLy8gSWYgdGhpcyBtb2R1bGUgaXMgbG9hZGVkIGluIHRoZSBicm93c2VyIGl0IHdpbGwgY3JlYXRlZCB0aGUgZ2xvYmFsXG4vLyBvYmplY3QgbGQgLlxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgICAgIC8vIGxpa2UgTm9kZS5cbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICAgICAgcm9vdC5sZCA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbigpIHtcbiAgLy8gT2JqZWN0IHRvIGhvbGQgdGhlIGZ1bmN0aW9ucyB0byBiZSBleHBvcnRlZC5cbiAgdmFyIGxkICA9IHt9O1xuICBcbiAgLy8vLy8vLy8vLyBIZWxwZXIgZnVuY3Rpb25zIC8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgXG4gIHZhciBsZ2FtbWEgPSBmdW5jdGlvbih4KSB7XG4gICAgdmFyIGogPSAwO1xuICAgIHZhciBjb2YgPSBbXG4gICAgICA3Ni4xODAwOTE3Mjk0NzE0NiwgLTg2LjUwNTMyMDMyOTQxNjc3LCAyNC4wMTQwOTgyNDA4MzA5MSxcbiAgICAgIC0xLjIzMTczOTU3MjQ1MDE1NSwgMC4xMjA4NjUwOTczODY2MTc5ZS0yLCAtMC41Mzk1MjM5Mzg0OTUzZS01XG4gICAgXTtcbiAgICB2YXIgc2VyID0gMS4wMDAwMDAwMDAxOTAwMTU7XG4gICAgdmFyIHh4LCB5LCB0bXA7XG4gICAgdG1wID0gKHkgPSB4eCA9IHgpICsgNS41O1xuICAgIHRtcCAtPSAoeHggKyAwLjUpICogbG9nKHRtcCk7XG4gICAgZm9yICg7IGogPCA2OyBqKyspXG4gICAgICBzZXIgKz0gY29mW2pdIC8gKyt5O1xuICAgIHJldHVybiBsb2coMi41MDY2MjgyNzQ2MzEwMDA1ICogc2VyIC8geHgpIC0gdG1wO1xuICB9O1xuICBsZC5sZ2FtbWEgPSBsZ2FtbWE7XG4gIFxuICB2YXIgbGZhY3RvcmlhbCA9IGZ1bmN0aW9uKG4pIHtcbiAgICByZXR1cm4gbiA8IDAgPyBOYU4gOiBsZ2FtbWEobiArIDEpO1xuICB9O1xuICBsZC5sZmFjdG9yaWFsID0gbGZhY3RvcmlhbDtcbiAgXG4gIHZhciBsY2hvb3NlID0gZnVuY3Rpb24obiwgayl7XG4gICAgcmV0dXJuIGxmYWN0b3JpYWwobikgLSBsZmFjdG9yaWFsKGspIC0gbGZhY3RvcmlhbChuIC0gayk7XG4gIH07XG4gIGxkLmxjaG9vc2UgPSBsY2hvb3NlO1xuICBcbiAgdmFyIGxiZXRhID0gZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBsZ2FtbWEoYSkgKyBsZ2FtbWEoYikgLSBsZ2FtbWEoYSArIGIpO1xuICB9O1xuICBsZC5sYmV0YSA9IGxiZXRhO1xuICBcbiAgdmFyIGxvZyAgPSBNYXRoLmxvZztcbiAgdmFyIGV4cCAgPSBNYXRoLmV4cDtcbiAgdmFyIGFicyAgPSBNYXRoLmFicztcbiAgdmFyIHBvdyAgPSBNYXRoLnBvdztcbiAgdmFyIHNxcnQgPSBNYXRoLnNxcnQ7XG4gIHZhciBwaSAgID0gTWF0aC5QSTtcbiAgXG4gIC8vLy8vLy8vLy8gQ29udGlub3VzIGRpc3RyaWJ1dGlvbnMgLy8vLy8vLy8vL1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgXG4gIGxkLmJldGEgPSBmdW5jdGlvbih4LCBzaGFwZTEsIHNoYXBlMikge1xuICAgIGlmICh4ID4gMSB8fCB4IDwgMCkge1xuICAgICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgIH1cbiAgICBpZihzaGFwZTEgPT09IDEgJiYgc2hhcGUyID09PSAxKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChzaGFwZTEgLSAxKSAqIGxvZyh4KSArIChzaGFwZTIgLSAxKSAqIGxvZygxIC0geCkgLSBsYmV0YShzaGFwZTEsIHNoYXBlMik7ICBcbiAgICB9XG4gIH07XG4gIFxuICBsZC5jYXVjaHkgPSBmdW5jdGlvbih4LCBsb2NhdGlvbiwgc2NhbGUpIHtcbiAgICByZXR1cm4gbG9nKHNjYWxlKSAtIGxvZyhwb3coeCAtIGxvY2F0aW9uLCAyKSArIHBvdyhzY2FsZSwgMikpICAtIGxvZyhwaSk7XG4gIH07XG4gIFxuICBsZC5ub3JtID0gZnVuY3Rpb24oeCwgbWVhbiwgc2QpIHtcbiAgICAgIHJldHVybiAtMC41ICogbG9nKDIgKiBwaSkgLWxvZyhzZCkgLSBwb3coeCAtIG1lYW4sIDIpIC8gKDIgKiBzZCAqIHNkKTtcbiAgfTtcblxuICAvLyBBIGJpdmFyaWF0ZSBOb3JtYWwgZGlzdHJpYnV0aW9uIHBhcmFtZXRlcml6ZWQgYnkgYXJyYXlzIG9mIHR3byBtZWFucyBhbmQgU0RzLCBhbmQgXG4gIC8vIHRoZSBjb3JyZWxhdGlvbi5cbiAgbGQuYml2YXJub3JtID0gZnVuY3Rpb24oeCwgbWVhbiwgc2QsIGNvcnIpIHtcbiAgICB2YXIgeiA9IHBvdyh4WzBdIC0gbWVhblswXSwgMikgLyBwb3coc2RbMF0sIDIpICtcbiAgICAgICAgICAgIHBvdyh4WzFdIC0gbWVhblsxXSwgMikgLyBwb3coc2RbMV0sIDIpIC0gXG4gICAgICAgICAgICAoMiAqIGNvcnIgKiAoeFswXSAtIG1lYW5bMF0pICogKHhbMV0gLSBtZWFuWzFdKSkgLyAoc2RbMF0gKiBzZFsxXSk7XG4gICAgdmFyIG5vcm1hbGl6aW5nX2ZhY3RvciA9IC0oIGxvZygyKSArIGxvZyhwaSkgKyBsb2coc2RbMF0pICsgbG9nKHNkWzFdKSArIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLjUgKiBsb2coMSAtIHBvdyhjb3JyLCAyKSkgKTsgXG4gICAgdmFyIGJpdmFyX2xvZ19kZW5zID0gbm9ybWFsaXppbmdfZmFjdG9yIC0geiAvICgyICogKDEgLSBwb3coY29yciwgMikgKSApOyBcbiAgICByZXR1cm4gYml2YXJfbG9nX2RlbnM7XG4gIH07XG4gIFxuXG4gIGxkLmxhcGxhY2UgPSBmdW5jdGlvbih4LCBsb2NhdGlvbiwgc2NhbGUpIHtcbiAgICByZXR1cm4gKC1hYnMoeCAtIGxvY2F0aW9uKS9zY2FsZSkgLSBsb2coMiAqIHNjYWxlKTtcbiAgfTtcbiAgXG4gIGxkLmRleHAgPSBsZC5sYXBsYWNlO1xuICBcbiAgbGQuZ2FtbWEgPSBmdW5jdGlvbih4LCBzaGFwZSwgcmF0ZSkge1xuICAgIHZhciBzY2FsZSA9IDEgLyByYXRlO1xuICAgIGlmICh4IDwgMCkge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgaWYoKHggPT09IDAgJiYgc2hhcGUgPT09IDEpICkge1xuICAgICAgcmV0dXJuIC1sb2coc2NhbGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKHNoYXBlIC0gMSkgKiBsb2coeCkgLSB4IC8gc2NhbGUgLSBsZ2FtbWEoc2hhcGUpIC0gc2hhcGUgKiBsb2coc2NhbGUpO1xuICAgIH1cbiAgfTtcbiAgXG4gIGxkLmludmdhbW1hID0gZnVuY3Rpb24oeCwgc2hhcGUsIHNjYWxlKSB7XG4gICAgICBpZiAoeCA8PSAwKSB7XG4gICAgICAgIHJldHVybiAtSW5maW5pdHk7XG4gICAgICB9XG4gICAgICByZXR1cm4gLShzaGFwZSArIDEpICogbG9nKHgpIC0gc2NhbGUgLyB4IC0gbGdhbW1hKHNoYXBlKSArIHNoYXBlICogbG9nKHNjYWxlKTtcbiAgICB9O1xuICBcbiAgbGQubG5vcm0gPSAgZnVuY3Rpb24oeCwgbWVhbmxvZywgc2Rsb2cpIHtcbiAgICBpZiAoeCA8PSAwKSB7XG4gICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgIH1cbiAgICByZXR1cm4gLWxvZyh4KSAtIDAuNSAqIGxvZygyICogcGkpIC0gbG9nKHNkbG9nKSAtIFxuICAgICAgICAgICAgcG93KGxvZyh4KSAtIG1lYW5sb2csIDIpIC8gKDIgKiBzZGxvZyAqIHNkbG9nKTtcbiAgfTtcbiAgXG4gIGxkLnBhcmV0byA9IGZ1bmN0aW9uKHgsIHNjYWxlLCBzaGFwZSkge1xuICAgIGlmICh4IDwgc2NhbGUpIHtcbiAgICAgIHJldHVybiAtSW5maW5pdHk7XG4gICAgfVxuICAgIHJldHVybiBsb2coc2hhcGUpICsgc2hhcGUgKiBsb2coc2NhbGUpIC0gKHNoYXBlICsgMSkgKiBsb2coeCk7XG4gIH07XG4gIFxuICBsZC50ICA9ICBmdW5jdGlvbih4LCBsb2NhdGlvbiwgc2NhbGUsIGRmKSB7XG4gICAgZGYgPSBkZiA+IDFlMTAwID8gMWUxMDAgOiBkZjtcbiAgICByZXR1cm4gbGdhbW1hKChkZiArIDEpLzIpIC0gbGdhbW1hKGRmLzIpIC0gbG9nKHNxcnQocGkgKiBkZikgKiBzY2FsZSkgK1xuICAgICAgICAgICBsb2cocG93KDEgKyAoMS9kZikgKiBwb3coKHggLSBsb2NhdGlvbikvc2NhbGUsIDIpLCAtKGRmICsgMSkvMikpO1xuICB9O1xuICBcbiAgLy8gVGhpcyBpcyBhIGRpcmVjdCBqYXZhc2NyaXB0IHRyYW5zbGF0aW9uIG9mIHRoZSBSIGNvZGUgdXNlZCB0byBldmFsdWF0ZVxuICAvLyB0aGUgbG9nIGRlbnNpdHkgb2YgYSB3ZWlidWxsIGRpc3RyaWJ1dGlvbjogXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93Y2gvci1zb3VyY2UvYmxvYi9iMTU2ZTNhNzExOTY3ZjU4MTMxZTIzYzFiMWRjMWVhOTBlMmYwYzQzL3NyYy9ubWF0aC9kd2VpYnVsbC5jXG4gIGxkLndlaWJ1bGwgPSBmdW5jdGlvbih4LCBzaGFwZSwgc2NhbGUpIHtcbiAgICBpZiAoeCA8IDApIHJldHVybiAtSW5maW5pdHk7XG4gICAgaWYoeCA9PT0gMCAmJiBzaGFwZSA8IDEpIHJldHVybiBJbmZpbml0eTtcbiAgICB2YXIgdG1wMSA9IHBvdyh4IC8gc2NhbGUsIHNoYXBlIC0gMSk7XG4gICAgdmFyIHRtcDIgPSB0bXAxICogKHggLyBzY2FsZSk7XG5cdCAgcmV0dXJuIC10bXAyICsgbG9nKHNoYXBlICogdG1wMSAvIHNjYWxlKTtcbiAgfTtcbiAgXG4gIC8vIFRoaXMgaXMgYSBkaXJlY3QgamF2YXNjcmlwdCB0cmFuc2xhdGlvbiBvZiB0aGUgUiBjb2RlIHVzZWQgdG8gZXZhbHVhdGVcbiAgLy8gdGhlIGxvZyBkZW5zaXR5IG9mIGEgbG9naXN0aWMgZGlzdHJpYnV0aW9uOiBcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3djaC9yLXNvdXJjZS9ibG9iL2IxNTZlM2E3MTE5NjdmNTgxMzFlMjNjMWIxZGMxZWE5MGUyZjBjNDMvc3JjL25tYXRoL2Rsb2dpcy5jXG4gIGxkLmxvZ2lzID0gZnVuY3Rpb24oeCwgbG9jYXRpb24sIHNjYWxlKSB7XG4gICAgeCA9IGFicygoeCAtIGxvY2F0aW9uKSAvIHNjYWxlKTtcbiAgICB2YXIgZSA9IGV4cCgteCk7XG4gICAgdmFyIGYgPSAxLjAgKyBlO1xuICAgIHJldHVybiAtKHggKyBsb2coc2NhbGUgKiBmICogZikpOyAgICBcbiAgfTtcblxuICBsZC5kaXJpY2hsZXQgPSBmdW5jdGlvbih4LCBhbHBoYSkge1xuICAgIHZhciBzdW1fYWxwaGEgPSAwO1xuICAgIHZhciBzdW1fbGdhbW1hX2FscGhhID0gMDtcbiAgICB2YXIgc3VtX2FscGhhX3N1Yl8xX2xvZ194ID0gMDtcbiAgICB2YXIgbiA9IGFscGhhLmxlbmd0aDtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzdW1fYWxwaGEgKz0gYWxwaGFbaV07XG4gICAgICBzdW1fbGdhbW1hX2FscGhhICs9IGxnYW1tYShhbHBoYVtpXSk7XG4gICAgICBzdW1fYWxwaGFfc3ViXzFfbG9nX3ggKz0gKGFscGhhW2ldIC0gMSkgKiBsb2coeFtpXSk7XG4gICAgfVxuICAgIHJldHVybiBsZ2FtbWEoc3VtX2FscGhhKSAtIHN1bV9sZ2FtbWFfYWxwaGEgKyBzdW1fYWxwaGFfc3ViXzFfbG9nX3g7XG4gIH07XG4gICBcbiAgICBcbiAgbGQuZXhwID0gZnVuY3Rpb24oeCwgcmF0ZSkge1xuICAgICAgcmV0dXJuIHggPCAwID8gLUluZmluaXR5IDogbG9nKHJhdGUpIC1yYXRlICogeDtcbiAgfTtcbiAgXG4gIGxkLnVuaWYgPSBmdW5jdGlvbih4LCBtaW4sIG1heCkge1xuICAgICAgcmV0dXJuICh4IDwgbWluIHx8IHggPiBtYXgpID8gLUluZmluaXR5IDogbG9nKDEgLyAobWF4IC0gbWluKSk7XG4gIH07XG4gIFxuICAvLy8vLy8vLy8vIERpc2NyZXRlIGRpc3RyaWJ1dGlvbnMgLy8vLy8vLy8vL1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBcbiAgbGQuYmVybiA9IGZ1bmN0aW9uKHgsIHByb2IpIHtcbiAgICAgIHJldHVybiAhKHggPT09IDAgfHwgeCA9PT0gMSkgPyAtSW5maW5pdHkgOiBsb2coeCAqIHByb2IgKyAoMSAtIHgpICogKDEgLSBwcm9iKSk7XG4gIH07XG4gIFxuICBsZC5jYXQgPSBmdW5jdGlvbih4LCBwcm9icykge1xuICAgIGlmKHggPCAxIHx8IHggPiBwcm9icy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAtSW5maW5pdHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBsb2coIHByb2JzW3ggLSAxXSApO1xuICAgIH1cbiAgfTtcbiAgXG4gIGxkLmJpbm9tID0gZnVuY3Rpb24oeCwgc2l6ZSwgcHJvYikge1xuICAgIGlmKHggPiBzaXplIHx8IHggPCAwKSB7XG4gICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgIH1cbiAgICBpZihwcm9iID09PSAwIHx8IHByb2IgPT09IDEpIHtcbiAgICAgIHJldHVybiAoc2l6ZSAqIHByb2IpID09PSB4ID8gMCA6IC1JbmZpbml0eTtcbiAgICB9XG4gICAgcmV0dXJuIGxjaG9vc2Uoc2l6ZSwgeCkgKyB4ICogbG9nKHByb2IpICsgKHNpemUgLSB4KSAqIGxvZygxIC0gcHJvYik7XG4gIH07XG4gIFxuICB2YXIgbXVsdGlub20gPSBmdW5jdGlvbih4LCBwcm9icykge1xuICAgIHZhciBuID0geC5sZW5ndGg7XG4gICAgdmFyIHNpemUgPSAwO1xuICAgIHZhciB0bXBfdGVybSA9IDA7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgaWYocHJvYnNbaV0gPT09IDApIHtcbiAgICAgICAgaWYoeFtpXSAhPT0gMCkge1xuICAgICAgICAgIHJldHVybiAtSW5maW5pdHk7ICBcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2l6ZSArPSB4W2ldO1xuICAgICAgICB0bXBfdGVybSArPSB4W2ldICogbG9nKHByb2JzW2ldKSAtIGxnYW1tYSh4W2ldICsgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsZ2FtbWEoc2l6ZSArIDEpICsgdG1wX3Rlcm0gO1xuICB9O1xuICBcbiAgbGQubmJpbm9tID0gZnVuY3Rpb24oeCwgc2l6ZSwgcHJvYikge1xuICAgIGlmKHggPCAwKSB7XG4gICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgIH1cbiAgICByZXR1cm4gbGNob29zZSh4ICsgc2l6ZSAtIDEsIHNpemUgLSAxKSArIHggKiBsb2coMSAtIHByb2IpICsgc2l6ZSAqIGxvZyhwcm9iKTtcbiAgfTtcbiAgXG4gIGxkLmh5cGVyID0gZnVuY3Rpb24oeCwgbSwgbiwgaykge1xuICAgIGlmKHggPCAwIHx8IHggPiBrKSB7XG4gICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxjaG9vc2UobSwgeCkgKyBsY2hvb3NlKG4sIGsteCkgLSBsY2hvb3NlKG0rbiwgayk7XG4gICAgfVxuICB9O1xuICBcbiAgbGQucG9pcyA9IGZ1bmN0aW9uKHgsIGxhbWJkYSkge1xuICAgICAgcmV0dXJuIHggPCAwID8gLUluZmluaXR5IDogbG9nKGxhbWJkYSkgKiB4IC0gbGFtYmRhIC0gbGZhY3RvcmlhbCh4KTtcbiAgfTtcbiAgXG4gIHJldHVybiBsZDtcbn0pKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLy8gVGhpcyBib2lsZXIgcGxhdGUgY29kZSBoZXJlIGlzIHRha2VuIGZyb206XG4vLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3RlbXBsYXRlcy9yZXR1cm5FeHBvcnRzLmpzXG4vLyBJdCBzaG91bGQgbWFrZSBzaHVyZSB0aGF0IG1vZHVsZSBjYW4gYmUgaW1wb3J0ZWQgYm90aCBpbiB0aGUgYnJvd3Nlcixcbi8vIE5vZGUsIGFuZCBieSB1c2luZyB0aGUgQXN5bmNocm9ub3VzIE1vZHVsZSBEZWZpbml0aW9uIHN0YW5kYXJkLlxuLy8gSWYgdGhpcyBtb2R1bGUgaXMgbG9hZGVkIGluIHRoZSBicm93c2VyIGl0IHdpbGwgY3JlYXRlZCB0aGUgZ2xvYmFsXG4vLyBvYmplY3QgbWNtYyAuXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICAgICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgICAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAgICAgLy8gbGlrZSBOb2RlLlxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuICAgICAgICByb290Lm1jbWMgPSBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oKXtcblxuLy8vIFRoZSBhY3R1YWwgbW9kdWxlIGNvZGUgc3RhcnRzIGhlcmUgLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gIFxuICBcbiAgLy8vLy8vLy8vLyBIZWxwZXIgRnVuY3Rpb25zIC8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgXG4gIC8qKiBSZXR1cm5zIGEgcmFuZG9tIHJlYWwgbnVtYmVyIGJldHdlZW4gbWluIGFuZCBtYXggKi9cbiAgdmFyIHJ1bmlmID0gZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluO1xuICB9O1xuICBcbiAgLyoqIFJldHVybnMgYSByYW5kb20gaW50ZWdlciBiZXR3ZWVuIG1pbiBhbmQgbWF4ICovXG4gIHZhciBydW5pZl9kaXNjcmV0ZSA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XG4gIH07XG4gIFxuICAvKiogUmV0dXJucyBhIHJhbmRvbSByZWFsIG51bWJlciBmcm9tIGEgbm9ybWFsIGRpc3RyaWJidXRpb24gZGVmaW5lZFxuICAgKiAgYnkgbWVhbiBhbmQgc2QuIFxuICAgKiAgQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9qc3RhdC9qc3RhdC9ibG9iL21hc3Rlci9zcmMvc3BlY2lhbC5qcyAqL1xuICB2YXIgcm5vcm0gPSBmdW5jdGlvbihtZWFuLCBzZCkge1xuICAgIHZhciB1LCB2LCB4LCB5LCBxO1xuICAgIGRvIHtcbiAgICAgIHUgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgdiA9IDEuNzE1NiAqIChNYXRoLnJhbmRvbSgpIC0gMC41KTtcbiAgICAgIHggPSB1IC0gMC40NDk4NzE7XG4gICAgICB5ID0gTWF0aC5hYnModikgKyAwLjM4NjU5NTtcbiAgICAgIHEgPSB4ICogeCArIHkgKiAoMC4xOTYwMCAqIHkgLSAwLjI1NDcyICogeCk7XG4gICAgfSB3aGlsZSAocSA+IDAuMjc1OTcgJiYgKHEgPiAwLjI3ODQ2IHx8IHYgKiB2ID4gLTQgKiBNYXRoLmxvZyh1KSAqIHUgKiB1KSk7XG4gICAgXG4gICAgcmV0dXJuICh2IC8gdSkgKiBzZCArIG1lYW47XG4gIH07XG4gIFxuICBcbiAgLyoqIFJldHVybnMgYSBkZWVwIGNsb25lIG9mIHNyYywgc29ydCBvZi4uLiBJdCBvbmx5IGNvcGllcyBhIGxpbWl0ZWRcbiAgICogbnVtYmVyIG9mIHR5cGVzIGFuZCwgZm9yIGV4YW1wbGUsIGZ1bmN0aW9uIGFyZSBub3QgY29waWVkLiBcbiAgICogRnJvbSBodHRwOi8vZGF2aWR3YWxzaC5uYW1lL2phdmFzY3JpcHQtY2xvbmVcbiAgICovXG4gIHZhciBkZWVwX2Nsb25lID0gZnVuY3Rpb24oc3JjKSB7XG4gIFx0ZnVuY3Rpb24gbWl4aW4oZGVzdCwgc291cmNlLCBjb3B5RnVuYykge1xuICBcdFx0dmFyIG5hbWUsIHMsIGksIGVtcHR5ID0ge307XG4gIFx0XHRmb3IobmFtZSBpbiBzb3VyY2Upe1xuICBcdFx0XHQvLyB0aGUgKCEobmFtZSBpbiBlbXB0eSkgfHwgZW1wdHlbbmFtZV0gIT09IHMpIGNvbmRpdGlvbiBhdm9pZHMgY29weWluZyBwcm9wZXJ0aWVzIGluIFwic291cmNlXCJcbiAgXHRcdFx0Ly8gaW5oZXJpdGVkIGZyb20gT2JqZWN0LnByb3RvdHlwZS5cdCBGb3IgZXhhbXBsZSwgaWYgZGVzdCBoYXMgYSBjdXN0b20gdG9TdHJpbmcoKSBtZXRob2QsXG4gIFx0XHRcdC8vIGRvbid0IG92ZXJ3cml0ZSBpdCB3aXRoIHRoZSB0b1N0cmluZygpIG1ldGhvZCB0aGF0IHNvdXJjZSBpbmhlcml0ZWQgZnJvbSBPYmplY3QucHJvdG90eXBlXG4gIFx0XHRcdHMgPSBzb3VyY2VbbmFtZV07XG4gIFx0XHRcdGlmKCEobmFtZSBpbiBkZXN0KSB8fCAoZGVzdFtuYW1lXSAhPT0gcyAmJiAoIShuYW1lIGluIGVtcHR5KSB8fCBlbXB0eVtuYW1lXSAhPT0gcykpKXtcbiAgXHRcdFx0XHRkZXN0W25hbWVdID0gY29weUZ1bmMgPyBjb3B5RnVuYyhzKSA6IHM7XG4gIFx0XHRcdH1cbiAgXHRcdH1cbiAgXHRcdHJldHVybiBkZXN0O1xuICBcdH1cbiAgXHRpZighc3JjIHx8IHR5cGVvZiBzcmMgIT0gXCJvYmplY3RcIiB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3JjKSA9PT0gXCJbb2JqZWN0IEZ1bmN0aW9uXVwiKXtcbiAgXHRcdC8vIG51bGwsIHVuZGVmaW5lZCwgYW55IG5vbi1vYmplY3QsIG9yIGZ1bmN0aW9uXG4gIFx0XHRyZXR1cm4gc3JjO1x0Ly8gYW55dGhpbmdcbiAgXHR9XG4gIFx0aWYoc3JjLm5vZGVUeXBlICYmIFwiY2xvbmVOb2RlXCIgaW4gc3JjKXtcbiAgXHRcdC8vIERPTSBOb2RlXG4gIFx0XHRyZXR1cm4gc3JjLmNsb25lTm9kZSh0cnVlKTsgLy8gTm9kZVxuICBcdH1cbiAgXHRpZihzcmMgaW5zdGFuY2VvZiBEYXRlKXtcbiAgXHRcdC8vIERhdGVcbiAgXHRcdHJldHVybiBuZXcgRGF0ZShzcmMuZ2V0VGltZSgpKTtcdC8vIERhdGVcbiAgXHR9XG4gIFx0aWYoc3JjIGluc3RhbmNlb2YgUmVnRXhwKXtcbiAgXHRcdC8vIFJlZ0V4cFxuICBcdFx0cmV0dXJuIG5ldyBSZWdFeHAoc3JjKTsgICAvLyBSZWdFeHBcbiAgXHR9XG4gIFx0dmFyIHIsIGksIGw7XG4gIFx0aWYoc3JjIGluc3RhbmNlb2YgQXJyYXkpe1xuICBcdFx0Ly8gYXJyYXlcbiAgXHRcdHIgPSBbXTtcbiAgXHRcdGZvcihpID0gMCwgbCA9IHNyYy5sZW5ndGg7IGkgPCBsOyArK2kpe1xuICBcdFx0XHRpZihpIGluIHNyYyl7XG4gIFx0XHRcdFx0ci5wdXNoKGRlZXBfY2xvbmUoc3JjW2ldKSk7XG4gIFx0XHRcdH1cbiAgXHRcdH1cbiAgXHR9IGVsc2Uge1xuICBcdFx0Ly8gZ2VuZXJpYyBvYmplY3RzXG4gIFx0XHRyID0gc3JjLmNvbnN0cnVjdG9yID8gbmV3IHNyYy5jb25zdHJ1Y3RvcigpIDoge307XG4gIFx0fVxuICBcdHJldHVybiBtaXhpbihyLCBzcmMsIGRlZXBfY2xvbmUpO1xuICB9O1xuICBcbiAgLyoqIFNwZWNpYWxpemVkIGNsb25lIGZ1bmN0aW9uIHRoYXQgb25seSBjbG9uZXMgc2NhbGFycyBhbmQgbmVzdGVkIGFycmF5cyB3aGVyZVxuICAgKiBlYWNoIGFycmF5IGVpdGhlciBjb25zaXN0cyBvZiBhbGwgYXJyYXlzIG9yIGFsbCBudW1iZXJzLiBUaGlzIGZ1bmN0aW9uXG4gICAqIGlzIG1lYW50IGFzIGEgZmFzdCB3YXkgb2YgY2xvbmluZyBwYXJhbWV0ZXIgZHJhd3Mgd2l0aGluIHRoZSBtY21jIHNhbXBsaW5nXG4gICAqIGxvb3AuXG4gICAqL1xuICB2YXIgY2xvbmVfcGFyYW1fZHJhdyA9IGZ1bmN0aW9uKHgpIHtcbiAgICBpZihBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgICBpZihBcnJheS5pc0FycmF5KHhbMF0pKSB7XG4gICAgICAgIC8vIHggaXMgYW4gYXJyYXkgb2YgYXJyYXlzIHNvIHdlIG5lZWQgdG8gY2xvbmUgaXQgcmVjdXJzaXZlbHlcbiAgICAgICAgdmFyIHhfY29weSA9IFtdO1xuICAgICAgICBmb3IodmFyIGkgPSAwLCBsZW5ndGggPSB4Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgeF9jb3B5LnB1c2goY2xvbmVfcGFyYW1fZHJhdyh4W2ldKSk7XG4gICAgICAgIH0gXG4gICAgICAgIHJldHVybiB4X2NvcHk7XG4gICAgICB9IGVsc2UgeyAvLyBXZSdsbCBhc3N1bWUgeCBpcyBhIGFycmF5cyBvZiBzY2FsYXJzXG4gICAgICAgIHJldHVybiB4LnNsaWNlKDApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIFdlJ2xsIGFzc3VtZSB4IGlzIGEgc2NhbGFyXG4gICAgICByZXR1cm4geDtcbiAgICB9XG4gIH07XG4gIFxuICAvKiogUmV0dXJucyB0cnVlIGlmIG9iamVjdCBpcyBhIG51bWJlci5cbiAgICovXG4gIHZhciBpc19udW1iZXIgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09IFwibnVtYmVyXCIgfHwgKHR5cGVvZiBvYmplY3QgPT0gXCJvYmplY3RcIiAmJiBvYmplY3QuY29uc3RydWN0b3IgPT09IE51bWJlcik7XG4gIH07XG4gIFxuICAvKipcbiAgICogQ3JlYXRlcyBhbmQgaW5pdGlhbGl6ZXMgYSAocG9zc2libHkgbXVsdGlkaW1lbnNpb25hbC9uZXN0ZWQpIGFycmF5LlxuICAgKiBAcGFyYW0gZGltIC0gQW4gYXJyYXkgZ2l2aW5nIHRoZSBkaW1lbnNpb24gb2YgdGhlIGFycmF5LiBGb3IgZXhhbXBsZSxcbiAgICogICBbNV0gd291bGQgeWllbGQgYSA1IGVsZW1lbnQgYXJyYXksIGFuZCBbMywzXSB3b3VsZCB5aWVsZCBhIDMgYnkgMyBtYXRyaXguXG4gICAqIEBwYXJhbSBpbml0IC0gQSB2YWx1ZSBvciBhIGZ1bmN0aW9uIHVzZWQgdG8gZmlsbCBpbiB0aGUgZWFjaCBlbGVtZW50IGluXG4gICAqICAgdGhlIGFycmF5LiBJZiBpdCBpcyBhIGZ1bmN0aW9uIGl0IHNob3VsZCB0YWtlIG5vIGFyZ3VtZW50cywgaXQgd2lsbCBiZSBcbiAgICogICBldmFsdWF0ZWQgb25jZSBmb3IgZWFjaCBlbGVtZW50LCBhbmQgaXQncyByZXR1cm4gdmFsdWUgd2lsbCBiZSB1c2VkIHRvXG4gICAqICAgZmlsbCBpbiBlYWNoIGVsZW1lbnQuXG4gICAqIEBleGFtcGxlIFxuICAgKiAvLyBUaGUgZm9sbG93aW5nIHdvdWxkIHJldHVybiBbWzEsMV0sWzEsMV0sWzEsMV1dXG4gICAqIGNyZWF0ZV9hcnJheShbMiwzXSwgMSlcbiAgICovXG4gIHZhciBjcmVhdGVfYXJyYXkgPSBmdW5jdGlvbihkaW0sIGluaXQpIHtcbiAgICB2YXIgYXJyID0gbmV3IEFycmF5KGRpbVswXSk7XG4gICAgdmFyIGk7XG4gICAgaWYoZGltLmxlbmd0aCA9PSAxKSB7IC8vIEZpbGwgaXQgdXAgd2l0aCBpbml0XG4gICAgICBpZih0eXBlb2YgaW5pdCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGZvcihpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7XG4gICAgICAgICAgYXJyW2ldID0gaW5pdCgpO1xuICAgICAgICB9ICBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcihpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7XG4gICAgICAgICAgYXJyW2ldID0gaW5pdDtcbiAgICAgICAgfSBcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYoZGltLmxlbmd0aCA+IDEpIHtcbiAgICAgIGZvcihpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7XG4gICAgICAgIGFycltpXSA9IGNyZWF0ZV9hcnJheShkaW0uc2xpY2UoMSksIGluaXQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBcImNyZWF0ZV9hcnJheSBjYW4ndCBjcmVhdGUgYSBkaW1lbnNpb25sZXNzIGFycmF5XCI7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH07XG4gIFxuICAvKipcbiAgICogUmV0dXJuIHRoZSBkaW1lbnNpb25zIG9mIGEgcG9zc2libHkgbmVzdGVkIGFycmF5IGFzIGFuIGFycmF5LiBGb3IgXG4gICAqIGV4YW1wbGUsIGFycmF5X2RpbSggW1sxLCAyXSwgWzEsIDJdXSApIHNob3VsZCByZXR1cm4gWzIsIDJdXG4gICAqIEFzc3VtZXMgdGhhdCBhbGwgYXJyYXlzIGluc2lkZSBhbm90aGVyIGFycmF5IGFyZSBvZiB0aGUgc2FtZSBsZW5ndGguXG4gICAqIEBleGFtcGxlXG4gICAqIC8vIFNob3VsZCByZXR1cm4gWzQsIDIsIDFdXG4gICAqIGFycmF5X2RpbShjcmVhdGVfYXJyYXkoWzQsIDIsIDFdLCAwKSlcbiAgICovXG4gIHZhciBhcnJheV9kaW0gPSBmdW5jdGlvbihhKSB7XG4gICAgaWYoQXJyYXkuaXNBcnJheShhWzBdKSkge1xuICAgICAgcmV0dXJuIFthLmxlbmd0aF0uY29uY2F0KGFycmF5X2RpbShhWzBdKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbYS5sZW5ndGhdO1xuICAgIH1cbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdHdvIGFycmF5cyBhcmUgZXF1YWwgaW4gdGhlIHNlbnNlIHRoYXQgdGhleSBjb250YWluIHRoZSBzYW1lIGVsZW1lbnRzXG4gICAqIGFzIGp1ZGdlZCBieSB0aGUgXCI9PVwiIG9wZXJhdG9yLiBSZXR1cm5zIHRydWUgb3IgZmFsc2UuXG4gICAqIEFkYXB0ZWQgZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNDg1Mzk3NC8xMDAxODQ4XG4gICAqLyBcbiAgdmFyIGFycmF5X2VxdWFsID0gZnVuY3Rpb24gKGExLCBhMikge1xuICAgICAgaWYgKGExLmxlbmd0aCAhPSBhMi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYTEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIG5lc3RlZCBhcnJheXNcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhMVtpXSkgJiYgQXJyYXkuaXNBcnJheShhMltpXSkpIHtcbiAgICAgICAgICAgICAgLy8gcmVjdXJzZSBpbnRvIHRoZSBuZXN0ZWQgYXJyYXlzXG4gICAgICAgICAgICAgIGlmICghYXJyYXlfZXF1YWwoYTFbaV0sIGEyW2ldKSkgcmV0dXJuIGZhbHNlOyAgICAgICBcbiAgICAgICAgICB9ICAgICAgICAgICBcbiAgICAgICAgICBlbHNlIGlmIChhMVtpXSAhPSBhMltpXSkgeyBcbiAgICAgICAgICAgICAgLy8gV2FybmluZyAtIHR3byBkaWZmZXJlbnQgb2JqZWN0IGluc3RhbmNlcyB3aWxsIG5ldmVyIGJlIGVxdWFsOiB7eDoyMH0gIT0ge3g6MjB9XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgICBcbiAgICAgICAgICB9ICAgICAgICAgICBcbiAgICAgIH0gICAgICAgXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBUcmF2ZXJzZXMgYSBwb3NzaWJseSBuZXN0ZWQgYXJyYXkgYSBhbmQgYXBwbGllcyBmdW4gdG8gYWxsIFwibGVhZiBub2Rlc1wiLCBcbiAgICogdGhhdCBpcywgdmFsdWVzIHRoYXQgYXJlIG5vdCBhcnJheXMuIFJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHNhbWUgc2l6ZSBhc1xuICAgKiBhLlxuICAgKi9cbiAgdmFyIG5lc3RlZF9hcnJheV9hcHBseSA9IGZ1bmN0aW9uKGEsIGZ1bikge1xuICAgIGlmKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgQXJyYXkoYS5sZW5ndGgpO1xuICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0W2ldID0gbmVzdGVkX2FycmF5X2FwcGx5KGFbaV0sIGZ1bik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuKGEpO1xuICAgIH1cbiAgfTtcbiAgXG4gIC8qKiBSYW5kb21pemluZyB0aGUgYXJyYXkgZWxlbWVudCBvcmRlciBpbi1wbGFjZS4gVXNpbmcgRHVyc3RlbmZlbGRcbiAgICogc2h1ZmZsZSBhbGdvcml0aG0uIEFkYXB0ZWQgZnJvbSBoZXJlOiBcbiAgICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTI2NDY4NjQvMTAwMTg0OFxuICAgKi9cbiAgZnVuY3Rpb24gc2h1ZmZsZV9hcnJheShhcnJheSkge1xuICAgICAgZm9yICh2YXIgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgICB2YXIgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xuICAgICAgICAgIHZhciB0ZW1wID0gYXJyYXlbaV07XG4gICAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtqXTtcbiAgICAgICAgICBhcnJheVtqXSA9IHRlbXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBEb2VzIHRoZSBzYW1lIHRoaW5nIGFzIG5lc3RlZF9hcnJheV9hcHBseSwgdGhhdCBpcywgdHJhdmVyc2VzIGEgcG9zc2libHlcbiAgICogbmVzdGVkIGFycmF5IGEgYW5kIGFwcGxpZXMgZnVuIHRvIGFsbCBcImxlYWYgbm9kZXNcIiBhbmQgcmV0dXJucyBhbiBhcnJheSBcbiAgICogb2YgdGhlIHNhbWUgc2l6ZSBhcyBhLiBUaGUgZGlmZmVyZW5jZSBpcyB0aGF0IG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHlcbiAgICogYnJhbmNoZXMgcmFuZG9tbHkuXG4gICAqL1xuICB2YXIgbmVzdGVkX2FycmF5X3JhbmRvbV9hcHBseSA9IGZ1bmN0aW9uKGEsIGZ1bikge1xuICAgIGlmKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICAgIHZhciBsZW4gPSBhLmxlbmd0aDtcbiAgICAgIHZhciBpO1xuICAgICAgdmFyIGFycmF5X2lzID0gW107XG4gICAgICBmb3IoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBhcnJheV9pc1tpXSA9IGk7XG4gICAgICB9XG4gICAgICBzaHVmZmxlX2FycmF5KGFycmF5X2lzKTtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIFxuICAgICAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGFycmF5X2kgPSBhcnJheV9pc1tpXTtcbiAgICAgICAgcmVzdWx0W2FycmF5X2ldID0gbmVzdGVkX2FycmF5X2FwcGx5KGFbYXJyYXlfaV0sIGZ1bik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuKGEpO1xuICAgIH1cbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBBbGxvd3MgYSBwcmV0dHkgd2F5IG9mIHNldHRpbmcgZGVmYXVsdCBvcHRpb25zIHdoZXJlIHRoZSBkZWZ1bHRzIGNhbiBiZVxuICAgKiBvdmVycmlkZGVuIGJ5IGFuIG9wdGlvbnMgb2JqZWN0LlxuICAgKiAgQHBhcmFtIG9wdGlvbl9uYW1lIC0gdGhlIG5hbWUgb2YgdGhlIG9wdGlvbiBhcyBhIHN0cmluZ1xuICAgKiAgQHBhcmFtIG15X29wdGlvbnMgLSBhbiBvcHRpb24gb2JqZWN0IHRoYXQgY291bGQgaGF2ZSBvcHRpb25fbmFtZSBcbiAgICogICAgYXMgYSBtZW1iZXIuXG4gICAqIEBwYXJhbSBkZWZhdWxfdmFsdWUgLSBkZWZ1bHQgdmFsdWUgdGhhdCBpcyByZXR1cm5lZCBpZiBvcHRpb25fbmFtZSBcbiAgICogICBpcyBub3QgZGVmaW5lZCBpbiBteV9vcHRpb25zLlxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgbXlfb3B0aW9ucyA9IHtwaTogMy4xNDE1OX1cbiAgICogdmFyIHBpID0gZ2V0X29wdGlvbihcInBpXCIsIG15X29wdGlvbnMsIDMuMTQpXG4gICAqL1xuICAvLyBQcmV0dHkgd2F5IG9mIHNldHRpbmcgZGVmYXVsdCBvcHRpb25zIHdoZXJlIHRoZSBkZWZhdWx0cyBjYW4gYmUgb3ZlcnJpZGRlblxuICAvLyBieSBhbiBvcHRpb25zIG9iamVjdC4gRm9yIGV4YW1wbGU6XG4gIC8vIHZhciBwaSA9IGdldF9vcHRpb24oXCJwaVwiLCBteV9vcHRpb25zLCAzLjE0KVxuICB2YXIgZ2V0X29wdGlvbiA9IGZ1bmN0aW9uKG9wdGlvbl9uYW1lLCBvcHRpb25zLCBkZWZhdWxfdmFsdWUpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICByZXR1cm4gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb25fbmFtZSkgJiYgXG4gICAgICAgICAgIG9wdGlvbnNbb3B0aW9uX25hbWVdICE9PSB1bmRlZmluZWQgICYmIFxuICAgICAgICAgICBvcHRpb25zW29wdGlvbl9uYW1lXSAhPT0gbnVsbCA/IG9wdGlvbnNbb3B0aW9uX25hbWVdIDogZGVmYXVsX3ZhbHVlO1xuICB9O1xuICBcbiAgLyoqIFZlcnNpb24gb2YgZ2V0X29wdGlvbiB3aGVyZSB0aGUgb3B0aW9uIHNob3VsZCBiZSBhIG9uZSBvciBtdWx0aS1kaW1lbnNpb25hbFxuICAgKiBhcnJheSBhbmQgd2hlcmUgdGhlIGRlZmF1bHQgY2FuIGJlIG92ZXJyaWRkZW4gZWl0aGVyIGJ5IGEgc2NhbGFyIG9yIGJ5IGFuIGFycmF5LlxuICAgKiBJZiBpdCdzIGEgc2NhbGFyIHRoZSB0aGF0IHNjYWxhciBpcyB1c2VkIHRvIGluaXRpYWxpemUgYW4gYXJyYXkgd2l0aCBcbiAgICogZGltIGRpbWVuc2lvbnMuXG4gICAqIFxuICAgKi9cbiAgdmFyIGdldF9tdWx0aWRpbV9vcHRpb24gPSBmdW5jdGlvbihvcHRpb25fbmFtZSwgb3B0aW9ucywgZGltLCBkZWZhdWxfdmFsdWUpIHtcbiAgICB2YXIgdmFsdWUgPSBnZXRfb3B0aW9uKG9wdGlvbl9uYW1lLCBvcHRpb25zLCBkZWZhdWxfdmFsdWUpO1xuICAgICBpZighIEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgdmFsdWUgPSBjcmVhdGVfYXJyYXkoZGltLCB2YWx1ZSk7XG4gICAgIH0gXG4gICAgIGlmKCEgYXJyYXlfZXF1YWwoIGFycmF5X2RpbSh2YWx1ZSksIGRpbSkpIHtcbiAgICAgICB0aHJvdyBcIlRoZSBvcHRpb24gXCIgKyBvcHRpb25fbmFtZSArIFwiIGlzIG9mIGRpbWVuc2lvbiBbXCIgKyBcbiAgICAgICAgICAgICBhcnJheV9kaW0odmFsdWUpICsgXCJdIGJ1dCBzaG91bGQgYmUgW1wiICsgZGltICsgXCJdLlwiO1xuICAgIH1cbiAgICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuICBcbiAgLy8vLy8vLy8vLyBGdW5jdGlvbnMgZm9yIGhhbmRsaW5nIHBhcmFtZXRlciBvYmplY3RzIC8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgZml4ZWQgKHNhbWUgZXZlcnkgdGltZSkgbnVtYmVyIHRoYXQgY291bGQgYmUgdXNlZCB0byBpbml0aWFsaXplXG4gICAqIGEgcGFyYW1ldGVyIG9mIGEgY2VydGFpbiB0eXBlLCBwb3NzaWJseSB3aXRoIGxvd2VyIGFuZCB1cHBlciBib3VuZHMuXG4gICAqIFRoZSBwb3NzaWxlIHR5cGVzIGFyZSBcInJlYWxcIiwgXCJpbnRcIiwgYW5kIFwiYmluYXJ5XCIuXG4gICAqL1xuICB2YXIgcGFyYW1faW5pdF9maXhlZCA9IGZ1bmN0aW9uKHR5cGUsIGxvd2VyLCB1cHBlcikge1xuICAgIGlmKGxvd2VyID4gdXBwZXIpIHtcbiAgICAgIHRocm93IFwiQ2FuIG5vdCBpbml0aWFsaXplIHBhcmFtZXRlciB3aGVyZSBsb3dlciBib3VuZCA+IHVwcGVyIGJvdW5kXCI7XG4gICAgfVxuICAgIGlmKHR5cGUgPT09IFwicmVhbFwiKSB7XG4gICAgICBpZihsb3dlciA9PT0gLUluZmluaXR5ICYmIHVwcGVyID09PSBJbmZpbml0eSkge1xuICAgICAgICByZXR1cm4gMC41O1xuICAgICAgfSBlbHNlIGlmKGxvd2VyID09PSAtSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIHVwcGVyIC0gMC41O1xuICAgICAgfSBlbHNlIGlmKHVwcGVyID09PSBJbmZpbml0eSkge1xuICAgICAgICByZXR1cm4gbG93ZXIgKyAwLjU7XG4gICAgICB9IGVsc2UgaWYobG93ZXIgPD0gdXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIChsb3dlciArIHVwcGVyKSAvIDI7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmKHR5cGUgPT09IFwiaW50XCIpIHtcbiAgICAgIGlmKGxvd2VyID09PSAtSW5maW5pdHkgJiYgdXBwZXIgPT09IEluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfSBlbHNlIGlmKGxvd2VyID09PSAtSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIHVwcGVyIC0gMTtcbiAgICAgIH0gZWxzZSBpZih1cHBlciA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIGxvd2VyICsgMTtcbiAgICAgIH0gZWxzZSBpZihsb3dlciA8PSB1cHBlcil7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKChsb3dlciArIHVwcGVyKSAvIDIpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZih0eXBlID09PSBcImJpbmFyeVwiKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgdGhyb3cgXCJDb3VsZCBub3QgaW5pdGlhbGl6ZSBwYXJhbWV0ZXIgb2YgdHlwZSBcIiArIHR5cGUgKyBcIltcIiArIGxvd2VyICsgXCIsIFwiICsgdXBwZXIgKyBcIl1cIjtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBDb21wbGV0ZXMgcGFyYW1zX3RvX2NvbXBsZXRlLCBhbiBvYmplY3QgY29udGFpbmluZyBwYXJhbWV0ZXIgZGVzY3JpcHRpb25zLCBcbiAgICogYW5kIGluaXRpYWxpemVzIG5vbi1pbml0aWFsaXplZCBwYXJhbWV0ZXJzLiBUaGlzIG1vZGlmaWVkIHZlcnNpb24gb2ZcbiAgICogcGFyYW1zX3RvX2NvbXBsZXRlIGlzIHJldHVybmVkIGFzIGEgZGVlcCBjb3B5IGFuZCBub3QgbW9kaWZpZWQgaW4gcGxhY2UuXG4gICAqIEluaXRpYWxpemF0aW9uIGlzIGRvbmUgYnkgc3VwcGx5aW5nIGEgcGFyYW1faW5pdCBmdW5jdGlvbiB3aXRoIHNpZ25hdHVyZVxuICAgKiBmdW5jdGlvbih0eXBlLCBsb3dlciwgdXBwZXIpIHRoYXQgc2hvdWxkIHJldHVybiBhIHNpbmdsZSBudW1iZXIgXG4gICAqIChsaWtlIHBhcmFtX2luaXRfZml4ZWQsIGZvciBleGFtcGxlKS5cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIHBhcmFtcyA9IHsgXCJtdVwiOiB7XCJ0eXBlXCI6IFwicmVhbFwifSB9XG4gICAqIHBhcmFtcyA9IGNvbXBsZXRlX3BhcmFtcyhwYXJhbXMpO1xuICAgKiAvLyBwYXJhbXMgc2hvdWxkIG5vdyBiZTpcbiAgICogLy8gIHtcIm11XCI6IHsgXCJ0eXBlXCI6IFwicmVhbFwiLCBcImRpbVwiOiBbMV0sIFwidXBwZXJcIjogSW5maW5pdHksXG4gICAqIC8vICAgICAgICAgICBcImxvd2VyXCI6IC1JbmZpbml0eSwgXCJpbml0XCI6IDAuNSB9fVxuICAgKi8gXG4gIHZhciBjb21wbGV0ZV9wYXJhbXMgID0gZnVuY3Rpb24ocGFyYW1zX3RvX2NvbXBsZXRlLCBwYXJhbV9pbml0KSB7XG4gICAgdmFyIHBhcmFtcyA9IGRlZXBfY2xvbmUocGFyYW1zX3RvX2NvbXBsZXRlKTtcbiAgICBmb3IgKHZhciBwYXJhbV9uYW1lIGluIHBhcmFtcykgeyBpZiAoIXBhcmFtcy5oYXNPd25Qcm9wZXJ0eShwYXJhbV9uYW1lKSkgY29udGludWU7XG4gICAgICB2YXIgcGFyYW0gPSBwYXJhbXNbcGFyYW1fbmFtZV07XG4gICAgICBpZiggIXBhcmFtLmhhc093blByb3BlcnR5KFwidHlwZVwiKSkge1xuICAgICAgICBwYXJhbS50eXBlID0gXCJyZWFsXCI7XG4gICAgICB9XG4gICAgICBpZighcGFyYW0uaGFzT3duUHJvcGVydHkoXCJkaW1cIikpIHtcbiAgICAgICAgcGFyYW0uZGltID0gWzFdO1xuICAgICAgfVxuICAgICAgaWYoaXNfbnVtYmVyKHBhcmFtLmRpbSkpIHtcbiAgICAgICAgcGFyYW0uZGltID0gW3BhcmFtLmRpbV07XG4gICAgICB9XG4gICAgICBpZihwYXJhbS50eXBlID09IFwiYmluYXJ5XCIpIHtcbiAgICAgICAgcGFyYW0udXBwZXIgPSAxO1xuICAgICAgICBwYXJhbS5sb3dlciA9IDA7XG4gICAgICB9XG4gICAgICBpZighcGFyYW0uaGFzT3duUHJvcGVydHkoXCJ1cHBlclwiKSkge1xuICAgICAgICBwYXJhbS51cHBlciA9IEluZmluaXR5O1xuICAgICAgfVxuICAgICAgaWYoIXBhcmFtLmhhc093blByb3BlcnR5KFwibG93ZXJcIikpIHtcbiAgICAgICAgcGFyYW0ubG93ZXIgPSAtSW5maW5pdHk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmKHBhcmFtLmhhc093blByb3BlcnR5KFwiaW5pdFwiKSkge1xuICAgICAgICAvLyBJZiB0aGlzIGlzIGp1c3QgYSBudW1iZXIgb3IgYSBuZXN0ZWQgYXJyYXkgd2UgbGVhdmUgaXQgYWxvbmUsIGJ1dCBpZi4uLlxuICAgICAgICBpZihhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkgJiYgdHlwZW9mIHBhcmFtLmluaXQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIC8vIHBhcmFtLmluaXQgaXMgYSBmdW5jdGlvbiwgdXNlIHRoYXQgdG8gaW5pdGlhbGl6ZSB0aGUgcGFyYW1ldGVyLlxuICAgICAgICAgIHBhcmFtLmluaXQgPSBwYXJhbS5pbml0KCk7XG4gICAgICAgIH0gZWxzZSBpZighYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pICYmICFBcnJheS5pc0FycmF5KHBhcmFtLmluaXQpKSB7XG4gICAgICAgIC8vIFdlIGhhdmUgYSBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlciB3aGVyZSB0aGUgcGFyYW0uaW5pdCBleGlzdCBidXRcbiAgICAgICAgLy8gaXMgbm90IGFuIGFycmF5LiBUaGVuIGFzc3VtZSBpdCBpcyBhIG51bWJlciBvciBhIGZ1bmN0aW9uIGFuZCB1c2VcbiAgICAgICAgLy8gaXQgdG8gaW5pdGlhbGl6ZSB0aGUgcGFyYW1ldGVyLlxuICAgICAgICBwYXJhbS5pbml0ID0gY3JlYXRlX2FycmF5KHBhcmFtLmRpbSwgcGFyYW0uaW5pdCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7IC8vIFdlIHVzZSB0aGUgZGVmYXVsdCBpbml0aWFsaXphdGlvbiBmdW5jdGlvbi5cbiAgICAgICAgaWYoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7XG4gICAgICAgICAgcGFyYW0uaW5pdCA9IHBhcmFtX2luaXQocGFyYW0udHlwZSwgcGFyYW0ubG93ZXIsIHBhcmFtLnVwcGVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJhbS5pbml0ID0gY3JlYXRlX2FycmF5KHBhcmFtLmRpbSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyYW1faW5pdChwYXJhbS50eXBlLCBwYXJhbS5sb3dlciwgcGFyYW0udXBwZXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXJhbXM7XG4gIH07XG4gIFxuICBcbiAgLy8vLy8vLy8vLyBTdGVwcGVyIEZ1bmN0aW9ucyAvLy8vLy8vLy8vL1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICBcbiAgLyoqXG4gICAqIEBpbnRlcmZhY2VcbiAgICogQSBTdGVwcGVyIGlzIGFuIG9iamVjdCByZXNwb25zaWJsZSBmb3IgcHVzaGluZyBhcm91bmQgb25lXG4gICAqIG9yIG1vcmUgcGFyYW1ldGVyIHZhbHVlcyBpbiBhIHN0YXRlIGFjY29yZGluZyB0byB0aGUgZGlzdHJpYnV0aW9uXG4gICAqIGRlZmluZWQgYnkgdGhlIGxvZyBwb3N0ZXJpb3IuIFRoaXMgZGVmaW5lcyB0aGUgU3RlcHBlciBcImludGVyZmFjZVwiLFxuICAgKiB3aGVyZSBcImludGVyZmFjZVwiIG1lYW5zIHRoYXQgU3RlcHBlciBkZWZpbmVzIGEgY2xhc3MgdGhhdCBpcyBuZXZlclxuICAgKiBtZWFudCB0byBiZSBpbnN0YW50aWF0ZWQsIGJ1dCBqdXN0IHRvIGJlIHN1YmNsYXNzZWQgYnkgc3BlY2lhbGl6ZWRcbiAgICogc3RlcHBlciBmdW5jdGlvbnMuXG4gICAqIEBpbnRlcmZhY2VcbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIHBhcmFtZXRlciBkZWZpbml0aW9ucywgZm9yIGV4YW1wbGU6XG4gICAqICAge1wibXVcIjogeyBcInR5cGVcIjogXCJyZWFsXCIsIFwiZGltXCI6IFsxXSwgXCJ1cHBlclwiOiBJbmZpbml0eSwgXG4gICAqICAgXCJsb3dlclwiOiAtSW5maW5pdHksIFwiaW5pdFwiOiAwLjUgfX1cbiAgICogICBUaGUgcGFyYW1ldGVyIGRlZmluaXRpb25zIGFyZSBleHBlY3RlZCB0byBiZSBcImNvbXBsZXRlXCIsIHRoYXQgaXMsXG4gICAqICAgc3BlY2lmeWluZyBhbGwgcmVsZXZhbnQgYXR0cmlidXRlcyBzdWNoIGFzIGRpbSwgbG93ZXIgYW5kIHVwcGVyLlxuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMgaW4gcGFyYW1zXG4gICAqICAgKGFuZCBwb3NzaWJseSBtb3JlKS4gVGhlIHBhcmFtZXRlciBuYW1lcyBhcmUgZ2l2ZW4gYXMga2V5cyBhbmQgdGhlIHN0YXRlc1xuICAgKiAgIGFzIHNjYWxhcnMgb3IsIHBvc3NpYmx5IG5lc3RlZCwgYXJyYXlzLiBGb3IgZXhhbXBsZTpcbiAgICogICB7bXU6IDEwLCBzaWdtYTogNSwgYmV0YTogWzEsIDIuNV19XG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gKnRha2luZyBubyBwYXJhbWV0ZXJzKiB0aGF0IHJldHVybnMgdGhlXG4gICAqICAgbG9nIGRlbnNpdHkgdGhhdCBkZXBlbmRzIG9uIHRoZSBzdGF0ZS4gVGhhdCBpcywgdGhlIHZhbHVlIG9mIGxvZ19wb3N0XG4gICAqICAgc2hvdWxkIGNoYW5nZSBpZiB0aGUgdGhlIHZhbHVlcyBpbiBzdGF0ZSBhcmUgY2hhbmdlZC5cbiAgXG4gICAqL1xuICB2YXIgU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KSB7XG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMubG9nX3Bvc3QgPSBsb2dfcG9zdDtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBUYWtlcyBhIHN0ZXAgaW4gdGhlIHBhcmFtZXRlciBzcGFjZS4gU2hvdWxkIHJldHVybiB0aGUgbmV3IHN0YXRlLFxuICAgKiBidXQgaXMgbWFpbmx5IGNhbGxlZCBmb3IgaXQncyBzaWRlIGVmZmVjdCBvZiBtYWtpbmcgYSBjaGFuZ2UgaW4gdGhlXG4gICAqIHN0YXRlIG9iamVjdC5cbiAgICovXG4gIFN0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbigpIHtcbiAgICB0aHJvdyBcIkV2ZXJ5IFN0ZXBwZXIgbmVlZCB0byBpbXBsZW1lbnQgc3RlcCgpXCI7XG4gIH07XG4gIFxuICAvKipcbiAgICogSWYgaW1wbGVtZW50ZWQsIG1ha2VzIHRoZSBzdGVwcGVyIGFkYXB0IHdoaWxlIHN0ZXBwaW5nLlxuICAgKi8gXG4gIFN0ZXBwZXIucHJvdG90eXBlLnN0YXJ0X2FkYXB0YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAvLyBPcHRpb25hbCwgc29tZSBzdGVwcGVycyBtaWdodCBub3QgYmUgYWRhcHRpdmUuICovIFxuICB9O1xuICBcbiAgLyoqXG4gICAqIElmIGltcGxlbWVudGVkLCBtYWtlcyB0aGUgc3RlcHBlciBjZWFzZSBhZGFwdGluZyB3aGlsZSBzdGVwcGluZy5cbiAgICovIFxuICBTdGVwcGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAvLyBPcHRpb25hbCwgc29tZSBzdGVwcGVycyBtaWdodCBub3QgYmUgYWRhcHRpdmUuICovIFxuICB9O1xuICBcbiAgLyoqXG4gICAqIFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5nIGluZm8gcmVnYXJkaW5nIHRoZSBzdGVwcGVyLlxuICAgKi8gXG4gIFN0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbigpIHtcbiAgICAvLyBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGluZm8gYWJvdXQgdGhlIHN0YXRlIG9mIHRoZSBzdGVwcGVyLlxuICAgIHJldHVybiB7fTtcbiAgfTtcbiAgXG4gIFxuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtTdGVwcGVyfVxuICAgKiBDb25zdHJ1Y3RvciBmb3IgYW4gb2JqZWN0IHRoYXQgaW1wbGVtZW50cyB0aGUgbWV0cm9wb2xpcyBzdGVwIGluXG4gICAqIHRoZSBBZGFwdGl2ZSBNZXRyb3BvbGlzLVdpdGhpbi1HaWJicyBhbGdvcml0aG0gaW4gXCJFeGFtcGxlcyBvZiBBZGFwdGl2ZSBNQ01DXCJcbiAgICogYnkgUm9iZXJ0cyBhbmQgUm9zZW50aGFsICgyMDA4KS5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uLlxuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAgKiBAcGFyYW0gZ2VuZXJhdGVfcHJvcG9zYWwgLSBhIGZ1bmN0aW9uIHJldHVybmluZyBhIHByb3Bvc2FsIChhcyBhIG51bWJlcilcbiAgICogd2l0aCBzaWduYXR1cmUgZnVuY3Rpb24ocGFyYW1fc3RhdGUsIGxvZ19zY2FsZSkgd2hlcmUgcGFyYW1fc3RhdGUgaXMgYVxuICAgKiBudW1iZXIgYW5kIGxvZ19zY2FsZSBkZWZpbmVzIHRoZSBzY2FsZSBvZiB0aGUgcHJvcG9zYWwgc29tZWhvdy5cbiAgKi9cbiAgdmFyIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyID0gZnVuY3Rpb24ocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIGdlbmVyYXRlX3Byb3Bvc2FsKSB7XG4gICAgU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KTtcbiAgICBcbiAgICB2YXIgcGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7XG4gICAgaWYocGFyYW1fbmFtZXMubGVuZ3RoICAhPSAxKSB7XG4gICAgICB0aHJvdyBcIk9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIGNhbiBvbmx5IGhhbmRsZSBvbmUgcGFyYW1ldGVyLlwiO1xuICAgIH1cbiAgICB0aGlzLnBhcmFtX25hbWUgPSBwYXJhbV9uYW1lc1swXTtcbiAgICB2YXIgcGFyYW0gPSB0aGlzLnBhcmFtc1t0aGlzLnBhcmFtX25hbWVdO1xuICAgIGlmKCFhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHtcbiAgICAgIHRocm93IFwiT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIgY2FuIG9ubHkgaGFuZGxlIG9uZSBvbmUtZGltZW5zaW9uYWwgcGFyYW1ldGVyLlwiO1xuICAgIH1cbiAgICB0aGlzLmxvd2VyID0gcGFyYW0ubG93ZXI7XG4gICAgdGhpcy51cHBlciA9IHBhcmFtLnVwcGVyO1xuICAgIFxuICAgIHRoaXMucHJvcF9sb2dfc2NhbGUgICAgID0gZ2V0X29wdGlvbihcInByb3BfbG9nX3NjYWxlXCIsIG9wdGlvbnMsIDApO1xuICAgIHRoaXMuYmF0Y2hfc2l6ZSAgICAgICAgID0gZ2V0X29wdGlvbihcImJhdGNoX3NpemVcIiwgb3B0aW9ucywgNTApO1xuICAgIHRoaXMubWF4X2FkYXB0YXRpb24gICAgID0gZ2V0X29wdGlvbihcIm1heF9hZGFwdGF0aW9uXCIsIG9wdGlvbnMsIDAuMzMpO1xuICAgIHRoaXMuaW5pdGlhbF9hZGFwdGF0aW9uID0gZ2V0X29wdGlvbihcImluaXRpYWxfYWRhcHRhdGlvblwiLCBvcHRpb25zLCAxLjApO1xuICAgIHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlID0gZ2V0X29wdGlvbihcInRhcmdldF9hY2NlcHRfcmF0ZVwiLCBvcHRpb25zLCAwLjQ0KTtcbiAgICB0aGlzLmlzX2FkYXB0aW5nICAgICAgICA9IGdldF9vcHRpb24oXCJpc19hZGFwdGluZ1wiLCBvcHRpb25zLCB0cnVlKTtcbiAgICBcbiAgICB0aGlzLmdlbmVyYXRlX3Byb3Bvc2FsID0gZ2VuZXJhdGVfcHJvcG9zYWw7XG4gICAgXG4gICAgdGhpcy5hY2NlcHRhbmNlX2NvdW50ID0gMDtcbiAgICB0aGlzLmJhdGNoX2NvdW50ID0gMDtcbiAgICB0aGlzLml0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb24gPSAwOyAgXG4gIH07XG4gIFxuICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0ZXBwZXIucHJvdG90eXBlKTsgXG4gIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyO1xuICBcbiAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwYXJhbV9zdGF0ZSA9IHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXTtcbiAgICAgIHZhciBwYXJhbV9wcm9wb3NhbCA9IHRoaXMuZ2VuZXJhdGVfcHJvcG9zYWwocGFyYW1fc3RhdGUsIHRoaXMucHJvcF9sb2dfc2NhbGUpO1xuICAgICAgaWYocGFyYW1fcHJvcG9zYWwgPCB0aGlzLmxvd2VyIHx8IHBhcmFtX3Byb3Bvc2FsID4gdGhpcy51cHBlcikge1xuICAgICAgICAvLyBPdXRzaWRlIG9mIGxpbWl0cyBvZiB0aGUgcGFyYW1ldGVyLCByZWplY3QgdGhlIHByb3Bvc2FsIFxuICAgICAgICAvLyBhbmQgc3RheSBhdCB0aGUgY3VycmVudCBzdGF0ZS5cbiAgICAgIH0gZWxzZSB7IC8vIG1ha2UgYSBNZXRyb3BvbGlzIHN0ZXBcbiAgICAgICAgdmFyIGN1cnJfbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7XG4gICAgICAgIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXSA9IHBhcmFtX3Byb3Bvc2FsO1xuICAgICAgICB2YXIgcHJvcF9sb2dfZGVucyA9IHRoaXMubG9nX3Bvc3QoKTtcbiAgICAgICAgdmFyIGFjY2VwdF9wcm9iID0gTWF0aC5leHAocHJvcF9sb2dfZGVucyAtIGN1cnJfbG9nX2RlbnMpO1xuICAgICAgICBpZihhY2NlcHRfcHJvYiA+IE1hdGgucmFuZG9tKCkpIHtcbiAgICAgICAgICAvLyBXZSBkbyBub3RoaW5nIGFzIHRoZSBzdGF0ZSBvZiBwYXJhbSBoYXMgYWxyZWFkeSBiZWVuIGNoYW5nZWQgdG8gdGhlIHByb3Bvc2FsXG4gICAgICAgICAgaWYodGhpcy5pc19hZGFwdGluZykgdGhpcy5hY2NlcHRhbmNlX2NvdW50KysgO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHJldmVydCBzdGF0ZSBiYWNrIHRvIHRoZSBvbGQgc3RhdGUgb2YgcGFyYW1cbiAgICAgICAgICB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0gPSBwYXJhbV9zdGF0ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYodGhpcy5pc19hZGFwdGluZykge1xuICAgICAgICB0aGlzLml0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb24gKys7XG4gICAgICAgIGlmKHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbiA+PSB0aGlzLmJhdGNoX3NpemUpIHsgLy8gdGhlbiBhZGFwdFxuICAgICAgICAgIHRoaXMuYmF0Y2hfY291bnQgKys7XG4gICAgICAgICAgdmFyIGxvZ19zZF9hZGp1c3RtZW50ID0gXG4gICAgICAgICAgICBNYXRoLm1pbih0aGlzLm1heF9hZGFwdGF0aW9uLCBcbiAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbF9hZGFwdGF0aW9uIC8gTWF0aC5zcXJ0KHRoaXMuYmF0Y2hfY291bnQpKTtcbiAgICAgICAgICBpZih0aGlzLmFjY2VwdGFuY2VfY291bnQgLyB0aGlzLmJhdGNoX3NpemUgPiB0aGlzLnRhcmdldF9hY2NlcHRfcmF0ZSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSArPSBsb2dfc2RfYWRqdXN0bWVudDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSAtPSBsb2dfc2RfYWRqdXN0bWVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5hY2NlcHRhbmNlX2NvdW50ID0gMDtcbiAgICAgICAgICB0aGlzLml0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb24gPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdO1xuICB9O1xuICBcbiAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLnN0YXJ0X2FkYXB0YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmlzX2FkYXB0aW5nID0gdHJ1ZTtcbiAgfTtcbiAgXG4gIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmlzX2FkYXB0aW5nID0gZmFsc2U7XG4gIH07XG4gIFxuICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9wX2xvZ19zY2FsZTogdGhpcy5wcm9wX2xvZ19zY2FsZSxcbiAgICAgIGlzX2FkYXB0aW5nOiB0aGlzLmlzX2FkYXB0aW5nLFxuICAgICAgYWNjZXB0YW5jZV9jb3VudDogdGhpcy5hY2NlcHRhbmNlX2NvdW50LFxuICAgICAgaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbjogdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uLFxuICAgICAgYmF0Y2hfY291bnQ6IHRoaXMuYmF0Y2hfY291bnRcbiAgICB9O1xuICB9O1xuICBcbiAgXG4gIC8qKlxuICAgKiBGdW5jdGlvbiByZXR1cm5pbmcgYSBOb3JtYWwgcHJvcG9zYWwuXG4gICAqL1xuICB2YXIgbm9ybWFsX3Byb3Bvc2FsID0gZnVuY3Rpb24ocGFyYW1fc3RhdGUsIHByb3BfbG9nX3NjYWxlKSB7XG4gICAgcmV0dXJuIHJub3JtKHBhcmFtX3N0YXRlICwgTWF0aC5leHAocHJvcF9sb2dfc2NhbGUpKTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQGF1Z21lbnRzIHtPbmVkaW1NZXRyb3BvbGlzU3RlcHBlcn1cbiAgICogQSBcInN1YmNsYXNzXCIgb2YgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIgbWFraW5nIGNvbnRpbm91cyBOb3JtYWwgcHJvcG9zYWxzLlxuICAgKi9cbiAgdmFyIFJlYWxNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgbm9ybWFsX3Byb3Bvc2FsKTtcbiAgfTtcbiAgXG4gIFJlYWxNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmVhbE1ldHJvcG9saXNTdGVwcGVyO1xuICBcbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHJldHVybmluZyBhIGRpc2NyZXRpemVkIE5vcm1hbCBwcm9wb3NhbC5cbiAgICovXG4gIHZhciBkaXNjcmV0ZV9ub3JtYWxfcHJvcG9zYWwgPSBmdW5jdGlvbihwYXJhbV9zdGF0ZSwgcHJvcF9sb2dfc2NhbGUpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChybm9ybShwYXJhbV9zdGF0ZSAsIE1hdGguZXhwKHByb3BfbG9nX3NjYWxlKSkpO1xuICB9O1xuICBcbiAgICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBhdWdtZW50cyB7T25lZGltTWV0cm9wb2xpc1N0ZXBwZXJ9XG4gICAqIEEgXCJzdWJjbGFzc1wiIG9mIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWxzLlxuICAgKi9cbiAgdmFyIEludE1ldHJvcG9saXNTdGVwcGVyID0gZnVuY3Rpb24ocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHtcbiAgICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBkaXNjcmV0ZV9ub3JtYWxfcHJvcG9zYWwpO1xuICB9O1xuICBcbiAgSW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUpOyBcbiAgSW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW50TWV0cm9wb2xpc1N0ZXBwZXI7XG4gIFxuICBcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn1cbiAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgdGhlIG1ldHJvcG9saXMgc3RlcCBpblxuICAgKiB0aGUgQWRhcHRpdmUgTWV0cm9wb2xpcy1XaXRoaW4tR2liYnMgYWxnb3JpdGhtIGluIFwiRXhhbXBsZXMgb2YgQWRhcHRpdmUgTUNNQ1wiXG4gICAqIGJ5IFJvYmVydHMgYW5kIFJvc2VudGhhbCAoMjAwOCkgZm9yIHBvc3NpYmx5IG11bHRpZGltZW5zaW9uYWwgYXJyYXlzLiBUaGF0XG4gICAqIGlzLCBpbnN0ZWFkIG9mIGp1c3QgdGFraW5nIGEgc3RlcCBmb3IgYSBvbmUtZGltZW5zaW9uYWwgcGFyYW1ldGVyIGxpa2UgXG4gICAqIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLCB0aGlzIFN0ZXBwZXIgaXMgcmVzcG9uc2libGUgZm9yIHRha2luZyBzdGVwcyBcbiAgICogZm9yIGEgbXVsdGlkaW1lbnNpb25hbCBhcnJheS4gSXQncyBzdGlsbCBwcmV0dHkgZHVtYiBhbmQganVzdCB0YWtlc1xuICAgKiBvbmUtZGltZW5zaW9uYWwgc3RlcHMgZm9yIGVhY2ggcGFyYW1ldGVyIGNvbXBvbmVudCwgdGhvdWdoLlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggYSBzaW5nbGUgcGFyYW1ldGVyIGRlZmluaXRpb24gZm9yIGEgXG4gICAqICAgbXVsdGlkaW1lbnNpb25hbCBwYXJhbWV0ZXIuXG4gICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuXG4gICAqIEBwYXJhbSBTdWJTdGVwcGVyIC0gYSBjb25zdHJ1Y3RvciBmb3IgdGhlIHR5cGUgb2Ygb25lIGRpbWVuc2lvbmFsIFN0ZXBwZXIgdG8gYXBwbHkgb25cbiAgICogICBhbGwgdGhlIGNvbXBvbmVudHMgb2YgdGhlIG11bHRpZGltZW5zaW9uYWwgcGFyYW1ldGVyLlxuICAqL1xuICB2YXIgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBTdWJTdGVwcGVyKSB7XG4gICAgU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KTtcbiAgICBcbiAgICB2YXIgcGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7XG4gICAgaWYocGFyYW1fbmFtZXMubGVuZ3RoICAhPSAxKSB7XG4gICAgICB0aHJvdyBcIk11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgY2FuJ3QgaGFuZGxlIG1vcmUgdGhhbiBvbmUgcGFyYW1ldGVyLlwiO1xuICAgIH1cbiAgICB0aGlzLnBhcmFtX25hbWUgPSBwYXJhbV9uYW1lc1swXTtcbiAgICB2YXIgcGFyYW0gPSB0aGlzLnBhcmFtc1t0aGlzLnBhcmFtX25hbWVdO1xuICAgIHRoaXMubG93ZXIgPSBwYXJhbS5sb3dlcjtcbiAgICB0aGlzLnVwcGVyID0gcGFyYW0udXBwZXI7XG4gICAgdGhpcy5kaW0gPSBwYXJhbS5kaW07XG4gIFxuICAgIHRoaXMucHJvcF9sb2dfc2NhbGUgICAgID0gZ2V0X211bHRpZGltX29wdGlvbihcInByb3BfbG9nX3NjYWxlXCIsIG9wdGlvbnMsIHRoaXMuZGltLCAwKTtcbiAgICB0aGlzLmJhdGNoX3NpemUgICAgICAgICA9IGdldF9tdWx0aWRpbV9vcHRpb24oXCJiYXRjaF9zaXplXCIsIG9wdGlvbnMsIHRoaXMuZGltLCA1MCk7XG4gICAgdGhpcy5tYXhfYWRhcHRhdGlvbiAgICAgPSBnZXRfbXVsdGlkaW1fb3B0aW9uKFwibWF4X2FkYXB0YXRpb25cIiwgb3B0aW9ucywgdGhpcy5kaW0sIDAuMzMpO1xuICAgIHRoaXMuaW5pdGlhbF9hZGFwdGF0aW9uID0gZ2V0X211bHRpZGltX29wdGlvbihcImluaXRpYWxfYWRhcHRhdGlvblwiLCBvcHRpb25zLCB0aGlzLmRpbSwgMS4wKTtcbiAgICB0aGlzLnRhcmdldF9hY2NlcHRfcmF0ZSA9IGdldF9tdWx0aWRpbV9vcHRpb24oXCJ0YXJnZXRfYWNjZXB0X3JhdGVcIiwgb3B0aW9ucywgdGhpcy5kaW0sIDAuNDQpO1xuICAgIHRoaXMuaXNfYWRhcHRpbmcgICAgICAgID0gZ2V0X211bHRpZGltX29wdGlvbihcImlzX2FkYXB0aW5nXCIsIG9wdGlvbnMsIHRoaXMuZGltLCB0cnVlKTtcbiAgICBcbiAgICAvLyBUaGlzIGhhY2sgYmVsb3cgaXMgYSByZWN1cnNpdmUgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGFuIGFycmF5IG9mIFxuICAgIC8vIG9uZSBkaW1lbnNpb25hbCBzdGVwcGVycyBhY2NvcmRpbmcgdG8gZGltLlxuICAgIHZhciBjcmVhdGVfc3Vic3RlcHBlcnMgPSBcbiAgICAgIGZ1bmN0aW9uKGRpbSwgc3Vic3RhdGUsIGxvZ19wb3N0LCBwcm9wX2xvZ19zY2FsZSwgYmF0Y2hfc2l6ZSwgbWF4X2FkYXB0YXRpb24sIGluaXRpYWxfYWRhcHRhdGlvbiwgdGFyZ2V0X2FjY2VwdF9yYXRlLCBpc19hZGFwdGluZykge1xuICAgICAgdmFyIHN1YnN0ZXBwZXJzID0gW107XG4gICAgICBpZihkaW0ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIHZhciBzdWJvcHRpb25zID0ge3Byb3BfbG9nX3NjYWxlOiBwcm9wX2xvZ19zY2FsZVtpXSwgYmF0Y2hfc2l6ZTogYmF0Y2hfc2l6ZVtpXSxcbiAgICAgICAgICAgIG1heF9hZGFwdGF0aW9uOiBtYXhfYWRhcHRhdGlvbltpXSwgaW5pdGlhbF9hZGFwdGF0aW9uOiBpbml0aWFsX2FkYXB0YXRpb25baV0sXG4gICAgICAgICAgICB0YXJnZXRfYWNjZXB0X3JhdGU6IHRhcmdldF9hY2NlcHRfcmF0ZVtpXSwgaXNfYWRhcHRpbmc6IGlzX2FkYXB0aW5nW2ldfTtcbiAgICAgICAgICAgIHZhciBzdWJwYXJhbSA9IHt9O1xuICAgICAgICAgICAgc3VicGFyYW1baV0gPSBkZWVwX2Nsb25lKHBhcmFtKTtcbiAgICAgICAgICAgIHN1YnBhcmFtW2ldLmRpbSA9IFsxXTsgLy8gQXMgdGhpcyBzaG91bGQgbm93IGJlIGEgb25lLWRpbSBwYXJhbWV0ZXJcbiAgICAgICAgICAgIGRlbGV0ZSBzdWJwYXJhbVtpXS5pbml0OyAvLyBBcyBpdCBzb3VsZCBub3QgYmUgbmVlZGVkXG4gICAgICAgICAgc3Vic3RlcHBlcnNbaV0gPSBuZXcgU3ViU3RlcHBlcihzdWJwYXJhbSwgc3Vic3RhdGUsIGxvZ19wb3N0LCBzdWJvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7XG4gICAgICAgICAgc3Vic3RlcHBlcnNbaV0gPSBjcmVhdGVfc3Vic3RlcHBlcnMoZGltLnNsaWNlKDEpLCBzdWJzdGF0ZVtpXSwgbG9nX3Bvc3QsIHByb3BfbG9nX3NjYWxlW2ldLCBcbiAgICAgICAgICAgIGJhdGNoX3NpemVbaV0sIG1heF9hZGFwdGF0aW9uW2ldLCBpbml0aWFsX2FkYXB0YXRpb25baV0sIHRhcmdldF9hY2NlcHRfcmF0ZVtpXSwgaXNfYWRhcHRpbmdbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3Vic3RlcHBlcnM7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnN1YnN0ZXBwZXJzID0gY3JlYXRlX3N1YnN0ZXBwZXJzKHRoaXMuZGltLCB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0sIHRoaXMubG9nX3Bvc3QsXG4gICAgICB0aGlzLnByb3BfbG9nX3NjYWxlLCB0aGlzLmJhdGNoX3NpemUsIHRoaXMubWF4X2FkYXB0YXRpb24sIHRoaXMuaW5pdGlhbF9hZGFwdGF0aW9uLFxuICAgICAgdGhpcy50YXJnZXRfYWNjZXB0X3JhdGUsIHRoaXMuaXNfYWRhcHRpbmcpO1xuICAgIFxuICB9O1xuICBcbiAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0ZXBwZXIucHJvdG90eXBlKTsgXG4gIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcjtcbiAgXG4gIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBHbyB0aHJvdWdoIHRoZSBzdWJzdGVwcGVycyBpbiBhIHJhbmRvbSBvcmRlciBhbmQgY2FsbCBzdGVwKCkgb24gdGhlbS5cbiAgICByZXR1cm4gbmVzdGVkX2FycmF5X3JhbmRvbV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbihzdWJzdGVwcGVyKSB7cmV0dXJuIHN1YnN0ZXBwZXIuc3RlcCgpOyB9KTtcbiAgfTtcbiAgXG4gIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLnN0YXJ0X2FkYXB0YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBuZXN0ZWRfYXJyYXlfYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge3N1YnN0ZXBwZXIuc3RhcnRfYWRhcHRhdGlvbigpOyB9KTtcbiAgfTtcbiAgXG4gIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLnN0b3BfYWRhcHRhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIG5lc3RlZF9hcnJheV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbihzdWJzdGVwcGVyKSB7c3Vic3RlcHBlci5zdG9wX2FkYXB0YXRpb24oKTsgfSk7XG4gIH07XG4gIFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5lc3RlZF9hcnJheV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbihzdWJzdGVwcGVyKSB7XG4gICAgICByZXR1cm4gc3Vic3RlcHBlci5pbmZvKCk7IFxuICAgIH0pO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAYXVnbWVudHMge011bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXJ9XG4gICAqIEEgXCJzdWJjbGFzc1wiIG9mIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgbWFraW5nIGNvbnRpbm91cyBOb3JtYWwgcHJvcG9zYWxzLlxuICAgKi9cbiAgdmFyIE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyID0gZnVuY3Rpb24ocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHtcbiAgICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIFJlYWxNZXRyb3BvbGlzU3RlcHBlcik7XG4gIH07XG4gIFxuICBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlKTsgXG4gIE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyO1xuXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQGF1Z21lbnRzIHtNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyfVxuICAgKiBBIFwic3ViY2xhc3NcIiBvZiBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWxzLlxuICAgKi8gICAgXG4gIHZhciBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyID0gZnVuY3Rpb24ocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHtcbiAgICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIEludE1ldHJvcG9saXNTdGVwcGVyKTtcbiAgfTtcbiAgXG4gIE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7XG4gIFxuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtTdGVwcGVyfVxuICAgKiBDb25zdHJ1Y3RvciBmb3IgYW4gb2JqZWN0IHRoYXQgaW1wbGVtZW50cyBhIHN0ZXAgZm9yIGEgYmluYXJ5IHBhcmFtZXRlci5cbiAgICogVGhpcyBpcyBkb25lIGJ5IGV2YWx1YXRpbmcgdGhlIGxvZyBwb3N0ZXJpb3IgZm9yIGJvdGggc3RhdGVzIG9mIHRoZVxuICAgKiBwYXJhbWV0ZXIgYW5kIHRoZW4gc2VsZWN0aW5nIGEgc3RhdGUgcmFuZG9tbHkgd2l0aCBwcm9iYWJpbGl0eSByZWxhdGl2ZSBcbiAgICogdG8gdGhlIHBvc3RlcmlvciBvZiBlYWNoIHN0YXRlLlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggYSBzaW5nbGUgcGFyYW1ldGVyIGRlZmluaXRpb24uXG4gICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuXG4gICovXG4gIHZhciBCaW5hcnlTdGVwcGVyID0gZnVuY3Rpb24ocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHtcbiAgICBTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QpO1xuICAgIHZhciBwYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTtcbiAgICBpZihwYXJhbV9uYW1lcy5sZW5ndGggID09IDEpIHtcbiAgICAgIHRoaXMucGFyYW1fbmFtZSA9IHBhcmFtX25hbWVzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBcIkJpbmFyeVN0ZXBwZXIgY2FuJ3QgaGFuZGxlIG1vcmUgdGhhbiBvbmUgcGFyYW1ldGVyLlwiO1xuICAgIH1cbiAgfTtcbiAgXG4gIEJpbmFyeVN0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBCaW5hcnlTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJpbmFyeVN0ZXBwZXI7XG4gIFxuICBCaW5hcnlTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gMDtcbiAgICB2YXIgemVyb19sb2dfZGVucyA9IHRoaXMubG9nX3Bvc3QoKTtcbiAgICB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0gPSAxO1xuICAgIHZhciBvbmVfbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7XG4gICAgdmFyIG1heF9sb2dfZGVucyA9IE1hdGgubWF4KHplcm9fbG9nX2RlbnMsIG9uZV9sb2dfZGVucyk7XG4gICAgemVyb19sb2dfZGVucyAtPSBtYXhfbG9nX2RlbnM7XG4gICAgb25lX2xvZ19kZW5zIC09IG1heF9sb2dfZGVucztcbiAgICB2YXIgemVyb19wcm9iID0gTWF0aC5leHAoemVyb19sb2dfZGVucyAtIE1hdGgubG9nKCBNYXRoLmV4cCh6ZXJvX2xvZ19kZW5zKSArIE1hdGguZXhwKG9uZV9sb2dfZGVucykgKSApO1xuICAgIGlmKE1hdGgucmFuZG9tKCkgPCB6ZXJvX3Byb2IpIHtcbiAgICAgIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXSA9IDA7XG4gICAgICByZXR1cm4gMDtcbiAgICB9IC8vIGVsc2Uga2VlcCB0aGUgcGFyYW0gYXQgMSAuXG4gICAgcmV0dXJuIDE7XG4gIH07XG4gIFxuICAgIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQGltcGxlbWVudHMge1N0ZXBwZXJ9XG4gICAqIEp1c3QgbGlrZSBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIHRoaXMgU3RlcHBlciB0YWtlcyBhIHN0ZXBzIGZvclxuICAgKiBhIG11bHRpZGltZW5zaW9uYWwgcGFyYW1ldGVyIGJ5IHVwZGF0aW5nIGVhY2ggY29tcG9uZW50IGluIHR1cm4uIFRoZSBkaWZmZXJlbmNlXG4gICAqIGlzIHRoYXQgdGhpcyBzdGVwcGVyIHdvcmtzIG9uIGJpbmFyeSBwYXJhbWV0ZXJzLlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggYSBzaW5nbGUgcGFyYW1ldGVyIGRlZmluaXRpb24gZm9yIGEgXG4gICAqICAgbXVsdGlkaW1lbnNpb25hbCBwYXJhbWV0ZXIuXG4gICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuXG4gICovXG4gIHZhciBCaW5hcnlDb21wb25lbnRTdGVwcGVyID0gZnVuY3Rpb24ocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHtcbiAgICBTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QpO1xuICAgIFxuICAgIHZhciBwYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTtcbiAgICBpZihwYXJhbV9uYW1lcy5sZW5ndGggID09IDEpIHtcbiAgICAgIHRoaXMucGFyYW1fbmFtZSA9IHBhcmFtX25hbWVzWzBdO1xuICAgICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTtcbiAgICAgIHRoaXMuZGltID0gcGFyYW0uZGltO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBcIkJpbmFyeUNvbXBvbmVudFN0ZXBwZXIgY2FuJ3QgaGFuZGxlIG1vcmUgdGhhbiBvbmUgcGFyYW1ldGVyLlwiO1xuICAgIH1cbiAgICBcbiAgICB2YXIgY3JlYXRlX3N1YnN0ZXBwZXJzID0gXG4gICAgICBmdW5jdGlvbihkaW0sIHN1YnN0YXRlLCBsb2dfcG9zdCkge1xuICAgICAgdmFyIHN1YnN0ZXBwZXJzID0gW107XG4gICAgICB2YXIgaTtcbiAgICAgIGlmKGRpbS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgZm9yKGkgPSAwOyBpIDwgZGltWzBdOyBpKyspIHtcbiAgICAgICAgICB2YXIgc3VicGFyYW1zID0ge307XG4gICAgICAgICAgc3VicGFyYW1zW2ldID0gcGFyYW07XG4gICAgICAgICAgc3Vic3RlcHBlcnNbaV0gPSBuZXcgQmluYXJ5U3RlcHBlcihzdWJwYXJhbXMsIHN1YnN0YXRlLCBsb2dfcG9zdCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcihpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7XG4gICAgICAgICAgc3Vic3RlcHBlcnNbaV0gPSBjcmVhdGVfc3Vic3RlcHBlcnMoZGltLnNsaWNlKDEpLCBzdWJzdGF0ZVtpXSwgbG9nX3Bvc3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3Vic3RlcHBlcnM7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnN1YnN0ZXBwZXJzID0gY3JlYXRlX3N1YnN0ZXBwZXJzKHRoaXMuZGltLCB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0sIHRoaXMubG9nX3Bvc3QpO1xuICB9O1xuICBcbiAgQmluYXJ5Q29tcG9uZW50U3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0ZXBwZXIucHJvdG90eXBlKTsgXG4gIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQmluYXJ5Q29tcG9uZW50U3RlcHBlcjtcbiAgXG4gIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBHbyB0aHJvdWdoIHRoZSBzdWJzdGVwcGVycyBpbiBhIHJhbmRvbSBvcmRlciBhbmQgY2FsbCBzdGVwKCkgb24gdGhlbS5cbiAgICByZXR1cm4gbmVzdGVkX2FycmF5X3JhbmRvbV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbihzdWJzdGVwcGVyKSB7cmV0dXJuIHN1YnN0ZXBwZXIuc3RlcCgpOyB9KTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQGltcGxlbWVudHMge1N0ZXBwZXJ9XG4gICAqIFRoaXMgc3RlcHBlciBjYW4gYmUgcmVzcG9uc2libGUgZm9yIHRha2luZyBhIHN0ZXAgZm9yIG9uZSBvciBtb3JlIHBhcmFtZXRlcnMuXG4gICAqIEZvciByZWFsIGFuZCBpbnQgcGFyYW1ldGVycyBpdCB0YWtlcyBNZXRyb3BvbGlzIHdpdGhpbiBHaWJicyBzdGVwcywgYW5kIGZvciBcbiAgICogYmluYXJ5IHBhcmFtZXRlcnMgaXQgZG9lcyBldmFsdWF0ZXMgdGhlIHBvc3RlcmlvciBmb3IgYm90aCBwYXJhbXRlciB2YWx1ZXMgYW5kXG4gICAqIHJhbmRvbWx5IGNoYW5nZXMgdG8gYSBjZXJ0YWluIHZhbHVlIHByb3BvcnRpb25hbGx5IHRvIHRoYXQgdmFsdWUncyBwb3N0ZXJpb3JcbiAgICogKHRoaXMgaXMgYWxzbyBkb25lIGZvciBlYWNoIHBhcmFtZXRlciwgc28gYWxzbyBhICogd2l0aGluIEdpYmJzIGFwcHJvYWNoKS5cbiAgICogVGhpcyBzdGVwcGVyIGlzIGFsc28gYWRhcHRpdmUgYW5kIGNhbiBiZSBlZmZpY2llbnQgd2hlbiB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnNcbiAgICogYXJlIG5vdCB0b28gaGlnaCBhbmQgdGhlIGNvcnJlbGF0aW9ucyBiZXR3ZWVuIHBhcmFtZXRlcnMgYXJlIGxvdy5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgb25lIG9yIG1vcmUgcGFyYW1ldGVyIGRlZmluaXRpb25zXG4gICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuXG4gICovXG4gIHZhciBBbXdnU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KTtcbiAgICB0aGlzLnBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpO1xuICAgIHRoaXMuc3Vic3RlcHBlcnMgPSBbXTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXJhbV9uYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHBhcmFtID0gcGFyYW1zW3RoaXMucGFyYW1fbmFtZXNbaV1dO1xuICAgICAgdmFyIFNlbGVjdFN0ZXBwZXI7XG4gICAgICBzd2l0Y2ggKHBhcmFtLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcInJlYWxcIjpcbiAgICAgICAgICBpZihhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHtcbiAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBSZWFsTWV0cm9wb2xpc1N0ZXBwZXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbnRcIjpcbiAgICAgICAgICBpZihhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHtcbiAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBJbnRNZXRyb3BvbGlzU3RlcHBlcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0U3RlcHBlciA9IE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYmluYXJ5XCI6XG4gICAgICAgICAgaWYoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7XG4gICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gQmluYXJ5U3RlcHBlcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0U3RlcHBlciA9IEJpbmFyeUNvbXBvbmVudFN0ZXBwZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IFwiQW13Z1N0ZXBwZXIgY2FuJ3QgaGFuZGxlIHBhcmFtZXRlciBcIiArIHRoaXMucGFyYW1fbmFtZXNbaV0gICtcIiB3aXRoIHR5cGUgXCIgKyBwYXJhbS50eXBlOyBcbiAgICAgIH1cbiAgICAgIHZhciBwYXJhbV9vYmplY3Rfd3JhcCA9IHt9O1xuICAgICAgcGFyYW1fb2JqZWN0X3dyYXBbdGhpcy5wYXJhbV9uYW1lc1tpXV0gPSBwYXJhbTtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgdmFyIHBhcmFtX29wdGlvbnMgPSBvcHRpb25zLnBhcmFtcyAmJiBvcHRpb25zLnBhcmFtc1t0aGlzLnBhcmFtX25hbWVzW2ldXSB8fCB7fTtcbiAgICAgIHBhcmFtX29wdGlvbnMucHJvcF9sb2dfc2NhbGUgICAgID0gcGFyYW1fb3B0aW9ucy5wcm9wX2xvZ19zY2FsZSAgICAgfHwgb3B0aW9ucy5wcm9wX2xvZ19zY2FsZTsgXG4gICAgICBwYXJhbV9vcHRpb25zLmJhdGNoX3NpemUgICAgICAgICA9IHBhcmFtX29wdGlvbnMuYmF0Y2hfc2l6ZSAgICAgICAgIHx8IG9wdGlvbnMuYmF0Y2hfc2l6ZTsgXG4gICAgICBwYXJhbV9vcHRpb25zLm1heF9hZGFwdGF0aW9uICAgICA9IHBhcmFtX29wdGlvbnMubWF4X2FkYXB0YXRpb24gICAgIHx8IG9wdGlvbnMubWF4X2FkYXB0YXRpb247XG4gICAgICBwYXJhbV9vcHRpb25zLmluaXRpYWxfYWRhcHRhdGlvbiA9IHBhcmFtX29wdGlvbnMuaW5pdGlhbF9hZGFwdGF0aW9uIHx8IG9wdGlvbnMuaW5pdGlhbF9hZGFwdGF0aW9uO1xuICAgICAgcGFyYW1fb3B0aW9ucy50YXJnZXRfYWNjZXB0X3JhdGUgPSBwYXJhbV9vcHRpb25zLnRhcmdldF9hY2NlcHRfcmF0ZSB8fCBvcHRpb25zLnRhcmdldF9hY2NlcHRfcmF0ZTsgXG4gICAgICBwYXJhbV9vcHRpb25zLmlzX2FkYXB0aW5nICAgICAgICA9IHBhcmFtX29wdGlvbnMuaXNfYWRhcHRpbmcgICAgICAgIHx8IG9wdGlvbnMuaXNfYWRhcHRpbmc7IFxuICAgICAgdGhpcy5zdWJzdGVwcGVyc1tpXSA9IG5ldyBTZWxlY3RTdGVwcGVyKHBhcmFtX29iamVjdF93cmFwLCBzdGF0ZSwgbG9nX3Bvc3QsIHBhcmFtX29wdGlvbnMpO1xuICAgIH1cbiAgfTtcbiAgXG4gIEFtd2dTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RlcHBlci5wcm90b3R5cGUpOyBcbiAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQW13Z1N0ZXBwZXI7XG4gIFxuICBBbXdnU3RlcHBlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uKCkge1xuICAgIHNodWZmbGVfYXJyYXkodGhpcy5zdWJzdGVwcGVycyk7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic3RlcHBlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0uc3RlcCgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfTtcbiAgXG4gIEFtd2dTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic3RlcHBlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0uc3RhcnRfYWRhcHRhdGlvbigpO1xuICAgIH1cbiAgfTtcbiAgXG4gIEFtd2dTdGVwcGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdWJzdGVwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zdWJzdGVwcGVyc1tpXS5zdG9wX2FkYXB0YXRpb24oKTtcbiAgICB9IFxuICB9O1xuICBcbiAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5mbyA9IHt9O1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpbmZvW3RoaXMucGFyYW1fbmFtZXNbaV1dID0gdGhpcy5zdWJzdGVwcGVyc1tpXS5pbmZvKCk7XG4gICAgfVxuICAgIHJldHVybiBpbmZvO1xuICB9O1xuICBcbiAgXG4gIFxuICAvLy8vLy8vLy8vLyBTYW1wbGVyIEZ1bmN0aW9ucyAvLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgXG4gIFxuICAgLyoqXG4gICAqIEBpbnRlcmZhY2VcbiAgICogV2hpbGUgeW91IGNvdWxkIGZpdCBhIG1vZGVsIGJ5IHBhc3RpbmcgdG9nZXRoZXIgU3RlcHBlcnMsIGFcbiAgLy8gU2FtcGxlciBpcyBoZXJlIGlzIGEgY29udmVuaWVuY2UgY2xhc3Mgd2hlcmUgYW4gaW5zdGFuY2Ugb2YgU2FtcGxlclxuICAvLyBzZXRzIHVwIHRoZSBTdGVwcGVycywgY2hlY2tzIHRoZSBwYXJhbWV0ZXIgZGVmaW5pdGlvbixcbiAgLy8gYW5kIG1hbmFnZXMgdGhlIHNhbXBsaW5nLiBUaGlzIGhlcmUgZGVmaW5lcyB0aGUgU2FtcGxlciBcImludGVyZmFjZVwiLlxuICAgKiBAaW50ZXJmYWNlXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBBbiBvYmplY3Qgd2l0aCBwYXJhbWV0ZXIgZGVmaW5pdGlvbnMsIGZvciBleGFtcGxlOlxuICAgKiAgIHtcIm11XCI6IHtcInR5cGVcIjogXCJyZWFsXCJ9LCBcInNpZ21hXCI6IHtcInR5cGVcIjogXCJyZWFsXCIsIFwibG93ZXJcIiA9IDB9fVxuICAgKiAgIFRoZSBwYXJhbWV0ZXIgZGVmaW5pdGlvbnMgZG9lc24ndCBoYXZlIHRvIGJlIFwiY29tcGxldGVcIiBhbmQgcHJvcGVydGllc1xuICAgKiAgIGxlZnQgb3V0IChsaWtlIGxvd2VyIGFuZCB1cHBlcikgd2lsbCBiZSBmaWxsZWQgaW4gYnkgZGVmYXVsdHMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gd2l0aCBzaWduYXR1cmUgZnVuY3Rpb24oc3RhdGUsIGRhdGEpLiBIZXJlXG4gICAqICAgc3RhdGUgd2lsbCBiZSBhbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBzdGF0ZSB3aXRoIGVhY2ggcGFyYW1ldGVyIGFzIGEgXG4gICAqICAga2V5IGFuZCB0aGUgcGFyYW1ldGVyIHZhbHVlcyBhcyBudW1iZXJzIG9yIGFycmF5cy4gRm9yIGV4YW1wbGU6XG4gICAqICAge1wibXVcIjogMywgXCJzaWdtYVwiOiAxLjV9LiBUaGUgZGF0YSBhcmd1bWVudCB3aWxsIGJlIHRoZSBzYW1lIG9iamVjdCBhcyBcbiAgICogICB0aGUgZGF0YSBhcmd1bWVudCBnaXZlbiBiZWxvdy5cbiAgICogQHBhcmFtIGRhdGEgLSBhbiBvYmplY3QgdGhhdCB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aGUgbG9nX3Bvc3QgZnVuY3Rpb25cbiAgICogICB3aGVuIHNhbXBsaW5nLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHNhbXBsZXIuXG4gICAqL1xuICB2YXIgU2FtcGxlciA9IGZ1bmN0aW9uKHBhcmFtcywgbG9nX3Bvc3QsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIHRoaXMucGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7XG4gICAgXG4gICAgLy8gU2V0dGluZyBkZWZhdWx0IG9wdGlvbnMgaWYgbm90IHBhc3NlZCB0aHJvdWdoIHRoZSBvcHRpb25zIG9iamVjdFxuICAgIHRoaXMucGFyYW1faW5pdF9mdW4gICA9IGdldF9vcHRpb24oXCJwYXJhbV9pbml0X2Z1blwiLCBvcHRpb25zLCBwYXJhbV9pbml0X2ZpeGVkKTtcbiAgICB2YXIgdGhpbm5pbmdfaW50ZXJ2YWwgPSBnZXRfb3B0aW9uKFwidGhpblwiLCBvcHRpb25zLCAxKTtcbiAgICB2YXIgcGFyYW1zX3RvX21vbml0b3IgPSBnZXRfb3B0aW9uKFwibW9uaXRvclwiLCBvcHRpb25zLCBudWxsKTtcbiAgICB0aGlzLnRoaW4odGhpbm5pbmdfaW50ZXJ2YWwpO1xuICAgIHRoaXMubW9uaXRvcihwYXJhbXNfdG9fbW9uaXRvcik7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAvLyBDb21wbGV0aW5nIHRoZSBwYXJhbXMgYW5kIGluaXRpYWxpemluZyB0aGUgc3RhdGUuXG4gICAgdGhpcy5wYXJhbXMgPSBjb21wbGV0ZV9wYXJhbXModGhpcy5wYXJhbXMsIHRoaXMucGFyYW1faW5pdF9mdW4pO1xuICAgIHZhciBzdGF0ZSA9IHt9O1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmFtX25hbWVzLmxlbmd0aDsgaSsrICkge1xuICAgICAgc3RhdGVbdGhpcy5wYXJhbV9uYW1lc1tpXV0gPSB0aGlzLnBhcmFtc1t0aGlzLnBhcmFtX25hbWVzW2ldXS5pbml0O1xuICAgIH1cbiAgICB0aGlzLmxvZ19wb3N0ID0gZnVuY3Rpb24oKSB7IFxuICAgICAgcmV0dXJuIGxvZ19wb3N0KHN0YXRlLCBkYXRhKTtcbiAgICB9O1xuICAgIC8vIFJ1bm5pbmcgdGhlIGxvZ19wb3N0IGZ1bmN0aW9uIG9uY2UgaW4gY2FzZSBpdCBmdXJ0aGVyIG1vZGlmaWVzIHRoZSBzdGF0ZVxuICAgIC8vIGZvciBleGFtcGxlIGFkZGluZyBkZXJpdmVkIHF1YW50aXRpZXMuXG4gICAgdGhpcy5sb2dfcG9zdCgpO1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLnN0ZXBwZXJzID0gdGhpcy5jcmVhdGVfc3RlcHBlcl9lbnNhbWJsZSh0aGlzLnBhcmFtcywgdGhpcy5zdGF0ZSwgdGhpcy5sb2dfcG9zdCwgdGhpcy5vcHRpb25zKTtcbiAgfTtcbiAgXG4gIC8qKiBTaG91bGQgcmV0dXJuIGEgdmVjdG9yIG9mIHN0ZXBwZXJzIHRoYXQgd2hlbiBjYWxsZWQgXG4gICAqIHNob3VsZCB0YWtlIGEgc3RlcCBpbiB0aGUgcGFyYW1ldGVyIHNwYWNlLlxuICAgKi9cbiAgU2FtcGxlci5wcm90b3R5cGUuY3JlYXRlX3N0ZXBwZXJfZW5zYW1ibGUgPSBmdW5jdGlvbihzdGF0ZSwgbG9nX3Bvc3Qpe1xuICAgIHRocm93IFwiRXZlcnkgU2FtcGxlciBuZWVkcyB0byBpbXBsZW1lbnQgY3JlYXRlX3N0ZXBwZXJfZW5zYW1ibGUoKVwiO1xuICB9O1xuICBcbiAgLyoqIFJldHVybnMgYW4gb2JqZWN0IHdpdGggaW5mbyBhYm91dCB0aGUgc3RhdGUgb2YgdGhlIFNhbXBsZXIuXG4gICAqLyBcbiAgU2FtcGxlci5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7c3RhdGU6IHRoaXMuc3RhdGUsIHRoaW46IHRoaXMudGhpbiwgbW9uaXRvcjogdGhpcy5tb25pdG9yLFxuICAgICAgICAgICAgc3RlcHBlcnM6IHRoaXMuc3RlcHBlcnN9O1xuICB9O1xuICBcbiAgLyoqIFRha2VzIGEgc3RlcCBpbiB0aGUgcGFyYW1ldGVyIHNwYWNlLiBSZXR1cm5zIHRoZSBuZXcgc3BhY2VcbiAgICogYnV0IGFsc28gbW9kaWZpZXMgdGhlIHN0YXRlIGluIHBsYWNlLlxuICAgKi8gXG4gIFNhbXBsZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbigpIHtcbiAgICBzaHVmZmxlX2FycmF5KHRoaXMuc3RlcHBlcnMpO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnN0ZXBwZXJzW2ldLnN0ZXAoKTtcbiAgICB9XG4gICAgaWYoT2JqZWN0LmtleXModGhpcy5zdGF0ZSkubGVuZ3RoID4gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpLmxlbmd0aCkge1xuICAgICAgLy8gVGhlIHN0YXRlIGNvbnRhaW5zIGRldml2ZWQgcXVhbnRpdGllcyAobm90IG9ubHkgcGFyYW1ldGVycykgYW5kIHdlXG4gICAgICAvLyBuZWVkIHRvIHJ1biB0aGUgbG9nX3Bvc3Qgb25jZSBtb3JlIGluIG9yZGVyIHRvIHNldCB0aGUgZGVyaXZlZCBxdWFudGl0aWVzXG4gICAgICAvLyBmb3IgdGhlIGZpbmFsIHBhcmFtZXRlciBzdGF0ZVxuICAgICAgdGhpcy5sb2dfcG9zdCgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBUYWtlcyBuX2l0ZXJhdGlvbnMgc3RlcHMgaW4gdGhlIHBhcmFtZXRlciBzcGFjZSBhbmQgcmV0dXJucyB0aGVtXG4gICAqIGFzIGFuIG9iamVjdCBvZiBhcnJheXMgd2l0aCBvbmUgYXJyYXkgcGVyIHBhcmFtZXRlci4gRm9yIGV4YW1wbGU6XG4gICAqIHttdTogWzEsIC0xLCAyLCAzLCAuLi5dLCBzaWdtYTogWzEsIDIsIDIsIDEsIC4uLl19LlxuICAgKiBJZiB0aGluIGlzID4gMSB0aGVuIG5faXRlcmF0aW9ucyAvIHRoaW4gc2FtcGxlcyBhcmUgcmV0dXJuZWQuXG4gICAqLyBcbiAgU2FtcGxlci5wcm90b3R5cGUuc2FtcGxlID0gZnVuY3Rpb24obl9pdGVyYXRpb25zKSB7XG4gICAgICAvLyBJbml0aWFsaXppbmcgY3Vycl9zYW1wbGUgd2hlcmUgdGhlIHNhbXBsZSBpcyBnb2luZyB0byBiZSBzYXZlZFxuICAgICAgLy8gYXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgb25lIGFycmF5IHBlciBwYXJhbWV0ZXIgdG8gYmUgbW9uaXRvcmVkLlxuICAgICAgdmFyIGksIGosIG1vbml0b3JlZF9wYXJhbXM7XG4gICAgICBpZih0aGlzLm1vbml0b3JlZF9wYXJhbXMgPT09IG51bGwpIHtcbiAgICAgICAgbW9uaXRvcmVkX3BhcmFtcyA9IE9iamVjdC5rZXlzKHRoaXMuc3RhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW9uaXRvcmVkX3BhcmFtcyA9IHRoaXMubW9uaXRvcmVkX3BhcmFtcztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdmFyIGN1cnJfc2FtcGxlID0ge307XG4gICAgICBmb3IoaiA9IDA7IGogPCBtb25pdG9yZWRfcGFyYW1zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGN1cnJfc2FtcGxlW21vbml0b3JlZF9wYXJhbXNbal1dID0gW107XG4gICAgICB9XG4gICAgICBcbiAgICAgIGZvcihpID0gMDsgaSA8IG5faXRlcmF0aW9uczsgaSsrKSB7XG4gICAgICAgIGlmKGkgJSB0aGlzLnRoaW5uaW5nX2ludGVydmFsID09PSAwKSB7XG4gICAgICAgICAgZm9yKGogPSAwOyBqIDwgbW9uaXRvcmVkX3BhcmFtcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIHBhcmFtID0gbW9uaXRvcmVkX3BhcmFtc1tqXTtcbiAgICAgICAgICAgIGN1cnJfc2FtcGxlW3BhcmFtXS5wdXNoKCBjbG9uZV9wYXJhbV9kcmF3KHRoaXMuc3RhdGVbcGFyYW1dKSApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0ZXAoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXJyX3NhbXBsZTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBUYWtlcyBuX2l0ZXJhdGlvbiBzdGVwcyBpbiBwYXJhbWV0ZXIgc3BhY2UgYnV0IHJldHVybnMgbm90aGluZy5cbiAgICovIFxuICBTYW1wbGVyLnByb3RvdHlwZS5idXJuID0gZnVuY3Rpb24obl9pdGVyYXRpb25zKSB7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IG5faXRlcmF0aW9uczsgaSsrKSB7XG4gICAgICB0aGlzLnN0ZXAoKTtcbiAgICB9XG4gIH07XG4gIFxuICAvKipcbiAgICogU2V0cyB3aGF0IHBhcmFtZXRlcnMgc2hvdWxkIGJlIG1vbml0b3JlZCBhbmQgcmV0dXJuZWQgd2hlbiBjYWxsaW5nXG4gICAqIHNhbXBsZS5cbiAgICovIFxuICBTYW1wbGVyLnByb3RvdHlwZS5tb25pdG9yID0gZnVuY3Rpb24ocGFyYW1zX3RvX21vbml0b3IpIHtcbiAgICAgIHRoaXMubW9uaXRvcmVkX3BhcmFtcyA9IHBhcmFtc190b19tb25pdG9yO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIFNldHMgdGhlIHRoaW5uaW5nLiBGb3IgZXhhbXBsZSB0aGluID09IDEwIG1lYW5zIHRoYXQgZXZlcnkgMTB0aCBwb3N0ZXJpb3JcbiAgICogZHJhdyB3aWxsIGJlIGtlcHQuXG4gICAqLyBcbiAgU2FtcGxlci5wcm90b3R5cGUudGhpbiA9IGZ1bmN0aW9uKHRoaW5uaW5nX2ludGVydmFsKSB7XG4gICAgdGhpcy50aGlubmluZ19pbnRlcnZhbCA9IHRoaW5uaW5nX2ludGVydmFsO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIFNldHMgYWRhcHRhdGlvbiBvbiwgaWYgYXBwbGljYWJsZSwgaW4gYWxsIHN0ZXBwZXJzLlxuICAgKi8gXG4gIFNhbXBsZXIucHJvdG90eXBlLnN0YXJ0X2FkYXB0YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGVwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zdGVwcGVyc1tpXS5zdGFydF9hZGFwdGF0aW9uKCk7XG4gICAgfVxuICB9O1xuICBcbiAgICAvKipcbiAgICogU2V0cyBhZGFwdGF0aW9uIG9mZiwgaWYgYXBwbGljYWJsZSwgaW4gYWxsIHN0ZXBwZXJzLlxuICAgKi8gXG4gIFNhbXBsZXIucHJvdG90eXBlLnN0b3BfYWRhcHRhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnN0ZXBwZXJzW2ldLnN0b3BfYWRhcHRhdGlvbigpO1xuICAgIH1cbiAgfTtcbiAgXG4gICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtTYW1wbGVyfVxuICAgKiBUaGlzIHNhbXBsZXIgdXNlcyB0aGUgQW13Z1N0ZXBwZXIgYXMgdGhlIHN0ZXBwZXIgZnVuY3Rpb24gd2hpY2ggaW1wbGVtZW50cyB0aGUgXG4gICAqIEFkYXB0aXZlIE1ldHJvcG9saXMtV2l0aGluLUdpYmJzIGFsZ29yaXRobSBpbiBcIkV4YW1wbGVzIG9mIEFkYXB0aXZlIE1DTUNcIlxuICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpLiBBbiBhZGl0aW9uIGlzIHRoYXQgaXQgaGFuZGxlcyBpbnQgcGFyYW1ldGVyc1xuICAgKiBieSBtYWtpbmcgZGlzY3JldGUgTm9ybWFsIHByb3Bvc2FscyBhbmQgYmluYXJ5IHBhcmFtZXRlcnMgYnkgdGFraW5nIG9uIGEgbmV3IFxuICAgKiB2YWx1ZSBwcm9wb3J0aW9uYWwgdG8gdGhlIHBvc3RlcmlvciBvZiB0aGUgdHdvIHBvc3NpYmxlIHN0YXRlcyBvZiB0aGVcbiAgICogcGFyYW1ldGVyLiBUaGlzIHNhbXBsZXIgY2FuIGJlIGVmZmljaWVudCB3aGVuIHRoZSBudW1iZXIgb2YgcGFyYW1ldGVyc1xuICAgKiBhcmUgbm90IHRvbyBoaWdoIGFuZCB0aGUgY29ycmVsYXRpb25zIGJldHdlZW4gcGFyYW1ldGVycyBhcmUgbG93LlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggYSBvbmUgb3IgbW9yZSBwYXJhbWV0ZXIgZGVmaW5pdGlvbnNcbiAgICogQHBhcmFtIHN0YXRlIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXRlIG9mIGFsbCBwYXJhbWV0ZXJzLlxuICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbG9nIGRlbnNpdHkgdGhhdCBkZXBlbmRzIG9uIHRoZSBzdGF0ZS4gXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucyB0byB0aGUgc3RlcHBlci5cbiAgKi9cbiAgdmFyIEFtd2dTYW1wbGVyID0gZnVuY3Rpb24ocGFyYW1zLCBsb2dfcG9zdCwgZGF0YSwgb3B0aW9ucykge1xuICAgIFNhbXBsZXIuY2FsbCh0aGlzLCBwYXJhbXMsIGxvZ19wb3N0LCBkYXRhLCBvcHRpb25zKTtcbiAgfTtcbiAgXG4gIEFtd2dTYW1wbGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU2FtcGxlci5wcm90b3R5cGUpOyBcbiAgQW13Z1NhbXBsZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQW13Z1NhbXBsZXI7XG4gIFxuICBBbXdnU2FtcGxlci5wcm90b3R5cGUuY3JlYXRlX3N0ZXBwZXJfZW5zYW1ibGUgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucyl7XG4gICAgcmV0dXJuIFsgbmV3IEFtd2dTdGVwcGVyKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSBdO1xuICB9O1xuICBcbiAgXG4gIC8vIFJldHVybmluZyB0aGUgZnVuY3Rpb25zIHRoYXQgc2hvdWxkIGJlIHB1YmxpY2x5IGV4cG9zZWQgYnkgdGhpcyBtb2R1bGVcbiAgcmV0dXJuIHtcbiAgICBydW5pZjogcnVuaWYsXG4gICAgcnVuaWZfZGlzY3JldGU6IHJ1bmlmX2Rpc2NyZXRlLFxuICAgIHJub3JtOiBybm9ybSxcbiAgICBwYXJhbV9pbml0X2ZpeGVkOiBwYXJhbV9pbml0X2ZpeGVkLCBcbiAgICBjb21wbGV0ZV9wYXJhbXM6IGNvbXBsZXRlX3BhcmFtcywgXG4gICAgUmVhbE1ldHJvcG9saXNTdGVwcGVyOiBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIsIFxuICAgIEludE1ldHJvcG9saXNTdGVwcGVyOiBJbnRNZXRyb3BvbGlzU3RlcHBlciwgXG4gICAgTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI6IE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLCBcbiAgICBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOiBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLCBcbiAgICBCaW5hcnlTdGVwcGVyOiBCaW5hcnlTdGVwcGVyLCBcbiAgICBCaW5hcnlDb21wb25lbnRTdGVwcGVyOiBCaW5hcnlDb21wb25lbnRTdGVwcGVyLCBcbiAgICBBbXdnU3RlcHBlcjogQW13Z1N0ZXBwZXIsIFxuICAgIEFtd2dTYW1wbGVyOiBBbXdnU2FtcGxlclxuICB9O1xufSkpO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXNjZW5kaW5nKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT0gbnVsbCB8fCBiID09IG51bGwgPyBOYU4gOiBhIDwgYiA/IC0xIDogYSA+IGIgPyAxIDogYSA+PSBiID8gMCA6IE5hTjtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG51bWJlcih4KSB7XG4gIHJldHVybiB4ID09PSBudWxsID8gTmFOIDogK3g7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiogbnVtYmVycyh2YWx1ZXMsIHZhbHVlb2YpIHtcbiAgaWYgKHZhbHVlb2YgPT09IHVuZGVmaW5lZCkge1xuICAgIGZvciAobGV0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgKHZhbHVlID0gK3ZhbHVlKSA+PSB2YWx1ZSkge1xuICAgICAgICB5aWVsZCB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbGV0IGluZGV4ID0gLTE7XG4gICAgZm9yIChsZXQgdmFsdWUgb2YgdmFsdWVzKSB7XG4gICAgICBpZiAoKHZhbHVlID0gdmFsdWVvZih2YWx1ZSwgKytpbmRleCwgdmFsdWVzKSkgIT0gbnVsbCAmJiAodmFsdWUgPSArdmFsdWUpID49IHZhbHVlKSB7XG4gICAgICAgIHlpZWxkIHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IGFzY2VuZGluZyBmcm9tIFwiLi9hc2NlbmRpbmcuanNcIjtcbmltcG9ydCBwZXJtdXRlIGZyb20gXCIuL3Blcm11dGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc29ydCh2YWx1ZXMsIC4uLkYpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZXNbU3ltYm9sLml0ZXJhdG9yXSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwidmFsdWVzIGlzIG5vdCBpdGVyYWJsZVwiKTtcbiAgdmFsdWVzID0gQXJyYXkuZnJvbSh2YWx1ZXMpO1xuICBsZXQgW2ZdID0gRjtcbiAgaWYgKChmICYmIGYubGVuZ3RoICE9PSAyKSB8fCBGLmxlbmd0aCA+IDEpIHtcbiAgICBjb25zdCBpbmRleCA9IFVpbnQzMkFycmF5LmZyb20odmFsdWVzLCAoZCwgaSkgPT4gaSk7XG4gICAgaWYgKEYubGVuZ3RoID4gMSkge1xuICAgICAgRiA9IEYubWFwKGYgPT4gdmFsdWVzLm1hcChmKSk7XG4gICAgICBpbmRleC5zb3J0KChpLCBqKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgZiBvZiBGKSB7XG4gICAgICAgICAgY29uc3QgYyA9IGFzY2VuZGluZ0RlZmluZWQoZltpXSwgZltqXSk7XG4gICAgICAgICAgaWYgKGMpIHJldHVybiBjO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZiA9IHZhbHVlcy5tYXAoZik7XG4gICAgICBpbmRleC5zb3J0KChpLCBqKSA9PiBhc2NlbmRpbmdEZWZpbmVkKGZbaV0sIGZbal0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHBlcm11dGUodmFsdWVzLCBpbmRleCk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlcy5zb3J0KGNvbXBhcmVEZWZpbmVkKGYpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVEZWZpbmVkKGNvbXBhcmUgPSBhc2NlbmRpbmcpIHtcbiAgaWYgKGNvbXBhcmUgPT09IGFzY2VuZGluZykgcmV0dXJuIGFzY2VuZGluZ0RlZmluZWQ7XG4gIGlmICh0eXBlb2YgY29tcGFyZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiY29tcGFyZSBpcyBub3QgYSBmdW5jdGlvblwiKTtcbiAgcmV0dXJuIChhLCBiKSA9PiB7XG4gICAgY29uc3QgeCA9IGNvbXBhcmUoYSwgYik7XG4gICAgaWYgKHggfHwgeCA9PT0gMCkgcmV0dXJuIHg7XG4gICAgcmV0dXJuIChjb21wYXJlKGIsIGIpID09PSAwKSAtIChjb21wYXJlKGEsIGEpID09PSAwKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzY2VuZGluZ0RlZmluZWQoYSwgYikge1xuICByZXR1cm4gKGEgPT0gbnVsbCB8fCAhKGEgPj0gYSkpIC0gKGIgPT0gbnVsbCB8fCAhKGIgPj0gYikpIHx8IChhIDwgYiA/IC0xIDogYSA+IGIgPyAxIDogMCk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYXgodmFsdWVzLCB2YWx1ZW9mKSB7XG4gIGxldCBtYXg7XG4gIGlmICh2YWx1ZW9mID09PSB1bmRlZmluZWQpIHtcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGxcbiAgICAgICAgICAmJiAobWF4IDwgdmFsdWUgfHwgKG1heCA9PT0gdW5kZWZpbmVkICYmIHZhbHVlID49IHZhbHVlKSkpIHtcbiAgICAgICAgbWF4ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxldCBpbmRleCA9IC0xO1xuICAgIGZvciAobGV0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgaWYgKCh2YWx1ZSA9IHZhbHVlb2YodmFsdWUsICsraW5kZXgsIHZhbHVlcykpICE9IG51bGxcbiAgICAgICAgICAmJiAobWF4IDwgdmFsdWUgfHwgKG1heCA9PT0gdW5kZWZpbmVkICYmIHZhbHVlID49IHZhbHVlKSkpIHtcbiAgICAgICAgbWF4ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXg7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtaW4odmFsdWVzLCB2YWx1ZW9mKSB7XG4gIGxldCBtaW47XG4gIGlmICh2YWx1ZW9mID09PSB1bmRlZmluZWQpIHtcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGxcbiAgICAgICAgICAmJiAobWluID4gdmFsdWUgfHwgKG1pbiA9PT0gdW5kZWZpbmVkICYmIHZhbHVlID49IHZhbHVlKSkpIHtcbiAgICAgICAgbWluID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxldCBpbmRleCA9IC0xO1xuICAgIGZvciAobGV0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgaWYgKCh2YWx1ZSA9IHZhbHVlb2YodmFsdWUsICsraW5kZXgsIHZhbHVlcykpICE9IG51bGxcbiAgICAgICAgICAmJiAobWluID4gdmFsdWUgfHwgKG1pbiA9PT0gdW5kZWZpbmVkICYmIHZhbHVlID49IHZhbHVlKSkpIHtcbiAgICAgICAgbWluID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBtaW47XG59XG4iLCJpbXBvcnQge2FzY2VuZGluZ0RlZmluZWQsIGNvbXBhcmVEZWZpbmVkfSBmcm9tIFwiLi9zb3J0LmpzXCI7XG5cbi8vIEJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3F1aWNrc2VsZWN0XG4vLyBJU0MgbGljZW5zZSwgQ29weXJpZ2h0IDIwMTggVmxhZGltaXIgQWdhZm9ua2luLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcXVpY2tzZWxlY3QoYXJyYXksIGssIGxlZnQgPSAwLCByaWdodCA9IGFycmF5Lmxlbmd0aCAtIDEsIGNvbXBhcmUpIHtcbiAgY29tcGFyZSA9IGNvbXBhcmUgPT09IHVuZGVmaW5lZCA/IGFzY2VuZGluZ0RlZmluZWQgOiBjb21wYXJlRGVmaW5lZChjb21wYXJlKTtcblxuICB3aGlsZSAocmlnaHQgPiBsZWZ0KSB7XG4gICAgaWYgKHJpZ2h0IC0gbGVmdCA+IDYwMCkge1xuICAgICAgY29uc3QgbiA9IHJpZ2h0IC0gbGVmdCArIDE7XG4gICAgICBjb25zdCBtID0gayAtIGxlZnQgKyAxO1xuICAgICAgY29uc3QgeiA9IE1hdGgubG9nKG4pO1xuICAgICAgY29uc3QgcyA9IDAuNSAqIE1hdGguZXhwKDIgKiB6IC8gMyk7XG4gICAgICBjb25zdCBzZCA9IDAuNSAqIE1hdGguc3FydCh6ICogcyAqIChuIC0gcykgLyBuKSAqIChtIC0gbiAvIDIgPCAwID8gLTEgOiAxKTtcbiAgICAgIGNvbnN0IG5ld0xlZnQgPSBNYXRoLm1heChsZWZ0LCBNYXRoLmZsb29yKGsgLSBtICogcyAvIG4gKyBzZCkpO1xuICAgICAgY29uc3QgbmV3UmlnaHQgPSBNYXRoLm1pbihyaWdodCwgTWF0aC5mbG9vcihrICsgKG4gLSBtKSAqIHMgLyBuICsgc2QpKTtcbiAgICAgIHF1aWNrc2VsZWN0KGFycmF5LCBrLCBuZXdMZWZ0LCBuZXdSaWdodCwgY29tcGFyZSk7XG4gICAgfVxuXG4gICAgY29uc3QgdCA9IGFycmF5W2tdO1xuICAgIGxldCBpID0gbGVmdDtcbiAgICBsZXQgaiA9IHJpZ2h0O1xuXG4gICAgc3dhcChhcnJheSwgbGVmdCwgayk7XG4gICAgaWYgKGNvbXBhcmUoYXJyYXlbcmlnaHRdLCB0KSA+IDApIHN3YXAoYXJyYXksIGxlZnQsIHJpZ2h0KTtcblxuICAgIHdoaWxlIChpIDwgaikge1xuICAgICAgc3dhcChhcnJheSwgaSwgaiksICsraSwgLS1qO1xuICAgICAgd2hpbGUgKGNvbXBhcmUoYXJyYXlbaV0sIHQpIDwgMCkgKytpO1xuICAgICAgd2hpbGUgKGNvbXBhcmUoYXJyYXlbal0sIHQpID4gMCkgLS1qO1xuICAgIH1cblxuICAgIGlmIChjb21wYXJlKGFycmF5W2xlZnRdLCB0KSA9PT0gMCkgc3dhcChhcnJheSwgbGVmdCwgaik7XG4gICAgZWxzZSArK2osIHN3YXAoYXJyYXksIGosIHJpZ2h0KTtcblxuICAgIGlmIChqIDw9IGspIGxlZnQgPSBqICsgMTtcbiAgICBpZiAoayA8PSBqKSByaWdodCA9IGogLSAxO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuZnVuY3Rpb24gc3dhcChhcnJheSwgaSwgaikge1xuICBjb25zdCB0ID0gYXJyYXlbaV07XG4gIGFycmF5W2ldID0gYXJyYXlbal07XG4gIGFycmF5W2pdID0gdDtcbn1cbiIsImltcG9ydCBtYXggZnJvbSBcIi4vbWF4LmpzXCI7XG5pbXBvcnQgbWluIGZyb20gXCIuL21pbi5qc1wiO1xuaW1wb3J0IHF1aWNrc2VsZWN0IGZyb20gXCIuL3F1aWNrc2VsZWN0LmpzXCI7XG5pbXBvcnQgbnVtYmVyLCB7bnVtYmVyc30gZnJvbSBcIi4vbnVtYmVyLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHF1YW50aWxlKHZhbHVlcywgcCwgdmFsdWVvZikge1xuICB2YWx1ZXMgPSBGbG9hdDY0QXJyYXkuZnJvbShudW1iZXJzKHZhbHVlcywgdmFsdWVvZikpO1xuICBpZiAoIShuID0gdmFsdWVzLmxlbmd0aCkpIHJldHVybjtcbiAgaWYgKChwID0gK3ApIDw9IDAgfHwgbiA8IDIpIHJldHVybiBtaW4odmFsdWVzKTtcbiAgaWYgKHAgPj0gMSkgcmV0dXJuIG1heCh2YWx1ZXMpO1xuICB2YXIgbixcbiAgICAgIGkgPSAobiAtIDEpICogcCxcbiAgICAgIGkwID0gTWF0aC5mbG9vcihpKSxcbiAgICAgIHZhbHVlMCA9IG1heChxdWlja3NlbGVjdCh2YWx1ZXMsIGkwKS5zdWJhcnJheSgwLCBpMCArIDEpKSxcbiAgICAgIHZhbHVlMSA9IG1pbih2YWx1ZXMuc3ViYXJyYXkoaTAgKyAxKSk7XG4gIHJldHVybiB2YWx1ZTAgKyAodmFsdWUxIC0gdmFsdWUwKSAqIChpIC0gaTApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcXVhbnRpbGVTb3J0ZWQodmFsdWVzLCBwLCB2YWx1ZW9mID0gbnVtYmVyKSB7XG4gIGlmICghKG4gPSB2YWx1ZXMubGVuZ3RoKSkgcmV0dXJuO1xuICBpZiAoKHAgPSArcCkgPD0gMCB8fCBuIDwgMikgcmV0dXJuICt2YWx1ZW9mKHZhbHVlc1swXSwgMCwgdmFsdWVzKTtcbiAgaWYgKHAgPj0gMSkgcmV0dXJuICt2YWx1ZW9mKHZhbHVlc1tuIC0gMV0sIG4gLSAxLCB2YWx1ZXMpO1xuICB2YXIgbixcbiAgICAgIGkgPSAobiAtIDEpICogcCxcbiAgICAgIGkwID0gTWF0aC5mbG9vcihpKSxcbiAgICAgIHZhbHVlMCA9ICt2YWx1ZW9mKHZhbHVlc1tpMF0sIGkwLCB2YWx1ZXMpLFxuICAgICAgdmFsdWUxID0gK3ZhbHVlb2YodmFsdWVzW2kwICsgMV0sIGkwICsgMSwgdmFsdWVzKTtcbiAgcmV0dXJuIHZhbHVlMCArICh2YWx1ZTEgLSB2YWx1ZTApICogKGkgLSBpMCk7XG59XG4iLCJpbXBvcnQgcXVhbnRpbGUgZnJvbSBcIi4vcXVhbnRpbGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVkaWFuKHZhbHVlcywgdmFsdWVvZikge1xuICByZXR1cm4gcXVhbnRpbGUodmFsdWVzLCAwLjUsIHZhbHVlb2YpO1xufVxuIiwiXG4vLyBpbXBvcnQgKiBhcyBqU3RhdCBmcm9tICdqc3RhdCc7XG5cbi8qXG4gIENQVE1hdGggU3RhdGljIENsYXNzIC0gTm90IGludGVuZGVkIGZvciBpbnN0YW50aWF0aW9uIVxuXG4gIFZhcmlhYmxlczpcbiAgICB4ID0gb2JqZWN0aXZlIHZhbHVlXG4gICAgdiA9IHN1YmplY3RpdmUgdmFsdWUvdXRpbGl0eVxuICAgIHAgPSBvYmplY3RpdmUgcHJvYmFiaWxpdHlcbiAgICB3ID0gc3ViamVjdGl2ZSBwcm9iYWJpbGl0eS9kZWNpc2lvbiB3ZWlnaHRcbiAgICBWID0gZXhwZWN0ZWQgdmFsdWUvdXRpbGl0eVxuXG4gICAgYSA9IGFscGhhIChjdXJ2YXR1cmUgZm9yIHZhbHVlIGZ1bmN0aW9uKVxuICAgIGwgPSBsYW1iZGEgKGxvc3MgYXZlcnNpb24gZm9yIHZhbHVlIGZ1bmN0aW9uKVxuICAgIGcgPSBnYW1tYSAoc2Vuc2l0aXZpdHkgZm9yIGRlY2lzaW9uIHdlaWdodGluZyBmdW5jdGlvbilcblxuICBFcXVhdGlvbnM6XG4gICAgdiA9IHheYSwgaWYgeCA+PSAwOyAtbCAqIC14XmEsIGlmIHggPCAwXG4gICAgdyA9IHBeZyAvIChwXmcgKyAoMSAtIHApXmcpXigxIC8gZylcbiAgICBWID0gdiAqIHdcbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDUFRNYXRoIHtcbiAgc3RhdGljIHhhbDJ2KHgsIGEsIGwpIHtcbiAgICBpZiAoeCA+PSAwKSB7XG4gICAgICByZXR1cm4geCAqKiBhO1xuICAgIH1cbiAgICAvLyBlbHNlICh4IDwgMClcbiAgICByZXR1cm4gLWwgKiAoKC14KSAqKiBhKTtcbiAgfVxuXG4gIHN0YXRpYyB4bHYyYSh4LCBsLCB2KSB7XG4gICAgaWYgKHggPj0gMCkge1xuICAgICAgcmV0dXJuIE1hdGgubG9nKHYpIC8gTWF0aC5sb2coeCk7XG4gICAgfVxuICAgIC8vIGVsc2UgKHggPCAwKVxuICAgIHJldHVybiAoTWF0aC5sb2coLXYpIC0gTWF0aC5sb2cobCkpIC8gTWF0aC5sb2coLXgpO1xuICB9XG5cbiAgc3RhdGljIHhhdjJsKHgsIGEsIHYpIHtcbiAgICBpZiAoeCA+PSAwKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgLy8gZWxzZSAoeCA8IDApXG4gICAgcmV0dXJuIC12IC8gKCgteCkgKiogYSk7XG4gIH1cblxuICBzdGF0aWMgcGcydyhwLCBnKSB7XG4gICAgcmV0dXJuIChwICoqIGcpIC8gKCgocCAqKiBnKSArICgoMSAtIHApICoqIGcpKSAqKiAoMSAvIGcpKTtcbiAgfVxufVxuIiwiXG4vLyBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbmltcG9ydCBDUFRNYXRoIGZyb20gJy4vY3B0LW1hdGgnO1xuXG5leHBvcnQgZGVmYXVsdCBDUFRNYXRoO1xuIiwiLyogZXNsaW50IG5vLXJlc3RyaWN0ZWQtZ2xvYmFsczogW1wib2ZmXCIsIFwic2VsZlwiXSAqL1xuXG4vLyBOZWVkZWQgZm9yIGQzIGluIFdlYldvcmtlciFcbmltcG9ydCAncmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lJztcblxuaW1wb3J0ICogYXMgQmF5ZXNEaXN0cmlidXRpb25zIGZyb20gJ2JheWVzLmpzL2Rpc3RyaWJ1dGlvbnMnO1xuaW1wb3J0ICogYXMgQmF5ZXNNY21jIGZyb20gJ2JheWVzLmpzL21jbWMnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IENQVE1hdGggZnJvbSAnQGRlY2lkYWJsZXMvcHJvc3BlY3RhYmxlLW1hdGgnO1xuXG5zZWxmLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICBjb25zdCBwYXJhbXMgPSB7XG4gICAgYWxwaGE6IHt0eXBlOiAncmVhbCcsIGxvd2VyOiAwLCB1cHBlcjogMX0sXG4gICAgbGFtYmRhOiB7dHlwZTogJ3JlYWwnLCBsb3dlcjogMCwgdXBwZXI6IDEwfSxcbiAgICBnYW1tYToge3R5cGU6ICdyZWFsJywgbG93ZXI6IDAsIHVwcGVyOiAxfSxcbiAgICBsdWNlOiB7dHlwZTogJ3JlYWwnLCBsb3dlcjogMCwgdXBwZXI6IDEwMH0sXG4gIH07XG5cbiAgY29uc3QgbG9nUG9zdCA9IChzdGF0ZSwgZGF0YSkgPT4ge1xuICAgIGxldCBscCA9IDA7XG5cbiAgICAvLyBQcmlvcnNcbiAgICBjb25zdCBhbHBoYU1lYW4gPSAwLjU7XG4gICAgY29uc3QgYWxwaGFTYW1wbGVTaXplID0gMi41O1xuICAgIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy5iZXRhKFxuICAgICAgc3RhdGUuYWxwaGEsXG4gICAgICBhbHBoYU1lYW4gKiBhbHBoYVNhbXBsZVNpemUsXG4gICAgICAoMSAtIGFscGhhTWVhbikgKiBhbHBoYVNhbXBsZVNpemUsXG4gICAgKTtcbiAgICAvLyBscCArPSBCYXllc0Rpc3RyaWJ1dGlvbnMudW5pZihzdGF0ZS5hbHBoYSwgMCwgMSk7XG5cbiAgICBjb25zdCBsYW1iZGFNZWFuID0gMjtcbiAgICBjb25zdCBsYW1iZGFTaGFwZSA9IDM7XG4gICAgbHAgKz0gQmF5ZXNEaXN0cmlidXRpb25zLmdhbW1hKFxuICAgICAgc3RhdGUubGFtYmRhLFxuICAgICAgbGFtYmRhU2hhcGUsXG4gICAgICBsYW1iZGFTaGFwZSAvIGxhbWJkYU1lYW4sXG4gICAgKTtcbiAgICAvLyBscCArPSBCYXllc0Rpc3RyaWJ1dGlvbnMudW5pZihzdGF0ZS5sYW1iZGEsIDAsIDEwKTtcblxuICAgIGNvbnN0IGdhbW1hTWVhbiA9IDAuNTtcbiAgICBjb25zdCBnYW1tYVNhbXBsZVNpemUgPSAyLjU7XG4gICAgbHAgKz0gQmF5ZXNEaXN0cmlidXRpb25zLmJldGEoXG4gICAgICBzdGF0ZS5nYW1tYSxcbiAgICAgIGdhbW1hTWVhbiAqIGdhbW1hU2FtcGxlU2l6ZSxcbiAgICAgICgxIC0gZ2FtbWFNZWFuKSAqIGdhbW1hU2FtcGxlU2l6ZSxcbiAgICApO1xuICAgIC8vIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy51bmlmKHN0YXRlLmdhbW1hLCAwLCAxKTtcblxuICAgIGNvbnN0IGx1Y2VNZWFuID0gMjtcbiAgICBjb25zdCBsdWNlU2hhcGUgPSAzO1xuICAgIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy5nYW1tYShcbiAgICAgIHN0YXRlLmx1Y2UsXG4gICAgICBsdWNlU2hhcGUsXG4gICAgICBsdWNlU2hhcGUgLyBsdWNlTWVhbixcbiAgICApO1xuICAgIC8vIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy51bmlmKHN0YXRlLmx1Y2UsIDAsIDEwMCk7XG5cbiAgICAvLyBMaWtlbGlob29kXG4gICAgZGF0YS5mb3JFYWNoKChjaG9pY2UpID0+IHtcbiAgICAgIC8vIFZhbHVlc1xuICAgICAgY29uc3QgdmwgPSBDUFRNYXRoLnhhbDJ2KGNob2ljZS54bCwgc3RhdGUuYWxwaGEsIHN0YXRlLmxhbWJkYSk7XG4gICAgICBjb25zdCB2dyA9IENQVE1hdGgueGFsMnYoY2hvaWNlLnh3LCBzdGF0ZS5hbHBoYSwgc3RhdGUubGFtYmRhKTtcbiAgICAgIGNvbnN0IHZzID0gQ1BUTWF0aC54YWwydihjaG9pY2UueHMsIHN0YXRlLmFscGhhLCBzdGF0ZS5sYW1iZGEpO1xuXG4gICAgICAvLyBQcm9iYWJpbGl0aWVzXG4gICAgICBjb25zdCB3dyA9IENQVE1hdGgucGcydyhjaG9pY2UucHcsIHN0YXRlLmdhbW1hKTtcbiAgICAgIGNvbnN0IHdsID0gMSAtIHd3O1xuXG4gICAgICAvLyBVdGlsaXRpZXNcbiAgICAgIGNvbnN0IHVnID0gd2wgKiB2bCArIHd3ICogdnc7XG4gICAgICBjb25zdCB1cyA9IHZzO1xuXG4gICAgICAvLyBDaG9pY2Ugb2YgZ2FtYmxlIG9yIHN1cmUgaXMgc2FtcGxlZCBmcm9tIGEgQmVybm91bGxpIGRpc3RyaWJ1dGlvblxuICAgICAgLy8gTHVjZSBjaG9pY2UgcnVsZSBpcyB1c2VkIHRvIGNvbXB1dGUgcHJvYmFiaWxpdHkgb2YgZ2FtYmxpbmchICgwID0gc3VyZSwgMSA9IGdhbWJsZSlcbiAgICAgIGNvbnN0IGJpbnZhbCA9IDEgLyAoMSArIE1hdGguZXhwKHN0YXRlLmx1Y2UgKiAodXMgLSB1ZykpKTtcblxuICAgICAgLy8gQWN0dWFsIHJlc3BvbnNlXG4gICAgICBjb25zdCByZXNwb25zZSA9IChjaG9pY2UucmVzcG9uc2UgPT09ICdzdXJlJykgPyAwIDogMTtcblxuICAgICAgbHAgKz0gQmF5ZXNEaXN0cmlidXRpb25zLmJlcm4ocmVzcG9uc2UsIGJpbnZhbCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbHA7XG4gIH07XG5cbiAgLy8gSW5pdGlhbGl6aW5nIHRoZSBzYW1wbGVyXG4gIGNvbnN0IHNhbXBsZXIgPSBuZXcgQmF5ZXNNY21jLkFtd2dTYW1wbGVyKHBhcmFtcywgbG9nUG9zdCwgZXZlbnQuZGF0YSk7XG4gIC8vIEJ1cm5pbmcgc29tZSBzYW1wbGVzIHRvIHRoZSBNQ01DIGdvZHMgYW5kIHNhbXBsaW5nIDUwMDAgZHJhd3NcbiAgc2FtcGxlci5idXJuKDEwMDApO1xuICBjb25zdCBzYW1wbGVzID0gc2FtcGxlci5zYW1wbGUoNTAwMCk7XG5cbiAgLy8gRXh0cmFjdCBzdW1tYXJ5IHN0YXRzXG4gIGNvbnN0IHJlc3VsdHMgPSB7XG4gICAgYWxwaGE6IGQzLm1lZGlhbihzYW1wbGVzLmFscGhhKSxcbiAgICBsYW1iZGE6IGQzLm1lZGlhbihzYW1wbGVzLmxhbWJkYSksXG4gICAgZ2FtbWE6IGQzLm1lZGlhbihzYW1wbGVzLmdhbW1hKSxcbiAgICBsdWNlOiBkMy5tZWRpYW4oc2FtcGxlcy5sdWNlKSxcbiAgfTtcblxuICBzZWxmLnBvc3RNZXNzYWdlKHtyZXN1bHRzOiByZXN1bHRzLCBzYW1wbGVzOiBzYW1wbGVzfSk7XG59O1xuIl0sIm5hbWVzIjpbInJ1bnRpbWUiLCJleHBvcnRzIiwiT3AiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd24iLCJoYXNPd25Qcm9wZXJ0eSIsInVuZGVmaW5lZCIsIiRTeW1ib2wiLCJTeW1ib2wiLCJpdGVyYXRvclN5bWJvbCIsIml0ZXJhdG9yIiwiYXN5bmNJdGVyYXRvclN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJ0b1N0cmluZ1RhZ1N5bWJvbCIsInRvU3RyaW5nVGFnIiwiZGVmaW5lIiwib2JqIiwia2V5IiwidmFsdWUiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImVyciIsIndyYXAiLCJpbm5lckZuIiwib3V0ZXJGbiIsInNlbGYiLCJ0cnlMb2NzTGlzdCIsInByb3RvR2VuZXJhdG9yIiwiR2VuZXJhdG9yIiwiZ2VuZXJhdG9yIiwiY3JlYXRlIiwiY29udGV4dCIsIkNvbnRleHQiLCJfaW52b2tlIiwibWFrZUludm9rZU1ldGhvZCIsInRyeUNhdGNoIiwiZm4iLCJhcmciLCJ0eXBlIiwiY2FsbCIsIkdlblN0YXRlU3VzcGVuZGVkU3RhcnQiLCJHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkIiwiR2VuU3RhdGVFeGVjdXRpbmciLCJHZW5TdGF0ZUNvbXBsZXRlZCIsIkNvbnRpbnVlU2VudGluZWwiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJnZXRQcm90byIsImdldFByb3RvdHlwZU9mIiwiTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUiLCJ2YWx1ZXMiLCJHcCIsImRpc3BsYXlOYW1lIiwiZGVmaW5lSXRlcmF0b3JNZXRob2RzIiwiZm9yRWFjaCIsIm1ldGhvZCIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJnZW5GdW4iLCJjdG9yIiwiY29uc3RydWN0b3IiLCJuYW1lIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJfX2F3YWl0IiwiQXN5bmNJdGVyYXRvciIsIlByb21pc2VJbXBsIiwiaW52b2tlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlY29yZCIsInJlc3VsdCIsInRoZW4iLCJ1bndyYXBwZWQiLCJlcnJvciIsInByZXZpb3VzUHJvbWlzZSIsImVucXVldWUiLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsImFzeW5jIiwiUHJvbWlzZSIsIml0ZXIiLCJuZXh0IiwiZG9uZSIsInN0YXRlIiwiRXJyb3IiLCJkb25lUmVzdWx0IiwiZGVsZWdhdGUiLCJkZWxlZ2F0ZVJlc3VsdCIsIm1heWJlSW52b2tlRGVsZWdhdGUiLCJzZW50IiwiX3NlbnQiLCJkaXNwYXRjaEV4Y2VwdGlvbiIsImFicnVwdCIsIlR5cGVFcnJvciIsImluZm8iLCJyZXN1bHROYW1lIiwibmV4dExvYyIsInB1c2hUcnlFbnRyeSIsImxvY3MiLCJlbnRyeSIsInRyeUxvYyIsImNhdGNoTG9jIiwiZmluYWxseUxvYyIsImFmdGVyTG9jIiwidHJ5RW50cmllcyIsInB1c2giLCJyZXNldFRyeUVudHJ5IiwiY29tcGxldGlvbiIsInJlc2V0Iiwia2V5cyIsIm9iamVjdCIsInJldmVyc2UiLCJsZW5ndGgiLCJwb3AiLCJpdGVyYWJsZSIsIml0ZXJhdG9yTWV0aG9kIiwiaXNOYU4iLCJpIiwic2tpcFRlbXBSZXNldCIsInByZXYiLCJjaGFyQXQiLCJzbGljZSIsInN0b3AiLCJyb290RW50cnkiLCJyb290UmVjb3JkIiwicnZhbCIsImV4Y2VwdGlvbiIsImhhbmRsZSIsImxvYyIsImNhdWdodCIsImhhc0NhdGNoIiwiaGFzRmluYWxseSIsImZpbmFsbHlFbnRyeSIsImNvbXBsZXRlIiwiZmluaXNoIiwidGhyb3duIiwiZGVsZWdhdGVZaWVsZCIsIm1vZHVsZSIsInJlZ2VuZXJhdG9yUnVudGltZSIsImFjY2lkZW50YWxTdHJpY3RNb2RlIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwicm9vdCIsImZhY3RvcnkiLCJsZCIsInRoaXMiLCJsZ2FtbWEiLCJ4IiwiaiIsImNvZiIsInNlciIsInh4IiwieSIsInRtcCIsImxvZyIsImxmYWN0b3JpYWwiLCJuIiwiTmFOIiwibGNob29zZSIsImsiLCJsYmV0YSIsImEiLCJiIiwiTWF0aCIsImV4cCIsImFicyIsInBvdyIsInNxcnQiLCJwaSIsIlBJIiwiYmV0YSIsInNoYXBlMSIsInNoYXBlMiIsIkluZmluaXR5IiwiY2F1Y2h5IiwibG9jYXRpb24iLCJzY2FsZSIsIm5vcm0iLCJtZWFuIiwic2QiLCJiaXZhcm5vcm0iLCJjb3JyIiwieiIsIm5vcm1hbGl6aW5nX2ZhY3RvciIsImJpdmFyX2xvZ19kZW5zIiwibGFwbGFjZSIsImRleHAiLCJnYW1tYSIsInNoYXBlIiwicmF0ZSIsImludmdhbW1hIiwibG5vcm0iLCJtZWFubG9nIiwic2Rsb2ciLCJwYXJldG8iLCJ0IiwiZGYiLCJ3ZWlidWxsIiwidG1wMSIsInRtcDIiLCJsb2dpcyIsImUiLCJmIiwiZGlyaWNobGV0IiwiYWxwaGEiLCJzdW1fYWxwaGEiLCJzdW1fbGdhbW1hX2FscGhhIiwic3VtX2FscGhhX3N1Yl8xX2xvZ194IiwidW5pZiIsIm1pbiIsIm1heCIsImJlcm4iLCJwcm9iIiwiY2F0IiwicHJvYnMiLCJiaW5vbSIsInNpemUiLCJuYmlub20iLCJoeXBlciIsIm0iLCJwb2lzIiwibGFtYmRhIiwibWNtYyIsInJ1bmlmIiwicmFuZG9tIiwicnVuaWZfZGlzY3JldGUiLCJmbG9vciIsInJub3JtIiwidSIsInYiLCJxIiwiZGVlcF9jbG9uZSIsInNyYyIsIm1peGluIiwiZGVzdCIsInNvdXJjZSIsImNvcHlGdW5jIiwicyIsImVtcHR5IiwidG9TdHJpbmciLCJub2RlVHlwZSIsImNsb25lTm9kZSIsIkRhdGUiLCJnZXRUaW1lIiwiUmVnRXhwIiwiciIsImwiLCJBcnJheSIsImNsb25lX3BhcmFtX2RyYXciLCJpc0FycmF5IiwieF9jb3B5IiwiaXNfbnVtYmVyIiwiTnVtYmVyIiwiY3JlYXRlX2FycmF5IiwiZGltIiwiaW5pdCIsImFyciIsImFycmF5X2RpbSIsImNvbmNhdCIsImFycmF5X2VxdWFsIiwiYTEiLCJhMiIsIm5lc3RlZF9hcnJheV9hcHBseSIsImZ1biIsInNodWZmbGVfYXJyYXkiLCJhcnJheSIsInRlbXAiLCJuZXN0ZWRfYXJyYXlfcmFuZG9tX2FwcGx5IiwibGVuIiwiYXJyYXlfaXMiLCJhcnJheV9pIiwiZ2V0X29wdGlvbiIsIm9wdGlvbl9uYW1lIiwib3B0aW9ucyIsImRlZmF1bF92YWx1ZSIsImdldF9tdWx0aWRpbV9vcHRpb24iLCJwYXJhbV9pbml0X2ZpeGVkIiwibG93ZXIiLCJ1cHBlciIsInJvdW5kIiwiY29tcGxldGVfcGFyYW1zIiwicGFyYW1zX3RvX2NvbXBsZXRlIiwicGFyYW1faW5pdCIsInBhcmFtcyIsInBhcmFtX25hbWUiLCJwYXJhbSIsIlN0ZXBwZXIiLCJsb2dfcG9zdCIsInN0ZXAiLCJzdGFydF9hZGFwdGF0aW9uIiwic3RvcF9hZGFwdGF0aW9uIiwiT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIiLCJnZW5lcmF0ZV9wcm9wb3NhbCIsInBhcmFtX25hbWVzIiwicHJvcF9sb2dfc2NhbGUiLCJiYXRjaF9zaXplIiwibWF4X2FkYXB0YXRpb24iLCJpbml0aWFsX2FkYXB0YXRpb24iLCJ0YXJnZXRfYWNjZXB0X3JhdGUiLCJpc19hZGFwdGluZyIsImFjY2VwdGFuY2VfY291bnQiLCJiYXRjaF9jb3VudCIsIml0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb24iLCJwYXJhbV9zdGF0ZSIsInBhcmFtX3Byb3Bvc2FsIiwiY3Vycl9sb2dfZGVucyIsInByb3BfbG9nX2RlbnMiLCJhY2NlcHRfcHJvYiIsImxvZ19zZF9hZGp1c3RtZW50Iiwibm9ybWFsX3Byb3Bvc2FsIiwiUmVhbE1ldHJvcG9saXNTdGVwcGVyIiwiZGlzY3JldGVfbm9ybWFsX3Byb3Bvc2FsIiwiSW50TWV0cm9wb2xpc1N0ZXBwZXIiLCJNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIiwiU3ViU3RlcHBlciIsImNyZWF0ZV9zdWJzdGVwcGVycyIsInN1YnN0YXRlIiwic3Vic3RlcHBlcnMiLCJzdWJvcHRpb25zIiwic3VicGFyYW0iLCJzdWJzdGVwcGVyIiwiTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIiLCJNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIiwiQmluYXJ5U3RlcHBlciIsInplcm9fbG9nX2RlbnMiLCJvbmVfbG9nX2RlbnMiLCJtYXhfbG9nX2RlbnMiLCJ6ZXJvX3Byb2IiLCJCaW5hcnlDb21wb25lbnRTdGVwcGVyIiwic3VicGFyYW1zIiwiQW13Z1N0ZXBwZXIiLCJTZWxlY3RTdGVwcGVyIiwicGFyYW1fb2JqZWN0X3dyYXAiLCJwYXJhbV9vcHRpb25zIiwiU2FtcGxlciIsImRhdGEiLCJwYXJhbV9pbml0X2Z1biIsInRoaW5uaW5nX2ludGVydmFsIiwicGFyYW1zX3RvX21vbml0b3IiLCJ0aGluIiwibW9uaXRvciIsInN0ZXBwZXJzIiwiY3JlYXRlX3N0ZXBwZXJfZW5zYW1ibGUiLCJzYW1wbGUiLCJuX2l0ZXJhdGlvbnMiLCJtb25pdG9yZWRfcGFyYW1zIiwiY3Vycl9zYW1wbGUiLCJidXJuIiwiQW13Z1NhbXBsZXIiLCJhc2NlbmRpbmciLCJudW1iZXJzIiwidmFsdWVvZiIsImluZGV4IiwiY29tcGFyZURlZmluZWQiLCJjb21wYXJlIiwiYXNjZW5kaW5nRGVmaW5lZCIsInF1aWNrc2VsZWN0IiwibGVmdCIsInJpZ2h0IiwibmV3TGVmdCIsIm5ld1JpZ2h0Iiwic3dhcCIsInF1YW50aWxlIiwicCIsIkZsb2F0NjRBcnJheSIsImZyb20iLCJpMCIsInZhbHVlMCIsInN1YmFycmF5IiwidmFsdWUxIiwibWVkaWFuIiwiQ1BUTWF0aCIsImciLCJvbm1lc3NhZ2UiLCJldmVudCIsImx1Y2UiLCJsb2dQb3N0IiwibHAiLCJhbHBoYU1lYW4iLCJhbHBoYVNhbXBsZVNpemUiLCJCYXllc0Rpc3RyaWJ1dGlvbnMiLCJsYW1iZGFNZWFuIiwibGFtYmRhU2hhcGUiLCJnYW1tYU1lYW4iLCJnYW1tYVNhbXBsZVNpemUiLCJsdWNlTWVhbiIsImx1Y2VTaGFwZSIsImNob2ljZSIsInZsIiwieGFsMnYiLCJ4bCIsInZ3IiwieHciLCJ2cyIsInhzIiwid3ciLCJwZzJ3IiwicHciLCJ3bCIsInVnIiwidXMiLCJiaW52YWwiLCJyZXNwb25zZSIsInNhbXBsZXIiLCJCYXllc01jbWMiLCJzYW1wbGVzIiwicmVzdWx0cyIsImQzIiwicG9zdE1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQU9BLE1BQUlBLE9BQU8sR0FBSSxVQUFVQyxPQUFWLEVBQW1COztFQUdoQyxRQUFJQyxFQUFFLEdBQUdDLE1BQU0sQ0FBQ0MsU0FBaEI7RUFDQSxRQUFJQyxNQUFNLEdBQUdILEVBQUUsQ0FBQ0ksY0FBaEI7RUFDQSxRQUFJQyxXQUFKLENBTGdDOztFQU1oQyxRQUFJQyxPQUFPLEdBQUcsT0FBT0MsTUFBUCxLQUFrQixVQUFsQixHQUErQkEsTUFBL0IsR0FBd0MsRUFBdEQ7RUFDQSxRQUFJQyxjQUFjLEdBQUdGLE9BQU8sQ0FBQ0csUUFBUixJQUFvQixZQUF6QztFQUNBLFFBQUlDLG1CQUFtQixHQUFHSixPQUFPLENBQUNLLGFBQVIsSUFBeUIsaUJBQW5EO0VBQ0EsUUFBSUMsaUJBQWlCLEdBQUdOLE9BQU8sQ0FBQ08sV0FBUixJQUF1QixlQUEvQzs7RUFFQSxhQUFTQyxNQUFULENBQWdCQyxHQUFoQixFQUFxQkMsR0FBckIsRUFBMEJDLEtBQTFCLEVBQWlDO0VBQy9CaEIsTUFBQUEsTUFBTSxDQUFDaUIsY0FBUCxDQUFzQkgsR0FBdEIsRUFBMkJDLEdBQTNCLEVBQWdDO0VBQzlCQyxRQUFBQSxLQUFLLEVBQUVBLEtBRHVCO0VBRTlCRSxRQUFBQSxVQUFVLEVBQUUsSUFGa0I7RUFHOUJDLFFBQUFBLFlBQVksRUFBRSxJQUhnQjtFQUk5QkMsUUFBQUEsUUFBUSxFQUFFO0VBSm9CLE9BQWhDO0VBTUEsYUFBT04sR0FBRyxDQUFDQyxHQUFELENBQVY7RUFDRDs7RUFDRCxRQUFJOztFQUVGRixNQUFBQSxNQUFNLENBQUMsRUFBRCxFQUFLLEVBQUwsQ0FBTjtFQUNELEtBSEQsQ0FHRSxPQUFPUSxHQUFQLEVBQVk7RUFDWlIsTUFBQUEsTUFBTSxHQUFHLGdCQUFTQyxHQUFULEVBQWNDLEdBQWQsRUFBbUJDLEtBQW5CLEVBQTBCO0VBQ2pDLGVBQU9GLEdBQUcsQ0FBQ0MsR0FBRCxDQUFILEdBQVdDLEtBQWxCO0VBQ0QsT0FGRDtFQUdEOztFQUVELGFBQVNNLElBQVQsQ0FBY0MsT0FBZCxFQUF1QkMsT0FBdkIsRUFBZ0NDLElBQWhDLEVBQXNDQyxXQUF0QyxFQUFtRDs7RUFFakQsVUFBSUMsY0FBYyxHQUFHSCxPQUFPLElBQUlBLE9BQU8sQ0FBQ3ZCLFNBQVIsWUFBNkIyQixTQUF4QyxHQUFvREosT0FBcEQsR0FBOERJLFNBQW5GO0VBQ0EsVUFBSUMsU0FBUyxHQUFHN0IsTUFBTSxDQUFDOEIsTUFBUCxDQUFjSCxjQUFjLENBQUMxQixTQUE3QixDQUFoQjtFQUNBLFVBQUk4QixPQUFPLEdBQUcsSUFBSUMsT0FBSixDQUFZTixXQUFXLElBQUksRUFBM0IsQ0FBZCxDQUppRDs7O0VBUWpERyxNQUFBQSxTQUFTLENBQUNJLE9BQVYsR0FBb0JDLGdCQUFnQixDQUFDWCxPQUFELEVBQVVFLElBQVYsRUFBZ0JNLE9BQWhCLENBQXBDO0VBRUEsYUFBT0YsU0FBUDtFQUNEOztFQUNEL0IsSUFBQUEsT0FBTyxDQUFDd0IsSUFBUixHQUFlQSxJQUFmLENBekNnQzs7Ozs7Ozs7Ozs7RUFxRGhDLGFBQVNhLFFBQVQsQ0FBa0JDLEVBQWxCLEVBQXNCdEIsR0FBdEIsRUFBMkJ1QixHQUEzQixFQUFnQztFQUM5QixVQUFJO0VBQ0YsZUFBTztFQUFFQyxVQUFBQSxJQUFJLEVBQUUsUUFBUjtFQUFrQkQsVUFBQUEsR0FBRyxFQUFFRCxFQUFFLENBQUNHLElBQUgsQ0FBUXpCLEdBQVIsRUFBYXVCLEdBQWI7RUFBdkIsU0FBUDtFQUNELE9BRkQsQ0FFRSxPQUFPaEIsR0FBUCxFQUFZO0VBQ1osZUFBTztFQUFFaUIsVUFBQUEsSUFBSSxFQUFFLE9BQVI7RUFBaUJELFVBQUFBLEdBQUcsRUFBRWhCO0VBQXRCLFNBQVA7RUFDRDtFQUNGOztFQUVELFFBQUltQixzQkFBc0IsR0FBRyxnQkFBN0I7RUFDQSxRQUFJQyxzQkFBc0IsR0FBRyxnQkFBN0I7RUFDQSxRQUFJQyxpQkFBaUIsR0FBRyxXQUF4QjtFQUNBLFFBQUlDLGlCQUFpQixHQUFHLFdBQXhCLENBaEVnQzs7O0VBb0VoQyxRQUFJQyxnQkFBZ0IsR0FBRyxFQUF2QixDQXBFZ0M7Ozs7O0VBMEVoQyxhQUFTaEIsU0FBVCxHQUFxQjs7RUFDckIsYUFBU2lCLGlCQUFULEdBQTZCOztFQUM3QixhQUFTQywwQkFBVCxHQUFzQyxFQTVFTjs7OztFQWdGaEMsUUFBSUMsaUJBQWlCLEdBQUcsRUFBeEI7RUFDQWxDLElBQUFBLE1BQU0sQ0FBQ2tDLGlCQUFELEVBQW9CeEMsY0FBcEIsRUFBb0MsWUFBWTtFQUNwRCxhQUFPLElBQVA7RUFDRCxLQUZLLENBQU47RUFJQSxRQUFJeUMsUUFBUSxHQUFHaEQsTUFBTSxDQUFDaUQsY0FBdEI7RUFDQSxRQUFJQyx1QkFBdUIsR0FBR0YsUUFBUSxJQUFJQSxRQUFRLENBQUNBLFFBQVEsQ0FBQ0csTUFBTSxDQUFDLEVBQUQsQ0FBUCxDQUFULENBQWxEOztFQUNBLFFBQUlELHVCQUF1QixJQUN2QkEsdUJBQXVCLEtBQUtuRCxFQUQ1QixJQUVBRyxNQUFNLENBQUNxQyxJQUFQLENBQVlXLHVCQUFaLEVBQXFDM0MsY0FBckMsQ0FGSixFQUUwRDs7O0VBR3hEd0MsTUFBQUEsaUJBQWlCLEdBQUdHLHVCQUFwQjtFQUNEOztFQUVELFFBQUlFLEVBQUUsR0FBR04sMEJBQTBCLENBQUM3QyxTQUEzQixHQUNQMkIsU0FBUyxDQUFDM0IsU0FBVixHQUFzQkQsTUFBTSxDQUFDOEIsTUFBUCxDQUFjaUIsaUJBQWQsQ0FEeEI7RUFFQUYsSUFBQUEsaUJBQWlCLENBQUM1QyxTQUFsQixHQUE4QjZDLDBCQUE5QjtFQUNBakMsSUFBQUEsTUFBTSxDQUFDdUMsRUFBRCxFQUFLLGFBQUwsRUFBb0JOLDBCQUFwQixDQUFOO0VBQ0FqQyxJQUFBQSxNQUFNLENBQUNpQywwQkFBRCxFQUE2QixhQUE3QixFQUE0Q0QsaUJBQTVDLENBQU47RUFDQUEsSUFBQUEsaUJBQWlCLENBQUNRLFdBQWxCLEdBQWdDeEMsTUFBTSxDQUNwQ2lDLDBCQURvQyxFQUVwQ25DLGlCQUZvQyxFQUdwQyxtQkFIb0MsQ0FBdEMsQ0FwR2dDOzs7RUE0R2hDLGFBQVMyQyxxQkFBVCxDQUErQnJELFNBQS9CLEVBQTBDO0VBQ3hDLE9BQUMsTUFBRCxFQUFTLE9BQVQsRUFBa0IsUUFBbEIsRUFBNEJzRCxPQUE1QixDQUFvQyxVQUFTQyxNQUFULEVBQWlCO0VBQ25EM0MsUUFBQUEsTUFBTSxDQUFDWixTQUFELEVBQVl1RCxNQUFaLEVBQW9CLFVBQVNuQixHQUFULEVBQWM7RUFDdEMsaUJBQU8sS0FBS0osT0FBTCxDQUFhdUIsTUFBYixFQUFxQm5CLEdBQXJCLENBQVA7RUFDRCxTQUZLLENBQU47RUFHRCxPQUpEO0VBS0Q7O0VBRUR2QyxJQUFBQSxPQUFPLENBQUMyRCxtQkFBUixHQUE4QixVQUFTQyxNQUFULEVBQWlCO0VBQzdDLFVBQUlDLElBQUksR0FBRyxPQUFPRCxNQUFQLEtBQWtCLFVBQWxCLElBQWdDQSxNQUFNLENBQUNFLFdBQWxEO0VBQ0EsYUFBT0QsSUFBSSxHQUNQQSxJQUFJLEtBQUtkLGlCQUFUOztFQUdBLE9BQUNjLElBQUksQ0FBQ04sV0FBTCxJQUFvQk0sSUFBSSxDQUFDRSxJQUExQixNQUFvQyxtQkFKN0IsR0FLUCxLQUxKO0VBTUQsS0FSRDs7RUFVQS9ELElBQUFBLE9BQU8sQ0FBQ2dFLElBQVIsR0FBZSxVQUFTSixNQUFULEVBQWlCO0VBQzlCLFVBQUkxRCxNQUFNLENBQUMrRCxjQUFYLEVBQTJCO0VBQ3pCL0QsUUFBQUEsTUFBTSxDQUFDK0QsY0FBUCxDQUFzQkwsTUFBdEIsRUFBOEJaLDBCQUE5QjtFQUNELE9BRkQsTUFFTztFQUNMWSxRQUFBQSxNQUFNLENBQUNNLFNBQVAsR0FBbUJsQiwwQkFBbkI7RUFDQWpDLFFBQUFBLE1BQU0sQ0FBQzZDLE1BQUQsRUFBUy9DLGlCQUFULEVBQTRCLG1CQUE1QixDQUFOO0VBQ0Q7O0VBQ0QrQyxNQUFBQSxNQUFNLENBQUN6RCxTQUFQLEdBQW1CRCxNQUFNLENBQUM4QixNQUFQLENBQWNzQixFQUFkLENBQW5CO0VBQ0EsYUFBT00sTUFBUDtFQUNELEtBVEQsQ0E5SGdDOzs7Ozs7RUE2SWhDNUQsSUFBQUEsT0FBTyxDQUFDbUUsS0FBUixHQUFnQixVQUFTNUIsR0FBVCxFQUFjO0VBQzVCLGFBQU87RUFBRTZCLFFBQUFBLE9BQU8sRUFBRTdCO0VBQVgsT0FBUDtFQUNELEtBRkQ7O0VBSUEsYUFBUzhCLGFBQVQsQ0FBdUJ0QyxTQUF2QixFQUFrQ3VDLFdBQWxDLEVBQStDO0VBQzdDLGVBQVNDLE1BQVQsQ0FBZ0JiLE1BQWhCLEVBQXdCbkIsR0FBeEIsRUFBNkJpQyxPQUE3QixFQUFzQ0MsTUFBdEMsRUFBOEM7RUFDNUMsWUFBSUMsTUFBTSxHQUFHckMsUUFBUSxDQUFDTixTQUFTLENBQUMyQixNQUFELENBQVYsRUFBb0IzQixTQUFwQixFQUErQlEsR0FBL0IsQ0FBckI7O0VBQ0EsWUFBSW1DLE1BQU0sQ0FBQ2xDLElBQVAsS0FBZ0IsT0FBcEIsRUFBNkI7RUFDM0JpQyxVQUFBQSxNQUFNLENBQUNDLE1BQU0sQ0FBQ25DLEdBQVIsQ0FBTjtFQUNELFNBRkQsTUFFTztFQUNMLGNBQUlvQyxNQUFNLEdBQUdELE1BQU0sQ0FBQ25DLEdBQXBCO0VBQ0EsY0FBSXJCLEtBQUssR0FBR3lELE1BQU0sQ0FBQ3pELEtBQW5COztFQUNBLGNBQUlBLEtBQUssSUFDTCxRQUFPQSxLQUFQLE1BQWlCLFFBRGpCLElBRUFkLE1BQU0sQ0FBQ3FDLElBQVAsQ0FBWXZCLEtBQVosRUFBbUIsU0FBbkIsQ0FGSixFQUVtQztFQUNqQyxtQkFBT29ELFdBQVcsQ0FBQ0UsT0FBWixDQUFvQnRELEtBQUssQ0FBQ2tELE9BQTFCLEVBQW1DUSxJQUFuQyxDQUF3QyxVQUFTMUQsS0FBVCxFQUFnQjtFQUM3RHFELGNBQUFBLE1BQU0sQ0FBQyxNQUFELEVBQVNyRCxLQUFULEVBQWdCc0QsT0FBaEIsRUFBeUJDLE1BQXpCLENBQU47RUFDRCxhQUZNLEVBRUosVUFBU2xELEdBQVQsRUFBYztFQUNmZ0QsY0FBQUEsTUFBTSxDQUFDLE9BQUQsRUFBVWhELEdBQVYsRUFBZWlELE9BQWYsRUFBd0JDLE1BQXhCLENBQU47RUFDRCxhQUpNLENBQVA7RUFLRDs7RUFFRCxpQkFBT0gsV0FBVyxDQUFDRSxPQUFaLENBQW9CdEQsS0FBcEIsRUFBMkIwRCxJQUEzQixDQUFnQyxVQUFTQyxTQUFULEVBQW9COzs7O0VBSXpERixZQUFBQSxNQUFNLENBQUN6RCxLQUFQLEdBQWUyRCxTQUFmO0VBQ0FMLFlBQUFBLE9BQU8sQ0FBQ0csTUFBRCxDQUFQO0VBQ0QsV0FOTSxFQU1KLFVBQVNHLEtBQVQsRUFBZ0I7OztFQUdqQixtQkFBT1AsTUFBTSxDQUFDLE9BQUQsRUFBVU8sS0FBVixFQUFpQk4sT0FBakIsRUFBMEJDLE1BQTFCLENBQWI7RUFDRCxXQVZNLENBQVA7RUFXRDtFQUNGOztFQUVELFVBQUlNLGVBQUo7O0VBRUEsZUFBU0MsT0FBVCxDQUFpQnRCLE1BQWpCLEVBQXlCbkIsR0FBekIsRUFBOEI7RUFDNUIsaUJBQVMwQywwQkFBVCxHQUFzQztFQUNwQyxpQkFBTyxJQUFJWCxXQUFKLENBQWdCLFVBQVNFLE9BQVQsRUFBa0JDLE1BQWxCLEVBQTBCO0VBQy9DRixZQUFBQSxNQUFNLENBQUNiLE1BQUQsRUFBU25CLEdBQVQsRUFBY2lDLE9BQWQsRUFBdUJDLE1BQXZCLENBQU47RUFDRCxXQUZNLENBQVA7RUFHRDs7RUFFRCxlQUFPTSxlQUFlOzs7Ozs7Ozs7Ozs7RUFhcEJBLFFBQUFBLGVBQWUsR0FBR0EsZUFBZSxDQUFDSCxJQUFoQixDQUNoQkssMEJBRGdCOztFQUloQkEsUUFBQUEsMEJBSmdCLENBQUgsR0FLWEEsMEJBQTBCLEVBbEJoQztFQW1CRCxPQTVENEM7Ozs7RUFnRTdDLFdBQUs5QyxPQUFMLEdBQWU2QyxPQUFmO0VBQ0Q7O0VBRUR4QixJQUFBQSxxQkFBcUIsQ0FBQ2EsYUFBYSxDQUFDbEUsU0FBZixDQUFyQjtFQUNBWSxJQUFBQSxNQUFNLENBQUNzRCxhQUFhLENBQUNsRSxTQUFmLEVBQTBCUSxtQkFBMUIsRUFBK0MsWUFBWTtFQUMvRCxhQUFPLElBQVA7RUFDRCxLQUZLLENBQU47RUFHQVgsSUFBQUEsT0FBTyxDQUFDcUUsYUFBUixHQUF3QkEsYUFBeEIsQ0F4TmdDOzs7O0VBNk5oQ3JFLElBQUFBLE9BQU8sQ0FBQ2tGLEtBQVIsR0FBZ0IsVUFBU3pELE9BQVQsRUFBa0JDLE9BQWxCLEVBQTJCQyxJQUEzQixFQUFpQ0MsV0FBakMsRUFBOEMwQyxXQUE5QyxFQUEyRDtFQUN6RSxVQUFJQSxXQUFXLEtBQUssS0FBSyxDQUF6QixFQUE0QkEsV0FBVyxHQUFHYSxPQUFkO0VBRTVCLFVBQUlDLElBQUksR0FBRyxJQUFJZixhQUFKLENBQ1Q3QyxJQUFJLENBQUNDLE9BQUQsRUFBVUMsT0FBVixFQUFtQkMsSUFBbkIsRUFBeUJDLFdBQXpCLENBREssRUFFVDBDLFdBRlMsQ0FBWDtFQUtBLGFBQU90RSxPQUFPLENBQUMyRCxtQkFBUixDQUE0QmpDLE9BQTVCLElBQ0gwRCxJQURHO0VBQUEsUUFFSEEsSUFBSSxDQUFDQyxJQUFMLEdBQVlULElBQVosQ0FBaUIsVUFBU0QsTUFBVCxFQUFpQjtFQUNoQyxlQUFPQSxNQUFNLENBQUNXLElBQVAsR0FBY1gsTUFBTSxDQUFDekQsS0FBckIsR0FBNkJrRSxJQUFJLENBQUNDLElBQUwsRUFBcEM7RUFDRCxPQUZELENBRko7RUFLRCxLQWJEOztFQWVBLGFBQVNqRCxnQkFBVCxDQUEwQlgsT0FBMUIsRUFBbUNFLElBQW5DLEVBQXlDTSxPQUF6QyxFQUFrRDtFQUNoRCxVQUFJc0QsS0FBSyxHQUFHN0Msc0JBQVo7RUFFQSxhQUFPLFNBQVM2QixNQUFULENBQWdCYixNQUFoQixFQUF3Qm5CLEdBQXhCLEVBQTZCO0VBQ2xDLFlBQUlnRCxLQUFLLEtBQUszQyxpQkFBZCxFQUFpQztFQUMvQixnQkFBTSxJQUFJNEMsS0FBSixDQUFVLDhCQUFWLENBQU47RUFDRDs7RUFFRCxZQUFJRCxLQUFLLEtBQUsxQyxpQkFBZCxFQUFpQztFQUMvQixjQUFJYSxNQUFNLEtBQUssT0FBZixFQUF3QjtFQUN0QixrQkFBTW5CLEdBQU47RUFDRCxXQUg4Qjs7OztFQU8vQixpQkFBT2tELFVBQVUsRUFBakI7RUFDRDs7RUFFRHhELFFBQUFBLE9BQU8sQ0FBQ3lCLE1BQVIsR0FBaUJBLE1BQWpCO0VBQ0F6QixRQUFBQSxPQUFPLENBQUNNLEdBQVIsR0FBY0EsR0FBZDs7RUFFQSxlQUFPLElBQVAsRUFBYTtFQUNYLGNBQUltRCxRQUFRLEdBQUd6RCxPQUFPLENBQUN5RCxRQUF2Qjs7RUFDQSxjQUFJQSxRQUFKLEVBQWM7RUFDWixnQkFBSUMsY0FBYyxHQUFHQyxtQkFBbUIsQ0FBQ0YsUUFBRCxFQUFXekQsT0FBWCxDQUF4Qzs7RUFDQSxnQkFBSTBELGNBQUosRUFBb0I7RUFDbEIsa0JBQUlBLGNBQWMsS0FBSzdDLGdCQUF2QixFQUF5QztFQUN6QyxxQkFBTzZDLGNBQVA7RUFDRDtFQUNGOztFQUVELGNBQUkxRCxPQUFPLENBQUN5QixNQUFSLEtBQW1CLE1BQXZCLEVBQStCOzs7RUFHN0J6QixZQUFBQSxPQUFPLENBQUM0RCxJQUFSLEdBQWU1RCxPQUFPLENBQUM2RCxLQUFSLEdBQWdCN0QsT0FBTyxDQUFDTSxHQUF2QztFQUVELFdBTEQsTUFLTyxJQUFJTixPQUFPLENBQUN5QixNQUFSLEtBQW1CLE9BQXZCLEVBQWdDO0VBQ3JDLGdCQUFJNkIsS0FBSyxLQUFLN0Msc0JBQWQsRUFBc0M7RUFDcEM2QyxjQUFBQSxLQUFLLEdBQUcxQyxpQkFBUjtFQUNBLG9CQUFNWixPQUFPLENBQUNNLEdBQWQ7RUFDRDs7RUFFRE4sWUFBQUEsT0FBTyxDQUFDOEQsaUJBQVIsQ0FBMEI5RCxPQUFPLENBQUNNLEdBQWxDO0VBRUQsV0FSTSxNQVFBLElBQUlOLE9BQU8sQ0FBQ3lCLE1BQVIsS0FBbUIsUUFBdkIsRUFBaUM7RUFDdEN6QixZQUFBQSxPQUFPLENBQUMrRCxNQUFSLENBQWUsUUFBZixFQUF5Qi9ELE9BQU8sQ0FBQ00sR0FBakM7RUFDRDs7RUFFRGdELFVBQUFBLEtBQUssR0FBRzNDLGlCQUFSO0VBRUEsY0FBSThCLE1BQU0sR0FBR3JDLFFBQVEsQ0FBQ1osT0FBRCxFQUFVRSxJQUFWLEVBQWdCTSxPQUFoQixDQUFyQjs7RUFDQSxjQUFJeUMsTUFBTSxDQUFDbEMsSUFBUCxLQUFnQixRQUFwQixFQUE4Qjs7O0VBRzVCK0MsWUFBQUEsS0FBSyxHQUFHdEQsT0FBTyxDQUFDcUQsSUFBUixHQUNKekMsaUJBREksR0FFSkYsc0JBRko7O0VBSUEsZ0JBQUkrQixNQUFNLENBQUNuQyxHQUFQLEtBQWVPLGdCQUFuQixFQUFxQztFQUNuQztFQUNEOztFQUVELG1CQUFPO0VBQ0w1QixjQUFBQSxLQUFLLEVBQUV3RCxNQUFNLENBQUNuQyxHQURUO0VBRUwrQyxjQUFBQSxJQUFJLEVBQUVyRCxPQUFPLENBQUNxRDtFQUZULGFBQVA7RUFLRCxXQWhCRCxNQWdCTyxJQUFJWixNQUFNLENBQUNsQyxJQUFQLEtBQWdCLE9BQXBCLEVBQTZCO0VBQ2xDK0MsWUFBQUEsS0FBSyxHQUFHMUMsaUJBQVIsQ0FEa0M7OztFQUlsQ1osWUFBQUEsT0FBTyxDQUFDeUIsTUFBUixHQUFpQixPQUFqQjtFQUNBekIsWUFBQUEsT0FBTyxDQUFDTSxHQUFSLEdBQWNtQyxNQUFNLENBQUNuQyxHQUFyQjtFQUNEO0VBQ0Y7RUFDRixPQXhFRDtFQXlFRCxLQXhUK0I7Ozs7OztFQThUaEMsYUFBU3FELG1CQUFULENBQTZCRixRQUE3QixFQUF1Q3pELE9BQXZDLEVBQWdEO0VBQzlDLFVBQUl5QixNQUFNLEdBQUdnQyxRQUFRLENBQUNoRixRQUFULENBQWtCdUIsT0FBTyxDQUFDeUIsTUFBMUIsQ0FBYjs7RUFDQSxVQUFJQSxNQUFNLEtBQUtwRCxXQUFmLEVBQTBCOzs7RUFHeEIyQixRQUFBQSxPQUFPLENBQUN5RCxRQUFSLEdBQW1CLElBQW5COztFQUVBLFlBQUl6RCxPQUFPLENBQUN5QixNQUFSLEtBQW1CLE9BQXZCLEVBQWdDOztFQUU5QixjQUFJZ0MsUUFBUSxDQUFDaEYsUUFBVCxDQUFrQixRQUFsQixDQUFKLEVBQWlDOzs7RUFHL0J1QixZQUFBQSxPQUFPLENBQUN5QixNQUFSLEdBQWlCLFFBQWpCO0VBQ0F6QixZQUFBQSxPQUFPLENBQUNNLEdBQVIsR0FBY2pDLFdBQWQ7RUFDQXNGLFlBQUFBLG1CQUFtQixDQUFDRixRQUFELEVBQVd6RCxPQUFYLENBQW5COztFQUVBLGdCQUFJQSxPQUFPLENBQUN5QixNQUFSLEtBQW1CLE9BQXZCLEVBQWdDOzs7RUFHOUIscUJBQU9aLGdCQUFQO0VBQ0Q7RUFDRjs7RUFFRGIsVUFBQUEsT0FBTyxDQUFDeUIsTUFBUixHQUFpQixPQUFqQjtFQUNBekIsVUFBQUEsT0FBTyxDQUFDTSxHQUFSLEdBQWMsSUFBSTBELFNBQUosQ0FDWixnREFEWSxDQUFkO0VBRUQ7O0VBRUQsZUFBT25ELGdCQUFQO0VBQ0Q7O0VBRUQsVUFBSTRCLE1BQU0sR0FBR3JDLFFBQVEsQ0FBQ3FCLE1BQUQsRUFBU2dDLFFBQVEsQ0FBQ2hGLFFBQWxCLEVBQTRCdUIsT0FBTyxDQUFDTSxHQUFwQyxDQUFyQjs7RUFFQSxVQUFJbUMsTUFBTSxDQUFDbEMsSUFBUCxLQUFnQixPQUFwQixFQUE2QjtFQUMzQlAsUUFBQUEsT0FBTyxDQUFDeUIsTUFBUixHQUFpQixPQUFqQjtFQUNBekIsUUFBQUEsT0FBTyxDQUFDTSxHQUFSLEdBQWNtQyxNQUFNLENBQUNuQyxHQUFyQjtFQUNBTixRQUFBQSxPQUFPLENBQUN5RCxRQUFSLEdBQW1CLElBQW5CO0VBQ0EsZUFBTzVDLGdCQUFQO0VBQ0Q7O0VBRUQsVUFBSW9ELElBQUksR0FBR3hCLE1BQU0sQ0FBQ25DLEdBQWxCOztFQUVBLFVBQUksQ0FBRTJELElBQU4sRUFBWTtFQUNWakUsUUFBQUEsT0FBTyxDQUFDeUIsTUFBUixHQUFpQixPQUFqQjtFQUNBekIsUUFBQUEsT0FBTyxDQUFDTSxHQUFSLEdBQWMsSUFBSTBELFNBQUosQ0FBYyxrQ0FBZCxDQUFkO0VBQ0FoRSxRQUFBQSxPQUFPLENBQUN5RCxRQUFSLEdBQW1CLElBQW5CO0VBQ0EsZUFBTzVDLGdCQUFQO0VBQ0Q7O0VBRUQsVUFBSW9ELElBQUksQ0FBQ1osSUFBVCxFQUFlOzs7RUFHYnJELFFBQUFBLE9BQU8sQ0FBQ3lELFFBQVEsQ0FBQ1MsVUFBVixDQUFQLEdBQStCRCxJQUFJLENBQUNoRixLQUFwQyxDQUhhOztFQU1iZSxRQUFBQSxPQUFPLENBQUNvRCxJQUFSLEdBQWVLLFFBQVEsQ0FBQ1UsT0FBeEIsQ0FOYTs7Ozs7OztFQWNiLFlBQUluRSxPQUFPLENBQUN5QixNQUFSLEtBQW1CLFFBQXZCLEVBQWlDO0VBQy9CekIsVUFBQUEsT0FBTyxDQUFDeUIsTUFBUixHQUFpQixNQUFqQjtFQUNBekIsVUFBQUEsT0FBTyxDQUFDTSxHQUFSLEdBQWNqQyxXQUFkO0VBQ0Q7RUFFRixPQW5CRCxNQW1CTzs7RUFFTCxlQUFPNEYsSUFBUDtFQUNELE9BdkU2Qzs7OztFQTJFOUNqRSxNQUFBQSxPQUFPLENBQUN5RCxRQUFSLEdBQW1CLElBQW5CO0VBQ0EsYUFBTzVDLGdCQUFQO0VBQ0QsS0EzWStCOzs7O0VBK1loQ1UsSUFBQUEscUJBQXFCLENBQUNGLEVBQUQsQ0FBckI7RUFFQXZDLElBQUFBLE1BQU0sQ0FBQ3VDLEVBQUQsRUFBS3pDLGlCQUFMLEVBQXdCLFdBQXhCLENBQU4sQ0FqWmdDOzs7Ozs7RUF3WmhDRSxJQUFBQSxNQUFNLENBQUN1QyxFQUFELEVBQUs3QyxjQUFMLEVBQXFCLFlBQVc7RUFDcEMsYUFBTyxJQUFQO0VBQ0QsS0FGSyxDQUFOO0VBSUFNLElBQUFBLE1BQU0sQ0FBQ3VDLEVBQUQsRUFBSyxVQUFMLEVBQWlCLFlBQVc7RUFDaEMsYUFBTyxvQkFBUDtFQUNELEtBRkssQ0FBTjs7RUFJQSxhQUFTK0MsWUFBVCxDQUFzQkMsSUFBdEIsRUFBNEI7RUFDMUIsVUFBSUMsS0FBSyxHQUFHO0VBQUVDLFFBQUFBLE1BQU0sRUFBRUYsSUFBSSxDQUFDLENBQUQ7RUFBZCxPQUFaOztFQUVBLFVBQUksS0FBS0EsSUFBVCxFQUFlO0VBQ2JDLFFBQUFBLEtBQUssQ0FBQ0UsUUFBTixHQUFpQkgsSUFBSSxDQUFDLENBQUQsQ0FBckI7RUFDRDs7RUFFRCxVQUFJLEtBQUtBLElBQVQsRUFBZTtFQUNiQyxRQUFBQSxLQUFLLENBQUNHLFVBQU4sR0FBbUJKLElBQUksQ0FBQyxDQUFELENBQXZCO0VBQ0FDLFFBQUFBLEtBQUssQ0FBQ0ksUUFBTixHQUFpQkwsSUFBSSxDQUFDLENBQUQsQ0FBckI7RUFDRDs7RUFFRCxXQUFLTSxVQUFMLENBQWdCQyxJQUFoQixDQUFxQk4sS0FBckI7RUFDRDs7RUFFRCxhQUFTTyxhQUFULENBQXVCUCxLQUF2QixFQUE4QjtFQUM1QixVQUFJN0IsTUFBTSxHQUFHNkIsS0FBSyxDQUFDUSxVQUFOLElBQW9CLEVBQWpDO0VBQ0FyQyxNQUFBQSxNQUFNLENBQUNsQyxJQUFQLEdBQWMsUUFBZDtFQUNBLGFBQU9rQyxNQUFNLENBQUNuQyxHQUFkO0VBQ0FnRSxNQUFBQSxLQUFLLENBQUNRLFVBQU4sR0FBbUJyQyxNQUFuQjtFQUNEOztFQUVELGFBQVN4QyxPQUFULENBQWlCTixXQUFqQixFQUE4Qjs7OztFQUk1QixXQUFLZ0YsVUFBTCxHQUFrQixDQUFDO0VBQUVKLFFBQUFBLE1BQU0sRUFBRTtFQUFWLE9BQUQsQ0FBbEI7RUFDQTVFLE1BQUFBLFdBQVcsQ0FBQzZCLE9BQVosQ0FBb0I0QyxZQUFwQixFQUFrQyxJQUFsQztFQUNBLFdBQUtXLEtBQUwsQ0FBVyxJQUFYO0VBQ0Q7O0VBRURoSCxJQUFBQSxPQUFPLENBQUNpSCxJQUFSLEdBQWUsVUFBU0MsTUFBVCxFQUFpQjtFQUM5QixVQUFJRCxJQUFJLEdBQUcsRUFBWDs7RUFDQSxXQUFLLElBQUloRyxHQUFULElBQWdCaUcsTUFBaEIsRUFBd0I7RUFDdEJELFFBQUFBLElBQUksQ0FBQ0osSUFBTCxDQUFVNUYsR0FBVjtFQUNEOztFQUNEZ0csTUFBQUEsSUFBSSxDQUFDRSxPQUFMLEdBTDhCOzs7RUFTOUIsYUFBTyxTQUFTOUIsSUFBVCxHQUFnQjtFQUNyQixlQUFPNEIsSUFBSSxDQUFDRyxNQUFaLEVBQW9CO0VBQ2xCLGNBQUluRyxHQUFHLEdBQUdnRyxJQUFJLENBQUNJLEdBQUwsRUFBVjs7RUFDQSxjQUFJcEcsR0FBRyxJQUFJaUcsTUFBWCxFQUFtQjtFQUNqQjdCLFlBQUFBLElBQUksQ0FBQ25FLEtBQUwsR0FBYUQsR0FBYjtFQUNBb0UsWUFBQUEsSUFBSSxDQUFDQyxJQUFMLEdBQVksS0FBWjtFQUNBLG1CQUFPRCxJQUFQO0VBQ0Q7RUFDRixTQVJvQjs7Ozs7RUFhckJBLFFBQUFBLElBQUksQ0FBQ0MsSUFBTCxHQUFZLElBQVo7RUFDQSxlQUFPRCxJQUFQO0VBQ0QsT0FmRDtFQWdCRCxLQXpCRDs7RUEyQkEsYUFBU2hDLE1BQVQsQ0FBZ0JpRSxRQUFoQixFQUEwQjtFQUN4QixVQUFJQSxRQUFKLEVBQWM7RUFDWixZQUFJQyxjQUFjLEdBQUdELFFBQVEsQ0FBQzdHLGNBQUQsQ0FBN0I7O0VBQ0EsWUFBSThHLGNBQUosRUFBb0I7RUFDbEIsaUJBQU9BLGNBQWMsQ0FBQzlFLElBQWYsQ0FBb0I2RSxRQUFwQixDQUFQO0VBQ0Q7O0VBRUQsWUFBSSxPQUFPQSxRQUFRLENBQUNqQyxJQUFoQixLQUF5QixVQUE3QixFQUF5QztFQUN2QyxpQkFBT2lDLFFBQVA7RUFDRDs7RUFFRCxZQUFJLENBQUNFLEtBQUssQ0FBQ0YsUUFBUSxDQUFDRixNQUFWLENBQVYsRUFBNkI7RUFDM0IsY0FBSUssQ0FBQyxHQUFHLENBQUMsQ0FBVDtFQUFBLGNBQVlwQyxJQUFJLEdBQUcsU0FBU0EsSUFBVCxHQUFnQjtFQUNqQyxtQkFBTyxFQUFFb0MsQ0FBRixHQUFNSCxRQUFRLENBQUNGLE1BQXRCLEVBQThCO0VBQzVCLGtCQUFJaEgsTUFBTSxDQUFDcUMsSUFBUCxDQUFZNkUsUUFBWixFQUFzQkcsQ0FBdEIsQ0FBSixFQUE4QjtFQUM1QnBDLGdCQUFBQSxJQUFJLENBQUNuRSxLQUFMLEdBQWFvRyxRQUFRLENBQUNHLENBQUQsQ0FBckI7RUFDQXBDLGdCQUFBQSxJQUFJLENBQUNDLElBQUwsR0FBWSxLQUFaO0VBQ0EsdUJBQU9ELElBQVA7RUFDRDtFQUNGOztFQUVEQSxZQUFBQSxJQUFJLENBQUNuRSxLQUFMLEdBQWFaLFdBQWI7RUFDQStFLFlBQUFBLElBQUksQ0FBQ0MsSUFBTCxHQUFZLElBQVo7RUFFQSxtQkFBT0QsSUFBUDtFQUNELFdBYkQ7O0VBZUEsaUJBQU9BLElBQUksQ0FBQ0EsSUFBTCxHQUFZQSxJQUFuQjtFQUNEO0VBQ0YsT0E3QnVCOzs7RUFnQ3hCLGFBQU87RUFBRUEsUUFBQUEsSUFBSSxFQUFFSTtFQUFSLE9BQVA7RUFDRDs7RUFDRHpGLElBQUFBLE9BQU8sQ0FBQ3FELE1BQVIsR0FBaUJBLE1BQWpCOztFQUVBLGFBQVNvQyxVQUFULEdBQXNCO0VBQ3BCLGFBQU87RUFBRXZFLFFBQUFBLEtBQUssRUFBRVosV0FBVDtFQUFvQmdGLFFBQUFBLElBQUksRUFBRTtFQUExQixPQUFQO0VBQ0Q7O0VBRURwRCxJQUFBQSxPQUFPLENBQUMvQixTQUFSLEdBQW9CO0VBQ2xCMkQsTUFBQUEsV0FBVyxFQUFFNUIsT0FESztFQUdsQjhFLE1BQUFBLEtBQUssRUFBRSxlQUFTVSxhQUFULEVBQXdCO0VBQzdCLGFBQUtDLElBQUwsR0FBWSxDQUFaO0VBQ0EsYUFBS3RDLElBQUwsR0FBWSxDQUFaLENBRjZCOzs7RUFLN0IsYUFBS1EsSUFBTCxHQUFZLEtBQUtDLEtBQUwsR0FBYXhGLFdBQXpCO0VBQ0EsYUFBS2dGLElBQUwsR0FBWSxLQUFaO0VBQ0EsYUFBS0ksUUFBTCxHQUFnQixJQUFoQjtFQUVBLGFBQUtoQyxNQUFMLEdBQWMsTUFBZDtFQUNBLGFBQUtuQixHQUFMLEdBQVdqQyxXQUFYO0VBRUEsYUFBS3NHLFVBQUwsQ0FBZ0JuRCxPQUFoQixDQUF3QnFELGFBQXhCOztFQUVBLFlBQUksQ0FBQ1ksYUFBTCxFQUFvQjtFQUNsQixlQUFLLElBQUkzRCxJQUFULElBQWlCLElBQWpCLEVBQXVCOztFQUVyQixnQkFBSUEsSUFBSSxDQUFDNkQsTUFBTCxDQUFZLENBQVosTUFBbUIsR0FBbkIsSUFDQXhILE1BQU0sQ0FBQ3FDLElBQVAsQ0FBWSxJQUFaLEVBQWtCc0IsSUFBbEIsQ0FEQSxJQUVBLENBQUN5RCxLQUFLLENBQUMsQ0FBQ3pELElBQUksQ0FBQzhELEtBQUwsQ0FBVyxDQUFYLENBQUYsQ0FGVixFQUU0QjtFQUMxQixtQkFBSzlELElBQUwsSUFBYXpELFdBQWI7RUFDRDtFQUNGO0VBQ0Y7RUFDRixPQTNCaUI7RUE2QmxCd0gsTUFBQUEsSUFBSSxFQUFFLGdCQUFXO0VBQ2YsYUFBS3hDLElBQUwsR0FBWSxJQUFaO0VBRUEsWUFBSXlDLFNBQVMsR0FBRyxLQUFLbkIsVUFBTCxDQUFnQixDQUFoQixDQUFoQjtFQUNBLFlBQUlvQixVQUFVLEdBQUdELFNBQVMsQ0FBQ2hCLFVBQTNCOztFQUNBLFlBQUlpQixVQUFVLENBQUN4RixJQUFYLEtBQW9CLE9BQXhCLEVBQWlDO0VBQy9CLGdCQUFNd0YsVUFBVSxDQUFDekYsR0FBakI7RUFDRDs7RUFFRCxlQUFPLEtBQUswRixJQUFaO0VBQ0QsT0F2Q2lCO0VBeUNsQmxDLE1BQUFBLGlCQUFpQixFQUFFLDJCQUFTbUMsU0FBVCxFQUFvQjtFQUNyQyxZQUFJLEtBQUs1QyxJQUFULEVBQWU7RUFDYixnQkFBTTRDLFNBQU47RUFDRDs7RUFFRCxZQUFJakcsT0FBTyxHQUFHLElBQWQ7O0VBQ0EsaUJBQVNrRyxNQUFULENBQWdCQyxHQUFoQixFQUFxQkMsTUFBckIsRUFBNkI7RUFDM0IzRCxVQUFBQSxNQUFNLENBQUNsQyxJQUFQLEdBQWMsT0FBZDtFQUNBa0MsVUFBQUEsTUFBTSxDQUFDbkMsR0FBUCxHQUFhMkYsU0FBYjtFQUNBakcsVUFBQUEsT0FBTyxDQUFDb0QsSUFBUixHQUFlK0MsR0FBZjs7RUFFQSxjQUFJQyxNQUFKLEVBQVk7OztFQUdWcEcsWUFBQUEsT0FBTyxDQUFDeUIsTUFBUixHQUFpQixNQUFqQjtFQUNBekIsWUFBQUEsT0FBTyxDQUFDTSxHQUFSLEdBQWNqQyxXQUFkO0VBQ0Q7O0VBRUQsaUJBQU8sQ0FBQyxDQUFFK0gsTUFBVjtFQUNEOztFQUVELGFBQUssSUFBSVosQ0FBQyxHQUFHLEtBQUtiLFVBQUwsQ0FBZ0JRLE1BQWhCLEdBQXlCLENBQXRDLEVBQXlDSyxDQUFDLElBQUksQ0FBOUMsRUFBaUQsRUFBRUEsQ0FBbkQsRUFBc0Q7RUFDcEQsY0FBSWxCLEtBQUssR0FBRyxLQUFLSyxVQUFMLENBQWdCYSxDQUFoQixDQUFaO0VBQ0EsY0FBSS9DLE1BQU0sR0FBRzZCLEtBQUssQ0FBQ1EsVUFBbkI7O0VBRUEsY0FBSVIsS0FBSyxDQUFDQyxNQUFOLEtBQWlCLE1BQXJCLEVBQTZCOzs7O0VBSTNCLG1CQUFPMkIsTUFBTSxDQUFDLEtBQUQsQ0FBYjtFQUNEOztFQUVELGNBQUk1QixLQUFLLENBQUNDLE1BQU4sSUFBZ0IsS0FBS21CLElBQXpCLEVBQStCO0VBQzdCLGdCQUFJVyxRQUFRLEdBQUdsSSxNQUFNLENBQUNxQyxJQUFQLENBQVk4RCxLQUFaLEVBQW1CLFVBQW5CLENBQWY7RUFDQSxnQkFBSWdDLFVBQVUsR0FBR25JLE1BQU0sQ0FBQ3FDLElBQVAsQ0FBWThELEtBQVosRUFBbUIsWUFBbkIsQ0FBakI7O0VBRUEsZ0JBQUkrQixRQUFRLElBQUlDLFVBQWhCLEVBQTRCO0VBQzFCLGtCQUFJLEtBQUtaLElBQUwsR0FBWXBCLEtBQUssQ0FBQ0UsUUFBdEIsRUFBZ0M7RUFDOUIsdUJBQU8wQixNQUFNLENBQUM1QixLQUFLLENBQUNFLFFBQVAsRUFBaUIsSUFBakIsQ0FBYjtFQUNELGVBRkQsTUFFTyxJQUFJLEtBQUtrQixJQUFMLEdBQVlwQixLQUFLLENBQUNHLFVBQXRCLEVBQWtDO0VBQ3ZDLHVCQUFPeUIsTUFBTSxDQUFDNUIsS0FBSyxDQUFDRyxVQUFQLENBQWI7RUFDRDtFQUVGLGFBUEQsTUFPTyxJQUFJNEIsUUFBSixFQUFjO0VBQ25CLGtCQUFJLEtBQUtYLElBQUwsR0FBWXBCLEtBQUssQ0FBQ0UsUUFBdEIsRUFBZ0M7RUFDOUIsdUJBQU8wQixNQUFNLENBQUM1QixLQUFLLENBQUNFLFFBQVAsRUFBaUIsSUFBakIsQ0FBYjtFQUNEO0VBRUYsYUFMTSxNQUtBLElBQUk4QixVQUFKLEVBQWdCO0VBQ3JCLGtCQUFJLEtBQUtaLElBQUwsR0FBWXBCLEtBQUssQ0FBQ0csVUFBdEIsRUFBa0M7RUFDaEMsdUJBQU95QixNQUFNLENBQUM1QixLQUFLLENBQUNHLFVBQVAsQ0FBYjtFQUNEO0VBRUYsYUFMTSxNQUtBO0VBQ0wsb0JBQU0sSUFBSWxCLEtBQUosQ0FBVSx3Q0FBVixDQUFOO0VBQ0Q7RUFDRjtFQUNGO0VBQ0YsT0FuR2lCO0VBcUdsQlEsTUFBQUEsTUFBTSxFQUFFLGdCQUFTeEQsSUFBVCxFQUFlRCxHQUFmLEVBQW9CO0VBQzFCLGFBQUssSUFBSWtGLENBQUMsR0FBRyxLQUFLYixVQUFMLENBQWdCUSxNQUFoQixHQUF5QixDQUF0QyxFQUF5Q0ssQ0FBQyxJQUFJLENBQTlDLEVBQWlELEVBQUVBLENBQW5ELEVBQXNEO0VBQ3BELGNBQUlsQixLQUFLLEdBQUcsS0FBS0ssVUFBTCxDQUFnQmEsQ0FBaEIsQ0FBWjs7RUFDQSxjQUFJbEIsS0FBSyxDQUFDQyxNQUFOLElBQWdCLEtBQUttQixJQUFyQixJQUNBdkgsTUFBTSxDQUFDcUMsSUFBUCxDQUFZOEQsS0FBWixFQUFtQixZQUFuQixDQURBLElBRUEsS0FBS29CLElBQUwsR0FBWXBCLEtBQUssQ0FBQ0csVUFGdEIsRUFFa0M7RUFDaEMsZ0JBQUk4QixZQUFZLEdBQUdqQyxLQUFuQjtFQUNBO0VBQ0Q7RUFDRjs7RUFFRCxZQUFJaUMsWUFBWSxLQUNYaEcsSUFBSSxLQUFLLE9BQVQsSUFDQUEsSUFBSSxLQUFLLFVBRkUsQ0FBWixJQUdBZ0csWUFBWSxDQUFDaEMsTUFBYixJQUF1QmpFLEdBSHZCLElBSUFBLEdBQUcsSUFBSWlHLFlBQVksQ0FBQzlCLFVBSnhCLEVBSW9DOzs7RUFHbEM4QixVQUFBQSxZQUFZLEdBQUcsSUFBZjtFQUNEOztFQUVELFlBQUk5RCxNQUFNLEdBQUc4RCxZQUFZLEdBQUdBLFlBQVksQ0FBQ3pCLFVBQWhCLEdBQTZCLEVBQXREO0VBQ0FyQyxRQUFBQSxNQUFNLENBQUNsQyxJQUFQLEdBQWNBLElBQWQ7RUFDQWtDLFFBQUFBLE1BQU0sQ0FBQ25DLEdBQVAsR0FBYUEsR0FBYjs7RUFFQSxZQUFJaUcsWUFBSixFQUFrQjtFQUNoQixlQUFLOUUsTUFBTCxHQUFjLE1BQWQ7RUFDQSxlQUFLMkIsSUFBTCxHQUFZbUQsWUFBWSxDQUFDOUIsVUFBekI7RUFDQSxpQkFBTzVELGdCQUFQO0VBQ0Q7O0VBRUQsZUFBTyxLQUFLMkYsUUFBTCxDQUFjL0QsTUFBZCxDQUFQO0VBQ0QsT0FySWlCO0VBdUlsQitELE1BQUFBLFFBQVEsRUFBRSxrQkFBUy9ELE1BQVQsRUFBaUJpQyxRQUFqQixFQUEyQjtFQUNuQyxZQUFJakMsTUFBTSxDQUFDbEMsSUFBUCxLQUFnQixPQUFwQixFQUE2QjtFQUMzQixnQkFBTWtDLE1BQU0sQ0FBQ25DLEdBQWI7RUFDRDs7RUFFRCxZQUFJbUMsTUFBTSxDQUFDbEMsSUFBUCxLQUFnQixPQUFoQixJQUNBa0MsTUFBTSxDQUFDbEMsSUFBUCxLQUFnQixVQURwQixFQUNnQztFQUM5QixlQUFLNkMsSUFBTCxHQUFZWCxNQUFNLENBQUNuQyxHQUFuQjtFQUNELFNBSEQsTUFHTyxJQUFJbUMsTUFBTSxDQUFDbEMsSUFBUCxLQUFnQixRQUFwQixFQUE4QjtFQUNuQyxlQUFLeUYsSUFBTCxHQUFZLEtBQUsxRixHQUFMLEdBQVdtQyxNQUFNLENBQUNuQyxHQUE5QjtFQUNBLGVBQUttQixNQUFMLEdBQWMsUUFBZDtFQUNBLGVBQUsyQixJQUFMLEdBQVksS0FBWjtFQUNELFNBSk0sTUFJQSxJQUFJWCxNQUFNLENBQUNsQyxJQUFQLEtBQWdCLFFBQWhCLElBQTRCbUUsUUFBaEMsRUFBMEM7RUFDL0MsZUFBS3RCLElBQUwsR0FBWXNCLFFBQVo7RUFDRDs7RUFFRCxlQUFPN0QsZ0JBQVA7RUFDRCxPQXhKaUI7RUEwSmxCNEYsTUFBQUEsTUFBTSxFQUFFLGdCQUFTaEMsVUFBVCxFQUFxQjtFQUMzQixhQUFLLElBQUllLENBQUMsR0FBRyxLQUFLYixVQUFMLENBQWdCUSxNQUFoQixHQUF5QixDQUF0QyxFQUF5Q0ssQ0FBQyxJQUFJLENBQTlDLEVBQWlELEVBQUVBLENBQW5ELEVBQXNEO0VBQ3BELGNBQUlsQixLQUFLLEdBQUcsS0FBS0ssVUFBTCxDQUFnQmEsQ0FBaEIsQ0FBWjs7RUFDQSxjQUFJbEIsS0FBSyxDQUFDRyxVQUFOLEtBQXFCQSxVQUF6QixFQUFxQztFQUNuQyxpQkFBSytCLFFBQUwsQ0FBY2xDLEtBQUssQ0FBQ1EsVUFBcEIsRUFBZ0NSLEtBQUssQ0FBQ0ksUUFBdEM7RUFDQUcsWUFBQUEsYUFBYSxDQUFDUCxLQUFELENBQWI7RUFDQSxtQkFBT3pELGdCQUFQO0VBQ0Q7RUFDRjtFQUNGLE9BbktpQjtFQXFLbEIsZUFBUyxnQkFBUzBELE1BQVQsRUFBaUI7RUFDeEIsYUFBSyxJQUFJaUIsQ0FBQyxHQUFHLEtBQUtiLFVBQUwsQ0FBZ0JRLE1BQWhCLEdBQXlCLENBQXRDLEVBQXlDSyxDQUFDLElBQUksQ0FBOUMsRUFBaUQsRUFBRUEsQ0FBbkQsRUFBc0Q7RUFDcEQsY0FBSWxCLEtBQUssR0FBRyxLQUFLSyxVQUFMLENBQWdCYSxDQUFoQixDQUFaOztFQUNBLGNBQUlsQixLQUFLLENBQUNDLE1BQU4sS0FBaUJBLE1BQXJCLEVBQTZCO0VBQzNCLGdCQUFJOUIsTUFBTSxHQUFHNkIsS0FBSyxDQUFDUSxVQUFuQjs7RUFDQSxnQkFBSXJDLE1BQU0sQ0FBQ2xDLElBQVAsS0FBZ0IsT0FBcEIsRUFBNkI7RUFDM0Isa0JBQUltRyxNQUFNLEdBQUdqRSxNQUFNLENBQUNuQyxHQUFwQjtFQUNBdUUsY0FBQUEsYUFBYSxDQUFDUCxLQUFELENBQWI7RUFDRDs7RUFDRCxtQkFBT29DLE1BQVA7RUFDRDtFQUNGLFNBWHVCOzs7O0VBZXhCLGNBQU0sSUFBSW5ELEtBQUosQ0FBVSx1QkFBVixDQUFOO0VBQ0QsT0FyTGlCO0VBdUxsQm9ELE1BQUFBLGFBQWEsRUFBRSx1QkFBU3RCLFFBQVQsRUFBbUJuQixVQUFuQixFQUErQkMsT0FBL0IsRUFBd0M7RUFDckQsYUFBS1YsUUFBTCxHQUFnQjtFQUNkaEYsVUFBQUEsUUFBUSxFQUFFMkMsTUFBTSxDQUFDaUUsUUFBRCxDQURGO0VBRWRuQixVQUFBQSxVQUFVLEVBQUVBLFVBRkU7RUFHZEMsVUFBQUEsT0FBTyxFQUFFQTtFQUhLLFNBQWhCOztFQU1BLFlBQUksS0FBSzFDLE1BQUwsS0FBZ0IsTUFBcEIsRUFBNEI7OztFQUcxQixlQUFLbkIsR0FBTCxHQUFXakMsV0FBWDtFQUNEOztFQUVELGVBQU93QyxnQkFBUDtFQUNEO0VBck1pQixLQUFwQixDQWxnQmdDOzs7OztFQThzQmhDLFdBQU85QyxPQUFQO0VBRUQsR0FodEJjOzs7O0VBcXRCYixFQUE2QjZJLE1BQU0sQ0FBQzdJLE9BQXBDLENBcnRCYSxDQUFmOztFQXd0QkEsTUFBSTtFQUNGOEksSUFBQUEsa0JBQWtCLEdBQUcvSSxPQUFyQjtFQUNELEdBRkQsQ0FFRSxPQUFPZ0osb0JBQVAsRUFBNkI7Ozs7Ozs7Ozs7O0VBVzdCLFFBQUksUUFBT0MsVUFBUCx5Q0FBT0EsVUFBUCxPQUFzQixRQUExQixFQUFvQztFQUNsQ0EsTUFBQUEsVUFBVSxDQUFDRixrQkFBWCxHQUFnQy9JLE9BQWhDO0VBQ0QsS0FGRCxNQUVPO0VBQ0xrSixNQUFBQSxRQUFRLENBQUMsR0FBRCxFQUFNLHdCQUFOLENBQVIsQ0FBd0NsSixPQUF4QztFQUNEOzs7Ozs7O0VDNXVCSDtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7O0VBRUE7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUdBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7RUFDQyxhQUFVbUosSUFBVixFQUFnQkMsT0FBaEIsRUFBeUI7RUFDdEIsSUFHTyxJQUFrQ04sTUFBTSxDQUFDN0ksT0FBekMsRUFBa0Q7Ozs7RUFJckQ2SSxNQUFBQSxjQUFBLEdBQWlCTSxPQUFPLEVBQXhCO0VBQ0gsS0FMTSxNQUtBOztFQUVIRCxNQUFBQSxJQUFJLENBQUNFLEVBQUwsR0FBVUQsT0FBTyxFQUFqQjtFQUNMO0VBQ0YsR0FiQSxFQWFDRSxjQWJELEVBYU8sWUFBVzs7RUFFakIsUUFBSUQsRUFBRSxHQUFJLEVBQVYsQ0FGaUI7OztFQU9qQixRQUFJRSxNQUFNLEdBQUcsU0FBVEEsTUFBUyxDQUFTQyxDQUFULEVBQVk7RUFDdkIsVUFBSUMsQ0FBQyxHQUFHLENBQVI7RUFDQSxVQUFJQyxHQUFHLEdBQUcsQ0FDUixpQkFEUSxFQUNXLENBQUMsaUJBRFosRUFDK0IsaUJBRC9CLEVBRVIsQ0FBQyxpQkFGTyxFQUVZLHFCQUZaLEVBRW1DLENBQUMsa0JBRnBDLENBQVY7RUFJQSxVQUFJQyxHQUFHLEdBQUcsaUJBQVY7RUFDQSxVQUFJQyxFQUFKLEVBQVFDLENBQVIsRUFBV0MsR0FBWDtFQUNBQSxNQUFBQSxHQUFHLEdBQUcsQ0FBQ0QsQ0FBQyxHQUFHRCxFQUFFLEdBQUdKLENBQVYsSUFBZSxHQUFyQjtFQUNBTSxNQUFBQSxHQUFHLElBQUksQ0FBQ0YsRUFBRSxHQUFHLEdBQU4sSUFBYUcsR0FBRyxDQUFDRCxHQUFELENBQXZCOztFQUNBLGFBQU9MLENBQUMsR0FBRyxDQUFYLEVBQWNBLENBQUMsRUFBZjtFQUNFRSxRQUFBQSxHQUFHLElBQUlELEdBQUcsQ0FBQ0QsQ0FBRCxDQUFILEdBQVMsRUFBRUksQ0FBbEI7RUFERjs7RUFFQSxhQUFPRSxHQUFHLENBQUMscUJBQXFCSixHQUFyQixHQUEyQkMsRUFBNUIsQ0FBSCxHQUFxQ0UsR0FBNUM7RUFDRCxLQWJEOztFQWNBVCxJQUFBQSxFQUFFLENBQUNFLE1BQUgsR0FBWUEsTUFBWjs7RUFFQSxRQUFJUyxVQUFVLEdBQUcsU0FBYkEsVUFBYSxDQUFTQyxDQUFULEVBQVk7RUFDM0IsYUFBT0EsQ0FBQyxHQUFHLENBQUosR0FBUUMsR0FBUixHQUFjWCxNQUFNLENBQUNVLENBQUMsR0FBRyxDQUFMLENBQTNCO0VBQ0QsS0FGRDs7RUFHQVosSUFBQUEsRUFBRSxDQUFDVyxVQUFILEdBQWdCQSxVQUFoQjs7RUFFQSxRQUFJRyxPQUFPLEdBQUcsU0FBVkEsT0FBVSxDQUFTRixDQUFULEVBQVlHLENBQVosRUFBYztFQUMxQixhQUFPSixVQUFVLENBQUNDLENBQUQsQ0FBVixHQUFnQkQsVUFBVSxDQUFDSSxDQUFELENBQTFCLEdBQWdDSixVQUFVLENBQUNDLENBQUMsR0FBR0csQ0FBTCxDQUFqRDtFQUNELEtBRkQ7O0VBR0FmLElBQUFBLEVBQUUsQ0FBQ2MsT0FBSCxHQUFhQSxPQUFiOztFQUVBLFFBQUlFLEtBQUssR0FBRyxTQUFSQSxLQUFRLENBQVNDLENBQVQsRUFBWUMsQ0FBWixFQUFlO0VBQ3pCLGFBQU9oQixNQUFNLENBQUNlLENBQUQsQ0FBTixHQUFZZixNQUFNLENBQUNnQixDQUFELENBQWxCLEdBQXdCaEIsTUFBTSxDQUFDZSxDQUFDLEdBQUdDLENBQUwsQ0FBckM7RUFDRCxLQUZEOztFQUdBbEIsSUFBQUEsRUFBRSxDQUFDZ0IsS0FBSCxHQUFXQSxLQUFYO0VBRUEsUUFBSU4sR0FBRyxHQUFJUyxJQUFJLENBQUNULEdBQWhCO0VBQ0EsUUFBSVUsR0FBRyxHQUFJRCxJQUFJLENBQUNDLEdBQWhCO0VBQ0EsUUFBSUMsR0FBRyxHQUFJRixJQUFJLENBQUNFLEdBQWhCO0VBQ0EsUUFBSUMsR0FBRyxHQUFJSCxJQUFJLENBQUNHLEdBQWhCO0VBQ0EsUUFBSUMsSUFBSSxHQUFHSixJQUFJLENBQUNJLElBQWhCO0VBQ0EsUUFBSUMsRUFBRSxHQUFLTCxJQUFJLENBQUNNLEVBQWhCLENBM0NpQjs7O0VBZ0RqQnpCLElBQUFBLEVBQUUsQ0FBQzBCLElBQUgsR0FBVSxVQUFTdkIsQ0FBVCxFQUFZd0IsTUFBWixFQUFvQkMsTUFBcEIsRUFBNEI7RUFDcEMsVUFBSXpCLENBQUMsR0FBRyxDQUFKLElBQVNBLENBQUMsR0FBRyxDQUFqQixFQUFvQjtFQUNoQixlQUFPLENBQUMwQixRQUFSO0VBQ0g7O0VBQ0QsVUFBR0YsTUFBTSxLQUFLLENBQVgsSUFBZ0JDLE1BQU0sS0FBSyxDQUE5QixFQUFpQztFQUMvQixlQUFPLENBQVA7RUFDRCxPQUZELE1BRU87RUFDTCxlQUFPLENBQUNELE1BQU0sR0FBRyxDQUFWLElBQWVqQixHQUFHLENBQUNQLENBQUQsQ0FBbEIsR0FBd0IsQ0FBQ3lCLE1BQU0sR0FBRyxDQUFWLElBQWVsQixHQUFHLENBQUMsSUFBSVAsQ0FBTCxDQUExQyxHQUFvRGEsS0FBSyxDQUFDVyxNQUFELEVBQVNDLE1BQVQsQ0FBaEU7RUFDRDtFQUNGLEtBVEQ7O0VBV0E1QixJQUFBQSxFQUFFLENBQUM4QixNQUFILEdBQVksVUFBUzNCLENBQVQsRUFBWTRCLFFBQVosRUFBc0JDLEtBQXRCLEVBQTZCO0VBQ3ZDLGFBQU90QixHQUFHLENBQUNzQixLQUFELENBQUgsR0FBYXRCLEdBQUcsQ0FBQ1ksR0FBRyxDQUFDbkIsQ0FBQyxHQUFHNEIsUUFBTCxFQUFlLENBQWYsQ0FBSCxHQUF1QlQsR0FBRyxDQUFDVSxLQUFELEVBQVEsQ0FBUixDQUEzQixDQUFoQixHQUEwRHRCLEdBQUcsQ0FBQ2MsRUFBRCxDQUFwRTtFQUNELEtBRkQ7O0VBSUF4QixJQUFBQSxFQUFFLENBQUNpQyxJQUFILEdBQVUsVUFBUzlCLENBQVQsRUFBWStCLElBQVosRUFBa0JDLEVBQWxCLEVBQXNCO0VBQzVCLGFBQU8sQ0FBQyxHQUFELEdBQU96QixHQUFHLENBQUMsSUFBSWMsRUFBTCxDQUFWLEdBQW9CZCxHQUFHLENBQUN5QixFQUFELENBQXZCLEdBQThCYixHQUFHLENBQUNuQixDQUFDLEdBQUcrQixJQUFMLEVBQVcsQ0FBWCxDQUFILElBQW9CLElBQUlDLEVBQUosR0FBU0EsRUFBN0IsQ0FBckM7RUFDSCxLQUZELENBL0RpQjs7OztFQXFFakJuQyxJQUFBQSxFQUFFLENBQUNvQyxTQUFILEdBQWUsVUFBU2pDLENBQVQsRUFBWStCLElBQVosRUFBa0JDLEVBQWxCLEVBQXNCRSxJQUF0QixFQUE0QjtFQUN6QyxVQUFJQyxDQUFDLEdBQUdoQixHQUFHLENBQUNuQixDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8rQixJQUFJLENBQUMsQ0FBRCxDQUFaLEVBQWlCLENBQWpCLENBQUgsR0FBeUJaLEdBQUcsQ0FBQ2EsRUFBRSxDQUFDLENBQUQsQ0FBSCxFQUFRLENBQVIsQ0FBNUIsR0FDQWIsR0FBRyxDQUFDbkIsQ0FBQyxDQUFDLENBQUQsQ0FBRCxHQUFPK0IsSUFBSSxDQUFDLENBQUQsQ0FBWixFQUFpQixDQUFqQixDQUFILEdBQXlCWixHQUFHLENBQUNhLEVBQUUsQ0FBQyxDQUFELENBQUgsRUFBUSxDQUFSLENBRDVCLEdBRUMsSUFBSUUsSUFBSixJQUFZbEMsQ0FBQyxDQUFDLENBQUQsQ0FBRCxHQUFPK0IsSUFBSSxDQUFDLENBQUQsQ0FBdkIsS0FBK0IvQixDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8rQixJQUFJLENBQUMsQ0FBRCxDQUExQyxDQUFELElBQW9EQyxFQUFFLENBQUMsQ0FBRCxDQUFGLEdBQVFBLEVBQUUsQ0FBQyxDQUFELENBQTlELENBRlI7RUFHQSxVQUFJSSxrQkFBa0IsR0FBRyxFQUFHN0IsR0FBRyxDQUFDLENBQUQsQ0FBSCxHQUFTQSxHQUFHLENBQUNjLEVBQUQsQ0FBWixHQUFtQmQsR0FBRyxDQUFDeUIsRUFBRSxDQUFDLENBQUQsQ0FBSCxDQUF0QixHQUFnQ3pCLEdBQUcsQ0FBQ3lCLEVBQUUsQ0FBQyxDQUFELENBQUgsQ0FBbkMsR0FDQSxNQUFNekIsR0FBRyxDQUFDLElBQUlZLEdBQUcsQ0FBQ2UsSUFBRCxFQUFPLENBQVAsQ0FBUixDQURaLENBQXpCO0VBRUEsVUFBSUcsY0FBYyxHQUFHRCxrQkFBa0IsR0FBR0QsQ0FBQyxJQUFJLEtBQUssSUFBSWhCLEdBQUcsQ0FBQ2UsSUFBRCxFQUFPLENBQVAsQ0FBWixDQUFKLENBQTNDO0VBQ0EsYUFBT0csY0FBUDtFQUNELEtBUkQ7O0VBV0F4QyxJQUFBQSxFQUFFLENBQUN5QyxPQUFILEdBQWEsVUFBU3RDLENBQVQsRUFBWTRCLFFBQVosRUFBc0JDLEtBQXRCLEVBQTZCO0VBQ3hDLGFBQVEsQ0FBQ1gsR0FBRyxDQUFDbEIsQ0FBQyxHQUFHNEIsUUFBTCxDQUFKLEdBQW1CQyxLQUFwQixHQUE2QnRCLEdBQUcsQ0FBQyxJQUFJc0IsS0FBTCxDQUF2QztFQUNELEtBRkQ7O0VBSUFoQyxJQUFBQSxFQUFFLENBQUMwQyxJQUFILEdBQVUxQyxFQUFFLENBQUN5QyxPQUFiOztFQUVBekMsSUFBQUEsRUFBRSxDQUFDMkMsS0FBSCxHQUFXLFVBQVN4QyxDQUFULEVBQVl5QyxLQUFaLEVBQW1CQyxJQUFuQixFQUF5QjtFQUNsQyxVQUFJYixLQUFLLEdBQUcsSUFBSWEsSUFBaEI7O0VBQ0EsVUFBSTFDLENBQUMsR0FBRyxDQUFSLEVBQVc7RUFDVCxlQUFPLENBQUMwQixRQUFSO0VBQ0Q7O0VBQ0QsVUFBSTFCLENBQUMsS0FBSyxDQUFOLElBQVd5QyxLQUFLLEtBQUssQ0FBekIsRUFBOEI7RUFDNUIsZUFBTyxDQUFDbEMsR0FBRyxDQUFDc0IsS0FBRCxDQUFYO0VBQ0QsT0FGRCxNQUVPO0VBQ0wsZUFBTyxDQUFDWSxLQUFLLEdBQUcsQ0FBVCxJQUFjbEMsR0FBRyxDQUFDUCxDQUFELENBQWpCLEdBQXVCQSxDQUFDLEdBQUc2QixLQUEzQixHQUFtQzlCLE1BQU0sQ0FBQzBDLEtBQUQsQ0FBekMsR0FBbURBLEtBQUssR0FBR2xDLEdBQUcsQ0FBQ3NCLEtBQUQsQ0FBckU7RUFDRDtFQUNGLEtBVkQ7O0VBWUFoQyxJQUFBQSxFQUFFLENBQUM4QyxRQUFILEdBQWMsVUFBUzNDLENBQVQsRUFBWXlDLEtBQVosRUFBbUJaLEtBQW5CLEVBQTBCO0VBQ3BDLFVBQUk3QixDQUFDLElBQUksQ0FBVCxFQUFZO0VBQ1YsZUFBTyxDQUFDMEIsUUFBUjtFQUNEOztFQUNELGFBQU8sRUFBRWUsS0FBSyxHQUFHLENBQVYsSUFBZWxDLEdBQUcsQ0FBQ1AsQ0FBRCxDQUFsQixHQUF3QjZCLEtBQUssR0FBRzdCLENBQWhDLEdBQW9DRCxNQUFNLENBQUMwQyxLQUFELENBQTFDLEdBQW9EQSxLQUFLLEdBQUdsQyxHQUFHLENBQUNzQixLQUFELENBQXRFO0VBQ0QsS0FMSDs7RUFPQWhDLElBQUFBLEVBQUUsQ0FBQytDLEtBQUgsR0FBWSxVQUFTNUMsQ0FBVCxFQUFZNkMsT0FBWixFQUFxQkMsS0FBckIsRUFBNEI7RUFDdEMsVUFBSTlDLENBQUMsSUFBSSxDQUFULEVBQVk7RUFDVixlQUFPLENBQUMwQixRQUFSO0VBQ0Q7O0VBQ0QsYUFBTyxDQUFDbkIsR0FBRyxDQUFDUCxDQUFELENBQUosR0FBVSxNQUFNTyxHQUFHLENBQUMsSUFBSWMsRUFBTCxDQUFuQixHQUE4QmQsR0FBRyxDQUFDdUMsS0FBRCxDQUFqQyxHQUNDM0IsR0FBRyxDQUFDWixHQUFHLENBQUNQLENBQUQsQ0FBSCxHQUFTNkMsT0FBVixFQUFtQixDQUFuQixDQUFILElBQTRCLElBQUlDLEtBQUosR0FBWUEsS0FBeEMsQ0FEUjtFQUVELEtBTkQ7O0VBUUFqRCxJQUFBQSxFQUFFLENBQUNrRCxNQUFILEdBQVksVUFBUy9DLENBQVQsRUFBWTZCLEtBQVosRUFBbUJZLEtBQW5CLEVBQTBCO0VBQ3BDLFVBQUl6QyxDQUFDLEdBQUc2QixLQUFSLEVBQWU7RUFDYixlQUFPLENBQUNILFFBQVI7RUFDRDs7RUFDRCxhQUFPbkIsR0FBRyxDQUFDa0MsS0FBRCxDQUFILEdBQWFBLEtBQUssR0FBR2xDLEdBQUcsQ0FBQ3NCLEtBQUQsQ0FBeEIsR0FBa0MsQ0FBQ1ksS0FBSyxHQUFHLENBQVQsSUFBY2xDLEdBQUcsQ0FBQ1AsQ0FBRCxDQUExRDtFQUNELEtBTEQ7O0VBT0FILElBQUFBLEVBQUUsQ0FBQ21ELENBQUgsR0FBUyxVQUFTaEQsQ0FBVCxFQUFZNEIsUUFBWixFQUFzQkMsS0FBdEIsRUFBNkJvQixFQUE3QixFQUFpQztFQUN4Q0EsTUFBQUEsRUFBRSxHQUFHQSxFQUFFLEdBQUcsS0FBTCxHQUFhLEtBQWIsR0FBcUJBLEVBQTFCO0VBQ0EsYUFBT2xELE1BQU0sQ0FBQyxDQUFDa0QsRUFBRSxHQUFHLENBQU4sSUFBUyxDQUFWLENBQU4sR0FBcUJsRCxNQUFNLENBQUNrRCxFQUFFLEdBQUMsQ0FBSixDQUEzQixHQUFvQzFDLEdBQUcsQ0FBQ2EsSUFBSSxDQUFDQyxFQUFFLEdBQUc0QixFQUFOLENBQUosR0FBZ0JwQixLQUFqQixDQUF2QyxHQUNBdEIsR0FBRyxDQUFDWSxHQUFHLENBQUMsSUFBSyxJQUFFOEIsRUFBSCxHQUFTOUIsR0FBRyxDQUFDLENBQUNuQixDQUFDLEdBQUc0QixRQUFMLElBQWVDLEtBQWhCLEVBQXVCLENBQXZCLENBQWpCLEVBQTRDLEVBQUVvQixFQUFFLEdBQUcsQ0FBUCxJQUFVLENBQXRELENBQUosQ0FEVjtFQUVELEtBSkQsQ0F4SGlCOzs7OztFQWlJakJwRCxJQUFBQSxFQUFFLENBQUNxRCxPQUFILEdBQWEsVUFBU2xELENBQVQsRUFBWXlDLEtBQVosRUFBbUJaLEtBQW5CLEVBQTBCO0VBQ3JDLFVBQUk3QixDQUFDLEdBQUcsQ0FBUixFQUFXLE9BQU8sQ0FBQzBCLFFBQVI7RUFDWCxVQUFHMUIsQ0FBQyxLQUFLLENBQU4sSUFBV3lDLEtBQUssR0FBRyxDQUF0QixFQUF5QixPQUFPZixRQUFQO0VBQ3pCLFVBQUl5QixJQUFJLEdBQUdoQyxHQUFHLENBQUNuQixDQUFDLEdBQUc2QixLQUFMLEVBQVlZLEtBQUssR0FBRyxDQUFwQixDQUFkO0VBQ0EsVUFBSVcsSUFBSSxHQUFHRCxJQUFJLElBQUluRCxDQUFDLEdBQUc2QixLQUFSLENBQWY7RUFDRCxhQUFPLENBQUN1QixJQUFELEdBQVE3QyxHQUFHLENBQUNrQyxLQUFLLEdBQUdVLElBQVIsR0FBZXRCLEtBQWhCLENBQWxCO0VBQ0EsS0FORCxDQWpJaUI7Ozs7O0VBNElqQmhDLElBQUFBLEVBQUUsQ0FBQ3dELEtBQUgsR0FBVyxVQUFTckQsQ0FBVCxFQUFZNEIsUUFBWixFQUFzQkMsS0FBdEIsRUFBNkI7RUFDdEM3QixNQUFBQSxDQUFDLEdBQUdrQixHQUFHLENBQUMsQ0FBQ2xCLENBQUMsR0FBRzRCLFFBQUwsSUFBaUJDLEtBQWxCLENBQVA7RUFDQSxVQUFJeUIsQ0FBQyxHQUFHckMsR0FBRyxDQUFDLENBQUNqQixDQUFGLENBQVg7RUFDQSxVQUFJdUQsQ0FBQyxHQUFHLE1BQU1ELENBQWQ7RUFDQSxhQUFPLEVBQUV0RCxDQUFDLEdBQUdPLEdBQUcsQ0FBQ3NCLEtBQUssR0FBRzBCLENBQVIsR0FBWUEsQ0FBYixDQUFULENBQVA7RUFDRCxLQUxEOztFQU9BMUQsSUFBQUEsRUFBRSxDQUFDMkQsU0FBSCxHQUFlLFVBQVN4RCxDQUFULEVBQVl5RCxLQUFaLEVBQW1CO0VBQ2hDLFVBQUlDLFNBQVMsR0FBRyxDQUFoQjtFQUNBLFVBQUlDLGdCQUFnQixHQUFHLENBQXZCO0VBQ0EsVUFBSUMscUJBQXFCLEdBQUcsQ0FBNUI7RUFDQSxVQUFJbkQsQ0FBQyxHQUFHZ0QsS0FBSyxDQUFDNUYsTUFBZDs7RUFDQSxXQUFJLElBQUlLLENBQUMsR0FBRyxDQUFaLEVBQWVBLENBQUMsR0FBR3VDLENBQW5CLEVBQXNCdkMsQ0FBQyxFQUF2QixFQUEyQjtFQUN6QndGLFFBQUFBLFNBQVMsSUFBSUQsS0FBSyxDQUFDdkYsQ0FBRCxDQUFsQjtFQUNBeUYsUUFBQUEsZ0JBQWdCLElBQUk1RCxNQUFNLENBQUMwRCxLQUFLLENBQUN2RixDQUFELENBQU4sQ0FBMUI7RUFDQTBGLFFBQUFBLHFCQUFxQixJQUFJLENBQUNILEtBQUssQ0FBQ3ZGLENBQUQsQ0FBTCxHQUFXLENBQVosSUFBaUJxQyxHQUFHLENBQUNQLENBQUMsQ0FBQzlCLENBQUQsQ0FBRixDQUE3QztFQUNEOztFQUNELGFBQU82QixNQUFNLENBQUMyRCxTQUFELENBQU4sR0FBb0JDLGdCQUFwQixHQUF1Q0MscUJBQTlDO0VBQ0QsS0FYRDs7RUFjQS9ELElBQUFBLEVBQUUsQ0FBQ29CLEdBQUgsR0FBUyxVQUFTakIsQ0FBVCxFQUFZMEMsSUFBWixFQUFrQjtFQUN2QixhQUFPMUMsQ0FBQyxHQUFHLENBQUosR0FBUSxDQUFDMEIsUUFBVCxHQUFvQm5CLEdBQUcsQ0FBQ21DLElBQUQsQ0FBSCxHQUFXQSxJQUFJLEdBQUcxQyxDQUE3QztFQUNILEtBRkQ7O0VBSUFILElBQUFBLEVBQUUsQ0FBQ2dFLElBQUgsR0FBVSxVQUFTN0QsQ0FBVCxFQUFZOEQsR0FBWixFQUFpQkMsR0FBakIsRUFBc0I7RUFDNUIsYUFBUS9ELENBQUMsR0FBRzhELEdBQUosSUFBVzlELENBQUMsR0FBRytELEdBQWhCLEdBQXVCLENBQUNyQyxRQUF4QixHQUFtQ25CLEdBQUcsQ0FBQyxLQUFLd0QsR0FBRyxHQUFHRCxHQUFYLENBQUQsQ0FBN0M7RUFDSCxLQUZELENBcktpQjs7OztFQTRLakJqRSxJQUFBQSxFQUFFLENBQUNtRSxJQUFILEdBQVUsVUFBU2hFLENBQVQsRUFBWWlFLElBQVosRUFBa0I7RUFDeEIsYUFBTyxFQUFFakUsQ0FBQyxLQUFLLENBQU4sSUFBV0EsQ0FBQyxLQUFLLENBQW5CLElBQXdCLENBQUMwQixRQUF6QixHQUFvQ25CLEdBQUcsQ0FBQ1AsQ0FBQyxHQUFHaUUsSUFBSixHQUFXLENBQUMsSUFBSWpFLENBQUwsS0FBVyxJQUFJaUUsSUFBZixDQUFaLENBQTlDO0VBQ0gsS0FGRDs7RUFJQXBFLElBQUFBLEVBQUUsQ0FBQ3FFLEdBQUgsR0FBUyxVQUFTbEUsQ0FBVCxFQUFZbUUsS0FBWixFQUFtQjtFQUMxQixVQUFHbkUsQ0FBQyxHQUFHLENBQUosSUFBU0EsQ0FBQyxHQUFHbUUsS0FBSyxDQUFDdEcsTUFBdEIsRUFBOEI7RUFDNUIsZUFBTyxDQUFDNkQsUUFBUjtFQUNELE9BRkQsTUFFTztFQUNMLGVBQU9uQixHQUFHLENBQUU0RCxLQUFLLENBQUNuRSxDQUFDLEdBQUcsQ0FBTCxDQUFQLENBQVY7RUFDRDtFQUNGLEtBTkQ7O0VBUUFILElBQUFBLEVBQUUsQ0FBQ3VFLEtBQUgsR0FBVyxVQUFTcEUsQ0FBVCxFQUFZcUUsSUFBWixFQUFrQkosSUFBbEIsRUFBd0I7RUFDakMsVUFBR2pFLENBQUMsR0FBR3FFLElBQUosSUFBWXJFLENBQUMsR0FBRyxDQUFuQixFQUFzQjtFQUNwQixlQUFPLENBQUMwQixRQUFSO0VBQ0Q7O0VBQ0QsVUFBR3VDLElBQUksS0FBSyxDQUFULElBQWNBLElBQUksS0FBSyxDQUExQixFQUE2QjtFQUMzQixlQUFRSSxJQUFJLEdBQUdKLElBQVIsS0FBa0JqRSxDQUFsQixHQUFzQixDQUF0QixHQUEwQixDQUFDMEIsUUFBbEM7RUFDRDs7RUFDRCxhQUFPZixPQUFPLENBQUMwRCxJQUFELEVBQU9yRSxDQUFQLENBQVAsR0FBbUJBLENBQUMsR0FBR08sR0FBRyxDQUFDMEQsSUFBRCxDQUExQixHQUFtQyxDQUFDSSxJQUFJLEdBQUdyRSxDQUFSLElBQWFPLEdBQUcsQ0FBQyxJQUFJMEQsSUFBTCxDQUExRDtFQUNELEtBUkQ7O0VBMkJBcEUsSUFBQUEsRUFBRSxDQUFDeUUsTUFBSCxHQUFZLFVBQVN0RSxDQUFULEVBQVlxRSxJQUFaLEVBQWtCSixJQUFsQixFQUF3QjtFQUNsQyxVQUFHakUsQ0FBQyxHQUFHLENBQVAsRUFBVTtFQUNSLGVBQU8sQ0FBQzBCLFFBQVI7RUFDRDs7RUFDRCxhQUFPZixPQUFPLENBQUNYLENBQUMsR0FBR3FFLElBQUosR0FBVyxDQUFaLEVBQWVBLElBQUksR0FBRyxDQUF0QixDQUFQLEdBQWtDckUsQ0FBQyxHQUFHTyxHQUFHLENBQUMsSUFBSTBELElBQUwsQ0FBekMsR0FBc0RJLElBQUksR0FBRzlELEdBQUcsQ0FBQzBELElBQUQsQ0FBdkU7RUFDRCxLQUxEOztFQU9BcEUsSUFBQUEsRUFBRSxDQUFDMEUsS0FBSCxHQUFXLFVBQVN2RSxDQUFULEVBQVl3RSxDQUFaLEVBQWUvRCxDQUFmLEVBQWtCRyxDQUFsQixFQUFxQjtFQUM5QixVQUFHWixDQUFDLEdBQUcsQ0FBSixJQUFTQSxDQUFDLEdBQUdZLENBQWhCLEVBQW1CO0VBQ2pCLGVBQU8sQ0FBQ2MsUUFBUjtFQUNELE9BRkQsTUFFTztFQUNQLGVBQU9mLE9BQU8sQ0FBQzZELENBQUQsRUFBSXhFLENBQUosQ0FBUCxHQUFnQlcsT0FBTyxDQUFDRixDQUFELEVBQUlHLENBQUMsR0FBQ1osQ0FBTixDQUF2QixHQUFrQ1csT0FBTyxDQUFDNkQsQ0FBQyxHQUFDL0QsQ0FBSCxFQUFNRyxDQUFOLENBQWhEO0VBQ0M7RUFDRixLQU5EOztFQVFBZixJQUFBQSxFQUFFLENBQUM0RSxJQUFILEdBQVUsVUFBU3pFLENBQVQsRUFBWTBFLE1BQVosRUFBb0I7RUFDMUIsYUFBTzFFLENBQUMsR0FBRyxDQUFKLEdBQVEsQ0FBQzBCLFFBQVQsR0FBb0JuQixHQUFHLENBQUNtRSxNQUFELENBQUgsR0FBYzFFLENBQWQsR0FBa0IwRSxNQUFsQixHQUEyQmxFLFVBQVUsQ0FBQ1IsQ0FBRCxDQUFoRTtFQUNILEtBRkQ7O0VBSUEsV0FBT0gsRUFBUDtFQUNELEdBcFBBLENBQUQ7Ozs7OztFQ3ZDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztFQUNDLGFBQVVGLElBQVYsRUFBZ0JDLE9BQWhCLEVBQXlCO0VBQ3RCLElBR08sSUFBa0NOLE1BQU0sQ0FBQzdJLE9BQXpDLEVBQWtEOzs7O0VBSXJENkksTUFBQUEsY0FBQSxHQUFpQk0sT0FBTyxFQUF4QjtFQUNILEtBTE0sTUFLQTs7RUFFSEQsTUFBQUEsSUFBSSxDQUFDZ0YsSUFBTCxHQUFZL0UsT0FBTyxFQUFuQjtFQUNMO0VBQ0YsR0FiQSxFQWFDRSxjQWJELEVBYU8sWUFBVTtFQUVsQjtFQUNBOzs7OztFQU1FLFFBQUk4RSxLQUFLLEdBQUcsU0FBUkEsS0FBUSxDQUFTZCxHQUFULEVBQWNDLEdBQWQsRUFBbUI7RUFDN0IsYUFBTy9DLElBQUksQ0FBQzZELE1BQUwsTUFBaUJkLEdBQUcsR0FBR0QsR0FBdkIsSUFBOEJBLEdBQXJDO0VBQ0QsS0FGRDs7OztFQUtBLFFBQUlnQixjQUFjLEdBQUcsU0FBakJBLGNBQWlCLENBQVNoQixHQUFULEVBQWNDLEdBQWQsRUFBbUI7RUFDdEMsYUFBTy9DLElBQUksQ0FBQytELEtBQUwsQ0FBVy9ELElBQUksQ0FBQzZELE1BQUwsTUFBaUJkLEdBQUcsR0FBR0QsR0FBTixHQUFZLENBQTdCLENBQVgsSUFBOENBLEdBQXJEO0VBQ0QsS0FGRDs7RUFLRjtFQUNBOzs7RUFDRSxRQUFJa0IsS0FBSyxHQUFHLFNBQVJBLEtBQVEsQ0FBU2pELElBQVQsRUFBZUMsRUFBZixFQUFtQjtFQUM3QixVQUFJaUQsQ0FBSixFQUFPQyxDQUFQLEVBQVVsRixDQUFWLEVBQWFLLENBQWIsRUFBZ0I4RSxDQUFoQjs7RUFDQSxTQUFHO0VBQ0RGLFFBQUFBLENBQUMsR0FBR2pFLElBQUksQ0FBQzZELE1BQUwsRUFBSjtFQUNBSyxRQUFBQSxDQUFDLEdBQUcsVUFBVWxFLElBQUksQ0FBQzZELE1BQUwsS0FBZ0IsR0FBMUIsQ0FBSjtFQUNBN0UsUUFBQUEsQ0FBQyxHQUFHaUYsQ0FBQyxHQUFHLFFBQVI7RUFDQTVFLFFBQUFBLENBQUMsR0FBR1csSUFBSSxDQUFDRSxHQUFMLENBQVNnRSxDQUFULElBQWMsUUFBbEI7RUFDQUMsUUFBQUEsQ0FBQyxHQUFHbkYsQ0FBQyxHQUFHQSxDQUFKLEdBQVFLLENBQUMsSUFBSSxVQUFVQSxDQUFWLEdBQWMsVUFBVUwsQ0FBNUIsQ0FBYjtFQUNELE9BTkQsUUFNU21GLENBQUMsR0FBRyxPQUFKLEtBQWdCQSxDQUFDLEdBQUcsT0FBSixJQUFlRCxDQUFDLEdBQUdBLENBQUosR0FBUSxDQUFDLENBQUQsR0FBS2xFLElBQUksQ0FBQ1QsR0FBTCxDQUFTMEUsQ0FBVCxDQUFMLEdBQW1CQSxDQUFuQixHQUF1QkEsQ0FBOUQsQ0FOVDs7RUFRQSxhQUFRQyxDQUFDLEdBQUdELENBQUwsR0FBVWpELEVBQVYsR0FBZUQsSUFBdEI7RUFDRCxLQVhEOztFQWVGO0VBQ0E7RUFDQTs7O0VBQ0UsUUFBSXFELFVBQVUsR0FBRyxTQUFiQSxVQUFhLENBQVNDLEdBQVQsRUFBYztFQUM5QixlQUFTQyxLQUFULENBQWVDLElBQWYsRUFBcUJDLE1BQXJCLEVBQTZCQyxRQUE3QixFQUF1QztFQUN0QyxZQUFJakwsSUFBSjtFQUFBLFlBQVVrTCxDQUFWO0VBQUEsWUFBZ0JDLEtBQUssR0FBRzs7RUFDeEIsYUFBSW5MLElBQUosSUFBWWdMLE1BQVosRUFBbUI7Ozs7RUFJbEJFLFVBQUFBLENBQUMsR0FBR0YsTUFBTSxDQUFDaEwsSUFBRCxDQUFWOztFQUNBLGNBQUcsRUFBRUEsSUFBSSxJQUFJK0ssSUFBVixLQUFvQkEsSUFBSSxDQUFDL0ssSUFBRCxDQUFKLEtBQWVrTCxDQUFmLEtBQXFCLEVBQUVsTCxJQUFJLElBQUltTCxLQUFWLEtBQW9CQSxLQUFLLENBQUNuTCxJQUFELENBQUwsS0FBZ0JrTCxDQUF6RCxDQUF2QixFQUFvRjtFQUNuRkgsWUFBQUEsSUFBSSxDQUFDL0ssSUFBRCxDQUFKLEdBQWFpTCxRQUFRLEdBQUdBLFFBQVEsQ0FBQ0MsQ0FBRCxDQUFYLEdBQWlCQSxDQUF0QztFQUNBO0VBQ0Q7O0VBQ0QsZUFBT0gsSUFBUDtFQUNBOztFQUNELFVBQUcsQ0FBQ0YsR0FBRCxJQUFRLFFBQU9BLEdBQVAsS0FBYyxRQUF0QixJQUFrQzFPLE1BQU0sQ0FBQ0MsU0FBUCxDQUFpQmdQLFFBQWpCLENBQTBCMU0sSUFBMUIsQ0FBK0JtTSxHQUEvQixNQUF3QyxtQkFBN0UsRUFBaUc7O0VBRWhHLGVBQU9BLEdBQVAsQ0FGZ0c7RUFHaEc7O0VBQ0QsVUFBR0EsR0FBRyxDQUFDUSxRQUFKLElBQWdCLGVBQWVSLEdBQWxDLEVBQXNDOztFQUVyQyxlQUFPQSxHQUFHLENBQUNTLFNBQUosQ0FBYyxJQUFkLENBQVAsQ0FGcUM7RUFHckM7O0VBQ0QsVUFBR1QsR0FBRyxZQUFZVSxJQUFsQixFQUF1Qjs7RUFFdEIsZUFBTyxJQUFJQSxJQUFKLENBQVNWLEdBQUcsQ0FBQ1csT0FBSixFQUFULENBQVAsQ0FGc0I7RUFHdEI7O0VBQ0QsVUFBR1gsR0FBRyxZQUFZWSxNQUFsQixFQUF5Qjs7RUFFeEIsZUFBTyxJQUFJQSxNQUFKLENBQVdaLEdBQVgsQ0FBUCxDQUZ3QjtFQUd4Qjs7RUFDRCxVQUFJYSxDQUFKLEVBQU9oSSxDQUFQLEVBQVVpSSxDQUFWOztFQUNBLFVBQUdkLEdBQUcsWUFBWWUsS0FBbEIsRUFBd0I7O0VBRXZCRixRQUFBQSxDQUFDLEdBQUcsRUFBSjs7RUFDQSxhQUFJaEksQ0FBQyxHQUFHLENBQUosRUFBT2lJLENBQUMsR0FBR2QsR0FBRyxDQUFDeEgsTUFBbkIsRUFBMkJLLENBQUMsR0FBR2lJLENBQS9CLEVBQWtDLEVBQUVqSSxDQUFwQyxFQUFzQztFQUNyQyxjQUFHQSxDQUFDLElBQUltSCxHQUFSLEVBQVk7RUFDWGEsWUFBQUEsQ0FBQyxDQUFDNUksSUFBRixDQUFPOEgsVUFBVSxDQUFDQyxHQUFHLENBQUNuSCxDQUFELENBQUosQ0FBakI7RUFDQTtFQUNEO0VBQ0QsT0FSRCxNQVFPOztFQUVOZ0ksUUFBQUEsQ0FBQyxHQUFHYixHQUFHLENBQUM5SyxXQUFKLEdBQWtCLElBQUk4SyxHQUFHLENBQUM5SyxXQUFSLEVBQWxCLEdBQTBDLEVBQTlDO0VBQ0E7O0VBQ0QsYUFBTytLLEtBQUssQ0FBQ1ksQ0FBRCxFQUFJYixHQUFKLEVBQVNELFVBQVQsQ0FBWjtFQUNBLEtBNUNEOztFQStDRjtFQUNBO0VBQ0E7RUFDQTs7O0VBQ0UsUUFBSWlCLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBbUIsQ0FBU3JHLENBQVQsRUFBWTtFQUNqQyxVQUFHb0csS0FBSyxDQUFDRSxPQUFOLENBQWN0RyxDQUFkLENBQUgsRUFBcUI7RUFDbkIsWUFBR29HLEtBQUssQ0FBQ0UsT0FBTixDQUFjdEcsQ0FBQyxDQUFDLENBQUQsQ0FBZixDQUFILEVBQXdCOztFQUV0QixjQUFJdUcsTUFBTSxHQUFHLEVBQWI7O0VBQ0EsZUFBSSxJQUFJckksQ0FBQyxHQUFHLENBQVIsRUFBV0wsTUFBTSxHQUFHbUMsQ0FBQyxDQUFDbkMsTUFBMUIsRUFBa0NLLENBQUMsR0FBR0wsTUFBdEMsRUFBOENLLENBQUMsRUFBL0MsRUFBbUQ7RUFDakRxSSxZQUFBQSxNQUFNLENBQUNqSixJQUFQLENBQVkrSSxnQkFBZ0IsQ0FBQ3JHLENBQUMsQ0FBQzlCLENBQUQsQ0FBRixDQUE1QjtFQUNEOztFQUNELGlCQUFPcUksTUFBUDtFQUNELFNBUEQsTUFPTzs7RUFDTCxpQkFBT3ZHLENBQUMsQ0FBQzFCLEtBQUYsQ0FBUSxDQUFSLENBQVA7RUFDRDtFQUNGLE9BWEQsTUFXTzs7RUFDTCxlQUFPMEIsQ0FBUDtFQUNEO0VBQ0YsS0FmRDs7RUFrQkY7OztFQUNFLFFBQUl3RyxTQUFTLEdBQUcsU0FBWkEsU0FBWSxDQUFTN0ksTUFBVCxFQUFpQjtFQUM3QixhQUFPLE9BQU9BLE1BQVAsSUFBaUIsUUFBakIsSUFBOEIsUUFBT0EsTUFBUCxLQUFpQixRQUFqQixJQUE2QkEsTUFBTSxDQUFDcEQsV0FBUCxLQUF1QmtNLE1BQXpGO0VBQ0gsS0FGRDs7RUFLRjtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOzs7RUFDRSxRQUFJQyxZQUFZLEdBQUcsU0FBZkEsWUFBZSxDQUFTQyxHQUFULEVBQWNDLElBQWQsRUFBb0I7RUFDckMsVUFBSUMsR0FBRyxHQUFHLElBQUlULEtBQUosQ0FBVU8sR0FBRyxDQUFDLENBQUQsQ0FBYixDQUFWO0VBQ0EsVUFBSXpJLENBQUo7O0VBQ0EsVUFBR3lJLEdBQUcsQ0FBQzlJLE1BQUosSUFBYyxDQUFqQixFQUFvQjs7RUFDbEIsWUFBRyxPQUFPK0ksSUFBUCxLQUFnQixVQUFuQixFQUErQjtFQUM3QixlQUFJMUksQ0FBQyxHQUFHLENBQVIsRUFBV0EsQ0FBQyxHQUFHeUksR0FBRyxDQUFDLENBQUQsQ0FBbEIsRUFBdUJ6SSxDQUFDLEVBQXhCLEVBQTRCO0VBQzFCMkksWUFBQUEsR0FBRyxDQUFDM0ksQ0FBRCxDQUFILEdBQVMwSSxJQUFJLEVBQWI7RUFDRDtFQUNGLFNBSkQsTUFJTztFQUNMLGVBQUkxSSxDQUFDLEdBQUcsQ0FBUixFQUFXQSxDQUFDLEdBQUd5SSxHQUFHLENBQUMsQ0FBRCxDQUFsQixFQUF1QnpJLENBQUMsRUFBeEIsRUFBNEI7RUFDMUIySSxZQUFBQSxHQUFHLENBQUMzSSxDQUFELENBQUgsR0FBUzBJLElBQVQ7RUFDRDtFQUNGO0VBQ0YsT0FWRCxNQVVPLElBQUdELEdBQUcsQ0FBQzlJLE1BQUosR0FBYSxDQUFoQixFQUFtQjtFQUN4QixhQUFJSyxDQUFDLEdBQUcsQ0FBUixFQUFXQSxDQUFDLEdBQUd5SSxHQUFHLENBQUMsQ0FBRCxDQUFsQixFQUF1QnpJLENBQUMsRUFBeEIsRUFBNEI7RUFDMUIySSxVQUFBQSxHQUFHLENBQUMzSSxDQUFELENBQUgsR0FBU3dJLFlBQVksQ0FBQ0MsR0FBRyxDQUFDckksS0FBSixDQUFVLENBQVYsQ0FBRCxFQUFlc0ksSUFBZixDQUFyQjtFQUNEO0VBQ0YsT0FKTSxNQUlBO0VBQ0wsY0FBTSxpREFBTjtFQUNEOztFQUNELGFBQU9DLEdBQVA7RUFDRCxLQXJCRDs7RUF3QkY7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7OztFQUNFLFFBQUlDLFNBQVMsR0FBRyxTQUFaQSxTQUFZLENBQVNoRyxDQUFULEVBQVk7RUFDMUIsVUFBR3NGLEtBQUssQ0FBQ0UsT0FBTixDQUFjeEYsQ0FBQyxDQUFDLENBQUQsQ0FBZixDQUFILEVBQXdCO0VBQ3RCLGVBQU8sQ0FBQ0EsQ0FBQyxDQUFDakQsTUFBSCxFQUFXa0osTUFBWCxDQUFrQkQsU0FBUyxDQUFDaEcsQ0FBQyxDQUFDLENBQUQsQ0FBRixDQUEzQixDQUFQO0VBQ0QsT0FGRCxNQUVPO0VBQ0wsZUFBTyxDQUFDQSxDQUFDLENBQUNqRCxNQUFILENBQVA7RUFDRDtFQUNGLEtBTkQ7O0VBU0Y7RUFDQTtFQUNBO0VBQ0E7OztFQUNFLFFBQUltSixXQUFXLEdBQUcsU0FBZEEsV0FBYyxDQUFVQyxFQUFWLEVBQWNDLEVBQWQsRUFBa0I7RUFDaEMsVUFBSUQsRUFBRSxDQUFDcEosTUFBSCxJQUFhcUosRUFBRSxDQUFDckosTUFBcEIsRUFBNEIsT0FBTyxLQUFQOztFQUM1QixXQUFLLElBQUlLLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcrSSxFQUFFLENBQUNwSixNQUF2QixFQUErQkssQ0FBQyxFQUFoQyxFQUFvQzs7RUFFaEMsWUFBSWtJLEtBQUssQ0FBQ0UsT0FBTixDQUFjVyxFQUFFLENBQUMvSSxDQUFELENBQWhCLEtBQXdCa0ksS0FBSyxDQUFDRSxPQUFOLENBQWNZLEVBQUUsQ0FBQ2hKLENBQUQsQ0FBaEIsQ0FBNUIsRUFBa0Q7O0VBRTlDLGNBQUksQ0FBQzhJLFdBQVcsQ0FBQ0MsRUFBRSxDQUFDL0ksQ0FBRCxDQUFILEVBQVFnSixFQUFFLENBQUNoSixDQUFELENBQVYsQ0FBaEIsRUFBZ0MsT0FBTyxLQUFQO0VBQ25DLFNBSEQsTUFJSyxJQUFJK0ksRUFBRSxDQUFDL0ksQ0FBRCxDQUFGLElBQVNnSixFQUFFLENBQUNoSixDQUFELENBQWYsRUFBb0I7O0VBRXJCLGlCQUFPLEtBQVA7RUFDSDtFQUNKOztFQUNELGFBQU8sSUFBUDtFQUNILEtBZEQ7O0VBaUJGO0VBQ0E7RUFDQTtFQUNBOzs7RUFDRSxRQUFJaUosa0JBQWtCLEdBQUcsU0FBckJBLGtCQUFxQixDQUFTckcsQ0FBVCxFQUFZc0csR0FBWixFQUFpQjtFQUN4QyxVQUFHaEIsS0FBSyxDQUFDRSxPQUFOLENBQWN4RixDQUFkLENBQUgsRUFBcUI7RUFDbkIsWUFBSTFGLE1BQU0sR0FBRyxJQUFJZ0wsS0FBSixDQUFVdEYsQ0FBQyxDQUFDakQsTUFBWixDQUFiOztFQUNBLGFBQUksSUFBSUssQ0FBQyxHQUFHLENBQVosRUFBZUEsQ0FBQyxHQUFHNEMsQ0FBQyxDQUFDakQsTUFBckIsRUFBNkJLLENBQUMsRUFBOUIsRUFBa0M7RUFDaEM5QyxVQUFBQSxNQUFNLENBQUM4QyxDQUFELENBQU4sR0FBWWlKLGtCQUFrQixDQUFDckcsQ0FBQyxDQUFDNUMsQ0FBRCxDQUFGLEVBQU9rSixHQUFQLENBQTlCO0VBQ0Q7O0VBQ0QsZUFBT2hNLE1BQVA7RUFDRCxPQU5ELE1BTU87RUFDTCxlQUFPZ00sR0FBRyxDQUFDdEcsQ0FBRCxDQUFWO0VBQ0Q7RUFDRixLQVZEOztFQWFGO0VBQ0E7RUFDQTs7O0VBQ0UsYUFBU3VHLGFBQVQsQ0FBdUJDLEtBQXZCLEVBQThCO0VBQzFCLFdBQUssSUFBSXBKLENBQUMsR0FBR29KLEtBQUssQ0FBQ3pKLE1BQU4sR0FBZSxDQUE1QixFQUErQkssQ0FBQyxHQUFHLENBQW5DLEVBQXNDQSxDQUFDLEVBQXZDLEVBQTJDO0VBQ3ZDLFlBQUkrQixDQUFDLEdBQUdlLElBQUksQ0FBQytELEtBQUwsQ0FBVy9ELElBQUksQ0FBQzZELE1BQUwsTUFBaUIzRyxDQUFDLEdBQUcsQ0FBckIsQ0FBWCxDQUFSO0VBQ0EsWUFBSXFKLElBQUksR0FBR0QsS0FBSyxDQUFDcEosQ0FBRCxDQUFoQjtFQUNBb0osUUFBQUEsS0FBSyxDQUFDcEosQ0FBRCxDQUFMLEdBQVdvSixLQUFLLENBQUNySCxDQUFELENBQWhCO0VBQ0FxSCxRQUFBQSxLQUFLLENBQUNySCxDQUFELENBQUwsR0FBV3NILElBQVg7RUFDSDs7RUFDRCxhQUFPRCxLQUFQO0VBQ0g7O0VBR0g7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7O0VBQ0UsUUFBSUUseUJBQXlCLEdBQUcsU0FBNUJBLHlCQUE0QixDQUFTMUcsQ0FBVCxFQUFZc0csR0FBWixFQUFpQjtFQUMvQyxVQUFHaEIsS0FBSyxDQUFDRSxPQUFOLENBQWN4RixDQUFkLENBQUgsRUFBcUI7RUFDbkIsWUFBSTJHLEdBQUcsR0FBRzNHLENBQUMsQ0FBQ2pELE1BQVo7RUFDQSxZQUFJSyxDQUFKO0VBQ0EsWUFBSXdKLFFBQVEsR0FBRyxFQUFmOztFQUNBLGFBQUl4SixDQUFDLEdBQUcsQ0FBUixFQUFXQSxDQUFDLEdBQUd1SixHQUFmLEVBQW9CdkosQ0FBQyxFQUFyQixFQUF5QjtFQUN2QndKLFVBQUFBLFFBQVEsQ0FBQ3hKLENBQUQsQ0FBUixHQUFjQSxDQUFkO0VBQ0Q7O0VBQ0RtSixRQUFBQSxhQUFhLENBQUNLLFFBQUQsQ0FBYjtFQUNBLFlBQUl0TSxNQUFNLEdBQUcsRUFBYjs7RUFFQSxhQUFJOEMsQ0FBQyxHQUFHLENBQVIsRUFBV0EsQ0FBQyxHQUFHdUosR0FBZixFQUFvQnZKLENBQUMsRUFBckIsRUFBeUI7RUFDdkIsY0FBSXlKLE9BQU8sR0FBR0QsUUFBUSxDQUFDeEosQ0FBRCxDQUF0QjtFQUNBOUMsVUFBQUEsTUFBTSxDQUFDdU0sT0FBRCxDQUFOLEdBQWtCUixrQkFBa0IsQ0FBQ3JHLENBQUMsQ0FBQzZHLE9BQUQsQ0FBRixFQUFhUCxHQUFiLENBQXBDO0VBQ0Q7O0VBQ0QsZUFBT2hNLE1BQVA7RUFDRCxPQWZELE1BZU87RUFDTCxlQUFPZ00sR0FBRyxDQUFDdEcsQ0FBRCxDQUFWO0VBQ0Q7RUFDRixLQW5CRDs7RUFzQkY7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7Ozs7O0VBSUUsUUFBSThHLFVBQVUsR0FBRyxTQUFiQSxVQUFhLENBQVNDLFdBQVQsRUFBc0JDLE9BQXRCLEVBQStCQyxZQUEvQixFQUE2QztFQUM1REQsTUFBQUEsT0FBTyxHQUFHQSxPQUFPLElBQUksRUFBckI7RUFDQSxhQUFPQSxPQUFPLENBQUNoUixjQUFSLENBQXVCK1EsV0FBdkIsS0FDQUMsT0FBTyxDQUFDRCxXQUFELENBQVAsS0FBeUI5USxTQUR6QixJQUVBK1EsT0FBTyxDQUFDRCxXQUFELENBQVAsS0FBeUIsSUFGekIsR0FFZ0NDLE9BQU8sQ0FBQ0QsV0FBRCxDQUZ2QyxHQUV1REUsWUFGOUQ7RUFHRCxLQUxEOztFQVFGO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7OztFQUNFLFFBQUlDLG1CQUFtQixHQUFHLFNBQXRCQSxtQkFBc0IsQ0FBU0gsV0FBVCxFQUFzQkMsT0FBdEIsRUFBK0JuQixHQUEvQixFQUFvQ29CLFlBQXBDLEVBQWtEO0VBQzFFLFVBQUlwUSxLQUFLLEdBQUdpUSxVQUFVLENBQUNDLFdBQUQsRUFBY0MsT0FBZCxFQUF1QkMsWUFBdkIsQ0FBdEI7O0VBQ0MsVUFBRyxDQUFFM0IsS0FBSyxDQUFDRSxPQUFOLENBQWMzTyxLQUFkLENBQUwsRUFBMkI7RUFDekJBLFFBQUFBLEtBQUssR0FBRytPLFlBQVksQ0FBQ0MsR0FBRCxFQUFNaFAsS0FBTixDQUFwQjtFQUNEOztFQUNELFVBQUcsQ0FBRXFQLFdBQVcsQ0FBRUYsU0FBUyxDQUFDblAsS0FBRCxDQUFYLEVBQW9CZ1AsR0FBcEIsQ0FBaEIsRUFBMEM7RUFDeEMsY0FBTSxnQkFBZ0JrQixXQUFoQixHQUE4QixvQkFBOUIsR0FDQWYsU0FBUyxDQUFDblAsS0FBRCxDQURULEdBQ21CLG1CQURuQixHQUN5Q2dQLEdBRHpDLEdBQytDLElBRHJEO0VBRUY7O0VBQ0EsYUFBT2hQLEtBQVA7RUFDRixLQVZELENBL1FnQjs7OztFQStSbEI7RUFDQTtFQUNBO0VBQ0E7OztFQUNFLFFBQUlzUSxnQkFBZ0IsR0FBRyxTQUFuQkEsZ0JBQW1CLENBQVNoUCxJQUFULEVBQWVpUCxLQUFmLEVBQXNCQyxLQUF0QixFQUE2QjtFQUNsRCxVQUFHRCxLQUFLLEdBQUdDLEtBQVgsRUFBa0I7RUFDaEIsY0FBTSw4REFBTjtFQUNEOztFQUNELFVBQUdsUCxJQUFJLEtBQUssTUFBWixFQUFvQjtFQUNsQixZQUFHaVAsS0FBSyxLQUFLLENBQUN4RyxRQUFYLElBQXVCeUcsS0FBSyxLQUFLekcsUUFBcEMsRUFBOEM7RUFDNUMsaUJBQU8sR0FBUDtFQUNELFNBRkQsTUFFTyxJQUFHd0csS0FBSyxLQUFLLENBQUN4RyxRQUFkLEVBQXdCO0VBQzdCLGlCQUFPeUcsS0FBSyxHQUFHLEdBQWY7RUFDRCxTQUZNLE1BRUEsSUFBR0EsS0FBSyxLQUFLekcsUUFBYixFQUF1QjtFQUM1QixpQkFBT3dHLEtBQUssR0FBRyxHQUFmO0VBQ0QsU0FGTSxNQUVBLElBQUdBLEtBQUssSUFBSUMsS0FBWixFQUFtQjtFQUN4QixpQkFBTyxDQUFDRCxLQUFLLEdBQUdDLEtBQVQsSUFBa0IsQ0FBekI7RUFDRDtFQUNGLE9BVkQsTUFVTyxJQUFHbFAsSUFBSSxLQUFLLEtBQVosRUFBbUI7RUFDeEIsWUFBR2lQLEtBQUssS0FBSyxDQUFDeEcsUUFBWCxJQUF1QnlHLEtBQUssS0FBS3pHLFFBQXBDLEVBQThDO0VBQzVDLGlCQUFPLENBQVA7RUFDRCxTQUZELE1BRU8sSUFBR3dHLEtBQUssS0FBSyxDQUFDeEcsUUFBZCxFQUF3QjtFQUM3QixpQkFBT3lHLEtBQUssR0FBRyxDQUFmO0VBQ0QsU0FGTSxNQUVBLElBQUdBLEtBQUssS0FBS3pHLFFBQWIsRUFBdUI7RUFDNUIsaUJBQU93RyxLQUFLLEdBQUcsQ0FBZjtFQUNELFNBRk0sTUFFQSxJQUFHQSxLQUFLLElBQUlDLEtBQVosRUFBa0I7RUFDdkIsaUJBQU9uSCxJQUFJLENBQUNvSCxLQUFMLENBQVcsQ0FBQ0YsS0FBSyxHQUFHQyxLQUFULElBQWtCLENBQTdCLENBQVA7RUFDRDtFQUNGLE9BVk0sTUFVQSxJQUFHbFAsSUFBSSxLQUFLLFFBQVosRUFBc0I7RUFDM0IsZUFBTyxDQUFQO0VBQ0Q7O0VBQ0QsWUFBTSw0Q0FBNENBLElBQTVDLEdBQW1ELEdBQW5ELEdBQXlEaVAsS0FBekQsR0FBaUUsSUFBakUsR0FBd0VDLEtBQXhFLEdBQWdGLEdBQXRGO0VBQ0QsS0E1QkQ7O0VBK0JGO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOzs7RUFDRSxRQUFJRSxlQUFlLEdBQUksU0FBbkJBLGVBQW1CLENBQVNDLGtCQUFULEVBQTZCQyxVQUE3QixFQUF5QztFQUM5RCxVQUFJQyxNQUFNLEdBQUdwRCxVQUFVLENBQUNrRCxrQkFBRCxDQUF2Qjs7RUFDQSxXQUFLLElBQUlHLFVBQVQsSUFBdUJELE1BQXZCLEVBQStCO0VBQUUsWUFBSSxDQUFDQSxNQUFNLENBQUMxUixjQUFQLENBQXNCMlIsVUFBdEIsQ0FBTCxFQUF3QztFQUN2RSxZQUFJQyxLQUFLLEdBQUdGLE1BQU0sQ0FBQ0MsVUFBRCxDQUFsQjs7RUFDQSxZQUFJLENBQUNDLEtBQUssQ0FBQzVSLGNBQU4sQ0FBcUIsTUFBckIsQ0FBTCxFQUFtQztFQUNqQzRSLFVBQUFBLEtBQUssQ0FBQ3pQLElBQU4sR0FBYSxNQUFiO0VBQ0Q7O0VBQ0QsWUFBRyxDQUFDeVAsS0FBSyxDQUFDNVIsY0FBTixDQUFxQixLQUFyQixDQUFKLEVBQWlDO0VBQy9CNFIsVUFBQUEsS0FBSyxDQUFDL0IsR0FBTixHQUFZLENBQUMsQ0FBRCxDQUFaO0VBQ0Q7O0VBQ0QsWUFBR0gsU0FBUyxDQUFDa0MsS0FBSyxDQUFDL0IsR0FBUCxDQUFaLEVBQXlCO0VBQ3ZCK0IsVUFBQUEsS0FBSyxDQUFDL0IsR0FBTixHQUFZLENBQUMrQixLQUFLLENBQUMvQixHQUFQLENBQVo7RUFDRDs7RUFDRCxZQUFHK0IsS0FBSyxDQUFDelAsSUFBTixJQUFjLFFBQWpCLEVBQTJCO0VBQ3pCeVAsVUFBQUEsS0FBSyxDQUFDUCxLQUFOLEdBQWMsQ0FBZDtFQUNBTyxVQUFBQSxLQUFLLENBQUNSLEtBQU4sR0FBYyxDQUFkO0VBQ0Q7O0VBQ0QsWUFBRyxDQUFDUSxLQUFLLENBQUM1UixjQUFOLENBQXFCLE9BQXJCLENBQUosRUFBbUM7RUFDakM0UixVQUFBQSxLQUFLLENBQUNQLEtBQU4sR0FBY3pHLFFBQWQ7RUFDRDs7RUFDRCxZQUFHLENBQUNnSCxLQUFLLENBQUM1UixjQUFOLENBQXFCLE9BQXJCLENBQUosRUFBbUM7RUFDakM0UixVQUFBQSxLQUFLLENBQUNSLEtBQU4sR0FBYyxDQUFDeEcsUUFBZjtFQUNEOztFQUVELFlBQUdnSCxLQUFLLENBQUM1UixjQUFOLENBQXFCLE1BQXJCLENBQUgsRUFBaUM7O0VBRS9CLGNBQUdrUSxXQUFXLENBQUMwQixLQUFLLENBQUMvQixHQUFQLEVBQVksQ0FBQyxDQUFELENBQVosQ0FBWCxJQUErQixPQUFPK0IsS0FBSyxDQUFDOUIsSUFBYixLQUFzQixVQUF4RCxFQUFvRTs7RUFFbEU4QixZQUFBQSxLQUFLLENBQUM5QixJQUFOLEdBQWE4QixLQUFLLENBQUM5QixJQUFOLEVBQWI7RUFDRCxXQUhELE1BR08sSUFBRyxDQUFDSSxXQUFXLENBQUMwQixLQUFLLENBQUMvQixHQUFQLEVBQVksQ0FBQyxDQUFELENBQVosQ0FBWixJQUFnQyxDQUFDUCxLQUFLLENBQUNFLE9BQU4sQ0FBY29DLEtBQUssQ0FBQzlCLElBQXBCLENBQXBDLEVBQStEOzs7O0VBSXRFOEIsWUFBQUEsS0FBSyxDQUFDOUIsSUFBTixHQUFhRixZQUFZLENBQUNnQyxLQUFLLENBQUMvQixHQUFQLEVBQVkrQixLQUFLLENBQUM5QixJQUFsQixDQUF6QjtFQUNDO0VBQ0YsU0FYRCxNQVdPOztFQUNMLGNBQUdJLFdBQVcsQ0FBQzBCLEtBQUssQ0FBQy9CLEdBQVAsRUFBWSxDQUFDLENBQUQsQ0FBWixDQUFkLEVBQWdDO0VBQzlCK0IsWUFBQUEsS0FBSyxDQUFDOUIsSUFBTixHQUFhMkIsVUFBVSxDQUFDRyxLQUFLLENBQUN6UCxJQUFQLEVBQWF5UCxLQUFLLENBQUNSLEtBQW5CLEVBQTBCUSxLQUFLLENBQUNQLEtBQWhDLENBQXZCO0VBQ0QsV0FGRCxNQUVPO0VBQ0xPLFlBQUFBLEtBQUssQ0FBQzlCLElBQU4sR0FBYUYsWUFBWSxDQUFDZ0MsS0FBSyxDQUFDL0IsR0FBUCxFQUFZLFlBQVc7RUFDOUMscUJBQU80QixVQUFVLENBQUNHLEtBQUssQ0FBQ3pQLElBQVAsRUFBYXlQLEtBQUssQ0FBQ1IsS0FBbkIsRUFBMEJRLEtBQUssQ0FBQ1AsS0FBaEMsQ0FBakI7RUFDRCxhQUZ3QixDQUF6QjtFQUdEO0VBQ0Y7RUFDRjs7RUFDRCxhQUFPSyxNQUFQO0VBQ0QsS0E5Q0QsQ0EvVWdCOzs7O0VBcVlsQjtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7O0VBQ0UsUUFBSUcsT0FBTyxHQUFHLFNBQVZBLE9BQVUsQ0FBU0gsTUFBVCxFQUFpQnhNLEtBQWpCLEVBQXdCNE0sUUFBeEIsRUFBa0M7RUFDOUMsV0FBS0osTUFBTCxHQUFjQSxNQUFkO0VBQ0EsV0FBS3hNLEtBQUwsR0FBYUEsS0FBYjtFQUNBLFdBQUs0TSxRQUFMLEdBQWdCQSxRQUFoQjtFQUNELEtBSkQ7O0VBT0Y7RUFDQTtFQUNBO0VBQ0E7OztFQUNFRCxJQUFBQSxPQUFPLENBQUMvUixTQUFSLENBQWtCaVMsSUFBbEIsR0FBeUIsWUFBVztFQUNsQyxZQUFNLHdDQUFOO0VBQ0QsS0FGRDs7RUFLRjtFQUNBOzs7RUFDRUYsSUFBQUEsT0FBTyxDQUFDL1IsU0FBUixDQUFrQmtTLGdCQUFsQixHQUFxQyxZQUFXO0VBRS9DLEtBRkQ7O0VBS0Y7RUFDQTs7O0VBQ0VILElBQUFBLE9BQU8sQ0FBQy9SLFNBQVIsQ0FBa0JtUyxlQUFsQixHQUFvQyxZQUFXO0VBRTlDLEtBRkQ7O0VBS0Y7RUFDQTs7O0VBQ0VKLElBQUFBLE9BQU8sQ0FBQy9SLFNBQVIsQ0FBa0IrRixJQUFsQixHQUF5QixZQUFXOztFQUVsQyxhQUFPLEVBQVA7RUFDRCxLQUhEOztFQU9GO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOzs7RUFDRSxRQUFJcU0sdUJBQXVCLEdBQUcsU0FBMUJBLHVCQUEwQixDQUFTUixNQUFULEVBQWlCeE0sS0FBakIsRUFBd0I0TSxRQUF4QixFQUFrQ2QsT0FBbEMsRUFBMkNtQixpQkFBM0MsRUFBOEQ7RUFDMUZOLE1BQUFBLE9BQU8sQ0FBQ3pQLElBQVIsQ0FBYSxJQUFiLEVBQW1Cc1AsTUFBbkIsRUFBMkJ4TSxLQUEzQixFQUFrQzRNLFFBQWxDO0VBRUEsVUFBSU0sV0FBVyxHQUFHdlMsTUFBTSxDQUFDK0csSUFBUCxDQUFZLEtBQUs4SyxNQUFqQixDQUFsQjs7RUFDQSxVQUFHVSxXQUFXLENBQUNyTCxNQUFaLElBQXVCLENBQTFCLEVBQTZCO0VBQzNCLGNBQU0sd0RBQU47RUFDRDs7RUFDRCxXQUFLNEssVUFBTCxHQUFrQlMsV0FBVyxDQUFDLENBQUQsQ0FBN0I7RUFDQSxVQUFJUixLQUFLLEdBQUcsS0FBS0YsTUFBTCxDQUFZLEtBQUtDLFVBQWpCLENBQVo7O0VBQ0EsVUFBRyxDQUFDekIsV0FBVyxDQUFDMEIsS0FBSyxDQUFDL0IsR0FBUCxFQUFZLENBQUMsQ0FBRCxDQUFaLENBQWYsRUFBaUM7RUFDL0IsY0FBTSx3RUFBTjtFQUNEOztFQUNELFdBQUt1QixLQUFMLEdBQWFRLEtBQUssQ0FBQ1IsS0FBbkI7RUFDQSxXQUFLQyxLQUFMLEdBQWFPLEtBQUssQ0FBQ1AsS0FBbkI7RUFFQSxXQUFLZ0IsY0FBTCxHQUEwQnZCLFVBQVUsQ0FBQyxnQkFBRCxFQUFtQkUsT0FBbkIsRUFBNEIsQ0FBNUIsQ0FBcEM7RUFDQSxXQUFLc0IsVUFBTCxHQUEwQnhCLFVBQVUsQ0FBQyxZQUFELEVBQWVFLE9BQWYsRUFBd0IsRUFBeEIsQ0FBcEM7RUFDQSxXQUFLdUIsY0FBTCxHQUEwQnpCLFVBQVUsQ0FBQyxnQkFBRCxFQUFtQkUsT0FBbkIsRUFBNEIsSUFBNUIsQ0FBcEM7RUFDQSxXQUFLd0Isa0JBQUwsR0FBMEIxQixVQUFVLENBQUMsb0JBQUQsRUFBdUJFLE9BQXZCLEVBQWdDLEdBQWhDLENBQXBDO0VBQ0EsV0FBS3lCLGtCQUFMLEdBQTBCM0IsVUFBVSxDQUFDLG9CQUFELEVBQXVCRSxPQUF2QixFQUFnQyxJQUFoQyxDQUFwQztFQUNBLFdBQUswQixXQUFMLEdBQTBCNUIsVUFBVSxDQUFDLGFBQUQsRUFBZ0JFLE9BQWhCLEVBQXlCLElBQXpCLENBQXBDO0VBRUEsV0FBS21CLGlCQUFMLEdBQXlCQSxpQkFBekI7RUFFQSxXQUFLUSxnQkFBTCxHQUF3QixDQUF4QjtFQUNBLFdBQUtDLFdBQUwsR0FBbUIsQ0FBbkI7RUFDQSxXQUFLQyx5QkFBTCxHQUFpQyxDQUFqQztFQUNELEtBM0JEOztFQTZCQVgsSUFBQUEsdUJBQXVCLENBQUNwUyxTQUF4QixHQUFvQ0QsTUFBTSxDQUFDOEIsTUFBUCxDQUFja1EsT0FBTyxDQUFDL1IsU0FBdEIsQ0FBcEM7RUFDQW9TLElBQUFBLHVCQUF1QixDQUFDcFMsU0FBeEIsQ0FBa0MyRCxXQUFsQyxHQUFnRHlPLHVCQUFoRDs7RUFFQUEsSUFBQUEsdUJBQXVCLENBQUNwUyxTQUF4QixDQUFrQ2lTLElBQWxDLEdBQXlDLFlBQVc7RUFDaEQsVUFBSWUsV0FBVyxHQUFHLEtBQUs1TixLQUFMLENBQVcsS0FBS3lNLFVBQWhCLENBQWxCO0VBQ0EsVUFBSW9CLGNBQWMsR0FBRyxLQUFLWixpQkFBTCxDQUF1QlcsV0FBdkIsRUFBb0MsS0FBS1QsY0FBekMsQ0FBckI7O0VBQ0EsVUFBR1UsY0FBYyxHQUFHLEtBQUszQixLQUF0QixJQUErQjJCLGNBQWMsR0FBRyxLQUFLMUIsS0FBeEQsRUFBK0QsQ0FBL0QsTUFHTzs7RUFDTCxZQUFJMkIsYUFBYSxHQUFHLEtBQUtsQixRQUFMLEVBQXBCO0VBQ0EsYUFBSzVNLEtBQUwsQ0FBVyxLQUFLeU0sVUFBaEIsSUFBOEJvQixjQUE5QjtFQUNBLFlBQUlFLGFBQWEsR0FBRyxLQUFLbkIsUUFBTCxFQUFwQjtFQUNBLFlBQUlvQixXQUFXLEdBQUdoSixJQUFJLENBQUNDLEdBQUwsQ0FBUzhJLGFBQWEsR0FBR0QsYUFBekIsQ0FBbEI7O0VBQ0EsWUFBR0UsV0FBVyxHQUFHaEosSUFBSSxDQUFDNkQsTUFBTCxFQUFqQixFQUFnQzs7RUFFOUIsY0FBRyxLQUFLMkUsV0FBUixFQUFxQixLQUFLQyxnQkFBTDtFQUN0QixTQUhELE1BR087O0VBRUwsZUFBS3pOLEtBQUwsQ0FBVyxLQUFLeU0sVUFBaEIsSUFBOEJtQixXQUE5QjtFQUNEO0VBQ0Y7O0VBQ0QsVUFBRyxLQUFLSixXQUFSLEVBQXFCO0VBQ25CLGFBQUtHLHlCQUFMOztFQUNBLFlBQUcsS0FBS0EseUJBQUwsSUFBa0MsS0FBS1AsVUFBMUMsRUFBc0Q7O0VBQ3BELGVBQUtNLFdBQUw7RUFDQSxjQUFJTyxpQkFBaUIsR0FDbkJqSixJQUFJLENBQUM4QyxHQUFMLENBQVMsS0FBS3VGLGNBQWQsRUFDUyxLQUFLQyxrQkFBTCxHQUEwQnRJLElBQUksQ0FBQ0ksSUFBTCxDQUFVLEtBQUtzSSxXQUFmLENBRG5DLENBREY7O0VBR0EsY0FBRyxLQUFLRCxnQkFBTCxHQUF3QixLQUFLTCxVQUE3QixHQUEwQyxLQUFLRyxrQkFBbEQsRUFBc0U7RUFDcEUsaUJBQUtKLGNBQUwsSUFBdUJjLGlCQUF2QjtFQUNELFdBRkQsTUFFTztFQUNMLGlCQUFLZCxjQUFMLElBQXVCYyxpQkFBdkI7RUFDRDs7RUFDRCxlQUFLUixnQkFBTCxHQUF3QixDQUF4QjtFQUNBLGVBQUtFLHlCQUFMLEdBQWlDLENBQWpDO0VBQ0Q7RUFDRjs7RUFDRCxhQUFPLEtBQUszTixLQUFMLENBQVcsS0FBS3lNLFVBQWhCLENBQVA7RUFDSCxLQXBDRDs7RUFzQ0FPLElBQUFBLHVCQUF1QixDQUFDcFMsU0FBeEIsQ0FBa0NrUyxnQkFBbEMsR0FBcUQsWUFBVztFQUM5RCxXQUFLVSxXQUFMLEdBQW1CLElBQW5CO0VBQ0QsS0FGRDs7RUFJQVIsSUFBQUEsdUJBQXVCLENBQUNwUyxTQUF4QixDQUFrQ21TLGVBQWxDLEdBQW9ELFlBQVc7RUFDN0QsV0FBS1MsV0FBTCxHQUFtQixLQUFuQjtFQUNELEtBRkQ7O0VBSUFSLElBQUFBLHVCQUF1QixDQUFDcFMsU0FBeEIsQ0FBa0MrRixJQUFsQyxHQUF5QyxZQUFXO0VBQ2xELGFBQU87RUFDTHdNLFFBQUFBLGNBQWMsRUFBRSxLQUFLQSxjQURoQjtFQUVMSyxRQUFBQSxXQUFXLEVBQUUsS0FBS0EsV0FGYjtFQUdMQyxRQUFBQSxnQkFBZ0IsRUFBRSxLQUFLQSxnQkFIbEI7RUFJTEUsUUFBQUEseUJBQXlCLEVBQUUsS0FBS0EseUJBSjNCO0VBS0xELFFBQUFBLFdBQVcsRUFBRSxLQUFLQTtFQUxiLE9BQVA7RUFPRCxLQVJEOztFQVlGO0VBQ0E7OztFQUNFLFFBQUlRLGVBQWUsR0FBRyxTQUFsQkEsZUFBa0IsQ0FBU04sV0FBVCxFQUFzQlQsY0FBdEIsRUFBc0M7RUFDMUQsYUFBT25FLEtBQUssQ0FBQzRFLFdBQUQsRUFBZTVJLElBQUksQ0FBQ0MsR0FBTCxDQUFTa0ksY0FBVCxDQUFmLENBQVo7RUFDRCxLQUZEOztFQUtGO0VBQ0E7RUFDQTtFQUNBOzs7RUFDRSxRQUFJZ0IscUJBQXFCLEdBQUcsU0FBeEJBLHFCQUF3QixDQUFTM0IsTUFBVCxFQUFpQnhNLEtBQWpCLEVBQXdCNE0sUUFBeEIsRUFBa0NkLE9BQWxDLEVBQTJDO0VBQ3JFa0IsTUFBQUEsdUJBQXVCLENBQUM5UCxJQUF4QixDQUE2QixJQUE3QixFQUFtQ3NQLE1BQW5DLEVBQTJDeE0sS0FBM0MsRUFBa0Q0TSxRQUFsRCxFQUE0RGQsT0FBNUQsRUFBcUVvQyxlQUFyRTtFQUNELEtBRkQ7O0VBSUFDLElBQUFBLHFCQUFxQixDQUFDdlQsU0FBdEIsR0FBa0NELE1BQU0sQ0FBQzhCLE1BQVAsQ0FBY3VRLHVCQUF1QixDQUFDcFMsU0FBdEMsQ0FBbEM7RUFDQXVULElBQUFBLHFCQUFxQixDQUFDdlQsU0FBdEIsQ0FBZ0MyRCxXQUFoQyxHQUE4QzRQLHFCQUE5Qzs7RUFHRjtFQUNBOztFQUNFLFFBQUlDLHdCQUF3QixHQUFHLFNBQTNCQSx3QkFBMkIsQ0FBU1IsV0FBVCxFQUFzQlQsY0FBdEIsRUFBc0M7RUFDbkUsYUFBT25JLElBQUksQ0FBQ29ILEtBQUwsQ0FBV3BELEtBQUssQ0FBQzRFLFdBQUQsRUFBZTVJLElBQUksQ0FBQ0MsR0FBTCxDQUFTa0ksY0FBVCxDQUFmLENBQWhCLENBQVA7RUFDRCxLQUZEOztFQUtGO0VBQ0E7RUFDQTtFQUNBOzs7RUFDRSxRQUFJa0Isb0JBQW9CLEdBQUcsU0FBdkJBLG9CQUF1QixDQUFTN0IsTUFBVCxFQUFpQnhNLEtBQWpCLEVBQXdCNE0sUUFBeEIsRUFBa0NkLE9BQWxDLEVBQTJDO0VBQ3BFa0IsTUFBQUEsdUJBQXVCLENBQUM5UCxJQUF4QixDQUE2QixJQUE3QixFQUFtQ3NQLE1BQW5DLEVBQTJDeE0sS0FBM0MsRUFBa0Q0TSxRQUFsRCxFQUE0RGQsT0FBNUQsRUFBcUVzQyx3QkFBckU7RUFDRCxLQUZEOztFQUlBQyxJQUFBQSxvQkFBb0IsQ0FBQ3pULFNBQXJCLEdBQWlDRCxNQUFNLENBQUM4QixNQUFQLENBQWN1USx1QkFBdUIsQ0FBQ3BTLFNBQXRDLENBQWpDO0VBQ0F5VCxJQUFBQSxvQkFBb0IsQ0FBQ3pULFNBQXJCLENBQStCMkQsV0FBL0IsR0FBNkM4UCxvQkFBN0M7O0VBSUY7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7RUFDRSxRQUFJQyxrQ0FBa0MsR0FBRyxTQUFyQ0Esa0NBQXFDLENBQVM5QixNQUFULEVBQWlCeE0sS0FBakIsRUFBd0I0TSxRQUF4QixFQUFrQ2QsT0FBbEMsRUFBMkN5QyxVQUEzQyxFQUF1RDtFQUM5RjVCLE1BQUFBLE9BQU8sQ0FBQ3pQLElBQVIsQ0FBYSxJQUFiLEVBQW1Cc1AsTUFBbkIsRUFBMkJ4TSxLQUEzQixFQUFrQzRNLFFBQWxDO0VBRUEsVUFBSU0sV0FBVyxHQUFHdlMsTUFBTSxDQUFDK0csSUFBUCxDQUFZLEtBQUs4SyxNQUFqQixDQUFsQjs7RUFDQSxVQUFHVSxXQUFXLENBQUNyTCxNQUFaLElBQXVCLENBQTFCLEVBQTZCO0VBQzNCLGNBQU0sMEVBQU47RUFDRDs7RUFDRCxXQUFLNEssVUFBTCxHQUFrQlMsV0FBVyxDQUFDLENBQUQsQ0FBN0I7RUFDQSxVQUFJUixLQUFLLEdBQUcsS0FBS0YsTUFBTCxDQUFZLEtBQUtDLFVBQWpCLENBQVo7RUFDQSxXQUFLUCxLQUFMLEdBQWFRLEtBQUssQ0FBQ1IsS0FBbkI7RUFDQSxXQUFLQyxLQUFMLEdBQWFPLEtBQUssQ0FBQ1AsS0FBbkI7RUFDQSxXQUFLeEIsR0FBTCxHQUFXK0IsS0FBSyxDQUFDL0IsR0FBakI7RUFFQSxXQUFLd0MsY0FBTCxHQUEwQm5CLG1CQUFtQixDQUFDLGdCQUFELEVBQW1CRixPQUFuQixFQUE0QixLQUFLbkIsR0FBakMsRUFBc0MsQ0FBdEMsQ0FBN0M7RUFDQSxXQUFLeUMsVUFBTCxHQUEwQnBCLG1CQUFtQixDQUFDLFlBQUQsRUFBZUYsT0FBZixFQUF3QixLQUFLbkIsR0FBN0IsRUFBa0MsRUFBbEMsQ0FBN0M7RUFDQSxXQUFLMEMsY0FBTCxHQUEwQnJCLG1CQUFtQixDQUFDLGdCQUFELEVBQW1CRixPQUFuQixFQUE0QixLQUFLbkIsR0FBakMsRUFBc0MsSUFBdEMsQ0FBN0M7RUFDQSxXQUFLMkMsa0JBQUwsR0FBMEJ0QixtQkFBbUIsQ0FBQyxvQkFBRCxFQUF1QkYsT0FBdkIsRUFBZ0MsS0FBS25CLEdBQXJDLEVBQTBDLEdBQTFDLENBQTdDO0VBQ0EsV0FBSzRDLGtCQUFMLEdBQTBCdkIsbUJBQW1CLENBQUMsb0JBQUQsRUFBdUJGLE9BQXZCLEVBQWdDLEtBQUtuQixHQUFyQyxFQUEwQyxJQUExQyxDQUE3QztFQUNBLFdBQUs2QyxXQUFMLEdBQTBCeEIsbUJBQW1CLENBQUMsYUFBRCxFQUFnQkYsT0FBaEIsRUFBeUIsS0FBS25CLEdBQTlCLEVBQW1DLElBQW5DLENBQTdDLENBbEI4Rjs7O0VBc0I5RixVQUFJNkQsa0JBQWtCLEdBQ3BCLFNBREVBLGtCQUNGLENBQVM3RCxHQUFULEVBQWM4RCxRQUFkLEVBQXdCN0IsUUFBeEIsRUFBa0NPLGNBQWxDLEVBQWtEQyxVQUFsRCxFQUE4REMsY0FBOUQsRUFBOEVDLGtCQUE5RSxFQUFrR0Msa0JBQWxHLEVBQXNIQyxXQUF0SCxFQUFtSTtFQUNuSSxZQUFJa0IsV0FBVyxHQUFHLEVBQWxCOztFQUNBLFlBQUcvRCxHQUFHLENBQUM5SSxNQUFKLEtBQWUsQ0FBbEIsRUFBcUI7RUFDbkIsZUFBSSxJQUFJSyxDQUFDLEdBQUcsQ0FBWixFQUFlQSxDQUFDLEdBQUd5SSxHQUFHLENBQUMsQ0FBRCxDQUF0QixFQUEyQnpJLENBQUMsRUFBNUIsRUFBZ0M7RUFDOUIsZ0JBQUl5TSxVQUFVLEdBQUc7RUFBQ3hCLGNBQUFBLGNBQWMsRUFBRUEsY0FBYyxDQUFDakwsQ0FBRCxDQUEvQjtFQUFvQ2tMLGNBQUFBLFVBQVUsRUFBRUEsVUFBVSxDQUFDbEwsQ0FBRCxDQUExRDtFQUNmbUwsY0FBQUEsY0FBYyxFQUFFQSxjQUFjLENBQUNuTCxDQUFELENBRGY7RUFDb0JvTCxjQUFBQSxrQkFBa0IsRUFBRUEsa0JBQWtCLENBQUNwTCxDQUFELENBRDFEO0VBRWZxTCxjQUFBQSxrQkFBa0IsRUFBRUEsa0JBQWtCLENBQUNyTCxDQUFELENBRnZCO0VBRTRCc0wsY0FBQUEsV0FBVyxFQUFFQSxXQUFXLENBQUN0TCxDQUFEO0VBRnBELGFBQWpCO0VBR0UsZ0JBQUkwTSxRQUFRLEdBQUcsRUFBZjtFQUNBQSxZQUFBQSxRQUFRLENBQUMxTSxDQUFELENBQVIsR0FBY2tILFVBQVUsQ0FBQ3NELEtBQUQsQ0FBeEI7RUFDQWtDLFlBQUFBLFFBQVEsQ0FBQzFNLENBQUQsQ0FBUixDQUFZeUksR0FBWixHQUFrQixDQUFDLENBQUQsQ0FBbEIsQ0FONEI7O0VBTzVCLG1CQUFPaUUsUUFBUSxDQUFDMU0sQ0FBRCxDQUFSLENBQVkwSSxJQUFuQixDQVA0Qjs7RUFROUI4RCxZQUFBQSxXQUFXLENBQUN4TSxDQUFELENBQVgsR0FBaUIsSUFBSXFNLFVBQUosQ0FBZUssUUFBZixFQUF5QkgsUUFBekIsRUFBbUM3QixRQUFuQyxFQUE2QytCLFVBQTdDLENBQWpCO0VBQ0Q7RUFDRixTQVhELE1BV087RUFDTCxlQUFJLElBQUl6TSxDQUFDLEdBQUcsQ0FBWixFQUFlQSxDQUFDLEdBQUd5SSxHQUFHLENBQUMsQ0FBRCxDQUF0QixFQUEyQnpJLENBQUMsRUFBNUIsRUFBZ0M7RUFDOUJ3TSxZQUFBQSxXQUFXLENBQUN4TSxDQUFELENBQVgsR0FBaUJzTSxrQkFBa0IsQ0FBQzdELEdBQUcsQ0FBQ3JJLEtBQUosQ0FBVSxDQUFWLENBQUQsRUFBZW1NLFFBQVEsQ0FBQ3ZNLENBQUQsQ0FBdkIsRUFBNEIwSyxRQUE1QixFQUFzQ08sY0FBYyxDQUFDakwsQ0FBRCxDQUFwRCxFQUNqQ2tMLFVBQVUsQ0FBQ2xMLENBQUQsQ0FEdUIsRUFDbEJtTCxjQUFjLENBQUNuTCxDQUFELENBREksRUFDQ29MLGtCQUFrQixDQUFDcEwsQ0FBRCxDQURuQixFQUN3QnFMLGtCQUFrQixDQUFDckwsQ0FBRCxDQUQxQyxFQUMrQ3NMLFdBQVcsQ0FBQ3RMLENBQUQsQ0FEMUQsQ0FBbkM7RUFFRDtFQUNGOztFQUNELGVBQU93TSxXQUFQO0VBQ0QsT0FyQkQ7O0VBdUJBLFdBQUtBLFdBQUwsR0FBbUJGLGtCQUFrQixDQUFDLEtBQUs3RCxHQUFOLEVBQVcsS0FBSzNLLEtBQUwsQ0FBVyxLQUFLeU0sVUFBaEIsQ0FBWCxFQUF3QyxLQUFLRyxRQUE3QyxFQUNuQyxLQUFLTyxjQUQ4QixFQUNkLEtBQUtDLFVBRFMsRUFDRyxLQUFLQyxjQURSLEVBQ3dCLEtBQUtDLGtCQUQ3QixFQUVuQyxLQUFLQyxrQkFGOEIsRUFFVixLQUFLQyxXQUZLLENBQXJDO0VBSUQsS0FqREQ7O0VBbURBYyxJQUFBQSxrQ0FBa0MsQ0FBQzFULFNBQW5DLEdBQStDRCxNQUFNLENBQUM4QixNQUFQLENBQWNrUSxPQUFPLENBQUMvUixTQUF0QixDQUEvQztFQUNBMFQsSUFBQUEsa0NBQWtDLENBQUMxVCxTQUFuQyxDQUE2QzJELFdBQTdDLEdBQTJEK1Asa0NBQTNEOztFQUVBQSxJQUFBQSxrQ0FBa0MsQ0FBQzFULFNBQW5DLENBQTZDaVMsSUFBN0MsR0FBb0QsWUFBVzs7RUFFN0QsYUFBT3JCLHlCQUF5QixDQUFDLEtBQUtrRCxXQUFOLEVBQW1CLFVBQVNHLFVBQVQsRUFBcUI7RUFBQyxlQUFPQSxVQUFVLENBQUNoQyxJQUFYLEVBQVA7RUFBMkIsT0FBcEUsQ0FBaEM7RUFDRCxLQUhEOztFQUtBeUIsSUFBQUEsa0NBQWtDLENBQUMxVCxTQUFuQyxDQUE2Q2tTLGdCQUE3QyxHQUFnRSxZQUFXO0VBQ3pFM0IsTUFBQUEsa0JBQWtCLENBQUMsS0FBS3VELFdBQU4sRUFBbUIsVUFBU0csVUFBVCxFQUFxQjtFQUFDQSxRQUFBQSxVQUFVLENBQUMvQixnQkFBWDtFQUFnQyxPQUF6RSxDQUFsQjtFQUNELEtBRkQ7O0VBSUF3QixJQUFBQSxrQ0FBa0MsQ0FBQzFULFNBQW5DLENBQTZDbVMsZUFBN0MsR0FBK0QsWUFBVztFQUN4RTVCLE1BQUFBLGtCQUFrQixDQUFDLEtBQUt1RCxXQUFOLEVBQW1CLFVBQVNHLFVBQVQsRUFBcUI7RUFBQ0EsUUFBQUEsVUFBVSxDQUFDOUIsZUFBWDtFQUErQixPQUF4RSxDQUFsQjtFQUNELEtBRkQ7O0VBSUF1QixJQUFBQSxrQ0FBa0MsQ0FBQzFULFNBQW5DLENBQTZDK0YsSUFBN0MsR0FBb0QsWUFBVztFQUM3RCxhQUFPd0ssa0JBQWtCLENBQUMsS0FBS3VELFdBQU4sRUFBbUIsVUFBU0csVUFBVCxFQUFxQjtFQUMvRCxlQUFPQSxVQUFVLENBQUNsTyxJQUFYLEVBQVA7RUFDRCxPQUZ3QixDQUF6QjtFQUdELEtBSkQ7O0VBT0Y7RUFDQTtFQUNBO0VBQ0E7OztFQUNFLFFBQUltTyxtQ0FBbUMsR0FBRyxTQUF0Q0EsbUNBQXNDLENBQVN0QyxNQUFULEVBQWlCeE0sS0FBakIsRUFBd0I0TSxRQUF4QixFQUFrQ2QsT0FBbEMsRUFBMkM7RUFDbkZ3QyxNQUFBQSxrQ0FBa0MsQ0FBQ3BSLElBQW5DLENBQXdDLElBQXhDLEVBQThDc1AsTUFBOUMsRUFBc0R4TSxLQUF0RCxFQUE2RDRNLFFBQTdELEVBQXVFZCxPQUF2RSxFQUFnRnFDLHFCQUFoRjtFQUNELEtBRkQ7O0VBSUFXLElBQUFBLG1DQUFtQyxDQUFDbFUsU0FBcEMsR0FBZ0RELE1BQU0sQ0FBQzhCLE1BQVAsQ0FBYzZSLGtDQUFrQyxDQUFDMVQsU0FBakQsQ0FBaEQ7RUFDQWtVLElBQUFBLG1DQUFtQyxDQUFDbFUsU0FBcEMsQ0FBOEMyRCxXQUE5QyxHQUE0RHVRLG1DQUE1RDs7RUFHRjtFQUNBO0VBQ0E7RUFDQTs7RUFDRSxRQUFJQyxrQ0FBa0MsR0FBRyxTQUFyQ0Esa0NBQXFDLENBQVN2QyxNQUFULEVBQWlCeE0sS0FBakIsRUFBd0I0TSxRQUF4QixFQUFrQ2QsT0FBbEMsRUFBMkM7RUFDbEZ3QyxNQUFBQSxrQ0FBa0MsQ0FBQ3BSLElBQW5DLENBQXdDLElBQXhDLEVBQThDc1AsTUFBOUMsRUFBc0R4TSxLQUF0RCxFQUE2RDRNLFFBQTdELEVBQXVFZCxPQUF2RSxFQUFnRnVDLG9CQUFoRjtFQUNELEtBRkQ7O0VBSUFVLElBQUFBLGtDQUFrQyxDQUFDblUsU0FBbkMsR0FBK0NELE1BQU0sQ0FBQzhCLE1BQVAsQ0FBYzZSLGtDQUFrQyxDQUFDMVQsU0FBakQsQ0FBL0M7RUFDQW1VLElBQUFBLGtDQUFrQyxDQUFDblUsU0FBbkMsQ0FBNkMyRCxXQUE3QyxHQUEyRHdRLGtDQUEzRDs7RUFHRjtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztFQUNFLFFBQUlDLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0IsQ0FBU3hDLE1BQVQsRUFBaUJ4TSxLQUFqQixFQUF3QjRNLFFBQXhCLEVBQWtDZCxPQUFsQyxFQUEyQztFQUM3RGEsTUFBQUEsT0FBTyxDQUFDelAsSUFBUixDQUFhLElBQWIsRUFBbUJzUCxNQUFuQixFQUEyQnhNLEtBQTNCLEVBQWtDNE0sUUFBbEM7RUFDQSxVQUFJTSxXQUFXLEdBQUd2UyxNQUFNLENBQUMrRyxJQUFQLENBQVksS0FBSzhLLE1BQWpCLENBQWxCOztFQUNBLFVBQUdVLFdBQVcsQ0FBQ3JMLE1BQVosSUFBdUIsQ0FBMUIsRUFBNkI7RUFDM0IsYUFBSzRLLFVBQUwsR0FBa0JTLFdBQVcsQ0FBQyxDQUFELENBQTdCO0VBQ0QsT0FGRCxNQUVPO0VBQ0wsY0FBTSxxREFBTjtFQUNEO0VBQ0YsS0FSRDs7RUFVQThCLElBQUFBLGFBQWEsQ0FBQ3BVLFNBQWQsR0FBMEJELE1BQU0sQ0FBQzhCLE1BQVAsQ0FBY2tRLE9BQU8sQ0FBQy9SLFNBQXRCLENBQTFCO0VBQ0FvVSxJQUFBQSxhQUFhLENBQUNwVSxTQUFkLENBQXdCMkQsV0FBeEIsR0FBc0N5USxhQUF0Qzs7RUFFQUEsSUFBQUEsYUFBYSxDQUFDcFUsU0FBZCxDQUF3QmlTLElBQXhCLEdBQStCLFlBQVc7RUFDeEMsV0FBSzdNLEtBQUwsQ0FBVyxLQUFLeU0sVUFBaEIsSUFBOEIsQ0FBOUI7RUFDQSxVQUFJd0MsYUFBYSxHQUFHLEtBQUtyQyxRQUFMLEVBQXBCO0VBQ0EsV0FBSzVNLEtBQUwsQ0FBVyxLQUFLeU0sVUFBaEIsSUFBOEIsQ0FBOUI7RUFDQSxVQUFJeUMsWUFBWSxHQUFHLEtBQUt0QyxRQUFMLEVBQW5CO0VBQ0EsVUFBSXVDLFlBQVksR0FBR25LLElBQUksQ0FBQytDLEdBQUwsQ0FBU2tILGFBQVQsRUFBd0JDLFlBQXhCLENBQW5CO0VBQ0FELE1BQUFBLGFBQWEsSUFBSUUsWUFBakI7RUFDQUQsTUFBQUEsWUFBWSxJQUFJQyxZQUFoQjtFQUNBLFVBQUlDLFNBQVMsR0FBR3BLLElBQUksQ0FBQ0MsR0FBTCxDQUFTZ0ssYUFBYSxHQUFHakssSUFBSSxDQUFDVCxHQUFMLENBQVVTLElBQUksQ0FBQ0MsR0FBTCxDQUFTZ0ssYUFBVCxJQUEwQmpLLElBQUksQ0FBQ0MsR0FBTCxDQUFTaUssWUFBVCxDQUFwQyxDQUF6QixDQUFoQjs7RUFDQSxVQUFHbEssSUFBSSxDQUFDNkQsTUFBTCxLQUFnQnVHLFNBQW5CLEVBQThCO0VBQzVCLGFBQUtwUCxLQUFMLENBQVcsS0FBS3lNLFVBQWhCLElBQThCLENBQTlCO0VBQ0EsZUFBTyxDQUFQO0VBQ0QsT0FadUM7OztFQWF4QyxhQUFPLENBQVA7RUFDRCxLQWREOztFQWlCRjtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOzs7RUFDRSxRQUFJNEMsc0JBQXNCLEdBQUcsU0FBekJBLHNCQUF5QixDQUFTN0MsTUFBVCxFQUFpQnhNLEtBQWpCLEVBQXdCNE0sUUFBeEIsRUFBa0NkLE9BQWxDLEVBQTJDO0VBQ3RFYSxNQUFBQSxPQUFPLENBQUN6UCxJQUFSLENBQWEsSUFBYixFQUFtQnNQLE1BQW5CLEVBQTJCeE0sS0FBM0IsRUFBa0M0TSxRQUFsQztFQUVBLFVBQUlNLFdBQVcsR0FBR3ZTLE1BQU0sQ0FBQytHLElBQVAsQ0FBWSxLQUFLOEssTUFBakIsQ0FBbEI7O0VBQ0EsVUFBR1UsV0FBVyxDQUFDckwsTUFBWixJQUF1QixDQUExQixFQUE2QjtFQUMzQixhQUFLNEssVUFBTCxHQUFrQlMsV0FBVyxDQUFDLENBQUQsQ0FBN0I7RUFDQSxZQUFJUixLQUFLLEdBQUcsS0FBS0YsTUFBTCxDQUFZLEtBQUtDLFVBQWpCLENBQVo7RUFDQSxhQUFLOUIsR0FBTCxHQUFXK0IsS0FBSyxDQUFDL0IsR0FBakI7RUFDRCxPQUpELE1BSU87RUFDTCxjQUFNLDhEQUFOO0VBQ0Q7O0VBRUQsVUFBSTZELGtCQUFrQixHQUNwQixTQURFQSxrQkFDRixDQUFTN0QsR0FBVCxFQUFjOEQsUUFBZCxFQUF3QjdCLFFBQXhCLEVBQWtDO0VBQ2xDLFlBQUk4QixXQUFXLEdBQUcsRUFBbEI7RUFDQSxZQUFJeE0sQ0FBSjs7RUFDQSxZQUFHeUksR0FBRyxDQUFDOUksTUFBSixLQUFlLENBQWxCLEVBQXFCO0VBQ25CLGVBQUlLLENBQUMsR0FBRyxDQUFSLEVBQVdBLENBQUMsR0FBR3lJLEdBQUcsQ0FBQyxDQUFELENBQWxCLEVBQXVCekksQ0FBQyxFQUF4QixFQUE0QjtFQUMxQixnQkFBSW9OLFNBQVMsR0FBRyxFQUFoQjtFQUNBQSxZQUFBQSxTQUFTLENBQUNwTixDQUFELENBQVQsR0FBZXdLLEtBQWY7RUFDQWdDLFlBQUFBLFdBQVcsQ0FBQ3hNLENBQUQsQ0FBWCxHQUFpQixJQUFJOE0sYUFBSixDQUFrQk0sU0FBbEIsRUFBNkJiLFFBQTdCLEVBQXVDN0IsUUFBdkMsQ0FBakI7RUFDRDtFQUNGLFNBTkQsTUFNTztFQUNMLGVBQUkxSyxDQUFDLEdBQUcsQ0FBUixFQUFXQSxDQUFDLEdBQUd5SSxHQUFHLENBQUMsQ0FBRCxDQUFsQixFQUF1QnpJLENBQUMsRUFBeEIsRUFBNEI7RUFDMUJ3TSxZQUFBQSxXQUFXLENBQUN4TSxDQUFELENBQVgsR0FBaUJzTSxrQkFBa0IsQ0FBQzdELEdBQUcsQ0FBQ3JJLEtBQUosQ0FBVSxDQUFWLENBQUQsRUFBZW1NLFFBQVEsQ0FBQ3ZNLENBQUQsQ0FBdkIsRUFBNEIwSyxRQUE1QixDQUFuQztFQUNEO0VBQ0Y7O0VBQ0QsZUFBTzhCLFdBQVA7RUFDRCxPQWhCRDs7RUFrQkEsV0FBS0EsV0FBTCxHQUFtQkYsa0JBQWtCLENBQUMsS0FBSzdELEdBQU4sRUFBVyxLQUFLM0ssS0FBTCxDQUFXLEtBQUt5TSxVQUFoQixDQUFYLEVBQXdDLEtBQUtHLFFBQTdDLENBQXJDO0VBQ0QsS0EvQkQ7O0VBaUNBeUMsSUFBQUEsc0JBQXNCLENBQUN6VSxTQUF2QixHQUFtQ0QsTUFBTSxDQUFDOEIsTUFBUCxDQUFja1EsT0FBTyxDQUFDL1IsU0FBdEIsQ0FBbkM7RUFDQXlVLElBQUFBLHNCQUFzQixDQUFDelUsU0FBdkIsQ0FBaUMyRCxXQUFqQyxHQUErQzhRLHNCQUEvQzs7RUFFQUEsSUFBQUEsc0JBQXNCLENBQUN6VSxTQUF2QixDQUFpQ2lTLElBQWpDLEdBQXdDLFlBQVc7O0VBRWpELGFBQU9yQix5QkFBeUIsQ0FBQyxLQUFLa0QsV0FBTixFQUFtQixVQUFTRyxVQUFULEVBQXFCO0VBQUMsZUFBT0EsVUFBVSxDQUFDaEMsSUFBWCxFQUFQO0VBQTJCLE9BQXBFLENBQWhDO0VBQ0QsS0FIRDs7RUFNRjtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOzs7RUFDRSxRQUFJMEMsV0FBVyxHQUFHLFNBQWRBLFdBQWMsQ0FBUy9DLE1BQVQsRUFBaUJ4TSxLQUFqQixFQUF3QjRNLFFBQXhCLEVBQWtDZCxPQUFsQyxFQUEyQztFQUMzRGEsTUFBQUEsT0FBTyxDQUFDelAsSUFBUixDQUFhLElBQWIsRUFBbUJzUCxNQUFuQixFQUEyQnhNLEtBQTNCLEVBQWtDNE0sUUFBbEM7RUFDQSxXQUFLTSxXQUFMLEdBQW1CdlMsTUFBTSxDQUFDK0csSUFBUCxDQUFZLEtBQUs4SyxNQUFqQixDQUFuQjtFQUNBLFdBQUtrQyxXQUFMLEdBQW1CLEVBQW5COztFQUNBLFdBQUksSUFBSXhNLENBQUMsR0FBRyxDQUFaLEVBQWVBLENBQUMsR0FBRyxLQUFLZ0wsV0FBTCxDQUFpQnJMLE1BQXBDLEVBQTRDSyxDQUFDLEVBQTdDLEVBQWlEO0VBQy9DLFlBQUl3SyxLQUFLLEdBQUdGLE1BQU0sQ0FBQyxLQUFLVSxXQUFMLENBQWlCaEwsQ0FBakIsQ0FBRCxDQUFsQjtFQUNBLFlBQUlzTixhQUFKOztFQUNBLGdCQUFROUMsS0FBSyxDQUFDelAsSUFBZDtFQUNFLGVBQUssTUFBTDtFQUNFLGdCQUFHK04sV0FBVyxDQUFDMEIsS0FBSyxDQUFDL0IsR0FBUCxFQUFZLENBQUMsQ0FBRCxDQUFaLENBQWQsRUFBZ0M7RUFDOUI2RSxjQUFBQSxhQUFhLEdBQUdyQixxQkFBaEI7RUFDRCxhQUZELE1BRU87RUFDTHFCLGNBQUFBLGFBQWEsR0FBR1YsbUNBQWhCO0VBQ0Q7O0VBQ0Q7O0VBQ0YsZUFBSyxLQUFMO0VBQ0UsZ0JBQUc5RCxXQUFXLENBQUMwQixLQUFLLENBQUMvQixHQUFQLEVBQVksQ0FBQyxDQUFELENBQVosQ0FBZCxFQUFnQztFQUM5QjZFLGNBQUFBLGFBQWEsR0FBR25CLG9CQUFoQjtFQUNELGFBRkQsTUFFTztFQUNMbUIsY0FBQUEsYUFBYSxHQUFHVCxrQ0FBaEI7RUFDRDs7RUFDRDs7RUFDRixlQUFLLFFBQUw7RUFDRSxnQkFBRy9ELFdBQVcsQ0FBQzBCLEtBQUssQ0FBQy9CLEdBQVAsRUFBWSxDQUFDLENBQUQsQ0FBWixDQUFkLEVBQWdDO0VBQzlCNkUsY0FBQUEsYUFBYSxHQUFHUixhQUFoQjtFQUNELGFBRkQsTUFFTztFQUNMUSxjQUFBQSxhQUFhLEdBQUdILHNCQUFoQjtFQUNEOztFQUNEOztFQUNGO0VBQ0Usa0JBQU0sd0NBQXdDLEtBQUtuQyxXQUFMLENBQWlCaEwsQ0FBakIsQ0FBeEMsR0FBOEQsYUFBOUQsR0FBOEV3SyxLQUFLLENBQUN6UCxJQUExRjtFQXZCSjs7RUF5QkEsWUFBSXdTLGlCQUFpQixHQUFHLEVBQXhCO0VBQ0FBLFFBQUFBLGlCQUFpQixDQUFDLEtBQUt2QyxXQUFMLENBQWlCaEwsQ0FBakIsQ0FBRCxDQUFqQixHQUF5Q3dLLEtBQXpDO0VBQ0FaLFFBQUFBLE9BQU8sR0FBR0EsT0FBTyxJQUFJLEVBQXJCO0VBQ0EsWUFBSTRELGFBQWEsR0FBRzVELE9BQU8sQ0FBQ1UsTUFBUixJQUFrQlYsT0FBTyxDQUFDVSxNQUFSLENBQWUsS0FBS1UsV0FBTCxDQUFpQmhMLENBQWpCLENBQWYsQ0FBbEIsSUFBeUQsRUFBN0U7RUFDQXdOLFFBQUFBLGFBQWEsQ0FBQ3ZDLGNBQWQsR0FBbUN1QyxhQUFhLENBQUN2QyxjQUFkLElBQW9DckIsT0FBTyxDQUFDcUIsY0FBL0U7RUFDQXVDLFFBQUFBLGFBQWEsQ0FBQ3RDLFVBQWQsR0FBbUNzQyxhQUFhLENBQUN0QyxVQUFkLElBQW9DdEIsT0FBTyxDQUFDc0IsVUFBL0U7RUFDQXNDLFFBQUFBLGFBQWEsQ0FBQ3JDLGNBQWQsR0FBbUNxQyxhQUFhLENBQUNyQyxjQUFkLElBQW9DdkIsT0FBTyxDQUFDdUIsY0FBL0U7RUFDQXFDLFFBQUFBLGFBQWEsQ0FBQ3BDLGtCQUFkLEdBQW1Db0MsYUFBYSxDQUFDcEMsa0JBQWQsSUFBb0N4QixPQUFPLENBQUN3QixrQkFBL0U7RUFDQW9DLFFBQUFBLGFBQWEsQ0FBQ25DLGtCQUFkLEdBQW1DbUMsYUFBYSxDQUFDbkMsa0JBQWQsSUFBb0N6QixPQUFPLENBQUN5QixrQkFBL0U7RUFDQW1DLFFBQUFBLGFBQWEsQ0FBQ2xDLFdBQWQsR0FBbUNrQyxhQUFhLENBQUNsQyxXQUFkLElBQW9DMUIsT0FBTyxDQUFDMEIsV0FBL0U7RUFDQSxhQUFLa0IsV0FBTCxDQUFpQnhNLENBQWpCLElBQXNCLElBQUlzTixhQUFKLENBQWtCQyxpQkFBbEIsRUFBcUN6UCxLQUFyQyxFQUE0QzRNLFFBQTVDLEVBQXNEOEMsYUFBdEQsQ0FBdEI7RUFDRDtFQUNGLEtBNUNEOztFQThDQUgsSUFBQUEsV0FBVyxDQUFDM1UsU0FBWixHQUF3QkQsTUFBTSxDQUFDOEIsTUFBUCxDQUFja1EsT0FBTyxDQUFDL1IsU0FBdEIsQ0FBeEI7RUFDQTJVLElBQUFBLFdBQVcsQ0FBQzNVLFNBQVosQ0FBc0IyRCxXQUF0QixHQUFvQ2dSLFdBQXBDOztFQUVBQSxJQUFBQSxXQUFXLENBQUMzVSxTQUFaLENBQXNCaVMsSUFBdEIsR0FBNkIsWUFBVztFQUN0Q3hCLE1BQUFBLGFBQWEsQ0FBQyxLQUFLcUQsV0FBTixDQUFiOztFQUNBLFdBQUksSUFBSXhNLENBQUMsR0FBRyxDQUFaLEVBQWVBLENBQUMsR0FBRyxLQUFLd00sV0FBTCxDQUFpQjdNLE1BQXBDLEVBQTRDSyxDQUFDLEVBQTdDLEVBQWlEO0VBQy9DLGFBQUt3TSxXQUFMLENBQWlCeE0sQ0FBakIsRUFBb0IySyxJQUFwQjtFQUNEOztFQUNELGFBQU8sS0FBSzdNLEtBQVo7RUFDRCxLQU5EOztFQVFBdVAsSUFBQUEsV0FBVyxDQUFDM1UsU0FBWixDQUFzQmtTLGdCQUF0QixHQUF5QyxZQUFXO0VBQ2xELFdBQUksSUFBSTVLLENBQUMsR0FBRyxDQUFaLEVBQWVBLENBQUMsR0FBRyxLQUFLd00sV0FBTCxDQUFpQjdNLE1BQXBDLEVBQTRDSyxDQUFDLEVBQTdDLEVBQWlEO0VBQy9DLGFBQUt3TSxXQUFMLENBQWlCeE0sQ0FBakIsRUFBb0I0SyxnQkFBcEI7RUFDRDtFQUNGLEtBSkQ7O0VBTUF5QyxJQUFBQSxXQUFXLENBQUMzVSxTQUFaLENBQXNCbVMsZUFBdEIsR0FBd0MsWUFBVztFQUNqRCxXQUFJLElBQUk3SyxDQUFDLEdBQUcsQ0FBWixFQUFlQSxDQUFDLEdBQUcsS0FBS3dNLFdBQUwsQ0FBaUI3TSxNQUFwQyxFQUE0Q0ssQ0FBQyxFQUE3QyxFQUFpRDtFQUMvQyxhQUFLd00sV0FBTCxDQUFpQnhNLENBQWpCLEVBQW9CNkssZUFBcEI7RUFDRDtFQUNGLEtBSkQ7O0VBTUF3QyxJQUFBQSxXQUFXLENBQUMzVSxTQUFaLENBQXNCK0YsSUFBdEIsR0FBNkIsWUFBVztFQUN0QyxVQUFJQSxJQUFJLEdBQUcsRUFBWDs7RUFDQSxXQUFJLElBQUl1QixDQUFDLEdBQUcsQ0FBWixFQUFlQSxDQUFDLEdBQUcsS0FBS3dNLFdBQUwsQ0FBaUI3TSxNQUFwQyxFQUE0Q0ssQ0FBQyxFQUE3QyxFQUFpRDtFQUMvQ3ZCLFFBQUFBLElBQUksQ0FBQyxLQUFLdU0sV0FBTCxDQUFpQmhMLENBQWpCLENBQUQsQ0FBSixHQUE0QixLQUFLd00sV0FBTCxDQUFpQnhNLENBQWpCLEVBQW9CdkIsSUFBcEIsRUFBNUI7RUFDRDs7RUFDRCxhQUFPQSxJQUFQO0VBQ0QsS0FORCxDQXAzQmdCOzs7O0VBbTRCbEI7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7OztFQUNFLFFBQUlnUCxPQUFPLEdBQUcsU0FBVkEsT0FBVSxDQUFTbkQsTUFBVCxFQUFpQkksUUFBakIsRUFBMkJnRCxJQUEzQixFQUFpQzlELE9BQWpDLEVBQTBDO0VBQ3RELFdBQUtVLE1BQUwsR0FBY0EsTUFBZDtFQUNBLFdBQUtvRCxJQUFMLEdBQVlBLElBQVo7RUFDQSxXQUFLMUMsV0FBTCxHQUFtQnZTLE1BQU0sQ0FBQytHLElBQVAsQ0FBWSxLQUFLOEssTUFBakIsQ0FBbkIsQ0FIc0Q7O0VBTXRELFdBQUtxRCxjQUFMLEdBQXdCakUsVUFBVSxDQUFDLGdCQUFELEVBQW1CRSxPQUFuQixFQUE0QkcsZ0JBQTVCLENBQWxDO0VBQ0EsVUFBSTZELGlCQUFpQixHQUFHbEUsVUFBVSxDQUFDLE1BQUQsRUFBU0UsT0FBVCxFQUFrQixDQUFsQixDQUFsQztFQUNBLFVBQUlpRSxpQkFBaUIsR0FBR25FLFVBQVUsQ0FBQyxTQUFELEVBQVlFLE9BQVosRUFBcUIsSUFBckIsQ0FBbEM7RUFDQSxXQUFLa0UsSUFBTCxDQUFVRixpQkFBVjtFQUNBLFdBQUtHLE9BQUwsQ0FBYUYsaUJBQWI7RUFDQSxXQUFLakUsT0FBTCxHQUFlQSxPQUFmLENBWHNEOztFQWF0RCxXQUFLVSxNQUFMLEdBQWNILGVBQWUsQ0FBQyxLQUFLRyxNQUFOLEVBQWMsS0FBS3FELGNBQW5CLENBQTdCO0VBQ0EsVUFBSTdQLEtBQUssR0FBRyxFQUFaOztFQUNBLFdBQUksSUFBSWtDLENBQUMsR0FBRyxDQUFaLEVBQWVBLENBQUMsR0FBRyxLQUFLZ0wsV0FBTCxDQUFpQnJMLE1BQXBDLEVBQTRDSyxDQUFDLEVBQTdDLEVBQWtEO0VBQ2hEbEMsUUFBQUEsS0FBSyxDQUFDLEtBQUtrTixXQUFMLENBQWlCaEwsQ0FBakIsQ0FBRCxDQUFMLEdBQTZCLEtBQUtzSyxNQUFMLENBQVksS0FBS1UsV0FBTCxDQUFpQmhMLENBQWpCLENBQVosRUFBaUMwSSxJQUE5RDtFQUNEOztFQUNELFdBQUtnQyxRQUFMLEdBQWdCLFlBQVc7RUFDekIsZUFBT0EsUUFBUSxDQUFDNU0sS0FBRCxFQUFRNFAsSUFBUixDQUFmO0VBQ0QsT0FGRCxDQWxCc0Q7Ozs7RUF1QnRELFdBQUtoRCxRQUFMO0VBQ0EsV0FBSzVNLEtBQUwsR0FBYUEsS0FBYjtFQUNBLFdBQUtrUSxRQUFMLEdBQWdCLEtBQUtDLHVCQUFMLENBQTZCLEtBQUszRCxNQUFsQyxFQUEwQyxLQUFLeE0sS0FBL0MsRUFBc0QsS0FBSzRNLFFBQTNELEVBQXFFLEtBQUtkLE9BQTFFLENBQWhCO0VBQ0QsS0ExQkQ7O0VBNkJGO0VBQ0E7OztFQUNFNkQsSUFBQUEsT0FBTyxDQUFDL1UsU0FBUixDQUFrQnVWLHVCQUFsQixHQUE0QyxVQUFTblEsS0FBVCxFQUFnQjRNLFFBQWhCLEVBQXlCO0VBQ25FLFlBQU0sNERBQU47RUFDRCxLQUZEOztFQUtGOzs7RUFDRStDLElBQUFBLE9BQU8sQ0FBQy9VLFNBQVIsQ0FBa0IrRixJQUFsQixHQUF5QixZQUFXO0VBQ2xDLGFBQU87RUFBQ1gsUUFBQUEsS0FBSyxFQUFFLEtBQUtBLEtBQWI7RUFBb0JnUSxRQUFBQSxJQUFJLEVBQUUsS0FBS0EsSUFBL0I7RUFBcUNDLFFBQUFBLE9BQU8sRUFBRSxLQUFLQSxPQUFuRDtFQUNDQyxRQUFBQSxRQUFRLEVBQUUsS0FBS0E7RUFEaEIsT0FBUDtFQUVELEtBSEQ7O0VBTUY7RUFDQTs7O0VBQ0VQLElBQUFBLE9BQU8sQ0FBQy9VLFNBQVIsQ0FBa0JpUyxJQUFsQixHQUF5QixZQUFXO0VBQ2xDeEIsTUFBQUEsYUFBYSxDQUFDLEtBQUs2RSxRQUFOLENBQWI7O0VBQ0EsV0FBSSxJQUFJaE8sQ0FBQyxHQUFHLENBQVosRUFBZUEsQ0FBQyxHQUFHLEtBQUtnTyxRQUFMLENBQWNyTyxNQUFqQyxFQUF5Q0ssQ0FBQyxFQUExQyxFQUE4QztFQUM1QyxhQUFLZ08sUUFBTCxDQUFjaE8sQ0FBZCxFQUFpQjJLLElBQWpCO0VBQ0Q7O0VBQ0QsVUFBR2xTLE1BQU0sQ0FBQytHLElBQVAsQ0FBWSxLQUFLMUIsS0FBakIsRUFBd0I2QixNQUF4QixHQUFpQ2xILE1BQU0sQ0FBQytHLElBQVAsQ0FBWSxLQUFLOEssTUFBakIsRUFBeUIzSyxNQUE3RCxFQUFxRTs7OztFQUluRSxhQUFLK0ssUUFBTDtFQUNEOztFQUNELGFBQU8sS0FBSzVNLEtBQVo7RUFDRCxLQVpEOztFQWVGO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7OztFQUNFMlAsSUFBQUEsT0FBTyxDQUFDL1UsU0FBUixDQUFrQndWLE1BQWxCLEdBQTJCLFVBQVNDLFlBQVQsRUFBdUI7OztFQUc5QyxVQUFJbk8sQ0FBSixFQUFPK0IsQ0FBUCxFQUFVcU0sZ0JBQVY7O0VBQ0EsVUFBRyxLQUFLQSxnQkFBTCxLQUEwQixJQUE3QixFQUFtQztFQUNqQ0EsUUFBQUEsZ0JBQWdCLEdBQUczVixNQUFNLENBQUMrRyxJQUFQLENBQVksS0FBSzFCLEtBQWpCLENBQW5CO0VBQ0QsT0FGRCxNQUVPO0VBQ0xzUSxRQUFBQSxnQkFBZ0IsR0FBRyxLQUFLQSxnQkFBeEI7RUFDRDs7RUFFRCxVQUFJQyxXQUFXLEdBQUcsRUFBbEI7O0VBQ0EsV0FBSXRNLENBQUMsR0FBRyxDQUFSLEVBQVdBLENBQUMsR0FBR3FNLGdCQUFnQixDQUFDek8sTUFBaEMsRUFBd0NvQyxDQUFDLEVBQXpDLEVBQTZDO0VBQzNDc00sUUFBQUEsV0FBVyxDQUFDRCxnQkFBZ0IsQ0FBQ3JNLENBQUQsQ0FBakIsQ0FBWCxHQUFtQyxFQUFuQztFQUNEOztFQUVELFdBQUkvQixDQUFDLEdBQUcsQ0FBUixFQUFXQSxDQUFDLEdBQUdtTyxZQUFmLEVBQTZCbk8sQ0FBQyxFQUE5QixFQUFrQztFQUNoQyxZQUFHQSxDQUFDLEdBQUcsS0FBSzROLGlCQUFULEtBQStCLENBQWxDLEVBQXFDO0VBQ25DLGVBQUk3TCxDQUFDLEdBQUcsQ0FBUixFQUFXQSxDQUFDLEdBQUdxTSxnQkFBZ0IsQ0FBQ3pPLE1BQWhDLEVBQXdDb0MsQ0FBQyxFQUF6QyxFQUE2QztFQUMzQyxnQkFBSXlJLEtBQUssR0FBRzRELGdCQUFnQixDQUFDck0sQ0FBRCxDQUE1QjtFQUNBc00sWUFBQUEsV0FBVyxDQUFDN0QsS0FBRCxDQUFYLENBQW1CcEwsSUFBbkIsQ0FBeUIrSSxnQkFBZ0IsQ0FBQyxLQUFLckssS0FBTCxDQUFXME0sS0FBWCxDQUFELENBQXpDO0VBQ0Q7RUFDRjs7RUFDRCxhQUFLRyxJQUFMO0VBQ0Q7O0VBQ0QsYUFBTzBELFdBQVA7RUFDSCxLQXpCRDs7RUE0QkY7RUFDQTs7O0VBQ0VaLElBQUFBLE9BQU8sQ0FBQy9VLFNBQVIsQ0FBa0I0VixJQUFsQixHQUF5QixVQUFTSCxZQUFULEVBQXVCO0VBQzlDLFdBQUksSUFBSW5PLENBQUMsR0FBRyxDQUFaLEVBQWVBLENBQUMsR0FBR21PLFlBQW5CLEVBQWlDbk8sQ0FBQyxFQUFsQyxFQUFzQztFQUNwQyxhQUFLMkssSUFBTDtFQUNEO0VBQ0YsS0FKRDs7RUFPRjtFQUNBO0VBQ0E7OztFQUNFOEMsSUFBQUEsT0FBTyxDQUFDL1UsU0FBUixDQUFrQnFWLE9BQWxCLEdBQTRCLFVBQVNGLGlCQUFULEVBQTRCO0VBQ3BELFdBQUtPLGdCQUFMLEdBQXdCUCxpQkFBeEI7RUFDSCxLQUZEOztFQUtGO0VBQ0E7RUFDQTs7O0VBQ0VKLElBQUFBLE9BQU8sQ0FBQy9VLFNBQVIsQ0FBa0JvVixJQUFsQixHQUF5QixVQUFTRixpQkFBVCxFQUE0QjtFQUNuRCxXQUFLQSxpQkFBTCxHQUF5QkEsaUJBQXpCO0VBQ0QsS0FGRDs7RUFLRjtFQUNBOzs7RUFDRUgsSUFBQUEsT0FBTyxDQUFDL1UsU0FBUixDQUFrQmtTLGdCQUFsQixHQUFxQyxZQUFXO0VBQzlDLFdBQUksSUFBSTVLLENBQUMsR0FBRyxDQUFaLEVBQWVBLENBQUMsR0FBRyxLQUFLZ08sUUFBTCxDQUFjck8sTUFBakMsRUFBeUNLLENBQUMsRUFBMUMsRUFBOEM7RUFDNUMsYUFBS2dPLFFBQUwsQ0FBY2hPLENBQWQsRUFBaUI0SyxnQkFBakI7RUFDRDtFQUNGLEtBSkQ7O0VBT0Y7RUFDQTs7O0VBQ0U2QyxJQUFBQSxPQUFPLENBQUMvVSxTQUFSLENBQWtCbVMsZUFBbEIsR0FBb0MsWUFBVztFQUM3QyxXQUFJLElBQUk3SyxDQUFDLEdBQUcsQ0FBWixFQUFlQSxDQUFDLEdBQUcsS0FBS2dPLFFBQUwsQ0FBY3JPLE1BQWpDLEVBQXlDSyxDQUFDLEVBQTFDLEVBQThDO0VBQzVDLGFBQUtnTyxRQUFMLENBQWNoTyxDQUFkLEVBQWlCNkssZUFBakI7RUFDRDtFQUNGLEtBSkQ7O0VBT0Y7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7O0VBQ0UsUUFBSTBELFdBQVcsR0FBRyxTQUFkQSxXQUFjLENBQVNqRSxNQUFULEVBQWlCSSxRQUFqQixFQUEyQmdELElBQTNCLEVBQWlDOUQsT0FBakMsRUFBMEM7RUFDMUQ2RCxNQUFBQSxPQUFPLENBQUN6UyxJQUFSLENBQWEsSUFBYixFQUFtQnNQLE1BQW5CLEVBQTJCSSxRQUEzQixFQUFxQ2dELElBQXJDLEVBQTJDOUQsT0FBM0M7RUFDRCxLQUZEOztFQUlBMkUsSUFBQUEsV0FBVyxDQUFDN1YsU0FBWixHQUF3QkQsTUFBTSxDQUFDOEIsTUFBUCxDQUFja1QsT0FBTyxDQUFDL1UsU0FBdEIsQ0FBeEI7RUFDQTZWLElBQUFBLFdBQVcsQ0FBQzdWLFNBQVosQ0FBc0IyRCxXQUF0QixHQUFvQ2tTLFdBQXBDOztFQUVBQSxJQUFBQSxXQUFXLENBQUM3VixTQUFaLENBQXNCdVYsdUJBQXRCLEdBQWdELFVBQVMzRCxNQUFULEVBQWlCeE0sS0FBakIsRUFBd0I0TSxRQUF4QixFQUFrQ2QsT0FBbEMsRUFBMEM7RUFDeEYsYUFBTyxDQUFFLElBQUl5RCxXQUFKLENBQWdCL0MsTUFBaEIsRUFBd0J4TSxLQUF4QixFQUErQjRNLFFBQS9CLEVBQXlDZCxPQUF6QyxDQUFGLENBQVA7RUFDRCxLQUZELENBbmpDZ0I7OztFQXlqQ2hCLFdBQU87RUFDTGxELE1BQUFBLEtBQUssRUFBRUEsS0FERjtFQUVMRSxNQUFBQSxjQUFjLEVBQUVBLGNBRlg7RUFHTEUsTUFBQUEsS0FBSyxFQUFFQSxLQUhGO0VBSUxpRCxNQUFBQSxnQkFBZ0IsRUFBRUEsZ0JBSmI7RUFLTEksTUFBQUEsZUFBZSxFQUFFQSxlQUxaO0VBTUw4QixNQUFBQSxxQkFBcUIsRUFBRUEscUJBTmxCO0VBT0xFLE1BQUFBLG9CQUFvQixFQUFFQSxvQkFQakI7RUFRTFMsTUFBQUEsbUNBQW1DLEVBQUVBLG1DQVJoQztFQVNMQyxNQUFBQSxrQ0FBa0MsRUFBRUEsa0NBVC9CO0VBVUxDLE1BQUFBLGFBQWEsRUFBRUEsYUFWVjtFQVdMSyxNQUFBQSxzQkFBc0IsRUFBRUEsc0JBWG5CO0VBWUxFLE1BQUFBLFdBQVcsRUFBRUEsV0FaUjtFQWFMa0IsTUFBQUEsV0FBVyxFQUFFQTtFQWJSLEtBQVA7RUFlRCxHQXJsQ0EsQ0FBRDs7O0VDUmUsU0FBU0MsU0FBVCxDQUFtQjVMLENBQW5CLEVBQXNCQyxDQUF0QixFQUF5QjtFQUN0QyxTQUFPRCxDQUFDLElBQUksSUFBTCxJQUFhQyxDQUFDLElBQUksSUFBbEIsR0FBeUJMLEdBQXpCLEdBQStCSSxDQUFDLEdBQUdDLENBQUosR0FBUSxDQUFDLENBQVQsR0FBYUQsQ0FBQyxHQUFHQyxDQUFKLEdBQVEsQ0FBUixHQUFZRCxDQUFDLElBQUlDLENBQUwsR0FBUyxDQUFULEdBQWFMLEdBQTVFO0VBQ0Q7O3FEQ0VnQmlNO0VBQVYsU0FBVUEsT0FBVixDQUFrQjdTLE1BQWxCLEVBQTBCOFMsT0FBMUI7RUFBQTs7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLGdCQUNEQSxPQUFPLEtBQUs3VixTQURYO0VBQUE7RUFBQTtFQUFBOztFQUFBLGlEQUVlK0MsTUFGZjtFQUFBOztFQUFBOztFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7O0VBRU1uQyxVQUFBQSxLQUZOOztFQUFBLGdCQUdHQSxLQUFLLElBQUksSUFBVCxJQUFpQixDQUFDQSxLQUFLLEdBQUcsQ0FBQ0EsS0FBVixLQUFvQkEsS0FIeEM7RUFBQTtFQUFBO0VBQUE7O0VBQUE7RUFJQyxpQkFBTUEsS0FBTjs7RUFKRDtFQUFBO0VBQUE7O0VBQUE7RUFBQTtFQUFBOztFQUFBO0VBQUE7RUFBQTs7RUFBQTs7RUFBQTtFQUFBOztFQUFBOztFQUFBOztFQUFBO0VBQUE7RUFBQTs7RUFBQTtFQVFDa1YsVUFBQUEsS0FSRCxHQVFTLENBQUMsQ0FSVjtFQUFBLGtEQVNlL1MsTUFUZjtFQUFBOztFQUFBOztFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7O0VBU01uQyxVQUFBQSxNQVROOztFQUFBLGdCQVVHLENBQUNBLE1BQUssR0FBR2lWLE9BQU8sQ0FBQ2pWLE1BQUQsRUFBUSxFQUFFa1YsS0FBVixFQUFpQi9TLE1BQWpCLENBQWhCLEtBQTZDLElBQTdDLElBQXFELENBQUNuQyxNQUFLLEdBQUcsQ0FBQ0EsTUFBVixLQUFvQkEsTUFWNUU7RUFBQTtFQUFBO0VBQUE7O0VBQUE7RUFXQyxpQkFBTUEsTUFBTjs7RUFYRDtFQUFBO0VBQUE7O0VBQUE7RUFBQTtFQUFBOztFQUFBO0VBQUE7RUFBQTs7RUFBQTs7RUFBQTtFQUFBOztFQUFBOztFQUFBOztFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBOztFQ3NCQSxTQUFTbVYsY0FBVCxHQUE2QztFQUFBLE1BQXJCQyxPQUFxQix1RUFBWEwsU0FBVztFQUNsRCxNQUFJSyxPQUFPLEtBQUtMLFNBQWhCLEVBQTJCLE9BQU9NLGdCQUFQO0VBQzNCLE1BQUksT0FBT0QsT0FBUCxLQUFtQixVQUF2QixFQUFtQyxNQUFNLElBQUlyUSxTQUFKLENBQWMsMkJBQWQsQ0FBTjtFQUNuQyxTQUFPLFVBQUNvRSxDQUFELEVBQUlDLENBQUosRUFBVTtFQUNmLFFBQU1mLENBQUMsR0FBRytNLE9BQU8sQ0FBQ2pNLENBQUQsRUFBSUMsQ0FBSixDQUFqQjtFQUNBLFFBQUlmLENBQUMsSUFBSUEsQ0FBQyxLQUFLLENBQWYsRUFBa0IsT0FBT0EsQ0FBUDtFQUNsQixXQUFPLENBQUMrTSxPQUFPLENBQUNoTSxDQUFELEVBQUlBLENBQUosQ0FBUCxLQUFrQixDQUFuQixLQUF5QmdNLE9BQU8sQ0FBQ2pNLENBQUQsRUFBSUEsQ0FBSixDQUFQLEtBQWtCLENBQTNDLENBQVA7RUFDRCxHQUpEO0VBS0Q7RUFFTSxTQUFTa00sZ0JBQVQsQ0FBMEJsTSxDQUExQixFQUE2QkMsQ0FBN0IsRUFBZ0M7RUFDckMsU0FBTyxDQUFDRCxDQUFDLElBQUksSUFBTCxJQUFhLEVBQUVBLENBQUMsSUFBSUEsQ0FBUCxDQUFkLEtBQTRCQyxDQUFDLElBQUksSUFBTCxJQUFhLEVBQUVBLENBQUMsSUFBSUEsQ0FBUCxDQUF6QyxNQUF3REQsQ0FBQyxHQUFHQyxDQUFKLEdBQVEsQ0FBQyxDQUFULEdBQWFELENBQUMsR0FBR0MsQ0FBSixHQUFRLENBQVIsR0FBWSxDQUFqRixDQUFQO0VBQ0Q7O0VDdENjLFNBQVNnRCxHQUFULENBQWFqSyxNQUFiLEVBQXFCOFMsT0FBckIsRUFBOEI7RUFDM0MsTUFBSTdJLEdBQUo7O0VBQ0EsTUFBSTZJLE9BQU8sS0FBSzdWLFNBQWhCLEVBQTJCO0VBQUEsK0NBQ0wrQyxNQURLO0VBQUE7O0VBQUE7RUFDekIsMERBQTRCO0VBQUEsWUFBakJuQyxLQUFpQjs7RUFDMUIsWUFBSUEsS0FBSyxJQUFJLElBQVQsS0FDSW9NLEdBQUcsR0FBR3BNLEtBQU4sSUFBZ0JvTSxHQUFHLEtBQUtoTixTQUFSLElBQXFCWSxLQUFLLElBQUlBLEtBRGxELENBQUosRUFDK0Q7RUFDN0RvTSxVQUFBQSxHQUFHLEdBQUdwTSxLQUFOO0VBQ0Q7RUFDRjtFQU53QjtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBTzFCLEdBUEQsTUFPTztFQUNMLFFBQUlrVixLQUFLLEdBQUcsQ0FBQyxDQUFiOztFQURLLGdEQUVhL1MsTUFGYjtFQUFBOztFQUFBO0VBRUwsNkRBQTBCO0VBQUEsWUFBakJuQyxNQUFpQjs7RUFDeEIsWUFBSSxDQUFDQSxNQUFLLEdBQUdpVixPQUFPLENBQUNqVixNQUFELEVBQVEsRUFBRWtWLEtBQVYsRUFBaUIvUyxNQUFqQixDQUFoQixLQUE2QyxJQUE3QyxLQUNJaUssR0FBRyxHQUFHcE0sTUFBTixJQUFnQm9NLEdBQUcsS0FBS2hOLFNBQVIsSUFBcUJZLE1BQUssSUFBSUEsTUFEbEQsQ0FBSixFQUMrRDtFQUM3RG9NLFVBQUFBLEdBQUcsR0FBR3BNLE1BQU47RUFDRDtFQUNGO0VBUEk7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQVFOOztFQUNELFNBQU9vTSxHQUFQO0VBQ0Q7O0VDbkJjLFNBQVNELEdBQVQsQ0FBYWhLLE1BQWIsRUFBcUI4UyxPQUFyQixFQUE4QjtFQUMzQyxNQUFJOUksR0FBSjs7RUFDQSxNQUFJOEksT0FBTyxLQUFLN1YsU0FBaEIsRUFBMkI7RUFBQSwrQ0FDTCtDLE1BREs7RUFBQTs7RUFBQTtFQUN6QiwwREFBNEI7RUFBQSxZQUFqQm5DLEtBQWlCOztFQUMxQixZQUFJQSxLQUFLLElBQUksSUFBVCxLQUNJbU0sR0FBRyxHQUFHbk0sS0FBTixJQUFnQm1NLEdBQUcsS0FBSy9NLFNBQVIsSUFBcUJZLEtBQUssSUFBSUEsS0FEbEQsQ0FBSixFQUMrRDtFQUM3RG1NLFVBQUFBLEdBQUcsR0FBR25NLEtBQU47RUFDRDtFQUNGO0VBTndCO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFPMUIsR0FQRCxNQU9PO0VBQ0wsUUFBSWtWLEtBQUssR0FBRyxDQUFDLENBQWI7O0VBREssZ0RBRWEvUyxNQUZiO0VBQUE7O0VBQUE7RUFFTCw2REFBMEI7RUFBQSxZQUFqQm5DLE1BQWlCOztFQUN4QixZQUFJLENBQUNBLE1BQUssR0FBR2lWLE9BQU8sQ0FBQ2pWLE1BQUQsRUFBUSxFQUFFa1YsS0FBVixFQUFpQi9TLE1BQWpCLENBQWhCLEtBQTZDLElBQTdDLEtBQ0lnSyxHQUFHLEdBQUduTSxNQUFOLElBQWdCbU0sR0FBRyxLQUFLL00sU0FBUixJQUFxQlksTUFBSyxJQUFJQSxNQURsRCxDQUFKLEVBQytEO0VBQzdEbU0sVUFBQUEsR0FBRyxHQUFHbk0sTUFBTjtFQUNEO0VBQ0Y7RUFQSTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBUU47O0VBQ0QsU0FBT21NLEdBQVA7RUFDRDs7RUNoQkQ7O0VBQ2UsU0FBU21KLFdBQVQsQ0FBcUIzRixLQUFyQixFQUE0QjFHLENBQTVCLEVBQTRFO0VBQUEsTUFBN0NzTSxJQUE2Qyx1RUFBdEMsQ0FBc0M7RUFBQSxNQUFuQ0MsS0FBbUMsdUVBQTNCN0YsS0FBSyxDQUFDekosTUFBTixHQUFlLENBQVk7RUFBQSxNQUFUa1AsT0FBUztFQUN6RkEsRUFBQUEsT0FBTyxHQUFHQSxPQUFPLEtBQUtoVyxTQUFaLEdBQXdCaVcsZ0JBQXhCLEdBQTJDRixjQUFjLENBQUNDLE9BQUQsQ0FBbkU7O0VBRUEsU0FBT0ksS0FBSyxHQUFHRCxJQUFmLEVBQXFCO0VBQ25CLFFBQUlDLEtBQUssR0FBR0QsSUFBUixHQUFlLEdBQW5CLEVBQXdCO0VBQ3RCLFVBQU16TSxDQUFDLEdBQUcwTSxLQUFLLEdBQUdELElBQVIsR0FBZSxDQUF6QjtFQUNBLFVBQU0xSSxDQUFDLEdBQUc1RCxDQUFDLEdBQUdzTSxJQUFKLEdBQVcsQ0FBckI7RUFDQSxVQUFNL0ssQ0FBQyxHQUFHbkIsSUFBSSxDQUFDVCxHQUFMLENBQVNFLENBQVQsQ0FBVjtFQUNBLFVBQU1pRixDQUFDLEdBQUcsTUFBTTFFLElBQUksQ0FBQ0MsR0FBTCxDQUFTLElBQUlrQixDQUFKLEdBQVEsQ0FBakIsQ0FBaEI7RUFDQSxVQUFNSCxFQUFFLEdBQUcsTUFBTWhCLElBQUksQ0FBQ0ksSUFBTCxDQUFVZSxDQUFDLEdBQUd1RCxDQUFKLElBQVNqRixDQUFDLEdBQUdpRixDQUFiLElBQWtCakYsQ0FBNUIsQ0FBTixJQUF3QytELENBQUMsR0FBRy9ELENBQUMsR0FBRyxDQUFSLEdBQVksQ0FBWixHQUFnQixDQUFDLENBQWpCLEdBQXFCLENBQTdELENBQVg7RUFDQSxVQUFNMk0sT0FBTyxHQUFHcE0sSUFBSSxDQUFDK0MsR0FBTCxDQUFTbUosSUFBVCxFQUFlbE0sSUFBSSxDQUFDK0QsS0FBTCxDQUFXbkUsQ0FBQyxHQUFHNEQsQ0FBQyxHQUFHa0IsQ0FBSixHQUFRakYsQ0FBWixHQUFnQnVCLEVBQTNCLENBQWYsQ0FBaEI7RUFDQSxVQUFNcUwsUUFBUSxHQUFHck0sSUFBSSxDQUFDOEMsR0FBTCxDQUFTcUosS0FBVCxFQUFnQm5NLElBQUksQ0FBQytELEtBQUwsQ0FBV25FLENBQUMsR0FBRyxDQUFDSCxDQUFDLEdBQUcrRCxDQUFMLElBQVVrQixDQUFWLEdBQWNqRixDQUFsQixHQUFzQnVCLEVBQWpDLENBQWhCLENBQWpCO0VBQ0FpTCxNQUFBQSxXQUFXLENBQUMzRixLQUFELEVBQVExRyxDQUFSLEVBQVd3TSxPQUFYLEVBQW9CQyxRQUFwQixFQUE4Qk4sT0FBOUIsQ0FBWDtFQUNEOztFQUVELFFBQU0vSixDQUFDLEdBQUdzRSxLQUFLLENBQUMxRyxDQUFELENBQWY7RUFDQSxRQUFJMUMsQ0FBQyxHQUFHZ1AsSUFBUjtFQUNBLFFBQUlqTixDQUFDLEdBQUdrTixLQUFSO0VBRUFHLElBQUFBLElBQUksQ0FBQ2hHLEtBQUQsRUFBUTRGLElBQVIsRUFBY3RNLENBQWQsQ0FBSjtFQUNBLFFBQUltTSxPQUFPLENBQUN6RixLQUFLLENBQUM2RixLQUFELENBQU4sRUFBZW5LLENBQWYsQ0FBUCxHQUEyQixDQUEvQixFQUFrQ3NLLElBQUksQ0FBQ2hHLEtBQUQsRUFBUTRGLElBQVIsRUFBY0MsS0FBZCxDQUFKOztFQUVsQyxXQUFPalAsQ0FBQyxHQUFHK0IsQ0FBWCxFQUFjO0VBQ1pxTixNQUFBQSxJQUFJLENBQUNoRyxLQUFELEVBQVFwSixDQUFSLEVBQVcrQixDQUFYLENBQUosRUFBbUIsRUFBRS9CLENBQXJCLEVBQXdCLEVBQUUrQixDQUExQjs7RUFDQSxhQUFPOE0sT0FBTyxDQUFDekYsS0FBSyxDQUFDcEosQ0FBRCxDQUFOLEVBQVc4RSxDQUFYLENBQVAsR0FBdUIsQ0FBOUI7RUFBaUMsVUFBRTlFLENBQUY7RUFBakM7O0VBQ0EsYUFBTzZPLE9BQU8sQ0FBQ3pGLEtBQUssQ0FBQ3JILENBQUQsQ0FBTixFQUFXK0MsQ0FBWCxDQUFQLEdBQXVCLENBQTlCO0VBQWlDLFVBQUUvQyxDQUFGO0VBQWpDO0VBQ0Q7O0VBRUQsUUFBSThNLE9BQU8sQ0FBQ3pGLEtBQUssQ0FBQzRGLElBQUQsQ0FBTixFQUFjbEssQ0FBZCxDQUFQLEtBQTRCLENBQWhDLEVBQW1Dc0ssSUFBSSxDQUFDaEcsS0FBRCxFQUFRNEYsSUFBUixFQUFjak4sQ0FBZCxDQUFKLENBQW5DLEtBQ0ssRUFBRUEsQ0FBRixFQUFLcU4sSUFBSSxDQUFDaEcsS0FBRCxFQUFRckgsQ0FBUixFQUFXa04sS0FBWCxDQUFUO0VBRUwsUUFBSWxOLENBQUMsSUFBSVcsQ0FBVCxFQUFZc00sSUFBSSxHQUFHak4sQ0FBQyxHQUFHLENBQVg7RUFDWixRQUFJVyxDQUFDLElBQUlYLENBQVQsRUFBWWtOLEtBQUssR0FBR2xOLENBQUMsR0FBRyxDQUFaO0VBQ2I7O0VBQ0QsU0FBT3FILEtBQVA7RUFDRDs7RUFFRCxTQUFTZ0csSUFBVCxDQUFjaEcsS0FBZCxFQUFxQnBKLENBQXJCLEVBQXdCK0IsQ0FBeEIsRUFBMkI7RUFDekIsTUFBTStDLENBQUMsR0FBR3NFLEtBQUssQ0FBQ3BKLENBQUQsQ0FBZjtFQUNBb0osRUFBQUEsS0FBSyxDQUFDcEosQ0FBRCxDQUFMLEdBQVdvSixLQUFLLENBQUNySCxDQUFELENBQWhCO0VBQ0FxSCxFQUFBQSxLQUFLLENBQUNySCxDQUFELENBQUwsR0FBVytDLENBQVg7RUFDRDs7RUN4Q2MsU0FBU3VLLFFBQVQsQ0FBa0J6VCxNQUFsQixFQUEwQjBULENBQTFCLEVBQTZCWixPQUE3QixFQUFzQztFQUNuRDlTLEVBQUFBLE1BQU0sR0FBRzJULFlBQVksQ0FBQ0MsSUFBYixDQUFrQmYsT0FBTyxDQUFDN1MsTUFBRCxFQUFTOFMsT0FBVCxDQUF6QixDQUFUO0VBQ0EsTUFBSSxFQUFFbk0sQ0FBQyxHQUFHM0csTUFBTSxDQUFDK0QsTUFBYixDQUFKLEVBQTBCO0VBQzFCLE1BQUksQ0FBQzJQLENBQUMsR0FBRyxDQUFDQSxDQUFOLEtBQVksQ0FBWixJQUFpQi9NLENBQUMsR0FBRyxDQUF6QixFQUE0QixPQUFPcUQsR0FBRyxDQUFDaEssTUFBRCxDQUFWO0VBQzVCLE1BQUkwVCxDQUFDLElBQUksQ0FBVCxFQUFZLE9BQU96SixHQUFHLENBQUNqSyxNQUFELENBQVY7RUFDWixNQUFJMkcsQ0FBSjtFQUFBLE1BQ0l2QyxDQUFDLEdBQUcsQ0FBQ3VDLENBQUMsR0FBRyxDQUFMLElBQVUrTSxDQURsQjtFQUFBLE1BRUlHLEVBQUUsR0FBRzNNLElBQUksQ0FBQytELEtBQUwsQ0FBVzdHLENBQVgsQ0FGVDtFQUFBLE1BR0kwUCxNQUFNLEdBQUc3SixHQUFHLENBQUNrSixXQUFXLENBQUNuVCxNQUFELEVBQVM2VCxFQUFULENBQVgsQ0FBd0JFLFFBQXhCLENBQWlDLENBQWpDLEVBQW9DRixFQUFFLEdBQUcsQ0FBekMsQ0FBRCxDQUhoQjtFQUFBLE1BSUlHLE1BQU0sR0FBR2hLLEdBQUcsQ0FBQ2hLLE1BQU0sQ0FBQytULFFBQVAsQ0FBZ0JGLEVBQUUsR0FBRyxDQUFyQixDQUFELENBSmhCO0VBS0EsU0FBT0MsTUFBTSxHQUFHLENBQUNFLE1BQU0sR0FBR0YsTUFBVixLQUFxQjFQLENBQUMsR0FBR3lQLEVBQXpCLENBQWhCO0VBQ0Q7O0VDZGMsU0FBU0ksTUFBVCxDQUFnQmpVLE1BQWhCLEVBQXdCOFMsT0FBeEIsRUFBaUM7RUFDOUMsU0FBT1csUUFBUSxDQUFDelQsTUFBRCxFQUFTLEdBQVQsRUFBYzhTLE9BQWQsQ0FBZjtFQUNEOztFQ0hEOztFQUVBO0VBQ0E7QUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtBQUNBO0VBQ0E7RUFDQTtFQUNBO0FBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO01BQ3FCb0I7Ozs7Ozs7YUFDbkIsZUFBYWhPLENBQWIsRUFBZ0JjLENBQWhCLEVBQW1CcUYsQ0FBbkIsRUFBc0I7RUFDcEIsVUFBSW5HLENBQUMsSUFBSSxDQUFULEVBQVk7RUFDVix3QkFBT0EsQ0FBUCxFQUFZYyxDQUFaO0VBQ0QsT0FIbUI7OztFQUtwQixhQUFPLENBQUNxRixDQUFELFlBQU8sQ0FBQ25HLENBQVIsRUFBY2MsQ0FBZCxDQUFQO0VBQ0Q7OzthQUVELGVBQWFkLENBQWIsRUFBZ0JtRyxDQUFoQixFQUFtQmpCLENBQW5CLEVBQXNCO0VBQ3BCLFVBQUlsRixDQUFDLElBQUksQ0FBVCxFQUFZO0VBQ1YsZUFBT2dCLElBQUksQ0FBQ1QsR0FBTCxDQUFTMkUsQ0FBVCxJQUFjbEUsSUFBSSxDQUFDVCxHQUFMLENBQVNQLENBQVQsQ0FBckI7RUFDRCxPQUhtQjs7O0VBS3BCLGFBQU8sQ0FBQ2dCLElBQUksQ0FBQ1QsR0FBTCxDQUFTLENBQUMyRSxDQUFWLElBQWVsRSxJQUFJLENBQUNULEdBQUwsQ0FBUzRGLENBQVQsQ0FBaEIsSUFBK0JuRixJQUFJLENBQUNULEdBQUwsQ0FBUyxDQUFDUCxDQUFWLENBQXRDO0VBQ0Q7OzthQUVELGVBQWFBLENBQWIsRUFBZ0JjLENBQWhCLEVBQW1Cb0UsQ0FBbkIsRUFBc0I7RUFDcEIsVUFBSWxGLENBQUMsSUFBSSxDQUFULEVBQVk7RUFDVixlQUFPLENBQVA7RUFDRCxPQUhtQjs7O0VBS3BCLGFBQU8sQ0FBQ2tGLENBQUQsWUFBTyxDQUFDbEYsQ0FBUixFQUFjYyxDQUFkLENBQVA7RUFDRDs7O2FBRUQsY0FBWTBNLENBQVosRUFBZVMsQ0FBZixFQUFrQjtFQUNoQixhQUFPLFNBQUNULENBQUQsRUFBTVMsQ0FBTixhQUFhLFNBQUNULENBQUQsRUFBTVMsQ0FBTixhQUFhLElBQUlULENBQWpCLEVBQXVCUyxDQUF2QixDQUFiLEVBQTRDLElBQUlBLENBQWhELENBQVA7RUFDRDs7Ozs7O0VDaERIOztFQ0RBOztFQVVBN1YsSUFBSSxDQUFDOFYsU0FBTCxHQUFpQixVQUFDQyxLQUFELEVBQVc7RUFDMUIsTUFBTTNGLE1BQU0sR0FBRztFQUNiL0UsSUFBQUEsS0FBSyxFQUFFO0VBQUN4SyxNQUFBQSxJQUFJLEVBQUUsTUFBUDtFQUFlaVAsTUFBQUEsS0FBSyxFQUFFLENBQXRCO0VBQXlCQyxNQUFBQSxLQUFLLEVBQUU7RUFBaEMsS0FETTtFQUViekQsSUFBQUEsTUFBTSxFQUFFO0VBQUN6TCxNQUFBQSxJQUFJLEVBQUUsTUFBUDtFQUFlaVAsTUFBQUEsS0FBSyxFQUFFLENBQXRCO0VBQXlCQyxNQUFBQSxLQUFLLEVBQUU7RUFBaEMsS0FGSztFQUdiM0YsSUFBQUEsS0FBSyxFQUFFO0VBQUN2SixNQUFBQSxJQUFJLEVBQUUsTUFBUDtFQUFlaVAsTUFBQUEsS0FBSyxFQUFFLENBQXRCO0VBQXlCQyxNQUFBQSxLQUFLLEVBQUU7RUFBaEMsS0FITTtFQUliaUcsSUFBQUEsSUFBSSxFQUFFO0VBQUNuVixNQUFBQSxJQUFJLEVBQUUsTUFBUDtFQUFlaVAsTUFBQUEsS0FBSyxFQUFFLENBQXRCO0VBQXlCQyxNQUFBQSxLQUFLLEVBQUU7RUFBaEM7RUFKTyxHQUFmOztFQU9BLE1BQU1rRyxPQUFPLEdBQUcsU0FBVkEsT0FBVSxDQUFDclMsS0FBRCxFQUFRNFAsSUFBUixFQUFpQjtFQUMvQixRQUFJMEMsRUFBRSxHQUFHLENBQVQsQ0FEK0I7O0VBSS9CLFFBQU1DLFNBQVMsR0FBRyxHQUFsQjtFQUNBLFFBQU1DLGVBQWUsR0FBRyxHQUF4QjtFQUNBRixJQUFBQSxFQUFFLElBQUlHLDBCQUFBLENBQ0p6UyxLQUFLLENBQUN5SCxLQURGLEVBRUo4SyxTQUFTLEdBQUdDLGVBRlIsRUFHSixDQUFDLElBQUlELFNBQUwsSUFBa0JDLGVBSGQsQ0FBTixDQU4rQjs7RUFhL0IsUUFBTUUsVUFBVSxHQUFHLENBQW5CO0VBQ0EsUUFBTUMsV0FBVyxHQUFHLENBQXBCO0VBQ0FMLElBQUFBLEVBQUUsSUFBSUcsMkJBQUEsQ0FDSnpTLEtBQUssQ0FBQzBJLE1BREYsRUFFSmlLLFdBRkksRUFHSkEsV0FBVyxHQUFHRCxVQUhWLENBQU4sQ0FmK0I7O0VBc0IvQixRQUFNRSxTQUFTLEdBQUcsR0FBbEI7RUFDQSxRQUFNQyxlQUFlLEdBQUcsR0FBeEI7RUFDQVAsSUFBQUEsRUFBRSxJQUFJRywwQkFBQSxDQUNKelMsS0FBSyxDQUFDd0csS0FERixFQUVKb00sU0FBUyxHQUFHQyxlQUZSLEVBR0osQ0FBQyxJQUFJRCxTQUFMLElBQWtCQyxlQUhkLENBQU4sQ0F4QitCOztFQStCL0IsUUFBTUMsUUFBUSxHQUFHLENBQWpCO0VBQ0EsUUFBTUMsU0FBUyxHQUFHLENBQWxCO0VBQ0FULElBQUFBLEVBQUUsSUFBSUcsMkJBQUEsQ0FDSnpTLEtBQUssQ0FBQ29TLElBREYsRUFFSlcsU0FGSSxFQUdKQSxTQUFTLEdBQUdELFFBSFIsQ0FBTixDQWpDK0I7RUF3Qy9COztFQUNBbEQsSUFBQUEsSUFBSSxDQUFDMVIsT0FBTCxDQUFhLFVBQUM4VSxNQUFELEVBQVk7RUFDdkI7RUFDQSxVQUFNQyxFQUFFLEdBQUdqQixPQUFPLENBQUNrQixLQUFSLENBQWNGLE1BQU0sQ0FBQ0csRUFBckIsRUFBeUJuVCxLQUFLLENBQUN5SCxLQUEvQixFQUFzQ3pILEtBQUssQ0FBQzBJLE1BQTVDLENBQVg7RUFDQSxVQUFNMEssRUFBRSxHQUFHcEIsT0FBTyxDQUFDa0IsS0FBUixDQUFjRixNQUFNLENBQUNLLEVBQXJCLEVBQXlCclQsS0FBSyxDQUFDeUgsS0FBL0IsRUFBc0N6SCxLQUFLLENBQUMwSSxNQUE1QyxDQUFYO0VBQ0EsVUFBTTRLLEVBQUUsR0FBR3RCLE9BQU8sQ0FBQ2tCLEtBQVIsQ0FBY0YsTUFBTSxDQUFDTyxFQUFyQixFQUF5QnZULEtBQUssQ0FBQ3lILEtBQS9CLEVBQXNDekgsS0FBSyxDQUFDMEksTUFBNUMsQ0FBWCxDQUp1Qjs7RUFPdkIsVUFBTThLLEVBQUUsR0FBR3hCLE9BQU8sQ0FBQ3lCLElBQVIsQ0FBYVQsTUFBTSxDQUFDVSxFQUFwQixFQUF3QjFULEtBQUssQ0FBQ3dHLEtBQTlCLENBQVg7RUFDQSxVQUFNbU4sRUFBRSxHQUFHLElBQUlILEVBQWYsQ0FSdUI7O0VBV3ZCLFVBQU1JLEVBQUUsR0FBR0QsRUFBRSxHQUFHVixFQUFMLEdBQVVPLEVBQUUsR0FBR0osRUFBMUI7RUFDQSxVQUFNUyxFQUFFLEdBQUdQLEVBQVgsQ0FadUI7RUFldkI7O0VBQ0EsVUFBTVEsTUFBTSxHQUFHLEtBQUssSUFBSTlPLElBQUksQ0FBQ0MsR0FBTCxDQUFTakYsS0FBSyxDQUFDb1MsSUFBTixJQUFjeUIsRUFBRSxHQUFHRCxFQUFuQixDQUFULENBQVQsQ0FBZixDQWhCdUI7O0VBbUJ2QixVQUFNRyxRQUFRLEdBQUlmLE1BQU0sQ0FBQ2UsUUFBUCxLQUFvQixNQUFyQixHQUErQixDQUEvQixHQUFtQyxDQUFwRDtFQUVBekIsTUFBQUEsRUFBRSxJQUFJRywwQkFBQSxDQUF3QnNCLFFBQXhCLEVBQWtDRCxNQUFsQyxDQUFOO0VBQ0QsS0F0QkQ7RUF3QkEsV0FBT3hCLEVBQVA7RUFDRCxHQWxFRCxDQVIwQjs7O0VBNkUxQixNQUFNMEIsT0FBTyxHQUFHLElBQUlDLHdCQUFKLENBQTBCekgsTUFBMUIsRUFBa0M2RixPQUFsQyxFQUEyQ0YsS0FBSyxDQUFDdkMsSUFBakQsQ0FBaEIsQ0E3RTBCOztFQStFMUJvRSxFQUFBQSxPQUFPLENBQUN4RCxJQUFSLENBQWEsSUFBYjtFQUNBLE1BQU0wRCxPQUFPLEdBQUdGLE9BQU8sQ0FBQzVELE1BQVIsQ0FBZSxJQUFmLENBQWhCLENBaEYwQjs7RUFtRjFCLE1BQU0rRCxPQUFPLEdBQUc7RUFDZDFNLElBQUFBLEtBQUssRUFBRTJNLE1BQUEsQ0FBVUYsT0FBTyxDQUFDek0sS0FBbEIsQ0FETztFQUVkaUIsSUFBQUEsTUFBTSxFQUFFMEwsTUFBQSxDQUFVRixPQUFPLENBQUN4TCxNQUFsQixDQUZNO0VBR2RsQyxJQUFBQSxLQUFLLEVBQUU0TixNQUFBLENBQVVGLE9BQU8sQ0FBQzFOLEtBQWxCLENBSE87RUFJZDRMLElBQUFBLElBQUksRUFBRWdDLE1BQUEsQ0FBVUYsT0FBTyxDQUFDOUIsSUFBbEI7RUFKUSxHQUFoQjtFQU9BaFcsRUFBQUEsSUFBSSxDQUFDaVksV0FBTCxDQUFpQjtFQUFDRixJQUFBQSxPQUFPLEVBQUVBLE9BQVY7RUFBbUJELElBQUFBLE9BQU8sRUFBRUE7RUFBNUIsR0FBakI7RUFDRCxDQTNGRDs7Ozs7OyJ9",o_t=!1,function(t){return s_t=s_t||r_t(i_t,a_t,o_t),new Worker(s_t,t)}),h_t=_q(l_t||(l_t=A(['\n  /* inject:css */\n  .js-plotly-plot .plotly, .js-plotly-plot .plotly div {\n  direction: ltr;\n  font-family: "Open Sans", verdana, arial, sans-serif;\n  margin: 0;\n  padding: 0;\n}\n.js-plotly-plot .plotly input, .js-plotly-plot .plotly button {\n  font-family: "Open Sans", verdana, arial, sans-serif;\n}\n.js-plotly-plot .plotly input:focus, .js-plotly-plot .plotly button:focus {\n  outline: none;\n}\n.js-plotly-plot .plotly a {\n  text-decoration: none;\n}\n.js-plotly-plot .plotly a:hover {\n  text-decoration: none;\n}\n.js-plotly-plot .plotly .crisp {\n  shape-rendering: crispEdges;\n}\n.js-plotly-plot .plotly .user-select-none {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\n.js-plotly-plot .plotly svg {\n  overflow: hidden;\n}\n.js-plotly-plot .plotly svg a {\n  fill: #447adb;\n}\n.js-plotly-plot .plotly svg a:hover {\n  fill: #3c6dc5;\n}\n.js-plotly-plot .plotly .main-svg {\n  position: absolute;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n}\n.js-plotly-plot .plotly .main-svg .draglayer {\n  pointer-events: all;\n}\n.js-plotly-plot .plotly .cursor-default {\n  cursor: default;\n}\n.js-plotly-plot .plotly .cursor-pointer {\n  cursor: pointer;\n}\n.js-plotly-plot .plotly .cursor-crosshair {\n  cursor: crosshair;\n}\n.js-plotly-plot .plotly .cursor-move {\n  cursor: move;\n}\n.js-plotly-plot .plotly .cursor-col-resize {\n  cursor: col-resize;\n}\n.js-plotly-plot .plotly .cursor-row-resize {\n  cursor: row-resize;\n}\n.js-plotly-plot .plotly .cursor-ns-resize {\n  cursor: ns-resize;\n}\n.js-plotly-plot .plotly .cursor-ew-resize {\n  cursor: ew-resize;\n}\n.js-plotly-plot .plotly .cursor-sw-resize {\n  cursor: sw-resize;\n}\n.js-plotly-plot .plotly .cursor-s-resize {\n  cursor: s-resize;\n}\n.js-plotly-plot .plotly .cursor-se-resize {\n  cursor: se-resize;\n}\n.js-plotly-plot .plotly .cursor-w-resize {\n  cursor: w-resize;\n}\n.js-plotly-plot .plotly .cursor-e-resize {\n  cursor: e-resize;\n}\n.js-plotly-plot .plotly .cursor-nw-resize {\n  cursor: nw-resize;\n}\n.js-plotly-plot .plotly .cursor-n-resize {\n  cursor: n-resize;\n}\n.js-plotly-plot .plotly .cursor-ne-resize {\n  cursor: ne-resize;\n}\n.js-plotly-plot .plotly .cursor-grab {\n  cursor: -webkit-grab;\n  cursor: grab;\n}\n.js-plotly-plot .plotly .modebar {\n  position: absolute;\n  top: 2px;\n  right: 2px;\n}\n.js-plotly-plot .plotly .ease-bg {\n  -webkit-transition: background-color 0.3s ease 0s;\n  -moz-transition: background-color 0.3s ease 0s;\n  -ms-transition: background-color 0.3s ease 0s;\n  -o-transition: background-color 0.3s ease 0s;\n  transition: background-color 0.3s ease 0s;\n}\n.js-plotly-plot .plotly .modebar--hover > :not(.watermark) {\n  opacity: 0;\n  -webkit-transition: opacity 0.3s ease 0s;\n  -moz-transition: opacity 0.3s ease 0s;\n  -ms-transition: opacity 0.3s ease 0s;\n  -o-transition: opacity 0.3s ease 0s;\n  transition: opacity 0.3s ease 0s;\n}\n.js-plotly-plot .plotly:hover .modebar--hover .modebar-group {\n  opacity: 1;\n}\n.js-plotly-plot .plotly .modebar-group {\n  float: left;\n  display: inline-block;\n  box-sizing: border-box;\n  padding-left: 8px;\n  position: relative;\n  vertical-align: middle;\n  white-space: nowrap;\n}\n.js-plotly-plot .plotly .modebar-btn {\n  position: relative;\n  font-size: 16px;\n  padding: 3px 4px;\n  height: 22px;\n  /* display: inline-block; including this breaks 3d interaction in .embed mode. Chrome bug? */\n  cursor: pointer;\n  line-height: normal;\n  box-sizing: border-box;\n}\n.js-plotly-plot .plotly .modebar-btn svg {\n  position: relative;\n  top: 2px;\n}\n.js-plotly-plot .plotly .modebar.vertical {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  align-content: flex-end;\n  max-height: 100%;\n}\n.js-plotly-plot .plotly .modebar.vertical svg {\n  top: -1px;\n}\n.js-plotly-plot .plotly .modebar.vertical .modebar-group {\n  display: block;\n  float: none;\n  padding-left: 0px;\n  padding-bottom: 8px;\n}\n.js-plotly-plot .plotly .modebar.vertical .modebar-group .modebar-btn {\n  display: block;\n  text-align: center;\n}\n.js-plotly-plot .plotly [data-title] {\n  /**\n   * tooltip body\n   */\n}\n.js-plotly-plot .plotly [data-title]:before, .js-plotly-plot .plotly [data-title]:after {\n  position: absolute;\n  -webkit-transform: translate3d(0, 0, 0);\n  -moz-transform: translate3d(0, 0, 0);\n  -ms-transform: translate3d(0, 0, 0);\n  -o-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  display: none;\n  opacity: 0;\n  z-index: 1001;\n  pointer-events: none;\n  top: 110%;\n  right: 50%;\n}\n.js-plotly-plot .plotly [data-title]:hover:before, .js-plotly-plot .plotly [data-title]:hover:after {\n  display: block;\n  opacity: 1;\n}\n.js-plotly-plot .plotly [data-title]:before {\n  content: "";\n  position: absolute;\n  background: transparent;\n  border: 6px solid transparent;\n  z-index: 1002;\n  margin-top: -12px;\n  border-bottom-color: #69738a;\n  margin-right: -6px;\n}\n.js-plotly-plot .plotly [data-title]:after {\n  content: attr(data-title);\n  background: #69738a;\n  color: white;\n  padding: 8px 10px;\n  font-size: 12px;\n  line-height: 12px;\n  white-space: nowrap;\n  margin-right: -18px;\n  border-radius: 2px;\n}\n.js-plotly-plot .plotly .vertical [data-title]:before, .js-plotly-plot .plotly .vertical [data-title]:after {\n  top: 0%;\n  right: 200%;\n}\n.js-plotly-plot .plotly .vertical [data-title]:before {\n  border: 6px solid transparent;\n  border-left-color: #69738a;\n  margin-top: 8px;\n  margin-right: -30px;\n}\n.js-plotly-plot .plotly .select-outline {\n  fill: none;\n  stroke-width: 1;\n  shape-rendering: crispEdges;\n}\n.js-plotly-plot .plotly .select-outline-1 {\n  stroke: white;\n}\n.js-plotly-plot .plotly .select-outline-2 {\n  stroke: black;\n  stroke-dasharray: 2px 2px;\n}\n\n.plotly-notifier {\n  font-family: "Open Sans", verdana, arial, sans-serif;\n  position: fixed;\n  top: 50px;\n  right: 20px;\n  z-index: 10000;\n  font-size: 10pt;\n  max-width: 180px;\n}\n.plotly-notifier p {\n  margin: 0;\n}\n.plotly-notifier .notifier-note {\n  min-width: 180px;\n  max-width: 250px;\n  border: 1px solid #fff;\n  z-index: 3000;\n  margin: 0;\n  background-color: #8c97af;\n  background-color: rgba(140, 151, 175, 0.9);\n  color: #fff;\n  padding: 10px;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  -ms-hyphens: auto;\n  -webkit-hyphens: auto;\n  hyphens: auto;\n}\n.plotly-notifier .notifier-close {\n  color: #fff;\n  opacity: 0.8;\n  float: right;\n  padding: 0 5px;\n  background: none;\n  border: none;\n  font-size: 20px;\n  font-weight: bold;\n  line-height: 20px;\n}\n.plotly-notifier .notifier-close:hover {\n  color: #444;\n  text-decoration: none;\n  cursor: pointer;\n}\n  /* endinject */\n'])));JGt.register([n_t]);var g_t,f_t,p_t=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).a=1,t.l=1,t.g=1,t.choices=[],t.samples=null,t.working=!1,t.queued=!1,t.worker=new d_t,t.worker.onmessage=function(e){t.working=!1,t.samples=e.data.samples,t.a=e.data.results.alpha,t.l=e.data.results.lambda,t.g=e.data.results.gamma,t.requestUpdate(),t.dispatchEvent(new CustomEvent("cpt-fit-update",{detail:{a:t.a,l:t.l,g:t.g},bubbles:!0})),t.queued&&t.fit()},t.fit(),t}return d(n,[{key:"fit",value:function(){this.working?this.queued=!0:(this.worker.postMessage(this.choices),this.working=!0,this.queued=!1)}},{key:"clear",value:function(){this.choices=[],this.fit()}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",e=this.choices.find((function(e){return e.name===t}));return void 0===e?null:e}},{key:"set",value:function(t,e,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",s=this.choices.find((function(t){return t.name===a}));void 0===s?this.choices.push({xl:t,xw:e,pw:n,xs:r,response:i,name:a,label:o}):(s.xl=t,s.xw=e,s.pw=n,s.xs=r,s.response=i,s.label=o),this.fit()}},{key:"render",value:function(){return o$(c_t||(c_t=A(["\n      <div>\n        <div>After ",' trials:</div>\n        <div>Current:\n          <var class="math-var a">α</var> = ',',\n          <var class="math-var l">λ</var> = ',',\n          <var class="math-var g">γ</var> = ','\n        </div>\n        <div class="param">\n          <div class="trace alpha"></div>\n          <div class="hist alpha"></div>\n        </div>\n        <div class="param">\n          <div class="trace lambda"></div>\n          <div class="hist lambda"></div>\n        </div>\n        <div class="param">\n          <div class="trace gamma"></div>\n          <div class="hist gamma"></div>\n        </div>\n        <div class="param">\n          <div class="trace luce"></div>\n          <div class="hist luce"></div>\n        </div>\n      </div>\n    '])),this.choices.length,this.a.toFixed(2),this.l.toFixed(2),this.g.toFixed(2))}},{key:"plotParam",value:function(t){var e={l:40,r:10,b:40,t:40,pad:4};JGt.react(this.shadowRoot.querySelector(".trace.".concat(t)),[{y:this.samples[t]}],{margin:e,title:"Traceplot of ".concat(t)}),JGt.react(this.shadowRoot.querySelector(".hist.".concat(t)),[{x:this.samples[t],type:"histogram"}],{margin:e,title:"Posterior of ".concat(t)})}},{key:"update",value:function(t){B(f(n.prototype),"update",this).call(this,t),null!==this.samples&&(this.plotParam("alpha"),this.plotParam("lambda"),this.plotParam("gamma"),this.plotParam("luce"))}}],[{key:"properties",get:function(){return{}}},{key:"styles",get:function(){return[B(f(n),"styles",this),h_t,_q(u_t||(u_t=A(["\n        /* :host {\n          display: inline-block;\n        } */\n\n        .trace,\n        .hist {\n          display: inline-block;\n\n          width: 20rem;\n          height: 15rem;\n        }\n      "])))]}}]),n}(y9);customElements.define("cpt-fit",p_t);var v_t=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).firstUpdate=!0,t.drag=!1,t.g=.5,t.p=null,t.label="",t.function="default",t.functions=[{name:"default",g:t.g}],t.probabilities=[{name:"default",p:t.p,label:t.label,function:t.function}],t.xl=null,t.xw=null,t.pw=null,t.xs=null,t.trialCount=null,t.response=null,t.width=NaN,t.height=NaN,t.rem=NaN,t.alignState(),t}return d(n,[{key:"alignState",value:function(){var t=this;this.functions[0].g=this.g,this.probabilities[0].p=this.p,this.probabilities[0].label=this.label,this.probabilities[0].function=this.function,this.probabilities.forEach((function(e){var n=t.functions.find((function(t){return t.name===e.function}));e.w=I4.pg2w(e.p,n.g)})),this.w=this.probabilities[0].w}},{key:"trial",value:function(t,e,n,r,i,a){this.trialCount&&this.removeProbability("".concat(this.trialCount)),this.xl=t,this.xw=e,this.pw=n,this.xs=r,this.trialCount=i,this.response=a,this.setProbability(this.pw,"".concat(this.trialCount),"","default",!0)}},{key:"pauseTrial",value:function(){var t=p1(this.renderRoot).selectAll(".lines[data-animating-ease-time-1]");t.interrupt("new-1"),t.interrupt("new-2"),t.datum((function(t){return t.paused=!0,t}))}},{key:"resumeTrial",value:function(){p1(this.renderRoot).selectAll(".lines[data-animating-ease-time-1]").datum((function(t){return t.paused=!1,t})),this.requestUpdate()}},{key:"clearFunctions",value:function(){this.functions.splice(1),this.requestUpdate()}},{key:"clearProbabilities",value:function(){this.probabilities.splice(1),this.requestUpdate()}},{key:"clear",value:function(){this.clearFunctions(),this.clearProbabilities()}},{key:"removeFunction",value:function(t){this.functions=this.functions.filter((function(e){return e.name!==t})),this.requestUpdate()}},{key:"removeProbability",value:function(t){this.probabilities=this.probabilities.filter((function(e){return e.name!==t})),this.requestUpdate()}},{key:"remove",value:function(t){this.removeFunction(t),this.removeProbability(t)}},{key:"getFunction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.functions.find((function(e){return e.name===t}))}},{key:"getProbability",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.probabilities.find((function(e){return e.name===t}))}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return a(a({},this.getFunction(t)),this.getProbability(t))}},{key:"setFunction",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";"default"===e&&(this.g=t);var n=this.functions.find((function(t){return t.name===e}));void 0===n?this.functions.push({name:e,g:t}):n.g=t,this.requestUpdate()}},{key:"setProbability",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];"default"===e&&(this.p=t,this.label=n);var a=this.probabilities.find((function(t){return t.name===e}));void 0===a?this.probabilities.push({name:e,p:t,label:n,function:r,trial:i,new:i}):(a.p=t,a.label=n,a.function=r),this.requestUpdate()}},{key:"set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n;this.setFunction(e,n),this.setProbability(t,n,r,i)}},{key:"render",value:function(){return o$(g_t||(g_t=A(["\n      ","\n    "])),y9.svgFilters)}},{key:"getDimensions",value:function(){this.width=parseFloat(this.getComputedStyleValue("width"),10),this.height=parseFloat(this.getComputedStyleValue("height"),10),this.rem=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("font-size"),10)}},{key:"connectedCallback",value:function(){B(f(n.prototype),"connectedCallback",this).call(this),window.addEventListener("resize",this.getDimensions.bind(this))}},{key:"disconnectedCallback",value:function(){window.removeEventListener("resize",this.getDimensions.bind(this)),B(f(n.prototype),"disconnectedCallback",this).call(this)}},{key:"firstUpdated",value:function(t){B(f(n.prototype),"firstUpdated",this).call(this,t),window.setTimeout(this.getDimensions.bind(this),0)}},{key:"update",value:function(t){var e=this;if(B(f(n.prototype),"update",this).call(this,t),this.alignState(),!(Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))){var r=this.width,i=this.height,a=Math.min(r,i),o={top:2*this.rem,bottom:3*this.rem,left:3*this.rem,right:2*this.rem},s=a-(o.top+o.bottom),l=a-(o.left+o.right),c=parseInt(this.getComputedStyleValue("---transition-duration"),10),u=c5().domain([0,1]).range([0,l]);this.xScale=u;var d=c5().domain([1,0]).range([0,s]);this.yScale=d;var h=w1().subject((function(t,n){return{x:t.x,y:e.yScale(I4.pg2w(e.xScale.invert(t.x),n.g)),p:e.xScale.invert(t.x),g:n.g,w:I4.pg2w(e.xScale.invert(t.x),n.g)}})).on("start",(function(t){p1(t.currentTarget).classed("dragging",!0)})).on("drag",(function(t,n){e.drag=!0;var r=e.xScale.invert(t.x),i=e.yScale.invert(t.y),a=r-t.subject.p,o=i-t.subject.w,s=Math.pow(Math.pow(a,2)+Math.pow(o,2),.5),l=t.subject.p>t.subject.w?a>o?t.subject.g-s:t.subject.g+s:a>o?t.subject.g+s:t.subject.g-s;n.g=l>1?1:l<0?0:l,"default"===n.name&&(e.g=n.g),e.alignState(),e.requestUpdate(),e.dispatchEvent(new CustomEvent("cpt-probability-change",{detail:e.get(n.name),bubbles:!0}))})).on("end",(function(t){p1(t.currentTarget).classed("dragging",!1)})),g=w1().subject((function(t,n){return{x:e.xScale(n.p),y:e.yScale(n.w)}})).on("start",(function(t){p1(t.currentTarget).classed("dragging",!0)})).on("drag",(function(t,n){e.drag=!0;var r=e.xScale.invert(t.x);n.p=r<0?0:r>1?1:r,"default"===n.name&&(e.p=n.p),e.alignState(),e.requestUpdate(),e.dispatchEvent(new CustomEvent("cpt-probability-change",{detail:{name:n.name,p:n.p,w:n.w,label:n.label,g:e.getFunction(n.function).g},bubbles:!0}))})).on("end",(function(t){p1(t.currentTarget).classed("dragging",!1)})),p=z5().x((function(t){return u(t.p)})).y((function(t){return d(t.w)})),v=p1(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}]),m=v.enter().append("svg").classed("main",!0),y=m.merge(v).attr("viewBox","0 0 ".concat(a," ").concat(a)),b=m.append("g").classed("plot",!0),I=y.select(".plot").attr("transform","translate(".concat(o.left,", ").concat(o.top,")"));b.append("clipPath").attr("id","clip-cpt-value").append("rect"),I.select("clipPath rect").attr("height",s+1).attr("width",l+1);var C=b.append("g").classed("underlayer",!0),x=I.select(".underlayer");C.append("rect").classed("background",!0),x.select(".background").attr("height",s).attr("width",l),C.append("g").classed("scale-x",!0),x.select(".scale-x").attr("transform","translate(0, ".concat(s,")")).transition().duration(2*c).ease(w3).call(Y$(u)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null);var A=C.append("text").classed("title-x",!0).attr("text-anchor","middle");A.append("tspan").classed("name",!0).text("Probability ("),A.append("tspan").classed("math-var p",!0).text("p"),A.append("tspan").classed("name",!0).text(")"),x.select(".title-x").attr("transform","translate(".concat(l/2,", ").concat(s+2.25*this.rem,")")),C.append("g").classed("scale-y",!0),x.select(".scale-y").transition().duration(2*c).ease(w3).call(O$(d)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null);var F=C.append("text").classed("title-y",!0).attr("text-anchor","middle");F.append("tspan").classed("name",!0).text("Decision Weight ("),F.append("tspan").classed("math-var v",!0).text("w"),F.append("tspan").classed("name",!0).text(")"),x.select(".title-y").attr("transform","translate(".concat(-2*this.rem,", ").concat(s/2,")rotate(-90)")),C.append("line").classed("diagonal",!0),x.select(".diagonal").transition().duration(2*c).attr("x1",u(0)).attr("y1",d(0)).attr("x2",u(1)).attr("y2",d(1)),b.append("g").classed("content",!0);var Q=I.select(".content"),w=Q.selectAll(".lines").data(this.probabilities.filter((function(t){return t.p})),(function(t){return t.name})),U=w.enter().append("g").classed("lines",!0);U.each((function(t,e,n){var r=p1(n[e]);r.append("line").classed("line-p above",!0),r.append("line").classed("line-p below",!0),r.append("line").classed("line-w before",!0),r.append("line").classed("line-w after",!0)})),U.filter((function(t){return t.new})).attr("data-animating-ease-time-1",0).attr("data-animating-ease-time-2",0).each((function(t,e,n){var r=p1(n[e]);r.select(".line-p.above").attr("x1",u(t.p)).attr("x2",u(t.p)).attr("y1",d(1)).attr("y2",d(1)),r.select(".line-p.below").attr("x1",u(t.p)).attr("x2",u(t.p)).attr("y1",d(0)).attr("y2",d(0)),r.select(".line-w.before").attr("x1",u(t.p)).attr("x2",u(t.p)).attr("y1",d(t.w)).attr("y2",d(t.w)),r.select(".line-w.after").attr("x1",u(t.p)).attr("x2",u(t.p)).attr("y1",d(t.w)).attr("y2",d(t.w))}));var G=U.merge(w),R=G.filter((function(t){return t.new&&!t.paused}));if(!R.empty()){var S=R.attr("data-animating-ease-time-1"),L=R.attr("data-animating-ease-time-2"),_=function(t){return c5().range([0,1]).domain([S,1])(t)},E=function(t){return c5().range([0,1]).domain([L,1])(t)},k=function(t){return function(e){return c5().domain([t(S),1]).range([0,1])(t(e))}},V=function(t){return function(e){return c5().domain([t(L),1]).range([0,1])(t(e))}};R.transition("new-1").duration((function(){return Math.floor(c*(1-S))})).ease((function(t){return c5().domain([0,1]).range([S,1])(t)})).attr("data-animating-ease-time-1",1).tween("animating",(function(t,n,r){var i=r[n],a=p1(i),o=m2(void 0!==i.p?i.p:t.p,t.p),s=m2(void 0!==i.g?i.g:e.getFunction(t.function).g,e.getFunction(t.function).g),l=m2(d.invert(a.select(".line-p.above").attr("y1")),t.w),c=m2(d.invert(a.select(".line-p.below").attr("y1")),t.w);return function(t){i.p=o(w3(_(t))),i.g=s(w3(_(t))),i.w=I4.pg2w(i.p,i.g),a.select(".line-p.above").attr("x1",u(i.p)).attr("x2",u(i.p)).attr("y1",d(l(k(Q3)(t)))).attr("y2",d(1)),a.select(".line-p.below").attr("x1",u(i.p)).attr("x2",u(i.p)).attr("y1",d(c(k(Q3)(t)))).attr("y2",d(0))}})).transition("new-2").duration((function(){return Math.floor(c*(1-L))})).ease((function(t){return c5().domain([0,1]).range([L,1])(t)})).attr("data-animating-ease-time-2",1).tween("animating",(function(t,n,r){var i=r[n],a=p1(i),o=m2(void 0!==i.p?i.p:t.p,t.p),s=m2(void 0!==i.g?i.g:e.getFunction(t.function).g,e.getFunction(t.function).g),l=m2(u.invert(a.select(".line-w.before").attr("x1")),0),c=m2(u.invert(a.select(".line-w.after").attr("x1")),1);return function(t){i.p=o(w3(E(t))),i.g=s(w3(E(t))),i.w=I4.pg2w(i.p,i.g),a.select(".line-w.before").attr("x1",u(l(V(w3)(t)))).attr("x2",u(i.p)).attr("y1",d(i.w)).attr("y2",d(i.w)),a.select(".line-w.after").attr("x1",u(c(V(w3)(t)))).attr("x2",u(i.p)).attr("y1",d(i.w)).attr("y2",d(i.w))}})).on("end",(function(t,n,r){var i=r[n];i.removeAttribute("data-animating-ease-time-1"),i.removeAttribute("data-animating-ease-time-2"),t.new=!1,e.dispatchEvent(new CustomEvent("decision-response",{detail:{trial:e.trialCount,xl:e.xl,xw:e.xw,pw:e.pw,xs:e.xs,response:e.response},bubbles:!0}))}))}var Z=G.filter((function(t){return t.new&&t.paused}));if(!Z.empty()){var N=Z.attr("data-animating-ease-time-1"),T=Z.attr("data-animating-ease-time-2");Z.transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(w3).tween("paused",(function(t,n,r){var i=r[n],a=p1(i),o=m2(void 0!==i.p?i.p:t.p,t.p),s=m2(void 0!==i.g?i.g:e.getFunction(t.function).g,e.getFunction(t.function).g),l=m2(1,t.w),c=m2(0,t.w),h=m2(t.p,0),g=m2(t.p,1);return function(t){i.p=o(t),i.g=s(t),i.w=I4.pg2w(i.p,i.g),a.select(".line-p.above").attr("x1",u(i.p)).attr("x2",u(i.p)).attr("y1",d(l(Q3(N)))).attr("y2",d(1)),a.select(".line-p.below").attr("x1",u(i.p)).attr("x2",u(i.p)).attr("y1",d(c(Q3(N)))).attr("y2",d(0)),a.select(".line-w.before").attr("x1",u(h(w3(T)))).attr("x2",u(i.p)).attr("y1",d(i.w)).attr("y2",d(i.w)),a.select(".line-w.after").attr("x1",u(g(w3(T)))).attr("x2",u(i.p)).attr("y1",d(i.w)).attr("y2",d(i.w))}}))}G.filter((function(t){return!t.new})).transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(w3).tween("non-animating",(function(t,n,r){var i=r[n],a=p1(i),o=m2(void 0!==i.p?i.p:t.p,t.p),s=m2(void 0!==i.g?i.g:e.getFunction(t.function).g,e.getFunction(t.function).g);return function(t){i.p=o(t),i.g=s(t),i.w=I4.pg2w(i.p,i.g),a.select(".line-p.above").attr("x1",u(i.p)).attr("x2",u(i.p)).attr("y1",d(i.w)).attr("y2",d(1)),a.select(".line-p.below").attr("x1",u(i.p)).attr("x2",u(i.p)).attr("y1",d(i.w)).attr("y2",d(0)),a.select(".line-w.before").attr("x1",u(0)).attr("x2",u(i.p)).attr("y1",d(i.w)).attr("y2",d(i.w)),a.select(".line-w.after").attr("x1",u(1)).attr("x2",u(i.p)).attr("y1",d(i.w)).attr("y2",d(i.w))}})),w.exit().remove();var X=Q.selectAll(".curve").data(this.functions,(function(t){return t.name})),W=X.enter().append("path").classed("curve",!0).attr("clip-path","url(#clip-cpt-value)").merge(X);(this.firstUpdate||t.has("interactive"))&&(this.interactive?W.attr("tabindex",0).classed("interactive",!0).call(h).on("keydown",(function(t,n){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){var r=n.g;switch(t.key){case"ArrowUp":case"ArrowLeft":r+=t.shiftKey?.01:.05;break;case"ArrowDown":case"ArrowRight":r-=t.shiftKey?.01:.05}(r=r<0?0:r>1?1:r)!==n.g&&(n.g=r,"default"===n.name&&(e.g=n.g),e.alignState(),e.requestUpdate(),e.dispatchEvent(new CustomEvent("cpt-probability-change",{detail:e.get(n.name),bubbles:!0}))),t.preventDefault()}})):W.attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null)),W.transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(w3).attrTween("d",(function(t,e,n){var r=n[e],i=m2(void 0!==r.g?r.g:t.g,t.g);return function(t){r.g=i(t);var e=V$(u.range()[0],u.range()[1]+1,1).map((function(t){return{p:u.invert(t),w:I4.pg2w(u.invert(t),r.g)}}));return p(e)}})),X.exit().remove();var M=Q.selectAll(".point").data(this.probabilities.filter((function(t){return t.p})),(function(t){return t.name})),H=M.enter().append("g").classed("point",!0);H.append("circle").classed("circle",!0).attr("r",6),H.append("text").classed("label",!0);var D=H.merge(M);D.select("text").text((function(t){return t.label})),D.filter((function(t){return e.interactive&&!t.trial})).attr("tabindex",0).classed("interactive",!0).call(g).on("keydown",(function(t,n){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){var r=n.p;switch(t.key){case"ArrowUp":case"ArrowRight":r+=t.shiftKey?.01:.05;break;case"ArrowDown":case"ArrowLeft":r-=t.shiftKey?.01:.05}(r=r<0?0:r>1?1:r)!==n.p&&(n.p=r,"default"===n.name&&(e.p=n.p),e.alignState(),e.requestUpdate(),e.dispatchEvent(new CustomEvent("cpt-probability-change",{detail:{name:n.name,p:n.p,w:n.w,label:n.label,g:e.getFunction(n.function).g},bubbles:!0}))),t.preventDefault()}})),D.filter((function(t){return!e.interactive||t.trial})).attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null),D.transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(w3).attrTween("transform",(function(t,n,r){var i=r[n],a=m2(void 0!==i.p?i.p:t.p,t.p),o=m2(void 0!==i.g?i.g:e.getFunction(t.function).g,e.getFunction(t.function).g);return function(t){return i.p=a(t),i.g=o(t),"translate(\n            ".concat(u(i.p),",\n            ").concat(d(I4.pg2w(i.p,i.g)),"\n          )")}})),M.exit().remove(),this.drag=!1,this.firstUpdate=!1}}}],[{key:"properties",get:function(){return{p:{attribute:"probability",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},label:{attribute:"label",type:String,reflect:!0},w:{attribute:!1,type:Number,reflect:!1},width:{attribute:!1,type:Number,reflect:!1},height:{attribute:!1,type:Number,reflect:!1},rem:{attribute:!1,type:Number,reflect:!1}}}},{key:"styles",get:function(){return[B(f(n),"styles",this),_q(f_t||(f_t=A(['\n        :host {\n          display: inline-block;\n\n          width: 20rem;\n          height: 20rem;\n        }\n\n        .main {\n          width: 100%;\n          height: 100%;\n        }\n\n        text {\n          /* stylelint-disable property-no-vendor-prefix */\n          -webkit-user-select: none;\n          -moz-user-select: none;\n          -ms-user-select: none;\n          user-select: none;\n        }\n\n        .curve.interactive {\n          cursor: nwse-resize;\n\n          filter: url("#shadow-2");\n          outline: none;\n        }\n\n        .curve.interactive:hover {\n          filter: url("#shadow-4");\n        }\n\n        .curve.interactive:active {\n          filter: url("#shadow-8");\n        }\n\n        :host(.keyboard) .curve.interactive:focus {\n          filter: url("#shadow-8");\n        }\n\n        .point.interactive {\n          cursor: nesw-resize;\n\n          filter: url("#shadow-2");\n          outline: none;\n\n          /* HACK: This gets Safari to correctly apply the filter! */\n          /* https://github.com/emilbjorklund/svg-weirdness/issues/27 */\n          stroke: #000000;\n          stroke-opacity: 0;\n          stroke-width: 0;\n        }\n\n        /* Make a larger target for touch users */\n        @media (pointer: coarse) {\n          .point.interactive .circle {\n            stroke: #000000;\n            stroke-opacity: 0;\n            stroke-width: 12px;\n          }\n        }\n\n        .point.interactive:hover {\n          filter: url("#shadow-4");\n\n          /* HACK: This gets Safari to correctly apply the filter! */\n          stroke: #ff0000;\n        }\n\n        .point.interactive:active {\n          filter: url("#shadow-8");\n\n          /* HACK: This gets Safari to correctly apply the filter! */\n          stroke: #00ff00;\n        }\n\n        :host(.keyboard) .point.interactive:focus {\n          filter: url("#shadow-8");\n\n          /* HACK: This gets Safari to correctly apply the filter! */\n          stroke: #0000ff;\n        }\n\n        .background {\n          fill: var(---color-element-background);\n          stroke: var(---color-element-border);\n          stroke-width: 1;\n          shape-rendering: crispEdges;\n        }\n\n        .title-x,\n        .title-y {\n          font-weight: 600;\n\n          fill: currentColor;\n        }\n\n        .tick {\n          font-size: 0.75rem;\n        }\n\n        .scale-x path,\n        .scale-x line,\n        .scale-y path,\n        .scale-y line {\n          stroke: var(---color-element-border);\n        }\n\n        .diagonal {\n          stroke: var(---color-element-border);\n          stroke-dasharray: 4;\n          stroke-width: 1;\n        }\n\n        .curve {\n          fill: none;\n          stroke: var(---color-element-emphasis);\n          stroke-width: 2;\n        }\n\n        .line-p,\n        .line-w {\n          fill: none;\n          stroke-width: 2;\n        }\n\n        .line-p {\n          stroke: var(---color-p);\n        }\n\n        .line-w {\n          stroke: var(---color-w);\n        }\n\n        .point .circle {\n          fill: var(---color-element-emphasis);\n\n          /* r: 6; HACK: Firefox does not support CSS SVG Geometry Properties */\n        }\n\n        .point .label {\n          font-size: 0.75rem;\n\n          dominant-baseline: middle;\n          text-anchor: middle;\n\n          fill: var(---color-text-inverse);\n        }\n      '])))]}}]),n}(y9);customElements.define("cpt-probability",v_t);var m_t={exports:{}},y_t={exports:{}},b_t=Ott.exports,I_t=vot,C_t=Jat,x_t=Gbt.hovertemplateAttrs,B_t=Xtt,A_t=Rtt.extendFlat,F_t=Fit.overrideAll;function Q_t(t){return{valType:"boolean",dflt:!1,description:["Determines whether or not these contour lines are projected","on the",t,"plane.","If `highlight` is set to *true* (the default), the projected","lines are shown on hover.","If `show` is set to *true*, the projected lines are shown","in permanence."].join(" ")}}function w_t(t){return{show:{valType:"boolean",dflt:!1,description:["Determines whether or not contour lines about the",t,"dimension are drawn."].join(" ")},start:{valType:"number",dflt:null,editType:"plot",description:["Sets the starting contour level value.","Must be less than `contours.end`"].join(" ")},end:{valType:"number",dflt:null,editType:"plot",description:["Sets the end contour level value.","Must be more than `contours.start`"].join(" ")},size:{valType:"number",dflt:null,min:0,editType:"plot",description:["Sets the step between each contour level.","Must be positive."].join(" ")},project:{x:Q_t("x"),y:Q_t("y"),z:Q_t("z")},color:{valType:"color",dflt:b_t.defaultLine,description:"Sets the color of the contour lines."},usecolormap:{valType:"boolean",dflt:!1,description:["An alternate to *color*.","Determines whether or not the contour lines are colored using","the trace *colorscale*."].join(" ")},width:{valType:"number",min:1,max:16,dflt:2,description:"Sets the width of the contour lines."},highlight:{valType:"boolean",dflt:!0,description:["Determines whether or not contour lines about the",t,"dimension are highlighted on hover."].join(" ")},highlightcolor:{valType:"color",dflt:b_t.defaultLine,description:"Sets the color of the highlighted contour lines."},highlightwidth:{valType:"number",min:1,max:16,dflt:2,description:"Sets the width of the highlighted contour lines."}}}var U_t=y_t.exports=F_t(A_t({z:{valType:"data_array",description:"Sets the z coordinates."},x:{valType:"data_array",description:"Sets the x coordinates."},y:{valType:"data_array",description:"Sets the y coordinates."},text:{valType:"string",dflt:"",arrayOk:!0,description:["Sets the text elements associated with each z value.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",dflt:"",arrayOk:!0,description:"Same as `text`."},hovertemplate:x_t(),xhoverformat:C_t("x"),yhoverformat:C_t("y"),zhoverformat:C_t("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the `z` data are filled in."].join(" ")},surfacecolor:{valType:"data_array",description:["Sets the surface color values,","used for setting a color scale independent of `z`."].join(" ")}},I_t("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:w_t("x"),y:w_t("y"),z:w_t("z")},hidesurface:{valType:"boolean",dflt:!1,description:["Determines whether or not a surface is drawn.","For example, set `hidesurface` to *false*","`contours.x.show` to *true* and","`contours.y.show` to *true* to draw a wire frame plot."].join(" ")},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10,description:"Numeric vector, representing the X coordinate for each vertex."},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4,description:"Numeric vector, representing the Y coordinate for each vertex."},z:{valType:"number",min:-1e5,max:1e5,dflt:0,description:"Numeric vector, representing the Z coordinate for each vertex."}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8,description:"Ambient light increases overall color visibility but can wash out the image."},diffuse:{valType:"number",min:0,max:1,dflt:.8,description:"Represents the extent that incident rays are reflected in a range of angles."},specular:{valType:"number",min:0,max:2,dflt:.05,description:"Represents the level that incident rays are reflected in a single direction, causing shine."},roughness:{valType:"number",min:0,max:1,dflt:.5,description:"Alters specular reflection; the rougher the surface, the wider and less contrasty the shine."},fresnel:{valType:"number",min:0,max:5,dflt:.2,description:["Represents the reflectance as a dependency of the viewing angle; e.g. paper is reflective","when viewing it from the edge of the paper (almost 90 degrees), causing shine."].join(" ")}},opacity:{valType:"number",min:0,max:1,dflt:1,description:["Sets the opacity of the surface.","Please note that in the case of using high `opacity` values for example a value","greater than or equal to 0.5 on two surfaces (and 0.25 with four surfaces), an","overlay of multiple transparent surfaces may not perfectly be sorted in depth by the","webgl API. This behavior may be improved in the near future and is subject to change."].join(" ")},opacityscale:{valType:"any",editType:"calc",description:["Sets the opacityscale."," The opacityscale must be an array containing"," arrays mapping a normalized value to an opacity value."," At minimum, a mapping for the lowest (0) and highest (1)"," values are required. For example,"," `[[0, 1], [0.5, 0.2], [1, 1]]` means that higher/lower values would have"," higher opacity values and those in the middle would be more transparent"," Alternatively, `opacityscale` may be a palette name string"," of the following list: 'min', 'max', 'extremes' and 'uniform'."," The default is 'uniform'."].join("")},_deprecated:{zauto:A_t({},I_t.zauto,{description:"Obsolete. Use `cauto` instead."}),zmin:A_t({},I_t.zmin,{description:"Obsolete. Use `cmin` instead."}),zmax:A_t({},I_t.zmax,{description:"Obsolete. Use `cmax` instead."})},hoverinfo:A_t({},B_t.hoverinfo),showlegend:A_t({},B_t.showlegend,{dflt:!1})}),"calc","nested");U_t.x.editType=U_t.y.editType=U_t.z.editType="calc+clearAxisTypes",U_t.transforms=void 0;var G_t=vot,R_t=Jat,S_t=Gbt.hovertemplateAttrs,L_t=y_t.exports,__t=Xtt,E_t=Rtt.extendFlat,k_t=E_t({x:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the X coordinates of the vertices. The nth element of vectors `x`, `y` and `z`","jointly represent the X, Y and Z coordinates of the nth vertex."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the Y coordinates of the vertices. The nth element of vectors `x`, `y` and `z`","jointly represent the X, Y and Z coordinates of the nth vertex."].join(" ")},z:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the Z coordinates of the vertices. The nth element of vectors `x`, `y` and `z`","jointly represent the X, Y and Z coordinates of the nth vertex."].join(" ")},i:{valType:"data_array",editType:"calc",description:["A vector of vertex indices, i.e. integer values between 0 and the length of the vertex","vectors, representing the *first* vertex of a triangle. For example, `{i[m], j[m], k[m]}`","together represent face m (triangle m) in the mesh, where `i[m] = n` points to the triplet","`{x[n], y[n], z[n]}` in the vertex arrays. Therefore, each element in `i` represents a","point in space, which is the first vertex of a triangle."].join(" ")},j:{valType:"data_array",editType:"calc",description:["A vector of vertex indices, i.e. integer values between 0 and the length of the vertex","vectors, representing the *second* vertex of a triangle. For example, `{i[m], j[m], k[m]}` ","together represent face m (triangle m) in the mesh, where `j[m] = n` points to the triplet","`{x[n], y[n], z[n]}` in the vertex arrays. Therefore, each element in `j` represents a","point in space, which is the second vertex of a triangle."].join(" ")},k:{valType:"data_array",editType:"calc",description:["A vector of vertex indices, i.e. integer values between 0 and the length of the vertex","vectors, representing the *third* vertex of a triangle. For example, `{i[m], j[m], k[m]}`","together represent face m (triangle m) in the mesh, where `k[m] = n` points to the triplet ","`{x[n], y[n], z[n]}` in the vertex arrays. Therefore, each element in `k` represents a","point in space, which is the third vertex of a triangle."].join(" ")},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc",description:["Sets the text elements associated with the vertices.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc",description:"Same as `text`."},hovertemplate:S_t({editType:"calc"}),xhoverformat:R_t("x"),yhoverformat:R_t("y"),zhoverformat:R_t("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc",description:["Sets the Delaunay axis, which is the axis that is perpendicular to the surface of the","Delaunay triangulation.","It has an effect if `i`, `j`, `k` are not provided and `alphahull` is set to indicate","Delaunay triangulation."].join(" ")},alphahull:{valType:"number",dflt:-1,editType:"calc",description:["Determines how the mesh surface triangles are derived from the set of","vertices (points) represented by the `x`, `y` and `z` arrays, if","the `i`, `j`, `k` arrays are not supplied.","For general use of `mesh3d` it is preferred that `i`, `j`, `k` are","supplied.","If *-1*, Delaunay triangulation is used, which is mainly suitable if the","mesh is a single, more or less layer surface that is perpendicular to `delaunayaxis`.","In case the `delaunayaxis` intersects the mesh surface at more than one point","it will result triangles that are very long in the dimension of `delaunayaxis`.","If *>0*, the alpha-shape algorithm is used. In this case, the positive `alphahull` value","signals the use of the alpha-shape algorithm, _and_ its value","acts as the parameter for the mesh fitting.","If *0*,  the convex-hull algorithm is used. It is suitable for convex bodies","or if the intention is to enclose the `x`, `y` and `z` point set into a convex","hull."].join(" ")},intensity:{valType:"data_array",editType:"calc",description:["Sets the intensity values for vertices or cells","as defined by `intensitymode`.","It can be used for plotting fields on meshes."].join(" ")},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc",description:["Determines the source of `intensity` values."].join(" ")},color:{valType:"color",editType:"calc",description:"Sets the color of the whole mesh"},vertexcolor:{valType:"data_array",editType:"calc",description:["Sets the color of each vertex","Overrides *color*. While Red, green and blue colors","are in the range of 0 and 255; in the case of having","vertex color data in RGBA format, the alpha color","should be normalized to be between 0 and 1."].join(" ")},facecolor:{valType:"data_array",editType:"calc",description:["Sets the color of each face","Overrides *color* and *vertexcolor*."].join(" ")},transforms:void 0},G_t("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L_t.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not normal smoothing is applied to the meshes,","creating meshes with an angular, low-poly look via flat reflections."].join(" ")},contour:{show:E_t({},L_t.contours.x.show,{description:["Sets whether or not dynamic contours are shown on hover"].join(" ")}),color:L_t.contours.x.color,width:L_t.contours.x.width,editType:"calc"},lightposition:{x:E_t({},L_t.lightposition.x,{dflt:1e5}),y:E_t({},L_t.lightposition.y,{dflt:1e5}),z:E_t({},L_t.lightposition.z,{dflt:0}),editType:"calc"},lighting:E_t({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc",description:"Epsilon for vertex normals calculation avoids math issues arising from degenerate geometry."},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc",description:"Epsilon for face normals calculation avoids math issues arising from degenerate geometry."},editType:"calc"},L_t.lighting),hoverinfo:E_t({},__t.hoverinfo,{editType:"calc"}),showlegend:E_t({},__t.showlegend,{dflt:!1})}),V_t=vot,Z_t=Jat,N_t=Gbt.hovertemplateAttrs,T_t=k_t,X_t=Xtt,W_t=Rtt.extendFlat,M_t=Fit.overrideAll;function H_t(t){return{show:{valType:"boolean",dflt:!1,description:["Determines whether or not slice planes about the",t,"dimension are drawn."].join(" ")},locations:{valType:"data_array",dflt:[],description:["Specifies the location(s) of slices on the axis.","When not specified slices would be created for","all points of the axis",t,"except start and end."].join(" ")},fill:{valType:"number",min:0,max:1,dflt:1,description:["Sets the fill ratio of the `slices`. The default fill value of the","`slices` is 1 meaning that they are entirely shaded. On the other hand","Applying a `fill` ratio less than one would allow the creation of","openings parallel to the edges."].join(" ")}}}function D_t(t){return{show:{valType:"boolean",dflt:!0,description:["Sets the fill ratio of the `slices`. The default fill value of the",t,"`slices` is 1 meaning that they are entirely shaded. On the other hand","Applying a `fill` ratio less than one would allow the creation of","openings parallel to the edges."].join(" ")},fill:{valType:"number",min:0,max:1,dflt:1,description:["Sets the fill ratio of the `caps`. The default fill value of the","`caps` is 1 meaning that they are entirely shaded. On the other hand","Applying a `fill` ratio less than one would allow the creation of","openings parallel to the edges."].join(" ")}}}var Y_t=m_t.exports=M_t(W_t({x:{valType:"data_array",description:["Sets the X coordinates of the vertices on X axis."].join(" ")},y:{valType:"data_array",description:["Sets the Y coordinates of the vertices on Y axis."].join(" ")},z:{valType:"data_array",description:["Sets the Z coordinates of the vertices on Z axis."].join(" ")},value:{valType:"data_array",description:["Sets the 4th dimension (value) of the vertices."].join(" ")},isomin:{valType:"number",description:["Sets the minimum boundary for iso-surface plot."].join(" ")},isomax:{valType:"number",description:["Sets the maximum boundary for iso-surface plot."].join(" ")},surface:{show:{valType:"boolean",dflt:!0,description:["Hides/displays surfaces between minimum and maximum iso-values."].join(" ")},count:{valType:"integer",dflt:2,min:1,description:["Sets the number of iso-surfaces between minimum and maximum iso-values.","By default this value is 2 meaning that only minimum and maximum surfaces","would be drawn."].join(" ")},fill:{valType:"number",min:0,max:1,dflt:1,description:["Sets the fill ratio of the iso-surface. The default fill value of the","surface is 1 meaning that they are entirely shaded. On the other hand","Applying a `fill` ratio less than one would allow the creation of","openings parallel to the edges."].join(" ")},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all",description:["Sets the surface pattern of the iso-surface 3-D sections. The default pattern of","the surface is `all` meaning that the rest of surface elements would be shaded.","The check options (either 1 or 2) could be used to draw half of the squares","on the surface. Using various combinations of capital `A`, `B`, `C`, `D` and `E`","may also be used to reduce the number of triangles on the iso-surfaces and","creating other patterns of interest."].join(" ")}},spaceframe:{show:{valType:"boolean",dflt:!1,description:["Displays/hides tetrahedron shapes between minimum and","maximum iso-values. Often useful when either caps or","surfaces are disabled or filled with values less than 1."].join(" ")},fill:{valType:"number",min:0,max:1,dflt:.15,description:["Sets the fill ratio of the `spaceframe` elements. The default fill value","is 0.15 meaning that only 15% of the area of every faces of tetras would be","shaded. Applying a greater `fill` ratio would allow the creation of stronger","elements or could be sued to have entirely closed areas (in case of using 1)."].join(" ")}},slices:{x:H_t("x"),y:H_t("y"),z:H_t("z")},caps:{x:D_t("x"),y:D_t("y"),z:D_t("z")},text:{valType:"string",dflt:"",arrayOk:!0,description:["Sets the text elements associated with the vertices.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",dflt:"",arrayOk:!0,description:"Same as `text`."},hovertemplate:N_t(),xhoverformat:Z_t("x"),yhoverformat:Z_t("y"),zhoverformat:Z_t("z"),valuehoverformat:Z_t("value",1),showlegend:W_t({},X_t.showlegend,{dflt:!1})},V_t("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:T_t.opacity,lightposition:T_t.lightposition,lighting:T_t.lighting,flatshading:T_t.flatshading,contour:T_t.contour,hoverinfo:W_t({},X_t.hoverinfo)}),"calc","nested");Y_t.flatshading.dflt=!0,Y_t.lighting.facenormalsepsilon.dflt=0,Y_t.x.editType=Y_t.y.editType=Y_t.z.editType=Y_t.value.editType="calc+clearAxisTypes",Y_t.transforms=void 0;var O_t=Q4.exports,z_t=met,J_t=m_t.exports,j_t=cst;function P_t(t,e,n,r,i){var a=i("isomin"),o=i("isomax");null!=o&&null!=a&&a>o&&(e.isomin=null,e.isomax=null);var s=i("x"),l=i("y"),c=i("z"),u=i("value");s&&s.length&&l&&l.length&&c&&c.length&&u&&u.length?(z_t.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y","z"],r),i("valuehoverformat"),["x","y","z"].forEach((function(t){i(t+"hoverformat");var e="caps."+t;i(e+".show")&&i(e+".fill");var n="slices."+t;i(n+".show")&&(i(n+".fill"),i(n+".locations"))})),i("spaceframe.show")&&i("spaceframe.fill"),i("surface.show")&&(i("surface.count"),i("surface.fill"),i("surface.pattern")),i("contour.show")&&(i("contour.color"),i("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach((function(t){i(t)})),j_t(t,e,r,i,{prefix:"",cLetter:"c"}),e._length=null):e.visible=!1}var K_t={supplyDefaults:function(t,e,n,r){P_t(t,e,n,r,(function(n,r){return O_t.coerce(t,e,J_t,n,r)}))},supplyIsoDefaults:P_t},q_t=Q4.exports;function $_t(t){var e,n,r,i,a,o,s,l,c,u,d,h,g=t._x,f=t._y,p=t._z,v=t._len,m=-1/0,y=1/0,b=-1/0,I=1/0,C=-1/0,x=1/0,B="";for(v&&(s=g[0],c=f[0],d=p[0]),v>1&&(l=g[v-1],u=f[v-1],h=p[v-1]),e=0;e<v;e++)m=Math.max(m,g[e]),y=Math.min(y,g[e]),b=Math.max(b,f[e]),I=Math.min(I,f[e]),C=Math.max(C,p[e]),x=Math.min(x,p[e]),i||g[e]===s||(i=!0,B+="x"),a||f[e]===c||(a=!0,B+="y"),o||p[e]===d||(o=!0,B+="z");i||(B+="x"),a||(B+="y"),o||(B+="z");var A=tEt(t._x),F=tEt(t._y),Q=tEt(t._z);B=(B=(B=B.replace("x",(s>l?"-":"+")+"x")).replace("y",(c>u?"-":"+")+"y")).replace("z",(d>h?"-":"+")+"z");var w=function(){v=0,A=[],F=[],Q=[]};(!v||v<A.length*F.length*Q.length)&&w();var U=function(t){return"x"===t?g:"y"===t?f:p},G=function(t){return"x"===t?A:"y"===t?F:Q},R=function(t){return t[v-1]<t[0]?-1:1},S=U(B[1]),L=U(B[3]),_=U(B[5]),E=G(B[1]).length,k=G(B[3]).length,V=G(B[5]).length,Z=!1,N=function(t,e,n){return E*(k*t+e)+n},T=R(U(B[1])),X=R(U(B[3])),W=R(U(B[5]));for(e=0;e<V-1;e++){for(n=0;n<k-1;n++){for(r=0;r<E-1;r++){var M=N(e,n,r),H=N(e,n,r+1),D=N(e,n+1,r),Y=N(e+1,n,r);if(S[M]*T<S[H]*T&&L[M]*X<L[D]*X&&_[M]*W<_[Y]*W||(Z=!0),Z)break}if(Z)break}if(Z)break}return Z&&(q_t.warn("Encountered arbitrary coordinates! Unable to input data grid."),w()),{xMin:y,yMin:I,zMin:x,xMax:m,yMax:b,zMax:C,Xs:A,Ys:F,Zs:Q,len:v,fill:B}}function tEt(t){return q_t.distinctVals(t).vals}function eEt(t,e){if(void 0===e&&(e=t.length),q_t.isTypedArray(t))return t.subarray(0,e);for(var n=[],r=0;r<e;r++)n[r]=+t[r];return n}var nEt=Ist,rEt=$_t,iEt=eEt,aEt={exports:{}};!function(t,n){t.exports=function(){function t(e,n,i){function a(s,l){if(!n[s]){if(!e[s]){if(!l&&r)return r(s);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,(function(t){return a(e[s][1][t]||t)}),u,u.exports,t,e,n,i)}return n[s].exports}for(var o=r,s=0;s<i.length;s++)a(i[s]);return a}return t}()({1:[function(t,e,n){n.byteLength=u,n.toByteArray=h,n.fromByteArray=p;for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r}function d(t,e,n){return 3*(e+n)/4-n}function h(t){var e,n,r=c(t),o=r[0],s=r[1],l=new a(d(t,o,s)),u=0,h=s>0?o-4:o;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;return 2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,l[u++]=255&e),1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e),l}function g(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function f(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),i.push(g(r));return i.join("")}function p(t){for(var e,n=t.length,i=n%3,a=[],o=16383,s=0,l=n-i;s<l;s+=o)a.push(f(t,s,s+o>l?l:s+o));return 1===i?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(t,e,n){},{}],3:[function(t,e,n){(function(e){(function(){var e=t("base64-js"),r=t("ieee754");n.Buffer=l,n.SlowBuffer=y,n.INSPECT_MAX_BYTES=50;var i=2147483647;function a(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}function s(t){if(t>i)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=l.prototype,e}function l(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return c(t,e,n)}function c(t,e,n){if("string"==typeof t)return g(t,e);if(ArrayBuffer.isView(t))return f(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(t));if(K(t,ArrayBuffer)||t&&K(t.buffer,ArrayBuffer))return p(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return l.from(r,e,n);var i=v(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return l.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(t))}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function d(t,e,n){return u(t),t<=0?s(t):void 0!==e?"string"==typeof n?s(t).fill(e,n):s(t).fill(e):s(t)}function h(t){return u(t),s(t<0?0:0|m(t))}function g(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!l.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|b(t,e),r=s(n),i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}function f(t){for(var e=t.length<0?0:0|m(t.length),n=s(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function p(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n)).__proto__=l.prototype,r}function v(t){if(l.isBuffer(t)){var e=0|m(t.length),n=s(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||q(t.length)?s(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}function m(t){if(t>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|t}function y(t){return+t!=t&&(t=0),l.alloc(+t)}function b(t,e){if(l.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||K(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+o(t));var n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return O(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(t).length;default:if(i)return r?-1:O(t).length;e=(""+e).toLowerCase(),i=!0}}function I(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return V(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return E(this,e,n);case"latin1":case"binary":return k(this,e,n);case"base64":return R(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function C(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function x(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),q(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=l.from(e,r)),l.isBuffer(e))return 0===e.length?-1:B(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):B(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function B(t,e,n,r,i){var a,o=1,s=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,s/=2,l/=2,n/=2}function c(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var u=-1;for(a=n;a<s;a++)if(c(t,a)===c(e,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){for(var d=!0,h=0;h<l;h++)if(c(t,a+h)!==c(e,h)){d=!1;break}if(d)return a}return-1}function A(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=e.length;r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(e.substr(2*o,2),16);if(q(s))return o;t[n+o]=s}return o}function F(t,e,n,r){return P(O(e,t.length-n),t,n,r)}function Q(t,e,n,r){return P(z(e),t,n,r)}function w(t,e,n,r){return Q(t,e,n,r)}function U(t,e,n,r){return P(j(e),t,n,r)}function G(t,e,n,r){return P(J(e,t.length-n),t,n,r)}function R(t,n,r){return 0===n&&r===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(n,r))}function S(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var a,o,s,l,c=t[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(a=t[i+1]))&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=t[i+1],o=t[i+2],128==(192&a)&&128==(192&o)&&(l=(15&c)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=t[i+1],o=t[i+2],s=t[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return _(r)}n.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=a(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=function(t,e,n){return c(t,e,n)},l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,l.alloc=function(t,e,n){return d(t,e,n)},l.allocUnsafe=function(t){return h(t)},l.allocUnsafeSlow=function(t){return h(t)},l.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==l.prototype},l.compare=function(t,e){if(K(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),K(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=l.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(K(a,Uint8Array)&&(a=l.from(a)),!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=b,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)C(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)C(this,e,e+3),C(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)C(this,e,e+7),C(this,e+1,e+6),C(this,e+2,e+5),C(this,e+3,e+4);return this},l.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):I.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,r,i){if(K(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+o(t));if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var a=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),c=Math.min(a,s),u=this.slice(r,i),d=t.slice(e,n),h=0;h<c;++h)if(u[h]!==d[h]){a=u[h],s=d[h];break}return a<s?-1:s<a?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return x(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return x(this,t,e,n,!1)},l.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return A(this,t,e,n);case"utf8":case"utf-8":return F(this,t,e,n);case"ascii":return Q(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return U(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function _(t){var e=t.length;if(e<=L)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=L));return n}function E(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function V(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=e;a<n;++a)i+=Y(t[a]);return i}function Z(t,e,n){for(var r=t.slice(e,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function N(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function T(t,e,n,r,i,a){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function X(t,e,n,r,i,a){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function W(t,e,n,i,a){return e=+e,n>>>=0,a||X(t,e,n,4),r.write(t,e,n,i,23,4),n+4}function M(t,e,n,i,a){return e=+e,n>>>=0,a||X(t,e,n,8),r.write(t,e,n,i,52,8),n+8}l.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r=this.subarray(t,e);return r.__proto__=l.prototype,r},l.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);for(var r=this[t],i=1,a=0;++a<e&&(i*=256);)r+=this[t+a]*i;return r},l.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},l.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);for(var r=this[t],i=1,a=0;++a<e&&(i*=256);)r+=this[t+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},l.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);for(var r=e,i=1,a=this[t+--r];r>0&&(i*=256);)a+=this[t+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*e)),a},l.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return t>>>=0,e||N(t,4,this.length),r.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return t>>>=0,e||N(t,4,this.length),r.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return t>>>=0,e||N(t,8,this.length),r.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return t>>>=0,e||N(t,8,this.length),r.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||T(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[e]=255&t;++a<n&&(i*=256);)this[e+a]=t/i&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||T(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||T(this,t,e,1,255,0),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||T(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||T(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||T(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||T(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);T(this,t,e,n,i-1,-i)}var a=0,o=1,s=0;for(this[e]=255&t;++a<n&&(o*=256);)t<0&&0===s&&0!==this[e+a-1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+n},l.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);T(this,t,e,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[e+a]=255&t;--a>=0&&(o*=256);)t<0&&0===s&&0!==this[e+a+1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||T(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||T(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||T(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||T(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||T(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeFloatLE=function(t,e,n){return W(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return W(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return M(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return M(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,r){if(!l.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,n,r);else if(this===t&&n<e&&e<r)for(var a=i-1;a>=0;--a)t[a+e]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,r),e);return i},l.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var i=t.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(t=i)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var a;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var o=l.isBuffer(t)?t:l.from(t,r),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(a=0;a<n-e;++a)this[a+e]=o[a%s]}return this};var H=/[^+/0-9A-Za-z-_]/g;function D(t){if((t=(t=t.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function Y(t){return t<16?"0"+t.toString(16):t.toString(16)}function O(t,e){var n;e=e||1/0;for(var r=t.length,i=null,a=[],o=0;o<r;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;a.push(n)}else if(n<2048){if((e-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function z(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function J(t,e){for(var n,r,i,a=[],o=0;o<t.length&&!((e-=2)<0);++o)r=(n=t.charCodeAt(o))>>8,i=n%256,a.push(i),a.push(r);return a}function j(t){return e.toByteArray(D(t))}function P(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function K(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function q(t){return t!=t}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:4}],4:[function(t,e,n){n.read=function(t,e,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1,g=t[e+d];for(d+=h,a=g&(1<<-u)-1,g>>=-u,u+=s;u>0;a=256*a+t[e+d],d+=h,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+t[e+d],d+=h,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(g?-1:1);o+=Math.pow(2,r),a-=c}return(g?-1:1)*o*Math.pow(2,a-r)},n.write=function(t,e,n,r,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:a-1,f=r?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(e*l-1)*Math.pow(2,i),o+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;t[n+g]=255&s,g+=f,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;t[n+g]=255&o,g+=f,o/=256,c-=8);t[n+g-f]|=128*p}},{}],5:[function(t,e,n){var r,i,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function c(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,d=[],h=!1,g=-1;function f(){h&&u&&(h=!1,u.length?d=u.concat(d):g=-1,d.length&&p())}function p(){if(!h){var t=l(f);h=!0;for(var e=d.length;e;){for(u=d,d=[];++g<e;)u&&u[g].run();g=-1,e=d.length}u=null,h=!1,c(t)}}function v(t,e){this.fun=t,this.array=e}function m(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new v(t,e)),1!==d.length||h||l(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],6:[function(t,e,n){e.exports={alpha_shape:t("alpha-shape"),convex_hull:t("convex-hull"),delaunay_triangulate:t("delaunay-triangulate"),gl_cone3d:t("gl-cone3d"),gl_error3d:t("gl-error3d"),gl_heatmap2d:t("gl-heatmap2d"),gl_line3d:t("gl-line3d"),gl_mesh3d:t("gl-mesh3d"),gl_plot2d:t("gl-plot2d"),gl_plot3d:t("gl-plot3d"),gl_pointcloud2d:t("gl-pointcloud2d"),gl_scatter3d:t("gl-scatter3d"),gl_select_box:t("gl-select-box"),gl_spikes2d:t("gl-spikes2d"),gl_streamtube3d:t("gl-streamtube3d"),gl_surface3d:t("gl-surface3d"),ndarray:t("ndarray"),ndarray_linear_interpolate:t("ndarray-linear-interpolate")}},{"alpha-shape":12,"convex-hull":58,"delaunay-triangulate":63,"gl-cone3d":79,"gl-error3d":84,"gl-heatmap2d":88,"gl-line3d":91,"gl-mesh3d":112,"gl-plot2d":118,"gl-plot3d":121,"gl-pointcloud2d":123,"gl-scatter3d":128,"gl-select-box":130,"gl-spikes2d":139,"gl-streamtube3d":143,"gl-surface3d":145,ndarray:259,"ndarray-linear-interpolate":253}],7:[function(t,e,n){e.exports=l;var r=t("turntable-camera-controller"),i=t("orbit-camera-controller"),a=t("matrix-camera-controller");function o(t,e){this._controllerNames=Object.keys(t),this._controllerList=this._controllerNames.map((function(e){return t[e]})),this._mode=e,this._active=t[e],this._active||(this._mode="turntable",this._active=t.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var s=o.prototype;function l(t){var e=(t=t||{}).eye||[0,0,1],n=t.center||[0,0,0],s=t.up||[0,1,0],l=t.distanceLimits||[0,1/0],c=t.mode||"turntable",u=r(),d=i(),h=a();return u.setDistanceLimits(l[0],l[1]),u.lookAt(0,e,n,s),d.setDistanceLimits(l[0],l[1]),d.lookAt(0,e,n,s),h.setDistanceLimits(l[0],l[1]),h.lookAt(0,e,n,s),new o({turntable:u,orbit:d,matrix:h},c)}s.flush=function(t){for(var e=this._controllerList,n=0;n<e.length;++n)e[n].flush(t)},s.idle=function(t){for(var e=this._controllerList,n=0;n<e.length;++n)e[n].idle(t)},s.lookAt=function(t,e,n,r){for(var i=this._controllerList,a=0;a<i.length;++a)i[a].lookAt(t,e,n,r)},s.rotate=function(t,e,n,r){for(var i=this._controllerList,a=0;a<i.length;++a)i[a].rotate(t,e,n,r)},s.pan=function(t,e,n,r){for(var i=this._controllerList,a=0;a<i.length;++a)i[a].pan(t,e,n,r)},s.translate=function(t,e,n,r){for(var i=this._controllerList,a=0;a<i.length;++a)i[a].translate(t,e,n,r)},s.setMatrix=function(t,e){for(var n=this._controllerList,r=0;r<n.length;++r)n[r].setMatrix(t,e)},s.setDistanceLimits=function(t,e){for(var n=this._controllerList,r=0;r<n.length;++r)n[r].setDistanceLimits(t,e)},s.setDistance=function(t,e){for(var n=this._controllerList,r=0;r<n.length;++r)n[r].setDistance(t,e)},s.recalcMatrix=function(t){this._active.recalcMatrix(t)},s.getDistance=function(t){return this._active.getDistance(t)},s.getDistanceLimits=function(t){return this._active.getDistanceLimits(t)},s.lastT=function(){return this._active.lastT()},s.setMode=function(t){if(t!==this._mode){var e=this._controllerNames.indexOf(t);if(!(e<0)){var n=this._active,r=this._controllerList[e],i=Math.max(n.lastT(),r.lastT());n.recalcMatrix(i),r.setMatrix(i,n.computedMatrix),this._active=r,this._mode=t,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},s.getMode=function(){return this._mode}},{"matrix-camera-controller":245,"orbit-camera-controller":263,"turntable-camera-controller":305}],8:[function(t,e,n){var r="undefined"==typeof WeakMap?t("weak-map"):WeakMap,i=t("gl-buffer"),a=t("gl-vao"),o=new r;function s(t){var e=o.get(t),n=e&&(e._triangleBuffer.handle||e._triangleBuffer.buffer);if(!n||!t.isBuffer(n)){var r=i(t,new Float32Array([-1,-1,-1,4,4,-1]));(e=a(t,[{buffer:r,type:t.FLOAT,size:2}]))._triangleBuffer=r,o.set(t,e)}e.bind(),t.drawArrays(t.TRIANGLES,0,3),e.unbind()}e.exports=s},{"gl-buffer":78,"gl-vao":150,"weak-map":313}],9:[function(t,e,n){var r=t("pad-left");function i(t,e,n){e="number"==typeof e?e:1,n=n||": ";var i=t.split(/\r?\n/),a=String(i.length+e-1).length;return i.map((function(t,i){var o=i+e,s=String(o).length;return r(o,a-s)+n+t})).join("\n")}e.exports=i},{"pad-left":264}],10:[function(t,e,n){e.exports=a;var r=t("robust-orientation");function i(t,e){for(var n=new Array(e+1),i=0;i<t.length;++i)n[i]=t[i];for(i=0;i<=t.length;++i){for(var a=t.length;a<=e;++a){for(var o=new Array(e),s=0;s<e;++s)o[s]=Math.pow(a+1-i,s);n[a]=o}if(r.apply(void 0,n))return!0}return!1}function a(t){var e=t.length;if(0===e)return[];if(1===e)return[0];for(var n=t[0].length,r=[t[0]],a=[0],o=1;o<e;++o)if(r.push(t[o]),i(r,n)){if(a.push(o),a.length===n+1)return a}else r.pop();return a}},{"robust-orientation":284}],11:[function(t,e,n){e.exports=a;var r=t("delaunay-triangulate"),i=t("circumradius");function a(t,e){return r(e).filter((function(n){for(var r=new Array(n.length),a=0;a<n.length;++a)r[a]=e[n[a]];return i(r)*t<1}))}},{circumradius:49,"delaunay-triangulate":63}],12:[function(t,e,n){e.exports=a;var r=t("alpha-complex"),i=t("simplicial-complex-boundary");function a(t,e){return i(r(t,e))}},{"alpha-complex":11,"simplicial-complex-boundary":290}],13:[function(t,e,n){e.exports=function(t){return atob(t)}},{}],14:[function(t,e,n){e.exports=a;var r=t("robust-linear-solve");function i(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return e}function a(t,e){for(var n=e.length,a=new Array(n+1),o=0;o<n;++o){for(var s=new Array(n+1),l=0;l<=n;++l)s[l]=t[l][o];a[o]=s}for(a[n]=new Array(n+1),o=0;o<=n;++o)a[n][o]=1;var c=new Array(n+1);for(o=0;o<n;++o)c[o]=e[o];c[n]=1;var u=r(a,c),d=i(u[n+1]);0===d&&(d=1);var h=new Array(n+1);for(o=0;o<=n;++o)h[o]=i(u[o])/d;return h}},{"robust-linear-solve":283}],15:[function(t,e,n){var r=t("./lib/rationalize");function i(t,e){return r(t[0].mul(e[1]).add(e[0].mul(t[1])),t[1].mul(e[1]))}e.exports=i},{"./lib/rationalize":25}],16:[function(t,e,n){function r(t,e){return t[0].mul(e[1]).cmp(e[0].mul(t[1]))}e.exports=r},{}],17:[function(t,e,n){var r=t("./lib/rationalize");function i(t,e){return r(t[0].mul(e[1]),t[1].mul(e[0]))}e.exports=i},{"./lib/rationalize":25}],18:[function(t,e,n){var r=t("./is-rat"),i=t("./lib/is-bn"),a=t("./lib/num-to-bn"),o=t("./lib/str-to-bn"),s=t("./lib/rationalize"),l=t("./div");function c(t,e){if(r(t))return e?l(t,c(e)):[t[0].clone(),t[1].clone()];var n,u,d=0;if(i(t))n=t.clone();else if("string"==typeof t)n=o(t);else{if(0===t)return[a(0),a(1)];if(t===Math.floor(t))n=a(t);else{for(;t!==Math.floor(t);)t*=Math.pow(2,256),d-=256;n=a(t)}}if(r(e))n.mul(e[1]),u=e[0].clone();else if(i(e))u=e.clone();else if("string"==typeof e)u=o(e);else if(e)if(e===Math.floor(e))u=a(e);else{for(;e!==Math.floor(e);)e*=Math.pow(2,256),d+=256;u=a(e)}else u=a(1);return d>0?n=n.ushln(d):d<0&&(u=u.ushln(-d)),s(n,u)}e.exports=c},{"./div":17,"./is-rat":19,"./lib/is-bn":23,"./lib/num-to-bn":24,"./lib/rationalize":25,"./lib/str-to-bn":26}],19:[function(t,e,n){var r=t("./lib/is-bn");function i(t){return Array.isArray(t)&&2===t.length&&r(t[0])&&r(t[1])}e.exports=i},{"./lib/is-bn":23}],20:[function(t,e,n){var r=t("bn.js");function i(t){return t.cmp(new r(0))}e.exports=i},{"bn.js":33}],21:[function(t,e,n){var r=t("./bn-sign");function i(t){var e=t.length,n=t.words,i=0;if(1===e)i=n[0];else if(2===e)i=n[0]+67108864*n[1];else for(var a=0;a<e;a++)i+=n[a]*Math.pow(67108864,a);return r(t)*i}e.exports=i},{"./bn-sign":20}],22:[function(t,e,n){var r=t("double-bits"),i=t("bit-twiddle").countTrailingZeros;function a(t){var e=i(r.lo(t));if(e<32)return e;var n=i(r.hi(t));return n>20?52:n+32}e.exports=a},{"bit-twiddle":32,"double-bits":64}],23:[function(t,e,n){function r(t){return t&&"object"===o(t)&&Boolean(t.words)}t("bn.js"),e.exports=r},{"bn.js":33}],24:[function(t,e,n){var r=t("bn.js"),i=t("double-bits");function a(t){var e=i.exponent(t);return e<52?new r(t):new r(t*Math.pow(2,52-e)).ushln(e-52)}e.exports=a},{"bn.js":33,"double-bits":64}],25:[function(t,e,n){var r=t("./num-to-bn"),i=t("./bn-sign");function a(t,e){var n=i(t),a=i(e);if(0===n)return[r(0),r(1)];if(0===a)return[r(0),r(0)];a<0&&(t=t.neg(),e=e.neg());var o=t.gcd(e);return o.cmpn(1)?[t.div(o),e.div(o)]:[t,e]}e.exports=a},{"./bn-sign":20,"./num-to-bn":24}],26:[function(t,e,n){var r=t("bn.js");function i(t){return new r(t)}e.exports=i},{"bn.js":33}],27:[function(t,e,n){var r=t("./lib/rationalize");function i(t,e){return r(t[0].mul(e[0]),t[1].mul(e[1]))}e.exports=i},{"./lib/rationalize":25}],28:[function(t,e,n){var r=t("./lib/bn-sign");function i(t){return r(t[0])*r(t[1])}e.exports=i},{"./lib/bn-sign":20}],29:[function(t,e,n){var r=t("./lib/rationalize");function i(t,e){return r(t[0].mul(e[1]).sub(t[1].mul(e[0])),t[1].mul(e[1]))}e.exports=i},{"./lib/rationalize":25}],30:[function(t,e,n){var r=t("./lib/bn-to-num"),i=t("./lib/ctz");function a(t){var e=t[0],n=t[1];if(0===e.cmpn(0))return 0;var a=e.abs().divmod(n.abs()),o=a.div,s=r(o),l=a.mod,c=e.negative!==n.negative?-1:1;if(0===l.cmpn(0))return c*s;if(s){var u=i(s)+4;return c*(s+(h=r(l.ushln(u).divRound(n)))*Math.pow(2,-u))}var d=n.bitLength()-l.bitLength()+53,h=r(l.ushln(d).divRound(n));return d<1023?c*h*Math.pow(2,-d):c*(h*=Math.pow(2,-1023))*Math.pow(2,1023-d)}e.exports=a},{"./lib/bn-to-num":21,"./lib/ctz":22}],31:[function(t,e,n){function r(t,e,n,r,i){for(var a=i+1;r<=i;){var o=r+i>>>1,s=t[o];(void 0!==n?n(s,e):s-e)>=0?(a=o,i=o-1):r=o+1}return a}function i(t,e,n,r,i){for(var a=i+1;r<=i;){var o=r+i>>>1,s=t[o];(void 0!==n?n(s,e):s-e)>0?(a=o,i=o-1):r=o+1}return a}function a(t,e,n,r,i){for(var a=r-1;r<=i;){var o=r+i>>>1,s=t[o];(void 0!==n?n(s,e):s-e)<0?(a=o,r=o+1):i=o-1}return a}function o(t,e,n,r,i){for(var a=r-1;r<=i;){var o=r+i>>>1,s=t[o];(void 0!==n?n(s,e):s-e)<=0?(a=o,r=o+1):i=o-1}return a}function s(t,e,n,r,i){for(;r<=i;){var a=r+i>>>1,o=t[a],s=void 0!==n?n(o,e):o-e;if(0===s)return a;s<=0?r=a+1:i=a-1}return-1}function l(t,e,n,r,i,a){return"function"==typeof n?a(t,e,n,void 0===r?0:0|r,void 0===i?t.length-1:0|i):a(t,e,void 0,void 0===n?0:0|n,void 0===r?t.length-1:0|r)}e.exports={ge:function(t,e,n,i,a){return l(t,e,n,i,a,r)},gt:function(t,e,n,r,a){return l(t,e,n,r,a,i)},lt:function(t,e,n,r,i){return l(t,e,n,r,i,a)},le:function(t,e,n,r,i){return l(t,e,n,r,i,o)},eq:function(t,e,n,r,i){return l(t,e,n,r,i,s)}}},{}],32:[function(t,e,n){var r=32;function i(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}n.INT_BITS=r,n.INT_MAX=2147483647,n.INT_MIN=-1<<r-1,n.sign=function(t){return(t>0)-(t<0)},n.abs=function(t){var e=t>>r-1;return(t^e)-e},n.min=function(t,e){return e^(t^e)&-(t<e)},n.max=function(t,e){return t^(t^e)&-(t<e)},n.isPow2=function(t){return!(t&t-1||!t)},n.log2=function(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1},n.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},n.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},n.countTrailingZeros=i,n.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)},n.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},n.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var a=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(a),n.reverse=function(t){return a[255&t]<<24|a[t>>>8&255]<<16|a[t>>>16&255]<<8|a[t>>>24&255]},n.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},n.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},n.interleave3=function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},n.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},n.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>i(t)+1}},{}],33:[function(t,e,n){!function(e,n){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function a(t,e,n){if(a.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var s;"object"===o(e)?e.exports=a:n.BN=a,a.BN=a,a.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:t("buffer").Buffer}catch(t){}function l(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function c(t,e,n){var r=l(t,n);return n-1>=e&&(r|=l(t,n-1)<<4),r}function u(t,e,n,r){for(var i=0,a=Math.min(t.length,n),o=e;o<a;o++){var s=t.charCodeAt(o)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}a.isBN=function(t){return t instanceof a||null!==t&&"object"===o(t)&&t.constructor.wordSize===a.wordSize&&Array.isArray(t.words)},a.max=function(t,e){return t.cmp(e)>0?t:e},a.min=function(t,e){return t.cmp(e)<0?t:e},a.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"===o(t))return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},a.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},a.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===n)for(i=t.length-1,a=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===n)for(i=0,a=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this.strip()},a.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,a=0,o=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=c(t,e,r)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=c(t,e,r)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;this.strip()},a.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var a=t.length-n,o=a%r,s=Math.min(a,a-o)+n,l=0,c=n;c<s;c+=r)l=u(t,c,c+r,e),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==o){var d=1;for(l=u(t,c,t.length,e),c=0;c<o;c++)d*=e;this.imuln(d),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},a.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},a.prototype.clone=function(){var t=new a(null);return this.copy(t),t},a.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}function p(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],a=0|e.words[0],o=i*a,s=67108863&o,l=o/67108864|0;n.words[0]=s;for(var c=1;c<r;c++){for(var u=l>>>26,d=67108863&l,h=Math.min(c,e.length-1),g=Math.max(0,c-t.length+1);g<=h;g++){var f=c-g|0;u+=(o=(i=0|t.words[f])*(a=0|e.words[g])+d)/67108864|0,d=67108863&o}n.words[c]=0|d,l=0|u}return 0!==l?n.words[c]=0|l:n.length--,n.strip()}a.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],l=(16777215&(s<<i|a)).toString(16);n=0!=(a=s>>>24-i&16777215)||o!==this.length-1?d[6-l.length]+l+n:l+n,(i+=2)>=26&&(i-=26,o--)}for(0!==a&&(n=a.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var c=h[t],u=g[t];n="";var f=this.clone();for(f.negative=0;!f.isZero();){var p=f.modn(u).toString(t);n=(f=f.idivn(u)).isZero()?p+n:d[c-p.length]+p+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(t,e){return r(void 0!==s),this.toArrayLike(s,t,e)},a.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},a.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),a=n||Math.max(1,i);r(i<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var o,s,l="le"===e,c=new t(a),u=this.clone();if(l){for(s=0;!u.isZero();s++)o=u.andln(255),u.iushrn(8),c[s]=o;for(;s<a;s++)c[s]=0}else{for(s=0;s<a-i;s++)c[s]=0;for(s=0;!u.isZero();s++)o=u.andln(255),u.iushrn(8),c[a-s-1]=o}return c},Math.clz32?a.prototype._countBits=function(t){return 32-Math.clz32(t)}:a.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},a.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},a.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},a.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},a.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},a.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},a.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},a.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},a.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},a.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},a.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},a.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},a.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},a.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},a.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},a.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},a.prototype.notn=function(t){return this.clone().inotn(t)},a.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},a.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,a=0;a<r.length;a++)e=(0|n.words[a])+(0|r.words[a])+i,this.words[a]=67108863&e,i=e>>>26;for(;0!==i&&a<n.length;a++)e=(0|n.words[a])+i,this.words[a]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this},a.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},a.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var a=0,o=0;o<r.length;o++)a=(e=(0|n.words[o])-(0|r.words[o])+a)>>26,this.words[o]=67108863&e;for(;0!==a&&o<n.length;o++)a=(e=(0|n.words[o])+a)>>26,this.words[o]=67108863&e;if(0===a&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(t){return this.clone().isub(t)};var v=function(t,e,n){var r,i,a,o=t.words,s=e.words,l=n.words,c=0,u=0|o[0],d=8191&u,h=u>>>13,g=0|o[1],f=8191&g,p=g>>>13,v=0|o[2],m=8191&v,y=v>>>13,b=0|o[3],I=8191&b,C=b>>>13,x=0|o[4],B=8191&x,A=x>>>13,F=0|o[5],Q=8191&F,w=F>>>13,U=0|o[6],G=8191&U,R=U>>>13,S=0|o[7],L=8191&S,_=S>>>13,E=0|o[8],k=8191&E,V=E>>>13,Z=0|o[9],N=8191&Z,T=Z>>>13,X=0|s[0],W=8191&X,M=X>>>13,H=0|s[1],D=8191&H,Y=H>>>13,O=0|s[2],z=8191&O,J=O>>>13,j=0|s[3],P=8191&j,K=j>>>13,q=0|s[4],$=8191&q,tt=q>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],at=8191&it,ot=it>>>13,st=0|s[7],lt=8191&st,ct=st>>>13,ut=0|s[8],dt=8191&ut,ht=ut>>>13,gt=0|s[9],ft=8191&gt,pt=gt>>>13;n.negative=t.negative^e.negative,n.length=19;var vt=(c+(r=Math.imul(d,W))|0)+((8191&(i=(i=Math.imul(d,M))+Math.imul(h,W)|0))<<13)|0;c=((a=Math.imul(h,M))+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(f,W),i=(i=Math.imul(f,M))+Math.imul(p,W)|0,a=Math.imul(p,M);var mt=(c+(r=r+Math.imul(d,D)|0)|0)+((8191&(i=(i=i+Math.imul(d,Y)|0)+Math.imul(h,D)|0))<<13)|0;c=((a=a+Math.imul(h,Y)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(m,W),i=(i=Math.imul(m,M))+Math.imul(y,W)|0,a=Math.imul(y,M),r=r+Math.imul(f,D)|0,i=(i=i+Math.imul(f,Y)|0)+Math.imul(p,D)|0,a=a+Math.imul(p,Y)|0;var yt=(c+(r=r+Math.imul(d,z)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(h,z)|0))<<13)|0;c=((a=a+Math.imul(h,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(I,W),i=(i=Math.imul(I,M))+Math.imul(C,W)|0,a=Math.imul(C,M),r=r+Math.imul(m,D)|0,i=(i=i+Math.imul(m,Y)|0)+Math.imul(y,D)|0,a=a+Math.imul(y,Y)|0,r=r+Math.imul(f,z)|0,i=(i=i+Math.imul(f,J)|0)+Math.imul(p,z)|0,a=a+Math.imul(p,J)|0;var bt=(c+(r=r+Math.imul(d,P)|0)|0)+((8191&(i=(i=i+Math.imul(d,K)|0)+Math.imul(h,P)|0))<<13)|0;c=((a=a+Math.imul(h,K)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(B,W),i=(i=Math.imul(B,M))+Math.imul(A,W)|0,a=Math.imul(A,M),r=r+Math.imul(I,D)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(C,D)|0,a=a+Math.imul(C,Y)|0,r=r+Math.imul(m,z)|0,i=(i=i+Math.imul(m,J)|0)+Math.imul(y,z)|0,a=a+Math.imul(y,J)|0,r=r+Math.imul(f,P)|0,i=(i=i+Math.imul(f,K)|0)+Math.imul(p,P)|0,a=a+Math.imul(p,K)|0;var It=(c+(r=r+Math.imul(d,$)|0)|0)+((8191&(i=(i=i+Math.imul(d,tt)|0)+Math.imul(h,$)|0))<<13)|0;c=((a=a+Math.imul(h,tt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(Q,W),i=(i=Math.imul(Q,M))+Math.imul(w,W)|0,a=Math.imul(w,M),r=r+Math.imul(B,D)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(A,D)|0,a=a+Math.imul(A,Y)|0,r=r+Math.imul(I,z)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(C,z)|0,a=a+Math.imul(C,J)|0,r=r+Math.imul(m,P)|0,i=(i=i+Math.imul(m,K)|0)+Math.imul(y,P)|0,a=a+Math.imul(y,K)|0,r=r+Math.imul(f,$)|0,i=(i=i+Math.imul(f,tt)|0)+Math.imul(p,$)|0,a=a+Math.imul(p,tt)|0;var Ct=(c+(r=r+Math.imul(d,nt)|0)|0)+((8191&(i=(i=i+Math.imul(d,rt)|0)+Math.imul(h,nt)|0))<<13)|0;c=((a=a+Math.imul(h,rt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(G,W),i=(i=Math.imul(G,M))+Math.imul(R,W)|0,a=Math.imul(R,M),r=r+Math.imul(Q,D)|0,i=(i=i+Math.imul(Q,Y)|0)+Math.imul(w,D)|0,a=a+Math.imul(w,Y)|0,r=r+Math.imul(B,z)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(A,z)|0,a=a+Math.imul(A,J)|0,r=r+Math.imul(I,P)|0,i=(i=i+Math.imul(I,K)|0)+Math.imul(C,P)|0,a=a+Math.imul(C,K)|0,r=r+Math.imul(m,$)|0,i=(i=i+Math.imul(m,tt)|0)+Math.imul(y,$)|0,a=a+Math.imul(y,tt)|0,r=r+Math.imul(f,nt)|0,i=(i=i+Math.imul(f,rt)|0)+Math.imul(p,nt)|0,a=a+Math.imul(p,rt)|0;var xt=(c+(r=r+Math.imul(d,at)|0)|0)+((8191&(i=(i=i+Math.imul(d,ot)|0)+Math.imul(h,at)|0))<<13)|0;c=((a=a+Math.imul(h,ot)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(L,W),i=(i=Math.imul(L,M))+Math.imul(_,W)|0,a=Math.imul(_,M),r=r+Math.imul(G,D)|0,i=(i=i+Math.imul(G,Y)|0)+Math.imul(R,D)|0,a=a+Math.imul(R,Y)|0,r=r+Math.imul(Q,z)|0,i=(i=i+Math.imul(Q,J)|0)+Math.imul(w,z)|0,a=a+Math.imul(w,J)|0,r=r+Math.imul(B,P)|0,i=(i=i+Math.imul(B,K)|0)+Math.imul(A,P)|0,a=a+Math.imul(A,K)|0,r=r+Math.imul(I,$)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(C,$)|0,a=a+Math.imul(C,tt)|0,r=r+Math.imul(m,nt)|0,i=(i=i+Math.imul(m,rt)|0)+Math.imul(y,nt)|0,a=a+Math.imul(y,rt)|0,r=r+Math.imul(f,at)|0,i=(i=i+Math.imul(f,ot)|0)+Math.imul(p,at)|0,a=a+Math.imul(p,ot)|0;var Bt=(c+(r=r+Math.imul(d,lt)|0)|0)+((8191&(i=(i=i+Math.imul(d,ct)|0)+Math.imul(h,lt)|0))<<13)|0;c=((a=a+Math.imul(h,ct)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,r=Math.imul(k,W),i=(i=Math.imul(k,M))+Math.imul(V,W)|0,a=Math.imul(V,M),r=r+Math.imul(L,D)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(_,D)|0,a=a+Math.imul(_,Y)|0,r=r+Math.imul(G,z)|0,i=(i=i+Math.imul(G,J)|0)+Math.imul(R,z)|0,a=a+Math.imul(R,J)|0,r=r+Math.imul(Q,P)|0,i=(i=i+Math.imul(Q,K)|0)+Math.imul(w,P)|0,a=a+Math.imul(w,K)|0,r=r+Math.imul(B,$)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(A,$)|0,a=a+Math.imul(A,tt)|0,r=r+Math.imul(I,nt)|0,i=(i=i+Math.imul(I,rt)|0)+Math.imul(C,nt)|0,a=a+Math.imul(C,rt)|0,r=r+Math.imul(m,at)|0,i=(i=i+Math.imul(m,ot)|0)+Math.imul(y,at)|0,a=a+Math.imul(y,ot)|0,r=r+Math.imul(f,lt)|0,i=(i=i+Math.imul(f,ct)|0)+Math.imul(p,lt)|0,a=a+Math.imul(p,ct)|0;var At=(c+(r=r+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,ht)|0)+Math.imul(h,dt)|0))<<13)|0;c=((a=a+Math.imul(h,ht)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(N,W),i=(i=Math.imul(N,M))+Math.imul(T,W)|0,a=Math.imul(T,M),r=r+Math.imul(k,D)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(V,D)|0,a=a+Math.imul(V,Y)|0,r=r+Math.imul(L,z)|0,i=(i=i+Math.imul(L,J)|0)+Math.imul(_,z)|0,a=a+Math.imul(_,J)|0,r=r+Math.imul(G,P)|0,i=(i=i+Math.imul(G,K)|0)+Math.imul(R,P)|0,a=a+Math.imul(R,K)|0,r=r+Math.imul(Q,$)|0,i=(i=i+Math.imul(Q,tt)|0)+Math.imul(w,$)|0,a=a+Math.imul(w,tt)|0,r=r+Math.imul(B,nt)|0,i=(i=i+Math.imul(B,rt)|0)+Math.imul(A,nt)|0,a=a+Math.imul(A,rt)|0,r=r+Math.imul(I,at)|0,i=(i=i+Math.imul(I,ot)|0)+Math.imul(C,at)|0,a=a+Math.imul(C,ot)|0,r=r+Math.imul(m,lt)|0,i=(i=i+Math.imul(m,ct)|0)+Math.imul(y,lt)|0,a=a+Math.imul(y,ct)|0,r=r+Math.imul(f,dt)|0,i=(i=i+Math.imul(f,ht)|0)+Math.imul(p,dt)|0,a=a+Math.imul(p,ht)|0;var Ft=(c+(r=r+Math.imul(d,ft)|0)|0)+((8191&(i=(i=i+Math.imul(d,pt)|0)+Math.imul(h,ft)|0))<<13)|0;c=((a=a+Math.imul(h,pt)|0)+(i>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,r=Math.imul(N,D),i=(i=Math.imul(N,Y))+Math.imul(T,D)|0,a=Math.imul(T,Y),r=r+Math.imul(k,z)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(V,z)|0,a=a+Math.imul(V,J)|0,r=r+Math.imul(L,P)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(_,P)|0,a=a+Math.imul(_,K)|0,r=r+Math.imul(G,$)|0,i=(i=i+Math.imul(G,tt)|0)+Math.imul(R,$)|0,a=a+Math.imul(R,tt)|0,r=r+Math.imul(Q,nt)|0,i=(i=i+Math.imul(Q,rt)|0)+Math.imul(w,nt)|0,a=a+Math.imul(w,rt)|0,r=r+Math.imul(B,at)|0,i=(i=i+Math.imul(B,ot)|0)+Math.imul(A,at)|0,a=a+Math.imul(A,ot)|0,r=r+Math.imul(I,lt)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(C,lt)|0,a=a+Math.imul(C,ct)|0,r=r+Math.imul(m,dt)|0,i=(i=i+Math.imul(m,ht)|0)+Math.imul(y,dt)|0,a=a+Math.imul(y,ht)|0;var Qt=(c+(r=r+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,pt)|0)+Math.imul(p,ft)|0))<<13)|0;c=((a=a+Math.imul(p,pt)|0)+(i>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,r=Math.imul(N,z),i=(i=Math.imul(N,J))+Math.imul(T,z)|0,a=Math.imul(T,J),r=r+Math.imul(k,P)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(V,P)|0,a=a+Math.imul(V,K)|0,r=r+Math.imul(L,$)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(_,$)|0,a=a+Math.imul(_,tt)|0,r=r+Math.imul(G,nt)|0,i=(i=i+Math.imul(G,rt)|0)+Math.imul(R,nt)|0,a=a+Math.imul(R,rt)|0,r=r+Math.imul(Q,at)|0,i=(i=i+Math.imul(Q,ot)|0)+Math.imul(w,at)|0,a=a+Math.imul(w,ot)|0,r=r+Math.imul(B,lt)|0,i=(i=i+Math.imul(B,ct)|0)+Math.imul(A,lt)|0,a=a+Math.imul(A,ct)|0,r=r+Math.imul(I,dt)|0,i=(i=i+Math.imul(I,ht)|0)+Math.imul(C,dt)|0,a=a+Math.imul(C,ht)|0;var wt=(c+(r=r+Math.imul(m,ft)|0)|0)+((8191&(i=(i=i+Math.imul(m,pt)|0)+Math.imul(y,ft)|0))<<13)|0;c=((a=a+Math.imul(y,pt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(N,P),i=(i=Math.imul(N,K))+Math.imul(T,P)|0,a=Math.imul(T,K),r=r+Math.imul(k,$)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(V,$)|0,a=a+Math.imul(V,tt)|0,r=r+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,rt)|0)+Math.imul(_,nt)|0,a=a+Math.imul(_,rt)|0,r=r+Math.imul(G,at)|0,i=(i=i+Math.imul(G,ot)|0)+Math.imul(R,at)|0,a=a+Math.imul(R,ot)|0,r=r+Math.imul(Q,lt)|0,i=(i=i+Math.imul(Q,ct)|0)+Math.imul(w,lt)|0,a=a+Math.imul(w,ct)|0,r=r+Math.imul(B,dt)|0,i=(i=i+Math.imul(B,ht)|0)+Math.imul(A,dt)|0,a=a+Math.imul(A,ht)|0;var Ut=(c+(r=r+Math.imul(I,ft)|0)|0)+((8191&(i=(i=i+Math.imul(I,pt)|0)+Math.imul(C,ft)|0))<<13)|0;c=((a=a+Math.imul(C,pt)|0)+(i>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,r=Math.imul(N,$),i=(i=Math.imul(N,tt))+Math.imul(T,$)|0,a=Math.imul(T,tt),r=r+Math.imul(k,nt)|0,i=(i=i+Math.imul(k,rt)|0)+Math.imul(V,nt)|0,a=a+Math.imul(V,rt)|0,r=r+Math.imul(L,at)|0,i=(i=i+Math.imul(L,ot)|0)+Math.imul(_,at)|0,a=a+Math.imul(_,ot)|0,r=r+Math.imul(G,lt)|0,i=(i=i+Math.imul(G,ct)|0)+Math.imul(R,lt)|0,a=a+Math.imul(R,ct)|0,r=r+Math.imul(Q,dt)|0,i=(i=i+Math.imul(Q,ht)|0)+Math.imul(w,dt)|0,a=a+Math.imul(w,ht)|0;var Gt=(c+(r=r+Math.imul(B,ft)|0)|0)+((8191&(i=(i=i+Math.imul(B,pt)|0)+Math.imul(A,ft)|0))<<13)|0;c=((a=a+Math.imul(A,pt)|0)+(i>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,r=Math.imul(N,nt),i=(i=Math.imul(N,rt))+Math.imul(T,nt)|0,a=Math.imul(T,rt),r=r+Math.imul(k,at)|0,i=(i=i+Math.imul(k,ot)|0)+Math.imul(V,at)|0,a=a+Math.imul(V,ot)|0,r=r+Math.imul(L,lt)|0,i=(i=i+Math.imul(L,ct)|0)+Math.imul(_,lt)|0,a=a+Math.imul(_,ct)|0,r=r+Math.imul(G,dt)|0,i=(i=i+Math.imul(G,ht)|0)+Math.imul(R,dt)|0,a=a+Math.imul(R,ht)|0;var Rt=(c+(r=r+Math.imul(Q,ft)|0)|0)+((8191&(i=(i=i+Math.imul(Q,pt)|0)+Math.imul(w,ft)|0))<<13)|0;c=((a=a+Math.imul(w,pt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(N,at),i=(i=Math.imul(N,ot))+Math.imul(T,at)|0,a=Math.imul(T,ot),r=r+Math.imul(k,lt)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(V,lt)|0,a=a+Math.imul(V,ct)|0,r=r+Math.imul(L,dt)|0,i=(i=i+Math.imul(L,ht)|0)+Math.imul(_,dt)|0,a=a+Math.imul(_,ht)|0;var St=(c+(r=r+Math.imul(G,ft)|0)|0)+((8191&(i=(i=i+Math.imul(G,pt)|0)+Math.imul(R,ft)|0))<<13)|0;c=((a=a+Math.imul(R,pt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(N,lt),i=(i=Math.imul(N,ct))+Math.imul(T,lt)|0,a=Math.imul(T,ct),r=r+Math.imul(k,dt)|0,i=(i=i+Math.imul(k,ht)|0)+Math.imul(V,dt)|0,a=a+Math.imul(V,ht)|0;var Lt=(c+(r=r+Math.imul(L,ft)|0)|0)+((8191&(i=(i=i+Math.imul(L,pt)|0)+Math.imul(_,ft)|0))<<13)|0;c=((a=a+Math.imul(_,pt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,r=Math.imul(N,dt),i=(i=Math.imul(N,ht))+Math.imul(T,dt)|0,a=Math.imul(T,ht);var _t=(c+(r=r+Math.imul(k,ft)|0)|0)+((8191&(i=(i=i+Math.imul(k,pt)|0)+Math.imul(V,ft)|0))<<13)|0;c=((a=a+Math.imul(V,pt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863;var Et=(c+(r=Math.imul(N,ft))|0)+((8191&(i=(i=Math.imul(N,pt))+Math.imul(T,ft)|0))<<13)|0;return c=((a=Math.imul(T,pt))+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,l[0]=vt,l[1]=mt,l[2]=yt,l[3]=bt,l[4]=It,l[5]=Ct,l[6]=xt,l[7]=Bt,l[8]=At,l[9]=Ft,l[10]=Qt,l[11]=wt,l[12]=Ut,l[13]=Gt,l[14]=Rt,l[15]=St,l[16]=Lt,l[17]=_t,l[18]=Et,0!==c&&(l[19]=c,n.length++),n};function m(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,a=0;a<n.length-1;a++){var o=i;i=0;for(var s=67108863&r,l=Math.min(a,e.length-1),c=Math.max(0,a-t.length+1);c<=l;c++){var u=a-c,d=(0|t.words[u])*(0|e.words[c]),h=67108863&d;s=67108863&(h=h+s|0),i+=(o=(o=o+(d/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}n.words[a]=s,r=o,o=i}return 0!==r?n.words[a]=r:n.length--,n.strip()}function y(t,e,n){return(new b).mulp(t,e,n)}function b(t,e){this.x=t,this.y=e}Math.imul||(v=p),a.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?v(this,t,e):n<63?p(this,t,e):n<1024?m(this,t,e):y(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),n=a.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},b.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},b.prototype.permute=function(t,e,n,r,i,a){for(var o=0;o<a;o++)r[o]=e[t[o]],i[o]=n[t[o]]},b.prototype.transform=function(t,e,n,r,i,a){this.permute(a,t,e,n,r,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,l=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var d=l,h=c,g=0;g<o;g++){var f=n[u+g],p=r[u+g],v=n[u+g+o],m=r[u+g+o],y=d*v-h*m;m=d*m+h*v,v=y,n[u+g]=f+v,r[u+g]=p+m,n[u+g+o]=f-v,r[u+g+o]=p-m,g!==s&&(y=l*d-c*h,h=l*h+c*d,d=y)}},b.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},b.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},b.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},b.prototype.convert13b=function(t,e,n,i){for(var a=0,o=0;o<e;o++)a+=0|t[o],n[2*o]=8191&a,a>>>=13,n[2*o+1]=8191&a,a>>>=13;for(o=2*e;o<i;++o)n[o]=0;r(0===a),r(0==(-8192&a))},b.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},b.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),a=this.stub(r),o=new Array(r),s=new Array(r),l=new Array(r),c=new Array(r),u=new Array(r),d=new Array(r),h=n.words;h.length=r,this.convert13b(t.words,t.length,o,r),this.convert13b(e.words,e.length,c,r),this.transform(o,a,s,l,r,i),this.transform(c,a,u,d,r,i);for(var g=0;g<r;g++){var f=s[g]*u[g]-l[g]*d[g];l[g]=s[g]*d[g]+l[g]*u[g],s[g]=f}return this.conjugate(s,l,r),this.transform(s,l,h,a,r,i),this.conjugate(h,a,r),this.normalize13b(h,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},a.prototype.mul=function(t){var e=new a(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},a.prototype.mulf=function(t){var e=new a(null);return e.words=new Array(this.length+t.length),y(this,t,e)},a.prototype.imul=function(t){return this.clone().mulTo(t,this)},a.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,a=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=a>>>26,this.words[n]=67108863&a}return 0!==e&&(this.words[n]=e,this.length++),this},a.prototype.muln=function(t){return this.clone().imuln(t)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(t){var e=f(t);if(0===e.length)return new a(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},a.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,a=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var s=this.words[e]&a,l=(0|this.words[e])-s<<n;this.words[e]=l|o,o=s>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},a.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},a.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var a=t%26,o=Math.min((t-a)/26,this.length),s=67108863^67108863>>>a<<a,l=n;if(i-=o,i=Math.max(0,i),l){for(var c=0;c<o;c++)l.words[c]=this.words[c];l.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var u=0;for(c=this.length-1;c>=0&&(0!==u||c>=i);c--){var d=0|this.words[c];this.words[c]=u<<26-a|d>>>a,u=d&s}return l&&0!==u&&(l.words[l.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},a.prototype.shln=function(t){return this.clone().ishln(t)},a.prototype.ushln=function(t){return this.clone().iushln(t)},a.prototype.shrn=function(t){return this.clone().ishrn(t)},a.prototype.ushrn=function(t){return this.clone().iushrn(t)},a.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n||!(this.words[n]&i))},a.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},a.prototype.maskn=function(t){return this.clone().imaskn(t)},a.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},a.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},a.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},a.prototype.addn=function(t){return this.clone().iaddn(t)},a.prototype.subn=function(t){return this.clone().isubn(t)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(t,e,n){var i,a,o=t.length+n;this._expand(o);var s=0;for(i=0;i<t.length;i++){a=(0|this.words[i+n])+s;var l=(0|t.words[i])*e;s=((a-=67108863&l)>>26)-(l/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)s=(a=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&a;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(a=-(0|this.words[i])+s)>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},a.prototype._wordDiv=function(t,e){var n=this.length-t.length,r=this.clone(),i=t,o=0|i.words[i.length-1];0!=(n=26-this._countBits(o))&&(i=i.ushln(n),r.iushln(n),o=0|i.words[i.length-1]);var s,l=r.length-i.length;if("mod"!==e){(s=new a(null)).length=l+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var u=r.clone()._ishlnsubmul(i,1,l);0===u.negative&&(r=u,s&&(s.words[l]=1));for(var d=l-1;d>=0;d--){var h=67108864*(0|r.words[i.length+d])+(0|r.words[i.length+d-1]);for(h=Math.min(h/o|0,67108863),r._ishlnsubmul(i,h,d);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);s&&(s.words[d]=h)}return s&&s.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},a.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:s.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new a(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new a(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new a(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,s},a.prototype.div=function(t){return this.divmod(t,"div",!1).div},a.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},a.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},a.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),a=n.cmp(r);return a<0||1===i&&0===a?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},a.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},a.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},a.prototype.divn=function(t){return this.clone().idivn(t)},a.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new a(1),o=new a(0),s=new a(0),l=new a(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var u=n.clone(),d=e.clone();!e.isZero();){for(var h=0,g=1;0==(e.words[0]&g)&&h<26;++h,g<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(u),o.isub(d)),i.iushrn(1),o.iushrn(1);for(var f=0,p=1;0==(n.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(n.iushrn(f);f-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(u),l.isub(d)),s.iushrn(1),l.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),o.isub(l)):(n.isub(e),s.isub(i),l.isub(o))}return{a:s,b:l,gcd:n.iushln(c)}},a.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new a(1),s=new a(0),l=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,u=1;0==(e.words[0]&u)&&c<26;++c,u<<=1);if(c>0)for(e.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(l),o.iushrn(1);for(var d=0,h=1;0==(n.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(n.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(s)):(n.isub(e),s.isub(o))}return(i=0===e.cmpn(1)?o:s).cmpn(0)<0&&i.iadd(t),i},a.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var a=e;e=n,n=a}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},a.prototype.invm=function(t){return this.egcd(t).a.umod(t)},a.prototype.isEven=function(){return 0==(1&this.words[0])},a.prototype.isOdd=function(){return 1==(1&this.words[0])},a.prototype.andln=function(t){return this.words[0]&t},a.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var a=i,o=n;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},a.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},a.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},a.prototype.gtn=function(t){return 1===this.cmpn(t)},a.prototype.gt=function(t){return 1===this.cmp(t)},a.prototype.gten=function(t){return this.cmpn(t)>=0},a.prototype.gte=function(t){return this.cmp(t)>=0},a.prototype.ltn=function(t){return-1===this.cmpn(t)},a.prototype.lt=function(t){return-1===this.cmp(t)},a.prototype.lten=function(t){return this.cmpn(t)<=0},a.prototype.lte=function(t){return this.cmp(t)<=0},a.prototype.eqn=function(t){return 0===this.cmpn(t)},a.prototype.eq=function(t){return 0===this.cmp(t)},a.red=function(t){return new Q(t)},a.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(t){return this.red=t,this},a.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},a.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},a.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},a.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},a.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},a.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},a.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},a.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var I={k256:null,p224:null,p192:null,p25519:null};function C(t,e){this.name=t,this.p=new a(e,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function x(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function B(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function F(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Q(t){if("string"==typeof t){var e=a._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function w(t){Q.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}C.prototype._tmp=function(){var t=new a(null);return t.words=new Array(Math.ceil(this.n/13)),t},C.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},C.prototype.split=function(t,e){t.iushrn(this.n,0,e)},C.prototype.imulK=function(t){return t.imul(this.k)},i(x,C),x.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var a=t.words[9];for(e.words[e.length++]=a&n,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&n)<<4|a>>>22,a=o}a>>>=22,t.words[i-10]=a,0===a&&t.length>10?t.length-=10:t.length-=9},x.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(B,C),i(A,C),i(F,C),F.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},a._prime=function(t){if(I[t])return I[t];var e;if("k256"===t)e=new x;else if("p224"===t)e=new B;else if("p192"===t)e=new A;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new F}return I[t]=e,e},Q.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},Q.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},Q.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},Q.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},Q.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},Q.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},Q.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},Q.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},Q.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},Q.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},Q.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},Q.prototype.isqr=function(t){return this.imul(t,t.clone())},Q.prototype.sqr=function(t){return this.mul(t,t)},Q.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new a(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);r(!i.isZero());var s=new a(1).toRed(this),l=s.redNeg(),c=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new a(2*u*u).toRed(this);0!==this.pow(u,c).cmp(l);)u.redIAdd(l);for(var d=this.pow(u,i),h=this.pow(t,i.addn(1).iushrn(1)),g=this.pow(t,i),f=o;0!==g.cmp(s);){for(var p=g,v=0;0!==p.cmp(s);v++)p=p.redSqr();r(v<f);var m=this.pow(d,new a(1).iushln(f-v-1));h=h.redMul(m),d=m.redSqr(),g=g.redMul(d),f=v}return h},Q.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},Q.prototype.pow=function(t,e){if(e.isZero())return new a(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=4,r=new Array(1<<n);r[0]=new a(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var o=r[0],s=0,l=0,c=e.bitLength()%26;for(0===c&&(c=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],d=c-1;d>=0;d--){var h=u>>d&1;o!==r[0]&&(o=this.sqr(o)),0!==h||0!==s?(s<<=1,s|=h,(++l===n||0===i&&0===d)&&(o=this.mul(o,r[s]),l=0,s=0)):l=0}c=26}return o},Q.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},Q.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},a.mont=function(t){return new w(t)},i(w,Q),w.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},w.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},w.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},w.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new a(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},w.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)},{buffer:2}],34:[function(t,e,n){function r(t){var e,n,r,i=t.length,a=0;for(e=0;e<i;++e)a+=t[e].length;var o=new Array(a),s=0;for(e=0;e<i;++e){var l=t[e],c=l.length;for(n=0;n<c;++n){var u=o[s++]=new Array(c-1),d=0;for(r=0;r<c;++r)r!==n&&(u[d++]=l[r]);if(1&n){var h=u[1];u[1]=u[0],u[0]=h}}}return o}e.exports=r},{}],35:[function(t,e,n){e.exports=g;var r,i=t("typedarray-pool"),a=t("./lib/sweep"),o=t("./lib/intersect");function s(t,e){for(var n=0;n<t;++n)if(!(e[n]<=e[n+t]))return!0;return!1}function l(t,e,n,r){for(var i=0,a=0,o=0,l=t.length;o<l;++o){var c=t[o];if(!s(e,c)){for(var u=0;u<2*e;++u)n[i++]=c[u];r[a++]=o}}return a}function c(t,e,n,r){var s=t.length,c=e.length;if(!(s<=0||c<=0)){var u=t[0].length>>>1;if(!(u<=0)){var d,h=i.mallocDouble(2*u*s),g=i.mallocInt32(s);if((s=l(t,u,h,g))>0){if(1===u&&r)a.init(s),d=a.sweepComplete(u,n,0,s,h,g,0,s,h,g);else{var f=i.mallocDouble(2*u*c),p=i.mallocInt32(c);(c=l(e,u,f,p))>0&&(a.init(s+c),d=1===u?a.sweepBipartite(u,n,0,s,h,g,0,c,f,p):o(u,n,r,s,h,g,c,f,p),i.free(f),i.free(p))}i.free(h),i.free(g)}return d}}}function u(t,e){r.push([t,e])}function d(t){return r=[],c(t,t,u,!0),r}function h(t,e){return r=[],c(t,e,u,!1),r}function g(t,e,n){switch(arguments.length){case 1:return d(t);case 2:return"function"==typeof e?c(t,t,e,!0):h(t,e);case 3:return c(t,e,n,!1);default:throw new Error("box-intersect: Invalid arguments")}}},{"./lib/intersect":37,"./lib/sweep":41,"typedarray-pool":308}],36:[function(t,e,n){function r(){function t(t,e,n,r,i,a,o,s,l,c,u){for(var d=2*t,h=r,g=d*r;h<i;++h,g+=d){var f=a[e+g],p=a[e+g+t],v=o[h];t:for(var m=s,y=d*s;m<l;++m,y+=d){var b=c[e+y],I=c[e+y+t],C=u[m];if(!(I<f||p<b)){for(var x=e+1;x<t;++x){var B=a[x+g],A=a[x+t+g],F=c[x+y],Q=c[x+t+y];if(A<F||Q<B)continue t}var w=n(v,C);if(void 0!==w)return w}}}}function e(t,e,n,r,i,a,o,s,l,c,u){for(var d=2*t,h=s,g=d*s;h<l;++h,g+=d){var f=c[e+g],p=c[e+g+t],v=u[h];t:for(var m=r,y=d*r;m<i;++m,y+=d){var b=a[e+y],I=a[e+y+t],C=o[m];if(!(p<b||I<f)){for(var x=e+1;x<t;++x){var B=a[x+y],A=a[x+t+y],F=c[x+g],Q=c[x+t+g];if(A<F||Q<B)continue t}var w=n(C,v);if(void 0!==w)return w}}}}function n(n,r,i,a,o,s,l,c,u,d,h){return o-a>u-c?t(n,r,i,a,o,s,l,c,u,d,h):e(n,r,i,a,o,s,l,c,u,d,h)}return n}function i(){function t(t,e,n,r,i,a,o,s,l,c,u){for(var d=2*t,h=r,g=d*r;h<i;++h,g+=d){var f=a[e+g],p=a[e+g+t],v=o[h];t:for(var m=s,y=d*s;m<l;++m,y+=d){var b=c[e+y],I=u[m];if(!(b<=f||p<b)){for(var C=e+1;C<t;++C){var x=a[C+g],B=a[C+t+g],A=c[C+y],F=c[C+t+y];if(B<A||F<x)continue t}var Q=n(I,v);if(void 0!==Q)return Q}}}}function e(t,e,n,r,i,a,o,s,l,c,u){for(var d=2*t,h=r,g=d*r;h<i;++h,g+=d){var f=a[e+g],p=a[e+g+t],v=o[h];t:for(var m=s,y=d*s;m<l;++m,y+=d){var b=c[e+y],I=u[m];if(!(b<f||p<b)){for(var C=e+1;C<t;++C){var x=a[C+g],B=a[C+t+g],A=c[C+y],F=c[C+t+y];if(B<A||F<x)continue t}var Q=n(v,I);if(void 0!==Q)return Q}}}}function n(t,e,n,r,i,a,o,s,l,c,u){for(var d=2*t,h=s,g=d*s;h<l;++h,g+=d){var f=c[e+g],p=u[h];t:for(var v=r,m=d*r;v<i;++v,m+=d){var y=a[e+m],b=a[e+m+t],I=o[v];if(!(f<=y||b<f)){for(var C=e+1;C<t;++C){var x=a[C+m],B=a[C+t+m],A=c[C+g],F=c[C+t+g];if(B<A||F<x)continue t}var Q=n(p,I);if(void 0!==Q)return Q}}}}function r(t,e,n,r,i,a,o,s,l,c,u){for(var d=2*t,h=s,g=d*s;h<l;++h,g+=d){var f=c[e+g],p=u[h];t:for(var v=r,m=d*r;v<i;++v,m+=d){var y=a[e+m],b=a[e+m+t],I=o[v];if(!(f<y||b<f)){for(var C=e+1;C<t;++C){var x=a[C+m],B=a[C+t+m],A=c[C+g],F=c[C+t+g];if(B<A||F<x)continue t}var Q=n(I,p);if(void 0!==Q)return Q}}}}function i(i,a,o,s,l,c,u,d,h,g,f,p){return c-l>g-h?s?t(i,a,o,l,c,u,d,h,g,f,p):e(i,a,o,l,c,u,d,h,g,f,p):s?n(i,a,o,l,c,u,d,h,g,f,p):r(i,a,o,l,c,u,d,h,g,f,p)}return i}function a(t){return t?r():i()}n.partial=a(!1),n.full=a(!0)},{}],37:[function(t,e,n){e.exports=G;var r=t("typedarray-pool"),i=t("bit-twiddle"),a=t("./brute"),o=a.partial,s=a.full,l=t("./sweep"),c=t("./median"),u=t("./partition"),d=128,h=1<<22,g=1<<22,f=u("!(lo>=p0)&&!(p1>=hi)"),p=u("lo===p0"),v=u("lo<p0"),m=u("hi<=p0"),y=u("lo<=p0&&p0<=hi"),b=u("lo<p0&&p0<=hi"),I=6,C=2,x=1024,B=r.mallocInt32(x),A=r.mallocDouble(x);function F(t,e){var n=8*i.log2(e+1)*(t+1)|0,a=i.nextPow2(I*n);B.length<a&&(r.free(B),B=r.mallocInt32(a));var o=i.nextPow2(C*n);A.length<o&&(r.free(A),A=r.mallocDouble(o))}function Q(t,e,n,r,i,a,o,s,l){var c=I*t;B[c]=e,B[c+1]=n,B[c+2]=r,B[c+3]=i,B[c+4]=a,B[c+5]=o;var u=C*t;A[u]=s,A[u+1]=l}function w(t,e,n,r,i,a,o,s,l,c,u){var d=2*t,h=l*d,g=c[h+e];t:for(var f=i,p=i*d;f<a;++f,p+=d){var v=o[p+e],m=o[p+e+t];if(!(g<v||m<g||r&&g===v)){for(var y,b=s[f],I=e+1;I<t;++I){v=o[p+I],m=o[p+I+t];var C=c[h+I],x=c[h+I+t];if(m<C||x<v)continue t}if(void 0!==(y=r?n(u,b):n(b,u)))return y}}}function U(t,e,n,r,i,a,o,s,l,c){var u=2*t,d=s*u,h=l[d+e];t:for(var g=r,f=r*u;g<i;++g,f+=u){var p=o[g];if(p!==c){var v=a[f+e],m=a[f+e+t];if(!(h<v||m<h)){for(var y=e+1;y<t;++y){v=a[f+y],m=a[f+y+t];var b=l[d+y],I=l[d+y+t];if(m<b||I<v)continue t}var C=n(p,c);if(void 0!==C)return C}}}}function G(t,e,n,r,i,a,u,x,G){F(t,r+u);var R,S=0,L=2*t;for(Q(S++,0,0,r,0,u,n?16:0,-1/0,1/0),n||Q(S++,0,0,u,0,r,1,-1/0,1/0);S>0;){var _=(S-=1)*I,E=B[_],k=B[_+1],V=B[_+2],Z=B[_+3],N=B[_+4],T=B[_+5],X=S*C,W=A[X],M=A[X+1],H=1&T,D=!!(16&T),Y=i,O=a,z=x,J=G;if(H&&(Y=x,O=G,z=i,J=a),!(2&T&&k>=(V=v(t,E,k,V,Y,O,M))||4&T&&(k=m(t,E,k,V,Y,O,W))>=V)){var j=V-k,P=N-Z;if(D){if(t*j*(j+P)<g){if(void 0!==(R=l.scanComplete(t,E,e,k,V,Y,O,Z,N,z,J)))return R;continue}}else{if(t*Math.min(j,P)<d){if(void 0!==(R=o(t,E,e,H,k,V,Y,O,Z,N,z,J)))return R;continue}if(t*j*P<h){if(void 0!==(R=l.scanBipartite(t,E,e,H,k,V,Y,O,Z,N,z,J)))return R;continue}}var K=f(t,E,k,V,Y,O,W,M);if(k<K)if(t*(K-k)<d){if(void 0!==(R=s(t,E+1,e,k,K,Y,O,Z,N,z,J)))return R}else if(E===t-2){if(void 0!==(R=H?l.sweepBipartite(t,e,Z,N,z,J,k,K,Y,O):l.sweepBipartite(t,e,k,K,Y,O,Z,N,z,J)))return R}else Q(S++,E+1,k,K,Z,N,H,-1/0,1/0),Q(S++,E+1,Z,N,k,K,1^H,-1/0,1/0);if(K<V){var q=c(t,E,Z,N,z,J),$=z[L*q+E],tt=p(t,E,q,N,z,J,$);if(tt<N&&Q(S++,E,K,V,tt,N,(4|H)+(D?16:0),$,M),Z<q&&Q(S++,E,K,V,Z,q,(2|H)+(D?16:0),W,$),q+1===tt){if(void 0!==(R=D?U(t,E,e,K,V,Y,O,q,z,J[q]):w(t,E,e,H,K,V,Y,O,q,z,J[q])))return R}else if(q<tt){var et;if(D){if(K<(et=y(t,E,K,V,Y,O,$))){var nt=p(t,E,K,et,Y,O,$);if(E===t-2){if(K<nt&&void 0!==(R=l.sweepComplete(t,e,K,nt,Y,O,q,tt,z,J)))return R;if(nt<et&&void 0!==(R=l.sweepBipartite(t,e,nt,et,Y,O,q,tt,z,J)))return R}else K<nt&&Q(S++,E+1,K,nt,q,tt,16,-1/0,1/0),nt<et&&(Q(S++,E+1,nt,et,q,tt,0,-1/0,1/0),Q(S++,E+1,q,tt,nt,et,1,-1/0,1/0))}}else K<(et=H?b(t,E,K,V,Y,O,$):y(t,E,K,V,Y,O,$))&&(E===t-2?R=H?l.sweepBipartite(t,e,q,tt,z,J,K,et,Y,O):l.sweepBipartite(t,e,K,et,Y,O,q,tt,z,J):(Q(S++,E+1,K,et,q,tt,H,-1/0,1/0),Q(S++,E+1,q,tt,K,et,1^H,-1/0,1/0)))}}}}}},{"./brute":36,"./median":38,"./partition":39,"./sweep":41,"bit-twiddle":32,"typedarray-pool":308}],38:[function(t,e,n){e.exports=o;var r=t("./partition")("lo<p0"),i=8;function a(t,e,n,r,i,a){for(var o=2*t,s=o*(n+1)+e,l=n+1;l<r;++l,s+=o)for(var c=i[s],u=l,d=o*(l-1);u>n&&i[d+e]>c;--u,d-=o){for(var h=d,g=d+o,f=0;f<o;++f,++h,++g){var p=i[h];i[h]=i[g],i[g]=p}var v=a[u];a[u]=a[u-1],a[u-1]=v}}function o(t,e,n,o,s,l){if(o<=n+1)return n;for(var c=n,u=o,d=o+n>>>1,h=2*t,g=d,f=s[h*d+e];c<u;){if(u-c<i){a(t,e,c,u,s,l),f=s[h*d+e];break}var p=u-c,v=Math.random()*p+c|0,m=s[h*v+e],y=Math.random()*p+c|0,b=s[h*y+e],I=Math.random()*p+c|0,C=s[h*I+e];m<=b?C>=b?(g=y,f=b):m>=C?(g=v,f=m):(g=I,f=C):b>=C?(g=y,f=b):C>=m?(g=v,f=m):(g=I,f=C);for(var x=h*(u-1),B=h*g,A=0;A<h;++A,++x,++B){var F=s[x];s[x]=s[B],s[B]=F}var Q=l[u-1];for(l[u-1]=l[g],l[g]=Q,x=h*(u-1),B=h*(g=r(t,e,c,u-1,s,l,f)),A=0;A<h;++A,++x,++B)F=s[x],s[x]=s[B],s[B]=F;if(Q=l[u-1],l[u-1]=l[g],l[g]=Q,d<g){for(u=g-1;c<u&&s[h*(u-1)+e]===f;)u-=1;u+=1}else{if(!(g<d))break;for(c=g+1;c<u&&s[h*c+e]===f;)c+=1}}return r(t,e,n,d,s,l,s[h*d+e])}},{"./partition":39}],39:[function(t,e,n){e.exports=i;var r={"lo===p0":a,"lo<p0":o,"lo<=p0":s,"hi<=p0":l,"lo<p0&&p0<=hi":u,"lo<=p0&&p0<=hi":c,"!(lo>=p0)&&!(p1>=hi)":d};function i(t){return r[t]}function a(t,e,n,r,i,a,o){for(var s=2*t,l=s*n,c=l,u=n,d=e,h=n;r>h;++h,l+=s)if(i[l+d]===o)if(u===h)u+=1,c+=s;else{for(var g=0;s>g;++g){var f=i[l+g];i[l+g]=i[c],i[c++]=f}var p=a[h];a[h]=a[u],a[u++]=p}return u}function o(t,e,n,r,i,a,o){for(var s=2*t,l=s*n,c=l,u=n,d=e,h=n;r>h;++h,l+=s)if(i[l+d]<o)if(u===h)u+=1,c+=s;else{for(var g=0;s>g;++g){var f=i[l+g];i[l+g]=i[c],i[c++]=f}var p=a[h];a[h]=a[u],a[u++]=p}return u}function s(t,e,n,r,i,a,o){for(var s=2*t,l=s*n,c=l,u=n,d=t+e,h=n;r>h;++h,l+=s)if(i[l+d]<=o)if(u===h)u+=1,c+=s;else{for(var g=0;s>g;++g){var f=i[l+g];i[l+g]=i[c],i[c++]=f}var p=a[h];a[h]=a[u],a[u++]=p}return u}function l(t,e,n,r,i,a,o){for(var s=2*t,l=s*n,c=l,u=n,d=t+e,h=n;r>h;++h,l+=s)if(i[l+d]<=o)if(u===h)u+=1,c+=s;else{for(var g=0;s>g;++g){var f=i[l+g];i[l+g]=i[c],i[c++]=f}var p=a[h];a[h]=a[u],a[u++]=p}return u}function c(t,e,n,r,i,a,o){for(var s=2*t,l=s*n,c=l,u=n,d=e,h=t+e,g=n;r>g;++g,l+=s){var f=i[l+d],p=i[l+h];if(f<=o&&o<=p)if(u===g)u+=1,c+=s;else{for(var v=0;s>v;++v){var m=i[l+v];i[l+v]=i[c],i[c++]=m}var y=a[g];a[g]=a[u],a[u++]=y}}return u}function u(t,e,n,r,i,a,o){for(var s=2*t,l=s*n,c=l,u=n,d=e,h=t+e,g=n;r>g;++g,l+=s){var f=i[l+d],p=i[l+h];if(f<o&&o<=p)if(u===g)u+=1,c+=s;else{for(var v=0;s>v;++v){var m=i[l+v];i[l+v]=i[c],i[c++]=m}var y=a[g];a[g]=a[u],a[u++]=y}}return u}function d(t,e,n,r,i,a,o,s){for(var l=2*t,c=l*n,u=c,d=n,h=e,g=t+e,f=n;r>f;++f,c+=l){var p=i[c+h],v=i[c+g];if(!(p>=o||s>=v))if(d===f)d+=1,u+=l;else{for(var m=0;l>m;++m){var y=i[c+m];i[c+m]=i[u],i[u++]=y}var b=a[f];a[f]=a[d],a[d++]=b}}return d}},{}],40:[function(t,e,n){e.exports=i;var r=32;function i(t,e){e<=4*r?a(0,e-1,t):h(0,e-1,t)}function a(t,e,n){for(var r=2*(t+1),i=t+1;i<=e;++i){for(var a=n[r++],o=n[r++],s=i,l=r-2;s-- >t;){var c=n[l-2],u=n[l-1];if(c<a)break;if(c===a&&u<o)break;n[l]=c,n[l+1]=u,l-=2}n[l]=a,n[l+1]=o}}function o(t,e,n){e*=2;var r=n[t*=2],i=n[t+1];n[t]=n[e],n[t+1]=n[e+1],n[e]=r,n[e+1]=i}function s(t,e,n){e*=2,n[t*=2]=n[e],n[t+1]=n[e+1]}function l(t,e,n,r){e*=2,n*=2;var i=r[t*=2],a=r[t+1];r[t]=r[e],r[t+1]=r[e+1],r[e]=r[n],r[e+1]=r[n+1],r[n]=i,r[n+1]=a}function c(t,e,n,r,i){e*=2,i[t*=2]=i[e],i[e]=n,i[t+1]=i[e+1],i[e+1]=r}function u(t,e,n){e*=2;var r=n[t*=2],i=n[e];return!(r<i)&&(r!==i||n[t+1]>n[e+1])}function d(t,e,n,r){var i=r[t*=2];return i<e||i===e&&r[t+1]<n}function h(t,e,n){var i=(e-t+1)/6|0,g=t+i,f=e-i,p=t+e>>1,v=p-i,m=p+i,y=g,b=v,I=p,C=m,x=f,B=t+1,A=e-1,F=0;u(y,b,n)&&(F=y,y=b,b=F),u(C,x,n)&&(F=C,C=x,x=F),u(y,I,n)&&(F=y,y=I,I=F),u(b,I,n)&&(F=b,b=I,I=F),u(y,C,n)&&(F=y,y=C,C=F),u(I,C,n)&&(F=I,I=C,C=F),u(b,x,n)&&(F=b,b=x,x=F),u(b,I,n)&&(F=b,b=I,I=F),u(C,x,n)&&(F=C,C=x,x=F);for(var Q=n[2*b],w=n[2*b+1],U=n[2*C],G=n[2*C+1],R=2*y,S=2*I,L=2*x,_=2*g,E=2*p,k=2*f,V=0;V<2;++V){var Z=n[R+V],N=n[S+V],T=n[L+V];n[_+V]=Z,n[E+V]=N,n[k+V]=T}s(v,t,n),s(m,e,n);for(var X=B;X<=A;++X)if(d(X,Q,w,n))X!==B&&o(X,B,n),++B;else if(!d(X,U,G,n))for(;;){if(d(A,U,G,n)){d(A,Q,w,n)?(l(X,B,A,n),++B,--A):(o(X,A,n),--A);break}if(--A<X)break}c(t,B-1,Q,w,n),c(e,A+1,U,G,n),B-2-t<=r?a(t,B-2,n):h(t,B-2,n),e-(A+2)<=r?a(A+2,e,n):h(A+2,e,n),A-B<=r?a(B,A,n):h(B,A,n)}},{}],41:[function(t,e,n){e.exports={init:p,sweepBipartite:y,sweepComplete:b,scanBipartite:I,scanComplete:C};var r=t("typedarray-pool"),i=t("bit-twiddle"),a=t("./sort"),o=1<<28,s=1024,l=r.mallocInt32(s),c=r.mallocInt32(s),u=r.mallocInt32(s),d=r.mallocInt32(s),h=r.mallocInt32(s),g=r.mallocInt32(s),f=r.mallocDouble(8*s);function p(t){var e=i.nextPow2(t);l.length<e&&(r.free(l),l=r.mallocInt32(e)),c.length<e&&(r.free(c),c=r.mallocInt32(e)),u.length<e&&(r.free(u),u=r.mallocInt32(e)),d.length<e&&(r.free(d),d=r.mallocInt32(e)),h.length<e&&(r.free(h),h=r.mallocInt32(e)),g.length<e&&(r.free(g),g=r.mallocInt32(e));var n=8*e;f.length<n&&(r.free(f),f=r.mallocDouble(n))}function v(t,e,n,r){var i=e[r],a=t[n-1];t[i]=a,e[a]=i}function m(t,e,n,r){t[n]=r,e[r]=n}function y(t,e,n,r,i,s,h,g,p,y){for(var b=0,I=2*t,C=t-1,x=I-1,B=n;B<r;++B){var A=s[B],F=I*B;f[b++]=i[F+C],f[b++]=-(A+1),f[b++]=i[F+x],f[b++]=A}for(B=h;B<g;++B){A=y[B]+o;var Q=I*B;f[b++]=p[Q+C],f[b++]=-A,f[b++]=p[Q+x],f[b++]=A}var w=b>>>1;a(f,w);var U=0,G=0;for(B=0;B<w;++B){var R=0|f[2*B+1];if(R>=o)v(u,d,G--,R=R-o|0);else if(R>=0)v(l,c,U--,R);else if(R<=-o){R=-R-o|0;for(var S=0;S<U;++S)if(void 0!==(L=e(l[S],R)))return L;m(u,d,G++,R)}else{for(R=-R-1|0,S=0;S<G;++S){var L;if(void 0!==(L=e(R,u[S])))return L}m(l,c,U++,R)}}}function b(t,e,n,r,i,o,s,p,y,b){for(var I=0,C=2*t,x=t-1,B=C-1,A=n;A<r;++A){var F=o[A]+1<<1,Q=C*A;f[I++]=i[Q+x],f[I++]=-F,f[I++]=i[Q+B],f[I++]=F}for(A=s;A<p;++A){F=b[A]+1<<1;var w=C*A;f[I++]=y[w+x],f[I++]=1|-F,f[I++]=y[w+B],f[I++]=1|F}var U=I>>>1;a(f,U);var G=0,R=0,S=0;for(A=0;A<U;++A){var L=0|f[2*A+1],_=1&L;if(A<U-1&&L>>1==f[2*A+3]>>1&&(_=2,A+=1),L<0){for(var E=-(L>>1)-1,k=0;k<S;++k)if(void 0!==(V=e(h[k],E)))return V;if(0!==_)for(k=0;k<G;++k)if(void 0!==(V=e(l[k],E)))return V;if(1!==_)for(k=0;k<R;++k){var V;if(void 0!==(V=e(u[k],E)))return V}0===_?m(l,c,G++,E):1===_?m(u,d,R++,E):2===_&&m(h,g,S++,E)}else E=(L>>1)-1,0===_?v(l,c,G--,E):1===_?v(u,d,R--,E):2===_&&v(h,g,S--,E)}}function I(t,e,n,r,i,s,u,d,h,g,p,y){var b=0,I=2*t,C=e,x=e+t,B=1,A=1;r?A=o:B=o;for(var F=i;F<s;++F){var Q=F+B,w=I*F;f[b++]=u[w+C],f[b++]=-Q,f[b++]=u[w+x],f[b++]=Q}for(F=h;F<g;++F){Q=F+A;var U=I*F;f[b++]=p[U+C],f[b++]=-Q}var G=b>>>1;a(f,G);var R=0;for(F=0;F<G;++F){var S=0|f[2*F+1];if(S<0){var L=!1;if((Q=-S)>=o?(L=!r,Q-=o):(L=!!r,Q-=1),L)m(l,c,R++,Q);else{var _=y[Q],E=I*Q,k=p[E+e+1],V=p[E+e+1+t];t:for(var Z=0;Z<R;++Z){var N=l[Z],T=I*N;if(!(V<u[T+e+1]||u[T+e+1+t]<k)){for(var X=e+2;X<t;++X)if(p[E+X+t]<u[T+X]||u[T+X+t]<p[E+X])continue t;var W,M=d[N];if(void 0!==(W=r?n(_,M):n(M,_)))return W}}}}else v(l,c,R--,S-B)}}function C(t,e,n,r,i,s,c,u,d,h,g){for(var p=0,v=2*t,m=e,y=e+t,b=r;b<i;++b){var I=b+o,C=v*b;f[p++]=s[C+m],f[p++]=-I,f[p++]=s[C+y],f[p++]=I}for(b=u;b<d;++b){I=b+1;var x=v*b;f[p++]=h[x+m],f[p++]=-I}var B=p>>>1;a(f,B);var A=0;for(b=0;b<B;++b){var F=0|f[2*b+1];if(F<0)if((I=-F)>=o)l[A++]=I-o;else{var Q=g[I-=1],w=v*I,U=h[w+e+1],G=h[w+e+1+t];t:for(var R=0;R<A;++R){var S=l[R],L=c[S];if(L===Q)break;var _=v*S;if(!(G<s[_+e+1]||s[_+e+1+t]<U)){for(var E=e+2;E<t;++E)if(h[w+E+t]<s[_+E]||s[_+E+t]<h[w+E])continue t;var k=n(L,Q);if(void 0!==k)return k}}}else{for(I=F-o,R=A-1;R>=0;--R)if(l[R]===I){for(E=R+1;E<A;++E)l[E-1]=l[E];break}--A}}}},{"./sort":40,"bit-twiddle":32,"typedarray-pool":308}],42:[function(t,e,n){var r=t("./lib/monotone"),i=t("./lib/triangulation"),a=t("./lib/delaunay"),o=t("./lib/filter");function s(t){return[Math.min(t[0],t[1]),Math.max(t[0],t[1])]}function l(t,e){return t[0]-e[0]||t[1]-e[1]}function c(t){return t.map(s).sort(l)}function u(t,e,n){return e in t?t[e]:n}function d(t,e,n){Array.isArray(e)?(n=n||{},e=e||[]):(n=e||{},e=[]);var s=!!u(n,"delaunay",!0),l=!!u(n,"interior",!0),d=!!u(n,"exterior",!0),h=!!u(n,"infinity",!1);if(!l&&!d||0===t.length)return[];var g=r(t,e);if(s||l!==d||h){for(var f=i(t.length,c(e)),p=0;p<g.length;++p){var v=g[p];f.addTriangle(v[0],v[1],v[2])}return s&&a(t,f),d?l?h?o(f,0,h):f.cells():o(f,1,h):o(f,-1)}return g}e.exports=d},{"./lib/delaunay":43,"./lib/filter":44,"./lib/monotone":45,"./lib/triangulation":46}],43:[function(t,e,n){var r=t("robust-in-sphere")[4];function i(t,e,n,i,a,o){var s=e.opposite(i,a);if(!(s<0)){if(a<i){var l=i;i=a,a=l,l=o,o=s,s=l}e.isConstraint(i,a)||r(t[i],t[a],t[o],t[s])<0&&n.push(i,a)}}function a(t,e){for(var n=[],a=t.length,o=e.stars,s=0;s<a;++s)for(var l=o[s],c=1;c<l.length;c+=2)if(!((g=l[c])<s||e.isConstraint(s,g))){for(var u=l[c-1],d=-1,h=1;h<l.length;h+=2)if(l[h-1]===g){d=l[h];break}d<0||r(t[s],t[g],t[u],t[d])<0&&n.push(s,g)}for(;n.length>0;){for(var g=n.pop(),f=(u=-1,d=-1,l=o[s=n.pop()],1);f<l.length;f+=2){var p=l[f-1],v=l[f];p===g?d=v:v===g&&(u=p)}u<0||d<0||r(t[s],t[g],t[u],t[d])>=0||(e.flip(s,g),i(t,e,n,u,s,d),i(t,e,n,s,d,u),i(t,e,n,d,g,u),i(t,e,n,g,u,d))}}t("binary-search-bounds"),e.exports=a},{"binary-search-bounds":31,"robust-in-sphere":282}],44:[function(t,e,n){var r=t("binary-search-bounds");function i(t,e,n,r,i,a,o){this.cells=t,this.neighbor=e,this.flags=r,this.constraint=n,this.active=i,this.next=a,this.boundary=o}function a(t,e){return t[0]-e[0]||t[1]-e[1]||t[2]-e[2]}function o(t,e){for(var n=t.cells(),r=n.length,o=0;o<r;++o){var s=(m=n[o])[0],l=m[1],c=m[2];l<c?l<s&&(m[0]=l,m[1]=c,m[2]=s):c<s&&(m[0]=c,m[1]=s,m[2]=l)}n.sort(a);var u=new Array(r);for(o=0;o<u.length;++o)u[o]=0;var d=[],h=[],g=new Array(3*r),f=new Array(3*r),p=null;e&&(p=[]);var v=new i(n,g,f,u,d,h,p);for(o=0;o<r;++o)for(var m=n[o],y=0;y<3;++y){s=m[y],l=m[(y+1)%3];var b=g[3*o+y]=v.locate(l,s,t.opposite(l,s)),I=f[3*o+y]=t.isConstraint(s,l);b<0&&(I?h.push(o):(d.push(o),u[o]=1),e&&p.push([l,s,-1]))}return v}function s(t,e,n){for(var r=0,i=0;i<t.length;++i)e[i]===n&&(t[r++]=t[i]);return t.length=r,t}function l(t,e,n){var r=o(t,n);if(0===e)return n?r.cells.concat(r.boundary):r.cells;for(var i=1,a=r.active,l=r.next,c=r.flags,u=r.cells,d=r.constraint,h=r.neighbor;a.length>0||l.length>0;){for(;a.length>0;){var g=a.pop();if(c[g]!==-i){c[g]=i,u[g];for(var f=0;f<3;++f){var p=h[3*g+f];p>=0&&0===c[p]&&(d[3*g+f]?l.push(p):(a.push(p),c[p]=i))}}}var v=l;l=a,a=v,l.length=0,i=-i}var m=s(u,c,e);return n?m.concat(r.boundary):m}e.exports=l,i.prototype.locate=function(){var t=[0,0,0];return function(e,n,i){var o=e,s=n,l=i;return n<i?n<e&&(o=n,s=i,l=e):i<e&&(o=i,s=e,l=n),o<0?-1:(t[0]=o,t[1]=s,t[2]=l,r.eq(this.cells,t,a))}}()},{"binary-search-bounds":31}],45:[function(t,e,n){var r=t("binary-search-bounds"),i=t("robust-orientation")[3],a=0,o=1,s=2;function l(t,e,n,r,i){this.a=t,this.b=e,this.idx=n,this.lowerIds=r,this.upperIds=i}function c(t,e,n,r){this.a=t,this.b=e,this.type=n,this.idx=r}function u(t,e){var n=t.a[0]-e.a[0]||t.a[1]-e.a[1]||t.type-e.type;return n||(t.type!==a&&(n=i(t.a,t.b,e.b))?n:t.idx-e.idx)}function d(t,e){return i(t.a,t.b,e)}function h(t,e,n,a,o){for(var s=r.lt(e,a,d),l=r.gt(e,a,d),c=s;c<l;++c){for(var u=e[c],h=u.lowerIds,g=h.length;g>1&&i(n[h[g-2]],n[h[g-1]],a)>0;)t.push([h[g-1],h[g-2],o]),g-=1;h.length=g,h.push(o);var f=u.upperIds;for(g=f.length;g>1&&i(n[f[g-2]],n[f[g-1]],a)<0;)t.push([f[g-2],f[g-1],o]),g-=1;f.length=g,f.push(o)}}function g(t,e){var n;return(n=t.a[0]<e.a[0]?i(t.a,t.b,e.a):i(e.b,e.a,t.a))?n:(n=e.b[0]<t.b[0]?i(t.a,t.b,e.b):i(e.b,e.a,t.b))||t.idx-e.idx}function f(t,e,n){var i=r.le(t,n,g),a=t[i],o=a.upperIds,s=o[o.length-1];a.upperIds=[s],t.splice(i+1,0,new l(n.a,n.b,n.idx,[s],o))}function p(t,e,n){var i=n.a;n.a=n.b,n.b=i;var a=r.eq(t,n,g),o=t[a];t[a-1].upperIds=o.upperIds,t.splice(a,1)}function v(t,e){for(var n=t.length,r=e.length,i=[],d=0;d<n;++d)i.push(new c(t[d],null,a,d));for(d=0;d<r;++d){var g=e[d],v=t[g[0]],m=t[g[1]];v[0]<m[0]?i.push(new c(v,m,s,d),new c(m,v,o,d)):v[0]>m[0]&&i.push(new c(m,v,s,d),new c(v,m,o,d))}i.sort(u);for(var y=i[0].a[0]-(1+Math.abs(i[0].a[0]))*Math.pow(2,-52),b=[new l([y,1],[y,0],-1,[],[],[],[])],I=[],C=(d=0,i.length);d<C;++d){var x=i[d],B=x.type;B===a?h(I,b,t,x.a,x.idx):B===s?f(b,t,x):p(b,t,x)}return I}e.exports=v},{"binary-search-bounds":31,"robust-orientation":284}],46:[function(t,e,n){var r=t("binary-search-bounds");function i(t,e){this.stars=t,this.edges=e}e.exports=s;var a=i.prototype;function o(t,e,n){for(var r=1,i=t.length;r<i;r+=2)if(t[r-1]===e&&t[r]===n)return t[r-1]=t[i-2],t[r]=t[i-1],void(t.length=i-2)}function s(t,e){for(var n=new Array(t),r=0;r<t;++r)n[r]=[];return new i(n,e)}a.isConstraint=function(){var t=[0,0];function e(t,e){return t[0]-e[0]||t[1]-e[1]}return function(n,i){return t[0]=Math.min(n,i),t[1]=Math.max(n,i),r.eq(this.edges,t,e)>=0}}(),a.removeTriangle=function(t,e,n){var r=this.stars;o(r[t],e,n),o(r[e],n,t),o(r[n],t,e)},a.addTriangle=function(t,e,n){var r=this.stars;r[t].push(e,n),r[e].push(n,t),r[n].push(t,e)},a.opposite=function(t,e){for(var n=this.stars[e],r=1,i=n.length;r<i;r+=2)if(n[r]===t)return n[r-1];return-1},a.flip=function(t,e){var n=this.opposite(t,e),r=this.opposite(e,t);this.removeTriangle(t,e,n),this.removeTriangle(e,t,r),this.addTriangle(t,r,n),this.addTriangle(e,n,r)},a.edges=function(){for(var t=this.stars,e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length;a<o;a+=2)e.push([i[a],i[a+1]]);return e},a.cells=function(){for(var t=this.stars,e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length;a<o;a+=2){var s=i[a],l=i[a+1];n<Math.min(s,l)&&e.push([n,s,l])}return e}},{"binary-search-bounds":31}],47:[function(t,e,n){function r(t){for(var e=1,n=1;n<t.length;++n)for(var r=0;r<n;++r)if(t[n]<t[r])e=-e;else if(t[r]===t[n])return 0;return e}e.exports=r},{}],48:[function(t,e,n){var r=t("dup"),i=t("robust-linear-solve");function a(t,e){for(var n=0,r=t.length,i=0;i<r;++i)n+=t[i]*e[i];return n}function o(t){var e=t.length;if(0===e)return[];t[0].length;var n=r([t.length+1,t.length+1],1),o=r([t.length+1],1);n[e][e]=0;for(var s=0;s<e;++s){for(var l=0;l<=s;++l)n[l][s]=n[s][l]=2*a(t[s],t[l]);o[s]=a(t[s],t[s])}var c=i(n,o),u=0,d=c[e+1];for(s=0;s<d.length;++s)u+=d[s];var h=new Array(e);for(s=0;s<e;++s){d=c[s];var g=0;for(l=0;l<d.length;++l)g+=d[l];h[s]=g/u}return h}function s(t){if(0===t.length)return[];for(var e=t[0].length,n=r([e]),i=o(t),a=0;a<t.length;++a)for(var s=0;s<e;++s)n[s]+=t[a][s]*i[a];return n}s.barycenetric=o,e.exports=s},{dup:65,"robust-linear-solve":283}],49:[function(t,e,n){e.exports=i;var r=t("circumcenter");function i(t){for(var e=r(t),n=0,i=0;i<t.length;++i)for(var a=t[i],o=0;o<e.length;++o)n+=Math.pow(a[o]-e[o],2);return Math.sqrt(n/t.length)}},{circumcenter:48}],50:[function(t,e,n){e.exports=A;var r=t("union-find"),i=t("box-intersect"),a=t("robust-segment-intersect"),o=t("big-rat"),s=t("big-rat/cmp"),l=t("big-rat/to-float"),c=t("rat-vec"),u=t("nextafter"),d=t("./lib/rat-seg-intersect");function h(t){var e=l(t);return[u(e,-1/0),u(e,1/0)]}function g(t,e){for(var n=new Array(e.length),r=0;r<e.length;++r){var i=e[r],a=t[i[0]],o=t[i[1]];n[r]=[u(Math.min(a[0],o[0]),-1/0),u(Math.min(a[1],o[1]),-1/0),u(Math.max(a[0],o[0]),1/0),u(Math.max(a[1],o[1]),1/0)]}return n}function f(t){for(var e=new Array(t.length),n=0;n<t.length;++n){var r=t[n];e[n]=[u(r[0],-1/0),u(r[1],-1/0),u(r[0],1/0),u(r[1],1/0)]}return e}function p(t,e,n){var r=[];return i(n,(function(n,i){var o=e[n],s=e[i];if(o[0]!==s[0]&&o[0]!==s[1]&&o[1]!==s[0]&&o[1]!==s[1]){var l=t[o[0]],c=t[o[1]],u=t[s[0]],d=t[s[1]];a(l,c,u,d)&&r.push([n,i])}})),r}function v(t,e,n,r){var o=[];return i(n,r,(function(n,r){var i=e[n];if(i[0]!==r&&i[1]!==r){var s=t[r],l=t[i[0]],c=t[i[1]];a(l,c,s,s)&&o.push([n,r])}})),o}function m(t,e,n,r,i){var a,u,h=t.map((function(t){return[o(t[0]),o(t[1])]}));for(a=0;a<n.length;++a){var g=n[a];u=g[0];var f=g[1],p=e[u],v=e[f],m=d(c(t[p[0]]),c(t[p[1]]),c(t[v[0]]),c(t[v[1]]));if(m){var y=t.length;t.push([l(m[0]),l(m[1])]),h.push(m),r.push([u,y],[f,y])}}for(r.sort((function(t,e){if(t[0]!==e[0])return t[0]-e[0];var n=h[t[1]],r=h[e[1]];return s(n[0],r[0])||s(n[1],r[1])})),a=r.length-1;a>=0;--a){var b=e[u=(w=r[a])[0]],I=b[0],C=b[1],x=t[I],B=t[C];if((x[0]-B[0]||x[1]-B[1])<0){var A=I;I=C,C=A}b[0]=I;var F,Q=b[1]=w[1];for(i&&(F=b[2]);a>0&&r[a-1][0]===u;){var w,U=(w=r[--a])[1];i?e.push([Q,U,F]):e.push([Q,U]),Q=U}i?e.push([Q,C,F]):e.push([Q,C])}return h}function y(t,e,n){for(var a=e.length,o=new r(a),s=[],l=0;l<e.length;++l){var c=e[l],d=h(c[0]),g=h(c[1]);s.push([u(d[0],-1/0),u(g[0],-1/0),u(d[1],1/0),u(g[1],1/0)])}i(s,(function(t,e){o.link(t,e)}));var f=!0,p=new Array(a);for(l=0;l<a;++l)(m=o.find(l))!==l&&(f=!1,t[m]=[Math.min(t[l][0],t[m][0]),Math.min(t[l][1],t[m][1])]);if(f)return null;var v=0;for(l=0;l<a;++l){var m;(m=o.find(l))===l?(p[l]=v,t[v++]=t[l]):p[l]=-1}for(t.length=v,l=0;l<a;++l)p[l]<0&&(p[l]=p[o.find(l)]);return p}function b(t,e){return t[0]-e[0]||t[1]-e[1]}function I(t,e){var n=t[0]-e[0]||t[1]-e[1];return n||(t[2]<e[2]?-1:t[2]>e[2]?1:0)}function C(t,e,n){if(0!==t.length){if(e)for(var r=0;r<t.length;++r){var i=e[(o=t[r])[0]],a=e[o[1]];o[0]=Math.min(i,a),o[1]=Math.max(i,a)}else for(r=0;r<t.length;++r){var o;i=(o=t[r])[0],a=o[1],o[0]=Math.min(i,a),o[1]=Math.max(i,a)}n?t.sort(I):t.sort(b);var s=1;for(r=1;r<t.length;++r){var l=t[r-1],c=t[r];(c[0]!==l[0]||c[1]!==l[1]||n&&c[2]!==l[2])&&(t[s++]=c)}t.length=s}}function x(t,e,n){var r=y(t,[],f(t));return C(e,r,n),!!r}function B(t,e,n){var r=g(t,e),i=p(t,e,r),a=v(t,e,r,f(t)),o=y(t,m(t,e,i,a,n));return C(e,o,n),!!o||i.length>0||a.length>0}function A(t,e,n){var r;if(n){r=e;for(var i=new Array(e.length),a=0;a<e.length;++a){var o=e[a];i[a]=[o[0],o[1],n[a]]}e=i}for(var s=x(t,e,!!n);B(t,e,!!n);)s=!0;if(n&&s)for(r.length=0,n.length=0,a=0;a<e.length;++a)o=e[a],r.push([o[0],o[1]]),n.push(o[2]);return s}},{"./lib/rat-seg-intersect":51,"big-rat":18,"big-rat/cmp":16,"big-rat/to-float":30,"box-intersect":35,nextafter:260,"rat-vec":273,"robust-segment-intersect":287,"union-find":309}],51:[function(t,e,n){e.exports=d;var r=t("big-rat/mul"),i=t("big-rat/div"),a=t("big-rat/sub"),o=t("big-rat/sign"),s=t("rat-vec/sub"),l=t("rat-vec/add"),c=t("rat-vec/muls");function u(t,e){return a(r(t[0],e[1]),r(t[1],e[0]))}function d(t,e,n,r){var a=s(e,t),d=s(r,n),h=u(a,d);if(0===o(h))return null;var g=u(d,s(t,n)),f=i(g,h),p=c(a,f);return l(t,p)}},{"big-rat/div":17,"big-rat/mul":27,"big-rat/sign":28,"big-rat/sub":29,"rat-vec/add":272,"rat-vec/muls":274,"rat-vec/sub":275}],52:[function(t,e,n){e.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},{}],53:[function(t,e,n){var r=t("./colorScale"),i=t("lerp");function a(t){var e,n,a,c,u,d,h,g,f,p;if(t||(t={}),g=(t.nshades||72)-1,h=t.format||"hex",(d=t.colormap)||(d="jet"),"string"==typeof d){if(d=d.toLowerCase(),!r[d])throw Error(d+" not a supported colorscale");u=r[d]}else{if(!Array.isArray(d))throw Error("unsupported colormap option",d);u=d.slice()}if(u.length>g+1)throw new Error(d+" map requires nshades to be at least size "+u.length);f=Array.isArray(t.alpha)?2!==t.alpha.length?[1,1]:t.alpha.slice():"number"==typeof t.alpha?[t.alpha,t.alpha]:[1,1],e=u.map((function(t){return Math.round(t.index*g)})),f[0]=Math.min(Math.max(f[0],0),1),f[1]=Math.min(Math.max(f[1],0),1);var v=u.map((function(t,e){var n=u[e].index,r=u[e].rgb.slice();return 4===r.length&&r[3]>=0&&r[3]<=1||(r[3]=f[0]+(f[1]-f[0])*n),r})),m=[];for(p=0;p<e.length-1;++p){c=e[p+1]-e[p],n=v[p],a=v[p+1];for(var y=0;y<c;y++){var b=y/c;m.push([Math.round(i(n[0],a[0],b)),Math.round(i(n[1],a[1],b)),Math.round(i(n[2],a[2],b)),i(n[3],a[3],b)])}}return m.push(u[u.length-1].rgb.concat(f[1])),"hex"===h?m=m.map(s):"rgbaString"===h?m=m.map(l):"float"===h&&(m=m.map(o)),m}function o(t){return[t[0]/255,t[1]/255,t[2]/255,t[3]]}function s(t){for(var e,n="#",r=0;r<3;++r)n+=("00"+(e=(e=t[r]).toString(16))).substr(e.length);return n}function l(t){return"rgba("+t.join(",")+")"}e.exports=a},{"./colorScale":52,lerp:240}],54:[function(t,e,n){e.exports=c;var r=t("robust-orientation"),i=t("signum"),a=t("two-sum"),o=t("robust-product"),s=t("robust-sum");function l(t,e,n){var r=a(t[0],-e[0]),i=a(t[1],-e[1]),l=a(n[0],-e[0]),c=a(n[1],-e[1]),u=s(o(r,l),o(i,c));return u[u.length-1]>=0}function c(t,e,n,a){var o=r(e,n,a);if(0===o){var s=i(r(t,e,n)),c=i(r(t,e,a));if(s===c){if(0===s){var u=l(t,e,n);return u===l(t,e,a)?0:u?1:-1}return 0}return 0===c?s>0||l(t,e,a)?-1:1:0===s?c>0||l(t,e,n)?1:-1:i(c-s)}var d=r(t,e,n);return d>0?o>0&&r(t,e,a)>0?1:-1:d<0?o>0||r(t,e,a)>0?1:-1:r(t,e,a)>0||l(t,e,n)?1:-1}},{"robust-orientation":284,"robust-product":285,"robust-sum":289,signum:55,"two-sum":307}],55:[function(t,e,n){e.exports=function(t){return t<0?-1:t>0?1:0}},{}],56:[function(t,e,n){e.exports=a;var r=Math.min;function i(t,e){return t-e}function a(t,e){var n=t.length,a=t.length-e.length;if(a)return a;switch(n){case 0:return 0;case 1:return t[0]-e[0];case 2:return t[0]+t[1]-e[0]-e[1]||r(t[0],t[1])-r(e[0],e[1]);case 3:var o=t[0]+t[1],s=e[0]+e[1];if(a=o+t[2]-(s+e[2]))return a;var l=r(t[0],t[1]),c=r(e[0],e[1]);return r(l,t[2])-r(c,e[2])||r(l+t[2],o)-r(c+e[2],s);case 4:var u=t[0],d=t[1],h=t[2],g=t[3],f=e[0],p=e[1],v=e[2],m=e[3];return u+d+h+g-(f+p+v+m)||r(u,d,h,g)-r(f,p,v,m,f)||r(u+d,u+h,u+g,d+h,d+g,h+g)-r(f+p,f+v,f+m,p+v,p+m,v+m)||r(u+d+h,u+d+g,u+h+g,d+h+g)-r(f+p+v,f+p+m,f+v+m,p+v+m);default:for(var y=t.slice().sort(i),b=e.slice().sort(i),I=0;I<n;++I)if(a=y[I]-b[I])return a;return 0}}},{}],57:[function(t,e,n){var r=t("compare-cell"),i=t("cell-orientation");function a(t,e){return r(t,e)||i(t)-i(e)}e.exports=a},{"cell-orientation":47,"compare-cell":56}],58:[function(t,e,n){var r=t("./lib/ch1d"),i=t("./lib/ch2d"),a=t("./lib/chnd");function o(t){var e=t.length;if(0===e)return[];if(1===e)return[[0]];var n=t[0].length;return 0===n?[]:1===n?r(t):2===n?i(t):a(t,n)}e.exports=o},{"./lib/ch1d":59,"./lib/ch2d":60,"./lib/chnd":61}],59:[function(t,e,n){function r(t){for(var e=0,n=0,r=1;r<t.length;++r)t[r][0]<t[e][0]&&(e=r),t[r][0]>t[n][0]&&(n=r);return e<n?[[e],[n]]:e>n?[[n],[e]]:[[e]]}e.exports=r},{}],60:[function(t,e,n){e.exports=i;var r=t("monotone-convex-hull-2d");function i(t){var e=r(t),n=e.length;if(n<=2)return[];for(var i=new Array(n),a=e[n-1],o=0;o<n;++o){var s=e[o];i[o]=[a,s],a=s}return i}},{"monotone-convex-hull-2d":246}],61:[function(t,e,n){e.exports=s;var r=t("incremental-convex-hull"),i=t("affine-hull");function a(t,e){for(var n=t.length,r=new Array(n),i=0;i<e.length;++i)r[i]=t[e[i]];var a=e.length;for(i=0;i<n;++i)e.indexOf(i)<0&&(r[a++]=t[i]);return r}function o(t,e){for(var n=t.length,r=e.length,i=0;i<n;++i)for(var a=t[i],o=0;o<a.length;++o){var s=a[o];if(s<r)a[o]=e[s];else{s-=r;for(var l=0;l<r;++l)s>=e[l]&&(s+=1);a[o]=s}}return t}function s(t,e){try{return r(t,!0)}catch(l){var n=i(t);if(n.length<=e)return[];var s=a(t,n);return o(r(s,!0),n)}}},{"affine-hull":10,"incremental-convex-hull":233}],62:[function(t,e,n){function r(t,e,n,r,i,a){var o=6*i*i-6*i,s=3*i*i-4*i+1,l=-6*i*i+6*i,c=3*i*i-2*i;if(t.length){a||(a=new Array(t.length));for(var u=t.length-1;u>=0;--u)a[u]=o*t[u]+s*e[u]+l*n[u]+c*r[u];return a}return o*t+s*e+l*n[u]+c*r}function i(t,e,n,r,i,a){var o=i-1,s=i*i,l=o*o,c=(1+2*i)*l,u=i*l,d=s*(3-2*i),h=s*o;if(t.length){a||(a=new Array(t.length));for(var g=t.length-1;g>=0;--g)a[g]=c*t[g]+u*e[g]+d*n[g]+h*r[g];return a}return c*t+u*e+d*n+h*r}e.exports=i,e.exports.derivative=r},{}],63:[function(t,e,n){var r=t("incremental-convex-hull"),i=t("uniq");function a(t,e){this.point=t,this.index=e}function o(t,e){for(var n=t.point,r=e.point,i=n.length,a=0;a<i;++a){var o=r[a]-n[a];if(o)return o}return 0}function s(t,e,n){if(1===t)return n?[[-1,0]]:[];var r=e.map((function(t,e){return[t[0],e]}));r.sort((function(t,e){return t[0]-e[0]}));for(var i=new Array(t-1),a=1;a<t;++a){var o=r[a-1],s=r[a];i[a-1]=[o[1],s[1]]}return n&&i.push([-1,i[0][1]],[i[t-1][1],-1]),i}function l(t,e){var n=t.length;if(0===n)return[];var l=t[0].length;if(l<1)return[];if(1===l)return s(n,t,e);for(var c=new Array(n),u=1,d=0;d<n;++d){for(var h=t[d],g=new Array(l+1),f=0,p=0;p<l;++p){var v=h[p];g[p]=v,f+=v*v}g[l]=f,c[d]=new a(g,d),u=Math.max(f,u)}i(c,o),n=c.length;var m=new Array(n+l+1),y=new Array(n+l+1),b=(l+1)*(l+1)*u,I=new Array(l+1);for(d=0;d<=l;++d)I[d]=0;for(I[l]=b,m[0]=I.slice(),y[0]=-1,d=0;d<=l;++d)(g=I.slice())[d]=1,m[d+1]=g,y[d+1]=-1;for(d=0;d<n;++d){var C=c[d];m[d+l+1]=C.point,y[d+l+1]=C.index}var x=r(m,!1);if(x=e?x.filter((function(t){for(var e=0,n=0;n<=l;++n){var r=y[t[n]];if(r<0&&++e>=2)return!1;t[n]=r}return!0})):x.filter((function(t){for(var e=0;e<=l;++e){var n=y[t[e]];if(n<0)return!1;t[e]=n}return!0})),1&l)for(d=0;d<x.length;++d)g=(C=x[d])[0],C[0]=C[1],C[1]=g;return x}e.exports=l},{"incremental-convex-hull":233,uniq:310}],64:[function(t,e,n){(function(t){(function(){var n=!1;if("undefined"!=typeof Float64Array){var r=new Float64Array(1),i=new Uint32Array(r.buffer);if(r[0]=1,n=!0,1072693248===i[1]){var a=function(t,e){return i[0]=t,i[1]=e,r[0]},o=function(t){return r[0]=t,i[0]},s=function(t){return r[0]=t,i[1]};e.exports=function(t){return r[0]=t,[i[0],i[1]]},e.exports.pack=a,e.exports.lo=o,e.exports.hi=s}else if(1072693248===i[0]){var l=function(t,e){return i[1]=t,i[0]=e,r[0]},c=function(t){return r[0]=t,i[1]},u=function(t){return r[0]=t,i[0]};e.exports=function(t){return r[0]=t,[i[1],i[0]]},e.exports.pack=l,e.exports.lo=c,e.exports.hi=u}else n=!1}if(!n){var d=function(t,e){return f.writeUInt32LE(t,0,!0),f.writeUInt32LE(e,4,!0),f.readDoubleLE(0,!0)},h=function(t){return f.writeDoubleLE(t,0,!0),f.readUInt32LE(0,!0)},g=function(t){return f.writeDoubleLE(t,0,!0),f.readUInt32LE(4,!0)},f=new t(8);e.exports=function(t){return f.writeDoubleLE(t,0,!0),[f.readUInt32LE(0,!0),f.readUInt32LE(4,!0)]},e.exports.pack=d,e.exports.lo=h,e.exports.hi=g}e.exports.sign=function(t){return e.exports.hi(t)>>>31},e.exports.exponent=function(t){return(e.exports.hi(t)<<1>>>21)-1023},e.exports.fraction=function(t){var n=e.exports.lo(t),r=e.exports.hi(t),i=1048575&r;return 2146435072&r&&(i+=1<<20),[n,i]},e.exports.denormalized=function(t){return!(2146435072&e.exports.hi(t))}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:3}],65:[function(t,e,n){function r(t,e,n){var i=0|t[n];if(i<=0)return[];var a,o=new Array(i);if(n===t.length-1)for(a=0;a<i;++a)o[a]=e;else for(a=0;a<i;++a)o[a]=r(t,e,n+1);return o}function i(t,e){var n,r;for(n=new Array(t),r=0;r<t;++r)n[r]=e;return n}function a(t,e){switch(void 0===e&&(e=0),o(t)){case"number":if(t>0)return i(0|t,e);break;case"object":if("number"==typeof t.length)return r(t,e,0)}return[]}e.exports=a},{}],66:[function(t,e,n){e.exports=i;var r=t("uniq");function i(t,e){var n=t.length;if("number"!=typeof e){e=0;for(var i=0;i<n;++i){var a=t[i];e=Math.max(e,a[0],a[1])}e=1+(0|e)}e|=0;var o=new Array(e);for(i=0;i<e;++i)o[i]=[];for(i=0;i<n;++i)o[(a=t[i])[0]].push(a[1]),o[a[1]].push(a[0]);for(var s=0;s<e;++s)r(o[s],(function(t,e){return t-e}));return o}},{uniq:310}],67:[function(t,e,n){function r(t,e,n){var r=e||0,i=n||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[r*t[12]+t[8],r*t[13]+t[9],r*t[14]+t[10],r*t[15]+t[11]],[i*t[12]-t[8],i*t[13]-t[9],i*t[14]-t[10],i*t[15]-t[11]]]}e.exports=r},{}],68:[function(t,e,n){e.exports=c;var r=t("cubic-hermite"),i=t("binary-search-bounds");function a(t,e,n){return Math.min(e,Math.max(t,n))}function o(t,e,n){this.dimension=t.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var r=0;r<this.dimension;++r)this.bounds[0][r]=-1/0,this.bounds[1][r]=1/0;this._state=t.slice().reverse(),this._velocity=e.slice().reverse(),this._time=[n],this._scratch=[t.slice(),t.slice(),t.slice(),t.slice(),t.slice()]}var s=o.prototype;function l(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}function c(t,e,n){switch(arguments.length){case 0:return new o([0],[0],0);case 1:return"number"==typeof t?new o(r=l(t),r,0):new o(t,l(t.length),0);case 2:var r;if("number"==typeof e)return new o(t,r=l(t.length),+e);n=0;case 3:if(t.length!==e.length)throw new Error("state and velocity lengths must match");return new o(t,e,n)}}s.flush=function(t){var e=i.gt(this._time,t)-1;e<=0||(this._time.splice(0,e),this._state.splice(0,e*this.dimension),this._velocity.splice(0,e*this.dimension))},s.curve=function(t){var e=this._time,n=e.length,o=i.le(e,t),s=this._scratch[0],l=this._state,c=this._velocity,u=this.dimension,d=this.bounds;if(o<0)for(var h=u-1,g=0;g<u;++g,--h)s[g]=l[h];else if(o>=n-1){h=l.length-1;var f=t-e[n-1];for(g=0;g<u;++g,--h)s[g]=l[h]+f*c[h]}else{h=u*(o+1)-1;var p=e[o],v=e[o+1]-p||1,m=this._scratch[1],y=this._scratch[2],b=this._scratch[3],I=this._scratch[4],C=!0;for(g=0;g<u;++g,--h)m[g]=l[h],b[g]=c[h]*v,y[g]=l[h+u],I[g]=c[h+u]*v,C=C&&m[g]===y[g]&&b[g]===I[g]&&0===b[g];if(C)for(g=0;g<u;++g)s[g]=m[g];else r(m,b,y,I,(t-p)/v,s)}var x=d[0],B=d[1];for(g=0;g<u;++g)s[g]=a(x[g],B[g],s[g]);return s},s.dcurve=function(t){var e=this._time,n=e.length,a=i.le(e,t),o=this._scratch[0],s=this._state,l=this._velocity,c=this.dimension;if(a>=n-1){var u=s.length-1;e[n-1];for(var d=0;d<c;++d,--u)o[d]=l[u]}else{u=c*(a+1)-1;var h=e[a],g=e[a+1]-h||1,f=this._scratch[1],p=this._scratch[2],v=this._scratch[3],m=this._scratch[4],y=!0;for(d=0;d<c;++d,--u)f[d]=s[u],v[d]=l[u]*g,p[d]=s[u+c],m[d]=l[u+c]*g,y=y&&f[d]===p[d]&&v[d]===m[d]&&0===v[d];if(y)for(d=0;d<c;++d)o[d]=0;else for(r.derivative(f,v,p,m,(t-h)/g,o),d=0;d<c;++d)o[d]/=g}return o},s.lastT=function(){var t=this._time;return t[t.length-1]},s.stable=function(){for(var t=this._velocity,e=t.length,n=this.dimension-1;n>=0;--n)if(t[--e])return!1;return!0},s.jump=function(t){var e=this.lastT(),n=this.dimension;if(!(t<e||arguments.length!==n+1)){var r=this._state,i=this._velocity,o=r.length-this.dimension,s=this.bounds,l=s[0],c=s[1];this._time.push(e,t);for(var u=0;u<2;++u)for(var d=0;d<n;++d)r.push(r[o++]),i.push(0);for(this._time.push(t),d=n;d>0;--d)r.push(a(l[d-1],c[d-1],arguments[d])),i.push(0)}},s.push=function(t){var e=this.lastT(),n=this.dimension;if(!(t<e||arguments.length!==n+1)){var r=this._state,i=this._velocity,o=r.length-this.dimension,s=t-e,l=this.bounds,c=l[0],u=l[1],d=s>1e-6?1/s:0;this._time.push(t);for(var h=n;h>0;--h){var g=a(c[h-1],u[h-1],arguments[h]);r.push(g),i.push((g-r[o++])*d)}}},s.set=function(t){var e=this.dimension;if(!(t<this.lastT()||arguments.length!==e+1)){var n=this._state,r=this._velocity,i=this.bounds,o=i[0],s=i[1];this._time.push(t);for(var l=e;l>0;--l)n.push(a(o[l-1],s[l-1],arguments[l])),r.push(0)}},s.move=function(t){var e=this.lastT(),n=this.dimension;if(!(t<=e||arguments.length!==n+1)){var r=this._state,i=this._velocity,o=r.length-this.dimension,s=this.bounds,l=s[0],c=s[1],u=t-e,d=u>1e-6?1/u:0;this._time.push(t);for(var h=n;h>0;--h){var g=arguments[h];r.push(a(l[h-1],c[h-1],r[o++]+g)),i.push(g*d)}}},s.idle=function(t){var e=this.lastT();if(!(t<e)){var n=this.dimension,r=this._state,i=this._velocity,o=r.length-n,s=this.bounds,l=s[0],c=s[1],u=t-e;this._time.push(t);for(var d=n-1;d>=0;--d)r.push(a(l[d],c[d],r[o]+u*i[o])),i.push(0),o+=1}}},{"binary-search-bounds":31,"cubic-hermite":62}],69:[function(t,e,n){e.exports=b;var r=0,i=1;function a(t,e,n,r,i,a){this._color=t,this.key=e,this.value=n,this.left=r,this.right=i,this._count=a}function o(t){return new a(t._color,t.key,t.value,t.left,t.right,t._count)}function s(t,e){return new a(t,e.key,e.value,e.left,e.right,e._count)}function l(t){t._count=1+(t.left?t.left._count:0)+(t.right?t.right._count:0)}function c(t,e){this._compare=t,this.root=e}var u=c.prototype;function d(t,e){var n;return e.left&&(n=d(t,e.left))?n:(n=t(e.key,e.value))||(e.right?d(t,e.right):void 0)}function h(t,e,n,r){if(e(t,r.key)<=0){var i;if(r.left&&(i=h(t,e,n,r.left)))return i;if(i=n(r.key,r.value))return i}if(r.right)return h(t,e,n,r.right)}function g(t,e,n,r,i){var a,o=n(t,i.key),s=n(e,i.key);if(o<=0){if(i.left&&(a=g(t,e,n,r,i.left)))return a;if(s>0&&(a=r(i.key,i.value)))return a}if(s>0&&i.right)return g(t,e,n,r,i.right)}function f(t,e){this.tree=t,this._stack=e}Object.defineProperty(u,"keys",{get:function(){var t=[];return this.forEach((function(e,n){t.push(e)})),t}}),Object.defineProperty(u,"values",{get:function(){var t=[];return this.forEach((function(e,n){t.push(n)})),t}}),Object.defineProperty(u,"length",{get:function(){return this.root?this.root._count:0}}),u.insert=function(t,e){for(var n=this._compare,o=this.root,u=[],d=[];o;){var h=n(t,o.key);u.push(o),d.push(h),o=h<=0?o.left:o.right}u.push(new a(r,t,e,null,null,1));for(var g=u.length-2;g>=0;--g)o=u[g],d[g]<=0?u[g]=new a(o._color,o.key,o.value,u[g+1],o.right,o._count+1):u[g]=new a(o._color,o.key,o.value,o.left,u[g+1],o._count+1);for(g=u.length-1;g>1;--g){var f=u[g-1];if(o=u[g],f._color===i||o._color===i)break;var p=u[g-2];if(p.left===f)if(f.left===o){if(!(v=p.right)||v._color!==r){p._color=r,p.left=f.right,f._color=i,f.right=p,u[g-2]=f,u[g-1]=o,l(p),l(f),g>=3&&((m=u[g-3]).left===p?m.left=f:m.right=f);break}f._color=i,p.right=s(i,v),p._color=r,g-=1}else{if(!(v=p.right)||v._color!==r){f.right=o.left,p._color=r,p.left=o.right,o._color=i,o.left=f,o.right=p,u[g-2]=o,u[g-1]=f,l(p),l(f),l(o),g>=3&&((m=u[g-3]).left===p?m.left=o:m.right=o);break}f._color=i,p.right=s(i,v),p._color=r,g-=1}else if(f.right===o){if(!(v=p.left)||v._color!==r){p._color=r,p.right=f.left,f._color=i,f.left=p,u[g-2]=f,u[g-1]=o,l(p),l(f),g>=3&&((m=u[g-3]).right===p?m.right=f:m.left=f);break}f._color=i,p.left=s(i,v),p._color=r,g-=1}else{var v;if(!(v=p.left)||v._color!==r){var m;f.left=o.right,p._color=r,p.right=o.left,o._color=i,o.right=f,o.left=p,u[g-2]=o,u[g-1]=f,l(p),l(f),l(o),g>=3&&((m=u[g-3]).right===p?m.right=o:m.left=o);break}f._color=i,p.left=s(i,v),p._color=r,g-=1}}return u[0]._color=i,new c(n,u[0])},u.forEach=function(t,e,n){if(this.root)switch(arguments.length){case 1:return d(t,this.root);case 2:return h(e,this._compare,t,this.root);case 3:if(this._compare(e,n)>=0)return;return g(e,n,this._compare,t,this.root)}},Object.defineProperty(u,"begin",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.left;return new f(this,t)}}),Object.defineProperty(u,"end",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.right;return new f(this,t)}}),u.at=function(t){if(t<0)return new f(this,[]);for(var e=this.root,n=[];;){if(n.push(e),e.left){if(t<e.left._count){e=e.left;continue}t-=e.left._count}if(!t)return new f(this,n);if(t-=1,!e.right)break;if(t>=e.right._count)break;e=e.right}return new f(this,[])},u.ge=function(t){for(var e=this._compare,n=this.root,r=[],i=0;n;){var a=e(t,n.key);r.push(n),a<=0&&(i=r.length),n=a<=0?n.left:n.right}return r.length=i,new f(this,r)},u.gt=function(t){for(var e=this._compare,n=this.root,r=[],i=0;n;){var a=e(t,n.key);r.push(n),a<0&&(i=r.length),n=a<0?n.left:n.right}return r.length=i,new f(this,r)},u.lt=function(t){for(var e=this._compare,n=this.root,r=[],i=0;n;){var a=e(t,n.key);r.push(n),a>0&&(i=r.length),n=a<=0?n.left:n.right}return r.length=i,new f(this,r)},u.le=function(t){for(var e=this._compare,n=this.root,r=[],i=0;n;){var a=e(t,n.key);r.push(n),a>=0&&(i=r.length),n=a<0?n.left:n.right}return r.length=i,new f(this,r)},u.find=function(t){for(var e=this._compare,n=this.root,r=[];n;){var i=e(t,n.key);if(r.push(n),0===i)return new f(this,r);n=i<=0?n.left:n.right}return new f(this,[])},u.remove=function(t){var e=this.find(t);return e?e.remove():this},u.get=function(t){for(var e=this._compare,n=this.root;n;){var r=e(t,n.key);if(0===r)return n.value;n=r<=0?n.left:n.right}};var p=f.prototype;function v(t,e){t.key=e.key,t.value=e.value,t.left=e.left,t.right=e.right,t._color=e._color,t._count=e._count}function m(t){for(var e,n,a,c,u=t.length-1;u>=0;--u){if(e=t[u],0===u)return void(e._color=i);if((n=t[u-1]).left===e){if((a=n.right).right&&a.right._color===r)return c=(a=n.right=o(a)).right=o(a.right),n.right=a.left,a.left=n,a.right=c,a._color=n._color,e._color=i,n._color=i,c._color=i,l(n),l(a),u>1&&((d=t[u-2]).left===n?d.left=a:d.right=a),void(t[u-1]=a);if(a.left&&a.left._color===r)return c=(a=n.right=o(a)).left=o(a.left),n.right=c.left,a.left=c.right,c.left=n,c.right=a,c._color=n._color,n._color=i,a._color=i,e._color=i,l(n),l(a),l(c),u>1&&((d=t[u-2]).left===n?d.left=c:d.right=c),void(t[u-1]=c);if(a._color===i){if(n._color===r)return n._color=i,void(n.right=s(r,a));n.right=s(r,a);continue}a=o(a),n.right=a.left,a.left=n,a._color=n._color,n._color=r,l(n),l(a),u>1&&((d=t[u-2]).left===n?d.left=a:d.right=a),t[u-1]=a,t[u]=n,u+1<t.length?t[u+1]=e:t.push(e),u+=2}else{if((a=n.left).left&&a.left._color===r)return c=(a=n.left=o(a)).left=o(a.left),n.left=a.right,a.right=n,a.left=c,a._color=n._color,e._color=i,n._color=i,c._color=i,l(n),l(a),u>1&&((d=t[u-2]).right===n?d.right=a:d.left=a),void(t[u-1]=a);if(a.right&&a.right._color===r)return c=(a=n.left=o(a)).right=o(a.right),n.left=c.right,a.right=c.left,c.right=n,c.left=a,c._color=n._color,n._color=i,a._color=i,e._color=i,l(n),l(a),l(c),u>1&&((d=t[u-2]).right===n?d.right=c:d.left=c),void(t[u-1]=c);if(a._color===i){if(n._color===r)return n._color=i,void(n.left=s(r,a));n.left=s(r,a);continue}var d;a=o(a),n.left=a.right,a.right=n,a._color=n._color,n._color=r,l(n),l(a),u>1&&((d=t[u-2]).right===n?d.right=a:d.left=a),t[u-1]=a,t[u]=n,u+1<t.length?t[u+1]=e:t.push(e),u+=2}}}function y(t,e){return t<e?-1:t>e?1:0}function b(t){return new c(t||y,null)}Object.defineProperty(p,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(p,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),p.clone=function(){return new f(this.tree,this._stack.slice())},p.remove=function(){var t=this._stack;if(0===t.length)return this.tree;var e=new Array(t.length),n=t[t.length-1];e[e.length-1]=new a(n._color,n.key,n.value,n.left,n.right,n._count);for(var o=t.length-2;o>=0;--o)(n=t[o]).left===t[o+1]?e[o]=new a(n._color,n.key,n.value,e[o+1],n.right,n._count):e[o]=new a(n._color,n.key,n.value,n.left,e[o+1],n._count);if((n=e[e.length-1]).left&&n.right){var s=e.length;for(n=n.left;n.right;)e.push(n),n=n.right;var l=e[s-1];for(e.push(new a(n._color,l.key,l.value,n.left,n.right,n._count)),e[s-1].key=n.key,e[s-1].value=n.value,o=e.length-2;o>=s;--o)n=e[o],e[o]=new a(n._color,n.key,n.value,n.left,e[o+1],n._count);e[s-1].left=e[s]}if((n=e[e.length-1])._color===r){var u=e[e.length-2];for(u.left===n?u.left=null:u.right===n&&(u.right=null),e.pop(),o=0;o<e.length;++o)e[o]._count--;return new c(this.tree._compare,e[0])}if(n.left||n.right){for(n.left?v(n,n.left):n.right&&v(n,n.right),n._color=i,o=0;o<e.length-1;++o)e[o]._count--;return new c(this.tree._compare,e[0])}if(1===e.length)return new c(this.tree._compare,null);for(o=0;o<e.length;++o)e[o]._count--;var d=e[e.length-2];return m(e),d.left===n?d.left=null:d.right=null,new c(this.tree._compare,e[0])},Object.defineProperty(p,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(p,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(p,"index",{get:function(){var t=0,e=this._stack;if(0===e.length){var n=this.tree.root;return n?n._count:0}e[e.length-1].left&&(t=e[e.length-1].left._count);for(var r=e.length-2;r>=0;--r)e[r+1]===e[r].right&&(++t,e[r].left&&(t+=e[r].left._count));return t},enumerable:!0}),p.next=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.right)for(e=e.right;e;)t.push(e),e=e.left;else for(t.pop();t.length>0&&t[t.length-1].right===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(p,"hasNext",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].right)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].left===t[e])return!0;return!1}}),p.update=function(t){var e=this._stack;if(0===e.length)throw new Error("Can't update empty node!");var n=new Array(e.length),r=e[e.length-1];n[n.length-1]=new a(r._color,r.key,t,r.left,r.right,r._count);for(var i=e.length-2;i>=0;--i)(r=e[i]).left===e[i+1]?n[i]=new a(r._color,r.key,r.value,n[i+1],r.right,r._count):n[i]=new a(r._color,r.key,r.value,r.left,n[i+1],r._count);return new c(this.tree._compare,n[0])},p.prev=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.left)for(e=e.left;e;)t.push(e),e=e.right;else for(t.pop();t.length>0&&t[t.length-1].left===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(p,"hasPrev",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].left)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].right===t[e])return!0;return!1}})},{}],70:[function(t,e,n){e.exports=C;var r=t("./lib/text.js"),i=t("./lib/lines.js"),a=t("./lib/background.js"),o=t("./lib/cube.js"),s=t("./lib/ticks.js"),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function u(t){this.gl=t,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=a(t)}var d=u.prototype;function h(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}d.update=function(t){function e(e,n,r){if(r in t){var i,a=t[r],o=this[r];(e?Array.isArray(a)&&Array.isArray(a[0]):Array.isArray(a))?this[r]=i=[n(a[0]),n(a[1]),n(a[2])]:this[r]=i=[n(a),n(a),n(a)];for(var s=0;s<3;++s)if(i[s]!==o[s])return!0}return!1}t=t||{};var n,a=e.bind(this,!1,Number),o=e.bind(this,!1,Boolean),l=e.bind(this,!1,String),c=e.bind(this,!0,(function(t){if(Array.isArray(t)){if(3===t.length)return[+t[0],+t[1],+t[2],1];if(4===t.length)return[+t[0],+t[1],+t[2],+t[3]]}return[0,0,0,1]})),u=!1,d=!1;if("bounds"in t)for(var h=t.bounds,g=0;g<2;++g)for(var f=0;f<3;++f)h[g][f]!==this.bounds[g][f]&&(d=!0),this.bounds[g][f]=h[g][f];if("ticks"in t)for(n=t.ticks,u=!0,this.autoTicks=!1,g=0;g<3;++g)this.tickSpacing[g]=0;else a("tickSpacing")&&(this.autoTicks=!0,d=!0);if(this._firstInit&&("ticks"in t||"tickSpacing"in t||(this.autoTicks=!0),d=!0,u=!0,this._firstInit=!1),d&&this.autoTicks&&(n=s.create(this.bounds,this.tickSpacing),u=!0),u){for(g=0;g<3;++g)n[g].sort((function(t,e){return t.x-e.x}));s.equal(n,this.ticks)?u=!1:this.ticks=n}o("tickEnable"),l("tickFont")&&(u=!0),a("tickSize"),a("tickAngle"),a("tickPad"),c("tickColor");var p=l("labels");l("labelFont")&&(p=!0),o("labelEnable"),a("labelSize"),a("labelPad"),c("labelColor"),o("lineEnable"),o("lineMirror"),a("lineWidth"),c("lineColor"),o("lineTickEnable"),o("lineTickMirror"),a("lineTickLength"),a("lineTickWidth"),c("lineTickColor"),o("gridEnable"),a("gridWidth"),c("gridColor"),o("zeroEnable"),c("zeroLineColor"),a("zeroLineWidth"),o("backgroundEnable"),c("backgroundColor"),this._text?this._text&&(p||u)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=r(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&u&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=i(this.gl,this.bounds,this.ticks))};var g=[new h,new h,new h];function f(t,e,n,r,i){for(var a=t.primalOffset,o=t.primalMinor,s=t.mirrorOffset,l=t.mirrorMinor,c=r[e],u=0;u<3;++u)if(e!==u){var d=a,h=s,g=o,f=l;c&1<<u&&(d=s,h=a,g=l,f=o),d[u]=n[0][u],h[u]=n[1][u],i[u]>0?(g[u]=-1,f[u]=0):(g[u]=0,f[u]=1)}}var p=[0,0,0],v={model:l,view:l,projection:l,_ortho:!1};d.isOpaque=function(){return!0},d.isTransparent=function(){return!1},d.drawTransparent=function(t){};var m=0,y=[0,0,0],b=[0,0,0],I=[0,0,0];function C(t,e){var n=new u(t);return n.update(e),n}d.draw=function(t){t=t||v;for(var e=this.gl,n=t.model||l,r=t.view||l,i=t.projection||l,a=this.bounds,s=t._ortho||!1,u=o(n,r,i,a,s),d=u.cubeEdges,h=u.axis,C=r[12],x=r[13],B=r[14],A=r[15],F=(s?2:1)*this.pixelRatio*(i[3]*C+i[7]*x+i[11]*B+i[15]*A)/e.drawingBufferHeight,Q=0;Q<3;++Q)this.lastCubeProps.cubeEdges[Q]=d[Q],this.lastCubeProps.axis[Q]=h[Q];var w=g;for(Q=0;Q<3;++Q)f(g[Q],Q,this.bounds,d,h);e=this.gl;var U,G=p;for(Q=0;Q<3;++Q)this.backgroundEnable[Q]?G[Q]=h[Q]:G[Q]=0;for(this._background.draw(n,r,i,a,G,this.backgroundColor),this._lines.bind(n,r,i,this),Q=0;Q<3;++Q){var R=[0,0,0];h[Q]>0?R[Q]=a[1][Q]:R[Q]=a[0][Q];for(var S=0;S<2;++S){var L=(Q+1+S)%3,_=(Q+1+(1^S))%3;this.gridEnable[L]&&this._lines.drawGrid(L,_,this.bounds,R,this.gridColor[L],this.gridWidth[L]*this.pixelRatio)}for(S=0;S<2;++S)L=(Q+1+S)%3,_=(Q+1+(1^S))%3,this.zeroEnable[_]&&Math.min(a[0][_],a[1][_])<=0&&Math.max(a[0][_],a[1][_])>=0&&this._lines.drawZero(L,_,this.bounds,R,this.zeroLineColor[_],this.zeroLineWidth[_]*this.pixelRatio)}for(Q=0;Q<3;++Q){this.lineEnable[Q]&&this._lines.drawAxisLine(Q,this.bounds,w[Q].primalOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio),this.lineMirror[Q]&&this._lines.drawAxisLine(Q,this.bounds,w[Q].mirrorOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio);var E=c(y,w[Q].primalMinor),k=c(b,w[Q].mirrorMinor),V=this.lineTickLength;for(S=0;S<3;++S){var Z=F/n[5*S];E[S]*=V[S]*Z,k[S]*=V[S]*Z}this.lineTickEnable[Q]&&this._lines.drawAxisTicks(Q,w[Q].primalOffset,E,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio),this.lineTickMirror[Q]&&this._lines.drawAxisTicks(Q,w[Q].mirrorOffset,k,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio)}this._lines.unbind(),this._text.bind(n,r,i,this.pixelRatio);var N,T,X=.5;function W(t){(T=[0,0,0])[t]=1}function M(t,e,n){var r=(t+1)%3,i=(t+2)%3,a=e[r],o=e[i],s=n[r],l=n[i];a>0&&l>0||a>0&&l<0||a<0&&l>0||a<0&&l<0?W(r):(o>0&&s>0||o>0&&s<0||o<0&&s>0||o<0&&s<0)&&W(i)}for(Q=0;Q<3;++Q){var H=w[Q].primalMinor,D=w[Q].mirrorMinor,Y=c(I,w[Q].primalOffset);for(S=0;S<3;++S)this.lineTickEnable[Q]&&(Y[S]+=F*H[S]*Math.max(this.lineTickLength[S],0)/n[5*S]);var O=[0,0,0];if(O[Q]=1,this.tickEnable[Q]){for(-3600===this.tickAngle[Q]?(this.tickAngle[Q]=0,this.tickAlign[Q]="auto"):this.tickAlign[Q]=-1,N=1,"auto"===(U=[this.tickAlign[Q],X,N])[0]?U[0]=m:U[0]=parseInt(""+U[0]),T=[0,0,0],M(Q,H,D),S=0;S<3;++S)Y[S]+=F*H[S]*this.tickPad[S]/n[5*S];this._text.drawTicks(Q,this.tickSize[Q],this.tickAngle[Q],Y,this.tickColor[Q],O,T,U)}if(this.labelEnable[Q]){for(N=0,T=[0,0,0],this.labels[Q].length>4&&(W(Q),N=1),"auto"===(U=[this.labelAlign[Q],X,N])[0]?U[0]=m:U[0]=parseInt(""+U[0]),S=0;S<3;++S)Y[S]+=F*H[S]*this.labelPad[S]/n[5*S];Y[Q]+=.5*(a[0][Q]+a[1][Q]),this._text.drawLabel(Q,this.labelSize[Q],this.labelAngle[Q],Y,this.labelColor[Q],[0,0,0],T,U)}}this._text.unbind()},d.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},{"./lib/background.js":71,"./lib/cube.js":72,"./lib/lines.js":73,"./lib/text.js":75,"./lib/ticks.js":76}],71:[function(t,e,n){e.exports=l;var r=t("gl-buffer"),i=t("gl-vao"),a=t("./shaders").bg;function o(t,e,n,r){this.gl=t,this.buffer=e,this.vao=n,this.shader=r}var s=o.prototype;function l(t){for(var e=[],n=[],s=0,l=0;l<3;++l)for(var c=(l+1)%3,u=(l+2)%3,d=[0,0,0],h=[0,0,0],g=-1;g<=1;g+=2){n.push(s,s+2,s+1,s+1,s+2,s+3),d[l]=g,h[l]=g;for(var f=-1;f<=1;f+=2){d[c]=f;for(var p=-1;p<=1;p+=2)d[u]=p,e.push(d[0],d[1],d[2],h[0],h[1],h[2]),s+=1}var v=c;c=u,u=v}var m=r(t,new Float32Array(e)),y=r(t,new Uint16Array(n),t.ELEMENT_ARRAY_BUFFER),b=i(t,[{buffer:m,type:t.FLOAT,size:3,offset:0,stride:24},{buffer:m,type:t.FLOAT,size:3,offset:12,stride:24}],y),I=a(t);return I.attributes.position.location=0,I.attributes.normal.location=1,new o(t,m,b,I)}s.draw=function(t,e,n,r,i,a){for(var o=!1,s=0;s<3;++s)o=o||i[s];if(o){var l=this.gl;l.enable(l.POLYGON_OFFSET_FILL),l.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:t,view:e,projection:n,bounds:r,enable:i,colors:a},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),l.disable(l.POLYGON_OFFSET_FILL)}},s.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},{"./shaders":74,"gl-buffer":78,"gl-vao":150}],72:[function(t,e,n){e.exports=y;var r=t("bit-twiddle"),i=t("gl-mat4/multiply"),a=t("split-polygon"),o=t("robust-orientation"),s=new Array(16),l=new Array(8),c=new Array(8),u=new Array(3),d=[0,0,0];function h(t,e,n){for(var r=0;r<4;++r){t[r]=n[12+r];for(var i=0;i<3;++i)t[r]+=e[i]*n[4*i+r]}}!function(){for(var t=0;t<8;++t)l[t]=[1,1,1,1],c[t]=[1,1,1]}();var g=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function f(t){for(var e=0;e<g.length;++e)if((t=a.positive(t,g[e])).length<3)return 0;var n=t[0],r=n[0]/n[3],i=n[1]/n[3],o=0;for(e=1;e+1<t.length;++e){var s=t[e],l=t[e+1],c=s[0]/s[3]-r,u=s[1]/s[3]-i,d=l[0]/l[3]-r,h=l[1]/l[3]-i;o+=Math.abs(c*h-u*d)}return o}var p=[1,1,1],v=[0,0,0],m={cubeEdges:p,axis:v};function y(t,e,n,a,g){i(s,e,t),i(s,n,s);for(var y=0,b=0;b<2;++b){u[2]=a[b][2];for(var I=0;I<2;++I){u[1]=a[I][1];for(var C=0;C<2;++C)u[0]=a[C][0],h(l[y],u,s),y+=1}}var x=-1;for(b=0;b<8;++b){for(var B=l[b][3],A=0;A<3;++A)c[b][A]=l[b][A]/B;g&&(c[b][2]*=-1),B<0&&(x<0||c[b][2]<c[x][2])&&(x=b)}if(x<0){x=0;for(var F=0;F<3;++F){for(var Q=(F+2)%3,w=(F+1)%3,U=-1,G=-1,R=0;R<2;++R){var S=(_=R<<F)+(R<<Q)+(1-R<<w),L=_+(1-R<<Q)+(R<<w);o(c[_],c[S],c[L],d)<0||(R?U=1:G=1)}if(U<0||G<0)G>U&&(x|=1<<F);else{for(R=0;R<2;++R){S=(_=R<<F)+(R<<Q)+(1-R<<w),L=_+(1-R<<Q)+(R<<w);var _,E=f([l[_],l[S],l[L],l[_+(1<<Q)+(1<<w)]]);R?U=E:G=E}G>U&&(x|=1<<F)}}}var k=7^x,V=-1;for(b=0;b<8;++b)b!==x&&b!==k&&(V<0||c[V][1]>c[b][1])&&(V=b);var Z=-1;for(b=0;b<3;++b)(T=V^1<<b)!==x&&T!==k&&(Z<0&&(Z=T),(w=c[T])[0]<c[Z][0]&&(Z=T));var N=-1;for(b=0;b<3;++b){var T;(T=V^1<<b)!==x&&T!==k&&T!==Z&&(N<0&&(N=T),(w=c[T])[0]>c[N][0]&&(N=T))}var X=p;X[0]=X[1]=X[2]=0,X[r.log2(Z^V)]=V&Z,X[r.log2(V^N)]=V&N;var W=7^N;W===x||W===k?(W=7^Z,X[r.log2(N^W)]=W&N):X[r.log2(Z^W)]=W&Z;var M=v,H=x;for(F=0;F<3;++F)M[F]=H&1<<F?-1:1;return m}},{"bit-twiddle":32,"gl-mat4/multiply":100,"robust-orientation":284,"split-polygon":300}],73:[function(t,e,n){e.exports=p;var r=t("gl-buffer"),i=t("gl-vao"),a=t("./shaders").line,o=[0,0,0],s=[0,0,0],l=[0,0,0],c=[0,0,0],u=[1,1];function d(t){return t[0]=t[1]=t[2]=0,t}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function g(t,e,n,r,i,a,o,s){this.gl=t,this.vertBuffer=e,this.vao=n,this.shader=r,this.tickCount=i,this.tickOffset=a,this.gridCount=o,this.gridOffset=s}var f=g.prototype;function p(t,e,n){var o=[],s=[0,0,0],l=[0,0,0],c=[0,0,0],u=[0,0,0];o.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var d=0;d<3;++d){for(var h=o.length/3|0,f=0;f<n[d].length;++f){var p=+n[d][f].x;o.push(p,0,1,p,1,1,p,0,-1,p,0,-1,p,1,1,p,1,-1)}var v=o.length/3|0;s[d]=h,l[d]=v-h,h=o.length/3|0;for(var m=0;m<n[d].length;++m)p=+n[d][m].x,o.push(p,0,1,p,1,1,p,0,-1,p,0,-1,p,1,1,p,1,-1);v=o.length/3|0,c[d]=h,u[d]=v-h}var y=r(t,new Float32Array(o)),b=i(t,[{buffer:y,type:t.FLOAT,size:3,stride:0,offset:0}]),I=a(t);return I.attributes.position.location=0,new g(t,y,b,I,l,s,u,c)}f.bind=function(t,e,n){this.shader.bind(),this.shader.uniforms.model=t,this.shader.uniforms.view=e,this.shader.uniforms.projection=n,u[0]=this.gl.drawingBufferWidth,u[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=u,this.vao.bind()},f.unbind=function(){this.vao.unbind()},f.drawAxisLine=function(t,e,n,r,i){var a=d(s);this.shader.uniforms.majorAxis=s,a[t]=e[1][t]-e[0][t],this.shader.uniforms.minorAxis=a;var o,u=h(c,n);u[t]+=e[0][t],this.shader.uniforms.offset=u,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=r,(o=d(l))[(t+2)%3]=1,this.shader.uniforms.screenAxis=o,this.vao.draw(this.gl.TRIANGLES,6),(o=d(l))[(t+1)%3]=1,this.shader.uniforms.screenAxis=o,this.vao.draw(this.gl.TRIANGLES,6)},f.drawAxisTicks=function(t,e,n,r,i){if(this.tickCount[t]){var a=d(o);a[t]=1,this.shader.uniforms.majorAxis=a,this.shader.uniforms.offset=e,this.shader.uniforms.minorAxis=n,this.shader.uniforms.color=r,this.shader.uniforms.lineWidth=i;var s=d(l);s[t]=1,this.shader.uniforms.screenAxis=s,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t])}},f.drawGrid=function(t,e,n,r,i,a){if(this.gridCount[t]){var u=d(s);u[e]=n[1][e]-n[0][e],this.shader.uniforms.minorAxis=u;var g=h(c,r);g[e]+=n[0][e],this.shader.uniforms.offset=g;var f=d(o);f[t]=1,this.shader.uniforms.majorAxis=f;var p=d(l);p[t]=1,this.shader.uniforms.screenAxis=p,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=i,this.vao.draw(this.gl.TRIANGLES,this.gridCount[t],this.gridOffset[t])}},f.drawZero=function(t,e,n,r,i,a){var o=d(s);this.shader.uniforms.majorAxis=o,o[t]=n[1][t]-n[0][t],this.shader.uniforms.minorAxis=o;var u=h(c,r);u[t]+=n[0][t],this.shader.uniforms.offset=u;var g=d(l);g[e]=1,this.shader.uniforms.screenAxis=g,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=i,this.vao.draw(this.gl.TRIANGLES,6)},f.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},{"./shaders":74,"gl-buffer":78,"gl-vao":150}],74:[function(t,e,n){var r=t("glslify"),i=t("gl-shader"),a=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),o=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);n.line=function(t){return i(t,a,o,null,[{name:"position",type:"vec3"}])};var s=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),l=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);n.text=function(t){return i(t,s,l,null,[{name:"position",type:"vec3"}])};var c=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),u=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);n.bg=function(t){return i(t,c,u,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},{"gl-shader":132,glslify:231}],75:[function(t,e,n){(function(n){(function(){e.exports=f;var r=t("gl-buffer"),i=t("gl-vao"),a=t("vectorize-text"),o=t("./shaders").text,s=window||n.global||{},l=s.__TEXT_CACHE||{};s.__TEXT_CACHE={};var c=3;function u(t,e,n,r){this.gl=t,this.shader=e,this.buffer=n,this.vao=r,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var d=u.prototype,h=[0,0];function g(t,e){try{return a(t,e)}catch(e){return console.warn('error vectorizing text:"'+t+'" error:',e),{cells:[],positions:[]}}}function f(t,e,n,a,s,l){var c=r(t),d=i(t,[{buffer:c,size:3}]),h=o(t);h.attributes.position.location=0;var g=new u(t,h,c,d);return g.update(e,n,a,s,l),g}d.bind=function(t,e,n,r){this.vao.bind(),this.shader.bind();var i=this.shader.uniforms;i.model=t,i.view=e,i.projection=n,i.pixelScale=r,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=h},d.unbind=function(){this.vao.unbind()},d.update=function(t,e,n,r,i){var a=[];function o(t,e,n,r,i,o){var s=l[n];s||(s=l[n]={});var c=s[e];c||(c=s[e]=g(e,{triangles:!0,font:n,textAlign:"center",textBaseline:"middle",lineSpacing:i,styletags:o}));for(var u=(r||12)/12,d=c.positions,h=c.cells,f=0,p=h.length;f<p;++f)for(var v=h[f],m=2;m>=0;--m){var y=d[v[m]];a.push(u*y[0],-u*y[1],t)}}for(var s=[0,0,0],u=[0,0,0],d=[0,0,0],h=[0,0,0],f=1.25,p={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},v=0;v<3;++v){d[v]=a.length/c|0,o(.5*(t[0][v]+t[1][v]),e[v],n[v],12,f,p),h[v]=(a.length/c|0)-d[v],s[v]=a.length/c|0;for(var m=0;m<r[v].length;++m)r[v][m].text&&o(r[v][m].x,r[v][m].text,r[v][m].font||i,r[v][m].fontSize||12,f,p);u[v]=(a.length/c|0)-s[v]}this.buffer.update(a),this.tickOffset=s,this.tickCount=u,this.labelOffset=d,this.labelCount=h},d.drawTicks=function(t,e,n,r,i,a,o,s){this.tickCount[t]&&(this.shader.uniforms.axis=a,this.shader.uniforms.color=i,this.shader.uniforms.angle=n,this.shader.uniforms.scale=e,this.shader.uniforms.offset=r,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=s,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t]))},d.drawLabel=function(t,e,n,r,i,a,o,s){this.labelCount[t]&&(this.shader.uniforms.axis=a,this.shader.uniforms.color=i,this.shader.uniforms.angle=n,this.shader.uniforms.scale=e,this.shader.uniforms.offset=r,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=s,this.vao.draw(this.gl.TRIANGLES,this.labelCount[t],this.labelOffset[t]))},d.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}}).call(this)}).call(this,t("_process"))},{"./shaders":74,_process:5,"gl-buffer":78,"gl-vao":150,"vectorize-text":311}],76:[function(t,e,n){function r(t,e){var n=t+"",r=n.indexOf("."),i=0;r>=0&&(i=n.length-r-1);var a=Math.pow(10,i),o=Math.round(t*e*a),s=o+"";if(s.indexOf("e")>=0)return s;var l=o/a,c=o%a;o<0?(l=0|-Math.ceil(l),c=0|-c):(l=0|Math.floor(l),c|=0);var u=""+l;if(o<0&&(u="-"+u),i){for(var d=""+c;d.length<i;)d="0"+d;return u+"."+d}return u}function i(t,e){for(var n=[],i=0;i<3;++i){var a=[];t[0][i],t[1][i];for(var o=0;o*e[i]<=t[1][i];++o)a.push({x:o*e[i],text:r(e[i],o)});for(o=-1;o*e[i]>=t[0][i];--o)a.push({x:o*e[i],text:r(e[i],o)});n.push(a)}return n}function a(t,e){for(var n=0;n<3;++n){if(t[n].length!==e[n].length)return!1;for(var r=0;r<t[n].length;++r){var i=t[n][r],a=e[n][r];if(i.x!==a.x||i.text!==a.text||i.font!==a.font||i.fontColor!==a.fontColor||i.fontSize!==a.fontSize||i.dx!==a.dx||i.dy!==a.dy)return!1}}return!0}n.create=i,n.equal=a},{}],77:[function(t,e,n){e.exports=m;var r=t("extract-frustum-planes"),i=t("split-polygon"),a=t("./lib/cube.js"),o=t("gl-mat4/multiply"),s=t("gl-mat4/transpose"),l=t("gl-vec4/transformMat4"),c=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),u=new Float32Array(16);function d(t,e,n){this.lo=t,this.hi=e,this.pixelsPerDataUnit=n}var h=[0,0,0,1],g=[0,0,0,1];function f(t,e,n,r,i){for(var a=0;a<3;++a){for(var o=h,s=g,c=0;c<3;++c)s[c]=o[c]=n[c];s[3]=o[3]=1,s[a]+=1,l(s,s,e),s[3]<0&&(t[a]=1/0),o[a]-=1,l(o,o,e),o[3]<0&&(t[a]=1/0);var u=(o[0]/o[3]-s[0]/s[3])*r,d=(o[1]/o[3]-s[1]/s[3])*i;t[a]=.25*Math.sqrt(u*u+d*d)}return t}var p=[new d(1/0,-1/0,1/0),new d(1/0,-1/0,1/0),new d(1/0,-1/0,1/0)],v=[0,0,0];function m(t,e,n,l,d){var h=e.model||c,g=e.view||c,m=e.projection||c,y=e._ortho||!1,b=t.bounds,I=(d=d||a(h,g,m,b,y)).axis;o(u,g,h),o(u,m,u);for(var C=p,x=0;x<3;++x)C[x].lo=1/0,C[x].hi=-1/0,C[x].pixelsPerDataUnit=1/0;var B=r(s(u,u));s(u,u);for(var A=0;A<3;++A){var F=(A+1)%3,Q=(A+2)%3,w=v;t:for(x=0;x<2;++x){var U=[];if(I[A]<0!=!!x){w[A]=b[x][A];for(var G=0;G<2;++G){w[F]=b[G^x][F];for(var R=0;R<2;++R)w[Q]=b[R^G^x][Q],U.push(w.slice())}var S=y?5:4;for(G=S;G===S;++G){if(0===U.length)continue t;U=i.positive(U,B[G])}for(G=0;G<U.length;++G){Q=U[G];var L=f(v,u,Q,n,l);for(R=0;R<3;++R)C[R].lo=Math.min(C[R].lo,Q[R]),C[R].hi=Math.max(C[R].hi,Q[R]),R!==A&&(C[R].pixelsPerDataUnit=Math.min(C[R].pixelsPerDataUnit,Math.abs(L[R])))}}}}return C}},{"./lib/cube.js":72,"extract-frustum-planes":67,"gl-mat4/multiply":100,"gl-mat4/transpose":109,"gl-vec4/transformMat4":221,"split-polygon":300}],78:[function(t,e,n){var r=t("typedarray-pool"),i=t("ndarray-ops"),a=t("ndarray"),s=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function l(t,e,n,r,i){this.gl=t,this.type=e,this.handle=n,this.length=r,this.usage=i}var c=l.prototype;function u(t,e,n,r,i,a){var o=i.length*i.BYTES_PER_ELEMENT;if(a<0)return t.bufferData(e,i,r),o;if(o+a>n)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(e,a,i),n}function d(t,e){for(var n=r.malloc(t.length,e),i=t.length,a=0;a<i;++a)n[a]=t[a];return n}function h(t,e){for(var n=1,r=e.length-1;r>=0;--r){if(e[r]!==n)return!1;n*=t[r]}return!0}function g(t,e,n,r){if(n=n||t.ARRAY_BUFFER,r=r||t.DYNAMIC_DRAW,n!==t.ARRAY_BUFFER&&n!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(r!==t.DYNAMIC_DRAW&&r!==t.STATIC_DRAW&&r!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var i=t.createBuffer(),a=new l(t,n,i,0,r);return a.update(e),a}c.bind=function(){this.gl.bindBuffer(this.type,this.handle)},c.unbind=function(){this.gl.bindBuffer(this.type,null)},c.dispose=function(){this.gl.deleteBuffer(this.handle)},c.update=function(t,e){if("number"!=typeof e&&(e=-1),this.bind(),"object"===o(t)&&void 0!==t.shape){var n=t.dtype;if(s.indexOf(n)<0&&(n="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(n=gl.getExtension("OES_element_index_uint")&&"uint16"!==n?"uint32":"uint16"),n===t.dtype&&h(t.shape,t.stride))0===t.offset&&t.data.length===t.shape[0]?this.length=u(this.gl,this.type,this.length,this.usage,t.data,e):this.length=u(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),e);else{var l=r.malloc(t.size,n),c=a(l,t.shape);i.assign(c,t),this.length=u(this.gl,this.type,this.length,this.usage,e<0?l:l.subarray(0,t.size),e),r.free(l)}}else if(Array.isArray(t)){var g;g=this.type===this.gl.ELEMENT_ARRAY_BUFFER?d(t,"uint16"):d(t,"float32"),this.length=u(this.gl,this.type,this.length,this.usage,e<0?g:g.subarray(0,t.length),e),r.free(g)}else if("object"===o(t)&&"number"==typeof t.length)this.length=u(this.gl,this.type,this.length,this.usage,t,e);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(e>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(t|=0)<=0&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},e.exports=g},{ndarray:259,"ndarray-ops":254,"typedarray-pool":308}],79:[function(t,e,n){var r=t("gl-vec3");e.exports=function(t,e){var n=t.positions,i=t.vectors,a={positions:[],vertexIntensity:[],vertexIntensityBounds:t.vertexIntensityBounds,vectors:[],cells:[],coneOffset:t.coneOffset,colormap:t.colormap};if(0===t.positions.length)return e&&(e[0]=[0,0,0],e[1]=[0,0,0]),a;for(var o=0,s=1/0,l=-1/0,c=1/0,u=-1/0,d=1/0,h=-1/0,g=null,f=null,p=[],v=1/0,m=!1,y=0;y<n.length;y++){var b=n[y];s=Math.min(b[0],s),l=Math.max(b[0],l),c=Math.min(b[1],c),u=Math.max(b[1],u),d=Math.min(b[2],d),h=Math.max(b[2],h);var I=i[y];if(r.length(I)>o&&(o=r.length(I)),y){var C=2*r.distance(g,b)/(r.length(f)+r.length(I));C?(v=Math.min(v,C),m=!1):m=!0}m||(g=b,f=I),p.push(I)}var x=[s,c,d],B=[l,u,h];e&&(e[0]=x,e[1]=B),0===o&&(o=1);var A=1/o;isFinite(v)||(v=1),a.vectorScale=v;var F=t.coneSize||.5;t.absoluteConeSize&&(F=t.absoluteConeSize*A),a.coneScale=F,y=0;for(var Q=0;y<n.length;y++)for(var w=(b=n[y])[0],U=b[1],G=b[2],R=p[y],S=r.length(R)*A,L=0,_=8;L<_;L++){a.positions.push([w,U,G,Q++]),a.positions.push([w,U,G,Q++]),a.positions.push([w,U,G,Q++]),a.positions.push([w,U,G,Q++]),a.positions.push([w,U,G,Q++]),a.positions.push([w,U,G,Q++]),a.vectors.push(R),a.vectors.push(R),a.vectors.push(R),a.vectors.push(R),a.vectors.push(R),a.vectors.push(R),a.vertexIntensity.push(S,S,S),a.vertexIntensity.push(S,S,S);var E=a.positions.length;a.cells.push([E-6,E-5,E-4],[E-3,E-2,E-1])}return a};var i=t("./lib/shaders");e.exports.createMesh=t("./create_mesh"),e.exports.createConeMesh=function(t,n){return e.exports.createMesh(t,n,{shaders:i,traceType:"cone"})}},{"./create_mesh":80,"./lib/shaders":81,"gl-vec3":169}],80:[function(t,e,n){var r=t("gl-shader"),i=t("gl-buffer"),a=t("gl-vao"),o=t("gl-texture2d"),s=t("gl-mat4/multiply"),l=t("gl-mat4/invert"),c=t("ndarray"),u=t("colormap"),d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(t,e,n,r,i,a,o,s,l,c,u){this.gl=t,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=e,this.dirty=!0,this.triShader=n,this.pickShader=r,this.trianglePositions=i,this.triangleVectors=a,this.triangleColors=s,this.triangleUVs=l,this.triangleIds=o,this.triangleVAO=c,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=u,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=d,this._view=d,this._projection=d,this._resolution=[1,1]}var g=h.prototype;function f(t){for(var e=u({colormap:t,nshades:256,format:"rgba"}),n=new Uint8Array(1024),r=0;r<256;++r){for(var i=e[r],a=0;a<3;++a)n[4*r+a]=i[a];n[4*r+3]=255*i[3]}return c(n,[256,256,4],[4,0,1])}function p(t){for(var e=t.length,n=new Array(e),r=0;r<e;++r)n[r]=t[r][2];return n}function v(t,e){var n=r(t,e.meshShader.vertex,e.meshShader.fragment,null,e.meshShader.attributes);return n.attributes.position.location=0,n.attributes.color.location=2,n.attributes.uv.location=3,n.attributes.vector.location=4,n}function m(t,e){var n=r(t,e.pickShader.vertex,e.pickShader.fragment,null,e.pickShader.attributes);return n.attributes.position.location=0,n.attributes.id.location=1,n.attributes.vector.location=4,n}function y(t,e,n){var r=n.shaders;1===arguments.length&&(t=(e=t).gl);var s=v(t,r),l=m(t,r),u=o(t,c(new Uint8Array([255,255,255,255]),[1,1,4]));u.generateMipmap(),u.minFilter=t.LINEAR_MIPMAP_LINEAR,u.magFilter=t.LINEAR;var d=i(t),g=i(t),f=i(t),p=i(t),y=i(t),b=new h(t,u,s,l,d,g,y,f,p,a(t,[{buffer:d,type:t.FLOAT,size:4},{buffer:y,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:f,type:t.FLOAT,size:4},{buffer:p,type:t.FLOAT,size:2},{buffer:g,type:t.FLOAT,size:4}]),n.traceType||"cone");return b.update(e),b}g.isOpaque=function(){return this.opacity>=1},g.isTransparent=function(){return this.opacity<1},g.pickSlots=1,g.setPickBase=function(t){this.pickId=t},g.update=function(t){t=t||{};var e=this.gl;this.dirty=!0,"lightPosition"in t&&(this.lightPosition=t.lightPosition),"opacity"in t&&(this.opacity=t.opacity),"ambient"in t&&(this.ambientLight=t.ambient),"diffuse"in t&&(this.diffuseLight=t.diffuse),"specular"in t&&(this.specularLight=t.specular),"roughness"in t&&(this.roughness=t.roughness),"fresnel"in t&&(this.fresnel=t.fresnel),void 0!==t.tubeScale&&(this.tubeScale=t.tubeScale),void 0!==t.vectorScale&&(this.vectorScale=t.vectorScale),void 0!==t.coneScale&&(this.coneScale=t.coneScale),void 0!==t.coneOffset&&(this.coneOffset=t.coneOffset),t.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=e.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=e.LINEAR,this.texture.setPixels(f(t.colormap)),this.texture.generateMipmap());var n=t.cells,r=t.positions,i=t.vectors;if(r&&n&&i){var a=[],o=[],s=[],l=[],c=[];this.cells=n,this.positions=r,this.vectors=i;var u=t.meshColor||[1,1,1,1],d=t.vertexIntensity,h=1/0,g=-1/0;if(d)if(t.vertexIntensityBounds)h=+t.vertexIntensityBounds[0],g=+t.vertexIntensityBounds[1];else for(var v=0;v<d.length;++v){var m=d[v];h=Math.min(h,m),g=Math.max(g,m)}else for(v=0;v<r.length;++v)m=r[v][2],h=Math.min(h,m),g=Math.max(g,m);for(this.intensity=d||p(r),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],v=0;v<r.length;++v)for(var y=r[v],b=0;b<3;++b)!isNaN(y[b])&&isFinite(y[b])&&(this.bounds[0][b]=Math.min(this.bounds[0][b],y[b]),this.bounds[1][b]=Math.max(this.bounds[1][b],y[b]));var I=0;t:for(v=0;v<n.length;++v){var C=n[v];if(3===C.length){for(b=0;b<3;++b){y=r[B=C[b]];for(var x=0;x<3;++x)if(isNaN(y[x])||!isFinite(y[x]))continue t}for(b=0;b<3;++b){var B;y=r[B=C[2-b]],a.push(y[0],y[1],y[2],y[3]);var A=i[B];o.push(A[0],A[1],A[2],A[3]||0);var F,Q=u;3===Q.length?s.push(Q[0],Q[1],Q[2],1):s.push(Q[0],Q[1],Q[2],Q[3]),F=d?[(d[B]-h)/(g-h),0]:[(y[2]-h)/(g-h),0],l.push(F[0],F[1]),c.push(v)}I+=1}}this.triangleCount=I,this.trianglePositions.update(a),this.triangleVectors.update(o),this.triangleColors.update(s),this.triangleUVs.update(l),this.triangleIds.update(new Uint32Array(c))}},g.drawTransparent=g.draw=function(t){t=t||{};for(var e=this.gl,n=t.model||d,r=t.view||d,i=t.projection||d,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o<3;++o)a[0][o]=Math.max(a[0][o],this.clipBounds[0][o]),a[1][o]=Math.min(a[1][o],this.clipBounds[1][o]);var c={model:n,view:r,projection:i,inverseModel:d.slice(),clipBounds:a,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};c.inverseModel=l(c.inverseModel,c.model),e.disable(e.CULL_FACE),this.texture.bind(0);var u=new Array(16);for(s(u,c.view,c.model),s(u,c.projection,u),l(u,u),o=0;o<3;++o)c.eyePosition[o]=u[12+o]/u[15];var h=u[15];for(o=0;o<3;++o)h+=this.lightPosition[o]*u[4*o+3];for(o=0;o<3;++o){for(var g=u[12+o],f=0;f<3;++f)g+=u[4*f+o]*this.lightPosition[f];c.lightPosition[o]=g/h}if(this.triangleCount>0){var p=this.triShader;p.bind(),p.uniforms=c,this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},g.drawPick=function(t){t=t||{};for(var e=this.gl,n=t.model||d,r=t.view||d,i=t.projection||d,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o<3;++o)a[0][o]=Math.max(a[0][o],this.clipBounds[0][o]),a[1][o]=Math.min(a[1][o],this.clipBounds[1][o]);this._model=[].slice.call(n),this._view=[].slice.call(r),this._projection=[].slice.call(i),this._resolution=[e.drawingBufferWidth,e.drawingBufferHeight];var s={model:n,view:r,projection:i,clipBounds:a,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},l=this.pickShader;l.bind(),l.uniforms=s,this.triangleCount>0&&(this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},g.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=t.value[0]+256*t.value[1]+65536*t.value[2],n=this.cells[e],r=this.positions[n[1]].slice(0,3),i={position:r,dataCoordinate:r,index:Math.floor(n[1]/48)};return"cone"===this.traceType?i.index=Math.floor(n[1]/48):"streamtube"===this.traceType&&(i.intensity=this.intensity[n[1]],i.velocity=this.vectors[n[1]].slice(0,3),i.divergence=this.vectors[n[1]][3],i.index=e),i},g.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},e.exports=y},{colormap:53,"gl-buffer":78,"gl-mat4/invert":98,"gl-mat4/multiply":100,"gl-shader":132,"gl-texture2d":146,"gl-vao":150,ndarray:259}],81:[function(t,e,n){var r=t("glslify"),i=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, coneScale, coneOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),a=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),o=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float vectorScale, coneScale, coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * view * conePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);n.meshShader={vertex:i,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},n.pickShader={vertex:o,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},{glslify:231}],82:[function(t,e,n){e.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},{}],83:[function(t,e,n){var r=t("./1.0/numbers");e.exports=function(t){return r[t]}},{"./1.0/numbers":82}],84:[function(t,e,n){e.exports=h;var r=t("gl-buffer"),i=t("gl-vao"),a=t("./shaders/index"),o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(t,e,n,r){this.gl=t,this.shader=r,this.buffer=e,this.vao=n,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=s.prototype;function c(t,e){for(var n=0;n<3;++n)t[0][n]=Math.min(t[0][n],e[n]),t[1][n]=Math.max(t[1][n],e[n])}l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(t){var e=this.gl,n=this.shader.uniforms;this.shader.bind();var r=n.view=t.view||o,i=n.projection=t.projection||o;n.model=t.model||o,n.clipBounds=this.clipBounds,n.opacity=this.opacity;var a=r[12],s=r[13],l=r[14],c=r[15],u=(t._ortho?2:1)*this.pixelRatio*(i[3]*a+i[7]*s+i[11]*l+i[15]*c)/e.drawingBufferHeight;this.vao.bind();for(var d=0;d<3;++d)e.lineWidth(this.lineWidth[d]*this.pixelRatio),n.capSize=this.capSize[d]*u,this.lineCount[d]&&e.drawArrays(e.LINES,this.lineOffset[d],this.lineCount[d]);this.vao.unbind()};var u=function(){for(var t=new Array(3),e=0;e<3;++e){for(var n=[],r=1;r<=2;++r)for(var i=-1;i<=1;i+=2){var a=[0,0,0];a[(r+e)%3]=i,n.push(a)}t[e]=n}return t}();function d(t,e,n,r){for(var i=u[r],a=0;a<i.length;++a){var o=i[a];t.push(e[0],e[1],e[2],n[0],n[1],n[2],n[3],o[0],o[1],o[2])}return i.length}function h(t){var e=t.gl,n=r(e),o=i(e,[{buffer:n,type:e.FLOAT,size:3,offset:0,stride:40},{buffer:n,type:e.FLOAT,size:4,offset:12,stride:40},{buffer:n,type:e.FLOAT,size:3,offset:28,stride:40}]),l=a(e);l.attributes.position.location=0,l.attributes.color.location=1,l.attributes.offset.location=2;var c=new s(e,n,o,l);return c.update(t),c}l.update=function(t){"lineWidth"in(t=t||{})&&(this.lineWidth=t.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in t&&(this.capSize=t.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in t&&(this.opacity=+t.opacity,this.opacity<1&&(this.hasAlpha=!0));var e=t.color||[[0,0,0],[0,0,0],[0,0,0]],n=t.position,r=t.error;if(Array.isArray(e[0])||(e=[e,e,e]),n&&r){var i=[],a=n.length,o=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var s=0;s<3;++s){this.lineOffset[s]=o;t:for(var l=0;l<a;++l){for(var u=n[l],h=0;h<3;++h)if(isNaN(u[h])||!isFinite(u[h]))continue t;var g,f=r[l],p=e[s];Array.isArray(p[0])&&(p=e[l]),3===p.length?p=[p[0],p[1],p[2],1]:4===p.length&&(p=[p[0],p[1],p[2],p[3]],!this.hasAlpha&&p[3]<1&&(this.hasAlpha=!0)),isNaN(f[0][s])||isNaN(f[1][s])||(f[0][s]<0&&((g=u.slice())[s]+=f[0][s],i.push(u[0],u[1],u[2],p[0],p[1],p[2],p[3],0,0,0,g[0],g[1],g[2],p[0],p[1],p[2],p[3],0,0,0),c(this.bounds,g),o+=2+d(i,g,p,s)),f[1][s]>0&&((g=u.slice())[s]+=f[1][s],i.push(u[0],u[1],u[2],p[0],p[1],p[2],p[3],0,0,0,g[0],g[1],g[2],p[0],p[1],p[2],p[3],0,0,0),c(this.bounds,g),o+=2+d(i,g,p,s)))}this.lineCount[s]=o-this.lineOffset[s]}this.buffer.update(i)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},{"./shaders/index":85,"gl-buffer":78,"gl-vao":150}],85:[function(t,e,n){var r=t("glslify"),i=t("gl-shader"),a=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),o=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);e.exports=function(t){return i(t,a,o,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},{"gl-shader":132,glslify:231}],86:[function(t,e,n){var r=t("gl-texture2d");e.exports=b;var i,a,o,s,l=null;function c(t){return[t.getParameter(t.FRAMEBUFFER_BINDING),t.getParameter(t.RENDERBUFFER_BINDING),t.getParameter(t.TEXTURE_BINDING_2D)]}function u(t,e){t.bindFramebuffer(t.FRAMEBUFFER,e[0]),t.bindRenderbuffer(t.RENDERBUFFER,e[1]),t.bindTexture(t.TEXTURE_2D,e[2])}function d(t,e){var n=t.getParameter(e.MAX_COLOR_ATTACHMENTS_WEBGL);l=new Array(n+1);for(var r=0;r<=n;++r){for(var i=new Array(n),a=0;a<r;++a)i[a]=t.COLOR_ATTACHMENT0+a;for(a=r;a<n;++a)i[a]=t.NONE;l[r]=i}}function h(t){switch(t){case i:throw new Error("gl-fbo: Framebuffer unsupported");case a:throw new Error("gl-fbo: Framebuffer incomplete attachment");case o:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case s:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function g(t,e,n,i,a,o){if(!i)return null;var s=r(t,e,n,a,i);return s.magFilter=t.NEAREST,s.minFilter=t.NEAREST,s.mipSamples=1,s.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,o,t.TEXTURE_2D,s.handle,0),s}function f(t,e,n,r,i){var a=t.createRenderbuffer();return t.bindRenderbuffer(t.RENDERBUFFER,a),t.renderbufferStorage(t.RENDERBUFFER,r,e,n),t.framebufferRenderbuffer(t.FRAMEBUFFER,i,t.RENDERBUFFER,a),a}function p(t){var e=c(t.gl),n=t.gl,r=t.handle=n.createFramebuffer(),i=t._shape[0],a=t._shape[1],o=t.color.length,s=t._ext,d=t._useStencil,p=t._useDepth,v=t._colorType;n.bindFramebuffer(n.FRAMEBUFFER,r);for(var m=0;m<o;++m)t.color[m]=g(n,i,a,v,n.RGBA,n.COLOR_ATTACHMENT0+m);0===o?(t._color_rb=f(n,i,a,n.RGBA4,n.COLOR_ATTACHMENT0),s&&s.drawBuffersWEBGL(l[0])):o>1&&s.drawBuffersWEBGL(l[o]);var y=n.getExtension("WEBGL_depth_texture");y?d?t.depth=g(n,i,a,y.UNSIGNED_INT_24_8_WEBGL,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):p&&(t.depth=g(n,i,a,n.UNSIGNED_SHORT,n.DEPTH_COMPONENT,n.DEPTH_ATTACHMENT)):p&&d?t._depth_rb=f(n,i,a,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):p?t._depth_rb=f(n,i,a,n.DEPTH_COMPONENT16,n.DEPTH_ATTACHMENT):d&&(t._depth_rb=f(n,i,a,n.STENCIL_INDEX,n.STENCIL_ATTACHMENT));var b=n.checkFramebufferStatus(n.FRAMEBUFFER);if(b!==n.FRAMEBUFFER_COMPLETE){for(t._destroyed=!0,n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteFramebuffer(t.handle),t.handle=null,t.depth&&(t.depth.dispose(),t.depth=null),t._depth_rb&&(n.deleteRenderbuffer(t._depth_rb),t._depth_rb=null),m=0;m<t.color.length;++m)t.color[m].dispose(),t.color[m]=null;t._color_rb&&(n.deleteRenderbuffer(t._color_rb),t._color_rb=null),u(n,e),h(b)}u(n,e)}function v(t,e,n,r,i,a,o,s){this.gl=t,this._shape=[0|e,0|n],this._destroyed=!1,this._ext=s,this.color=new Array(i);for(var l=0;l<i;++l)this.color[l]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=r,this._useDepth=a,this._useStencil=o;var c=this,u=[0|e,0|n];Object.defineProperties(u,{0:{get:function(){return c._shape[0]},set:function(t){return c.width=t}},1:{get:function(){return c._shape[1]},set:function(t){return c.height=t}}}),this._shapeVector=u,p(this)}var m=v.prototype;function y(t,e,n){if(t._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(t._shape[0]!==e||t._shape[1]!==n){var r=t.gl,i=r.getParameter(r.MAX_RENDERBUFFER_SIZE);if(e<0||e>i||n<0||n>i)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");t._shape[0]=e,t._shape[1]=n;for(var a=c(r),o=0;o<t.color.length;++o)t.color[o].shape=t._shape;t._color_rb&&(r.bindRenderbuffer(r.RENDERBUFFER,t._color_rb),r.renderbufferStorage(r.RENDERBUFFER,r.RGBA4,t._shape[0],t._shape[1])),t.depth&&(t.depth.shape=t._shape),t._depth_rb&&(r.bindRenderbuffer(r.RENDERBUFFER,t._depth_rb),t._useDepth&&t._useStencil?r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t._shape[0],t._shape[1]):t._useDepth?r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_COMPONENT16,t._shape[0],t._shape[1]):t._useStencil&&r.renderbufferStorage(r.RENDERBUFFER,r.STENCIL_INDEX,t._shape[0],t._shape[1])),r.bindFramebuffer(r.FRAMEBUFFER,t.handle);var s=r.checkFramebufferStatus(r.FRAMEBUFFER);s!==r.FRAMEBUFFER_COMPLETE&&(t.dispose(),u(r,a),h(s)),u(r,a)}}function b(t,e,n,r){i||(i=t.FRAMEBUFFER_UNSUPPORTED,a=t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,o=t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,s=t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var c=t.getExtension("WEBGL_draw_buffers");if(!l&&c&&d(t,c),Array.isArray(e)&&(r=n,n=0|e[1],e=0|e[0]),"number"!=typeof e)throw new Error("gl-fbo: Missing shape parameter");var u=t.getParameter(t.MAX_RENDERBUFFER_SIZE);if(e<0||e>u||n<0||n>u)throw new Error("gl-fbo: Parameters are too large for FBO");var h=1;if("color"in(r=r||{})){if((h=Math.max(0|r.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(h>1){if(!c)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(h>t.getParameter(c.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+h+" draw buffers")}}var g=t.UNSIGNED_BYTE,f=t.getExtension("OES_texture_float");if(r.float&&h>0){if(!f)throw new Error("gl-fbo: Context does not support floating point textures");g=t.FLOAT}else r.preferFloat&&h>0&&f&&(g=t.FLOAT);var p=!0;"depth"in r&&(p=!!r.depth);var m=!1;return"stencil"in r&&(m=!!r.stencil),new v(t,e,n,g,h,p,m,c)}Object.defineProperties(m,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(t){if(Array.isArray(t)||(t=[0|t,0|t]),2!==t.length)throw new Error("gl-fbo: Shape vector must be length 2");var e=0|t[0],n=0|t[1];return y(this,e,n),[e,n]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(t){return y(this,t|=0,this._shape[1]),t},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(t){return t|=0,y(this,this._shape[0],t),t},enumerable:!1}}),m.bind=function(){if(!this._destroyed){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.handle),t.viewport(0,0,this._shape[0],this._shape[1])}},m.dispose=function(){if(!this._destroyed){this._destroyed=!0;var t=this.gl;t.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(t.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var e=0;e<this.color.length;++e)this.color[e].dispose(),this.color[e]=null;this._color_rb&&(t.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},{"gl-texture2d":146}],87:[function(t,e,n){var r=t("sprintf-js").sprintf,i=t("gl-constants/lookup"),a=t("glsl-shader-name"),o=t("add-line-numbers");function s(t,e,n){var s=a(e)||"of unknown name (see npm glsl-shader-name)",l="unknown type";void 0!==n&&(l=n===i.FRAGMENT_SHADER?"fragment":"vertex");for(var c=r("Error compiling %s shader %s:\n",l,s),u=r("%s%s",c,t),d=t.split("\n"),h={},g=0;g<d.length;g++){var f=d[g];if(""!==f&&"\0"!==f){var p=parseInt(f.split(":")[2]);if(isNaN(p))throw new Error(r("Could not parse error: %s",f));h[p]=f}}var v=o(e).split("\n");for(g=0;g<v.length;g++)if((h[g+3]||h[g+2]||h[g+1])&&(c+=v[g]+"\n",h[g+1])){var m=h[g+1];m=m.substr(m.split(":",3).join(":").length+1).trim(),c+=r("^^^ %s\n\n",m)}return{long:c.trim(),short:u.trim()}}e.exports=s},{"add-line-numbers":9,"gl-constants/lookup":83,"glsl-shader-name":223,"sprintf-js":301}],88:[function(t,e,n){e.exports=g;var r=t("binary-search-bounds"),i=t("iota-array"),a=t("typedarray-pool"),o=t("gl-shader"),s=t("gl-buffer"),l=t("./lib/shaders");function c(t,e,n,r,i,a,o){this.plot=t,this.shader=e,this.pickShader=n,this.positionBuffer=r,this.weightBuffer=i,this.colorBuffer=a,this.idBuffer=o,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var u,d=c.prototype,h=[0,0,1,0,0,1,1,0,1,1,0,1];function g(t,e){var n=t.gl,r=new c(t,o(n,l.vertex,l.fragment),o(n,l.pickVertex,l.pickFragment),s(n),s(n),s(n),s(n));return r.update(e),t.addObject(r),r}d.draw=(u=[1,0,0,0,1,0,0,0,1],function(){var t=this.plot,e=this.shader,n=this.bounds,r=this.numVertices;if(!(r<=0)){var i=t.gl,a=t.dataBox,o=n[2]-n[0],s=n[3]-n[1],l=a[2]-a[0],c=a[3]-a[1];u[0]=2*o/l,u[4]=2*s/c,u[6]=2*(n[0]-a[0])/l-1,u[7]=2*(n[1]-a[1])/c-1,e.bind();var d=e.uniforms;d.viewTransform=u,d.shape=this.shape;var h=e.attributes;this.positionBuffer.bind(),h.position.pointer(),this.weightBuffer.bind(),h.weight.pointer(i.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),h.color.pointer(i.UNSIGNED_BYTE,!0),i.drawArrays(i.TRIANGLES,0,r)}}),d.drawPick=function(){var t=[1,0,0,0,1,0,0,0,1],e=[0,0,0,0];return function(n){var r=this.plot,i=this.pickShader,a=this.bounds,o=this.numVertices;if(!(o<=0)){var s=r.gl,l=r.dataBox,c=a[2]-a[0],u=a[3]-a[1],d=l[2]-l[0],h=l[3]-l[1];t[0]=2*c/d,t[4]=2*u/h,t[6]=2*(a[0]-l[0])/d-1,t[7]=2*(a[1]-l[1])/h-1;for(var g=0;g<4;++g)e[g]=n>>8*g&255;this.pickOffset=n,i.bind();var f=i.uniforms;f.viewTransform=t,f.pickOffset=e,f.shape=this.shape;var p=i.attributes;return this.positionBuffer.bind(),p.position.pointer(),this.weightBuffer.bind(),p.weight.pointer(s.UNSIGNED_BYTE,!1),this.idBuffer.bind(),p.pickId.pointer(s.UNSIGNED_BYTE,!1),s.drawArrays(s.TRIANGLES,0,o),n+this.shape[0]*this.shape[1]}}}(),d.pick=function(t,e,n){var r=this.pickOffset,i=this.shape[0]*this.shape[1];if(n<r||n>=r+i)return null;var a=n-r,o=this.xData,s=this.yData;return{object:this,pointId:a,dataCoord:[o[a%this.shape[0]],s[a/this.shape[0]|0]]}},d.update=function(t){var e=(t=t||{}).shape||[0,0],n=t.x||i(e[0]),o=t.y||i(e[1]),s=t.z||new Float32Array(e[0]*e[1]),l=!1!==t.zsmooth;this.xData=n,this.yData=o;var c,u,d,g,f=t.colorLevels||[0],p=t.colorValues||[0,0,0,1],v=f.length,m=this.bounds;l?(c=m[0]=n[0],u=m[1]=o[0],d=m[2]=n[n.length-1],g=m[3]=o[o.length-1]):(c=m[0]=n[0]+(n[1]-n[0])/2,u=m[1]=o[0]+(o[1]-o[0])/2,d=m[2]=n[n.length-1]+(n[n.length-1]-n[n.length-2])/2,g=m[3]=o[o.length-1]+(o[o.length-1]-o[o.length-2])/2);var y=1/(d-c),b=1/(g-u),I=e[0],C=e[1];this.shape=[I,C];var x=(l?(I-1)*(C-1):I*C)*(h.length>>>1);this.numVertices=x;for(var B=a.mallocUint8(4*x),A=a.mallocFloat32(2*x),F=a.mallocUint8(2*x),Q=a.mallocUint32(x),w=0,U=l?I-1:I,G=l?C-1:C,R=0;R<G;++R){var S,L;l?(S=b*(o[R]-u),L=b*(o[R+1]-u)):(S=R<C-1?b*(o[R]-(o[R+1]-o[R])/2-u):b*(o[R]-(o[R]-o[R-1])/2-u),L=R<C-1?b*(o[R]+(o[R+1]-o[R])/2-u):b*(o[R]+(o[R]-o[R-1])/2-u));for(var _=0;_<U;++_){var E,k;l?(E=y*(n[_]-c),k=y*(n[_+1]-c)):(E=_<I-1?y*(n[_]-(n[_+1]-n[_])/2-c):y*(n[_]-(n[_]-n[_-1])/2-c),k=_<I-1?y*(n[_]+(n[_+1]-n[_])/2-c):y*(n[_]+(n[_]-n[_-1])/2-c));for(var V=0;V<h.length;V+=2){var Z,N,T,X,W=h[V],M=h[V+1],H=s[l?(R+M)*I+(_+W):R*I+_],D=r.le(f,H);if(D<0)Z=p[0],N=p[1],T=p[2],X=p[3];else if(D===v-1)Z=p[4*v-4],N=p[4*v-3],T=p[4*v-2],X=p[4*v-1];else{var Y=(H-f[D])/(f[D+1]-f[D]),O=1-Y,z=4*D,J=4*(D+1);Z=O*p[z]+Y*p[J],N=O*p[z+1]+Y*p[J+1],T=O*p[z+2]+Y*p[J+2],X=O*p[z+3]+Y*p[J+3]}B[4*w]=255*Z,B[4*w+1]=255*N,B[4*w+2]=255*T,B[4*w+3]=255*X,A[2*w]=.5*E+.5*k,A[2*w+1]=.5*S+.5*L,F[2*w]=W,F[2*w+1]=M,Q[w]=R*I+_,w+=1}}}this.positionBuffer.update(A),this.weightBuffer.update(F),this.colorBuffer.update(B),this.idBuffer.update(Q),a.free(A),a.free(B),a.free(F),a.free(Q)},d.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},{"./lib/shaders":89,"binary-search-bounds":31,"gl-buffer":78,"gl-shader":132,"iota-array":235,"typedarray-pool":308}],89:[function(t,e,n){var r=t("glslify");e.exports={fragment:r(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"]),pickFragment:r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n"]),pickVertex:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},{glslify:231}],90:[function(t,e,n){var r=t("glslify"),i=t("gl-shader"),a=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),o=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];n.createShader=function(t){return i(t,a,o,null,l)},n.createPickShader=function(t){return i(t,a,s,null,l)}},{"gl-shader":132,glslify:231}],91:[function(t,e,n){e.exports=I;var r=t("gl-buffer"),i=t("gl-vao"),a=t("gl-texture2d"),o=new Uint8Array(4),s=new Float32Array(o.buffer);function l(t,e,n,r){return o[0]=r,o[1]=n,o[2]=e,o[3]=t,s[0]}var c=t("binary-search-bounds"),u=t("ndarray"),d=t("./lib/shaders"),h=d.createShader,g=d.createPickShader,f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function p(t,e){for(var n=0,r=0;r<3;++r){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)}function v(t){for(var e=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],n=0;n<3;++n)e[0][n]=Math.max(t[0][n],e[0][n]),e[1][n]=Math.min(t[1][n],e[1][n]);return e}function m(t,e,n,r){this.arcLength=t,this.position=e,this.index=n,this.dataCoordinate=r}function y(t,e,n,r,i,a){this.gl=t,this.shader=e,this.pickShader=n,this.buffer=r,this.vao=i,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=a,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var b=y.prototype;function I(t){var e=t.gl||t.scene&&t.scene.gl,n=h(e);n.attributes.position.location=0,n.attributes.nextPosition.location=1,n.attributes.arcLength.location=2,n.attributes.lineWidth.location=3,n.attributes.color.location=4;var o=g(e);o.attributes.position.location=0,o.attributes.nextPosition.location=1,o.attributes.arcLength.location=2,o.attributes.lineWidth.location=3,o.attributes.color.location=4;for(var s=r(e),l=i(e,[{buffer:s,size:3,offset:0,stride:48},{buffer:s,size:3,offset:12,stride:48},{buffer:s,size:1,offset:24,stride:48},{buffer:s,size:1,offset:28,stride:48},{buffer:s,size:4,offset:32,stride:48}]),c=u(new Array(1024),[256,1,4]),d=0;d<1024;++d)c.data[d]=255;var f=a(e,c);f.wrap=e.REPEAT;var p=new y(e,n,o,s,l,f);return p.update(t),p}b.isTransparent=function(){return this.hasAlpha},b.isOpaque=function(){return!this.hasAlpha},b.pickSlots=1,b.setPickBase=function(t){this.pickId=t},b.drawTransparent=b.draw=function(t){if(this.vertexCount){var e=this.gl,n=this.shader,r=this.vao;n.bind(),n.uniforms={model:t.model||f,view:t.view||f,projection:t.projection||f,clipBounds:v(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[e.drawingBufferWidth,e.drawingBufferHeight],pixelRatio:this.pixelRatio},r.bind(),r.draw(e.TRIANGLE_STRIP,this.vertexCount),r.unbind()}},b.drawPick=function(t){if(this.vertexCount){var e=this.gl,n=this.pickShader,r=this.vao;n.bind(),n.uniforms={model:t.model||f,view:t.view||f,projection:t.projection||f,pickId:this.pickId,clipBounds:v(this.clipBounds),screenShape:[e.drawingBufferWidth,e.drawingBufferHeight],pixelRatio:this.pixelRatio},r.bind(),r.draw(e.TRIANGLE_STRIP,this.vertexCount),r.unbind()}},b.update=function(t){var e,n;this.dirty=!0;var r=!!t.connectGaps;"dashScale"in t&&(this.dashScale=t.dashScale),this.hasAlpha=!1,"opacity"in t&&(this.opacity=+t.opacity,this.opacity<1&&(this.hasAlpha=!0));var i=[],a=[],o=[],s=0,l=0,d=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],h=t.position||t.positions;if(h){var g=t.color||t.colors||[0,0,0,1],f=t.lineWidth||1,v=!1;t:for(e=1;e<h.length;++e){var m,y,b,I=h[e-1],C=h[e];for(a.push(s),o.push(I.slice()),n=0;n<3;++n){if(isNaN(I[n])||isNaN(C[n])||!isFinite(I[n])||!isFinite(C[n])){if(!r&&i.length>0){for(var x=0;x<24;++x)i.push(i[i.length-12]);l+=2,v=!0}continue t}d[0][n]=Math.min(d[0][n],I[n],C[n]),d[1][n]=Math.max(d[1][n],I[n],C[n])}Array.isArray(g[0])?(m=g.length>e-1?g[e-1]:g.length>0?g[g.length-1]:[0,0,0,1],y=g.length>e?g[e]:g.length>0?g[g.length-1]:[0,0,0,1]):m=y=g,3===m.length&&(m=[m[0],m[1],m[2],1]),3===y.length&&(y=[y[0],y[1],y[2],1]),!this.hasAlpha&&m[3]<1&&(this.hasAlpha=!0),b=Array.isArray(f)?f.length>e-1?f[e-1]:f.length>0?f[f.length-1]:[0,0,0,1]:f;var B=s;if(s+=p(I,C),v){for(n=0;n<2;++n)i.push(I[0],I[1],I[2],C[0],C[1],C[2],B,b,m[0],m[1],m[2],m[3]);l+=2,v=!1}i.push(I[0],I[1],I[2],C[0],C[1],C[2],B,b,m[0],m[1],m[2],m[3],I[0],I[1],I[2],C[0],C[1],C[2],B,-b,m[0],m[1],m[2],m[3],C[0],C[1],C[2],I[0],I[1],I[2],s,-b,y[0],y[1],y[2],y[3],C[0],C[1],C[2],I[0],I[1],I[2],s,b,y[0],y[1],y[2],y[3]),l+=4}}if(this.buffer.update(i),a.push(s),o.push(h[h.length-1].slice()),this.bounds=d,this.vertexCount=l,this.points=o,this.arcLength=a,"dashes"in t){var A=t.dashes.slice();for(A.unshift(0),e=1;e<A.length;++e)A[e]=A[e-1]+A[e];var F=u(new Array(1024),[256,1,4]);for(e=0;e<256;++e){for(n=0;n<4;++n)F.set(e,0,n,0);1&c.le(A,A[A.length-1]*e/255)?F.set(e,0,0,0):F.set(e,0,0,255)}this.texture.setPixels(F)}},b.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},b.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=l(t.value[0],t.value[1],t.value[2],0),n=c.le(this.arcLength,e);if(n<0)return null;if(n===this.arcLength.length-1)return new m(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),n);for(var r=this.points[n],i=this.points[Math.min(n+1,this.points.length-1)],a=(e-this.arcLength[n])/(this.arcLength[n+1]-this.arcLength[n]),o=1-a,s=[0,0,0],u=0;u<3;++u)s[u]=o*r[u]+a*i[u];var d=Math.min(a<.5?n:n+1,this.points.length-1);return new m(e,s,d,this.points[d])}},{"./lib/shaders":90,"binary-search-bounds":31,"gl-buffer":78,"gl-texture2d":146,"gl-vao":150,ndarray:259}],92:[function(t,e,n){function r(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}e.exports=r},{}],93:[function(t,e,n){function r(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=r},{}],94:[function(t,e,n){function r(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],l=t[7],c=t[8],u=t[9],d=t[10],h=t[11],g=t[12],f=t[13],p=t[14],v=t[15];return(e*o-n*a)*(d*v-h*p)-(e*s-r*a)*(u*v-h*f)+(e*l-i*a)*(u*p-d*f)+(n*s-r*o)*(c*v-h*g)-(n*l-i*o)*(c*p-d*g)+(r*l-i*s)*(c*f-u*g)}e.exports=r},{}],95:[function(t,e,n){function r(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,l=i+i,c=n*o,u=r*o,d=r*s,h=i*o,g=i*s,f=i*l,p=a*o,v=a*s,m=a*l;return t[0]=1-d-f,t[1]=u+m,t[2]=h-v,t[3]=0,t[4]=u-m,t[5]=1-c-f,t[6]=g+p,t[7]=0,t[8]=h+v,t[9]=g-p,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=r},{}],96:[function(t,e,n){function r(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=r+r,l=i+i,c=a+a,u=r*s,d=r*l,h=r*c,g=i*l,f=i*c,p=a*c,v=o*s,m=o*l,y=o*c;return t[0]=1-(g+p),t[1]=d+y,t[2]=h-m,t[3]=0,t[4]=d-y,t[5]=1-(u+p),t[6]=f+v,t[7]=0,t[8]=h+m,t[9]=f-v,t[10]=1-(u+g),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}e.exports=r},{}],97:[function(t,e,n){function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=r},{}],98:[function(t,e,n){function r(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],g=e[11],f=e[12],p=e[13],v=e[14],m=e[15],y=n*s-r*o,b=n*l-i*o,I=n*c-a*o,C=r*l-i*s,x=r*c-a*s,B=i*c-a*l,A=u*p-d*f,F=u*v-h*f,Q=u*m-g*f,w=d*v-h*p,U=d*m-g*p,G=h*m-g*v,R=y*G-b*U+I*w+C*Q-x*F+B*A;return R?(R=1/R,t[0]=(s*G-l*U+c*w)*R,t[1]=(i*U-r*G-a*w)*R,t[2]=(p*B-v*x+m*C)*R,t[3]=(h*x-d*B-g*C)*R,t[4]=(l*Q-o*G-c*F)*R,t[5]=(n*G-i*Q+a*F)*R,t[6]=(v*I-f*B-m*b)*R,t[7]=(u*B-h*I+g*b)*R,t[8]=(o*U-s*Q+c*A)*R,t[9]=(r*Q-n*U-a*A)*R,t[10]=(f*x-p*I+m*y)*R,t[11]=(d*I-u*x-g*y)*R,t[12]=(s*F-o*w-l*A)*R,t[13]=(n*w-r*F+i*A)*R,t[14]=(p*b-f*C-v*y)*R,t[15]=(u*C-d*b+h*y)*R,t):null}e.exports=r},{}],99:[function(t,e,n){var r=t("./identity");function i(t,e,n,i){var a,o,s,l,c,u,d,h,g,f,p=e[0],v=e[1],m=e[2],y=i[0],b=i[1],I=i[2],C=n[0],x=n[1],B=n[2];return Math.abs(p-C)<1e-6&&Math.abs(v-x)<1e-6&&Math.abs(m-B)<1e-6?r(t):(d=p-C,h=v-x,g=m-B,a=b*(g*=f=1/Math.sqrt(d*d+h*h+g*g))-I*(h*=f),o=I*(d*=f)-y*g,s=y*h-b*d,(f=Math.sqrt(a*a+o*o+s*s))?(a*=f=1/f,o*=f,s*=f):(a=0,o=0,s=0),l=h*s-g*o,c=g*a-d*s,u=d*o-h*a,(f=Math.sqrt(l*l+c*c+u*u))?(l*=f=1/f,c*=f,u*=f):(l=0,c=0,u=0),t[0]=a,t[1]=l,t[2]=d,t[3]=0,t[4]=o,t[5]=c,t[6]=h,t[7]=0,t[8]=s,t[9]=u,t[10]=g,t[11]=0,t[12]=-(a*p+o*v+s*m),t[13]=-(l*p+c*v+u*m),t[14]=-(d*p+h*v+g*m),t[15]=1,t)}e.exports=i},{"./identity":97}],100:[function(t,e,n){function r(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=e[9],g=e[10],f=e[11],p=e[12],v=e[13],m=e[14],y=e[15],b=n[0],I=n[1],C=n[2],x=n[3];return t[0]=b*r+I*s+C*d+x*p,t[1]=b*i+I*l+C*h+x*v,t[2]=b*a+I*c+C*g+x*m,t[3]=b*o+I*u+C*f+x*y,b=n[4],I=n[5],C=n[6],x=n[7],t[4]=b*r+I*s+C*d+x*p,t[5]=b*i+I*l+C*h+x*v,t[6]=b*a+I*c+C*g+x*m,t[7]=b*o+I*u+C*f+x*y,b=n[8],I=n[9],C=n[10],x=n[11],t[8]=b*r+I*s+C*d+x*p,t[9]=b*i+I*l+C*h+x*v,t[10]=b*a+I*c+C*g+x*m,t[11]=b*o+I*u+C*f+x*y,b=n[12],I=n[13],C=n[14],x=n[15],t[12]=b*r+I*s+C*d+x*p,t[13]=b*i+I*l+C*h+x*v,t[14]=b*a+I*c+C*g+x*m,t[15]=b*o+I*u+C*f+x*y,t}e.exports=r},{}],101:[function(t,e,n){function r(t,e,n,r,i,a,o){var s=1/(e-n),l=1/(r-i),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(o+a)*c,t[15]=1,t}e.exports=r},{}],102:[function(t,e,n){function r(t,e,n,r,i){var a=1/Math.tan(e/2),o=1/(r-i);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*o,t[15]=0,t}e.exports=r},{}],103:[function(t,e,n){function r(t,e,n,r){var i,a,o,s,l,c,u,d,h,g,f,p,v,m,y,b,I,C,x,B,A,F,Q,w,U=r[0],G=r[1],R=r[2],S=Math.sqrt(U*U+G*G+R*R);return Math.abs(S)<1e-6?null:(U*=S=1/S,G*=S,R*=S,i=Math.sin(n),o=1-(a=Math.cos(n)),s=e[0],l=e[1],c=e[2],u=e[3],d=e[4],h=e[5],g=e[6],f=e[7],p=e[8],v=e[9],m=e[10],y=e[11],b=U*U*o+a,I=G*U*o+R*i,C=R*U*o-G*i,x=U*G*o-R*i,B=G*G*o+a,A=R*G*o+U*i,F=U*R*o+G*i,Q=G*R*o-U*i,w=R*R*o+a,t[0]=s*b+d*I+p*C,t[1]=l*b+h*I+v*C,t[2]=c*b+g*I+m*C,t[3]=u*b+f*I+y*C,t[4]=s*x+d*B+p*A,t[5]=l*x+h*B+v*A,t[6]=c*x+g*B+m*A,t[7]=u*x+f*B+y*A,t[8]=s*F+d*Q+p*w,t[9]=l*F+h*Q+v*w,t[10]=c*F+g*Q+m*w,t[11]=u*F+f*Q+y*w,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}e.exports=r},{}],104:[function(t,e,n){function r(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+c*r,t[5]=o*i+u*r,t[6]=s*i+d*r,t[7]=l*i+h*r,t[8]=c*i-a*r,t[9]=u*i-o*r,t[10]=d*i-s*r,t[11]=h*i-l*r,t}e.exports=r},{}],105:[function(t,e,n){function r(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],l=e[3],c=e[8],u=e[9],d=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-c*r,t[1]=o*i-u*r,t[2]=s*i-d*r,t[3]=l*i-h*r,t[8]=a*r+c*i,t[9]=o*r+u*i,t[10]=s*r+d*i,t[11]=l*r+h*i,t}e.exports=r},{}],106:[function(t,e,n){function r(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],l=e[3],c=e[4],u=e[5],d=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+c*r,t[1]=o*i+u*r,t[2]=s*i+d*r,t[3]=l*i+h*r,t[4]=c*i-a*r,t[5]=u*i-o*r,t[6]=d*i-s*r,t[7]=h*i-l*r,t}e.exports=r},{}],107:[function(t,e,n){function r(t,e,n){var r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}e.exports=r},{}],108:[function(t,e,n){function r(t,e,n){var r,i,a,o,s,l,c,u,d,h,g,f,p=n[0],v=n[1],m=n[2];return e===t?(t[12]=e[0]*p+e[4]*v+e[8]*m+e[12],t[13]=e[1]*p+e[5]*v+e[9]*m+e[13],t[14]=e[2]*p+e[6]*v+e[10]*m+e[14],t[15]=e[3]*p+e[7]*v+e[11]*m+e[15]):(r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=e[9],g=e[10],f=e[11],t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t[6]=c,t[7]=u,t[8]=d,t[9]=h,t[10]=g,t[11]=f,t[12]=r*p+s*v+d*m+e[12],t[13]=i*p+l*v+h*m+e[13],t[14]=a*p+c*v+g*m+e[14],t[15]=o*p+u*v+f*m+e[15]),t}e.exports=r},{}],109:[function(t,e,n){function r(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}e.exports=r},{}],110:[function(t,e,n){var r=t("barycentric"),i=t("polytope-closest-point/lib/closest_point_2d.js");function a(t,e){for(var n=[0,0,0,0],r=0;r<4;++r)for(var i=0;i<4;++i)n[i]+=t[4*r+i]*e[r];return n}function o(t,e,n,r,i){for(var o=a(r,a(n,a(e,[t[0],t[1],t[2],1]))),s=0;s<3;++s)o[s]/=o[3];return[.5*i[0]*(1+o[0]),.5*i[1]*(1-o[1])]}function s(t,e){if(2===t.length){for(var n=0,a=0,o=0;o<2;++o)n+=Math.pow(e[o]-t[0][o],2),a+=Math.pow(e[o]-t[1][o],2);return(n=Math.sqrt(n))+(a=Math.sqrt(a))<1e-6?[1,0]:[a/(n+a),n/(a+n)]}if(3===t.length){var s=[0,0];return i(t[0],t[1],t[2],e,s),r(t,s)}return[]}function l(t,e){for(var n=[0,0,0],r=0;r<t.length;++r)for(var i=t[r],a=e[r],o=0;o<3;++o)n[o]+=a*i[o];return n}function c(t,e,n,r,i,a){if(1===t.length)return[0,t[0].slice()];for(var c=new Array(t.length),u=0;u<t.length;++u)c[u]=o(t[u],n,r,i,a);var d=0,h=1/0;for(u=0;u<c.length;++u){for(var g=0,f=0;f<2;++f)g+=Math.pow(c[u][f]-e[f],2);g<h&&(h=g,d=u)}var p=s(c,e),v=0;for(u=0;u<3;++u){if(p[u]<-.001||p[u]>1.0001)return null;v+=p[u]}return Math.abs(v-1)>.001?null:[d,l(t,p),p]}e.exports=c},{barycentric:14,"polytope-closest-point/lib/closest_point_2d.js":270}],111:[function(t,e,n){var r=t("glslify"),i=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),a=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),o=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),l=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),c=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),u=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),d=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),h=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),g=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),f=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);n.meshShader={vertex:i,fragment:a,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},n.wireShader={vertex:o,fragment:s,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},n.pointShader={vertex:l,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},n.pickShader={vertex:u,fragment:d,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},n.pointPickShader={vertex:h,fragment:d,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},n.contourShader={vertex:g,fragment:f,attributes:[{name:"position",type:"vec3"}]}},{glslify:231}],112:[function(t,e,n){var r=1e-6,i=1e-6,a=t("gl-shader"),o=t("gl-buffer"),s=t("gl-vao"),l=t("gl-texture2d"),c=t("normals"),u=t("gl-mat4/multiply"),d=t("gl-mat4/invert"),h=t("ndarray"),g=t("colormap"),f=t("simplicial-complex-contour"),p=t("typedarray-pool"),v=t("./lib/shaders"),m=t("./lib/closest-point"),y=v.meshShader,b=v.wireShader,I=v.pointShader,C=v.pickShader,x=v.pointPickShader,B=v.contourShader,A=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function F(t,e,n,r,i,a,o,s,l,c,u,d,h,g,f,p,v,m,y,b,I,C,x,B,F,Q,w){this.gl=t,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=e,this.dirty=!0,this.triShader=n,this.lineShader=r,this.pointShader=i,this.pickShader=a,this.pointPickShader=o,this.contourShader=s,this.trianglePositions=l,this.triangleColors=u,this.triangleNormals=h,this.triangleUVs=d,this.triangleIds=c,this.triangleVAO=g,this.triangleCount=0,this.lineWidth=1,this.edgePositions=f,this.edgeColors=v,this.edgeUVs=m,this.edgeIds=p,this.edgeVAO=y,this.edgeCount=0,this.pointPositions=b,this.pointColors=C,this.pointUVs=x,this.pointSizes=B,this.pointIds=I,this.pointVAO=F,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Q,this.contourVAO=w,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=A,this._view=A,this._projection=A,this._resolution=[1,1]}var Q=F.prototype;function w(t,e){if(!e)return 1;if(!e.length)return 1;for(var n=0;n<e.length;++n){if(e.length<2)return 1;if(e[n][0]===t)return e[n][1];if(e[n][0]>t&&n>0){var r=(e[n][0]-t)/(e[n][0]-e[n-1][0]);return e[n][1]*(1-r)+r*e[n-1][1]}}return 1}function U(t,e){for(var n=g({colormap:t,nshades:256,format:"rgba"}),r=new Uint8Array(1024),i=0;i<256;++i){for(var a=n[i],o=0;o<3;++o)r[4*i+o]=a[o];r[4*i+3]=e?255*w(i/255,e):255*a[3]}return h(r,[256,256,4],[4,0,1])}function G(t){for(var e=t.length,n=new Array(e),r=0;r<e;++r)n[r]=t[r][2];return n}function R(t){var e=a(t,y.vertex,y.fragment);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e.attributes.normal.location=4,e}function S(t){var e=a(t,b.vertex,b.fragment);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e}function L(t){var e=a(t,I.vertex,I.fragment);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e.attributes.pointSize.location=4,e}function _(t){var e=a(t,C.vertex,C.fragment);return e.attributes.position.location=0,e.attributes.id.location=1,e}function E(t){var e=a(t,x.vertex,x.fragment);return e.attributes.position.location=0,e.attributes.id.location=1,e.attributes.pointSize.location=4,e}function k(t){var e=a(t,B.vertex,B.fragment);return e.attributes.position.location=0,e}function V(t,e){if(1===arguments.length&&(t=(e=t).gl),!(t.getExtension("OES_standard_derivatives")||t.getExtension("MOZ_OES_standard_derivatives")||t.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var n=R(t),r=S(t),i=L(t),a=_(t),c=E(t),u=k(t),d=l(t,h(new Uint8Array([255,255,255,255]),[1,1,4]));d.generateMipmap(),d.minFilter=t.LINEAR_MIPMAP_LINEAR,d.magFilter=t.LINEAR;var g=o(t),f=o(t),p=o(t),v=o(t),m=o(t),y=s(t,[{buffer:g,type:t.FLOAT,size:3},{buffer:m,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:f,type:t.FLOAT,size:4},{buffer:p,type:t.FLOAT,size:2},{buffer:v,type:t.FLOAT,size:3}]),b=o(t),I=o(t),C=o(t),x=o(t),B=s(t,[{buffer:b,type:t.FLOAT,size:3},{buffer:x,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:I,type:t.FLOAT,size:4},{buffer:C,type:t.FLOAT,size:2}]),A=o(t),Q=o(t),w=o(t),U=o(t),G=o(t),V=s(t,[{buffer:A,type:t.FLOAT,size:3},{buffer:G,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Q,type:t.FLOAT,size:4},{buffer:w,type:t.FLOAT,size:2},{buffer:U,type:t.FLOAT,size:1}]),Z=o(t),N=new F(t,d,n,r,i,a,c,u,g,m,f,p,v,y,b,x,I,C,B,A,G,Q,w,U,V,Z,s(t,[{buffer:Z,type:t.FLOAT,size:3}]));return N.update(e),N}Q.isOpaque=function(){return!this.hasAlpha},Q.isTransparent=function(){return this.hasAlpha},Q.pickSlots=1,Q.setPickBase=function(t){this.pickId=t},Q.highlight=function(t){if(t&&this.contourEnable){for(var e=f(this.cells,this.intensity,t.intensity),n=e.cells,r=e.vertexIds,i=e.vertexWeights,a=n.length,o=p.mallocFloat32(6*a),s=0,l=0;l<a;++l)for(var c=n[l],u=0;u<2;++u){var d=c[0];2===c.length&&(d=c[u]);for(var h=r[d][0],g=r[d][1],v=i[d],m=1-v,y=this.positions[h],b=this.positions[g],I=0;I<3;++I)o[s++]=v*y[I]+m*b[I]}this.contourCount=s/3|0,this.contourPositions.update(o.subarray(0,s)),p.free(o)}else this.contourCount=0},Q.update=function(t){t=t||{};var e=this.gl;this.dirty=!0,"contourEnable"in t&&(this.contourEnable=t.contourEnable),"contourColor"in t&&(this.contourColor=t.contourColor),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"lightPosition"in t&&(this.lightPosition=t.lightPosition),this.hasAlpha=!1,"opacity"in t&&(this.opacity=t.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in t&&(this.opacityscale=t.opacityscale,this.hasAlpha=!0),"ambient"in t&&(this.ambientLight=t.ambient),"diffuse"in t&&(this.diffuseLight=t.diffuse),"specular"in t&&(this.specularLight=t.specular),"roughness"in t&&(this.roughness=t.roughness),"fresnel"in t&&(this.fresnel=t.fresnel),t.texture?(this.texture.dispose(),this.texture=l(e,t.texture)):t.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=e.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=e.LINEAR,this.texture.setPixels(U(t.colormap,this.opacityscale)),this.texture.generateMipmap());var n=t.cells,a=t.positions;if(a&&n){var o=[],s=[],u=[],d=[],h=[],g=[],f=[],p=[],v=[],m=[],y=[],b=[],I=[],C=[];this.cells=n,this.positions=a;var x=t.vertexNormals,B=t.cellNormals,A=void 0===t.vertexNormalsEpsilon?r:t.vertexNormalsEpsilon,F=void 0===t.faceNormalsEpsilon?i:t.faceNormalsEpsilon;t.useFacetNormals&&!B&&(B=c.faceNormals(n,a,F)),B||x||(x=c.vertexNormals(n,a,A));var Q=t.vertexColors,R=t.cellColors,S=t.meshColor||[1,1,1,1],L=t.vertexUVs,_=t.vertexIntensity,E=t.cellUVs,k=t.cellIntensity,V=1/0,Z=-1/0;if(!L&&!E)if(_)if(t.vertexIntensityBounds)V=+t.vertexIntensityBounds[0],Z=+t.vertexIntensityBounds[1];else for(var N=0;N<_.length;++N){var T=_[N];V=Math.min(V,T),Z=Math.max(Z,T)}else if(k)if(t.cellIntensityBounds)V=+t.cellIntensityBounds[0],Z=+t.cellIntensityBounds[1];else for(N=0;N<k.length;++N)T=k[N],V=Math.min(V,T),Z=Math.max(Z,T);else for(N=0;N<a.length;++N)T=a[N][2],V=Math.min(V,T),Z=Math.max(Z,T);this.intensity=_||k||G(a),this.pickVertex=!(k||R);var X=t.pointSizes,W=t.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],N=0;N<a.length;++N)for(var M=a[N],H=0;H<3;++H)!isNaN(M[H])&&isFinite(M[H])&&(this.bounds[0][H]=Math.min(this.bounds[0][H],M[H]),this.bounds[1][H]=Math.max(this.bounds[1][H],M[H]));var D=0,Y=0,O=0;t:for(N=0;N<n.length;++N){var z=n[N];switch(z.length){case 1:for(M=a[j=z[0]],H=0;H<3;++H)if(isNaN(M[H])||!isFinite(M[H]))continue t;m.push(M[0],M[1],M[2]),P=Q?Q[j]:R?R[N]:S,this.opacityscale&&_?s.push(P[0],P[1],P[2],this.opacity*w((_[j]-V)/(Z-V),this.opacityscale)):3===P.length?y.push(P[0],P[1],P[2],this.opacity):(y.push(P[0],P[1],P[2],P[3]*this.opacity),P[3]<1&&(this.hasAlpha=!0)),K=L?L[j]:_?[(_[j]-V)/(Z-V),0]:E?E[N]:k?[(k[N]-V)/(Z-V),0]:[(M[2]-V)/(Z-V),0],b.push(K[0],K[1]),X?I.push(X[j]):I.push(W),C.push(N),O+=1;break;case 2:for(H=0;H<2;++H){M=a[j=z[H]];for(var J=0;J<3;++J)if(isNaN(M[J])||!isFinite(M[J]))continue t}for(H=0;H<2;++H)M=a[j=z[H]],g.push(M[0],M[1],M[2]),P=Q?Q[j]:R?R[N]:S,this.opacityscale&&_?s.push(P[0],P[1],P[2],this.opacity*w((_[j]-V)/(Z-V),this.opacityscale)):3===P.length?f.push(P[0],P[1],P[2],this.opacity):(f.push(P[0],P[1],P[2],P[3]*this.opacity),P[3]<1&&(this.hasAlpha=!0)),K=L?L[j]:_?[(_[j]-V)/(Z-V),0]:E?E[N]:k?[(k[N]-V)/(Z-V),0]:[(M[2]-V)/(Z-V),0],p.push(K[0],K[1]),v.push(N);Y+=1;break;case 3:for(H=0;H<3;++H)for(M=a[j=z[H]],J=0;J<3;++J)if(isNaN(M[J])||!isFinite(M[J]))continue t;for(H=0;H<3;++H){var j,P,K,q;M=a[j=z[2-H]],o.push(M[0],M[1],M[2]),(P=Q?Q[j]:R?R[N]:S)?this.opacityscale&&_?s.push(P[0],P[1],P[2],this.opacity*w((_[j]-V)/(Z-V),this.opacityscale)):3===P.length?s.push(P[0],P[1],P[2],this.opacity):(s.push(P[0],P[1],P[2],P[3]*this.opacity),P[3]<1&&(this.hasAlpha=!0)):s.push(.5,.5,.5,1),K=L?L[j]:_?[(_[j]-V)/(Z-V),0]:E?E[N]:k?[(k[N]-V)/(Z-V),0]:[(M[2]-V)/(Z-V),0],d.push(K[0],K[1]),q=x?x[j]:B[N],u.push(q[0],q[1],q[2]),h.push(N)}D+=1}}this.pointCount=O,this.edgeCount=Y,this.triangleCount=D,this.pointPositions.update(m),this.pointColors.update(y),this.pointUVs.update(b),this.pointSizes.update(I),this.pointIds.update(new Uint32Array(C)),this.edgePositions.update(g),this.edgeColors.update(f),this.edgeUVs.update(p),this.edgeIds.update(new Uint32Array(v)),this.trianglePositions.update(o),this.triangleColors.update(s),this.triangleUVs.update(d),this.triangleNormals.update(u),this.triangleIds.update(new Uint32Array(h))}},Q.drawTransparent=Q.draw=function(t){t=t||{};for(var e=this.gl,n=t.model||A,r=t.view||A,i=t.projection||A,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o<3;++o)a[0][o]=Math.max(a[0][o],this.clipBounds[0][o]),a[1][o]=Math.min(a[1][o],this.clipBounds[1][o]);var s={model:n,view:r,projection:i,inverseModel:A.slice(),clipBounds:a,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};s.inverseModel=d(s.inverseModel,s.model),e.disable(e.CULL_FACE),this.texture.bind(0);var l=new Array(16);for(u(l,s.view,s.model),u(l,s.projection,l),d(l,l),o=0;o<3;++o)s.eyePosition[o]=l[12+o]/l[15];var c,h=l[15];for(o=0;o<3;++o)h+=this.lightPosition[o]*l[4*o+3];for(o=0;o<3;++o){for(var g=l[12+o],f=0;f<3;++f)g+=l[4*f+o]*this.lightPosition[f];s.lightPosition[o]=g/h}this.triangleCount>0&&((c=this.triShader).bind(),c.uniforms=s,this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((c=this.lineShader).bind(),c.uniforms=s,this.edgeVAO.bind(),e.lineWidth(this.lineWidth*this.pixelRatio),e.drawArrays(e.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((c=this.pointShader).bind(),c.uniforms=s,this.pointVAO.bind(),e.drawArrays(e.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((c=this.contourShader).bind(),c.uniforms=s,this.contourVAO.bind(),e.drawArrays(e.LINES,0,this.contourCount),this.contourVAO.unbind())},Q.drawPick=function(t){t=t||{};for(var e=this.gl,n=t.model||A,r=t.view||A,i=t.projection||A,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o<3;++o)a[0][o]=Math.max(a[0][o],this.clipBounds[0][o]),a[1][o]=Math.min(a[1][o],this.clipBounds[1][o]);this._model=[].slice.call(n),this._view=[].slice.call(r),this._projection=[].slice.call(i),this._resolution=[e.drawingBufferWidth,e.drawingBufferHeight];var s,l={model:n,view:r,projection:i,clipBounds:a,pickId:this.pickId/255};(s=this.pickShader).bind(),s.uniforms=l,this.triangleCount>0&&(this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),e.lineWidth(this.lineWidth*this.pixelRatio),e.drawArrays(e.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((s=this.pointPickShader).bind(),s.uniforms=l,this.pointVAO.bind(),e.drawArrays(e.POINTS,0,this.pointCount),this.pointVAO.unbind())},Q.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;for(var e=t.value[0]+256*t.value[1]+65536*t.value[2],n=this.cells[e],r=this.positions,i=new Array(n.length),a=0;a<n.length;++a)i[a]=r[n[a]];var o=t.coord[0],s=t.coord[1];if(!this.pickVertex){var l=this.positions[n[0]],c=this.positions[n[1]],u=this.positions[n[2]],d=[(l[0]+c[0]+u[0])/3,(l[1]+c[1]+u[1])/3,(l[2]+c[2]+u[2])/3];return{_cellCenter:!0,position:[o,s],index:e,cell:n,cellId:e,intensity:this.intensity[e],dataCoordinate:d}}var h=m(i,[o*this.pixelRatio,this._resolution[1]-s*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!h)return null;var g=h[2],f=0;for(a=0;a<n.length;++a)f+=g[a]*this.intensity[n[a]];return{position:h[1],index:n[h[0]],cell:n,cellId:e,intensity:f,dataCoordinate:this.positions[n[h[0]]]}},Q.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},e.exports=V},{"./lib/closest-point":110,"./lib/shaders":111,colormap:53,"gl-buffer":78,"gl-mat4/invert":98,"gl-mat4/multiply":100,"gl-shader":132,"gl-texture2d":146,"gl-vao":150,ndarray:259,normals:261,"simplicial-complex-contour":291,"typedarray-pool":308}],113:[function(t,e,n){e.exports=l;var r=t("gl-buffer"),i=t("gl-shader"),a=t("./shaders");function o(t,e,n){this.plot=t,this.vbo=e,this.shader=n}var s=o.prototype;function l(t){var e=t.gl;return new o(t,r(e,[0,0,0,1,1,0,1,1]),i(e,a.boxVert,a.lineFrag))}s.bind=function(){var t=this.shader;this.vbo.bind(),this.shader.bind(),t.attributes.coord.pointer(),t.uniforms.screenBox=this.plot.screenBox},s.drawBox=function(){var t=[0,0],e=[0,0];return function(n,r,i,a,o){var s=this.plot,l=this.shader,c=s.gl;t[0]=n,t[1]=r,e[0]=i,e[1]=a,l.uniforms.lo=t,l.uniforms.hi=e,l.uniforms.color=o,c.drawArrays(c.TRIANGLE_STRIP,0,4)}}(),s.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":116,"gl-buffer":78,"gl-shader":132}],114:[function(t,e,n){e.exports=p;var r=t("gl-buffer"),i=t("gl-shader"),a=t("binary-search-bounds"),o=t("./shaders");function s(t,e,n,r){this.plot=t,this.vbo=e,this.shader=n,this.tickShader=r,this.ticks=[[],[]]}function l(t,e){return t-e}var c,u,d,h,g,f=s.prototype;function p(t){var e=t.gl;return new s(t,r(e),i(e,o.gridVert,o.gridFrag),i(e,o.tickVert,o.gridFrag))}f.draw=(c=[0,0],u=[0,0],d=[0,0],function(){for(var t=this.plot,e=this.vbo,n=this.shader,r=this.ticks,i=t.gl,a=t._tickBounds,o=t.dataBox,s=t.viewBox,l=t.gridLineWidth,h=t.gridLineColor,g=t.gridLineEnable,f=t.pixelRatio,p=0;p<2;++p){var v=a[p],m=a[p+2]-v,y=.5*(o[p+2]+o[p]),b=o[p+2]-o[p];u[p]=2*m/b,c[p]=2*(v-y)/b}n.bind(),e.bind(),n.attributes.dataCoord.pointer(),n.uniforms.dataShift=c,n.uniforms.dataScale=u;var I=0;for(p=0;p<2;++p){d[0]=d[1]=0,d[p]=1,n.uniforms.dataAxis=d,n.uniforms.lineWidth=l[p]/(s[p+2]-s[p])*f,n.uniforms.color=h[p];var C=6*r[p].length;g[p]&&C&&i.drawArrays(i.TRIANGLES,I,C),I+=C}}),f.drawTickMarks=function(){var t=[0,0],e=[0,0],n=[1,0],r=[0,1],i=[0,0],o=[0,0];return function(){for(var s=this.plot,c=this.vbo,u=this.tickShader,d=this.ticks,h=s.gl,g=s._tickBounds,f=s.dataBox,p=s.viewBox,v=s.pixelRatio,m=s.screenBox,y=m[2]-m[0],b=m[3]-m[1],I=p[2]-p[0],C=p[3]-p[1],x=0;x<2;++x){var B=g[x],A=g[x+2]-B,F=.5*(f[x+2]+f[x]),Q=f[x+2]-f[x];e[x]=2*A/Q,t[x]=2*(B-F)/Q}e[0]*=I/y,t[0]*=I/y,e[1]*=C/b,t[1]*=C/b,u.bind(),c.bind(),u.attributes.dataCoord.pointer();var w=u.uniforms;w.dataShift=t,w.dataScale=e;var U=s.tickMarkLength,G=s.tickMarkWidth,R=s.tickMarkColor,S=0,L=6*d[0].length,_=Math.min(a.ge(d[0],(f[0]-g[0])/(g[2]-g[0]),l),d[0].length),E=Math.min(a.gt(d[0],(f[2]-g[0])/(g[2]-g[0]),l),d[0].length),k=S+6*_,V=6*Math.max(0,E-_),Z=Math.min(a.ge(d[1],(f[1]-g[1])/(g[3]-g[1]),l),d[1].length),N=Math.min(a.gt(d[1],(f[3]-g[1])/(g[3]-g[1]),l),d[1].length),T=L+6*Z,X=6*Math.max(0,N-Z);i[0]=2*(p[0]-U[1])/y-1,i[1]=(p[3]+p[1])/b-1,o[0]=U[1]*v/y,o[1]=G[1]*v/b,X&&(w.color=R[1],w.tickScale=o,w.dataAxis=r,w.screenOffset=i,h.drawArrays(h.TRIANGLES,T,X)),i[0]=(p[2]+p[0])/y-1,i[1]=2*(p[1]-U[0])/b-1,o[0]=G[0]*v/y,o[1]=U[0]*v/b,V&&(w.color=R[0],w.tickScale=o,w.dataAxis=n,w.screenOffset=i,h.drawArrays(h.TRIANGLES,k,V)),i[0]=2*(p[2]+U[3])/y-1,i[1]=(p[3]+p[1])/b-1,o[0]=U[3]*v/y,o[1]=G[3]*v/b,X&&(w.color=R[3],w.tickScale=o,w.dataAxis=r,w.screenOffset=i,h.drawArrays(h.TRIANGLES,T,X)),i[0]=(p[2]+p[0])/y-1,i[1]=2*(p[3]+U[2])/b-1,o[0]=G[2]*v/y,o[1]=U[2]*v/b,V&&(w.color=R[2],w.tickScale=o,w.dataAxis=n,w.screenOffset=i,h.drawArrays(h.TRIANGLES,k,V))}}(),f.update=(h=[1,1,-1,-1,1,-1],g=[1,-1,1,1,-1,-1],function(t){var e=t.ticks,n=t.bounds,r=new Float32Array(18*(e[0].length+e[1].length));this.plot.zeroLineEnable;for(var i=0,a=[[],[]],o=0;o<2;++o)for(var s=a[o],l=e[o],c=n[o],u=n[o+2],d=0;d<l.length;++d){var f=(l[d].x-c)/(u-c);s.push(f);for(var p=0;p<6;++p)r[i++]=f,r[i++]=h[p],r[i++]=g[p]}this.ticks=a,this.vbo.update(r)}),f.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},{"./shaders":116,"binary-search-bounds":31,"gl-buffer":78,"gl-shader":132}],115:[function(t,e,n){e.exports=l;var r=t("gl-buffer"),i=t("gl-shader"),a=t("./shaders");function o(t,e,n){this.plot=t,this.vbo=e,this.shader=n}var s=o.prototype;function l(t){var e=t.gl;return new o(t,r(e,[-1,-1,-1,1,1,-1,1,1]),i(e,a.lineVert,a.lineFrag))}s.bind=function(){var t=this.shader;this.vbo.bind(),this.shader.bind(),t.attributes.coord.pointer(),t.uniforms.screenBox=this.plot.screenBox},s.drawLine=function(){var t=[0,0],e=[0,0];return function(n,r,i,a,o,s){var l=this.plot,c=this.shader,u=l.gl;t[0]=n,t[1]=r,e[0]=i,e[1]=a,c.uniforms.start=t,c.uniforms.end=e,c.uniforms.width=o*l.pixelRatio,c.uniforms.color=s,u.drawArrays(u.TRIANGLE_STRIP,0,4)}}(),s.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":116,"gl-buffer":78,"gl-shader":132}],116:[function(t,e,n){var r=t("glslify"),i=r(["precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n"]);e.exports={lineVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n"]),lineFrag:i,textVert:r(["#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n"]),textFrag:i,gridVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n"]),gridFrag:i,boxVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n"]),tickVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"])}},{glslify:231}],117:[function(t,e,n){e.exports=v;var r=t("gl-buffer"),i=t("gl-shader"),a=t("text-cache"),o=t("binary-search-bounds"),s=t("./shaders");function l(t,e,n){this.plot=t,this.vbo=e,this.shader=n,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var c,u,d,h,g,f,p=l.prototype;function v(t){var e=t.gl;return new l(t,r(e),i(e,s.textVert,s.textFrag))}p.drawTicks=(c=[0,0],u=[0,0],d=[0,0],function(t){var e=this.plot,n=this.shader,r=this.tickX[t],i=this.tickOffset[t],a=e.gl,s=e.viewBox,l=e.dataBox,h=e.screenBox,g=e.pixelRatio,f=e.tickEnable,p=e.tickPad,v=e.tickColor,m=e.tickAngle,y=e.labelEnable,b=e.labelPad,I=e.labelColor,C=e.labelAngle,x=this.labelOffset[t],B=this.labelCount[t],A=o.lt(r,l[t]),F=o.le(r,l[t+2]);c[0]=c[1]=0,c[t]=1,u[t]=(s[2+t]+s[t])/(h[2+t]-h[t])-1;var Q=2/h[2+(1^t)]-h[1^t];u[1^t]=Q*s[1^t]-1,f[t]&&(u[1^t]-=Q*g*p[t],A<F&&i[F]>i[A]&&(n.uniforms.dataAxis=c,n.uniforms.screenOffset=u,n.uniforms.color=v[t],n.uniforms.angle=m[t],a.drawArrays(a.TRIANGLES,i[A],i[F]-i[A]))),y[t]&&B&&(u[1^t]-=Q*g*b[t],n.uniforms.dataAxis=d,n.uniforms.screenOffset=u,n.uniforms.color=I[t],n.uniforms.angle=C[t],a.drawArrays(a.TRIANGLES,x,B)),u[1^t]=Q*s[2+(1^t)]-1,f[t+2]&&(u[1^t]+=Q*g*p[t+2],A<F&&i[F]>i[A]&&(n.uniforms.dataAxis=c,n.uniforms.screenOffset=u,n.uniforms.color=v[t+2],n.uniforms.angle=m[t+2],a.drawArrays(a.TRIANGLES,i[A],i[F]-i[A]))),y[t+2]&&B&&(u[1^t]+=Q*g*b[t+2],n.uniforms.dataAxis=d,n.uniforms.screenOffset=u,n.uniforms.color=I[t+2],n.uniforms.angle=C[t+2],a.drawArrays(a.TRIANGLES,x,B))}),p.drawTitle=function(){var t=[0,0],e=[0,0];return function(){var n=this.plot,r=this.shader,i=n.gl,a=n.screenBox,o=n.titleCenter,s=n.titleAngle,l=n.titleColor,c=n.pixelRatio;if(this.titleCount){for(var u=0;u<2;++u)e[u]=2*(o[u]*c-a[u])/(a[2+u]-a[u])-1;r.bind(),r.uniforms.dataAxis=t,r.uniforms.screenOffset=e,r.uniforms.angle=s,r.uniforms.color=l,i.drawArrays(i.TRIANGLES,this.titleOffset,this.titleCount)}}}(),p.bind=(h=[0,0],g=[0,0],f=[0,0],function(){var t=this.plot,e=this.shader,n=t._tickBounds,r=t.dataBox,i=t.screenBox,a=t.viewBox;e.bind();for(var o=0;o<2;++o){var s=n[o],l=n[o+2]-s,c=.5*(r[o+2]+r[o]),u=r[o+2]-r[o],d=a[o],p=a[o+2]-d,v=i[o],m=i[o+2]-v;g[o]=2*l/u*p/m,h[o]=2*(s-c)/u*p/m}f[1]=2*t.pixelRatio/(i[3]-i[1]),f[0]=f[1]*(i[3]-i[1])/(i[2]-i[0]),e.uniforms.dataScale=g,e.uniforms.dataShift=h,e.uniforms.textScale=f,this.vbo.bind(),e.attributes.textCoordinate.pointer()}),p.update=function(t){var e,n,r,i,o,s=[],l=t.ticks,c=t.bounds;for(o=0;o<2;++o){var u=[Math.floor(s.length/3)],d=[-1/0],h=l[o];for(e=0;e<h.length;++e){var g=h[e],f=g.x,p=g.text,v=g.font||"sans-serif";i=g.fontSize||12;for(var m=1/(c[o+2]-c[o]),y=c[o],b=p.split("\n"),I=0;I<b.length;I++)for(r=a(v,b[I]).data,n=0;n<r.length;n+=2)s.push(r[n]*i,-r[n+1]*i-I*i*1.2,(f-y)*m);u.push(Math.floor(s.length/3)),d.push(f)}this.tickOffset[o]=u,this.tickX[o]=d}for(o=0;o<2;++o){for(this.labelOffset[o]=Math.floor(s.length/3),r=a(t.labelFont[o],t.labels[o],{textAlign:"center"}).data,i=t.labelSize[o],e=0;e<r.length;e+=2)s.push(r[e]*i,-r[e+1]*i,0);this.labelCount[o]=Math.floor(s.length/3)-this.labelOffset[o]}for(this.titleOffset=Math.floor(s.length/3),r=a(t.titleFont,t.title).data,i=t.titleSize,e=0;e<r.length;e+=2)s.push(r[e]*i,-r[e+1]*i,0);this.titleCount=Math.floor(s.length/3)-this.titleOffset,this.vbo.update(s)},p.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{"./shaders":116,"binary-search-bounds":31,"gl-buffer":78,"gl-shader":132,"text-cache":303}],118:[function(t,e,n){e.exports=h;var r=t("gl-select-static"),i=t("./lib/grid"),a=t("./lib/text"),o=t("./lib/line"),s=t("./lib/box");function l(t,e){this.gl=t,this.pickBuffer=e,this.screenBox=[0,0,t.drawingBufferWidth,t.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var c=l.prototype;function u(t){for(var e=t.slice(),n=0;n<e.length;++n)e[n]=e[n].slice();return e}function d(t,e){return t.x-e.x}function h(t){var e=t.gl,n=new l(e,r(e,[e.drawingBufferWidth,e.drawingBufferHeight]));return n.grid=i(n),n.text=a(n),n.line=o(n),n.box=s(n),n.update(t),n}c.setDirty=function(){this.dirty=this.pickDirty=!0},c.setOverlayDirty=function(){this.dirty=!0},c.nextDepthValue=function(){return this._depthCounter++/65536},c.draw=function(){var t=this.gl,e=this.screenBox,n=this.viewBox,r=this.dataBox,i=this.pixelRatio,a=this.grid,o=this.line,s=this.text,l=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,t.bindFramebuffer(t.FRAMEBUFFER,null),t.enable(t.SCISSOR_TEST),t.disable(t.DEPTH_TEST),t.depthFunc(t.LESS),t.depthMask(!1),t.enable(t.BLEND),t.blendEquation(t.FUNC_ADD,t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),this.borderColor){t.scissor(e[0],e[1],e[2]-e[0],e[3]-e[1]);var c=this.borderColor;t.clearColor(c[0]*c[3],c[1]*c[3],c[2]*c[3],c[3]),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}t.scissor(n[0],n[1],n[2]-n[0],n[3]-n[1]),t.viewport(n[0],n[1],n[2]-n[0],n[3]-n[1]);var u=this.backgroundColor;t.clearColor(u[0]*u[3],u[1]*u[3],u[2]*u[3],u[3]),t.clear(t.COLOR_BUFFER_BIT),a.draw();var d=this.zeroLineEnable,h=this.zeroLineColor,g=this.zeroLineWidth;if(d[0]||d[1]){o.bind();for(var f=0;f<2;++f)if(d[f]&&r[f]<=0&&r[f+2]>=0){var p=e[f]-r[f]*(e[f+2]-e[f])/(r[f+2]-r[f]);0===f?o.drawLine(p,e[1],p,e[3],g[f],h[f]):o.drawLine(e[0],p,e[2],p,g[f],h[f])}}for(f=0;f<l.length;++f)l[f].draw();t.viewport(e[0],e[1],e[2]-e[0],e[3]-e[1]),t.scissor(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.grid.drawTickMarks(),o.bind();var v=this.borderLineEnable,m=this.borderLineWidth,y=this.borderLineColor;for(v[1]&&o.drawLine(n[0],n[1]-.5*m[1]*i,n[0],n[3]+.5*m[3]*i,m[1],y[1]),v[0]&&o.drawLine(n[0]-.5*m[0]*i,n[1],n[2]+.5*m[2]*i,n[1],m[0],y[0]),v[3]&&o.drawLine(n[2],n[1]-.5*m[1]*i,n[2],n[3]+.5*m[3]*i,m[3],y[3]),v[2]&&o.drawLine(n[0]-.5*m[0]*i,n[3],n[2]+.5*m[2]*i,n[3],m[2],y[2]),s.bind(),f=0;f<2;++f)s.drawTicks(f);this.titleEnable&&s.drawTitle();var b=this.overlays;for(f=0;f<b.length;++f)b[f].draw();t.disable(t.SCISSOR_TEST),t.disable(t.BLEND),t.depthMask(!0)}},c.drawPick=function(){if(!this.static){var t=this.pickBuffer;this.gl,this._pickTimeout=null,t.begin();for(var e=1,n=this.objects,r=0;r<n.length;++r)e=n[r].drawPick(e);t.end()}},c.pick=function(t,e){if(!this.static){var n=this.pixelRatio,r=this.pickPixelRatio,i=this.viewBox,a=0|Math.round((t-i[0]/n)*r),o=0|Math.round((e-i[1]/n)*r),s=this.pickBuffer.query(a,o,this.pickRadius);if(!s)return null;for(var l=s.id+(s.value[0]<<8)+(s.value[1]<<16)+(s.value[2]<<24),c=this.objects,u=0;u<c.length;++u){var d=c[u].pick(a,o,l);if(d)return d}return null}},c.setScreenBox=function(t){var e=this.screenBox,n=this.pixelRatio;e[0]=0|Math.round(t[0]*n),e[1]=0|Math.round(t[1]*n),e[2]=0|Math.round(t[2]*n),e[3]=0|Math.round(t[3]*n),this.setDirty()},c.setDataBox=function(t){var e=this.dataBox;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3])&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this.setDirty())},c.setViewBox=function(t){var e=this.pixelRatio,n=this.viewBox;n[0]=0|Math.round(t[0]*e),n[1]=0|Math.round(t[1]*e),n[2]=0|Math.round(t[2]*e),n[3]=0|Math.round(t[3]*e);var r=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((t[2]-t[0])*r),0|Math.round((t[3]-t[1])*r)],this.setDirty()},c.update=function(t){t=t||{};var e=this.gl;this.pixelRatio=t.pixelRatio||1;var n=this.pixelRatio;this.pickPixelRatio=Math.max(n,1),this.setScreenBox(t.screenBox||[0,0,e.drawingBufferWidth/n,e.drawingBufferHeight/n]),this.screenBox,this.setViewBox(t.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/n,.125*(this.screenBox[3]-this.screenBox[1])/n,.875*(this.screenBox[2]-this.screenBox[0])/n,.875*(this.screenBox[3]-this.screenBox[1])/n]);var r=this.viewBox,i=(r[2]-r[0])/(r[3]-r[1]);this.setDataBox(t.dataBox||[-10,-10/i,10,10/i]),this.borderColor=!1!==t.borderColor&&(t.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(t.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(t.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(t.gridLineWidth||[1,1]).slice(),this.gridLineColor=u(t.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(t.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(t.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=u(t.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(t.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(t.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=u(t.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(t.titleCenter||[.5*(r[0]+r[2])/n,(r[3]+120)/n]).slice(),this.titleEnable=!("titleEnable"in t)||!!t.titleEnable,this.titleAngle=t.titleAngle||0,this.titleColor=(t.titleColor||[0,0,0,1]).slice(),this.labelPad=(t.labelPad||[15,15,15,15]).slice(),this.labelAngle=(t.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(t.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=u(t.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(t.tickPad||[15,15,15,15]).slice(),this.tickAngle=(t.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(t.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=u(t.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(t.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(t.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=u(t.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var a=t.ticks||[[],[]],o=this._tickBounds;o[0]=o[1]=1/0,o[2]=o[3]=-1/0;for(var s=0;s<2;++s){var l=a[s].slice(0);0!==l.length&&(l.sort(d),o[s]=Math.min(o[s],l[0].x),o[s+2]=Math.max(o[s+2],l[l.length-1].x))}this.grid.update({bounds:o,ticks:a}),this.text.update({bounds:o,ticks:a,labels:t.labels||["x","y"],labelSize:t.labelSize||[12,12],labelFont:t.labelFont||["sans-serif","sans-serif"],title:t.title||"",titleSize:t.titleSize||18,titleFont:t.titleFont||"sans-serif"}),this.static=!!t.static,this.setDirty()},c.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var t=this.objects.length-1;t>=0;--t)this.objects[t].dispose();for(this.objects.length=0,t=this.overlays.length-1;t>=0;--t)this.overlays[t].dispose();this.overlays.length=0,this.gl=null},c.addObject=function(t){this.objects.indexOf(t)<0&&(this.objects.push(t),this.setDirty())},c.removeObject=function(t){for(var e=this.objects,n=0;n<e.length;++n)if(e[n]===t){e.splice(n,1),this.setDirty();break}},c.addOverlay=function(t){this.overlays.indexOf(t)<0&&(this.overlays.push(t),this.setOverlayDirty())},c.removeOverlay=function(t){for(var e=this.overlays,n=0;n<e.length;++n)if(e[n]===t){e.splice(n,1),this.setOverlayDirty();break}}},{"./lib/box":113,"./lib/grid":114,"./lib/line":115,"./lib/text":117,"gl-select-static":131}],119:[function(t,e,n){e.exports=c;var r=t("right-now"),i=t("3d-view"),a=t("mouse-change"),o=t("mouse-wheel"),s=t("mouse-event-offset"),l=t("has-passive-events");function c(t,e){t=t||document.body;var n=[.01,1/0];"distanceLimits"in(e=e||{})&&(n[0]=e.distanceLimits[0],n[1]=e.distanceLimits[1]),"zoomMin"in e&&(n[0]=e.zoomMin),"zoomMax"in e&&(n[1]=e.zoomMax);var c=i({center:e.center||[0,0,0],up:e.up||[0,1,0],eye:e.eye||[0,0,10],mode:e.mode||"orbit",distanceLimits:n}),u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=0,h=t.clientWidth,g=t.clientHeight,f={keyBindingMode:"rotate",enableWheel:!0,view:c,element:t,delay:e.delay||16,rotateSpeed:e.rotateSpeed||1,zoomSpeed:e.zoomSpeed||1,translateSpeed:e.translateSpeed||1,flipX:!!e.flipX,flipY:!!e.flipY,modes:c.modes,_ortho:e._ortho||e.projection&&"orthographic"===e.projection.type||!1,tick:function(){var e=r(),n=this.delay,i=e-2*n;c.idle(e-n),c.recalcMatrix(i),c.flush(e-(100+2*n));for(var a=!0,o=c.computedMatrix,s=0;s<16;++s)a=a&&u[s]===o[s],u[s]=o[s];var l=t.clientWidth===h&&t.clientHeight===g;return h=t.clientWidth,g=t.clientHeight,a?!l:(d=Math.exp(c.computedRadius[0]),!0)},lookAt:function(t,e,n){c.lookAt(c.lastT(),t,e,n)},rotate:function(t,e,n){c.rotate(c.lastT(),t,e,n)},pan:function(t,e,n){c.pan(c.lastT(),t,e,n)},translate:function(t,e,n){c.translate(c.lastT(),t,e,n)}};return Object.defineProperties(f,{matrix:{get:function(){return c.computedMatrix},set:function(t){return c.setMatrix(c.lastT(),t),c.computedMatrix},enumerable:!0},mode:{get:function(){return c.getMode()},set:function(t){var e=c.computedUp.slice(),n=c.computedEye.slice(),i=c.computedCenter.slice();if(c.setMode(t),"turntable"===t){var a=r();c._active.lookAt(a,n,i,e),c._active.lookAt(a+500,n,i,[0,0,1]),c._active.flush(a)}return c.getMode()},enumerable:!0},center:{get:function(){return c.computedCenter},set:function(t){return c.lookAt(c.lastT(),null,t),c.computedCenter},enumerable:!0},eye:{get:function(){return c.computedEye},set:function(t){return c.lookAt(c.lastT(),t),c.computedEye},enumerable:!0},up:{get:function(){return c.computedUp},set:function(t){return c.lookAt(c.lastT(),null,null,t),c.computedUp},enumerable:!0},distance:{get:function(){return d},set:function(t){return c.setDistance(c.lastT(),t),t},enumerable:!0},distanceLimits:{get:function(){return c.getDistanceLimits(n)},set:function(t){return c.setDistanceLimits(t),t},enumerable:!0}}),t.addEventListener("contextmenu",(function(t){return t.preventDefault(),!1})),f._lastX=-1,f._lastY=-1,f._lastMods={shift:!1,control:!1,alt:!1,meta:!1},f.enableMouseListeners=function(){function e(e,n,i,a){var o=f.keyBindingMode;if(!1!==o){var s="rotate"===o,l="pan"===o,u="zoom"===o,h=!!a.control,g=!!a.alt,p=!!a.shift,v=!!(1&e),m=!!(2&e),y=!!(4&e),b=1/t.clientHeight,I=b*(n-f._lastX),C=b*(i-f._lastY),x=f.flipX?1:-1,B=f.flipY?1:-1,A=Math.PI*f.rotateSpeed,F=r();if(-1!==f._lastX&&-1!==f._lastY&&((s&&v&&!h&&!g&&!p||v&&!h&&!g&&p)&&c.rotate(F,x*A*I,-B*A*C,0),(l&&v&&!h&&!g&&!p||m||v&&h&&!g&&!p)&&c.pan(F,-f.translateSpeed*I*d,f.translateSpeed*C*d,0),u&&v&&!h&&!g&&!p||y||v&&!h&&g&&!p)){var Q=-f.zoomSpeed*C/window.innerHeight*(F-c.lastT())*100;c.pan(F,0,0,d*(Math.exp(Q)-1))}return f._lastX=n,f._lastY=i,f._lastMods=a,!0}}f.mouseListener=a(t,e),t.addEventListener("touchstart",(function(n){var r=s(n.changedTouches[0],t);e(0,r[0],r[1],f._lastMods),e(1,r[0],r[1],f._lastMods)}),!!l&&{passive:!0}),t.addEventListener("touchmove",(function(n){var r=s(n.changedTouches[0],t);e(1,r[0],r[1],f._lastMods),n.preventDefault()}),!!l&&{passive:!1}),t.addEventListener("touchend",(function(t){e(0,f._lastX,f._lastY,f._lastMods)}),!!l&&{passive:!0}),f.wheelListener=o(t,(function(t,e){if(!1!==f.keyBindingMode&&f.enableWheel){var n=f.flipX?1:-1,i=f.flipY?1:-1,a=r();if(Math.abs(t)>Math.abs(e))c.rotate(a,0,0,-t*n*Math.PI*f.rotateSpeed/window.innerWidth);else if(!f._ortho){var o=-f.zoomSpeed*i*e/window.innerHeight*(a-c.lastT())/20;c.pan(a,0,0,d*(Math.exp(o)-1))}}}),!0)},f.enableMouseListeners(),f}},{"3d-view":7,"has-passive-events":232,"mouse-change":247,"mouse-event-offset":248,"mouse-wheel":250,"right-now":278}],120:[function(t,e,n){var r=t("glslify"),i=t("gl-shader"),a=r(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),o=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);e.exports=function(t){return i(t,a,o,null,[{name:"position",type:"vec2"}])}},{"gl-shader":132,glslify:231}],121:[function(t,e,n){var r=t("./camera.js"),i=t("gl-axes3d"),a=t("gl-axes3d/properties"),o=t("gl-spikes3d"),s=t("gl-select-static"),l=t("gl-fbo"),c=t("a-big-triangle"),u=t("mouse-change"),d=t("gl-mat4/perspective"),h=t("gl-mat4/ortho"),g=t("./lib/shader"),f=t("is-mobile")({tablet:!0,featureDetect:!0});function p(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function v(t,e){var n=null;try{(n=t.getContext("webgl",e))||(n=t.getContext("experimental-webgl",e))}catch(t){return null}return n}function m(t){var e=Math.round(Math.log(Math.abs(t))/Math.log(10));if(e<0){var n=Math.round(Math.pow(10,-e));return Math.ceil(t*n)/n}return e>0?(n=Math.round(Math.pow(10,e)),Math.ceil(t/n)*n):Math.ceil(t)}function y(t){return"boolean"!=typeof t||t}function b(t){(t=t||{}).camera=t.camera||{};var e=t.canvas;e||(e=document.createElement("canvas"),t.container?t.container.appendChild(e):document.body.appendChild(e));var n=t.gl;if(n||(t.glOptions&&(f=!!t.glOptions.preserveDrawingBuffer),n=v(e,t.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:f})),!n)throw new Error("webgl not supported");var d=t.bounds||[[-10,-10,-10],[10,10,10]],h=new p,b=l(n,n.drawingBufferWidth,n.drawingBufferHeight,{preferFloat:!f}),C=g(n),x=t.cameraObject&&!0===t.cameraObject._ortho||t.camera.projection&&"orthographic"===t.camera.projection.type||!1,B={eye:t.camera.eye||[2,0,0],center:t.camera.center||[0,0,0],up:t.camera.up||[0,1,0],zoomMin:t.camera.zoomMax||.1,zoomMax:t.camera.zoomMin||100,mode:t.camera.mode||"turntable",_ortho:x},A=t.axes||{},F=i(n,A);F.enable=!A.disable;var Q=t.spikes||{},w=o(n,Q),U=[],G=[],R=[],S=[],L=!0,_=!0,E={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},k=(_=!0,[n.drawingBufferWidth,n.drawingBufferHeight]),V=t.cameraObject||r(e,B),Z={gl:n,contextLost:!1,pixelRatio:t.pixelRatio||1,canvas:e,selection:h,camera:V,axes:F,axesPixels:null,spikes:w,bounds:d,objects:U,shape:k,aspect:t.aspectRatio||[1,1,1],pickRadius:t.pickRadius||10,zNear:t.zNear||.01,zFar:t.zFar||1e3,fovy:t.fovy||Math.PI/4,clearColor:t.clearColor||[0,0,0,0],autoResize:y(t.autoResize),autoBounds:y(t.autoBounds),autoScale:!!t.autoScale,autoCenter:y(t.autoCenter),clipToBounds:y(t.clipToBounds),snapToData:!!t.snapToData,onselect:t.onselect||null,onrender:t.onrender||null,onclick:t.onclick||null,cameraParams:E,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(t){this.aspect[0]=t.x,this.aspect[1]=t.y,this.aspect[2]=t.z,_=!0},setBounds:function(t,e){this.bounds[0][t]=e.min,this.bounds[1][t]=e.max},setClearColor:function(t){this.clearColor=t},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},N=[n.drawingBufferWidth/Z.pixelRatio|0,n.drawingBufferHeight/Z.pixelRatio|0];function T(){if(!Z._stopped&&Z.autoResize){var t=e.parentNode,n=1,r=1;t&&t!==document.body?(n=t.clientWidth,r=t.clientHeight):(n=window.innerWidth,r=window.innerHeight);var i=0|Math.ceil(n*Z.pixelRatio),a=0|Math.ceil(r*Z.pixelRatio);if(i!==e.width||a!==e.height){e.width=i,e.height=a;var o=e.style;o.position=o.position||"absolute",o.left="0px",o.top="0px",o.width=n+"px",o.height=r+"px",L=!0}}}function X(){for(var t=U.length,e=S.length,r=0;r<e;++r)R[r]=0;t:for(r=0;r<t;++r){var i=U[r],a=i.pickSlots;if(a){for(var o=0;o<e;++o)if(R[o]+a<255){G[r]=o,i.setPickBase(R[o]+1),R[o]+=a;continue t}var l=s(n,k);G[r]=e,S.push(l),R.push(a),i.setPickBase(1),e+=1}else G[r]=-1}for(;e>0&&0===R[e-1];)R.pop(),S.pop().dispose()}function W(){if(Z.contextLost)return!0;n.isContextLost()&&(Z.contextLost=!0,Z.mouseListener.enabled=!1,Z.selection.object=null,Z.oncontextloss&&Z.oncontextloss())}function M(){if(!W()){n.colorMask(!0,!0,!0,!0),n.depthMask(!0),n.disable(n.BLEND),n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL);for(var t=U.length,e=S.length,r=0;r<e;++r){var i=S[r];i.shape=N,i.begin();for(var a=0;a<t;++a)if(G[a]===r){var o=U[a];o.drawPick&&(o.pixelRatio=1,o.drawPick(E))}i.end()}}}Z.autoResize&&T(),window.addEventListener("resize",T),Z.update=function(t){Z._stopped||(L=!0,_=!0)},Z.add=function(t){Z._stopped||(t.axes=F,U.push(t),G.push(-1),L=!0,_=!0,X())},Z.remove=function(t){if(!Z._stopped){var e=U.indexOf(t);e<0||(U.splice(e,1),G.pop(),L=!0,_=!0,X())}},Z.dispose=function(){if(!Z._stopped&&(Z._stopped=!0,window.removeEventListener("resize",T),e.removeEventListener("webglcontextlost",W),Z.mouseListener.enabled=!1,!Z.contextLost)){F.dispose(),w.dispose();for(var t=0;t<U.length;++t)U[t].dispose();for(b.dispose(),t=0;t<S.length;++t)S[t].dispose();C.dispose(),n=null,F=null,w=null,U=[]}},Z._mouseRotating=!1,Z._prevButtons=0,Z.enableMouseListeners=function(){Z.mouseListener=u(e,(function(t,e,n){if(!Z._stopped){var r=S.length,i=U.length,a=h.object;h.distance=1/0,h.mouse[0]=e,h.mouse[1]=n,h.object=null,h.screen=null,h.dataCoordinate=h.dataPosition=null;var o=!1;if(t&&Z._prevButtons)Z._mouseRotating=!0;else{Z._mouseRotating&&(_=!0),Z._mouseRotating=!1;for(var s=0;s<r;++s){var l=S[s].query(e,N[1]-n-1,Z.pickRadius);if(l){if(l.distance>h.distance)continue;for(var c=0;c<i;++c){var u=U[c];if(G[c]===s){var d=u.pick(l);d&&(h.buttons=t,h.screen=l.coord,h.distance=l.distance,h.object=u,h.index=d.distance,h.dataPosition=d.position,h.dataCoordinate=d.dataCoordinate,h.data=d,o=!0)}}}}}a&&a!==h.object&&(a.highlight&&a.highlight(null),L=!0),h.object&&(h.object.highlight&&h.object.highlight(h.data),L=!0),(o=o||h.object!==a)&&Z.onselect&&Z.onselect(h),1&t&&!(1&Z._prevButtons)&&Z.onclick&&Z.onclick(h),Z._prevButtons=t}}))},e.addEventListener("webglcontextlost",W);var H=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],D=[H[0].slice(),H[1].slice()];function Y(){if(!W()){T();var t=Z.camera.tick();E.view=Z.camera.matrix,L=L||t,_=_||t,F.pixelRatio=Z.pixelRatio,w.pixelRatio=Z.pixelRatio;var e=U.length,r=H[0],i=H[1];r[0]=r[1]=r[2]=1/0,i[0]=i[1]=i[2]=-1/0;for(var o=0;o<e;++o){(Q=U[o]).pixelRatio=Z.pixelRatio,Q.axes=Z.axes,L=L||!!Q.dirty,_=_||!!Q.dirty;var s=Q.bounds;if(s)for(var l=s[0],u=s[1],d=0;d<3;++d)r[d]=Math.min(r[d],l[d]),i[d]=Math.max(i[d],u[d])}var g=Z.bounds;if(Z.autoBounds)for(d=0;d<3;++d){if(i[d]<r[d])r[d]=-1,i[d]=1;else{r[d]===i[d]&&(r[d]-=1,i[d]+=1);var f=.05*(i[d]-r[d]);r[d]=r[d]-f,i[d]=i[d]+f}g[0][d]=r[d],g[1][d]=i[d]}var p=!1;for(d=0;d<3;++d)p=p||D[0][d]!==g[0][d]||D[1][d]!==g[1][d],D[0][d]=g[0][d],D[1][d]=g[1][d];if(_=_||p,L=L||p){if(p){var v=[0,0,0];for(o=0;o<3;++o)v[o]=m((g[1][o]-g[0][o])/10);F.autoTicks?F.update({bounds:g,tickSpacing:v}):F.update({bounds:g})}var y=n.drawingBufferWidth,B=n.drawingBufferHeight;for(k[0]=y,k[1]=B,N[0]=0|Math.max(y/Z.pixelRatio,1),N[1]=0|Math.max(B/Z.pixelRatio,1),I(Z,x),o=0;o<e;++o)(Q=U[o]).axesBounds=g,Z.clipToBounds&&(Q.clipBounds=g);h.object&&(Z.snapToData?w.position=h.dataCoordinate:w.position=h.dataPosition,w.bounds=g),_&&(_=!1,M()),Z.axesPixels=a(Z.axes,E,y,B),Z.onrender&&Z.onrender(),n.bindFramebuffer(n.FRAMEBUFFER,null),n.viewport(0,0,y,B),Z.clearRGBA(),n.depthMask(!0),n.colorMask(!0,!0,!0,!0),n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL),n.disable(n.BLEND),n.disable(n.CULL_FACE);var A=!1;for(F.enable&&(A=A||F.isTransparent(),F.draw(E)),w.axes=F,h.object&&w.draw(E),n.disable(n.CULL_FACE),o=0;o<e;++o)(Q=U[o]).axes=F,Q.pixelRatio=Z.pixelRatio,Q.isOpaque&&Q.isOpaque()&&Q.draw(E),Q.isTransparent&&Q.isTransparent()&&(A=!0);if(A){for(b.shape=k,b.bind(),n.clear(n.DEPTH_BUFFER_BIT),n.colorMask(!1,!1,!1,!1),n.depthMask(!0),n.depthFunc(n.LESS),F.enable&&F.isTransparent()&&F.drawTransparent(E),o=0;o<e;++o)(Q=U[o]).isOpaque&&Q.isOpaque()&&Q.draw(E);for(n.enable(n.BLEND),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),n.colorMask(!0,!0,!0,!0),n.depthMask(!1),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),F.isTransparent()&&F.drawTransparent(E),o=0;o<e;++o){var Q;(Q=U[o]).isTransparent&&Q.isTransparent()&&Q.drawTransparent(E)}n.bindFramebuffer(n.FRAMEBUFFER,null),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),n.disable(n.DEPTH_TEST),C.bind(),b.color[0].bind(0),C.uniforms.accumBuffer=0,c(n),n.disable(n.BLEND)}for(L=!1,o=0;o<e;++o)U[o].dirty=!1}}}function O(){Z._stopped||Z.contextLost||(Y(),requestAnimationFrame(O))}return Z.enableMouseListeners(),O(),Z.redraw=function(){Z._stopped||(L=!0,Y())},Z}function I(t,e){var n=t.bounds,r=t.cameraParams,i=r.projection,a=r.model,o=t.gl.drawingBufferWidth,s=t.gl.drawingBufferHeight,l=t.zNear,c=t.zFar,u=t.fovy,g=o/s;e?(h(i,-g,g,-1,1,l,c),r._ortho=!0):(d(i,u,g,l,c),r._ortho=!1);for(var f=0;f<16;++f)a[f]=0;a[15]=1;var p=0;for(f=0;f<3;++f)p=Math.max(p,n[1][f]-n[0][f]);for(f=0;f<3;++f)t.autoScale?a[5*f]=t.aspect[f]/(n[1][f]-n[0][f]):a[5*f]=1/p,t.autoCenter&&(a[12+f]=.5*-a[5*f]*(n[0][f]+n[1][f]))}e.exports={createScene:b,createCamera:r}},{"./camera.js":119,"./lib/shader":120,"a-big-triangle":8,"gl-axes3d":70,"gl-axes3d/properties":77,"gl-fbo":86,"gl-mat4/ortho":101,"gl-mat4/perspective":102,"gl-select-static":131,"gl-spikes3d":141,"is-mobile":238,"mouse-change":247}],122:[function(t,e,n){var r=t("glslify");n.pointVertex=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}"]),n.pointFragment=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n"]),n.pickVertex=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n"]),n.pickFragment=r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"])},{glslify:231}],123:[function(t,e,n){var r=t("gl-shader"),i=t("gl-buffer"),a=t("typedarray-pool"),o=t("./lib/shader");function s(t,e,n,r,i){this.plot=t,this.offsetBuffer=e,this.pickBuffer=n,this.shader=r,this.pickShader=i,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}e.exports=h;var l,c,u=s.prototype;function d(t,e){var n,r=0,i=t.length>>>1;for(n=0;n<i;n++){var a=t[2*n],o=t[2*n+1];a>=e[0]&&a<=e[2]&&o>=e[1]&&o<=e[3]&&r++}return r}function h(t,e){var n=t.gl,a=new s(t,i(n),i(n),r(n,o.pointVertex,o.pointFragment),r(n,o.pickVertex,o.pickFragment));return a.update(e),t.addObject(a),a}u.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},u.update=function(t){var e;function n(e,n){return e in t?t[e]:n}t=t||{},this.sizeMin=n("sizeMin",.5),this.sizeMax=n("sizeMax",20),this.color=n("color",[1,0,0,1]).slice(),this.areaRatio=n("areaRatio",1),this.borderColor=n("borderColor",[0,0,0,1]).slice(),this.blend=n("blend",!1);var r=t.positions.length>>>1,i=t.positions instanceof Float32Array,o=t.idToIndex instanceof Int32Array&&t.idToIndex.length>=r,s=t.positions,l=i?s:a.mallocFloat32(s.length),c=o?t.idToIndex:a.mallocInt32(r);if(i||l.set(s),!o)for(l.set(s),e=0;e<r;e++)c[e]=e;this.points=s,this.offsetBuffer.update(l),this.pickBuffer.update(c),i||a.free(l),o||a.free(c),this.pointCount=r,this.pickOffset=0},u.unifiedDraw=(l=[1,0,0,0,1,0,0,0,1],c=[0,0,0,0],function(t){var e=void 0!==t,n=e?this.pickShader:this.shader,r=this.plot.gl,i=this.plot.dataBox;if(0===this.pointCount)return t;var a=i[2]-i[0],o=i[3]-i[1],s=d(this.points,i),u=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(s,.33333)));l[0]=2/a,l[4]=2/o,l[6]=-2*i[0]/a-1,l[7]=-2*i[1]/o-1,this.offsetBuffer.bind(),n.bind(),n.attributes.position.pointer(),n.uniforms.matrix=l,n.uniforms.color=this.color,n.uniforms.borderColor=this.borderColor,n.uniforms.pointCloud=u<5,n.uniforms.pointSize=u,n.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),e&&(c[0]=255&t,c[1]=t>>8&255,c[2]=t>>16&255,c[3]=t>>24&255,this.pickBuffer.bind(),n.attributes.pickId.pointer(r.UNSIGNED_BYTE),n.uniforms.pickOffset=c,this.pickOffset=t);var h=r.getParameter(r.BLEND),g=r.getParameter(r.DITHER);return h&&!this.blend&&r.disable(r.BLEND),g&&r.disable(r.DITHER),r.drawArrays(r.POINTS,0,this.pointCount),h&&!this.blend&&r.enable(r.BLEND),g&&r.enable(r.DITHER),t+this.pointCount}),u.draw=u.unifiedDraw,u.drawPick=u.unifiedDraw,u.pick=function(t,e,n){var r=this.pickOffset,i=this.pointCount;if(n<r||n>=r+i)return null;var a=n-r,o=this.points;return{object:this,pointId:a,dataCoord:[o[2*a],o[2*a+1]]}}},{"./lib/shader":122,"gl-buffer":78,"gl-shader":132,"typedarray-pool":308}],124:[function(t,e,n){function r(t,e,n,r){var i,a,o,s,l,c=e[0],u=e[1],d=e[2],h=e[3],g=n[0],f=n[1],p=n[2],v=n[3];return(a=c*g+u*f+d*p+h*v)<0&&(a=-a,g=-g,f=-f,p=-p,v=-v),1-a>1e-6?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-r)*i)/o,l=Math.sin(r*i)/o):(s=1-r,l=r),t[0]=s*c+l*g,t[1]=s*u+l*f,t[2]=s*d+l*p,t[3]=s*h+l*v,t}e.exports=r},{}],125:[function(t,e,n){e.exports=function(t){return t||0===t?t.toString():""}},{}],126:[function(t,e,n){var r=t("vectorize-text");e.exports=a;var i={};function a(t,e,n){var a=i[e];if(a||(a=i[e]={}),t in a)return a[t];var o={textAlign:"center",textBaseline:"middle",lineHeight:1,font:e,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},s=r(t,o);o.triangles=!1;var l,c,u=r(t,o);if(n&&1!==n){for(l=0;l<s.positions.length;++l)for(c=0;c<s.positions[l].length;++c)s.positions[l][c]/=n;for(l=0;l<u.positions.length;++l)for(c=0;c<u.positions[l].length;++c)u.positions[l][c]/=n}var d=[[1/0,1/0],[-1/0,-1/0]],h=u.positions.length;for(l=0;l<h;++l){var g=u.positions[l];for(c=0;c<2;++c)d[0][c]=Math.min(d[0][c],g[c]),d[1][c]=Math.max(d[1][c],g[c])}return a[t]=[s,u,d]}},{"vectorize-text":311}],127:[function(t,e,n){var r=t("gl-shader"),i=t("glslify"),a=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),o=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),s=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),l=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),c=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),u=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],d={vertex:a,fragment:l,attributes:u},h={vertex:o,fragment:l,attributes:u},g={vertex:s,fragment:l,attributes:u},f={vertex:a,fragment:c,attributes:u},p={vertex:o,fragment:c,attributes:u},v={vertex:s,fragment:c,attributes:u};function m(t,e){var n=r(t,e),i=n.attributes;return i.position.location=0,i.color.location=1,i.glyph.location=2,i.id.location=3,n}n.createPerspective=function(t){return m(t,d)},n.createOrtho=function(t){return m(t,h)},n.createProject=function(t){return m(t,g)},n.createPickPerspective=function(t){return m(t,f)},n.createPickOrtho=function(t){return m(t,p)},n.createPickProject=function(t){return m(t,v)}},{"gl-shader":132,glslify:231}],128:[function(t,e,n){var r=t("is-string-blank"),i=t("gl-buffer"),a=t("gl-vao"),o=t("typedarray-pool"),s=t("gl-mat4/multiply"),l=t("./lib/shaders"),c=t("./lib/glyphs"),u=t("./lib/get-simple-string"),d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];return t[0]=e[0]*n+e[4]*r+e[8]*i+e[12]*a,t[1]=e[1]*n+e[5]*r+e[9]*i+e[13]*a,t[2]=e[2]*n+e[6]*r+e[10]*i+e[14]*a,t[3]=e[3]*n+e[7]*r+e[11]*i+e[15]*a,t}function g(t,e,n,r){return h(r,r),h(r,r),h(r,r)}function f(t,e){this.index=t,this.dataCoordinate=this.position=e}function p(t){return!0===t||t>1?1:t}function v(t,e,n,r,i,a,o,s,l,c,u,d){this.gl=t,this.pixelRatio=1,this.shader=e,this.orthoShader=n,this.projectShader=r,this.pointBuffer=i,this.colorBuffer=a,this.glyphBuffer=o,this.idBuffer=s,this.vao=l,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[2/3,2/3,2/3],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=c,this.pickOrthoShader=u,this.pickProjectShader=d,this.points=[],this._selectResult=new f(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}e.exports=E;var m=v.prototype;m.pickSlots=1,m.setPickBase=function(t){this.pickId=t},m.isTransparent=function(){if(this.hasAlpha)return!0;for(var t=0;t<3;++t)if(this.axesProject[t]&&this.projectHasAlpha)return!0;return!1},m.isOpaque=function(){if(!this.hasAlpha)return!0;for(var t=0;t<3;++t)if(this.axesProject[t]&&!this.projectHasAlpha)return!0;return!1};var y=[0,0],b=[0,0,0],I=[0,0,0],C=[0,0,0,1],x=[0,0,0,1],B=d.slice(),A=[0,0,0],F=[[0,0,0],[0,0,0]];function Q(t){return t[0]=t[1]=t[2]=0,t}function w(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=1,t}function U(t,e,n,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[n]=r,t}function G(t){for(var e=F,n=0;n<2;++n)for(var r=0;r<3;++r)e[n][r]=Math.max(Math.min(t[n][r],1e8),-1e8);return e}function R(t,e,n,r){var i,a=e.axesProject,o=e.gl,l=t.uniforms,c=n.model||d,u=n.view||d,h=n.projection||d,f=e.axesBounds,p=G(e.clipBounds);i=e.axes&&e.axes.lastCubeProps?e.axes.lastCubeProps.axis:[1,1,1],y[0]=2/o.drawingBufferWidth,y[1]=2/o.drawingBufferHeight,t.bind(),l.view=u,l.projection=h,l.screenSize=y,l.highlightId=e.highlightId,l.highlightScale=e.highlightScale,l.clipBounds=p,l.pickGroup=e.pickId/255,l.pixelRatio=r;for(var v=0;v<3;++v)if(a[v]){l.scale=e.projectScale[v],l.opacity=e.projectOpacity[v];for(var m=B,F=0;F<16;++F)m[F]=0;for(F=0;F<4;++F)m[5*F]=1;m[5*v]=0,i[v]<0?m[12+v]=f[0][v]:m[12+v]=f[1][v],s(m,c,m),l.model=m;var R=(v+1)%3,S=(v+2)%3,L=Q(b),_=Q(I);L[R]=1,_[S]=1;var E=g(h,u,c,w(C,L)),k=g(h,u,c,w(x,_));if(Math.abs(E[1])>Math.abs(k[1])){var V=E;E=k,k=V,V=L,L=_,_=V;var Z=R;R=S,S=Z}E[0]<0&&(L[R]=-1),k[1]>0&&(_[S]=-1);var N=0,T=0;for(F=0;F<4;++F)N+=Math.pow(c[4*R+F],2),T+=Math.pow(c[4*S+F],2);L[R]/=Math.sqrt(N),_[S]/=Math.sqrt(T),l.axes[0]=L,l.axes[1]=_,l.fragClipBounds[0]=U(A,p[0],v,-1e8),l.fragClipBounds[1]=U(A,p[1],v,1e8),e.vao.bind(),e.vao.draw(o.TRIANGLES,e.vertexCount),e.lineWidth>0&&(o.lineWidth(e.lineWidth*r),e.vao.draw(o.LINES,e.lineVertexCount,e.vertexCount)),e.vao.unbind()}}var S=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function L(t,e,n,r,i,a,o){var s=n.gl;if((a===n.projectHasAlpha||o)&&R(e,n,r,i),a===n.hasAlpha||o){t.bind();var l=t.uniforms;l.model=r.model||d,l.view=r.view||d,l.projection=r.projection||d,y[0]=2/s.drawingBufferWidth,y[1]=2/s.drawingBufferHeight,l.screenSize=y,l.highlightId=n.highlightId,l.highlightScale=n.highlightScale,l.fragClipBounds=S,l.clipBounds=n.axes.bounds,l.opacity=n.opacity,l.pickGroup=n.pickId/255,l.pixelRatio=i,n.vao.bind(),n.vao.draw(s.TRIANGLES,n.vertexCount),n.lineWidth>0&&(s.lineWidth(n.lineWidth*i),n.vao.draw(s.LINES,n.lineVertexCount,n.vertexCount)),n.vao.unbind()}}function _(t,e,n,i){var a;a=Array.isArray(t)?e<t.length?t[e]:void 0:t,a=u(a);var o=!0;r(a)&&(a="▼",o=!1);var s=c(a,n,i);return{mesh:s[0],lines:s[1],bounds:s[2],visible:o}}function E(t){var e=t.gl,n=l.createPerspective(e),r=l.createOrtho(e),o=l.createProject(e),s=l.createPickPerspective(e),c=l.createPickOrtho(e),u=l.createPickProject(e),d=i(e),h=i(e),g=i(e),f=i(e),p=new v(e,n,r,o,d,h,g,f,a(e,[{buffer:d,size:3,type:e.FLOAT},{buffer:h,size:4,type:e.FLOAT},{buffer:g,size:2,type:e.FLOAT},{buffer:f,size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),s,c,u);return p.update(t),p}m.draw=function(t){L(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,t,this.pixelRatio,!1,!1)},m.drawTransparent=function(t){L(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,t,this.pixelRatio,!0,!1)},m.drawPick=function(t){L(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,t,1,!0,!0)},m.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=t.value[2]+(t.value[1]<<8)+(t.value[0]<<16);if(e>=this.pointCount||e<0)return null;var n=this.points[e],r=this._selectResult;r.index=e;for(var i=0;i<3;++i)r.position[i]=r.dataCoordinate[i]=n[i];return r},m.highlight=function(t){if(t){var e=t.index,n=255&e,r=e>>8&255,i=e>>16&255;this.highlightId=[n/255,r/255,i/255,0]}else this.highlightId=[1,1,1,1]},m.update=function(t){if("perspective"in(t=t||{})&&(this.useOrtho=!t.perspective),"orthographic"in t&&(this.useOrtho=!!t.orthographic),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"project"in t)if(Array.isArray(t.project))this.axesProject=t.project;else{var e=!!t.project;this.axesProject=[e,e,e]}if("projectScale"in t)if(Array.isArray(t.projectScale))this.projectScale=t.projectScale.slice();else{var n=+t.projectScale;this.projectScale=[n,n,n]}if(this.projectHasAlpha=!1,"projectOpacity"in t){Array.isArray(t.projectOpacity)?this.projectOpacity=t.projectOpacity.slice():(n=+t.projectOpacity,this.projectOpacity=[n,n,n]);for(var r=0;r<3;++r)this.projectOpacity[r]=p(this.projectOpacity[r]),this.projectOpacity[r]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in t&&(this.opacity=p(t.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var i,a,s=t.position,l=t.font||"normal",c=t.alignment||[0,0];if(2===c.length)i=c[0],a=c[1];else for(i=[],a=[],r=0;r<c.length;++r)i[r]=c[r][0],a[r]=c[r][1];var u=[1/0,1/0,1/0],d=[-1/0,-1/0,-1/0],h=t.glyph,g=t.color,f=t.size,v=t.angle,m=t.lineColor,y=-1,b=0,I=0,C=0;if(s.length){C=s.length;t:for(r=0;r<C;++r){for(var x=s[r],B=0;B<3;++B)if(isNaN(x[B])||!isFinite(x[B]))continue t;var A=(T=_(h,r,l,this.pixelRatio)).mesh,F=T.lines,Q=T.bounds;b+=3*A.cells.length,I+=2*F.edges.length}}var w=b+I,U=o.mallocFloat(3*w),G=o.mallocFloat(4*w),R=o.mallocFloat(2*w),S=o.mallocUint32(w);if(w>0){var L=0,E=b,k=[0,0,0,1],V=[0,0,0,1],Z=Array.isArray(g)&&Array.isArray(g[0]),N=Array.isArray(m)&&Array.isArray(m[0]);t:for(r=0;r<C;++r){for(y+=1,x=s[r],B=0;B<3;++B){if(isNaN(x[B])||!isFinite(x[B]))continue t;d[B]=Math.max(d[B],x[B]),u[B]=Math.min(u[B],x[B])}A=(T=_(h,r,l,this.pixelRatio)).mesh,F=T.lines,Q=T.bounds;var T,X=T.visible;if(X)if(Array.isArray(g)){if(3===(W=Z?r<g.length?g[r]:[0,0,0,0]:g).length){for(B=0;B<3;++B)k[B]=W[B];k[3]=1}else if(4===W.length){for(B=0;B<4;++B)k[B]=W[B];!this.hasAlpha&&W[3]<1&&(this.hasAlpha=!0)}}else k[0]=k[1]=k[2]=0,k[3]=1;else k=[1,1,1,0];if(X)if(Array.isArray(m)){var W;if(3===(W=N?r<m.length?m[r]:[0,0,0,0]:m).length){for(B=0;B<3;++B)V[B]=W[B];V[B]=1}else if(4===W.length){for(B=0;B<4;++B)V[B]=W[B];!this.hasAlpha&&W[3]<1&&(this.hasAlpha=!0)}}else V[0]=V[1]=V[2]=0,V[3]=1;else V=[1,1,1,0];var M=.5;X?Array.isArray(f)?M=r<f.length?+f[r]:12:f?M=+f:this.useOrtho&&(M=12):M=0;var H=0;Array.isArray(v)?H=r<v.length?+v[r]:0:v&&(H=+v);var D=Math.cos(H),Y=Math.sin(H);for(x=s[r],B=0;B<3;++B)d[B]=Math.max(d[B],x[B]),u[B]=Math.min(u[B],x[B]);var O=i,z=a;O=0,Array.isArray(i)?O=r<i.length?i[r]:0:i&&(O=i),z=0,Array.isArray(a)?z=r<a.length?a[r]:0:a&&(z=a);var J=[O*=O>0?1-Q[0][0]:O<0?1+Q[1][0]:1,z*=z>0?1-Q[0][1]:z<0?1+Q[1][1]:1],j=A.cells||[],P=A.positions||[];for(B=0;B<j.length;++B)for(var K=j[B],q=0;q<3;++q){for(var $=0;$<3;++$)U[3*L+$]=x[$];for($=0;$<4;++$)G[4*L+$]=k[$];S[L]=y;var tt=P[K[q]];R[2*L]=M*(D*tt[0]-Y*tt[1]+J[0]),R[2*L+1]=M*(Y*tt[0]+D*tt[1]+J[1]),L+=1}for(j=F.edges,P=F.positions,B=0;B<j.length;++B)for(K=j[B],q=0;q<2;++q){for($=0;$<3;++$)U[3*E+$]=x[$];for($=0;$<4;++$)G[4*E+$]=V[$];S[E]=y,tt=P[K[q]],R[2*E]=M*(D*tt[0]-Y*tt[1]+J[0]),R[2*E+1]=M*(Y*tt[0]+D*tt[1]+J[1]),E+=1}}}this.bounds=[u,d],this.points=s,this.pointCount=s.length,this.vertexCount=b,this.lineVertexCount=I,this.pointBuffer.update(U),this.colorBuffer.update(G),this.glyphBuffer.update(R),this.idBuffer.update(S),o.free(U),o.free(G),o.free(R),o.free(S)},m.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},{"./lib/get-simple-string":125,"./lib/glyphs":126,"./lib/shaders":127,"gl-buffer":78,"gl-mat4/multiply":100,"gl-vao":150,"is-string-blank":239,"typedarray-pool":308}],129:[function(t,e,n){var r=t("glslify");n.boxVertex=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n"]),n.boxFragment=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"])},{glslify:231}],130:[function(t,e,n){var r=t("gl-shader"),i=t("gl-buffer"),a=t("./lib/shaders");function o(t,e,n){this.plot=t,this.boxBuffer=e,this.boxShader=n,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}e.exports=l;var s=o.prototype;function l(t,e){var n=t.gl,s=new o(t,i(n,[0,0,0,1,1,0,1,1]),r(n,a.boxVertex,a.boxFragment));return s.update(e),t.addOverlay(s),s}s.draw=function(){if(this.enabled){var t=this.plot,e=this.selectBox,n=this.borderWidth;this.innerFill;var r=this.innerColor;this.outerFill;var i=this.outerColor,a=this.borderColor,o=t.box,s=t.screenBox,l=t.dataBox,c=t.viewBox,u=t.pixelRatio,d=(e[0]-l[0])*(c[2]-c[0])/(l[2]-l[0])+c[0],h=(e[1]-l[1])*(c[3]-c[1])/(l[3]-l[1])+c[1],g=(e[2]-l[0])*(c[2]-c[0])/(l[2]-l[0])+c[0],f=(e[3]-l[1])*(c[3]-c[1])/(l[3]-l[1])+c[1];if(d=Math.max(d,c[0]),h=Math.max(h,c[1]),g=Math.min(g,c[2]),f=Math.min(f,c[3]),!(g<d||f<h)){o.bind();var p=s[2]-s[0],v=s[3]-s[1];if(this.outerFill&&(o.drawBox(0,0,p,h,i),o.drawBox(0,h,d,f,i),o.drawBox(0,f,p,v,i),o.drawBox(g,h,p,f,i)),this.innerFill&&o.drawBox(d,h,g,f,r),n>0){var m=n*u;o.drawBox(d-m,h-m,g+m,h+m,a),o.drawBox(d-m,f-m,g+m,f+m,a),o.drawBox(d-m,h-m,d+m,f+m,a),o.drawBox(g-m,h-m,g+m,f+m,a)}}}},s.update=function(t){t=t||{},this.innerFill=!!t.innerFill,this.outerFill=!!t.outerFill,this.innerColor=(t.innerColor||[0,0,0,.5]).slice(),this.outerColor=(t.outerColor||[0,0,0,.5]).slice(),this.borderColor=(t.borderColor||[0,0,0,1]).slice(),this.borderWidth=t.borderWidth||0,this.selectBox=(t.selectBox||this.selectBox).slice()},s.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},{"./lib/shaders":129,"gl-buffer":78,"gl-shader":132}],131:[function(t,e,n){e.exports=d;var r=t("gl-fbo"),i=t("typedarray-pool"),a=t("ndarray"),o=t("bit-twiddle").nextPow2,s=function(t,e,n){for(var r=1e8,i=-1,a=-1,o=t.shape[0],s=t.shape[1],l=0;l<o;l++)for(var c=0;c<s;c++){var u=t.get(l,c,0),d=t.get(l,c,1),h=t.get(l,c,2),g=t.get(l,c,3);if(u<255||d<255||h<255||g<255){var f=e-l,p=n-c,v=f*f+p*p;v<r&&(r=v,i=l,a=c)}}return[i,a,r]};function l(t,e,n,r,i){this.coord=[t,e],this.id=n,this.value=r,this.distance=i}function c(t,e,n){this.gl=t,this.fbo=e,this.buffer=n,this._readTimeout=null;var r=this;this._readCallback=function(){r.gl&&(e.bind(),t.readPixels(0,0,e.shape[0],e.shape[1],t.RGBA,t.UNSIGNED_BYTE,r.buffer),r._readTimeout=null)}}var u=c.prototype;function d(t,e){var n=e[0],a=e[1];return new c(t,r(t,n,a,{}),i.mallocUint8(n*a*4))}Object.defineProperty(u,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(t){if(this.gl){this.fbo.shape=t;var e=this.fbo.shape[0],n=this.fbo.shape[1];if(n*e*4>this.buffer.length){i.free(this.buffer);for(var r=this.buffer=i.mallocUint8(o(n*e*4)),a=0;a<n*e*4;++a)r[a]=255}return t}}}),u.begin=function(){var t=this.gl;this.shape,t&&(this.fbo.bind(),t.clearColor(1,1,1,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT))},u.end=function(){var t=this.gl;t&&(t.bindFramebuffer(t.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},u.query=function(t,e,n){if(!this.gl)return null;var r=this.fbo.shape.slice();t|=0,e|=0,"number"!=typeof n&&(n=1);var i=0|Math.min(Math.max(t-n,0),r[0]),o=0|Math.min(Math.max(t+n,0),r[0]),c=0|Math.min(Math.max(e-n,0),r[1]),u=0|Math.min(Math.max(e+n,0),r[1]);if(o<=i||u<=c)return null;var d=[o-i,u-c],h=a(this.buffer,[d[0],d[1],4],[4,4*r[0],1],4*(i+r[0]*c)),g=s(h.hi(d[0],d[1],1),n,n),f=g[0],p=g[1];return f<0||Math.pow(this.radius,2)<g[2]?null:new l(f+i|0,p+c|0,h.get(f,p,0),[h.get(f,p,1),h.get(f,p,2),h.get(f,p,3)],Math.sqrt(g[2]))},u.dispose=function(){this.gl&&(this.fbo.dispose(),i.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},{"bit-twiddle":32,"gl-fbo":86,ndarray:259,"typedarray-pool":308}],132:[function(t,e,n){var r=t("./lib/create-uniforms"),i=t("./lib/create-attributes"),a=t("./lib/reflect"),o=t("./lib/shader-cache"),s=t("./lib/runtime-reflect"),l=t("./lib/GLError");function c(t){this.gl=t,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var u=c.prototype;function d(t,e){return t.name<e.name?-1:1}function h(t,e,n,r,i){var a=new c(t);return a.update(e,n,r,i),a}u.bind=function(){var t;this.program||this._relink();var e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),n=this.gl.lastAttribCount;if(e>n)for(t=n;t<e;t++)this.gl.enableVertexAttribArray(t);else if(n>e)for(t=e;t<n;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=e,this.gl.useProgram(this.program)},u.dispose=function(){for(var t=this.gl.lastAttribCount,e=0;e<t;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},u.update=function(t,e,n,c){if(!e||1===arguments.length){var u=t;t=u.vertex,e=u.fragment,n=u.uniforms,c=u.attributes}var h=this,g=h.gl,f=h._vref;h._vref=o.shader(g,g.VERTEX_SHADER,t),f&&f.dispose(),h.vertShader=h._vref.shader;var p=this._fref;if(h._fref=o.shader(g,g.FRAGMENT_SHADER,e),p&&p.dispose(),h.fragShader=h._fref.shader,!n||!c){var v=g.createProgram();if(g.attachShader(v,h.fragShader),g.attachShader(v,h.vertShader),g.linkProgram(v),!g.getProgramParameter(v,g.LINK_STATUS)){var m=g.getProgramInfoLog(v);throw new l(m,"Error linking program:"+m)}n=n||s.uniforms(g,v),c=c||s.attributes(g,v),g.deleteProgram(v)}(c=c.slice()).sort(d);var y,b=[],I=[],C=[];for(y=0;y<c.length;++y){var x=c[y];if(x.type.indexOf("mat")>=0){for(var B=0|x.type.charAt(x.type.length-1),A=new Array(B),F=0;F<B;++F)A[F]=C.length,I.push(x.name+"["+F+"]"),"number"==typeof x.location?C.push(x.location+F):Array.isArray(x.location)&&x.location.length===B&&"number"==typeof x.location[F]?C.push(0|x.location[F]):C.push(-1);b.push({name:x.name,type:x.type,locations:A})}else b.push({name:x.name,type:x.type,locations:[C.length]}),I.push(x.name),"number"==typeof x.location?C.push(0|x.location):C.push(-1)}var Q=0;for(y=0;y<C.length;++y)if(C[y]<0){for(;C.indexOf(Q)>=0;)Q+=1;C[y]=Q}var w=new Array(n.length);function U(){h.program=o.program(g,h._vref,h._fref,I,C);for(var t=0;t<n.length;++t)w[t]=g.getUniformLocation(h.program,n[t].name)}U(),h._relink=U,h.types={uniforms:a(n),attributes:a(c)},h.attributes=i(g,h,b,C),Object.defineProperty(h,"uniforms",r(g,h,n,w))},e.exports=h},{"./lib/GLError":133,"./lib/create-attributes":134,"./lib/create-uniforms":135,"./lib/reflect":136,"./lib/runtime-reflect":137,"./lib/shader-cache":138}],133:[function(t,e,n){function r(t,e,n){this.shortMessage=e||"",this.longMessage=n||"",this.rawError=t||"",this.message="gl-shader: "+(e||t||"")+(n?"\n"+n:""),this.stack=(new Error).stack}r.prototype=new Error,r.prototype.name="GLError",r.prototype.constructor=r,e.exports=r},{}],134:[function(t,e,n){e.exports=c;var r=t("./GLError");function i(t,e,n,r,i,a){this._gl=t,this._wrapper=e,this._index=n,this._locations=r,this._dimension=i,this._constFunc=a}var a=i.prototype;a.pointer=function(t,e,n,r){var i=this,a=i._gl,o=i._locations[i._index];a.vertexAttribPointer(o,i._dimension,t||a.FLOAT,!!e,n||0,r||0),a.enableVertexAttribArray(o)},a.set=function(t,e,n,r){return this._constFunc(this._locations[this._index],t,e,n,r)},Object.defineProperty(a,"location",{get:function(){return this._locations[this._index]},set:function(t){return t!==this._locations[this._index]&&(this._locations[this._index]=0|t,this._wrapper.program=null),0|t}});var o=[function(t,e,n){return void 0===n.length?t.vertexAttrib1f(e,n):t.vertexAttrib1fv(e,n)},function(t,e,n,r){return void 0===n.length?t.vertexAttrib2f(e,n,r):t.vertexAttrib2fv(e,n)},function(t,e,n,r,i){return void 0===n.length?t.vertexAttrib3f(e,n,r,i):t.vertexAttrib3fv(e,n)},function(t,e,n,r,i,a){return void 0===n.length?t.vertexAttrib4f(e,n,r,i,a):t.vertexAttrib4fv(e,n)}];function s(t,e,n,r,a,s,l){var c=o[a],u=new i(t,e,n,r,a,c);Object.defineProperty(s,l,{set:function(e){return t.disableVertexAttribArray(r[n]),c(t,r[n],e),e},get:function(){return u},enumerable:!0})}function l(t,e,n,r,i,a,o){for(var l=new Array(i),c=new Array(i),u=0;u<i;++u)s(t,e,n[u],r,i,l,u),c[u]=l[u];Object.defineProperty(l,"location",{set:function(t){if(Array.isArray(t))for(var e=0;e<i;++e)c[e].location=t[e];else for(e=0;e<i;++e)c[e].location=t+e;return t},get:function(){for(var t=new Array(i),e=0;e<i;++e)t[e]=r[n[e]];return t},enumerable:!0}),l.pointer=function(e,a,o,s){e=e||t.FLOAT,a=!!a,o=o||i*i,s=s||0;for(var l=0;l<i;++l){var c=r[n[l]];t.vertexAttribPointer(c,i,e,a,o,s+l*i),t.enableVertexAttribArray(c)}};var d=new Array(i),h=t["vertexAttrib"+i+"fv"];Object.defineProperty(a,o,{set:function(e){for(var a=0;a<i;++a){var o=r[n[a]];if(t.disableVertexAttribArray(o),Array.isArray(e[0]))h.call(t,o,e[a]);else{for(var s=0;s<i;++s)d[s]=e[i*a+s];h.call(t,o,d)}}return e},get:function(){return l},enumerable:!0})}function c(t,e,n,i){for(var a={},o=0,c=n.length;o<c;++o){var u=n[o],d=u.name,h=u.type,g=u.locations;switch(h){case"bool":case"int":case"float":s(t,e,g[0],i,1,a,d);break;default:if(h.indexOf("vec")>=0){if((f=h.charCodeAt(h.length-1)-48)<2||f>4)throw new r("","Invalid data type for attribute "+d+": "+h);s(t,e,g[0],i,f,a,d)}else{if(!(h.indexOf("mat")>=0))throw new r("","Unknown data type for attribute "+d+": "+h);var f;if((f=h.charCodeAt(h.length-1)-48)<2||f>4)throw new r("","Invalid data type for attribute "+d+": "+h);l(t,e,g,i,f,a,d)}}}return a}},{"./GLError":133}],135:[function(t,e,n){var r=t("./reflect"),i=t("./GLError");function a(t){return function(){return t}}function s(t,e){for(var n=new Array(t),r=0;r<t;++r)n[r]=e;return n}function l(t,e,n,l){function c(t){return function(e,n,r){return e.getUniform(n.program,r[t])}}function u(e){return function(r){for(var a=d("",e),o=0;o<a.length;++o){var s=a[o],c=s[0],u=s[1];if(l[u]){var h=r;if("string"==typeof c&&(0===c.indexOf(".")||0===c.indexOf("["))){var g=c;if(0===c.indexOf(".")&&(g=c.slice(1)),g.indexOf("]")===g.length-1){var f=g.indexOf("["),p=g.slice(0,f),v=g.slice(f+1,g.length-1);h=p?r[p][v]:r[v]}else h=r[g]}var m,y=n[u].type;switch(y){case"bool":case"int":case"sampler2D":case"samplerCube":t.uniform1i(l[u],h);break;case"float":t.uniform1f(l[u],h);break;default:var b=y.indexOf("vec");if(!(0<=b&&b<=1&&y.length===4+b)){if(0===y.indexOf("mat")&&4===y.length){if((m=y.charCodeAt(y.length-1)-48)<2||m>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+y);t["uniformMatrix"+m+"fv"](l[u],!1,h);break}throw new i("","Unknown uniform data type for "+name+": "+y)}if((m=y.charCodeAt(y.length-1)-48)<2||m>4)throw new i("","Invalid data type");switch(y.charAt(0)){case"b":case"i":t["uniform"+m+"iv"](l[u],h);break;case"v":t["uniform"+m+"fv"](l[u],h);break;default:throw new i("","Unrecognized data type for vector "+name+": "+y)}}}}}}function d(t,e){if("object"!==o(e))return[[t,e]];var n=[];for(var r in e){var i=e[r],a=t;parseInt(r)+""===r?a+="["+r+"]":a+="."+r,"object"===o(i)?n.push.apply(n,d(a,i)):n.push([a,i])}return n}function h(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var e=t.indexOf("vec");if(0<=e&&e<=1&&t.length===4+e){if((n=t.charCodeAt(t.length-1)-48)<2||n>4)throw new i("","Invalid data type");return"b"===t.charAt(0)?s(n,!1):s(n,0)}if(0===t.indexOf("mat")&&4===t.length){var n;if((n=t.charCodeAt(t.length-1)-48)<2||n>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+t);return s(n*n,0)}throw new i("","Unknown uniform data type for "+name+": "+t)}}function g(t,e,r){if("object"===o(r)){var i=f(r);Object.defineProperty(t,e,{get:a(i),set:u(r),enumerable:!0,configurable:!1})}else l[r]?Object.defineProperty(t,e,{get:c(r),set:u(r),enumerable:!0,configurable:!1}):t[e]=h(n[r].type)}function f(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var n=0;n<t.length;++n)g(e,n,t[n])}else for(var r in e={},t)g(e,r,t[r]);return e}var p=r(n,!0);return{get:a(f(p)),set:u(p),enumerable:!0,configurable:!0}}e.exports=l},{"./GLError":133,"./reflect":136}],136:[function(t,e,n){function r(t,e){for(var n={},r=0;r<t.length;++r)for(var i=t[r].name.split("."),a=n,o=0;o<i.length;++o){var s=i[o].split("[");if(s.length>1){s[0]in a||(a[s[0]]=[]),a=a[s[0]];for(var l=1;l<s.length;++l){var c=parseInt(s[l]);l<s.length-1||o<i.length-1?(c in a||(l<s.length-1?a[c]=[]:a[c]={}),a=a[c]):a[c]=e?r:t[r].type}}else o<i.length-1?(s[0]in a||(a[s[0]]={}),a=a[s[0]]):a[s[0]]=e?r:t[r].type}return n}e.exports=r},{}],137:[function(t,e,n){n.uniforms=o,n.attributes=s;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},i=null;function a(t,e){if(!i){var n=Object.keys(r);i={};for(var a=0;a<n.length;++a){var o=n[a];i[t[o]]=r[o]}}return i[e]}function o(t,e){for(var n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),r=[],i=0;i<n;++i){var o=t.getActiveUniform(e,i);if(o){var s=a(t,o.type);if(o.size>1)for(var l=0;l<o.size;++l)r.push({name:o.name.replace("[0]","["+l+"]"),type:s});else r.push({name:o.name,type:s})}}return r}function s(t,e){for(var n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),r=[],i=0;i<n;++i){var o=t.getActiveAttrib(e,i);o&&r.push({name:o.name,type:a(t,o.type)})}return r}},{}],138:[function(t,e,n){n.shader=g,n.program=f;var r=t("./GLError"),i=t("gl-format-compiler-error"),a=new("undefined"==typeof WeakMap?t("weakmap-shim"):WeakMap),o=0;function s(t,e,n,r,i,a,o){this.id=t,this.src=e,this.type=n,this.shader=r,this.count=a,this.programs=[],this.cache=o}function l(t){this.gl=t,this.shaders=[{},{}],this.programs={}}s.prototype.dispose=function(){if(0==--this.count){for(var t=this.cache,e=t.gl,n=this.programs,r=0,i=n.length;r<i;++r){var a=t.programs[n[r]];a&&(delete t.programs[r],e.deleteProgram(a))}e.deleteShader(this.shader),delete t.shaders[this.type===e.FRAGMENT_SHADER|0][this.src]}};var c=l.prototype;function u(t,e,n){var a=t.createShader(e);if(t.shaderSource(a,n),t.compileShader(a),!t.getShaderParameter(a,t.COMPILE_STATUS)){var o=t.getShaderInfoLog(a);try{var s=i(o,n,e)}catch(t){throw console.warn("Failed to format compiler error: "+t),new r(o,"Error compiling shader:\n"+o)}throw new r(o,s.short,s.long)}return a}function d(t,e,n,i,a){var o=t.createProgram();t.attachShader(o,e),t.attachShader(o,n);for(var s=0;s<i.length;++s)t.bindAttribLocation(o,a[s],i[s]);if(t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS)){var l=t.getProgramInfoLog(o);throw new r(l,"Error linking program: "+l)}return o}function h(t){var e=a.get(t);return e||(e=new l(t),a.set(t,e)),e}function g(t,e,n){return h(t).getShaderReference(e,n)}function f(t,e,n,r,i){return h(t).getProgram(e,n,r,i)}c.getShaderReference=function(t,e){var n=this.gl,r=this.shaders[t===n.FRAGMENT_SHADER|0],i=r[e];if(i&&n.isShader(i.shader))i.count+=1;else{var a=u(n,t,e);i=r[e]=new s(o++,e,t,a,[],1,this)}return i},c.getProgram=function(t,e,n,r){var i=[t.id,e.id,n.join(":"),r.join(":")].join("@"),a=this.programs[i];return a&&this.gl.isProgram(a)||(this.programs[i]=a=d(this.gl,t.shader,e.shader,n,r),t.programs.push(i),e.programs.push(i)),a}},{"./GLError":133,"gl-format-compiler-error":87,"weakmap-shim":316}],139:[function(t,e,n){function r(t){this.plot=t,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}e.exports=a;var i=r.prototype;function a(t,e){var n=new r(t);return n.update(e),t.addOverlay(n),n}i.update=function(t){t=t||{},this.enable=(t.enable||[!0,!0,!1,!1]).slice(),this.width=(t.width||[1,1,1,1]).slice(),this.color=(t.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map((function(t){return t.slice()})),this.center=(t.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},i.draw=function(){var t=this.enable,e=this.width,n=this.color,r=this.center,i=this.plot,a=i.line,o=i.dataBox,s=i.viewBox;if(a.bind(),o[0]<=r[0]&&r[0]<=o[2]&&o[1]<=r[1]&&r[1]<=o[3]){var l=s[0]+(r[0]-o[0])/(o[2]-o[0])*(s[2]-s[0]),c=s[1]+(r[1]-o[1])/(o[3]-o[1])*(s[3]-s[1]);t[0]&&a.drawLine(l,c,s[0],c,e[0],n[0]),t[1]&&a.drawLine(l,c,l,s[1],e[1],n[1]),t[2]&&a.drawLine(l,c,s[2],c,e[2],n[2]),t[3]&&a.drawLine(l,c,l,s[3],e[3],n[3])}},i.dispose=function(){this.plot.removeOverlay(this)}},{}],140:[function(t,e,n){var r=t("glslify"),i=t("gl-shader"),a=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),o=r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);e.exports=function(t){return i(t,a,o,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},{"gl-shader":132,glslify:231}],141:[function(t,e,n){var r=t("gl-buffer"),i=t("gl-vao"),a=t("./shaders/index");e.exports=h;var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(t,e,n,r){this.gl=t,this.buffer=e,this.vao=n,this.shader=r,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=s.prototype,c=[0,0,0],u=[0,0,0],d=[0,0];function h(t,e){var n=[];function o(t,e,r,i,a,o){var s=[t,e,r,0,0,0,1];s[i+3]=1,s[i]=a,n.push.apply(n,s),s[6]=-1,n.push.apply(n,s),s[i]=o,n.push.apply(n,s),n.push.apply(n,s),s[6]=1,n.push.apply(n,s),s[i]=a,n.push.apply(n,s)}o(0,0,0,0,0,1),o(0,0,0,1,0,1),o(0,0,0,2,0,1),o(1,0,0,1,-1,1),o(1,0,0,2,-1,1),o(0,1,0,0,-1,1),o(0,1,0,2,-1,1),o(0,0,1,0,-1,1),o(0,0,1,1,-1,1);var l=r(t,n),c=i(t,[{type:t.FLOAT,buffer:l,size:3,offset:0,stride:28},{type:t.FLOAT,buffer:l,size:3,offset:12,stride:28},{type:t.FLOAT,buffer:l,size:1,offset:24,stride:28}]),u=a(t);u.attributes.position.location=0,u.attributes.color.location=1,u.attributes.weight.location=2;var d=new s(t,l,c,u);return d.update(e),d}l.isTransparent=function(){return!1},l.drawTransparent=function(t){},l.draw=function(t){var e=this.gl,n=this.vao,r=this.shader;n.bind(),r.bind();var i,a=t.model||o,s=t.view||o,l=t.projection||o;this.axes&&(i=this.axes.lastCubeProps.axis);for(var h=c,g=u,f=0;f<3;++f)i&&i[f]<0?(h[f]=this.bounds[0][f],g[f]=this.bounds[1][f]):(h[f]=this.bounds[1][f],g[f]=this.bounds[0][f]);for(d[0]=e.drawingBufferWidth,d[1]=e.drawingBufferHeight,r.uniforms.model=a,r.uniforms.view=s,r.uniforms.projection=l,r.uniforms.coordinates=[this.position,h,g],r.uniforms.colors=this.colors,r.uniforms.screenShape=d,f=0;f<3;++f)r.uniforms.lineWidth=this.lineWidth[f]*this.pixelRatio,this.enabled[f]&&(n.draw(e.TRIANGLES,6,6*f),this.drawSides[f]&&n.draw(e.TRIANGLES,12,18+12*f));n.unbind()},l.update=function(t){t&&("bounds"in t&&(this.bounds=t.bounds),"position"in t&&(this.position=t.position),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"colors"in t&&(this.colors=t.colors),"enabled"in t&&(this.enabled=t.enabled),"drawSides"in t&&(this.drawSides=t.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},{"./shaders/index":140,"gl-buffer":78,"gl-vao":150}],142:[function(t,e,n){var r=t("glslify"),i=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, tubeScale;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),a=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),o=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * view * tubePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);n.meshShader={vertex:i,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},n.pickShader={vertex:o,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},{glslify:231}],143:[function(t,e,n){var r=t("gl-vec3"),i=t("gl-vec4"),a=["xyz","xzy","yxz","yzx","zxy","zyx"],o=function(t,e,n,a){for(var o=t.points,s=t.velocities,l=t.divergences,c=[],u=[],d=[],h=[],g=[],f=[],p=0,v=0,m=i.create(),y=i.create(),b=8,I=0;I<o.length;I++){var C=o[I],x=s[I],B=l[I];0===e&&(B=.05*n),v=r.length(x)/a,m=i.create(),r.copy(m,x),m[3]=B;for(var A=0;A<b;A++)g[A]=[C[0],C[1],C[2],A];if(h.length>0)for(A=0;A<b;A++){var F=(A+1)%b;c.push(h[A],g[A],g[F],g[F],h[F],h[A]),d.push(y,m,m,m,y,y),f.push(p,v,v,v,p,p);var Q=c.length;u.push([Q-6,Q-5,Q-4],[Q-3,Q-2,Q-1])}var w=h;h=g,g=w;var U=y;y=m,m=U;var G=p;p=v,v=G}return{positions:c,cells:u,vectors:d,vertexIntensity:f}},s=function(t,e,n,i){for(var a=0,s=0;s<t.length;s++)for(var l=t[s].velocities,c=0;c<l.length;c++)a=Math.max(a,r.length(l[c]));var u=t.map((function(t){return o(t,n,i,a)})),d=[],h=[],g=[],f=[];for(s=0;s<u.length;s++){var p=u[s],v=d.length;for(d=d.concat(p.positions),g=g.concat(p.vectors),f=f.concat(p.vertexIntensity),c=0;c<p.cells.length;c++){var m=p.cells[c],y=[];h.push(y);for(var b=0;b<m.length;b++)y.push(m[b]+v)}}return{positions:d,cells:h,vectors:g,vertexIntensity:f,colormap:e}},l=function(t,e){var n,r=t.length;for(n=0;n<r;n++){var i=t[n];if(i===e)return n;if(i>e)return n-1}return n},c=function(t,e,n){return t<e?e:t>n?n:t},u=function(t,e,n){var i=e.vectors,a=e.meshgrid,o=t[0],s=t[1],u=t[2],d=a[0].length,h=a[1].length,g=a[2].length,f=l(a[0],o),p=l(a[1],s),v=l(a[2],u),m=f+1,y=p+1,b=v+1;if(f=c(f,0,d-1),m=c(m,0,d-1),p=c(p,0,h-1),y=c(y,0,h-1),v=c(v,0,g-1),b=c(b,0,g-1),f<0||p<0||v<0||m>d-1||y>h-1||b>g-1)return r.create();var I,C,x,B,A,F,Q=a[0][f],w=a[0][m],U=a[1][p],G=a[1][y],R=a[2][v],S=(o-Q)/(w-Q),L=(s-U)/(G-U),_=(u-R)/(a[2][b]-R);switch(isFinite(S)||(S=.5),isFinite(L)||(L=.5),isFinite(_)||(_=.5),n.reversedX&&(f=d-1-f,m=d-1-m),n.reversedY&&(p=h-1-p,y=h-1-y),n.reversedZ&&(v=g-1-v,b=g-1-b),n.filled){case 5:A=v,F=b,x=p*g,B=y*g,I=f*g*h,C=m*g*h;break;case 4:A=v,F=b,I=f*g,C=m*g,x=p*g*d,B=y*g*d;break;case 3:x=p,B=y,A=v*h,F=b*h,I=f*h*g,C=m*h*g;break;case 2:x=p,B=y,I=f*h,C=m*h,A=v*h*d,F=b*h*d;break;case 1:I=f,C=m,A=v*d,F=b*d,x=p*d*g,B=y*d*g;break;default:I=f,C=m,x=p*d,B=y*d,A=v*d*h,F=b*d*h}var E=i[I+x+A],k=i[I+x+F],V=i[I+B+A],Z=i[I+B+F],N=i[C+x+A],T=i[C+x+F],X=i[C+B+A],W=i[C+B+F],M=r.create(),H=r.create(),D=r.create(),Y=r.create();r.lerp(M,E,N,S),r.lerp(H,k,T,S),r.lerp(D,V,X,S),r.lerp(Y,Z,W,S);var O=r.create(),z=r.create();r.lerp(O,M,D,L),r.lerp(z,H,Y,L);var J=r.create();return r.lerp(J,O,z,_),J},d=function(t){var e=1/0;t.sort((function(t,e){return t-e}));for(var n=t.length,r=1;r<n;r++){var i=Math.abs(t[r]-t[r-1]);i<e&&(e=i)}return e},h=function(t){for(var e=[],n=[],r=[],i={},a={},o={},s=t.length,l=0;l<s;l++){var c=t[l],u=c[0],h=c[1],g=c[2];i[u]||(e.push(u),i[u]=!0),a[h]||(n.push(h),a[h]=!0),o[g]||(r.push(g),o[g]=!0)}var f=d(e),p=d(n),v=d(r),m=Math.min(f,p,v);return isFinite(m)?m:1};e.exports=function(t,e){var n=t.startingPositions,i=t.maxLength||1e3,o=t.tubeSize||1,l=t.absoluteTubeSize,c=t.gridFill||"+x+y+z",d={};-1!==c.indexOf("-x")&&(d.reversedX=!0),-1!==c.indexOf("-y")&&(d.reversedY=!0),-1!==c.indexOf("-z")&&(d.reversedZ=!0),d.filled=a.indexOf(c.replace(/-/g,"").replace(/\+/g,""));var g=t.getVelocity||function(e){return u(e,t,d)},f=t.getDivergence||function(t,e){var n=r.create(),i=1e-4;r.add(n,t,[i,0,0]);var a=g(n);r.subtract(a,a,e),r.scale(a,a,1/i),r.add(n,t,[0,i,0]);var o=g(n);r.subtract(o,o,e),r.scale(o,o,1/i),r.add(n,t,[0,0,i]);var s=g(n);return r.subtract(s,s,e),r.scale(s,s,1/i),r.add(n,a,o),r.add(n,n,s),n},p=[],v=e[0][0],m=e[0][1],y=e[0][2],b=e[1][0],I=e[1][1],C=e[1][2],x=function(t){var e=t[0],n=t[1],r=t[2];return!(e<v||e>b||n<m||n>I||r<y||r>C)},B=10*r.distance(e[0],e[1])/i,A=B*B,F=1,Q=0,w=n.length;w>1&&(F=h(n));for(var U=0;U<w;U++){var G=r.create();r.copy(G,n[U]);var R=[G],S=[],L=g(G),_=G;S.push(L);var E=[],k=f(G,L),V=r.length(k);isFinite(V)&&V>Q&&(Q=V),E.push(V),p.push({points:R,velocities:S,divergences:E});for(var Z=0;Z<100*i&&R.length<i&&x(G);){Z++;var N=r.clone(L),T=r.squaredLength(N);if(0===T)break;T>A&&r.scale(N,N,B/Math.sqrt(T)),r.add(N,N,G),L=g(N),r.squaredDistance(_,N)-A>-1e-4*A&&(R.push(N),_=N,S.push(L),k=f(N,L),V=r.length(k),isFinite(V)&&V>Q&&(Q=V),E.push(V)),G=N}}var X=s(p,t.colormap,Q,F);return l?X.tubeScale=l:(0===Q&&(Q=1),X.tubeScale=.5*o*F/Q),X};var g=t("./lib/shaders"),f=t("gl-cone3d").createMesh;e.exports.createTubeMesh=function(t,e){return f(t,e,{shaders:g,traceType:"streamtube"})}},{"./lib/shaders":142,"gl-cone3d":79,"gl-vec3":169,"gl-vec4":205}],144:[function(t,e,n){var r=t("gl-shader"),i=t("glslify"),a=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),o=i(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (\n    kill > 0.0 ||\n    vColor.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\n  ) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color — in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),s=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),l=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);n.createShader=function(t){var e=r(t,a,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e.attributes.normal.location=2,e},n.createPickShader=function(t){var e=r(t,a,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e.attributes.normal.location=2,e},n.createContourShader=function(t){var e=r(t,s,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e},n.createPickContourShader=function(t){var e=r(t,s,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e}},{"gl-shader":132,glslify:231}],145:[function(t,e,n){e.exports=M;var r=t("bit-twiddle"),i=t("gl-buffer"),a=t("gl-vao"),o=t("gl-texture2d"),s=t("typedarray-pool"),l=t("colormap"),c=t("ndarray-ops"),u=t("ndarray-pack"),d=t("ndarray"),h=t("surface-nets"),g=t("gl-mat4/multiply"),f=t("gl-mat4/invert"),p=t("binary-search-bounds"),v=t("ndarray-gradient"),m=t("./lib/shaders"),y=m.createShader,b=m.createContourShader,I=m.createPickShader,C=m.createPickContourShader,x=40,B=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],A=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],F=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function Q(t,e,n,r,i){this.position=t,this.index=e,this.uv=n,this.level=r,this.dataCoordinate=i}!function(){for(var t=0;t<3;++t){var e=F[t],n=(t+2)%3;e[(t+1)%3+0]=1,e[n+3]=1,e[t+6]=1}}();var w=256;function U(t,e,n,r,i,a,o,l,c,u,h,g,f,p,v){this.gl=t,this.shape=e,this.bounds=n,this.objectOffset=v,this.intensityBounds=[],this._shader=r,this._pickShader=i,this._coordinateBuffer=a,this._vao=o,this._colorMap=l,this._contourShader=c,this._contourPickShader=u,this._contourBuffer=h,this._contourVAO=g,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new Q([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=f,this._dynamicVAO=p,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[d(s.mallocFloat(1024),[0,0]),d(s.mallocFloat(1024),[0,0]),d(s.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var G=U.prototype;function R(t,e){if(!e)return 1;if(!e.length)return 1;for(var n=0;n<e.length;++n){if(e.length<2)return 1;if(e[n][0]===t)return e[n][1];if(e[n][0]>t&&n>0){var r=(e[n][0]-t)/(e[n][0]-e[n-1][0]);return e[n][1]*(1-r)+r*e[n-1][1]}}return 1}G.genColormap=function(t,e){var n=!1,r=u([l({colormap:t,nshades:w,format:"rgba"}).map((function(t,r){var i=e?R(r/255,e):t[3];return i<1&&(n=!0),[t[0],t[1],t[2],255*i]}))]);return c.divseq(r,255),this.hasAlphaScale=n,r},G.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},G.isOpaque=function(){return!this.isTransparent()},G.pickSlots=1,G.setPickBase=function(t){this.pickId=t};var S=[0,0,0],L={showSurface:!1,showContour:!1,projections:[B.slice(),B.slice(),B.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function _(t,e){var n,r,i,a=e.axes&&e.axes.lastCubeProps.axis||S,o=e.showSurface,s=e.showContour;for(n=0;n<3;++n)for(o=o||e.surfaceProject[n],r=0;r<3;++r)s=s||e.contourProject[n][r];for(n=0;n<3;++n){var l=L.projections[n];for(r=0;r<16;++r)l[r]=0;for(r=0;r<4;++r)l[5*r]=1;l[5*n]=0,l[12+n]=e.axesBounds[+(a[n]>0)][n],g(l,t.model,l);var c=L.clipBounds[n];for(i=0;i<2;++i)for(r=0;r<3;++r)c[i][r]=t.clipBounds[i][r];c[0][n]=-1e8,c[1][n]=1e8}return L.showSurface=o,L.showContour=s,L}var E={model:B,view:B,projection:B,inverseModel:B.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},k=B.slice(),V=[1,0,0,0,1,0,0,0,1];function Z(t,e){t=t||{};var n=this.gl;n.disable(n.CULL_FACE),this._colorMap.bind(0);var r=E;r.model=t.model||B,r.view=t.view||B,r.projection=t.projection||B,r.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],r.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],r.objectOffset=this.objectOffset,r.contourColor=this.contourColor[0],r.inverseModel=f(r.inverseModel,r.model);for(var i=0;i<2;++i)for(var a=r.clipBounds[i],o=0;o<3;++o)a[o]=Math.min(Math.max(this.clipBounds[i][o],-1e8),1e8);r.kambient=this.ambientLight,r.kdiffuse=this.diffuseLight,r.kspecular=this.specularLight,r.roughness=this.roughness,r.fresnel=this.fresnel,r.opacity=this.opacity,r.height=0,r.permutation=V,r.vertexColor=this.vertexColor;var s=k;for(g(s,r.view,r.model),g(s,r.projection,s),f(s,s),i=0;i<3;++i)r.eyePosition[i]=s[12+i]/s[15];var l=s[15];for(i=0;i<3;++i)l+=this.lightPosition[i]*s[4*i+3];for(i=0;i<3;++i){var c=s[12+i];for(o=0;o<3;++o)c+=s[4*o+i]*this.lightPosition[o];r.lightPosition[i]=c/l}var u=_(r,this);if(u.showSurface){for(this._shader.bind(),this._shader.uniforms=r,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(n.TRIANGLES,this._vertexCount),i=0;i<3;++i)this.surfaceProject[i]&&this.vertexCount&&(this._shader.uniforms.model=u.projections[i],this._shader.uniforms.clipBounds=u.clipBounds[i],this._vao.draw(n.TRIANGLES,this._vertexCount));this._vao.unbind()}if(u.showContour){var d=this._contourShader;r.kambient=1,r.kdiffuse=0,r.kspecular=0,r.opacity=1,d.bind(),d.uniforms=r;var h=this._contourVAO;for(h.bind(),i=0;i<3;++i)for(d.uniforms.permutation=F[i],n.lineWidth(this.contourWidth[i]*this.pixelRatio),o=0;o<this.contourLevels[i].length;++o)o===this.highlightLevel[i]?(d.uniforms.contourColor=this.highlightColor[i],d.uniforms.contourTint=this.highlightTint[i]):0!==o&&o-1!==this.highlightLevel[i]||(d.uniforms.contourColor=this.contourColor[i],d.uniforms.contourTint=this.contourTint[i]),this._contourCounts[i][o]&&(d.uniforms.height=this.contourLevels[i][o],h.draw(n.LINES,this._contourCounts[i][o],this._contourOffsets[i][o]));for(i=0;i<3;++i)for(d.uniforms.model=u.projections[i],d.uniforms.clipBounds=u.clipBounds[i],o=0;o<3;++o)if(this.contourProject[i][o]){d.uniforms.permutation=F[o],n.lineWidth(this.contourWidth[o]*this.pixelRatio);for(var p=0;p<this.contourLevels[o].length;++p)p===this.highlightLevel[o]?(d.uniforms.contourColor=this.highlightColor[o],d.uniforms.contourTint=this.highlightTint[o]):0!==p&&p-1!==this.highlightLevel[o]||(d.uniforms.contourColor=this.contourColor[o],d.uniforms.contourTint=this.contourTint[o]),this._contourCounts[o][p]&&(d.uniforms.height=this.contourLevels[o][p],h.draw(n.LINES,this._contourCounts[o][p],this._contourOffsets[o][p]))}for(h.unbind(),(h=this._dynamicVAO).bind(),i=0;i<3;++i)if(0!==this._dynamicCounts[i])for(d.uniforms.model=r.model,d.uniforms.clipBounds=r.clipBounds,d.uniforms.permutation=F[i],n.lineWidth(this.dynamicWidth[i]*this.pixelRatio),d.uniforms.contourColor=this.dynamicColor[i],d.uniforms.contourTint=this.dynamicTint[i],d.uniforms.height=this.dynamicLevel[i],h.draw(n.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]),o=0;o<3;++o)this.contourProject[o][i]&&(d.uniforms.model=u.projections[o],d.uniforms.clipBounds=u.clipBounds[o],h.draw(n.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]));h.unbind()}}G.draw=function(t){return Z.call(this,t,!1)},G.drawTransparent=function(t){return Z.call(this,t,!0)};var N={model:B,view:B,projection:B,inverseModel:B,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function T(t,e){return Array.isArray(t)?[e(t[0]),e(t[1]),e(t[2])]:[e(t),e(t),e(t)]}function X(t){return Array.isArray(t)?3===t.length?[t[0],t[1],t[2],1]:[t[0],t[1],t[2],t[3]]:[0,0,0,1]}function W(t){if(Array.isArray(t)){if(Array.isArray(t))return[X(t[0]),X(t[1]),X(t[2])];var e=X(t);return[e.slice(),e.slice(),e.slice()]}}function M(t){var e=t.gl,n=y(e),r=I(e),s=b(e),l=C(e),c=i(e),u=a(e,[{buffer:c,size:4,stride:x,offset:0},{buffer:c,size:3,stride:x,offset:16},{buffer:c,size:3,stride:x,offset:28}]),d=i(e),h=a(e,[{buffer:d,size:4,stride:20,offset:0},{buffer:d,size:1,stride:20,offset:16}]),g=i(e),f=a(e,[{buffer:g,size:2,type:e.FLOAT}]),p=o(e,1,w,e.RGBA,e.UNSIGNED_BYTE);p.minFilter=e.LINEAR,p.magFilter=e.LINEAR;var v=new U(e,[0,0],[[0,0,0],[0,0,0]],n,r,c,u,p,s,l,d,h,g,f,[0,0,0]),m={levels:[[],[],[]]};for(var B in t)m[B]=t[B];return m.colormap=m.colormap||"jet",v.update(m),v}G.drawPick=function(t){t=t||{};var e=this.gl;e.disable(e.CULL_FACE);var n=N;n.model=t.model||B,n.view=t.view||B,n.projection=t.projection||B,n.shape=this._field[2].shape,n.pickId=this.pickId/255,n.lowerBound=this.bounds[0],n.upperBound=this.bounds[1],n.objectOffset=this.objectOffset,n.permutation=V;for(var r=0;r<2;++r)for(var i=n.clipBounds[r],a=0;a<3;++a)i[a]=Math.min(Math.max(this.clipBounds[r][a],-1e8),1e8);var o=_(n,this);if(o.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=n,this._vao.bind(),this._vao.draw(e.TRIANGLES,this._vertexCount),r=0;r<3;++r)this.surfaceProject[r]&&(this._pickShader.uniforms.model=o.projections[r],this._pickShader.uniforms.clipBounds=o.clipBounds[r],this._vao.draw(e.TRIANGLES,this._vertexCount));this._vao.unbind()}if(o.showContour){var s=this._contourPickShader;s.bind(),s.uniforms=n;var l=this._contourVAO;for(l.bind(),a=0;a<3;++a)for(e.lineWidth(this.contourWidth[a]*this.pixelRatio),s.uniforms.permutation=F[a],r=0;r<this.contourLevels[a].length;++r)this._contourCounts[a][r]&&(s.uniforms.height=this.contourLevels[a][r],l.draw(e.LINES,this._contourCounts[a][r],this._contourOffsets[a][r]));for(r=0;r<3;++r)for(s.uniforms.model=o.projections[r],s.uniforms.clipBounds=o.clipBounds[r],a=0;a<3;++a)if(this.contourProject[r][a]){s.uniforms.permutation=F[a],e.lineWidth(this.contourWidth[a]*this.pixelRatio);for(var c=0;c<this.contourLevels[a].length;++c)this._contourCounts[a][c]&&(s.uniforms.height=this.contourLevels[a][c],l.draw(e.LINES,this._contourCounts[a][c],this._contourOffsets[a][c]))}l.unbind()}},G.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=this._field[2].shape,n=this._pickResult,r=e[0]*(t.value[0]+(t.value[2]>>4)/16)/255,i=Math.floor(r),a=r-i,o=e[1]*(t.value[1]+(15&t.value[2])/16)/255,s=Math.floor(o),l=o-s;i+=1,s+=1;var c=n.position;c[0]=c[1]=c[2]=0;for(var u=0;u<2;++u)for(var d=u?a:1-a,h=0;h<2;++h)for(var g=i+u,f=s+h,v=d*(h?l:1-l),m=0;m<3;++m)c[m]+=this._field[m].get(g,f)*v;for(var y=this._pickResult.level,b=0;b<3;++b)if(y[b]=p.le(this.contourLevels[b],c[b]),y[b]<0)this.contourLevels[b].length>0&&(y[b]=0);else if(y[b]<this.contourLevels[b].length-1){var I=this.contourLevels[b][y[b]],C=this.contourLevels[b][y[b]+1];Math.abs(I-c[b])>Math.abs(C-c[b])&&(y[b]+=1)}for(n.index[0]=a<.5?i:i+1,n.index[1]=l<.5?s:s+1,n.uv[0]=r/e[0],n.uv[1]=o/e[1],m=0;m<3;++m)n.dataCoordinate[m]=this._field[m].get(n.index[0],n.index[1]);return n},G.padField=function(t,e){var n=e.shape.slice(),r=t.shape.slice();c.assign(t.lo(1,1).hi(n[0],n[1]),e),c.assign(t.lo(1).hi(n[0],1),e.hi(n[0],1)),c.assign(t.lo(1,r[1]-1).hi(n[0],1),e.lo(0,n[1]-1).hi(n[0],1)),c.assign(t.lo(0,1).hi(1,n[1]),e.hi(1)),c.assign(t.lo(r[0]-1,1).hi(1,n[1]),e.lo(n[0]-1)),t.set(0,0,e.get(0,0)),t.set(0,r[1]-1,e.get(0,n[1]-1)),t.set(r[0]-1,0,e.get(n[0]-1,0)),t.set(r[0]-1,r[1]-1,e.get(n[0]-1,n[1]-1))},G.update=function(t){t=t||{},this.objectOffset=t.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in t&&(this.contourWidth=T(t.contourWidth,Number)),"showContour"in t&&(this.showContour=T(t.showContour,Boolean)),"showSurface"in t&&(this.showSurface=!!t.showSurface),"contourTint"in t&&(this.contourTint=T(t.contourTint,Boolean)),"contourColor"in t&&(this.contourColor=W(t.contourColor)),"contourProject"in t&&(this.contourProject=T(t.contourProject,(function(t){return T(t,Boolean)}))),"surfaceProject"in t&&(this.surfaceProject=t.surfaceProject),"dynamicColor"in t&&(this.dynamicColor=W(t.dynamicColor)),"dynamicTint"in t&&(this.dynamicTint=T(t.dynamicTint,Number)),"dynamicWidth"in t&&(this.dynamicWidth=T(t.dynamicWidth,Number)),"opacity"in t&&(this.opacity=t.opacity),"opacityscale"in t&&(this.opacityscale=t.opacityscale),"colorBounds"in t&&(this.colorBounds=t.colorBounds),"vertexColor"in t&&(this.vertexColor=t.vertexColor?1:0),"colormap"in t&&this._colorMap.setPixels(this.genColormap(t.colormap,this.opacityscale));var e=t.field||t.coords&&t.coords[2]||null,n=!1;if(e||(e=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in t||"coords"in t){var i=(e.shape[0]+2)*(e.shape[1]+2);i>this._field[2].data.length&&(s.freeFloat(this._field[2].data),this._field[2].data=s.mallocFloat(r.nextPow2(i))),this._field[2]=d(this._field[2].data,[e.shape[0]+2,e.shape[1]+2]),this.padField(this._field[2],e),this.shape=e.shape.slice();for(var a=this.shape,o=0;o<2;++o)this._field[2].size>this._field[o].data.length&&(s.freeFloat(this._field[o].data),this._field[o].data=s.mallocFloat(this._field[2].size)),this._field[o]=d(this._field[o].data,[a[0]+2,a[1]+2]);if(t.coords){var l=t.coords;if(!Array.isArray(l)||3!==l.length)throw new Error("gl-surface: invalid coordinates for x/y");for(o=0;o<2;++o){var c=l[o];for(m=0;m<2;++m)if(c.shape[m]!==a[m])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[o],c)}}else if(t.ticks){var u=t.ticks;if(!Array.isArray(u)||2!==u.length)throw new Error("gl-surface: invalid ticks");for(o=0;o<2;++o){var g=u[o];if((Array.isArray(g)||g.length)&&(g=d(g)),g.shape[0]!==a[o])throw new Error("gl-surface: invalid tick length");var f=d(g.data,a);f.stride[o]=g.stride[0],f.stride[1^o]=0,this.padField(this._field[o],f)}}else{for(o=0;o<2;++o){var p=[0,0];p[o]=1,this._field[o]=d(this._field[o].data,[a[0]+2,a[1]+2],p,0)}this._field[0].set(0,0,0);for(var m=0;m<a[0];++m)this._field[0].set(m+1,0,m);for(this._field[0].set(a[0]+1,0,a[0]-1),this._field[1].set(0,0,0),m=0;m<a[1];++m)this._field[1].set(0,m+1,m);this._field[1].set(0,a[1]+1,a[1]-1)}var y=this._field,b=d(s.mallocFloat(3*y[2].size*2),[3,a[0]+2,a[1]+2,2]);for(o=0;o<3;++o)v(b.pick(o),y[o],"mirror");var I=d(s.mallocFloat(3*y[2].size),[a[0]+2,a[1]+2,3]);for(o=0;o<a[0]+2;++o)for(m=0;m<a[1]+2;++m){var C=b.get(0,o,m,0),x=b.get(0,o,m,1),B=b.get(1,o,m,0),F=b.get(1,o,m,1),Q=b.get(2,o,m,0),w=b.get(2,o,m,1),U=B*w-F*Q,G=Q*x-w*C,R=C*F-x*B,S=Math.sqrt(U*U+G*G+R*R);S<1e-8?(S=Math.max(Math.abs(U),Math.abs(G),Math.abs(R)))<1e-8?(R=1,G=U=0,S=1):S=1/S:S=1/Math.sqrt(S),I.set(o,m,0,U*S),I.set(o,m,1,G*S),I.set(o,m,2,R*S)}s.free(b.data);var L=[1/0,1/0,1/0],_=[-1/0,-1/0,-1/0],E=1/0,k=-1/0,V=(a[0]-1)*(a[1]-1)*6,Z=s.mallocFloat(r.nextPow2(10*V)),N=0,X=0;for(o=0;o<a[0]-1;++o)t:for(m=0;m<a[1]-1;++m){for(var M=0;M<2;++M)for(var H=0;H<2;++H)for(var D=0;D<3;++D){var Y=this._field[D].get(1+o+M,1+m+H);if(isNaN(Y)||!isFinite(Y))continue t}for(D=0;D<6;++D){var O=o+A[D][0],z=m+A[D][1],J=this._field[0].get(O+1,z+1),j=this._field[1].get(O+1,z+1);Y=this._field[2].get(O+1,z+1),U=I.get(O+1,z+1,0),G=I.get(O+1,z+1,1),R=I.get(O+1,z+1,2),t.intensity&&(P=t.intensity.get(O,z));var P=t.intensity?t.intensity.get(O,z):Y+this.objectOffset[2];Z[N++]=O,Z[N++]=z,Z[N++]=J,Z[N++]=j,Z[N++]=Y,Z[N++]=0,Z[N++]=P,Z[N++]=U,Z[N++]=G,Z[N++]=R,L[0]=Math.min(L[0],J+this.objectOffset[0]),L[1]=Math.min(L[1],j+this.objectOffset[1]),L[2]=Math.min(L[2],Y+this.objectOffset[2]),E=Math.min(E,P),_[0]=Math.max(_[0],J+this.objectOffset[0]),_[1]=Math.max(_[1],j+this.objectOffset[1]),_[2]=Math.max(_[2],Y+this.objectOffset[2]),k=Math.max(k,P),X+=1}}for(t.intensityBounds&&(E=+t.intensityBounds[0],k=+t.intensityBounds[1]),o=6;o<N;o+=10)Z[o]=(Z[o]-E)/(k-E);this._vertexCount=X,this._coordinateBuffer.update(Z.subarray(0,N)),s.freeFloat(Z),s.free(I.data),this.bounds=[L,_],this.intensity=t.intensity||this._field[2],this.intensityBounds[0]===E&&this.intensityBounds[1]===k||(n=!0),this.intensityBounds=[E,k]}if("levels"in t){var K=t.levels;for(K=Array.isArray(K[0])?K.slice():[[],[],K],o=0;o<3;++o)K[o]=K[o].slice(),K[o].sort((function(t,e){return t-e}));for(o=0;o<3;++o)for(m=0;m<K[o].length;++m)K[o][m]-=this.objectOffset[o];t:for(o=0;o<3;++o){if(K[o].length!==this.contourLevels[o].length){n=!0;break}for(m=0;m<K[o].length;++m)if(K[o][m]!==this.contourLevels[o][m]){n=!0;break t}}this.contourLevels=K}if(n){y=this._field,a=this.shape;for(var q=[],$=0;$<3;++$){var tt=this.contourLevels[$],et=[],nt=[],rt=[0,0,0];for(o=0;o<tt.length;++o){var it=h(this._field[$],tt[o]);et.push(q.length/5|0),X=0;t:for(m=0;m<it.cells.length;++m){var at=it.cells[m];for(D=0;D<2;++D){var ot=it.positions[at[D]],st=ot[0],lt=0|Math.floor(st),ct=st-lt,ut=ot[1],dt=0|Math.floor(ut),ht=ut-dt,gt=!1;e:for(var ft=0;ft<3;++ft){rt[ft]=0;var pt=($+ft+1)%3;for(M=0;M<2;++M){var vt=M?ct:1-ct;for(O=0|Math.min(Math.max(lt+M,0),a[0]),H=0;H<2;++H){var mt=H?ht:1-ht;if(z=0|Math.min(Math.max(dt+H,0),a[1]),Y=ft<2?this._field[pt].get(O,z):(this.intensity.get(O,z)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Y)||isNaN(Y)){gt=!0;break e}var yt=vt*mt;rt[ft]+=yt*Y}}}if(gt){if(D>0){for(var bt=0;bt<5;++bt)q.pop();X-=1}continue t}q.push(rt[0],rt[1],ot[0],ot[1],rt[2]),X+=1}}nt.push(X)}this._contourOffsets[$]=et,this._contourCounts[$]=nt}var It=s.mallocFloat(q.length);for(o=0;o<q.length;++o)It[o]=q[o];this._contourBuffer.update(It),s.freeFloat(It)}},G.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var t=0;t<3;++t)s.freeFloat(this._field[t].data)},G.highlight=function(t){var e,n;if(!t)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(e=0;e<3;++e)this.enableHighlight[e]?this.highlightLevel[e]=t.level[e]:this.highlightLevel[e]=-1;for(n=this.snapToData?t.dataCoordinate:t.position,e=0;e<3;++e)n[e]-=this.objectOffset[e];if(this.enableDynamic[0]&&n[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&n[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&n[2]!==this.dynamicLevel[2]){for(var r=0,i=this.shape,a=s.mallocFloat(12*i[0]*i[1]),o=0;o<3;++o)if(this.enableDynamic[o]){this.dynamicLevel[o]=n[o];var l=(o+1)%3,c=(o+2)%3,u=this._field[o],d=this._field[l],g=this._field[c],f=h(u,n[o]),p=f.cells,v=f.positions;for(this._dynamicOffsets[o]=r,e=0;e<p.length;++e)for(var m=p[e],y=0;y<2;++y){var b=v[m[y]],I=+b[0],C=0|I,x=0|Math.min(C+1,i[0]),B=I-C,A=1-B,F=+b[1],Q=0|F,w=0|Math.min(Q+1,i[1]),U=F-Q,G=1-U,R=A*G,S=A*U,L=B*G,_=B*U,E=R*d.get(C,Q)+S*d.get(C,w)+L*d.get(x,Q)+_*d.get(x,w),k=R*g.get(C,Q)+S*g.get(C,w)+L*g.get(x,Q)+_*g.get(x,w);if(isNaN(E)||isNaN(k)){y&&(r-=1);break}a[2*r+0]=E,a[2*r+1]=k,r+=1}this._dynamicCounts[o]=r-this._dynamicOffsets[o]}else this.dynamicLevel[o]=NaN,this._dynamicCounts[o]=0;this._dynamicBuffer.update(a.subarray(0,2*r)),s.freeFloat(a)}}},{"./lib/shaders":144,"binary-search-bounds":31,"bit-twiddle":32,colormap:53,"gl-buffer":78,"gl-mat4/invert":98,"gl-mat4/multiply":100,"gl-texture2d":146,"gl-vao":150,ndarray:259,"ndarray-gradient":252,"ndarray-ops":254,"ndarray-pack":255,"surface-nets":302,"typedarray-pool":308}],146:[function(t,e,n){var r=t("ndarray"),i=t("ndarray-ops"),a=t("typedarray-pool");e.exports=x;var s=null,l=null,c=null;function u(t){s=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],l=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],c=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function d(t){return"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&t instanceof ImageData}var h=function(t,e){i.muls(t,e,255)};function g(t,e,n){var r=t.gl,i=r.getParameter(r.MAX_TEXTURE_SIZE);if(e<0||e>i||n<0||n>i)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[e,n],t.bind(),r.texImage2D(r.TEXTURE_2D,0,t.format,e,n,0,t.format,t.type,null),t._mipLevels=[0],t}function f(t,e,n,r,i,a){this.gl=t,this.handle=e,this.format=i,this.type=a,this._shape=[n,r],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var o=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return o._wrapS},set:function(t){return o.wrapS=t}},{get:function(){return o._wrapT},set:function(t){return o.wrapT=t}}]),this._wrapVector=s;var l=[this._shape[0],this._shape[1]];Object.defineProperties(l,[{get:function(){return o._shape[0]},set:function(t){return o.width=t}},{get:function(){return o._shape[1]},set:function(t){return o.height=t}}]),this._shapeVector=l}var p=f.prototype;function v(t,e){return 3===t.length?1===e[2]&&e[1]===t[0]*t[2]&&e[0]===t[2]:1===e[0]&&e[1]===t[0]}function m(t,e,n,o,s,l,c,u){var d=u.dtype,g=u.shape.slice();if(g.length<2||g.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var f=0,p=0,m=v(g,u.stride.slice());if("float32"===d?f=t.FLOAT:"float64"===d?(f=t.FLOAT,m=!1,d="float32"):"uint8"===d?f=t.UNSIGNED_BYTE:(f=t.UNSIGNED_BYTE,m=!1,d="uint8"),2===g.length)p=t.LUMINANCE,g=[g[0],g[1],1],u=r(u.data,g,[u.stride[0],u.stride[1],1],u.offset);else{if(3!==g.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===g[2])p=t.ALPHA;else if(2===g[2])p=t.LUMINANCE_ALPHA;else if(3===g[2])p=t.RGB;else{if(4!==g[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");p=t.RGBA}}if(p!==t.LUMINANCE&&p!==t.ALPHA||s!==t.LUMINANCE&&s!==t.ALPHA||(p=s),p!==s)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var y=u.size,b=c.indexOf(o)<0;if(b&&c.push(o),f===l&&m)0===u.offset&&u.data.length===y?b?t.texImage2D(t.TEXTURE_2D,o,s,g[0],g[1],0,s,l,u.data):t.texSubImage2D(t.TEXTURE_2D,o,e,n,g[0],g[1],s,l,u.data):b?t.texImage2D(t.TEXTURE_2D,o,s,g[0],g[1],0,s,l,u.data.subarray(u.offset,u.offset+y)):t.texSubImage2D(t.TEXTURE_2D,o,e,n,g[0],g[1],s,l,u.data.subarray(u.offset,u.offset+y));else{var I;I=l===t.FLOAT?a.mallocFloat32(y):a.mallocUint8(y);var C=r(I,g,[g[2],g[2]*g[0],1]);f===t.FLOAT&&l===t.UNSIGNED_BYTE?h(C,u):i.assign(C,u),b?t.texImage2D(t.TEXTURE_2D,o,s,g[0],g[1],0,s,l,I.subarray(0,y)):t.texSubImage2D(t.TEXTURE_2D,o,e,n,g[0],g[1],s,l,I.subarray(0,y)),l===t.FLOAT?a.freeFloat32(I):a.freeUint8(I)}}function y(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e}function b(t,e,n,r,i){var a=t.getParameter(t.MAX_TEXTURE_SIZE);if(e<0||e>a||n<0||n>a)throw new Error("gl-texture2d: Invalid texture shape");if(i===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var o=y(t);return t.texImage2D(t.TEXTURE_2D,0,r,e,n,0,r,i,null),new f(t,o,e,n,r,i)}function I(t,e,n,r,i,a){var o=y(t);return t.texImage2D(t.TEXTURE_2D,0,i,i,a,e),new f(t,o,n,r,i,a)}function C(t,e){var n=e.dtype,o=e.shape.slice(),s=t.getParameter(t.MAX_TEXTURE_SIZE);if(o[0]<0||o[0]>s||o[1]<0||o[1]>s)throw new Error("gl-texture2d: Invalid texture size");var l=v(o,e.stride.slice()),c=0;"float32"===n?c=t.FLOAT:"float64"===n?(c=t.FLOAT,l=!1,n="float32"):"uint8"===n?c=t.UNSIGNED_BYTE:(c=t.UNSIGNED_BYTE,l=!1,n="uint8");var u,d,g=0;if(2===o.length)g=t.LUMINANCE,o=[o[0],o[1],1],e=r(e.data,o,[e.stride[0],e.stride[1],1],e.offset);else{if(3!==o.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===o[2])g=t.ALPHA;else if(2===o[2])g=t.LUMINANCE_ALPHA;else if(3===o[2])g=t.RGB;else{if(4!==o[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");g=t.RGBA}}c!==t.FLOAT||t.getExtension("OES_texture_float")||(c=t.UNSIGNED_BYTE,l=!1);var p=e.size;if(l)u=0===e.offset&&e.data.length===p?e.data:e.data.subarray(e.offset,e.offset+p);else{var m=[o[2],o[2]*o[0],1];d=a.malloc(p,n);var b=r(d,o,m,0);"float32"!==n&&"float64"!==n||c!==t.UNSIGNED_BYTE?i.assign(b,e):h(b,e),u=d.subarray(0,p)}var I=y(t);return t.texImage2D(t.TEXTURE_2D,0,g,o[0],o[1],0,g,c,u),l||a.free(d),new f(t,I,o[0],o[1],g,c)}function x(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(s||u(t),"number"==typeof arguments[1])return b(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return b(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"===o(arguments[1])){var e=arguments[1],n=d(e)?e:e.raw;if(n)return I(t,n,0|e.width,0|e.height,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return C(t,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}Object.defineProperties(p,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&s.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),l.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&s.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),l.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var e=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),e!==this._anisoSamples){var n=this.gl.getExtension("EXT_texture_filter_anisotropic");n&&this.gl.texParameterf(this.gl.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),c.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),c.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var e=0;e<2;++e)if(c.indexOf(t[e])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var n=this.gl;return this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this._wrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return g(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return g(this,t|=0,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t|=0,g(this,this._shape[0],t),t}}}),p.bind=function(t){var e=this.gl;return void 0!==t&&e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(e.TEXTURE_2D,this.handle),void 0!==t?0|t:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},p.dispose=function(){this.gl.deleteTexture(this.handle)},p.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),e=0;t>0;++e,t>>>=1)this._mipLevels.indexOf(e)<0&&this._mipLevels.push(e)},p.setPixels=function(t,e,n,r){var i=this.gl;this.bind(),Array.isArray(e)?(r=n,n=0|e[1],e=0|e[0]):(e=e||0,n=n||0),r=r||0;var a=d(t)?t:t.raw;if(a)this._mipLevels.indexOf(r)<0?(i.texImage2D(i.TEXTURE_2D,0,this.format,this.format,this.type,a),this._mipLevels.push(r)):i.texSubImage2D(i.TEXTURE_2D,r,e,n,this.format,this.type,a);else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||e+t.shape[1]>this._shape[1]>>>r||n+t.shape[0]>this._shape[0]>>>r||e<0||n<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");m(i,e,n,r,this.format,this.type,this._mipLevels,t)}}},{ndarray:259,"ndarray-ops":254,"typedarray-pool":308}],147:[function(t,e,n){function r(t,e,n){e?e.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var r=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(n){if(n.length>r)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<n.length;++i){var a=n[i];if(a.buffer){var o=a.buffer,s=a.size||4,l=a.type||t.FLOAT,c=!!a.normalized,u=a.stride||0,d=a.offset||0;o.bind(),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,s,l,c,u,d)}else{if("number"==typeof a)t.vertexAttrib1f(i,a);else if(1===a.length)t.vertexAttrib1f(i,a[0]);else if(2===a.length)t.vertexAttrib2f(i,a[0],a[1]);else if(3===a.length)t.vertexAttrib3f(i,a[0],a[1],a[2]);else{if(4!==a.length)throw new Error("gl-vao: Invalid vertex attribute");t.vertexAttrib4f(i,a[0],a[1],a[2],a[3])}t.disableVertexAttribArray(i)}}for(;i<r;++i)t.disableVertexAttribArray(i)}else for(t.bindBuffer(t.ARRAY_BUFFER,null),i=0;i<r;++i)t.disableVertexAttribArray(i)}e.exports=r},{}],148:[function(t,e,n){var r=t("./do-bind.js");function i(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}function a(t){return new i(t)}i.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},i.prototype.update=function(t,e,n){this._elements=e,this._attributes=t,this._elementsType=n||this.gl.UNSIGNED_SHORT},i.prototype.dispose=function(){},i.prototype.unbind=function(){},i.prototype.draw=function(t,e,n){n=n||0;var r=this.gl;this._elements?r.drawElements(t,e,this._elementsType,n):r.drawArrays(t,n,e)},e.exports=a},{"./do-bind.js":147}],149:[function(t,e,n){var r=t("./do-bind.js");function i(t,e,n,r,i,a){this.location=t,this.dimension=e,this.a=n,this.b=r,this.c=i,this.d=a}function a(t,e,n){this.gl=t,this._ext=e,this.handle=n,this._attribs=[],this._useElements=!1,this._elementsType=t.UNSIGNED_SHORT}function o(t,e){return new a(t,e,e.createVertexArrayOES())}i.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},a.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var t=0;t<this._attribs.length;++t)this._attribs[t].bind(this.gl)},a.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},a.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},a.prototype.update=function(t,e,n){if(this.bind(),r(this.gl,e,t),this.unbind(),this._attribs.length=0,t)for(var a=0;a<t.length;++a){var o=t[a];"number"==typeof o?this._attribs.push(new i(a,1,o)):Array.isArray(o)&&this._attribs.push(new i(a,o.length,o[0],o[1],o[2],o[3]))}this._useElements=!!e,this._elementsType=n||this.gl.UNSIGNED_SHORT},a.prototype.draw=function(t,e,n){n=n||0;var r=this.gl;this._useElements?r.drawElements(t,e,this._elementsType,n):r.drawArrays(t,n,e)},e.exports=o},{"./do-bind.js":147}],150:[function(t,e,n){var r=t("./lib/vao-native.js"),i=t("./lib/vao-emulated.js");function a(t){this.bindVertexArrayOES=t.bindVertexArray.bind(t),this.createVertexArrayOES=t.createVertexArray.bind(t),this.deleteVertexArrayOES=t.deleteVertexArray.bind(t)}function o(t,e,n,o){var s,l=t.createVertexArray?new a(t):t.getExtension("OES_vertex_array_object");return(s=l?r(t,l):i(t)).update(e,n,o),s}e.exports=o},{"./lib/vao-emulated.js":148,"./lib/vao-native.js":149}],151:[function(t,e,n){function r(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}e.exports=r},{}],152:[function(t,e,n){e.exports=o;var r=t("./fromValues"),i=t("./normalize"),a=t("./dot");function o(t,e){var n=r(t[0],t[1],t[2]),o=r(e[0],e[1],e[2]);i(n,n),i(o,o);var s=a(n,o);return s>1?0:Math.acos(s)}},{"./dot":162,"./fromValues":168,"./normalize":179}],153:[function(t,e,n){function r(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}e.exports=r},{}],154:[function(t,e,n){function r(t){var e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}e.exports=r},{}],155:[function(t,e,n){function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}e.exports=r},{}],156:[function(t,e,n){function r(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}e.exports=r},{}],157:[function(t,e,n){function r(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],l=n[2];return t[0]=i*l-a*s,t[1]=a*o-r*l,t[2]=r*s-i*o,t}e.exports=r},{}],158:[function(t,e,n){e.exports=t("./distance")},{"./distance":159}],159:[function(t,e,n){function r(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}e.exports=r},{}],160:[function(t,e,n){e.exports=t("./divide")},{"./divide":161}],161:[function(t,e,n){function r(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}e.exports=r},{}],162:[function(t,e,n){function r(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}e.exports=r},{}],163:[function(t,e,n){e.exports=1e-6},{}],164:[function(t,e,n){e.exports=i;var r=t("./epsilon");function i(t,e){var n=t[0],i=t[1],a=t[2],o=e[0],s=e[1],l=e[2];return Math.abs(n-o)<=r*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-s)<=r*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-l)<=r*Math.max(1,Math.abs(a),Math.abs(l))}},{"./epsilon":163}],165:[function(t,e,n){function r(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}e.exports=r},{}],166:[function(t,e,n){function r(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}e.exports=r},{}],167:[function(t,e,n){e.exports=i;var r=t("./create")();function i(t,e,n,i,a,o){var s,l;for(e||(e=3),n||(n=0),l=i?Math.min(i*e+n,t.length):t.length,s=n;s<l;s+=e)r[0]=t[s],r[1]=t[s+1],r[2]=t[s+2],a(r,r,o),t[s]=r[0],t[s+1]=r[1],t[s+2]=r[2];return t}},{"./create":156}],168:[function(t,e,n){function r(t,e,n){var r=new Float32Array(3);return r[0]=t,r[1]=e,r[2]=n,r}e.exports=r},{}],169:[function(t,e,n){e.exports={EPSILON:t("./epsilon"),create:t("./create"),clone:t("./clone"),angle:t("./angle"),fromValues:t("./fromValues"),copy:t("./copy"),set:t("./set"),equals:t("./equals"),exactEquals:t("./exactEquals"),add:t("./add"),subtract:t("./subtract"),sub:t("./sub"),multiply:t("./multiply"),mul:t("./mul"),divide:t("./divide"),div:t("./div"),min:t("./min"),max:t("./max"),floor:t("./floor"),ceil:t("./ceil"),round:t("./round"),scale:t("./scale"),scaleAndAdd:t("./scaleAndAdd"),distance:t("./distance"),dist:t("./dist"),squaredDistance:t("./squaredDistance"),sqrDist:t("./sqrDist"),length:t("./length"),len:t("./len"),squaredLength:t("./squaredLength"),sqrLen:t("./sqrLen"),negate:t("./negate"),inverse:t("./inverse"),normalize:t("./normalize"),dot:t("./dot"),cross:t("./cross"),lerp:t("./lerp"),random:t("./random"),transformMat4:t("./transformMat4"),transformMat3:t("./transformMat3"),transformQuat:t("./transformQuat"),rotateX:t("./rotateX"),rotateY:t("./rotateY"),rotateZ:t("./rotateZ"),forEach:t("./forEach")}},{"./add":151,"./angle":152,"./ceil":153,"./clone":154,"./copy":155,"./create":156,"./cross":157,"./dist":158,"./distance":159,"./div":160,"./divide":161,"./dot":162,"./epsilon":163,"./equals":164,"./exactEquals":165,"./floor":166,"./forEach":167,"./fromValues":168,"./inverse":170,"./len":171,"./length":172,"./lerp":173,"./max":174,"./min":175,"./mul":176,"./multiply":177,"./negate":178,"./normalize":179,"./random":180,"./rotateX":181,"./rotateY":182,"./rotateZ":183,"./round":184,"./scale":185,"./scaleAndAdd":186,"./set":187,"./sqrDist":188,"./sqrLen":189,"./squaredDistance":190,"./squaredLength":191,"./sub":192,"./subtract":193,"./transformMat3":194,"./transformMat4":195,"./transformQuat":196}],170:[function(t,e,n){function r(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}e.exports=r},{}],171:[function(t,e,n){e.exports=t("./length")},{"./length":172}],172:[function(t,e,n){function r(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}e.exports=r},{}],173:[function(t,e,n){function r(t,e,n,r){var i=e[0],a=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t}e.exports=r},{}],174:[function(t,e,n){function r(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}e.exports=r},{}],175:[function(t,e,n){function r(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}e.exports=r},{}],176:[function(t,e,n){e.exports=t("./multiply")},{"./multiply":177}],177:[function(t,e,n){function r(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}e.exports=r},{}],178:[function(t,e,n){function r(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}e.exports=r},{}],179:[function(t,e,n){function r(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t}e.exports=r},{}],180:[function(t,e,n){function r(t,e){e=e||1;var n=2*Math.random()*Math.PI,r=2*Math.random()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}e.exports=r},{}],181:[function(t,e,n){function r(t,e,n,r){var i=n[1],a=n[2],o=e[1]-i,s=e[2]-a,l=Math.sin(r),c=Math.cos(r);return t[0]=e[0],t[1]=i+o*c-s*l,t[2]=a+o*l+s*c,t}e.exports=r},{}],182:[function(t,e,n){function r(t,e,n,r){var i=n[0],a=n[2],o=e[0]-i,s=e[2]-a,l=Math.sin(r),c=Math.cos(r);return t[0]=i+s*l+o*c,t[1]=e[1],t[2]=a+s*c-o*l,t}e.exports=r},{}],183:[function(t,e,n){function r(t,e,n,r){var i=n[0],a=n[1],o=e[0]-i,s=e[1]-a,l=Math.sin(r),c=Math.cos(r);return t[0]=i+o*c-s*l,t[1]=a+o*l+s*c,t[2]=e[2],t}e.exports=r},{}],184:[function(t,e,n){function r(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}e.exports=r},{}],185:[function(t,e,n){function r(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}e.exports=r},{}],186:[function(t,e,n){function r(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}e.exports=r},{}],187:[function(t,e,n){function r(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}e.exports=r},{}],188:[function(t,e,n){e.exports=t("./squaredDistance")},{"./squaredDistance":190}],189:[function(t,e,n){e.exports=t("./squaredLength")},{"./squaredLength":191}],190:[function(t,e,n){function r(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}e.exports=r},{}],191:[function(t,e,n){function r(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}e.exports=r},{}],192:[function(t,e,n){e.exports=t("./subtract")},{"./subtract":193}],193:[function(t,e,n){function r(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}e.exports=r},{}],194:[function(t,e,n){function r(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t}e.exports=r},{}],195:[function(t,e,n){function r(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t}e.exports=r},{}],196:[function(t,e,n){function r(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],l=n[2],c=n[3],u=c*r+s*a-l*i,d=c*i+l*r-o*a,h=c*a+o*i-s*r,g=-o*r-s*i-l*a;return t[0]=u*c+g*-o+d*-l-h*-s,t[1]=d*c+g*-s+h*-o-u*-l,t[2]=h*c+g*-l+u*-s-d*-o,t}e.exports=r},{}],197:[function(t,e,n){function r(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}e.exports=r},{}],198:[function(t,e,n){function r(t){var e=new Float32Array(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}e.exports=r},{}],199:[function(t,e,n){function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}e.exports=r},{}],200:[function(t,e,n){function r(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}e.exports=r},{}],201:[function(t,e,n){function r(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+a*a)}e.exports=r},{}],202:[function(t,e,n){function r(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}e.exports=r},{}],203:[function(t,e,n){function r(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}e.exports=r},{}],204:[function(t,e,n){function r(t,e,n,r){var i=new Float32Array(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}e.exports=r},{}],205:[function(t,e,n){e.exports={create:t("./create"),clone:t("./clone"),fromValues:t("./fromValues"),copy:t("./copy"),set:t("./set"),add:t("./add"),subtract:t("./subtract"),multiply:t("./multiply"),divide:t("./divide"),min:t("./min"),max:t("./max"),scale:t("./scale"),scaleAndAdd:t("./scaleAndAdd"),distance:t("./distance"),squaredDistance:t("./squaredDistance"),length:t("./length"),squaredLength:t("./squaredLength"),negate:t("./negate"),inverse:t("./inverse"),normalize:t("./normalize"),dot:t("./dot"),lerp:t("./lerp"),random:t("./random"),transformMat4:t("./transformMat4"),transformQuat:t("./transformQuat")}},{"./add":197,"./clone":198,"./copy":199,"./create":200,"./distance":201,"./divide":202,"./dot":203,"./fromValues":204,"./inverse":206,"./length":207,"./lerp":208,"./max":209,"./min":210,"./multiply":211,"./negate":212,"./normalize":213,"./random":214,"./scale":215,"./scaleAndAdd":216,"./set":217,"./squaredDistance":218,"./squaredLength":219,"./subtract":220,"./transformMat4":221,"./transformQuat":222}],206:[function(t,e,n){function r(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}e.exports=r},{}],207:[function(t,e,n){function r(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}e.exports=r},{}],208:[function(t,e,n){function r(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t[3]=s+r*(n[3]-s),t}e.exports=r},{}],209:[function(t,e,n){function r(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}e.exports=r},{}],210:[function(t,e,n){function r(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}e.exports=r},{}],211:[function(t,e,n){function r(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}e.exports=r},{}],212:[function(t,e,n){function r(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}e.exports=r},{}],213:[function(t,e,n){function r(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=a*o),t}e.exports=r},{}],214:[function(t,e,n){var r=t("./normalize"),i=t("./scale");function a(t,e){return e=e||1,t[0]=Math.random(),t[1]=Math.random(),t[2]=Math.random(),t[3]=Math.random(),r(t,t),i(t,t,e),t}e.exports=a},{"./normalize":213,"./scale":215}],215:[function(t,e,n){function r(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}e.exports=r},{}],216:[function(t,e,n){function r(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}e.exports=r},{}],217:[function(t,e,n){function r(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}e.exports=r},{}],218:[function(t,e,n){function r(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return n*n+r*r+i*i+a*a}e.exports=r},{}],219:[function(t,e,n){function r(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}e.exports=r},{}],220:[function(t,e,n){function r(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}e.exports=r},{}],221:[function(t,e,n){function r(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,t[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,t[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,t[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,t}e.exports=r},{}],222:[function(t,e,n){function r(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],l=n[2],c=n[3],u=c*r+s*a-l*i,d=c*i+l*r-o*a,h=c*a+o*i-s*r,g=-o*r-s*i-l*a;return t[0]=u*c+g*-o+d*-l-h*-s,t[1]=d*c+g*-s+h*-o-u*-l,t[2]=h*c+g*-l+u*-s-d*-o,t[3]=e[3],t}e.exports=r},{}],223:[function(t,e,n){var r=t("glsl-tokenizer"),i=t("atob-lite");function a(t){for(var e=Array.isArray(t)?t:r(t),n=0;n<e.length;n++){var a=e[n];if("preprocessor"===a.type){var o=a.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(o&&o[2]){var s=o[1],l=o[2];return(s?i(l):l).trim()}}}}e.exports=a},{"atob-lite":13,"glsl-tokenizer":230}],224:[function(t,e,n){e.exports=B;var r=t("./lib/literals"),i=t("./lib/operators"),a=t("./lib/builtins"),o=t("./lib/literals-300es"),s=t("./lib/builtins-300es"),l=999,c=9999,u=0,d=1,h=2,g=3,f=4,p=5,v=6,m=7,y=8,b=9,I=10,C=11,x=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function B(t){var e,n,B,A=0,F=0,Q=l,w=[],U=[],G=1,R=0,S=0,L=!1,_=!1,E="",k=a,V=r;"300 es"===(t=t||{}).version&&(k=s,V=o);var Z={},N={};for(A=0;A<k.length;A++)Z[k[A]]=!0;for(A=0;A<V.length;A++)N[V[A]]=!0;return function(t){return U=[],null!==t?X(t):W()};function T(t){t.length&&U.push({type:x[Q],data:t,position:S,line:G,column:R})}function X(t){var n;for(A=0,t.toString&&(t=t.toString()),E+=t.replace(/\r\n/g,"\n"),B=E.length;e=E[A],A<B;){switch(n=A,Q){case u:A=O();break;case d:A=Y();break;case h:A=D();break;case g:A=z();break;case f:A=P();break;case C:A=j();break;case p:A=K();break;case c:A=q();break;case b:A=H();break;case l:A=M()}n!==A&&("\n"===E[n]?(R=0,++G):++R)}return F+=A,E=E.slice(A),U}function W(t){return w.length&&T(w.join("")),Q=I,T("(eof)"),U}function M(){return w=w.length?[]:w,"/"===n&&"*"===e?(S=F+A-1,Q=u,n=e,A+1):"/"===n&&"/"===e?(S=F+A-1,Q=d,n=e,A+1):"#"===e?(Q=h,S=F+A,A):/\s/.test(e)?(Q=b,S=F+A,A):(L=/\d/.test(e),_=/[^\w_]/.test(e),S=F+A,Q=L?f:_?g:c,A)}function H(){return/[^\s]/g.test(e)?(T(w.join("")),Q=l,A):(w.push(e),n=e,A+1)}function D(){return"\r"!==e&&"\n"!==e||"\\"===n?(w.push(e),n=e,A+1):(T(w.join("")),Q=l,A)}function Y(){return D()}function O(){return"/"===e&&"*"===n?(w.push(e),T(w.join("")),Q=l,A+1):(w.push(e),n=e,A+1)}function z(){if("."===n&&/\d/.test(e))return Q=p,A;if("/"===n&&"*"===e)return Q=u,A;if("/"===n&&"/"===e)return Q=d,A;if("."===e&&w.length){for(;J(w););return Q=p,A}if(";"===e||")"===e||"("===e){if(w.length)for(;J(w););return T(e),Q=l,A+1}var t=2===w.length&&"="!==e;if(/[\w_\d\s]/.test(e)||t){for(;J(w););return Q=l,A}return w.push(e),n=e,A+1}function J(t){for(var e,n,r=0;;){if(e=i.indexOf(t.slice(0,t.length+r).join("")),n=i[e],-1===e){if(r--+t.length>0)continue;n=t.slice(0,1).join("")}return T(n),S+=n.length,(w=w.slice(n.length)).length}}function j(){return/[^a-fA-F0-9]/.test(e)?(T(w.join("")),Q=l,A):(w.push(e),n=e,A+1)}function P(){return"."===e||/[eE]/.test(e)?(w.push(e),Q=p,n=e,A+1):"x"===e&&1===w.length&&"0"===w[0]?(Q=C,w.push(e),n=e,A+1):/[^\d]/.test(e)?(T(w.join("")),Q=l,A):(w.push(e),n=e,A+1)}function K(){return"f"===e&&(w.push(e),n=e,A+=1),/[eE]/.test(e)?(w.push(e),n=e,A+1):("-"!==e&&"+"!==e||!/[eE]/.test(n))&&/[^\d]/.test(e)?(T(w.join("")),Q=l,A):(w.push(e),n=e,A+1)}function q(){if(/[^\d\w_]/.test(e)){var t=w.join("");return Q=N[t]?y:Z[t]?m:v,T(w.join("")),Q=l,A}return w.push(e),n=e,A+1}}},{"./lib/builtins":226,"./lib/builtins-300es":225,"./lib/literals":228,"./lib/literals-300es":227,"./lib/operators":229}],225:[function(t,e,n){var r=t("./builtins");r=r.slice().filter((function(t){return!/^(gl\_|texture)/.test(t)})),e.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},{"./builtins":226}],226:[function(t,e,n){e.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},{}],227:[function(t,e,n){var r=t("./literals");e.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},{"./literals":228}],228:[function(t,e,n){e.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},{}],229:[function(t,e,n){e.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},{}],230:[function(t,e,n){var r=t("./index");function i(t,e){var n=r(e),i=[];return i=(i=i.concat(n(t))).concat(n(null))}e.exports=i},{"./index":224}],231:[function(t,e,n){e.exports=function(t){"string"==typeof t&&(t=[t]);for(var e=[].slice.call(arguments,1),n=[],r=0;r<t.length-1;r++)n.push(t[r],e[r]||"");return n.push(t[r]),n.join("")}},{}],232:[function(t,e,n){var r=t("is-browser");function i(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){t=!1}return t}e.exports=r&&i()},{"is-browser":236}],233:[function(t,e,n){e.exports=g;var r=t("robust-orientation"),i=t("simplicial-complex").compareCells;function a(t,e,n){this.vertices=t,this.adjacent=e,this.boundary=n,this.lastVisited=-1}function o(t,e,n){this.vertices=t,this.cell=e,this.index=n}function s(t,e){return i(t.vertices,e.vertices)}function l(t){return function(){var e=this.tuple;return t.apply(this,e)}}function c(t){var e=r[t+1];return e||(e=r),l(e)}a.prototype.flip=function(){var t=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=t;var e=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=e};var u=[];function d(t,e,n){this.dimension=t,this.vertices=e,this.simplices=n,this.interior=n.filter((function(t){return!t.boundary})),this.tuple=new Array(t+1);for(var r=0;r<=t;++r)this.tuple[r]=this.vertices[r];var i=u[t];i||(i=u[t]=c(t)),this.orient=i}var h=d.prototype;function g(t,e){var n=t.length;if(0===n)throw new Error("Must have at least d+1 points");var i=t[0].length;if(n<=i)throw new Error("Must input at least d+1 points");var o=t.slice(0,i+1),s=r.apply(void 0,o);if(0===s)throw new Error("Input not in general position");for(var l=new Array(i+1),c=0;c<=i;++c)l[c]=c;s<0&&(l[0]=1,l[1]=0);var u=new a(l,new Array(i+1),!1),h=u.adjacent,g=new Array(i+2);for(c=0;c<=i;++c){for(var f=l.slice(),p=0;p<=i;++p)p===c&&(f[p]=-1);var v=f[0];f[0]=f[1],f[1]=v;var m=new a(f,new Array(i+1),!0);h[c]=m,g[c]=m}for(g[i+1]=u,c=0;c<=i;++c){f=h[c].vertices;var y=h[c].adjacent;for(p=0;p<=i;++p){var b=f[p];if(b<0)y[p]=u;else for(var I=0;I<=i;++I)h[I].vertices.indexOf(b)<0&&(y[p]=h[I])}}var C=new d(i,o,g),x=!!e;for(c=i+1;c<n;++c)C.insert(t[c],x);return C.boundary()}h.handleBoundaryDegeneracy=function(t,e){var n=this.dimension,r=this.vertices.length-1,i=this.tuple,a=this.vertices,o=[t];for(t.lastVisited=-r;o.length>0;)for(var s=(t=o.pop()).adjacent,l=0;l<=n;++l){var c=s[l];if(c.boundary&&!(c.lastVisited<=-r)){for(var u=c.vertices,d=0;d<=n;++d){var h=u[d];i[d]=h<0?e:a[h]}var g=this.orient();if(g>0)return c;c.lastVisited=-r,0===g&&o.push(c)}}return null},h.walk=function(t,e){var n=this.vertices.length-1,r=this.dimension,i=this.vertices,a=this.tuple,o=e?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[o];t:for(;!s.boundary;){for(var l=s.vertices,c=s.adjacent,u=0;u<=r;++u)a[u]=i[l[u]];for(s.lastVisited=n,u=0;u<=r;++u){var d=c[u];if(!(d.lastVisited>=n)){var h=a[u];a[u]=t;var g=this.orient();if(a[u]=h,g<0){s=d;continue t}d.boundary?d.lastVisited=-n:d.lastVisited=n}}return}return s},h.addPeaks=function(t,e){var n=this.vertices.length-1,r=this.dimension,i=this.vertices,l=this.tuple,c=this.interior,u=this.simplices,d=[e];e.lastVisited=n,e.vertices[e.vertices.indexOf(-1)]=n,e.boundary=!1,c.push(e);for(var h=[];d.length>0;){var g=(e=d.pop()).vertices,f=e.adjacent,p=g.indexOf(n);if(!(p<0))for(var v=0;v<=r;++v)if(v!==p){var m=f[v];if(m.boundary&&!(m.lastVisited>=n)){var y=m.vertices;if(m.lastVisited!==-n){for(var b=0,I=0;I<=r;++I)y[I]<0?(b=I,l[I]=t):l[I]=i[y[I]];if(this.orient()>0){y[b]=n,m.boundary=!1,c.push(m),d.push(m),m.lastVisited=n;continue}m.lastVisited=-n}var C=m.adjacent,x=g.slice(),B=f.slice(),A=new a(x,B,!0);u.push(A);var F=C.indexOf(e);if(!(F<0))for(C[F]=A,B[p]=m,x[v]=-1,B[v]=e,f[v]=A,A.flip(),I=0;I<=r;++I){var Q=x[I];if(!(Q<0||Q===n)){for(var w=new Array(r-1),U=0,G=0;G<=r;++G){var R=x[G];R<0||G===I||(w[U++]=R)}h.push(new o(w,A,I))}}}}}for(h.sort(s),v=0;v+1<h.length;v+=2){var S=h[v],L=h[v+1],_=S.index,E=L.index;_<0||E<0||(S.cell.adjacent[S.index]=L.cell,L.cell.adjacent[L.index]=S.cell)}},h.insert=function(t,e){var n=this.vertices;n.push(t);var r=this.walk(t,e);if(r){for(var i=this.dimension,a=this.tuple,o=0;o<=i;++o){var s=r.vertices[o];a[o]=s<0?t:n[s]}var l=this.orient(a);l<0||(0!==l||(r=this.handleBoundaryDegeneracy(r,t)))&&this.addPeaks(t,r)}},h.boundary=function(){for(var t=this.dimension,e=[],n=this.simplices,r=n.length,i=0;i<r;++i){var a=n[i];if(a.boundary){for(var o=new Array(t),s=a.vertices,l=0,c=0,u=0;u<=t;++u)s[u]>=0?o[l++]=s[u]:c=1&u;if(c===(1&t)){var d=o[0];o[0]=o[1],o[1]=d}e.push(o)}}return e}},{"robust-orientation":284,"simplicial-complex":293}],234:[function(t,e,n){var r=t("binary-search-bounds"),i=0,a=1,o=2;function s(t,e,n,r,i){this.mid=t,this.left=e,this.right=n,this.leftPoints=r,this.rightPoints=i,this.count=(e?e.count:0)+(n?n.count:0)+r.length}e.exports=x;var l=s.prototype;function c(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function u(t,e){var n=b(e);t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function d(t,e){var n=t.intervals([]);n.push(e),u(t,n)}function h(t,e){var n=t.intervals([]),r=n.indexOf(e);return r<0?i:(n.splice(r,1),u(t,n),a)}function g(t,e,n){for(var r=0;r<t.length&&t[r][0]<=e;++r){var i=n(t[r]);if(i)return i}}function f(t,e,n){for(var r=t.length-1;r>=0&&t[r][1]>=e;--r){var i=n(t[r]);if(i)return i}}function p(t,e){for(var n=0;n<t.length;++n){var r=e(t[n]);if(r)return r}}function v(t,e){return t-e}function m(t,e){var n=t[0]-e[0];return n||t[1]-e[1]}function y(t,e){var n=t[1]-e[1];return n||t[0]-e[0]}function b(t){if(0===t.length)return null;for(var e=[],n=0;n<t.length;++n)e.push(t[n][0],t[n][1]);e.sort(v);var r=e[e.length>>1],i=[],a=[],o=[];for(n=0;n<t.length;++n){var l=t[n];l[1]<r?i.push(l):r<l[0]?a.push(l):o.push(l)}var c=o,u=o.slice();return c.sort(m),u.sort(y),new s(r,b(i),b(a),c,u)}function I(t){this.root=t}l.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t},l.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?d(this,t):this.left.insert(t):this.left=b([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?d(this,t):this.right.insert(t):this.right=b([t]);else{var n=r.ge(this.leftPoints,t,m),i=r.ge(this.rightPoints,t,y);this.leftPoints.splice(n,0,t),this.rightPoints.splice(i,0,t)}},l.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(e-1)?h(this,t):(u=this.left.remove(t))===o?(this.left=null,this.count-=1,a):(u===a&&(this.count-=1),u):i;if(t[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(e-1)?h(this,t):(u=this.right.remove(t))===o?(this.right=null,this.count-=1,a):(u===a&&(this.count-=1),u):i;if(1===this.count)return this.leftPoints[0]===t?o:i;if(1===this.leftPoints.length&&this.leftPoints[0]===t){if(this.left&&this.right){for(var n=this,s=this.left;s.right;)n=s,s=s.right;if(n===this)s.right=this.right;else{var l=this.left,u=this.right;n.count-=s.count,n.right=s.left,s.left=l,s.right=u}c(this,s),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?c(this,this.left):c(this,this.right);return a}for(l=r.ge(this.leftPoints,t,m);l<this.leftPoints.length&&this.leftPoints[l][0]===t[0];++l)if(this.leftPoints[l]===t)for(this.count-=1,this.leftPoints.splice(l,1),u=r.ge(this.rightPoints,t,y);u<this.rightPoints.length&&this.rightPoints[u][1]===t[1];++u)if(this.rightPoints[u]===t)return this.rightPoints.splice(u,1),a;return i},l.queryPoint=function(t,e){return t<this.mid?this.left&&(n=this.left.queryPoint(t,e))?n:g(this.leftPoints,t,e):t>this.mid?this.right&&(n=this.right.queryPoint(t,e))?n:f(this.rightPoints,t,e):p(this.leftPoints,e);var n},l.queryInterval=function(t,e,n){var r;return t<this.mid&&this.left&&(r=this.left.queryInterval(t,e,n))||e>this.mid&&this.right&&(r=this.right.queryInterval(t,e,n))?r:e<this.mid?g(this.leftPoints,e,n):t>this.mid?f(this.rightPoints,t,n):p(this.leftPoints,n)};var C=I.prototype;function x(t){return t&&0!==t.length?new I(b(t)):new I(null)}C.insert=function(t){this.root?this.root.insert(t):this.root=new s(t[0],null,null,[t],[t])},C.remove=function(t){if(this.root){var e=this.root.remove(t);return e===o&&(this.root=null),e!==i}return!1},C.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)},C.queryInterval=function(t,e,n){if(t<=e&&this.root)return this.root.queryInterval(t,e,n)},Object.defineProperty(C,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(C,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},{"binary-search-bounds":31}],235:[function(t,e,n){function r(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return e}e.exports=r},{}],236:[function(t,e,n){e.exports=!0},{}],237:[function(t,e,n){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function i(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}
/*!
	 * Determine if an object is a Buffer
	 *
	 * @author   Feross Aboukhadijeh <https://feross.org>
	 * @license  MIT
	 */
e.exports=function(t){return null!=t&&(r(t)||i(t)||!!t._isBuffer)}},{}],238:[function(t,e,n){e.exports=a,e.exports.isMobile=a,e.exports.default=a;var r=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function a(t){t||(t={});var e=t.ua;if(e||"undefined"==typeof navigator||(e=navigator.userAgent),e&&e.headers&&"string"==typeof e.headers["user-agent"]&&(e=e.headers["user-agent"]),"string"!=typeof e)return!1;var n=t.tablet?i.test(e):r.test(e);return!n&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==e.indexOf("Macintosh")&&-1!==e.indexOf("Safari")&&(n=!0),n}},{}],239:[function(t,e,n){e.exports=function(t){for(var e,n=t.length,r=0;r<n;r++)if(((e=t.charCodeAt(r))<9||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0}},{}],240:[function(t,e,n){function r(t,e,n){return t*(1-n)+e*n}e.exports=r},{}],241:[function(t,e,n){var r=t("./normalize"),i=t("gl-mat4/create"),a=t("gl-mat4/clone"),o=t("gl-mat4/determinant"),s=t("gl-mat4/invert"),l=t("gl-mat4/transpose"),c={length:t("gl-vec3/length"),normalize:t("gl-vec3/normalize"),dot:t("gl-vec3/dot"),cross:t("gl-vec3/cross")},u=i(),d=i(),h=[0,0,0,0],g=[[0,0,0],[0,0,0],[0,0,0]],f=[0,0,0];function p(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,t[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,t[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,t[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,t}function v(t,e){t[0][0]=e[0],t[0][1]=e[1],t[0][2]=e[2],t[1][0]=e[4],t[1][1]=e[5],t[1][2]=e[6],t[2][0]=e[8],t[2][1]=e[9],t[2][2]=e[10]}function m(t,e,n,r,i){t[0]=e[0]*r+n[0]*i,t[1]=e[1]*r+n[1]*i,t[2]=e[2]*r+n[2]*i}e.exports=function(t,e,n,i,y,b){if(e||(e=[0,0,0]),n||(n=[0,0,0]),i||(i=[0,0,0]),y||(y=[0,0,0,1]),b||(b=[0,0,0,1]),!r(u,t))return!1;if(a(d,u),d[3]=0,d[7]=0,d[11]=0,d[15]=1,Math.abs(o(d)<1e-8))return!1;var I=u[3],C=u[7],x=u[11],B=u[12],A=u[13],F=u[14],Q=u[15];if(0!==I||0!==C||0!==x){if(h[0]=I,h[1]=C,h[2]=x,h[3]=Q,!s(d,d))return!1;l(d,d),p(y,h,d)}else y[0]=y[1]=y[2]=0,y[3]=1;if(e[0]=B,e[1]=A,e[2]=F,v(g,u),n[0]=c.length(g[0]),c.normalize(g[0],g[0]),i[0]=c.dot(g[0],g[1]),m(g[1],g[1],g[0],1,-i[0]),n[1]=c.length(g[1]),c.normalize(g[1],g[1]),i[0]/=n[1],i[1]=c.dot(g[0],g[2]),m(g[2],g[2],g[0],1,-i[1]),i[2]=c.dot(g[1],g[2]),m(g[2],g[2],g[1],1,-i[2]),n[2]=c.length(g[2]),c.normalize(g[2],g[2]),i[1]/=n[2],i[2]/=n[2],c.cross(f,g[1],g[2]),c.dot(g[0],f)<0)for(var w=0;w<3;w++)n[w]*=-1,g[w][0]*=-1,g[w][1]*=-1,g[w][2]*=-1;return b[0]=.5*Math.sqrt(Math.max(1+g[0][0]-g[1][1]-g[2][2],0)),b[1]=.5*Math.sqrt(Math.max(1-g[0][0]+g[1][1]-g[2][2],0)),b[2]=.5*Math.sqrt(Math.max(1-g[0][0]-g[1][1]+g[2][2],0)),b[3]=.5*Math.sqrt(Math.max(1+g[0][0]+g[1][1]+g[2][2],0)),g[2][1]>g[1][2]&&(b[0]=-b[0]),g[0][2]>g[2][0]&&(b[1]=-b[1]),g[1][0]>g[0][1]&&(b[2]=-b[2]),!0}},{"./normalize":242,"gl-mat4/clone":92,"gl-mat4/create":93,"gl-mat4/determinant":94,"gl-mat4/invert":98,"gl-mat4/transpose":109,"gl-vec3/cross":157,"gl-vec3/dot":162,"gl-vec3/length":172,"gl-vec3/normalize":179}],242:[function(t,e,n){e.exports=function(t,e){var n=e[15];if(0===n)return!1;for(var r=1/n,i=0;i<16;i++)t[i]=e[i]*r;return!0}},{}],243:[function(t,e,n){var r=t("gl-vec3/lerp"),i=t("mat4-recompose"),a=t("mat4-decompose"),o=t("gl-mat4/determinant"),s=t("quat-slerp"),l=h(),c=h(),u=h();function d(t,e,n,d){if(0===o(e)||0===o(n))return!1;var h=a(e,l.translate,l.scale,l.skew,l.perspective,l.quaternion),g=a(n,c.translate,c.scale,c.skew,c.perspective,c.quaternion);return!(!h||!g||(r(u.translate,l.translate,c.translate,d),r(u.skew,l.skew,c.skew,d),r(u.scale,l.scale,c.scale,d),r(u.perspective,l.perspective,c.perspective,d),s(u.quaternion,l.quaternion,c.quaternion,d),i(t,u.translate,u.scale,u.skew,u.perspective,u.quaternion),0))}function h(){return{translate:g(),scale:g(1),skew:g(),perspective:f(),quaternion:f()}}function g(t){return[t||0,t||0,t||0]}function f(){return[0,0,0,1]}e.exports=d},{"gl-mat4/determinant":94,"gl-vec3/lerp":173,"mat4-decompose":241,"mat4-recompose":244,"quat-slerp":271}],244:[function(t,e,n){var r={identity:t("gl-mat4/identity"),translate:t("gl-mat4/translate"),multiply:t("gl-mat4/multiply"),create:t("gl-mat4/create"),scale:t("gl-mat4/scale"),fromRotationTranslation:t("gl-mat4/fromRotationTranslation")};r.create();var i=r.create();e.exports=function(t,e,n,a,o,s){return r.identity(t),r.fromRotationTranslation(t,s,e),t[3]=o[0],t[7]=o[1],t[11]=o[2],t[15]=o[3],r.identity(i),0!==a[2]&&(i[9]=a[2],r.multiply(t,t,i)),0!==a[1]&&(i[9]=0,i[8]=a[1],r.multiply(t,t,i)),0!==a[0]&&(i[8]=0,i[4]=a[0],r.multiply(t,t,i)),r.scale(t,t,n),t}},{"gl-mat4/create":93,"gl-mat4/fromRotationTranslation":96,"gl-mat4/identity":97,"gl-mat4/multiply":100,"gl-mat4/scale":107,"gl-mat4/translate":108}],245:[function(t,e,n){var r=t("binary-search-bounds"),i=t("mat4-interpolate"),a=t("gl-mat4/invert"),o=t("gl-mat4/rotateX"),s=t("gl-mat4/rotateY"),l=t("gl-mat4/rotateZ"),c=t("gl-mat4/lookAt"),u=t("gl-mat4/translate");t("gl-mat4/scale");var d=t("gl-vec3/normalize"),h=[0,0,0];function g(t){this._components=t.slice(),this._time=[0],this.prevMatrix=t.slice(),this.nextMatrix=t.slice(),this.computedMatrix=t.slice(),this.computedInverse=t.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}e.exports=v;var f=g.prototype;f.recalcMatrix=function(t){var e=this._time,n=r.le(e,t),o=this.computedMatrix;if(!(n<0)){var s=this._components;if(n===e.length-1)for(var l=16*n,c=0;c<16;++c)o[c]=s[l++];else{var u=e[n+1]-e[n],h=(l=16*n,this.prevMatrix),g=!0;for(c=0;c<16;++c)h[c]=s[l++];var f=this.nextMatrix;for(c=0;c<16;++c)f[c]=s[l++],g=g&&h[c]===f[c];if(u<1e-6||g)for(c=0;c<16;++c)o[c]=h[c];else i(o,h,f,(t-e[n])/u)}var p=this.computedUp;p[0]=o[1],p[1]=o[5],p[2]=o[9],d(p,p);var v=this.computedInverse;a(v,o);var m=this.computedEye,y=v[15];m[0]=v[12]/y,m[1]=v[13]/y,m[2]=v[14]/y;var b=this.computedCenter,I=Math.exp(this.computedRadius[0]);for(c=0;c<3;++c)b[c]=m[c]-o[2+4*c]*I}},f.idle=function(t){if(!(t<this.lastT())){for(var e=this._components,n=e.length-16,r=0;r<16;++r)e.push(e[n++]);this._time.push(t)}},f.flush=function(t){var e=r.gt(this._time,t)-2;e<0||(this._time.splice(0,e),this._components.splice(0,16*e))},f.lastT=function(){return this._time[this._time.length-1]},f.lookAt=function(t,e,n,r){this.recalcMatrix(t),e=e||this.computedEye,n=n||h,r=r||this.computedUp,this.setMatrix(t,c(this.computedMatrix,e,n,r));for(var i=0,a=0;a<3;++a)i+=Math.pow(n[a]-e[a],2);i=Math.log(Math.sqrt(i)),this.computedRadius[0]=i},f.rotate=function(t,e,n,r){this.recalcMatrix(t);var i=this.computedInverse;e&&s(i,i,e),n&&o(i,i,n),r&&l(i,i,r),this.setMatrix(t,a(this.computedMatrix,i))};var p=[0,0,0];function v(t){return new g((t=t||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}f.pan=function(t,e,n,r){p[0]=-(e||0),p[1]=-(n||0),p[2]=-(r||0),this.recalcMatrix(t);var i=this.computedInverse;u(i,i,p),this.setMatrix(t,a(i,i))},f.translate=function(t,e,n,r){p[0]=e||0,p[1]=n||0,p[2]=r||0,this.recalcMatrix(t);var i=this.computedMatrix;u(i,i,p),this.setMatrix(t,i)},f.setMatrix=function(t,e){if(!(t<this.lastT())){this._time.push(t);for(var n=0;n<16;++n)this._components.push(e[n])}},f.setDistance=function(t,e){this.computedRadius[0]=e},f.setDistanceLimits=function(t,e){var n=this._limits;n[0]=t,n[1]=e},f.getDistanceLimits=function(t){var e=this._limits;return t?(t[0]=e[0],t[1]=e[1],t):e}},{"binary-search-bounds":31,"gl-mat4/invert":98,"gl-mat4/lookAt":99,"gl-mat4/rotateX":104,"gl-mat4/rotateY":105,"gl-mat4/rotateZ":106,"gl-mat4/scale":107,"gl-mat4/translate":108,"gl-vec3/normalize":179,"mat4-interpolate":243}],246:[function(t,e,n){e.exports=i;var r=t("robust-orientation")[3];function i(t){var e=t.length;if(e<3){for(var n=new Array(e),i=0;i<e;++i)n[i]=i;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var a=new Array(e);for(i=0;i<e;++i)a[i]=i;a.sort((function(e,n){var r=t[e][0]-t[n][0];return r||t[e][1]-t[n][1]}));var o=[a[0],a[1]],s=[a[0],a[1]];for(i=2;i<e;++i){for(var l=a[i],c=t[l],u=o.length;u>1&&r(t[o[u-2]],t[o[u-1]],c)<=0;)u-=1,o.pop();for(o.push(l),u=s.length;u>1&&r(t[s[u-2]],t[s[u-1]],c)>=0;)u-=1,s.pop();s.push(l)}n=new Array(s.length+o.length-2);for(var d=0,h=(i=0,o.length);i<h;++i)n[d++]=o[i];for(var g=s.length-2;g>0;--g)n[d++]=s[g];return n}},{"robust-orientation":284}],247:[function(t,e,n){e.exports=i;var r=t("mouse-event");function i(t,e){e||(e=t,t=window);var n=0,i=0,a=0,o={shift:!1,alt:!1,control:!1,meta:!1},s=!1;function l(t){var e=!1;return"altKey"in t&&(e=e||t.altKey!==o.alt,o.alt=!!t.altKey),"shiftKey"in t&&(e=e||t.shiftKey!==o.shift,o.shift=!!t.shiftKey),"ctrlKey"in t&&(e=e||t.ctrlKey!==o.control,o.control=!!t.ctrlKey),"metaKey"in t&&(e=e||t.metaKey!==o.meta,o.meta=!!t.metaKey),e}function c(t,s){var c=r.x(s),u=r.y(s);"buttons"in s&&(t=0|s.buttons),(t!==n||c!==i||u!==a||l(s))&&(n=0|t,i=c||0,a=u||0,e&&e(n,i,a,o))}function u(t){c(0,t)}function d(){(n||i||a||o.shift||o.alt||o.meta||o.control)&&(i=a=0,n=0,o.shift=o.alt=o.control=o.meta=!1,e&&e(0,0,0,o))}function h(t){l(t)&&e&&e(n,i,a,o)}function g(t){0===r.buttons(t)?c(0,t):c(n,t)}function f(t){c(n|r.buttons(t),t)}function p(t){c(n&~r.buttons(t),t)}function v(){s||(s=!0,t.addEventListener("mousemove",g),t.addEventListener("mousedown",f),t.addEventListener("mouseup",p),t.addEventListener("mouseleave",u),t.addEventListener("mouseenter",u),t.addEventListener("mouseout",u),t.addEventListener("mouseover",u),t.addEventListener("blur",d),t.addEventListener("keyup",h),t.addEventListener("keydown",h),t.addEventListener("keypress",h),t!==window&&(window.addEventListener("blur",d),window.addEventListener("keyup",h),window.addEventListener("keydown",h),window.addEventListener("keypress",h)))}function m(){s&&(s=!1,t.removeEventListener("mousemove",g),t.removeEventListener("mousedown",f),t.removeEventListener("mouseup",p),t.removeEventListener("mouseleave",u),t.removeEventListener("mouseenter",u),t.removeEventListener("mouseout",u),t.removeEventListener("mouseover",u),t.removeEventListener("blur",d),t.removeEventListener("keyup",h),t.removeEventListener("keydown",h),t.removeEventListener("keypress",h),t!==window&&(window.removeEventListener("blur",d),window.removeEventListener("keyup",h),window.removeEventListener("keydown",h),window.removeEventListener("keypress",h)))}v();var y={element:t};return Object.defineProperties(y,{enabled:{get:function(){return s},set:function(t){t?v():m()},enumerable:!0},buttons:{get:function(){return n},enumerable:!0},x:{get:function(){return i},enumerable:!0},y:{get:function(){return a},enumerable:!0},mods:{get:function(){return o},enumerable:!0}}),y}},{"mouse-event":249}],248:[function(t,e,n){var r={left:0,top:0};function i(t,e,n){e=e||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var r=t.clientX||0,i=t.clientY||0,o=a(e);return n[0]=r-o.left,n[1]=i-o.top,n}function a(t){return t===window||t===document||t===document.body?r:t.getBoundingClientRect()}e.exports=i},{}],249:[function(t,e,n){function r(t){if("object"===o(t)){if("buttons"in t)return t.buttons;if("which"in t){if(2===(e=t.which))return 4;if(3===e)return 2;if(e>0)return 1<<e-1}else if("button"in t){var e;if(1===(e=t.button))return 4;if(2===e)return 2;if(e>=0)return 1<<e}}return 0}function i(t){return t.target||t.srcElement||window}function a(t){if("object"===o(t)){if("offsetX"in t)return t.offsetX;var e=i(t).getBoundingClientRect();return t.clientX-e.left}return 0}function s(t){if("object"===o(t)){if("offsetY"in t)return t.offsetY;var e=i(t).getBoundingClientRect();return t.clientY-e.top}return 0}n.buttons=r,n.element=i,n.x=a,n.y=s},{}],250:[function(t,e,n){var r=t("to-px");function i(t,e,n){"function"==typeof t&&(n=!!e,e=t,t=window);var i=r("ex",t),a=function(t){n&&t.preventDefault();var r=t.deltaX||0,a=t.deltaY||0,o=t.deltaZ||0,s=1;switch(t.deltaMode){case 1:s=i;break;case 2:s=window.innerHeight}if(a*=s,o*=s,(r*=s)||a||o)return e(r,a,o,t)};return t.addEventListener("wheel",a),a}e.exports=i},{"to-px":304}],251:[function(t,e,n){var r=t("typedarray-pool");e.exports=s;var i={"false,0,1":function(t,e,n,r,i){return function(a,o,s,l){var c,u=0|a.shape[0],d=0|a.shape[1],h=a.data,g=0|a.offset,f=0|a.stride[0],p=0|a.stride[1],v=g,m=0|-f,y=0,b=0|-p,I=0,C=-f-p|0,x=0,B=0|f,A=p-f*u|0,F=0,Q=0,w=0,U=2*u|0,G=r(U),R=r(U),S=0,L=0,_=-1,E=-1,k=0,V=0|-u,Z=0|u,N=0,T=-u-1|0,X=u-1|0,W=0,M=0,H=0;for(F=0;F<u;++F)G[S++]=n(h[v],o,s,l),v+=B;if(v+=A,d>0){if(Q=1,G[S++]=n(h[v],o,s,l),v+=B,u>0)for(F=1,c=h[v],L=G[S]=n(c,o,s,l),k=G[S+_],N=G[S+V],W=G[S+T],L===k&&L===N&&L===W||(y=h[v+m],I=h[v+b],x=h[v+C],t(F,Q,c,y,I,x,L,k,N,W,o,s,l),M=R[S]=w++),S+=1,v+=B,F=2;F<u;++F)c=h[v],L=G[S]=n(c,o,s,l),k=G[S+_],N=G[S+V],W=G[S+T],L===k&&L===N&&L===W||(y=h[v+m],I=h[v+b],x=h[v+C],t(F,Q,c,y,I,x,L,k,N,W,o,s,l),M=R[S]=w++,W!==k&&e(R[S+_],M,x,y,W,k,o,s,l)),S+=1,v+=B;for(v+=A,S=0,H=_,_=E,E=H,H=V,V=Z,Z=H,H=T,T=X,X=H,Q=2;Q<d;++Q){if(G[S++]=n(h[v],o,s,l),v+=B,u>0)for(F=1,c=h[v],L=G[S]=n(c,o,s,l),k=G[S+_],N=G[S+V],W=G[S+T],L===k&&L===N&&L===W||(y=h[v+m],I=h[v+b],x=h[v+C],t(F,Q,c,y,I,x,L,k,N,W,o,s,l),M=R[S]=w++,W!==N&&e(R[S+V],M,I,x,N,W,o,s,l)),S+=1,v+=B,F=2;F<u;++F)c=h[v],L=G[S]=n(c,o,s,l),k=G[S+_],N=G[S+V],W=G[S+T],L===k&&L===N&&L===W||(y=h[v+m],I=h[v+b],x=h[v+C],t(F,Q,c,y,I,x,L,k,N,W,o,s,l),M=R[S]=w++,W!==N&&e(R[S+V],M,I,x,N,W,o,s,l),W!==k&&e(R[S+_],M,x,y,W,k,o,s,l)),S+=1,v+=B;1&Q&&(S=0),H=_,_=E,E=H,H=V,V=Z,Z=H,H=T,T=X,X=H,v+=A}}i(R),i(G)}},"false,1,0":function(t,e,n,r,i){return function(a,o,s,l){var c,u=0|a.shape[0],d=0|a.shape[1],h=a.data,g=0|a.offset,f=0|a.stride[0],p=0|a.stride[1],v=g,m=0|-f,y=0,b=0|-p,I=0,C=-f-p|0,x=0,B=0|p,A=f-p*d|0,F=0,Q=0,w=0,U=2*d|0,G=r(U),R=r(U),S=0,L=0,_=-1,E=-1,k=0,V=0|-d,Z=0|d,N=0,T=-d-1|0,X=d-1|0,W=0,M=0,H=0;for(Q=0;Q<d;++Q)G[S++]=n(h[v],o,s,l),v+=B;if(v+=A,u>0){if(F=1,G[S++]=n(h[v],o,s,l),v+=B,d>0)for(Q=1,c=h[v],L=G[S]=n(c,o,s,l),N=G[S+V],k=G[S+_],W=G[S+T],L===N&&L===k&&L===W||(y=h[v+m],I=h[v+b],x=h[v+C],t(F,Q,c,y,I,x,L,N,k,W,o,s,l),M=R[S]=w++),S+=1,v+=B,Q=2;Q<d;++Q)c=h[v],L=G[S]=n(c,o,s,l),N=G[S+V],k=G[S+_],W=G[S+T],L===N&&L===k&&L===W||(y=h[v+m],I=h[v+b],x=h[v+C],t(F,Q,c,y,I,x,L,N,k,W,o,s,l),M=R[S]=w++,W!==k&&e(R[S+_],M,I,x,k,W,o,s,l)),S+=1,v+=B;for(v+=A,S=0,H=V,V=Z,Z=H,H=_,_=E,E=H,H=T,T=X,X=H,F=2;F<u;++F){if(G[S++]=n(h[v],o,s,l),v+=B,d>0)for(Q=1,c=h[v],L=G[S]=n(c,o,s,l),N=G[S+V],k=G[S+_],W=G[S+T],L===N&&L===k&&L===W||(y=h[v+m],I=h[v+b],x=h[v+C],t(F,Q,c,y,I,x,L,N,k,W,o,s,l),M=R[S]=w++,W!==N&&e(R[S+V],M,x,y,W,N,o,s,l)),S+=1,v+=B,Q=2;Q<d;++Q)c=h[v],L=G[S]=n(c,o,s,l),N=G[S+V],k=G[S+_],W=G[S+T],L===N&&L===k&&L===W||(y=h[v+m],I=h[v+b],x=h[v+C],t(F,Q,c,y,I,x,L,N,k,W,o,s,l),M=R[S]=w++,W!==k&&e(R[S+_],M,I,x,k,W,o,s,l),W!==N&&e(R[S+V],M,x,y,W,N,o,s,l)),S+=1,v+=B;1&F&&(S=0),H=V,V=Z,Z=H,H=_,_=E,E=H,H=T,T=X,X=H,v+=A}}i(R),i(G)}}};function a(t,e,n,a,o,s){var l=[s,o].join(",");return(0,i[l])(t,e,n,r.mallocUint32,r.freeUint32)}function s(t){function e(t){throw new Error("ndarray-extract-contour: "+t)}"object"!==o(t)&&e("Must specify arguments");var n=t.order;Array.isArray(n)||e("Must specify order");var r=t.arrayArguments||1;r<1&&e("Must have at least one array argument");var i=t.scalarArguments||0;i<0&&e("Scalar arg count must be > 0"),"function"!=typeof t.vertex&&e("Must specify vertex creation function"),"function"!=typeof t.cell&&e("Must specify cell creation function"),"function"!=typeof t.phase&&e("Must specify phase function");for(var s=t.getters||[],l=new Array(r),c=0;c<r;++c)s.indexOf(c)>=0?l[c]=!0:l[c]=!1;return a(t.vertex,t.cell,t.phase,i,n,l)}},{"typedarray-pool":308}],252:[function(t,e,n){var r=t("dup"),i={zero:function(t,e,n,r){var i=t[0];r|=0;var a=0,o=n[0];for(a=0;a<i;++a)e[r]=0,r+=o},fdTemplate1:function(t,e,n,r,i,a,o){var s=t[0],l=n[0],c=-1*l,u=l;r|=0,o|=0;var d=0,h=l,g=a[0];for(d=0;d<s;++d)i[o]=.5*(e[r+c]-e[r+u]),r+=h,o+=g},fdTemplate2:function(t,e,n,r,i,a,o,s,l,c){var u=t[0],d=t[1],h=n[0],g=n[1],f=a[0],p=a[1],v=l[0],m=l[1],y=-1*h,b=h,I=-1*g,C=g;r|=0,o|=0,c|=0;var x=0,B=0,A=g,F=h-d*g,Q=p,w=f-d*p,U=m,G=v-d*m;for(B=0;B<u;++B){for(x=0;x<d;++x)i[o]=.5*(e[r+y]-e[r+b]),s[c]=.5*(e[r+I]-e[r+C]),r+=A,o+=Q,c+=U;r+=F,o+=w,c+=G}}},a={cdiff:function(t){var e={};return function(n,r,i){var a=n.dtype,o=n.order,s=r.dtype,l=r.order,c=i.dtype,u=i.order,d=[a,o.join(),s,l.join(),c,u.join()].join(),h=e[d];return h||(e[d]=h=t([a,o,s,l,c,u])),h(n.shape.slice(0),n.data,n.stride,0|n.offset,r.data,r.stride,0|r.offset,i.data,i.stride,0|i.offset)}},zero:function(t){var e={};return function(n){var r=n.dtype,i=n.order,a=[r,i.join()].join(),o=e[a];return o||(e[a]=o=t([r,i])),o(n.shape.slice(0),n.data,n.stride,0|n.offset)}},fdTemplate1:function(t){var e={};return function(n,r){var i=n.dtype,a=n.order,o=r.dtype,s=r.order,l=[i,a.join(),o,s.join()].join(),c=e[l];return c||(e[l]=c=t([i,a,o,s])),c(n.shape.slice(0),n.data,n.stride,0|n.offset,r.data,r.stride,0|r.offset)}},fdTemplate2:function(t){var e={};return function(n,r,i){var a=n.dtype,o=n.order,s=r.dtype,l=r.order,c=i.dtype,u=i.order,d=[a,o.join(),s,l.join(),c,u.join()].join(),h=e[d];return h||(e[d]=h=t([a,o,s,l,c,u])),h(n.shape.slice(0),n.data,n.stride,0|n.offset,r.data,r.stride,0|r.offset,i.data,i.stride,0|i.offset)}}};function o(t){return(0,a[t.funcName])(s.bind(void 0,t))}function s(t){return i[t.funcName]}function l(t){return o({funcName:t.funcName})}var c={},u={},d=l({funcName:"cdiff"}),h=l({funcName:"zero"});function g(t){return t in c?c[t]:c[t]=l({funcName:"fdTemplate"+t})}function f(t,e,n,r){return function(t,i){var a=i.shape.slice();return a[0]>2&&a[1]>2&&r(i.pick(-1,-1).lo(1,1).hi(a[0]-2,a[1]-2),t.pick(-1,-1,0).lo(1,1).hi(a[0]-2,a[1]-2),t.pick(-1,-1,1).lo(1,1).hi(a[0]-2,a[1]-2)),a[1]>2&&(n(i.pick(0,-1).lo(1).hi(a[1]-2),t.pick(0,-1,1).lo(1).hi(a[1]-2)),e(t.pick(0,-1,0).lo(1).hi(a[1]-2))),a[1]>2&&(n(i.pick(a[0]-1,-1).lo(1).hi(a[1]-2),t.pick(a[0]-1,-1,1).lo(1).hi(a[1]-2)),e(t.pick(a[0]-1,-1,0).lo(1).hi(a[1]-2))),a[0]>2&&(n(i.pick(-1,0).lo(1).hi(a[0]-2),t.pick(-1,0,0).lo(1).hi(a[0]-2)),e(t.pick(-1,0,1).lo(1).hi(a[0]-2))),a[0]>2&&(n(i.pick(-1,a[1]-1).lo(1).hi(a[0]-2),t.pick(-1,a[1]-1,0).lo(1).hi(a[0]-2)),e(t.pick(-1,a[1]-1,1).lo(1).hi(a[0]-2))),t.set(0,0,0,0),t.set(0,0,1,0),t.set(a[0]-1,0,0,0),t.set(a[0]-1,0,1,0),t.set(0,a[1]-1,0,0),t.set(0,a[1]-1,1,0),t.set(a[0]-1,a[1]-1,0,0),t.set(a[0]-1,a[1]-1,1,0),t}}function p(t){var e=t.join();if(a=u[e])return a;for(var n=t.length,r=[d,h],i=1;i<=n;++i)r.push(g(i));var a=f.apply(void 0,r);return u[e]=a,a}e.exports=function(t,e,n){return Array.isArray(n)||(n=r(e.dimension,"string"==typeof n?n:"clamp")),0===e.size?t:0===e.dimension?(t.set(0),t):p(n)(t,e)}},{dup:65}],253:[function(t,e,n){function r(t,e){var n=Math.floor(e),r=e-n,i=0<=n&&n<t.shape[0],a=0<=n+1&&n+1<t.shape[0];return(1-r)*(i?+t.get(n):0)+r*(a?+t.get(n+1):0)}function i(t,e,n){var r=Math.floor(e),i=e-r,a=0<=r&&r<t.shape[0],o=0<=r+1&&r+1<t.shape[0],s=Math.floor(n),l=n-s,c=0<=s&&s<t.shape[1],u=0<=s+1&&s+1<t.shape[1],d=a&&c?t.get(r,s):0,h=a&&u?t.get(r,s+1):0;return(1-l)*((1-i)*d+i*(o&&c?t.get(r+1,s):0))+l*((1-i)*h+i*(o&&u?t.get(r+1,s+1):0))}function a(t,e,n,r){var i=Math.floor(e),a=e-i,o=0<=i&&i<t.shape[0],s=0<=i+1&&i+1<t.shape[0],l=Math.floor(n),c=n-l,u=0<=l&&l<t.shape[1],d=0<=l+1&&l+1<t.shape[1],h=Math.floor(r),g=r-h,f=0<=h&&h<t.shape[2],p=0<=h+1&&h+1<t.shape[2],v=o&&u&&f?t.get(i,l,h):0,m=o&&d&&f?t.get(i,l+1,h):0,y=s&&u&&f?t.get(i+1,l,h):0,b=s&&d&&f?t.get(i+1,l+1,h):0,I=o&&u&&p?t.get(i,l,h+1):0,C=o&&d&&p?t.get(i,l+1,h+1):0;return(1-g)*((1-c)*((1-a)*v+a*y)+c*((1-a)*m+a*b))+g*((1-c)*((1-a)*I+a*(s&&u&&p?t.get(i+1,l,h+1):0))+c*((1-a)*C+a*(s&&d&&p?t.get(i+1,l+1,h+1):0)))}function o(t){var e,n,r=0|t.shape.length,i=new Array(r),a=new Array(r),o=new Array(r),s=new Array(r);for(e=0;e<r;++e)n=+arguments[e+1],i[e]=Math.floor(n),a[e]=n-i[e],o[e]=0<=i[e]&&i[e]<t.shape[e],s[e]=0<=i[e]+1&&i[e]+1<t.shape[e];var l,c,u,d=0;t:for(e=0;e<1<<r;++e){for(c=1,u=t.offset,l=0;l<r;++l)if(e&1<<l){if(!s[l])continue t;c*=a[l],u+=t.stride[l]*(i[l]+1)}else{if(!o[l])continue t;c*=1-a[l],u+=t.stride[l]*i[l]}d+=c*t.data[u]}return d}function s(t,e,n,s){switch(t.shape.length){case 0:return 0;case 1:return r(t,e);case 2:return i(t,e,n);case 3:return a(t,e,n,s);default:return o.apply(void 0,arguments)}}e.exports=s,e.exports.d1=r,e.exports.d2=i,e.exports.d3=a},{}],254:[function(t,e,n){var r={"float64,2,1,0":function(){return function(t,e,n,r,i){var a=t[0],o=t[1],s=t[2],l=n[0],c=n[1],u=n[2];r|=0;var d=0,h=0,g=0,f=u,p=c-s*u,v=l-o*c;for(g=0;g<a;++g){for(h=0;h<o;++h){for(d=0;d<s;++d)e[r]/=i,r+=f;r+=p}r+=v}}},"uint8,2,0,1,float64,2,1,0":function(){return function(t,e,n,r,i,a,o,s){for(var l=t[0],c=t[1],u=t[2],d=n[0],h=n[1],g=n[2],f=a[0],p=a[1],v=a[2],m=r|=0,y=o|=0,b=0|t[0];b>0;){b<64?(l=b,b=0):(l=64,b-=64);for(var I=0|t[1];I>0;){I<64?(c=I,I=0):(c=64,I-=64),r=m+b*d+I*h,o=y+b*f+I*p;var C=0,x=0,B=0,A=g,F=d-u*g,Q=h-l*d,w=v,U=f-u*v,G=p-l*f;for(B=0;B<c;++B){for(x=0;x<l;++x){for(C=0;C<u;++C)e[r]=i[o]*s,r+=A,o+=w;r+=F,o+=U}r+=Q,o+=G}}}}},"float32,1,0,float32,1,0":function(){return function(t,e,n,r,i,a,o){var s=t[0],l=t[1],c=n[0],u=n[1],d=a[0],h=a[1];r|=0,o|=0;var g=0,f=0,p=u,v=c-l*u,m=h,y=d-l*h;for(f=0;f<s;++f){for(g=0;g<l;++g)e[r]=i[o],r+=p,o+=m;r+=v,o+=y}}},"float32,1,0,float32,0,1":function(){return function(t,e,n,r,i,a,o){for(var s=t[0],l=t[1],c=n[0],u=n[1],d=a[0],h=a[1],g=r|=0,f=o|=0,p=0|t[1];p>0;){p<64?(l=p,p=0):(l=64,p-=64);for(var v=0|t[0];v>0;){v<64?(s=v,v=0):(s=64,v-=64),r=g+p*u+v*c,o=f+p*h+v*d;var m=0,y=0,b=u,I=c-l*u,C=h,x=d-l*h;for(y=0;y<s;++y){for(m=0;m<l;++m)e[r]=i[o],r+=b,o+=C;r+=I,o+=x}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(t,e,n,r,i,a,o){for(var s=t[0],l=t[1],c=t[2],u=n[0],d=n[1],h=n[2],g=a[0],f=a[1],p=a[2],v=r|=0,m=o|=0,y=0|t[2];y>0;){y<64?(c=y,y=0):(c=64,y-=64);for(var b=0|t[0];b>0;){b<64?(s=b,b=0):(s=64,b-=64);for(var I=0|t[1];I>0;){I<64?(l=I,I=0):(l=64,I-=64),r=v+y*h+b*u+I*d,o=m+y*p+b*g+I*f;var C=0,x=0,B=0,A=h,F=u-c*h,Q=d-s*u,w=p,U=g-c*p,G=f-s*g;for(B=0;B<l;++B){for(x=0;x<s;++x){for(C=0;C<c;++C)e[r]=i[o],r+=A,o+=w;r+=F,o+=U}r+=Q,o+=G}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(t,e,n,r,i,a,o){var s=t[0],l=t[1],c=t[2],u=n[0],d=n[1],h=n[2],g=a[0],f=a[1],p=a[2];r|=0,o|=0;var v=0,m=0,y=0,b=h,I=u-c*h,C=d-s*u,x=p,B=g-c*p,A=f-s*g;for(y=0;y<l;++y){for(m=0;m<s;++m){for(v=0;v<c;++v)e[r]=i[o],r+=b,o+=x;r+=I,o+=B}r+=C,o+=A}}}};function i(t,e){var n=e.join(",");return(0,r[n])()}var a=i,o={mul:function(t){var e={};return function(n,r,i){var a=n.dtype,o=n.order,s=r.dtype,l=r.order,c=i.dtype,u=i.order,d=[a,o.join(),s,l.join(),c,u.join()].join(),h=e[d];return h||(e[d]=h=t([a,o,s,l,c,u])),h(n.shape.slice(0),n.data,n.stride,0|n.offset,r.data,r.stride,0|r.offset,i.data,i.stride,0|i.offset)}},muls:function(t){var e={};return function(n,r,i){var a=n.dtype,o=n.order,s=r.dtype,l=r.order,c=[a,o.join(),s,l.join()].join(),u=e[c];return u||(e[c]=u=t([a,o,s,l])),u(n.shape.slice(0),n.data,n.stride,0|n.offset,r.data,r.stride,0|r.offset,i)}},mulseq:function(t){var e={};return function(n,r){var i=n.dtype,a=n.order,o=[i,a.join()].join(),s=e[o];return s||(e[o]=s=t([i,a])),s(n.shape.slice(0),n.data,n.stride,0|n.offset,r)}},div:function(t){var e={};return function(n,r,i){var a=n.dtype,o=n.order,s=r.dtype,l=r.order,c=i.dtype,u=i.order,d=[a,o.join(),s,l.join(),c,u.join()].join(),h=e[d];return h||(e[d]=h=t([a,o,s,l,c,u])),h(n.shape.slice(0),n.data,n.stride,0|n.offset,r.data,r.stride,0|r.offset,i.data,i.stride,0|i.offset)}},divs:function(t){var e={};return function(n,r,i){var a=n.dtype,o=n.order,s=r.dtype,l=r.order,c=[a,o.join(),s,l.join()].join(),u=e[c];return u||(e[c]=u=t([a,o,s,l])),u(n.shape.slice(0),n.data,n.stride,0|n.offset,r.data,r.stride,0|r.offset,i)}},divseq:function(t){var e={};return function(n,r){var i=n.dtype,a=n.order,o=[i,a.join()].join(),s=e[o];return s||(e[o]=s=t([i,a])),s(n.shape.slice(0),n.data,n.stride,0|n.offset,r)}},assign:function(t){var e={};return function(n,r){var i=n.dtype,a=n.order,o=r.dtype,s=r.order,l=[i,a.join(),o,s.join()].join(),c=e[l];return c||(e[l]=c=t([i,a,o,s])),c(n.shape.slice(0),n.data,n.stride,0|n.offset,r.data,r.stride,0|r.offset)}}};function s(t){return(0,o[t.funcName])(a.bind(void 0,t))}function l(t){return s({funcName:t.funcName})}var c={mul:"*",div:"/"};!function(){for(var t in c)n[t]=l({funcName:t}),n[t+"s"]=l({funcName:t+"s"}),n[t+"seq"]=l({funcName:t+"seq"})}(),n.assign=l({funcName:"assign"})},{}],255:[function(t,e,n){var r=t("ndarray"),i=t("./doConvert.js");e.exports=function(t,e){for(var n=[],a=t,o=1;Array.isArray(a);)n.push(a.length),o*=a.length,a=a[0];return 0===n.length?r():(e||(e=r(new Float64Array(o),n)),i(e,t),e)}},{"./doConvert.js":256,ndarray:259}],256:[function(t,e,n){function r(){return function(t,e,n,r,i){var a=t[0],o=t[1],s=t[2],l=n[0],c=n[1],u=n[2],d=[0,0,0];r|=0;var h=0,g=0,f=0,p=u,v=c-s*u,m=l-o*c;for(f=0;f<a;++f){for(g=0;g<o;++g){for(h=0;h<s;++h){var y,b=i;for(y=0;y<d.length-1;++y)b=b[d[y]];e[r]=b[d[d.length-1]],r+=p,++d[2]}r+=v,d[2]-=s,++d[1]}r+=m,d[1]-=o,++d[0]}}}function i(){return r()}var a=i;function o(t){var e={};return function(n,r){var i=n.dtype,a=n.order,o=[i,a.join()].join(),s=e[o];return s||(e[o]=s=t([i,a])),s(n.shape.slice(0),n.data,n.stride,0|n.offset,r)}}function s(t){return o(a.bind(void 0,t))}function l(t){return s({funcName:t.funcName})}e.exports=l({funcName:"convert"})},{}],257:[function(t,e,n){var r=t("typedarray-pool");function i(t){return"uint32"===t?[r.mallocUint32,r.freeUint32]:null}var a={"uint32,1,0":function(t,e){return function(n,r,i,a,o,s,l,c,u,d,h){var g,f,p,v,m,y,b,I,C=n*o+a,x=t(c);for(g=n+1;g<=r;++g){for(f=g,p=C+=o,m=0,y=C,v=0;v<c;++v)x[m++]=i[y],y+=u;t:for(;f-- >n;){m=0,y=p-o;e:for(v=0;v<c;++v){if((b=i[y])<(I=x[m]))break t;if(b>I)break e;y+=d,m+=h}for(m=p,y=p-o,v=0;v<c;++v)i[m]=i[y],m+=u,y+=u;p-=o}for(m=p,y=0,v=0;v<c;++v)i[m]=x[y++],m+=u}e(x)}}};function o(t,e){var n=i(e),r=[e,t].join(","),o=a[r];return n?o(n[0],n[1]):o()}var s={"uint32,1,0":function(t,e,n){return function r(i,a,o,s,l,c,u,d,h,g,f){var p,v,m,y,b,I,C,x,B,A,F,Q,w,U,G,R,S,L,_,E,k,V,Z,N,T,X=(a-i+1)/6|0,W=i+X,M=a-X,H=i+a>>1,D=H-X,Y=H+X,O=W,z=D,J=H,j=Y,P=M,K=i+1,q=a-1,$=!0,tt=0,et=0,nt=0,rt=d,it=e(rt),at=e(rt);F=l*O,Q=l*z,T=s;t:for(A=0;A<d;++A){if(x=Q+T,(nt=o[C=F+T]-o[x])>0){v=O,O=z,z=v;break t}if(nt<0)break t;T+=g}F=l*j,Q=l*P,T=s;t:for(A=0;A<d;++A){if(x=Q+T,(nt=o[C=F+T]-o[x])>0){v=j,j=P,P=v;break t}if(nt<0)break t;T+=g}F=l*O,Q=l*J,T=s;t:for(A=0;A<d;++A){if(x=Q+T,(nt=o[C=F+T]-o[x])>0){v=O,O=J,J=v;break t}if(nt<0)break t;T+=g}F=l*z,Q=l*J,T=s;t:for(A=0;A<d;++A){if(x=Q+T,(nt=o[C=F+T]-o[x])>0){v=z,z=J,J=v;break t}if(nt<0)break t;T+=g}F=l*O,Q=l*j,T=s;t:for(A=0;A<d;++A){if(x=Q+T,(nt=o[C=F+T]-o[x])>0){v=O,O=j,j=v;break t}if(nt<0)break t;T+=g}F=l*J,Q=l*j,T=s;t:for(A=0;A<d;++A){if(x=Q+T,(nt=o[C=F+T]-o[x])>0){v=J,J=j,j=v;break t}if(nt<0)break t;T+=g}F=l*z,Q=l*P,T=s;t:for(A=0;A<d;++A){if(x=Q+T,(nt=o[C=F+T]-o[x])>0){v=z,z=P,P=v;break t}if(nt<0)break t;T+=g}F=l*z,Q=l*J,T=s;t:for(A=0;A<d;++A){if(x=Q+T,(nt=o[C=F+T]-o[x])>0){v=z,z=J,J=v;break t}if(nt<0)break t;T+=g}F=l*j,Q=l*P,T=s;t:for(A=0;A<d;++A){if(x=Q+T,(nt=o[C=F+T]-o[x])>0){v=j,j=P,P=v;break t}if(nt<0)break t;T+=g}for(F=l*O,Q=l*z,w=l*J,U=l*j,G=l*P,R=l*W,S=l*H,L=l*M,N=0,T=s,A=0;A<d;++A)C=F+T,x=Q+T,B=w+T,_=U+T,E=G+T,k=R+T,V=S+T,Z=L+T,it[N]=o[x],at[N]=o[_],$=$&&it[N]===at[N],m=o[C],y=o[B],b=o[E],o[k]=m,o[V]=y,o[Z]=b,++N,T+=h;for(F=l*D,Q=l*i,T=s,A=0;A<d;++A)x=Q+T,o[C=F+T]=o[x],T+=h;for(F=l*Y,Q=l*a,T=s,A=0;A<d;++A)x=Q+T,o[C=F+T]=o[x],T+=h;if($)for(I=K;I<=q;++I){for(C=s+I*l,N=0,A=0;A<d&&0==(nt=o[C]-it[N]);++A)N+=f,C+=g;if(0!==nt)if(nt<0){if(I!==K)for(F=l*I,Q=l*K,T=s,A=0;A<d;++A)x=Q+T,p=o[C=F+T],o[C]=o[x],o[x]=p,T+=h;++K}else for(;;){for(C=s+q*l,N=0,A=0;A<d&&0==(nt=o[C]-it[N]);++A)N+=f,C+=g;if(!(nt>0)){if(nt<0){for(F=l*I,Q=l*K,w=l*q,T=s,A=0;A<d;++A)x=Q+T,B=w+T,p=o[C=F+T],o[C]=o[x],o[x]=o[B],o[B]=p,T+=h;++K,--q;break}for(F=l*I,Q=l*q,T=s,A=0;A<d;++A)x=Q+T,p=o[C=F+T],o[C]=o[x],o[x]=p,T+=h;--q;break}q--}}else for(I=K;I<=q;++I){for(C=s+I*l,N=0,A=0;A<d&&0==(tt=o[C]-it[N]);++A)N+=f,C+=g;if(tt<0){if(I!==K)for(F=l*I,Q=l*K,T=s,A=0;A<d;++A)x=Q+T,p=o[C=F+T],o[C]=o[x],o[x]=p,T+=h;++K}else{for(C=s+I*l,N=0,A=0;A<d&&0==(et=o[C]-at[N]);++A)N+=f,C+=g;if(et>0)for(;;){for(C=s+q*l,N=0,A=0;A<d&&0==(nt=o[C]-at[N]);++A)N+=f,C+=g;if(!(nt>0)){for(C=s+q*l,N=0,A=0;A<d&&0==(nt=o[C]-it[N]);++A)N+=f,C+=g;if(nt<0){for(F=l*I,Q=l*K,w=l*q,T=s,A=0;A<d;++A)x=Q+T,B=w+T,p=o[C=F+T],o[C]=o[x],o[x]=o[B],o[B]=p,T+=h;++K,--q}else{for(F=l*I,Q=l*q,T=s,A=0;A<d;++A)x=Q+T,p=o[C=F+T],o[C]=o[x],o[x]=p,T+=h;--q}break}if(--q<I)break}}}for(F=l*i,Q=l*(K-1),N=0,T=s,A=0;A<d;++A)x=Q+T,o[C=F+T]=o[x],o[x]=it[N],++N,T+=h;for(F=l*a,Q=l*(q+1),N=0,T=s,A=0;A<d;++A)x=Q+T,o[C=F+T]=o[x],o[x]=at[N],++N,T+=h;if(K-2-i<=32?t(i,K-2,o,s,l,c,u,d,h,g,f):r(i,K-2,o,s,l,c,u,d,h,g,f),a-(q+2)<=32?t(q+2,a,o,s,l,c,u,d,h,g,f):r(q+2,a,o,s,l,c,u,d,h,g,f),$)return n(it),void n(at);if(K<W&&q>M){t:for(;;){for(C=s+K*l,N=0,T=s,A=0;A<d;++A){if(o[C]!==it[N])break t;++N,C+=h}++K}t:for(;;){for(C=s+q*l,N=0,T=s,A=0;A<d;++A){if(o[C]!==at[N])break t;++N,C+=h}--q}for(I=K;I<=q;++I){for(C=s+I*l,N=0,A=0;A<d&&0==(tt=o[C]-it[N]);++A)N+=f,C+=g;if(0===tt){if(I!==K)for(F=l*I,Q=l*K,T=s,A=0;A<d;++A)x=Q+T,p=o[C=F+T],o[C]=o[x],o[x]=p,T+=h;++K}else{for(C=s+I*l,N=0,A=0;A<d&&0==(et=o[C]-at[N]);++A)N+=f,C+=g;if(0===et)for(;;){for(C=s+q*l,N=0,A=0;A<d&&0==(nt=o[C]-at[N]);++A)N+=f,C+=g;if(0!==nt){for(C=s+q*l,N=0,A=0;A<d&&0==(nt=o[C]-it[N]);++A)N+=f,C+=g;if(nt<0){for(F=l*I,Q=l*K,w=l*q,T=s,A=0;A<d;++A)x=Q+T,B=w+T,p=o[C=F+T],o[C]=o[x],o[x]=o[B],o[B]=p,T+=h;++K,--q}else{for(F=l*I,Q=l*q,T=s,A=0;A<d;++A)x=Q+T,p=o[C=F+T],o[C]=o[x],o[x]=p,T+=h;--q}break}if(--q<I)break}}}}n(it),n(at),q-K<=32?t(K,q,o,s,l,c,u,d,h,g,f):r(K,q,o,s,l,c,u,d,h,g,f)}}};function l(t,e,n){var r=i(e),a=[e,t].join(","),o=s[a];return t.length>1&&r?o(n,r[0],r[1]):o(n)}var c={"uint32,1,0":function(t,e){return function(n){var r=n.data,i=0|n.offset,a=n.shape,o=n.stride,s=0|o[0],l=0|a[0],c=0|o[1],u=0|a[1],d=c,h=c,g=1;l<=32?t(0,l-1,r,i,s,c,l,u,d,h,g):e(0,l-1,r,i,s,c,l,u,d,h,g)}}};function u(t,e){var n=[e,t].join(","),r=c[n],i=o(t,e);return r(i,l(t,e,i))}e.exports=u},{"typedarray-pool":308}],258:[function(t,e,n){var r=t("./lib/compile_sort.js"),i={};function a(t){var e=t.order,n=t.dtype,a=[e,n].join(":"),o=i[a];return o||(i[a]=o=r(e,n)),o(t),t}e.exports=a},{"./lib/compile_sort.js":257}],259:[function(t,e,n){var r=t("is-buffer"),i="undefined"!=typeof Float64Array;function a(t,e){return t[0]-e[0]}function o(){var t,e=this.stride,n=new Array(e.length);for(t=0;t<n.length;++t)n[t]=[Math.abs(e[t]),t];n.sort(a);var r=new Array(n.length);for(t=0;t<r.length;++t)r[t]=n[t][1];return r}var s={T:function(t){function e(t){this.data=t}var n=e.prototype;return n.dtype=t,n.index=function(){return-1},n.size=0,n.dimension=-1,n.shape=n.stride=n.order=[],n.lo=n.hi=n.transpose=n.step=function(){return new e(this.data)},n.get=n.set=function(){},n.pick=function(){return null},function(t){return new e(t)}},0:function(t,e){function n(t,e){this.data=t,this.offset=e}var r=n.prototype;return r.dtype=t,r.index=function(){return this.offset},r.dimension=0,r.size=1,r.shape=r.stride=r.order=[],r.lo=r.hi=r.transpose=r.step=function(){return new n(this.data,this.offset)},r.pick=function(){return e(this.data)},r.valueOf=r.get=function(){return"generic"===t?this.data.get(this.offset):this.data[this.offset]},r.set=function(e){return"generic"===t?this.data.set(this.offset,e):this.data[this.offset]=e},function(t,e,r,i){return new n(t,i)}},1:function(t,e,n){function r(t,e,n,r){this.data=t,this.shape=[e],this.stride=[n],this.offset=0|r}var i=r.prototype;return i.dtype=t,i.dimension=1,Object.defineProperty(i,"size",{get:function(){return this.shape[0]}}),i.order=[0],i.set=function(e,n){return"generic"===t?this.data.set(this.offset+this.stride[0]*e,n):this.data[this.offset+this.stride[0]*e]=n},i.get=function(e){return"generic"===t?this.data.get(this.offset+this.stride[0]*e):this.data[this.offset+this.stride[0]*e]},i.index=function(t){return this.offset+this.stride[0]*t},i.hi=function(t){return new r(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,this.stride[0],this.offset)},i.lo=function(t){var e=this.offset,n=0,i=this.shape[0],a=this.stride[0];return"number"==typeof t&&t>=0&&(e+=a*(n=0|t),i-=n),new r(this.data,i,a,e)},i.step=function(t){var e=this.shape[0],n=this.stride[0],i=this.offset,a=0,o=Math.ceil;return"number"==typeof t&&((a=0|t)<0?(i+=n*(e-1),e=o(-e/a)):e=o(e/a),n*=a),new r(this.data,e,n,i)},i.transpose=function(t){t=void 0===t?0:0|t;var e=this.shape,n=this.stride;return new r(this.data,e[t],n[t],this.offset)},i.pick=function(t){var n=[],r=[],i=this.offset;return"number"==typeof t&&t>=0?i=i+this.stride[0]*t|0:(n.push(this.shape[0]),r.push(this.stride[0])),(0,e[n.length+1])(this.data,n,r,i)},function(t,e,n,i){return new r(t,e[0],n[0],i)}},2:function(t,e,n){function r(t,e,n,r,i,a){this.data=t,this.shape=[e,n],this.stride=[r,i],this.offset=0|a}var i=r.prototype;return i.dtype=t,i.dimension=2,Object.defineProperty(i,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(i,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),i.set=function(e,n,r){return"generic"===t?this.data.set(this.offset+this.stride[0]*e+this.stride[1]*n,r):this.data[this.offset+this.stride[0]*e+this.stride[1]*n]=r},i.get=function(e,n){return"generic"===t?this.data.get(this.offset+this.stride[0]*e+this.stride[1]*n):this.data[this.offset+this.stride[0]*e+this.stride[1]*n]},i.index=function(t,e){return this.offset+this.stride[0]*t+this.stride[1]*e},i.hi=function(t,e){return new r(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,"number"!=typeof e||e<0?this.shape[1]:0|e,this.stride[0],this.stride[1],this.offset)},i.lo=function(t,e){var n=this.offset,i=0,a=this.shape[0],o=this.shape[1],s=this.stride[0],l=this.stride[1];return"number"==typeof t&&t>=0&&(n+=s*(i=0|t),a-=i),"number"==typeof e&&e>=0&&(n+=l*(i=0|e),o-=i),new r(this.data,a,o,s,l,n)},i.step=function(t,e){var n=this.shape[0],i=this.shape[1],a=this.stride[0],o=this.stride[1],s=this.offset,l=0,c=Math.ceil;return"number"==typeof t&&((l=0|t)<0?(s+=a*(n-1),n=c(-n/l)):n=c(n/l),a*=l),"number"==typeof e&&((l=0|e)<0?(s+=o*(i-1),i=c(-i/l)):i=c(i/l),o*=l),new r(this.data,n,i,a,o,s)},i.transpose=function(t,e){t=void 0===t?0:0|t,e=void 0===e?1:0|e;var n=this.shape,i=this.stride;return new r(this.data,n[t],n[e],i[t],i[e],this.offset)},i.pick=function(t,n){var r=[],i=[],a=this.offset;return"number"==typeof t&&t>=0?a=a+this.stride[0]*t|0:(r.push(this.shape[0]),i.push(this.stride[0])),"number"==typeof n&&n>=0?a=a+this.stride[1]*n|0:(r.push(this.shape[1]),i.push(this.stride[1])),(0,e[r.length+1])(this.data,r,i,a)},function(t,e,n,i){return new r(t,e[0],e[1],n[0],n[1],i)}},3:function(t,e,n){function r(t,e,n,r,i,a,o,s){this.data=t,this.shape=[e,n,r],this.stride=[i,a,o],this.offset=0|s}var i=r.prototype;return i.dtype=t,i.dimension=3,Object.defineProperty(i,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(i,"order",{get:function(){var t=Math.abs(this.stride[0]),e=Math.abs(this.stride[1]),n=Math.abs(this.stride[2]);return t>e?e>n?[2,1,0]:t>n?[1,2,0]:[1,0,2]:t>n?[2,0,1]:n>e?[0,1,2]:[0,2,1]}}),i.set=function(e,n,r,i){return"generic"===t?this.data.set(this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r,i):this.data[this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r]=i},i.get=function(e,n,r){return"generic"===t?this.data.get(this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r):this.data[this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r]},i.index=function(t,e,n){return this.offset+this.stride[0]*t+this.stride[1]*e+this.stride[2]*n},i.hi=function(t,e,n){return new r(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,"number"!=typeof e||e<0?this.shape[1]:0|e,"number"!=typeof n||n<0?this.shape[2]:0|n,this.stride[0],this.stride[1],this.stride[2],this.offset)},i.lo=function(t,e,n){var i=this.offset,a=0,o=this.shape[0],s=this.shape[1],l=this.shape[2],c=this.stride[0],u=this.stride[1],d=this.stride[2];return"number"==typeof t&&t>=0&&(i+=c*(a=0|t),o-=a),"number"==typeof e&&e>=0&&(i+=u*(a=0|e),s-=a),"number"==typeof n&&n>=0&&(i+=d*(a=0|n),l-=a),new r(this.data,o,s,l,c,u,d,i)},i.step=function(t,e,n){var i=this.shape[0],a=this.shape[1],o=this.shape[2],s=this.stride[0],l=this.stride[1],c=this.stride[2],u=this.offset,d=0,h=Math.ceil;return"number"==typeof t&&((d=0|t)<0?(u+=s*(i-1),i=h(-i/d)):i=h(i/d),s*=d),"number"==typeof e&&((d=0|e)<0?(u+=l*(a-1),a=h(-a/d)):a=h(a/d),l*=d),"number"==typeof n&&((d=0|n)<0?(u+=c*(o-1),o=h(-o/d)):o=h(o/d),c*=d),new r(this.data,i,a,o,s,l,c,u)},i.transpose=function(t,e,n){t=void 0===t?0:0|t,e=void 0===e?1:0|e,n=void 0===n?2:0|n;var i=this.shape,a=this.stride;return new r(this.data,i[t],i[e],i[n],a[t],a[e],a[n],this.offset)},i.pick=function(t,n,r){var i=[],a=[],o=this.offset;return"number"==typeof t&&t>=0?o=o+this.stride[0]*t|0:(i.push(this.shape[0]),a.push(this.stride[0])),"number"==typeof n&&n>=0?o=o+this.stride[1]*n|0:(i.push(this.shape[1]),a.push(this.stride[1])),"number"==typeof r&&r>=0?o=o+this.stride[2]*r|0:(i.push(this.shape[2]),a.push(this.stride[2])),(0,e[i.length+1])(this.data,i,a,o)},function(t,e,n,i){return new r(t,e[0],e[1],e[2],n[0],n[1],n[2],i)}},4:function(t,e,n){function r(t,e,n,r,i,a,o,s,l,c){this.data=t,this.shape=[e,n,r,i],this.stride=[a,o,s,l],this.offset=0|c}var i=r.prototype;return i.dtype=t,i.dimension=4,Object.defineProperty(i,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(i,"order",{get:n}),i.set=function(e,n,r,i,a){return"generic"===t?this.data.set(this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i,a):this.data[this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i]=a},i.get=function(e,n,r,i){return"generic"===t?this.data.get(this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i):this.data[this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i]},i.index=function(t,e,n,r){return this.offset+this.stride[0]*t+this.stride[1]*e+this.stride[2]*n+this.stride[3]*r},i.hi=function(t,e,n,i){return new r(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,"number"!=typeof e||e<0?this.shape[1]:0|e,"number"!=typeof n||n<0?this.shape[2]:0|n,"number"!=typeof i||i<0?this.shape[3]:0|i,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},i.lo=function(t,e,n,i){var a=this.offset,o=0,s=this.shape[0],l=this.shape[1],c=this.shape[2],u=this.shape[3],d=this.stride[0],h=this.stride[1],g=this.stride[2],f=this.stride[3];return"number"==typeof t&&t>=0&&(a+=d*(o=0|t),s-=o),"number"==typeof e&&e>=0&&(a+=h*(o=0|e),l-=o),"number"==typeof n&&n>=0&&(a+=g*(o=0|n),c-=o),"number"==typeof i&&i>=0&&(a+=f*(o=0|i),u-=o),new r(this.data,s,l,c,u,d,h,g,f,a)},i.step=function(t,e,n,i){var a=this.shape[0],o=this.shape[1],s=this.shape[2],l=this.shape[3],c=this.stride[0],u=this.stride[1],d=this.stride[2],h=this.stride[3],g=this.offset,f=0,p=Math.ceil;return"number"==typeof t&&((f=0|t)<0?(g+=c*(a-1),a=p(-a/f)):a=p(a/f),c*=f),"number"==typeof e&&((f=0|e)<0?(g+=u*(o-1),o=p(-o/f)):o=p(o/f),u*=f),"number"==typeof n&&((f=0|n)<0?(g+=d*(s-1),s=p(-s/f)):s=p(s/f),d*=f),"number"==typeof i&&((f=0|i)<0?(g+=h*(l-1),l=p(-l/f)):l=p(l/f),h*=f),new r(this.data,a,o,s,l,c,u,d,h,g)},i.transpose=function(t,e,n,i){t=void 0===t?0:0|t,e=void 0===e?1:0|e,n=void 0===n?2:0|n,i=void 0===i?3:0|i;var a=this.shape,o=this.stride;return new r(this.data,a[t],a[e],a[n],a[i],o[t],o[e],o[n],o[i],this.offset)},i.pick=function(t,n,r,i){var a=[],o=[],s=this.offset;return"number"==typeof t&&t>=0?s=s+this.stride[0]*t|0:(a.push(this.shape[0]),o.push(this.stride[0])),"number"==typeof n&&n>=0?s=s+this.stride[1]*n|0:(a.push(this.shape[1]),o.push(this.stride[1])),"number"==typeof r&&r>=0?s=s+this.stride[2]*r|0:(a.push(this.shape[2]),o.push(this.stride[2])),"number"==typeof i&&i>=0?s=s+this.stride[3]*i|0:(a.push(this.shape[3]),o.push(this.stride[3])),(0,e[a.length+1])(this.data,a,o,s)},function(t,e,n,i){return new r(t,e[0],e[1],e[2],e[3],n[0],n[1],n[2],n[3],i)}},5:function(t,e,n){function r(t,e,n,r,i,a,o,s,l,c,u,d){this.data=t,this.shape=[e,n,r,i,a],this.stride=[o,s,l,c,u],this.offset=0|d}var i=r.prototype;return i.dtype=t,i.dimension=5,Object.defineProperty(i,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(i,"order",{get:n}),i.set=function(e,n,r,i,a,o){return"generic"===t?this.data.set(this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i+this.stride[4]*a,o):this.data[this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i+this.stride[4]*a]=o},i.get=function(e,n,r,i,a){return"generic"===t?this.data.get(this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i+this.stride[4]*a):this.data[this.offset+this.stride[0]*e+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i+this.stride[4]*a]},i.index=function(t,e,n,r,i){return this.offset+this.stride[0]*t+this.stride[1]*e+this.stride[2]*n+this.stride[3]*r+this.stride[4]*i},i.hi=function(t,e,n,i,a){return new r(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,"number"!=typeof e||e<0?this.shape[1]:0|e,"number"!=typeof n||n<0?this.shape[2]:0|n,"number"!=typeof i||i<0?this.shape[3]:0|i,"number"!=typeof a||a<0?this.shape[4]:0|a,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},i.lo=function(t,e,n,i,a){var o=this.offset,s=0,l=this.shape[0],c=this.shape[1],u=this.shape[2],d=this.shape[3],h=this.shape[4],g=this.stride[0],f=this.stride[1],p=this.stride[2],v=this.stride[3],m=this.stride[4];return"number"==typeof t&&t>=0&&(o+=g*(s=0|t),l-=s),"number"==typeof e&&e>=0&&(o+=f*(s=0|e),c-=s),"number"==typeof n&&n>=0&&(o+=p*(s=0|n),u-=s),"number"==typeof i&&i>=0&&(o+=v*(s=0|i),d-=s),"number"==typeof a&&a>=0&&(o+=m*(s=0|a),h-=s),new r(this.data,l,c,u,d,h,g,f,p,v,m,o)},i.step=function(t,e,n,i,a){var o=this.shape[0],s=this.shape[1],l=this.shape[2],c=this.shape[3],u=this.shape[4],d=this.stride[0],h=this.stride[1],g=this.stride[2],f=this.stride[3],p=this.stride[4],v=this.offset,m=0,y=Math.ceil;return"number"==typeof t&&((m=0|t)<0?(v+=d*(o-1),o=y(-o/m)):o=y(o/m),d*=m),"number"==typeof e&&((m=0|e)<0?(v+=h*(s-1),s=y(-s/m)):s=y(s/m),h*=m),"number"==typeof n&&((m=0|n)<0?(v+=g*(l-1),l=y(-l/m)):l=y(l/m),g*=m),"number"==typeof i&&((m=0|i)<0?(v+=f*(c-1),c=y(-c/m)):c=y(c/m),f*=m),"number"==typeof a&&((m=0|a)<0?(v+=p*(u-1),u=y(-u/m)):u=y(u/m),p*=m),new r(this.data,o,s,l,c,u,d,h,g,f,p,v)},i.transpose=function(t,e,n,i,a){t=void 0===t?0:0|t,e=void 0===e?1:0|e,n=void 0===n?2:0|n,i=void 0===i?3:0|i,a=void 0===a?4:0|a;var o=this.shape,s=this.stride;return new r(this.data,o[t],o[e],o[n],o[i],o[a],s[t],s[e],s[n],s[i],s[a],this.offset)},i.pick=function(t,n,r,i,a){var o=[],s=[],l=this.offset;return"number"==typeof t&&t>=0?l=l+this.stride[0]*t|0:(o.push(this.shape[0]),s.push(this.stride[0])),"number"==typeof n&&n>=0?l=l+this.stride[1]*n|0:(o.push(this.shape[1]),s.push(this.stride[1])),"number"==typeof r&&r>=0?l=l+this.stride[2]*r|0:(o.push(this.shape[2]),s.push(this.stride[2])),"number"==typeof i&&i>=0?l=l+this.stride[3]*i|0:(o.push(this.shape[3]),s.push(this.stride[3])),"number"==typeof a&&a>=0?l=l+this.stride[4]*a|0:(o.push(this.shape[4]),s.push(this.stride[4])),(0,e[o.length+1])(this.data,o,s,l)},function(t,e,n,i){return new r(t,e[0],e[1],e[2],e[3],e[4],n[0],n[1],n[2],n[3],n[4],i)}}};function l(t,e){var n=-1===e?"T":String(e),r=s[n];return-1===e?r(t):0===e?r(t,u[t][0]):r(t,u[t],o)}function c(t){if(r(t))return"buffer";if(i)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}var u={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function d(t,e,n,r){if(void 0===t)return(0,u.array[0])([]);"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var i=e.length;if(void 0===n){n=new Array(i);for(var a=i-1,o=1;a>=0;--a)n[a]=o,o*=e[a]}if(void 0===r)for(r=0,a=0;a<i;++a)n[a]<0&&(r-=(e[a]-1)*n[a]);for(var s=c(t),d=u[s];d.length<=i+1;)d.push(l(s,d.length-1));return(0,d[i+1])(t,e,n,r)}e.exports=d},{"is-buffer":237}],260:[function(t,e,n){var r=t("double-bits"),i=Math.pow(2,-1074),a=-1>>>0;function o(t,e){if(isNaN(t)||isNaN(e))return NaN;if(t===e)return t;if(0===t)return e<0?-i:i;var n=r.hi(t),o=r.lo(t);return e>t==t>0?o===a?(n+=1,o=0):o+=1:0===o?(o=a,n-=1):o-=1,r.pack(o,n)}e.exports=o},{"double-bits":64}],261:[function(t,e,n){var r=1e-6,i=1e-6;n.vertexNormals=function(t,e,n){for(var i=e.length,a=new Array(i),o=void 0===n?r:n,s=0;s<i;++s)a[s]=[0,0,0];for(s=0;s<t.length;++s)for(var l=t[s],c=0,u=l[l.length-1],d=l[0],h=0;h<l.length;++h){c=u,u=d,d=l[(h+1)%l.length];for(var g=e[c],f=e[u],p=e[d],v=new Array(3),m=0,y=new Array(3),b=0,I=0;I<3;++I)v[I]=g[I]-f[I],m+=v[I]*v[I],y[I]=p[I]-f[I],b+=y[I]*y[I];if(m*b>o){var C=a[u],x=1/Math.sqrt(m*b);for(I=0;I<3;++I){var B=(I+1)%3,A=(I+2)%3;C[I]+=x*(y[B]*v[A]-y[A]*v[B])}}}for(s=0;s<i;++s){C=a[s];var F=0;for(I=0;I<3;++I)F+=C[I]*C[I];if(F>o)for(x=1/Math.sqrt(F),I=0;I<3;++I)C[I]*=x;else for(I=0;I<3;++I)C[I]=0}return a},n.faceNormals=function(t,e,n){for(var r=t.length,a=new Array(r),o=void 0===n?i:n,s=0;s<r;++s){for(var l=t[s],c=new Array(3),u=0;u<3;++u)c[u]=e[l[u]];var d=new Array(3),h=new Array(3);for(u=0;u<3;++u)d[u]=c[1][u]-c[0][u],h[u]=c[2][u]-c[0][u];var g=new Array(3),f=0;for(u=0;u<3;++u){var p=(u+1)%3,v=(u+2)%3;g[u]=d[p]*h[v]-d[v]*h[p],f+=g[u]*g[u]}for(f=f>o?1/Math.sqrt(f):0,u=0;u<3;++u)g[u]*=f;a[s]=g}return a}},{}],262:[function(t,e,n){function r(t,e,n,r,i,a,o,s,l,c){var u=e+a+c;if(d>0){var d=Math.sqrt(u+1);t[0]=.5*(o-l)/d,t[1]=.5*(s-r)/d,t[2]=.5*(n-a)/d,t[3]=.5*d}else{var h=Math.max(e,a,c);d=Math.sqrt(2*h-u+1),e>=h?(t[0]=.5*d,t[1]=.5*(i+n)/d,t[2]=.5*(s+r)/d,t[3]=.5*(o-l)/d):a>=h?(t[0]=.5*(n+i)/d,t[1]=.5*d,t[2]=.5*(l+o)/d,t[3]=.5*(s-r)/d):(t[0]=.5*(r+s)/d,t[1]=.5*(o+l)/d,t[2]=.5*d,t[3]=.5*(n-i)/d)}return t}e.exports=r},{}],263:[function(t,e,n){e.exports=g;var r=t("filtered-vector"),i=t("gl-mat4/lookAt"),a=t("gl-mat4/fromQuat"),o=t("gl-mat4/invert"),s=t("./lib/quatFromFrame");function l(t,e,n){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(n,2))}function c(t,e,n,r){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(n,2)+Math.pow(r,2))}function u(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=c(n,r,i,a);o>1e-6?(t[0]=n/o,t[1]=r/o,t[2]=i/o,t[3]=a/o):(t[0]=t[1]=t[2]=0,t[3]=1)}function d(t,e,n){this.radius=r([n]),this.center=r(e),this.rotation=r(t),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var h=d.prototype;function g(t){var e=(t=t||{}).center||[0,0,0],n=t.rotation||[0,0,0,1],r=t.radius||1;e=[].slice.call(e,0,3),u(n=[].slice.call(n,0,4),n);var i=new d(n,e,Math.log(r));return i.setDistanceLimits(t.zoomMin,t.zoomMax),("eye"in t||"up"in t)&&i.lookAt(0,t.eye,t.center,t.up),i}h.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},h.recalcMatrix=function(t){this.radius.curve(t),this.center.curve(t),this.rotation.curve(t);var e=this.computedRotation;u(e,e);var n=this.computedMatrix;a(n,e);var r=this.computedCenter,i=this.computedEye,o=this.computedUp,s=Math.exp(this.computedRadius[0]);i[0]=r[0]+s*n[2],i[1]=r[1]+s*n[6],i[2]=r[2]+s*n[10],o[0]=n[1],o[1]=n[5],o[2]=n[9];for(var l=0;l<3;++l){for(var c=0,d=0;d<3;++d)c+=n[l+4*d]*i[d];n[12+l]=-c}},h.getMatrix=function(t,e){this.recalcMatrix(t);var n=this.computedMatrix;if(e){for(var r=0;r<16;++r)e[r]=n[r];return e}return n},h.idle=function(t){this.center.idle(t),this.radius.idle(t),this.rotation.idle(t)},h.flush=function(t){this.center.flush(t),this.radius.flush(t),this.rotation.flush(t)},h.pan=function(t,e,n,r){e=e||0,n=n||0,r=r||0,this.recalcMatrix(t);var i=this.computedMatrix,a=i[1],o=i[5],s=i[9],c=l(a,o,s);a/=c,o/=c,s/=c;var u=i[0],d=i[4],h=i[8],g=u*a+d*o+h*s,f=l(u-=a*g,d-=o*g,h-=s*g);u/=f,d/=f,h/=f,i[2],i[6],i[10];var p=u*e+a*n,v=d*e+o*n,m=h*e+s*n;this.center.move(t,p,v,m);var y=Math.exp(this.computedRadius[0]);y=Math.max(1e-4,y+r),this.radius.set(t,Math.log(y))},h.rotate=function(t,e,n,r){this.recalcMatrix(t),e=e||0,n=n||0;var i=this.computedMatrix,a=i[0],o=i[4],s=i[8],u=i[1],d=i[5],h=i[9],g=i[2],f=i[6],p=i[10],v=e*a+n*u,m=e*o+n*d,y=e*s+n*h,b=-(f*y-p*m),I=-(p*v-g*y),C=-(g*m-f*v),x=Math.sqrt(Math.max(0,1-Math.pow(b,2)-Math.pow(I,2)-Math.pow(C,2))),B=c(b,I,C,x);B>1e-6?(b/=B,I/=B,C/=B,x/=B):(b=I=C=0,x=1);var A=this.computedRotation,F=A[0],Q=A[1],w=A[2],U=A[3],G=F*x+U*b+Q*C-w*I,R=Q*x+U*I+w*b-F*C,S=w*x+U*C+F*I-Q*b,L=U*x-F*b-Q*I-w*C;if(r){b=g,I=f,C=p;var _=Math.sin(r)/l(b,I,C);b*=_,I*=_,C*=_,L=L*(x=Math.cos(e))-(G=G*x+L*b+R*C-S*I)*b-(R=R*x+L*I+S*b-G*C)*I-(S=S*x+L*C+G*I-R*b)*C}var E=c(G,R,S,L);E>1e-6?(G/=E,R/=E,S/=E,L/=E):(G=R=S=0,L=1),this.rotation.set(t,G,R,S,L)},h.lookAt=function(t,e,n,r){this.recalcMatrix(t),n=n||this.computedCenter,e=e||this.computedEye,r=r||this.computedUp;var a=this.computedMatrix;i(a,e,n,r);var o=this.computedRotation;s(o,a[0],a[1],a[2],a[4],a[5],a[6],a[8],a[9],a[10]),u(o,o),this.rotation.set(t,o[0],o[1],o[2],o[3]);for(var l=0,c=0;c<3;++c)l+=Math.pow(n[c]-e[c],2);this.radius.set(t,.5*Math.log(Math.max(l,1e-6))),this.center.set(t,n[0],n[1],n[2])},h.translate=function(t,e,n,r){this.center.move(t,e||0,n||0,r||0)},h.setMatrix=function(t,e){var n=this.computedRotation;s(n,e[0],e[1],e[2],e[4],e[5],e[6],e[8],e[9],e[10]),u(n,n),this.rotation.set(t,n[0],n[1],n[2],n[3]);var r=this.computedMatrix;o(r,e);var i=r[15];if(Math.abs(i)>1e-6){var a=r[12]/i,l=r[13]/i,c=r[14]/i;this.recalcMatrix(t);var d=Math.exp(this.computedRadius[0]);this.center.set(t,a-r[2]*d,l-r[6]*d,c-r[10]*d),this.radius.idle(t)}else this.center.idle(t),this.radius.idle(t)},h.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},h.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-1/0,e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},h.getDistanceLimits=function(t){var e=this.radius.bounds;return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},h.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},h.fromJSON=function(t){var e=this.lastT(),n=t.center;n&&this.center.set(e,n[0],n[1],n[2]);var r=t.rotation;r&&this.rotation.set(e,r[0],r[1],r[2],r[3]);var i=t.distance;i&&i>0&&this.radius.set(e,Math.log(i)),this.setDistanceLimits(t.zoomMin,t.zoomMax)}},{"./lib/quatFromFrame":262,"filtered-vector":68,"gl-mat4/fromQuat":95,"gl-mat4/invert":98,"gl-mat4/lookAt":99}],264:[function(t,e,n){var r=t("repeat-string");e.exports=function(t,e,n){return r(n=void 0!==n?n+"":" ",e)+t}},{"repeat-string":277}],265:[function(t,e,n){e.exports=function(t,e){e||(e=[0,""]),t=String(t);var n=parseFloat(t,10);return e[0]=n,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},{}],266:[function(t,e,n){e.exports=i;var r=t("compare-angle");function i(t,e){for(var n=0|e.length,i=t.length,a=[new Array(n),new Array(n)],o=0;o<n;++o)a[0][o]=[],a[1][o]=[];for(o=0;o<i;++o){var s=t[o];a[0][s[0]].push(s),a[1][s[1]].push(s)}var l=[];for(o=0;o<n;++o)a[0][o].length+a[1][o].length===0&&l.push([o]);function c(t,e){var n=a[e][t[e]];n.splice(n.indexOf(t),1)}function u(t,n,i){for(var o,s,l,u=0;u<2;++u)if(a[u][n].length>0){o=a[u][n][0],l=u;break}s=o[1^l];for(var d=0;d<2;++d)for(var h=a[d][n],g=0;g<h.length;++g){var f=h[g],p=f[1^d];r(e[t],e[n],e[s],e[p])>0&&(o=f,s=p,l=d)}return i||o&&c(o,l),s}function d(t,n){var i=a[n][t][0],o=[t];c(i,n);for(var s=i[1^n];;){for(;s!==t;)o.push(s),s=u(o[o.length-2],s,!1);if(a[0][t].length+a[1][t].length===0)break;var l=o[o.length-1],d=t,h=o[1],g=u(l,d,!0);if(r(e[l],e[d],e[h],e[g])<0)break;o.push(t),s=u(l,d)}return o}function h(t,e){return e[1]===e[e.length-1]}for(o=0;o<n;++o)for(var g=0;g<2;++g){for(var f=[];a[g][o].length>0;){a[0][o].length;var p=d(o,g);h(f,p)?f.push.apply(f,p):(f.length>0&&l.push(f),f=p)}f.length>0&&l.push(f)}return l}},{"compare-angle":54}],267:[function(t,e,n){e.exports=i;var r=t("edges-to-adjacency-list");function i(t,e){for(var n=r(t,e.length),i=new Array(e.length),a=new Array(e.length),o=[],s=0;s<e.length;++s){var l=n[s].length;a[s]=l,i[s]=!0,l<=1&&o.push(s)}for(;o.length>0;){i[g=o.pop()]=!1;var c=n[g];for(s=0;s<c.length;++s){var u=c[s];0==--a[u]&&o.push(u)}}var d=new Array(e.length),h=[];for(s=0;s<e.length;++s)if(i[s]){var g=h.length;d[s]=g,h.push(e[s])}else d[s]=-1;var f=[];for(s=0;s<t.length;++s){var p=t[s];i[p[0]]&&i[p[1]]&&f.push([d[p[0]],d[p[1]]])}return[f,h]}},{"edges-to-adjacency-list":66}],268:[function(t,e,n){e.exports=h;var r=t("edges-to-adjacency-list"),i=t("planar-dual"),a=t("point-in-big-polygon"),o=t("two-product"),s=t("robust-sum"),l=t("uniq"),c=t("./lib/trim-leaves");function u(t,e){for(var n=new Array(t),r=0;r<t;++r)n[r]=e;return n}function d(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=[];return e}function h(t,e){t=(T=c(t,e))[0];var n=(e=T[1]).length;t.length;for(var h=r(t,e.length),g=0;g<n;++g)if(h[g].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var f=i(t,e);function p(t){for(var n=t.length,r=[0],i=0;i<n;++i){var a=e[t[i]],l=e[t[(i+1)%n]],c=o(-a[0],a[1]),u=o(-a[0],l[1]),d=o(l[0],a[1]),h=o(l[0],l[1]);r=s(r,s(s(c,u),s(d,h)))}return r[r.length-1]>0}var v=(f=f.filter(p)).length,m=new Array(v),y=new Array(v);for(g=0;g<v;++g){m[g]=g;var b=new Array(v),I=f[g].map((function(t){return e[t]})),C=a([I]),x=0;t:for(var B=0;B<v;++B)if(b[B]=0,g!==B){for(var A=(Y=f[B]).length,F=0;F<A;++F){var Q=C(e[Y[F]]);if(0!==Q){Q<0&&(b[B]=1,x+=1);continue t}}b[B]=1,x+=1}y[g]=[x,g,b]}for(y.sort((function(t,e){return e[0]-t[0]})),g=0;g<v;++g){var w=(b=y[g])[1],U=b[2];for(B=0;B<v;++B)U[B]&&(m[B]=w)}var G=d(v);for(g=0;g<v;++g)G[g].push(m[g]),G[m[g]].push(g);var R={},S=u(n,!1);for(g=0;g<v;++g)for(A=(Y=f[g]).length,B=0;B<A;++B){var L=Y[B],_=Y[(B+1)%A],E=Math.min(L,_)+":"+Math.max(L,_);if(E in R){var k=R[E];G[k].push(g),G[g].push(k),S[L]=S[_]=!0}else R[E]=g}function V(t){for(var e=t.length,n=0;n<e;++n)if(!S[t[n]])return!1;return!0}var Z=[],N=u(v,-1);for(g=0;g<v;++g)m[g]!==g||V(f[g])?N[g]=-1:(Z.push(g),N[g]=0);for(var T=[];Z.length>0;){var X=Z.pop(),W=G[X];l(W,(function(t,e){return t-e}));var M,H=W.length,D=N[X];for(0===D&&(M=[Y=f[X]]),g=0;g<H;++g){var Y,O=W[g];N[O]>=0||(N[O]=1^D,Z.push(O),0===D&&(V(Y=f[O])||(Y.reverse(),M.push(Y))))}0===D&&T.push(M)}return T}},{"./lib/trim-leaves":267,"edges-to-adjacency-list":66,"planar-dual":266,"point-in-big-polygon":269,"robust-sum":289,"two-product":306,uniq:310}],269:[function(t,e,n){e.exports=f;var r=t("robust-orientation")[3],i=t("slab-decomposition"),a=t("interval-tree-1d"),o=t("binary-search-bounds");function s(){return!0}function l(t){return function(e,n){var r=t[e];return!!r&&!!r.queryPoint(n,s)}}function c(t){for(var e={},n=0;n<t.length;++n){var r=t[n],i=r[0][0],o=r[0][1],s=r[1][1],c=[Math.min(o,s),Math.max(o,s)];i in e?e[i].push(c):e[i]=[c]}var u={},d=Object.keys(e);for(n=0;n<d.length;++n){var h=e[d[n]];u[d[n]]=a(h)}return l(u)}function u(t,e){return function(n){var i=o.le(e,n[0]);if(i<0)return 1;var a=t[i];if(!a){if(!(i>0&&e[i]===n[0]))return 1;a=t[i-1]}for(var s=1;a;){var l=a.key,c=r(n,l[0],l[1]);if(l[0][0]<l[1][0])if(c<0)a=a.left;else{if(!(c>0))return 0;s=-1,a=a.right}else if(c>0)a=a.left;else{if(!(c<0))return 0;s=1,a=a.right}}return s}}function d(t){return 1}function h(t){return function(e){return t(e[0],e[1])?0:1}}function g(t,e){return function(n){return t(n[0],n[1])?0:e(n)}}function f(t){for(var e=t.length,n=[],r=[],a=0;a<e;++a)for(var o=t[a],s=o.length,l=s-1,f=0;f<s;l=f++){var p=o[l],v=o[f];p[0]===v[0]?r.push([p,v]):n.push([p,v])}if(0===n.length)return 0===r.length?d:h(c(r));var m=i(n),y=u(m.slabs,m.coordinates);return 0===r.length?y:g(c(r),y)}},{"binary-search-bounds":31,"interval-tree-1d":234,"robust-orientation":284,"slab-decomposition":299}],270:[function(t,e,n){var r=new Float64Array(4),i=new Float64Array(4),a=new Float64Array(4);function o(t,e,n,o,s){r.length<o.length&&(r=new Float64Array(o.length),i=new Float64Array(o.length),a=new Float64Array(o.length));for(var l=0;l<o.length;++l)r[l]=t[l]-o[l],i[l]=e[l]-t[l],a[l]=n[l]-t[l];var c=0,u=0,d=0,h=0,g=0,f=0;for(l=0;l<o.length;++l){var p=i[l],v=a[l],m=r[l];c+=p*p,u+=p*v,d+=v*v,h+=m*p,g+=m*v,f+=m*m}var y,b,I,C,x,B=Math.abs(c*d-u*u),A=u*g-d*h,F=u*h-c*g;if(A+F<=B)if(A<0)F<0&&h<0?(F=0,-h>=c?(A=1,y=c+2*h+f):y=h*(A=-h/c)+f):(A=0,g>=0?(F=0,y=f):-g>=d?(F=1,y=d+2*g+f):y=g*(F=-g/d)+f);else if(F<0)F=0,h>=0?(A=0,y=f):-h>=c?(A=1,y=c+2*h+f):y=h*(A=-h/c)+f;else{var Q=1/B;y=(A*=Q)*(c*A+u*(F*=Q)+2*h)+F*(u*A+d*F+2*g)+f}else A<0?(I=d+g)>(b=u+h)?(C=I-b)>=(x=c-2*u+d)?(A=1,F=0,y=c+2*h+f):y=(A=C/x)*(c*A+u*(F=1-A)+2*h)+F*(u*A+d*F+2*g)+f:(A=0,I<=0?(F=1,y=d+2*g+f):g>=0?(F=0,y=f):y=g*(F=-g/d)+f):F<0?(I=c+h)>(b=u+g)?(C=I-b)>=(x=c-2*u+d)?(F=1,A=0,y=d+2*g+f):y=(A=1-(F=C/x))*(c*A+u*F+2*h)+F*(u*A+d*F+2*g)+f:(F=0,I<=0?(A=1,y=c+2*h+f):h>=0?(A=0,y=f):y=h*(A=-h/c)+f):(C=d+g-u-h)<=0?(A=0,F=1,y=d+2*g+f):C>=(x=c-2*u+d)?(A=1,F=0,y=c+2*h+f):y=(A=C/x)*(c*A+u*(F=1-A)+2*h)+F*(u*A+d*F+2*g)+f;var w=1-A-F;for(l=0;l<o.length;++l)s[l]=w*t[l]+A*e[l]+F*n[l];return y<0?0:y}e.exports=o},{}],271:[function(t,e,n){e.exports=t("gl-quat/slerp")},{"gl-quat/slerp":124}],272:[function(t,e,n){var r=t("big-rat/add");function i(t,e){for(var n=t.length,i=new Array(n),a=0;a<n;++a)i[a]=r(t[a],e[a]);return i}e.exports=i},{"big-rat/add":15}],273:[function(t,e,n){e.exports=i;var r=t("big-rat");function i(t){for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=r(t[n]);return e}},{"big-rat":18}],274:[function(t,e,n){var r=t("big-rat"),i=t("big-rat/mul");function a(t,e){for(var n=r(e),a=t.length,o=new Array(a),s=0;s<a;++s)o[s]=i(t[s],n);return o}e.exports=a},{"big-rat":18,"big-rat/mul":27}],275:[function(t,e,n){var r=t("big-rat/sub");function i(t,e){for(var n=t.length,i=new Array(n),a=0;a<n;++a)i[a]=r(t[a],e[a]);return i}e.exports=i},{"big-rat/sub":29}],276:[function(t,e,n){var r=t("compare-cell"),i=t("compare-oriented-cell"),a=t("cell-orientation");function o(t){t.sort(i);for(var e=t.length,n=0,o=0;o<e;++o){var s=t[o],l=a(s);if(0!==l){if(n>0){var c=t[n-1];if(0===r(s,c)&&a(c)!==l){n-=1;continue}}t[n++]=s}}return t.length=n,t}e.exports=o},{"cell-orientation":47,"compare-cell":56,"compare-oriented-cell":57}],277:[function(t,e,n){var r,i="";function a(t,e){if("string"!=typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var n=t.length*e;if(r!==t||void 0===r)r=t,i="";else if(i.length>=n)return i.substr(0,n);for(;n>i.length&&e>1;)1&e&&(i+=t),e>>=1,t+=t;return i=(i+=t).substr(0,n)}e.exports=a},{}],278:[function(t,n,r){(function(t){(function(){n.exports=t.performance&&t.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this)}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],279:[function(t,e,n){function r(t){for(var e=t.length,n=t[t.length-1],r=e,i=e-2;i>=0;--i){var a=n;(l=(s=t[i])-((n=a+s)-a))&&(t[--r]=n,n=l)}var o=0;for(i=r;i<e;++i){var s,l;(l=(s=n)-((n=(a=t[i])+s)-a))&&(t[o++]=l)}return t[o++]=n,t.length=o,t}e.exports=r},{}],280:[function(t,e,n){var r=t("two-product"),i=t("robust-sum"),a=t("robust-scale"),o=t("robust-compress"),s=4;function l(t,e,n,r){return function(e){return r(t(n(e[0][0],e[1][1]),n(-e[0][1],e[1][0])))}}function c(t,e,n,r){return function(i){return r(t(e(t(n(i[1][1],i[2][2]),n(-i[1][2],i[2][1])),i[0][0]),t(e(t(n(i[1][0],i[2][2]),n(-i[1][2],i[2][0])),-i[0][1]),e(t(n(i[1][0],i[2][1]),n(-i[1][1],i[2][0])),i[0][2]))))}}function u(t){return(2===t?l:3===t?c:void 0)(i,a,r,o)}var d=[function(){return[0]},function(t){return[t[0][0]]}];function h(t,e,n,r,i,a){return function(o){switch(o.length){case 0:return t(o);case 1:return e(o);case 2:return n(o);case 3:return r(o)}var s=i[o.length];return s||(s=i[o.length]=a(o.length)),s(o)}}function g(){for(;d.length<s;)d.push(u(d.length));e.exports=h.apply(void 0,d.concat([d,u]));for(var t=0;t<d.length;++t)e.exports[t]=d[t]}g()},{"robust-compress":279,"robust-scale":286,"robust-sum":289,"two-product":306}],281:[function(t,e,n){var r=t("two-product"),i=t("robust-sum");function a(t,e){for(var n=r(t[0],e[0]),a=1;a<t.length;++a)n=i(n,r(t[a],e[a]));return n}e.exports=a},{"robust-sum":289,"two-product":306}],282:[function(t,e,n){var r=t("two-product"),i=t("robust-sum"),a=t("robust-subtract"),o=t("robust-scale"),s=6;function l(t){return(3===t?h:4===t?g:5===t?f:p)(i,a,r,o)}function c(){return 0}function u(){return 0}function d(){return 0}function h(t,e,n,r){function i(i,a,o){var s=n(i[0],i[0]),l=r(s,a[0]),c=r(s,o[0]),u=n(a[0],a[0]),d=r(u,i[0]),h=r(u,o[0]),g=n(o[0],o[0]),f=r(g,i[0]),p=r(g,a[0]),v=t(e(p,h),e(d,l)),m=e(f,c),y=e(v,m);return y[y.length-1]}return i}function g(t,e,n,r){function i(i,a,o,s){var l=t(n(i[0],i[0]),n(i[1],i[1])),c=r(l,a[0]),u=r(l,o[0]),d=r(l,s[0]),h=t(n(a[0],a[0]),n(a[1],a[1])),g=r(h,i[0]),f=r(h,o[0]),p=r(h,s[0]),v=t(n(o[0],o[0]),n(o[1],o[1])),m=r(v,i[0]),y=r(v,a[0]),b=r(v,s[0]),I=t(n(s[0],s[0]),n(s[1],s[1])),C=r(I,i[0]),x=r(I,a[0]),B=r(I,o[0]),A=t(t(r(e(B,b),a[1]),t(r(e(x,p),-o[1]),r(e(y,f),s[1]))),t(r(e(x,p),i[1]),t(r(e(C,d),-a[1]),r(e(g,c),s[1])))),F=t(t(r(e(B,b),i[1]),t(r(e(C,d),-o[1]),r(e(m,u),s[1]))),t(r(e(y,f),i[1]),t(r(e(m,u),-a[1]),r(e(g,c),o[1])))),Q=e(A,F);return Q[Q.length-1]}return i}function f(t,e,n,r){function i(i,a,o,s,l){var c=t(n(i[0],i[0]),t(n(i[1],i[1]),n(i[2],i[2]))),u=r(c,a[0]),d=r(c,o[0]),h=r(c,s[0]),g=r(c,l[0]),f=t(n(a[0],a[0]),t(n(a[1],a[1]),n(a[2],a[2]))),p=r(f,i[0]),v=r(f,o[0]),m=r(f,s[0]),y=r(f,l[0]),b=t(n(o[0],o[0]),t(n(o[1],o[1]),n(o[2],o[2]))),I=r(b,i[0]),C=r(b,a[0]),x=r(b,s[0]),B=r(b,l[0]),A=t(n(s[0],s[0]),t(n(s[1],s[1]),n(s[2],s[2]))),F=r(A,i[0]),Q=r(A,a[0]),w=r(A,o[0]),U=r(A,l[0]),G=t(n(l[0],l[0]),t(n(l[1],l[1]),n(l[2],l[2]))),R=r(G,i[0]),S=r(G,a[0]),L=r(G,o[0]),_=r(G,s[0]),E=t(t(t(r(t(r(e(_,U),o[1]),t(r(e(L,B),-s[1]),r(e(w,x),l[1]))),a[2]),t(r(t(r(e(_,U),a[1]),t(r(e(S,y),-s[1]),r(e(Q,m),l[1]))),-o[2]),r(t(r(e(L,B),a[1]),t(r(e(S,y),-o[1]),r(e(C,v),l[1]))),s[2]))),t(r(t(r(e(w,x),a[1]),t(r(e(Q,m),-o[1]),r(e(C,v),s[1]))),-l[2]),t(r(t(r(e(_,U),a[1]),t(r(e(S,y),-s[1]),r(e(Q,m),l[1]))),i[2]),r(t(r(e(_,U),i[1]),t(r(e(R,g),-s[1]),r(e(F,h),l[1]))),-a[2])))),t(t(r(t(r(e(S,y),i[1]),t(r(e(R,g),-a[1]),r(e(p,u),l[1]))),s[2]),t(r(t(r(e(Q,m),i[1]),t(r(e(F,h),-a[1]),r(e(p,u),s[1]))),-l[2]),r(t(r(e(w,x),a[1]),t(r(e(Q,m),-o[1]),r(e(C,v),s[1]))),i[2]))),t(r(t(r(e(w,x),i[1]),t(r(e(F,h),-o[1]),r(e(I,d),s[1]))),-a[2]),t(r(t(r(e(Q,m),i[1]),t(r(e(F,h),-a[1]),r(e(p,u),s[1]))),o[2]),r(t(r(e(C,v),i[1]),t(r(e(I,d),-a[1]),r(e(p,u),o[1]))),-s[2]))))),k=t(t(t(r(t(r(e(_,U),o[1]),t(r(e(L,B),-s[1]),r(e(w,x),l[1]))),i[2]),r(t(r(e(_,U),i[1]),t(r(e(R,g),-s[1]),r(e(F,h),l[1]))),-o[2])),t(r(t(r(e(L,B),i[1]),t(r(e(R,g),-o[1]),r(e(I,d),l[1]))),s[2]),r(t(r(e(w,x),i[1]),t(r(e(F,h),-o[1]),r(e(I,d),s[1]))),-l[2]))),t(t(r(t(r(e(L,B),a[1]),t(r(e(S,y),-o[1]),r(e(C,v),l[1]))),i[2]),r(t(r(e(L,B),i[1]),t(r(e(R,g),-o[1]),r(e(I,d),l[1]))),-a[2])),t(r(t(r(e(S,y),i[1]),t(r(e(R,g),-a[1]),r(e(p,u),l[1]))),o[2]),r(t(r(e(C,v),i[1]),t(r(e(I,d),-a[1]),r(e(p,u),o[1]))),-l[2])))),V=e(E,k);return V[V.length-1]}return i}function p(t,e,n,r){function i(i,a,o,s,l,c){var u=t(t(n(i[0],i[0]),n(i[1],i[1])),t(n(i[2],i[2]),n(i[3],i[3]))),d=r(u,a[0]),h=r(u,o[0]),g=r(u,s[0]),f=r(u,l[0]),p=r(u,c[0]),v=t(t(n(a[0],a[0]),n(a[1],a[1])),t(n(a[2],a[2]),n(a[3],a[3]))),m=r(v,i[0]),y=r(v,o[0]),b=r(v,s[0]),I=r(v,l[0]),C=r(v,c[0]),x=t(t(n(o[0],o[0]),n(o[1],o[1])),t(n(o[2],o[2]),n(o[3],o[3]))),B=r(x,i[0]),A=r(x,a[0]),F=r(x,s[0]),Q=r(x,l[0]),w=r(x,c[0]),U=t(t(n(s[0],s[0]),n(s[1],s[1])),t(n(s[2],s[2]),n(s[3],s[3]))),G=r(U,i[0]),R=r(U,a[0]),S=r(U,o[0]),L=r(U,l[0]),_=r(U,c[0]),E=t(t(n(l[0],l[0]),n(l[1],l[1])),t(n(l[2],l[2]),n(l[3],l[3]))),k=r(E,i[0]),V=r(E,a[0]),Z=r(E,o[0]),N=r(E,s[0]),T=r(E,c[0]),X=t(t(n(c[0],c[0]),n(c[1],c[1])),t(n(c[2],c[2]),n(c[3],c[3]))),W=r(X,i[0]),M=r(X,a[0]),H=r(X,o[0]),D=r(X,s[0]),Y=r(X,l[0]),O=t(t(t(r(t(t(r(t(r(e(Y,T),s[1]),t(r(e(D,_),-l[1]),r(e(N,L),c[1]))),o[2]),r(t(r(e(Y,T),o[1]),t(r(e(H,w),-l[1]),r(e(Z,Q),c[1]))),-s[2])),t(r(t(r(e(D,_),o[1]),t(r(e(H,w),-s[1]),r(e(S,F),c[1]))),l[2]),r(t(r(e(N,L),o[1]),t(r(e(Z,Q),-s[1]),r(e(S,F),l[1]))),-c[2]))),a[3]),t(r(t(t(r(t(r(e(Y,T),s[1]),t(r(e(D,_),-l[1]),r(e(N,L),c[1]))),a[2]),r(t(r(e(Y,T),a[1]),t(r(e(M,C),-l[1]),r(e(V,I),c[1]))),-s[2])),t(r(t(r(e(D,_),a[1]),t(r(e(M,C),-s[1]),r(e(R,b),c[1]))),l[2]),r(t(r(e(N,L),a[1]),t(r(e(V,I),-s[1]),r(e(R,b),l[1]))),-c[2]))),-o[3]),r(t(t(r(t(r(e(Y,T),o[1]),t(r(e(H,w),-l[1]),r(e(Z,Q),c[1]))),a[2]),r(t(r(e(Y,T),a[1]),t(r(e(M,C),-l[1]),r(e(V,I),c[1]))),-o[2])),t(r(t(r(e(H,w),a[1]),t(r(e(M,C),-o[1]),r(e(A,y),c[1]))),l[2]),r(t(r(e(Z,Q),a[1]),t(r(e(V,I),-o[1]),r(e(A,y),l[1]))),-c[2]))),s[3]))),t(t(r(t(t(r(t(r(e(D,_),o[1]),t(r(e(H,w),-s[1]),r(e(S,F),c[1]))),a[2]),r(t(r(e(D,_),a[1]),t(r(e(M,C),-s[1]),r(e(R,b),c[1]))),-o[2])),t(r(t(r(e(H,w),a[1]),t(r(e(M,C),-o[1]),r(e(A,y),c[1]))),s[2]),r(t(r(e(S,F),a[1]),t(r(e(R,b),-o[1]),r(e(A,y),s[1]))),-c[2]))),-l[3]),r(t(t(r(t(r(e(N,L),o[1]),t(r(e(Z,Q),-s[1]),r(e(S,F),l[1]))),a[2]),r(t(r(e(N,L),a[1]),t(r(e(V,I),-s[1]),r(e(R,b),l[1]))),-o[2])),t(r(t(r(e(Z,Q),a[1]),t(r(e(V,I),-o[1]),r(e(A,y),l[1]))),s[2]),r(t(r(e(S,F),a[1]),t(r(e(R,b),-o[1]),r(e(A,y),s[1]))),-l[2]))),c[3])),t(r(t(t(r(t(r(e(Y,T),s[1]),t(r(e(D,_),-l[1]),r(e(N,L),c[1]))),a[2]),r(t(r(e(Y,T),a[1]),t(r(e(M,C),-l[1]),r(e(V,I),c[1]))),-s[2])),t(r(t(r(e(D,_),a[1]),t(r(e(M,C),-s[1]),r(e(R,b),c[1]))),l[2]),r(t(r(e(N,L),a[1]),t(r(e(V,I),-s[1]),r(e(R,b),l[1]))),-c[2]))),i[3]),r(t(t(r(t(r(e(Y,T),s[1]),t(r(e(D,_),-l[1]),r(e(N,L),c[1]))),i[2]),r(t(r(e(Y,T),i[1]),t(r(e(W,p),-l[1]),r(e(k,f),c[1]))),-s[2])),t(r(t(r(e(D,_),i[1]),t(r(e(W,p),-s[1]),r(e(G,g),c[1]))),l[2]),r(t(r(e(N,L),i[1]),t(r(e(k,f),-s[1]),r(e(G,g),l[1]))),-c[2]))),-a[3])))),t(t(t(r(t(t(r(t(r(e(Y,T),a[1]),t(r(e(M,C),-l[1]),r(e(V,I),c[1]))),i[2]),r(t(r(e(Y,T),i[1]),t(r(e(W,p),-l[1]),r(e(k,f),c[1]))),-a[2])),t(r(t(r(e(M,C),i[1]),t(r(e(W,p),-a[1]),r(e(m,d),c[1]))),l[2]),r(t(r(e(V,I),i[1]),t(r(e(k,f),-a[1]),r(e(m,d),l[1]))),-c[2]))),s[3]),r(t(t(r(t(r(e(D,_),a[1]),t(r(e(M,C),-s[1]),r(e(R,b),c[1]))),i[2]),r(t(r(e(D,_),i[1]),t(r(e(W,p),-s[1]),r(e(G,g),c[1]))),-a[2])),t(r(t(r(e(M,C),i[1]),t(r(e(W,p),-a[1]),r(e(m,d),c[1]))),s[2]),r(t(r(e(R,b),i[1]),t(r(e(G,g),-a[1]),r(e(m,d),s[1]))),-c[2]))),-l[3])),t(r(t(t(r(t(r(e(N,L),a[1]),t(r(e(V,I),-s[1]),r(e(R,b),l[1]))),i[2]),r(t(r(e(N,L),i[1]),t(r(e(k,f),-s[1]),r(e(G,g),l[1]))),-a[2])),t(r(t(r(e(V,I),i[1]),t(r(e(k,f),-a[1]),r(e(m,d),l[1]))),s[2]),r(t(r(e(R,b),i[1]),t(r(e(G,g),-a[1]),r(e(m,d),s[1]))),-l[2]))),c[3]),r(t(t(r(t(r(e(D,_),o[1]),t(r(e(H,w),-s[1]),r(e(S,F),c[1]))),a[2]),r(t(r(e(D,_),a[1]),t(r(e(M,C),-s[1]),r(e(R,b),c[1]))),-o[2])),t(r(t(r(e(H,w),a[1]),t(r(e(M,C),-o[1]),r(e(A,y),c[1]))),s[2]),r(t(r(e(S,F),a[1]),t(r(e(R,b),-o[1]),r(e(A,y),s[1]))),-c[2]))),i[3]))),t(t(r(t(t(r(t(r(e(D,_),o[1]),t(r(e(H,w),-s[1]),r(e(S,F),c[1]))),i[2]),r(t(r(e(D,_),i[1]),t(r(e(W,p),-s[1]),r(e(G,g),c[1]))),-o[2])),t(r(t(r(e(H,w),i[1]),t(r(e(W,p),-o[1]),r(e(B,h),c[1]))),s[2]),r(t(r(e(S,F),i[1]),t(r(e(G,g),-o[1]),r(e(B,h),s[1]))),-c[2]))),-a[3]),r(t(t(r(t(r(e(D,_),a[1]),t(r(e(M,C),-s[1]),r(e(R,b),c[1]))),i[2]),r(t(r(e(D,_),i[1]),t(r(e(W,p),-s[1]),r(e(G,g),c[1]))),-a[2])),t(r(t(r(e(M,C),i[1]),t(r(e(W,p),-a[1]),r(e(m,d),c[1]))),s[2]),r(t(r(e(R,b),i[1]),t(r(e(G,g),-a[1]),r(e(m,d),s[1]))),-c[2]))),o[3])),t(r(t(t(r(t(r(e(H,w),a[1]),t(r(e(M,C),-o[1]),r(e(A,y),c[1]))),i[2]),r(t(r(e(H,w),i[1]),t(r(e(W,p),-o[1]),r(e(B,h),c[1]))),-a[2])),t(r(t(r(e(M,C),i[1]),t(r(e(W,p),-a[1]),r(e(m,d),c[1]))),o[2]),r(t(r(e(A,y),i[1]),t(r(e(B,h),-a[1]),r(e(m,d),o[1]))),-c[2]))),-s[3]),r(t(t(r(t(r(e(S,F),a[1]),t(r(e(R,b),-o[1]),r(e(A,y),s[1]))),i[2]),r(t(r(e(S,F),i[1]),t(r(e(G,g),-o[1]),r(e(B,h),s[1]))),-a[2])),t(r(t(r(e(R,b),i[1]),t(r(e(G,g),-a[1]),r(e(m,d),s[1]))),o[2]),r(t(r(e(A,y),i[1]),t(r(e(B,h),-a[1]),r(e(m,d),o[1]))),-s[2]))),c[3]))))),z=t(t(t(r(t(t(r(t(r(e(Y,T),s[1]),t(r(e(D,_),-l[1]),r(e(N,L),c[1]))),o[2]),r(t(r(e(Y,T),o[1]),t(r(e(H,w),-l[1]),r(e(Z,Q),c[1]))),-s[2])),t(r(t(r(e(D,_),o[1]),t(r(e(H,w),-s[1]),r(e(S,F),c[1]))),l[2]),r(t(r(e(N,L),o[1]),t(r(e(Z,Q),-s[1]),r(e(S,F),l[1]))),-c[2]))),i[3]),t(r(t(t(r(t(r(e(Y,T),s[1]),t(r(e(D,_),-l[1]),r(e(N,L),c[1]))),i[2]),r(t(r(e(Y,T),i[1]),t(r(e(W,p),-l[1]),r(e(k,f),c[1]))),-s[2])),t(r(t(r(e(D,_),i[1]),t(r(e(W,p),-s[1]),r(e(G,g),c[1]))),l[2]),r(t(r(e(N,L),i[1]),t(r(e(k,f),-s[1]),r(e(G,g),l[1]))),-c[2]))),-o[3]),r(t(t(r(t(r(e(Y,T),o[1]),t(r(e(H,w),-l[1]),r(e(Z,Q),c[1]))),i[2]),r(t(r(e(Y,T),i[1]),t(r(e(W,p),-l[1]),r(e(k,f),c[1]))),-o[2])),t(r(t(r(e(H,w),i[1]),t(r(e(W,p),-o[1]),r(e(B,h),c[1]))),l[2]),r(t(r(e(Z,Q),i[1]),t(r(e(k,f),-o[1]),r(e(B,h),l[1]))),-c[2]))),s[3]))),t(t(r(t(t(r(t(r(e(D,_),o[1]),t(r(e(H,w),-s[1]),r(e(S,F),c[1]))),i[2]),r(t(r(e(D,_),i[1]),t(r(e(W,p),-s[1]),r(e(G,g),c[1]))),-o[2])),t(r(t(r(e(H,w),i[1]),t(r(e(W,p),-o[1]),r(e(B,h),c[1]))),s[2]),r(t(r(e(S,F),i[1]),t(r(e(G,g),-o[1]),r(e(B,h),s[1]))),-c[2]))),-l[3]),r(t(t(r(t(r(e(N,L),o[1]),t(r(e(Z,Q),-s[1]),r(e(S,F),l[1]))),i[2]),r(t(r(e(N,L),i[1]),t(r(e(k,f),-s[1]),r(e(G,g),l[1]))),-o[2])),t(r(t(r(e(Z,Q),i[1]),t(r(e(k,f),-o[1]),r(e(B,h),l[1]))),s[2]),r(t(r(e(S,F),i[1]),t(r(e(G,g),-o[1]),r(e(B,h),s[1]))),-l[2]))),c[3])),t(r(t(t(r(t(r(e(Y,T),o[1]),t(r(e(H,w),-l[1]),r(e(Z,Q),c[1]))),a[2]),r(t(r(e(Y,T),a[1]),t(r(e(M,C),-l[1]),r(e(V,I),c[1]))),-o[2])),t(r(t(r(e(H,w),a[1]),t(r(e(M,C),-o[1]),r(e(A,y),c[1]))),l[2]),r(t(r(e(Z,Q),a[1]),t(r(e(V,I),-o[1]),r(e(A,y),l[1]))),-c[2]))),i[3]),r(t(t(r(t(r(e(Y,T),o[1]),t(r(e(H,w),-l[1]),r(e(Z,Q),c[1]))),i[2]),r(t(r(e(Y,T),i[1]),t(r(e(W,p),-l[1]),r(e(k,f),c[1]))),-o[2])),t(r(t(r(e(H,w),i[1]),t(r(e(W,p),-o[1]),r(e(B,h),c[1]))),l[2]),r(t(r(e(Z,Q),i[1]),t(r(e(k,f),-o[1]),r(e(B,h),l[1]))),-c[2]))),-a[3])))),t(t(t(r(t(t(r(t(r(e(Y,T),a[1]),t(r(e(M,C),-l[1]),r(e(V,I),c[1]))),i[2]),r(t(r(e(Y,T),i[1]),t(r(e(W,p),-l[1]),r(e(k,f),c[1]))),-a[2])),t(r(t(r(e(M,C),i[1]),t(r(e(W,p),-a[1]),r(e(m,d),c[1]))),l[2]),r(t(r(e(V,I),i[1]),t(r(e(k,f),-a[1]),r(e(m,d),l[1]))),-c[2]))),o[3]),r(t(t(r(t(r(e(H,w),a[1]),t(r(e(M,C),-o[1]),r(e(A,y),c[1]))),i[2]),r(t(r(e(H,w),i[1]),t(r(e(W,p),-o[1]),r(e(B,h),c[1]))),-a[2])),t(r(t(r(e(M,C),i[1]),t(r(e(W,p),-a[1]),r(e(m,d),c[1]))),o[2]),r(t(r(e(A,y),i[1]),t(r(e(B,h),-a[1]),r(e(m,d),o[1]))),-c[2]))),-l[3])),t(r(t(t(r(t(r(e(Z,Q),a[1]),t(r(e(V,I),-o[1]),r(e(A,y),l[1]))),i[2]),r(t(r(e(Z,Q),i[1]),t(r(e(k,f),-o[1]),r(e(B,h),l[1]))),-a[2])),t(r(t(r(e(V,I),i[1]),t(r(e(k,f),-a[1]),r(e(m,d),l[1]))),o[2]),r(t(r(e(A,y),i[1]),t(r(e(B,h),-a[1]),r(e(m,d),o[1]))),-l[2]))),c[3]),r(t(t(r(t(r(e(N,L),o[1]),t(r(e(Z,Q),-s[1]),r(e(S,F),l[1]))),a[2]),r(t(r(e(N,L),a[1]),t(r(e(V,I),-s[1]),r(e(R,b),l[1]))),-o[2])),t(r(t(r(e(Z,Q),a[1]),t(r(e(V,I),-o[1]),r(e(A,y),l[1]))),s[2]),r(t(r(e(S,F),a[1]),t(r(e(R,b),-o[1]),r(e(A,y),s[1]))),-l[2]))),i[3]))),t(t(r(t(t(r(t(r(e(N,L),o[1]),t(r(e(Z,Q),-s[1]),r(e(S,F),l[1]))),i[2]),r(t(r(e(N,L),i[1]),t(r(e(k,f),-s[1]),r(e(G,g),l[1]))),-o[2])),t(r(t(r(e(Z,Q),i[1]),t(r(e(k,f),-o[1]),r(e(B,h),l[1]))),s[2]),r(t(r(e(S,F),i[1]),t(r(e(G,g),-o[1]),r(e(B,h),s[1]))),-l[2]))),-a[3]),r(t(t(r(t(r(e(N,L),a[1]),t(r(e(V,I),-s[1]),r(e(R,b),l[1]))),i[2]),r(t(r(e(N,L),i[1]),t(r(e(k,f),-s[1]),r(e(G,g),l[1]))),-a[2])),t(r(t(r(e(V,I),i[1]),t(r(e(k,f),-a[1]),r(e(m,d),l[1]))),s[2]),r(t(r(e(R,b),i[1]),t(r(e(G,g),-a[1]),r(e(m,d),s[1]))),-l[2]))),o[3])),t(r(t(t(r(t(r(e(Z,Q),a[1]),t(r(e(V,I),-o[1]),r(e(A,y),l[1]))),i[2]),r(t(r(e(Z,Q),i[1]),t(r(e(k,f),-o[1]),r(e(B,h),l[1]))),-a[2])),t(r(t(r(e(V,I),i[1]),t(r(e(k,f),-a[1]),r(e(m,d),l[1]))),o[2]),r(t(r(e(A,y),i[1]),t(r(e(B,h),-a[1]),r(e(m,d),o[1]))),-l[2]))),-s[3]),r(t(t(r(t(r(e(S,F),a[1]),t(r(e(R,b),-o[1]),r(e(A,y),s[1]))),i[2]),r(t(r(e(S,F),i[1]),t(r(e(G,g),-o[1]),r(e(B,h),s[1]))),-a[2])),t(r(t(r(e(R,b),i[1]),t(r(e(G,g),-a[1]),r(e(m,d),s[1]))),o[2]),r(t(r(e(A,y),i[1]),t(r(e(B,h),-a[1]),r(e(m,d),o[1]))),-s[2]))),l[3]))))),J=e(O,z);return J[J.length-1]}return i}var v=[c,u,d];function m(t){var e=v[t.length];return e||(e=v[t.length]=l(t.length)),e.apply(void 0,t)}function y(t,e,n,r,i,a,o,s){function l(e,n,l,c,u,d){switch(arguments.length){case 0:case 1:return 0;case 2:return r(e,n);case 3:return i(e,n,l);case 4:return a(e,n,l,c);case 5:return o(e,n,l,c,u);case 6:return s(e,n,l,c,u,d)}for(var h=new Array(arguments.length),g=0;g<arguments.length;++g)h[g]=arguments[g];return t(h)}return l}function b(){for(;v.length<=s;)v.push(l(v.length));e.exports=y.apply(void 0,[m].concat(v));for(var t=0;t<=s;++t)e.exports[t]=v[t]}b()},{"robust-scale":286,"robust-subtract":288,"robust-sum":289,"two-product":306}],283:[function(t,e,n){var r=t("robust-determinant"),i=3;function a(t){var e=2===t?l:c;return e(t<i?r[t]:r)}function o(){return[[0]]}function s(t,e){return[[e[0]],[t[0][0]]]}function l(t){return function(e,n){return[t([[+n[0],+e[0][1]],[+n[1],+e[1][1]]]),t([[+e[0][0],+n[0]],[+e[1][0],+n[1]]]),t(e)]}}function c(t){return function(e,n){return[t([[+n[0],+e[0][1],+e[0][2]],[+n[1],+e[1][1],+e[1][2]],[+n[2],+e[2][1],+e[2][2]]]),t([[+e[0][0],+n[0],+e[0][2]],[+e[1][0],+n[1],+e[1][2]],[+e[2][0],+n[2],+e[2][2]]]),t([[+e[0][0],+e[0][1],+n[0]],[+e[1][0],+e[1][1],+n[1]],[+e[2][0],+e[2][1],+n[2]]]),t(e)]}}var u=[o,s];function d(t,e,n,r,i,a){return function(o,s){switch(o.length){case 0:return t(o,s);case 1:return e(o,s);case 2:return n(o,s);case 3:return r(o,s)}var l=i[o.length];return l||(l=i[o.length]=a(o.length)),l(o,s)}}function h(){for(;u.length<=i;)u.push(a(u.length));e.exports=d.apply(void 0,u.concat([u,a]));for(var t=0;t<i;++t)e.exports[t]=u[t]}h()},{"robust-determinant":280}],284:[function(t,e,n){var r=t("two-product"),i=t("robust-sum"),a=t("robust-scale"),o=t("robust-subtract"),s=5,l=11102230246251565e-32,c=(3+16*l)*l,u=(7+56*l)*l;function d(t,e,n,r){return function(n,i,a){var o=t(t(e(i[1],a[0]),e(-a[1],i[0])),t(e(n[1],i[0]),e(-i[1],n[0]))),s=t(e(n[1],a[0]),e(-a[1],n[0])),l=r(o,s);return l[l.length-1]}}function h(t,e,n,r){return function(i,a,o,s){var l=t(t(n(t(e(o[1],s[0]),e(-s[1],o[0])),a[2]),t(n(t(e(a[1],s[0]),e(-s[1],a[0])),-o[2]),n(t(e(a[1],o[0]),e(-o[1],a[0])),s[2]))),t(n(t(e(a[1],s[0]),e(-s[1],a[0])),i[2]),t(n(t(e(i[1],s[0]),e(-s[1],i[0])),-a[2]),n(t(e(i[1],a[0]),e(-a[1],i[0])),s[2])))),c=t(t(n(t(e(o[1],s[0]),e(-s[1],o[0])),i[2]),t(n(t(e(i[1],s[0]),e(-s[1],i[0])),-o[2]),n(t(e(i[1],o[0]),e(-o[1],i[0])),s[2]))),t(n(t(e(a[1],o[0]),e(-o[1],a[0])),i[2]),t(n(t(e(i[1],o[0]),e(-o[1],i[0])),-a[2]),n(t(e(i[1],a[0]),e(-a[1],i[0])),o[2])))),u=r(l,c);return u[u.length-1]}}function g(t,e,n,r){return function(i,a,o,s,l){var c=t(t(t(n(t(n(t(e(s[1],l[0]),e(-l[1],s[0])),o[2]),t(n(t(e(o[1],l[0]),e(-l[1],o[0])),-s[2]),n(t(e(o[1],s[0]),e(-s[1],o[0])),l[2]))),a[3]),t(n(t(n(t(e(s[1],l[0]),e(-l[1],s[0])),a[2]),t(n(t(e(a[1],l[0]),e(-l[1],a[0])),-s[2]),n(t(e(a[1],s[0]),e(-s[1],a[0])),l[2]))),-o[3]),n(t(n(t(e(o[1],l[0]),e(-l[1],o[0])),a[2]),t(n(t(e(a[1],l[0]),e(-l[1],a[0])),-o[2]),n(t(e(a[1],o[0]),e(-o[1],a[0])),l[2]))),s[3]))),t(n(t(n(t(e(o[1],s[0]),e(-s[1],o[0])),a[2]),t(n(t(e(a[1],s[0]),e(-s[1],a[0])),-o[2]),n(t(e(a[1],o[0]),e(-o[1],a[0])),s[2]))),-l[3]),t(n(t(n(t(e(s[1],l[0]),e(-l[1],s[0])),a[2]),t(n(t(e(a[1],l[0]),e(-l[1],a[0])),-s[2]),n(t(e(a[1],s[0]),e(-s[1],a[0])),l[2]))),i[3]),n(t(n(t(e(s[1],l[0]),e(-l[1],s[0])),i[2]),t(n(t(e(i[1],l[0]),e(-l[1],i[0])),-s[2]),n(t(e(i[1],s[0]),e(-s[1],i[0])),l[2]))),-a[3])))),t(t(n(t(n(t(e(a[1],l[0]),e(-l[1],a[0])),i[2]),t(n(t(e(i[1],l[0]),e(-l[1],i[0])),-a[2]),n(t(e(i[1],a[0]),e(-a[1],i[0])),l[2]))),s[3]),t(n(t(n(t(e(a[1],s[0]),e(-s[1],a[0])),i[2]),t(n(t(e(i[1],s[0]),e(-s[1],i[0])),-a[2]),n(t(e(i[1],a[0]),e(-a[1],i[0])),s[2]))),-l[3]),n(t(n(t(e(o[1],s[0]),e(-s[1],o[0])),a[2]),t(n(t(e(a[1],s[0]),e(-s[1],a[0])),-o[2]),n(t(e(a[1],o[0]),e(-o[1],a[0])),s[2]))),i[3]))),t(n(t(n(t(e(o[1],s[0]),e(-s[1],o[0])),i[2]),t(n(t(e(i[1],s[0]),e(-s[1],i[0])),-o[2]),n(t(e(i[1],o[0]),e(-o[1],i[0])),s[2]))),-a[3]),t(n(t(n(t(e(a[1],s[0]),e(-s[1],a[0])),i[2]),t(n(t(e(i[1],s[0]),e(-s[1],i[0])),-a[2]),n(t(e(i[1],a[0]),e(-a[1],i[0])),s[2]))),o[3]),n(t(n(t(e(a[1],o[0]),e(-o[1],a[0])),i[2]),t(n(t(e(i[1],o[0]),e(-o[1],i[0])),-a[2]),n(t(e(i[1],a[0]),e(-a[1],i[0])),o[2]))),-s[3]))))),u=t(t(t(n(t(n(t(e(s[1],l[0]),e(-l[1],s[0])),o[2]),t(n(t(e(o[1],l[0]),e(-l[1],o[0])),-s[2]),n(t(e(o[1],s[0]),e(-s[1],o[0])),l[2]))),i[3]),n(t(n(t(e(s[1],l[0]),e(-l[1],s[0])),i[2]),t(n(t(e(i[1],l[0]),e(-l[1],i[0])),-s[2]),n(t(e(i[1],s[0]),e(-s[1],i[0])),l[2]))),-o[3])),t(n(t(n(t(e(o[1],l[0]),e(-l[1],o[0])),i[2]),t(n(t(e(i[1],l[0]),e(-l[1],i[0])),-o[2]),n(t(e(i[1],o[0]),e(-o[1],i[0])),l[2]))),s[3]),n(t(n(t(e(o[1],s[0]),e(-s[1],o[0])),i[2]),t(n(t(e(i[1],s[0]),e(-s[1],i[0])),-o[2]),n(t(e(i[1],o[0]),e(-o[1],i[0])),s[2]))),-l[3]))),t(t(n(t(n(t(e(o[1],l[0]),e(-l[1],o[0])),a[2]),t(n(t(e(a[1],l[0]),e(-l[1],a[0])),-o[2]),n(t(e(a[1],o[0]),e(-o[1],a[0])),l[2]))),i[3]),n(t(n(t(e(o[1],l[0]),e(-l[1],o[0])),i[2]),t(n(t(e(i[1],l[0]),e(-l[1],i[0])),-o[2]),n(t(e(i[1],o[0]),e(-o[1],i[0])),l[2]))),-a[3])),t(n(t(n(t(e(a[1],l[0]),e(-l[1],a[0])),i[2]),t(n(t(e(i[1],l[0]),e(-l[1],i[0])),-a[2]),n(t(e(i[1],a[0]),e(-a[1],i[0])),l[2]))),o[3]),n(t(n(t(e(a[1],o[0]),e(-o[1],a[0])),i[2]),t(n(t(e(i[1],o[0]),e(-o[1],i[0])),-a[2]),n(t(e(i[1],a[0]),e(-a[1],i[0])),o[2]))),-l[3])))),d=r(c,u);return d[d.length-1]}}function f(t){return(3===t?d:4===t?h:g)(i,r,a,o)}var p=f(3),v=f(4),m=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),a=(t[0]-n[0])*(e[1]-n[1]),o=i-a;if(i>0){if(a<=0)return o;r=i+a}else{if(!(i<0))return o;if(a>=0)return o;r=-(i+a)}var s=c*r;return o>=s||o<=-s?o:p(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],a=e[0]-r[0],o=n[0]-r[0],s=t[1]-r[1],l=e[1]-r[1],c=n[1]-r[1],d=t[2]-r[2],h=e[2]-r[2],g=n[2]-r[2],f=a*c,p=o*l,m=o*s,y=i*c,b=i*l,I=a*s,C=d*(f-p)+h*(m-y)+g*(b-I),x=(Math.abs(f)+Math.abs(p))*Math.abs(d)+(Math.abs(m)+Math.abs(y))*Math.abs(h)+(Math.abs(b)+Math.abs(I))*Math.abs(g),B=u*x;return C>B||-C>B?C:v(t,e,n,r)}];function y(t){var e=m[t.length];return e||(e=m[t.length]=f(t.length)),e.apply(void 0,t)}function b(t,e,n,r,i,a,o){return function(e,n,s,l,c){switch(arguments.length){case 0:case 1:return 0;case 2:return r(e,n);case 3:return i(e,n,s);case 4:return a(e,n,s,l);case 5:return o(e,n,s,l,c)}for(var u=new Array(arguments.length),d=0;d<arguments.length;++d)u[d]=arguments[d];return t(u)}}function I(){for(;m.length<=s;)m.push(f(m.length));e.exports=b.apply(void 0,[y].concat(m));for(var t=0;t<=s;++t)e.exports[t]=m[t]}I()},{"robust-scale":286,"robust-subtract":288,"robust-sum":289,"two-product":306}],285:[function(t,e,n){var r=t("robust-sum"),i=t("robust-scale");function a(t,e){if(1===t.length)return i(e,t[0]);if(1===e.length)return i(t,e[0]);if(0===t.length||0===e.length)return[0];var n=[0];if(t.length<e.length)for(var a=0;a<t.length;++a)n=r(n,i(e,t[a]));else for(a=0;a<e.length;++a)n=r(n,i(t,e[a]));return n}e.exports=a},{"robust-scale":286,"robust-sum":289}],286:[function(t,e,n){var r=t("two-product"),i=t("two-sum");function a(t,e){var n=t.length;if(1===n){var a=r(t[0],e);return a[0]?a:[a[1]]}var o=new Array(2*n),s=[.1,.1],l=[.1,.1],c=0;r(t[0],e,s),s[0]&&(o[c++]=s[0]);for(var u=1;u<n;++u){r(t[u],e,l);var d=s[1];i(d,l[0],s),s[0]&&(o[c++]=s[0]);var h=l[1],g=s[1],f=h+g,p=g-(f-h);s[1]=f,p&&(o[c++]=p)}return s[1]&&(o[c++]=s[1]),0===c&&(o[c++]=0),o.length=c,o}e.exports=a},{"two-product":306,"two-sum":307}],287:[function(t,e,n){e.exports=a;var r=t("robust-orientation")[3];function i(t,e,n,r){for(var i=0;i<2;++i){var a=t[i],o=e[i],s=Math.min(a,o),l=Math.max(a,o),c=n[i],u=r[i],d=Math.min(c,u);if(Math.max(c,u)<s||l<d)return!1}return!0}function a(t,e,n,a){var o=r(t,n,a),s=r(e,n,a);if(o>0&&s>0||o<0&&s<0)return!1;var l=r(n,t,e),c=r(a,t,e);return!(l>0&&c>0||l<0&&c<0)&&(0!==o||0!==s||0!==l||0!==c||i(t,e,n,a))}},{"robust-orientation":284}],288:[function(t,e,n){function r(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}function i(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return r(t[0],-e[0]);var a,o,s=new Array(n+i),l=0,c=0,u=0,d=Math.abs,h=t[c],g=d(h),f=-e[u],p=d(f);g<p?(o=h,(c+=1)<n&&(g=d(h=t[c]))):(o=f,(u+=1)<i&&(p=d(f=-e[u]))),c<n&&g<p||u>=i?(a=h,(c+=1)<n&&(g=d(h=t[c]))):(a=f,(u+=1)<i&&(p=d(f=-e[u])));for(var v,m,y=a+o,b=y-a,I=o-b,C=I,x=y;c<n&&u<i;)g<p?(a=h,(c+=1)<n&&(g=d(h=t[c]))):(a=f,(u+=1)<i&&(p=d(f=-e[u]))),(I=(o=C)-(b=(y=a+o)-a))&&(s[l++]=I),C=x-((v=x+y)-(m=v-x))+(y-m),x=v;for(;c<n;)(I=(o=C)-(b=(y=(a=h)+o)-a))&&(s[l++]=I),C=x-((v=x+y)-(m=v-x))+(y-m),x=v,(c+=1)<n&&(h=t[c]);for(;u<i;)(I=(o=C)-(b=(y=(a=f)+o)-a))&&(s[l++]=I),C=x-((v=x+y)-(m=v-x))+(y-m),x=v,(u+=1)<i&&(f=-e[u]);return C&&(s[l++]=C),x&&(s[l++]=x),l||(s[l++]=0),s.length=l,s}e.exports=i},{}],289:[function(t,e,n){function r(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}function i(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return r(t[0],e[0]);var a,o,s=new Array(n+i),l=0,c=0,u=0,d=Math.abs,h=t[c],g=d(h),f=e[u],p=d(f);g<p?(o=h,(c+=1)<n&&(g=d(h=t[c]))):(o=f,(u+=1)<i&&(p=d(f=e[u]))),c<n&&g<p||u>=i?(a=h,(c+=1)<n&&(g=d(h=t[c]))):(a=f,(u+=1)<i&&(p=d(f=e[u])));for(var v,m,y=a+o,b=y-a,I=o-b,C=I,x=y;c<n&&u<i;)g<p?(a=h,(c+=1)<n&&(g=d(h=t[c]))):(a=f,(u+=1)<i&&(p=d(f=e[u]))),(I=(o=C)-(b=(y=a+o)-a))&&(s[l++]=I),C=x-((v=x+y)-(m=v-x))+(y-m),x=v;for(;c<n;)(I=(o=C)-(b=(y=(a=h)+o)-a))&&(s[l++]=I),C=x-((v=x+y)-(m=v-x))+(y-m),x=v,(c+=1)<n&&(h=t[c]);for(;u<i;)(I=(o=C)-(b=(y=(a=f)+o)-a))&&(s[l++]=I),C=x-((v=x+y)-(m=v-x))+(y-m),x=v,(u+=1)<i&&(f=e[u]);return C&&(s[l++]=C),x&&(s[l++]=x),l||(s[l++]=0),s.length=l,s}e.exports=i},{}],290:[function(t,e,n){e.exports=a;var r=t("boundary-cells"),i=t("reduce-simplicial-complex");function a(t){return i(r(t))}},{"boundary-cells":34,"reduce-simplicial-complex":276}],291:[function(t,e,n){e.exports=g;var r=t("ndarray"),i=t("typedarray-pool"),a=t("ndarray-sort"),o=t("./lib/codegen");function s(t){for(var e=t.length,n=0,r=0;r<e;++r)n=0|Math.max(n,t[r].length);return n-1}function l(t,e){for(var n=t.length,r=i.mallocUint8(n),a=0;a<n;++a)r[a]=t[a]<e|0;return r}function c(t,e){for(var n=t.length,o=e*(e+1)/2*n|0,s=i.mallocUint32(2*o),l=0,c=0;c<n;++c)for(var u=t[c],d=(e=u.length,0);d<e;++d)for(var h=0;h<d;++h){var g=u[h],f=u[d];s[l++]=0|Math.min(g,f),s[l++]=0|Math.max(g,f)}a(r(s,[l/2|0,2]));var p=2;for(c=2;c<l;c+=2)s[c-2]===s[c]&&s[c-1]===s[c+1]||(s[p++]=s[c],s[p++]=s[c+1]);return r(s,[p/2|0,2])}function u(t,e,n,a){for(var o=t.data,s=t.shape[0],l=i.mallocDouble(s),c=0,u=0;u<s;++u){var d=o[2*u],h=o[2*u+1];if(n[d]!==n[h]){var g=e[d],f=e[h];o[2*c]=d,o[2*c+1]=h,l[c++]=(f-a)/(f-g)}}return t.shape[0]=c,r(l,[c])}function d(t,e){var n=i.mallocInt32(2*e),r=t.shape[0],a=t.data;n[0]=0;for(var o=0,s=0;s<r;++s){var l=a[2*s];if(l!==o){for(n[2*o+1]=s;++o<l;)n[2*o]=s,n[2*o+1]=s;n[2*o]=s}}for(n[2*o+1]=r;++o<e;)n[2*o]=n[2*o+1]=r;return n}function h(t){for(var e=0|t.shape[0],n=t.data,r=new Array(e),i=0;i<e;++i)r[i]=[n[2*i],n[2*i+1]];return r}function g(t,e,n,r){if(n=n||0,void 0===r&&(r=s(t)),0===t.length||r<1)return{cells:[],vertexIds:[],vertexWeights:[]};var a=l(e,+n),g=c(t,r),f=u(g,e,a,+n),p=d(g,0|e.length),v=o(r)(t,g.data,p,a),m=h(g),y=[].slice.call(f.data,0,f.shape[0]);return i.free(a),i.free(g.data),i.free(f.data),i.free(p),{cells:v,vertexIds:m,vertexWeights:y}}},{"./lib/codegen":292,ndarray:259,"ndarray-sort":258,"typedarray-pool":308}],292:[function(t,e,n){e.exports=i;var r=[function(){function t(t,e,n,r){for(var i=t.length,a=[],o=0;o<i;++o)t[o].length;return a}return t},function(){function t(t,e,n,r){for(var i=0|Math.min(n,r),a=0|Math.max(n,r),o=t[2*i],s=t[2*i+1];o<s;){var l=o+s>>1,c=e[2*l+1];if(c===a)return l;a<c?s=l:o=l+1}return o}function e(e,n,r,i){for(var a=e.length,o=[],s=0;s<a;++s){var l=e[s];if(2===l.length){var c=(i[l[0]]<<0)+(i[l[1]]<<1);if(0===c||3===c)continue;switch(c){case 0:break;case 1:o.push([t(r,n,l[0],l[1])]);break;case 2:o.push([t(r,n,l[1],l[0])])}}}return o}return e},function(){function t(t,e,n,r){for(var i=0|Math.min(n,r),a=0|Math.max(n,r),o=t[2*i],s=t[2*i+1];o<s;){var l=o+s>>1,c=e[2*l+1];if(c===a)return l;a<c?s=l:o=l+1}return o}function e(e,n,r,i){for(var a=e.length,o=[],s=0;s<a;++s){var l=e[s],c=l.length;if(3===c){if(0==(u=(i[l[0]]<<0)+(i[l[1]]<<1)+(i[l[2]]<<2))||7===u)continue;switch(u){case 0:break;case 1:o.push([t(r,n,l[0],l[2]),t(r,n,l[0],l[1])]);break;case 2:o.push([t(r,n,l[1],l[0]),t(r,n,l[1],l[2])]);break;case 3:o.push([t(r,n,l[0],l[2]),t(r,n,l[1],l[2])]);break;case 4:o.push([t(r,n,l[2],l[1]),t(r,n,l[2],l[0])]);break;case 5:o.push([t(r,n,l[2],l[1]),t(r,n,l[0],l[1])]);break;case 6:o.push([t(r,n,l[1],l[0]),t(r,n,l[2],l[0])])}}else if(2===c){var u;if(0==(u=(i[l[0]]<<0)+(i[l[1]]<<1))||3===u)continue;switch(u){case 0:break;case 1:o.push([t(r,n,l[0],l[1])]);break;case 2:o.push([t(r,n,l[1],l[0])])}}}return o}return e},function(){function t(t,e,n,r){for(var i=0|Math.min(n,r),a=0|Math.max(n,r),o=t[2*i],s=t[2*i+1];o<s;){var l=o+s>>1,c=e[2*l+1];if(c===a)return l;a<c?s=l:o=l+1}return o}function e(e,n,r,i){for(var a=e.length,o=[],s=0;s<a;++s){var l=e[s],c=l.length;if(4===c){if(0==(u=(i[l[0]]<<0)+(i[l[1]]<<1)+(i[l[2]]<<2)+(i[l[3]]<<3))||15===u)continue;switch(u){case 0:break;case 1:o.push([t(r,n,l[0],l[1]),t(r,n,l[0],l[2]),t(r,n,l[0],l[3])]);break;case 2:o.push([t(r,n,l[1],l[2]),t(r,n,l[1],l[0]),t(r,n,l[1],l[3])]);break;case 3:o.push([t(r,n,l[1],l[2]),t(r,n,l[0],l[2]),t(r,n,l[0],l[3])],[t(r,n,l[1],l[3]),t(r,n,l[1],l[2]),t(r,n,l[0],l[3])]);break;case 4:o.push([t(r,n,l[2],l[0]),t(r,n,l[2],l[1]),t(r,n,l[2],l[3])]);break;case 5:o.push([t(r,n,l[0],l[1]),t(r,n,l[2],l[1]),t(r,n,l[0],l[3])],[t(r,n,l[2],l[1]),t(r,n,l[2],l[3]),t(r,n,l[0],l[3])]);break;case 6:o.push([t(r,n,l[2],l[0]),t(r,n,l[1],l[0]),t(r,n,l[1],l[3])],[t(r,n,l[2],l[3]),t(r,n,l[2],l[0]),t(r,n,l[1],l[3])]);break;case 7:o.push([t(r,n,l[0],l[3]),t(r,n,l[1],l[3]),t(r,n,l[2],l[3])]);break;case 8:o.push([t(r,n,l[3],l[1]),t(r,n,l[3],l[0]),t(r,n,l[3],l[2])]);break;case 9:o.push([t(r,n,l[3],l[1]),t(r,n,l[0],l[1]),t(r,n,l[0],l[2])],[t(r,n,l[3],l[2]),t(r,n,l[3],l[1]),t(r,n,l[0],l[2])]);break;case 10:o.push([t(r,n,l[1],l[0]),t(r,n,l[3],l[0]),t(r,n,l[1],l[2])],[t(r,n,l[3],l[0]),t(r,n,l[3],l[2]),t(r,n,l[1],l[2])]);break;case 11:o.push([t(r,n,l[1],l[2]),t(r,n,l[0],l[2]),t(r,n,l[3],l[2])]);break;case 12:o.push([t(r,n,l[3],l[0]),t(r,n,l[2],l[0]),t(r,n,l[2],l[1])],[t(r,n,l[3],l[1]),t(r,n,l[3],l[0]),t(r,n,l[2],l[1])]);break;case 13:o.push([t(r,n,l[0],l[1]),t(r,n,l[2],l[1]),t(r,n,l[3],l[1])]);break;case 14:o.push([t(r,n,l[2],l[0]),t(r,n,l[1],l[0]),t(r,n,l[3],l[0])])}}else if(3===c){if(0==(u=(i[l[0]]<<0)+(i[l[1]]<<1)+(i[l[2]]<<2))||7===u)continue;switch(u){case 0:break;case 1:o.push([t(r,n,l[0],l[2]),t(r,n,l[0],l[1])]);break;case 2:o.push([t(r,n,l[1],l[0]),t(r,n,l[1],l[2])]);break;case 3:o.push([t(r,n,l[0],l[2]),t(r,n,l[1],l[2])]);break;case 4:o.push([t(r,n,l[2],l[1]),t(r,n,l[2],l[0])]);break;case 5:o.push([t(r,n,l[2],l[1]),t(r,n,l[0],l[1])]);break;case 6:o.push([t(r,n,l[1],l[0]),t(r,n,l[2],l[0])])}}else if(2===c){var u;if(0==(u=(i[l[0]]<<0)+(i[l[1]]<<1))||3===u)continue;switch(u){case 0:break;case 1:o.push([t(r,n,l[0],l[1])]);break;case 2:o.push([t(r,n,l[1],l[0])])}}}return o}return e}];function i(t){return r[t]()}},{}],293:[function(t,e,n){var r=t("bit-twiddle"),i=t("union-find");function a(t){for(var e=0,n=Math.max,r=0,i=t.length;r<i;++r)e=n(e,t[r].length);return e-1}function o(t){for(var e=-1,n=Math.max,r=0,i=t.length;r<i;++r)for(var a=t[r],o=0,s=a.length;o<s;++o)e=n(e,a[o]);return e+1}function s(t){for(var e=new Array(t.length),n=0,r=t.length;n<r;++n)e[n]=t[n].slice(0);return e}function l(t,e){var n=t.length,r=t.length-e.length,i=Math.min;if(r)return r;switch(n){case 0:return 0;case 1:return t[0]-e[0];case 2:return(s=t[0]+t[1]-e[0]-e[1])||i(t[0],t[1])-i(e[0],e[1]);case 3:var a=t[0]+t[1],o=e[0]+e[1];if(s=a+t[2]-(o+e[2]))return s;var s,l=i(t[0],t[1]),c=i(e[0],e[1]);return(s=i(l,t[2])-i(c,e[2]))||i(l+t[2],a)-i(c+e[2],o);default:var u=t.slice(0);u.sort();var d=e.slice(0);d.sort();for(var h=0;h<n;++h)if(r=u[h]-d[h])return r;return 0}}function c(t,e){return l(t[0],e[0])}function u(t,e){if(e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=[t[i],e[i]];for(r.sort(c),i=0;i<n;++i)t[i]=r[i][0],e[i]=r[i][1];return t}return t.sort(l),t}function d(t){if(0===t.length)return[];for(var e=1,n=t.length,r=1;r<n;++r){var i=t[r];if(l(i,t[r-1])){if(r===e){e++;continue}t[e++]=i}}return t.length=e,t}function h(t,e){for(var n=0,r=t.length-1,i=-1;n<=r;){var a=n+r>>1,o=l(t[a],e);o<=0?(0===o&&(i=a),n=a+1):o>0&&(r=a-1)}return i}function g(t,e){for(var n=new Array(t.length),i=0,a=n.length;i<a;++i)n[i]=[];for(var o=[],s=(i=0,e.length);i<s;++i)for(var c=e[i],u=c.length,d=1,g=1<<u;d<g;++d){o.length=r.popCount(d);for(var f=0,p=0;p<u;++p)d&1<<p&&(o[f++]=c[p]);var v=h(t,o);if(!(v<0))for(;n[v++].push(i),!(v>=t.length||0!==l(t[v],o)););}return n}function f(t,e){if(!e)return g(d(v(t,0)),t);for(var n=new Array(e),r=0;r<e;++r)n[r]=[];r=0;for(var i=t.length;r<i;++r)for(var a=t[r],o=0,s=a.length;o<s;++o)n[a[o]].push(r);return n}function p(t){for(var e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],a=0|i.length,o=1,s=1<<a;o<s;++o){for(var l=[],c=0;c<a;++c)o>>>c&1&&l.push(i[c]);e.push(l)}return u(e)}function v(t,e){if(e<0)return[];for(var n=[],i=(1<<e+1)-1,a=0;a<t.length;++a)for(var o=t[a],s=i;s<1<<o.length;s=r.nextCombination(s)){for(var l=new Array(e+1),c=0,d=0;d<o.length;++d)s&1<<d&&(l[c++]=o[d]);n.push(l)}return u(n)}function m(t){for(var e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length;a<o;++a){for(var s=new Array(i.length-1),l=0,c=0;l<o;++l)l!==a&&(s[c++]=i[l]);e.push(s)}return u(e)}function y(t,e){for(var n=new i(e),r=0;r<t.length;++r)for(var a=t[r],o=0;o<a.length;++o)for(var s=o+1;s<a.length;++s)n.link(a[o],a[s]);var l=[],c=n.ranks;for(r=0;r<c.length;++r)c[r]=-1;for(r=0;r<t.length;++r){var u=n.find(t[r][0]);c[u]<0?(c[u]=l.length,l.push([t[r].slice(0)])):l[c[u]].push(t[r].slice(0))}return l}function b(t){for(var e=d(u(v(t,0))),n=new i(e.length),r=0;r<t.length;++r)for(var a=t[r],o=0;o<a.length;++o)for(var s=h(e,[a[o]]),l=o+1;l<a.length;++l)n.link(s,h(e,[a[l]]));var c=[],g=n.ranks;for(r=0;r<g.length;++r)g[r]=-1;for(r=0;r<t.length;++r){var f=n.find(h(e,[t[r][0]]));g[f]<0?(g[f]=c.length,c.push([t[r].slice(0)])):c[g[f]].push(t[r].slice(0))}return c}function I(t,e){return e?y(t,e):b(t)}n.dimension=a,n.countVertices=o,n.cloneCells=s,n.compareCells=l,n.normalize=u,n.unique=d,n.findCell=h,n.incidence=g,n.dual=f,n.explode=p,n.skeleton=v,n.boundary=m,n.connectedComponents=I},{"bit-twiddle":32,"union-find":309}],294:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],295:[function(t,e,n){arguments[4][293][0].apply(n,arguments)},{"bit-twiddle":294,dup:293,"union-find":296}],296:[function(t,e,n){function r(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}e.exports=r,r.prototype.length=function(){return this.roots.length},r.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.prototype.find=function(t){for(var e=this.roots;e[t]!==t;){var n=e[t];e[t]=e[n],t=n}return t},r.prototype.link=function(t,e){var n=this.find(t),r=this.find(e);if(n!==r){var i=this.ranks,a=this.roots,o=i[n],s=i[r];o<s?a[n]=r:s<o?a[r]=n:(a[r]=n,++i[n])}}},{}],297:[function(t,e,n){e.exports=o;var r=t("robust-orientation"),i=t("simplicial-complex");function a(t,e,n){return Math.abs(r(t,e,n))/Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}function o(t,e,n){for(var r=e.length,o=t.length,s=new Array(r),l=new Array(r),c=new Array(r),u=new Array(r),d=0;d<r;++d)s[d]=l[d]=-1,c[d]=1/0,u[d]=!1;for(d=0;d<o;++d){var h=t[d];if(2!==h.length)throw new Error("Input must be a graph");var g=h[1],f=h[0];-1!==l[f]?l[f]=-2:l[f]=g,-1!==s[g]?s[g]=-2:s[g]=f}function p(t){if(u[t])return 1/0;var n=s[t],r=l[t];return n<0||r<0?1/0:a(e[t],e[n],e[r])}function v(t,e){var n=A[t],r=A[e];A[t]=r,A[e]=n,F[n]=e,F[r]=t}function m(t){return c[A[t]]}function y(t){return 1&t?t-1>>1:(t>>1)-1}function b(t){for(var e=m(t);;){var n=e,r=2*t+1,i=2*(t+1),a=t;if(r<Q){var o=m(r);o<n&&(a=r,n=o)}if(i<Q&&m(i)<n&&(a=i),a===t)return t;v(t,a),t=a}}function I(t){for(var e=m(t);t>0;){var n=y(t);if(!(n>=0&&e<m(n)))return t;v(t,n),t=n}}function C(){if(Q>0){var t=A[0];return v(0,Q-1),Q-=1,b(0),t}return-1}function x(t,e){var n=A[t];return c[n]===e?t:(c[n]=-1/0,I(t),C(),c[n]=e,I((Q+=1)-1))}function B(t){if(!u[t]){u[t]=!0;var e=s[t],n=l[t];s[n]>=0&&(s[n]=e),l[e]>=0&&(l[e]=n),F[e]>=0&&x(F[e],p(e)),F[n]>=0&&x(F[n],p(n))}}var A=[],F=new Array(r);for(d=0;d<r;++d)(c[d]=p(d))<1/0?(F[d]=A.length,A.push(d)):F[d]=-1;var Q=A.length;for(d=Q>>1;d>=0;--d)b(d);for(;;){var w=C();if(w<0||c[w]>n)break;B(w)}var U=[];for(d=0;d<r;++d)u[d]||(F[d]=U.length,U.push(e[d].slice()));function G(t,e){if(t[e]<0)return e;var n=e,r=e;do{var i=t[r];if(!u[r]||i<0||i===r)break;if(i=t[r=i],!u[r]||i<0||i===r)break;r=i,n=t[n]}while(n!==r);for(var a=e;a!==r;a=t[a])t[a]=r;return r}U.length;var R=[];return t.forEach((function(t){var e=G(s,t[0]),n=G(l,t[1]);if(e>=0&&n>=0&&e!==n){var r=F[e],i=F[n];r!==i&&R.push([r,i])}})),i.unique(i.normalize(R)),{positions:U,edges:R}}},{"robust-orientation":284,"simplicial-complex":295}],298:[function(t,e,n){e.exports=a;var r=t("robust-orientation");function i(t,e){var n,i,a,o;if(e[0][0]<e[1][0])n=e[0],i=e[1];else{if(!(e[0][0]>e[1][0])){var s=Math.min(t[0][1],t[1][1]),l=Math.max(t[0][1],t[1][1]),c=Math.min(e[0][1],e[1][1]),u=Math.max(e[0][1],e[1][1]);return l<c?l-c:s>u?s-u:l-u}n=e[1],i=e[0]}t[0][1]<t[1][1]?(a=t[0],o=t[1]):(a=t[1],o=t[0]);var d=r(i,n,a);return d||(d=r(i,n,o))||o-i}function a(t,e){var n,a,o,s;if(e[0][0]<e[1][0])n=e[0],a=e[1];else{if(!(e[0][0]>e[1][0]))return i(e,t);n=e[1],a=e[0]}if(t[0][0]<t[1][0])o=t[0],s=t[1];else{if(!(t[0][0]>t[1][0]))return-i(t,e);o=t[1],s=t[0]}var l=r(n,a,s),c=r(n,a,o);if(l<0){if(c<=0)return l}else if(l>0){if(c>=0)return l}else if(c)return c;if(l=r(s,o,a),c=r(s,o,n),l<0){if(c<=0)return l}else if(l>0){if(c>=0)return l}else if(c)return c;return a[0]-s[0]}},{"robust-orientation":284}],299:[function(t,e,n){e.exports=h;var r=t("binary-search-bounds"),i=t("functional-red-black-tree"),a=t("robust-orientation"),o=t("./lib/order-segments");function s(t,e,n){this.slabs=t,this.coordinates=e,this.horizontal=n}function l(t,e){return t.y-e}function c(t,e){for(var n=null;t;){var r,i,o=t.key;o[0][0]<o[1][0]?(r=o[0],i=o[1]):(r=o[1],i=o[0]);var s=a(r,i,e);if(s<0)t=t.left;else if(s>0)if(e[0]!==o[1][0])n=t,t=t.right;else{if(l=c(t.right,e))return l;t=t.left}else{if(e[0]!==o[1][0])return t;var l;if(l=c(t.right,e))return l;t=t.left}}return n}function u(t,e,n,r){this.y=t,this.index=e,this.start=n,this.closed=r}function d(t,e,n,r){this.x=t,this.segment=e,this.create=n,this.index=r}function h(t){for(var e=t.length,n=2*e,r=new Array(n),a=0;a<e;++a){var l=t[a],c=l[0][0]<l[1][0];r[2*a]=new d(l[0][0],l,c,a),r[2*a+1]=new d(l[1][0],l,!c,a)}r.sort((function(t,e){var n=t.x-e.x;return n||(n=t.create-e.create)||Math.min(t.segment[0][1],t.segment[1][1])-Math.min(e.segment[0][1],e.segment[1][1])}));var h=i(o),g=[],f=[],p=[];for(a=0;a<n;){for(var v=r[a].x,m=[];a<n;){var y=r[a];if(y.x!==v)break;a+=1,y.segment[0][0]===y.x&&y.segment[1][0]===y.x?y.create&&(y.segment[0][1]<y.segment[1][1]?(m.push(new u(y.segment[0][1],y.index,!0,!0)),m.push(new u(y.segment[1][1],y.index,!1,!1))):(m.push(new u(y.segment[1][1],y.index,!0,!1)),m.push(new u(y.segment[0][1],y.index,!1,!0)))):h=y.create?h.insert(y.segment,y.index):h.remove(y.segment)}g.push(h.root),f.push(v),p.push(m)}return new s(g,f,p)}s.prototype.castUp=function(t){var e=r.le(this.coordinates,t[0]);if(e<0)return-1;this.slabs[e];var n=c(this.slabs[e],t),i=-1;if(n&&(i=n.value),this.coordinates[e]===t[0]){var s=null;if(n&&(s=n.key),e>0){var u=c(this.slabs[e-1],t);u&&(s?o(u.key,s)>0&&(s=u.key,i=u.value):(i=u.value,s=u.key))}var d=this.horizontal[e];if(d.length>0){var h=r.ge(d,t[1],l);if(h<d.length){var g=d[h];if(t[1]===g.y){if(g.closed)return g.index;for(;h<d.length-1&&d[h+1].y===t[1];)if((g=d[h+=1]).closed)return g.index;if(g.y===t[1]&&!g.start){if((h+=1)>=d.length)return i;g=d[h]}}if(g.start)if(s){var f=a(s[0],s[1],[t[0],g.y]);s[0][0]>s[1][0]&&(f=-f),f>0&&(i=g.index)}else i=g.index;else g.y!==t[1]&&(i=g.index)}}}return i}},{"./lib/order-segments":298,"binary-search-bounds":31,"functional-red-black-tree":69,"robust-orientation":284}],300:[function(t,e,n){var r=t("robust-dot-product"),i=t("robust-sum");function a(t,e){var n=i(r(t,e),[e[e.length-1]]);return n[n.length-1]}function o(t,e,n,r){var i=-e/(r-e);i<0?i=0:i>1&&(i=1);for(var a=1-i,o=t.length,s=new Array(o),l=0;l<o;++l)s[l]=i*t[l]+a*n[l];return s}function s(t,e){for(var n=[],r=[],i=a(t[t.length-1],e),s=t[t.length-1],l=t[0],c=0;c<t.length;++c,s=l){var u=a(l=t[c],e);if(i<0&&u>0||i>0&&u<0){var d=o(s,u,l,i);n.push(d),r.push(d.slice())}u<0?r.push(l.slice()):u>0?n.push(l.slice()):(n.push(l.slice()),r.push(l.slice())),i=u}return{positive:n,negative:r}}function l(t,e){for(var n=[],r=a(t[t.length-1],e),i=t[t.length-1],s=t[0],l=0;l<t.length;++l,i=s){var c=a(s=t[l],e);(r<0&&c>0||r>0&&c<0)&&n.push(o(i,c,s,r)),c>=0&&n.push(s.slice()),r=c}return n}function c(t,e){for(var n=[],r=a(t[t.length-1],e),i=t[t.length-1],s=t[0],l=0;l<t.length;++l,i=s){var c=a(s=t[l],e);(r<0&&c>0||r>0&&c<0)&&n.push(o(i,c,s,r)),c<=0&&n.push(s.slice()),r=c}return n}e.exports=s,e.exports.positive=l,e.exports.negative=c},{"robust-dot-product":281,"robust-sum":289}],301:[function(t,e,n){!function(){var t={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function e(t){return i(s(t),arguments)}function r(t,n){return e.apply(null,[t].concat(n||[]))}function i(n,r){var i,a,s,l,c,u,d,h,g,f=1,p=n.length,v="";for(a=0;a<p;a++)if("string"==typeof n[a])v+=n[a];else if("object"===o(n[a])){if((l=n[a]).keys)for(i=r[f],s=0;s<l.keys.length;s++){if(null==i)throw new Error(e('[sprintf] Cannot access property "%s" of undefined value "%s"',l.keys[s],l.keys[s-1]));i=i[l.keys[s]]}else i=l.param_no?r[l.param_no]:r[f++];if(t.not_type.test(l.type)&&t.not_primitive.test(l.type)&&i instanceof Function&&(i=i()),t.numeric_arg.test(l.type)&&"number"!=typeof i&&isNaN(i))throw new TypeError(e("[sprintf] expecting number but found %T",i));switch(t.number.test(l.type)&&(h=i>=0),l.type){case"b":i=parseInt(i,10).toString(2);break;case"c":i=String.fromCharCode(parseInt(i,10));break;case"d":case"i":i=parseInt(i,10);break;case"j":i=JSON.stringify(i,null,l.width?parseInt(l.width):0);break;case"e":i=l.precision?parseFloat(i).toExponential(l.precision):parseFloat(i).toExponential();break;case"f":i=l.precision?parseFloat(i).toFixed(l.precision):parseFloat(i);break;case"g":i=l.precision?String(Number(i.toPrecision(l.precision))):parseFloat(i);break;case"o":i=(parseInt(i,10)>>>0).toString(8);break;case"s":i=String(i),i=l.precision?i.substring(0,l.precision):i;break;case"t":i=String(!!i),i=l.precision?i.substring(0,l.precision):i;break;case"T":i=Object.prototype.toString.call(i).slice(8,-1).toLowerCase(),i=l.precision?i.substring(0,l.precision):i;break;case"u":i=parseInt(i,10)>>>0;break;case"v":i=i.valueOf(),i=l.precision?i.substring(0,l.precision):i;break;case"x":i=(parseInt(i,10)>>>0).toString(16);break;case"X":i=(parseInt(i,10)>>>0).toString(16).toUpperCase()}t.json.test(l.type)?v+=i:(!t.number.test(l.type)||h&&!l.sign?g="":(g=h?"+":"-",i=i.toString().replace(t.sign,"")),u=l.pad_char?"0"===l.pad_char?"0":l.pad_char.charAt(1):" ",d=l.width-(g+i).length,c=l.width&&d>0?u.repeat(d):"",v+=l.align?g+i+c:"0"===u?g+c+i:c+g+i)}return v}var a=Object.create(null);function s(e){if(a[e])return a[e];for(var n,r=e,i=[],o=0;r;){if(null!==(n=t.text.exec(r)))i.push(n[0]);else if(null!==(n=t.modulo.exec(r)))i.push("%");else{if(null===(n=t.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){o|=1;var s=[],l=n[2],c=[];if(null===(c=t.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(c[1]);""!==(l=l.substring(c[0].length));)if(null!==(c=t.key_access.exec(l)))s.push(c[1]);else{if(null===(c=t.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(c[1])}n[2]=s}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:n[0],param_no:n[1],keys:n[2],sign:n[3],pad_char:n[4],align:n[5],width:n[6],precision:n[7],type:n[8]})}r=r.substring(n[0].length)}return a[e]=i}void 0!==n&&(n.sprintf=e,n.vsprintf=r),"undefined"!=typeof window&&(window.sprintf=e,window.vsprintf=r)}()},{}],302:[function(t,e,n){e.exports=c;var r=t("ndarray-extract-contour"),i=t("zero-crossings"),a={"2d":function(t,e,n){var r=t({order:e,scalarArguments:3,getters:"generic"===n?[0]:void 0,phase:function(t,e,n,r){return t>r|0},vertex:function(t,e,n,r,i,a,o,s,l,c,u,d,h){var g=(o<<0)+(s<<1)+(l<<2)+(c<<3)|0;if(0!==g&&15!==g)switch(g){case 0:case 15:u.push([t-.5,e-.5]);break;case 1:u.push([t-.25-.25*(r+n-2*h)/(n-r),e-.25-.25*(i+n-2*h)/(n-i)]);break;case 2:u.push([t-.75-.25*(-r-n+2*h)/(r-n),e-.25-.25*(a+r-2*h)/(r-a)]);break;case 3:u.push([t-.5,e-.5-.5*(i+n+a+r-4*h)/(n-i+r-a)]);break;case 4:u.push([t-.25-.25*(a+i-2*h)/(i-a),e-.75-.25*(-i-n+2*h)/(i-n)]);break;case 5:u.push([t-.5-.5*(r+n+a+i-4*h)/(n-r+i-a),e-.5]);break;case 6:u.push([t-.5-.25*(-r-n+a+i)/(r-n+i-a),e-.5-.25*(-i-n+a+r)/(i-n+r-a)]);break;case 7:u.push([t-.75-.25*(a+i-2*h)/(i-a),e-.75-.25*(a+r-2*h)/(r-a)]);break;case 8:u.push([t-.75-.25*(-a-i+2*h)/(a-i),e-.75-.25*(-a-r+2*h)/(a-r)]);break;case 9:u.push([t-.5-.25*(r+n+-a-i)/(n-r+a-i),e-.5-.25*(i+n+-a-r)/(n-i+a-r)]);break;case 10:u.push([t-.5-.5*(-r-n-a-i+4*h)/(r-n+a-i),e-.5]);break;case 11:u.push([t-.25-.25*(-a-i+2*h)/(a-i),e-.75-.25*(i+n-2*h)/(n-i)]);break;case 12:u.push([t-.5,e-.5-.5*(-i-n-a-r+4*h)/(i-n+a-r)]);break;case 13:u.push([t-.75-.25*(r+n-2*h)/(n-r),e-.25-.25*(-a-r+2*h)/(a-r)]);break;case 14:u.push([t-.25-.25*(-r-n+2*h)/(r-n),e-.25-.25*(-i-n+2*h)/(i-n)])}},cell:function(t,e,n,r,i,a,o,s,l){i?s.push([t,e]):s.push([e,t])}});return function(t,e){var n=[],i=[];return r(t,n,i,e),{positions:n,cells:i}}}};function o(t,e){var n=t.length+"d",i=a[n];if(i)return i(r,t,e)}function s(t,e){for(var n=i(t,e),r=n.length,a=new Array(r),o=new Array(r),s=0;s<r;++s)a[s]=[n[s]],o[s]=[s];return{positions:a,cells:o}}var l={};function c(t,e){if(t.dimension<=0)return{positions:[],cells:[]};if(1===t.dimension)return s(t,e);var n=t.order.join()+"-"+t.dtype,r=l[n];return e=+e||0,r||(r=l[n]=o(t.order,t.dtype)),r(t,e)}},{"ndarray-extract-contour":251,"zero-crossings":318}],303:[function(t,e,n){(function(n){(function(){e.exports=s;var r=t("vectorize-text"),i=window||n.global||{},a=i.__TEXT_CACHE||{};function o(t){for(var e=t.cells,n=t.positions,r=new Float32Array(6*e.length),i=0,a=0,o=0;o<e.length;++o)for(var s=e[o],l=0;l<3;++l){var c=n[s[l]];r[i++]=c[0],r[i++]=c[1]+1.4,a=Math.max(c[0],a)}return{data:r,shape:a}}function s(t,e,n){n=n||{};var i=a[t];i||(i=a[t]={" ":{data:new Float32Array(0),shape:.2}});var l=i[e];if(!l)if(e.length<=1||!/\d/.test(e))l=i[e]=o(r(e,{triangles:!0,font:t,textAlign:n.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var c=e.split(/(\d|\s)/),u=new Array(c.length),d=0,h=0,g=0;g<c.length;++g)u[g]=s(t,c[g]),d+=u[g].data.length,h+=u[g].shape,g>0&&(h+=.02);var f=new Float32Array(d),p=0,v=-.5*h;for(g=0;g<u.length;++g){for(var m=u[g].data,y=0;y<m.length;y+=2)f[p++]=m[y]+v,f[p++]=m[y+1];v+=u[g].shape+.02}l=i[e]={data:f,shape:h}}return l}i.__TEXT_CACHE={}}).call(this)}).call(this,t("_process"))},{_process:5,"vectorize-text":311}],304:[function(t,e,n){var r=t("parse-unit");e.exports=s;var i=96;function a(t,e){var n=r(getComputedStyle(t).getPropertyValue(e));return n[0]*s(n[1],t)}function o(t,e){var n=document.createElement("div");n.style["font-size"]="128"+t,e.appendChild(n);var r=a(n,"font-size")/128;return e.removeChild(n),r}function s(t,e){switch(e=e||document.body,t=(t||"px").trim().toLowerCase(),e!==window&&e!==document||(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return o(t,e);case"em":return a(e,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return i;case"cm":return i/2.54;case"mm":return i/25.4;case"pt":return i/72;case"pc":return i/6}return 1}},{"parse-unit":265}],305:[function(t,e,n){e.exports=p;var r=t("filtered-vector"),i=t("gl-mat4/invert"),a=t("gl-mat4/rotate"),o=t("gl-vec3/cross"),s=t("gl-vec3/normalize"),l=t("gl-vec3/dot");function c(t,e,n){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(n,2))}function u(t){return Math.min(1,Math.max(-1,t))}function d(t){var e=Math.abs(t[0]),n=Math.abs(t[1]),r=Math.abs(t[2]),i=[0,0,0];e>Math.max(n,r)?i[2]=1:n>Math.max(e,r)?i[0]=1:i[1]=1;for(var a=0,o=0,l=0;l<3;++l)a+=t[l]*t[l],o+=i[l]*t[l];for(l=0;l<3;++l)i[l]-=o/a*t[l];return s(i,i),i}function h(t,e,n,i,a,o,s,l){this.center=r(n),this.up=r(i),this.right=r(a),this.radius=r([o]),this.angle=r([s,l]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(t,e),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var c=0;c<16;++c)this.computedMatrix[c]=.5;this.recalcMatrix(0)}var g=h.prototype;g.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-1/0,e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},g.getDistanceLimits=function(t){var e=this.radius.bounds[0];return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},g.recalcMatrix=function(t){this.center.curve(t),this.up.curve(t),this.right.curve(t),this.radius.curve(t),this.angle.curve(t);for(var e=this.computedUp,n=this.computedRight,r=0,i=0,a=0;a<3;++a)i+=e[a]*n[a],r+=e[a]*e[a];var l=Math.sqrt(r),u=0;for(a=0;a<3;++a)n[a]-=e[a]*i/r,u+=n[a]*n[a],e[a]/=l;var d=Math.sqrt(u);for(a=0;a<3;++a)n[a]/=d;var h=this.computedToward;o(h,e,n),s(h,h);var g=Math.exp(this.computedRadius[0]),f=this.computedAngle[0],p=this.computedAngle[1],v=Math.cos(f),m=Math.sin(f),y=Math.cos(p),b=Math.sin(p),I=this.computedCenter,C=v*y,x=m*y,B=b,A=-v*b,F=-m*b,Q=y,w=this.computedEye,U=this.computedMatrix;for(a=0;a<3;++a){var G=C*n[a]+x*h[a]+B*e[a];U[4*a+1]=A*n[a]+F*h[a]+Q*e[a],U[4*a+2]=G,U[4*a+3]=0}var R=U[1],S=U[5],L=U[9],_=U[2],E=U[6],k=U[10],V=S*k-L*E,Z=L*_-R*k,N=R*E-S*_,T=c(V,Z,N);for(V/=T,Z/=T,N/=T,U[0]=V,U[4]=Z,U[8]=N,a=0;a<3;++a)w[a]=I[a]+U[2+4*a]*g;for(a=0;a<3;++a){u=0;for(var X=0;X<3;++X)u+=U[a+4*X]*w[X];U[12+a]=-u}U[15]=1},g.getMatrix=function(t,e){this.recalcMatrix(t);var n=this.computedMatrix;if(e){for(var r=0;r<16;++r)e[r]=n[r];return e}return n};var f=[0,0,0];function p(t){var e=(t=t||{}).center||[0,0,0],n=t.up||[0,1,0],r=t.right||d(n),i=t.radius||1,a=t.theta||0,u=t.phi||0;if(e=[].slice.call(e,0,3),n=[].slice.call(n,0,3),s(n,n),r=[].slice.call(r,0,3),s(r,r),"eye"in t){var g=t.eye,f=[g[0]-e[0],g[1]-e[1],g[2]-e[2]];o(r,f,n),c(r[0],r[1],r[2])<1e-6?r=d(n):s(r,r),i=c(f[0],f[1],f[2]);var p=l(n,f)/i,v=l(r,f)/i;u=Math.acos(p),a=Math.acos(v)}return i=Math.log(i),new h(t.zoomMin,t.zoomMax,e,n,r,i,a,u)}g.rotate=function(t,e,n,r){if(this.angle.move(t,e,n),r){this.recalcMatrix(t);var i=this.computedMatrix;f[0]=i[2],f[1]=i[6],f[2]=i[10];for(var o=this.computedUp,s=this.computedRight,l=this.computedToward,c=0;c<3;++c)i[4*c]=o[c],i[4*c+1]=s[c],i[4*c+2]=l[c];for(a(i,i,r,f),c=0;c<3;++c)o[c]=i[4*c],s[c]=i[4*c+1];this.up.set(t,o[0],o[1],o[2]),this.right.set(t,s[0],s[1],s[2])}},g.pan=function(t,e,n,r){e=e||0,n=n||0,r=r||0,this.recalcMatrix(t);var i=this.computedMatrix;Math.exp(this.computedRadius[0]);var a=i[1],o=i[5],s=i[9],l=c(a,o,s);a/=l,o/=l,s/=l;var u=i[0],d=i[4],h=i[8],g=u*a+d*o+h*s,f=c(u-=a*g,d-=o*g,h-=s*g),p=(u/=f)*e+a*n,v=(d/=f)*e+o*n,m=(h/=f)*e+s*n;this.center.move(t,p,v,m);var y=Math.exp(this.computedRadius[0]);y=Math.max(1e-4,y+r),this.radius.set(t,Math.log(y))},g.translate=function(t,e,n,r){this.center.move(t,e||0,n||0,r||0)},g.setMatrix=function(t,e,n,r){var a=1;"number"==typeof n&&(a=0|n),(a<0||a>3)&&(a=1);var o=(a+2)%3;e||(this.recalcMatrix(t),e=this.computedMatrix);var s=e[a],l=e[a+4],d=e[a+8];if(r){var h=Math.abs(s),g=Math.abs(l),f=Math.abs(d),p=Math.max(h,g,f);h===p?(s=s<0?-1:1,l=d=0):f===p?(d=d<0?-1:1,s=l=0):(l=l<0?-1:1,s=d=0)}else{var v=c(s,l,d);s/=v,l/=v,d/=v}var m,y,b=e[o],I=e[o+4],C=e[o+8],x=b*s+I*l+C*d,B=c(b-=s*x,I-=l*x,C-=d*x),A=l*(C/=B)-d*(I/=B),F=d*(b/=B)-s*C,Q=s*I-l*b,w=c(A,F,Q);if(A/=w,F/=w,Q/=w,this.center.jump(t,D,Y,O),this.radius.idle(t),this.up.jump(t,s,l,d),this.right.jump(t,b,I,C),2===a){var U=e[1],G=e[5],R=e[9],S=U*b+G*I+R*C,L=U*A+G*F+R*Q;m=V<0?-Math.PI/2:Math.PI/2,y=Math.atan2(L,S)}else{var _=e[2],E=e[6],k=e[10],V=_*s+E*l+k*d,Z=_*b+E*I+k*C,N=_*A+E*F+k*Q;m=Math.asin(u(V)),y=Math.atan2(N,Z)}this.angle.jump(t,y,m),this.recalcMatrix(t);var T=e[2],X=e[6],W=e[10],M=this.computedMatrix;i(M,e);var H=M[15],D=M[12]/H,Y=M[13]/H,O=M[14]/H,z=Math.exp(this.computedRadius[0]);this.center.jump(t,D-T*z,Y-X*z,O-W*z)},g.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},g.idle=function(t){this.center.idle(t),this.up.idle(t),this.right.idle(t),this.radius.idle(t),this.angle.idle(t)},g.flush=function(t){this.center.flush(t),this.up.flush(t),this.right.flush(t),this.radius.flush(t),this.angle.flush(t)},g.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},g.lookAt=function(t,e,n,r){this.recalcMatrix(t),e=e||this.computedEye,n=n||this.computedCenter;var i=(r=r||this.computedUp)[0],a=r[1],o=r[2],s=c(i,a,o);if(!(s<1e-6)){i/=s,a/=s,o/=s;var l=e[0]-n[0],d=e[1]-n[1],h=e[2]-n[2],g=c(l,d,h);if(!(g<1e-6)){l/=g,d/=g,h/=g;var f=this.computedRight,p=f[0],v=f[1],m=f[2],y=i*p+a*v+o*m,b=c(p-=y*i,v-=y*a,m-=y*o);if(!(b<.01&&(b=c(p=a*h-o*d,v=o*l-i*h,m=i*d-a*l))<1e-6)){p/=b,v/=b,m/=b,this.up.set(t,i,a,o),this.right.set(t,p,v,m),this.center.set(t,n[0],n[1],n[2]),this.radius.set(t,Math.log(g));var I=a*m-o*v,C=o*p-i*m,x=i*v-a*p,B=c(I,C,x),A=i*l+a*d+o*h,F=p*l+v*d+m*h,Q=(I/=B)*l+(C/=B)*d+(x/=B)*h,w=Math.asin(u(A)),U=Math.atan2(Q,F),G=this.angle._state,R=G[G.length-1],S=G[G.length-2];R%=2*Math.PI;var L=Math.abs(R+2*Math.PI-U),_=Math.abs(R-U),E=Math.abs(R-2*Math.PI-U);L<_&&(R+=2*Math.PI),E<_&&(R-=2*Math.PI),this.angle.jump(this.angle.lastT(),R,S),this.angle.set(t,U,w)}}}}},{"filtered-vector":68,"gl-mat4/invert":98,"gl-mat4/rotate":103,"gl-vec3/cross":157,"gl-vec3/dot":162,"gl-vec3/normalize":179}],306:[function(t,e,n){e.exports=i;var r=+(Math.pow(2,27)+1);function i(t,e,n){var i=t*e,a=r*t,o=a-(a-t),s=t-o,l=r*e,c=l-(l-e),u=e-c,d=s*u-(i-o*c-s*c-o*u);return n?(n[0]=d,n[1]=i,n):[d,i]}},{}],307:[function(t,e,n){function r(t,e,n){var r=t+e,i=r-t,a=e-i,o=t-(r-i);return n?(n[0]=o+a,n[1]=r,n):[o+a,r]}e.exports=r},{}],308:[function(t,n,r){(function(e){(function(){var n=t("bit-twiddle"),i=t("dup"),a=t("buffer").Buffer;e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var o="undefined"!=typeof Uint8ClampedArray,s="undefined"!=typeof BigUint64Array,l="undefined"!=typeof BigInt64Array,c=e.__TYPEDARRAY_POOL;c.UINT8C||(c.UINT8C=i([32,0])),c.BIGUINT64||(c.BIGUINT64=i([32,0])),c.BIGINT64||(c.BIGINT64=i([32,0])),c.BUFFER||(c.BUFFER=i([32,0]));var u=c.DATA,d=c.BUFFER;function h(t){if(t){var e=t.length||t.byteLength,r=n.log2(e);u[r].push(t)}}function g(t){h(t.buffer)}function f(t){t=n.nextPow2(t);var e=n.log2(t),r=u[e];return r.length>0?r.pop():new ArrayBuffer(t)}function p(t){return new Uint8Array(f(t),0,t)}function v(t){return new Uint16Array(f(2*t),0,t)}function m(t){return new Uint32Array(f(4*t),0,t)}function y(t){return new Int8Array(f(t),0,t)}function b(t){return new Int16Array(f(2*t),0,t)}function I(t){return new Int32Array(f(4*t),0,t)}function C(t){return new Float32Array(f(4*t),0,t)}function x(t){return new Float64Array(f(8*t),0,t)}function B(t){return o?new Uint8ClampedArray(f(t),0,t):p(t)}function A(t){return s?new BigUint64Array(f(8*t),0,t):null}function F(t){return l?new BigInt64Array(f(8*t),0,t):null}function Q(t){return new DataView(f(t),0,t)}function w(t){t=n.nextPow2(t);var e=n.log2(t),r=d[e];return r.length>0?r.pop():new a(t)}r.free=function(t){if(a.isBuffer(t))d[n.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,r=0|n.log2(e);u[r].push(t)}},r.freeUint8=r.freeUint16=r.freeUint32=r.freeBigUint64=r.freeInt8=r.freeInt16=r.freeInt32=r.freeBigInt64=r.freeFloat32=r.freeFloat=r.freeFloat64=r.freeDouble=r.freeUint8Clamped=r.freeDataView=g,r.freeArrayBuffer=h,r.freeBuffer=function(t){d[n.log2(t.length)].push(t)},r.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return f(t);switch(e){case"uint8":return p(t);case"uint16":return v(t);case"uint32":return m(t);case"int8":return y(t);case"int16":return b(t);case"int32":return I(t);case"float":case"float32":return C(t);case"double":case"float64":return x(t);case"uint8_clamped":return B(t);case"bigint64":return F(t);case"biguint64":return A(t);case"buffer":return w(t);case"data":case"dataview":return Q(t);default:return null}return null},r.mallocArrayBuffer=f,r.mallocUint8=p,r.mallocUint16=v,r.mallocUint32=m,r.mallocInt8=y,r.mallocInt16=b,r.mallocInt32=I,r.mallocFloat32=r.mallocFloat=C,r.mallocFloat64=r.mallocDouble=x,r.mallocUint8Clamped=B,r.mallocBigUint64=A,r.mallocBigInt64=F,r.mallocDataView=Q,r.mallocBuffer=w,r.clearCache=function(){for(var t=0;t<32;++t)c.UINT8[t].length=0,c.UINT16[t].length=0,c.UINT32[t].length=0,c.INT8[t].length=0,c.INT16[t].length=0,c.INT32[t].length=0,c.FLOAT[t].length=0,c.DOUBLE[t].length=0,c.BIGUINT64[t].length=0,c.BIGINT64[t].length=0,c.UINT8C[t].length=0,u[t].length=0,d[t].length=0}}).call(this)}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"bit-twiddle":32,buffer:3,dup:65}],309:[function(t,e,n){function r(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}e.exports=r;var i=r.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},i.find=function(t){for(var e=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[e]!==t;){var r=n[e];n[e]=t,e=r}return t},i.link=function(t,e){var n=this.find(t),r=this.find(e);if(n!==r){var i=this.ranks,a=this.roots,o=i[n],s=i[r];o<s?a[n]=r:s<o?a[r]=n:(a[r]=n,++i[n])}}},{}],310:[function(t,e,n){function r(t,e){for(var n=1,r=t.length,i=t[0],a=t[0],o=1;o<r;++o)if(a=i,e(i=t[o],a)){if(o===n){n++;continue}t[n++]=i}return t.length=n,t}function i(t){for(var e=1,n=t.length,r=t[0],i=t[0],a=1;a<n;++a,i=r)if(i=r,(r=t[a])!==i){if(a===e){e++;continue}t[e++]=r}return t.length=e,t}function a(t,e,n){return 0===t.length?t:e?(n||t.sort(e),r(t,e)):(n||t.sort(),i(t))}e.exports=a},{}],311:[function(t,e,n){e.exports=s;var r=t("./lib/vtext"),i=null,a=null;function s(t,e){return"object"===o(e)&&null!==e||(e={}),r(t,e.canvas||i,e.context||a,e)}"undefined"!=typeof document&&((i=document.createElement("canvas")).width=8192,i.height=1024,a=i.getContext("2d"))},{"./lib/vtext":312}],312:[function(t,e,n){e.exports=F,e.exports.processPixels=A;var r=t("surface-nets"),i=t("ndarray"),a=t("simplify-planar-graph"),o=t("clean-pslg"),s=t("cdt2d"),l=t("planar-graph-to-polyline"),c="b",u="b|",d="i",h="i|",g="sup",f="+",p="+1",v="sub",m="-",y="-1";function b(t,e,n,r){for(var i="<"+t+">",a="</"+t+">",o=i.length,s=a.length,l=e[0]===f||e[0]===m,c=0,u=-s;c>-1&&-1!==(c=n.indexOf(i,c))&&-1!==(u=n.indexOf(a,c+o))&&!(u<=c);){for(var d=c;d<u+s;++d)if(d<c+o||d>=u)r[d]=null,n=n.substr(0,d)+" "+n.substr(d+1);else if(null!==r[d]){var h=r[d].indexOf(e[0]);-1===h?r[d]+=e:l&&(r[d]=r[d].substr(0,h+1)+(1+parseInt(r[d][h+1]))+r[d].substr(h+2))}var g=c+o,p=n.substr(g,u-g).indexOf(i);c=-1!==p?p:u+s}return r}function I(t,e,n){for(var r=e.textAlign||"start",i=e.textBaseline||"alphabetic",a=[1<<30,1<<30],o=[0,0],s=t.length,l=0;l<s;++l)for(var c=t[l],u=0;u<2;++u)a[u]=0|Math.min(a[u],c[u]),o[u]=0|Math.max(o[u],c[u]);var d=0;switch(r){case"center":d=-.5*(a[0]+o[0]);break;case"right":case"end":d=-o[0];break;case"left":case"start":d=-a[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+r+"'")}var h=0;switch(i){case"hanging":case"top":h=-a[1];break;case"middle":h=-.5*(a[1]+o[1]);break;case"alphabetic":case"ideographic":h=-3*n;break;case"bottom":h=-o[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+i+"'")}var g=1/n;return"lineHeight"in e?g*=+e.lineHeight:"width"in e?g=e.width/(o[0]-a[0]):"height"in e&&(g=e.height/(o[1]-a[1])),t.map((function(t){return[g*(t[0]+d),g*(t[1]+h)]}))}function C(t,e,n,r,a,o){n=n.replace(/\n/g,""),n=!0===o.breaklines?n.replace(/\<br\>/g,"\n"):n.replace(/\<br\>/g," ");var s="",l=[];for(B=0;B<n.length;++B)l[B]=s;!0===o.bolds&&(l=b(c,u,n,l)),!0===o.italics&&(l=b(d,h,n,l)),!0===o.superscripts&&(l=b(g,p,n,l)),!0===o.subscripts&&(l=b(v,y,n,l));var I=[],C="";for(B=0;B<n.length;++B)null!==l[B]&&(C+=n[B],I.push(l[B]));var x,B,A,F,Q,w=C.split("\n"),U=w.length,G=Math.round(a*r),R=r,S=2*r,L=0,_=U*G+S;t.height<_&&(t.height=_),e.fillStyle="#000",e.fillRect(0,0,t.width,t.height),e.fillStyle="#fff";var E=0,k="";function V(){if(""!==k){var t=e.measureText(k).width;e.fillText(k,R+A,S+F),A+=t}}function Z(){return Math.round(Q)+"px "}function N(t,n){var r=""+e.font;if(!0===o.subscripts){var i=t.indexOf(m),a=n.indexOf(m),s=i>-1?parseInt(t[1+i]):0,l=a>-1?parseInt(n[1+a]):0;s!==l&&(r=r.replace(Z(),"?px "),Q*=Math.pow(.75,l-s),r=r.replace("?px ",Z())),F+=.25*G*(l-s)}if(!0===o.superscripts){var c=t.indexOf(f),d=n.indexOf(f),g=c>-1?parseInt(t[1+c]):0,p=d>-1?parseInt(n[1+d]):0;g!==p&&(r=r.replace(Z(),"?px "),Q*=Math.pow(.75,p-g),r=r.replace("?px ",Z())),F-=.25*G*(p-g)}if(!0===o.bolds){var v=t.indexOf(u)>-1,y=n.indexOf(u)>-1;!v&&y&&(r=b?r.replace("italic ","italic bold "):"bold "+r),v&&!y&&(r=r.replace("bold ",""))}if(!0===o.italics){var b=t.indexOf(h)>-1,I=n.indexOf(h)>-1;!b&&I&&(r="italic "+r),b&&!I&&(r=r.replace("italic ",""))}e.font=r}for(x=0;x<U;++x){var T=w[x]+"\n";for(A=0,F=x*G,Q=r,k="",B=0;B<T.length;++B){var X=B+E<I.length?I[B+E]:I[I.length-1];s===X?k+=T[B]:(V(),k=T[B],void 0!==X&&(N(s,X),s=X))}V(),E+=T.length;var W=0|Math.round(A+2*R);L<W&&(L=W)}var M=L,H=S+G*U;return i(e.getImageData(0,0,M,H).data,[H,M,4]).pick(-1,-1,0).transpose(1,0)}function x(t,e){var n=r(t,128);return e?a(n.cells,n.positions,.25):{edges:n.cells,positions:n.positions}}function B(t,e,n,r){var i=x(t,r),a=I(i.positions,e,n),c=i.edges,u="ccw"===e.orientation;if(o(a,c),e.polygons||e.polygon||e.polyline){for(var d=l(c,a),h=new Array(d.length),g=0;g<d.length;++g){for(var f=d[g],p=new Array(f.length),v=0;v<f.length;++v){for(var m=f[v],y=new Array(m.length),b=0;b<m.length;++b)y[b]=a[m[b]].slice();u&&y.reverse(),p[v]=y}h[g]=p}return h}return e.triangles||e.triangulate||e.triangle?{cells:s(a,c,{delaunay:!1,exterior:!1,interior:!0}),positions:a}:{edges:c,positions:a}}function A(t,e,n){try{return B(t,e,n,!0)}catch(t){}try{return B(t,e,n,!1)}catch(t){}return e.polygons||e.polyline||e.polygon?[]:e.triangles||e.triangulate||e.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function F(t,e,n,r){var i=64,a=1.25,o={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return r&&(r.size&&r.size>0&&(i=r.size),r.lineSpacing&&r.lineSpacing>0&&(a=r.lineSpacing),r.styletags&&r.styletags.breaklines&&(o.breaklines=!!r.styletags.breaklines),r.styletags&&r.styletags.bolds&&(o.bolds=!!r.styletags.bolds),r.styletags&&r.styletags.italics&&(o.italics=!!r.styletags.italics),r.styletags&&r.styletags.subscripts&&(o.subscripts=!!r.styletags.subscripts),r.styletags&&r.styletags.superscripts&&(o.superscripts=!!r.styletags.superscripts)),n.font=[r.fontStyle,r.fontVariant,r.fontWeight,i+"px",r.font].filter((function(t){return t})).join(" "),n.textAlign="start",n.textBaseline="alphabetic",n.direction="ltr",A(C(e,n,t,i,a,o),r,i)}},{cdt2d:42,"clean-pslg":50,ndarray:259,"planar-graph-to-polyline":268,"simplify-planar-graph":297,"surface-nets":302}],313:[function(t,e,n){!function(){if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=v);var t=!1;if("function"==typeof WeakMap){var n=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var r=new n,i=Object.freeze({});if(r.set(i,1),1===r.get(i))return void(e.exports=WeakMap);t=!0}}var a=Object.getOwnPropertyNames,o=Object.defineProperty,s=Object.isExtensible,l="weakmap:",c=l+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var u=new ArrayBuffer(25),d=new Uint8Array(u);crypto.getRandomValues(d),c=l+"rand:"+Array.prototype.map.call(d,(function(t){return(t%36).toString(36)})).join("")+"___"}if(o(Object,"getOwnPropertyNames",{value:function(t){return a(t).filter(m)}}),"getPropertyNames"in Object){var h=Object.getPropertyNames;o(Object,"getPropertyNames",{value:function(t){return h(t).filter(m)}})}!function(){var t=Object.freeze;o(Object,"freeze",{value:function(e){return y(e),t(e)}});var e=Object.seal;o(Object,"seal",{value:function(t){return y(t),e(t)}});var n=Object.preventExtensions;o(Object,"preventExtensions",{value:function(t){return y(t),n(t)}})}();var g=!1,f=0,p=function t(){this instanceof t||I();var e=[],n=[],r=f++;function i(t,i){var a,o=y(t);return o?r in o?o[r]:i:(a=e.indexOf(t))>=0?n[a]:i}function a(t){var n=y(t);return n?r in n:e.indexOf(t)>=0}function o(t,i){var a,o=y(t);return o?o[r]=i:(a=e.indexOf(t))>=0?n[a]=i:(a=e.length,n[a]=i,e[a]=t),this}function s(t){var i,a,o=y(t);return o?r in o&&delete o[r]:!((i=e.indexOf(t))<0||(a=e.length-1,e[i]=void 0,n[i]=n[a],e[i]=e[a],e.length=a,n.length=a,0))}return Object.create(t.prototype,{get___:{value:b(i)},has___:{value:b(a)},set___:{value:b(o)},delete___:{value:b(s)}})};p.prototype=Object.create(Object.prototype,{get:{value:function(t,e){return this.get___(t,e)},writable:!0,configurable:!0},has:{value:function(t){return this.has___(t)},writable:!0,configurable:!0},set:{value:function(t,e){return this.set___(t,e)},writable:!0,configurable:!0},delete:{value:function(t){return this.delete___(t)},writable:!0,configurable:!0}}),"function"==typeof n?function(){function r(){this instanceof p||I();var e,r=new n,i=void 0,a=!1;function o(t,e){return i?r.has(t)?r.get(t):i.get___(t,e):r.get(t,e)}function s(t){return r.has(t)||!!i&&i.has___(t)}function l(t){var e=!!r.delete(t);return i&&i.delete___(t)||e}return e=t?function(t,e){return r.set(t,e),r.has(t)||(i||(i=new p),i.set(t,e)),this}:function(t,e){if(a)try{r.set(t,e)}catch(n){i||(i=new p),i.set___(t,e)}else r.set(t,e);return this},Object.create(p.prototype,{get___:{value:b(o)},has___:{value:b(s)},set___:{value:b(e)},delete___:{value:b(l)},permitHostObjects___:{value:b((function(t){if(t!==v)throw new Error("bogus call to permitHostObjects___");a=!0}))}})}t&&"undefined"!=typeof Proxy&&(Proxy=void 0),r.prototype=p.prototype,e.exports=r,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),e.exports=p)}function v(t){t.permitHostObjects___&&t.permitHostObjects___(v)}function m(t){return!(t.substr(0,l.length)==l&&"___"===t.substr(t.length-3))}function y(t){if(t!==Object(t))throw new TypeError("Not an object: "+t);var e=t[c];if(e&&e.key===t)return e;if(s(t)){e={key:t};try{return o(t,c,{value:e,writable:!1,enumerable:!1,configurable:!1}),e}catch(t){return}}}function b(t){return t.prototype=null,Object.freeze(t)}function I(){g||"undefined"==typeof console||(g=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},{}],314:[function(t,e,n){var r=t("./hidden-store.js");function i(){var t={};return function(e){if(("object"!==o(e)||null===e)&&"function"!=typeof e)throw new Error("Weakmap-shim: Key must be object");var n=e.valueOf(t);return n&&n.identity===t?n:r(e,t)}}e.exports=i},{"./hidden-store.js":315}],315:[function(t,e,n){function r(t,e){var n={identity:e},r=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(t){return t!==e?r.apply(this,arguments):n},writable:!0}),n}e.exports=r},{}],316:[function(t,e,n){var r=t("./create-store.js");function i(){var t=r();return{get:function(e,n){var r=t(e);return r.hasOwnProperty("value")?r.value:n},set:function(e,n){return t(e).value=n,this},has:function(e){return"value"in t(e)},delete:function(e){return delete t(e).value}}}e.exports=i},{"./create-store.js":314}],317:[function(t,e,n){function r(){return function(t,e,n,r,i,a){var o=t[0],s=n[0],l=[0],c=s;r|=0;var u=0,d=s;for(u=0;u<o;++u){var h=e[r]-a,g=e[r+c]-a;h>=0!=g>=0&&i.push(l[0]+.5+.5*(h+g)/(h-g)),r+=d,++l[0]}}}function i(){return r()}var a=i;function o(t){var e={};return function(n,r,i){var a=n.dtype,o=n.order,s=[a,o.join()].join(),l=e[s];return l||(e[s]=l=t([a,o])),l(n.shape.slice(0),n.data,n.stride,0|n.offset,r,i)}}function s(t){return o(a.bind(void 0,t))}function l(t){return s({funcName:t.funcName})}e.exports=l({funcName:"zeroCrossings"})},{}],318:[function(t,e,n){e.exports=i;var r=t("./lib/zc-core");function i(t,e){var n=[];return e=+e||0,r(t.hi(t.shape[0]-1),n,e),n}},{"./lib/zc-core":317}]},{},[6])(6)}(aEt);var oEt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},sEt=function(t){var e,n,r=[],i=1;if("string"==typeof t)if(oEt[t])r=oEt[t].slice(),n="rgb";else if("transparent"===t)i=0,n="rgb",r=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(t)){var a=(l=t.slice(1)).length;i=1,a<=4?(r=[parseInt(l[0]+l[0],16),parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16)],4===a&&(i=parseInt(l[3]+l[3],16)/255)):(r=[parseInt(l[0]+l[1],16),parseInt(l[2]+l[3],16),parseInt(l[4]+l[5],16)],8===a&&(i=parseInt(l[6]+l[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),n="rgb"}else if(e=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(t)){var o=e[1],s="rgb"===o,l=o.replace(/a$/,"");n=l;a="cmyk"===l?4:"gray"===l?1:3;r=e[2].trim().split(/\s*[,\/]\s*|\s+/).map((function(t,e){if(/%$/.test(t))return e===a?parseFloat(t)/100:"rgb"===l?255*parseFloat(t)/100:parseFloat(t);if("h"===l[e]){if(/deg$/.test(t))return parseFloat(t);if(void 0!==lEt[t])return lEt[t]}return parseFloat(t)})),o===l&&r.push(1),i=s||void 0===r[a]?1:r[a],r=r.slice(0,a)}else t.length>10&&/[0-9](?:\s|\/)/.test(t)&&(r=t.match(/([0-9]+)/g).map((function(t){return parseFloat(t)})),n=t.match(/([a-z])/gi).join("").toLowerCase());else isNaN(t)?Array.isArray(t)||t.length?(r=[t[0],t[1],t[2]],n="rgb",i=4===t.length?t[3]:1):t instanceof Object&&(null!=t.r||null!=t.red||null!=t.R?(n="rgb",r=[t.r||t.red||t.R||0,t.g||t.green||t.G||0,t.b||t.blue||t.B||0]):(n="hsl",r=[t.h||t.hue||t.H||0,t.s||t.saturation||t.S||0,t.l||t.lightness||t.L||t.b||t.brightness]),i=t.a||t.alpha||t.opacity||1,null!=t.opacity&&(i/=100)):(n="rgb",r=[t>>>16,(65280&t)>>>8,255&t]);return{space:n,values:r,alpha:i}},lEt={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};var cEt={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};cEt.hsl=function(t){var e,n,r=t[0]/255,i=t[1]/255,a=t[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),l=s-o;return s===o?e=0:r===s?e=(i-a)/l:i===s?e=2+(a-r)/l:a===s&&(e=4+(r-i)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(o+s)/2,[e,100*(s===o?0:n<=.5?l/(s+o):l/(2-s-o)),100*n]};var uEt=sEt,dEt=cEt,hEt={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e,n,r,i,a,o=t[0]/360,s=t[1]/100,l=t[2]/100;if(0===s)return[a=255*l,a,a];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),i=[0,0,0];for(var c=0;c<3;c++)(r=o+1/3*-(c-1))<0?r++:r>1&&r--,a=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e,i[c]=255*a;return i}},gEt=function(t,e,n){return e<n?t<e?e:t>n?n:t:t<n?n:t>e?e:t};var fEt=function(t){var e;Array.isArray(t)&&t.raw&&(t=String.raw.apply(null,arguments));var n=uEt(t);if(!n.space)return[];var r="h"===n.space[0]?hEt.min:dEt.min,i="h"===n.space[0]?hEt.max:dEt.max;return(e=Array(3))[0]=Math.min(Math.max(n.values[0],r[0]),i[0]),e[1]=Math.min(Math.max(n.values[1],r[1]),i[1]),e[2]=Math.min(Math.max(n.values[2],r[2]),i[2]),"h"===n.space[0]&&(e=hEt.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e},pEt=gEt,vEt=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}},mEt=function(t,e){"float"!==e&&e||(e="array"),"uint"===e&&(e="uint8"),"uint_clamped"===e&&(e="uint8_clamped");var n=new(vEt(e))(4),r="uint8"!==e&&"uint8_clamped"!==e;return t.length&&"string"!=typeof t||((t=fEt(t))[0]/=255,t[1]/=255,t[2]/=255),function(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||!!(Array.isArray(t)&&(t[0]>1||0===t[0])&&(t[1]>1||0===t[1])&&(t[2]>1||0===t[2])&&(!t[3]||t[3]>1))}(t)?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=null!=t[3]?t[3]:255,r&&(n[0]/=255,n[1]/=255,n[2]/=255,n[3]/=255),n):(r?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=null!=t[3]?t[3]:1):(n[0]=pEt(Math.floor(255*t[0]),0,255),n[1]=pEt(Math.floor(255*t[1]),0,255),n[2]=pEt(Math.floor(255*t[2]),0,255),n[3]=null==t[3]?255:pEt(Math.floor(255*t[3]),0,255)),n)};var yEt=z6,bEt=Btt.exports,IEt=mEt,CEt=Cst,xEt=ztt.defaultLine,BEt=j6.isArrayOrTypedArray,AEt=IEt(xEt);function FEt(t,e){var n=t;return n[3]*=e,n}function QEt(t){if(yEt(t))return AEt;var e=IEt(t);return e.length?e:AEt}function wEt(t){return yEt(t)?t:1}var UEt=function(t,e,n){var r,i,a,o,s,l=t.color,c=BEt(l),u=BEt(e),d=CEt.extractOpts(t),h=[];if(r=void 0!==d.colorscale?CEt.makeColorScaleFuncFromTrace(t):QEt,i=c?function(t,e){return void 0===t[e]?AEt:IEt(r(t[e]))}:QEt,a=u?function(t,e){return void 0===t[e]?1:wEt(t[e])}:wEt,c||u)for(var g=0;g<n;g++)o=i(l,g),s=a(e,g),h[g]=FEt(o,s);else h=FEt(IEt(l),e);return h},GEt=function(t){var e=CEt.extractOpts(t),n=e.colorscale;return e.reversescale&&(n=CEt.flipScale(e.colorscale)),n.map((function(t){var e=t[0],n=bEt(t[1]).toRgb();return{index:e,rgb:[n.r,n.g,n.b,n.a]}}))},REt=mEt;var SEt=function(t){return t?REt(t):[0,0,0,1]},LEt=aEt.exports.gl_mesh3d,_Et=GEt,EEt=SEt,kEt=Cst.extractOpts,VEt=function(t,e,n,r){r=r||t.length;for(var i=new Array(r),a=0;a<r;a++)i[a]=[t[a],e[a],n[a]];return i},ZEt=function(t,e){for(var n=e.length-1;n>0;n--){var r=Math.min(e[n],e[n-1]),i=Math.max(e[n],e[n-1]);if(i>r&&r<t&&t<=i)return{id:n,distRatio:(i-t)/(i-r)}}return{id:0,distRatio:0}};function NEt(t,e,n){this.scene=t,this.uid=n,this.mesh=e,this.name="",this.data=null,this.showContour=!1}var TEt=NEt.prototype;TEt.handlePick=function(t){if(t.object===this.mesh){var e=t.data.index,n=this.data._meshX[e],r=this.data._meshY[e],i=this.data._meshZ[e],a=this.data._Ys.length,o=this.data._Zs.length,s=ZEt(n,this.data._Xs).id,l=ZEt(r,this.data._Ys).id,c=ZEt(i,this.data._Zs).id,u=t.index=c+o*l+o*a*s;t.traceCoordinate=[this.data._meshX[u],this.data._meshY[u],this.data._meshZ[u],this.data._value[u]];var d=this.data.hovertext||this.data.text;return Array.isArray(d)&&void 0!==d[u]?t.textLabel=d[u]:d&&(t.textLabel=d),!0}},TEt.update=function(t){var e=this.scene,n=e.fullSceneLayout;function r(t,e,n,r){return e.map((function(e){return t.d2l(e,0,r)*n}))}this.data=WEt(t);var i={positions:VEt(r(n.xaxis,t._meshX,e.dataScale[0],t.xcalendar),r(n.yaxis,t._meshY,e.dataScale[1],t.ycalendar),r(n.zaxis,t._meshZ,e.dataScale[2],t.zcalendar)),cells:VEt(t._meshI,t._meshJ,t._meshK),lightPosition:[t.lightposition.x,t.lightposition.y,t.lightposition.z],ambient:t.lighting.ambient,diffuse:t.lighting.diffuse,specular:t.lighting.specular,roughness:t.lighting.roughness,fresnel:t.lighting.fresnel,vertexNormalsEpsilon:t.lighting.vertexnormalsepsilon,faceNormalsEpsilon:t.lighting.facenormalsepsilon,opacity:t.opacity,contourEnable:t.contour.show,contourColor:EEt(t.contour.color).slice(0,3),contourWidth:t.contour.width,useFacetNormals:t.flatshading},a=kEt(t);i.vertexIntensity=t._meshIntensity,i.vertexIntensityBounds=[a.min,a.max],i.colormap=_Et(t),this.mesh.update(i)},TEt.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var XEt=["xyz","xzy","yxz","yzx","zxy","zyx"];function WEt(t){t._meshI=[],t._meshJ=[],t._meshK=[];var e,n,r,i,a,o,s,l=t.surface.show,c=t.spaceframe.show,u=t.surface.fill,d=t.spaceframe.fill,h=!1,g=!1,f=0,p=t._Xs,v=t._Ys,m=t._Zs,y=p.length,b=v.length,I=m.length,C=XEt.indexOf(t._gridFill.replace(/-/g,"").replace(/\+/g,"")),x=function(t,e,n){switch(C){case 5:return n+I*e+I*b*t;case 4:return n+I*t+I*y*e;case 3:return e+b*n+b*I*t;case 2:return e+b*t+b*y*n;case 1:return t+y*n+y*I*e;default:return t+y*e+y*b*n}},B=t._minValues,A=t._maxValues,F=t._vMin,Q=t._vMax;function w(t,e,s){for(var l=o.length,c=n;c<l;c++)if(t===r[c]&&e===i[c]&&s===a[c])return c;return-1}function U(){n=e}function G(){r=[],i=[],a=[],o=[],e=0,U()}function R(t,n,s,l){return r.push(t),i.push(n),a.push(s),o.push(l),++e-1}function S(e,n,r){return t._meshI.push(e),t._meshJ.push(n),t._meshK.push(r),++f-1}function L(t,e,n){for(var r=[],i=0;i<t.length;i++)r[i]=t[i]*(1-n)+n*e[i];return r}function _(t){s=t}function E(t,e){return"all"===t||null===t||t.indexOf(e)>-1}function k(t,e){return null===t?e:t}function V(t,e,n){U();var r=[e],i=[n];if(s>=1)r=[e],i=[n];else if(s>0){var a=function(t,e){var n=t[0],r=t[1],i=t[2],a=function(t,e,n){for(var r=[],i=0;i<t.length;i++)r[i]=(t[i]+e[i]+n[i])/3;return r}(n,r,i),o=Math.sqrt(1-s),l=L(a,n,o),c=L(a,r,o),u=L(a,i,o),d=e[0],h=e[1],g=e[2];return{xyzv:[[n,r,c],[c,l,n],[r,i,u],[u,c,r],[i,n,l],[l,u,i]],abc:[[d,h,-1],[-1,-1,d],[h,g,-1],[-1,-1,h],[g,d,-1],[-1,-1,g]]}}(e,n);r=a.xyzv,i=a.abc}for(var o=0;o<r.length;o++){e=r[o],n=i[o];for(var l=[],c=0;c<3;c++){var u=e[c][0],d=e[c][1],h=e[c][2],g=e[c][3],f=n[c]>-1?n[c]:w(u,d,h);l[c]=f>-1?f:R(u,d,h,k(t,g))}S(l[0],l[1],l[2])}}function Z(t,e,n,r){var i=t[3];i<n&&(i=n),i>r&&(i=r);for(var a=(t[3]-i)/(t[3]-e[3]+1e-9),o=[],s=0;s<4;s++)o[s]=(1-a)*t[s]+a*e[s];return o}function N(t,e,n){return t>=e&&t<=n}function T(t){var e=.001*(Q-F);return t>=F-e&&t<=Q+e}function X(e){for(var n=[],r=0;r<4;r++){var i=e[r];n.push([t._x[i],t._y[i],t._z[i],t._value[i]])}return n}function W(t,e,n,r,i,a){a||(a=1),n=[-1,-1,-1];var o=!1,s=[N(e[0][3],r,i),N(e[1][3],r,i),N(e[2][3],r,i)];if(!s[0]&&!s[1]&&!s[2])return!1;var l=function(t,e,n){return T(e[0][3])&&T(e[1][3])&&T(e[2][3])?(V(t,e,n),!0):a<3&&W(t,e,n,F,Q,++a)};if(s[0]&&s[1]&&s[2])return l(t,e,n)||o;var c=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach((function(a){if(s[a[0]]&&s[a[1]]&&!s[a[2]]){var u=e[a[0]],d=e[a[1]],h=e[a[2]],g=Z(h,u,r,i),f=Z(h,d,r,i);o=l(t,[f,g,u],[-1,-1,n[a[0]]])||o,o=l(t,[u,d,f],[n[a[0]],n[a[1]],-1])||o,c=!0}})),c||[[0,1,2],[1,2,0],[2,0,1]].forEach((function(a){if(s[a[0]]&&!s[a[1]]&&!s[a[2]]){var u=e[a[0]],d=e[a[1]],h=e[a[2]],g=Z(d,u,r,i),f=Z(h,u,r,i);o=l(t,[f,g,u],[-1,-1,n[a[0]]])||o,c=!0}})),o}function M(t,e,n,r){var i=!1,a=X(e),o=[N(a[0][3],n,r),N(a[1][3],n,r),N(a[2][3],n,r),N(a[3][3],n,r)];if(!(o[0]||o[1]||o[2]||o[3]))return i;if(o[0]&&o[1]&&o[2]&&o[3])return g&&(i=function(t,e,n){var r=function(r,i,a){V(t,[e[r],e[i],e[a]],[n[r],n[i],n[a]])};r(0,1,2),r(3,0,1),r(2,3,0),r(1,2,3)}(t,a,e)||i),i;var s=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach((function(l){if(o[l[0]]&&o[l[1]]&&o[l[2]]&&!o[l[3]]){var c=a[l[0]],u=a[l[1]],d=a[l[2]],h=a[l[3]];if(g)i=V(t,[c,u,d],[e[l[0]],e[l[1]],e[l[2]]])||i;else{var f=Z(h,c,n,r),p=Z(h,u,n,r),v=Z(h,d,n,r);i=V(null,[f,p,v],[-1,-1,-1])||i}s=!0}})),s?i:([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach((function(l){if(o[l[0]]&&o[l[1]]&&!o[l[2]]&&!o[l[3]]){var c=a[l[0]],u=a[l[1]],d=a[l[2]],h=a[l[3]],f=Z(d,c,n,r),p=Z(d,u,n,r),v=Z(h,u,n,r),m=Z(h,c,n,r);g?(i=V(t,[c,m,f],[e[l[0]],-1,-1])||i,i=V(t,[u,p,v],[e[l[1]],-1,-1])||i):i=function(t,e,n){var r=function(r,i,a){V(t,[e[r],e[i],e[a]],[n[r],n[i],n[a]])};r(0,1,2),r(2,3,0)}(null,[f,p,v,m],[-1,-1,-1,-1])||i,s=!0}})),s||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach((function(l){if(o[l[0]]&&!o[l[1]]&&!o[l[2]]&&!o[l[3]]){var c=a[l[0]],u=a[l[1]],d=a[l[2]],h=a[l[3]],f=Z(u,c,n,r),p=Z(d,c,n,r),v=Z(h,c,n,r);g?(i=V(t,[c,f,p],[e[l[0]],-1,-1])||i,i=V(t,[c,p,v],[e[l[0]],-1,-1])||i,i=V(t,[c,v,f],[e[l[0]],-1,-1])||i):i=V(null,[f,p,v],[-1,-1,-1])||i,s=!0}})),i)}function H(t,e,n,r,i,a,o,s,l,c,u){var d=!1;return h&&(E(t,"A")&&(d=M(null,[e,n,r,a],c,u)||d),E(t,"B")&&(d=M(null,[n,r,i,l],c,u)||d),E(t,"C")&&(d=M(null,[n,a,o,l],c,u)||d),E(t,"D")&&(d=M(null,[r,a,s,l],c,u)||d),E(t,"E")&&(d=M(null,[n,r,a,l],c,u)||d)),g&&(d=M(t,[n,r,a,l],c,u)||d),d}function D(t,e,n,r,i,a,o,s){return[!0===s[0]||W(t,X([e,n,r]),[e,n,r],a,o),!0===s[1]||W(t,X([r,i,e]),[r,i,e],a,o)]}function Y(t,e,n,r,i,a,o,s,l){return s?D(t,e,n,i,r,a,o,l):D(t,n,i,r,e,a,o,l)}function O(t,e,n,r,i,a,o){var s,l,c,u,d=!1,h=function(){d=W(t,[s,l,c],[-1,-1,-1],i,a)||d,d=W(t,[c,u,s],[-1,-1,-1],i,a)||d},g=o[0],f=o[1],p=o[2];return g&&(s=L(X([x(e,n-0,r-0)])[0],X([x(e-1,n-0,r-0)])[0],g),l=L(X([x(e,n-0,r-1)])[0],X([x(e-1,n-0,r-1)])[0],g),c=L(X([x(e,n-1,r-1)])[0],X([x(e-1,n-1,r-1)])[0],g),u=L(X([x(e,n-1,r-0)])[0],X([x(e-1,n-1,r-0)])[0],g),h()),f&&(s=L(X([x(e-0,n,r-0)])[0],X([x(e-0,n-1,r-0)])[0],f),l=L(X([x(e-0,n,r-1)])[0],X([x(e-0,n-1,r-1)])[0],f),c=L(X([x(e-1,n,r-1)])[0],X([x(e-1,n-1,r-1)])[0],f),u=L(X([x(e-1,n,r-0)])[0],X([x(e-1,n-1,r-0)])[0],f),h()),p&&(s=L(X([x(e-0,n-0,r)])[0],X([x(e-0,n-0,r-1)])[0],p),l=L(X([x(e-0,n-1,r)])[0],X([x(e-0,n-1,r-1)])[0],p),c=L(X([x(e-1,n-1,r)])[0],X([x(e-1,n-1,r-1)])[0],p),u=L(X([x(e-1,n-0,r)])[0],X([x(e-1,n-0,r-1)])[0],p),h()),d}function z(t,e,n,r,i,a,o,s,l,c,u,d){var g=t;return d?(h&&"even"===t&&(g=null),H(g,e,n,r,i,a,o,s,l,c,u)):(h&&"odd"===t&&(g=null),H(g,l,s,o,a,i,r,n,e,c,u))}function J(t,e,n,r,i){for(var a=[],o=0,s=0;s<e.length;s++)for(var l=e[s],c=1;c<I;c++)for(var u=1;u<b;u++)a.push(Y(t,x(l,u-1,c-1),x(l,u-1,c),x(l,u,c-1),x(l,u,c),n,r,(l+u+c)%2,i&&i[o]?i[o]:[])),o++;return a}function j(t,e,n,r,i){for(var a=[],o=0,s=0;s<e.length;s++)for(var l=e[s],c=1;c<y;c++)for(var u=1;u<I;u++)a.push(Y(t,x(c-1,l,u-1),x(c,l,u-1),x(c-1,l,u),x(c,l,u),n,r,(c+l+u)%2,i&&i[o]?i[o]:[])),o++;return a}function P(t,e,n,r,i){for(var a=[],o=0,s=0;s<e.length;s++)for(var l=e[s],c=1;c<b;c++)for(var u=1;u<y;u++)a.push(Y(t,x(u-1,c-1,l),x(u-1,c,l),x(u,c-1,l),x(u,c,l),n,r,(u+c+l)%2,i&&i[o]?i[o]:[])),o++;return a}function K(t,e,n){for(var r=1;r<I;r++)for(var i=1;i<b;i++)for(var a=1;a<y;a++)z(t,x(a-1,i-1,r-1),x(a-1,i-1,r),x(a-1,i,r-1),x(a-1,i,r),x(a,i-1,r-1),x(a,i-1,r),x(a,i,r-1),x(a,i,r),e,n,(a+i+r)%2)}function q(t,e,n){h=!0,K(t,e,n),h=!1}function $(t,e,n,r,i,a){for(var o=[],s=0,l=0;l<e.length;l++)for(var c=e[l],u=1;u<I;u++)for(var d=1;d<b;d++)o.push(O(t,c,d,u,n,r,i[l],a&&a[s]&&a[s])),s++;return o}function tt(t,e,n,r,i,a){for(var o=[],s=0,l=0;l<e.length;l++)for(var c=e[l],u=1;u<y;u++)for(var d=1;d<I;d++)o.push(O(t,u,c,d,n,r,i[l],a&&a[s]&&a[s])),s++;return o}function et(t,e,n,r,i,a){for(var o=[],s=0,l=0;l<e.length;l++)for(var c=e[l],u=1;u<b;u++)for(var d=1;d<y;d++)o.push(O(t,d,u,c,n,r,i[l],a&&a[s]&&a[s])),s++;return o}function nt(t,e){for(var n=[],r=t;r<e;r++)n.push(r);return n}return function(){G(),function(){for(var e=0;e<y;e++)for(var n=0;n<b;n++)for(var r=0;r<I;r++){var i=x(e,n,r);R(t._x[i],t._y[i],t._z[i],t._value[i])}}();var e=null;if(c&&d&&(_(d),function(t,e,n){g=!0,K(t,e,n),g=!1}(e,F,Q)),l&&u){_(u);for(var n=t.surface.pattern,s=t.surface.count,h=0;h<s;h++){var C=1===s?.5:h/(s-1),w=(1-C)*F+C*Q,U=Math.abs(w-B)>Math.abs(w-A)?[B,w]:[w,A];q(n,U[0],U[1])}}var S=[[Math.min(F,A),Math.max(F,A)],[Math.min(B,Q),Math.max(B,Q)]];["x","y","z"].forEach((function(n){for(var r=[],i=0;i<S.length;i++){var a=0,o=S[i][0],s=S[i][1],l=t.slices[n];if(l.show&&l.fill){_(l.fill);var c=[],u=[],d=[];if(l.locations.length)for(var h=0;h<l.locations.length;h++){var g=ZEt(l.locations[h],"x"===n?p:"y"===n?v:m);0===g.distRatio?c.push(g.id):g.id>0&&(u.push(g.id),"x"===n?d.push([g.distRatio,0,0]):"y"===n?d.push([0,g.distRatio,0]):d.push([0,0,g.distRatio]))}else c=nt(1,"x"===n?y-1:"y"===n?b-1:I-1);u.length>0&&(r[a]="x"===n?$(e,u,o,s,d,r[a]):"y"===n?tt(e,u,o,s,d,r[a]):et(e,u,o,s,d,r[a]),a++),c.length>0&&(r[a]="x"===n?J(e,c,o,s,r[a]):"y"===n?j(e,c,o,s,r[a]):P(e,c,o,s,r[a]),a++)}var f=t.caps[n];f.show&&f.fill&&(_(f.fill),r[a]="x"===n?J(e,[0,y-1],o,s,r[a]):"y"===n?j(e,[0,b-1],o,s,r[a]):P(e,[0,I-1],o,s,r[a]),a++)}})),0===f&&G(),t._meshX=r,t._meshY=i,t._meshZ=a,t._meshIntensity=o,t._Xs=p,t._Ys=v,t._Zs=m}(),t}var MEt={findNearestOnAxis:ZEt,generateIsoMeshes:WEt,createIsosurfaceTrace:function(t,e){var n=t.glplot.gl,r=LEt({gl:n}),i=new NEt(t,r,e.uid);return r._trace=i,i.update(e),t.glplot.add(r),i}},HEt={},DEt=function(t,e){if("string"!=typeof t)throw new TypeError("must specify type string");if(e=e||{},"undefined"==typeof document&&!e.canvas)return null;var n=e.canvas||document.createElement("canvas");"number"==typeof e.width&&(n.width=e.width);"number"==typeof e.height&&(n.height=e.height);var r,i=e;try{var a=[t];0===t.indexOf("webgl")&&a.push("experimental-"+t);for(var o=0;o<a.length;o++)if(r=n.getContext(a[o],i))return r}catch(t){r=null}return r||null};var YEt=DEt,OEt=Ott.exports,zEt=function(){},JEt=SEt,jEt=Q4.exports,PEt=["xaxis","yaxis","zaxis"];function KEt(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}KEt.prototype.merge=function(t,e){for(var n=this,r=0;r<3;++r){var i=e[PEt[r]];i.visible?(n.labels[r]=t._meta?jEt.templateString(i.title.text,t._meta):i.title.text,"font"in i.title&&(i.title.font.color&&(n.labelColor[r]=JEt(i.title.font.color)),i.title.font.family&&(n.labelFont[r]=i.title.font.family),i.title.font.size&&(n.labelSize[r]=i.title.font.size)),"showline"in i&&(n.lineEnable[r]=i.showline),"linecolor"in i&&(n.lineColor[r]=JEt(i.linecolor)),"linewidth"in i&&(n.lineWidth[r]=i.linewidth),"showgrid"in i&&(n.gridEnable[r]=i.showgrid),"gridcolor"in i&&(n.gridColor[r]=JEt(i.gridcolor)),"gridwidth"in i&&(n.gridWidth[r]=i.gridwidth),"log"===i.type?n.zeroEnable[r]=!1:"zeroline"in i&&(n.zeroEnable[r]=i.zeroline),"zerolinecolor"in i&&(n.zeroLineColor[r]=JEt(i.zerolinecolor)),"zerolinewidth"in i&&(n.zeroLineWidth[r]=i.zerolinewidth),"ticks"in i&&i.ticks?n.lineTickEnable[r]=!0:n.lineTickEnable[r]=!1,"ticklen"in i&&(n.lineTickLength[r]=n._defaultLineTickLength[r]=i.ticklen),"tickcolor"in i&&(n.lineTickColor[r]=JEt(i.tickcolor)),"tickwidth"in i&&(n.lineTickWidth[r]=i.tickwidth),"tickangle"in i&&(n.tickAngle[r]="auto"===i.tickangle?-3600:Math.PI*-i.tickangle/180),"showticklabels"in i&&(n.tickEnable[r]=i.showticklabels),"tickfont"in i&&(i.tickfont.color&&(n.tickColor[r]=JEt(i.tickfont.color)),i.tickfont.family&&(n.tickFont[r]=i.tickfont.family),i.tickfont.size&&(n.tickSize[r]=i.tickfont.size)),"mirror"in i?-1!==["ticks","all","allticks"].indexOf(i.mirror)?(n.lineTickMirror[r]=!0,n.lineMirror[r]=!0):!0===i.mirror?(n.lineTickMirror[r]=!1,n.lineMirror[r]=!0):(n.lineTickMirror[r]=!1,n.lineMirror[r]=!1):n.lineMirror[r]=!1,"showbackground"in i&&!1!==i.showbackground?(n.backgroundEnable[r]=!0,n.backgroundColor[r]=JEt(i.backgroundcolor)):n.backgroundEnable[r]=!1):(n.tickEnable[r]=!1,n.labelEnable[r]=!1,n.lineEnable[r]=!1,n.lineTickEnable[r]=!1,n.gridEnable[r]=!1,n.zeroEnable[r]=!1,n.backgroundEnable[r]=!1)}};var qEt=function(t,e){var n=new KEt;return n.merge(t,e),n},$Et=SEt,tkt=["xaxis","yaxis","zaxis"];function ekt(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}ekt.prototype.merge=function(t){for(var e=0;e<3;++e){var n=t[tkt[e]];n.visible?(this.enabled[e]=n.showspikes,this.colors[e]=$Et(n.spikecolor),this.drawSides[e]=n.spikesides,this.lineWidth[e]=n.spikethickness):(this.enabled[e]=!1,this.drawSides[e]=!1)}};var nkt=function(t){var e=new ekt;return e.merge(t),e},rkt=function(t){for(var e=t.axesOptions,n=t.glplot.axesPixels,r=t.fullSceneLayout,i=[[],[],[]],a=0;a<3;++a){var o=r[okt[a]];if(o._length=(n[a].hi-n[a].lo)*n[a].pixelsPerDataUnit/t.dataScale[a],Math.abs(o._length)===1/0||isNaN(o._length))i[a]=[];else{o._input_range=o.range.slice(),o.range[0]=n[a].lo/t.dataScale[a],o.range[1]=n[a].hi/t.dataScale[a],o._m=1/(t.dataScale[a]*n[a].pixelsPerDataUnit),o.range[0]===o.range[1]&&(o.range[0]-=1,o.range[1]+=1);var s=o.tickmode;if("auto"===o.tickmode){o.tickmode="linear";var l=o.nticks||akt.constrain(o._length/40,4,9);ikt.autoTicks(o,Math.abs(o.range[1]-o.range[0])/l)}for(var c=ikt.calcTicks(o,{msUTC:!0}),u=0;u<c.length;++u)c[u].x=c[u].x*t.dataScale[a],"date"===o.type&&(c[u].text=c[u].text.replace(/\<br\>/g," "));i[a]=c,o.tickmode=s}}e.ticks=i;for(a=0;a<3;++a){skt[a]=.5*(t.glplot.bounds[0][a]+t.glplot.bounds[1][a]);for(u=0;u<2;++u)e.bounds[u][a]=t.glplot.bounds[u][a]}t.contourLevels=function(t){for(var e=new Array(3),n=0;n<3;++n){for(var r=t[n],i=new Array(r.length),a=0;a<r.length;++a)i[a]=r[a].x;e[n]=i}return e}(i)},ikt=Aat.exports,akt=Q4.exports,okt=["xaxis","yaxis","zaxis"],skt=[0,0,0];var lkt,ckt,ukt=aEt.exports.gl_plot3d,dkt=ukt.createCamera,hkt=ukt.createScene,gkt=function(t){return YEt("webgl",t)},fkt=met,pkt=Q4.exports,vkt=pkt.preserveDrawingBuffer(),mkt=Aat.exports,ykt=Vgt,bkt=SEt,Ikt=function(t){for(var e in t)"function"==typeof t[e]&&(t[e]=zEt);t.destroy=function(){t.container.parentNode.removeChild(t.container)};var n=document.createElement("div");n.className="no-webgl",n.style.cursor="pointer",n.style.fontSize="24px",n.style.color=OEt.defaults[0],n.style.position="absolute",n.style.left=n.style.top="0px",n.style.width=n.style.height="100%",n.style["background-color"]=OEt.lightLine,n.style["z-index"]=30;var r=document.createElement("p");return r.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",r.style.position="relative",r.style.top="50%",r.style.left="50%",r.style.height="30%",r.style.width="50%",r.style.margin="-15% 0 0 -25%",n.appendChild(r),t.container.appendChild(n),t.container.style.background="#FFFFFF",t.container.onclick=function(){window.open("https://get.webgl.org")},!1},Ckt=AAt,xkt=qEt,Bkt=nkt,Akt=rkt;function Fkt(t,e){var n=document.createElement("div"),r=t.container;this.graphDiv=t.graphDiv;var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.style.position="absolute",i.style.top=i.style.left="0px",i.style.width=i.style.height="100%",i.style["z-index"]=20,i.style["pointer-events"]="none",n.appendChild(i),this.svgContainer=i,n.id=t.id,n.style.position="absolute",n.style.top=n.style.left="0px",n.style.width=n.style.height="100%",r.appendChild(n),this.fullLayout=e,this.id=t.id||"scene",this.fullSceneLayout=e[this.id],this.plotArgs=[[],{},{}],this.axesOptions=xkt(e,e[this.id]),this.spikeOptions=Bkt(e[this.id]),this.container=n,this.staticMode=!!t.staticPlot,this.pixelRatio=this.pixelRatio||t.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=fkt.getComponentMethod("annotations3d","convert"),this.drawAnnotations=fkt.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var Qkt=Fkt.prototype;Qkt.prepareOptions=function(){var t=this,e={canvas:t.canvas,gl:t.gl,glOptions:{preserveDrawingBuffer:vkt,premultipliedAlpha:!0,antialias:!0},container:t.container,axes:t.axesOptions,spikes:t.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:t.camera,pixelRatio:t.pixelRatio};if(t.staticMode){if(!(ckt||(lkt=document.createElement("canvas"),ckt=gkt({canvas:lkt,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");e.gl=ckt,e.canvas=lkt}return e};var wkt=!0;Qkt.tryCreatePlot=function(){var t=this,e=t.prepareOptions(),n=!0;try{t.glplot=hkt(e)}catch(r){if(t.staticMode||!wkt||vkt)n=!1;else{pkt.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{vkt=e.glOptions.preserveDrawingBuffer=!0,t.glplot=hkt(e)}catch(t){vkt=e.glOptions.preserveDrawingBuffer=!1,n=!1}}}return wkt=!1,n},Qkt.initializeGLCamera=function(){var t=this,e=t.fullSceneLayout.camera,n="orthographic"===e.projection.type;t.camera=dkt(t.container,{center:[e.center.x,e.center.y,e.center.z],eye:[e.eye.x,e.eye.y,e.eye.z],up:[e.up.x,e.up.y,e.up.z],_ortho:n,zoomMin:.01,zoomMax:100,mode:"orbit"})},Qkt.initializeGLPlot=function(){var t=this;if(t.initializeGLCamera(),!t.tryCreatePlot())return Ikt(t);t.traces={},t.make4thDimension();var e=t.graphDiv,n=e.layout,r=function(){var e={};return t.isCameraChanged(n)&&(e[t.id+".camera"]=t.getCamera()),t.isAspectChanged(n)&&(e[t.id+".aspectratio"]=t.glplot.getAspectratio(),"manual"!==n[t.id].aspectmode&&(t.fullSceneLayout.aspectmode=n[t.id].aspectmode=e[t.id+".aspectmode"]="manual")),e},i=function(t){if(!1!==t.fullSceneLayout.dragmode){var e=r();t.saveLayout(n),t.graphDiv.emit("plotly_relayout",e)}};return t.glplot.canvas&&(t.glplot.canvas.addEventListener("mouseup",(function(){i(t)})),t.glplot.canvas.addEventListener("wheel",(function(n){if(e._context._scrollZoom.gl3d){if(t.camera._ortho){var r=n.deltaX>n.deltaY?1.1:1/1.1,a=t.glplot.getAspectratio();t.glplot.setAspectratio({x:r*a.x,y:r*a.y,z:r*a.z})}i(t)}}),!1),t.glplot.canvas.addEventListener("mousemove",(function(){if(!1!==t.fullSceneLayout.dragmode&&0!==t.camera.mouseListener.buttons){var e=r();t.graphDiv.emit("plotly_relayouting",e)}})),t.staticMode||t.glplot.canvas.addEventListener("webglcontextlost",(function(n){e&&e.emit&&e.emit("plotly_webglcontextlost",{event:n,layer:t.id})}),!1)),t.glplot.oncontextloss=function(){t.recoverContext()},t.glplot.onrender=function(){t.render()},!0},Qkt.render=function(){var t,e=this,n=e.graphDiv,r=e.svgContainer,i=e.container.getBoundingClientRect();n._fullLayout._calcInverseTransform(n);var a=n._fullLayout._invScaleX,o=n._fullLayout._invScaleY,s=i.width*a,l=i.height*o;r.setAttributeNS(null,"viewBox","0 0 "+s+" "+l),r.setAttributeNS(null,"width",s),r.setAttributeNS(null,"height",l),Akt(e),e.glplot.axes.update(e.axesOptions);for(var c=Object.keys(e.traces),u=null,d=e.glplot.selection,h=0;h<c.length;++h)"skip"!==(t=e.traces[c[h]]).data.hoverinfo&&t.handlePick(d)&&(u=t),t.setContourLevels&&t.setContourLevels();function g(t,n,r){var i=e.fullSceneLayout[t+"axis"];return"log"!==i.type&&(n=i.d2l(n)),mkt.hoverLabelText(i,n,r)}if(null!==u){var f=Ckt(e.glplot.cameraParams,d.dataCoordinate);t=u.data;var p,v=n._fullData[t.index],m=d.index,y={xLabel:g("x",d.traceCoordinate[0],t.xhoverformat),yLabel:g("y",d.traceCoordinate[1],t.yhoverformat),zLabel:g("z",d.traceCoordinate[2],t.zhoverformat)},b=ykt.castHoverinfo(v,e.fullLayout,m),I=(b||"").split("+"),C=b&&"all"===b;v.hovertemplate||C||(-1===I.indexOf("x")&&(y.xLabel=void 0),-1===I.indexOf("y")&&(y.yLabel=void 0),-1===I.indexOf("z")&&(y.zLabel=void 0),-1===I.indexOf("text")&&(d.textLabel=void 0),-1===I.indexOf("name")&&(u.name=void 0));var x=[];"cone"===t.type||"streamtube"===t.type?(y.uLabel=g("x",d.traceCoordinate[3],t.uhoverformat),(C||-1!==I.indexOf("u"))&&x.push("u: "+y.uLabel),y.vLabel=g("y",d.traceCoordinate[4],t.vhoverformat),(C||-1!==I.indexOf("v"))&&x.push("v: "+y.vLabel),y.wLabel=g("z",d.traceCoordinate[5],t.whoverformat),(C||-1!==I.indexOf("w"))&&x.push("w: "+y.wLabel),y.normLabel=d.traceCoordinate[6].toPrecision(3),(C||-1!==I.indexOf("norm"))&&x.push("norm: "+y.normLabel),"streamtube"===t.type&&(y.divergenceLabel=d.traceCoordinate[7].toPrecision(3),(C||-1!==I.indexOf("divergence"))&&x.push("divergence: "+y.divergenceLabel)),d.textLabel&&x.push(d.textLabel),p=x.join("<br>")):"isosurface"===t.type||"volume"===t.type?(y.valueLabel=mkt.hoverLabelText(e._mockAxis,e._mockAxis.d2l(d.traceCoordinate[3]),t.valuehoverformat),x.push("value: "+y.valueLabel),d.textLabel&&x.push(d.textLabel),p=x.join("<br>")):p=d.textLabel;var B={x:d.traceCoordinate[0],y:d.traceCoordinate[1],z:d.traceCoordinate[2],data:v._input,fullData:v,curveNumber:v.index,pointNumber:m};ykt.appendArrayPointValue(B,v,m),t._module.eventData&&(B=v._module.eventData(B,d,v,{},m));var A={points:[B]};if(e.fullSceneLayout.hovermode){var F=[];ykt.loneHover({trace:v,x:(.5+.5*f[0]/f[3])*s,y:(.5-.5*f[1]/f[3])*l,xLabel:y.xLabel,yLabel:y.yLabel,zLabel:y.zLabel,text:p,name:u.name,color:ykt.castHoverOption(v,m,"bgcolor")||u.color,borderColor:ykt.castHoverOption(v,m,"bordercolor"),fontFamily:ykt.castHoverOption(v,m,"font.family"),fontSize:ykt.castHoverOption(v,m,"font.size"),fontColor:ykt.castHoverOption(v,m,"font.color"),nameLength:ykt.castHoverOption(v,m,"namelength"),textAlign:ykt.castHoverOption(v,m,"align"),hovertemplate:pkt.castOption(v,m,"hovertemplate"),hovertemplateLabels:pkt.extendFlat({},B,y),eventData:[B]},{container:r,gd:n,inOut_bbox:F}),B.bbox=F[0]}d.buttons&&d.distance<5?n.emit("plotly_click",A):n.emit("plotly_hover",A),this.oldEventData=A}else ykt.loneUnhover(r),this.oldEventData&&n.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;e.drawAnnotations(e)},Qkt.recoverContext=function(){var t=this;t.glplot.dispose();requestAnimationFrame((function e(){t.glplot.gl.isContextLost()?requestAnimationFrame(e):t.initializeGLPlot()?t.plot.apply(t,t.plotArgs):pkt.error("Catastrophic and unrecoverable WebGL error. Context lost.")}))};var Ukt=["xaxis","yaxis","zaxis"];function Gkt(t,e,n){for(var r=t.fullSceneLayout,i=0;i<3;i++){var a=Ukt[i],o=a.charAt(0),s=r[a],l=e[o],c=e[o+"calendar"],u=e["_"+o+"length"];if(pkt.isArrayOrTypedArray(l))for(var d,h=0;h<(u||l.length);h++)if(pkt.isArrayOrTypedArray(l[h]))for(var g=0;g<l[h].length;++g)d=s.d2l(l[h][g],0,c),!isNaN(d)&&isFinite(d)&&(n[0][i]=Math.min(n[0][i],d),n[1][i]=Math.max(n[1][i],d));else d=s.d2l(l[h],0,c),!isNaN(d)&&isFinite(d)&&(n[0][i]=Math.min(n[0][i],d),n[1][i]=Math.max(n[1][i],d));else n[0][i]=Math.min(n[0][i],0),n[1][i]=Math.max(n[1][i],u-1)}}Qkt.plot=function(t,e,n){var r=this;if(r.plotArgs=[t,e,n],!r.glplot.contextLost){var i,a,o,s,l,c,u=e[r.id],d=n[r.id];r.fullLayout=e,r.fullSceneLayout=u,r.axesOptions.merge(e,u),r.spikeOptions.merge(u),r.setViewport(u),r.updateFx(u.dragmode,u.hovermode),r.camera.enableWheel=r.graphDiv._context._scrollZoom.gl3d,r.glplot.setClearColor(bkt(u.bgcolor)),r.setConvert(l),t?Array.isArray(t)||(t=[t]):t=[];var h=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(o=0;o<t.length;++o)!0===(i=t[o]).visible&&0!==i._length&&Gkt(this,i,h);!function(t,e){for(var n=t.fullSceneLayout,r=n.annotations||[],i=0;i<3;i++)for(var a=Ukt[i],o=a.charAt(0),s=n[a],l=0;l<r.length;l++){var c=r[l];if(c.visible){var u=s.r2l(c[o]);!isNaN(u)&&isFinite(u)&&(e[0][i]=Math.min(e[0][i],u),e[1][i]=Math.max(e[1][i],u))}}}(this,h);var g=[1,1,1];for(s=0;s<3;++s)h[1][s]===h[0][s]?g[s]=1:g[s]=1/(h[1][s]-h[0][s]);for(r.dataScale=g,r.convertAnnotations(this),o=0;o<t.length;++o)!0===(i=t[o]).visible&&0!==i._length&&((a=r.traces[i.uid])?a.data.type===i.type?a.update(i):(a.dispose(),a=i._module.plot(this,i),r.traces[i.uid]=a):(a=i._module.plot(this,i),r.traces[i.uid]=a),a.name=i.name);var f=Object.keys(r.traces);t:for(o=0;o<f.length;++o){for(s=0;s<t.length;++s)if(t[s].uid===f[o]&&!0===t[s].visible&&0!==t[s]._length)continue t;(a=r.traces[f[o]]).dispose(),delete r.traces[f[o]]}r.glplot.objects.sort((function(t,e){return t._trace.data.index-e._trace.data.index}));var p,v=[[0,0,0],[0,0,0]],m=[],y={};for(o=0;o<3;++o){if((c=(l=u[Ukt[o]]).type)in y?(y[c].acc*=g[o],y[c].count+=1):y[c]={acc:g[o],count:1},l.autorange){v[0][o]=1/0,v[1][o]=-1/0;var b=r.glplot.objects,I=r.fullSceneLayout.annotations||[],C=l._name.charAt(0);for(s=0;s<b.length;s++){var x=b[s],B=x.bounds,A=x._trace.data._pad||0;"ErrorBars"===x.constructor.name&&l._lowerLogErrorBound?v[0][o]=Math.min(v[0][o],l._lowerLogErrorBound):v[0][o]=Math.min(v[0][o],B[0][o]/g[o]-A),v[1][o]=Math.max(v[1][o],B[1][o]/g[o]+A)}for(s=0;s<I.length;s++){var F=I[s];if(F.visible){var Q=l.r2l(F[C]);v[0][o]=Math.min(v[0][o],Q),v[1][o]=Math.max(v[1][o],Q)}}if("rangemode"in l&&"tozero"===l.rangemode&&(v[0][o]=Math.min(v[0][o],0),v[1][o]=Math.max(v[1][o],0)),v[0][o]>v[1][o])v[0][o]=-1,v[1][o]=1;else{var w=v[1][o]-v[0][o];v[0][o]-=w/32,v[1][o]+=w/32}if("reversed"===l.autorange){var U=v[0][o];v[0][o]=v[1][o],v[1][o]=U}}else{var G=l.range;v[0][o]=l.r2l(G[0]),v[1][o]=l.r2l(G[1])}v[0][o]===v[1][o]&&(v[0][o]-=1,v[1][o]+=1),m[o]=v[1][o]-v[0][o],r.glplot.setBounds(o,{min:v[0][o]*g[o],max:v[1][o]*g[o]})}var R=u.aspectmode;if("cube"===R)p=[1,1,1];else if("manual"===R){var S=u.aspectratio;p=[S.x,S.y,S.z]}else{if("auto"!==R&&"data"!==R)throw new Error("scene.js aspectRatio was not one of the enumerated types");var L=[1,1,1];for(o=0;o<3;++o){var _=y[c=(l=u[Ukt[o]]).type];L[o]=Math.pow(_.acc,1/_.count)/g[o]}p="data"===R||Math.max.apply(null,L)/Math.min.apply(null,L)<=4?L:[1,1,1]}u.aspectratio.x=d.aspectratio.x=p[0],u.aspectratio.y=d.aspectratio.y=p[1],u.aspectratio.z=d.aspectratio.z=p[2],r.glplot.setAspectratio(u.aspectratio),r.viewInitial.aspectratio||(r.viewInitial.aspectratio={x:u.aspectratio.x,y:u.aspectratio.y,z:u.aspectratio.z}),r.viewInitial.aspectmode||(r.viewInitial.aspectmode=u.aspectmode);var E=u.domain||null,k=e._size||null;if(E&&k){var V=r.container.style;V.position="absolute",V.left=k.l+E.x[0]*k.w+"px",V.top=k.t+(1-E.y[1])*k.h+"px",V.width=k.w*(E.x[1]-E.x[0])+"px",V.height=k.h*(E.y[1]-E.y[0])+"px"}r.glplot.redraw()}},Qkt.destroy=function(){var t=this;t.glplot&&(t.camera.mouseListener.enabled=!1,t.container.removeEventListener("wheel",t.camera.wheelListener),t.camera=null,t.glplot.dispose(),t.container.parentNode.removeChild(t.container),t.glplot=null)},Qkt.getCamera=function(){var t,e=this;return e.camera.view.recalcMatrix(e.camera.view.lastT()),{up:{x:(t=e.camera).up[0],y:t.up[1],z:t.up[2]},center:{x:t.center[0],y:t.center[1],z:t.center[2]},eye:{x:t.eye[0],y:t.eye[1],z:t.eye[2]},projection:{type:!0===t._ortho?"orthographic":"perspective"}}},Qkt.setViewport=function(t){var e,n=this,r=t.camera;n.camera.lookAt.apply(this,[[(e=r).eye.x,e.eye.y,e.eye.z],[e.center.x,e.center.y,e.center.z],[e.up.x,e.up.y,e.up.z]]),n.glplot.setAspectratio(t.aspectratio),"orthographic"===r.projection.type!==n.camera._ortho&&(n.glplot.redraw(),n.glplot.clearRGBA(),n.glplot.dispose(),n.initializeGLPlot())},Qkt.isCameraChanged=function(t){var e=this.getCamera(),n=pkt.nestedProperty(t,this.id+".camera").get();function r(t,e,n,r){var i=["up","center","eye"],a=["x","y","z"];return e[i[n]]&&t[i[n]][a[r]]===e[i[n]][a[r]]}var i=!1;if(void 0===n)i=!0;else{for(var a=0;a<3;a++)for(var o=0;o<3;o++)if(!r(e,n,a,o)){i=!0;break}(!n.projection||e.projection&&e.projection.type!==n.projection.type)&&(i=!0)}return i},Qkt.isAspectChanged=function(t){var e=this.glplot.getAspectratio(),n=pkt.nestedProperty(t,this.id+".aspectratio").get();return void 0===n||n.x!==e.x||n.y!==e.y||n.z!==e.z},Qkt.saveLayout=function(t){var e,n,r,i,a,o,s=this,l=s.fullLayout,c=s.isCameraChanged(t),u=s.isAspectChanged(t),d=c||u;if(d){var h={};if(c&&(e=s.getCamera(),r=(n=pkt.nestedProperty(t,s.id+".camera")).get(),h[s.id+".camera"]=r),u&&(i=s.glplot.getAspectratio(),o=(a=pkt.nestedProperty(t,s.id+".aspectratio")).get(),h[s.id+".aspectratio"]=o),fkt.call("_storeDirectGUIEdit",t,l._preGUI,h),c)n.set(e),pkt.nestedProperty(l,s.id+".camera").set(e);if(u)a.set(i),pkt.nestedProperty(l,s.id+".aspectratio").set(i),s.glplot.redraw()}return d},Qkt.updateFx=function(t,e){var n=this,r=n.camera;if(r)if("orbit"===t)r.mode="orbit",r.keyBindingMode="rotate";else if("turntable"===t){r.up=[0,0,1],r.mode="turntable",r.keyBindingMode="rotate";var i=n.graphDiv,a=i._fullLayout,o=n.fullSceneLayout.camera,s=o.up.x,l=o.up.y,c=o.up.z;if(c/Math.sqrt(s*s+l*l+c*c)<.999){var u=n.id+".camera.up",d={x:0,y:0,z:1},h={};h[u]=d;var g=i.layout;fkt.call("_storeDirectGUIEdit",g,a._preGUI,h),o.up=d,pkt.nestedProperty(g,u).set(d)}}else r.keyBindingMode=t;n.fullSceneLayout.hovermode=e},Qkt.toImage=function(t){var e=this;t||(t="png"),e.staticMode&&e.container.appendChild(lkt),e.glplot.redraw();var n=e.glplot.gl,r=n.drawingBufferWidth,i=n.drawingBufferHeight;n.bindFramebuffer(n.FRAMEBUFFER,null);var a=new Uint8Array(r*i*4);n.readPixels(0,0,r,i,n.RGBA,n.UNSIGNED_BYTE,a),function(t,e,n){for(var r=0,i=n-1;r<i;++r,--i)for(var a=0;a<e;++a)for(var o=0;o<4;++o){var s=4*(e*r+a)+o,l=4*(e*i+a)+o,c=t[s];t[s]=t[l],t[l]=c}}(a,r,i),function(t,e,n){for(var r=0;r<n;++r)for(var i=0;i<e;++i){var a=4*(e*r+i),o=t[a+3];if(o>0)for(var s=255/o,l=0;l<3;++l)t[a+l]=Math.min(s*t[a+l],255)}}(a,r,i);var o=document.createElement("canvas");o.width=r,o.height=i;var s,l=o.getContext("2d"),c=l.createImageData(r,i);switch(c.data.set(a),l.putImageData(c,0,0),t){case"jpeg":s=o.toDataURL("image/jpeg");break;case"webp":s=o.toDataURL("image/webp");break;default:s=o.toDataURL("image/png")}return e.staticMode&&e.container.removeChild(lkt),s},Qkt.setConvert=function(){for(var t=0;t<3;t++){var e=this.fullSceneLayout[Ukt[t]];mkt.setConvert(e,this.fullLayout),e.setScale=pkt.noop}},Qkt.make4thDimension=function(){var t=this,e=t.graphDiv._fullLayout;t._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},mkt.setConvert(t._mockAxis,e)};var Rkt=Fkt,Skt={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's 3D coordinate system and","a 3D scene.","If *scene* (the default value), the (x,y,z) coordinates refer to","`layout.scene`.","If *scene2*, the (x,y,z) coordinates refer to `layout.scene2`,","and so on."].join(" ")}},Lkt=Ott.exports,_kt=oot,Ekt=Rtt.extendFlat,kkt=(0,Fit.overrideAll)({visible:_kt.visible,showspikes:{valType:"boolean",dflt:!0,description:["Sets whether or not spikes starting from","data points to this axis' wall are shown on hover."].join(" ")},spikesides:{valType:"boolean",dflt:!0,description:["Sets whether or not spikes extending from the","projection data points to this axis' wall boundaries","are shown on hover."].join(" ")},spikethickness:{valType:"number",min:0,dflt:2,description:"Sets the thickness (in px) of the spikes."},spikecolor:{valType:"color",dflt:Lkt.defaultLine,description:"Sets the color of the spikes."},showbackground:{valType:"boolean",dflt:!1,description:["Sets whether or not this axis' wall","has a background color."].join(" ")},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)",description:"Sets the background color of this axis' wall."},showaxeslabels:{valType:"boolean",dflt:!0,description:"Sets whether or not this axis is labeled"},color:_kt.color,categoryorder:_kt.categoryorder,categoryarray:_kt.categoryarray,title:{text:_kt.title.text,font:_kt.title.font},type:Ekt({},_kt.type,{values:["-","linear","log","date","category"]}),autotypenumbers:_kt.autotypenumbers,autorange:_kt.autorange,rangemode:_kt.rangemode,range:Ekt({},_kt.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:_kt.tickmode,nticks:_kt.nticks,tick0:_kt.tick0,dtick:_kt.dtick,tickvals:_kt.tickvals,ticktext:_kt.ticktext,ticks:_kt.ticks,mirror:_kt.mirror,ticklen:_kt.ticklen,tickwidth:_kt.tickwidth,tickcolor:_kt.tickcolor,showticklabels:_kt.showticklabels,tickfont:_kt.tickfont,tickangle:_kt.tickangle,tickprefix:_kt.tickprefix,showtickprefix:_kt.showtickprefix,ticksuffix:_kt.ticksuffix,showticksuffix:_kt.showticksuffix,showexponent:_kt.showexponent,exponentformat:_kt.exponentformat,minexponent:_kt.minexponent,separatethousands:_kt.separatethousands,tickformat:_kt.tickformat,tickformatstops:_kt.tickformatstops,hoverformat:_kt.hoverformat,showline:_kt.showline,linecolor:_kt.linecolor,linewidth:_kt.linewidth,showgrid:_kt.showgrid,gridcolor:Ekt({},_kt.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:_kt.gridwidth,zeroline:_kt.zeroline,zerolinecolor:_kt.zerolinecolor,zerolinewidth:_kt.zerolinewidth,_deprecated:{title:_kt._deprecated.title,titlefont:_kt._deprecated.titlefont}},"plot","from-root"),Vkt=kkt,Zkt=xUt.attributes,Nkt=Rtt.extendFlat;function Tkt(t,e,n){return{x:{valType:"number",dflt:t,editType:"camera"},y:{valType:"number",dflt:e,editType:"camera"},z:{valType:"number",dflt:n,editType:"camera"},editType:"camera"}}var Xkt={_arrayAttrRegexps:[(0,Q4.exports.counterRegex)("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:Nkt(Tkt(0,0,1),{description:["Sets the (x,y,z) components of the 'up' camera vector.","This vector determines the up direction of this scene","with respect to the page.","The default is *{x: 0, y: 0, z: 1}* which means that","the z axis points up."].join(" ")}),center:Nkt(Tkt(0,0,0),{description:["Sets the (x,y,z) components of the 'center' camera vector","This vector determines the translation (x,y,z) space","about the center of this scene.","By default, there is no such translation."].join(" ")}),eye:Nkt(Tkt(1.25,1.25,1.25),{description:["Sets the (x,y,z) components of the 'eye' camera vector.","This vector determines the view point about the origin","of this scene."].join(" ")}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc",description:["Sets the projection type. The projection type could be","either *perspective* or *orthographic*. The default is","*perspective*."].join(" ")},editType:"calc"},editType:"camera"},domain:Zkt({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0},description:["If *cube*, this scene's axes are drawn as a cube,","regardless of the axes' ranges.","If *data*, this scene's axes are drawn","in proportion with the axes' ranges.","If *manual*, this scene's axes are drawn","in proportion with the input of *aspectratio*","(the default behavior if *aspectratio* is provided).","If *auto*, this scene's axes are drawn","using the results of *data* except when one axis","is more than four times the size of the two others,","where in that case the results of *cube* are used."].join(" ")},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"},description:["Sets this scene's axis aspectratio."].join(" ")},xaxis:Vkt,yaxis:Vkt,zaxis:Vkt,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot",description:["Determines the mode of drag interactions for this scene."].join(" ")},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar",description:["Determines the mode of hover interactions for this scene."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in camera attributes.","Defaults to `layout.uirevision`."].join(" ")},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera",description:"Obsolete. Use `camera` instead."}}},Wkt=Q4.exports,Mkt=Rit,Hkt=xUt.defaults,Dkt=Btt.exports.mix,Ykt=Q4.exports,Okt=Rit,zkt=kkt,Jkt=DCt,jkt=uxt,Pkt=["xaxis","yaxis","zaxis"],Kkt=Q4.exports,qkt=Ott.exports,$kt=met,tVt=function(t,e,n,r){var i,a,o=r.type,s=r.attributes,l=r.handleDefaults,c=r.partition||"x",u=e._subplots[o],d=u.length,h=d&&u[0].replace(/\d+$/,"");function g(t,e){return Wkt.coerce(i,a,s,t,e)}for(var f=0;f<d;f++){var p=u[f];i=t[p]?t[p]:t[p]={},a=Mkt.newContainer(e,p,h),r.noUirevision||g("uirevision",e.uirevision);var v={};v[c]=[f/d,(f+1)/d],Hkt(a,e,g,v),r.id=p,l(i,a,g,r)}},eVt=function(t,e,n){var r,i;function a(t,e){return Ykt.coerce(r,i,zkt,t,e)}for(var o=0;o<Pkt.length;o++){var s=Pkt[o];r=t[s]||{},(i=Okt.newContainer(e,s))._id=s[0]+n.scene,i._name=s,Jkt(r,i,a,n),jkt(r,i,a,{font:n.font,letter:s[0],data:n.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,bgColor:n.bgColor,calendar:n.calendar},n.fullLayout),a("gridcolor",Dkt(i.color,n.bgColor,72.72727272727273).toRgbString()),a("title.text",s[0]),i.setScale=Ykt.noop,a("showspikes")&&(a("spikesides"),a("spikethickness"),a("spikecolor",i.color)),a("showaxeslabels"),a("showbackground")&&a("backgroundcolor")}},nVt=Xkt,rVt=Xit.getSubplotData,iVt="gl3d";function aVt(t,e,n,r){for(var i=n("bgcolor"),a=qkt.combine(i,r.paper_bgcolor),o=["up","center","eye"],s=0;s<o.length;s++)n("camera."+o[s]+".x"),n("camera."+o[s]+".y"),n("camera."+o[s]+".z");n("camera.projection.type");var l=!!n("aspectratio.x")&&!!n("aspectratio.y")&&!!n("aspectratio.z"),c=n("aspectmode",l?"manual":"auto");l||(t.aspectratio=e.aspectratio={x:1,y:1,z:1},"manual"===c&&(e.aspectmode="auto"),t.aspectmode=e.aspectmode);var u=rVt(r.fullData,iVt,r.id);eVt(t,e,{font:r.font,scene:r.id,data:u,bgColor:a,calendar:r.calendar,autotypenumbersDflt:r.autotypenumbersDflt,fullLayout:r.fullLayout}),$kt.getComponentMethod("annotations3d","handleDefaults")(t,e,r);var d=r.getDfltFromLayout("dragmode");if(!1!==d&&!d)if(d="orbit",t.camera&&t.camera.up){var h=t.camera.up.x,g=t.camera.up.y,f=t.camera.up.z;0!==f&&(h&&g&&f?f/Math.sqrt(h*h+g*g+f*f)>.999&&(d="turntable"):d="turntable")}else d="turntable";n("dragmode",d),n("hovermode",r.getDfltFromLayout("hovermode"))}var oVt=Fit.overrideAll,sVt=Gtt,lVt=Rkt,cVt=Xit.getSubplotData,uVt=Q4.exports,dVt=Qat,hVt="gl3d",gVt="scene";HEt.name=hVt,HEt.attr=gVt,HEt.idRoot=gVt,HEt.idRegex=HEt.attrRegex=uVt.counterRegex("scene"),HEt.attributes=Skt,HEt.layoutAttributes=Xkt,HEt.baseLayoutAttrOverrides=oVt({hoverlabel:sVt.hoverlabel},"plot","nested"),HEt.supplyLayoutDefaults=function(t,e,n){var r=e._basePlotModules.length>1;tVt(t,e,n,{type:iVt,attributes:nVt,handleDefaults:aVt,fullLayout:e,font:e.font,fullData:n,getDfltFromLayout:function(e){if(!r)return Kkt.validate(t[e],nVt[e])?t[e]:void 0},autotypenumbersDflt:e.autotypenumbers,paper_bgcolor:e.paper_bgcolor,calendar:e.calendar})},HEt.plot=function(t){for(var e=t._fullLayout,n=t._fullData,r=e._subplots.gl3d,i=0;i<r.length;i++){var a=r[i],o=cVt(n,hVt,a),s=e[a],l=s.camera,c=s._scene;c||(c=new lVt({id:a,graphDiv:t,container:t.querySelector(".gl-container"),staticPlot:t._context.staticPlot,plotGlPixelRatio:t._context.plotGlPixelRatio,camera:l},e),s._scene=c),c.viewInitial||(c.viewInitial={up:{x:l.up.x,y:l.up.y,z:l.up.z},eye:{x:l.eye.x,y:l.eye.y,z:l.eye.z},center:{x:l.center.x,y:l.center.y,z:l.center.z}}),c.plot(o,e,t.layout)}},HEt.clean=function(t,e,n,r){for(var i=r._subplots.gl3d||[],a=0;a<i.length;a++){var o=i[a];!e[o]&&r[o]._scene&&(r[o]._scene.destroy(),r._infolayer&&r._infolayer.selectAll(".annotation-"+o).remove())}},HEt.toSVG=function(t){for(var e=t._fullLayout,n=e._subplots.gl3d,r=e._size,i=0;i<n.length;i++){var a=e[n[i]],o=a.domain,s=a._scene,l=s.toImage("png");e._glimages.append("svg:image").attr({xmlns:dVt.svg,"xlink:href":l,x:r.l+r.w*o.x[0],y:r.t+r.h*(1-o.y[1]),width:r.w*(o.x[1]-o.x[0]),height:r.h*(o.y[1]-o.y[0]),preserveAspectRatio:"none"}),s.destroy()}},HEt.cleanId=function(t){if(t.match(/^scene[0-9]*$/)){var e=t.substr(5);return"1"===e&&(e=""),gVt+e}},HEt.updateFx=function(t){for(var e=t._fullLayout,n=e._subplots.gl3d,r=0;r<n.length;r++){e[n[r]]._scene.updateFx(e.dragmode,e.hovermode)}};var fVt={attributes:m_t.exports,supplyDefaults:K_t.supplyDefaults,calc:function(t,e){e._len=Math.min(e.x.length,e.y.length,e.z.length,e.value.length),e._x=iEt(e.x,e._len),e._y=iEt(e.y,e._len),e._z=iEt(e.z,e._len),e._value=iEt(e.value,e._len);var n=rEt(e);e._gridFill=n.fill,e._Xs=n.Xs,e._Ys=n.Ys,e._Zs=n.Zs,e._len=n.len;for(var r=1/0,i=-1/0,a=0;a<e._len;a++){var o=e._value[a];r=Math.min(r,o),i=Math.max(i,o)}e._minValues=r,e._maxValues=i,e._vMin=void 0===e.isomin||null===e.isomin?r:e.isomin,e._vMax=void 0===e.isomax||null===e.isomin?i:e.isomax,nEt(t,e,{vals:[e._vMin,e._vMax],containerStr:"",cLetter:"c"})},colorbar:{min:"cmin",max:"cmax"},plot:MEt.createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:HEt,categories:["gl3d","showLegend"],meta:{description:["Draws isosurfaces between iso-min and iso-max values with coordinates given by","four 1-dimensional arrays containing the `value`, `x`, `y` and `z` of every vertex","of a uniform or non-uniform 3-D grid. Horizontal or vertical slices, caps as well as","spaceframe between iso-min and iso-max values could also be drawn using this trace."].join(" ")}},pVt=fVt,vVt=Object.freeze(t({__proto__:null,default:pVt},[pVt])),mVt={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]},yVt={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"},bVt=met;function IVt(t,e,n,r){if(!e||!e.visible)return null;for(var i=bVt.getComponentMethod("errorbars","makeComputeError")(e),a=new Array(t.length),o=0;o<t.length;o++){var s=i(+t[o],o);if("log"===r.type){var l=r.c2l(t[o]),c=t[o]-s[0],u=t[o]+s[1];if(a[o]=[(r.c2l(c,!0)-l)*n,(r.c2l(u,!0)-l)*n],c>0){var d=r.c2l(c);r._lowerLogErrorBound||(r._lowerLogErrorBound=d),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,d)}}else a[o]=[-s[0]*n,s[1]*n]}return a}var CVt=function(t,e,n){var r=[IVt(t.x,t.error_x,e[0],n.xaxis),IVt(t.y,t.error_y,e[1],n.yaxis),IVt(t.z,t.error_z,e[2],n.zaxis)],i=function(t){for(var e=0;e<t.length;e++)if(t[e])return t[e].length;return 0}(r);if(0===i)return null;for(var a=new Array(i),o=0;o<i;o++){for(var s=[[0,0,0],[0,0,0]],l=0;l<3;l++)if(r[l])for(var c=0;c<2;c++)s[c][l]=r[l][o][c];a[o]=s}return a},xVt=aEt.exports.gl_line3d,BVt=aEt.exports.gl_scatter3d,AVt=aEt.exports.gl_error3d,FVt=aEt.exports.gl_mesh3d,QVt=aEt.exports.delaunay_triangulate,wVt=Q4.exports,UVt=SEt,GVt=UEt,RVt=Fst,SVt=mVt,LVt=yVt,_Vt=Aat.exports,EVt=Qst.appendArrayPointValue,kVt=CVt;function VVt(t,e){this.scene=t,this.uid=e,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var ZVt=VVt.prototype;function NVt(t){return null==t?0:t.indexOf("left")>-1?-1:t.indexOf("right")>-1?1:0}function TVt(t){return null==t?0:t.indexOf("top")>-1?-1:t.indexOf("bottom")>-1?1:0}function XVt(t,e){return e(4*t)}function WVt(t){return LVt[t]}function MVt(t,e,n,r,i){var a=null;if(wVt.isArrayOrTypedArray(t)){a=[];for(var o=0;o<e;o++)void 0===t[o]?a[o]=r:a[o]=n(t[o],i)}else a=n(t,wVt.identity);return a}function HVt(t,e){var n,r,i,a,o,s,l=[],c=t.fullSceneLayout,u=t.dataScale,d=c.xaxis,h=c.yaxis,g=c.zaxis,f=e.marker,p=e.line,v=e.x||[],m=e.y||[],y=e.z||[],b=v.length,I=e.xcalendar,C=e.ycalendar,x=e.zcalendar;for(o=0;o<b;o++)n=d.d2l(v[o],0,I)*u[0],r=h.d2l(m[o],0,C)*u[1],i=g.d2l(y[o],0,x)*u[2],l[o]=[n,r,i];if(Array.isArray(e.text))s=e.text;else if(void 0!==e.text)for(s=new Array(b),o=0;o<b;o++)s[o]=e.text;function B(t,e){var n=c[t];return _Vt.tickText(n,n.d2l(e),!0).text}var A=e.texttemplate;if(A){var F=t.fullLayout._d3locale,Q=Array.isArray(A),w=Q?Math.min(A.length,b):b,U=Q?function(t){return A[t]}:function(){return A};for(s=new Array(w),o=0;o<w;o++){var G={x:v[o],y:m[o],z:y[o]},R={xLabel:B("xaxis",v[o]),yLabel:B("yaxis",m[o]),zLabel:B("zaxis",y[o])},S={};EVt(S,e,o);var L=e._meta||{};s[o]=wVt.texttemplateString(U(o),R,F,S,G,L)}}if(a={position:l,mode:e.mode,text:s},"line"in e&&(a.lineColor=GVt(p,1,b),a.lineWidth=p.width,a.lineDashes=p.dash),"marker"in e){var _=RVt(e);a.scatterColor=GVt(f,1,b),a.scatterSize=MVt(f.size,b,XVt,20,_),a.scatterMarker=MVt(f.symbol,b,WVt,"●"),a.scatterLineWidth=f.line.width,a.scatterLineColor=GVt(f.line,1,b),a.scatterAngle=0}"textposition"in e&&(a.textOffset=function(t){var e=[0,0];if(Array.isArray(t))for(var n=0;n<t.length;n++)e[n]=[0,0],t[n]&&(e[n][0]=NVt(t[n]),e[n][1]=TVt(t[n]));else e[0]=NVt(t),e[1]=TVt(t);return e}(e.textposition),a.textColor=GVt(e.textfont,1,b),a.textSize=MVt(e.textfont.size,b,wVt.identity,12),a.textFont=e.textfont.family,a.textAngle=0);var E=["x","y","z"];for(a.project=[!1,!1,!1],a.projectScale=[1,1,1],a.projectOpacity=[1,1,1],o=0;o<3;++o){var k=e.projection[E[o]];(a.project[o]=k.show)&&(a.projectOpacity[o]=k.opacity,a.projectScale[o]=k.scale)}a.errorBounds=kVt(e,u,c);var V=function(t){for(var e=[0,0,0],n=[[0,0,0],[0,0,0],[0,0,0]],r=[1,1,1],i=0;i<3;i++){var a=t[i];a&&!1!==a.copy_zstyle&&!1!==t[2].visible&&(a=t[2]),a&&a.visible&&(e[i]=a.width/2,n[i]=UVt(a.color),r[i]=a.thickness)}return{capSize:e,color:n,lineWidth:r}}([e.error_x,e.error_y,e.error_z]);return a.errorColor=V.color,a.errorLineWidth=V.lineWidth,a.errorCapSize=V.capSize,a.delaunayAxis=e.surfaceaxis,a.delaunayColor=UVt(e.surfacecolor),a}function DVt(t){if(wVt.isArrayOrTypedArray(t)){var e=t[0];return wVt.isArrayOrTypedArray(e)&&(t=e),"rgb("+t.slice(0,3).map((function(t){return Math.round(255*t)}))+")"}return null}function YVt(t){return wVt.isArrayOrTypedArray(t)?4===t.length&&"number"==typeof t[0]?DVt(t):t.map(DVt):null}ZVt.handlePick=function(t){if(t.object&&(t.object===this.linePlot||t.object===this.delaunayMesh||t.object===this.textMarkers||t.object===this.scatterPlot)){var e=t.index=t.data.index;return t.object.highlight&&t.object.highlight(null),this.scatterPlot&&(t.object=this.scatterPlot,this.scatterPlot.highlight(t.data)),t.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[e]||0===this.textLabels[e])&&(t.textLabel=this.textLabels[e]):t.textLabel=this.textLabels),t.traceCoordinate=[this.data.x[e],this.data.y[e],this.data.z[e]],!0}},ZVt.update=function(t){var e,n,r,i,a=this.scene.glplot.gl,o=SVt.solid;this.data=t;var s=HVt(this.scene,t);"mode"in s&&(this.mode=s.mode),"lineDashes"in s&&s.lineDashes in SVt&&(o=SVt[s.lineDashes]),this.color=YVt(s.scatterColor)||YVt(s.lineColor),this.dataPoints=s.position,e={gl:this.scene.glplot.gl,position:s.position,color:s.lineColor,lineWidth:s.lineWidth||1,dashes:o[0],dashScale:o[1],opacity:t.opacity,connectGaps:t.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(e):(this.linePlot=xVt(e),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var l=t.opacity;if(t.marker&&t.marker.opacity&&(l*=t.marker.opacity),n={gl:this.scene.glplot.gl,position:s.position,color:s.scatterColor,size:s.scatterSize,glyph:s.scatterMarker,opacity:l,orthographic:!0,lineWidth:s.scatterLineWidth,lineColor:s.scatterLineColor,project:s.project,projectScale:s.projectScale,projectOpacity:s.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(n):(this.scatterPlot=BVt(n),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),i={gl:this.scene.glplot.gl,position:s.position,glyph:s.text,color:s.textColor,size:s.textSize,angle:s.textAngle,alignment:s.textOffset,font:s.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:t.opacity},this.textLabels=t.hovertext||t.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(i):(this.textMarkers=BVt(i),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),r={gl:this.scene.glplot.gl,position:s.position,color:s.errorColor,error:s.errorBounds,lineWidth:s.errorLineWidth,capSize:s.errorCapSize,opacity:t.opacity},this.errorBars?s.errorBounds?this.errorBars.update(r):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):s.errorBounds&&(this.errorBars=AVt(r),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),s.delaunayAxis>=0){var c=function(t,e,n){var r,i=(n+1)%3,a=(n+2)%3,o=[],s=[];for(r=0;r<t.length;++r){var l=t[r];!isNaN(l[i])&&isFinite(l[i])&&!isNaN(l[a])&&isFinite(l[a])&&(o.push([l[i],l[a]]),s.push(r))}var c=QVt(o);for(r=0;r<c.length;++r)for(var u=c[r],d=0;d<u.length;++d)u[d]=s[u[d]];return{positions:t,cells:c,meshColor:e}}(s.position,s.delaunayColor,s.delaunayAxis);c.opacity=t.opacity,this.delaunayMesh?this.delaunayMesh.update(c):(c.gl=a,this.delaunayMesh=FVt(c),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},ZVt.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};var OVt=function(t,e){var n=new VVt(t,e.uid);return n.update(e),n},zVt={exports:{}},JVt=zbt,jVt=vot,PVt=Jat,KVt=Gbt.hovertemplateAttrs,qVt=Gbt.texttemplateAttrs,$Vt=Xtt,tZt=mVt,eZt=yVt,nZt=Rtt.extendFlat,rZt=Fit.overrideAll,iZt=Bnt,aZt=JVt.line,oZt=JVt.marker,sZt=oZt.line,lZt=nZt({width:aZt.width,dash:{valType:"enumerated",values:iZt(tZt),dflt:"solid",description:"Sets the dash style of the lines."}},jVt("line"));function cZt(t){return{show:{valType:"boolean",dflt:!1,description:["Sets whether or not projections are shown along the",t,"axis."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,description:"Sets the projection color."},scale:{valType:"number",min:0,max:10,dflt:2/3,description:["Sets the scale factor determining the size of the","projection marker points."].join(" ")}}}var uZt=zVt.exports=rZt({x:JVt.x,y:JVt.y,z:{valType:"data_array",description:"Sets the z coordinates."},text:nZt({},JVt.text,{description:["Sets text elements associated with each (x,y,z) triplet.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y,z) coordinates.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")}),texttemplate:qVt({},{}),hovertext:nZt({},JVt.hovertext,{description:["Sets text elements associated with each (x,y,z) triplet.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y,z) coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")}),hovertemplate:KVt(),xhoverformat:PVt("x"),yhoverformat:PVt("y"),zhoverformat:PVt("z"),mode:nZt({},JVt.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1,description:["If *-1*, the scatter points are not fill with a surface","If *0*, *1*, *2*, the scatter points are filled with","a Delaunay surface about the x, y, z respectively."].join(" ")},surfacecolor:{valType:"color",description:"Sets the surface fill color."},projection:{x:cZt("x"),y:cZt("y"),z:cZt("z")},connectgaps:JVt.connectgaps,line:lZt,marker:nZt({symbol:{valType:"enumerated",values:iZt(eZt),dflt:"circle",arrayOk:!0,description:"Sets the marker symbol type."},size:nZt({},oZt.size,{dflt:8}),sizeref:oZt.sizeref,sizemin:oZt.sizemin,sizemode:oZt.sizemode,opacity:nZt({},oZt.opacity,{arrayOk:!1,description:["Sets the marker opacity.","Note that the marker opacity for scatter3d traces","must be a scalar value for performance reasons.","To set a blending opacity value","(i.e. which is not transparent), set *marker.color*","to an rgba color and use its alpha channel."].join(" ")}),colorbar:oZt.colorbar,line:nZt({width:nZt({},sZt.width,{arrayOk:!1})},jVt("marker.line"))},jVt("marker")),textposition:nZt({},JVt.textposition,{dflt:"top center"}),textfont:{color:JVt.textfont.color,size:JVt.textfont.size,family:nZt({},JVt.textfont.family,{arrayOk:!1})},opacity:$Vt.opacity,hoverinfo:nZt({},$Vt.hoverinfo)},"calc","nested");uZt.x.editType=uZt.y.editType=uZt.z.editType="calc+clearAxisTypes";var dZt=met,hZt=Q4.exports,gZt=Bst,fZt=oIt,pZt=uIt,vZt=hIt,mZt=zVt.exports;var yZt,bZt,IZt=NIt,CZt=VIt,xZt={plot:OVt,attributes:zVt.exports,markerSymbols:yVt,supplyDefaults:function(t,e,n,r){function i(n,r){return hZt.coerce(t,e,mZt,n,r)}var a=function(t,e,n,r){var i=0,a=n("x"),o=n("y"),s=n("z");dZt.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y","z"],r),a&&o&&s&&(i=Math.min(a.length,o.length,s.length),e._length=e._xlength=e._ylength=e._zlength=i);return i}(t,e,i,r);if(a){i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),i("mode"),gZt.hasLines(e)&&(i("connectgaps"),pZt(t,e,n,r,i)),gZt.hasMarkers(e)&&fZt(t,e,n,r,i,{noSelect:!0}),gZt.hasText(e)&&(i("texttemplate"),vZt(t,e,r,i,{noSelect:!0}));var o=(e.line||{}).color,s=(e.marker||{}).color;i("surfaceaxis")>=0&&i("surfacecolor",o||s);for(var l=["x","y","z"],c=0;c<3;++c){var u="projection."+l[c];i(u+".show")&&(i(u+".opacity"),i(u+".scale"))}var d=dZt.getComponentMethod("errorbars","supplyDefaults");d(t,e,o||s||n,{axis:"z"}),d(t,e,o||s||n,{axis:"y",inherit:"z"}),d(t,e,o||s||n,{axis:"x",inherit:"z"})}else e.visible=!1},colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:function(t,e){var n=[{x:!1,y:!1,trace:e,t:{}}];return IZt(n,e),CZt(t,e),n},moduleType:"trace",name:"scatter3d",basePlotModule:HEt,categories:["gl3d","symbols","showLegend","scatter-like"],meta:{hrName:"scatter_3d",description:["The data visualized as scatter point or lines in 3D dimension","is set in `x`, `y`, `z`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","Projections are achieved via `projection`.","Surface fills are achieved via `surfaceaxis`."].join(" ")}},BZt=xZt,AZt=Object.freeze(t({__proto__:null,default:BZt},[BZt]));JGt.register([vVt,AZt]);var FZt,QZt,wZt=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).firstUpdate=!0,t.surface=!0,t.point=!0,t.updateable=!1,t.GAMBLE=0,t.SURE=1,t.NR=.25,t.DEFAULT=.75,t.a=.8,t.l=1.2,t.g=.8,t.xl=0,t.xw=20,t.pw=.5,t.xs=10,t.response=t.DEFAULT,t.range={},t.range.a={start:1e-4,stop:1,step:.05},t.range.l={start:0,stop:10,step:.5},t.range.g={start:0,stop:1,step:.05},t.width=NaN,t.height=NaN,t.rem=NaN,t.parameterSpace=[],t.alignState(),t}return d(n,[{key:"alignState",value:function(){var t=this;this.updateable&&(this.response=I4.xal2v(this.xw,this.a,this.l)*I4.pg2w(this.pw,this.g)+I4.xal2v(this.xl,this.a,this.l)*(1-I4.pg2w(this.pw,this.g))>I4.xal2v(this.xs,this.a,this.l)?this.GAMBLE:this.SURE),this.parameterSpace={a:[],l:[],g:[],uDiff:[]},V$(this.range.a.start,this.range.a.stop+.01,this.range.a.step).forEach((function(e){V$(t.range.l.start,t.range.l.stop+.01,t.range.l.step).forEach((function(n){V$(t.range.g.start,t.range.g.stop+.01,t.range.g.step).forEach((function(r){t.parameterSpace.a.push(e),t.parameterSpace.l.push(n),t.parameterSpace.g.push(r);var i=I4.xal2v(t.xw,e,n)*I4.pg2w(t.pw,r)+I4.xal2v(t.xl,e,n)*(1-I4.pg2w(t.pw,r))-I4.xal2v(t.xs,e,n);t.parameterSpace.uDiff.push(i)}))}))}))}},{key:"render",value:function(){return o$(yZt||(yZt=A(['\n      <div class="plotly"></div>\n    '])))}},{key:"getDimensions",value:function(){this.width=parseFloat(this.getComputedStyleValue("width"),10),this.height=parseFloat(this.getComputedStyleValue("height"),10),this.rem=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("font-size"),10)}},{key:"connectedCallback",value:function(){B(f(n.prototype),"connectedCallback",this).call(this),window.addEventListener("resize",this.getDimensions.bind(this))}},{key:"disconnectedCallback",value:function(){window.removeEventListener("resize",this.getDimensions.bind(this)),B(f(n.prototype),"disconnectedCallback",this).call(this)}},{key:"firstUpdated",value:function(t){B(f(n.prototype),"firstUpdated",this).call(this,t),window.setTimeout(this.getDimensions.bind(this),0)}},{key:"update",value:function(t){if(B(f(n.prototype),"update",this).call(this,t),this.alignState(),!(Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))){var e=this.getComputedStyleValue("---color-text"),r=this.getComputedStyleValue("---color-element-border"),i=this.getComputedStyleValue("---color-element-background"),a=this.getComputedStyleValue("---color-element-emphasis"),o=this.getComputedStyleValue("---color-worse"),s=this.getComputedStyleValue("---color-better"),l=this.getComputedStyleValue("---color-nr"),c=[];this.surface&&c.push({name:"Decision Boundary",type:"isosurface",x:this.parameterSpace.a,y:this.parameterSpace.l,z:this.parameterSpace.g,value:this.parameterSpace.uDiff,coloraxis:"coloraxis",isomin:0,isomax:0,opacity:.5},{name:"Difference in Subjective Utility",type:"isosurface",x:this.parameterSpace.a,y:this.parameterSpace.l,z:this.parameterSpace.g,value:this.parameterSpace.uDiff,caps:{x:{show:!1},y:{show:!1},z:{show:!1}},coloraxis:"coloraxis",isomin:-30,isomax:30,showscale:!1,slices:{x:{show:!0,locations:[this.range.a.stop]},y:{show:!0,locations:[this.range.l.stop]},z:{show:!0,locations:[this.range.g.start]}},surface:{show:!1}}),this.point&&c.push({name:"Current Decision",type:"scatter3d",x:[this.a],y:[this.l],z:[this.g],mode:"markers",marker:{color:[this.response],coloraxis:"coloraxis2",line:{color:a,width:2},size:6}});var u={coloraxis:{cmin:-30,cmax:30,colorbar:{title:{font:{size:1.125*this.rem},text:"Difference in Utility (Gamble - Sure)",side:"right"},thickness:16,ypad:32},colorscale:[[0,"rgb(35, 35, 104)"],[.35,"rgb(69,69,208)"],[.5,"rgb(190,190,190)"],[.65,"rgb(240,50,230)"],[1,"rgb(120,25,115)"]]},coloraxis2:{cmin:0,cmax:1,colorscale:[[0,o],[.01,o],[.24,l],[.26,l],[.74,a],[.76,a],[.99,s],[1,s]],showscale:!1},font:{family:'"Source Sans", sans-serif',color:e},margin:{t:0,l:0,b:0},scene:{hovermode:!1,camera:{center:{x:0,y:.1,z:-.2},eye:{x:-2,y:-.8,z:.8}},xaxis:{mirror:!0,showbackground:!0,backgroundcolor:i,showgrid:!1,showspikes:!1,ticks:"outside",tickcolor:r,showline:!0,linecolor:r,zeroline:!1,range:[Math.round(this.range.a.start),this.range.a.stop],title:{text:"alpha",font:{size:1.125*this.rem}}},yaxis:{mirror:!0,showbackground:!0,backgroundcolor:i,showgrid:!1,showspikes:!1,ticks:"outside",tickcolor:r,showline:!0,linecolor:r,zeroline:!1,range:[this.range.l.start,this.range.l.stop],title:{text:"lambda",font:{size:1.125*this.rem}}},zaxis:{mirror:!0,showbackground:!0,backgroundcolor:i,showgrid:!1,showspikes:!1,ticks:"outside",tickcolor:r,showline:!0,linecolor:r,zeroline:!1,range:[this.range.g.start,this.range.g.stop],title:{text:"gamma",font:{size:1.125*this.rem}}}},uirevision:!0};JGt.react(this.shadowRoot.querySelector(".plotly"),c,u,{displaylogo:!1,modeBarButtonsToRemove:["orbitRotation","resetCameraDefault3d","hoverClosest3d","toImage"],responsive:!0}),this.firstUpdate=!1}}}],[{key:"properties",get:function(){return{surface:{attribute:"surface",type:Boolean,reflect:!0},point:{attribute:"point",type:Boolean,reflect:!0},updateable:{attribute:"updateable",type:Boolean,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0},width:{attribute:!1,type:Number,reflect:!1},height:{attribute:!1,type:Number,reflect:!1},rem:{attribute:!1,type:Number,reflect:!1}}}},{key:"styles",get:function(){return[B(f(n),"styles",this),h_t,_q(bZt||(bZt=A(["\n        :host {\n          display: inline-block;\n\n          width: 28rem;\n          height: 20rem;\n        }\n\n        .plotly {\n          height: 100%;\n\n          cursor: grab;\n        }\n\n        /* Plotly modebar styles */\n        /* Drawn from: https://github.com/plotly/plotly.js/blob/master/src/components/modebar/modebar.js */\n        .plotly:hover .modebar .modebar-group {\n          background-color: rgba(255, 255, 255, 0.5);\n        }\n\n        .modebar-btn .icon path {\n          fill: rgba(68, 68, 68, 0.3);\n        }\n\n        .modebar-btn:hover .icon path {\n          fill: rgba(68, 68, 68, 0.7);\n        }\n\n        .modebar-btn.active .icon path {\n          fill: rgba(68, 68, 68, 0.7);\n        }\n      "])))]}}]),n}(y9);customElements.define("cpt-space",wZt);var UZt,GZt,RZt=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).firstUpdate=!0,t.drag=!1,t.a=.5,t.l=2,t.x=null,t.label="",t.function="default",t.functions=[{name:"default",a:t.a,l:t.l}],t.values=[{name:"default",x:t.x,label:t.label,function:t.function}],t.xl=null,t.xw=null,t.pw=null,t.xs=null,t.trialCount=null,t.response=null,t.width=NaN,t.height=NaN,t.rem=NaN,t.alignState(),t}return d(n,[{key:"alignState",value:function(){var t=this;this.functions[0].a=this.a,this.functions[0].l=this.l,this.values[0].x=this.x,this.values[0].label=this.label,this.values[0].function=this.function,this.values.forEach((function(e){var n=t.functions.find((function(t){return t.name===e.function}));e.v=I4.xal2v(e.x,n.a,n.l)})),this.v=this.values[0].v}},{key:"trial",value:function(t,e,n,r,i,a){this.trialCount&&this.removeValue("".concat(this.trialCount,"-w")),this.trialCount&&this.removeValue("".concat(this.trialCount,"-s")),this.xl=t,this.xw=e,this.pw=n,this.xs=r,this.trialCount=i,this.response=a,this.setValue(this.xw,"".concat(this.trialCount,"-w"),"g","default",!0),this.setValue(this.xs,"".concat(this.trialCount,"-s"),"s","default",!0)}},{key:"pauseTrial",value:function(){var t=p1(this.renderRoot).selectAll(".lines[data-animating-ease-time-1]");t.interrupt("new-1"),t.interrupt("new-2"),t.datum((function(t){return t.paused=!0,t}))}},{key:"resumeTrial",value:function(){p1(this.renderRoot).selectAll(".lines[data-animating-ease-time-1]").datum((function(t){return t.paused=!1,t})),this.requestUpdate()}},{key:"clearFunctions",value:function(){this.functions.splice(1),this.requestUpdate()}},{key:"clearValues",value:function(){this.values.splice(1),this.requestUpdate()}},{key:"clear",value:function(){this.clearFunctions(),this.clearValues()}},{key:"removeFunction",value:function(t){this.functions=this.functions.filter((function(e){return e.name!==t})),this.requestUpdate()}},{key:"removeValue",value:function(t){this.values=this.values.filter((function(e){return e.name!==t})),this.requestUpdate()}},{key:"remove",value:function(t){this.removeFunction(t),this.removeValue(t)}},{key:"getFunction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.functions.find((function(e){return e.name===t}))}},{key:"getValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.values.find((function(e){return e.name===t}))}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return a(a({},this.getFunction(t)),this.getValue(t))}},{key:"setFunction",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";"default"===n&&(this.a=t,this.l=e);var r=this.functions.find((function(t){return t.name===n}));void 0===r?this.functions.push({name:n,a:t,l:e}):(r.a=t,r.l=e),this.requestUpdate()}},{key:"setValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];"default"===e&&(this.x=t,this.label=n);var a=this.values.find((function(t){return t.name===e}));void 0===a?this.values.push({name:e,x:t,label:n,function:r,trial:i,new:i}):(a.x=t,a.label=n,a.function=r),this.requestUpdate()}},{key:"set",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:r;this.setFunction(e,n,r),this.setValue(t,r,i,a)}},{key:"render",value:function(){return o$(FZt||(FZt=A(["\n      ","\n    "])),y9.svgFilters)}},{key:"getDimensions",value:function(){this.width=parseFloat(this.getComputedStyleValue("width"),10),this.height=parseFloat(this.getComputedStyleValue("height"),10),this.rem=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("font-size"),10)}},{key:"connectedCallback",value:function(){B(f(n.prototype),"connectedCallback",this).call(this),window.addEventListener("resize",this.getDimensions.bind(this))}},{key:"disconnectedCallback",value:function(){window.removeEventListener("resize",this.getDimensions.bind(this)),B(f(n.prototype),"disconnectedCallback",this).call(this)}},{key:"firstUpdated",value:function(t){B(f(n.prototype),"firstUpdated",this).call(this,t),window.setTimeout(this.getDimensions.bind(this),0)}},{key:"update",value:function(t){var e=this;if(B(f(n.prototype),"update",this).call(this,t),this.alignState(),!(Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))){var r=this.width,i=this.height,a=Math.min(r,i),o={top:2*this.rem,bottom:3*this.rem,left:3*this.rem,right:2*this.rem},s=a-(o.top+o.bottom),l=a-(o.left+o.right),c=parseInt(this.getComputedStyleValue("---transition-duration"),10),u=20,d=c5().domain([-20,u]).range([0,l]);this.xScale=d;var h=c5().domain([u,-20]).range([0,s]);this.yScale=h;var g=w1().subject((function(t,n){return{x:t.x,y:e.yScale(I4.xal2v(e.xScale.invert(t.x),n.a,n.l))}})).on("start",(function(t){p1(t.currentTarget).classed("dragging",!0)})).on("drag",(function(t,n){e.drag=!0;var r=e.xScale.invert(t.x),i=e.yScale.invert(t.y),a=I4.xlv2a(r,n.l,i);n.a=Number.isNaN(a)||a<0||a>1||r<0||i<0?r>i?0:1:a,"default"===n.name&&(e.a=n.a),e.alignState(),e.requestUpdate(),e.dispatchEvent(new CustomEvent("cpt-value-change",{detail:e.get(n.name),bubbles:!0}))})).on("end",(function(t){p1(t.currentTarget).classed("dragging",!1)})),p=w1().subject((function(t,n){return{x:t.x,y:e.yScale(I4.xal2v(e.xScale.invert(t.x),n.a,n.l))}})).on("start",(function(t){p1(t.currentTarget).classed("dragging",!0)})).on("drag",(function(t,n){e.drag=!0;var r=e.xScale.invert(t.x),i=e.yScale.invert(t.y),a=I4.xav2l(r,n.a,i);n.l=Number.isNaN(a)||a<0||a>100||r>0||i>0?r>i?100:0:a,"default"===n.name&&(e.l=n.l),e.alignState(),e.requestUpdate(),e.dispatchEvent(new CustomEvent("cpt-value-change",{detail:e.get(n.name),bubbles:!0}))})).on("end",(function(t){p1(t.currentTarget).classed("dragging",!1)})),v=w1().subject((function(t,n){return{x:e.xScale(n.x),y:e.yScale(n.v)}})).on("start",(function(t){p1(t.currentTarget).classed("dragging",!0)})).on("drag",(function(t,n){e.drag=!0;var r=e.xScale.invert(t.x);n.x=r<-20?-20:r>u?u:r,"default"===n.name&&(e.x=n.x),e.alignState(),e.requestUpdate(),e.dispatchEvent(new CustomEvent("cpt-value-change",{detail:{name:n.name,x:n.x,v:n.v,label:n.label,a:e.getFunction(n.function).a,l:e.getFunction(n.function).l},bubbles:!0}))})).on("end",(function(t){p1(t.currentTarget).classed("dragging",!1)})),m=z5().x((function(t){return d(t.x)})).y((function(t){return h(t.v)})),y=p1(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}]),b=y.enter().append("svg").classed("main",!0),I=b.merge(y).attr("viewBox","0 0 ".concat(a," ").concat(a)),C=b.append("g").classed("plot",!0),x=I.select(".plot").attr("transform","translate(".concat(o.left,", ").concat(o.top,")"));C.append("clipPath").attr("id","clip-cpt-value").append("rect"),x.select("clipPath rect").attr("height",s+1).attr("width",l+1);var A=C.append("g").classed("underlayer",!0),F=x.select(".underlayer");A.append("rect").classed("background",!0),F.select(".background").attr("height",s).attr("width",l),A.append("g").classed("scale-x",!0),F.select(".scale-x").attr("transform","translate(0, ".concat(h(-20),")")).transition().duration(2*c).ease(w3).call(Y$(d)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null),A.append("line").classed("axis-x",!0),F.select(".axis-x").transition().duration(c).ease(w3).attr("x1",d(-20)).attr("x2",d(u)).attr("y1",h(0)).attr("y2",h(0));var Q=A.append("text").classed("title-x",!0).attr("text-anchor","middle");Q.append("tspan").classed("name",!0).text("Objective Value ("),Q.append("tspan").classed("math-var x",!0).text("x"),Q.append("tspan").classed("name",!0).text(")"),F.select(".title-x").attr("transform","translate(".concat(l/2,", ").concat(s+2.25*this.rem,")")),A.append("g").classed("scale-y",!0),F.select(".scale-y").transition().duration(2*c).ease(w3).call(O$(h)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null),A.append("line").classed("axis-y",!0),F.select(".axis-y").transition().duration(c).ease(w3).attr("x1",d(0)).attr("x2",d(0)).attr("y1",h(u)).attr("y2",h(-20));var w=A.append("text").classed("title-y",!0).attr("text-anchor","middle");w.append("tspan").classed("name",!0).text("Subjective Value ("),w.append("tspan").classed("math-var v",!0).text("v"),w.append("tspan").classed("name",!0).text(")"),F.select(".title-y").attr("transform","translate(".concat(-2*this.rem,", ").concat(s/2,")rotate(-90)")),A.append("line").classed("diagonal",!0),F.select(".diagonal").transition().duration(2*c).ease(w3).attr("x1",d(-20)).attr("y1",h(-20)).attr("x2",d(u)).attr("y2",h(u)),C.append("g").classed("content",!0);var U=x.select(".content"),G=U.selectAll(".lines").data(this.values.filter((function(t){return t.x})),(function(t){return t.name})),R=G.enter().append("g").classed("lines",!0);R.each((function(t,e,n){var r=p1(n[e]);r.append("line").classed("line-x above",!0),r.append("line").classed("line-x below",!0),r.append("line").classed("line-v before",!0),r.append("line").classed("line-v after",!0)})),R.filter((function(t){return t.new})).attr("data-animating-ease-time-1",0).attr("data-animating-ease-time-2",0).each((function(t,e,n){var r=p1(n[e]);r.select(".line-x.above").attr("x1",d(t.x)).attr("x2",d(t.x)).attr("y1",h(u)).attr("y2",h(u)),r.select(".line-x.below").attr("x1",d(t.x)).attr("x2",d(t.x)).attr("y1",h(-20)).attr("y2",h(-20)),r.select(".line-v.before").attr("x1",d(t.x)).attr("x2",d(t.x)).attr("y1",h(t.v)).attr("y2",h(t.v)),r.select(".line-v.after").attr("x1",d(t.x)).attr("x2",d(t.x)).attr("y1",h(t.v)).attr("y2",h(t.v))}));var S=R.merge(G),L=S.filter((function(t){return t.new&&!t.paused}));if(!L.empty()){var _=L.attr("data-animating-ease-time-1"),E=L.attr("data-animating-ease-time-2"),k=function(t){return c5().range([0,1]).domain([_,1])(t)},V=function(t){return c5().range([0,1]).domain([E,1])(t)},Z=function(t){return function(e){return c5().domain([t(_),1]).range([0,1])(t(e))}},N=function(t){return function(e){return c5().domain([t(E),1]).range([0,1])(t(e))}};L.transition("new-1").duration((function(){return Math.floor(c*(1-_))})).ease((function(t){return c5().domain([0,1]).range([_,1])(t)})).attr("data-animating-ease-time-1",1).tween("animating",(function(t,n,r){var i=r[n],a=p1(i),o=m2(void 0!==i.x?i.x:t.x,t.x),s=m2(void 0!==i.a?i.a:e.getFunction(t.function).a,e.getFunction(t.function).a),l=m2(void 0!==i.l?i.l:e.getFunction(t.function).l,e.getFunction(t.function).l),c=m2(h.invert(a.select(".line-x.above").attr("y1")),t.v),g=m2(h.invert(a.select(".line-x.below").attr("y1")),t.v);return function(t){i.x=o(w3(k(t))),i.a=s(w3(k(t))),i.l=l(w3(k(t))),i.v=I4.xal2v(i.x,i.a,i.l),a.select(".line-x.above").attr("x1",d(i.x)).attr("x2",d(i.x)).attr("y1",h(c(Z(Q3)(t)))).attr("y2",h(u)),a.select(".line-x.below").attr("x1",d(i.x)).attr("x2",d(i.x)).attr("y1",h(g(Z(Q3)(t)))).attr("y2",h(-20))}})).transition("new-2").duration((function(){return Math.floor(c*(1-E))})).ease((function(t){return c5().domain([0,1]).range([E,1])(t)})).attr("data-animating-ease-time-2",1).tween("animating",(function(t,n,r){var i=r[n],a=p1(i),o=m2(void 0!==i.x?i.x:t.x,t.x),s=m2(void 0!==i.a?i.a:e.getFunction(t.function).a,e.getFunction(t.function).a),l=m2(void 0!==i.l?i.l:e.getFunction(t.function).l,e.getFunction(t.function).l),c=m2(d.invert(a.select(".line-v.before").attr("x1")),-20),g=m2(d.invert(a.select(".line-v.after").attr("x1")),u);return function(t){i.x=o(w3(V(t))),i.a=s(w3(V(t))),i.l=l(w3(V(t))),i.v=I4.xal2v(i.x,i.a,i.l),a.select(".line-v.before").attr("x1",d(c(N(w3)(t)))).attr("x2",d(i.x)).attr("y1",h(i.v)).attr("y2",h(i.v)),a.select(".line-v.after").attr("x1",d(g(N(w3)(t)))).attr("x2",d(i.x)).attr("y1",h(i.v)).attr("y2",h(i.v))}})).on("end",(function(t,n,r){var i=r[n];i.removeAttribute("data-animating-ease-time-1"),i.removeAttribute("data-animating-ease-time-2"),t.new=!1,e.dispatchEvent(new CustomEvent("decision-response",{detail:{trial:e.trialCount,xl:e.xl,xw:e.xw,pw:e.pw,xs:e.xs,response:e.response},bubbles:!0}))}))}var T=S.filter((function(t){return t.new&&t.paused}));if(!T.empty()){var X=T.attr("data-animating-ease-time-1"),W=T.attr("data-animating-ease-time-2");T.transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(w3).tween("paused",(function(t,n,r){var i=r[n],a=p1(i),o=m2(void 0!==i.x?i.x:t.x,t.x),s=m2(void 0!==i.a?i.a:e.getFunction(t.function).a,e.getFunction(t.function).a),l=m2(void 0!==i.l?i.l:e.getFunction(t.function).l,e.getFunction(t.function).l),c=m2(u,t.v),g=m2(-20,t.v),f=m2(t.x,-20),p=m2(t.x,u);return function(t){i.x=o(t),i.a=s(t),i.l=l(t),i.v=I4.xal2v(i.x,i.a,i.l),a.select(".line-x.above").attr("x1",d(i.x)).attr("x2",d(i.x)).attr("y1",h(c(Q3(X)))).attr("y2",h(u)),a.select(".line-x.below").attr("x1",d(i.x)).attr("x2",d(i.x)).attr("y1",h(g(Q3(X)))).attr("y2",h(-20)),a.select(".line-v.before").attr("x1",d(f(w3(W)))).attr("x2",d(i.x)).attr("y1",h(i.v)).attr("y2",h(i.v)),a.select(".line-v.after").attr("x1",d(p(w3(W)))).attr("x2",d(i.x)).attr("y1",h(i.v)).attr("y2",h(i.v))}}))}S.filter((function(t){return!t.new})).transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(w3).tween("non-animating",(function(t,n,r){var i=r[n],a=p1(i),o=m2(void 0!==i.x?i.x:t.x,t.x),s=m2(void 0!==i.a?i.a:e.getFunction(t.function).a,e.getFunction(t.function).a),l=m2(void 0!==i.l?i.l:e.getFunction(t.function).l,e.getFunction(t.function).l);return function(t){i.x=o(t),i.a=s(t),i.l=l(t),i.v=I4.xal2v(i.x,i.a,i.l),a.select(".line-x.above").attr("x1",d(i.x)).attr("x2",d(i.x)).attr("y1",h(i.v)).attr("y2",h(u)),a.select(".line-x.below").attr("x1",d(i.x)).attr("x2",d(i.x)).attr("y1",h(i.v)).attr("y2",h(-20)),a.select(".line-v.before").attr("x1",d(-20)).attr("x2",d(i.x)).attr("y1",h(i.v)).attr("y2",h(i.v)),a.select(".line-v.after").attr("x1",d(u)).attr("x2",d(i.x)).attr("y1",h(i.v)).attr("y2",h(i.v))}})),G.exit().remove();var M=U.selectAll(".curve-p").data(this.functions,(function(t){return t.name})),H=M.enter().append("path").classed("curve-p",!0).attr("clip-path","url(#clip-cpt-value)").merge(M);(this.firstUpdate||t.has("interactive"))&&(this.interactive?H.attr("tabindex",0).classed("interactive",!0).call(g).on("keydown",(function(t,n){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){var r=n.a;switch(t.key){case"ArrowUp":case"ArrowLeft":r+=t.shiftKey?.01:.05;break;case"ArrowDown":case"ArrowRight":r-=t.shiftKey?.01:.05}(r=r<0?0:r>1?1:r)!==n.a&&(n.a=r,"default"===n.name&&(e.a=n.a),e.alignState(),e.requestUpdate(),e.dispatchEvent(new CustomEvent("cpt-value-change",{detail:e.get(n.name),bubbles:!0}))),t.preventDefault()}})):H.attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null)),H.transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(w3).attrTween("d",(function(t,e,n){var r=n[e],i=m2(void 0!==r.a?r.a:t.a,t.a),a=m2(void 0!==r.l?r.l:t.l,t.l);return function(t){r.a=i(t),r.l=a(t);var e=V$(d(0),d.range()[1]+1,1).map((function(t){return{x:d.invert(t),v:I4.xal2v(d.invert(t),r.a,r.l)}}));return m(e)}})),M.exit().remove();var D=U.selectAll(".curve-n").data(this.functions,(function(t){return t.name})),Y=D.enter().append("path").classed("curve-n",!0).attr("clip-path","url(#clip-cpt-value)").merge(D);(this.firstUpdate||t.has("interactive"))&&(this.interactive?Y.attr("tabindex",0).classed("interactive",!0).call(p).on("keydown",(function(t,n){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){var r=n.l;switch(t.key){case"ArrowUp":case"ArrowLeft":r-=t.shiftKey?.01:.05;break;case"ArrowDown":case"ArrowRight":r+=t.shiftKey?.01:.05}(r=r<0?0:r>100?100:r)!==n.l&&(n.l=r,"default"===n.name&&(e.l=n.l),e.alignState(),e.requestUpdate(),e.dispatchEvent(new CustomEvent("cpt-value-change",{detail:e.get(n.name),bubbles:!0}))),t.preventDefault()}})):Y.attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null)),Y.transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(w3).attrTween("d",(function(t,e,n){var r=n[e],i=m2(void 0!==r.a?r.a:t.a,t.a),a=m2(void 0!==r.l?r.l:t.l,t.l);return function(t){r.a=i(t),r.l=a(t);var e=V$(d.range()[0],d(0)+1,1).map((function(t){return{x:d.invert(t),v:I4.xal2v(d.invert(t),r.a,r.l)}}));return m(e)}})),D.exit().remove();var O=U.selectAll(".point").data(this.values.filter((function(t){return t.v})),(function(t){return t.name})),z=O.enter().append("g").classed("point",!0);z.append("circle").classed("circle",!0).attr("r",6),z.append("text").classed("label",!0);var J=z.merge(O);J.select("text").text((function(t){return t.label})),J.filter((function(t){return e.interactive&&!t.trial})).attr("tabindex",0).classed("interactive",!0).call(v).on("keydown",(function(t,n){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){var r=n.x;switch(t.key){case"ArrowUp":case"ArrowRight":r+=t.shiftKey?.2:1;break;case"ArrowDown":case"ArrowLeft":r-=t.shiftKey?.2:1}(r=r<-20?-20:r>u?u:r)!==n.x&&(n.x=r,"default"===n.name&&(e.x=n.x),e.alignState(),e.requestUpdate(),e.dispatchEvent(new CustomEvent("cpt-value-change",{detail:{name:n.name,x:n.x,v:n.v,label:n.label,a:e.getFunction(n.function).a,l:e.getFunction(n.function).l},bubbles:!0}))),t.preventDefault()}})),J.filter((function(t){return!e.interactive||t.trial})).attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null),J.transition().duration(this.drag?0:this.firstUpdate?2*c:c).ease(w3).attrTween("transform",(function(t,n,r){var i=r[n],a=m2(void 0!==i.x?i.x:t.x,t.x),o=m2(void 0!==i.a?i.a:e.getFunction(t.function).a,e.getFunction(t.function).a),s=m2(void 0!==i.l?i.l:e.getFunction(t.function).l,e.getFunction(t.function).l);return function(t){return i.x=a(t),i.a=o(t),i.l=s(t),"translate(\n            ".concat(d(i.x),",\n            ").concat(h(I4.xal2v(i.x,i.a,i.l)),"\n          )")}})),O.exit().remove(),this.drag=!1,this.firstUpdate=!1}}}],[{key:"properties",get:function(){return{x:{attribute:"value",type:Number,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},v:{attribute:!1,type:Number,reflect:!1},width:{attribute:!1,type:Number,reflect:!1},height:{attribute:!1,type:Number,reflect:!1},rem:{attribute:!1,type:Number,reflect:!1}}}},{key:"styles",get:function(){return[B(f(n),"styles",this),_q(QZt||(QZt=A(['\n        :host {\n          display: inline-block;\n\n          width: 20rem;\n          height: 20rem;\n        }\n\n        .main {\n          width: 100%;\n          height: 100%;\n        }\n\n        text {\n          /* stylelint-disable property-no-vendor-prefix */\n          -webkit-user-select: none;\n          -moz-user-select: none;\n          -ms-user-select: none;\n          user-select: none;\n        }\n\n        .curve-p.interactive,\n        .curve-n.interactive {\n          cursor: nwse-resize;\n\n          filter: url("#shadow-2");\n          outline: none;\n        }\n\n        .curve-p.interactive:hover,\n        .curve-n.interactive:hover {\n          filter: url("#shadow-4");\n        }\n\n        .curve-p.interactive:active,\n        .curve-n.interactive:active {\n          filter: url("#shadow-8");\n        }\n\n        :host(.keyboard) .curve-p.interactive:focus,\n        :host(.keyboard) .curve-n.interactive:focus {\n          filter: url("#shadow-8");\n        }\n\n        .point.interactive {\n          cursor: nesw-resize;\n\n          filter: url("#shadow-2");\n          outline: none;\n\n          /* HACK: This gets Safari to correctly apply the filter! */\n          /* https://github.com/emilbjorklund/svg-weirdness/issues/27 */\n          stroke: #000000;\n          stroke-opacity: 0;\n          stroke-width: 0;\n        }\n\n        /* Make a larger target for touch users */\n        @media (pointer: coarse) {\n          .point.interactive .circle {\n            stroke: #000000;\n            stroke-opacity: 0;\n            stroke-width: 12px;\n          }\n        }\n\n        .point.interactive:hover {\n          filter: url("#shadow-4");\n\n          /* HACK: This gets Safari to correctly apply the filter! */\n          stroke: #ff0000;\n        }\n\n        .point.interactive:active {\n          filter: url("#shadow-8");\n\n          /* HACK: This gets Safari to correctly apply the filter! */\n          stroke: #00ff00;\n        }\n\n        :host(.keyboard) .point.interactive:focus {\n          filter: url("#shadow-8");\n\n          /* HACK: This gets Safari to correctly apply the filter! */\n          stroke: #0000ff;\n        }\n\n        .background {\n          fill: var(---color-element-background);\n          stroke: var(---color-element-border);\n          stroke-width: 1;\n          shape-rendering: crispEdges;\n        }\n\n        .title-x,\n        .title-y {\n          font-weight: 600;\n\n          fill: currentColor;\n        }\n\n        .tick {\n          font-size: 0.75rem;\n        }\n\n        .scale-x path,\n        .scale-x line,\n        .scale-y path,\n        .scale-y line {\n          stroke: var(---color-element-border);\n        }\n\n        .axis-x,\n        .axis-y {\n          stroke: var(---color-element-border);\n          shape-rendering: crispEdges;\n        }\n\n        .diagonal {\n          stroke: var(---color-element-border);\n          stroke-dasharray: 4;\n          stroke-width: 1;\n        }\n\n        .curve-p,\n        .curve-n {\n          fill: none;\n          stroke: var(---color-element-emphasis);\n          stroke-width: 2;\n        }\n\n        .line-x,\n        .line-v {\n          fill: none;\n          stroke-width: 2;\n        }\n\n        .line-x {\n          stroke: var(---color-x);\n        }\n\n        .line-v {\n          stroke: var(---color-v);\n        }\n\n        .point .circle {\n          fill: var(---color-element-emphasis);\n\n          /* r: 6; HACK: Firefox does not support CSS SVG Geometry Properties */\n        }\n\n        .point .label {\n          font-size: 0.75rem;\n\n          dominant-baseline: middle;\n          text-anchor: middle;\n\n          fill: var(---color-text-inverse);\n        }\n      '])))]}}]),n}(y9);customElements.define("cpt-value",RZt);var SZt,LZt,_Zt=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).width=NaN,t.height=NaN,t.rem=NaN,t}return d(n,[{key:"render",value:function(){return o$(UZt||(UZt=A(["\n      ","\n      <slot></slot>\n    "])),y9.svgFilters)}},{key:"getDimensions",value:function(){this.width=parseFloat(this.getComputedStyleValue("width"),10),this.height=parseFloat(this.getComputedStyleValue("height"),10),this.rem=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("font-size"),10)}},{key:"connectedCallback",value:function(){var t=this;B(f(n.prototype),"connectedCallback",this).call(this),window.addEventListener("resize",this.getDimensions.bind(this)),this.observer=new MutationObserver((function(e){e.some((function(e){return"childList"===e.type||"attributes"===e.type&&e.target!==t}))&&t.requestUpdate()})),this.observer.observe(this,{subtree:!0,childList:!0,attributes:!0})}},{key:"disconnectedCallback",value:function(){this.observer.disconnect(),window.removeEventListener("resize",this.getDimensions.bind(this)),B(f(n.prototype),"disconnectedCallback",this).call(this)}},{key:"firstUpdated",value:function(t){B(f(n.prototype),"firstUpdated",this).call(this,t),window.setTimeout(this.getDimensions.bind(this),0)}},{key:"update",value:function(t){var e=this;if(B(f(n.prototype),"update",this).call(this,t),!(Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))){var r=this.width,i=this.height,a=Math.min(r,i),o=a-(0+0),s=a-(0+0),l=this.querySelectorAll("decision-outcome"),c=l.length?-l[0].p:0,u=function(){var t=j5,e=J5,n=null,r=d5(0),i=d5(S5),a=d5(0);function o(o){var s,l,c,u,d,h=(o=M5(o)).length,g=0,f=new Array(h),p=new Array(h),v=+r.apply(this,arguments),m=Math.min(S5,Math.max(-S5,i.apply(this,arguments)-v)),y=Math.min(Math.abs(m)/h,a.apply(this,arguments)),b=y*(m<0?-1:1);for(s=0;s<h;++s)(d=p[f[s]=s]=+t(o[s],s,o))>0&&(g+=d);for(null!=e?f.sort((function(t,n){return e(p[t],p[n])})):null!=n&&f.sort((function(t,e){return n(o[t],o[e])})),s=0,c=g?(m-h*b)/g:0;s<h;++s,v=u)l=f[s],u=v+((d=p[l])>0?d*c:0)+b,p[l]={data:o[l],index:s,value:d,startAngle:v,endAngle:u,padAngle:y};return p}return o.value=function(e){return arguments.length?(t="function"==typeof e?e:d5(+e),o):t},o.sortValues=function(t){return arguments.length?(e=t,n=null,o):e},o.sort=function(t){return arguments.length?(n=t,e=null,o):n},o.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:d5(+t),o):r},o.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:d5(+t),o):i},o.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:d5(+t),o):a},o}().startAngle(c*Math.PI-Math.PI).endAngle(c*Math.PI+Math.PI).sortValues(null).value((function(t){return t.p}))(l),d=u.filter((function(t){return!t.data.interactive})),h=u.filter((function(t){return t.data.interactive})),g=w1().subject((function(t,e){var n=w((e.endAngle+e.startAngle)/2),r=w(Math.atan2(t.y,t.x)+Math.PI/2);return l.forEach((function(t){t.startP=t.p})),{arcAngle:n,startAngle:w(r-n)}})).on("start",(function(t){p1(t.currentTarget).classed("dragging",!0)})).on("drag",(function(t,n){var r=w(Math.atan2(t.y,t.x)+Math.PI/2),i=w(r-t.subject.arcAngle),a=w(t.subject.startAngle>0?i-t.subject.startAngle:t.subject.startAngle-i)/Math.PI,o=n.data.startP+a,s=o>.99?.99:o<.01?.01:o;l.forEach((function(t){t.p=t===n.data?s:t.startP/(1-n.data.startP)*(1-s)})),e.dispatchEvent(new CustomEvent("decision-outcome-change",{detail:{x:n.data.x,p:n.data.p,name:n.data.name},bubbles:!0}))})).on("end",(function(t){p1(t.currentTarget).classed("dragging",!1)})),p=p1(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}]),v=p.enter().append("svg").classed("main",!0),m=v.merge(p).attr("viewBox","0 0 ".concat(a," ").concat(a)),y=v.append("g").classed("pie",!0),b=m.select(".pie").attr("transform","translate(".concat(s/2,", ").concat(o/2,")"));y.append("circle").classed("outline",!0),b.select(".outline").attr("r",Math.min(s,o)/2-1);var I=b.selectAll(".arc").data(u);I.enter().append("path").call(g).merge(I).attr("tabindex",(function(t){return h.includes(t)&&u.length>1?0:null})).attr("class",(function(t){return"arc ".concat(t.data.name)})).classed("interactive",(function(t){return h.includes(t)&&u.length>1})).attr("d",W5().innerRadius(0).outerRadius(Math.min(s,o)/2-1)),I.exit().remove();var C=b.selectAll(".label.static").data(d),x=b.selectAll(".label.interactive").data(h),A=C.enter().append("text"),F=x.enter().append("foreignObject");F.append("xhtml:decidable-spinner").on("input",(function(t,n){n.data.x=parseFloat(t.target.value),e.dispatchEvent(new CustomEvent("decision-outcome-change",{detail:{x:n.data.x,p:n.data.p,name:n.data.name},bubbles:!0}))})),A.merge(C).attr("class",(function(t){return"label static ".concat(t.data.name)})).attr("transform",(function(t){if(1===u.length)return"translate(0, 0)";var e=Math.min(s,o)/2*.6,n=W5().innerRadius(e).outerRadius(e);return"translate(".concat(n.centroid(t),")")})).text((function(t){return"$".concat(t.data.x.toFixed(0))}));var Q=F.merge(x).attr("class",(function(t){return"label interactive ".concat(t.data.name)})).attr("transform",(function(t){if(1===u.length)return"translate(0, 0)";var e=Math.min(s,o)/2*.6,n=W5().innerRadius(e).outerRadius(e);return"translate(".concat(n.centroid(t),")")}));Q.select("decidable-spinner").attr("value",(function(t){return"".concat(t.data.x.toFixed(0))})),C.exit().remove(),x.exit().remove()}function w(t){var e=(t+2*Math.PI)%(2*Math.PI);return e>Math.PI?e-2*Math.PI:e<-Math.PI?e+2*Math.PI:e}}}],[{key:"properties",get:function(){return{width:{attribute:!1,type:Number,reflect:!1},height:{attribute:!1,type:Number,reflect:!1},rem:{attribute:!1,type:Number,reflect:!1}}}},{key:"styles",get:function(){return[B(f(n),"styles",this),_q(GZt||(GZt=A(['\n        :host {\n          display: inline-block;\n        }\n\n        .main {\n          width: 100%;\n          height: 100%;\n          overflow: visible;\n        }\n\n        .outline {\n          fill: var(---color-element-background);\n          stroke: var(---color-element-emphasis);\n          stroke-width: 2;\n        }\n\n        .arc {\n          stroke: var(---color-element-emphasis);\n          stroke-width: 2;\n        }\n\n        .arc.interactive {\n          cursor: ns-resize;\n\n          filter: url("#shadow-2");\n          outline: none;\n        }\n\n        .arc.interactive:hover {\n          filter: url("#shadow-4");\n        }\n\n        .arc.interactive:active {\n          filter: url("#shadow-8");\n        }\n\n        :host(.keyboard) .arc.interactive:focus {\n          filter: url("#shadow-8");\n        }\n\n        .arc.win {\n          fill: var(---color-better-light);\n        }\n\n        .arc.loss {\n          fill: var(---color-worse-light);\n        }\n\n        .arc.sure {\n          fill: var(---color-even-light);\n        }\n\n        .label.static {\n          font-size: 1.75rem;\n\n          user-select: none;\n\n          dominant-baseline: middle;\n          text-anchor: middle;\n        }\n\n        .label.interactive {\n          --decidable-spinner-font-size: 1.75rem;\n          --decidable-spinner-input-width: 4rem;\n          --decidable-spinner-prefix: "$";\n\n          width: var(--decidable-spinner-input-width);\n          height: calc(var(--decidable-spinner-font-size) * 1.5);\n          overflow: visible;\n          x: calc(var(--decidable-spinner-input-width) / -2);\n          y: calc(var(--decidable-spinner-font-size) * 1.5 / -2);\n        }\n\n        .label.interactive.win decidable-spinner {\n          background-color: var(---color-better-light);\n        }\n\n        .label.interactive.loss decidable-spinner {\n          background-color: var(---color-worse-light);\n        }\n\n        .label.interactive.sure decidable-spinner {\n          background-color: var(---color-even-light);\n        }\n      '])))]}}]),n}(y9);customElements.define("decision-option",_Zt);var EZt,kZt,VZt,ZZt,NZt,TZt=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).x=0,t.p=0,t.name="",t}return d(n,[{key:"render",value:function(){return o$(SZt||(SZt=A([""])))}}],[{key:"properties",get:function(){return{x:{attribute:"value",type:Number,reflect:!0},p:{attribute:"probability",type:Number,reflect:!0},name:{attribute:"name",type:String,reflect:!0}}}},{key:"styles",get:function(){return[_q(LZt||(LZt=A(["\n        :host {\n          display: none;\n        }\n      "])))]}}]),n}(y9);customElements.define("decision-outcome",TZt);var XZt,WZt,MZt,HZt,DZt,YZt,OZt,zZt,JZt,jZt,PZt,KZt,qZt=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).states=["choice","fixation","blank"],t.state="choice",t.xl=0,t.xw=100,t.pw=.75,t.xs=50,t}return d(n,[{key:"sendEvent",value:function(){this.dispatchEvent(new CustomEvent("decision-choice-change",{detail:{xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs},bubbles:!0}))}},{key:"winChange",value:function(t){this.xw=parseFloat(t.detail.x),this.pw=parseFloat(t.detail.p),this.sendEvent()}},{key:"sureChange",value:function(t){this.xs=parseFloat(t.detail.x),this.sendEvent()}},{key:"render",value:function(){return o$(EZt||(EZt=A(['\n      <div class="holder">\n        <decision-option ?interactive='," @decision-outcome-change=",">\n          ",'\n        </decision-option><span class="query"\n         >',"</span\n        ><decision-option ?interactive="," @decision-outcome-change=",">\n          ","\n        </decision-option>\n      </div>"])),this.interactive,this.winChange.bind(this),"choice"===this.state?o$(kZt||(kZt=A(['\n              <decision-outcome probability="','" value="','" name="loss"></decision-outcome>\n              <decision-outcome ?interactive=',' probability="','" value="','" name="win"></decision-outcome>'])),1-this.pw,this.xl,this.interactive,this.pw,this.xw):"","choice"===this.state?"?":"fixation"===this.state?"+":o$(VZt||(VZt=A(["∙"]))),this.interactive,this.sureChange.bind(this),"choice"===this.state?o$(ZZt||(ZZt=A(["\n              <decision-outcome ?interactive=",' probability="1" value="','" name="sure"></decision-outcome>'])),this.interactive,this.xs):"")}}],[{key:"properties",get:function(){return{state:{attribute:"state",type:String,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0}}}},{key:"styles",get:function(){return[B(f(n),"styles",this),_q(NZt||(NZt=A(["\n        :host {\n          display: inline-block;\n        }\n\n        .holder {\n          user-select: none;\n        }\n\n        .holder > * {\n          vertical-align: middle;\n        }\n\n        .query {\n          margin: 0 0.5rem;\n\n          font-family: var(--font-family-code);\n          font-size: 1.75rem;\n        }\n\n        decision-option {\n          width: 10rem;\n          height: 10rem;\n        }\n      "])))]}}]),n}(y9);customElements.define("decision-choice",qZt);var $Zt,tNt,eNt,nNt,rNt,iNt,aNt,oNt,sNt,lNt,cNt,uNt,dNt,hNt,gNt,fNt,pNt,vNt,mNt=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).trials=void 0,t.duration=void 0,t.run=!1,t.pause=!1,t.reset=!1,t.states=["resetted","running","paused","ended"],t.state="resetted",t}return d(n,[{key:"setTrials",value:function(t){this.trials=t.target.value,this.dispatchEvent(new CustomEvent("decision-control-trials",{detail:{trials:this.trials},bubbles:!0}))}},{key:"setDuration",value:function(t){this.duration=t.target.value,this.dispatchEvent(new CustomEvent("sdt-control-duration",{detail:{duration:this.duration},bubbles:!0}))}},{key:"doRun",value:function(){this.state="running",this.dispatchEvent(new CustomEvent("decision-control-run",{detail:{},bubbles:!0}))}},{key:"doPause",value:function(){this.state="paused",this.dispatchEvent(new CustomEvent("decision-control-pause",{detail:{},bubbles:!0}))}},{key:"doReset",value:function(){this.state="resetted",this.dispatchEvent(new CustomEvent("decision-control-reset",{detail:{},bubbles:!0}))}},{key:"complete",value:function(){this.state="ended"}},{key:"render",value:function(){return o$(XZt||(XZt=A(['\n      <div class="holder">\n        ',"\n        ",'\n        <div class="buttons">\n          ',"\n          ","\n          ","\n        </div>\n      </div>"])),this.trials?o$(WZt||(WZt=A(['<decidable-slider min="1" max="100" step="1" .value='," @change="," @input=",">Trials</decidable-slider>"])),this.trials,this.setTrials.bind(this),this.setTrials.bind(this)):o$(MZt||(MZt=A([""]))),this.duration?o$(HZt||(HZt=A(['<decidable-slider min="10" max="4000" step="10" .value='," @change="," @input=",">Duration</decidable-slider>"])),this.duration,this.setDuration.bind(this),this.setDuration.bind(this)):o$(DZt||(DZt=A([""]))),this.run?o$(YZt||(YZt=A(['<decidable-button name="run" ?disabled='," @click=",">Run</decidable-button>"])),"running"===this.state||"ended"===this.state,this.doRun.bind(this)):o$(OZt||(OZt=A([""]))),this.pause?o$(zZt||(zZt=A(['<decidable-button name="pause" ?disabled='," @click=",">Pause</decidable-button>"])),"running"!==this.state,this.doPause.bind(this)):o$(JZt||(JZt=A([""]))),this.reset?o$(jZt||(jZt=A(['<decidable-button name="reset" ?disabled='," @click=",">Reset</decidable-button>"])),"resetted"===this.state,this.doReset.bind(this)):o$(PZt||(PZt=A([""]))))}}],[{key:"properties",get:function(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},run:{attribute:"run",type:Boolean,reflect:!0},pause:{attribute:"pause",type:Boolean,reflect:!0},reset:{attribute:"reset",type:Boolean,reflect:!0},state:{atribute:!1,type:String,reflect:!1}}}},{key:"styles",get:function(){return[B(f(n),"styles",this),_q(KZt||(KZt=A(["\n        :host {\n          display: inline-block;\n        }\n\n        .holder {\n          display: flex;\n\n          flex-direction: row;\n\n          align-items: stretch;\n          justify-content: center;\n        }\n\n        .buttons {\n          display: flex;\n\n          flex-direction: column;\n\n          align-items: stretch;\n          justify-content: center;\n        }\n      "])))]}}]),n}(y9);customElements.define("decision-control",mNt);var yNt,bNt,INt=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).feedbacks=["none","outcome"],t.feedback="none",t.trial=!1,t.payoffs=["none","selection","both"],t.payoff="none",t.states=["off","waiting","feedback"],t.state="off",t.trialCount=0,t.trialTotal=0,t.xl=0,t.xw=0,t.pw=0,t.xs=0,t.gamblePayoff=0,t.surePayoff=0,t.nrPayoff=0,t.betters=["gamble","sure","even"],t.better=void 0,t.responses=["gamble","sure","nr"],t.response=void 0,t.outcomes=["better","worse","even","nr"],t.outcome=void 0,t}return d(n,[{key:"trialPayoff",get:function(){switch(this.response){case"gamble":return this.gamblePayoff;case"sure":return this.surePayoff;case"nr":return this.nrPayoff;default:return}}},{key:"start",value:function(t,e,n,r,i,a,o,s){this.state="waiting",this.xl=t,this.xw=e,this.pw=n,this.xs=r,this.gamblePayoff=i,this.surePayoff=a,this.better=o,this.trialCount=s,this.response=void 0,this.outcome=void 0}},{key:"stop",value:function(){this.state="feedback",void 0===this.response&&(this.outcome="nr")}},{key:"gamble",value:function(){this.responded("gamble")}},{key:"sure",value:function(){this.responded("sure")}},{key:"responded",value:function(t){this.state="feedback",this.response=t,this.outcome="even"===this.better?"even":this.better===this.response?"better":"worse",this.dispatchEvent(new CustomEvent("decision-response",{detail:{trial:this.trialCount,better:this.better,gamblePayoff:this.gamblePayoff,surePayoff:this.surePayoff,xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,response:this.response,outcome:this.outcome,payoff:this.trialPayoff},bubbles:!0}))}},{key:"reset",value:function(){this.state="off",this.trialCount=0,this.better=void 0,this.gamblePayoff=0,this.surePayoff=0,this.response=void 0,this.outcome=void 0}},{key:"render",value:function(){return o$($Zt||($Zt=A(['\n      <div class="holder">\n        ','\n        <div class="responses">\n          <decidable-button name="gamble" class="response ','" ?disabled='," @click=",'>Gamble</decidable-button>\n          <decidable-button name="sure" class="response ','" ?disabled='," @click=",">Sure</decidable-button>\n        </div>\n        ","\n      </div>"])),this.trial?o$(tNt||(tNt=A(['\n            <div class="trials">\n              <div class="trial">\n                <span class="label">Trial: </span><span class="count">','</span><span class="of"> of </span><span class="total">',"</span>\n              </div>\n            </div>"])),this.trialCount,this.trialTotal):o$(eNt||(eNt=A([""]))),"feedback"===this.state&&"gamble"===this.response?"selected":"waiting"===this.state?"waiting":"","waiting"!==this.state||!0!==this.interactive,this.gamble.bind(this),"feedback"===this.state&&"sure"===this.response?"selected":"waiting"===this.state?"waiting":"","waiting"!==this.state||!0!==this.interactive,this.sure.bind(this),"none"!==this.feedback||"none"!==this.payoff?o$(nNt||(nNt=A(['\n            <div class="feedbacks">\n              <div class="feedback gamble\n                ','">\n                ',"\n                ",'\n              </div>\n              <div class="feedback sure\n                ','">\n                ',"\n                ","\n              </div>\n            </div>"])),"feedback"===this.state&&"outcome"===this.feedback&&"gamble"===this.response?this.outcome:"","feedback"===this.state&&"outcome"===this.feedback&&"gamble"===this.response?"better"===this.outcome?o$(rNt||(rNt=A(['<span class="outcome">Better</span>']))):"worse"===this.outcome?o$(iNt||(iNt=A(['<span class="outcome">Worse</span>']))):"even"===this.outcome?o$(aNt||(aNt=A(['<span class="outcome">Even</span>']))):o$(oNt||(oNt=A(['<span class="outcome">No<br>Response</span>']))):"","both"!==this.payoff&&"selection"!==this.payoff||"gamble"!==this.response?o$(lNt||(lNt=A([""]))):o$(sNt||(sNt=A(['<span class="payoff">'," ","</span>"])),"gamble"===this.response?"Win:":"Miss:",this.trialPayoff),"feedback"===this.state&&"outcome"===this.feedback&&"sure"===this.response?this.outcome:"","feedback"===this.state&&"outcome"===this.feedback&&"sure"===this.response?"better"===this.outcome?o$(cNt||(cNt=A(['<span class="outcome">Better</span>']))):"worse"===this.outcome?o$(uNt||(uNt=A(['<span class="outcome">Worse</span>']))):"even"===this.outcome?o$(dNt||(dNt=A(['<span class="outcome">Even</span>']))):o$(hNt||(hNt=A(['<span class="outcome">No<br>Response</span>']))):"","both"!==this.payoff&&"selection"!==this.payoff||"sure"!==this.response?o$(fNt||(fNt=A([""]))):o$(gNt||(gNt=A(['<span class="payoff">'," ","</span>"])),"sure"===this.response?"Win:":"Miss:",this.trialPayoff)):o$(pNt||(pNt=A([""]))))}}],[{key:"properties",get:function(){return{feedback:{attribute:"feedback",type:String,reflect:!0},trial:{attribute:"trial",type:Boolean,reflect:!0},payoff:{attribute:"payoff",type:String,reflect:!0},state:{attribute:!1,type:String,reflect:!1},trialCount:{attribute:!1,type:Number,reflect:!1},trialTotal:{attribute:!1,type:Number,reflect:!1}}}},{key:"styles",get:function(){return[B(f(n),"styles",this),_q(vNt||(vNt=A(['\n        :host {\n          display: inline-block;\n        }\n\n        /* Overall container */\n        .holder {\n          display: flex;\n\n          flex-direction: column;\n        }\n\n        /* Trial messages */\n        .trials {\n          display: flex;\n\n          flex-direction: column;\n\n          justify-content: center;\n        }\n\n        .trial {\n          text-align: center;\n        }\n\n        .trial .label {\n          font-weight: 600;\n        }\n\n        /* Response buttons */\n        .responses {\n          display: flex;\n\n          flex-direction: row;\n\n          align-items: stretch;\n          justify-content: center;\n        }\n\n        .response {\n          width: 5.25rem;\n        }\n\n        .waiting[disabled] {\n          --decidable-button-background-color: var(---color-element-enabled);\n        }\n\n        .selected[disabled][name="gamble"] {\n          --decidable-button-background-color: var(---color-worse);\n        }\n\n        .selected[disabled][name="sure"] {\n          --decidable-button-background-color: var(---color-better);\n        }\n\n        /* Feedback messages */\n        .feedbacks {\n          display: flex;\n\n          flex-direction: row;\n\n          justify-content: center;\n        }\n\n        /* Outcome feedback */\n        .feedback {\n          display: flex;\n\n          flex-direction: column;\n\n          align-items: center;\n          justify-content: center;\n\n          width: 5.25rem;\n          height: 3.5rem;\n          padding: 0.375rem 0.75rem;\n          margin: 0.25rem;\n\n          text-align: center;\n\n          background-color: var(---color-element-background);\n          border: 1px solid var(---color-element-border);\n        }\n\n        .feedback.better {\n          background-color: var(---color-better-light);\n        }\n\n        .feedback.worse {\n          background-color: var(---color-worse-light);\n        }\n\n        .feedback.even {\n          background-color: var(---color-even-light);\n        }\n\n        .feedback.nr {\n          background-color: var(---color-nr-light);\n        }\n\n        .feedback .outcome {\n          font-weight: 600;\n          line-height: 1.15;\n        }\n\n        :host([payoff="selection"]) .feedback,\n        :host([payoff="both"]) .feedback {\n          height: 4rem;\n        }\n\n        /* Payoff feedback */\n        .payoff {\n          text-align: center;\n        }\n\n        .payoff .label {\n          font-weight: 600;\n        }\n      '])))]}}]),n}(y9);customElements.define("decision-response",INt),JGt.register([vVt,AZt]);var CNt,xNt,BNt=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).firstUpdate=!0,t.surface=!0,t.points=["all","first","rest","none"],t.point="first",t.updateable=!1,t.a=.8,t.l=1.2,t.g=.8,t.xl=0,t.xw=20,t.pw=.5,t.xs=10,t.response="",t.label="",t.choices=[{name:"default",xw:t.xw,pw:t.pw,xs:t.xs,response:t.response,label:""}],t.GAMBLE=0,t.SURE=1,t.NR=.25,t.DEFAULT=.75,t.pointList=[],t.range={},t.range.xs={start:5,stop:15,step:.5},t.range.xw={start:10,stop:30,step:1},t.range.pw={start:0,stop:1,step:.05},t.width=NaN,t.height=NaN,t.rem=NaN,t.decisionSpace=[],t.alignState(),t}return d(n,[{key:"alignState",value:function(){var t=this;this.choices[0].name="default",this.choices[0].xw=this.xw,this.choices[0].pw=this.pw,this.choices[0].xs=this.xs,this.choices[0].response=this.response,this.choices[0].label=this.label,this.updateable&&(this.choices.forEach((function(e){e.response=I4.xal2v(e.xw,t.a,t.l)*I4.pg2w(e.pw,t.g)+I4.xal2v(t.xl,t.a,t.l)*(1-I4.pg2w(e.pw,t.g))>I4.xal2v(e.xs,t.a,t.l)?"gamble":"sure"})),this.response=this.choices[0].response),this.pointList={xw:[],pw:[],xs:[],response:[],label:[]},this.choices.forEach((function(e,n){(0===n&&("first"===t.point||"all"===t.point)||n>0&&("rest"===t.point||"all"===t.point))&&(t.pointList.xw.push(e.xw),t.pointList.pw.push(e.pw),t.pointList.xs.push(e.xs),t.pointList.response.push("gamble"===e.response?t.GAMBLE:"sure"===e.response?t.SURE:"nr"===e.response?t.NR:t.DEFAULT),t.pointList.label.push(e.label))})),this.decisionSpace={xs:[],xw:[],pw:[],uDiff:[]},V$(this.range.xs.start,this.range.xs.stop+.01,this.range.xs.step).forEach((function(e){V$(t.range.xw.start,t.range.xw.stop+.01,t.range.xw.step).forEach((function(n){V$(t.range.pw.start,t.range.pw.stop+.01,t.range.pw.step).forEach((function(r){t.decisionSpace.xs.push(e),t.decisionSpace.xw.push(n),t.decisionSpace.pw.push(r);var i=I4.xal2v(n,t.a,t.l)*I4.pg2w(r,t.g)+I4.xal2v(t.xl,t.a,t.l)*(1-I4.pg2w(r,t.g))-I4.xal2v(e,t.a,t.l);t.decisionSpace.uDiff.push(i)}))}))}))}},{key:"clear",value:function(){this.choices=[{}],this.requestUpdate()}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",e=this.choices.find((function(e){return e.name===t}));return void 0===e?null:e}},{key:"set",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"default",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";"default"===i&&(this.xw=t,this.pw=e,this.xs=n,this.response=r,this.label=a);var o=this.choices.find((function(t){return t.name===i}));void 0===o?this.choices.push({name:i,xw:t,pw:e,xs:n,response:r,label:a}):(o.xw=t,o.pw=e,o.xs=n,o.response=r,o.label=a),this.requestUpdate()}},{key:"render",value:function(){return o$(yNt||(yNt=A(['\n      <div class="plotly"></div>\n    '])))}},{key:"getDimensions",value:function(){this.width=parseFloat(this.getComputedStyleValue("width"),10),this.height=parseFloat(this.getComputedStyleValue("height"),10),this.rem=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("font-size"),10)}},{key:"connectedCallback",value:function(){B(f(n.prototype),"connectedCallback",this).call(this),window.addEventListener("resize",this.getDimensions.bind(this))}},{key:"disconnectedCallback",value:function(){window.removeEventListener("resize",this.getDimensions.bind(this)),B(f(n.prototype),"disconnectedCallback",this).call(this)}},{key:"firstUpdated",value:function(t){B(f(n.prototype),"firstUpdated",this).call(this,t),window.setTimeout(this.getDimensions.bind(this),0)}},{key:"update",value:function(t){if(B(f(n.prototype),"update",this).call(this,t),this.alignState(),!(Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))){var e=this.getComputedStyleValue("---color-text"),r=this.getComputedStyleValue("---color-element-border"),i=this.getComputedStyleValue("---color-element-background"),a=this.getComputedStyleValue("---color-element-emphasis"),o=this.getComputedStyleValue("---color-worse"),s=this.getComputedStyleValue("---color-better"),l=this.getComputedStyleValue("---color-nr"),c=[];this.surface&&c.push({name:"Decision Boundary",type:"isosurface",x:this.decisionSpace.xs,y:this.decisionSpace.xw,z:this.decisionSpace.pw,value:this.decisionSpace.uDiff,coloraxis:"coloraxis",isomin:0,isomax:0,opacity:.5},{name:"Difference in Subjective Utility",type:"isosurface",x:this.decisionSpace.xs,y:this.decisionSpace.xw,z:this.decisionSpace.pw,value:this.decisionSpace.uDiff,caps:{x:{show:!1},y:{show:!1},z:{show:!1}},coloraxis:"coloraxis",isomin:-30,isomax:30,showscale:!1,slices:{x:{show:!0,locations:[this.range.xs.stop]},y:{show:!0,locations:[this.range.xw.stop]},z:{show:!0,locations:[this.range.pw.start]}},surface:{show:!1}}),c.push({name:"Current Decision",type:"scatter3d",x:this.pointList.xs,y:this.pointList.xw,z:this.pointList.pw,mode:"markers",marker:{color:this.pointList.response,coloraxis:"coloraxis2",line:{color:a,width:2},size:6}});var u={coloraxis:{cmin:-30,cmax:30,colorbar:{title:{font:{size:1.125*this.rem},text:"Difference in Utility (Gamble - Sure)",side:"right"},thickness:16,ypad:32},colorscale:[[0,"rgb(35, 35, 104)"],[.35,"rgb(69,69,208)"],[.5,"rgb(190,190,190)"],[.65,"rgb(240,50,230)"],[1,"rgb(120,25,115)"]]},coloraxis2:{cmin:0,cmax:1,colorscale:[[0,o],[.01,o],[.24,l],[.26,l],[.74,a],[.76,a],[.99,s],[1,s]],showscale:!1},font:{family:'"Source Sans", sans-serif',color:e},margin:{t:0,l:0,b:0},scene:{hovermode:!1,camera:{center:{x:0,y:.1,z:-.2},eye:{x:-2,y:-.8,z:.8}},xaxis:{mirror:!0,showbackground:!0,backgroundcolor:i,showgrid:!1,showspikes:!1,ticks:"outside",tickcolor:r,showline:!0,linecolor:r,zeroline:!1,range:[this.range.xs.start,this.range.xs.stop],title:{text:"Sure Value",font:{size:1.125*this.rem}}},yaxis:{mirror:!0,showbackground:!0,backgroundcolor:i,showgrid:!1,showspikes:!1,ticks:"outside",tickcolor:r,showline:!0,linecolor:r,zeroline:!1,range:[this.range.xw.start,this.range.xw.stop],title:{text:"Win Value",font:{size:1.125*this.rem}}},zaxis:{mirror:!0,showbackground:!0,backgroundcolor:i,showgrid:!1,showspikes:!1,ticks:"outside",tickcolor:r,showline:!0,linecolor:r,zeroline:!1,range:[this.range.pw.start,this.range.pw.stop],title:{text:"Win Probability",font:{size:1.125*this.rem}}}},uirevision:!0};JGt.react(this.shadowRoot.querySelector(".plotly"),c,u,{displaylogo:!1,modeBarButtonsToRemove:["orbitRotation","resetCameraDefault3d","hoverClosest3d","toImage"],responsive:!0}),this.firstUpdate=!1}}}],[{key:"properties",get:function(){return{surface:{attribute:"surface",type:Boolean,reflect:!0},point:{attribute:"point",type:String,reflect:!0},updateable:{attribute:"updateable",type:Boolean,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0},width:{attribute:!1,type:Number,reflect:!1},height:{attribute:!1,type:Number,reflect:!1},rem:{attribute:!1,type:Number,reflect:!1}}}},{key:"styles",get:function(){return[B(f(n),"styles",this),h_t,_q(bNt||(bNt=A(["\n        :host {\n          display: inline-block;\n\n          width: 28rem;\n          height: 20rem;\n        }\n\n        .plotly {\n          height: 100%;\n\n          cursor: grab;\n        }\n\n        /* Plotly modebar styles */\n        /* Drawn from: https://github.com/plotly/plotly.js/blob/master/src/components/modebar/modebar.js */\n        .plotly:hover .modebar .modebar-group {\n          background-color: rgba(255, 255, 255, 0.5);\n        }\n\n        .modebar-btn .icon path {\n          fill: rgba(68, 68, 68, 0.3);\n        }\n\n        .modebar-btn:hover .icon path {\n          fill: rgba(68, 68, 68, 0.7);\n        }\n\n        .modebar-btn.active .icon path {\n          fill: rgba(68, 68, 68, 0.7);\n        }\n      "])))]}}]),n}(y9);customElements.define("decision-space",BNt);var ANt,FNt,QNt,wNt,UNt,GNt,RNt,SNt,LNt=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).duration=2e3,t.iti=2e3,t.trials=5,t.running=!1,t.states=["resetted","iti","stimulus","ended"],t.state="resetted",t.range={},t.range.xl={start:0,stop:0,step:1},t.range.xw={start:10,stop:30,step:1},t.range.pw={start:.1,stop:.9,step:.1},t.range.xs={start:5,stop:15,step:1},t.range.xl.values=V$(t.range.xl.start,t.range.xl.stop+.01,t.range.xl.step),t.range.xw.values=V$(t.range.xw.start,t.range.xw.stop+.01,t.range.xw.step),t.range.pw.values=V$(t.range.pw.start,t.range.pw.stop+.01,t.range.pw.step),t.range.xs.values=V$(t.range.xs.start,t.range.xs.stop+.01,t.range.xs.step),t.firstUpdate=!0,t.xl=0,t.xw=0,t.pw=0,t.xs=0,t.trial=0,t.baseTime=0,t.pauseTime=0,t.startTime=0,t.lastTime=0,t.runner=void 0,t}return d(n,[{key:"render",value:function(){return o$(CNt||(CNt=A(['\n      <div class="holder">\n        <decision-choice state="','" probability="','" win="','" loss="','" sure="','"></decision-choice>\n      </div>'])),"stimulus"===this.state?"choice":"iti"===this.state?"fixation":"blank",this.pw,this.xw,this.xl,this.xs)}},{key:"update",value:function(t){B(f(n.prototype),"update",this).call(this,t),(this.firstUpdate||t.has("running"))&&(this.running?(this.pauseTime&&(this.baseTime+=V2()-this.pauseTime,this.pauseTime=0),this.runner=function(t,e,n){var r=new N2,i=e;return null==e?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(t,e,n){e=+e,n=null==n?V2():+n,r._restart((function a(o){o+=i,r._restart(a,i+=e,n),t(o)}),e,n)},r.restart(t,e,n),r)}(this.run.bind(this),20)):void 0!==this.runner&&(this.runner.stop(),this.pauseTime=V2())),this.firstUpdate=!1}},{key:"reset",value:function(){this.runner.stop(),this.running=!1,this.trial=0,this.state="resetted",this.xl=0,this.xw=0,this.pw=0,this.xs=0,this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0}},{key:"run",value:function(){var t=V2(),e=this.baseTime?t-this.baseTime:0,n=this.baseTime?e-this.startTime:0;this.lastTime=e,"resetted"===this.state?(this.state="iti",this.baseTime=t,this.startTime=0,this.dispatchEvent(new CustomEvent("decision-block-start",{detail:{trials:this.trials},bubbles:!0}))):"iti"===this.state&&n>=this.iti?(this.trial+=1,this.state="stimulus",this.startTime=e,this.xl=this.range.xl.values[Math.floor(Math.random()*this.range.xl.values.length)],this.xw=this.range.xw.values[Math.floor(Math.random()*this.range.xw.values.length)],this.pw=this.range.pw.values[Math.floor(Math.random()*this.range.pw.values.length)],this.xs=this.range.xs.values[Math.floor(Math.random()*this.range.xs.values.length)],this.vDiff=this.xw*this.pw+this.xl*(1-this.pw)-this.xs,this.gamblePayoff=Math.random()<this.pw?this.xw:this.xl,this.surePayoff=this.xs,this.better=this.vDiff>0?"gamble":this.vDiff<0?"sure":"equal",this.dispatchEvent(new CustomEvent("decision-trial-start",{detail:{trials:this.trials,duration:this.duration,iti:this.iti,trial:this.trial,xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,better:this.better,gamblePayoff:this.gamblePayoff,surePayoff:this.surePayoff},bubbles:!0}))):"stimulus"===this.state&&n>=this.duration&&(this.dispatchEvent(new CustomEvent("decision-trial-end",{detail:{trials:this.trials,duration:this.duration,iti:this.iti,trial:this.trial,xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,better:this.better,gamblePayoff:this.gamblePayoff,surePayoff:this.surePayoff},bubbles:!0})),this.trial>=this.trials?(this.runner.stop(),this.running=!1,this.state="ended",this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0,this.dispatchEvent(new CustomEvent("decision-block-end",{detail:{trials:this.trial},bubbles:!0}))):(this.state="iti",this.startTime=e))}}],[{key:"properties",get:function(){return{duration:{attribute:"duration",type:Number,reflect:!0},iti:{attribute:"iti",type:Number,reflect:!0},trials:{attribute:"trials",type:Number,reflect:!0},running:{attribute:"running",type:Boolean,reflect:!0},state:{attribute:!1,type:String,reflect:!1}}}},{key:"styles",get:function(){return[B(f(n),"styles",this),_q(xNt||(xNt=A(["\n        :host {\n          display: inline-block;\n        }\n      "])))]}}]),n}(y9);customElements.define("decision-task",LNt);var _Nt,ENt,kNt,VNt,ZNt,NNt,TNt,XNt,WNt,MNt,HNt,DNt,YNt,ONt,zNt=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).p=.75,t.g=.5,t.alignState(),t}return d(n,[{key:"alignState",value:function(){this.w=I4.pg2w(this.p,this.g)}},{key:"sendEvent",value:function(){this.dispatchEvent(new CustomEvent("cpt-equation-pg2w-change",{detail:{p:this.p,g:this.g,w:this.w},bubbles:!0}))}},{key:"pInput",value:function(t){this.p=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"gInput",value:function(t){this.g=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"render",value:function(){var t,e,n;this.alignState(),this.numeric?(t=o$(ANt||(ANt=A(['<decidable-spinner class="p bottom" ?disabled=',' min="0" max="1" step="0.01" .value="','" @input=','>\n          <var class="math-var">p</var>\n        </decidable-spinner>'])),!this.interactive,this.p,this.pInput.bind(this)),e=o$(FNt||(FNt=A(['<decidable-spinner class="g bottom" ?disabled=',' min="0" max="1" step="0.01" .value="','" @input=','>\n          <var class="math-var">γ</var>\n        </decidable-spinner>'])),!this.interactive,this.g,this.gInput.bind(this)),n=o$(QNt||(QNt=A(['<decidable-spinner class="w bottom" disabled min="0" max="1" step=".01" .value="','">\n          <var class="math-var">w</var>\n        </decidable-spinner>'])),+this.w.toFixed(2))):(t=o$(wNt||(wNt=A(['<var class="math-var p">p</var>']))),e=o$(UNt||(UNt=A(['<var class="math-var g">γ</var>']))),n=o$(GNt||(GNt=A(['<var class="math-var w">w</var>']))));var r=o$(RNt||(RNt=A(['\n      <tr>\n        <td rowspan="2">\n          ','<span class="equals">=</span>\n        </td>\n        <td class="underline">\n          ','<sup class="exp">','</sup>\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <span class="bracket tight">[</span>','<sup class="exp">','</sup><span class="plus">+</span><span class="paren tight">(</span>1<span class="minus">−</span>','<span class="paren tight">)</span><sup class="exp">','</sup><span class="bracket tight">]</span><sup class="exp">1/',"</sup>\n        </td>\n      </tr>"])),n,t,e,t,e,t,e,e);return o$(SNt||(SNt=A(['\n      <div class="holder">\n        <table class="equation">\n          <tbody>\n            ',"\n          </tbody>\n        </table>\n      </div>"])),r)}}],[{key:"properties",get:function(){return{p:{attribute:"probability",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},w:{attribute:!1,type:Number,reflect:!1}}}}]),n}(C4);customElements.define("cpt-equation-pg2w",zNt);var JNt,jNt,PNt,KNt,qNt,$Nt,tTt,eTt,nTt,rTt,iTt=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).v=[10,0],t.w=[.75,.25],t.n=2,t.nMax=4,t.vMax=new Array(t.nMax).fill(0),t.wMax=new Array(t.nMax).fill(0),t.alignState(),t}return d(n,[{key:"alignState",value:function(){var t=this;this.v=this.v.length<this.n?this.v.concat(this.vMax.slice(this.v.length,this.n)):this.v.length>this.n?this.v.slice(0,this.n):this.v,this.w=this.w.length<this.n?this.w.concat(this.wMax.slice(this.w.length,this.n)):this.w.length>this.n?this.w.slice(0,this.n):this.w,this.v.forEach((function(e,n){t.vMax[n]=e})),this.w.forEach((function(e,n){t.wMax[n]=e})),this.u=this.v.reduce((function(e,n,r){return e+n*t.w[r]}),0)}},{key:"sendEvent",value:function(){this.dispatchEvent(new CustomEvent("cpt-equation-vw2u-change",{detail:{v:this.v,w:this.w,n:this.n,u:this.u},bubbles:!0}))}},{key:"vInput",value:function(t,e){this.v[t]=parseFloat(e.target.value),this.alignState(),this.sendEvent()}},{key:"wInput",value:function(t,e){this.w[t]=parseFloat(e.target.value),this.alignState(),this.sendEvent()}},{key:"nInput",value:function(t){this.n=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"vTemplate",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r){var i=Number.parseInt(e,10)-1;t=o$(_Nt||(_Nt=A(['<decidable-spinner class="v" ?disabled=',' .value="','" @input=','>\n          <var class="math-var">v<sub class="subscript ','">',"</sub></var>\n        </decidable-spinner>"])),!this.interactive,this.v[i],this.vInput.bind(this,i),n,e)}else t=o$(ENt||(ENt=A(['<var class="math-var v">v<sub class="subscript ','">',"</sub></var>"])),n,e);return t}},{key:"wTemplate",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r){var i=Number.parseInt(e,10)-1;t=o$(kNt||(kNt=A(['<decidable-spinner class="w" ?disabled=',' min="0" max="1" step=".001" .value="','" @input=','>\n          <var class="math-var">w<sub class="subscript ','">',"</sub></var>\n        </decidable-spinner>"])),!this.interactive,this.w[i],this.wInput.bind(this,i),n,e)}else t=o$(VNt||(VNt=A(['<var class="math-var w">w<sub class="subscript ','">',"</sub></var>"])),n,e);return t}},{key:"render",value:function(){var t,e,n=this;this.alignState(),this.numeric?(t=o$(ZNt||(ZNt=A(['<decidable-spinner class="u" disabled .value="','">\n          <var class="math-var">U</var>\n        </decidable-spinner>'])),+this.u.toFixed(3)),e=o$(NNt||(NNt=A(['<decidable-spinner class="n" ?disabled=',' min="1" max="4" step="1" .value="','" @input=','>\n          <var class="math-var">n</var>\n        </decidable-spinner>'])),!this.interactive,this.n,this.nInput.bind(this))):(t=o$(TNt||(TNt=A(['<var class="math-var u">U</var>']))),e=o$(XNt||(XNt=A(['<var class="math-var subscript">n</var>']))));var r=o$(WNt||(WNt=A(["\n      <tr>\n        <td>\n          ",'<span class="equals">=</span>\n        </td>\n        <td>\n          <div class="summation">\n            <span class="tight">','</span>\n            <span class="tight"><var class="math-greek sigma">Σ</var></span>\n            <span class="tight"><var class="math-var subscript tight">i</var><span class="equals subscript">=</span><span class="subscript tight">1</span></span>\n          </div>\n        </td>\n        <td>\n          ',"&nbsp;",'<span class="equals">=</span>\n        </td>\n        <td>\n          ',"\n        </td>\n      </tr>"])),t,e,this.vTemplate("i","math-var",!1),this.wTemplate("i","math-var",!1),this.numeric?Array(this.nMax).fill().map((function(t,e){return e<n.n?o$(MNt||(MNt=A(['<span class="addend tight" ',">","","&nbsp;","</span>"])),b4({in:u4,out:u4}),o$(0!==e?HNt||(HNt=A(['<span class="plus">+</span>'])):DNt||(DNt=A([""]))),n.vTemplate(e+1,"math-num",!0),n.wTemplate(e+1,"math-num",!0)):null})):o$(YNt||(YNt=A(["","&nbsp;",'<span class="plus">+</span><span class="ellipsis">…</span><span class="plus">+</span>',"&nbsp;",""])),this.vTemplate("1","math-num",!1),this.wTemplate("1","math-num",!1),this.vTemplate("n","math-var",!1),this.wTemplate("n","math-var",!1)));return o$(ONt||(ONt=A(['\n      <div class="holder">\n        <table class="equation">\n          <tbody>\n            ',"\n          </tbody>\n        </table>\n      </div>"])),r)}}],[{key:"properties",get:function(){return{v:{attribute:"value",converter:m9,reflect:!0},w:{attribute:"weight",converter:m9,reflect:!0},n:{attribute:"outcomes",type:Number,reflect:!0},u:{attribute:!1,type:Number,reflect:!1}}}}]),n}(C4);customElements.define("cpt-equation-vw2u",iTt);var aTt,oTt,sTt=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).x=10,t.a=.5,t.l=2,t.alignState(),t}return d(n,[{key:"alignState",value:function(){this.v=I4.xal2v(this.x,this.a,this.l)}},{key:"sendEvent",value:function(){this.dispatchEvent(new CustomEvent("cpt-equation-xal2v-change",{detail:{x:this.x,a:this.a,l:this.l,v:this.v},bubbles:!0}))}},{key:"xInput",value:function(t){this.x=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"aInput",value:function(t){this.a=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"lInput",value:function(t){this.l=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"render",value:function(){var t,e,n,r;this.alignState(),this.numeric?(t=o$(JNt||(JNt=A(['<decidable-spinner class="x bottom" ?disabled=',' step="1" .value="','" @input=','>\n          <var class="math-var">x</var>\n        </decidable-spinner>'])),!this.interactive,this.x,this.xInput.bind(this)),e=o$(jNt||(jNt=A(['<decidable-spinner class="a bottom" ?disabled=',' min="0" max="1" step=".001" .value="','" @input=','>\n          <var class="math-var">α</var>\n        </decidable-spinner>'])),!this.interactive,this.a,this.aInput.bind(this)),n=o$(PNt||(PNt=A(['<decidable-spinner class="l bottom" ?disabled=',' min="0" step=".001" .value="','" @input=','>\n          <var class="math-var">λ</var>\n        </decidable-spinner>'])),!this.interactive,this.l,this.lInput.bind(this)),r=o$(KNt||(KNt=A(['<decidable-spinner class="v bottom" disabled step=".001" .value="','">\n          <var class="math-var">v</var>\n        </decidable-spinner>'])),+this.v.toFixed(3))):(t=o$(qNt||(qNt=A(['<var class="math-var x">x</var>']))),e=o$($Nt||($Nt=A(['<var class="math-var a">α</var>']))),n=o$(tTt||(tTt=A(['<var class="math-var l">λ</var>']))),r=o$(eTt||(eTt=A(['<var class="math-var v">v</var>']))));var i=o$(nTt||(nTt=A(['\n      <tr>\n        <td rowspan="2">\n          ','<span class="equals">=</span><span class="brace tight">{</span>\n        </td>\n        <td class="left">\n          ','<sup class="exp">',"</sup>,&emsp;if ",'<span class="equals">&ge;</span>0\n        </td>\n      </tr>\n      <tr>\n        <td class="left">\n          <span class="minus tight">−</span>','<span class="paren tight">(</span><span class="minus tight">−</span>','<span class="paren tight">)</span><sup class="exp">',"</sup>,&emsp;if ",'<span class="equals">&lt;</span>0\n        </td>\n      </tr>'])),r,t,e,t,n,t,e,t);return o$(rTt||(rTt=A(['\n      <div class="holder">\n        <table class="equation">\n          <tbody>\n            ',"\n          </tbody>\n        </table>\n      </div>"])),i)}}],[{key:"properties",get:function(){return{x:{attribute:"value",type:Number,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},v:{attribute:!1,type:Number,reflect:!1}}}}]),n}(C4);customElements.define("cpt-equation-xal2v",sTt);var lTt=function(t){g(n,t);var e=C(n);function n(){return c(this,n),e.apply(this,arguments)}return d(n,[{key:"render",value:function(){return o$(aTt||(aTt=A(['\n      <div class="holder">\n        <div class="body">\n          <slot>Empty!</slot>\n        </div>\n      </div>'])))}}],[{key:"styles",get:function(){return[B(f(n),"styles",this),_q(oTt||(oTt=A(["\n        :host {\n          ---border: var(--border, 1px solid var(---color-border));\n          display: inline-block;\n\n          /* This makes IE11 happy */\n          width: 100%;\n\n          margin-bottom: 1rem;\n        }\n\n        .holder {\n          display: flex;\n        }\n\n        .body {\n          display: flex;\n\n          flex-wrap: wrap;\n\n          align-items: center;\n          justify-content: left;\n\n          padding: 0.625rem;\n\n          border: var(---border);\n          border-radius: 0.25rem;\n        }\n\n        .body ::slotted(*) {\n          margin: 0.625rem;\n        }\n\n        /* HACK: Sibling selectors not working with ::slotted */\n        /* .body > rdk-task + sdt-response,\n        ::slotted(rdk-task) + ::slotted(sdt-response) { */\n        /* .body ::slotted(sdt-response) {\n          margin-left: 0;\n        } */\n\n        /* HACK: Sibling selectors not working with ::slotted */\n        /* .body > sdt-control + rdk-task,\n        ::slotted(sdt-control) + ::slotted(rdk-task) {\n          margin-left: 0;\n        } */\n        /* .body ::slotted(rdk-task) {\n          margin-left: 0;\n        } */\n      "])))]}}]),n}(y9);customElements.define("cpt-example",lTt);var cTt=function(t){g(n,t);var e=C(n);function n(){return c(this,n),e.apply(this,arguments)}return d(n,[{key:"firstUpdated",value:function(){var t=this;this.cptFit=this.querySelector("cpt-fit"),this.decisionControl=this.querySelector("decision-control"),this.decisionTask=this.querySelector("decision-task"),this.decisionResponse=this.querySelector("decision-response"),this.decisionSpace=this.querySelector("decision-space"),this.cptCalculation=this.querySelector("cpt-calculation"),this.cptProbability=this.querySelector("cpt-probability"),this.cptSpace=this.querySelector("cpt-space"),this.cptValue=this.querySelector("cpt-value"),this.cptFit&&this.cptFit.addEventListener("cpt-fit-update",(function(e){t.cptProbability&&(t.cptProbability.g=e.detail.g),t.cptValue&&(t.cptValue.a=e.detail.a,t.cptValue.l=e.detail.l),t.decisionSpace&&(t.decisionSpace.a=e.detail.a,t.decisionSpace.l=e.detail.l,t.decisionSpace.g=e.detail.g)})),this.decisionControl&&(this.decisionControl.hasAttribute("trials")&&this.decisionControl.addEventListener("decision-control-trials",(function(e){t.decisionTask&&(t.decisionTask.trials=e.detail.trials),t.decisionResponse&&(t.decisionResponse.trialTotal=e.detail.trials)})),this.decisionControl.hasAttribute("duration")&&this.decisionControl.addEventListener("decision-control-duration",(function(e){t.decisionTask&&(t.decisionTask.duration=e.detail.duration,t.decisionTask.iti=e.detail.duration)})),this.decisionControl.hasAttribute("run")&&this.decisionControl.addEventListener("decision-control-run",(function(){t.decisionTask&&(t.decisionTask.running=!0)})),this.decisionControl.hasAttribute("pause")&&this.decisionControl.addEventListener("decision-control-pause",(function(){t.decisionTask&&(t.decisionTask.running=!1)})),this.decisionControl.hasAttribute("reset")&&this.decisionControl.addEventListener("decision-control-reset",(function(){t.decisionTask&&t.decisionTask.reset(),t.decisionResponse&&t.decisionResponse.reset(),t.decisionSpace&&t.decisionSpace.clear(),t.cptFit&&t.cptFit.clear()}))),this.decisionTask&&(this.decisionResponse&&(this.decisionResponse.trialTotal=this.decisionTask.trials),this.decisionTask.addEventListener("decision-trial-start",(function(e){t.decisionResponse&&t.decisionResponse.start(e.detail.xl,e.detail.xw,e.detail.pw,e.detail.xs,e.detail.gamblePayoff,e.detail.surePayoff,e.detail.better,e.detail.trial)})),this.decisionTask.addEventListener("decision-trial-end",(function(){t.decisionResponse&&t.decisionResponse.stop()})),this.decisionTask.addEventListener("decision-block-end",(function(){t.decisionControl&&t.decisionControl.complete()}))),this.decisionResponse&&this.decisionResponse.addEventListener("decision-response",(function(e){t.decisionSpace&&t.decisionSpace.set(e.detail.xw,e.detail.pw,e.detail.xs,e.detail.response,e.detail.trial.toString(),e.detail.trial.toString()),t.cptFit&&t.cptFit.set(e.detail.xl,e.detail.xw,e.detail.pw,e.detail.xs,e.detail.response,e.detail.trial.toString(),e.detail.trial.toString())}))}}]),n}(lTt);customElements.define("cpt-example-human",cTt);var uTt=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).a=.8,t.l=1.2,t.g=.8,t.xl=0,t.xw=20,t.pw=.5,t.xs=10,t.cptCalculation=null,t.cptProbability=null,t.cptSpace=null,t.cptValue=null,t.decisionChoice=null,t.decisionSpace=null,t}return d(n,[{key:"firstUpdated",value:function(){var t=this;this.cptCalculation=this.querySelector("cpt-calculation"),this.cptProbability=this.querySelector("cpt-probability"),this.cptSpace=this.querySelector("cpt-space"),this.cptValue=this.querySelector("cpt-value"),this.decisionChoice=this.querySelector("decision-choice"),this.decisionSpace=this.querySelector("decision-space"),this.cptCalculation&&this.cptCalculation.addEventListener("cpt-calculation-change",(function(e){t.a=e.detail.a,t.l=e.detail.l,t.g=e.detail.g,t.xl=e.detail.xl,t.xw=e.detail.xw,t.pw=e.detail.pw,t.xs=e.detail.xs})),this.cptProbability&&this.cptProbability.addEventListener("cpt-probability-change",(function(e){t.g=e.detail.g,t.pw=e.detail.p})),this.cptValue&&this.cptValue.addEventListener("cpt-value-change",(function(e){t.a=e.detail.a,t.l=e.detail.l,"default"===e.detail.name?t.xs=e.detail.x:"gamble"===e.detail.name&&(t.xw=e.detail.x)})),this.decisionChoice&&this.decisionChoice.addEventListener("decision-choice-change",(function(e){t.xl=e.detail.xl,t.xw=e.detail.xw,t.pw=e.detail.pw,t.xs=e.detail.xs})),this.requestUpdate()}},{key:"update",value:function(t){B(f(n.prototype),"update",this).call(this,t),this.cptCalculation&&(this.cptCalculation.a=this.a,this.cptCalculation.l=this.l,this.cptCalculation.g=this.g,this.cptCalculation.xl=this.xl,this.cptCalculation.xw=this.xw,this.cptCalculation.pw=this.pw,this.cptCalculation.xs=this.xs),this.cptProbability&&this.cptProbability.set(this.pw,this.g,"default",""),this.cptSpace&&(this.cptSpace.a=this.a,this.cptSpace.l=this.l,this.cptSpace.g=this.g,this.cptSpace.xl=this.xl,this.cptSpace.xw=this.xw,this.cptSpace.pw=this.pw,this.cptSpace.xs=this.xs),this.cptValue&&(this.cptValue.set(this.xs,this.a,this.l,"default","s"),this.cptValue.set(this.xw,this.a,this.l,"gamble","g")),this.decisionChoice&&(this.decisionChoice.xl=this.xl,this.decisionChoice.xw=this.xw,this.decisionChoice.pw=this.pw,this.decisionChoice.xs=this.xs),this.decisionSpace&&(this.decisionSpace.a=this.a,this.decisionSpace.l=this.l,this.decisionSpace.g=this.g,this.decisionSpace.xl=this.xl,this.decisionSpace.xw=this.xw,this.decisionSpace.pw=this.pw,this.decisionSpace.xs=this.xs)}}],[{key:"properties",get:function(){return{a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0}}}}]),n}(lTt);customElements.define("cpt-example-interactive",uTt);var dTt=function(t){g(n,t);var e=C(n);function n(){var t;return c(this,n),(t=e.call(this)).a=.8,t.l=1.2,t.g=.8,t.xl=0,t.xw=20,t.pw=.5,t.xs=10,t.cptCalculation=null,t.cptProbability=null,t.cptSpace=null,t.cptValue=null,t.decisionControl=null,t.decisionResponse=null,t.decisionSpace=null,t.decisionTask=null,t}return d(n,[{key:"firstUpdated",value:function(){var t=this;this.cptCalculation=this.querySelector("cpt-calculation"),this.cptProbability=this.querySelector("cpt-probability"),this.cptSpace=this.querySelector("cpt-space"),this.cptValue=this.querySelector("cpt-value"),this.decisionControl=this.querySelector("decision-control"),this.decisionResponse=this.querySelector("decision-response"),this.decisionSpace=this.querySelector("decision-space"),this.decisionTask=this.querySelector("decision-task"),this.cptProbability&&(this.cptProbability.addEventListener("cpt-probability-change",(function(e){t.g=e.detail.g})),this.cptProbability.addEventListener("decision-response",(function(e){t.decisionResponse&&t.decisionResponse.responded(e.detail.response),t.decisionSpace&&t.decisionSpace.set(e.detail.xw,e.detail.pw,e.detail.xs,e.detail.response,e.detail.trial.toString(),e.detail.trial.toString())}))),this.cptValue&&(this.cptValue.addEventListener("cpt-value-change",(function(e){t.a=e.detail.a,t.l=e.detail.l})),this.cptProbability||this.cptValue.addEventListener("decision-response",(function(e){t.decisionResponse&&t.decisionResponse.responded(e.detail.response),t.decisionSpace&&t.decisionSpace.set(e.detail.xw,e.detail.pw,e.detail.xs,e.detail.response,e.detail.trial.toString(),e.detail.trial.toString())}))),this.decisionControl&&(this.decisionControl.hasAttribute("trials")&&this.decisionControl.addEventListener("decision-control-trials",(function(e){t.decisionTask&&(t.decisionTask.trials=e.detail.trials),t.decisionResponse&&(t.decisionResponse.trialTotal=e.detail.trials)})),this.decisionControl.hasAttribute("duration")&&this.decisionControl.addEventListener("decision-control-duration",(function(e){t.decisionTask&&(t.decisionTask.duration=e.detail.duration,t.decisionTask.iti=e.detail.duration)})),this.decisionControl.hasAttribute("run")&&this.decisionControl.addEventListener("decision-control-run",(function(){t.cptProbability&&t.cptProbability.resumeTrial(),t.cptValue&&t.cptValue.resumeTrial(),t.decisionTask&&(t.decisionTask.running=!0)})),this.decisionControl.hasAttribute("pause")&&this.decisionControl.addEventListener("decision-control-pause",(function(){t.cptProbability&&t.cptProbability.pauseTrial(),t.cptValue&&t.cptValue.pauseTrial(),t.decisionTask&&(t.decisionTask.running=!1)})),this.decisionControl.hasAttribute("reset")&&this.decisionControl.addEventListener("decision-control-reset",(function(){t.cptProbability&&t.cptProbability.clear(),t.cptValue&&t.cptValue.clear(),t.decisionTask&&t.decisionTask.reset(),t.decisionResponse&&t.decisionResponse.reset(),t.decisionSpace&&t.decisionSpace.clear()}))),this.decisionTask&&(this.decisionResponse&&(this.decisionResponse.trialTotal=this.decisionTask.trials),this.decisionTask.addEventListener("decision-trial-start",(function(e){t.decisionResponse&&t.decisionResponse.start(e.detail.xl,e.detail.xw,e.detail.pw,e.detail.xs,e.detail.gamblePayoff,e.detail.surePayoff,e.detail.better,e.detail.trial),t.vw=I4.xal2v(t.xw,t.a,t.l),t.vl=I4.xal2v(t.xl,t.a,t.l),t.ww=I4.pg2w(t.pw,t.g),t.wl=1-t.ww,t.vs=I4.xal2v(t.xs,t.a,t.l),t.ug=t.vw*t.ww+t.vl*t.wl,t.us=t.vs;var n=I4.xal2v(e.detail.xw,t.a,t.l)*I4.pg2w(e.detail.pw,t.g)+I4.xal2v(e.detail.xl,t.a,t.l)*(1-I4.pg2w(e.detail.pw,t.g))>I4.xal2v(e.detail.xs,t.a,t.l)?"gamble":"sure";t.cptProbability&&t.cptProbability.trial(e.detail.xl,e.detail.xw,e.detail.pw,e.detail.xs,e.detail.trial,n),t.cptValue&&t.cptValue.trial(e.detail.xl,e.detail.xw,e.detail.pw,e.detail.xs,e.detail.trial,n)})),this.decisionTask.addEventListener("decision-trial-end",(function(){t.decisionResponse&&t.decisionResponse.stop()})),this.decisionTask.addEventListener("decision-block-end",(function(){t.decisionControl&&t.decisionControl.complete()}))),this.requestUpdate()}},{key:"update",value:function(t){B(f(n.prototype),"update",this).call(this,t),this.cptCalculation&&(this.cptCalculation.a=this.a,this.cptCalculation.l=this.l,this.cptCalculation.g=this.g),this.cptProbability&&(this.cptProbability.g=this.g),this.cptSpace&&(this.cptSpace.a=this.a,this.cptSpace.l=this.l,this.cptSpace.g=this.g),this.cptValue&&(this.cptValue.a=this.a,this.cptValue.l=this.l),this.decisionSpace&&(this.decisionSpace.a=this.a,this.decisionSpace.l=this.l,this.decisionSpace.g=this.g)}}],[{key:"properties",get:function(){return{a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0}}}}]),n}(lTt);customElements.define("cpt-example-model",dTt)}();
//# sourceMappingURL=index.js.map