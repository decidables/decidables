var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},check=function(t){return t&&t.Math===Math&&t},globalThis_1=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof commonjsGlobal&&commonjsGlobal)||check("object"==typeof globalThis_1&&globalThis_1)||function(){return this}()||Function("return this")(),objectGetOwnPropertyDescriptor={},fails$o=function(t){try{return!!t()}catch(t){return!0}},fails$n=fails$o,descriptors=!fails$n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),fails$m=fails$o,functionBindNative=!fails$m((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),NATIVE_BIND$3=functionBindNative,call$k=Function.prototype.call,functionCall=NATIVE_BIND$3?call$k.bind(call$k):function(){return call$k.apply(call$k,arguments)},objectPropertyIsEnumerable={},$propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$2&&!$propertyIsEnumerable.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function(t){var e=getOwnPropertyDescriptor$2(this,t);return!!e&&e.enumerable}:$propertyIsEnumerable;var match,version,createPropertyDescriptor$5=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},NATIVE_BIND$2=functionBindNative,FunctionPrototype$2=Function.prototype,call$j=FunctionPrototype$2.call,uncurryThisWithBind=NATIVE_BIND$2&&FunctionPrototype$2.bind.bind(call$j,call$j),functionUncurryThis=NATIVE_BIND$2?uncurryThisWithBind:function(t){return function(){return call$j.apply(t,arguments)}},uncurryThis$s=functionUncurryThis,toString$9=uncurryThis$s({}.toString),stringSlice$1=uncurryThis$s("".slice),classofRaw$2=function(t){return stringSlice$1(toString$9(t),8,-1)},uncurryThis$r=functionUncurryThis,fails$l=fails$o,classof$a=classofRaw$2,$Object$4=Object,split=uncurryThis$r("".split),indexedObject=fails$l((function(){return!$Object$4("z").propertyIsEnumerable(0)}))?function(t){return"String"===classof$a(t)?split(t,""):$Object$4(t)}:$Object$4,isNullOrUndefined$4=function(t){return null==t},isNullOrUndefined$3=isNullOrUndefined$4,$TypeError$j=TypeError,requireObjectCoercible$7=function(t){if(isNullOrUndefined$3(t))throw new $TypeError$j("Can't call method on "+t);return t},IndexedObject=indexedObject,requireObjectCoercible$6=requireObjectCoercible$7,toIndexedObject$8=function(t){return IndexedObject(requireObjectCoercible$6(t))},documentAll="object"==typeof document&&document.all,isCallable$k=void 0===documentAll&&void 0!==documentAll?function(t){return"function"==typeof t||t===documentAll}:function(t){return"function"==typeof t},isCallable$j=isCallable$k,isObject$c=function(t){return"object"==typeof t?null!==t:isCallable$j(t)},globalThis$t=globalThis_1,isCallable$i=isCallable$k,aFunction=function(t){return isCallable$i(t)?t:void 0},getBuiltIn$a=function(t,e){return arguments.length<2?aFunction(globalThis$t[t]):globalThis$t[t]&&globalThis$t[t][e]},uncurryThis$q=functionUncurryThis,objectIsPrototypeOf=uncurryThis$q({}.isPrototypeOf),globalThis$s=globalThis_1,navigator$1=globalThis$s.navigator,userAgent$3=navigator$1&&navigator$1.userAgent,environmentUserAgent=userAgent$3?String(userAgent$3):"",globalThis$r=globalThis_1,userAgent$2=environmentUserAgent,process$1=globalThis$r.process,Deno$1=globalThis$r.Deno,versions=process$1&&process$1.versions||Deno$1&&Deno$1.version,v8=versions&&versions.v8;v8&&(version=(match=v8.split("."))[0]>0&&match[0]<4?1:+(match[0]+match[1])),!version&&userAgent$2&&(!(match=userAgent$2.match(/Edge\/(\d+)/))||match[1]>=74)&&(match=userAgent$2.match(/Chrome\/(\d+)/))&&(version=+match[1]);var environmentV8Version=version,V8_VERSION=environmentV8Version,fails$k=fails$o,globalThis$q=globalThis_1,$String$5=globalThis$q.String,symbolConstructorDetection=!!Object.getOwnPropertySymbols&&!fails$k((function(){var t=Symbol("symbol detection");return!$String$5(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&V8_VERSION&&V8_VERSION<41})),NATIVE_SYMBOL$1=symbolConstructorDetection,useSymbolAsUid=NATIVE_SYMBOL$1&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,getBuiltIn$9=getBuiltIn$a,isCallable$h=isCallable$k,isPrototypeOf$4=objectIsPrototypeOf,USE_SYMBOL_AS_UID$1=useSymbolAsUid,$Object$3=Object,isSymbol$4=USE_SYMBOL_AS_UID$1?function(t){return"symbol"==typeof t}:function(t){var e=getBuiltIn$9("Symbol");return isCallable$h(e)&&isPrototypeOf$4(e.prototype,$Object$3(t))},$String$4=String,tryToString$4=function(t){try{return $String$4(t)}catch(t){return"Object"}},isCallable$g=isCallable$k,tryToString$3=tryToString$4,$TypeError$i=TypeError,aCallable$j=function(t){if(isCallable$g(t))return t;throw new $TypeError$i(tryToString$3(t)+" is not a function")},aCallable$i=aCallable$j,isNullOrUndefined$2=isNullOrUndefined$4,getMethod$4=function(t,e){var i=t[e];return isNullOrUndefined$2(i)?void 0:aCallable$i(i)},call$i=functionCall,isCallable$f=isCallable$k,isObject$b=isObject$c,$TypeError$h=TypeError,ordinaryToPrimitive$1=function(t,e){var i,s;if("string"===e&&isCallable$f(i=t.toString)&&!isObject$b(s=call$i(i,t)))return s;if(isCallable$f(i=t.valueOf)&&!isObject$b(s=call$i(i,t)))return s;if("string"!==e&&isCallable$f(i=t.toString)&&!isObject$b(s=call$i(i,t)))return s;throw new $TypeError$h("Can't convert object to primitive value")},sharedStore={exports:{}},isPure=!1,globalThis$p=globalThis_1,defineProperty$4=Object.defineProperty,defineGlobalProperty$3=function(t,e){try{defineProperty$4(globalThis$p,t,{value:e,configurable:!0,writable:!0})}catch(i){globalThis$p[t]=e}return e},globalThis$o=globalThis_1,defineGlobalProperty$2=defineGlobalProperty$3,SHARED="__core-js_shared__",store$3=sharedStore.exports=globalThis$o[SHARED]||defineGlobalProperty$2(SHARED,{});(store$3.versions||(store$3.versions=[])).push({version:"3.40.0",mode:"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.40.0/LICENSE",source:"https://github.com/zloirock/core-js"});var sharedStoreExports=sharedStore.exports,store$2=sharedStoreExports,shared$3=function(t,e){return store$2[t]||(store$2[t]=e||{})},requireObjectCoercible$5=requireObjectCoercible$7,$Object$2=Object,toObject$5=function(t){return $Object$2(requireObjectCoercible$5(t))},uncurryThis$p=functionUncurryThis,toObject$4=toObject$5,hasOwnProperty=uncurryThis$p({}.hasOwnProperty),hasOwnProperty_1=Object.hasOwn||function(t,e){return hasOwnProperty(toObject$4(t),e)},uncurryThis$o=functionUncurryThis,id$1=0,postfix=Math.random(),toString$8=uncurryThis$o(1..toString),uid$4=function(t){return"Symbol("+(void 0===t?"":t)+")_"+toString$8(++id$1+postfix,36)},globalThis$n=globalThis_1,shared$2=shared$3,hasOwn$d=hasOwnProperty_1,uid$3=uid$4,NATIVE_SYMBOL=symbolConstructorDetection,USE_SYMBOL_AS_UID=useSymbolAsUid,Symbol$1=globalThis$n.Symbol,WellKnownSymbolsStore=shared$2("wks"),createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol$1.for||Symbol$1:Symbol$1&&Symbol$1.withoutSetter||uid$3,wellKnownSymbol$b=function(t){return hasOwn$d(WellKnownSymbolsStore,t)||(WellKnownSymbolsStore[t]=NATIVE_SYMBOL&&hasOwn$d(Symbol$1,t)?Symbol$1[t]:createWellKnownSymbol("Symbol."+t)),WellKnownSymbolsStore[t]},call$h=functionCall,isObject$a=isObject$c,isSymbol$3=isSymbol$4,getMethod$3=getMethod$4,ordinaryToPrimitive=ordinaryToPrimitive$1,wellKnownSymbol$a=wellKnownSymbol$b,$TypeError$g=TypeError,TO_PRIMITIVE=wellKnownSymbol$a("toPrimitive"),toPrimitive$2=function(t,e){if(!isObject$a(t)||isSymbol$3(t))return t;var i,s=getMethod$3(t,TO_PRIMITIVE);if(s){if(void 0===e&&(e="default"),i=call$h(s,t,e),!isObject$a(i)||isSymbol$3(i))return i;throw new $TypeError$g("Can't convert object to primitive value")}return void 0===e&&(e="number"),ordinaryToPrimitive(t,e)},toPrimitive$1=toPrimitive$2,isSymbol$2=isSymbol$4,toPropertyKey$3=function(t){var e=toPrimitive$1(t,"string");return isSymbol$2(e)?e:e+""},globalThis$m=globalThis_1,isObject$9=isObject$c,document$1=globalThis$m.document,EXISTS$1=isObject$9(document$1)&&isObject$9(document$1.createElement),documentCreateElement$1=function(t){return EXISTS$1?document$1.createElement(t):{}},DESCRIPTORS$g=descriptors,fails$j=fails$o,createElement$1=documentCreateElement$1,ie8DomDefine=!DESCRIPTORS$g&&!fails$j((function(){return 7!==Object.defineProperty(createElement$1("div"),"a",{get:function(){return 7}}).a})),DESCRIPTORS$f=descriptors,call$g=functionCall,propertyIsEnumerableModule=objectPropertyIsEnumerable,createPropertyDescriptor$4=createPropertyDescriptor$5,toIndexedObject$7=toIndexedObject$8,toPropertyKey$2=toPropertyKey$3,hasOwn$c=hasOwnProperty_1,IE8_DOM_DEFINE$1=ie8DomDefine,$getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$f?$getOwnPropertyDescriptor$1:function(t,e){if(t=toIndexedObject$7(t),e=toPropertyKey$2(e),IE8_DOM_DEFINE$1)try{return $getOwnPropertyDescriptor$1(t,e)}catch(t){}if(hasOwn$c(t,e))return createPropertyDescriptor$4(!call$g(propertyIsEnumerableModule.f,t,e),t[e])};var objectDefineProperty={},DESCRIPTORS$e=descriptors,fails$i=fails$o,v8PrototypeDefineBug=DESCRIPTORS$e&&fails$i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),isObject$8=isObject$c,$String$3=String,$TypeError$f=TypeError,anObject$o=function(t){if(isObject$8(t))return t;throw new $TypeError$f($String$3(t)+" is not an object")},DESCRIPTORS$d=descriptors,IE8_DOM_DEFINE=ie8DomDefine,V8_PROTOTYPE_DEFINE_BUG$1=v8PrototypeDefineBug,anObject$n=anObject$o,toPropertyKey$1=toPropertyKey$3,$TypeError$e=TypeError,$defineProperty=Object.defineProperty,$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,ENUMERABLE="enumerable",CONFIGURABLE$1="configurable",WRITABLE="writable";objectDefineProperty.f=DESCRIPTORS$d?V8_PROTOTYPE_DEFINE_BUG$1?function(t,e,i){if(anObject$n(t),e=toPropertyKey$1(e),anObject$n(i),"function"==typeof t&&"prototype"===e&&"value"in i&&WRITABLE in i&&!i[WRITABLE]){var s=$getOwnPropertyDescriptor(t,e);s&&s[WRITABLE]&&(t[e]=i.value,i={configurable:CONFIGURABLE$1 in i?i[CONFIGURABLE$1]:s[CONFIGURABLE$1],enumerable:ENUMERABLE in i?i[ENUMERABLE]:s[ENUMERABLE],writable:!1})}return $defineProperty(t,e,i)}:$defineProperty:function(t,e,i){if(anObject$n(t),e=toPropertyKey$1(e),anObject$n(i),IE8_DOM_DEFINE)try{return $defineProperty(t,e,i)}catch(t){}if("get"in i||"set"in i)throw new $TypeError$e("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var DESCRIPTORS$c=descriptors,definePropertyModule$4=objectDefineProperty,createPropertyDescriptor$3=createPropertyDescriptor$5,createNonEnumerableProperty$5=DESCRIPTORS$c?function(t,e,i){return definePropertyModule$4.f(t,e,createPropertyDescriptor$3(1,i))}:function(t,e,i){return t[e]=i,t},makeBuiltIn$3={exports:{}},DESCRIPTORS$b=descriptors,hasOwn$b=hasOwnProperty_1,FunctionPrototype$1=Function.prototype,getDescriptor=DESCRIPTORS$b&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn$b(FunctionPrototype$1,"name"),CONFIGURABLE=EXISTS&&(!DESCRIPTORS$b||DESCRIPTORS$b&&getDescriptor(FunctionPrototype$1,"name").configurable),functionName={CONFIGURABLE:CONFIGURABLE},uncurryThis$n=functionUncurryThis,isCallable$e=isCallable$k,store$1=sharedStoreExports,functionToString=uncurryThis$n(Function.toString);isCallable$e(store$1.inspectSource)||(store$1.inspectSource=function(t){return functionToString(t)});var set$4,get$3,has$7,inspectSource$2=store$1.inspectSource,globalThis$l=globalThis_1,isCallable$d=isCallable$k,WeakMap$2=globalThis$l.WeakMap,weakMapBasicDetection=isCallable$d(WeakMap$2)&&/native code/.test(String(WeakMap$2)),shared$1=shared$3,uid$2=uid$4,keys$1=shared$1("keys"),sharedKey$3=function(t){return keys$1[t]||(keys$1[t]=uid$2(t))},hiddenKeys$4={},NATIVE_WEAK_MAP=weakMapBasicDetection,globalThis$k=globalThis_1,isObject$7=isObject$c,createNonEnumerableProperty$4=createNonEnumerableProperty$5,hasOwn$a=hasOwnProperty_1,shared=sharedStoreExports,sharedKey$2=sharedKey$3,hiddenKeys$3=hiddenKeys$4,OBJECT_ALREADY_INITIALIZED="Object already initialized",TypeError$4=globalThis$k.TypeError,WeakMap$1=globalThis$k.WeakMap,enforce=function(t){return has$7(t)?get$3(t):set$4(t,{})},getterFor=function(t){return function(e){var i;if(!isObject$7(e)||(i=get$3(e)).type!==t)throw new TypeError$4("Incompatible receiver, "+t+" required");return i}};if(NATIVE_WEAK_MAP||shared.state){var store=shared.state||(shared.state=new WeakMap$1);store.get=store.get,store.has=store.has,store.set=store.set,set$4=function(t,e){if(store.has(t))throw new TypeError$4(OBJECT_ALREADY_INITIALIZED);return e.facade=t,store.set(t,e),e},get$3=function(t){return store.get(t)||{}},has$7=function(t){return store.has(t)}}else{var STATE=sharedKey$2("state");hiddenKeys$3[STATE]=!0,set$4=function(t,e){if(hasOwn$a(t,STATE))throw new TypeError$4(OBJECT_ALREADY_INITIALIZED);return e.facade=t,createNonEnumerableProperty$4(t,STATE,e),e},get$3=function(t){return hasOwn$a(t,STATE)?t[STATE]:{}},has$7=function(t){return hasOwn$a(t,STATE)}}var internalState={set:set$4,get:get$3,has:has$7,enforce:enforce,getterFor:getterFor},uncurryThis$m=functionUncurryThis,fails$h=fails$o,isCallable$c=isCallable$k,hasOwn$9=hasOwnProperty_1,DESCRIPTORS$a=descriptors,CONFIGURABLE_FUNCTION_NAME=functionName.CONFIGURABLE,inspectSource$1=inspectSource$2,InternalStateModule$2=internalState,enforceInternalState$1=InternalStateModule$2.enforce,getInternalState$1=InternalStateModule$2.get,$String$2=String,defineProperty$3=Object.defineProperty,stringSlice=uncurryThis$m("".slice),replace$1=uncurryThis$m("".replace),join$1=uncurryThis$m([].join),CONFIGURABLE_LENGTH=DESCRIPTORS$a&&!fails$h((function(){return 8!==defineProperty$3((function(){}),"length",{value:8}).length})),TEMPLATE=String(String).split("String"),makeBuiltIn$2=makeBuiltIn$3.exports=function(t,e,i){"Symbol("===stringSlice($String$2(e),0,7)&&(e="["+replace$1($String$2(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),i&&i.getter&&(e="get "+e),i&&i.setter&&(e="set "+e),(!hasOwn$9(t,"name")||CONFIGURABLE_FUNCTION_NAME&&t.name!==e)&&(DESCRIPTORS$a?defineProperty$3(t,"name",{value:e,configurable:!0}):t.name=e),CONFIGURABLE_LENGTH&&i&&hasOwn$9(i,"arity")&&t.length!==i.arity&&defineProperty$3(t,"length",{value:i.arity});try{i&&hasOwn$9(i,"constructor")&&i.constructor?DESCRIPTORS$a&&defineProperty$3(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var s=enforceInternalState$1(t);return hasOwn$9(s,"source")||(s.source=join$1(TEMPLATE,"string"==typeof e?e:"")),t};Function.prototype.toString=makeBuiltIn$2((function(){return isCallable$c(this)&&getInternalState$1(this).source||inspectSource$1(this)}),"toString");var makeBuiltInExports=makeBuiltIn$3.exports,isCallable$b=isCallable$k,definePropertyModule$3=objectDefineProperty,makeBuiltIn$1=makeBuiltInExports,defineGlobalProperty$1=defineGlobalProperty$3,defineBuiltIn$6=function(t,e,i,s){s||(s={});var B=s.enumerable,n=void 0!==s.name?s.name:e;if(isCallable$b(i)&&makeBuiltIn$1(i,n,s),s.global)B?t[e]=i:defineGlobalProperty$1(e,i);else{try{s.unsafe?t[e]&&(B=!0):delete t[e]}catch(t){}B?t[e]=i:definePropertyModule$3.f(t,e,{value:i,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t},objectGetOwnPropertyNames={},ceil=Math.ceil,floor=Math.floor,mathTrunc=Math.trunc||function(t){var e=+t;return(e>0?floor:ceil)(e)},trunc=mathTrunc,toIntegerOrInfinity$8=function(t){var e=+t;return e!=e||0===e?0:trunc(e)},toIntegerOrInfinity$7=toIntegerOrInfinity$8,max$3=Math.max,min$5=Math.min,toAbsoluteIndex$2=function(t,e){var i=toIntegerOrInfinity$7(t);return i<0?max$3(i+e,0):min$5(i,e)},toIntegerOrInfinity$6=toIntegerOrInfinity$8,min$4=Math.min,toLength$2=function(t){var e=toIntegerOrInfinity$6(t);return e>0?min$4(e,9007199254740991):0},toLength$1=toLength$2,lengthOfArrayLike$9=function(t){return toLength$1(t.length)},toIndexedObject$6=toIndexedObject$8,toAbsoluteIndex$1=toAbsoluteIndex$2,lengthOfArrayLike$8=lengthOfArrayLike$9,createMethod=function(t){return function(e,i,s){var B=toIndexedObject$6(e),n=lengthOfArrayLike$8(B);if(0===n)return!t&&-1;var l,Q=toAbsoluteIndex$1(s,n);if(t&&i!=i){for(;n>Q;)if((l=B[Q++])!=l)return!0}else for(;n>Q;Q++)if((t||Q in B)&&B[Q]===i)return t||Q||0;return!t&&-1}},arrayIncludes={indexOf:createMethod(!1)},uncurryThis$l=functionUncurryThis,hasOwn$8=hasOwnProperty_1,toIndexedObject$5=toIndexedObject$8,indexOf$1=arrayIncludes.indexOf,hiddenKeys$2=hiddenKeys$4,push$5=uncurryThis$l([].push),objectKeysInternal=function(t,e){var i,s=toIndexedObject$5(t),B=0,n=[];for(i in s)!hasOwn$8(hiddenKeys$2,i)&&hasOwn$8(s,i)&&push$5(n,i);for(;e.length>B;)hasOwn$8(s,i=e[B++])&&(~indexOf$1(n,i)||push$5(n,i));return n},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,hiddenKeys$1=enumBugKeys$2.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function(t){return internalObjectKeys$1(t,hiddenKeys$1)};var objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var getBuiltIn$8=getBuiltIn$a,uncurryThis$k=functionUncurryThis,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,anObject$m=anObject$o,concat=uncurryThis$k([].concat),ownKeys$1=getBuiltIn$8("Reflect","ownKeys")||function(t){var e=getOwnPropertyNamesModule.f(anObject$m(t)),i=getOwnPropertySymbolsModule.f;return i?concat(e,i(t)):e},hasOwn$7=hasOwnProperty_1,ownKeys=ownKeys$1,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,definePropertyModule$2=objectDefineProperty,copyConstructorProperties$1=function(t,e,i){for(var s=ownKeys(e),B=definePropertyModule$2.f,n=getOwnPropertyDescriptorModule.f,l=0;l<s.length;l++){var Q=s[l];hasOwn$7(t,Q)||i&&hasOwn$7(i,Q)||B(t,Q,n(e,Q))}},fails$g=fails$o,isCallable$a=isCallable$k,replacement=/#|\.prototype\./,isForced$1=function(t,e){var i=data[normalize$1(t)];return i===POLYFILL||i!==NATIVE&&(isCallable$a(e)?fails$g(e):!!e)},normalize$1=isForced$1.normalize=function(t){return String(t).replace(replacement,".").toLowerCase()},data=isForced$1.data={},NATIVE=isForced$1.NATIVE="N",POLYFILL=isForced$1.POLYFILL="P",isForced_1=isForced$1,globalThis$j=globalThis_1,getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,createNonEnumerableProperty$3=createNonEnumerableProperty$5,defineBuiltIn$5=defineBuiltIn$6,defineGlobalProperty=defineGlobalProperty$3,copyConstructorProperties=copyConstructorProperties$1,isForced=isForced_1,_export=function(t,e){var i,s,B,n,l,Q=t.target,F=t.global,c=t.stat;if(i=F?globalThis$j:c?globalThis$j[Q]||defineGlobalProperty(Q,{}):globalThis$j[Q]&&globalThis$j[Q].prototype)for(s in e){if(n=e[s],B=t.dontCallGetSet?(l=getOwnPropertyDescriptor$1(i,s))&&l.value:i[s],!isForced(F?s:Q+(c?".":"#")+s,t.forced)&&void 0!==B){if(typeof n==typeof B)continue;copyConstructorProperties(n,B)}(t.sham||B&&B.sham)&&createNonEnumerableProperty$3(n,"sham",!0),defineBuiltIn$5(i,s,n,t)}},classof$9=classofRaw$2,isArray$2=Array.isArray||function(t){return"Array"===classof$9(t)},DESCRIPTORS$9=descriptors,isArray$1=isArray$2,$TypeError$d=TypeError,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,SILENT_ON_NON_WRITABLE_LENGTH_SET=DESCRIPTORS$9&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),arraySetLength=SILENT_ON_NON_WRITABLE_LENGTH_SET?function(t,e){if(isArray$1(t)&&!getOwnPropertyDescriptor(t,"length").writable)throw new $TypeError$d("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},$TypeError$c=TypeError,MAX_SAFE_INTEGER=9007199254740991,doesNotExceedSafeInteger$3=function(t){if(t>MAX_SAFE_INTEGER)throw $TypeError$c("Maximum allowed index exceeded");return t},$$F=_export,toObject$3=toObject$5,lengthOfArrayLike$7=lengthOfArrayLike$9,setArrayLength$1=arraySetLength,doesNotExceedSafeInteger$2=doesNotExceedSafeInteger$3,fails$f=fails$o,INCORRECT_TO_LENGTH=fails$f((function(){return 4294967297!==[].push.call({length:4294967296},1)})),properErrorOnNonWritableLength$1=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},FORCED$4=INCORRECT_TO_LENGTH||!properErrorOnNonWritableLength$1();$$F({target:"Array",proto:!0,arity:1,forced:FORCED$4},{push:function(t){var e=toObject$3(this),i=lengthOfArrayLike$7(e),s=arguments.length;doesNotExceedSafeInteger$2(i+s);for(var B=0;B<s;B++)e[i]=arguments[B],i++;return setArrayLength$1(e,i),i}});var lengthOfArrayLike$6=lengthOfArrayLike$9,arrayToReversed$2=function(t,e){for(var i=lengthOfArrayLike$6(t),s=new e(i),B=0;B<i;B++)s[B]=t[i-B-1];return s},objectDefineProperties={},internalObjectKeys=objectKeysInternal,enumBugKeys$1=enumBugKeys$3,objectKeys$2=Object.keys||function(t){return internalObjectKeys(t,enumBugKeys$1)},DESCRIPTORS$8=descriptors,V8_PROTOTYPE_DEFINE_BUG=v8PrototypeDefineBug,definePropertyModule$1=objectDefineProperty,anObject$l=anObject$o,toIndexedObject$4=toIndexedObject$8,objectKeys$1=objectKeys$2;objectDefineProperties.f=DESCRIPTORS$8&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function(t,e){anObject$l(t);for(var i,s=toIndexedObject$4(e),B=objectKeys$1(e),n=B.length,l=0;n>l;)definePropertyModule$1.f(t,i=B[l++],s[i]);return t};var activeXDocument,getBuiltIn$7=getBuiltIn$a,html$2=getBuiltIn$7("document","documentElement"),anObject$k=anObject$o,definePropertiesModule=objectDefineProperties,enumBugKeys=enumBugKeys$3,hiddenKeys=hiddenKeys$4,html$1=html$2,documentCreateElement=documentCreateElement$1,sharedKey$1=sharedKey$3,GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO$1=sharedKey$1("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(t){return LT+SCRIPT+GT+t+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(t){t.write(scriptTag("")),t.close();var e=t.parentWindow.Object;return t=null,e},NullProtoObjectViaIFrame=function(){var t,e=documentCreateElement("iframe"),i="java"+SCRIPT+":";return e.style.display="none",html$1.appendChild(e),e.src=String(i),(t=e.contentWindow.document).open(),t.write(scriptTag("document.F=Object")),t.close(),t.F},NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch(t){}NullProtoObject="undefined"!=typeof document?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var t=enumBugKeys.length;t--;)delete NullProtoObject[PROTOTYPE][enumBugKeys[t]];return NullProtoObject()};hiddenKeys[IE_PROTO$1]=!0;var objectCreate=Object.create||function(t,e){var i;return null!==t?(EmptyConstructor[PROTOTYPE]=anObject$k(t),i=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,i[IE_PROTO$1]=t):i=NullProtoObject(),void 0===e?i:definePropertiesModule.f(i,e)},wellKnownSymbol$9=wellKnownSymbol$b,create$4=objectCreate,defineProperty$2=objectDefineProperty.f,UNSCOPABLES=wellKnownSymbol$9("unscopables"),ArrayPrototype$1=Array.prototype;void 0===ArrayPrototype$1[UNSCOPABLES]&&defineProperty$2(ArrayPrototype$1,UNSCOPABLES,{configurable:!0,value:create$4(null)});var addToUnscopables$3=function(t){ArrayPrototype$1[UNSCOPABLES][t]=!0},$$E=_export,arrayToReversed$1=arrayToReversed$2,toIndexedObject$3=toIndexedObject$8,addToUnscopables$2=addToUnscopables$3,$Array$4=Array;$$E({target:"Array",proto:!0},{toReversed:function(){return arrayToReversed$1(toIndexedObject$3(this),$Array$4)}}),addToUnscopables$2("toReversed");var lengthOfArrayLike$5=lengthOfArrayLike$9,arrayFromConstructorAndList$2=function(t,e,i){for(var s=0,B=arguments.length>2?i:lengthOfArrayLike$5(e),n=new t(B);B>s;)n[s]=e[s++];return n},globalThis$i=globalThis_1,getBuiltInPrototypeMethod$1=function(t,e){var i=globalThis$i[t],s=i&&i.prototype;return s&&s[e]},$$D=_export,uncurryThis$j=functionUncurryThis,aCallable$h=aCallable$j,toIndexedObject$2=toIndexedObject$8,arrayFromConstructorAndList$1=arrayFromConstructorAndList$2,getBuiltInPrototypeMethod=getBuiltInPrototypeMethod$1,addToUnscopables$1=addToUnscopables$3,$Array$3=Array,sort$2=uncurryThis$j(getBuiltInPrototypeMethod("Array","sort"));$$D({target:"Array",proto:!0},{toSorted:function(t){void 0!==t&&aCallable$h(t);var e=toIndexedObject$2(this),i=arrayFromConstructorAndList$1($Array$3,e);return sort$2(i,t)}}),addToUnscopables$1("toSorted");var $$C=_export,addToUnscopables=addToUnscopables$3,doesNotExceedSafeInteger$1=doesNotExceedSafeInteger$3,lengthOfArrayLike$4=lengthOfArrayLike$9,toAbsoluteIndex=toAbsoluteIndex$2,toIndexedObject$1=toIndexedObject$8,toIntegerOrInfinity$5=toIntegerOrInfinity$8,$Array$2=Array,max$2=Math.max,min$3=Math.min;$$C({target:"Array",proto:!0},{toSpliced:function(t,e){var i,s,B,n,l=toIndexedObject$1(this),Q=lengthOfArrayLike$4(l),F=toAbsoluteIndex(t,Q),c=arguments.length,g=0;for(0===c?i=s=0:1===c?(i=0,s=Q-F):(i=c-2,s=min$3(max$2(toIntegerOrInfinity$5(e),0),Q-F)),B=doesNotExceedSafeInteger$1(Q+i-s),n=$Array$2(B);g<F;g++)n[g]=l[g];for(;g<F+i;g++)n[g]=arguments[g-F+2];for(;g<B;g++)n[g]=l[g+s-i];return n}}),addToUnscopables("toSpliced");var tryToString$2=tryToString$4,$TypeError$b=TypeError,deletePropertyOrThrow$1=function(t,e){if(!delete t[e])throw new $TypeError$b("Cannot delete property "+tryToString$2(e)+" of "+tryToString$2(t))},$$B=_export,toObject$2=toObject$5,lengthOfArrayLike$3=lengthOfArrayLike$9,setArrayLength=arraySetLength,deletePropertyOrThrow=deletePropertyOrThrow$1,doesNotExceedSafeInteger=doesNotExceedSafeInteger$3,INCORRECT_RESULT=1!==[].unshift(0),properErrorOnNonWritableLength=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}},FORCED$3=INCORRECT_RESULT||!properErrorOnNonWritableLength();$$B({target:"Array",proto:!0,arity:1,forced:FORCED$3},{unshift:function(t){var e=toObject$2(this),i=lengthOfArrayLike$3(e),s=arguments.length;if(s){doesNotExceedSafeInteger(i+s);for(var B=i;B--;){var n=B+s;B in e?e[n]=e[B]:deletePropertyOrThrow(e,n)}for(var l=0;l<s;l++)e[l]=arguments[l]}return setArrayLength(e,i+s)}});var lengthOfArrayLike$2=lengthOfArrayLike$9,toIntegerOrInfinity$4=toIntegerOrInfinity$8,$RangeError$4=RangeError,arrayWith$2=function(t,e,i,s){var B=lengthOfArrayLike$2(t),n=toIntegerOrInfinity$4(i),l=n<0?B+n:n;if(l>=B||l<0)throw new $RangeError$4("Incorrect index");for(var Q=new e(B),F=0;F<B;F++)Q[F]=F===l?s:t[F];return Q},$$A=_export,arrayWith$1=arrayWith$2,toIndexedObject=toIndexedObject$8,$Array$1=Array;$$A({target:"Array",proto:!0},{with:function(t,e){return arrayWith$1(toIndexedObject(this),$Array$1,t,e)}});var makeBuiltIn=makeBuiltInExports,defineProperty$1=objectDefineProperty,defineBuiltInAccessor$5=function(t,e,i){return i.get&&makeBuiltIn(i.get,e,{getter:!0}),i.set&&makeBuiltIn(i.set,e,{setter:!0}),defineProperty$1.f(t,e,i)},arrayBufferBasicDetection="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,uncurryThis$i=functionUncurryThis,aCallable$g=aCallable$j,functionUncurryThisAccessor=function(t,e,i){try{return uncurryThis$i(aCallable$g(Object.getOwnPropertyDescriptor(t,e)[i]))}catch(t){}},globalThis$h=globalThis_1,uncurryThisAccessor$3=functionUncurryThisAccessor,classof$8=classofRaw$2,ArrayBuffer$2=globalThis$h.ArrayBuffer,TypeError$3=globalThis$h.TypeError,arrayBufferByteLength$2=ArrayBuffer$2&&uncurryThisAccessor$3(ArrayBuffer$2.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==classof$8(t))throw new TypeError$3("ArrayBuffer expected");return t.byteLength},globalThis$g=globalThis_1,NATIVE_ARRAY_BUFFER$1=arrayBufferBasicDetection,arrayBufferByteLength$1=arrayBufferByteLength$2,DataView$2=globalThis$g.DataView,arrayBufferIsDetached=function(t){if(!NATIVE_ARRAY_BUFFER$1||0!==arrayBufferByteLength$1(t))return!1;try{return new DataView$2(t),!1}catch(t){return!0}},DESCRIPTORS$7=descriptors,defineBuiltInAccessor$4=defineBuiltInAccessor$5,isDetached$1=arrayBufferIsDetached,ArrayBufferPrototype$1=ArrayBuffer.prototype;DESCRIPTORS$7&&!("detached"in ArrayBufferPrototype$1)&&defineBuiltInAccessor$4(ArrayBufferPrototype$1,"detached",{configurable:!0,get:function(){return isDetached$1(this)}});var WorkerThreads,channel$1,buffer,$detach,toIntegerOrInfinity$3=toIntegerOrInfinity$8,toLength=toLength$2,$RangeError$3=RangeError,toIndex$1=function(t){if(void 0===t)return 0;var e=toIntegerOrInfinity$3(t),i=toLength(e);if(e!==i)throw new $RangeError$3("Wrong length or index");return i},isDetached=arrayBufferIsDetached,$TypeError$a=TypeError,arrayBufferNotDetached=function(t){if(isDetached(t))throw new $TypeError$a("ArrayBuffer is detached");return t},globalThis$f=globalThis_1,userAgent$1=environmentUserAgent,classof$7=classofRaw$2,userAgentStartsWith=function(t){return userAgent$1.slice(0,t.length)===t},environment=userAgentStartsWith("Bun/")?"BUN":userAgentStartsWith("Cloudflare-Workers")?"CLOUDFLARE":userAgentStartsWith("Deno/")?"DENO":userAgentStartsWith("Node.js/")?"NODE":globalThis$f.Bun&&"string"==typeof Bun.version?"BUN":globalThis$f.Deno&&"object"==typeof Deno.version?"DENO":"process"===classof$7(globalThis$f.process)?"NODE":globalThis$f.window&&globalThis$f.document?"BROWSER":"REST",ENVIRONMENT$2=environment,environmentIsNode="NODE"===ENVIRONMENT$2,globalThis$e=globalThis_1,IS_NODE$1=environmentIsNode,getBuiltInNodeModule$1=function(t){if(IS_NODE$1){try{return globalThis$e.process.getBuiltinModule(t)}catch(t){}try{return Function('return require("'+t+'")')()}catch(t){}}},globalThis$d=globalThis_1,fails$e=fails$o,V8=environmentV8Version,ENVIRONMENT$1=environment,structuredClone$2=globalThis$d.structuredClone,structuredCloneProperTransfer=!!structuredClone$2&&!fails$e((function(){if("DENO"===ENVIRONMENT$1&&V8>92||"NODE"===ENVIRONMENT$1&&V8>94||"BROWSER"===ENVIRONMENT$1&&V8>97)return!1;var t=new ArrayBuffer(8),e=structuredClone$2(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength})),globalThis$c=globalThis_1,getBuiltInNodeModule=getBuiltInNodeModule$1,PROPER_STRUCTURED_CLONE_TRANSFER$2=structuredCloneProperTransfer,structuredClone$1=globalThis$c.structuredClone,$ArrayBuffer=globalThis$c.ArrayBuffer,$MessageChannel=globalThis$c.MessageChannel,detach=!1;if(PROPER_STRUCTURED_CLONE_TRANSFER$2)detach=function(t){structuredClone$1(t,{transfer:[t]})};else if($ArrayBuffer)try{$MessageChannel||(WorkerThreads=getBuiltInNodeModule("worker_threads"))&&($MessageChannel=WorkerThreads.MessageChannel),$MessageChannel&&(channel$1=new $MessageChannel,buffer=new $ArrayBuffer(2),$detach=function(t){channel$1.port1.postMessage(null,[t])},2===buffer.byteLength&&($detach(buffer),0===buffer.byteLength&&(detach=$detach)))}catch(t){}var detachTransferable$2=detach,globalThis$b=globalThis_1,uncurryThis$h=functionUncurryThis,uncurryThisAccessor$2=functionUncurryThisAccessor,toIndex=toIndex$1,notDetached=arrayBufferNotDetached,arrayBufferByteLength=arrayBufferByteLength$2,detachTransferable$1=detachTransferable$2,PROPER_STRUCTURED_CLONE_TRANSFER$1=structuredCloneProperTransfer,structuredClone=globalThis$b.structuredClone,ArrayBuffer$1=globalThis$b.ArrayBuffer,DataView$1=globalThis$b.DataView,min$2=Math.min,ArrayBufferPrototype=ArrayBuffer$1.prototype,DataViewPrototype=DataView$1.prototype,slice$2=uncurryThis$h(ArrayBufferPrototype.slice),isResizable=uncurryThisAccessor$2(ArrayBufferPrototype,"resizable","get"),maxByteLength=uncurryThisAccessor$2(ArrayBufferPrototype,"maxByteLength","get"),getInt8=uncurryThis$h(DataViewPrototype.getInt8),setInt8=uncurryThis$h(DataViewPrototype.setInt8),arrayBufferTransfer=(PROPER_STRUCTURED_CLONE_TRANSFER$1||detachTransferable$1)&&function(t,e,i){var s,B=arrayBufferByteLength(t),n=void 0===e?B:toIndex(e),l=!isResizable||!isResizable(t);if(notDetached(t),PROPER_STRUCTURED_CLONE_TRANSFER$1&&(t=structuredClone(t,{transfer:[t]}),B===n&&(i||l)))return t;if(B>=n&&(!i||l))s=slice$2(t,0,n);else{var Q=i&&!l&&maxByteLength?{maxByteLength:maxByteLength(t)}:void 0;s=new ArrayBuffer$1(n,Q);for(var F=new DataView$1(t),c=new DataView$1(s),g=min$2(n,B),a=0;a<g;a++)setInt8(c,a,getInt8(F,a))}return PROPER_STRUCTURED_CLONE_TRANSFER$1||detachTransferable$1(t),s},$$z=_export,$transfer$1=arrayBufferTransfer;$transfer$1&&$$z({target:"ArrayBuffer",proto:!0},{transfer:function(){return $transfer$1(this,arguments.length?arguments[0]:void 0,!0)}});var $$y=_export,$transfer=arrayBufferTransfer;$transfer&&$$y({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return $transfer(this,arguments.length?arguments[0]:void 0,!1)}});var IteratorPrototype$3,PrototypeOfArrayIteratorPrototype,arrayIterator,isPrototypeOf$3=objectIsPrototypeOf,$TypeError$9=TypeError,anInstance$2=function(t,e){if(isPrototypeOf$3(e,t))return t;throw new $TypeError$9("Incorrect invocation")},fails$d=fails$o,correctPrototypeGetter=!fails$d((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),hasOwn$6=hasOwnProperty_1,isCallable$9=isCallable$k,toObject$1=toObject$5,sharedKey=sharedKey$3,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter,IE_PROTO=sharedKey("IE_PROTO"),$Object$1=Object,ObjectPrototype$1=$Object$1.prototype,objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER?$Object$1.getPrototypeOf:function(t){var e=toObject$1(t);if(hasOwn$6(e,IE_PROTO))return e[IE_PROTO];var i=e.constructor;return isCallable$9(i)&&e instanceof i?i.prototype:e instanceof $Object$1?ObjectPrototype$1:null},DESCRIPTORS$6=descriptors,definePropertyModule=objectDefineProperty,createPropertyDescriptor$2=createPropertyDescriptor$5,createProperty$2=function(t,e,i){DESCRIPTORS$6?definePropertyModule.f(t,e,createPropertyDescriptor$2(0,i)):t[e]=i},fails$c=fails$o,isCallable$8=isCallable$k,isObject$6=isObject$c,getPrototypeOf$2=objectGetPrototypeOf,defineBuiltIn$4=defineBuiltIn$6,wellKnownSymbol$8=wellKnownSymbol$b,ITERATOR$4=wellKnownSymbol$8("iterator");[].keys&&"next"in(arrayIterator=[].keys())&&(PrototypeOfArrayIteratorPrototype=getPrototypeOf$2(getPrototypeOf$2(arrayIterator)))!==Object.prototype&&(IteratorPrototype$3=PrototypeOfArrayIteratorPrototype);var NEW_ITERATOR_PROTOTYPE=!isObject$6(IteratorPrototype$3)||fails$c((function(){var t={};return IteratorPrototype$3[ITERATOR$4].call(t)!==t}));NEW_ITERATOR_PROTOTYPE&&(IteratorPrototype$3={}),isCallable$8(IteratorPrototype$3[ITERATOR$4])||defineBuiltIn$4(IteratorPrototype$3,ITERATOR$4,(function(){return this}));var iteratorsCore={IteratorPrototype:IteratorPrototype$3},$$x=_export,globalThis$a=globalThis_1,anInstance$1=anInstance$2,anObject$j=anObject$o,isCallable$7=isCallable$k,getPrototypeOf$1=objectGetPrototypeOf,defineBuiltInAccessor$3=defineBuiltInAccessor$5,createProperty$1=createProperty$2,fails$b=fails$o,hasOwn$5=hasOwnProperty_1,wellKnownSymbol$7=wellKnownSymbol$b,IteratorPrototype$2=iteratorsCore.IteratorPrototype,DESCRIPTORS$5=descriptors,CONSTRUCTOR="constructor",ITERATOR$3="Iterator",TO_STRING_TAG$4=wellKnownSymbol$7("toStringTag"),$TypeError$8=TypeError,NativeIterator=globalThis$a[ITERATOR$3],FORCED$2=!isCallable$7(NativeIterator)||NativeIterator.prototype!==IteratorPrototype$2||!fails$b((function(){NativeIterator({})})),IteratorConstructor=function(){if(anInstance$1(this,IteratorPrototype$2),getPrototypeOf$1(this)===IteratorPrototype$2)throw new $TypeError$8("Abstract class Iterator not directly constructable")},defineIteratorPrototypeAccessor=function(t,e){DESCRIPTORS$5?defineBuiltInAccessor$3(IteratorPrototype$2,t,{configurable:!0,get:function(){return e},set:function(e){if(anObject$j(this),this===IteratorPrototype$2)throw new $TypeError$8("You can't redefine this property");hasOwn$5(this,t)?this[t]=e:createProperty$1(this,t,e)}}):IteratorPrototype$2[t]=e};hasOwn$5(IteratorPrototype$2,TO_STRING_TAG$4)||defineIteratorPrototypeAccessor(TO_STRING_TAG$4,ITERATOR$3),!FORCED$2&&hasOwn$5(IteratorPrototype$2,CONSTRUCTOR)&&IteratorPrototype$2[CONSTRUCTOR]!==Object||defineIteratorPrototypeAccessor(CONSTRUCTOR,IteratorConstructor),IteratorConstructor.prototype=IteratorPrototype$2,$$x({global:!0,constructor:!0,forced:FORCED$2},{Iterator:IteratorConstructor});var getIteratorDirect$d=function(t){return{iterator:t,next:t.next,done:!1}},$RangeError$2=RangeError,notANan=function(t){if(t==t)return t;throw new $RangeError$2("NaN is not allowed")},toIntegerOrInfinity$2=toIntegerOrInfinity$8,$RangeError$1=RangeError,toPositiveInteger$2=function(t){var e=toIntegerOrInfinity$2(t);if(e<0)throw new $RangeError$1("The argument can't be less than 0");return e},defineBuiltIn$3=defineBuiltIn$6,defineBuiltIns$1=function(t,e,i){for(var s in e)defineBuiltIn$3(t,s,e[s],i);return t},createIterResultObject$1=function(t,e){return{value:t,done:e}},call$f=functionCall,anObject$i=anObject$o,getMethod$2=getMethod$4,iteratorClose$7=function(t,e,i){var s,B;anObject$i(t);try{if(!(s=getMethod$2(t,"return"))){if("throw"===e)throw i;return i}s=call$f(s,t)}catch(t){B=!0,s=t}if("throw"===e)throw i;if(B)throw s;return anObject$i(s),i},call$e=functionCall,create$3=objectCreate,createNonEnumerableProperty$2=createNonEnumerableProperty$5,defineBuiltIns=defineBuiltIns$1,wellKnownSymbol$6=wellKnownSymbol$b,InternalStateModule$1=internalState,getMethod$1=getMethod$4,IteratorPrototype$1=iteratorsCore.IteratorPrototype,createIterResultObject=createIterResultObject$1,iteratorClose$6=iteratorClose$7,TO_STRING_TAG$3=wellKnownSymbol$6("toStringTag"),ITERATOR_HELPER="IteratorHelper",WRAP_FOR_VALID_ITERATOR="WrapForValidIterator",setInternalState=InternalStateModule$1.set,createIteratorProxyPrototype=function(t){var e=InternalStateModule$1.getterFor(t?WRAP_FOR_VALID_ITERATOR:ITERATOR_HELPER);return defineBuiltIns(create$3(IteratorPrototype$1),{next:function(){var i=e(this);if(t)return i.nextHandler();if(i.done)return createIterResultObject(void 0,!0);try{var s=i.nextHandler();return i.returnHandlerResult?s:createIterResultObject(s,i.done)}catch(t){throw i.done=!0,t}},return:function(){var i=e(this),s=i.iterator;if(i.done=!0,t){var B=getMethod$1(s,"return");return B?call$e(B,s):createIterResultObject(void 0,!0)}if(i.inner)try{iteratorClose$6(i.inner.iterator,"normal")}catch(t){return iteratorClose$6(s,"throw",t)}return s&&iteratorClose$6(s,"normal"),createIterResultObject(void 0,!0)}})},WrapForValidIteratorPrototype=createIteratorProxyPrototype(!0),IteratorHelperPrototype=createIteratorProxyPrototype(!1);createNonEnumerableProperty$2(IteratorHelperPrototype,TO_STRING_TAG$3,"Iterator Helper");var iteratorCreateProxy=function(t,e,i){var s=function(s,B){B?(B.iterator=s.iterator,B.next=s.next):B=s,B.type=e?WRAP_FOR_VALID_ITERATOR:ITERATOR_HELPER,B.returnHandlerResult=!!i,B.nextHandler=t,B.counter=0,B.done=!1,setInternalState(this,B)};return s.prototype=e?WrapForValidIteratorPrototype:IteratorHelperPrototype,s},$$w=_export,call$d=functionCall,anObject$h=anObject$o,getIteratorDirect$c=getIteratorDirect$d,notANaN$1=notANan,toPositiveInteger$1=toPositiveInteger$2,createIteratorProxy$5=iteratorCreateProxy,IS_PURE$6=isPure,IteratorProxy$5=createIteratorProxy$5((function(){for(var t,e=this.iterator,i=this.next;this.remaining;)if(this.remaining--,t=anObject$h(call$d(i,e)),this.done=!!t.done)return;if(t=anObject$h(call$d(i,e)),!(this.done=!!t.done))return t.value}));$$w({target:"Iterator",proto:!0,real:!0,forced:IS_PURE$6},{drop:function(t){anObject$h(this);var e=toPositiveInteger$1(notANaN$1(+t));return new IteratorProxy$5(getIteratorDirect$c(this),{remaining:e})}});var classofRaw$1=classofRaw$2,uncurryThis$g=functionUncurryThis,functionUncurryThisClause=function(t){if("Function"===classofRaw$1(t))return uncurryThis$g(t)},uncurryThis$f=functionUncurryThisClause,aCallable$f=aCallable$j,NATIVE_BIND$1=functionBindNative,bind$2=functionUncurryThisClause(functionUncurryThisClause.bind),functionBindContext=function(t,e){return aCallable$f(t),void 0===e?t:NATIVE_BIND$1?bind$2(t,e):function(){return t.apply(e,arguments)}},iterators={},wellKnownSymbol$5=wellKnownSymbol$b,Iterators$1=iterators,ITERATOR$2=wellKnownSymbol$5("iterator"),ArrayPrototype=Array.prototype,isArrayIteratorMethod$1=function(t){return void 0!==t&&(Iterators$1.Array===t||ArrayPrototype[ITERATOR$2]===t)},wellKnownSymbol$4=wellKnownSymbol$b,TO_STRING_TAG$2=wellKnownSymbol$4("toStringTag"),test={};test[TO_STRING_TAG$2]="z";var toStringTagSupport="[object z]"===String(test),TO_STRING_TAG_SUPPORT=toStringTagSupport,isCallable$6=isCallable$k,classofRaw=classofRaw$2,wellKnownSymbol$3=wellKnownSymbol$b,TO_STRING_TAG$1=wellKnownSymbol$3("toStringTag"),$Object=Object,CORRECT_ARGUMENTS="Arguments"===classofRaw(function(){return arguments}()),tryGet=function(t,e){try{return t[e]}catch(t){}},classof$6=TO_STRING_TAG_SUPPORT?classofRaw:function(t){var e,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=tryGet(e=$Object(t),TO_STRING_TAG$1))?i:CORRECT_ARGUMENTS?classofRaw(e):"Object"===(s=classofRaw(e))&&isCallable$6(e.callee)?"Arguments":s},classof$5=classof$6,getMethod=getMethod$4,isNullOrUndefined$1=isNullOrUndefined$4,Iterators=iterators,wellKnownSymbol$2=wellKnownSymbol$b,ITERATOR$1=wellKnownSymbol$2("iterator"),getIteratorMethod$3=function(t){if(!isNullOrUndefined$1(t))return getMethod(t,ITERATOR$1)||getMethod(t,"@@iterator")||Iterators[classof$5(t)]},call$c=functionCall,aCallable$e=aCallable$j,anObject$g=anObject$o,tryToString$1=tryToString$4,getIteratorMethod$2=getIteratorMethod$3,$TypeError$7=TypeError,getIterator$1=function(t,e){var i=arguments.length<2?getIteratorMethod$2(t):e;if(aCallable$e(i))return anObject$g(call$c(i,t));throw new $TypeError$7(tryToString$1(t)+" is not iterable")},bind$1=functionBindContext,call$b=functionCall,anObject$f=anObject$o,tryToString=tryToString$4,isArrayIteratorMethod=isArrayIteratorMethod$1,lengthOfArrayLike$1=lengthOfArrayLike$9,isPrototypeOf$2=objectIsPrototypeOf,getIterator=getIterator$1,getIteratorMethod$1=getIteratorMethod$3,iteratorClose$5=iteratorClose$7,$TypeError$6=TypeError,Result=function(t,e){this.stopped=t,this.result=e},ResultPrototype=Result.prototype,iterate$b=function(t,e,i){var s,B,n,l,Q,F,c,g=i&&i.that,a=!(!i||!i.AS_ENTRIES),I=!(!i||!i.IS_RECORD),U=!(!i||!i.IS_ITERATOR),r=!(!i||!i.INTERRUPTED),o=bind$1(e,g),d=function(t){return s&&iteratorClose$5(s,"normal",t),new Result(!0,t)},b=function(t){return a?(anObject$f(t),r?o(t[0],t[1],d):o(t[0],t[1])):r?o(t,d):o(t)};if(I)s=t.iterator;else if(U)s=t;else{if(!(B=getIteratorMethod$1(t)))throw new $TypeError$6(tryToString(t)+" is not iterable");if(isArrayIteratorMethod(B)){for(n=0,l=lengthOfArrayLike$1(t);l>n;n++)if((Q=b(t[n]))&&isPrototypeOf$2(ResultPrototype,Q))return Q;return new Result(!1)}s=getIterator(t,B)}for(F=I?t.next:s.next;!(c=call$b(F,s)).done;){try{Q=b(c.value)}catch(t){iteratorClose$5(s,"throw",t)}if("object"==typeof Q&&Q&&isPrototypeOf$2(ResultPrototype,Q))return Q}return new Result(!1)},$$v=_export,iterate$a=iterate$b,aCallable$d=aCallable$j,anObject$e=anObject$o,getIteratorDirect$b=getIteratorDirect$d;$$v({target:"Iterator",proto:!0,real:!0},{every:function(t){anObject$e(this),aCallable$d(t);var e=getIteratorDirect$b(this),i=0;return!iterate$a(e,(function(e,s){if(!t(e,i++))return s()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}});var anObject$d=anObject$o,iteratorClose$4=iteratorClose$7,callWithSafeIterationClosing$2=function(t,e,i,s){try{return s?e(anObject$d(i)[0],i[1]):e(i)}catch(e){iteratorClose$4(t,"throw",e)}},$$u=_export,call$a=functionCall,aCallable$c=aCallable$j,anObject$c=anObject$o,getIteratorDirect$a=getIteratorDirect$d,createIteratorProxy$4=iteratorCreateProxy,callWithSafeIterationClosing$1=callWithSafeIterationClosing$2,IS_PURE$5=isPure,IteratorProxy$4=createIteratorProxy$4((function(){for(var t,e,i=this.iterator,s=this.predicate,B=this.next;;){if(t=anObject$c(call$a(B,i)),this.done=!!t.done)return;if(e=t.value,callWithSafeIterationClosing$1(i,s,[e,this.counter++],!0))return e}}));$$u({target:"Iterator",proto:!0,real:!0,forced:IS_PURE$5},{filter:function(t){return anObject$c(this),aCallable$c(t),new IteratorProxy$4(getIteratorDirect$a(this),{predicate:t})}});var $$t=_export,iterate$9=iterate$b,aCallable$b=aCallable$j,anObject$b=anObject$o,getIteratorDirect$9=getIteratorDirect$d;$$t({target:"Iterator",proto:!0,real:!0},{find:function(t){anObject$b(this),aCallable$b(t);var e=getIteratorDirect$9(this),i=0;return iterate$9(e,(function(e,s){if(t(e,i++))return s(e)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}});var call$9=functionCall,anObject$a=anObject$o,getIteratorDirect$8=getIteratorDirect$d,getIteratorMethod=getIteratorMethod$3,getIteratorFlattenable$2=function(t,e){e&&"string"==typeof t||anObject$a(t);var i=getIteratorMethod(t);return getIteratorDirect$8(anObject$a(void 0!==i?call$9(i,t):t))},$$s=_export,call$8=functionCall,aCallable$a=aCallable$j,anObject$9=anObject$o,getIteratorDirect$7=getIteratorDirect$d,getIteratorFlattenable$1=getIteratorFlattenable$2,createIteratorProxy$3=iteratorCreateProxy,iteratorClose$3=iteratorClose$7,IS_PURE$4=isPure,IteratorProxy$3=createIteratorProxy$3((function(){for(var t,e,i=this.iterator,s=this.mapper;;){if(e=this.inner)try{if(!(t=anObject$9(call$8(e.next,e.iterator))).done)return t.value;this.inner=null}catch(t){iteratorClose$3(i,"throw",t)}if(t=anObject$9(call$8(this.next,i)),this.done=!!t.done)return;try{this.inner=getIteratorFlattenable$1(s(t.value,this.counter++),!1)}catch(t){iteratorClose$3(i,"throw",t)}}}));$$s({target:"Iterator",proto:!0,real:!0,forced:IS_PURE$4},{flatMap:function(t){return anObject$9(this),aCallable$a(t),new IteratorProxy$3(getIteratorDirect$7(this),{mapper:t,inner:null})}});var $$r=_export,iterate$8=iterate$b,aCallable$9=aCallable$j,anObject$8=anObject$o,getIteratorDirect$6=getIteratorDirect$d;$$r({target:"Iterator",proto:!0,real:!0},{forEach:function(t){anObject$8(this),aCallable$9(t);var e=getIteratorDirect$6(this),i=0;iterate$8(e,(function(e){t(e,i++)}),{IS_RECORD:!0})}});var $$q=_export,call$7=functionCall,toObject=toObject$5,isPrototypeOf$1=objectIsPrototypeOf,IteratorPrototype=iteratorsCore.IteratorPrototype,createIteratorProxy$2=iteratorCreateProxy,getIteratorFlattenable=getIteratorFlattenable$2,IS_PURE$3=isPure,IteratorProxy$2=createIteratorProxy$2((function(){return call$7(this.next,this.iterator)}),!0);$$q({target:"Iterator",stat:!0,forced:IS_PURE$3},{from:function(t){var e=getIteratorFlattenable("string"==typeof t?toObject(t):t,!0);return isPrototypeOf$1(IteratorPrototype,e.iterator)?e.iterator:new IteratorProxy$2(e)}});var call$6=functionCall,aCallable$8=aCallable$j,anObject$7=anObject$o,getIteratorDirect$5=getIteratorDirect$d,createIteratorProxy$1=iteratorCreateProxy,callWithSafeIterationClosing=callWithSafeIterationClosing$2,IteratorProxy$1=createIteratorProxy$1((function(){var t=this.iterator,e=anObject$7(call$6(this.next,t));if(!(this.done=!!e.done))return callWithSafeIterationClosing(t,this.mapper,[e.value,this.counter++],!0)})),iteratorMap=function(t){return anObject$7(this),aCallable$8(t),new IteratorProxy$1(getIteratorDirect$5(this),{mapper:t})},$$p=_export,map$2=iteratorMap,IS_PURE$2=isPure;$$p({target:"Iterator",proto:!0,real:!0,forced:IS_PURE$2},{map:map$2});var $$o=_export,iterate$7=iterate$b,aCallable$7=aCallable$j,anObject$6=anObject$o,getIteratorDirect$4=getIteratorDirect$d,$TypeError$5=TypeError;$$o({target:"Iterator",proto:!0,real:!0},{reduce:function(t){anObject$6(this),aCallable$7(t);var e=getIteratorDirect$4(this),i=arguments.length<2,s=i?void 0:arguments[1],B=0;if(iterate$7(e,(function(e){i?(i=!1,s=e):s=t(s,e,B),B++}),{IS_RECORD:!0}),i)throw new $TypeError$5("Reduce of empty iterator with no initial value");return s}});var $$n=_export,iterate$6=iterate$b,aCallable$6=aCallable$j,anObject$5=anObject$o,getIteratorDirect$3=getIteratorDirect$d;$$n({target:"Iterator",proto:!0,real:!0},{some:function(t){anObject$5(this),aCallable$6(t);var e=getIteratorDirect$3(this),i=0;return iterate$6(e,(function(e,s){if(t(e,i++))return s()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}});var $$m=_export,call$5=functionCall,anObject$4=anObject$o,getIteratorDirect$2=getIteratorDirect$d,notANaN=notANan,toPositiveInteger=toPositiveInteger$2,createIteratorProxy=iteratorCreateProxy,iteratorClose$2=iteratorClose$7,IS_PURE$1=isPure,IteratorProxy=createIteratorProxy((function(){var t=this.iterator;if(!this.remaining--)return this.done=!0,iteratorClose$2(t,"normal",void 0);var e=anObject$4(call$5(this.next,t));return(this.done=!!e.done)?void 0:e.value}));$$m({target:"Iterator",proto:!0,real:!0,forced:IS_PURE$1},{take:function(t){anObject$4(this);var e=toPositiveInteger(notANaN(+t));return new IteratorProxy(getIteratorDirect$2(this),{remaining:e})}});var $$l=_export,anObject$3=anObject$o,iterate$5=iterate$b,getIteratorDirect$1=getIteratorDirect$d,push$4=[].push;$$l({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return iterate$5(getIteratorDirect$1(anObject$3(this)),push$4,{that:t,IS_RECORD:!0}),t}});var uncurryThis$e=functionUncurryThis,MapPrototype=Map.prototype,mapHelpers={Map:Map,set:uncurryThis$e(MapPrototype.set),get:uncurryThis$e(MapPrototype.get),has:uncurryThis$e(MapPrototype.has),remove:uncurryThis$e(MapPrototype.delete)},$$k=_export,uncurryThis$d=functionUncurryThis,aCallable$5=aCallable$j,requireObjectCoercible$4=requireObjectCoercible$7,iterate$4=iterate$b,MapHelpers$1=mapHelpers,fails$a=fails$o,Map$2=MapHelpers$1.Map,has$6=MapHelpers$1.has,get$2=MapHelpers$1.get,set$3=MapHelpers$1.set,push$3=uncurryThis$d([].push),DOES_NOT_WORK_WITH_PRIMITIVES$1=fails$a((function(){return 1!==Map$2.groupBy("ab",(function(t){return t})).get("a").length}));$$k({target:"Map",stat:!0,forced:DOES_NOT_WORK_WITH_PRIMITIVES$1},{groupBy:function(t,e){requireObjectCoercible$4(t),aCallable$5(e);var i=new Map$2,s=0;return iterate$4(t,(function(t){var B=e(t,s++);has$6(i,B)?push$3(get$2(i,B),t):set$3(i,B,[t])})),i}});var $$j=_export,getBuiltIn$6=getBuiltIn$a,uncurryThis$c=functionUncurryThis,aCallable$4=aCallable$j,requireObjectCoercible$3=requireObjectCoercible$7,toPropertyKey=toPropertyKey$3,iterate$3=iterate$b,fails$9=fails$o,nativeGroupBy=Object.groupBy,create$2=getBuiltIn$6("Object","create"),push$2=uncurryThis$c([].push),DOES_NOT_WORK_WITH_PRIMITIVES=!nativeGroupBy||fails$9((function(){return 1!==nativeGroupBy("ab",(function(t){return t})).a.length}));$$j({target:"Object",stat:!0,forced:DOES_NOT_WORK_WITH_PRIMITIVES},{groupBy:function(t,e){requireObjectCoercible$3(t),aCallable$4(e);var i=create$2(null),s=0;return iterate$3(t,(function(t){var B=toPropertyKey(e(t,s++));B in i?push$2(i[B],t):i[B]=[t]})),i}});var NATIVE_BIND=functionBindNative,FunctionPrototype=Function.prototype,apply$3=FunctionPrototype.apply,call$4=FunctionPrototype.call,functionApply="object"==typeof Reflect&&Reflect.apply||(NATIVE_BIND?call$4.bind(apply$3):function(){return call$4.apply(apply$3,arguments)}),uncurryThis$b=functionUncurryThis,arraySlice$2=uncurryThis$b([].slice),newPromiseCapability={},aCallable$3=aCallable$j,$TypeError$4=TypeError,PromiseCapability=function(t){var e,i;this.promise=new t((function(t,s){if(void 0!==e||void 0!==i)throw new $TypeError$4("Bad Promise constructor");e=t,i=s})),this.resolve=aCallable$3(e),this.reject=aCallable$3(i)};newPromiseCapability.f=function(t){return new PromiseCapability(t)};var perform$1=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},$$i=_export,globalThis$9=globalThis_1,apply$2=functionApply,slice$1=arraySlice$2,newPromiseCapabilityModule$1=newPromiseCapability,aCallable$2=aCallable$j,perform=perform$1,Promise$1=globalThis$9.Promise,ACCEPT_ARGUMENTS=!1,FORCED$1=!Promise$1||!Promise$1.try||perform((function(){Promise$1.try((function(t){ACCEPT_ARGUMENTS=8===t}),8)})).error||!ACCEPT_ARGUMENTS;$$i({target:"Promise",stat:!0,forced:FORCED$1},{try:function(t){var e=arguments.length>1?slice$1(arguments,1):[],i=newPromiseCapabilityModule$1.f(this),s=perform((function(){return apply$2(aCallable$2(t),void 0,e)}));return(s.error?i.reject:i.resolve)(s.value),i.promise}});var $$h=_export,newPromiseCapabilityModule=newPromiseCapability;$$h({target:"Promise",stat:!0},{withResolvers:function(){var t=newPromiseCapabilityModule.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var anObject$2=anObject$o,regexpFlags=function(){var t=anObject$2(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},globalThis$8=globalThis_1,DESCRIPTORS$4=descriptors,defineBuiltInAccessor$2=defineBuiltInAccessor$5,regExpFlags$1=regexpFlags,fails$8=fails$o,RegExp$1=globalThis$8.RegExp,RegExpPrototype$1=RegExp$1.prototype,FORCED=DESCRIPTORS$4&&fails$8((function(){var t=!0;try{RegExp$1(".","d")}catch(e){t=!1}var e={},i="",s=t?"dgimsy":"gimsy",B=function(t,s){Object.defineProperty(e,t,{get:function(){return i+=s,!0}})},n={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var l in t&&(n.hasIndices="d"),n)B(l,n[l]);return Object.getOwnPropertyDescriptor(RegExpPrototype$1,"flags").get.call(e)!==s||i!==s}));FORCED&&defineBuiltInAccessor$2(RegExpPrototype$1,"flags",{configurable:!0,get:regExpFlags$1});var uncurryThis$a=functionUncurryThis,SetPrototype$1=Set.prototype,setHelpers={Set:Set,add:uncurryThis$a(SetPrototype$1.add),has:uncurryThis$a(SetPrototype$1.has),remove:uncurryThis$a(SetPrototype$1.delete),proto:SetPrototype$1},has$5=setHelpers.has,aSet$7=function(t){return has$5(t),t},call$3=functionCall,iterateSimple$7=function(t,e,i){for(var s,B,n=i?t:t.iterator,l=t.next;!(s=call$3(l,n)).done;)if(void 0!==(B=e(s.value)))return B},uncurryThis$9=functionUncurryThis,iterateSimple$6=iterateSimple$7,SetHelpers$6=setHelpers,Set$4=SetHelpers$6.Set,SetPrototype=SetHelpers$6.proto,forEach$2=uncurryThis$9(SetPrototype.forEach),keys=uncurryThis$9(SetPrototype.keys),next=keys(new Set$4).next,setIterate$1=function(t,e,i){return i?iterateSimple$6({iterator:keys(t),next:next},e):forEach$2(t,e)},SetHelpers$5=setHelpers,iterate$2=setIterate$1,Set$3=SetHelpers$5.Set,add$3=SetHelpers$5.add,setClone=function(t){var e=new Set$3;return iterate$2(t,(function(t){add$3(e,t)})),e},uncurryThisAccessor$1=functionUncurryThisAccessor,SetHelpers$4=setHelpers,setSize=uncurryThisAccessor$1(SetHelpers$4.proto,"size","get")||function(t){return t.size},aCallable$1=aCallable$j,anObject$1=anObject$o,call$2=functionCall,toIntegerOrInfinity$1=toIntegerOrInfinity$8,getIteratorDirect=getIteratorDirect$d,INVALID_SIZE="Invalid size",$RangeError=RangeError,$TypeError$3=TypeError,max$1=Math.max,SetRecord=function(t,e){this.set=t,this.size=max$1(e,0),this.has=aCallable$1(t.has),this.keys=aCallable$1(t.keys)};SetRecord.prototype={getIterator:function(){return getIteratorDirect(anObject$1(call$2(this.keys,this.set)))},includes:function(t){return call$2(this.has,this.set,t)}};var getSetRecord$7=function(t){anObject$1(t);var e=+t.size;if(e!=e)throw new $TypeError$3(INVALID_SIZE);var i=toIntegerOrInfinity$1(e);if(i<0)throw new $RangeError(INVALID_SIZE);return new SetRecord(t,i)},aSet$6=aSet$7,SetHelpers$3=setHelpers,clone$2=setClone,size$4=setSize,getSetRecord$6=getSetRecord$7,iterateSet$2=setIterate$1,iterateSimple$5=iterateSimple$7,has$4=SetHelpers$3.has,remove$2=SetHelpers$3.remove,setDifference=function(t){var e=aSet$6(this),i=getSetRecord$6(t),s=clone$2(e);return size$4(e)<=i.size?iterateSet$2(e,(function(t){i.includes(t)&&remove$2(s,t)})):iterateSimple$5(i.getIterator(),(function(t){has$4(e,t)&&remove$2(s,t)})),s},getBuiltIn$5=getBuiltIn$a,createSetLike=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},createSetLikeWithInfinitySize=function(t){return{size:t,has:function(){return!0},keys:function(){throw new Error("e")}}},setMethodAcceptSetLike$7=function(t,e){var i=getBuiltIn$5("Set");try{(new i)[t](createSetLike(0));try{return(new i)[t](createSetLike(-1)),!1}catch(B){if(!e)return!0;try{return(new i)[t](createSetLikeWithInfinitySize(-1/0)),!1}catch(B){var s=new i;return s.add(1),s.add(2),e(s[t](createSetLikeWithInfinitySize(1/0)))}}}catch(t){return!1}},$$g=_export,difference$1=setDifference,setMethodAcceptSetLike$6=setMethodAcceptSetLike$7,INCORRECT$4=!setMethodAcceptSetLike$6("difference",(function(t){return 0===t.size}));$$g({target:"Set",proto:!0,real:!0,forced:INCORRECT$4},{difference:difference$1});var aSet$5=aSet$7,SetHelpers$2=setHelpers,size$3=setSize,getSetRecord$5=getSetRecord$7,iterateSet$1=setIterate$1,iterateSimple$4=iterateSimple$7,Set$2=SetHelpers$2.Set,add$2=SetHelpers$2.add,has$3=SetHelpers$2.has,setIntersection=function(t){var e=aSet$5(this),i=getSetRecord$5(t),s=new Set$2;return size$3(e)>i.size?iterateSimple$4(i.getIterator(),(function(t){has$3(e,t)&&add$2(s,t)})):iterateSet$1(e,(function(t){i.includes(t)&&add$2(s,t)})),s},$$f=_export,fails$7=fails$o,intersection=setIntersection,setMethodAcceptSetLike$5=setMethodAcceptSetLike$7,INCORRECT$3=!setMethodAcceptSetLike$5("intersection",(function(t){return 2===t.size&&t.has(1)&&t.has(2)}))||fails$7((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));$$f({target:"Set",proto:!0,real:!0,forced:INCORRECT$3},{intersection:intersection});var aSet$4=aSet$7,has$2=setHelpers.has,size$2=setSize,getSetRecord$4=getSetRecord$7,iterateSet=setIterate$1,iterateSimple$3=iterateSimple$7,iteratorClose$1=iteratorClose$7,setIsDisjointFrom=function(t){var e=aSet$4(this),i=getSetRecord$4(t);if(size$2(e)<=i.size)return!1!==iterateSet(e,(function(t){if(i.includes(t))return!1}),!0);var s=i.getIterator();return!1!==iterateSimple$3(s,(function(t){if(has$2(e,t))return iteratorClose$1(s,"normal",!1)}))},$$e=_export,isDisjointFrom=setIsDisjointFrom,setMethodAcceptSetLike$4=setMethodAcceptSetLike$7,INCORRECT$2=!setMethodAcceptSetLike$4("isDisjointFrom",(function(t){return!t}));$$e({target:"Set",proto:!0,real:!0,forced:INCORRECT$2},{isDisjointFrom:isDisjointFrom});var aSet$3=aSet$7,size$1=setSize,iterate$1=setIterate$1,getSetRecord$3=getSetRecord$7,setIsSubsetOf=function(t){var e=aSet$3(this),i=getSetRecord$3(t);return!(size$1(e)>i.size)&&!1!==iterate$1(e,(function(t){if(!i.includes(t))return!1}),!0)},$$d=_export,isSubsetOf=setIsSubsetOf,setMethodAcceptSetLike$3=setMethodAcceptSetLike$7,INCORRECT$1=!setMethodAcceptSetLike$3("isSubsetOf",(function(t){return t}));$$d({target:"Set",proto:!0,real:!0,forced:INCORRECT$1},{isSubsetOf:isSubsetOf});var aSet$2=aSet$7,has$1=setHelpers.has,size=setSize,getSetRecord$2=getSetRecord$7,iterateSimple$2=iterateSimple$7,iteratorClose=iteratorClose$7,setIsSupersetOf=function(t){var e=aSet$2(this),i=getSetRecord$2(t);if(size(e)<i.size)return!1;var s=i.getIterator();return!1!==iterateSimple$2(s,(function(t){if(!has$1(e,t))return iteratorClose(s,"normal",!1)}))},$$c=_export,isSupersetOf=setIsSupersetOf,setMethodAcceptSetLike$2=setMethodAcceptSetLike$7,INCORRECT=!setMethodAcceptSetLike$2("isSupersetOf",(function(t){return!t}));$$c({target:"Set",proto:!0,real:!0,forced:INCORRECT},{isSupersetOf:isSupersetOf});var aSet$1=aSet$7,SetHelpers$1=setHelpers,clone$1=setClone,getSetRecord$1=getSetRecord$7,iterateSimple$1=iterateSimple$7,add$1=SetHelpers$1.add,has=SetHelpers$1.has,remove$1=SetHelpers$1.remove,setSymmetricDifference=function(t){var e=aSet$1(this),i=getSetRecord$1(t).getIterator(),s=clone$1(e);return iterateSimple$1(i,(function(t){has(e,t)?remove$1(s,t):add$1(s,t)})),s},$$b=_export,symmetricDifference=setSymmetricDifference,setMethodAcceptSetLike$1=setMethodAcceptSetLike$7;$$b({target:"Set",proto:!0,real:!0,forced:!setMethodAcceptSetLike$1("symmetricDifference")},{symmetricDifference:symmetricDifference});var aSet=aSet$7,add=setHelpers.add,clone=setClone,getSetRecord=getSetRecord$7,iterateSimple=iterateSimple$7,setUnion=function(t){var e=aSet(this),i=getSetRecord(t).getIterator(),s=clone(e);return iterateSimple(i,(function(t){add(s,t)})),s},$$a=_export,union=setUnion,setMethodAcceptSetLike=setMethodAcceptSetLike$7;$$a({target:"Set",proto:!0,real:!0,forced:!setMethodAcceptSetLike("union")},{union:union});var classof$4=classof$6,$String$1=String,toString$7=function(t){if("Symbol"===classof$4(t))throw new TypeError("Cannot convert a Symbol value to a string");return $String$1(t)},$$9=_export,uncurryThis$8=functionUncurryThis,requireObjectCoercible$2=requireObjectCoercible$7,toString$6=toString$7,charCodeAt$1=uncurryThis$8("".charCodeAt);$$9({target:"String",proto:!0},{isWellFormed:function(){for(var t=toString$6(requireObjectCoercible$2(this)),e=t.length,i=0;i<e;i++){var s=charCodeAt$1(t,i);if(55296==(63488&s)&&(s>=56320||++i>=e||56320!=(64512&charCodeAt$1(t,i))))return!1}return!0}});var $$8=_export,call$1=functionCall,uncurryThis$7=functionUncurryThis,requireObjectCoercible$1=requireObjectCoercible$7,toString$5=toString$7,fails$6=fails$o,$Array=Array,charAt=uncurryThis$7("".charAt),charCodeAt=uncurryThis$7("".charCodeAt),join=uncurryThis$7([].join),$toWellFormed="".toWellFormed,REPLACEMENT_CHARACTER="ï¿½",TO_STRING_CONVERSION_BUG=$toWellFormed&&fails$6((function(){return"1"!==call$1($toWellFormed,1)}));$$8({target:"String",proto:!0,forced:TO_STRING_CONVERSION_BUG},{toWellFormed:function(){var t=toString$5(requireObjectCoercible$1(this));if(TO_STRING_CONVERSION_BUG)return call$1($toWellFormed,t);for(var e=t.length,i=$Array(e),s=0;s<e;s++){var B=charCodeAt(t,s);55296!=(63488&B)?i[s]=charAt(t,s):B>=56320||s+1>=e||56320!=(64512&charCodeAt(t,s+1))?i[s]=REPLACEMENT_CHARACTER:(i[s]=charAt(t,s),i[++s]=charAt(t,s))}return join(i,"")}});var NAME$2,Constructor,Prototype,isObject$5=isObject$c,isPossiblePrototype$1=function(t){return isObject$5(t)||null===t},isPossiblePrototype=isPossiblePrototype$1,$String=String,$TypeError$2=TypeError,aPossiblePrototype$1=function(t){if(isPossiblePrototype(t))return t;throw new $TypeError$2("Can't set "+$String(t)+" as a prototype")},uncurryThisAccessor=functionUncurryThisAccessor,isObject$4=isObject$c,requireObjectCoercible=requireObjectCoercible$7,aPossiblePrototype=aPossiblePrototype$1,objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=uncurryThisAccessor(Object.prototype,"__proto__","set"))(i,[]),e=i instanceof Array}catch(t){}return function(i,s){return requireObjectCoercible(i),aPossiblePrototype(s),isObject$4(i)?(e?t(i,s):i.__proto__=s,i):i}}():void 0),NATIVE_ARRAY_BUFFER=arrayBufferBasicDetection,DESCRIPTORS$3=descriptors,globalThis$7=globalThis_1,isCallable$5=isCallable$k,isObject$3=isObject$c,hasOwn$4=hasOwnProperty_1,classof$3=classof$6,createNonEnumerableProperty$1=createNonEnumerableProperty$5,defineBuiltIn$2=defineBuiltIn$6,defineBuiltInAccessor$1=defineBuiltInAccessor$5,getPrototypeOf=objectGetPrototypeOf,setPrototypeOf$1=objectSetPrototypeOf,wellKnownSymbol$1=wellKnownSymbol$b,uid$1=uid$4,InternalStateModule=internalState,enforceInternalState=InternalStateModule.enforce,getInternalState=InternalStateModule.get,Int8Array$1=globalThis$7.Int8Array,Int8ArrayPrototype=Int8Array$1&&Int8Array$1.prototype,Uint8ClampedArray=globalThis$7.Uint8ClampedArray,Uint8ClampedArrayPrototype=Uint8ClampedArray&&Uint8ClampedArray.prototype,TypedArray$1=Int8Array$1&&getPrototypeOf(Int8Array$1),TypedArrayPrototype=Int8ArrayPrototype&&getPrototypeOf(Int8ArrayPrototype),ObjectPrototype=Object.prototype,TypeError$2=globalThis$7.TypeError,TO_STRING_TAG=wellKnownSymbol$1("toStringTag"),TYPED_ARRAY_TAG=uid$1("TYPED_ARRAY_TAG"),TYPED_ARRAY_CONSTRUCTOR="TypedArrayConstructor",NATIVE_ARRAY_BUFFER_VIEWS=NATIVE_ARRAY_BUFFER&&!!setPrototypeOf$1&&"Opera"!==classof$3(globalThis$7.opera),TypedArrayConstructorsList={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},BigIntArrayConstructorsList={BigInt64Array:8,BigUint64Array:8},getTypedArrayConstructor$3=function(t){var e=getPrototypeOf(t);if(isObject$3(e)){var i=getInternalState(e);return i&&hasOwn$4(i,TYPED_ARRAY_CONSTRUCTOR)?i[TYPED_ARRAY_CONSTRUCTOR]:getTypedArrayConstructor$3(e)}},isTypedArray=function(t){if(!isObject$3(t))return!1;var e=classof$3(t);return hasOwn$4(TypedArrayConstructorsList,e)||hasOwn$4(BigIntArrayConstructorsList,e)},aTypedArray$3=function(t){if(isTypedArray(t))return t;throw new TypeError$2("Target is not a typed array")},exportTypedArrayMethod$3=function(t,e,i,s){if(DESCRIPTORS$3){if(i)for(var B in TypedArrayConstructorsList){var n=globalThis$7[B];if(n&&hasOwn$4(n.prototype,t))try{delete n.prototype[t]}catch(i){try{n.prototype[t]=e}catch(t){}}}TypedArrayPrototype[t]&&!i||defineBuiltIn$2(TypedArrayPrototype,t,i?e:NATIVE_ARRAY_BUFFER_VIEWS&&Int8ArrayPrototype[t]||e,s)}};for(NAME$2 in TypedArrayConstructorsList)(Prototype=(Constructor=globalThis$7[NAME$2])&&Constructor.prototype)?enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR]=Constructor:NATIVE_ARRAY_BUFFER_VIEWS=!1;for(NAME$2 in BigIntArrayConstructorsList)(Prototype=(Constructor=globalThis$7[NAME$2])&&Constructor.prototype)&&(enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR]=Constructor);if((!NATIVE_ARRAY_BUFFER_VIEWS||!isCallable$5(TypedArray$1)||TypedArray$1===Function.prototype)&&(TypedArray$1=function(){throw new TypeError$2("Incorrect invocation")},NATIVE_ARRAY_BUFFER_VIEWS))for(NAME$2 in TypedArrayConstructorsList)globalThis$7[NAME$2]&&setPrototypeOf$1(globalThis$7[NAME$2],TypedArray$1);if((!NATIVE_ARRAY_BUFFER_VIEWS||!TypedArrayPrototype||TypedArrayPrototype===ObjectPrototype)&&(TypedArrayPrototype=TypedArray$1.prototype,NATIVE_ARRAY_BUFFER_VIEWS))for(NAME$2 in TypedArrayConstructorsList)globalThis$7[NAME$2]&&setPrototypeOf$1(globalThis$7[NAME$2].prototype,TypedArrayPrototype);if(NATIVE_ARRAY_BUFFER_VIEWS&&getPrototypeOf(Uint8ClampedArrayPrototype)!==TypedArrayPrototype&&setPrototypeOf$1(Uint8ClampedArrayPrototype,TypedArrayPrototype),DESCRIPTORS$3&&!hasOwn$4(TypedArrayPrototype,TO_STRING_TAG))for(NAME$2 in defineBuiltInAccessor$1(TypedArrayPrototype,TO_STRING_TAG,{configurable:!0,get:function(){return isObject$3(this)?this[TYPED_ARRAY_TAG]:void 0}}),TypedArrayConstructorsList)globalThis$7[NAME$2]&&createNonEnumerableProperty$1(globalThis$7[NAME$2],TYPED_ARRAY_TAG,NAME$2);var arrayBufferViewCore={aTypedArray:aTypedArray$3,exportTypedArrayMethod:exportTypedArrayMethod$3,getTypedArrayConstructor:getTypedArrayConstructor$3,TypedArrayPrototype:TypedArrayPrototype},arrayToReversed=arrayToReversed$2,ArrayBufferViewCore$2=arrayBufferViewCore,aTypedArray$2=ArrayBufferViewCore$2.aTypedArray,exportTypedArrayMethod$2=ArrayBufferViewCore$2.exportTypedArrayMethod,getTypedArrayConstructor$2=ArrayBufferViewCore$2.getTypedArrayConstructor;exportTypedArrayMethod$2("toReversed",(function(){return arrayToReversed(aTypedArray$2(this),getTypedArrayConstructor$2(this))}));var ArrayBufferViewCore$1=arrayBufferViewCore,uncurryThis$6=functionUncurryThis,aCallable=aCallable$j,arrayFromConstructorAndList=arrayFromConstructorAndList$2,aTypedArray$1=ArrayBufferViewCore$1.aTypedArray,getTypedArrayConstructor$1=ArrayBufferViewCore$1.getTypedArrayConstructor,exportTypedArrayMethod$1=ArrayBufferViewCore$1.exportTypedArrayMethod,sort$1=uncurryThis$6(ArrayBufferViewCore$1.TypedArrayPrototype.sort);exportTypedArrayMethod$1("toSorted",(function(t){void 0!==t&&aCallable(t);var e=aTypedArray$1(this),i=arrayFromConstructorAndList(getTypedArrayConstructor$1(e),e);return sort$1(i,t)}));var classof$2=classof$6,isBigIntArray$2=function(t){var e=classof$2(t);return"BigInt64Array"===e||"BigUint64Array"===e},toPrimitive=toPrimitive$2,$TypeError$1=TypeError,toBigInt$1=function(t){var e=toPrimitive(t,"number");if("number"==typeof e)throw new $TypeError$1("Can't convert number to bigint");return BigInt(e)},arrayWith=arrayWith$2,ArrayBufferViewCore=arrayBufferViewCore,isBigIntArray$1=isBigIntArray$2,toIntegerOrInfinity=toIntegerOrInfinity$8,toBigInt=toBigInt$1,aTypedArray=ArrayBufferViewCore.aTypedArray,getTypedArrayConstructor=ArrayBufferViewCore.getTypedArrayConstructor,exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod,PROPER_ORDER=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();exportTypedArrayMethod("with",{with:function(t,e){var i=aTypedArray(this),s=toIntegerOrInfinity(t),B=isBigIntArray$1(i)?toBigInt(e):+e;return arrayWith(i,getTypedArrayConstructor(i),s,B)}}.with,!PROPER_ORDER);var isCallable$4=isCallable$k,isObject$2=isObject$c,setPrototypeOf=objectSetPrototypeOf,inheritIfRequired$1=function(t,e,i){var s,B;return setPrototypeOf&&isCallable$4(s=e.constructor)&&s!==i&&isObject$2(B=s.prototype)&&B!==i.prototype&&setPrototypeOf(t,B),t},toString$4=toString$7,normalizeStringArgument$1=function(t,e){return void 0===t?arguments.length<2?"":e:toString$4(t)},domExceptionConstants={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}},uncurryThis$5=functionUncurryThis,$Error=Error,replace=uncurryThis$5("".replace),TEST=String(new $Error("zxcasd").stack),V8_OR_CHAKRA_STACK_ENTRY=/\n\s*at [^:]*:[^\n]*/,IS_V8_OR_CHAKRA_STACK=V8_OR_CHAKRA_STACK_ENTRY.test(TEST),errorStackClear=function(t,e){if(IS_V8_OR_CHAKRA_STACK&&"string"==typeof t&&!$Error.prepareStackTrace)for(;e--;)t=replace(t,V8_OR_CHAKRA_STACK_ENTRY,"");return t},$$7=_export,globalThis$6=globalThis_1,getBuiltIn$4=getBuiltIn$a,createPropertyDescriptor$1=createPropertyDescriptor$5,defineProperty=objectDefineProperty.f,hasOwn$3=hasOwnProperty_1,anInstance=anInstance$2,inheritIfRequired=inheritIfRequired$1,normalizeStringArgument=normalizeStringArgument$1,DOMExceptionConstants=domExceptionConstants,clearErrorStack=errorStackClear,DESCRIPTORS$2=descriptors,DOM_EXCEPTION="DOMException",Error$2=getBuiltIn$4("Error"),NativeDOMException=getBuiltIn$4(DOM_EXCEPTION),$DOMException=function(){anInstance(this,DOMExceptionPrototype);var t=arguments.length,e=normalizeStringArgument(t<1?void 0:arguments[0]),i=normalizeStringArgument(t<2?void 0:arguments[1],"Error"),s=new NativeDOMException(e,i),B=new Error$2(e);return B.name=DOM_EXCEPTION,defineProperty(s,"stack",createPropertyDescriptor$1(1,clearErrorStack(B.stack,1))),inheritIfRequired(s,this,$DOMException),s},DOMExceptionPrototype=$DOMException.prototype=NativeDOMException.prototype,ERROR_HAS_STACK="stack"in new Error$2(DOM_EXCEPTION),DOM_EXCEPTION_HAS_STACK="stack"in new NativeDOMException(1,2),descriptor=NativeDOMException&&DESCRIPTORS$2&&Object.getOwnPropertyDescriptor(globalThis$6,DOM_EXCEPTION),BUGGY_DESCRIPTOR=!(!descriptor||descriptor.writable&&descriptor.configurable),FORCED_CONSTRUCTOR=ERROR_HAS_STACK&&!BUGGY_DESCRIPTOR&&!DOM_EXCEPTION_HAS_STACK;$$7({global:!0,constructor:!0,forced:FORCED_CONSTRUCTOR},{DOMException:FORCED_CONSTRUCTOR?$DOMException:NativeDOMException});var PolyfilledDOMException=getBuiltIn$4(DOM_EXCEPTION),PolyfilledDOMExceptionPrototype=PolyfilledDOMException.prototype;if(PolyfilledDOMExceptionPrototype.constructor!==PolyfilledDOMException)for(var key in defineProperty(PolyfilledDOMExceptionPrototype,"constructor",createPropertyDescriptor$1(1,PolyfilledDOMException)),DOMExceptionConstants)if(hasOwn$3(DOMExceptionConstants,key)){var constant$5=DOMExceptionConstants[key],constantName=constant$5.s;hasOwn$3(PolyfilledDOMException,constantName)||defineProperty(PolyfilledDOMException,constantName,createPropertyDescriptor$1(6,constant$5.c))}var $location,defer,channel,port,$TypeError=TypeError,validateArgumentsLength$7=function(t,e){if(t<e)throw new $TypeError("Not enough arguments");return t},userAgent=environmentUserAgent,environmentIsIos=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent),globalThis$5=globalThis_1,apply$1=functionApply,bind=functionBindContext,isCallable$3=isCallable$k,hasOwn$2=hasOwnProperty_1,fails$5=fails$o,html=html$2,arraySlice$1=arraySlice$2,createElement=documentCreateElement$1,validateArgumentsLength$6=validateArgumentsLength$7,IS_IOS=environmentIsIos,IS_NODE=environmentIsNode,set$2=globalThis$5.setImmediate,clear=globalThis$5.clearImmediate,process=globalThis$5.process,Dispatch$1=globalThis$5.Dispatch,Function$2=globalThis$5.Function,MessageChannel=globalThis$5.MessageChannel,String$1=globalThis$5.String,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange";fails$5((function(){$location=globalThis$5.location}));var run=function(t){if(hasOwn$2(queue,t)){var e=queue[t];delete queue[t],e()}},runner=function(t){return function(){run(t)}},eventListener=function(t){run(t.data)},globalPostMessageDefer=function(t){globalThis$5.postMessage(String$1(t),$location.protocol+"//"+$location.host)};set$2&&clear||(set$2=function(t){validateArgumentsLength$6(arguments.length,1);var e=isCallable$3(t)?t:Function$2(t),i=arraySlice$1(arguments,1);return queue[++counter]=function(){apply$1(e,void 0,i)},defer(counter),counter},clear=function(t){delete queue[t]},IS_NODE?defer=function(t){process.nextTick(runner(t))}:Dispatch$1&&Dispatch$1.now?defer=function(t){Dispatch$1.now(runner(t))}:MessageChannel&&!IS_IOS?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=eventListener,defer=bind(port.postMessage,port)):globalThis$5.addEventListener&&isCallable$3(globalThis$5.postMessage)&&!globalThis$5.importScripts&&$location&&"file:"!==$location.protocol&&!fails$5(globalPostMessageDefer)?(defer=globalPostMessageDefer,globalThis$5.addEventListener("message",eventListener,!1)):defer=ONREADYSTATECHANGE in createElement("script")?function(t){html.appendChild(createElement("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run(t)}}:function(t){setTimeout(runner(t),0)});var task={set:set$2,clear:clear},$$6=_export,globalThis$4=globalThis_1,clearImmediate=task.clear;$$6({global:!0,bind:!0,enumerable:!0,forced:globalThis$4.clearImmediate!==clearImmediate},{clearImmediate:clearImmediate});var globalThis$3=globalThis_1,apply=functionApply,isCallable$2=isCallable$k,ENVIRONMENT=environment,USER_AGENT=environmentUserAgent,arraySlice=arraySlice$2,validateArgumentsLength$5=validateArgumentsLength$7,Function$1=globalThis$3.Function,WRAP=/MSIE .\./.test(USER_AGENT)||"BUN"===ENVIRONMENT&&function(){var t=globalThis$3.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),schedulersFix$1=function(t,e){var i=e?2:1;return WRAP?function(s,B){var n=validateArgumentsLength$5(arguments.length,1)>i,l=isCallable$2(s)?s:Function$1(s),Q=n?arraySlice(arguments,i):[],F=n?function(){apply(l,this,Q)}:l;return e?t(F,B):t(F)}:t},$$5=_export,globalThis$2=globalThis_1,setTask=task.set,schedulersFix=schedulersFix$1,setImmediate=globalThis$2.setImmediate?schedulersFix(setTask,!1):setTask;$$5({global:!0,bind:!0,enumerable:!0,forced:globalThis$2.setImmediate!==setImmediate},{setImmediate:setImmediate});var uncurryThis$4=functionUncurryThis,fails$4=fails$o,isCallable$1=isCallable$k,classof$1=classof$6,getBuiltIn$3=getBuiltIn$a,inspectSource=inspectSource$2,noop$3=function(){},construct=getBuiltIn$3("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec=uncurryThis$4(constructorRegExp.exec),INCORRECT_TO_STRING=!constructorRegExp.test(noop$3),isConstructorModern=function(t){if(!isCallable$1(t))return!1;try{return construct(noop$3,[],t),!0}catch(t){return!1}},isConstructorLegacy=function(t){if(!isCallable$1(t))return!1;switch(classof$1(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING||!!exec(constructorRegExp,inspectSource(t))}catch(t){return!0}};isConstructorLegacy.sham=!0;var isConstructor$1=!construct||fails$4((function(){var t;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern((function(){t=!0}))||t}))?isConstructorLegacy:isConstructorModern,call=functionCall,hasOwn$1=hasOwnProperty_1,isPrototypeOf=objectIsPrototypeOf,regExpFlags=regexpFlags,RegExpPrototype=RegExp.prototype,regexpGetFlags=function(t){var e=t.flags;return void 0!==e||"flags"in RegExpPrototype||hasOwn$1(t,"flags")||!isPrototypeOf(RegExpPrototype,t)?e:call(regExpFlags,t)},fails$3=fails$o,createPropertyDescriptor=createPropertyDescriptor$5,errorStackInstallable=!fails$3((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",createPropertyDescriptor(1,7)),7!==t.stack)})),$$4=_export,globalThis$1=globalThis_1,getBuiltIn$2=getBuiltIn$a,uncurryThis$3=functionUncurryThis,fails$2=fails$o,uid=uid$4,isCallable=isCallable$k,isConstructor=isConstructor$1,isNullOrUndefined=isNullOrUndefined$4,isObject$1=isObject$c,isSymbol$1=isSymbol$4,iterate=iterate$b,anObject=anObject$o,classof=classof$6,hasOwn=hasOwnProperty_1,createProperty=createProperty$2,createNonEnumerableProperty=createNonEnumerableProperty$5,lengthOfArrayLike=lengthOfArrayLike$9,validateArgumentsLength$4=validateArgumentsLength$7,getRegExpFlags=regexpGetFlags,MapHelpers=mapHelpers,SetHelpers=setHelpers,setIterate=setIterate$1,detachTransferable=detachTransferable$2,ERROR_STACK_INSTALLABLE=errorStackInstallable,PROPER_STRUCTURED_CLONE_TRANSFER=structuredCloneProperTransfer,Object$1=globalThis$1.Object,Array$1=globalThis$1.Array,Date$1=globalThis$1.Date,Error$1=globalThis$1.Error,TypeError$1=globalThis$1.TypeError,PerformanceMark=globalThis$1.PerformanceMark,DOMException=getBuiltIn$2("DOMException"),Map$1=MapHelpers.Map,mapHas=MapHelpers.has,mapGet=MapHelpers.get,mapSet=MapHelpers.set,Set$1=SetHelpers.Set,setAdd=SetHelpers.add,setHas=SetHelpers.has,objectKeys=getBuiltIn$2("Object","keys"),push$1=uncurryThis$3([].push),thisBooleanValue=uncurryThis$3((!0).valueOf),thisNumberValue=uncurryThis$3(1..valueOf),thisStringValue=uncurryThis$3("".valueOf),thisTimeValue=uncurryThis$3(Date$1.prototype.getTime),PERFORMANCE_MARK=uid("structuredClone"),DATA_CLONE_ERROR="DataCloneError",TRANSFERRING="Transferring",checkBasicSemantic=function(t){return!fails$2((function(){var e=new globalThis$1.Set([7]),i=t(e),s=t(Object$1(7));return i===e||!i.has(7)||!isObject$1(s)||7!=+s}))&&t},checkErrorsCloning=function(t,e){return!fails$2((function(){var i=new e,s=t({a:i,b:i});return!(s&&s.a===s.b&&s.a instanceof e&&s.a.stack===i.stack)}))},checkNewErrorsCloningSemantic=function(t){return!fails$2((function(){var e=t(new globalThis$1.AggregateError([1],PERFORMANCE_MARK,{cause:3}));return"AggregateError"!==e.name||1!==e.errors[0]||e.message!==PERFORMANCE_MARK||3!==e.cause}))},nativeStructuredClone=globalThis$1.structuredClone,FORCED_REPLACEMENT=!checkErrorsCloning(nativeStructuredClone,Error$1)||!checkErrorsCloning(nativeStructuredClone,DOMException)||!checkNewErrorsCloningSemantic(nativeStructuredClone),structuredCloneFromMark=!nativeStructuredClone&&checkBasicSemantic((function(t){return new PerformanceMark(PERFORMANCE_MARK,{detail:t}).detail})),nativeRestrictedStructuredClone=checkBasicSemantic(nativeStructuredClone)||structuredCloneFromMark,throwUncloneable=function(t){throw new DOMException("Uncloneable type: "+t,DATA_CLONE_ERROR)},throwUnpolyfillable=function(t,e){throw new DOMException((e||"Cloning")+" of "+t+" cannot be properly polyfilled in this engine",DATA_CLONE_ERROR)},tryNativeRestrictedStructuredClone=function(t,e){return nativeRestrictedStructuredClone||throwUnpolyfillable(e),nativeRestrictedStructuredClone(t)},createDataTransfer=function(){var t;try{t=new globalThis$1.DataTransfer}catch(e){try{t=new globalThis$1.ClipboardEvent("").clipboardData}catch(t){}}return t&&t.items&&t.files?t:null},cloneBuffer=function(t,e,i){if(mapHas(e,t))return mapGet(e,t);var s,B,n,l,Q,F;if("SharedArrayBuffer"===(i||classof(t)))s=nativeRestrictedStructuredClone?nativeRestrictedStructuredClone(t):t;else{var c=globalThis$1.DataView;c||isCallable(t.slice)||throwUnpolyfillable("ArrayBuffer");try{if(isCallable(t.slice)&&!t.resizable)s=t.slice(0);else{B=t.byteLength,n="maxByteLength"in t?{maxByteLength:t.maxByteLength}:void 0,s=new ArrayBuffer(B,n),l=new c(t),Q=new c(s);for(F=0;F<B;F++)Q.setUint8(F,l.getUint8(F))}}catch(t){throw new DOMException("ArrayBuffer is detached",DATA_CLONE_ERROR)}}return mapSet(e,t,s),s},cloneView=function(t,e,i,s,B){var n=globalThis$1[e];return isObject$1(n)||throwUnpolyfillable(e),new n(cloneBuffer(t.buffer,B),i,s)},structuredCloneInternal=function(t,e){if(isSymbol$1(t)&&throwUncloneable("Symbol"),!isObject$1(t))return t;if(e){if(mapHas(e,t))return mapGet(e,t)}else e=new Map$1;var i,s,B,n,l,Q,F,c,g=classof(t);switch(g){case"Array":B=Array$1(lengthOfArrayLike(t));break;case"Object":B={};break;case"Map":B=new Map$1;break;case"Set":B=new Set$1;break;case"RegExp":B=new RegExp(t.source,getRegExpFlags(t));break;case"Error":switch(s=t.name){case"AggregateError":B=new(getBuiltIn$2(s))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":B=new(getBuiltIn$2(s));break;case"CompileError":case"LinkError":case"RuntimeError":B=new(getBuiltIn$2("WebAssembly",s));break;default:B=new Error$1}break;case"DOMException":B=new DOMException(t.message,t.name);break;case"ArrayBuffer":case"SharedArrayBuffer":B=cloneBuffer(t,e,g);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Q="DataView"===g?t.byteLength:t.length,B=cloneView(t,g,t.byteOffset,Q,e);break;case"DOMQuad":try{B=new DOMQuad(structuredCloneInternal(t.p1,e),structuredCloneInternal(t.p2,e),structuredCloneInternal(t.p3,e),structuredCloneInternal(t.p4,e))}catch(e){B=tryNativeRestrictedStructuredClone(t,g)}break;case"File":if(nativeRestrictedStructuredClone)try{B=nativeRestrictedStructuredClone(t),classof(B)!==g&&(B=void 0)}catch(t){}if(!B)try{B=new File([t],t.name,t)}catch(t){}B||throwUnpolyfillable(g);break;case"FileList":if(n=createDataTransfer()){for(l=0,Q=lengthOfArrayLike(t);l<Q;l++)n.items.add(structuredCloneInternal(t[l],e));B=n.files}else B=tryNativeRestrictedStructuredClone(t,g);break;case"ImageData":try{B=new ImageData(structuredCloneInternal(t.data,e),t.width,t.height,{colorSpace:t.colorSpace})}catch(e){B=tryNativeRestrictedStructuredClone(t,g)}break;default:if(nativeRestrictedStructuredClone)B=nativeRestrictedStructuredClone(t);else switch(g){case"BigInt":B=Object$1(t.valueOf());break;case"Boolean":B=Object$1(thisBooleanValue(t));break;case"Number":B=Object$1(thisNumberValue(t));break;case"String":B=Object$1(thisStringValue(t));break;case"Date":B=new Date$1(thisTimeValue(t));break;case"Blob":try{B=t.slice(0,t.size,t.type)}catch(t){throwUnpolyfillable(g)}break;case"DOMPoint":case"DOMPointReadOnly":i=globalThis$1[g];try{B=i.fromPoint?i.fromPoint(t):new i(t.x,t.y,t.z,t.w)}catch(t){throwUnpolyfillable(g)}break;case"DOMRect":case"DOMRectReadOnly":i=globalThis$1[g];try{B=i.fromRect?i.fromRect(t):new i(t.x,t.y,t.width,t.height)}catch(t){throwUnpolyfillable(g)}break;case"DOMMatrix":case"DOMMatrixReadOnly":i=globalThis$1[g];try{B=i.fromMatrix?i.fromMatrix(t):new i(t)}catch(t){throwUnpolyfillable(g)}break;case"AudioData":case"VideoFrame":isCallable(t.clone)||throwUnpolyfillable(g);try{B=t.clone()}catch(t){throwUncloneable(g)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":throwUnpolyfillable(g);default:throwUncloneable(g)}}switch(mapSet(e,t,B),g){case"Array":case"Object":for(F=objectKeys(t),l=0,Q=lengthOfArrayLike(F);l<Q;l++)c=F[l],createProperty(B,c,structuredCloneInternal(t[c],e));break;case"Map":t.forEach((function(t,i){mapSet(B,structuredCloneInternal(i,e),structuredCloneInternal(t,e))}));break;case"Set":t.forEach((function(t){setAdd(B,structuredCloneInternal(t,e))}));break;case"Error":createNonEnumerableProperty(B,"message",structuredCloneInternal(t.message,e)),hasOwn(t,"cause")&&createNonEnumerableProperty(B,"cause",structuredCloneInternal(t.cause,e)),"AggregateError"===s?B.errors=structuredCloneInternal(t.errors,e):"SuppressedError"===s&&(B.error=structuredCloneInternal(t.error,e),B.suppressed=structuredCloneInternal(t.suppressed,e));case"DOMException":ERROR_STACK_INSTALLABLE&&createNonEnumerableProperty(B,"stack",structuredCloneInternal(t.stack,e))}return B},tryToTransfer=function(t,e){if(!isObject$1(t))throw new TypeError$1("Transfer option cannot be converted to a sequence");var i=[];iterate(t,(function(t){push$1(i,anObject(t))}));for(var s,B,n,l,Q,F=0,c=lengthOfArrayLike(i),g=new Set$1;F<c;){if(s=i[F++],"ArrayBuffer"===(B=classof(s))?setHas(g,s):mapHas(e,s))throw new DOMException("Duplicate transferable",DATA_CLONE_ERROR);if("ArrayBuffer"!==B){if(PROPER_STRUCTURED_CLONE_TRANSFER)l=nativeStructuredClone(s,{transfer:[s]});else switch(B){case"ImageBitmap":n=globalThis$1.OffscreenCanvas,isConstructor(n)||throwUnpolyfillable(B,TRANSFERRING);try{(Q=new n(s.width,s.height)).getContext("bitmaprenderer").transferFromImageBitmap(s),l=Q.transferToImageBitmap()}catch(t){}break;case"AudioData":case"VideoFrame":isCallable(s.clone)&&isCallable(s.close)||throwUnpolyfillable(B,TRANSFERRING);try{l=s.clone(),s.close()}catch(t){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":throwUnpolyfillable(B,TRANSFERRING)}if(void 0===l)throw new DOMException("This object cannot be transferred: "+B,DATA_CLONE_ERROR);mapSet(e,s,l)}else setAdd(g,s)}return g},detachBuffers=function(t){setIterate(t,(function(t){PROPER_STRUCTURED_CLONE_TRANSFER?nativeRestrictedStructuredClone(t,{transfer:[t]}):isCallable(t.transfer)?t.transfer():detachTransferable?detachTransferable(t):throwUnpolyfillable("ArrayBuffer",TRANSFERRING)}))};$$4({global:!0,enumerable:!0,sham:!PROPER_STRUCTURED_CLONE_TRANSFER,forced:FORCED_REPLACEMENT},{structuredClone:function(t){var e,i,s=validateArgumentsLength$4(arguments.length,1)>1&&!isNullOrUndefined(arguments[1])?anObject(arguments[1]):void 0,B=s?s.transfer:void 0;void 0!==B&&(e=new Map$1,i=tryToTransfer(B,e));var n=structuredCloneInternal(t,e);return i&&detachBuffers(i),n}});var fails$1=fails$o,wellKnownSymbol=wellKnownSymbol$b,DESCRIPTORS$1=descriptors,IS_PURE=isPure,ITERATOR=wellKnownSymbol("iterator"),urlConstructorDetection=!fails$1((function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,i=new URLSearchParams("a=1&a=2&b=3"),s="";return t.pathname="c%20d",e.forEach((function(t,i){e.delete("b"),s+=i+t})),i.delete("a",2),i.delete("b",void 0),IS_PURE&&(!t.toJSON||!i.has("a",1)||i.has("a",2)||!i.has("a",void 0)||i.has("b"))||!e.size&&(IS_PURE||!DESCRIPTORS$1)||!e.sort||"https://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[ITERATOR]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("https://a#Ð±").hash||"a1c3"!==s||"x"!==new URL("https://x",void 0).host})),$$3=_export,getBuiltIn$1=getBuiltIn$a,fails=fails$o,validateArgumentsLength$3=validateArgumentsLength$7,toString$3=toString$7,USE_NATIVE_URL$1=urlConstructorDetection,URL$2=getBuiltIn$1("URL"),THROWS_WITHOUT_ARGUMENTS=USE_NATIVE_URL$1&&fails((function(){URL$2.canParse()})),WRONG_ARITY=fails((function(){return 1!==URL$2.canParse.length}));$$3({target:"URL",stat:!0,forced:!THROWS_WITHOUT_ARGUMENTS||WRONG_ARITY},{canParse:function(t){var e=validateArgumentsLength$3(arguments.length,1),i=toString$3(t),s=e<2||void 0===arguments[1]?void 0:toString$3(arguments[1]);try{return!!new URL$2(i,s)}catch(t){return!1}}});var $$2=_export,getBuiltIn=getBuiltIn$a,validateArgumentsLength$2=validateArgumentsLength$7,toString$2=toString$7,USE_NATIVE_URL=urlConstructorDetection,URL$1=getBuiltIn("URL");$$2({target:"URL",stat:!0,forced:!USE_NATIVE_URL},{parse:function(t){var e=validateArgumentsLength$2(arguments.length,1),i=toString$2(t),s=e<2||void 0===arguments[1]?void 0:toString$2(arguments[1]);try{return new URL$1(i,s)}catch(t){return null}}});var defineBuiltIn$1=defineBuiltIn$6,uncurryThis$2=functionUncurryThis,toString$1=toString$7,validateArgumentsLength$1=validateArgumentsLength$7,$URLSearchParams$1=URLSearchParams,URLSearchParamsPrototype$2=$URLSearchParams$1.prototype,append$2=uncurryThis$2(URLSearchParamsPrototype$2.append),$delete=uncurryThis$2(URLSearchParamsPrototype$2.delete),forEach$1=uncurryThis$2(URLSearchParamsPrototype$2.forEach),push=uncurryThis$2([].push),params$1=new $URLSearchParams$1("a=1&a=2&b=3");params$1.delete("a",1),params$1.delete("b",void 0),params$1+""!="a=2"&&defineBuiltIn$1(URLSearchParamsPrototype$2,"delete",(function(t){var e=arguments.length,i=e<2?void 0:arguments[1];if(e&&void 0===i)return $delete(this,t);var s=[];forEach$1(this,(function(t,e){push(s,{key:e,value:t})})),validateArgumentsLength$1(e,1);for(var B,n=toString$1(t),l=toString$1(i),Q=0,F=0,c=!1,g=s.length;Q<g;)B=s[Q++],c||B.key===n?(c=!0,$delete(this,B.key)):F++;for(;F<g;)(B=s[F++]).key===n&&B.value===l||append$2(this,B.key,B.value)}),{enumerable:!0,unsafe:!0});var defineBuiltIn=defineBuiltIn$6,uncurryThis$1=functionUncurryThis,toString=toString$7,validateArgumentsLength=validateArgumentsLength$7,$URLSearchParams=URLSearchParams,URLSearchParamsPrototype$1=$URLSearchParams.prototype,getAll=uncurryThis$1(URLSearchParamsPrototype$1.getAll),$has=uncurryThis$1(URLSearchParamsPrototype$1.has),params=new $URLSearchParams("a=1");!params.has("a",2)&&params.has("a",void 0)||defineBuiltIn(URLSearchParamsPrototype$1,"has",(function(t){var e=arguments.length,i=e<2?void 0:arguments[1];if(e&&void 0===i)return $has(this,t);var s=getAll(this,t);validateArgumentsLength(e,1);for(var B=toString(i),n=0;n<s.length;)if(s[n++]===B)return!0;return!1}),{enumerable:!0,unsafe:!0});var DESCRIPTORS=descriptors,uncurryThis=functionUncurryThis,defineBuiltInAccessor=defineBuiltInAccessor$5,URLSearchParamsPrototype=URLSearchParams.prototype,forEach=uncurryThis(URLSearchParamsPrototype.forEach);DESCRIPTORS&&!("size"in URLSearchParamsPrototype)&&defineBuiltInAccessor(URLSearchParamsPrototype,"size",{get:function(){var t=0;return forEach(this,(function(){t++})),t},configurable:!0,enumerable:!0});const elementMap=new Map;var Data={set(t,e,i){elementMap.has(t)||elementMap.set(t,new Map);const s=elementMap.get(t);s.has(e)||0===s.size?s.set(e,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`)},get:(t,e)=>elementMap.has(t)&&elementMap.get(t).get(e)||null,remove(t,e){if(!elementMap.has(t))return;const i=elementMap.get(t);i.delete(e),0===i.size&&elementMap.delete(t)}};const MILLISECONDS_MULTIPLIER=1e3,TRANSITION_END="transitionend",parseSelector=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,((t,e)=>`#${CSS.escape(e)}`))),t),toType=t=>null==t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),getTransitionDurationFromElement=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);const s=Number.parseFloat(e),B=Number.parseFloat(i);return s||B?(e=e.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(i))):0},triggerTransitionEnd=t=>{t.dispatchEvent(new Event(TRANSITION_END))},isElement=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),getElement=t=>isElement(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(parseSelector(t)):null,isVisible=t=>{if(!isElement(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),i=t.closest("details:not([open])");if(!i)return e;if(i!==t){const e=t.closest("summary");if(e&&e.parentNode!==i)return!1;if(null===e)return!1}return e},isDisabled=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),reflow=t=>{t.offsetHeight},getjQuery=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,DOMContentLoadedCallbacks=[],onDOMContentLoaded=t=>{"loading"===document.readyState?(DOMContentLoadedCallbacks.length||document.addEventListener("DOMContentLoaded",(()=>{for(const t of DOMContentLoadedCallbacks)t()})),DOMContentLoadedCallbacks.push(t)):t()},defineJQueryPlugin=t=>{onDOMContentLoaded((()=>{const e=getjQuery();if(e){const i=t.NAME,s=e.fn[i];e.fn[i]=t.jQueryInterface,e.fn[i].Constructor=t,e.fn[i].noConflict=()=>(e.fn[i]=s,t.jQueryInterface)}}))},execute=(t,e=[],i=t)=>"function"==typeof t?t(...e):i,executeAfterTransition=(t,e,i=!0)=>{if(!i)return void execute(t);const s=getTransitionDurationFromElement(e)+5;let B=!1;const n=({target:i})=>{i===e&&(B=!0,e.removeEventListener(TRANSITION_END,n),execute(t))};e.addEventListener(TRANSITION_END,n),setTimeout((()=>{B||triggerTransitionEnd(e)}),s)},namespaceRegex=/[^.]*(?=\..*)\.|.*/,stripNameRegex=/\..*/,stripUidRegex=/::\d+$/,eventRegistry={};let uidEvent=1;const customEvents={mouseenter:"mouseover",mouseleave:"mouseout"},nativeEvents=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function makeEventUid(t,e){return e&&`${e}::${uidEvent++}`||t.uidEvent||uidEvent++}function getElementEvents(t){const e=makeEventUid(t);return t.uidEvent=e,eventRegistry[e]=eventRegistry[e]||{},eventRegistry[e]}function bootstrapHandler(t,e){return function i(s){return hydrateObj(s,{delegateTarget:t}),i.oneOff&&EventHandler.off(t,s.type,e),e.apply(t,[s])}}function bootstrapDelegationHandler(t,e,i){return function s(B){const n=t.querySelectorAll(e);for(let{target:l}=B;l&&l!==this;l=l.parentNode)for(const Q of n)if(Q===l)return hydrateObj(B,{delegateTarget:l}),s.oneOff&&EventHandler.off(t,B.type,e,i),i.apply(l,[B])}}function findHandler(t,e,i=null){return Object.values(t).find((t=>t.callable===e&&t.delegationSelector===i))}function normalizeParameters(t,e,i){const s="string"==typeof e,B=s?i:e||i;let n=getTypeEvent(t);return nativeEvents.has(n)||(n=t),[s,B,n]}function addHandler(t,e,i,s,B){if("string"!=typeof e||!t)return;let[n,l,Q]=normalizeParameters(e,i,s);if(e in customEvents){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};l=t(l)}const F=getElementEvents(t),c=F[Q]||(F[Q]={}),g=findHandler(c,l,n?i:null);if(g)return void(g.oneOff=g.oneOff&&B);const a=makeEventUid(l,e.replace(namespaceRegex,"")),I=n?bootstrapDelegationHandler(t,i,l):bootstrapHandler(t,l);I.delegationSelector=n?i:null,I.callable=l,I.oneOff=B,I.uidEvent=a,c[a]=I,t.addEventListener(Q,I,n)}function removeHandler(t,e,i,s,B){const n=findHandler(e[i],s,B);n&&(t.removeEventListener(i,n,Boolean(B)),delete e[i][n.uidEvent])}function removeNamespacedHandlers(t,e,i,s){const B=e[i]||{};for(const[n,l]of Object.entries(B))n.includes(s)&&removeHandler(t,e,i,l.callable,l.delegationSelector)}function getTypeEvent(t){return t=t.replace(stripNameRegex,""),customEvents[t]||t}const EventHandler={on(t,e,i,s){addHandler(t,e,i,s,!1)},one(t,e,i,s){addHandler(t,e,i,s,!0)},off(t,e,i,s){if("string"!=typeof e||!t)return;const[B,n,l]=normalizeParameters(e,i,s),Q=l!==e,F=getElementEvents(t),c=F[l]||{},g=e.startsWith(".");if(void 0===n){if(g)for(const i of Object.keys(F))removeNamespacedHandlers(t,F,i,e.slice(1));for(const[i,s]of Object.entries(c)){const B=i.replace(stripUidRegex,"");Q&&!e.includes(B)||removeHandler(t,F,l,s.callable,s.delegationSelector)}}else{if(!Object.keys(c).length)return;removeHandler(t,F,l,n,B?i:null)}},trigger(t,e,i){if("string"!=typeof e||!t)return null;const s=getjQuery();let B=null,n=!0,l=!0,Q=!1;e!==getTypeEvent(e)&&s&&(B=s.Event(e,i),s(t).trigger(B),n=!B.isPropagationStopped(),l=!B.isImmediatePropagationStopped(),Q=B.isDefaultPrevented());const F=hydrateObj(new Event(e,{bubbles:n,cancelable:!0}),i);return Q&&F.preventDefault(),l&&t.dispatchEvent(F),F.defaultPrevented&&B&&B.preventDefault(),F}};function hydrateObj(t,e={}){for(const[i,s]of Object.entries(e))try{t[i]=s}catch{Object.defineProperty(t,i,{configurable:!0,get:()=>s})}return t}function normalizeData(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function normalizeDataKey(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const Manipulator={setDataAttribute(t,e,i){t.setAttribute(`data-bs-${normalizeDataKey(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${normalizeDataKey(e)}`)},getDataAttributes(t){if(!t)return{};const e={},i=Object.keys(t.dataset).filter((t=>t.startsWith("bs")&&!t.startsWith("bsConfig")));for(const s of i){let i=s.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=normalizeData(t.dataset[s])}return e},getDataAttribute:(t,e)=>normalizeData(t.getAttribute(`data-bs-${normalizeDataKey(e)}`))};class Config{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=isElement(e)?Manipulator.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...isElement(e)?Manipulator.getDataAttributes(e):{},..."object"==typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,s]of Object.entries(e)){const e=t[i],B=isElement(e)?"element":toType(e);if(!new RegExp(s).test(B))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${B}" but expected type "${s}".`)}}}const VERSION="5.3.3";class BaseComponent extends Config{constructor(t,e){super(),(t=getElement(t))&&(this._element=t,this._config=this._getConfig(e),Data.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Data.remove(this._element,this.constructor.DATA_KEY),EventHandler.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){executeAfterTransition(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Data.get(getElement(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const NAME$1="button",DATA_KEY$1="bs.button",EVENT_KEY$1=`.${DATA_KEY$1}`,DATA_API_KEY$1=".data-api",CLASS_NAME_ACTIVE="active",SELECTOR_DATA_TOGGLE$1='[data-bs-toggle="button"]',EVENT_CLICK_DATA_API$1=`click${EVENT_KEY$1}.data-api`;class Button extends BaseComponent{static get NAME(){return NAME$1}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each((function(){const e=Button.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}EventHandler.on(document,EVENT_CLICK_DATA_API$1,SELECTOR_DATA_TOGGLE$1,(t=>{t.preventDefault();const e=t.target.closest(SELECTOR_DATA_TOGGLE$1);Button.getOrCreateInstance(e).toggle()})),defineJQueryPlugin(Button);const getSelector=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let i=t.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),e=i&&"#"!==i?i.trim():null}return e?e.split(",").map((t=>parseSelector(t))).join(","):null},SelectorEngine={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const i=[];let s=t.parentNode.closest(e);for(;s;)i.push(s),s=s.parentNode.closest(e);return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(",");return this.find(e,t).filter((t=>!isDisabled(t)&&isVisible(t)))},getSelectorFromElement(t){const e=getSelector(t);return e&&SelectorEngine.findOne(e)?e:null},getElementFromSelector(t){const e=getSelector(t);return e?SelectorEngine.findOne(e):null},getMultipleElementsFromSelector(t){const e=getSelector(t);return e?SelectorEngine.find(e):[]}},NAME="collapse",DATA_KEY="bs.collapse",EVENT_KEY=`.${DATA_KEY}`,DATA_API_KEY=".data-api",EVENT_SHOW=`show${EVENT_KEY}`,EVENT_SHOWN=`shown${EVENT_KEY}`,EVENT_HIDE=`hide${EVENT_KEY}`,EVENT_HIDDEN=`hidden${EVENT_KEY}`,EVENT_CLICK_DATA_API=`click${EVENT_KEY}.data-api`,CLASS_NAME_SHOW="show",CLASS_NAME_COLLAPSE="collapse",CLASS_NAME_COLLAPSING="collapsing",CLASS_NAME_COLLAPSED="collapsed",CLASS_NAME_DEEPER_CHILDREN=":scope .collapse .collapse",CLASS_NAME_HORIZONTAL="collapse-horizontal",WIDTH="width",HEIGHT="height",SELECTOR_ACTIVES=".collapse.show, .collapse.collapsing",SELECTOR_DATA_TOGGLE='[data-bs-toggle="collapse"]',Default={parent:null,toggle:!0},DefaultType={parent:"(null|element)",toggle:"boolean"};class Collapse extends BaseComponent{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=SelectorEngine.find(SELECTOR_DATA_TOGGLE);for(const t of i){const e=SelectorEngine.getSelectorFromElement(t),i=SelectorEngine.find(e).filter((t=>t===this._element));null!==e&&i.length&&this._triggerArray.push(t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(SELECTOR_ACTIVES).filter((t=>t!==this._element)).map((t=>Collapse.getOrCreateInstance(t,{toggle:!1})))),t.length&&t[0]._isTransitioning)return;if(EventHandler.trigger(this._element,EVENT_SHOW).defaultPrevented)return;for(const e of t)e.hide();const e=this._getDimension();this._element.classList.remove("collapse"),this._element.classList.add("collapsing"),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${e[0].toUpperCase()+e.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove("collapsing"),this._element.classList.add("collapse","show"),this._element.style[e]="",EventHandler.trigger(this._element,EVENT_SHOWN)}),this._element,!0),this._element.style[e]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(EventHandler.trigger(this._element,EVENT_HIDE).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,reflow(this._element),this._element.classList.add("collapsing"),this._element.classList.remove("collapse","show");for(const t of this._triggerArray){const e=SelectorEngine.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;this._element.style[t]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove("collapsing"),this._element.classList.add("collapse"),EventHandler.trigger(this._element,EVENT_HIDDEN)}),this._element,!0)}_isShown(t=this._element){return t.classList.contains("show")}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=getElement(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?WIDTH:HEIGHT}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE);for(const e of t){const t=SelectorEngine.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN,this._config.parent);return SelectorEngine.find(t,this._config.parent).filter((t=>!e.includes(t)))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each((function(){const i=Collapse.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}}))}}EventHandler.on(document,EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const t of SelectorEngine.getMultipleElementsFromSelector(this))Collapse.getOrCreateInstance(t,{toggle:!1}).toggle()})),defineJQueryPlugin(Collapse);
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const t$3=globalThis,e$4=t$3.ShadowRoot&&(void 0===t$3.ShadyCSS||t$3.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$4=Symbol(),o$6=new WeakMap;let n$5=class{constructor(t,e,i){if(this._$cssResult$=!0,i!==s$4)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(e$4&&void 0===t){const i=void 0!==e&&1===e.length;i&&(t=o$6.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&o$6.set(e,t))}return t}toString(){return this.cssText}};const r$6=t=>new n$5("string"==typeof t?t:t+"",void 0,s$4),i$6=(t,...e)=>{const i=1===t.length?t[0]:e.reduce(((e,i,s)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1]),t[0]);return new n$5(i,t,s$4)},S$2=(t,e)=>{if(e$4)t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const i of e){const e=document.createElement("style"),s=t$3.litNonce;void 0!==s&&e.setAttribute("nonce",s),e.textContent=i.cssText,t.appendChild(e)}},c$7=e$4?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return r$6(e)})(t):t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,{is:i$5,defineProperty:e$3,getOwnPropertyDescriptor:r$5,getOwnPropertyNames:h$3,getOwnPropertySymbols:o$5,getPrototypeOf:n$4}=Object,a$4=globalThis,c$6=a$4.trustedTypes,l$2=c$6?c$6.emptyScript:"",p$2=a$4.reactiveElementPolyfillSupport,d$2=(t,e)=>t,u$2={toAttribute(t,e){switch(e){case Boolean:t=t?l$2:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f$4=(t,e)=>!i$5(t,e),y$2={attribute:!0,type:String,converter:u$2,reflect:!1,hasChanged:f$4};Symbol.metadata??=Symbol("metadata"),a$4.litPropertyMetadata??=new WeakMap;let b$2=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=y$2){if(e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(t,e),!e.noAccessor){const i=Symbol(),s=this.getPropertyDescriptor(t,i,e);void 0!==s&&e$3(this.prototype,t,s)}}static getPropertyDescriptor(t,e,i){const{get:s,set:B}=r$5(this.prototype,t)??{get(){return this[e]},set(t){this[e]=t}};return{get(){return s?.call(this)},set(e){const n=s?.call(this);B.call(this,e),this.requestUpdate(t,n,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??y$2}static _$Ei(){if(this.hasOwnProperty(d$2("elementProperties")))return;const t=n$4(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d$2("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d$2("properties"))){const t=this.properties,e=[...h$3(t),...o$5(t)];for(const i of e)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const e=litPropertyMetadata.get(t);if(void 0!==e)for(const[t,i]of e)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,e]of this.elementProperties){const i=this._$Eu(t,e);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift(c$7(t))}else void 0!==t&&e.push(c$7(t));return e}static _$Eu(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const i of e.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return S$2(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$EC(t,e){const i=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,i);if(void 0!==s&&!0===i.reflect){const B=(void 0!==i.converter?.toAttribute?i.converter:u$2).toAttribute(e,i.type);this._$Em=t,null==B?this.removeAttribute(s):this.setAttribute(s,B),this._$Em=null}}_$AK(t,e){const i=this.constructor,s=i._$Eh.get(t);if(void 0!==s&&this._$Em!==s){const t=i.getPropertyOptions(s),B="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u$2;this._$Em=s,this[s]=B.fromAttribute(e,t.type),this._$Em=null}}requestUpdate(t,e,i){if(void 0!==t){if(i??=this.constructor.getPropertyOptions(t),!(i.hasChanged??f$4)(this[t],e))return;this.P(t,e,i)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(t,e,i){this._$AL.has(t)||this._$AL.set(t,e),!0===i.reflect&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,i]of t)!0!==i.wrapped||this._$AL.has(e)||void 0===this[e]||this.P(e,this[e],i)}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(e)):this._$EU()}catch(e){throw t=!1,this._$EU(),e}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach((t=>this._$EC(t,this[t]))),this._$EU()}updated(t){}firstUpdated(t){}};b$2.elementStyles=[],b$2.shadowRootOptions={mode:"open"},b$2[d$2("elementProperties")]=new Map,b$2[d$2("finalized")]=new Map,p$2?.({ReactiveElement:b$2}),(a$4.reactiveElementVersions??=[]).push("2.0.4");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const t$2=globalThis,i$4=t$2.trustedTypes,s$3=i$4?i$4.createPolicy("lit-html",{createHTML:t=>t}):void 0,e$2="$lit$",h$2=`lit$${Math.random().toFixed(9).slice(2)}$`,o$4="?"+h$2,n$3=`<${o$4}>`,r$4=document,l$1=()=>r$4.createComment(""),c$5=t=>null===t||"object"!=typeof t&&"function"!=typeof t,a$3=Array.isArray,u$1=t=>a$3(t)||"function"==typeof t?.[Symbol.iterator],d$1="[ \t\n\f\r]",f$3=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v$2=/-->/g,_$1=/>/g,m$1=RegExp(`>|${d$1}(?:([^\\s"'>=/]+)(${d$1}*=${d$1}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),p$1=/'/g,g$2=/"/g,$$1=/^(?:script|style|textarea|title)$/i,y$1=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),x$2=y$1(1),b$1=y$1(2),T$1=Symbol.for("lit-noChange"),E$2=Symbol.for("lit-nothing"),A$3=new WeakMap,C$2=r$4.createTreeWalker(r$4,129);function P$1(t,e){if(!a$3(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==s$3?s$3.createHTML(e):e}const V$1=(t,e)=>{const i=t.length-1,s=[];let B,n=2===e?"<svg>":3===e?"<math>":"",l=f$3;for(let e=0;e<i;e++){const i=t[e];let Q,F,c=-1,g=0;for(;g<i.length&&(l.lastIndex=g,F=l.exec(i),null!==F);)g=l.lastIndex,l===f$3?"!--"===F[1]?l=v$2:void 0!==F[1]?l=_$1:void 0!==F[2]?($$1.test(F[2])&&(B=RegExp("</"+F[2],"g")),l=m$1):void 0!==F[3]&&(l=m$1):l===m$1?">"===F[0]?(l=B??f$3,c=-1):void 0===F[1]?c=-2:(c=l.lastIndex-F[2].length,Q=F[1],l=void 0===F[3]?m$1:'"'===F[3]?g$2:p$1):l===g$2||l===p$1?l=m$1:l===v$2||l===_$1?l=f$3:(l=m$1,B=void 0);const a=l===m$1&&t[e+1].startsWith("/>")?" ":"";n+=l===f$3?i+n$3:c>=0?(s.push(Q),i.slice(0,c)+e$2+i.slice(c)+h$2+a):i+h$2+(-2===c?e:a)}return[P$1(t,n+(t[i]||"<?>")+(2===e?"</svg>":3===e?"</math>":"")),s]};let N$2=class t{constructor({strings:e,_$litType$:i},s){let B;this.parts=[];let n=0,l=0;const Q=e.length-1,F=this.parts,[c,g]=V$1(e,i);if(this.el=t.createElement(c,s),C$2.currentNode=this.el.content,2===i||3===i){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(B=C$2.nextNode())&&F.length<Q;){if(1===B.nodeType){if(B.hasAttributes())for(const t of B.getAttributeNames())if(t.endsWith(e$2)){const e=g[l++],i=B.getAttribute(t).split(h$2),s=/([.?@])?(.*)/.exec(e);F.push({type:1,index:n,name:s[2],strings:i,ctor:"."===s[1]?H$1:"?"===s[1]?I$1:"@"===s[1]?L$1:k$2}),B.removeAttribute(t)}else t.startsWith(h$2)&&(F.push({type:6,index:n}),B.removeAttribute(t));if($$1.test(B.tagName)){const t=B.textContent.split(h$2),e=t.length-1;if(e>0){B.textContent=i$4?i$4.emptyScript:"";for(let i=0;i<e;i++)B.append(t[i],l$1()),C$2.nextNode(),F.push({type:2,index:++n});B.append(t[e],l$1())}}}else if(8===B.nodeType)if(B.data===o$4)F.push({type:2,index:n});else{let t=-1;for(;-1!==(t=B.data.indexOf(h$2,t+1));)F.push({type:7,index:n}),t+=h$2.length-1}n++}}static createElement(t,e){const i=r$4.createElement("template");return i.innerHTML=t,i}};function S$1(t,e,i=t,s){if(e===T$1)return e;let B=void 0!==s?i._$Co?.[s]:i._$Cl;const n=c$5(e)?void 0:e._$litDirective$;return B?.constructor!==n&&(B?._$AO?.(!1),void 0===n?B=void 0:(B=new n(t),B._$AT(t,i,s)),void 0!==s?(i._$Co??=[])[s]=B:i._$Cl=B),void 0!==B&&(e=S$1(t,B._$AS(t,e.values),B,s)),e}let M$2=class{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:i}=this._$AD,s=(t?.creationScope??r$4).importNode(e,!0);C$2.currentNode=s;let B=C$2.nextNode(),n=0,l=0,Q=i[0];for(;void 0!==Q;){if(n===Q.index){let e;2===Q.type?e=new R$1(B,B.nextSibling,this,t):1===Q.type?e=new Q.ctor(B,Q.name,Q.strings,this,t):6===Q.type&&(e=new z(B,this,t)),this._$AV.push(e),Q=i[++l]}n!==Q?.index&&(B=C$2.nextNode(),n++)}return C$2.currentNode=r$4,s}p(t){let e=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}},R$1=class t{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,i,s){this.type=2,this._$AH=E$2,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=S$1(this,t,e),c$5(t)?t===E$2||null==t||""===t?(this._$AH!==E$2&&this._$AR(),this._$AH=E$2):t!==this._$AH&&t!==T$1&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u$1(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E$2&&c$5(this._$AH)?this._$AA.nextSibling.data=t:this.T(r$4.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:i}=t,s="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=N$2.createElement(P$1(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===s)this._$AH.p(e);else{const t=new M$2(s,this),i=t.u(this.options);t.p(e),this.T(i),this._$AH=t}}_$AC(t){let e=A$3.get(t.strings);return void 0===e&&A$3.set(t.strings,e=new N$2(t)),e}k(e){a$3(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,B=0;for(const n of e)B===i.length?i.push(s=new t(this.O(l$1()),this.O(l$1()),this,this.options)):s=i[B],s._$AI(n),B++;B<i.length&&(this._$AR(s&&s._$AB.nextSibling,B),i.length=B)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}},k$2=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,i,s,B){this.type=1,this._$AH=E$2,this._$AN=void 0,this.element=t,this.name=e,this._$AM=s,this.options=B,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=E$2}_$AI(t,e=this,i,s){const B=this.strings;let n=!1;if(void 0===B)t=S$1(this,t,e,0),n=!c$5(t)||t!==this._$AH&&t!==T$1,n&&(this._$AH=t);else{const s=t;let l,Q;for(t=B[0],l=0;l<B.length-1;l++)Q=S$1(this,s[i+l],e,l),Q===T$1&&(Q=this._$AH[l]),n||=!c$5(Q)||Q!==this._$AH[l],Q===E$2?t=E$2:t!==E$2&&(t+=(Q??"")+B[l+1]),this._$AH[l]=Q}n&&!s&&this.j(t)}j(t){t===E$2?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},H$1=class extends k$2{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E$2?void 0:t}},I$1=class extends k$2{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E$2)}},L$1=class extends k$2{constructor(t,e,i,s,B){super(t,e,i,s,B),this.type=5}_$AI(t,e=this){if((t=S$1(this,t,e,0)??E$2)===T$1)return;const i=this._$AH,s=t===E$2&&i!==E$2||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,B=t!==E$2&&(i===E$2||s);s&&this.element.removeEventListener(this.name,this,i),B&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}};class z{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){S$1(this,t)}}const j$1=t$2.litHtmlPolyfillSupport;j$1?.(N$2,R$1),(t$2.litHtmlVersions??=[]).push("3.2.1");const B$1=(t,e,i)=>{const s=i?.renderBefore??e;let B=s._$litPart$;if(void 0===B){const t=i?.renderBefore??null;s._$litPart$=B=new R$1(e.insertBefore(l$1(),t),t,void 0,i??{})}return B._$AI(t),B};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let r$3=class extends b$2{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=B$1(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return T$1}};r$3._$litElement$=!0,r$3.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:r$3});const i$3=globalThis.litElementPolyfillSupport;function ascending$1(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function descending(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bisector(t){let e,i,s;function B(t,s,B=0,n=t.length){if(B<n){if(0!==e(s,s))return n;do{const e=B+n>>>1;i(t[e],s)<0?B=e+1:n=e}while(B<n)}return B}return 2!==t.length?(e=ascending$1,i=(e,i)=>ascending$1(t(e),i),s=(e,i)=>t(e)-i):(e=t===ascending$1||t===descending?t:zero$1,i=t,s=t),{left:B,center:function(t,e,i=0,n=t.length){const l=B(t,e,i,n-1);return l>i&&s(t[l-1],e)>-s(t[l],e)?l-1:l},right:function(t,s,B=0,n=t.length){if(B<n){if(0!==e(s,s))return n;do{const e=B+n>>>1;i(t[e],s)<=0?B=e+1:n=e}while(B<n)}return B}}}function zero$1(){return 0}function number$4(t){return null===t?NaN:+t}function*numbers(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let i=-1;for(let s of t)null!=(s=e(s,++i,t))&&(s=+s)>=s&&(yield s)}}i$3?.({LitElement:r$3}),(globalThis.litElementVersions??=[]).push("4.1.1");const ascendingBisect=bisector(ascending$1),bisectRight=ascendingBisect.right;function count(t,e){let i=0;for(let e of t)null!=e&&(e=+e)>=e&&++i;return i}function length$1(t){return 0|t.length}function empty$1(t){return!(t>0)}function arrayify$1(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function reducer(t){return e=>t(...e)}function cross(...t){const e="function"==typeof t[t.length-1]&&reducer(t.pop()),i=(t=t.map(arrayify$1)).map(length$1),s=t.length-1,B=new Array(s+1).fill(0),n=[];if(s<0||i.some(empty$1))return n;for(;;){n.push(B.map(((e,i)=>t[i][e])));let l=s;for(;++B[l]===i[l];){if(0===l)return e?n.map(e):n;B[l--]=0}}}function cumsum(t,e){var i=0;return Float64Array.from(t,(t=>i+=+t||0))}function variance(t,e){let i,s=0,B=0,n=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(i=e-B,B+=i/++s,n+=i*(e-B));else{let l=-1;for(let Q of t)null!=(Q=e(Q,++l,t))&&(Q=+Q)>=Q&&(i=Q-B,B+=i/++s,n+=i*(Q-B))}if(s>1)return n/(s-1)}function deviation(t,e){const i=variance(t,e);return i?Math.sqrt(i):i}function extent$1(t,e){let i,s;if(void 0===e)for(const e of t)null!=e&&(void 0===i?e>=e&&(i=s=e):(i>e&&(i=e),s<e&&(s=e)));else{let B=-1;for(let n of t)null!=(n=e(n,++B,t))&&(void 0===i?n>=n&&(i=s=n):(i>n&&(i=n),s<n&&(s=n)))}return[i,s]}bisector(number$4).center;class Adder{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let i=0;for(let s=0;s<this._n&&s<32;s++){const B=e[s],n=t+B,l=Math.abs(t)<Math.abs(B)?t-(n-B):B-(n-t);l&&(e[i++]=l),t=n}return e[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let e,i,s,B=this._n,n=0;if(B>0){for(n=t[--B];B>0&&(e=n,i=t[--B],n=e+i,s=i-(n-e),!s););B>0&&(s<0&&t[B-1]<0||s>0&&t[B-1]>0)&&(i=2*s,e=n+i,i==e-n&&(n=e))}return n}}class InternMap extends Map{constructor(t,e=keyof$1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,i]of t)this.set(e,i)}get(t){return super.get(intern_get(this,t))}has(t){return super.has(intern_get(this,t))}set(t,e){return super.set(intern_set(this,t),e)}delete(t){return super.delete(intern_delete(this,t))}}class InternSet extends Set{constructor(t,e=keyof$1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(intern_get(this,t))}add(t){return super.add(intern_set(this,t))}delete(t){return super.delete(intern_delete(this,t))}}function intern_get({_intern:t,_key:e},i){const s=e(i);return t.has(s)?t.get(s):i}function intern_set({_intern:t,_key:e},i){const s=e(i);return t.has(s)?t.get(s):(t.set(s,i),i)}function intern_delete({_intern:t,_key:e},i){const s=e(i);return t.has(s)&&(i=t.get(s),t.delete(s)),i}function keyof$1(t){return null!==t&&"object"==typeof t?t.valueOf():t}function identity$8(t){return t}function group(t,...e){return nest(t,identity$8,identity$8,e)}function rollup(t,e,...i){return nest(t,identity$8,e,i)}function rollups(t,e,...i){return nest(t,Array.from,e,i)}function nest(t,e,i,s){return function t(B,n){if(n>=s.length)return i(B);const l=new InternMap,Q=s[n++];let F=-1;for(const t of B){const e=Q(t,++F,B),i=l.get(e);i?i.push(t):l.set(e,[t])}for(const[e,i]of l)l.set(e,t(i,n));return e(l)}(t,0)}function permute(t,e){return Array.from(e,(e=>t[e]))}function sort(t,...e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[i]=e;if(i&&2!==i.length||e.length>1){const s=Uint32Array.from(t,((t,e)=>e));return e.length>1?(e=e.map((e=>t.map(e))),s.sort(((t,i)=>{for(const s of e){const e=ascendingDefined$1(s[t],s[i]);if(e)return e}}))):(i=t.map(i),s.sort(((t,e)=>ascendingDefined$1(i[t],i[e])))),permute(t,s)}return t.sort(compareDefined(i))}function compareDefined(t=ascending$1){if(t===ascending$1)return ascendingDefined$1;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,i)=>{const s=t(e,i);return s||0===s?s:(0===t(i,i))-(0===t(e,e))}}function ascendingDefined$1(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function groupSort(t,e,i){return(2!==e.length?sort(rollup(t,e,i),(([t,e],[i,s])=>ascending$1(e,s)||ascending$1(t,i))):sort(group(t,i),(([t,i],[s,B])=>e(i,B)||ascending$1(t,s)))).map((([t])=>t))}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(t,e,i){const s=(e-t)/Math.max(0,i),B=Math.floor(Math.log10(s)),n=s/Math.pow(10,B),l=n>=e10?10:n>=e5?5:n>=e2?2:1;let Q,F,c;return B<0?(c=Math.pow(10,-B)/l,Q=Math.round(t*c),F=Math.round(e*c),Q/c<t&&++Q,F/c>e&&--F,c=-c):(c=Math.pow(10,B)*l,Q=Math.round(t/c),F=Math.round(e/c),Q*c<t&&++Q,F*c>e&&--F),F<Q&&.5<=i&&i<2?tickSpec(t,e,2*i):[Q,F,c]}function ticks(t,e,i){if(!((i=+i)>0))return[];if((t=+t)===(e=+e))return[t];const s=e<t,[B,n,l]=s?tickSpec(e,t,i):tickSpec(t,e,i);if(!(n>=B))return[];const Q=n-B+1,F=new Array(Q);if(s)if(l<0)for(let t=0;t<Q;++t)F[t]=(n-t)/-l;else for(let t=0;t<Q;++t)F[t]=(n-t)*l;else if(l<0)for(let t=0;t<Q;++t)F[t]=(B+t)/-l;else for(let t=0;t<Q;++t)F[t]=(B+t)*l;return F}function tickIncrement(t,e,i){return tickSpec(t=+t,e=+e,i=+i)[2]}function tickStep(t,e,i){i=+i;const s=(e=+e)<(t=+t),B=s?tickIncrement(e,t,i):tickIncrement(t,e,i);return(s?-1:1)*(B<0?1/-B:B)}function thresholdSturges(t){return Math.max(1,Math.ceil(Math.log(count(t))/Math.LN2)+1)}function max(t,e){let i;if(void 0===e)for(const e of t)null!=e&&(i<e||void 0===i&&e>=e)&&(i=e);else{let s=-1;for(let B of t)null!=(B=e(B,++s,t))&&(i<B||void 0===i&&B>=B)&&(i=B)}return i}function maxIndex(t,e){let i,s=-1,B=-1;if(void 0===e)for(const e of t)++B,null!=e&&(i<e||void 0===i&&e>=e)&&(i=e,s=B);else for(let n of t)null!=(n=e(n,++B,t))&&(i<n||void 0===i&&n>=n)&&(i=n,s=B);return s}function min$1(t,e){let i;if(void 0===e)for(const e of t)null!=e&&(i>e||void 0===i&&e>=e)&&(i=e);else{let s=-1;for(let B of t)null!=(B=e(B,++s,t))&&(i>B||void 0===i&&B>=B)&&(i=B)}return i}function minIndex(t,e){let i,s=-1,B=-1;if(void 0===e)for(const e of t)++B,null!=e&&(i>e||void 0===i&&e>=e)&&(i=e,s=B);else for(let n of t)null!=(n=e(n,++B,t))&&(i>n||void 0===i&&n>=n)&&(i=n,s=B);return s}function quickselect(t,e,i=0,s=1/0,B){if(e=Math.floor(e),i=Math.floor(Math.max(0,i)),s=Math.floor(Math.min(t.length-1,s)),!(i<=e&&e<=s))return t;for(B=void 0===B?ascendingDefined$1:compareDefined(B);s>i;){if(s-i>600){const n=s-i+1,l=e-i+1,Q=Math.log(n),F=.5*Math.exp(2*Q/3),c=.5*Math.sqrt(Q*F*(n-F)/n)*(l-n/2<0?-1:1);quickselect(t,e,Math.max(i,Math.floor(e-l*F/n+c)),Math.min(s,Math.floor(e+(n-l)*F/n+c)),B)}const n=t[e];let l=i,Q=s;for(swap(t,i,e),B(t[s],n)>0&&swap(t,i,s);l<Q;){for(swap(t,l,Q),++l,--Q;B(t[l],n)<0;)++l;for(;B(t[Q],n)>0;)--Q}0===B(t[i],n)?swap(t,i,Q):(++Q,swap(t,Q,s)),Q<=e&&(i=Q+1),e<=Q&&(s=Q-1)}return t}function swap(t,e,i){const s=t[e];t[e]=t[i],t[i]=s}function greatest(t,e=ascending$1){let i,s=!1;if(1===e.length){let B;for(const n of t){const t=e(n);(s?ascending$1(t,B)>0:0===ascending$1(t,t))&&(i=n,B=t,s=!0)}}else for(const B of t)(s?e(B,i)>0:0===e(B,B))&&(i=B,s=!0);return i}function quantile$1(t,e,i){if((s=(t=Float64Array.from(numbers(t,i))).length)&&!isNaN(e=+e)){if(e<=0||s<2)return min$1(t);if(e>=1)return max(t);var s,B=(s-1)*e,n=Math.floor(B),l=max(quickselect(t,n).subarray(0,n+1));return l+(min$1(t.subarray(n+1))-l)*(B-n)}}function quantileSorted(t,e,i=number$4){if((s=t.length)&&!isNaN(e=+e)){if(e<=0||s<2)return+i(t[0],0,t);if(e>=1)return+i(t[s-1],s-1,t);var s,B=(s-1)*e,n=Math.floor(B),l=+i(t[n],n,t);return l+(+i(t[n+1],n+1,t)-l)*(B-n)}}function thresholdFreedmanDiaconis(t,e,i){const s=count(t),B=quantile$1(t,.75)-quantile$1(t,.25);return s&&B?Math.ceil((i-e)/(2*B*Math.pow(s,-1/3))):1}function thresholdScott(t,e,i){const s=count(t),B=deviation(t);return s&&B?Math.ceil((i-e)*Math.cbrt(s)/(3.49*B)):1}function mean(t,e){let i=0,s=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++i,s+=e);else{let B=-1;for(let n of t)null!=(n=e(n,++B,t))&&(n=+n)>=n&&(++i,s+=n)}if(i)return s/i}function median(t,e){return quantile$1(t,.5,e)}function*flatten(t){for(const e of t)yield*e}function merge(t){return Array.from(flatten(t))}function mode(t,e){const i=new InternMap;if(void 0===e)for(let e of t)null!=e&&e>=e&&i.set(e,(i.get(e)||0)+1);else{let s=-1;for(let B of t)null!=(B=e(B,++s,t))&&B>=B&&i.set(B,(i.get(B)||0)+1)}let s,B=0;for(const[t,e]of i)e>B&&(B=e,s=t);return s}function pairs(t,e=pair){const i=[];let s,B=!1;for(const n of t)B&&i.push(e(s,n)),s=n,B=!0;return i}function pair(t,e){return[t,e]}function range$1(t,e,i){t=+t,e=+e,i=(B=arguments.length)<2?(e=t,t=0,1):B<3?1:+i;for(var s=-1,B=0|Math.max(0,Math.ceil((e-t)/i)),n=new Array(B);++s<B;)n[s]=t+s*i;return n}function sum(t,e){let i=0;if(void 0===e)for(let e of t)(e=+e)&&(i+=e);else{let s=-1;for(let B of t)(B=+e(B,++s,t))&&(i+=B)}return i}function reverse(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function identity$7(t){return t}var top=1,right=2,bottom=3,left=4,epsilon$3=1e-6;function translateX(t){return"translate("+t+",0)"}function translateY(t){return"translate(0,"+t+")"}function number$3(t){return e=>+t(e)}function center(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),i=>+t(i)+e}function entering(){return!this.__axis}function axis(t,e){var i=[],s=null,B=null,n=6,l=6,Q=3,F="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=t===top||t===left?-1:1,g=t===left||t===right?"x":"y",a=t===top||t===bottom?translateX:translateY;function I(I){var U=null==s?e.ticks?e.ticks.apply(e,i):e.domain():s,r=null==B?e.tickFormat?e.tickFormat.apply(e,i):identity$7:B,o=Math.max(n,0)+Q,d=e.range(),b=+d[0]+F,C=+d[d.length-1]+F,u=(e.bandwidth?center:number$3)(e.copy(),F),y=I.selection?I.selection():I,h=y.selectAll(".domain").data([null]),A=y.selectAll(".tick").data(U,e).order(),G=A.exit(),R=A.enter().append("g").attr("class","tick"),x=A.select("line"),m=A.select("text");h=h.merge(h.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(R),x=x.merge(R.append("line").attr("stroke","currentColor").attr(g+"2",c*n)),m=m.merge(R.append("text").attr("fill","currentColor").attr(g,c*o).attr("dy",t===top?"0em":t===bottom?"0.71em":"0.32em")),I!==y&&(h=h.transition(I),A=A.transition(I),x=x.transition(I),m=m.transition(I),G=G.transition(I).attr("opacity",epsilon$3).attr("transform",(function(t){return isFinite(t=u(t))?a(t+F):this.getAttribute("transform")})),R.attr("opacity",epsilon$3).attr("transform",(function(t){var e=this.parentNode.__axis;return a((e&&isFinite(e=e(t))?e:u(t))+F)}))),G.remove(),h.attr("d",t===left||t===right?l?"M"+c*l+","+b+"H"+F+"V"+C+"H"+c*l:"M"+F+","+b+"V"+C:l?"M"+b+","+c*l+"V"+F+"H"+C+"V"+c*l:"M"+b+","+F+"H"+C),A.attr("opacity",1).attr("transform",(function(t){return a(u(t)+F)})),x.attr(g+"2",c*n),m.attr(g,c*o).text(r),y.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===right?"start":t===left?"end":"middle"),y.each((function(){this.__axis=u}))}return I.scale=function(t){return arguments.length?(e=t,I):e},I.ticks=function(){return i=Array.from(arguments),I},I.tickArguments=function(t){return arguments.length?(i=null==t?[]:Array.from(t),I):i.slice()},I.tickValues=function(t){return arguments.length?(s=null==t?null:Array.from(t),I):s&&s.slice()},I.tickFormat=function(t){return arguments.length?(B=t,I):B},I.tickSize=function(t){return arguments.length?(n=l=+t,I):n},I.tickSizeInner=function(t){return arguments.length?(n=+t,I):n},I.tickSizeOuter=function(t){return arguments.length?(l=+t,I):l},I.tickPadding=function(t){return arguments.length?(Q=+t,I):Q},I.offset=function(t){return arguments.length?(F=+t,I):F},I}function axisBottom(t){return axis(bottom,t)}function axisLeft(t){return axis(left,t)}var noop$2={value:()=>{}};function dispatch(){for(var t,e=0,i=arguments.length,s={};e<i;++e){if(!(t=arguments[e]+"")||t in s||/[\s.]/.test(t))throw new Error("illegal type: "+t);s[t]=[]}return new Dispatch(s)}function Dispatch(t){this._=t}function parseTypenames$1(t,e){return t.trim().split(/^|\s+/).map((function(t){var i="",s=t.indexOf(".");if(s>=0&&(i=t.slice(s+1),t=t.slice(0,s)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}}))}function get$1(t,e){for(var i,s=0,B=t.length;s<B;++s)if((i=t[s]).name===e)return i.value}function set$1(t,e,i){for(var s=0,B=t.length;s<B;++s)if(t[s].name===e){t[s]=noop$2,t=t.slice(0,s).concat(t.slice(s+1));break}return null!=i&&t.push({name:e,value:i}),t}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(t,e){var i,s=this._,B=parseTypenames$1(t+"",s),n=-1,l=B.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++n<l;)if(i=(t=B[n]).type)s[i]=set$1(s[i],t.name,e);else if(null==e)for(i in s)s[i]=set$1(s[i],t.name,null);return this}for(;++n<l;)if((i=(t=B[n]).type)&&(i=get$1(s[i],t.name)))return i},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new Dispatch(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var i,s,B=new Array(i),n=0;n<i;++n)B[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(n=0,i=(s=this._[t]).length;n<i;++n)s[n].value.apply(e,B)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var s=this._[t],B=0,n=s.length;B<n;++B)s[B].value.apply(e,i)}};var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml:xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(t){var e=t+="",i=e.indexOf(":");return i>=0&&"xmlns"!==(e=t.slice(0,i))&&(t=t.slice(i+1)),namespaces.hasOwnProperty(e)?{space:namespaces[e],local:t}:t}function creatorInherit(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===xhtml&&e.documentElement.namespaceURI===xhtml?e.createElement(t):e.createElementNS(i,t)}}function creatorFixed(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function creator(t){var e=namespace(t);return(e.local?creatorFixed:creatorInherit)(e)}function none(){}function selector(t){return null==t?none:function(){return this.querySelector(t)}}function selection_select(t){"function"!=typeof t&&(t=selector(t));for(var e=this._groups,i=e.length,s=new Array(i),B=0;B<i;++B)for(var n,l,Q=e[B],F=Q.length,c=s[B]=new Array(F),g=0;g<F;++g)(n=Q[g])&&(l=t.call(n,n.__data__,g,Q))&&("__data__"in n&&(l.__data__=n.__data__),c[g]=l);return new Selection$1(s,this._parents)}function array$1(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function empty(){return[]}function selectorAll(t){return null==t?empty:function(){return this.querySelectorAll(t)}}function arrayAll(t){return function(){return array$1(t.apply(this,arguments))}}function selection_selectAll(t){t="function"==typeof t?arrayAll(t):selectorAll(t);for(var e=this._groups,i=e.length,s=[],B=[],n=0;n<i;++n)for(var l,Q=e[n],F=Q.length,c=0;c<F;++c)(l=Q[c])&&(s.push(t.call(l,l.__data__,c,Q)),B.push(l));return new Selection$1(s,B)}function matcher(t){return function(){return this.matches(t)}}function childMatcher(t){return function(e){return e.matches(t)}}var find=Array.prototype.find;function childFind(t){return function(){return find.call(this.children,t)}}function childFirst(){return this.firstElementChild}function selection_selectChild(t){return this.select(null==t?childFirst:childFind("function"==typeof t?t:childMatcher(t)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(t){return function(){return filter.call(this.children,t)}}function selection_selectChildren(t){return this.selectAll(null==t?children:childrenFilter("function"==typeof t?t:childMatcher(t)))}function selection_filter(t){"function"!=typeof t&&(t=matcher(t));for(var e=this._groups,i=e.length,s=new Array(i),B=0;B<i;++B)for(var n,l=e[B],Q=l.length,F=s[B]=[],c=0;c<Q;++c)(n=l[c])&&t.call(n,n.__data__,c,l)&&F.push(n);return new Selection$1(s,this._parents)}function sparse(t){return new Array(t.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function constant$4(t){return function(){return t}}function bindIndex(t,e,i,s,B,n){for(var l,Q=0,F=e.length,c=n.length;Q<c;++Q)(l=e[Q])?(l.__data__=n[Q],s[Q]=l):i[Q]=new EnterNode(t,n[Q]);for(;Q<F;++Q)(l=e[Q])&&(B[Q]=l)}function bindKey(t,e,i,s,B,n,l){var Q,F,c,g=new Map,a=e.length,I=n.length,U=new Array(a);for(Q=0;Q<a;++Q)(F=e[Q])&&(U[Q]=c=l.call(F,F.__data__,Q,e)+"",g.has(c)?B[Q]=F:g.set(c,F));for(Q=0;Q<I;++Q)c=l.call(t,n[Q],Q,n)+"",(F=g.get(c))?(s[Q]=F,F.__data__=n[Q],g.delete(c)):i[Q]=new EnterNode(t,n[Q]);for(Q=0;Q<a;++Q)(F=e[Q])&&g.get(U[Q])===F&&(B[Q]=F)}function datum(t){return t.__data__}function selection_data(t,e){if(!arguments.length)return Array.from(this,datum);var i=e?bindKey:bindIndex,s=this._parents,B=this._groups;"function"!=typeof t&&(t=constant$4(t));for(var n=B.length,l=new Array(n),Q=new Array(n),F=new Array(n),c=0;c<n;++c){var g=s[c],a=B[c],I=a.length,U=arraylike(t.call(g,g&&g.__data__,c,s)),r=U.length,o=Q[c]=new Array(r),d=l[c]=new Array(r);i(g,a,o,d,F[c]=new Array(I),U,e);for(var b,C,u=0,y=0;u<r;++u)if(b=o[u]){for(u>=y&&(y=u+1);!(C=d[y])&&++y<r;);b._next=C||null}}return(l=new Selection$1(l,s))._enter=Q,l._exit=F,l}function arraylike(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(t,e,i){var s=this.enter(),B=this,n=this.exit();return"function"==typeof t?(s=t(s))&&(s=s.selection()):s=s.append(t+""),null!=e&&(B=e(B))&&(B=B.selection()),null==i?n.remove():i(n),s&&B?s.merge(B).order():B}function selection_merge(t){for(var e=t.selection?t.selection():t,i=this._groups,s=e._groups,B=i.length,n=s.length,l=Math.min(B,n),Q=new Array(B),F=0;F<l;++F)for(var c,g=i[F],a=s[F],I=g.length,U=Q[F]=new Array(I),r=0;r<I;++r)(c=g[r]||a[r])&&(U[r]=c);for(;F<B;++F)Q[F]=i[F];return new Selection$1(Q,this._parents)}function selection_order(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var s,B=t[e],n=B.length-1,l=B[n];--n>=0;)(s=B[n])&&(l&&4^s.compareDocumentPosition(l)&&l.parentNode.insertBefore(s,l),l=s);return this}function selection_sort(t){function e(e,i){return e&&i?t(e.__data__,i.__data__):!e-!i}t||(t=ascending);for(var i=this._groups,s=i.length,B=new Array(s),n=0;n<s;++n){for(var l,Q=i[n],F=Q.length,c=B[n]=new Array(F),g=0;g<F;++g)(l=Q[g])&&(c[g]=l);c.sort(e)}return new Selection$1(B,this._parents).order()}function ascending(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function selection_call(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var s=t[e],B=0,n=s.length;B<n;++B){var l=s[B];if(l)return l}return null}function selection_size(){let t=0;for(const e of this)++t;return t}function selection_empty(){return!this.node()}function selection_each(t){for(var e=this._groups,i=0,s=e.length;i<s;++i)for(var B,n=e[i],l=0,Q=n.length;l<Q;++l)(B=n[l])&&t.call(B,B.__data__,l,n);return this}function attrRemove$1(t){return function(){this.removeAttribute(t)}}function attrRemoveNS$1(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant$1(t,e){return function(){this.setAttribute(t,e)}}function attrConstantNS$1(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function attrFunction$1(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}}function attrFunctionNS$1(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function selection_attr(t,e){var i=namespace(t);if(arguments.length<2){var s=this.node();return i.local?s.getAttributeNS(i.space,i.local):s.getAttribute(i)}return this.each((null==e?i.local?attrRemoveNS$1:attrRemove$1:"function"==typeof e?i.local?attrFunctionNS$1:attrFunction$1:i.local?attrConstantNS$1:attrConstant$1)(i,e))}function defaultView(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function styleRemove$1(t){return function(){this.style.removeProperty(t)}}function styleConstant$1(t,e,i){return function(){this.style.setProperty(t,e,i)}}function styleFunction$1(t,e,i){return function(){var s=e.apply(this,arguments);null==s?this.style.removeProperty(t):this.style.setProperty(t,s,i)}}function selection_style(t,e,i){return arguments.length>1?this.each((null==e?styleRemove$1:"function"==typeof e?styleFunction$1:styleConstant$1)(t,e,null==i?"":i)):styleValue(this.node(),t)}function styleValue(t,e){return t.style.getPropertyValue(e)||defaultView(t).getComputedStyle(t,null).getPropertyValue(e)}function propertyRemove(t){return function(){delete this[t]}}function propertyConstant(t,e){return function(){this[t]=e}}function propertyFunction(t,e){return function(){var i=e.apply(this,arguments);null==i?delete this[t]:this[t]=i}}function selection_property(t,e){return arguments.length>1?this.each((null==e?propertyRemove:"function"==typeof e?propertyFunction:propertyConstant)(t,e)):this.node()[t]}function classArray(t){return t.trim().split(/^|\s+/)}function classList(t){return t.classList||new ClassList(t)}function ClassList(t){this._node=t,this._names=classArray(t.getAttribute("class")||"")}function classedAdd(t,e){for(var i=classList(t),s=-1,B=e.length;++s<B;)i.add(e[s])}function classedRemove(t,e){for(var i=classList(t),s=-1,B=e.length;++s<B;)i.remove(e[s])}function classedTrue(t){return function(){classedAdd(this,t)}}function classedFalse(t){return function(){classedRemove(this,t)}}function classedFunction(t,e){return function(){(e.apply(this,arguments)?classedAdd:classedRemove)(this,t)}}function selection_classed(t,e){var i=classArray(t+"");if(arguments.length<2){for(var s=classList(this.node()),B=-1,n=i.length;++B<n;)if(!s.contains(i[B]))return!1;return!0}return this.each(("function"==typeof e?classedFunction:e?classedTrue:classedFalse)(i,e))}function textRemove(){this.textContent=""}function textConstant$1(t){return function(){this.textContent=t}}function textFunction$1(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function selection_text(t){return arguments.length?this.each(null==t?textRemove:("function"==typeof t?textFunction$1:textConstant$1)(t)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(t){return function(){this.innerHTML=t}}function htmlFunction(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function selection_html(t){return arguments.length?this.each(null==t?htmlRemove:("function"==typeof t?htmlFunction:htmlConstant)(t)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(t){var e="function"==typeof t?t:creator(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}function constantNull(){return null}function selection_insert(t,e){var i="function"==typeof t?t:creator(t),s=null==e?constantNull:"function"==typeof e?e:selector(e);return this.select((function(){return this.insertBefore(i.apply(this,arguments),s.apply(this,arguments)||null)}))}function remove(){var t=this.parentNode;t&&t.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function selection_cloneDeep(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function selection_clone(t){return this.select(t?selection_cloneDeep:selection_cloneShallow)}function selection_datum(t){return arguments.length?this.property("__data__",t):this.node().__data__}function contextListener(t){return function(e){t.call(this,e,this.__data__)}}function parseTypenames(t){return t.trim().split(/^|\s+/).map((function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}}))}function onRemove(t){return function(){var e=this.__on;if(e){for(var i,s=0,B=-1,n=e.length;s<n;++s)i=e[s],t.type&&i.type!==t.type||i.name!==t.name?e[++B]=i:this.removeEventListener(i.type,i.listener,i.options);++B?e.length=B:delete this.__on}}}function onAdd(t,e,i){return function(){var s,B=this.__on,n=contextListener(e);if(B)for(var l=0,Q=B.length;l<Q;++l)if((s=B[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=n,s.options=i),void(s.value=e);this.addEventListener(t.type,n,i),s={type:t.type,name:t.name,value:e,listener:n,options:i},B?B.push(s):this.__on=[s]}}function selection_on(t,e,i){var s,B,n=parseTypenames(t+""),l=n.length;if(!(arguments.length<2)){for(Q=e?onAdd:onRemove,s=0;s<l;++s)this.each(Q(n[s],e,i));return this}var Q=this.node().__on;if(Q)for(var F,c=0,g=Q.length;c<g;++c)for(s=0,F=Q[c];s<l;++s)if((B=n[s]).type===F.type&&B.name===F.name)return F.value}function dispatchEvent(t,e,i){var s=defaultView(t),B=s.CustomEvent;"function"==typeof B?B=new B(e,i):(B=s.document.createEvent("Event"),i?(B.initEvent(e,i.bubbles,i.cancelable),B.detail=i.detail):B.initEvent(e,!1,!1)),t.dispatchEvent(B)}function dispatchConstant(t,e){return function(){return dispatchEvent(this,t,e)}}function dispatchFunction(t,e){return function(){return dispatchEvent(this,t,e.apply(this,arguments))}}function selection_dispatch(t,e){return this.each(("function"==typeof e?dispatchFunction:dispatchConstant)(t,e))}function*selection_iterator(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var s,B=t[e],n=0,l=B.length;n<l;++n)(s=B[n])&&(yield s)}EnterNode.prototype={constructor:EnterNode,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},ClassList.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var root=[null];function Selection$1(t,e){this._groups=t,this._parents=e}function selection(){return new Selection$1([[document.documentElement]],root)}function selection_selection(){return this}function select(t){return"string"==typeof t?new Selection$1([[document.querySelector(t)]],[document.documentElement]):new Selection$1([[t]],root)}function sourceEvent(t){let e;for(;e=t.sourceEvent;)t=e;return t}function pointof(t,e){if(t=sourceEvent(t),void 0===e&&(e=t.currentTarget),e){var i=e.ownerSVGElement||e;if(i.createSVGPoint){var s=i.createSVGPoint();return s.x=t.clientX,s.y=t.clientY,[(s=s.matrixTransform(e.getScreenCTM().inverse())).x,s.y]}if(e.getBoundingClientRect){var B=e.getBoundingClientRect();return[t.clientX-B.left-e.clientLeft,t.clientY-B.top-e.clientTop]}}return[t.pageX,t.pageY]}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};const nonpassive={passive:!1},nonpassivecapture={capture:!0,passive:!1};function nopropagation(t){t.stopImmediatePropagation()}function noevent(t){t.preventDefault(),t.stopImmediatePropagation()}function dragDisable(t){var e=t.document.documentElement,i=select(t).on("dragstart.drag",noevent,nonpassivecapture);"onselectstart"in e?i.on("selectstart.drag",noevent,nonpassivecapture):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function yesdrag(t,e){var i=t.document.documentElement,s=select(t).on("dragstart.drag",null);e&&(s.on("click.drag",noevent,nonpassivecapture),setTimeout((function(){s.on("click.drag",null)}),0)),"onselectstart"in i?s.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}var constant$3=t=>()=>t;function DragEvent(t,{sourceEvent:e,subject:i,target:s,identifier:B,active:n,x:l,y:Q,dx:F,dy:c,dispatch:g}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:B,enumerable:!0,configurable:!0},active:{value:n,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:Q,enumerable:!0,configurable:!0},dx:{value:F,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:g}})}function defaultFilter(t){return!t.ctrlKey&&!t.button}function defaultContainer(){return this.parentNode}function defaultSubject(t,e){return null==e?{x:t.x,y:t.y}:e}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function drag(){var t,e,i,s,B=defaultFilter,n=defaultContainer,l=defaultSubject,Q=defaultTouchable,F={},c=dispatch("start","drag","end"),g=0,a=0;function I(t){t.on("mousedown.drag",U).filter(Q).on("touchstart.drag",d).on("touchmove.drag",b,nonpassive).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function U(l,Q){if(!s&&B.call(this,l,Q)){var F=u(this,n.call(this,l,Q),l,Q,"mouse");F&&(select(l.view).on("mousemove.drag",r,nonpassivecapture).on("mouseup.drag",o,nonpassivecapture),dragDisable(l.view),nopropagation(l),i=!1,t=l.clientX,e=l.clientY,F("start",l))}}function r(s){if(noevent(s),!i){var B=s.clientX-t,n=s.clientY-e;i=B*B+n*n>a}F.mouse("drag",s)}function o(t){select(t.view).on("mousemove.drag mouseup.drag",null),yesdrag(t.view,i),noevent(t),F.mouse("end",t)}function d(t,e){if(B.call(this,t,e)){var i,s,l=t.changedTouches,Q=n.call(this,t,e),F=l.length;for(i=0;i<F;++i)(s=u(this,Q,t,e,l[i].identifier,l[i]))&&(nopropagation(t),s("start",t,l[i]))}}function b(t){var e,i,s=t.changedTouches,B=s.length;for(e=0;e<B;++e)(i=F[s[e].identifier])&&(noevent(t),i("drag",t,s[e]))}function C(t){var e,i,B=t.changedTouches,n=B.length;for(s&&clearTimeout(s),s=setTimeout((function(){s=null}),500),e=0;e<n;++e)(i=F[B[e].identifier])&&(nopropagation(t),i("end",t,B[e]))}function u(t,e,i,s,B,n){var Q,a,U,r=c.copy(),o=pointof(n||i,e);if(null!=(U=l.call(t,new DragEvent("beforestart",{sourceEvent:i,target:I,identifier:B,active:g,x:o[0],y:o[1],dx:0,dy:0,dispatch:r}),s)))return Q=U.x-o[0]||0,a=U.y-o[1]||0,function i(n,l,c){var d,b=o;switch(n){case"start":F[B]=i,d=g++;break;case"end":delete F[B],--g;case"drag":o=pointof(c||l,e),d=g}r.call(n,t,new DragEvent(n,{sourceEvent:l,subject:U,target:I,identifier:B,active:d,x:o[0]+Q,y:o[1]+a,dx:o[0]-b[0],dy:o[1]-b[1],dispatch:r}),s)}}return I.filter=function(t){return arguments.length?(B="function"==typeof t?t:constant$3(!!t),I):B},I.container=function(t){return arguments.length?(n="function"==typeof t?t:constant$3(t),I):n},I.subject=function(t){return arguments.length?(l="function"==typeof t?t:constant$3(t),I):l},I.touchable=function(t){return arguments.length?(Q="function"==typeof t?t:constant$3(!!t),I):Q},I.on=function(){var t=c.on.apply(c,arguments);return t===c?I:t},I.clickDistance=function(t){return arguments.length?(a=(t=+t)*t,I):Math.sqrt(a)},I}function define(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function extend(t,e){var i=Object.create(t.prototype);for(var s in e)i[s]=e[s];return i}function Color(){}DragEvent.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named$1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$1(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=reHex.exec(t))?(i=e[1].length,e=parseInt(e[1],16),6===i?rgbn(e):3===i?new Rgb(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===i?rgba(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===i?rgba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=reRgbInteger.exec(t))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(t))?new Rgb(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=reRgbaInteger.exec(t))?rgba(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(t))?rgba(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=reHslPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,e[4]):named$1.hasOwnProperty(t)?rgbn(named$1[t]):"transparent"===t?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,255&t,1)}function rgba(t,e,i,s){return s<=0&&(t=e=i=NaN),new Rgb(t,e,i,s)}function rgbConvert(t){return t instanceof Color||(t=color$1(t)),t?new Rgb((t=t.rgb()).r,t.g,t.b,t.opacity):new Rgb}function rgb(t,e,i,s){return 1===arguments.length?rgbConvert(t):new Rgb(t,e,i,null==s?1:s)}function Rgb(t,e,i,s){this.r=+t,this.g=+e,this.b=+i,this.opacity=+s}function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex(255*(isNaN(this.opacity)?1:this.opacity))}`}function rgb_formatRgb(){const t=clampa(this.opacity);return`${1===t?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${1===t?")":`, ${t})`}`}function clampa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function clampi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hex(t){return((t=clampi(t))<16?"0":"")+t.toString(16)}function hsla(t,e,i,s){return s<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new Hsl(t,e,i,s)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color||(t=color$1(t)),!t)return new Hsl;if(t instanceof Hsl)return t;var e=(t=t.rgb()).r/255,i=t.g/255,s=t.b/255,B=Math.min(e,i,s),n=Math.max(e,i,s),l=NaN,Q=n-B,F=(n+B)/2;return Q?(l=e===n?(i-s)/Q+6*(i<s):i===n?(s-e)/Q+2:(e-i)/Q+4,Q/=F<.5?n+B:2-n-B,l*=60):Q=F>0&&F<1?0:l,new Hsl(l,Q,F,t.opacity)}function hsl$1(t,e,i,s){return 1===arguments.length?hslConvert(t):new Hsl(t,e,i,null==s?1:s)}function Hsl(t,e,i,s){this.h=+t,this.s=+e,this.l=+i,this.opacity=+s}function clamph(t){return(t=(t||0)%360)<0?t+360:t}function clampt(t){return Math.max(0,Math.min(1,t||0))}function hsl2rgb(t,e,i){return 255*(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)}define(Color,color$1,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb}),define(Rgb,rgb,extend(Color,{brighter(t){return t=null==t?brighter:Math.pow(brighter,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?darker:Math.pow(darker,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),define(Hsl,hsl$1,extend(Color,{brighter(t){return t=null==t?brighter:Math.pow(brighter,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?darker:Math.pow(darker,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,s=i+(i<.5?i:1-i)*e,B=2*i-s;return new Rgb(hsl2rgb(t>=240?t-240:t+120,B,s),hsl2rgb(t,B,s),hsl2rgb(t<120?t+240:t-120,B,s),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=clampa(this.opacity);return`${1===t?"hsl(":"hsla("}${clamph(this.h)}, ${100*clampt(this.s)}%, ${100*clampt(this.l)}%${1===t?")":`, ${t})`}`}}));const radians$2=Math.PI/180,degrees$2=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0$1=4/29,t1$1=6/29,t2=3*t1$1*t1$1,t3=t1$1*t1$1*t1$1;function labConvert(t){if(t instanceof Lab)return new Lab(t.l,t.a,t.b,t.opacity);if(t instanceof Hcl)return hcl2lab(t);t instanceof Rgb||(t=rgbConvert(t));var e,i,s=rgb2lrgb(t.r),B=rgb2lrgb(t.g),n=rgb2lrgb(t.b),l=xyz2lab((.2225045*s+.7168786*B+.0606169*n)/1);return s===B&&B===n?e=i=l:(e=xyz2lab((.4360747*s+.3850649*B+.1430804*n)/Xn),i=xyz2lab((.0139322*s+.0971045*B+.7141733*n)/Zn)),new Lab(116*l-16,500*(e-l),200*(l-i),t.opacity)}function lab$1(t,e,i,s){return 1===arguments.length?labConvert(t):new Lab(t,e,i,null==s?1:s)}function Lab(t,e,i,s){this.l=+t,this.a=+e,this.b=+i,this.opacity=+s}function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0$1}function lab2xyz(t){return t>t1$1?t*t*t:t2*(t-t0$1)}function lrgb2rgb(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function rgb2lrgb(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hclConvert(t){if(t instanceof Hcl)return new Hcl(t.h,t.c,t.l,t.opacity);if(t instanceof Lab||(t=labConvert(t)),0===t.a&&0===t.b)return new Hcl(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*degrees$2;return new Hcl(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function hcl$1(t,e,i,s){return 1===arguments.length?hclConvert(t):new Hcl(t,e,i,null==s?1:s)}function Hcl(t,e,i,s){this.h=+t,this.c=+e,this.l=+i,this.opacity=+s}function hcl2lab(t){if(isNaN(t.h))return new Lab(t.l,0,0,t.opacity);var e=t.h*radians$2;return new Lab(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}define(Lab,lab$1,extend(Color,{brighter(t){return new Lab(this.l+K*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new Lab(this.l-K*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,i=isNaN(this.b)?t:t-this.b/200;return new Rgb(lrgb2rgb(3.1338561*(e=Xn*lab2xyz(e))-1.6168667*(t=1*lab2xyz(t))-.4906146*(i=Zn*lab2xyz(i))),lrgb2rgb(-.9787684*e+1.9161415*t+.033454*i),lrgb2rgb(.0719453*e-.2289914*t+1.4052427*i),this.opacity)}})),define(Hcl,hcl$1,extend(Color,{brighter(t){return new Hcl(this.h,this.c,this.l+K*(null==t?1:t),this.opacity)},darker(t){return new Hcl(this.h,this.c,this.l-K*(null==t?1:t),this.opacity)},rgb(){return hcl2lab(this).rgb()}}));var A$2=-.14861,B=1.78277,C$1=-.29227,D=-.90649,E$1=1.97294,ED=E$1*D,EB=E$1*B,BC_DA=B*C$1-D*A$2;function cubehelixConvert(t){if(t instanceof Cubehelix)return new Cubehelix(t.h,t.s,t.l,t.opacity);t instanceof Rgb||(t=rgbConvert(t));var e=t.r/255,i=t.g/255,s=t.b/255,B=(BC_DA*s+ED*e-EB*i)/(BC_DA+ED-EB),n=s-B,l=(E$1*(i-B)-C$1*n)/D,Q=Math.sqrt(l*l+n*n)/(E$1*B*(1-B)),F=Q?Math.atan2(l,n)*degrees$2-120:NaN;return new Cubehelix(F<0?F+360:F,Q,B,t.opacity)}function cubehelix$1(t,e,i,s){return 1===arguments.length?cubehelixConvert(t):new Cubehelix(t,e,i,null==s?1:s)}function Cubehelix(t,e,i,s){this.h=+t,this.s=+e,this.l=+i,this.opacity=+s}function basis(t,e,i,s,B){var n=t*t,l=n*t;return((1-3*t+3*n-l)*e+(4-6*n+3*l)*i+(1+3*t+3*n-3*l)*s+l*B)/6}function basis$1(t){var e=t.length-1;return function(i){var s=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),B=t[s],n=t[s+1],l=s>0?t[s-1]:2*B-n,Q=s<e-1?t[s+2]:2*n-B;return basis((i-s/e)*e,l,B,n,Q)}}define(Cubehelix,cubehelix$1,extend(Color,{brighter(t){return t=null==t?brighter:Math.pow(brighter,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?darker:Math.pow(darker,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*radians$2,e=+this.l,i=isNaN(this.s)?0:this.s*e*(1-e),s=Math.cos(t),n=Math.sin(t);return new Rgb(255*(e+i*(A$2*s+B*n)),255*(e+i*(C$1*s+D*n)),255*(e+i*(E$1*s)),this.opacity)}}));var constant$2=t=>()=>t;function linear$2(t,e){return function(i){return t+i*e}}function exponential(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(s){return Math.pow(t+s*e,i)}}function hue(t,e){var i=e-t;return i?linear$2(t,i>180||i<-180?i-360*Math.round(i/360):i):constant$2(isNaN(t)?e:t)}function gamma(t){return 1==(t=+t)?nogamma:function(e,i){return i-e?exponential(e,i,t):constant$2(isNaN(e)?i:e)}}function nogamma(t,e){var i=e-t;return i?linear$2(t,i):constant$2(isNaN(t)?e:t)}var interpolateRgb=function t(e){var i=gamma(e);function s(t,e){var s=i((t=rgb(t)).r,(e=rgb(e)).r),B=i(t.g,e.g),n=i(t.b,e.b),l=nogamma(t.opacity,e.opacity);return function(e){return t.r=s(e),t.g=B(e),t.b=n(e),t.opacity=l(e),t+""}}return s.gamma=t,s}(1);function rgbSpline(t){return function(e){var i,s,B=e.length,n=new Array(B),l=new Array(B),Q=new Array(B);for(i=0;i<B;++i)s=rgb(e[i]),n[i]=s.r||0,l[i]=s.g||0,Q[i]=s.b||0;return n=t(n),l=t(l),Q=t(Q),s.opacity=1,function(t){return s.r=n(t),s.g=l(t),s.b=Q(t),s+""}}}var rgbBasis=rgbSpline(basis$1);function numberArray(t,e){e||(e=[]);var i,s=t?Math.min(e.length,t.length):0,B=e.slice();return function(n){for(i=0;i<s;++i)B[i]=t[i]*(1-n)+e[i]*n;return B}}function isNumberArray$1(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function genericArray(t,e){var i,s=e?e.length:0,B=t?Math.min(s,t.length):0,n=new Array(B),l=new Array(s);for(i=0;i<B;++i)n[i]=interpolate$1(t[i],e[i]);for(;i<s;++i)l[i]=e[i];return function(t){for(i=0;i<B;++i)l[i]=n[i](t);return l}}function date$1(t,e){var i=new Date;return t=+t,e=+e,function(s){return i.setTime(t*(1-s)+e*s),i}}function interpolateNumber(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function object(t,e){var i,s={},B={};for(i in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)i in t?s[i]=interpolate$1(t[i],e[i]):B[i]=e[i];return function(t){for(i in s)B[i]=s[i](t);return B}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(t){return function(){return t}}function one$1(t){return function(e){return t(e)+""}}function interpolateString(t,e){var i,s,B,n=reA.lastIndex=reB.lastIndex=0,l=-1,Q=[],F=[];for(t+="",e+="";(i=reA.exec(t))&&(s=reB.exec(e));)(B=s.index)>n&&(B=e.slice(n,B),Q[l]?Q[l]+=B:Q[++l]=B),(i=i[0])===(s=s[0])?Q[l]?Q[l]+=s:Q[++l]=s:(Q[++l]=null,F.push({i:l,x:interpolateNumber(i,s)})),n=reB.lastIndex;return n<e.length&&(B=e.slice(n),Q[l]?Q[l]+=B:Q[++l]=B),Q.length<2?F[0]?one$1(F[0].x):zero(e):(e=F.length,function(t){for(var i,s=0;s<e;++s)Q[(i=F[s]).i]=i.x(t);return Q.join("")})}function interpolate$1(t,e){var i,s=typeof e;return null==e||"boolean"===s?constant$2(e):("number"===s?interpolateNumber:"string"===s?(i=color$1(e))?(e=i,interpolateRgb):interpolateString:e instanceof color$1?interpolateRgb:e instanceof Date?date$1:isNumberArray$1(e)?numberArray:Array.isArray(e)?genericArray:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?object:interpolateNumber)(t,e)}function interpolateRound(t,e){return t=+t,e=+e,function(i){return Math.round(t*(1-i)+e*i)}}var svgNode,degrees$1=180/Math.PI,identity$6={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(t,e,i,s,B,n){var l,Q,F;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(F=t*i+e*s)&&(i-=t*F,s-=e*F),(Q=Math.sqrt(i*i+s*s))&&(i/=Q,s/=Q,F/=Q),t*s<e*i&&(t=-t,e=-e,F=-F,l=-l),{translateX:B,translateY:n,rotate:Math.atan2(e,t)*degrees$1,skewX:Math.atan(F)*degrees$1,scaleX:l,scaleY:Q}}function parseCss(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?identity$6:decompose(e.a,e.b,e.c,e.d,e.e,e.f)}function parseSvg(t){return null==t?identity$6:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",t),(t=svgNode.transform.baseVal.consolidate())?decompose((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):identity$6)}function interpolateTransform(t,e,i,s){function B(t){return t.length?t.pop()+" ":""}return function(n,l){var Q=[],F=[];return n=t(n),l=t(l),function(t,s,B,n,l,Q){if(t!==B||s!==n){var F=l.push("translate(",null,e,null,i);Q.push({i:F-4,x:interpolateNumber(t,B)},{i:F-2,x:interpolateNumber(s,n)})}else(B||n)&&l.push("translate("+B+e+n+i)}(n.translateX,n.translateY,l.translateX,l.translateY,Q,F),function(t,e,i,n){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),n.push({i:i.push(B(i)+"rotate(",null,s)-2,x:interpolateNumber(t,e)})):e&&i.push(B(i)+"rotate("+e+s)}(n.rotate,l.rotate,Q,F),function(t,e,i,n){t!==e?n.push({i:i.push(B(i)+"skewX(",null,s)-2,x:interpolateNumber(t,e)}):e&&i.push(B(i)+"skewX("+e+s)}(n.skewX,l.skewX,Q,F),function(t,e,i,s,n,l){if(t!==i||e!==s){var Q=n.push(B(n)+"scale(",null,",",null,")");l.push({i:Q-4,x:interpolateNumber(t,i)},{i:Q-2,x:interpolateNumber(e,s)})}else 1===i&&1===s||n.push(B(n)+"scale("+i+","+s+")")}(n.scaleX,n.scaleY,l.scaleX,l.scaleY,Q,F),n=l=null,function(t){for(var e,i=-1,s=F.length;++i<s;)Q[(e=F[i]).i]=e.x(t);return Q.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")");function hsl(t){return function(e,i){var s=t((e=hsl$1(e)).h,(i=hsl$1(i)).h),B=nogamma(e.s,i.s),n=nogamma(e.l,i.l),l=nogamma(e.opacity,i.opacity);return function(t){return e.h=s(t),e.s=B(t),e.l=n(t),e.opacity=l(t),e+""}}}var interpolateHsl=hsl(hue);function lab(t,e){var i=nogamma((t=lab$1(t)).l,(e=lab$1(e)).l),s=nogamma(t.a,e.a),B=nogamma(t.b,e.b),n=nogamma(t.opacity,e.opacity);return function(e){return t.l=i(e),t.a=s(e),t.b=B(e),t.opacity=n(e),t+""}}function hcl(t){return function(e,i){var s=t((e=hcl$1(e)).h,(i=hcl$1(i)).h),B=nogamma(e.c,i.c),n=nogamma(e.l,i.l),l=nogamma(e.opacity,i.opacity);return function(t){return e.h=s(t),e.c=B(t),e.l=n(t),e.opacity=l(t),e+""}}}var interpolateHcl=hcl(hue);function cubehelix(t){return function e(i){function s(e,s){var B=t((e=cubehelix$1(e)).h,(s=cubehelix$1(s)).h),n=nogamma(e.s,s.s),l=nogamma(e.l,s.l),Q=nogamma(e.opacity,s.opacity);return function(t){return e.h=B(t),e.s=n(t),e.l=l(Math.pow(t,i)),e.opacity=Q(t),e+""}}return i=+i,s.gamma=e,s}(1)}cubehelix(hue);var cubehelixLong=cubehelix(nogamma);function piecewise(t,e){void 0===e&&(e=t,t=interpolate$1);for(var i=0,s=e.length-1,B=e[0],n=new Array(s<0?0:s);i<s;)n[i]=t(B,B=e[++i]);return function(t){var e=Math.max(0,Math.min(s-1,Math.floor(t*=s)));return n[e](t-e)}}function quantize(t,e){for(var i=new Array(e),s=0;s<e;++s)i[s]=t(s/(e-1));return i}var taskHead,taskTail,frame$1=0,timeout$1=0,interval$1=0,pokeDelay=1e3,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(t,e,i){var s=new Timer;return s.restart(t,e,i),s}function timerFlush(){now(),++frame$1;for(var t,e=taskHead;e;)(t=clockNow-e._time)>=0&&e._call.call(void 0,t),e=e._next;--frame$1}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame$1=timeout$1=0;try{timerFlush()}finally{frame$1=0,nap(),clockNow=0}}function poke(){var t=clock.now(),e=t-clockLast;e>pokeDelay&&(clockSkew-=e,clockLast=t)}function nap(){for(var t,e,i=taskHead,s=1/0;i;)i._call?(s>i._time&&(s=i._time),t=i,i=i._next):(e=i._next,i._next=null,i=t?t._next=e:taskHead=e);taskTail=t,sleep(s)}function sleep(t){frame$1||(timeout$1&&(timeout$1=clearTimeout(timeout$1)),t-clockNow>24?(t<1/0&&(timeout$1=setTimeout(wake,t-clock.now()-clockSkew)),interval$1&&(interval$1=clearInterval(interval$1))):(interval$1||(clockLast=clock.now(),interval$1=setInterval(poke,pokeDelay)),frame$1=1,setFrame(wake)))}function timeout(t,e,i){var s=new Timer;return e=null==e?0:+e,s.restart((i=>{s.stop(),t(i+e)}),e,i),s}function interval(t,e,i){var s=new Timer,B=e;return s._restart=s.restart,s.restart=function(t,e,i){e=+e,i=null==i?now():+i,s._restart((function n(l){l+=B,s._restart(n,B+=e,i),t(l)}),e,i)},s.restart(t,e,i),s}Timer.prototype=timer.prototype={constructor:Timer,restart:function(t,e,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?now():+i)+(null==e?0:+e),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=t,this._time=i,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(t,e,i,s,B,n){var l=t.__transition;if(l){if(i in l)return}else t.__transition={};create$1(t,i,{name:e,index:s,group:B,on:emptyOn,tween:emptyTween,time:n.time,delay:n.delay,duration:n.duration,ease:n.ease,timer:null,state:CREATED})}function init(t,e){var i=get(t,e);if(i.state>CREATED)throw new Error("too late; already scheduled");return i}function set(t,e){var i=get(t,e);if(i.state>STARTED)throw new Error("too late; already running");return i}function get(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function create$1(t,e,i){var s,B=t.__transition;function n(F){var c,g,a,I;if(i.state!==SCHEDULED)return Q();for(c in B)if((I=B[c]).name===i.name){if(I.state===STARTED)return timeout(n);I.state===RUNNING?(I.state=ENDED,I.timer.stop(),I.on.call("interrupt",t,t.__data__,I.index,I.group),delete B[c]):+c<e&&(I.state=ENDED,I.timer.stop(),I.on.call("cancel",t,t.__data__,I.index,I.group),delete B[c])}if(timeout((function(){i.state===STARTED&&(i.state=RUNNING,i.timer.restart(l,i.delay,i.time),l(F))})),i.state=STARTING,i.on.call("start",t,t.__data__,i.index,i.group),i.state===STARTING){for(i.state=STARTED,s=new Array(a=i.tween.length),c=0,g=-1;c<a;++c)(I=i.tween[c].value.call(t,t.__data__,i.index,i.group))&&(s[++g]=I);s.length=g+1}}function l(e){for(var B=e<i.duration?i.ease.call(null,e/i.duration):(i.timer.restart(Q),i.state=ENDING,1),n=-1,l=s.length;++n<l;)s[n].call(t,B);i.state===ENDING&&(i.on.call("end",t,t.__data__,i.index,i.group),Q())}function Q(){for(var s in i.state=ENDED,i.timer.stop(),delete B[e],B)return;delete t.__transition}B[e]=i,i.timer=timer((function(t){i.state=SCHEDULED,i.timer.restart(n,i.delay,i.time),i.delay<=t&&n(t-i.delay)}),0,i.time)}function interrupt(t,e){var i,s,B,n=t.__transition,l=!0;if(n){for(B in e=null==e?null:e+"",n)(i=n[B]).name===e?(s=i.state>STARTING&&i.state<ENDING,i.state=ENDED,i.timer.stop(),i.on.call(s?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[B]):l=!1;l&&delete t.__transition}}function selection_interrupt(t){return this.each((function(){interrupt(this,t)}))}function tweenRemove(t,e){var i,s;return function(){var B=set(this,t),n=B.tween;if(n!==i)for(var l=0,Q=(s=i=n).length;l<Q;++l)if(s[l].name===e){(s=s.slice()).splice(l,1);break}B.tween=s}}function tweenFunction(t,e,i){var s,B;if("function"!=typeof i)throw new Error;return function(){var n=set(this,t),l=n.tween;if(l!==s){B=(s=l).slice();for(var Q={name:e,value:i},F=0,c=B.length;F<c;++F)if(B[F].name===e){B[F]=Q;break}F===c&&B.push(Q)}n.tween=B}}function transition_tween(t,e){var i=this._id;if(t+="",arguments.length<2){for(var s,B=get(this.node(),i).tween,n=0,l=B.length;n<l;++n)if((s=B[n]).name===t)return s.value;return null}return this.each((null==e?tweenRemove:tweenFunction)(i,t,e))}function tweenValue(t,e,i){var s=t._id;return t.each((function(){var t=set(this,s);(t.value||(t.value={}))[e]=i.apply(this,arguments)})),function(t){return get(t,s).value[e]}}function interpolate(t,e){var i;return("number"==typeof e?interpolateNumber:e instanceof color$1?interpolateRgb:(i=color$1(e))?(e=i,interpolateRgb):interpolateString)(t,e)}function attrRemove(t){return function(){this.removeAttribute(t)}}function attrRemoveNS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant(t,e,i){var s,B,n=i+"";return function(){var l=this.getAttribute(t);return l===n?null:l===s?B:B=e(s=l,i)}}function attrConstantNS(t,e,i){var s,B,n=i+"";return function(){var l=this.getAttributeNS(t.space,t.local);return l===n?null:l===s?B:B=e(s=l,i)}}function attrFunction(t,e,i){var s,B,n;return function(){var l,Q,F=i(this);if(null!=F)return(l=this.getAttribute(t))===(Q=F+"")?null:l===s&&Q===B?n:(B=Q,n=e(s=l,F));this.removeAttribute(t)}}function attrFunctionNS(t,e,i){var s,B,n;return function(){var l,Q,F=i(this);if(null!=F)return(l=this.getAttributeNS(t.space,t.local))===(Q=F+"")?null:l===s&&Q===B?n:(B=Q,n=e(s=l,F));this.removeAttributeNS(t.space,t.local)}}function transition_attr(t,e){var i=namespace(t),s="transform"===i?interpolateTransformSvg:interpolate;return this.attrTween(t,"function"==typeof e?(i.local?attrFunctionNS:attrFunction)(i,s,tweenValue(this,"attr."+t,e)):null==e?(i.local?attrRemoveNS:attrRemove)(i):(i.local?attrConstantNS:attrConstant)(i,s,e))}function attrInterpolate(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}function attrInterpolateNS(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}function attrTweenNS(t,e){var i,s;function B(){var B=e.apply(this,arguments);return B!==s&&(i=(s=B)&&attrInterpolateNS(t,B)),i}return B._value=e,B}function attrTween(t,e){var i,s;function B(){var B=e.apply(this,arguments);return B!==s&&(i=(s=B)&&attrInterpolate(t,B)),i}return B._value=e,B}function transition_attrTween(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;var s=namespace(t);return this.tween(i,(s.local?attrTweenNS:attrTween)(s,e))}function delayFunction(t,e){return function(){init(this,t).delay=+e.apply(this,arguments)}}function delayConstant(t,e){return e=+e,function(){init(this,t).delay=e}}function transition_delay(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?delayFunction:delayConstant)(e,t)):get(this.node(),e).delay}function durationFunction(t,e){return function(){set(this,t).duration=+e.apply(this,arguments)}}function durationConstant(t,e){return e=+e,function(){set(this,t).duration=e}}function transition_duration(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?durationFunction:durationConstant)(e,t)):get(this.node(),e).duration}function easeConstant(t,e){if("function"!=typeof e)throw new Error;return function(){set(this,t).ease=e}}function transition_ease(t){var e=this._id;return arguments.length?this.each(easeConstant(e,t)):get(this.node(),e).ease}function easeVarying(t,e){return function(){var i=e.apply(this,arguments);if("function"!=typeof i)throw new Error;set(this,t).ease=i}}function transition_easeVarying(t){if("function"!=typeof t)throw new Error;return this.each(easeVarying(this._id,t))}function transition_filter(t){"function"!=typeof t&&(t=matcher(t));for(var e=this._groups,i=e.length,s=new Array(i),B=0;B<i;++B)for(var n,l=e[B],Q=l.length,F=s[B]=[],c=0;c<Q;++c)(n=l[c])&&t.call(n,n.__data__,c,l)&&F.push(n);return new Transition(s,this._parents,this._name,this._id)}function transition_merge(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,s=e.length,B=i.length,n=Math.min(s,B),l=new Array(s),Q=0;Q<n;++Q)for(var F,c=e[Q],g=i[Q],a=c.length,I=l[Q]=new Array(a),U=0;U<a;++U)(F=c[U]||g[U])&&(I[U]=F);for(;Q<s;++Q)l[Q]=e[Q];return new Transition(l,this._parents,this._name,this._id)}function start(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}function onFunction(t,e,i){var s,B,n=start(e)?init:set;return function(){var l=n(this,t),Q=l.on;Q!==s&&(B=(s=Q).copy()).on(e,i),l.on=B}}function transition_on(t,e){var i=this._id;return arguments.length<2?get(this.node(),i).on.on(t):this.each(onFunction(i,t,e))}function removeFunction(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(t){var e=this._name,i=this._id;"function"!=typeof t&&(t=selector(t));for(var s=this._groups,B=s.length,n=new Array(B),l=0;l<B;++l)for(var Q,F,c=s[l],g=c.length,a=n[l]=new Array(g),I=0;I<g;++I)(Q=c[I])&&(F=t.call(Q,Q.__data__,I,c))&&("__data__"in Q&&(F.__data__=Q.__data__),a[I]=F,schedule(a[I],e,i,I,a,get(Q,i)));return new Transition(n,this._parents,e,i)}function transition_selectAll(t){var e=this._name,i=this._id;"function"!=typeof t&&(t=selectorAll(t));for(var s=this._groups,B=s.length,n=[],l=[],Q=0;Q<B;++Q)for(var F,c=s[Q],g=c.length,a=0;a<g;++a)if(F=c[a]){for(var I,U=t.call(F,F.__data__,a,c),r=get(F,i),o=0,d=U.length;o<d;++o)(I=U[o])&&schedule(I,e,i,o,U,r);n.push(U),l.push(F)}return new Transition(n,l,e,i)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(t,e){var i,s,B;return function(){var n=styleValue(this,t),l=(this.style.removeProperty(t),styleValue(this,t));return n===l?null:n===i&&l===s?B:B=e(i=n,s=l)}}function styleRemove(t){return function(){this.style.removeProperty(t)}}function styleConstant(t,e,i){var s,B,n=i+"";return function(){var l=styleValue(this,t);return l===n?null:l===s?B:B=e(s=l,i)}}function styleFunction(t,e,i){var s,B,n;return function(){var l=styleValue(this,t),Q=i(this),F=Q+"";return null==Q&&(this.style.removeProperty(t),F=Q=styleValue(this,t)),l===F?null:l===s&&F===B?n:(B=F,n=e(s=l,Q))}}function styleMaybeRemove(t,e){var i,s,B,n,l="style."+e,Q="end."+l;return function(){var F=set(this,t),c=F.on,g=null==F.value[l]?n||(n=styleRemove(e)):void 0;c===i&&B===g||(s=(i=c).copy()).on(Q,B=g),F.on=s}}function transition_style(t,e,i){var s="transform"==(t+="")?interpolateTransformCss:interpolate;return null==e?this.styleTween(t,styleNull(t,s)).on("end.style."+t,styleRemove(t)):"function"==typeof e?this.styleTween(t,styleFunction(t,s,tweenValue(this,"style."+t,e))).each(styleMaybeRemove(this._id,t)):this.styleTween(t,styleConstant(t,s,e),i).on("end.style."+t,null)}function styleInterpolate(t,e,i){return function(s){this.style.setProperty(t,e.call(this,s),i)}}function styleTween(t,e,i){var s,B;function n(){var n=e.apply(this,arguments);return n!==B&&(s=(B=n)&&styleInterpolate(t,n,i)),s}return n._value=e,n}function transition_styleTween(t,e,i){var s="style."+(t+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(null==e)return this.tween(s,null);if("function"!=typeof e)throw new Error;return this.tween(s,styleTween(t,e,null==i?"":i))}function textConstant(t){return function(){this.textContent=t}}function textFunction(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function transition_text(t){return this.tween("text","function"==typeof t?textFunction(tweenValue(this,"text",t)):textConstant(null==t?"":t+""))}function textInterpolate(t){return function(e){this.textContent=t.call(this,e)}}function textTween(t){var e,i;function s(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&textInterpolate(s)),e}return s._value=t,s}function transition_textTween(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,textTween(t))}function transition_transition(){for(var t=this._name,e=this._id,i=newId(),s=this._groups,B=s.length,n=0;n<B;++n)for(var l,Q=s[n],F=Q.length,c=0;c<F;++c)if(l=Q[c]){var g=get(l,e);schedule(l,t,i,c,Q,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Transition(s,this._parents,t,i)}function transition_end(){var t,e,i=this,s=i._id,B=i.size();return new Promise((function(n,l){var Q={value:l},F={value:function(){0==--B&&n()}};i.each((function(){var i=set(this,s),B=i.on;B!==t&&((e=(t=B).copy())._.cancel.push(Q),e._.interrupt.push(Q),e._.end.push(F)),i.on=e})),0===B&&n()}))}var id=0;function Transition(t,e,i,s){this._groups=t,this._parents=e,this._name=i,this._id=s}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};const linear$1=t=>+t;function cubicOut(t){return--t*t*t+1}function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit$1(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return i}function selection_transition(t){var e,i;t instanceof Transition?(e=t._id,t=t._name):(e=newId(),(i=defaultTiming).time=now(),t=null==t?null:t+"");for(var s=this._groups,B=s.length,n=0;n<B;++n)for(var l,Q=s[n],F=Q.length,c=0;c<F;++c)(l=Q[c])&&schedule(l,t,e,c,Q,i||inherit$1(l,e));return new Transition(s,this._parents,t,e)}selection.prototype.interrupt=selection_interrupt,selection.prototype.transition=selection_transition;const pi$3=Math.PI,tau$3=2*pi$3,epsilon$2=1e-6,tauEpsilon=tau$3-1e-6;function append$1(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function appendRound$1(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return append$1;const i=10**e;return function(t){this._+=t[0];for(let e=1,s=t.length;e<s;++e)this._+=Math.round(arguments[e]*i)/i+t[e]}}class Path{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?append$1:appendRound$1(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,i,s){this._append`Q${+t},${+e},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(t,e,i,s,B,n){this._append`C${+t},${+e},${+i},${+s},${this._x1=+B},${this._y1=+n}`}arcTo(t,e,i,s,B){if(t=+t,e=+e,i=+i,s=+s,(B=+B)<0)throw new Error(`negative radius: ${B}`);let n=this._x1,l=this._y1,Q=i-t,F=s-e,c=n-t,g=l-e,a=c*c+g*g;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(a>1e-6)if(Math.abs(g*Q-F*c)>1e-6&&B){let I=i-n,U=s-l,r=Q*Q+F*F,o=I*I+U*U,d=Math.sqrt(r),b=Math.sqrt(a),C=B*Math.tan((pi$3-Math.acos((r+a-o)/(2*d*b)))/2),u=C/b,y=C/d;Math.abs(u-1)>1e-6&&this._append`L${t+u*c},${e+u*g}`,this._append`A${B},${B},0,0,${+(g*I>c*U)},${this._x1=t+y*Q},${this._y1=e+y*F}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,i,s,B,n){if(t=+t,e=+e,n=!!n,(i=+i)<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(s),Q=i*Math.sin(s),F=t+l,c=e+Q,g=1^n,a=n?s-B:B-s;null===this._x1?this._append`M${F},${c}`:(Math.abs(this._x1-F)>1e-6||Math.abs(this._y1-c)>1e-6)&&this._append`L${F},${c}`,i&&(a<0&&(a=a%tau$3+tau$3),a>tauEpsilon?this._append`A${i},${i},0,1,${g},${t-l},${e-Q}A${i},${i},0,1,${g},${this._x1=F},${this._y1=c}`:a>1e-6&&this._append`A${i},${i},0,${+(a>=pi$3)},${g},${this._x1=t+i*Math.cos(B)},${this._y1=e+i*Math.sin(B)}`)}rect(t,e,i,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function pathRound(t=3){return new Path(+t)}function formatDecimal(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function formatDecimalParts(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var i,s=t.slice(0,i);return[s.length>1?s[0]+s.slice(2):s,+t.slice(i+1)]}function exponent(t){return(t=formatDecimalParts(Math.abs(t)))?t[1]:NaN}function formatGroup(t,e){return function(i,s){for(var B=i.length,n=[],l=0,Q=t[0],F=0;B>0&&Q>0&&(F+Q+1>s&&(Q=Math.max(1,s-F)),n.push(i.substring(B-=Q,B+Q)),!((F+=Q+1)>s));)Q=t[l=(l+1)%t.length];return n.reverse().join(e)}}function formatNumerals(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}var prefixExponent,re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){if(!(e=re$1.exec(t)))throw new Error("invalid format: "+t);var e;return new FormatSpecifier({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function FormatSpecifier(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function formatTrim(t){t:for(var e,i=t.length,s=1,B=-1;s<i;++s)switch(t[s]){case".":B=e=s;break;case"0":0===B&&(B=s),e=s;break;default:if(!+t[s])break t;B>0&&(B=0)}return B>0?t.slice(0,B)+t.slice(e+1):t}function formatPrefixAuto(t,e){var i=formatDecimalParts(t,e);if(!i)return t+"";var s=i[0],B=i[1],n=B-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(B/3))))+1,l=s.length;return n===l?s:n>l?s+new Array(n-l+1).join("0"):n>0?s.slice(0,n)+"."+s.slice(n):"0."+new Array(1-n).join("0")+formatDecimalParts(t,Math.max(0,e+n-1))[0]}function formatRounded(t,e){var i=formatDecimalParts(t,e);if(!i)return t+"";var s=i[0],B=i[1];return B<0?"0."+new Array(-B).join("0")+s:s.length>B+1?s.slice(0,B+1)+"."+s.slice(B+1):s+new Array(B-s.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var formatTypes={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:formatDecimal,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>formatRounded(100*t,e),r:formatRounded,s:formatPrefixAuto,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function identity$5(t){return t}var locale$1,format$1,formatPrefix,map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(t){var e=void 0===t.grouping||void 0===t.thousands?identity$5:formatGroup(map$1.call(t.grouping,Number),t.thousands+""),i=void 0===t.currency?"":t.currency[0]+"",s=void 0===t.currency?"":t.currency[1]+"",B=void 0===t.decimal?".":t.decimal+"",n=void 0===t.numerals?identity$5:formatNumerals(map$1.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",Q=void 0===t.minus?"â":t.minus+"",F=void 0===t.nan?"NaN":t.nan+"";function c(t){var c=(t=formatSpecifier(t)).fill,g=t.align,a=t.sign,I=t.symbol,U=t.zero,r=t.width,o=t.comma,d=t.precision,b=t.trim,C=t.type;"n"===C?(o=!0,C="g"):formatTypes[C]||(void 0===d&&(d=12),b=!0,C="g"),(U||"0"===c&&"="===g)&&(U=!0,c="0",g="=");var u="$"===I?i:"#"===I&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",y="$"===I?s:/[%p]/.test(C)?l:"",h=formatTypes[C],A=/[defgprs%]/.test(C);function G(t){var i,s,l,I=u,G=y;if("c"===C)G=h(t)+G,t="";else{var R=(t=+t)<0||1/t<0;if(t=isNaN(t)?F:h(Math.abs(t),d),b&&(t=formatTrim(t)),R&&0==+t&&"+"!==a&&(R=!1),I=(R?"("===a?a:Q:"-"===a||"("===a?"":a)+I,G=("s"===C?prefixes[8+prefixExponent/3]:"")+G+(R&&"("===a?")":""),A)for(i=-1,s=t.length;++i<s;)if(48>(l=t.charCodeAt(i))||l>57){G=(46===l?B+t.slice(i+1):t.slice(i))+G,t=t.slice(0,i);break}}o&&!U&&(t=e(t,1/0));var x=I.length+t.length+G.length,m=x<r?new Array(r-x+1).join(c):"";switch(o&&U&&(t=e(m+t,m.length?r-G.length:1/0),m=""),g){case"<":t=I+t+G+m;break;case"=":t=I+m+t+G;break;case"^":t=m.slice(0,x=m.length>>1)+I+t+G+m.slice(x);break;default:t=m+I+t+G}return n(t)}return d=void 0===d?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),G.toString=function(){return t+""},G}return{format:c,formatPrefix:function(t,e){var i=c(((t=formatSpecifier(t)).type="f",t)),s=3*Math.max(-8,Math.min(8,Math.floor(exponent(e)/3))),B=Math.pow(10,-s),n=prefixes[8+s/3];return function(t){return i(B*t)+n}}}}function defaultLocale$1(t){return locale$1=formatLocale$1(t),format$1=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(t){return Math.max(0,-exponent(Math.abs(t)))}function precisionPrefix(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent(e)/3)))-exponent(Math.abs(t)))}function precisionRound(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,exponent(e)-exponent(t))+1}defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});var epsilon$1=1e-6,epsilon2=1e-12,pi$2=Math.PI,halfPi=pi$2/2,quarterPi=pi$2/4,tau$2=2*pi$2,degrees=180/pi$2,radians$1=pi$2/180,abs=Math.abs,atan=Math.atan,atan2=Math.atan2,cos$1=Math.cos,exp=Math.exp,log$1=Math.log,pow$1=Math.pow,sin$1=Math.sin,sign$1=Math.sign||function(t){return t>0?1:t<0?-1:0},sqrt$1=Math.sqrt,tan=Math.tan;function acos(t){return t>1?0:t<-1?pi$2:Math.acos(t)}function asin(t){return t>1?halfPi:t<-1?-halfPi:Math.asin(t)}function noop$1(){}function streamGeometry(t,e){t&&streamGeometryType.hasOwnProperty(t.type)&&streamGeometryType[t.type](t,e)}var streamObjectType={Feature:function(t,e){streamGeometry(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,s=-1,B=i.length;++s<B;)streamGeometry(i[s].geometry,e)}},streamGeometryType={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,s=-1,B=i.length;++s<B;)t=i[s],e.point(t[0],t[1],t[2])},LineString:function(t,e){streamLine(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,s=-1,B=i.length;++s<B;)streamLine(i[s],e,0)},Polygon:function(t,e){streamPolygon(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,s=-1,B=i.length;++s<B;)streamPolygon(i[s],e)},GeometryCollection:function(t,e){for(var i=t.geometries,s=-1,B=i.length;++s<B;)streamGeometry(i[s],e)}};function streamLine(t,e,i){var s,B=-1,n=t.length-i;for(e.lineStart();++B<n;)s=t[B],e.point(s[0],s[1],s[2]);e.lineEnd()}function streamPolygon(t,e){var i=-1,s=t.length;for(e.polygonStart();++i<s;)streamLine(t[i],e,1);e.polygonEnd()}function geoStream(t,e){t&&streamObjectType.hasOwnProperty(t.type)?streamObjectType[t.type](t,e):streamGeometry(t,e)}function spherical(t){return[atan2(t[1],t[0]),asin(t[2])]}function cartesian(t){var e=t[0],i=t[1],s=cos$1(i);return[s*cos$1(e),s*sin$1(e),sin$1(i)]}function cartesianDot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function cartesianCross(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function cartesianAddInPlace(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function cartesianScale(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function cartesianNormalizeInPlace(t){var e=sqrt$1(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function compose(t,e){function i(i,s){return i=t(i,s),e(i[0],i[1])}return t.invert&&e.invert&&(i.invert=function(i,s){return(i=e.invert(i,s))&&t.invert(i[0],i[1])}),i}function rotationIdentity(t,e){return abs(t)>pi$2&&(t-=Math.round(t/tau$2)*tau$2),[t,e]}function rotateRadians(t,e,i){return(t%=tau$2)?e||i?compose(rotationLambda(t),rotationPhiGamma(e,i)):rotationLambda(t):e||i?rotationPhiGamma(e,i):rotationIdentity}function forwardRotationLambda(t){return function(e,i){return abs(e+=t)>pi$2&&(e-=Math.round(e/tau$2)*tau$2),[e,i]}}function rotationLambda(t){var e=forwardRotationLambda(t);return e.invert=forwardRotationLambda(-t),e}function rotationPhiGamma(t,e){var i=cos$1(t),s=sin$1(t),B=cos$1(e),n=sin$1(e);function l(t,e){var l=cos$1(e),Q=cos$1(t)*l,F=sin$1(t)*l,c=sin$1(e),g=c*i+Q*s;return[atan2(F*B-g*n,Q*i-c*s),asin(g*B+F*n)]}return l.invert=function(t,e){var l=cos$1(e),Q=cos$1(t)*l,F=sin$1(t)*l,c=sin$1(e),g=c*B-F*n;return[atan2(F*B+c*n,Q*i+g*s),asin(g*i-Q*s)]},l}function rotation(t){function e(e){return(e=t(e[0]*radians$1,e[1]*radians$1))[0]*=degrees,e[1]*=degrees,e}return t=rotateRadians(t[0]*radians$1,t[1]*radians$1,t.length>2?t[2]*radians$1:0),e.invert=function(e){return(e=t.invert(e[0]*radians$1,e[1]*radians$1))[0]*=degrees,e[1]*=degrees,e},e}function circleStream(t,e,i,s,B,n){if(i){var l=cos$1(e),Q=sin$1(e),F=s*i;null==B?(B=e+s*tau$2,n=e-F/2):(B=circleRadius(l,B),n=circleRadius(l,n),(s>0?B<n:B>n)&&(B+=s*tau$2));for(var c,g=B;s>0?g>n:g<n;g-=F)c=spherical([l,-Q*cos$1(g),-Q*sin$1(g)]),t.point(c[0],c[1])}}function circleRadius(t,e){(e=cartesian(e))[0]-=t,cartesianNormalizeInPlace(e);var i=acos(-e[1]);return((-e[2]<0?-i:i)+tau$2-epsilon$1)%tau$2}function clipBuffer(){var t,e=[];return{point:function(e,i,s){t.push([e,i,s])},lineStart:function(){e.push(t=[])},lineEnd:noop$1,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var i=e;return e=[],t=null,i}}}function pointEqual(t,e){return abs(t[0]-e[0])<epsilon$1&&abs(t[1]-e[1])<epsilon$1}function Intersection(t,e,i,s){this.x=t,this.z=e,this.o=i,this.e=s,this.v=!1,this.n=this.p=null}function clipRejoin(t,e,i,s,B){var n,l,Q=[],F=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,i,s=t[0],l=t[e];if(pointEqual(s,l)){if(!s[2]&&!l[2]){for(B.lineStart(),n=0;n<e;++n)B.point((s=t[n])[0],s[1]);return void B.lineEnd()}l[0]+=2*epsilon$1}Q.push(i=new Intersection(s,t,null,!0)),F.push(i.o=new Intersection(s,null,i,!1)),Q.push(i=new Intersection(l,t,null,!1)),F.push(i.o=new Intersection(l,null,i,!0))}})),Q.length){for(F.sort(e),link(Q),link(F),n=0,l=F.length;n<l;++n)F[n].e=i=!i;for(var c,g,a=Q[0];;){for(var I=a,U=!0;I.v;)if((I=I.n)===a)return;c=I.z,B.lineStart();do{if(I.v=I.o.v=!0,I.e){if(U)for(n=0,l=c.length;n<l;++n)B.point((g=c[n])[0],g[1]);else s(I.x,I.n.x,1,B);I=I.n}else{if(U)for(c=I.p.z,n=c.length-1;n>=0;--n)B.point((g=c[n])[0],g[1]);else s(I.x,I.p.x,-1,B);I=I.p}c=(I=I.o).z,U=!U}while(!I.v);B.lineEnd()}}}function link(t){if(e=t.length){for(var e,i,s=0,B=t[0];++s<e;)B.n=i=t[s],i.p=B,B=i;B.n=i=t[0],i.p=B}}function longitude(t){return abs(t[0])<=pi$2?t[0]:sign$1(t[0])*((abs(t[0])+pi$2)%tau$2-pi$2)}function polygonContains(t,e){var i=longitude(e),s=e[1],B=sin$1(s),n=[sin$1(i),-cos$1(i),0],l=0,Q=0,F=new Adder;1===B?s=halfPi+epsilon$1:-1===B&&(s=-halfPi-epsilon$1);for(var c=0,g=t.length;c<g;++c)if(I=(a=t[c]).length)for(var a,I,U=a[I-1],r=longitude(U),o=U[1]/2+quarterPi,d=sin$1(o),b=cos$1(o),C=0;C<I;++C,r=y,d=A,b=G,U=u){var u=a[C],y=longitude(u),h=u[1]/2+quarterPi,A=sin$1(h),G=cos$1(h),R=y-r,x=R>=0?1:-1,m=x*R,L=m>pi$2,S=d*A;if(F.add(atan2(S*x*sin$1(m),b*G+S*cos$1(m))),l+=L?R+x*tau$2:R,L^r>=i^y>=i){var p=cartesianCross(cartesian(U),cartesian(u));cartesianNormalizeInPlace(p);var V=cartesianCross(n,p);cartesianNormalizeInPlace(V);var Z=(L^R>=0?-1:1)*asin(V[2]);(s>Z||s===Z&&(p[0]||p[1]))&&(Q+=L^R>=0?1:-1)}}return(l<-1e-6||l<epsilon$1&&F<-1e-12)^1&Q}function clip(t,e,i,s){return function(B){var n,l,Q,F=e(B),c=clipBuffer(),g=e(c),a=!1,I={point:U,lineStart:o,lineEnd:d,polygonStart:function(){I.point=b,I.lineStart=C,I.lineEnd=u,l=[],n=[]},polygonEnd:function(){I.point=U,I.lineStart=o,I.lineEnd=d,l=merge(l);var t=polygonContains(n,s);l.length?(a||(B.polygonStart(),a=!0),clipRejoin(l,compareIntersection,t,i,B)):t&&(a||(B.polygonStart(),a=!0),B.lineStart(),i(null,null,1,B),B.lineEnd()),a&&(B.polygonEnd(),a=!1),l=n=null},sphere:function(){B.polygonStart(),B.lineStart(),i(null,null,1,B),B.lineEnd(),B.polygonEnd()}};function U(e,i){t(e,i)&&B.point(e,i)}function r(t,e){F.point(t,e)}function o(){I.point=r,F.lineStart()}function d(){I.point=U,F.lineEnd()}function b(t,e){Q.push([t,e]),g.point(t,e)}function C(){g.lineStart(),Q=[]}function u(){b(Q[0][0],Q[0][1]),g.lineEnd();var t,e,i,s,F=g.clean(),I=c.result(),U=I.length;if(Q.pop(),n.push(Q),Q=null,U)if(1&F){if((e=(i=I[0]).length-1)>0){for(a||(B.polygonStart(),a=!0),B.lineStart(),t=0;t<e;++t)B.point((s=i[t])[0],s[1]);B.lineEnd()}}else U>1&&2&F&&I.push(I.pop().concat(I.shift())),l.push(I.filter(validSegment))}return I}}function validSegment(t){return t.length>1}function compareIntersection(t,e){return((t=t.x)[0]<0?t[1]-halfPi-epsilon$1:halfPi-t[1])-((e=e.x)[0]<0?e[1]-halfPi-epsilon$1:halfPi-e[1])}rotationIdentity.invert=rotationIdentity;var clipAntimeridian=clip((function(){return!0}),clipAntimeridianLine,clipAntimeridianInterpolate,[-pi$2,-halfPi]);function clipAntimeridianLine(t){var e,i=NaN,s=NaN,B=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(n,l){var Q=n>0?pi$2:-pi$2,F=abs(n-i);abs(F-pi$2)<epsilon$1?(t.point(i,s=(s+l)/2>0?halfPi:-halfPi),t.point(B,s),t.lineEnd(),t.lineStart(),t.point(Q,s),t.point(n,s),e=0):B!==Q&&F>=pi$2&&(abs(i-B)<epsilon$1&&(i-=B*epsilon$1),abs(n-Q)<epsilon$1&&(n-=Q*epsilon$1),s=clipAntimeridianIntersect(i,s,n,l),t.point(B,s),t.lineEnd(),t.lineStart(),t.point(Q,s),e=0),t.point(i=n,s=l),B=Q},lineEnd:function(){t.lineEnd(),i=s=NaN},clean:function(){return 2-e}}}function clipAntimeridianIntersect(t,e,i,s){var B,n,l=sin$1(t-i);return abs(l)>epsilon$1?atan((sin$1(e)*(n=cos$1(s))*sin$1(i)-sin$1(s)*(B=cos$1(e))*sin$1(t))/(B*n*l)):(e+s)/2}function clipAntimeridianInterpolate(t,e,i,s){var B;if(null==t)B=i*halfPi,s.point(-pi$2,B),s.point(0,B),s.point(pi$2,B),s.point(pi$2,0),s.point(pi$2,-B),s.point(0,-B),s.point(-pi$2,-B),s.point(-pi$2,0),s.point(-pi$2,B);else if(abs(t[0]-e[0])>epsilon$1){var n=t[0]<e[0]?pi$2:-pi$2;B=i*n/2,s.point(-n,B),s.point(0,B),s.point(n,B)}else s.point(e[0],e[1])}function clipCircle(t){var e=cos$1(t),i=2*radians$1,s=e>0,B=abs(e)>epsilon$1;function n(t,i){return cos$1(t)*cos$1(i)>e}function l(t,i,s){var B=[1,0,0],n=cartesianCross(cartesian(t),cartesian(i)),l=cartesianDot(n,n),Q=n[0],F=l-Q*Q;if(!F)return!s&&t;var c=e*l/F,g=-e*Q/F,a=cartesianCross(B,n),I=cartesianScale(B,c);cartesianAddInPlace(I,cartesianScale(n,g));var U=a,r=cartesianDot(I,U),o=cartesianDot(U,U),d=r*r-o*(cartesianDot(I,I)-1);if(!(d<0)){var b=sqrt$1(d),C=cartesianScale(U,(-r-b)/o);if(cartesianAddInPlace(C,I),C=spherical(C),!s)return C;var u,y=t[0],h=i[0],A=t[1],G=i[1];h<y&&(u=y,y=h,h=u);var R=h-y,x=abs(R-pi$2)<epsilon$1;if(!x&&G<A&&(u=A,A=G,G=u),x||R<epsilon$1?x?A+G>0^C[1]<(abs(C[0]-y)<epsilon$1?A:G):A<=C[1]&&C[1]<=G:R>pi$2^(y<=C[0]&&C[0]<=h)){var m=cartesianScale(U,(-r+b)/o);return cartesianAddInPlace(m,I),[C,spherical(m)]}}}function Q(e,i){var B=s?t:pi$2-t,n=0;return e<-B?n|=1:e>B&&(n|=2),i<-B?n|=4:i>B&&(n|=8),n}return clip(n,(function(t){var e,i,F,c,g;return{lineStart:function(){c=F=!1,g=1},point:function(a,I){var U,r=[a,I],o=n(a,I),d=s?o?0:Q(a,I):o?Q(a+(a<0?pi$2:-pi$2),I):0;if(!e&&(c=F=o)&&t.lineStart(),o!==F&&(!(U=l(e,r))||pointEqual(e,U)||pointEqual(r,U))&&(r[2]=1),o!==F)g=0,o?(t.lineStart(),U=l(r,e),t.point(U[0],U[1])):(U=l(e,r),t.point(U[0],U[1],2),t.lineEnd()),e=U;else if(B&&e&&s^o){var b;d&i||!(b=l(r,e,!0))||(g=0,s?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1],3)))}!o||e&&pointEqual(e,r)||t.point(r[0],r[1]),e=r,F=o,i=d},lineEnd:function(){F&&t.lineEnd(),e=null},clean:function(){return g|(c&&F)<<1}}}),(function(e,s,B,n){circleStream(n,t,i,B,e,s)}),s?[0,-t]:[-pi$2,t-pi$2])}function clipLine(t,e,i,s,B,n){var l,Q=t[0],F=t[1],c=0,g=1,a=e[0]-Q,I=e[1]-F;if(l=i-Q,a||!(l>0)){if(l/=a,a<0){if(l<c)return;l<g&&(g=l)}else if(a>0){if(l>g)return;l>c&&(c=l)}if(l=B-Q,a||!(l<0)){if(l/=a,a<0){if(l>g)return;l>c&&(c=l)}else if(a>0){if(l<c)return;l<g&&(g=l)}if(l=s-F,I||!(l>0)){if(l/=I,I<0){if(l<c)return;l<g&&(g=l)}else if(I>0){if(l>g)return;l>c&&(c=l)}if(l=n-F,I||!(l<0)){if(l/=I,I<0){if(l>g)return;l>c&&(c=l)}else if(I>0){if(l<c)return;l<g&&(g=l)}return c>0&&(t[0]=Q+c*a,t[1]=F+c*I),g<1&&(e[0]=Q+g*a,e[1]=F+g*I),!0}}}}}var clipMax=1e9,clipMin=-1e9;function clipRectangle(t,e,i,s){function B(B,n){return t<=B&&B<=i&&e<=n&&n<=s}function n(B,n,Q,c){var g=0,a=0;if(null==B||(g=l(B,Q))!==(a=l(n,Q))||F(B,n)<0^Q>0)do{c.point(0===g||3===g?t:i,g>1?s:e)}while((g=(g+Q+4)%4)!==a);else c.point(n[0],n[1])}function l(s,B){return abs(s[0]-t)<epsilon$1?B>0?0:3:abs(s[0]-i)<epsilon$1?B>0?2:1:abs(s[1]-e)<epsilon$1?B>0?1:0:B>0?3:2}function Q(t,e){return F(t.x,e.x)}function F(t,e){var i=l(t,1),s=l(e,1);return i!==s?i-s:0===i?e[1]-t[1]:1===i?t[0]-e[0]:2===i?t[1]-e[1]:e[0]-t[0]}return function(l){var F,c,g,a,I,U,r,o,d,b,C,u=l,y=clipBuffer(),h={point:A,lineStart:function(){h.point=G,c&&c.push(g=[]);b=!0,d=!1,r=o=NaN},lineEnd:function(){F&&(G(a,I),U&&d&&y.rejoin(),F.push(y.result()));h.point=A,d&&u.lineEnd()},polygonStart:function(){u=y,F=[],c=[],C=!0},polygonEnd:function(){var e=function(){for(var e=0,i=0,B=c.length;i<B;++i)for(var n,l,Q=c[i],F=1,g=Q.length,a=Q[0],I=a[0],U=a[1];F<g;++F)n=I,l=U,I=(a=Q[F])[0],U=a[1],l<=s?U>s&&(I-n)*(s-l)>(U-l)*(t-n)&&++e:U<=s&&(I-n)*(s-l)<(U-l)*(t-n)&&--e;return e}(),i=C&&e,B=(F=merge(F)).length;(i||B)&&(l.polygonStart(),i&&(l.lineStart(),n(null,null,1,l),l.lineEnd()),B&&clipRejoin(F,Q,e,n,l),l.polygonEnd());u=l,F=c=g=null}};function A(t,e){B(t,e)&&u.point(t,e)}function G(n,l){var Q=B(n,l);if(c&&g.push([n,l]),b)a=n,I=l,U=Q,b=!1,Q&&(u.lineStart(),u.point(n,l));else if(Q&&d)u.point(n,l);else{var F=[r=Math.max(clipMin,Math.min(clipMax,r)),o=Math.max(clipMin,Math.min(clipMax,o))],y=[n=Math.max(clipMin,Math.min(clipMax,n)),l=Math.max(clipMin,Math.min(clipMax,l))];clipLine(F,y,t,e,i,s)?(d||(u.lineStart(),u.point(F[0],F[1])),u.point(y[0],y[1]),Q||u.lineEnd(),C=!1):Q&&(u.lineStart(),u.point(n,l),C=!1)}r=n,o=l,d=Q}return h}}var x00$2,y00$2,x0$3,y0$3,identity$4=t=>t,areaSum=new Adder,areaRingSum=new Adder,areaStream={point:noop$1,lineStart:noop$1,lineEnd:noop$1,polygonStart:function(){areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){areaStream.lineStart=areaStream.lineEnd=areaStream.point=noop$1,areaSum.add(abs(areaRingSum)),areaRingSum=new Adder},result:function(){var t=areaSum/2;return areaSum=new Adder,t}};function areaRingStart(){areaStream.point=areaPointFirst}function areaPointFirst(t,e){areaStream.point=areaPoint,x00$2=x0$3=t,y00$2=y0$3=e}function areaPoint(t,e){areaRingSum.add(y0$3*t-x0$3*e),x0$3=t,y0$3=e}function areaRingEnd(){areaPoint(x00$2,y00$2)}var x0$2=1/0,y0$2=x0$2,x1=-x0$2,y1=x1,boundsStream={point:boundsPoint,lineStart:noop$1,lineEnd:noop$1,polygonStart:noop$1,polygonEnd:noop$1,result:function(){var t=[[x0$2,y0$2],[x1,y1]];return x1=y1=-(y0$2=x0$2=1/0),t}};function boundsPoint(t,e){t<x0$2&&(x0$2=t),t>x1&&(x1=t),e<y0$2&&(y0$2=e),e>y1&&(y1=e)}var x00$1,y00$1,x0$1,y0$1,X0=0,Y0=0,Z0=0,X1=0,Y1=0,Z1=0,X2=0,Y2=0,Z2=0,centroidStream={point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.point=centroidPoint,centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd},result:function(){var t=Z2?[X2/Z2,Y2/Z2]:Z1?[X1/Z1,Y1/Z1]:Z0?[X0/Z0,Y0/Z0]:[NaN,NaN];return X0=Y0=Z0=X1=Y1=Z1=X2=Y2=Z2=0,t}};function centroidPoint(t,e){X0+=t,Y0+=e,++Z0}function centroidLineStart(){centroidStream.point=centroidPointFirstLine}function centroidPointFirstLine(t,e){centroidStream.point=centroidPointLine,centroidPoint(x0$1=t,y0$1=e)}function centroidPointLine(t,e){var i=t-x0$1,s=e-y0$1,B=sqrt$1(i*i+s*s);X1+=B*(x0$1+t)/2,Y1+=B*(y0$1+e)/2,Z1+=B,centroidPoint(x0$1=t,y0$1=e)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidPointFirstRing}function centroidRingEnd(){centroidPointRing(x00$1,y00$1)}function centroidPointFirstRing(t,e){centroidStream.point=centroidPointRing,centroidPoint(x00$1=x0$1=t,y00$1=y0$1=e)}function centroidPointRing(t,e){var i=t-x0$1,s=e-y0$1,B=sqrt$1(i*i+s*s);X1+=B*(x0$1+t)/2,Y1+=B*(y0$1+e)/2,Z1+=B,X2+=(B=y0$1*t-x0$1*e)*(x0$1+t),Y2+=B*(y0$1+e),Z2+=3*B,centroidPoint(x0$1=t,y0$1=e)}function PathContext(t){this._context=t}PathContext.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,tau$2)}},result:noop$1};var lengthRing,x00,y00,x0,y0,lengthSum=new Adder,lengthStream={point:noop$1,lineStart:function(){lengthStream.point=lengthPointFirst},lineEnd:function(){lengthRing&&lengthPoint(x00,y00),lengthStream.point=noop$1},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var t=+lengthSum;return lengthSum=new Adder,t}};function lengthPointFirst(t,e){lengthStream.point=lengthPoint,x00=x0=t,y00=y0=e}function lengthPoint(t,e){x0-=t,y0-=e,lengthSum.add(sqrt$1(x0*x0+y0*y0)),x0=t,y0=e}let cacheDigits,cacheAppend,cacheRadius,cacheCircle;class PathString{constructor(t){this._append=null==t?append:appendRound(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:this._append`M${t},${e}`,this._point=1;break;case 1:this._append`L${t},${e}`;break;default:if(this._append`M${t},${e}`,this._radius!==cacheRadius||this._append!==cacheAppend){const t=this._radius,e=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,cacheRadius=t,cacheAppend=this._append,cacheCircle=this._,this._=e}this._+=cacheCircle}}result(){const t=this._;return this._="",t.length?t:null}}function append(t){let e=1;this._+=t[0];for(const i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function appendRound(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return append;if(e!==cacheDigits){const t=10**e;cacheDigits=e,cacheAppend=function(e){let i=1;this._+=e[0];for(const s=e.length;i<s;++i)this._+=Math.round(arguments[i]*t)/t+e[i]}}return cacheAppend}function geoPath(t,e){let i,s,B=3,n=4.5;function l(t){return t&&("function"==typeof n&&s.pointRadius(+n.apply(this,arguments)),geoStream(t,i(s))),s.result()}return l.area=function(t){return geoStream(t,i(areaStream)),areaStream.result()},l.measure=function(t){return geoStream(t,i(lengthStream)),lengthStream.result()},l.bounds=function(t){return geoStream(t,i(boundsStream)),boundsStream.result()},l.centroid=function(t){return geoStream(t,i(centroidStream)),centroidStream.result()},l.projection=function(e){return arguments.length?(i=null==e?(t=null,identity$4):(t=e).stream,l):t},l.context=function(t){return arguments.length?(s=null==t?(e=null,new PathString(B)):new PathContext(e=t),"function"!=typeof n&&s.pointRadius(n),l):e},l.pointRadius=function(t){return arguments.length?(n="function"==typeof t?t:(s.pointRadius(+t),+t),l):n},l.digits=function(t){if(!arguments.length)return B;if(null==t)B=null;else{const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);B=e}return null===e&&(s=new PathString(B)),l},l.projection(t).digits(B).context(e)}function geoTransform(t){return{stream:transformer$2(t)}}function transformer$2(t){return function(e){var i=new TransformStream;for(var s in t)i[s]=t[s];return i.stream=e,i}}function TransformStream(){}function fit(t,e,i){var s=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=s&&t.clipExtent(null),geoStream(i,t.stream(boundsStream)),e(boundsStream.result()),null!=s&&t.clipExtent(s),t}function fitExtent(t,e,i){return fit(t,(function(i){var s=e[1][0]-e[0][0],B=e[1][1]-e[0][1],n=Math.min(s/(i[1][0]-i[0][0]),B/(i[1][1]-i[0][1])),l=+e[0][0]+(s-n*(i[1][0]+i[0][0]))/2,Q=+e[0][1]+(B-n*(i[1][1]+i[0][1]))/2;t.scale(150*n).translate([l,Q])}),i)}function fitSize(t,e,i){return fitExtent(t,[[0,0],e],i)}function fitWidth(t,e,i){return fit(t,(function(i){var s=+e,B=s/(i[1][0]-i[0][0]),n=(s-B*(i[1][0]+i[0][0]))/2,l=-B*i[0][1];t.scale(150*B).translate([n,l])}),i)}function fitHeight(t,e,i){return fit(t,(function(i){var s=+e,B=s/(i[1][1]-i[0][1]),n=-B*i[0][0],l=(s-B*(i[1][1]+i[0][1]))/2;t.scale(150*B).translate([n,l])}),i)}TransformStream.prototype={constructor:TransformStream,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var maxDepth=16,cosMinDistance=cos$1(30*radians$1);function resample(t,e){return+e?resample$1(t,e):resampleNone(t)}function resampleNone(t){return transformer$2({point:function(e,i){e=t(e,i),this.stream.point(e[0],e[1])}})}function resample$1(t,e){function i(s,B,n,l,Q,F,c,g,a,I,U,r,o,d){var b=c-s,C=g-B,u=b*b+C*C;if(u>4*e&&o--){var y=l+I,h=Q+U,A=F+r,G=sqrt$1(y*y+h*h+A*A),R=asin(A/=G),x=abs(abs(A)-1)<epsilon$1||abs(n-a)<epsilon$1?(n+a)/2:atan2(h,y),m=t(x,R),L=m[0],S=m[1],p=L-s,V=S-B,Z=C*p-b*V;(Z*Z/u>e||abs((b*p+C*V)/u-.5)>.3||l*I+Q*U+F*r<cosMinDistance)&&(i(s,B,n,l,Q,F,L,S,x,y/=G,h/=G,A,o,d),d.point(L,S),i(L,S,x,y,h,A,c,g,a,I,U,r,o,d))}}return function(e){var s,B,n,l,Q,F,c,g,a,I,U,r,o={point:d,lineStart:b,lineEnd:u,polygonStart:function(){e.polygonStart(),o.lineStart=y},polygonEnd:function(){e.polygonEnd(),o.lineStart=b}};function d(i,s){i=t(i,s),e.point(i[0],i[1])}function b(){g=NaN,o.point=C,e.lineStart()}function C(s,B){var n=cartesian([s,B]),l=t(s,B);i(g,a,c,I,U,r,g=l[0],a=l[1],c=s,I=n[0],U=n[1],r=n[2],maxDepth,e),e.point(g,a)}function u(){o.point=d,e.lineEnd()}function y(){b(),o.point=h,o.lineEnd=A}function h(t,e){C(s=t,e),B=g,n=a,l=I,Q=U,F=r,o.point=C}function A(){i(g,a,c,I,U,r,B,n,s,l,Q,F,maxDepth,e),o.lineEnd=u,u()}return o}}var transformRadians=transformer$2({point:function(t,e){this.stream.point(t*radians$1,e*radians$1)}});function transformRotate(t){return transformer$2({point:function(e,i){var s=t(e,i);return this.stream.point(s[0],s[1])}})}function scaleTranslate(t,e,i,s,B){function n(n,l){return[e+t*(n*=s),i-t*(l*=B)]}return n.invert=function(n,l){return[(n-e)/t*s,(i-l)/t*B]},n}function scaleTranslateRotate(t,e,i,s,B,n){if(!n)return scaleTranslate(t,e,i,s,B);var l=cos$1(n),Q=sin$1(n),F=l*t,c=Q*t,g=l/t,a=Q/t,I=(Q*i-l*e)/t,U=(Q*e+l*i)/t;function r(t,n){return[F*(t*=s)-c*(n*=B)+e,i-c*t-F*n]}return r.invert=function(t,e){return[s*(g*t-a*e+I),B*(U-a*t-g*e)]},r}function projection$1(t){return projectionMutator((function(){return t}))()}function projectionMutator(t){var e,i,s,B,n,l,Q,F,c,g,a=150,I=480,U=250,r=0,o=0,d=0,b=0,C=0,u=0,y=1,h=1,A=null,G=clipAntimeridian,R=null,x=identity$4,m=.5;function L(t){return F(t[0]*radians$1,t[1]*radians$1)}function S(t){return(t=F.invert(t[0],t[1]))&&[t[0]*degrees,t[1]*degrees]}function p(){var t=scaleTranslateRotate(a,0,0,y,h,u).apply(null,e(r,o)),s=scaleTranslateRotate(a,I-t[0],U-t[1],y,h,u);return i=rotateRadians(d,b,C),Q=compose(e,s),F=compose(i,Q),l=resample(Q,m),V()}function V(){return c=g=null,L}return L.stream=function(t){return c&&g===t?c:c=transformRadians(transformRotate(i)(G(l(x(g=t)))))},L.preclip=function(t){return arguments.length?(G=t,A=void 0,V()):G},L.postclip=function(t){return arguments.length?(x=t,R=s=B=n=null,V()):x},L.clipAngle=function(t){return arguments.length?(G=+t?clipCircle(A=t*radians$1):(A=null,clipAntimeridian),V()):A*degrees},L.clipExtent=function(t){return arguments.length?(x=null==t?(R=s=B=n=null,identity$4):clipRectangle(R=+t[0][0],s=+t[0][1],B=+t[1][0],n=+t[1][1]),V()):null==R?null:[[R,s],[B,n]]},L.scale=function(t){return arguments.length?(a=+t,p()):a},L.translate=function(t){return arguments.length?(I=+t[0],U=+t[1],p()):[I,U]},L.center=function(t){return arguments.length?(r=t[0]%360*radians$1,o=t[1]%360*radians$1,p()):[r*degrees,o*degrees]},L.rotate=function(t){return arguments.length?(d=t[0]%360*radians$1,b=t[1]%360*radians$1,C=t.length>2?t[2]%360*radians$1:0,p()):[d*degrees,b*degrees,C*degrees]},L.angle=function(t){return arguments.length?(u=t%360*radians$1,p()):u*degrees},L.reflectX=function(t){return arguments.length?(y=t?-1:1,p()):y<0},L.reflectY=function(t){return arguments.length?(h=t?-1:1,p()):h<0},L.precision=function(t){return arguments.length?(l=resample(Q,m=t*t),V()):sqrt$1(m)},L.fitExtent=function(t,e){return fitExtent(L,t,e)},L.fitSize=function(t,e){return fitSize(L,t,e)},L.fitWidth=function(t,e){return fitWidth(L,t,e)},L.fitHeight=function(t,e){return fitHeight(L,t,e)},function(){return e=t.apply(this,arguments),L.invert=e.invert&&S,p()}}function conicProjection$1(t){var e=0,i=pi$2/3,s=projectionMutator(t),B=s(e,i);return B.parallels=function(t){return arguments.length?s(e=t[0]*radians$1,i=t[1]*radians$1):[e*degrees,i*degrees]},B}function cylindricalEqualAreaRaw(t){var e=cos$1(t);function i(t,i){return[t*e,sin$1(i)/e]}return i.invert=function(t,i){return[t/e,asin(i*e)]},i}function conicEqualAreaRaw(t,e){var i=sin$1(t),s=(i+sin$1(e))/2;if(abs(s)<epsilon$1)return cylindricalEqualAreaRaw(t);var B=1+i*(2*s-i),n=sqrt$1(B)/s;function l(t,e){var i=sqrt$1(B-2*s*sin$1(e))/s;return[i*sin$1(t*=s),n-i*cos$1(t)]}return l.invert=function(t,e){var i=n-e,l=atan2(t,abs(i))*sign$1(i);return i*s<0&&(l-=pi$2*sign$1(t)*sign$1(i)),[l/s,asin((B-(t*t+i*i)*s*s)/(2*s))]},l}function geoConicEqualArea(){return conicProjection$1(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function geoAlbers(){return geoConicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function multiplex(t){var e=t.length;return{point:function(i,s){for(var B=-1;++B<e;)t[B].point(i,s)},sphere:function(){for(var i=-1;++i<e;)t[i].sphere()},lineStart:function(){for(var i=-1;++i<e;)t[i].lineStart()},lineEnd:function(){for(var i=-1;++i<e;)t[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<e;)t[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<e;)t[i].polygonEnd()}}}function geoAlbersUsa(){var t,e,i,s,B,n,l=geoAlbers(),Q=geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),F=geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){n=[t,e]}};function g(t){var e=t[0],l=t[1];return n=null,i.point(e,l),n||(s.point(e,l),n)||(B.point(e,l),n)}function a(){return t=e=null,g}return g.invert=function(t){var e=l.scale(),i=l.translate(),s=(t[0]-i[0])/e,B=(t[1]-i[1])/e;return(B>=.12&&B<.234&&s>=-.425&&s<-.214?Q:B>=.166&&B<.234&&s>=-.214&&s<-.115?F:l).invert(t)},g.stream=function(i){return t&&e===i?t:t=multiplex([l.stream(e=i),Q.stream(i),F.stream(i)])},g.precision=function(t){return arguments.length?(l.precision(t),Q.precision(t),F.precision(t),a()):l.precision()},g.scale=function(t){return arguments.length?(l.scale(t),Q.scale(.35*t),F.scale(t),g.translate(l.translate())):l.scale()},g.translate=function(t){if(!arguments.length)return l.translate();var e=l.scale(),n=+t[0],g=+t[1];return i=l.translate(t).clipExtent([[n-.455*e,g-.238*e],[n+.455*e,g+.238*e]]).stream(c),s=Q.translate([n-.307*e,g+.201*e]).clipExtent([[n-.425*e+epsilon$1,g+.12*e+epsilon$1],[n-.214*e-epsilon$1,g+.234*e-epsilon$1]]).stream(c),B=F.translate([n-.205*e,g+.212*e]).clipExtent([[n-.214*e+epsilon$1,g+.166*e+epsilon$1],[n-.115*e-epsilon$1,g+.234*e-epsilon$1]]).stream(c),a()},g.fitExtent=function(t,e){return fitExtent(g,t,e)},g.fitSize=function(t,e){return fitSize(g,t,e)},g.fitWidth=function(t,e){return fitWidth(g,t,e)},g.fitHeight=function(t,e){return fitHeight(g,t,e)},g.scale(1070)}function azimuthalRaw(t){return function(e,i){var s=cos$1(e),B=cos$1(i),n=t(s*B);return n===1/0?[2,0]:[n*B*sin$1(e),n*sin$1(i)]}}function azimuthalInvert(t){return function(e,i){var s=sqrt$1(e*e+i*i),B=t(s),n=sin$1(B),l=cos$1(B);return[atan2(e*n,s*l),asin(s&&i*n/s)]}}var azimuthalEqualAreaRaw=azimuthalRaw((function(t){return sqrt$1(2/(1+t))}));function geoAzimuthalEqualArea(){return projection$1(azimuthalEqualAreaRaw).scale(124.75).clipAngle(179.999)}azimuthalEqualAreaRaw.invert=azimuthalInvert((function(t){return 2*asin(t/2)}));var azimuthalEquidistantRaw=azimuthalRaw((function(t){return(t=acos(t))&&t/sin$1(t)}));function geoAzimuthalEquidistant(){return projection$1(azimuthalEquidistantRaw).scale(79.4188).clipAngle(179.999)}function mercatorRaw(t,e){return[t,log$1(tan((halfPi+e)/2))]}function geoMercator(){return mercatorProjection(mercatorRaw).scale(961/tau$2)}function mercatorProjection(t){var e,i,s,B=projection$1(t),n=B.center,l=B.scale,Q=B.translate,F=B.clipExtent,c=null;function g(){var n=pi$2*l(),Q=B(rotation(B.rotate()).invert([0,0]));return F(null==c?[[Q[0]-n,Q[1]-n],[Q[0]+n,Q[1]+n]]:t===mercatorRaw?[[Math.max(Q[0]-n,c),e],[Math.min(Q[0]+n,i),s]]:[[c,Math.max(Q[1]-n,e)],[i,Math.min(Q[1]+n,s)]])}return B.scale=function(t){return arguments.length?(l(t),g()):l()},B.translate=function(t){return arguments.length?(Q(t),g()):Q()},B.center=function(t){return arguments.length?(n(t),g()):n()},B.clipExtent=function(t){return arguments.length?(null==t?c=e=i=s=null:(c=+t[0][0],e=+t[0][1],i=+t[1][0],s=+t[1][1]),g()):null==c?null:[[c,e],[i,s]]},g()}function tany(t){return tan((halfPi+t)/2)}function conicConformalRaw(t,e){var i=cos$1(t),s=t===e?sin$1(t):log$1(i/cos$1(e))/log$1(tany(e)/tany(t)),B=i*pow$1(tany(t),s)/s;if(!s)return mercatorRaw;function n(t,e){B>0?e<-halfPi+epsilon$1&&(e=-halfPi+epsilon$1):e>halfPi-epsilon$1&&(e=halfPi-epsilon$1);var i=B/pow$1(tany(e),s);return[i*sin$1(s*t),B-i*cos$1(s*t)]}return n.invert=function(t,e){var i=B-e,n=sign$1(s)*sqrt$1(t*t+i*i),l=atan2(t,abs(i))*sign$1(i);return i*s<0&&(l-=pi$2*sign$1(t)*sign$1(i)),[l/s,2*atan(pow$1(B/n,1/s))-halfPi]},n}function geoConicConformal(){return conicProjection$1(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(t,e){return[t,e]}function geoEquirectangular(){return projection$1(equirectangularRaw).scale(152.63)}function conicEquidistantRaw(t,e){var i=cos$1(t),s=t===e?sin$1(t):(i-cos$1(e))/(e-t),B=i/s+t;if(abs(s)<epsilon$1)return equirectangularRaw;function n(t,e){var i=B-e,n=s*t;return[i*sin$1(n),B-i*cos$1(n)]}return n.invert=function(t,e){var i=B-e,n=atan2(t,abs(i))*sign$1(i);return i*s<0&&(n-=pi$2*sign$1(t)*sign$1(i)),[n/s,B-sign$1(s)*sqrt$1(t*t+i*i)]},n}function geoConicEquidistant(){return conicProjection$1(conicEquidistantRaw).scale(131.154).center([0,13.9389])}azimuthalEquidistantRaw.invert=azimuthalInvert((function(t){return t})),mercatorRaw.invert=function(t,e){return[t,2*atan(exp(e))-halfPi]},equirectangularRaw.invert=equirectangularRaw;var A1=1.340264,A2=-.081106,A3=893e-6,A4=.003796,M$1=sqrt$1(3)/2,iterations=12;function equalEarthRaw(t,e){var i=asin(M$1*sin$1(e)),s=i*i,B=s*s*s;return[t*cos$1(i)/(M$1*(A1+3*A2*s+B*(7*A3+9*A4*s))),i*(A1+A2*s+B*(A3+A4*s))]}function geoEqualEarth(){return projection$1(equalEarthRaw).scale(177.158)}function gnomonicRaw(t,e){var i=cos$1(e),s=cos$1(t)*i;return[i*sin$1(t)/s,sin$1(e)/s]}function geoGnomonic(){return projection$1(gnomonicRaw).scale(144.049).clipAngle(60)}function orthographicRaw(t,e){return[cos$1(e)*sin$1(t),sin$1(e)]}function geoOrthographic(){return projection$1(orthographicRaw).scale(249.5).clipAngle(90+epsilon$1)}function stereographicRaw(t,e){var i=cos$1(e),s=1+cos$1(t)*i;return[i*sin$1(t)/s,sin$1(e)/s]}function geoStereographic(){return projection$1(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(t,e){return[log$1(tan((halfPi+e)/2)),-t]}function geoTransverseMercator(){var t=mercatorProjection(transverseMercatorRaw),e=t.center,i=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?i([t[0],t[1],t.length>2?t[2]+90:90]):[(t=i())[0],t[1],t[2]-90]},i([0,0,90]).scale(159.155)}function initRange(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function initInterpolator(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}equalEarthRaw.invert=function(t,e){for(var i,s=e,B=s*s,n=B*B*B,l=0;l<iterations&&(n=(B=(s-=i=(s*(A1+A2*B+n*(A3+A4*B))-e)/(A1+3*A2*B+n*(7*A3+9*A4*B)))*s)*B*B,!(abs(i)<epsilon2));++l);return[M$1*t*(A1+3*A2*B+n*(7*A3+9*A4*B))/cos$1(s),asin(sin$1(s)/M$1)]},gnomonicRaw.invert=azimuthalInvert(atan),orthographicRaw.invert=azimuthalInvert(asin),stereographicRaw.invert=azimuthalInvert((function(t){return 2*atan(t)})),transverseMercatorRaw.invert=function(t,e){return[-e,2*atan(exp(t))-halfPi]};const implicit=Symbol("implicit");function ordinal(){var t=new InternMap,e=[],i=[],s=implicit;function B(B){let n=t.get(B);if(void 0===n){if(s!==implicit)return s;t.set(B,n=e.push(B)-1)}return i[n%i.length]}return B.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new InternMap;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return B},B.range=function(t){return arguments.length?(i=Array.from(t),B):i.slice()},B.unknown=function(t){return arguments.length?(s=t,B):s},B.copy=function(){return ordinal(e,i).unknown(s)},initRange.apply(B,arguments),B}function band(){var t,e,i=ordinal().unknown(void 0),s=i.domain,B=i.range,n=0,l=1,Q=!1,F=0,c=0,g=.5;function a(){var i=s().length,a=l<n,I=a?l:n,U=a?n:l;t=(U-I)/Math.max(1,i-F+2*c),Q&&(t=Math.floor(t)),I+=(U-I-t*(i-F))*g,e=t*(1-F),Q&&(I=Math.round(I),e=Math.round(e));var r=range$1(i).map((function(e){return I+t*e}));return B(a?r.reverse():r)}return delete i.unknown,i.domain=function(t){return arguments.length?(s(t),a()):s()},i.range=function(t){return arguments.length?([n,l]=t,n=+n,l=+l,a()):[n,l]},i.rangeRound=function(t){return[n,l]=t,n=+n,l=+l,Q=!0,a()},i.bandwidth=function(){return e},i.step=function(){return t},i.round=function(t){return arguments.length?(Q=!!t,a()):Q},i.padding=function(t){return arguments.length?(F=Math.min(1,c=+t),a()):F},i.paddingInner=function(t){return arguments.length?(F=Math.min(1,t),a()):F},i.paddingOuter=function(t){return arguments.length?(c=+t,a()):c},i.align=function(t){return arguments.length?(g=Math.max(0,Math.min(1,t)),a()):g},i.copy=function(){return band(s(),[n,l]).round(Q).paddingInner(F).paddingOuter(c).align(g)},initRange.apply(a(),arguments)}function pointish(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pointish(e())},t}function point$4(){return pointish(band.apply(null,arguments).paddingInner(1))}function constants(t){return function(){return t}}function number$2(t){return+t}var unit$1=[0,1];function identity$3(t){return t}function normalize(t,e){return(e-=t=+t)?function(i){return(i-t)/e}:constants(isNaN(e)?NaN:.5)}function clamper(t,e){var i;return t>e&&(i=t,t=e,e=i),function(i){return Math.max(t,Math.min(e,i))}}function bimap(t,e,i){var s=t[0],B=t[1],n=e[0],l=e[1];return B<s?(s=normalize(B,s),n=i(l,n)):(s=normalize(s,B),n=i(n,l)),function(t){return n(s(t))}}function polymap(t,e,i){var s=Math.min(t.length,e.length)-1,B=new Array(s),n=new Array(s),l=-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<s;)B[l]=normalize(t[l],t[l+1]),n[l]=i(e[l],e[l+1]);return function(e){var i=bisectRight(t,e,1,s)-1;return n[i](B[i](e))}}function copy$1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function transformer$1(){var t,e,i,s,B,n,l=unit$1,Q=unit$1,F=interpolate$1,c=identity$3;function g(){var t=Math.min(l.length,Q.length);return c!==identity$3&&(c=clamper(l[0],l[t-1])),s=t>2?polymap:bimap,B=n=null,a}function a(e){return null==e||isNaN(e=+e)?i:(B||(B=s(l.map(t),Q,F)))(t(c(e)))}return a.invert=function(i){return c(e((n||(n=s(Q,l.map(t),interpolateNumber)))(i)))},a.domain=function(t){return arguments.length?(l=Array.from(t,number$2),g()):l.slice()},a.range=function(t){return arguments.length?(Q=Array.from(t),g()):Q.slice()},a.rangeRound=function(t){return Q=Array.from(t),F=interpolateRound,g()},a.clamp=function(t){return arguments.length?(c=!!t||identity$3,g()):c!==identity$3},a.interpolate=function(t){return arguments.length?(F=t,g()):F},a.unknown=function(t){return arguments.length?(i=t,a):i},function(i,s){return t=i,e=s,g()}}function continuous(){return transformer$1()(identity$3,identity$3)}function tickFormat(t,e,i,s){var B,n=tickStep(t,e,i);switch((s=formatSpecifier(null==s?",f":s)).type){case"s":var l=Math.max(Math.abs(t),Math.abs(e));return null!=s.precision||isNaN(B=precisionPrefix(n,l))||(s.precision=B),formatPrefix(s,l);case"":case"e":case"g":case"p":case"r":null!=s.precision||isNaN(B=precisionRound(n,Math.max(Math.abs(t),Math.abs(e))))||(s.precision=B-("e"===s.type));break;case"f":case"%":null!=s.precision||isNaN(B=precisionFixed(n))||(s.precision=B-2*("%"===s.type))}return format$1(s)}function linearish(t){var e=t.domain;return t.ticks=function(t){var i=e();return ticks(i[0],i[i.length-1],null==t?10:t)},t.tickFormat=function(t,i){var s=e();return tickFormat(s[0],s[s.length-1],null==t?10:t,i)},t.nice=function(i){null==i&&(i=10);var s,B,n=e(),l=0,Q=n.length-1,F=n[l],c=n[Q],g=10;for(c<F&&(B=F,F=c,c=B,B=l,l=Q,Q=B);g-- >0;){if((B=tickIncrement(F,c,i))===s)return n[l]=F,n[Q]=c,e(n);if(B>0)F=Math.floor(F/B)*B,c=Math.ceil(c/B)*B;else{if(!(B<0))break;F=Math.ceil(F*B)/B,c=Math.floor(c*B)/B}s=B}return t},t}function linear(){var t=continuous();return t.copy=function(){return copy$1(t,linear())},initRange.apply(t,arguments),linearish(t)}function identity$2(t){var e;function i(t){return null==t||isNaN(t=+t)?e:t}return i.invert=i,i.domain=i.range=function(e){return arguments.length?(t=Array.from(e,number$2),i):t.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return identity$2(t).unknown(e)},t=arguments.length?Array.from(t,number$2):[0,1],linearish(i)}function nice(t,e){var i,s=0,B=(t=t.slice()).length-1,n=t[s],l=t[B];return l<n&&(i=s,s=B,B=i,i=n,n=l,l=i),t[s]=e.floor(n),t[B]=e.ceil(l),t}function transformLog$1(t){return Math.log(t)}function transformExp(t){return Math.exp(t)}function transformLogn(t){return-Math.log(-t)}function transformExpn(t){return-Math.exp(-t)}function pow10(t){return isFinite(t)?+("1e"+t):t<0?0:t}function powp(t){return 10===t?pow10:t===Math.E?Math.exp:e=>Math.pow(t,e)}function logp(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function reflect(t){return(e,i)=>-t(-e,i)}function loggish(t){const e=t(transformLog$1,transformExp),i=e.domain;let s,B,n=10;function l(){return s=logp(n),B=powp(n),i()[0]<0?(s=reflect(s),B=reflect(B),t(transformLogn,transformExpn)):t(transformLog$1,transformExp),e}return e.base=function(t){return arguments.length?(n=+t,l()):n},e.domain=function(t){return arguments.length?(i(t),l()):i()},e.ticks=t=>{const e=i();let l=e[0],Q=e[e.length-1];const F=Q<l;F&&([l,Q]=[Q,l]);let c,g,a=s(l),I=s(Q);const U=null==t?10:+t;let r=[];if(!(n%1)&&I-a<U){if(a=Math.floor(a),I=Math.ceil(I),l>0){for(;a<=I;++a)for(c=1;c<n;++c)if(g=a<0?c/B(-a):c*B(a),!(g<l)){if(g>Q)break;r.push(g)}}else for(;a<=I;++a)for(c=n-1;c>=1;--c)if(g=a>0?c/B(-a):c*B(a),!(g<l)){if(g>Q)break;r.push(g)}2*r.length<U&&(r=ticks(l,Q,U))}else r=ticks(a,I,Math.min(I-a,U)).map(B);return F?r.reverse():r},e.tickFormat=(t,i)=>{if(null==t&&(t=10),null==i&&(i=10===n?"s":","),"function"!=typeof i&&(n%1||null!=(i=formatSpecifier(i)).precision||(i.trim=!0),i=format$1(i)),t===1/0)return i;const l=Math.max(1,n*t/e.ticks().length);return t=>{let e=t/B(Math.round(s(t)));return e*n<n-.5&&(e*=n),e<=l?i(t):""}},e.nice=()=>i(nice(i(),{floor:t=>B(Math.floor(s(t))),ceil:t=>B(Math.ceil(s(t)))})),e}function log(){const t=loggish(transformer$1()).domain([1,10]);return t.copy=()=>copy$1(t,log()).base(t.base()),initRange.apply(t,arguments),t}function transformSymlog$1(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function transformSymexp(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function symlogish(t){var e=1,i=t(transformSymlog$1(e),transformSymexp(e));return i.constant=function(i){return arguments.length?t(transformSymlog$1(e=+i),transformSymexp(e)):e},linearish(i)}function symlog(){var t=symlogish(transformer$1());return t.copy=function(){return copy$1(t,symlog()).constant(t.constant())},initRange.apply(t,arguments)}function transformPow$1(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function transformSqrt$1(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function transformSquare(t){return t<0?-t*t:t*t}function powish(t){var e=t(identity$3,identity$3),i=1;return e.exponent=function(e){return arguments.length?1===(i=+e)?t(identity$3,identity$3):.5===i?t(transformSqrt$1,transformSquare):t(transformPow$1(i),transformPow$1(1/i)):i},linearish(e)}function pow(){var t=powish(transformer$1());return t.copy=function(){return copy$1(t,pow()).exponent(t.exponent())},initRange.apply(t,arguments),t}function quantile(){var t,e=[],i=[],s=[];function B(){var t=0,B=Math.max(1,i.length);for(s=new Array(B-1);++t<B;)s[t-1]=quantileSorted(e,t/B);return n}function n(e){return null==e||isNaN(e=+e)?t:i[bisectRight(s,e)]}return n.invertExtent=function(t){var B=i.indexOf(t);return B<0?[NaN,NaN]:[B>0?s[B-1]:e[0],B<s.length?s[B]:e[e.length-1]]},n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let i of t)null==i||isNaN(i=+i)||e.push(i);return e.sort(ascending$1),B()},n.range=function(t){return arguments.length?(i=Array.from(t),B()):i.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.quantiles=function(){return s.slice()},n.copy=function(){return quantile().domain(e).range(i).unknown(t)},initRange.apply(n,arguments)}function threshold(){var t,e=[.5],i=[0,1],s=1;function B(B){return null!=B&&B<=B?i[bisectRight(e,B,0,s)]:t}return B.domain=function(t){return arguments.length?(e=Array.from(t),s=Math.min(e.length,i.length-1),B):e.slice()},B.range=function(t){return arguments.length?(i=Array.from(t),s=Math.min(e.length,i.length-1),B):i.slice()},B.invertExtent=function(t){var s=i.indexOf(t);return[e[s-1],e[s]]},B.unknown=function(e){return arguments.length?(t=e,B):t},B.copy=function(){return threshold().domain(e).range(i).unknown(t)},initRange.apply(B,arguments)}const t0=new Date,t1=new Date;function timeInterval$1(t,e,i,s){function B(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return B.floor=e=>(t(e=new Date(+e)),e),B.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),B.round=t=>{const e=B(t),i=B.ceil(t);return t-e<i-t?e:i},B.offset=(t,i)=>(e(t=new Date(+t),null==i?1:Math.floor(i)),t),B.range=(i,s,n)=>{const l=[];if(i=B.ceil(i),n=null==n?1:Math.floor(n),!(i<s&&n>0))return l;let Q;do{l.push(Q=new Date(+i)),e(i,n),t(i)}while(Q<i&&i<s);return l},B.filter=i=>timeInterval$1((e=>{if(e>=e)for(;t(e),!i(e);)e.setTime(e-1)}),((t,s)=>{if(t>=t)if(s<0)for(;++s<=0;)for(;e(t,-1),!i(t););else for(;--s>=0;)for(;e(t,1),!i(t););})),i&&(B.count=(e,s)=>(t0.setTime(+e),t1.setTime(+s),t(t0),t(t1),Math.floor(i(t0,t1))),B.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?B.filter(s?e=>s(e)%t==0:e=>B.count(0,e)%t==0):B:null)),B}const millisecond=timeInterval$1((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));millisecond.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?timeInterval$1((e=>{e.setTime(Math.floor(e/t)*t)}),((e,i)=>{e.setTime(+e+i*t)}),((e,i)=>(i-e)/t)):millisecond:null),millisecond.range;const durationSecond$1=1e3,durationMinute$1=6e4,durationHour$1=36e5,durationDay$1=864e5,durationWeek$1=6048e5,durationMonth$1=2592e6,durationYear$1=31536e6,second$1=timeInterval$1((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+1e3*e)}),((t,e)=>(e-t)/1e3),(t=>t.getUTCSeconds()));second$1.range;const timeMinute=timeInterval$1((t=>{t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),((t,e)=>{t.setTime(+t+6e4*e)}),((t,e)=>(e-t)/6e4),(t=>t.getMinutes()));timeMinute.range;const utcMinute=timeInterval$1((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+6e4*e)}),((t,e)=>(e-t)/6e4),(t=>t.getUTCMinutes()));utcMinute.range;const timeHour=timeInterval$1((t=>{t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),((t,e)=>{t.setTime(+t+36e5*e)}),((t,e)=>(e-t)/36e5),(t=>t.getHours()));timeHour.range;const utcHour=timeInterval$1((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+36e5*e)}),((t,e)=>(e-t)/36e5),(t=>t.getUTCHours()));utcHour.range;const timeDay=timeInterval$1((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5),(t=>t.getDate()-1));timeDay.range;const utcDay=timeInterval$1((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/864e5),(t=>t.getUTCDate()-1));utcDay.range;const unixDay=timeInterval$1((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/864e5),(t=>Math.floor(t/864e5)));function timeWeekday(t){return timeInterval$1((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5))}unixDay.range;const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);function utcWeekday(t){return timeInterval$1((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/6048e5))}timeSunday.range,timeMonday.range,timeTuesday.range,timeWednesday.range,timeThursday.range,timeFriday.range,timeSaturday.range;const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range,utcMonday.range,utcTuesday.range,utcWednesday.range,utcThursday.range,utcFriday.range,utcSaturday.range;const timeMonth=timeInterval$1((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth()));timeMonth.range;const utcMonth=timeInterval$1((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()));utcMonth.range;const timeYear=timeInterval$1((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));timeYear.every=t=>isFinite(t=Math.floor(t))&&t>0?timeInterval$1((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,i)=>{e.setFullYear(e.getFullYear()+i*t)})):null,timeYear.range;const utcYear=timeInterval$1((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));function ticker(t,e,i,s,B,n){const l=[[second$1,1,1e3],[second$1,5,5e3],[second$1,15,15e3],[second$1,30,3e4],[n,1,6e4],[n,5,3e5],[n,15,9e5],[n,30,18e5],[B,1,36e5],[B,3,108e5],[B,6,216e5],[B,12,432e5],[s,1,864e5],[s,2,1728e5],[i,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function Q(e,i,s){const B=Math.abs(i-e)/s,n=bisector((([,,t])=>t)).right(l,B);if(n===l.length)return t.every(tickStep(e/31536e6,i/31536e6,s));if(0===n)return millisecond.every(Math.max(tickStep(e,i,s),1));const[Q,F]=l[B/l[n-1][2]<l[n][2]/B?n-1:n];return Q.every(F)}return[function(t,e,i){const s=e<t;s&&([t,e]=[e,t]);const B=i&&"function"==typeof i.range?i:Q(t,e,i),n=B?B.range(t,+e+1):[];return s?n.reverse():n},Q]}utcYear.every=t=>isFinite(t=Math.floor(t))&&t>0?timeInterval$1((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,i)=>{e.setUTCFullYear(e.getUTCFullYear()+i*t)})):null,utcYear.range;const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newDate(t,e,i){return{y:t,m:e,d:i,H:0,M:0,S:0,L:0}}function formatLocale(t){var e=t.dateTime,i=t.date,s=t.time,B=t.periods,n=t.days,l=t.shortDays,Q=t.months,F=t.shortMonths,c=formatRe(B),g=formatLookup(B),a=formatRe(n),I=formatLookup(n),U=formatRe(l),r=formatLookup(l),o=formatRe(Q),d=formatLookup(Q),b=formatRe(F),C=formatLookup(F),u={a:function(t){return l[t.getDay()]},A:function(t){return n[t.getDay()]},b:function(t){return F[t.getMonth()]},B:function(t){return Q[t.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(t){return B[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear$1,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},y={a:function(t){return l[t.getUTCDay()]},A:function(t){return n[t.getUTCDay()]},b:function(t){return F[t.getUTCMonth()]},B:function(t){return Q[t.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(t){return B[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},h={a:function(t,e,i){var s=U.exec(e.slice(i));return s?(t.w=r.get(s[0].toLowerCase()),i+s[0].length):-1},A:function(t,e,i){var s=a.exec(e.slice(i));return s?(t.w=I.get(s[0].toLowerCase()),i+s[0].length):-1},b:function(t,e,i){var s=b.exec(e.slice(i));return s?(t.m=C.get(s[0].toLowerCase()),i+s[0].length):-1},B:function(t,e,i){var s=o.exec(e.slice(i));return s?(t.m=d.get(s[0].toLowerCase()),i+s[0].length):-1},c:function(t,i,s){return R(t,e,i,s)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(t,e,i){var s=c.exec(e.slice(i));return s?(t.p=g.get(s[0].toLowerCase()),i+s[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function(t,e,s){return R(t,i,e,s)},X:function(t,e,i){return R(t,s,e,i)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function A(t,e){return function(i){var s,B,n,l=[],Q=-1,F=0,c=t.length;for(i instanceof Date||(i=new Date(+i));++Q<c;)37===t.charCodeAt(Q)&&(l.push(t.slice(F,Q)),null!=(B=pads[s=t.charAt(++Q)])?s=t.charAt(++Q):B="e"===s?" ":"0",(n=e[s])&&(s=n(i,B)),l.push(s),F=Q+1);return l.push(t.slice(F,Q)),l.join("")}}function G(t,e){return function(i){var s,B,n=newDate(1900,void 0,1);if(R(n,t,i+="",0)!=i.length)return null;if("Q"in n)return new Date(n.Q);if("s"in n)return new Date(1e3*n.s+("L"in n?n.L:0));if(e&&!("Z"in n)&&(n.Z=0),"p"in n&&(n.H=n.H%12+12*n.p),void 0===n.m&&(n.m="q"in n?n.q:0),"V"in n){if(n.V<1||n.V>53)return null;"w"in n||(n.w=1),"Z"in n?(B=(s=utcDate(newDate(n.y,0,1))).getUTCDay(),s=B>4||0===B?utcMonday.ceil(s):utcMonday(s),s=utcDay.offset(s,7*(n.V-1)),n.y=s.getUTCFullYear(),n.m=s.getUTCMonth(),n.d=s.getUTCDate()+(n.w+6)%7):(B=(s=localDate(newDate(n.y,0,1))).getDay(),s=B>4||0===B?timeMonday.ceil(s):timeMonday(s),s=timeDay.offset(s,7*(n.V-1)),n.y=s.getFullYear(),n.m=s.getMonth(),n.d=s.getDate()+(n.w+6)%7)}else("W"in n||"U"in n)&&("w"in n||(n.w="u"in n?n.u%7:"W"in n?1:0),B="Z"in n?utcDate(newDate(n.y,0,1)).getUTCDay():localDate(newDate(n.y,0,1)).getDay(),n.m=0,n.d="W"in n?(n.w+6)%7+7*n.W-(B+5)%7:n.w+7*n.U-(B+6)%7);return"Z"in n?(n.H+=n.Z/100|0,n.M+=n.Z%100,utcDate(n)):localDate(n)}}function R(t,e,i,s){for(var B,n,l=0,Q=e.length,F=i.length;l<Q;){if(s>=F)return-1;if(37===(B=e.charCodeAt(l++))){if(B=e.charAt(l++),!(n=h[B in pads?e.charAt(l++):B])||(s=n(t,i,s))<0)return-1}else if(B!=i.charCodeAt(s++))return-1}return s}return u.x=A(i,u),u.X=A(s,u),u.c=A(e,u),y.x=A(i,y),y.X=A(s,y),y.c=A(e,y),{format:function(t){var e=A(t+="",u);return e.toString=function(){return t},e},parse:function(t){var e=G(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=A(t+="",y);return e.toString=function(){return t},e},utcParse:function(t){var e=G(t+="",!0);return e.toString=function(){return t},e}}}var locale,timeFormat,utcFormat,pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad$1(t,e,i){var s=t<0?"-":"",B=(s?-t:t)+"",n=B.length;return s+(n<i?new Array(i-n+1).join(e)+B:B)}function requote(t){return t.replace(requoteRe,"\\$&")}function formatRe(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")}function formatLookup(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function parseWeekdayNumberSunday(t,e,i){var s=numberRe.exec(e.slice(i,i+1));return s?(t.w=+s[0],i+s[0].length):-1}function parseWeekdayNumberMonday(t,e,i){var s=numberRe.exec(e.slice(i,i+1));return s?(t.u=+s[0],i+s[0].length):-1}function parseWeekNumberSunday(t,e,i){var s=numberRe.exec(e.slice(i,i+2));return s?(t.U=+s[0],i+s[0].length):-1}function parseWeekNumberISO(t,e,i){var s=numberRe.exec(e.slice(i,i+2));return s?(t.V=+s[0],i+s[0].length):-1}function parseWeekNumberMonday(t,e,i){var s=numberRe.exec(e.slice(i,i+2));return s?(t.W=+s[0],i+s[0].length):-1}function parseFullYear(t,e,i){var s=numberRe.exec(e.slice(i,i+4));return s?(t.y=+s[0],i+s[0].length):-1}function parseYear(t,e,i){var s=numberRe.exec(e.slice(i,i+2));return s?(t.y=+s[0]+(+s[0]>68?1900:2e3),i+s[0].length):-1}function parseZone(t,e,i){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(i,i+6));return s?(t.Z=s[1]?0:-(s[2]+(s[3]||"00")),i+s[0].length):-1}function parseQuarter(t,e,i){var s=numberRe.exec(e.slice(i,i+1));return s?(t.q=3*s[0]-3,i+s[0].length):-1}function parseMonthNumber(t,e,i){var s=numberRe.exec(e.slice(i,i+2));return s?(t.m=s[0]-1,i+s[0].length):-1}function parseDayOfMonth(t,e,i){var s=numberRe.exec(e.slice(i,i+2));return s?(t.d=+s[0],i+s[0].length):-1}function parseDayOfYear(t,e,i){var s=numberRe.exec(e.slice(i,i+3));return s?(t.m=0,t.d=+s[0],i+s[0].length):-1}function parseHour24(t,e,i){var s=numberRe.exec(e.slice(i,i+2));return s?(t.H=+s[0],i+s[0].length):-1}function parseMinutes(t,e,i){var s=numberRe.exec(e.slice(i,i+2));return s?(t.M=+s[0],i+s[0].length):-1}function parseSeconds(t,e,i){var s=numberRe.exec(e.slice(i,i+2));return s?(t.S=+s[0],i+s[0].length):-1}function parseMilliseconds(t,e,i){var s=numberRe.exec(e.slice(i,i+3));return s?(t.L=+s[0],i+s[0].length):-1}function parseMicroseconds(t,e,i){var s=numberRe.exec(e.slice(i,i+6));return s?(t.L=Math.floor(s[0]/1e3),i+s[0].length):-1}function parseLiteralPercent(t,e,i){var s=percentRe.exec(e.slice(i,i+1));return s?i+s[0].length:-1}function parseUnixTimestamp(t,e,i){var s=numberRe.exec(e.slice(i));return s?(t.Q=+s[0],i+s[0].length):-1}function parseUnixTimestampSeconds(t,e,i){var s=numberRe.exec(e.slice(i));return s?(t.s=+s[0],i+s[0].length):-1}function formatDayOfMonth(t,e){return pad$1(t.getDate(),e,2)}function formatHour24(t,e){return pad$1(t.getHours(),e,2)}function formatHour12(t,e){return pad$1(t.getHours()%12||12,e,2)}function formatDayOfYear(t,e){return pad$1(1+timeDay.count(timeYear(t),t),e,3)}function formatMilliseconds(t,e){return pad$1(t.getMilliseconds(),e,3)}function formatMicroseconds(t,e){return formatMilliseconds(t,e)+"000"}function formatMonthNumber(t,e){return pad$1(t.getMonth()+1,e,2)}function formatMinutes(t,e){return pad$1(t.getMinutes(),e,2)}function formatSeconds(t,e){return pad$1(t.getSeconds(),e,2)}function formatWeekdayNumberMonday(t){var e=t.getDay();return 0===e?7:e}function formatWeekNumberSunday(t,e){return pad$1(timeSunday.count(timeYear(t)-1,t),e,2)}function dISO(t){var e=t.getDay();return e>=4||0===e?timeThursday(t):timeThursday.ceil(t)}function formatWeekNumberISO(t,e){return t=dISO(t),pad$1(timeThursday.count(timeYear(t),t)+(4===timeYear(t).getDay()),e,2)}function formatWeekdayNumberSunday(t){return t.getDay()}function formatWeekNumberMonday(t,e){return pad$1(timeMonday.count(timeYear(t)-1,t),e,2)}function formatYear$1(t,e){return pad$1(t.getFullYear()%100,e,2)}function formatYearISO(t,e){return pad$1((t=dISO(t)).getFullYear()%100,e,2)}function formatFullYear(t,e){return pad$1(t.getFullYear()%1e4,e,4)}function formatFullYearISO(t,e){var i=t.getDay();return pad$1((t=i>=4||0===i?timeThursday(t):timeThursday.ceil(t)).getFullYear()%1e4,e,4)}function formatZone(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pad$1(e/60|0,"0",2)+pad$1(e%60,"0",2)}function formatUTCDayOfMonth(t,e){return pad$1(t.getUTCDate(),e,2)}function formatUTCHour24(t,e){return pad$1(t.getUTCHours(),e,2)}function formatUTCHour12(t,e){return pad$1(t.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear(t,e){return pad$1(1+utcDay.count(utcYear(t),t),e,3)}function formatUTCMilliseconds(t,e){return pad$1(t.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds(t,e){return formatUTCMilliseconds(t,e)+"000"}function formatUTCMonthNumber(t,e){return pad$1(t.getUTCMonth()+1,e,2)}function formatUTCMinutes(t,e){return pad$1(t.getUTCMinutes(),e,2)}function formatUTCSeconds(t,e){return pad$1(t.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday(t){var e=t.getUTCDay();return 0===e?7:e}function formatUTCWeekNumberSunday(t,e){return pad$1(utcSunday.count(utcYear(t)-1,t),e,2)}function UTCdISO(t){var e=t.getUTCDay();return e>=4||0===e?utcThursday(t):utcThursday.ceil(t)}function formatUTCWeekNumberISO(t,e){return t=UTCdISO(t),pad$1(utcThursday.count(utcYear(t),t)+(4===utcYear(t).getUTCDay()),e,2)}function formatUTCWeekdayNumberSunday(t){return t.getUTCDay()}function formatUTCWeekNumberMonday(t,e){return pad$1(utcMonday.count(utcYear(t)-1,t),e,2)}function formatUTCYear(t,e){return pad$1(t.getUTCFullYear()%100,e,2)}function formatUTCYearISO(t,e){return pad$1((t=UTCdISO(t)).getUTCFullYear()%100,e,2)}function formatUTCFullYear(t,e){return pad$1(t.getUTCFullYear()%1e4,e,4)}function formatUTCFullYearISO(t,e){var i=t.getUTCDay();return pad$1((t=i>=4||0===i?utcThursday(t):utcThursday.ceil(t)).getUTCFullYear()%1e4,e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(t){return+t}function formatUnixTimestampSeconds(t){return Math.floor(+t/1e3)}function defaultLocale(t){return locale=formatLocale(t),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(t){return new Date(t)}function number$1(t){return t instanceof Date?+t:+new Date(+t)}function calendar(t,e,i,s,B,n,l,Q,F,c){var g=continuous(),a=g.invert,I=g.domain,U=c(".%L"),r=c(":%S"),o=c("%I:%M"),d=c("%I %p"),b=c("%a %d"),C=c("%b %d"),u=c("%B"),y=c("%Y");function h(t){return(F(t)<t?U:Q(t)<t?r:l(t)<t?o:n(t)<t?d:s(t)<t?B(t)<t?b:C:i(t)<t?u:y)(t)}return g.invert=function(t){return new Date(a(t))},g.domain=function(t){return arguments.length?I(Array.from(t,number$1)):I().map(date)},g.ticks=function(e){var i=I();return t(i[0],i[i.length-1],null==e?10:e)},g.tickFormat=function(t,e){return null==e?h:c(e)},g.nice=function(t){var i=I();return t&&"function"==typeof t.range||(t=e(i[0],i[i.length-1],null==t?10:t)),t?I(nice(i,t)):g},g.copy=function(){return copy$1(g,calendar(t,e,i,s,B,n,l,Q,F,c))},g}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second$1,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second$1,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function copy(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function transformer(){var t,e,i,s,B,n,l,Q=0,F=.5,c=1,g=1,a=identity$3,I=!1;function U(t){return isNaN(t=+t)?l:(t=.5+((t=+n(t))-e)*(g*t<g*e?s:B),a(I?Math.max(0,Math.min(1,t)):t))}function r(t){return function(e){var i,s,B;return arguments.length?([i,s,B]=e,a=piecewise(t,[i,s,B]),U):[a(0),a(.5),a(1)]}}return U.domain=function(l){return arguments.length?([Q,F,c]=l,t=n(Q=+Q),e=n(F=+F),i=n(c=+c),s=t===e?0:.5/(e-t),B=e===i?0:.5/(i-e),g=e<t?-1:1,U):[Q,F,c]},U.clamp=function(t){return arguments.length?(I=!!t,U):I},U.interpolator=function(t){return arguments.length?(a=t,U):a},U.range=r(interpolate$1),U.rangeRound=r(interpolateRound),U.unknown=function(t){return arguments.length?(l=t,U):l},function(l){return n=l,t=l(Q),e=l(F),i=l(c),s=t===e?0:.5/(e-t),B=e===i?0:.5/(i-e),g=e<t?-1:1,U}}function diverging(){var t=linearish(transformer()(identity$3));return t.copy=function(){return copy(t,diverging())},initInterpolator.apply(t,arguments)}function divergingLog(){var t=loggish(transformer()).domain([.1,1,10]);return t.copy=function(){return copy(t,divergingLog()).base(t.base())},initInterpolator.apply(t,arguments)}function divergingSymlog(){var t=symlogish(transformer());return t.copy=function(){return copy(t,divergingSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function divergingPow(){var t=powish(transformer());return t.copy=function(){return copy(t,divergingPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function colors(t){for(var e=t.length/6|0,i=new Array(e),s=0;s<e;)i[s]="#"+t.slice(6*s,6*++s);return i}defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var schemeCategory10=colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),schemeAccent=colors("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),schemeDark2=colors("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),schemeObservable10=colors("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),schemePaired=colors("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),schemePastel1=colors("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),schemePastel2=colors("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),schemeSet1=colors("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),schemeSet2=colors("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),schemeSet3=colors("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),schemeTableau10=colors("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ramp$1=t=>rgbBasis(t[t.length-1]),scheme$q=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(colors),interpolateBrBG=ramp$1(scheme$q),scheme$p=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(colors),interpolatePRGn=ramp$1(scheme$p),scheme$o=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(colors),interpolatePiYG=ramp$1(scheme$o),scheme$n=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(colors),interpolatePuOr=ramp$1(scheme$n),scheme$m=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(colors),interpolateRdBu=ramp$1(scheme$m),scheme$l=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(colors),interpolateRdGy=ramp$1(scheme$l),scheme$k=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(colors),interpolateRdYlBu=ramp$1(scheme$k),scheme$j=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(colors),interpolateRdYlGn=ramp$1(scheme$j),scheme$i=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(colors),interpolateSpectral=ramp$1(scheme$i),scheme$h=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(colors),interpolateBuGn=ramp$1(scheme$h),scheme$g=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(colors),interpolateBuPu=ramp$1(scheme$g),scheme$f=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(colors),interpolateGnBu=ramp$1(scheme$f),scheme$e=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(colors),interpolateOrRd=ramp$1(scheme$e),scheme$d=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(colors),interpolatePuBuGn=ramp$1(scheme$d),scheme$c=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(colors),interpolatePuBu=ramp$1(scheme$c),scheme$b=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(colors),interpolatePuRd=ramp$1(scheme$b),scheme$a=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(colors),interpolateRdPu=ramp$1(scheme$a),scheme$9=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(colors),interpolateYlGnBu=ramp$1(scheme$9),scheme$8=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(colors),interpolateYlGn=ramp$1(scheme$8),scheme$7=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(colors),interpolateYlOrBr=ramp$1(scheme$7),scheme$6=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(colors),interpolateYlOrRd=ramp$1(scheme$6),scheme$5=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(colors),interpolateBlues=ramp$1(scheme$5),scheme$4=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(colors),interpolateGreens=ramp$1(scheme$4),scheme$3=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(colors),interpolateGreys=ramp$1(scheme$3),scheme$2=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(colors),interpolatePurples=ramp$1(scheme$2),scheme$1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(colors),interpolateReds=ramp$1(scheme$1),scheme=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(colors),interpolateOranges=ramp$1(scheme);function interpolateCividis(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var interpolateCubehelixDefault=cubehelixLong(cubehelix$1(300,.5,0),cubehelix$1(-240,.5,1)),warm=cubehelixLong(cubehelix$1(-100,.75,.35),cubehelix$1(80,1.5,.8)),cool=cubehelixLong(cubehelix$1(260,.75,.35),cubehelix$1(80,1.5,.8)),c$4=cubehelix$1();function interpolateRainbow(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return c$4.h=360*t-100,c$4.s=1.5-1.5*e,c$4.l=.8-.9*e,c$4+""}var c$3=rgb(),pi_1_3=Math.PI/3,pi_2_3=2*Math.PI/3;function interpolateSinebow(t){var e;return t=(.5-t)*Math.PI,c$3.r=255*(e=Math.sin(t))*e,c$3.g=255*(e=Math.sin(t+pi_1_3))*e,c$3.b=255*(e=Math.sin(t+pi_2_3))*e,c$3+""}function interpolateTurbo(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function ramp(t){var e=t.length;return function(i){return t[Math.max(0,Math.min(e-1,Math.floor(i*e)))]}}var interpolateViridis=ramp(colors("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),magma=ramp(colors("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),inferno=ramp(colors("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),plasma=ramp(colors("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function constant$1(t){return function(){return t}}const cos=Math.cos,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi$1=Math.PI,tau$1=2*pi$1;function withPath(t){let e=3;return t.digits=function(i){if(!arguments.length)return e;if(null==i)e=null;else{const t=Math.floor(i);if(!(t>=0))throw new RangeError(`invalid digits: ${i}`);e=t}return t},()=>new Path(e)}function array(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Linear(t){this._context=t}function curveLinear(t){return new Linear(t)}function x$1(t){return t[0]}function y(t){return t[1]}function shapeLine(t,e){var i=constant$1(!0),s=null,B=curveLinear,n=null,l=withPath(Q);function Q(Q){var F,c,g,a=(Q=array(Q)).length,I=!1;for(null==s&&(n=B(g=l())),F=0;F<=a;++F)!(F<a&&i(c=Q[F],F,Q))===I&&((I=!I)?n.lineStart():n.lineEnd()),I&&n.point(+t(c,F,Q),+e(c,F,Q));if(g)return n=null,g+""||null}return t="function"==typeof t?t:void 0===t?x$1:constant$1(t),e="function"==typeof e?e:void 0===e?y:constant$1(e),Q.x=function(e){return arguments.length?(t="function"==typeof e?e:constant$1(+e),Q):t},Q.y=function(t){return arguments.length?(e="function"==typeof t?t:constant$1(+t),Q):e},Q.defined=function(t){return arguments.length?(i="function"==typeof t?t:constant$1(!!t),Q):i},Q.curve=function(t){return arguments.length?(B=t,null!=s&&(n=B(s)),Q):B},Q.context=function(t){return arguments.length?(null==t?s=n=null:n=B(s=t),Q):s},Q}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};class Bump{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}function bumpX(t){return new Bump(t,!0)}function bumpY(t){return new Bump(t,!1)}const sqrt3$3=sqrt(3);var symbolAsterisk={draw(t,e){const i=.59436*sqrt(e+min(e/28,.75)),s=i/2,B=s*sqrt3$3;t.moveTo(0,i),t.lineTo(0,-i),t.moveTo(-B,-s),t.lineTo(B,s),t.moveTo(-B,s),t.lineTo(B,-s)}},symbolCircle={draw(t,e){const i=sqrt(e/pi$1);t.moveTo(i,0),t.arc(0,0,i,0,tau$1)}},symbolCross={draw(t,e){const i=sqrt(e/5)/2;t.moveTo(-3*i,-i),t.lineTo(-i,-i),t.lineTo(-i,-3*i),t.lineTo(i,-3*i),t.lineTo(i,-i),t.lineTo(3*i,-i),t.lineTo(3*i,i),t.lineTo(i,i),t.lineTo(i,3*i),t.lineTo(-i,3*i),t.lineTo(-i,i),t.lineTo(-3*i,i),t.closePath()}};const tan30=sqrt(1/3),tan30_2=2*tan30;var symbolDiamond={draw(t,e){const i=sqrt(e/tan30_2),s=i*tan30;t.moveTo(0,-i),t.lineTo(s,0),t.lineTo(0,i),t.lineTo(-s,0),t.closePath()}},symbolDiamond2={draw(t,e){const i=.62625*sqrt(e);t.moveTo(0,-i),t.lineTo(i,0),t.lineTo(0,i),t.lineTo(-i,0),t.closePath()}},symbolPlus={draw(t,e){const i=.87559*sqrt(e-min(e/7,2));t.moveTo(-i,0),t.lineTo(i,0),t.moveTo(0,i),t.lineTo(0,-i)}},symbolSquare={draw(t,e){const i=sqrt(e),s=-i/2;t.rect(s,s,i,i)}},symbolSquare2={draw(t,e){const i=.4431*sqrt(e);t.moveTo(i,i),t.lineTo(i,-i),t.lineTo(-i,-i),t.lineTo(-i,i),t.closePath()}};const ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr;var symbolStar={draw(t,e){const i=sqrt(e*ka),s=kx*i,B=ky*i;t.moveTo(0,-i),t.lineTo(s,B);for(let e=1;e<5;++e){const n=tau$1*e/5,l=cos(n),Q=sin(n);t.lineTo(Q*i,-l*i),t.lineTo(l*s-Q*B,Q*s+l*B)}t.closePath()}};const sqrt3$2=sqrt(3);var symbolTriangle={draw(t,e){const i=-sqrt(e/(3*sqrt3$2));t.moveTo(0,2*i),t.lineTo(-sqrt3$2*i,-i),t.lineTo(sqrt3$2*i,-i),t.closePath()}};const sqrt3$1=sqrt(3);var symbolTriangle2={draw(t,e){const i=.6824*sqrt(e),s=i/2,B=i*sqrt3$1/2;t.moveTo(0,-i),t.lineTo(B,s),t.lineTo(-B,s),t.closePath()}};const c$2=-.5,s$2=sqrt(3)/2,k$1=1/sqrt(12),a$2=3*(k$1/2+1);var symbolWye={draw(t,e){const i=sqrt(e/a$2),s=i/2,B=i*k$1,n=s,l=i*k$1+i,Q=-n,F=l;t.moveTo(s,B),t.lineTo(n,l),t.lineTo(Q,F),t.lineTo(c$2*s-s$2*B,s$2*s+c$2*B),t.lineTo(c$2*n-s$2*l,s$2*n+c$2*l),t.lineTo(c$2*Q-s$2*F,s$2*Q+c$2*F),t.lineTo(c$2*s+s$2*B,c$2*B-s$2*s),t.lineTo(c$2*n+s$2*l,c$2*l-s$2*n),t.lineTo(c$2*Q+s$2*F,c$2*F-s$2*Q),t.closePath()}},symbolTimes={draw(t,e){const i=.6189*sqrt(e-min(e/6,1.7));t.moveTo(-i,-i),t.lineTo(i,i),t.moveTo(-i,i),t.lineTo(i,-i)}};const symbolsFill=[symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye],symbolsStroke=[symbolCircle,symbolPlus,symbolTimes,symbolTriangle2,symbolAsterisk,symbolSquare2,symbolDiamond2];function noop(){}function point$3(t,e,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6)}function Basis(t){this._context=t}function curveBasis(t){return new Basis(t)}function BasisClosed(t){this._context=t}function curveBasisClosed(t){return new BasisClosed(t)}function BasisOpen(t){this._context=t}function curveBasisOpen(t){return new BasisOpen(t)}function Bundle(t,e){this._basis=new Basis(t),this._beta=e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$3(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$3(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:point$3(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,s):this._context.moveTo(i,s);break;case 3:this._point=4;default:point$3(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,i=t.length-1;if(i>0)for(var s,B=t[0],n=e[0],l=t[i]-B,Q=e[i]-n,F=-1;++F<=i;)s=F/i,this._basis.point(this._beta*t[F]+(1-this._beta)*(B+s*l),this._beta*e[F]+(1-this._beta)*(n+s*Q));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var curveBundle=function t(e){function i(t){return 1===e?new Basis(t):new Bundle(t,e)}return i.beta=function(e){return t(+e)},i}(.85);function point$2(t,e,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function Cardinal(t,e){this._context=t,this._k=(1-e)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$2(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:point$2(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCardinal=function t(e){function i(t){return new Cardinal(t,e)}return i.tension=function(e){return t(+e)},i}(0);function CardinalClosed(t,e){this._context=t,this._k=(1-e)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:point$2(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCardinalClosed=function t(e){function i(t){return new CardinalClosed(t,e)}return i.tension=function(e){return t(+e)},i}(0);function CardinalOpen(t,e){this._context=t,this._k=(1-e)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCardinalOpen=function t(e){function i(t){return new CardinalOpen(t,e)}return i.tension=function(e){return t(+e)},i}(0);function point$1(t,e,i){var s=t._x1,B=t._y1,n=t._x2,l=t._y2;if(t._l01_a>1e-12){var Q=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,F=3*t._l01_a*(t._l01_a+t._l12_a);s=(s*Q-t._x0*t._l12_2a+t._x2*t._l01_2a)/F,B=(B*Q-t._y0*t._l12_2a+t._y2*t._l01_2a)/F}if(t._l23_a>1e-12){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,g=3*t._l23_a*(t._l23_a+t._l12_a);n=(n*c+t._x1*t._l23_2a-e*t._l12_2a)/g,l=(l*c+t._y1*t._l23_2a-i*t._l12_2a)/g}t._context.bezierCurveTo(s,B,n,l,t._x2,t._y2)}function CatmullRom(t,e){this._context=t,this._alpha=e}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:point$1(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCatmullRom=function t(e){function i(t){return e?new CatmullRom(t,e):new Cardinal(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function CatmullRomClosed(t,e){this._context=t,this._alpha=e}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:point$1(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCatmullRomClosed=function t(e){function i(t){return e?new CatmullRomClosed(t,e):new CardinalClosed(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function CatmullRomOpen(t,e){this._context=t,this._alpha=e}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+s*s,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$1(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var curveCatmullRomOpen=function t(e){function i(t){return e?new CatmullRomOpen(t,e):new CardinalOpen(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function LinearClosed(t){this._context=t}function curveLinearClosed(t){return new LinearClosed(t)}function sign(t){return t<0?-1:1}function slope3(t,e,i){var s=t._x1-t._x0,B=e-t._x1,n=(t._y1-t._y0)/(s||B<0&&-0),l=(i-t._y1)/(B||s<0&&-0),Q=(n*B+l*s)/(s+B);return(sign(n)+sign(l))*Math.min(Math.abs(n),Math.abs(l),.5*Math.abs(Q))||0}function slope2(t,e){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function point(t,e,i){var s=t._x0,B=t._y0,n=t._x1,l=t._y1,Q=(n-s)/3;t._context.bezierCurveTo(s+Q,B+Q*e,n-Q,l-Q*i,n,l)}function MonotoneX(t){this._context=t}function MonotoneY(t){this._context=new ReflectContext(t)}function ReflectContext(t){this._context=t}function monotoneX(t){return new MonotoneX(t)}function monotoneY(t){return new MonotoneY(t)}function Natural(t){this._context=t}function controlPoints(t){var e,i,s=t.length-1,B=new Array(s),n=new Array(s),l=new Array(s);for(B[0]=0,n[0]=2,l[0]=t[0]+2*t[1],e=1;e<s-1;++e)B[e]=1,n[e]=4,l[e]=4*t[e]+2*t[e+1];for(B[s-1]=2,n[s-1]=7,l[s-1]=8*t[s-1]+t[s],e=1;e<s;++e)i=B[e]/n[e-1],n[e]-=i,l[e]-=i*l[e-1];for(B[s-1]=l[s-1]/n[s-1],e=s-2;e>=0;--e)B[e]=(l[e]-B[e+1])/n[e];for(n[s-1]=(t[s]+B[s-1])/2,e=0;e<s-1;++e)n[e]=2*t[e+1]-B[e+1];return[B,n]}function curveNatural(t){return new Natural(t)}function Step(t,e){this._context=t,this._t=e}function curveStep(t){return new Step(t,.5)}function stepBefore(t){return new Step(t,0)}function stepAfter(t){return new Step(t,1)}function Transform(t,e,i){this.k=t,this.x=e,this.y=i}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var i=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,point(this,slope2(this,i=slope3(this,t,e)),i);break;default:point(this,this._t0,i=slope3(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=i}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,e){MonotoneX.prototype.point.call(this,e,t)},ReflectContext.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,i,s,B,n){this._context.bezierCurveTo(e,t,s,i,n,B)}},Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===i)this._context.lineTo(t[1],e[1]);else for(var s=controlPoints(t),B=controlPoints(e),n=0,l=1;l<i;++n,++l)this._context.bezierCurveTo(s[0][n],B[0][n],s[1][n],B[1][n],t[l],e[l]);(this._line||0!==this._line&&1===i)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}}this._x=t,this._y=e}},Transform.prototype={constructor:Transform,scale:function(t){return 1===t?this:new Transform(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Transform(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},Transform.prototype;class DecidablesElement extends r$3{getComputedStyleValue(t){return getComputedStyle(this).getPropertyValue(t).trim()}firstUpdated(t){super.firstUpdated(t),select(this.renderRoot.host).classed("keyboard",!0).on("mousemove.keyboard touchstart.keyboard",(t=>{select(t.currentTarget.renderRoot.host).classed("keyboard",!1).on("mousemove.keyboard touchstart.keyboard",null)})).on("keydown.keyboard",(t=>{select(t.currentTarget.renderRoot.host).classed("keyboard",!0).on("keydown.keyboard mousemove.keyboard touchstart.keyboard",null)}))}static get greys(){const t="#999999",e={white:"#ffffff"};return e.light75=interpolateRgb(t,"#ffffff")(.75),e.light50=interpolateRgb(t,"#ffffff")(.5),e.light25=interpolateRgb(t,"#ffffff")(.25),e.grey=t,e.dark25=interpolateRgb(t,"#000000")(.25),e.dark50=interpolateRgb(t,"#000000")(.5),e.dark75=interpolateRgb(t,"#000000")(.75),e.black="#000000",e}static get shadows(){return{elevations:[0,2,4,8,16],baselineColor:"#000000",baselineColorString:"0, 0, 0",inverseBaselineColor:"#FFFFFF",inverseBaselineColorString:"255, 255, 255",opacityUmbra:.2,opacityPenumbra:.14,opacityAmbient:.12,opacityBoost:.2,mapUmbra:{0:{x:0,y:0,b:0,s:0},2:{x:0,y:3,b:1,s:-2},4:{x:0,y:2,b:4,s:-1},8:{x:0,y:5,b:5,s:-3},16:{x:0,y:8,b:10,s:-5}},mapPenumbra:{0:{x:0,y:0,b:0,s:0},2:{x:0,y:2,b:2,s:0},4:{x:0,y:4,b:5,s:0},8:{x:0,y:8,b:10,s:1},16:{x:0,y:16,b:24,s:2}},mapAmbient:{0:{x:0,y:0,b:0,s:0},2:{x:0,y:1,b:5,s:0},4:{x:0,y:1,b:10,s:0},8:{x:0,y:3,b:14,s:2},16:{x:0,y:6,b:30,s:5}}}}static cssBoxShadow(t,e=!1,i=!1){const s=this.shadows.opacityUmbra+this.shadows.opacityBoost,B=this.shadows.opacityPenumbra+this.shadows.opacityBoost,n=this.shadows.opacityAmbient+this.shadows.opacityBoost,l=i?`rgba(${this.shadows.inverseBaselineColorString}, ${s})`:`rgba(${this.shadows.baselineColorString}, ${s})`,Q=i?`rgba(${this.shadows.inverseBaselineColorString}, ${B})`:`rgba(${this.shadows.baselineColorString}, ${B})`,F=i?`rgba(${this.shadows.inverseBaselineColorString}, ${n})`:`rgba(${this.shadows.baselineColorString}, ${n})`,c=this.shadows.mapUmbra[t],g=this.shadows.mapPenumbra[t],a=this.shadows.mapAmbient[t];return`${e?`${-c.y}px ${c.y/2}px ${c.b}px ${c.s}px`:`${c.y/2}px ${c.y}px ${c.b}px ${c.s}px`} ${l}, ${e?`${-g.y}px ${g.y/2}px ${g.b}px ${g.s}px`:`${g.y/2}px ${g.y}px ${g.b}px ${g.s}px`} ${Q}, ${e?`${-a.y}px ${a.y/2}px ${a.b}px ${a.s}px`:`${a.y/2}px ${a.y}px ${a.b}px ${a.s}px`} ${F}`}static get svgDefs(){const t=DecidablesElement.shadows,e=t.elevations.map((e=>`\n        <filter id=shadow-${e} filterUnits="userSpaceOnUse" x="-100%" y="-100%" width="200%" height="200%">\n          <feComponentTransfer in="SourceAlpha" result="solid">\n            <feFuncA type="table" tableValues="0 1 1"/>\n          </feComponentTransfer>\n          <feOffset in="solid" result="offU" dx=${t.mapUmbra[e].y/2} dy=${t.mapUmbra[e].y} />\n          <feOffset in="solid" result="offP" dx=${t.mapPenumbra[e].y/2} dy=${t.mapPenumbra[e].y} />\n          <feOffset in="solid" result="offA" dx=${t.mapAmbient[e].y/2} dy=${t.mapAmbient[e].y} />\n          ${0===t.mapUmbra[e].s?"":`<feMorphology in="offU" result="spreadU" operator=${t.mapUmbra[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapUmbra[e].s)} />`}\n          ${0===t.mapPenumbra[e].s?"":`<feMorphology in="offP" result="spreadP" operator=${t.mapPenumbra[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapPenumbra[e].s)} />`}\n          ${0===t.mapAmbient[e].s?"":`<feMorphology in="offA" result="spreadA" operator=${t.mapAmbient[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapAmbient[e].s)} />`}\n          <feGaussianBlur in=${0===t.mapUmbra[e].s?"offU":"spreadU"} result="blurU" stdDeviation=${t.mapUmbra[e].b/2} />\n          <feGaussianBlur in=${0===t.mapPenumbra[e].s?"offP":"spreadP"} result="blurP" stdDeviation=${t.mapPenumbra[e].b/2} />\n          <feGaussianBlur in=${0===t.mapAmbient[e].s?"offA":"spreadA"} result="blurA" stdDeviation=${t.mapAmbient[e].b/2} />\n          <feFlood in="SourceGraphic" result="opU" flood-color=${t.baselineColor} flood-opacity=${t.opacityUmbra+t.opacityBoost} />\n          <feFlood in="SourceGraphic" result="opP" flood-color=${t.baselineColor} flood-opacity=${t.opacityPenumbra+t.opacityBoost} />\n          <feFlood in="SourceGraphic" result="opA" flood-color=${t.baselineColor} flood-opacity=${t.opacityAmbient+t.opacityBoost} />\n          <feComposite in="opU" in2="blurU" result="shU" operator="in" />\n          <feComposite in="opP" in2="blurP" result="shP" operator="in" />\n          <feComposite in="opA" in2="blurA" result="shA" operator="in" />\n          <feMorphology in="solid" result="smaller" operator="erode" radius="1" />\n          <feComposite in="shU" in2="smaller" result="finalU" operator="out" />\n          <feComposite in="shP" in2="smaller" result="finalP" operator="out" />\n          <feComposite in="shA" in2="smaller" result="finalA" operator="out" />\n          <feMerge>\n            <feMergeNode in="finalU" />\n            <feMergeNode in="finalP" />\n            <feMergeNode in="finalA" />\n            <feMergeNode in="SourceGraphic" />\n          </feMerge>\n        </filter>`));return`\n      <defs>\n        ${e}\n      </defs>\n    `}static get svgFilters(){const t=DecidablesElement.shadows,e=t.elevations.map((e=>b$1`
        <filter id=${`shadow-${e}`} x="-250%" y="-250%" width="600%" height="600%">
          <feComponentTransfer in="SourceAlpha" result="solid">
            <feFuncA type="table" tableValues="0 1 1"/>
          </feComponentTransfer>
          <feOffset in="solid" result="offU" dx=${t.mapUmbra[e].y/2} dy=${t.mapUmbra[e].y} />
          <feOffset in="solid" result="offP" dx=${t.mapPenumbra[e].y/2} dy=${t.mapPenumbra[e].y} />
          <feOffset in="solid" result="offA" dx=${t.mapAmbient[e].y/2} dy=${t.mapAmbient[e].y} />
          ${0===t.mapUmbra[e].s?b$1``:b$1`<feMorphology in="offU" result="spreadU" operator=${t.mapUmbra[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapUmbra[e].s)} />`}
          ${0===t.mapPenumbra[e].s?b$1``:b$1`<feMorphology in="offP" result="spreadP" operator=${t.mapPenumbra[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapPenumbra[e].s)} />`}
          ${0===t.mapAmbient[e].s?b$1``:b$1`<feMorphology in="offA" result="spreadA" operator=${t.mapAmbient[e].s>0?"dilate":"erode"} radius=${Math.abs(t.mapAmbient[e].s)} />`}
          <feGaussianBlur in=${0===t.mapUmbra[e].s?"offU":"spreadU"} result="blurU" stdDeviation=${t.mapUmbra[e].b/2} />
          <feGaussianBlur in=${0===t.mapPenumbra[e].s?"offP":"spreadP"} result="blurP" stdDeviation=${t.mapPenumbra[e].b/2} />
          <feGaussianBlur in=${0===t.mapAmbient[e].s?"offA":"spreadA"} result="blurA" stdDeviation=${t.mapAmbient[e].b/2} />
          <feFlood in="SourceGraphic" result="opU" flood-color=${t.baselineColor} flood-opacity=${t.opacityUmbra+t.opacityBoost} />
          <feFlood in="SourceGraphic" result="opP" flood-color=${t.baselineColor} flood-opacity=${t.opacityPenumbra+t.opacityBoost} />
          <feFlood in="SourceGraphic" result="opA" flood-color=${t.baselineColor} flood-opacity=${t.opacityAmbient+t.opacityBoost} />
          <feComposite in="opU" in2="blurU" result="shU" operator="in" />
          <feComposite in="opP" in2="blurP" result="shP" operator="in" />
          <feComposite in="opA" in2="blurA" result="shA" operator="in" />
          <feMorphology in="solid" result="smaller" operator="erode" radius="1" />
          <feComposite in="shU" in2="smaller" result="finalU" operator="out" />
          <feComposite in="shP" in2="smaller" result="finalP" operator="out" />
          <feComposite in="shA" in2="smaller" result="finalA" operator="out" />
          <feMerge>
            <feMergeNode in="finalU" />
            <feMergeNode in="finalP" />
            <feMergeNode in="finalA" />
            <feMergeNode in="SourceGraphic" />
          </feMerge>
        </filter>`));return b$1`
      <svg class="defs">
        <defs>
          ${e}
        </defs>
      </svg>
    `}static get styles(){return i$6`
      :host {
        ---shadow-0: var(--shadow-0, ${r$6(this.cssBoxShadow(0))});
        ---shadow-2: var(--shadow-2, ${r$6(this.cssBoxShadow(2))});
        ---shadow-4: var(--shadow-4, ${r$6(this.cssBoxShadow(4))});
        ---shadow-8: var(--shadow-8, ${r$6(this.cssBoxShadow(8))});

        ---color-background: var(--color-background, ${r$6(this.greys.white)});
        ---color-border: var(--color-border, ${r$6(this.greys.light75)});
        ---color-text: var(--color-text, ${r$6(this.greys.dark75)});
        ---color-text-inverse: var(--color-text-inverse, ${r$6(this.greys.white)});
        ---color-link: var(--color-link, ${r$6(this.greys.dark25)});
        ---color-element-background: var(--color-element-background, ${r$6(this.greys.light75)});
        ---color-element-disabled: var(--color-element-disabled, ${r$6(this.greys.light50)});
        ---color-element-enabled: var(--color-element-enabled, ${r$6(this.greys.dark25)});
        ---color-element-selected: var(--color-element-selected, ${r$6(this.greys.grey)});
        ---color-element-border: var(--color-element-border, ${r$6(this.greys.dark50)});
        ---color-element-emphasis: var(--color-element-emphasis, ${r$6(this.greys.dark75)});

        ---font-family-base: var(--font-family-base, "Source Sans", sans-serif);
        ---font-family-math: var(--font-family-math, "Source Serif", serif);

        ---border: var(--border, 1px solid var(---color-border));
        ---border-radius: var(--border-radius, 0.25rem);
        ---transition-duration: var(--transition-duration, 500ms);

        font-family: var(---font-family-base);
      }

      :host,
      :host *,
      :host *::before,
      :host *::after {
        box-sizing: border-box;
      }

      .math-greek {
        font-family: var(---font-family-math);
        font-style: normal;
      }

      .math-num {
        font-family: var(---font-family-base);
        font-style: normal;
      }

      .math-var {
        font-family: var(---font-family-math);
        font-style: italic;
      }

      .defs {
        display: block;

        width: 0;
        height: 0;
      }
    `}}class DecidablesButton extends DecidablesElement{static get properties(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0}}}constructor(){super(),this.disabled=!1}static get styles(){return[super.styles,i$6`
        :host {
          margin: 0.25rem;
        }

        button {
          width: 100%;
          height: 100%;
          padding: 0.375rem 0.75rem;

          font-family: var(---font-family-base);
          font-size: 1.125rem;
          line-height: 1.5;
          color: var(---color-text-inverse);

          border: 0;
          border-radius: var(---border-radius);
          outline: none;
        }

        button:disabled {
          background-color: var(--decidables-button-background-color, var(---color-element-disabled));
          outline: none;
          box-shadow: none;
        }

        button:enabled {
          cursor: pointer;

          background-color: var(--decidables-button-background-color, var(---color-element-enabled));
          outline: none;
          box-shadow: var(---shadow-2);
        }

        button:enabled:hover {
          outline: none;
          box-shadow: var(---shadow-4);
        }

        button:enabled:active {
          outline: none;
          box-shadow: var(---shadow-8);
        }

        :host(.keyboard) button:enabled:focus {
          outline: none;
          box-shadow: var(---shadow-4);
        }

        :host(.keyboard) button:enabled:focus:active {
          outline: none;
          box-shadow: var(---shadow-8);
        }
      `]}render(){return x$2`
      <button ?disabled=${this.disabled}>
        <slot></slot>
      </button>
    `}}customElements.define("decidables-button",DecidablesButton);
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const o$3=t=>t??E$2;class DecidablesSlider extends DecidablesElement{static get properties(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0},max:{attribute:"max",type:Number,reflect:!0},min:{attribute:"min",type:Number,reflect:!0},step:{attribute:"step",type:Number,reflect:!0},value:{attribute:"value",type:Number,reflect:!0}}}constructor(){super(),this.disabled=!1,this.max=void 0,this.min=void 0,this.step=void 0,this.value=void 0}changed(t){this.value=t.target.value,this.dispatchEvent(new CustomEvent("change",{detail:{value:this.value},bubbles:!0}))}inputted(t){this.value=t.target.value}static get styles(){return[super.styles,i$6`
        :host {
          ---shadow-2-rotate: var(--shadow-2-rotate, ${r$6(this.cssBoxShadow(2,!0,!1))});
          ---shadow-4-rotate: var(--shadow-4-rotate, ${r$6(this.cssBoxShadow(4,!0,!1))});
          ---shadow-8-rotate: var(--shadow-8-rotate, ${r$6(this.cssBoxShadow(8,!0,!1))});

          display: flex;

          flex-direction: column;

          align-items: center;
          justify-content: center;
        }

        label {
          margin: 0.25rem 0.25rem 0;
        }

        .range {
          display: inline-block;

          width: 3.5rem;
          height: 4.75rem;
          margin: 0 0.25rem 0.25rem;
        }

        decidables-spinner {
          --decidables-spinner-input-width: 3.5rem;

          margin: 0 0.25rem 0.25rem;
        }

        /* Adapted from http://danielstern.ca/range.css/#/ */
        /* Overall */
        input[type=range] {
          width: 4.75rem;
          height: 3.5rem;
          padding: 0;
          margin: 0;

          background-color: unset;

          transform: rotate(-90deg);
          transform-origin: 2.375rem 2.375rem;

          /* stylelint-disable-next-line property-no-vendor-prefix */
          -webkit-appearance: none;
        }

        input[type=range]:enabled {
          cursor: ns-resize;
        }

        input[type=range]:focus {
          outline: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-tooltip {
          display: none;
        }

        /* Track */
        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-webkit-slider-runnable-track {
          width: 100%;
          height: 4px;

          background: var(---color-element-disabled);
          border: 0;
          border-radius: 2px;
          box-shadow: none;
        }

        input[type=range]:focus::-webkit-slider-runnable-track {
          background: var(---color-element-disabled);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-moz-range-track {
          width: 100%;
          height: 4px;

          background: var(---color-element-disabled);
          border: 0;
          border-radius: 2px;
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-track {
          width: 100%;
          height: 4px;

          color: transparent;

          background: transparent;
          border-color: transparent;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-fill-lower {
          background: #cccccc;
          /* background: var(---color-element-disabled); */
          border: 0;
          border-radius: 2px;
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-fill-upper {
          background: #cccccc;
          /* background: var(---color-element-disabled); */
          border: 0;
          border-radius: 2px;
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:focus::-ms-fill-lower {
          background: var(---color-element-disabled);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:focus::-ms-fill-upper {
          background: var(---color-element-disabled);
        }

        /* Thumb */
        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-webkit-slider-thumb {
          width: 10px;
          height: 20px;
          margin-top: -8px;

          border: 0;
          border-radius: 4px;

          /* stylelint-disable-next-line property-no-vendor-prefix */
          -webkit-appearance: none;
        }

        input[type=range]:disabled::-webkit-slider-thumb {
          background: var(---color-element-disabled);
          box-shadow: none;
        }

        input[type=range]:enabled::-webkit-slider-thumb {
          background: var(---color-element-enabled);
          box-shadow: var(---shadow-2-rotate);
        }

        input[type=range]:enabled:hover::-webkit-slider-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        input[type=range]:enabled:active::-webkit-slider-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        :host(.keyboard) input[type=range]:enabled:focus::-webkit-slider-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        :host(.keyboard) input[type=range]:focus:active::-webkit-slider-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-moz-range-thumb {
          width: 10px;
          height: 20px;

          border: 0;
          border-radius: 4px;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:disabled::-moz-range-thumb {
          background: var(---color-element-disabled);
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled::-moz-range-thumb {
          background: var(---color-element-enabled);
          box-shadow: var(---shadow-2-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled:hover::-moz-range-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled:active::-moz-range-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        :host(.keyboard) input[type=range]:enabled:focus::-moz-range-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        :host(.keyboard) input[type=range]:enabled:focus:active::-moz-range-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]::-ms-thumb {
          width: 10px;
          height: 20px;
          margin-top: 0;

          background: #999999;
          /* background: var(---color-element-enabled); */
          border: 0;
          border-radius: 4px;
          box-shadow: var(---shadow-2-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:disabled::-ms-thumb {
          background: var(---color-element-disabled);
          box-shadow: none;
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled::-ms-thumb {
          background: var(---color-element-enabled);
          box-shadow: var(---shadow-2-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled:hover::-ms-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        input[type=range]:enabled:active::-ms-thumb {
          box-shadow: var(---shadow-8-rotate);
        }

        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */
        :host(.keyboard) input[type=range]:enabled:focus::-ms-thumb {
          box-shadow: var(---shadow-4-rotate);
        }

        :host(.keyboard) input[type=range]:enabled:focus:active::-ms-thumb {
          box-shadow: var(---shadow-8-rotate);
        }
      `]}render(){return x$2`
      <label for="slider">
        <slot></slot>
      </label>
      <div class="range">
        <input ?disabled=${this.disabled} type="range" id="slider" min=${o$3(this.min)} max=${o$3(this.max)} step=${o$3(this.step)} .value=${this.value} @change=${this.changed.bind(this)} @input=${this.inputted.bind(this)}>
      </div>
      <decidables-spinner ?disabled=${this.disabled} min=${o$3(this.min)} max=${o$3(this.max)} step=${o$3(this.step)} .value=${this.value} @input=${this.inputted.bind(this)}></decidables-spinner>
    `}}customElements.define("decidables-slider",DecidablesSlider);class DecidablesSpinner extends DecidablesElement{static get properties(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0},max:{attribute:"max",type:Number,reflect:!0},min:{attribute:"min",type:Number,reflect:!0},step:{attribute:"step",type:Number,reflect:!0},value:{attribute:"value",type:Number,reflect:!0}}}constructor(){super(),this.disabled=!1,this.max=void 0,this.min=void 0,this.step=void 0,this.value=void 0}inputted(t){this.value=t.target.value}static get styles(){return[super.styles,i$6`
        :host {
          ---decidables-spinner-font-size: var(--decidables-spinner-font-size, 1.125rem);
          ---decidables-spinner-input-width: var(--decidables-spinner-input-width, 4rem);
          ---decidables-spinner-prefix: var(--decidables-spinner-prefix, "");

          ---decidables-spinner-postfix: var(--decidables-spinner-postfix, "");
          ---decidables-spinner-postfix-padding: var(--decidables-spinner-postfix-padding, 0);

          display: block;
        }

        label {
          position: relative;
          display: flex;

          flex-direction: column;

          align-items: center;

          margin: 0;

          font-size: 0.75rem;
        }

        label::before {
          position: absolute;
          bottom: 1px;
          left: calc(50% - var(---decidables-spinner-input-width) / 2 + 0.25rem);

          font-size: var(---decidables-spinner-font-size);
          line-height: normal;

          content: var(---decidables-spinner-prefix);
        }

        label::after {
          position: absolute;
          right: 0.25rem;
          bottom: 1px;

          font-size: var(---decidables-spinner-font-size);
          line-height: normal;

          content: var(---decidables-spinner-postfix);
        }

        input[type=number] {
          width: var(---decidables-spinner-input-width);
          padding-right: var(---decidables-spinner-postfix-padding);

          font-family: var(---font-family-base);
          font-size: var(---decidables-spinner-font-size);
          color: inherit;
          text-align: right;

          background: none;
          border: 0;
          border-radius: 0;
          outline: none;
          box-shadow: var(---shadow-2);

          -webkit-appearance: none; /* stylelint-disable-line property-no-vendor-prefix */
        }

        input[type=number]:hover {
          box-shadow: var(---shadow-4);
        }

        input[type=number]:focus,
        input[type=number]:active {
          box-shadow: var(---shadow-8);
        }

        input[type=number]:disabled {
          color: var(---color-text);

          border: 0;
          box-shadow: none;

          /* HACK: Use correct text color in Safari */
          -webkit-opacity: 1;
          /* HACK: Hide spinners in disabled input for Firefox and Safari */
          -moz-appearance: textfield; /* stylelint-disable-line property-no-vendor-prefix */
          /* HACK: Use correct text color in Safari */
          -webkit-text-fill-color: var(---color-text);
        }

        /* HACK: Hide spinners in disabled input for Firefox and Safari */
        input[type=number]:disabled::-webkit-outer-spin-button,
        input[type=number]:disabled::-webkit-inner-spin-button {
          margin: 0;
          -webkit-appearance: none; /* stylelint-disable-line property-no-vendor-prefix */
        }
      `]}render(){return x$2`
      <label>
        <slot></slot>
        <input ?disabled=${this.disabled} type="number" min=${o$3(this.min)} max=${o$3(this.max)} step=${o$3(this.step)} .value=${this.value} @input=${this.inputted.bind(this)}>
      </label>
    `}}customElements.define("decidables-spinner",DecidablesSpinner);class DecidablesSwitch extends DecidablesElement{static get properties(){return{checked:{attribute:"checked",type:Boolean,reflect:!0},disabled:{attribute:"disabled",type:Boolean,reflect:!0}}}constructor(){super(),this.checked=!1,this.disabled=!1}changed(t){this.checked=t.target.checked,this.dispatchEvent(new CustomEvent("change",{detail:{checked:this.checked},bubbles:!0}))}static get styles(){return[super.styles,i$6`
        :host {
          display: flex;

          flex-direction: column;

          align-items: center;
          justify-content: center;
        }

        /* Adapted from https://codepen.io/guuslieben/pen/YyPRVP */
        input[type=checkbox] {
          /* visuallyhidden: https://github.com/h5bp/html5-boilerplate/blob/master/dist/doc/css.md */
          position: absolute;

          width: 1px;
          height: 1px;
          padding: 0;
          margin: -1px;
          overflow: hidden;
          clip: rect(0 0 0 0);

          white-space: nowrap;

          border: 0;
          clip-path: inset(100%); /* May cause a performance issue: https://github.com/h5bp/html5-boilerplate/issues/2021 */
        }

        input[type=checkbox] + label {
          order: 1;

          margin: 0 0.25rem 0.25rem;

          font-weight: 400;
        }

        input[type=checkbox] + label + label {
          position: relative;

          min-width: 24px;
          padding: 0 0 36px;
          margin: 0.25rem 0.25rem 0;

          font-weight: 400;

          outline: none;
        }

        input[type=checkbox] + label + label::before,
        input[type=checkbox] + label + label::after {
          position: absolute;

          left: 50%;

          margin: 0;

          content: "";

          outline: 0;

          transition: all var(---transition-duration) ease;
          transform: translate(-50%, 0);
        }

        input[type=checkbox] + label + label::before {
          bottom: 1px;

          width: 8px;
          height: 34px;

          background-color: var(---color-element-disabled);
          border-radius: 4px;
        }

        input[type=checkbox] + label + label::after {
          bottom: 0;

          width: 18px;
          height: 18px;

          background-color: var(---color-element-enabled);
          border-radius: 50%;
          box-shadow: var(---shadow-2);
        }

        input[type=checkbox]:checked + label + label::after {
          transform: translate(-50%, -100%);
        }

        input[type=checkbox]:disabled + label + label::after {
          background-color: var(---color-element-disabled);
          box-shadow: none;
        }

        input[type=checkbox]:enabled + label,
        input[type=checkbox]:enabled + label + label {
          cursor: pointer;
        }

        input[type=checkbox]:enabled + label:hover + label::after,
        input[type=checkbox]:enabled + label + label:hover::after {
          box-shadow: var(---shadow-4);
        }

        input[type=checkbox]:enabled + label:active + label::after,
        input[type=checkbox]:enabled + label + label:active::after {
          box-shadow: var(---shadow-8);
        }

        /* stylelint-disable-next-line selector-max-compound-selectors */
        :host(.keyboard) input[type=checkbox]:enabled:focus + label + label::after {
          box-shadow: var(---shadow-4);
        }

        /* stylelint-disable selector-max-compound-selectors */
        :host(.keyboard) input[type=checkbox]:enabled:focus + label + label:active::after,
        :host(.keyboard) input[type=checkbox]:enabled:focus:active + label + label::after {
          box-shadow: var(---shadow-8);
        }
        /* stylelint-enable selector-max-compound-selectors */
        `]}render(){return x$2`
      <input type="checkbox" id="switch" ?checked=${this.checked} ?disabled=${this.disabled} @change=${this.changed.bind(this)}>
      <label for="switch">
        <slot name="off-label"></slot>
      </label>
      <label for="switch">
        <slot></slot>
      </label>
    `}}customElements.define("decidables-switch",DecidablesSwitch);class DecidablesToggle extends DecidablesElement{static get properties(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0}}}constructor(){super(),this.disabled=!1}static get styles(){return[super.styles,i$6`
        fieldset {
          display: flex;

          flex-direction: column;

          align-items: stretch;
          justify-content: center;

          margin: 0.25rem;

          border: 0;
        }

        legend {
          text-align: center;
        }
      `]}render(){return x$2`
      <fieldset ?disabled=${this.disabled}>
        <legend><slot name="label"></slot></legend>
        <slot></slot>
      </fieldset>
    `}}customElements.define("decidables-toggle",DecidablesToggle);class DecidablesToggleOption extends DecidablesElement{static get properties(){return{checked:{attribute:"checked",type:Boolean,reflect:!0},disabled:{attribute:"disabled",type:Boolean,reflect:!0},name:{attribute:"name",type:String,reflect:!0},value:{attribute:"value",type:String,reflect:!0}}}constructor(){super(),this.checked=!1,this.disabled=!1,this.name=void 0,this.value=void 0}changed(t){this.checked=t.target.checked,this.dispatchEvent(new CustomEvent("change",{detail:{checked:this.checked,value:this.value},bubbles:!0}))}static get styles(){return[super.styles,i$6`
        :host {
          display: flex;
        }

        input[type=radio] {
          /* visuallyhidden: https://github.com/h5bp/html5-boilerplate/blob/master/dist/doc/css.md */
          position: absolute;

          width: 1px;
          height: 1px;
          padding: 0;
          margin: -1px;
          overflow: hidden;
          clip: rect(0 0 0 0);

          white-space: nowrap;

          border: 0;
          clip-path: inset(100%); /* May cause a performance issue: https://github.com/h5bp/html5-boilerplate/issues/2021 */
        }

        input[type=radio] + label {
          width: 100%;
          padding: 0.375rem 0.75rem;

          font-family: var(---font-family-base);
          font-size: 1.125rem;
          line-height: 1.5;
          color: var(---color-text-inverse);
          text-align: center;

          cursor: pointer;

          background-color: var(---color-element-enabled);
          border: 0;
          border-radius: 0;
          outline: none;

          box-shadow: var(---shadow-2);
        }

        input[type=radio]:checked + label {
          background-color: var(---color-element-selected);
          outline: none;
          box-shadow: var(---shadow-2);
        }

        input[type=radio] + label:hover {
          z-index: 1;

          outline: none;
          box-shadow: var(---shadow-4);
        }

        input[type=radio] + label:active {
          z-index: 2;

          outline: none;
          box-shadow: var(---shadow-8);
        }

        :host(:first-of-type) input[type=radio] + label {
          border-top-left-radius: 0.25rem;
          border-top-right-radius: 0.25rem;
        }

        :host(:last-of-type) input[type=radio] + label {
          border-bottom-right-radius: 0.25rem;
          border-bottom-left-radius: 0.25rem;
        }

        :host(.keyboard) input[type=radio]:focus + label {
          z-index: 1;

          outline: none;
          box-shadow: var(---shadow-4);
        }

        :host(.keyboard) input[type=radio]:focus:checked + label {
          z-index: 1;

          background-color: var(---color-element-selected);
          outline: none;
          box-shadow: var(---shadow-4);
        }

        :host(.keyboard) input[type=radio]:focus + label:active {
          z-index: 2;

          outline: none;
          box-shadow: var(---shadow-8);
        }
      `]}render(){return x$2`
      <input type="radio" id="toggle-option" name=${this.name} value=${this.value} .checked=${this.checked} @change=${this.changed.bind(this)}>
      <label for="toggle-option">
        <slot></slot>
      </label>
    `}}function DecidablesMixinResizeable(t){return class extends t{static get properties(){return{width:{attribute:!1,type:Number,reflect:!1},height:{attribute:!1,type:Number,reflect:!1},rem:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.width=NaN,this.height=NaN,this.rem=NaN}getDimensions(){this.width=parseFloat(this.getComputedStyleValue("width"),10),this.height=parseFloat(this.getComputedStyleValue("height"),10),this.rem=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("font-size"),10)}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver(this.getDimensions.bind(this)),this.resizeObserver.observe(this)}disconnectedCallback(){this.resizeObserver.unobserve(this),super.disconnectedCallback()}}}customElements.define("decidables-toggle-option",DecidablesToggleOption);class DiscountableElement extends DecidablesElement{static get properties(){return{interactive:{attribute:"interactive",type:Boolean,reflect:!0}}}constructor(){super(),this.interactive=!1}static get colors(){return{a:schemeSet1[0],d:schemeSet1[1],k:schemeSet1[2],v:schemeSet1[3],sooner:schemeSet1[5],later:schemeSet1[7],larger:"#4545d0",smaller:"#f032e6",equal:"#10dbc9",nr:"#cccccc"}}static get lights(){return Object.keys(DiscountableElement.colors).reduce(((t,e)=>(t[e]=interpolateRgb(DiscountableElement.colors[e],"#ffffff")(.5),t)),{})}static get darks(){return Object.keys(DiscountableElement.colors).reduce(((t,e)=>(t[e]=interpolateRgb(DiscountableElement.colors[e],"#000000")(.5),t)),{})}static get styles(){return[super.styles,i$6`
        :host {
          ---color-a: var(--color-a, ${r$6(this.colors.a)});
          ---color-d: var(--color-d, ${r$6(this.colors.d)});
          ---color-k: var(--color-k, ${r$6(this.colors.k)});
          ---color-v: var(--color-v, ${r$6(this.colors.v)});
          ---color-sooner: var(--color-sooner, ${r$6(this.colors.sooner)});
          ---color-later: var(--color-later, ${r$6(this.colors.later)});
          ---color-larger: var(--color-larger, ${r$6(this.colors.larger)});
          ---color-smaller: var(--color-smaller, ${r$6(this.colors.smaller)});
          ---color-equal: var(--color-equal, ${r$6(this.colors.equal)});
          ---color-nr: var(--color-nr, ${r$6(this.colors.nr)});

          ---color-a-light: var(--color-a-light, ${r$6(this.lights.a)});
          ---color-d-light: var(--color-d-light, ${r$6(this.lights.d)});
          ---color-k-light: var(--color-k-light, ${r$6(this.lights.k)});
          ---color-v-light: var(--color-v-light, ${r$6(this.lights.v)});
          ---color-sooner-light: var(--color-sooner-light, ${r$6(this.lights.sooner)});
          ---color-later-light: var(--color-later-light, ${r$6(this.lights.later)});
          ---color-larger-light: var(--color-larger-light, ${r$6(this.lights.larger)});
          ---color-smaller-light: var(--color-smaller-light, ${r$6(this.lights.smaller)});
          ---color-equal-light: var(--color-equal-light, ${r$6(this.lights.equal)});
          ---color-nr-light: var(--color-nr-light, ${r$6(this.lights.nr)});

          ---color-a-dark: var(--color-a-dark, ${r$6(this.darks.a)});
          ---color-d-dark: var(--color-d-dark, ${r$6(this.darks.d)});
          ---color-k-dark: var(--color-k-dark, ${r$6(this.darks.k)});
          ---color-v-dark: var(--color-v-dark, ${r$6(this.darks.v)});
          ---color-sooner-dark: var(--color-sooner-dark, ${r$6(this.darks.sooner)});
          ---color-later-dark: var(--color-later-dark, ${r$6(this.darks.later)});
          ---color-larger-dark: var(--color-larger-dark, ${r$6(this.darks.larger)});
          ---color-smaller-dark: var(--color-smaller-dark, ${r$6(this.darks.smaller)});
          ---color-equal-dark: var(--color-equal-dark, ${r$6(this.darks.equal)});
          ---color-nr-dark: var(--color-nr-dark, ${r$6(this.darks.nr)});
        }
      `]}}class DiscountableControl extends DiscountableElement{static get properties(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},run:{attribute:"run",type:Boolean,reflect:!0},pause:{attribute:"pause",type:Boolean,reflect:!0},reset:{attribute:"reset",type:Boolean,reflect:!0},state:{atribute:!1,type:String,reflect:!1}}}constructor(){super(),this.trials=void 0,this.duration=void 0,this.run=!1,this.pause=!1,this.reset=!1,this.states=["resetted","running","paused","ended"],this.state="resetted"}setTrials(t){this.trials=t.target.value,this.dispatchEvent(new CustomEvent("discountable-control-trials",{detail:{trials:this.trials},bubbles:!0}))}setDuration(t){this.duration=t.target.value,this.dispatchEvent(new CustomEvent("discountable-control-duration",{detail:{duration:this.duration},bubbles:!0}))}doRun(){this.state="running",this.dispatchEvent(new CustomEvent("discountable-control-run",{detail:{},bubbles:!0}))}doPause(){this.state="paused",this.dispatchEvent(new CustomEvent("discountable-control-pause",{detail:{},bubbles:!0}))}doReset(){this.state="resetted",this.dispatchEvent(new CustomEvent("discountable-control-reset",{detail:{},bubbles:!0}))}complete(){this.state="ended"}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }

        .holder {
          display: flex;

          flex-direction: row;

          align-items: stretch;
          justify-content: center;
        }

        .buttons {
          display: flex;

          flex-direction: column;

          align-items: stretch;
          justify-content: center;
        }
      `]}render(){return x$2`
      <div class="holder">
        ${this.trials?x$2`<decidables-slider min="1" max="100" step="1" .value=${this.trials} @change=${this.setTrials.bind(this)} @input=${this.setTrials.bind(this)}>Trials</decidables-slider>`:x$2``}
        ${this.duration?x$2`<decidables-slider min="10" max="4000" step="10" .value=${this.duration} @change=${this.setDuration.bind(this)} @input=${this.setDuration.bind(this)}>Duration</decidables-slider>`:x$2``}
        ${this.run||this.pause||this.reset?x$2`
            <div class="buttons">
              ${this.run?x$2`<decidables-button name="run" ?disabled=${"running"===this.state||"ended"===this.state} @click=${this.doRun.bind(this)}>Run</decidables-button>`:x$2``}
              ${this.pause?x$2`<decidables-button name="pause" ?disabled=${"running"!==this.state} @click=${this.doPause.bind(this)}>Pause</decidables-button>`:x$2``}
              ${this.reset?x$2`<decidables-button name="reset" ?disabled=${"resetted"===this.state} @click=${this.doReset.bind(this)}>Reset</decidables-button>`:x$2``}
            </div>
            `:x$2``}
      </div>`}}customElements.define("discountable-control",DiscountableControl);class DiscountableResponse extends DiscountableElement{static get properties(){return{feedback:{attribute:"feedback",type:Boolean,reflect:!0},trial:{attribute:"trial",type:Boolean,reflect:!0},state:{attribute:!1,type:String,reflect:!1},trialCount:{attribute:!1,type:Number,reflect:!1},trialTotal:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.trial=!1,this.feedback=!1,this.states=["off","waiting","feedback"],this.state="off",this.trialCount=0,this.trialTotal=0,this.as=0,this.ds=0,this.al=0,this.dl=0,this.responses=["first","second","nr"],this.response=void 0}start(t,e,i,s,B){this.state="waiting",this.as=t,this.ds=e,this.al=i,this.dl=s,this.trialCount=B,this.response=void 0}stop(){this.state="feedback",void 0===this.response&&(this.response="nr")}first(){this.responded("first")}second(){this.responded("second")}responded(t){this.state="feedback",this.response=t,this.dispatchEvent(new CustomEvent("discountable-response",{detail:{trial:this.trialCount,as:this.as,ds:this.ds,al:this.al,dl:this.dl,response:this.response},bubbles:!0}))}reset(){this.state="off",this.trialCount=0,this.response=void 0}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }

        /* Overall container */
        .holder {
          display: flex;

          flex-direction: column;
        }

        /* Trial messages */
        .trials {
          display: flex;

          flex-direction: column;

          justify-content: center;
        }

        .trial {
          text-align: center;
        }

        .trial .label {
          font-weight: 600;
        }

        /* Response buttons */
        .responses {
          display: flex;

          flex-direction: row;

          align-items: stretch;
          justify-content: center;
        }

        .response {
          width: 5.25rem;
        }

        .waiting[disabled] {
          --decidables-button-background-color: var(---color-element-enabled);
        }

        .selected[disabled][name="first"] {
          --decidables-button-background-color: var(---color-sooner);
        }

        .selected[disabled][name="second"] {
          --decidables-button-background-color: var(---color-later);
        }

        /* Feedback messages */
        .feedbacks {
          display: flex;

          flex-direction: row;

          justify-content: center;
        }

        /* Outcome feedback */
        .feedback {
          display: flex;

          flex-direction: column;

          align-items: center;
          justify-content: center;

          width: 5.25rem;
          height: 3.5rem;
          padding: 0.375rem 0.75rem;
          margin: 0.25rem;

          text-align: center;

          background-color: var(---color-element-background);
          border: 1px solid var(---color-element-border);
        }

        .feedback.first {
          background-color: var(---color-sooner-light);
        }

        .feedback.second {
          background-color: var(---color-later-light);
        }

        .feedback.nr {
          background-color: var(---color-nr-light);
        }
      `]}render(){return x$2`
      <div class="holder">
        ${this.trial?x$2`
            <div class="trials">
              <div class="trial">
                <span class="label">Trial: </span
                ><span class="count">${this.trialCount}</span
                ><span class="of"> of </span
                ><span class="total">${this.trialTotal}</span>
              </div>
            </div>`:x$2``}
        <div class="responses">
          <decidables-button 
            name="first"
            class="response ${"feedback"===this.state&&"first"===this.response?"selected":"waiting"===this.state?"waiting":""}"
            ?disabled=${"waiting"!==this.state||!0!==this.interactive}
            @click=${this.first.bind(this)}
          >First</decidables-button>
          <decidables-button 
            name="second"
            class="response ${"feedback"===this.state&&"second"===this.response?"selected":"waiting"===this.state?"waiting":""}"
            ?disabled=${"waiting"!==this.state||!0!==this.interactive}
            @click=${this.second.bind(this)}
          >Second</decidables-button>
        </div>
        ${this.feedback?x$2`
            <div class="feedbacks">
              <div class="feedback
                ${"feedback"===this.state&&this.feedback?this.response:""}">
                ${"feedback"===this.state&&this.feedback?"first"===this.response?x$2`<span class="response">First</span>`:"second"===this.response?x$2`<span class="response">Second</span>`:x$2`<span class="response">No<br>Response</span>`:""}
              </div>
            </div>`:x$2``}
      </div>`}}customElements.define("discountable-response",DiscountableResponse);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const t$1=globalThis,i$2=t$1.trustedTypes,s$1=i$2?i$2.createPolicy("lit-html",{createHTML:t=>t}):void 0,e$1="$lit$",h$1=`lit$${Math.random().toFixed(9).slice(2)}$`,o$2="?"+h$1,n$2=`<${o$2}>`,r$2=document,l=()=>r$2.createComment(""),c$1=t=>null===t||"object"!=typeof t&&"function"!=typeof t,a$1=Array.isArray,u=t=>a$1(t)||"function"==typeof t?.[Symbol.iterator],d="[ \t\n\f\r]",f$2=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v$1=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\s"'>=/]+)(${d}*=${d}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),p=/'/g,g$1=/"/g,$=/^(?:script|style|textarea|title)$/i,w$1=Symbol.for("lit-noChange"),T=Symbol.for("lit-nothing"),A$1=new WeakMap,E=r$2.createTreeWalker(r$2,129);function C(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==s$1?s$1.createHTML(e):e}const P=(t,e)=>{const i=t.length-1,s=[];let B,n=2===e?"<svg>":"",l=f$2;for(let e=0;e<i;e++){const i=t[e];let Q,F,c=-1,g=0;for(;g<i.length&&(l.lastIndex=g,F=l.exec(i),null!==F);)g=l.lastIndex,l===f$2?"!--"===F[1]?l=v$1:void 0!==F[1]?l=_:void 0!==F[2]?($.test(F[2])&&(B=RegExp("</"+F[2],"g")),l=m):void 0!==F[3]&&(l=m):l===m?">"===F[0]?(l=B??f$2,c=-1):void 0===F[1]?c=-2:(c=l.lastIndex-F[2].length,Q=F[1],l=void 0===F[3]?m:'"'===F[3]?g$1:p):l===g$1||l===p?l=m:l===v$1||l===_?l=f$2:(l=m,B=void 0);const a=l===m&&t[e+1].startsWith("/>")?" ":"";n+=l===f$2?i+n$2:c>=0?(s.push(Q),i.slice(0,c)+e$1+i.slice(c)+h$1+a):i+h$1+(-2===c?e:a)}return[C(t,n+(t[i]||"<?>")+(2===e?"</svg>":"")),s]};class V{constructor({strings:t,_$litType$:e},i){let s;this.parts=[];let B=0,n=0;const Q=t.length-1,F=this.parts,[c,g]=P(t,e);if(this.el=V.createElement(c,i),E.currentNode=this.el.content,2===e){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(s=E.nextNode())&&F.length<Q;){if(1===s.nodeType){if(s.hasAttributes())for(const t of s.getAttributeNames())if(t.endsWith(e$1)){const e=g[n++],i=s.getAttribute(t).split(h$1),l=/([.?@])?(.*)/.exec(e);F.push({type:1,index:B,name:l[2],strings:i,ctor:"."===l[1]?k:"?"===l[1]?H:"@"===l[1]?I:R}),s.removeAttribute(t)}else t.startsWith(h$1)&&(F.push({type:6,index:B}),s.removeAttribute(t));if($.test(s.tagName)){const t=s.textContent.split(h$1),e=t.length-1;if(e>0){s.textContent=i$2?i$2.emptyScript:"";for(let i=0;i<e;i++)s.append(t[i],l()),E.nextNode(),F.push({type:2,index:++B});s.append(t[e],l())}}}else if(8===s.nodeType)if(s.data===o$2)F.push({type:2,index:B});else{let t=-1;for(;-1!==(t=s.data.indexOf(h$1,t+1));)F.push({type:7,index:B}),t+=h$1.length-1}B++}}static createElement(t,e){const i=r$2.createElement("template");return i.innerHTML=t,i}}function N$1(t,e,i=t,s){if(e===w$1)return e;let B=void 0!==s?i._$Co?.[s]:i._$Cl;const n=c$1(e)?void 0:e._$litDirective$;return B?.constructor!==n&&(B?._$AO?.(!1),void 0===n?B=void 0:(B=new n(t),B._$AT(t,i,s)),void 0!==s?(i._$Co??=[])[s]=B:i._$Cl=B),void 0!==B&&(e=N$1(t,B._$AS(t,e.values),B,s)),e}class S{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:i}=this._$AD,s=(t?.creationScope??r$2).importNode(e,!0);E.currentNode=s;let B=E.nextNode(),n=0,l=0,Q=i[0];for(;void 0!==Q;){if(n===Q.index){let e;2===Q.type?e=new M(B,B.nextSibling,this,t):1===Q.type?e=new Q.ctor(B,Q.name,Q.strings,this,t):6===Q.type&&(e=new L(B,this,t)),this._$AV.push(e),Q=i[++l]}n!==Q?.index&&(B=E.nextNode(),n++)}return E.currentNode=r$2,s}p(t){let e=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class M{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,i,s){this.type=2,this._$AH=T,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=N$1(this,t,e),c$1(t)?t===T||null==t||""===t?(this._$AH!==T&&this._$AR(),this._$AH=T):t!==this._$AH&&t!==w$1&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==T&&c$1(this._$AH)?this._$AA.nextSibling.data=t:this.T(r$2.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:i}=t,s="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=V.createElement(C(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===s)this._$AH.p(e);else{const t=new S(s,this),i=t.u(this.options);t.p(e),this.T(i),this._$AH=t}}_$AC(t){let e=A$1.get(t.strings);return void 0===e&&A$1.set(t.strings,e=new V(t)),e}k(t){a$1(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,s=0;for(const B of t)s===e.length?e.push(i=new M(this.S(l()),this.S(l()),this,this.options)):i=e[s],i._$AI(B),s++;s<e.length&&(this._$AR(i&&i._$AB.nextSibling,s),e.length=s)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class R{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,i,s,B){this.type=1,this._$AH=T,this._$AN=void 0,this.element=t,this.name=e,this._$AM=s,this.options=B,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=T}_$AI(t,e=this,i,s){const B=this.strings;let n=!1;if(void 0===B)t=N$1(this,t,e,0),n=!c$1(t)||t!==this._$AH&&t!==w$1,n&&(this._$AH=t);else{const s=t;let l,Q;for(t=B[0],l=0;l<B.length-1;l++)Q=N$1(this,s[i+l],e,l),Q===w$1&&(Q=this._$AH[l]),n||=!c$1(Q)||Q!==this._$AH[l],Q===T?t=T:t!==T&&(t+=(Q??"")+B[l+1]),this._$AH[l]=Q}n&&!s&&this.j(t)}j(t){t===T?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class k extends R{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===T?void 0:t}}class H extends R{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==T)}}class I extends R{constructor(t,e,i,s,B){super(t,e,i,s,B),this.type=5}_$AI(t,e=this){if((t=N$1(this,t,e,0)??T)===w$1)return;const i=this._$AH,s=t===T&&i!==T||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,B=t!==T&&(i===T||s);s&&this.element.removeEventListener(this.name,this,i),B&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class L{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){N$1(this,t)}}const Z=t$1.litHtmlPolyfillSupport;Z?.(V,M),(t$1.litHtmlVersions??=[]).push("3.1.3");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const t={CHILD:2},e=t=>(...e)=>({_$litDirective$:t,values:e});let i$1=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}};
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const f$1=t=>void 0===t.strings
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,s=(t,e)=>{const i=t._$AN;if(void 0===i)return!1;for(const t of i)t._$AO?.(e,!1),s(t,e);return!0},o$1=t=>{let e,i;do{if(void 0===(e=t._$AM))break;i=e._$AN,i.delete(t),t=e}while(0===i?.size)},r$1=t=>{for(let e;e=t._$AM;t=e){let i=e._$AN;if(void 0===i)e._$AN=i=new Set;else if(i.has(t))break;i.add(t),c(e)}};function h(t){void 0!==this._$AN?(o$1(this),this._$AM=t,r$1(this)):this._$AM=t}function n$1(t,e=!1,i=0){const B=this._$AH,n=this._$AN;if(void 0!==n&&0!==n.size)if(e)if(Array.isArray(B))for(let t=i;t<B.length;t++)s(B[t],!1),o$1(B[t]);else null!=B&&(s(B,!1),o$1(B));else s(this,t)}const c=e=>{e.type==t.CHILD&&(e._$AP??=n$1,e._$AQ??=h)};class f extends i$1{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,i){super._$AT(t,e,i),r$1(this),this.isConnected=t._$AU}_$AO(t,e=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),e&&(s(this,t),o$1(this))}setValue(t){if(f$1(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}const i=new WeakMap;let o=0;const r=new Map,n=new WeakSet,a=()=>new Promise((t=>requestAnimationFrame(t))),v=[{opacity:0},{opacity:1}],g=(t,e)=>{const i=t-e;return 0===i?void 0:i},w=(t,e)=>{const i=t/e;return 1===i?void 0:i},N={left:(t,e)=>{const i=g(t,e);return{value:i,transform:null==i||isNaN(i)?void 0:`translateX(${i}px)`}},top:(t,e)=>{const i=g(t,e);return{value:i,transform:null==i||isNaN(i)?void 0:`translateY(${i}px)`}},width:(t,e)=>{let i;0===e&&(e=1,i={width:"1px"});const s=w(t,e);return{value:s,overrideFrom:i,transform:null==s||isNaN(s)?void 0:`scaleX(${s})`}},height:(t,e)=>{let i;0===e&&(e=1,i={height:"1px"});const s=w(t,e);return{value:s,overrideFrom:i,transform:null==s||isNaN(s)?void 0:`scaleY(${s})`}}},A={duration:333,easing:"ease-in-out"},b=["left","top","width","height","opacity","color","background"],j=new WeakMap;class x extends f{constructor(e){if(super(e),this.t=!1,this.i=null,this.o=null,this.h=!0,this.shouldLog=!1,e.type===t.CHILD)throw Error("The `animate` directive must be used in attribute position.");this.createFinished()}createFinished(){this.resolveFinished?.(),this.finished=new Promise((t=>{this.l=t}))}async resolveFinished(){this.l?.(),this.l=void 0}render(t){return T}getController(){return i.get(this.u)}isDisabled(){return this.options.disabled||this.getController()?.disabled}update(t,[e]){const i=void 0===this.u;return i&&(this.u=t.options?.host,this.u.addController(this),this.u.updateComplete.then((t=>this.t=!0)),this.element=t.element,j.set(this.element,this)),this.optionsOrCallback=e,(i||"function"!=typeof e)&&this.p(e),this.render(e)}p(t){t=t??{};const e=this.getController();void 0!==e&&((t={...e.defaultOptions,...t}).keyframeOptions={...e.defaultOptions.keyframeOptions,...t.keyframeOptions}),t.properties??=b,this.options=t}m(){const t={},e=this.element.getBoundingClientRect(),i=getComputedStyle(this.element);return this.options.properties.forEach((s=>{const B=e[s]??(N[s]?void 0:i[s]),n=Number(B);t[s]=isNaN(n)?B+"":n})),t}v(){let t,e=!0;return this.options.guard&&(t=this.options.guard(),e=((t,e)=>{if(Array.isArray(t)){if(Array.isArray(e)&&e.length===t.length&&t.every(((t,i)=>t===e[i])))return!1}else if(e===t)return!1;return!0})(t,this._)),this.h=this.t&&!this.isDisabled()&&!this.isAnimating()&&e&&this.element.isConnected,this.h&&(this._=Array.isArray(t)?Array.from(t):t),this.h}hostUpdate(){"function"==typeof this.optionsOrCallback&&this.p(this.optionsOrCallback()),this.v()&&(this.A=this.m(),this.i=this.i??this.element.parentNode,this.o=this.element.nextSibling)}async hostUpdated(){if(!this.h||!this.element.isConnected||this.options.skipInitial&&!this.isHostRendered)return;let t;this.prepare(),await a;const e=this.O(),i=this.j(this.options.keyframeOptions,e),s=this.m();if(void 0!==this.A){const{from:i,to:B}=this.N(this.A,s,e);this.log("measured",[this.A,s,i,B]),t=this.calculateKeyframes(i,B)}else{const i=r.get(this.options.inId);if(i){r.delete(this.options.inId);const{from:B,to:n}=this.N(i,s,e);t=this.calculateKeyframes(B,n),t=this.options.in?[{...this.options.in[0],...t[0]},...this.options.in.slice(1),t[1]]:t,o++,t.forEach((t=>t.zIndex=o))}else this.options.in&&(t=[...this.options.in,{}])}this.animate(t,i)}resetStyles(){void 0!==this.P&&(this.element.setAttribute("style",this.P??""),this.P=void 0)}commitStyles(){this.P=this.element.getAttribute("style"),this.webAnimation?.commitStyles(),this.webAnimation?.cancel()}reconnected(){}async disconnected(){if(!this.h)return;if(void 0!==this.options.id&&r.set(this.options.id,this.A),void 0===this.options.out)return;if(this.prepare(),await a(),this.i?.isConnected){const t=this.o&&this.o.parentNode===this.i?this.o:null;if(this.i.insertBefore(this.element,t),this.options.stabilizeOut){const t=this.m();this.log("stabilizing out");const e=this.A.left-t.left,i=this.A.top-t.top;!("static"===getComputedStyle(this.element).position)||0===e&&0===i||(this.element.style.position="relative"),0!==e&&(this.element.style.left=e+"px"),0!==i&&(this.element.style.top=i+"px")}}const t=this.j(this.options.keyframeOptions);await this.animate(this.options.out,t),this.element.remove()}prepare(){this.createFinished()}start(){this.options.onStart?.(this)}didFinish(t){t&&this.options.onComplete?.(this),this.A=void 0,this.animatingProperties=void 0,this.frames=void 0,this.resolveFinished()}O(){const t=[];for(let e=this.element.parentNode;e;e=e?.parentNode){const i=j.get(e);i&&!i.isDisabled()&&i&&t.push(i)}return t}get isHostRendered(){const t=n.has(this.u);return t||this.u.updateComplete.then((()=>{n.add(this.u)})),t}j(t,e=this.O()){const i={...A};return e.forEach((t=>Object.assign(i,t.options.keyframeOptions))),Object.assign(i,t),i}N(t,e,i){t={...t},e={...e};const s=i.map((t=>t.animatingProperties)).filter((t=>void 0!==t));let B=1,n=1;return s.length>0&&(s.forEach((t=>{t.width&&(B/=t.width),t.height&&(n/=t.height)})),void 0!==t.left&&void 0!==e.left&&(t.left=B*t.left,e.left=B*e.left),void 0!==t.top&&void 0!==e.top&&(t.top=n*t.top,e.top=n*e.top)),{from:t,to:e}}calculateKeyframes(t,e,i=!1){const s={},B={};let n=!1;const l={};for(const i in e){const Q=t[i],F=e[i];if(i in N){const t=N[i];if(void 0===Q||void 0===F)continue;const e=t(Q,F);void 0!==e.transform&&(l[i]=e.value,n=!0,s.transform=`${s.transform??""} ${e.transform}`,void 0!==e.overrideFrom&&Object.assign(s,e.overrideFrom))}else Q!==F&&void 0!==Q&&void 0!==F&&(n=!0,s[i]=Q,B[i]=F)}return s.transformOrigin=B.transformOrigin=i?"center center":"top left",this.animatingProperties=l,n?[s,B]:void 0}async animate(t,e=this.options.keyframeOptions){this.start(),this.frames=t;let i=!1;if(!this.isAnimating()&&!this.isDisabled()&&(this.options.onFrames&&(this.frames=t=this.options.onFrames(this),this.log("modified frames",t)),void 0!==t)){this.log("animate",[t,e]),i=!0,this.webAnimation=this.element.animate(t,e);const s=this.getController();s?.add(this);try{await this.webAnimation.finished}catch(t){}s?.remove(this)}return this.didFinish(i),i}isAnimating(){return"running"===this.webAnimation?.playState||this.webAnimation?.pending}log(t,e){this.shouldLog&&!this.isDisabled()&&console.log(t,this.options.id,e)}}const F=e(x);class HTDMath{static adk2v(t,e,i){return t/(1+i*e)}static adv2k(t,e,i){return(t-i)/(i*e)}}class HTDEquation extends DiscountableElement{static get properties(){return{numeric:{attribute:"numeric",type:Boolean,reflect:!0}}}constructor(){super(),this.numeric=!1}static get styles(){return[super.styles,i$6`
        :host {
          display: block;

          margin: 1rem;
        }

        /* Containing <div> */
        .holder {
          display: flex;

          flex-direction: row;

          justify-content: left;
        }

        /* Overall <table> */
        .equation {
          text-align: center;
          white-space: nowrap;

          border-collapse: collapse;

          border: 0;
        }

        /* Modifies <td> */
        .underline {
          border-bottom: 1px solid var(---color-text);
        }

        /* Basic <span> and <var> w/modifiers */
        span,
        var {
          padding: 0 0.25rem;

          font-style: normal;
        }

        var {
          border-radius: var(---border-radius);
        }

        .tight {
          padding: 0;
        }

        .paren {
          font-size: 150%;
        }

        .bracket {
          font-size: 175%;
        }

        .brace {
          font-size: 200%;
        }

        .addend {
          position: relative;
          display: inline-block;
        }

        .comparison {
          position: relative;
          display: inline-block;

          font-size: 125%;
          font-weight: 600;
        }

        .function {
          display: inline-block;

          border-radius: var(---border-radius);
        }

        :host([numeric]) .function {
          padding: 0.25rem;
        }

        .exp {
          display: inline-block;

          font-size: 0.75rem;
        }

        .subscript {
          display: inline-block;

          font-size: 66.667%;
        }

        .summation {
          display: flex;

          flex-direction: column;

          line-height: 0.8;
        }

        .sigma {
          display: inline-block;

          font-size: 200%;
        }

        /* Input wrapping <label> */
        decidables-spinner {
          --decidables-spinner-input-width: 4rem;

          display: inline-block;

          padding: 0.125rem 0.375rem 0.375rem;

          line-height: 1.5;
          vertical-align: middle;

          border-radius: var(---border-radius);
        }

        .n {
          --decidables-spinner-input-width: 2rem;
        }

        .left {
          text-align: left;
        }

        .right {
          text-align: right;
        }

        .bottom {
          vertical-align: bottom;
        }

        .top {
          vertical-align: top;
        }

        /* Color scheme */
        /* .win {
          background: var(---color-better);
        }

        .loss {
          background: var(---color-worse);
        }

        .sure {
          background: var(---color-even);
        } */

        .a {
          background: var(---color-a-light);
        }

        .d {
          background: var(---color-d-light);
        }

        .k {
          background: var(---color-k-light);
        }

        .v {
          background: var(---color-v-light);
        }
      `]}}class HTDCalculation extends HTDEquation{static get properties(){return{numeric:{attribute:"numeric",type:Boolean,reflect:!0},as:{attribute:"amount-ss",type:Number,reflect:!0},ds:{attribute:"delay-ss",type:Number,reflect:!0},al:{attribute:"amount-ll",type:Number,reflect:!0},dl:{attribute:"delay-ll",type:Number,reflect:!0},k:{attribute:"k",type:Number,reflect:!0}}}constructor(){super(),this.numeric=!1,this.as=20,this.ds=5,this.al=50,this.dl=40,this.k=.1,this.alignState()}alignState(){this.vs=HTDMath.adk2v(this.as,this.ds,this.k),this.vl=HTDMath.adk2v(this.al,this.dl,this.k),this.vDiff=this.vs-this.vl}sendEvent(){this.dispatchEvent(new CustomEvent("htd-calculation-change",{detail:{as:this.as,ds:this.ds,al:this.al,dl:this.dl,k:this.k},bubbles:!0}))}asInput(t){this.as=parseFloat(t.target.value),this.alignState(),this.sendEvent()}dsInput(t){this.ds=parseFloat(t.target.value),this.alignState(),this.sendEvent()}alInput(t){this.al=parseFloat(t.target.value),this.alignState(),this.sendEvent()}dlInput(t){this.dl=parseFloat(t.target.value),this.alignState(),this.sendEvent()}kInput(t){this.k=parseFloat(t.target.value),this.alignState(),this.sendEvent()}static get styles(){return[super.styles,i$6`
        /* :host {
          display: inline-block;
        } */

        var {
          border-radius: var(---border-radius);
        }

        decidables-spinner {
          border-radius: var(---border-radius);
        }
      `]}willUpdate(){this.alignState()}render(){let t,e,i,s,B,n,l,Q;this.numeric?(t=x$2`<decidables-spinner class="a as" ?disabled=${!this.interactive} step="1" .value="${this.as}" @input=${this.asInput.bind(this)}>
          <var class="math-var">A<sub class="subscript">ss</sub></var>
        </decidables-spinner>`,e=x$2`<decidables-spinner class="d ds" ?disabled=${!this.interactive} min="0" step="1" .value="${this.ds}" @input=${this.dsInput.bind(this)}>
          <var class="math-var">D<sub class="subscript">ss</sub></var>
        </decidables-spinner>`,i=x$2`<decidables-spinner class="a al" ?disabled=${!this.interactive} step="1" .value="${this.al}" @input=${this.alInput.bind(this)}>
          <var class="math-var">A<sub class="subscript">ll</sub></var>
        </decidables-spinner>`,s=x$2`<decidables-spinner class="d dl" ?disabled=${!this.interactive} min="0" step="1" .value="${this.dl}" @input=${this.dlInput.bind(this)}>
          <var class="math-var">D<sub class="subscript">ll</sub></var>
        </decidables-spinner>`,B=x$2`<decidables-spinner class="k" ?disabled=${!this.interactive} min="0" max="100" step=".001" .value="${this.k}" @input=${this.kInput.bind(this)}>
          <var class="math-var">k</var>
        </decidables-spinner>`,n=x$2`<decidables-spinner class="v vs" disabled .value="${+this.vs.toFixed(2)}">
          <var class="math-var">V<sub class="subscript">ss</sub></var>
        </decidables-spinner>`,l=x$2`<decidables-spinner class="v vl" disabled .value="${+this.vl.toFixed(2)}">
          <var class="math-var">V<sub class="subscript">ll</sub></var>
        </decidables-spinner>`,Q=x$2`${this.vDiff>0?x$2`<span class="comparison" ${F({in:v})}>&gt;</span>`:this.vDiff<0?x$2`<span class="comparison" ${F({in:v})}>&lt;</span>`:x$2`<span class="comparison" ${F({in:v})}>=</span>`}`):(t=x$2`<var class="math-var a as">A<sub class="subscript">ss</sub></var>`,e=x$2`<var class="math-var d ds">D<sub class="subscript">ss</sub></var>`,i=x$2`<var class="math-var a al">A<sub class="subscript">ll</sub></var>`,s=x$2`<var class="math-var d dl">D<sub class="subscript">ll</sub></var>`,B=x$2`<var class="math-var k">k</var>`,n=x$2`<var class="math-var v vs">V<sub class="subscript">ss</sub></var>`,l=x$2`<var class="math-var v vl">V<sub class="subscript">ll</sub></var>`,Q=x$2`<span class="comparison">â</span>`);const c=x$2`
      <tr>
        <td class="underline">
          ${t}
        </td>
        <td rowspan="2">
          ${Q}
        </td>
        <td class="underline">
          ${i}
        </td>
      </tr>
      <tr>
        <td class="">
          <span class="paren tight">(</span>1<span class="plus">+</span>${B}${e}<span class="paren tight">)</span>
        </td>
        <td class="">
          <span class="paren tight">(</span>1<span class="plus">+</span>${B}${s}<span class="paren tight">)</span>
        </td>
      </tr>
      <tr>
        <td class="right">
          ${n}
        </td>
        <td>
          ${Q}
        </td>
        <td class="left">
          ${l}
        </td>
      </tr>`;return x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${c}
          </tbody>
        </table>
      </div>`}}customElements.define("htd-calculation",HTDCalculation);class HTDCurves extends(DecidablesMixinResizeable(DiscountableElement)){static get properties(){return{a:{attribute:"amount",type:Number,reflect:!0},d:{attribute:"delay",type:Number,reflect:!0},label:{attribute:"label",type:String,reflect:!0},k:{attribute:"k",type:Number,reflect:!0},v:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.firstUpdate=!0,this.drag=!1,this.scale={value:{min:0,max:80,step:1,round:Math.round},time:{min:0,max:100,step:1,round:Math.round},discount:{min:0,max:100,step:.001,round:t=>+t.toFixed(3)}},this.a=null,this.d=null,this.label="",this.k=.1,this.options=[{name:"default",a:this.a,d:this.d,label:this.label}],this.as=null,this.ds=null,this.al=null,this.dl=null,this.trialCount=null,this.response=null,this.alignState()}alignState(){this.options[0].a=this.a,this.options[0].d=this.d,this.options[0].label=this.label,this.options.forEach((t=>{t.v=HTDMath.adk2v(t.a,t.d,this.k)})),this.v=this.options[0].v}trial(t,e,i,s,B,n){this.trialCount&&this.removeOption(`${this.trialCount}-s`),this.trialCount&&this.removeOption(`${this.trialCount}-l`),this.as=t,this.ds=e,this.al=i,this.dl=s,this.trialCount=B,this.response=n,this.setOption(this.as,this.ds,`${this.trialCount}-s`,"s",!0),this.setOption(this.al,this.dl,`${this.trialCount}-l`,"l",!0)}pauseTrial(){const t=select(this.renderRoot).selectAll(".lines[data-animating-ease-time-1]");t.interrupt("new-1"),t.interrupt("new-2"),t.datum((t=>(t.paused=!0,t)))}resumeTrial(){select(this.renderRoot).selectAll(".lines[data-animating-ease-time-1]").datum((t=>(t.paused=!1,t))),this.requestUpdate()}clearOptions(){this.options.splice(1),this.requestUpdate()}removeOption(t){this.options=this.options.filter((e=>e.name!==t)),this.requestUpdate()}getOption(t="default"){return this.options.find((e=>e.name===t))}setOption(t,e,i="default",s="",B=!1){"default"===i&&(this.a=t,this.d=e,this.label=s);const n=this.options.find((t=>t.name===i));void 0===n?this.options.push({name:i,a:t,d:e,label:s,trial:B,new:B}):(n.a=t,n.d=e,n.label=s),this.requestUpdate()}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;

          width: 27rem;
          height: 15rem;
        }

        .main {
          width: 100%;
          height: 100%;
        }

        text {
          /* stylelint-disable property-no-vendor-prefix */
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
        }

        .background {
          fill: var(---color-element-background);
          stroke: var(---color-element-border);
          stroke-width: 1;
          shape-rendering: crispEdges;
        }

        .title-x,
        .title-y {
          font-weight: 600;

          fill: currentColor;
        }

        .tick {
          font-size: 0.75rem;
        }

        .axis-x path,
        .axis-x line,
        .axis-y path,
        .axis-y line {
          stroke: var(---color-element-border);
          /* shape-rendering: crispEdges; */
        }

        .curve {
          fill: none;
          stroke: var(---color-element-emphasis);
          stroke-width: 2;
        }

        .curve.interactive {
          cursor: nwse-resize;
          
          filter: url("#shadow-2");
          outline: none;
        }

        .curve.interactive:hover {
          filter: url("#shadow-4");
        }

        .curve.interactive:active {
          filter: url("#shadow-8");
        }

        :host(.keyboard) .curve.interactive:focus {
          filter: url("#shadow-8");
        }

        .bar {
          fill: none;
          stroke: var(---color-element-emphasis);
          stroke-width: 2;
        }

        .bar.interactive {
          cursor: ew-resize;
          
          filter: url("#shadow-2");
          outline: none;
        }

        .bar.interactive:hover {
          filter: url("#shadow-4");
        }

        .bar.interactive:active {
          filter: url("#shadow-8");
        }

        :host(.keyboard) .bar.interactive:focus {
          filter: url("#shadow-8");
        }

        .point .mark {
          fill: var(---color-element-emphasis);

          r: 6px;
        }

        .point .label {
          font-size: 0.75rem;

          dominant-baseline: middle;
          text-anchor: middle;

          fill: var(---color-text-inverse);
        }

        .point.interactive {
          cursor: ns-resize;

          filter: url("#shadow-2");
          outline: none;

          /* HACK: This gets Safari to correctly apply the filter! */
          /* https://github.com/emilbjorklund/svg-weirdness/issues/27 */
          stroke: #000000;
          stroke-opacity: 0;
          stroke-width: 0;
        }

        .point.interactive:hover {
          filter: url("#shadow-4");

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #ff0000;
        }

        .point.interactive:active {
          filter: url("#shadow-8");

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #00ff00;
        }

        :host(.keyboard) .point.interactive:focus {
          filter: url("#shadow-8");

          /* HACK: This gets Safari to correctly apply the filter! */
          stroke: #0000ff;
        }
      `]}render(){return x$2``}willUpdate(){this.alignState()}update(t){if(super.update(t),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem))return;const e=this.width,i=this.height;let s,B;e/i>1.8?(B=i,s=1.8*B):(s=e,B=s/1.8);const n=2*this.rem,l=3*this.rem,Q=3*this.rem,F=B-(n+l),c=s-(Q+2*this.rem),g=parseInt(this.getComputedStyleValue("---transition-duration"),10),a=linear().domain([this.scale.time.min,this.scale.time.max]).range([0,c]),I=linear().domain([this.scale.value.min,this.scale.value.max]).range([F,0]),U=shapeLine().x((t=>a(t.d))).y((t=>I(t.v))),r=select(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}]),o=r.enter().append("svg").classed("main",!0);o.html(DiscountableElement.svgDefs);const d=o.merge(r).attr("viewBox",`0 0 ${s} ${B}`),b=o.append("g").classed("plot",!0),C=d.select(".plot").attr("transform",`translate(${Q}, ${n})`);b.append("clipPath").attr("id","clip-htd-curves").append("rect"),C.select("clipPath rect").attr("height",F+1).attr("width",c+1);const u=b.append("g").classed("underlayer",!0),y=C.select(".underlayer");u.append("rect").classed("background",!0),y.select(".background").attr("height",F).attr("width",c),u.append("g").classed("axis-x",!0);y.select(".axis-x").attr("transform",`translate(0, ${I(0)})`).transition().duration(2*g).ease(cubicOut).call(axisBottom(a)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null);const h=u.append("text").classed("title-x",!0).attr("text-anchor","middle");h.append("tspan").classed("name",!0).text("Delay ("),h.append("tspan").classed("math-var d",!0).text("D"),h.append("tspan").classed("name",!0).text(")"),y.select(".title-x").attr("transform",`translate(${c/2}, ${F+2.25*this.rem})`),u.append("g").classed("axis-y",!0);y.select(".axis-y").transition().duration(2*g).ease(cubicOut).call(axisLeft(I)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null);const A=u.append("text").classed("title-y",!0).attr("text-anchor","middle");A.append("tspan").classed("name",!0).text("Value ("),A.append("tspan").classed("math-var v",!0).text("V"),A.append("tspan").classed("name",!0).text(")"),y.select(".title-y").attr("transform",`translate(${-2*this.rem}, ${F/2})rotate(-90)`),b.append("g").classed("content",!0);const G=C.select(".content").selectAll(".option").data(this.options.filter((t=>null!==t.a&&null!==t.d)),(t=>t.name)),R=G.enter().append("g").classed("option",!0);R.append("path").classed("curve",!0).attr("clip-path","url(#clip-htd-curves)").attr("d",(t=>{const e=range$1(a(t.d),a(0),-1).map((e=>({d:a.invert(e),v:HTDMath.adk2v(t.a,t.d-a.invert(e),this.k)})));return U(e)})).attr("stroke-dasharray",((t,e,i)=>{if(t.trial){return`0,${i[e].getTotalLength()}`}return"none"})),R.append("line").classed("bar",!0).attr("x1",(t=>a(t.d))).attr("x2",(t=>a(t.d))).attr("y1",I(0)).attr("y2",(t=>I(t.a))).attr("stroke-dasharray",((t,e,i)=>{if(t.trial){return`0,${i[e].getTotalLength()}`}return"none"}));const x=R.append("g").classed("point",!0).attr("transform",(t=>`translate(${a(t.d)}, ${I(t.a)})`)).attr("opacity",(t=>t.trial?0:1));x.append("circle").classed("mark",!0),x.append("text").classed("label",!0);const m=R.merge(G);m.filter(((t,e,i)=>this.interactive&&!i[e].classList.contains("interactive"))).select(".curve").classed("interactive",!0).attr("tabindex",0).call(drag().subject((t=>({x:t.x,y:t.y}))).on("start",(t=>{select(t.currentTarget).classed("dragging",!0)})).on("drag",((t,e)=>{this.drag=!0;const i=e.d-a.invert(t.x),s=i<0?0:i>e.d?e.d:i,B=I.invert(t.y),n=B<=0?.001:B>e.a?e.a:B,l=HTDMath.adv2k(e.a,s,n);this.k=l<this.scale.discount.min?this.scale.discount.min:l>this.scale.discount.max?this.scale.discount.max:this.scale.discount.round(l),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))})).on("end",(t=>{select(t.currentTarget).classed("dragging",!1)}))).on("keydown",((t,e)=>{if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){let i=this.k;switch(t.key){case"ArrowUp":case"ArrowLeft":i*=t.shiftKey?.95:.85;break;case"ArrowDown":case"ArrowRight":i*=t.shiftKey?1.05:1.15}i=i<this.scale.discount.min?this.scale.discount.min:i>this.scale.discount.max?this.scale.discount.max:this.scale.discount.round(i),i!==this.k&&(this.k=i,this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))),t.preventDefault()}})),m.filter(((t,e,i)=>this.interactive&&!t.trial&&!i[e].classList.contains("interactive"))).select(".bar").classed("interactive",!0).attr("tabindex",0).call(drag().subject(((t,e)=>({x:a(e.d),y:I(e.a)}))).on("start",(t=>{select(t.currentTarget).classed("dragging",!0)})).on("drag",((t,e)=>{this.drag=!0;const i=a.invert(t.x);e.d=i<this.scale.time.min?this.scale.time.min:i>this.scale.time.max?this.scale.time.max:this.scale.time.round(i),"default"===e.name&&(this.d=e.d),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))})).on("end",(t=>{select(t.currentTarget).classed("dragging",!1)}))).on("keydown",((t,e)=>{if(["ArrowLeft","ArrowRight"].includes(t.key)){let i=e.d;switch(t.key){case"ArrowRight":i+=t.shiftKey?1:5;break;case"ArrowLeft":i-=t.shiftKey?1:5}i=i<this.scale.time.min?this.scale.time.min:i>this.scale.time.max?this.scale.time.max:i,i!==e.d&&(e.d=i,"default"===e.name&&(this.d=e.d),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))),t.preventDefault()}})),m.filter(((t,e,i)=>this.interactive&&!t.trial&&!i[e].classList.contains("interactive"))).select(".point").classed("interactive",!0).attr("tabindex",0).call(drag().subject(((t,e)=>({x:a(e.d),y:I(e.a)}))).on("start",(t=>{select(t.currentTarget).classed("dragging",!0)})).on("drag",((t,e)=>{this.drag=!0;const i=I.invert(t.y);e.a=i<this.scale.value.min?this.scale.value.min:i>this.scale.value.max?this.scale.value.max:this.scale.value.round(i),"default"===e.name&&(this.a=e.a),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))})).on("end",(t=>{select(t.currentTarget).classed("dragging",!1)}))).on("keydown",((t,e)=>{if(["ArrowUp","ArrowDown"].includes(t.key)){let i=e.a;switch(t.key){case"ArrowUp":i+=t.shiftKey?1:5;break;case"ArrowDown":i-=t.shiftKey?1:5}i=i<this.scale.value.min?this.scale.value.min:i>this.scale.value.max?this.scale.value.max:i,i!==e.a&&(e.a=i,"default"===e.name&&(this.a=e.a),this.alignState(),this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-curves-change",{detail:{name:e.name,a:e.a,d:e.d,k:this.k,label:e.label},bubbles:!0}))),t.preventDefault()}})),m.filter(((t,e,i)=>!this.interactive&&i[e].classList.contains("interactive"))).select(".curve").classed("interactive",!1).attr("tabindex",null).on("drag",null).on("keydown",null),m.filter(((t,e,i)=>(!this.interactive||t.trial)&&i[e].classList.contains("interactive"))).select(".bar").classed("interactive",!1).attr("tabindex",null).on("drag",null).on("keydown",null),m.filter(((t,e,i)=>(!this.interactive||t.trial)&&i[e].classList.contains("interactive"))).select(".point").classed("interactive",!1).attr("tabindex",null).on("drag",null).on("keydown",null),m.filter((t=>t.new)).select(".curve").transition().duration(g).delay(g+g/10).ease(linear$1).attrTween("stroke-dasharray",((t,e,i)=>{const s=i[e].getTotalLength();return interpolate$1(`0,${s}`,`${s},0`)})).on("end",(t=>{t.new=!1,this.dispatchEvent(new CustomEvent("discountable-response",{detail:{trial:this.trialCount,as:this.as,ds:this.ds,al:this.al,dl:this.dl,response:this.response},bubbles:!0}))})),m.filter((t=>t.new)).select(".bar").transition().duration(g).ease(linear$1).attrTween("stroke-dasharray",((t,e,i)=>{const s=i[e].getTotalLength();return interpolate$1(`0,${s}`,`${s},${s}`)})),m.filter((t=>t.new)).select(".point").transition().duration(g/10).delay(g).ease(linear$1).attrTween("opacity",(()=>interpolate$1(0,1))),G.select(".curve").transition().duration(this.drag?0:this.firstUpdate?2*g:g).ease(cubicOut).attrTween("d",((t,e,i)=>{const s=i[e],B=interpolate$1(void 0!==s.a?s.a:t.a,t.a),n=interpolate$1(void 0!==s.d?s.d:t.d,t.d);return t=>{s.a=B(t),s.d=n(t);const e=range$1(a(s.d),a(0),-1).map((t=>({d:a.invert(t),v:HTDMath.adk2v(s.a,s.d-a.invert(t),this.k)})));return U(e)}})),G.select(".bar").transition().duration(this.drag?0:this.firstUpdate?2*g:g).ease(cubicOut).attrTween("x1",((t,e,i)=>{const s=i[e],B=interpolate$1(void 0!==s.d?s.d:t.d,t.d);return t=>(s.d=B(t),`${a(s.d)}`)})).attrTween("x2",((t,e,i)=>{const s=i[e],B=interpolate$1(void 0!==s.d?s.d:t.d,t.d);return t=>(s.d=B(t),`${a(s.d)}`)})).attrTween("y2",((t,e,i)=>{const s=i[e],B=interpolate$1(void 0!==s.a?s.a:t.a,t.a);return t=>(s.a=B(t),`${I(s.a)}`)})),G.select(".point").transition().duration(this.drag?0:this.firstUpdate?2*g:g).ease(cubicOut).attrTween("transform",((t,e,i)=>{const s=i[e],B=interpolate$1(void 0!==s.d?s.d:t.d,t.d),n=interpolate$1(void 0!==s.a?s.a:t.a,t.a);return t=>(s.d=B(t),s.a=n(t),`translate(${a(s.d)}, ${I(s.a)})`)})),m.select(".point .label").text((t=>t.label)),G.exit().remove(),this.drag=!1,this.firstUpdate=!1}}function defined(t){return null!=t&&!Number.isNaN(t)}function ascendingDefined(t,e){return+defined(e)-+defined(t)||ascending$1(t,e)}function descendingDefined(t,e){return+defined(e)-+defined(t)||descending(t,e)}function nonempty(t){return null!=t&&""!=`${t}`}function finite(t){return isFinite(t)?t:NaN}function positive(t){return t>0&&isFinite(t)?t:NaN}function negative(t){return t<0&&isFinite(t)?t:NaN}function format(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return e;const i=t.getUTCHours(),s=t.getUTCMinutes(),B=t.getUTCSeconds(),n=t.getUTCMilliseconds();return`${formatYear(t.getUTCFullYear())}-${pad(t.getUTCMonth()+1,2)}-${pad(t.getUTCDate(),2)}${i||s||B||n?`T${pad(i,2)}:${pad(s,2)}${B||n?`:${pad(B,2)}${n?`.${pad(n,3)}`:""}`:""}Z`:""}`}function formatYear(t){return t<0?`-${pad(-t,6)}`:t>9999?`+${pad(t,6)}`:pad(t,4)}function pad(t,e){return`${t}`.padStart(e,"0")}customElements.define("htd-curves",HTDCurves);const re=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function parse(t,e){return re.test(t+="")?new Date(t):e}function orderof(t){if(null==t)return;return descending(t[0],t[t.length-1])}const durationSecond=1e3,durationMinute=6e4,durationHour=36e5,durationDay=864e5,durationWeek=6048e5,durationMonth=2592e6,durationYear=31536e6,tickIntervals=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",1e3],["5 seconds",5e3],["15 seconds",15e3],["30 seconds",3e4],["minute",6e4],["5 minutes",3e5],["15 minutes",9e5],["30 minutes",18e5],["hour",36e5],["3 hours",108e5],["6 hours",216e5],["12 hours",432e5],["day",864e5],["2 days",1728e5],["week",6048e5],["2 weeks",12096e5],["month",2592e6],["3 months",7776e6],["6 months",15552e6],["year",31536e6],["2 years",63072e6],["5 years",15768e7],["10 years",31536e7],["20 years",63072e7],["50 years",15768e8],["100 years",31536e8]],durations=new Map([["second",1e3],["minute",6e4],["hour",36e5],["day",864e5],["monday",6048e5],["tuesday",6048e5],["wednesday",6048e5],["thursday",6048e5],["friday",6048e5],["saturday",6048e5],["sunday",6048e5],["week",6048e5],["month",2592e6],["year",31536e6]]),timeIntervals=new Map([["second",second$1],["minute",timeMinute],["hour",timeHour],["day",timeDay],["monday",timeMonday],["tuesday",timeTuesday],["wednesday",timeWednesday],["thursday",timeThursday],["friday",timeFriday],["saturday",timeSaturday],["sunday",timeSunday],["week",timeSunday],["month",timeMonth],["year",timeYear]]),utcIntervals=new Map([["second",second$1],["minute",utcMinute],["hour",utcHour],["day",unixDay],["monday",utcMonday],["tuesday",utcTuesday],["wednesday",utcWednesday],["thursday",utcThursday],["friday",utcFriday],["saturday",utcSaturday],["sunday",utcSunday],["week",utcSunday],["month",utcMonth],["year",utcYear]]),intervalDuration=Symbol("intervalDuration"),intervalType=Symbol("intervalType");for(const[t,e]of timeIntervals)e[intervalDuration]=durations.get(t),e[intervalType]="time";for(const[t,e]of utcIntervals)e[intervalDuration]=durations.get(t),e[intervalType]="utc";const utcFormatIntervals=[["year",utcYear,"utc"],["month",utcMonth,"utc"],["day",unixDay,"utc",15552e6],["hour",utcHour,"utc",2592e5],["minute",utcMinute,"utc",216e5],["second",second$1,"utc",18e5]],timeFormatIntervals=[["year",timeYear,"time"],["month",timeMonth,"time"],["day",timeDay,"time",15552e6],["hour",timeHour,"time",2592e5],["minute",timeMinute,"time",216e5],["second",second$1,"time",18e5]],formatIntervals=[utcFormatIntervals[0],timeFormatIntervals[0],utcFormatIntervals[1],timeFormatIntervals[1],utcFormatIntervals[2],timeFormatIntervals[2],...utcFormatIntervals.slice(3)];function parseTimeInterval(t){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let i=1;const s=/^(?:(\d+)\s+)/.exec(e);switch(s&&(e=e.slice(s[0].length),i=+s[1]),e){case"quarter":e="month",i*=3;break;case"half":e="month",i*=6}let B=utcIntervals.get(e);if(!B)throw new Error(`unknown interval: ${t}`);if(i>1&&!B.every)throw new Error(`non-periodic interval: ${e}`);return[e,i]}function timeInterval(t){return asInterval(parseTimeInterval(t),"time")}function utcInterval(t){return asInterval(parseTimeInterval(t),"utc")}function asInterval([t,e],i){let s=("time"===i?timeIntervals:utcIntervals).get(t);return e>1&&(s=s.every(e),s[intervalDuration]=durations.get(t)*e,s[intervalType]=i),s}function generalizeTimeInterval(t,e){if(!(e>1))return;const i=t[intervalDuration];if(!tickIntervals.some((([,t])=>t===i)))return;if(i%864e5==0&&864e5<i&&i<2592e6)return;const[s]=tickIntervals[bisector((([,t])=>Math.log(t))).center(tickIntervals,Math.log(i*e))];return("time"===t[intervalType]?timeInterval:utcInterval)(s)}function formatTimeInterval(t,e,i){const s="time"===e?timeFormat:utcFormat;if(null==i)return s("year"===t?"%Y":"month"===t?"%Y-%m":"day"===t?"%Y-%m-%d":"hour"===t||"minute"===t?"%Y-%m-%dT%H:%M":"second"===t?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const B=getTimeTemplate(i);switch(t){case"millisecond":return formatConditional(s(".%L"),s(":%M:%S"),B);case"second":return formatConditional(s(":%S"),s("%-I:%M"),B);case"minute":return formatConditional(s("%-I:%M"),s("%p"),B);case"hour":return formatConditional(s("%-I %p"),s("%b %-d"),B);case"day":return formatConditional(s("%-d"),s("%b"),B);case"month":return formatConditional(s("%b"),s("%Y"),B);case"year":return s("%Y")}throw new Error("unable to format time ticks")}function getTimeTemplate(t){return"left"===t||"right"===t?(t,e)=>`\n${t}\n${e}`:"top"===t?(t,e)=>`${e}\n${t}`:(t,e)=>`${t}\n${e}`}function getFormatIntervals(t){return"time"===t?timeFormatIntervals:"utc"===t?utcFormatIntervals:formatIntervals}function inferTimeFormat(t,e,i){const s=max(pairs(e,((t,e)=>Math.abs(e-t))));if(s<1e3)return formatTimeInterval("millisecond","utc",i);for(const[B,n,l,Q]of getFormatIntervals(t)){if(s>Q)break;if("hour"===B&&!s)break;if(e.every((t=>n.floor(t)>=t)))return formatTimeInterval(B,l,i)}}function formatConditional(t,e,i){return(s,B,n)=>{const l=t(s,B),Q=e(s,B),F=B-orderof(n);return B!==F&&void 0!==n[F]&&Q===e(n[F],F)?l:i(l,Q)}}const TypedArray=Object.getPrototypeOf(Uint8Array),objectToString=Object.prototype.toString;function isArray(t){return t instanceof Array||t instanceof TypedArray}function isNumberArray(t){return t instanceof TypedArray&&!isBigIntArray(t)}function isNumberType(t){return t?.prototype instanceof TypedArray&&!isBigIntType(t)}function isBigIntArray(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function isBigIntType(t){return t===BigInt64Array||t===BigUint64Array}const reindex=Symbol("reindex");function valueof(t,e,i){const s=typeof e;return"string"===s?isArrowTable(t)?maybeTypedArrowify(t.getChild(e),i):maybeTypedMap(t,field(e),i):"function"===s?maybeTypedMap(t,e,i):"number"===s||e instanceof Date||"boolean"===s?map(t,constant(e),i):"function"==typeof e?.transform?maybeTypedArrayify(e.transform(t),i):maybeTake(maybeTypedArrayify(e,i),t?.[reindex])}function maybeTake(t,e){return null!=t&&e?take(t,e):t}function maybeTypedMap(t,e,i){return map(t,isNumberType(i)?(t,i)=>coerceNumber(e(t,i)):e,i)}function maybeTypedArrayify(t,e){return void 0===e?arrayify(t):isArrowVector(t)?maybeTypedArrowify(t,e):t instanceof e?t:e.from(t,isNumberType(e)&&!isNumberArray(t)?coerceNumber:void 0)}function maybeTypedArrowify(t,e){return null==t?t:void 0!==e&&e!==Array||!isArrowDateType(t.type)?maybeTypedArrayify(t.toArray(),e):coerceDates(t.toArray())}const singleton=[null],field=t=>e=>{const i=e[t];return void 0===i&&"Feature"===e.type?e.properties?.[t]:i},indexOf={transform:range},identity$1={transform:t=>t},one=()=>1,yes=()=>!0,string=t=>null==t?t:`${t}`,number=t=>null==t?t:+t,first=t=>t?t[0]:void 0,second=t=>t?t[1]:void 0,constant=t=>()=>t;function percentile(t){const e=+`${t}`.slice(1)/100;return(t,i)=>quantile$1(t,e,i)}function coerceNumbers(t){return isNumberArray(t)?t:map(t,coerceNumber,Float64Array)}function coerceNumber(t){return null==t?NaN:Number(t)}function coerceDates(t){return map(t,coerceDate)}function coerceDate(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?parse(t):null==t||isNaN(t=Number(t))?void 0:new Date(t)}function maybeColorChannel(t,e){return void 0===t&&(t=e),null===t?[void 0,"none"]:isColor(t)?[void 0,t]:[t,void 0]}function maybeNumberChannel(t,e){return void 0===t&&(t=e),null===t||"number"==typeof t?[void 0,t]:[t,void 0]}function maybeKeyword(t,e,i){if(null!=t)return keyword(t,e,i)}function keyword(t,e,i){const s=`${t}`.toLowerCase();if(!i.includes(s))throw new Error(`invalid ${e}: ${t}`);return s}function dataify(t){return isArrowTable(t)?t:arrayify(t)}function arrayify(t){if(null==t||isArray(t))return t;if(isArrowVector(t))return maybeTypedArrowify(t);switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[t]}return Array.from(t)}function map(t,e,i=Array){return null==t?t:t instanceof i?t.map(e):i.from(t,e)}function slice(t,e=Array){return t instanceof e?t.slice():e.from(t)}function hasX({x:t,x1:e,x2:i}){return void 0!==t||void 0!==e||void 0!==i}function hasY({y:t,y1:e,y2:i}){return void 0!==t||void 0!==e||void 0!==i}function hasXY(t){return hasX(t)||hasY(t)||void 0!==t.interval}function isObject(t){return t?.toString===objectToString}function isScaleOptions(t){return isObject(t)&&(void 0!==t.type||void 0!==t.domain)}function isOptions(t){return isObject(t)&&"function"!=typeof t.transform}function isDomainSort(t){return isOptions(t)&&void 0===t.value&&void 0===t.channel}function maybeZero(t,e,i,s=identity$1){return void 0===e&&void 0===i?(e=0,i=void 0===t?s:t):void 0===e?e=void 0===t?0:t:void 0===i&&(i=void 0===t?0:t),[e,i]}function maybeTuple(t,e){return void 0===t&&void 0===e?[first,second]:[t,e]}function maybeZ({z:t,fill:e,stroke:i}={}){return void 0===t&&([t]=maybeColorChannel(e)),void 0===t&&([t]=maybeColorChannel(i)),t}function lengthof(t){return isArray(t)?t.length:t?.numRows}function range(t){const e=lengthof(t),i=new Uint32Array(e);for(let t=0;t<e;++t)i[t]=t;return i}function take(t,e){return isArray(t)?map(e,(e=>t[e]),t.constructor):map(e,(e=>t.at(e)))}function subarray(t,e,i){return t.subarray?t.subarray(e,i):t.slice(e,i)}function keyof(t){return null!==t&&"object"==typeof t?t.valueOf():t}function maybeInput(t,e){if(void 0!==e[t])return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y"}return e[t]}function column(t){let e;return[{transform:()=>e,label:labelof(t)},t=>e=t]}function maybeColumn(t){return null==t?[t]:column(t)}function labelof(t,e){return"string"==typeof t?t:t&&void 0!==t.label?t.label:e}function mid(t,e){return{transform(i){const s=t.transform(i),B=e.transform(i);return isTemporal(s)||isTemporal(B)?map(s,((t,e)=>new Date((+s[e]+ +B[e])/2))):map(s,((t,e)=>(+s[e]+ +B[e])/2),Float64Array)},label:t.label}}function maybeApplyInterval(t,e){const i=maybeIntervalTransform(e?.interval,e?.type);return i?map(t,i):t}function maybeIntervalTransform(t,e){const i=maybeInterval(t,e);return i&&(t=>defined(t)?i.floor(t):t)}function maybeInterval(t,e){if(null!=t){if("number"==typeof t)return numberInterval(t);if("string"==typeof t)return("time"===e?timeInterval:utcInterval)(t);if("function"!=typeof t.floor)throw new Error("invalid interval; missing floor method");if("function"!=typeof t.offset)throw new Error("invalid interval; missing offset method");return t}}function numberInterval(t){0<(t=+t)&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:t=>Math.floor(t*e)/e,offset:(t,i=1)=>(t*e+Math.floor(i))/e,range:(t,i)=>range$1(Math.ceil(t*e),i*e).map((t=>t/e))}:{floor:t=>Math.floor(t/e)*e,offset:(t,i=1)=>t+e*Math.floor(i),range:(t,i)=>range$1(Math.ceil(t/e),i/e).map((t=>t*e))}}function maybeRangeInterval(t,e){if((t=maybeInterval(t,e))&&"function"!=typeof t.range)throw new Error("invalid interval: missing range method");return t}function maybeNiceInterval(t,e){if((t=maybeRangeInterval(t,e))&&"function"!=typeof t.ceil)throw new Error("invalid interval: missing ceil method");return t}function isTimeInterval(t){return isInterval(t)&&"function"==typeof t?.floor&&t.floor()instanceof Date}function isInterval(t){return"function"==typeof t?.range}function maybeValue(t){return void 0===t||isOptions(t)?t:{value:t}}function numberChannel(t){return null==t?null:{transform:e=>valueof(e,t,Float64Array),label:labelof(t)}}function isIterable(t){return t&&"function"==typeof t[Symbol.iterator]}function isTextual(t){for(const e of t)if(null!=e)return"object"!=typeof e||e instanceof Date}function isOrdinal(t){for(const e of t){if(null==e)continue;const t=typeof e;return"string"===t||"boolean"===t}}function isTemporal(t){for(const e of t)if(null!=e)return e instanceof Date}function isTemporalString(t){for(const e of t)if(null!=e)return"string"==typeof e&&isNaN(e)&&parse(e)}function isNumericString(t){for(const e of t)if(null!=e){if("string"!=typeof e)return!1;if(e.trim())return!isNaN(e)}}function isNumeric(t){for(const e of t)if(null!=e)return"number"==typeof e}function isEvery(t,e){let i;for(const s of t)if(null!=s){if(!e(s))return!1;i=!0}return i}const namedColors=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function isColor(t){return"string"==typeof t&&(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||namedColors.has(t))}function isOpacity(t){return"number"==typeof t&&(0<=t&&t<=1||isNaN(t))}function isNoneish(t){return null==t||isNone(t)}function isNone(t){return/^\s*none\s*$/i.test(t)}function isRound(t){return/^\s*round\s*$/i.test(t)}function maybeAnchor$1(t,e){return maybeKeyword(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function maybeFrameAnchor(t="middle"){return maybeAnchor$1(t,"frameAnchor")}function inherit(t={},...e){let i=t;for(const s of e)for(const e in s)if(void 0===i[e]){const B=s[e];i===t?i={...i,[e]:B}:i[e]=B}return i}function named(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,(t=>{const{name:i}=t;if(null==i)throw new Error("missing name");const s=`${i}`;if("__proto__"===s)throw new Error(`illegal name: ${s}`);if(e.has(s))throw new Error(`duplicate name: ${s}`);return e.add(s),[i,t]})))}function maybeNamed(t){return isIterable(t)?named(t):t}function maybeClip(t){return!0===t?t="frame":!1===t?t=null:null!=t&&(t=keyword(t,"clip",["frame","sphere"])),t}function isArrowTable(t){return t&&"function"==typeof t.getChild&&"function"==typeof t.toArray&&t.schema&&Array.isArray(t.schema.fields)}function isArrowVector(t){return t&&"function"==typeof t.toArray&&t.type}function isArrowDateType(t){return t&&(8===t.typeId||10===t.typeId)&&1===t.unit}const position=Symbol("position"),color=Symbol("color"),radius=Symbol("radius"),length=Symbol("length"),opacity=Symbol("opacity"),symbol=Symbol("symbol"),projection=Symbol("projection"),registry=new Map([["x",position],["y",position],["fx",position],["fy",position],["r",radius],["color",color],["opacity",opacity],["symbol",symbol],["length",length],["projection",projection]]);function isPosition(t){return t===position||t===projection}function hasNumericRange(t){return t===position||t===radius||t===length||t===opacity}const sqrt3=Math.sqrt(3),sqrt4_3=2/sqrt3,symbolHexagon={draw(t,e){const i=Math.sqrt(e/Math.PI),s=i*sqrt4_3,B=s/2;t.moveTo(0,s),t.lineTo(i,B),t.lineTo(i,-B),t.lineTo(0,-s),t.lineTo(-i,-B),t.lineTo(-i,B),t.closePath()}},symbols=new Map([["asterisk",symbolAsterisk],["circle",symbolCircle],["cross",symbolCross],["diamond",symbolDiamond],["diamond2",symbolDiamond2],["hexagon",symbolHexagon],["plus",symbolPlus],["square",symbolSquare],["square2",symbolSquare2],["star",symbolStar],["times",symbolTimes],["triangle",symbolTriangle],["triangle2",symbolTriangle2],["wye",symbolWye]]);function isSymbolObject(t){return t&&"function"==typeof t.draw}function isSymbol(t){return!!isSymbolObject(t)||"string"==typeof t&&symbols.has(t.toLowerCase())}function maybeSymbol(t){if(null==t||isSymbolObject(t))return t;const e=symbols.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function basic({filter:t,sort:e,reverse:i,transform:s,initializer:B,...n}={},l){if(void 0===s&&(null!=t&&(s=filterTransform(t)),null==e||isDomainSort(e)||(s=composeTransform(s,sortTransform(e))),i&&(s=composeTransform(s,reverseTransform))),null!=l&&null!=B)throw new Error("transforms cannot be applied after initializers");return{...n,...(null===e||isDomainSort(e))&&{sort:e},transform:composeTransform(s,l)}}function initializer({filter:t,sort:e,reverse:i,initializer:s,...B}={},n){return void 0===s&&(null!=t&&(s=filterTransform(t)),null==e||isDomainSort(e)||(s=composeInitializer(s,sortTransform(e))),i&&(s=composeInitializer(s,reverseTransform))),{...B,...(null===e||isDomainSort(e))&&{sort:e},initializer:composeInitializer(s,n)}}function composeTransform(t,e){return null==t?null===e?void 0:e:null==e?null===t?void 0:t:function(i,s,B){return({data:i,facets:s}=t.call(this,i,s,B)),e.call(this,dataify(i),s,B)}}function composeInitializer(t,e){return null==t?null===e?void 0:e:null==e?null===t?void 0:t:function(i,s,B,...n){let l,Q,F,c,g,a;return({data:Q=i,facets:F=s,channels:l}=t.call(this,i,s,B,...n)),({data:g=Q,facets:a=F,channels:c}=e.call(this,Q,F,{...B,...l},...n)),{data:g,facets:a,channels:{...l,...c}}}}function filterTransform(t){return(e,i)=>{const s=valueof(e,t);return{data:e,facets:i.map((t=>t.filter((t=>s[t]))))}}}function reverseTransform(t,e){return{data:t,facets:e.map((t=>t.slice().reverse()))}}function sortTransform(t){return("function"==typeof t&&1!==t.length?sortData:sortValue)(t)}function sortData(t){return(e,i)=>{const s=isArray(e)?(i,s)=>t(e[i],e[s]):(i,s)=>t(e.get(i),e.get(s));return{data:e,facets:i.map((t=>t.slice().sort(s)))}}}function sortValue(t){let e,i;({channel:e,value:t,order:i}={...maybeValue(t)});const s=e?.startsWith("-");if(s&&(e=e.slice(1)),void 0===i&&(i=s?descendingDefined:ascendingDefined),"function"!=typeof i)switch(`${i}`.toLowerCase()){case"ascending":i=ascendingDefined;break;case"descending":i=descendingDefined;break;default:throw new Error(`invalid order: ${i}`)}return(s,B,n)=>{let l;if(void 0===e)l=valueof(s,t);else{if(void 0===n)throw new Error("channel sort requires an initializer");if(l=n[e],!l)return{};l=l.value}const Q=(t,e)=>i(l[t],l[e]);return{data:s,facets:B.map((t=>t.slice().sort(Q)))}}}function hasOutput(t,...e){for(const{name:i}of t)if(e.includes(i))return!0;return!1}function maybeOutputs(t,e,i=maybeOutput){const s=Object.entries(t);return null!=e.title&&void 0===t.title&&s.push(["title",reduceTitle]),null!=e.href&&void 0===t.href&&s.push(["href",reduceFirst]),s.filter((([,t])=>void 0!==t)).map((([t,s])=>null===s?nullOutput(t):i(t,s,e)))}function maybeOutput(t,e,i,s=maybeEvaluator){let B;isObject(e)&&"reduce"in e&&(B=e.scale,e=e.reduce);const n=s(t,e,i),[l,Q]=column(n.label);let F;return{name:t,output:void 0===B?l:{value:l,scale:B},initialize(t){n.initialize(t),F=Q([])},scope(t,e){n.scope(t,e)},reduce(t,e){F.push(n.reduce(t,e))}}}function nullOutput(t){return{name:t,initialize(){},scope(){},reduce(){}}}function maybeEvaluator(t,e,i,s=maybeReduce){const B=maybeInput(t,i),n=s(e,B);let l,Q;return{label:labelof(n===reduceCount?null:B,n.label),initialize(t){l=void 0===B?t:valueof(t,B),"data"===n.scope&&(Q=n.reduceIndex(range(t),l))},scope(t,e){n.scope===t&&(Q=n.reduceIndex(e,l))},reduce:(t,e)=>null==n.scope?n.reduceIndex(t,l,e):n.reduceIndex(t,l,Q,e)}}function maybeGroup(t,e){return e?group(t,(t=>e[t])):[[,t]]}function maybeReduce(t,e,i=invalidReduce){if(null==t)return i(t);if("function"==typeof t.reduceIndex)return t;if("function"==typeof t.reduce&&isObject(t))return reduceReduce(t);if("function"==typeof t)return reduceFunction(t);if(/^p\d{2}$/i.test(t))return reduceAccessor(percentile(t));switch(`${t}`.toLowerCase()){case"first":return reduceFirst;case"last":return reduceLast;case"identity":return reduceIdentity;case"count":return reduceCount;case"distinct":return reduceDistinct;case"sum":return null==e?reduceCount:reduceSum;case"proportion":return reduceProportion(e,"data");case"proportion-facet":return reduceProportion(e,"facet");case"deviation":return reduceAccessor(deviation);case"min":return reduceAccessor(min$1);case"min-index":return reduceAccessor(minIndex);case"max":return reduceAccessor(max);case"max-index":return reduceAccessor(maxIndex);case"mean":return reduceMaybeTemporalAccessor(mean);case"median":return reduceMaybeTemporalAccessor(median);case"variance":return reduceAccessor(variance);case"mode":return reduceAccessor(mode)}return i(t)}function invalidReduce(t){throw new Error(`invalid reduce: ${t}`)}function maybeSubgroup(t,e){for(const i in e){const s=e[i];if(void 0!==s&&!t.some((t=>t.name===i)))return s}}function maybeSort(t,e,i){if(e){const i=e.output.transform(),s=(t,e)=>ascendingDefined(i[t],i[e]);t.forEach((t=>t.sort(s)))}i&&t.forEach((t=>t.reverse()))}function reduceReduce(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function reduceFunction(t){return{reduceIndex:(e,i,s)=>t(take(i,e),s)}}function reduceAccessor(t){return{reduceIndex:(e,i)=>t(e,(t=>i[t]))}}function reduceMaybeTemporalAccessor(t){return{reduceIndex(e,i){const s=t(e,(t=>i[t]));return isTemporal(i)?new Date(s):s}}}const reduceIdentity={reduceIndex:(t,e)=>take(e,t)},reduceFirst={reduceIndex:(t,e)=>e[t[0]]},reduceTitle={reduceIndex(t,e){const i=sort(rollup(t,(t=>t.length),(t=>e[t])),second),s=i.slice(-5).reverse();if(s.length<i.length){const t=i.slice(0,-4);s[4]=[`â¦ ${t.length.toLocaleString("en-US")} more`,sum(t,second)]}return s.map((([t,e])=>`${t} (${e.toLocaleString("en-US")})`)).join("\n")}},reduceLast={reduceIndex:(t,e)=>e[t[t.length-1]]},reduceCount={label:"Frequency",reduceIndex:t=>t.length},reduceDistinct={label:"Distinct",reduceIndex(t,e){const i=new InternSet;for(const s of t)i.add(e[s]);return i.size}},reduceSum=reduceAccessor(sum);function reduceProportion(t,e){return null==t?{scope:e,label:"Frequency",reduceIndex:(t,e,i=1)=>t.length/i}:{scope:e,reduceIndex:(t,e,i=1)=>sum(t,(t=>e[t]))/i}}const reduceZ={reduceIndex:(t,e,{z:i})=>i};function createChannel(t,{scale:e,type:i,value:s,filter:B,hint:n,label:l=labelof(s)},Q){return void 0===n&&"function"==typeof s?.transform&&(n=s.hint),inferChannelScale(Q,{scale:e,type:i,value:valueof(t,s),label:l,filter:B,hint:n})}function createChannels(t,e){return Object.fromEntries(Object.entries(t).map((([t,i])=>[t,createChannel(e,i,t)])))}function valueObject(t,e){const i=Object.fromEntries(Object.entries(t).map((([t,{scale:i,value:s}])=>{const B=null==i?null:e[i];return[t,null==B?s:map(s,B)]})));return i.channels=t,i}function inferChannelScale(t,e){const{scale:i,value:s}=e;if(!0===i||"auto"===i)switch(t){case"fill":case"stroke":case"color":e.scale=!0!==i&&isEvery(s,isColor)?null:"color",e.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=!0!==i&&isEvery(s,isOpacity)?null:"opacity",e.defaultScale="opacity";break;case"symbol":!0!==i&&isEvery(s,isSymbol)?(e.scale=null,e.value=map(s,maybeSymbol)):e.scale="symbol",e.defaultScale="symbol";break;default:e.scale=registry.has(t)?t:null}else if(!1===i)e.scale=null;else if(null!=i&&!registry.has(i))throw new Error(`unknown scale: ${i}`);return e}function channelDomain(t,e,i,s,B){const{order:n,reverse:l,reduce:Q=!0,limit:F}=B;for(const c in B){if(!registry.has(c))continue;let{value:g,order:a=n,reverse:I=l,reduce:U=Q,limit:r=F}=maybeValue(B[c]);const o=g?.startsWith("-");if(o&&(g=g.slice(1)),a=void 0===a?o!==("width"===g||"height"===g)?descendingGroup:ascendingGroup:maybeOrder$1(a),null==U||!1===U)continue;const d="fx"===c||"fy"===c?reindexFacetChannel(e,s[c]):findScaleChannel(i,c);if(!d)throw new Error(`missing channel for scale: ${c}`);const b=d.value,[C=0,u=1/0]=isIterable(r)?r:r<0?[r]:[0,r];if(null==g)d.domain=()=>{let t=Array.from(new InternSet(b));return I&&(t=t.reverse()),0===C&&u===1/0||(t=t.slice(C,u)),t};else{const e="data"===g?t:"height"===g?difference(i,"y1","y2"):"width"===g?difference(i,"x1","x2"):values(i,g,"y"===g?"y2":"x"===g?"x2":void 0),s=maybeReduce(!0===U?"max":U,e);d.domain=()=>{let t=rollups(range(b),(t=>s.reduceIndex(t,e)),(t=>b[t]));return a&&t.sort(a),I&&t.reverse(),0===C&&u===1/0||(t=t.slice(C,u)),t.map(first)}}}}function findScaleChannel(t,e){for(const i in t){const s=t[i];if(s.scale===e)return s}}function reindexFacetChannel(t,e){const i=t.original;if(i===t)return e;const s=e.value,B=e.value=[];for(let e=0;e<i.length;++e){const n=s[i[e][0]];for(const i of t[e])B[i]=n}return e}function difference(t,e,i){const s=values(t,e);return map(values(t,i),((t,e)=>Math.abs(t-s[e])),Float64Array)}function values(t,e,i){let s=t[e];if(s||void 0===i||(s=t[i]),s)return s.value;throw new Error(`missing channel: ${e}`)}function maybeOrder$1(t){if(null==t||"function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"ascending":return ascendingGroup;case"descending":return descendingGroup}throw new Error(`invalid order: ${t}`)}function ascendingGroup([t,e],[i,s]){return ascendingDefined(e,s)||ascendingDefined(t,i)}function descendingGroup([t,e],[i,s]){return descendingDefined(e,s)||ascendingDefined(t,i)}function getSource(t,e){let i=t[e];if(i){for(;i.source;)i=i.source;return null===i.source?null:i}}const categoricalSchemes=new Map([["accent",schemeAccent],["category10",schemeCategory10],["dark2",schemeDark2],["observable10",schemeObservable10],["paired",schemePaired],["pastel1",schemePastel1],["pastel2",schemePastel2],["set1",schemeSet1],["set2",schemeSet2],["set3",schemeSet3],["tableau10",schemeTableau10]]);function isCategoricalScheme(t){return null!=t&&categoricalSchemes.has(`${t}`.toLowerCase())}const ordinalSchemes=new Map([...categoricalSchemes,["brbg",scheme11(scheme$q,interpolateBrBG)],["prgn",scheme11(scheme$p,interpolatePRGn)],["piyg",scheme11(scheme$o,interpolatePiYG)],["puor",scheme11(scheme$n,interpolatePuOr)],["rdbu",scheme11(scheme$m,interpolateRdBu)],["rdgy",scheme11(scheme$l,interpolateRdGy)],["rdylbu",scheme11(scheme$k,interpolateRdYlBu)],["rdylgn",scheme11(scheme$j,interpolateRdYlGn)],["spectral",scheme11(scheme$i,interpolateSpectral)],["burd",scheme11r(scheme$m,interpolateRdBu)],["buylrd",scheme11r(scheme$k,interpolateRdYlBu)],["blues",scheme9(scheme$5,interpolateBlues)],["greens",scheme9(scheme$4,interpolateGreens)],["greys",scheme9(scheme$3,interpolateGreys)],["oranges",scheme9(scheme,interpolateOranges)],["purples",scheme9(scheme$2,interpolatePurples)],["reds",scheme9(scheme$1,interpolateReds)],["turbo",schemei(interpolateTurbo)],["viridis",schemei(interpolateViridis)],["magma",schemei(magma)],["inferno",schemei(inferno)],["plasma",schemei(plasma)],["cividis",schemei(interpolateCividis)],["cubehelix",schemei(interpolateCubehelixDefault)],["warm",schemei(warm)],["cool",schemei(cool)],["bugn",scheme9(scheme$h,interpolateBuGn)],["bupu",scheme9(scheme$g,interpolateBuPu)],["gnbu",scheme9(scheme$f,interpolateGnBu)],["orrd",scheme9(scheme$e,interpolateOrRd)],["pubu",scheme9(scheme$c,interpolatePuBu)],["pubugn",scheme9(scheme$d,interpolatePuBuGn)],["purd",scheme9(scheme$b,interpolatePuRd)],["rdpu",scheme9(scheme$a,interpolateRdPu)],["ylgn",scheme9(scheme$8,interpolateYlGn)],["ylgnbu",scheme9(scheme$9,interpolateYlGnBu)],["ylorbr",scheme9(scheme$7,interpolateYlOrBr)],["ylorrd",scheme9(scheme$6,interpolateYlOrRd)],["rainbow",schemeicyclical(interpolateRainbow)],["sinebow",schemeicyclical(interpolateSinebow)]]);function scheme9(t,e){return({length:i})=>1===i?[t[3][1]]:2===i?[t[3][1],t[3][2]]:(i=Math.max(3,Math.floor(i)))>9?quantize(e,i):t[i]}function scheme11(t,e){return({length:i})=>2===i?[t[3][0],t[3][2]]:(i=Math.max(3,Math.floor(i)))>11?quantize(e,i):t[i]}function scheme11r(t,e){return({length:i})=>2===i?[t[3][2],t[3][0]]:(i=Math.max(3,Math.floor(i)))>11?quantize((t=>e(1-t)),i):t[i].slice().reverse()}function schemei(t){return({length:e})=>quantize(t,Math.max(2,Math.floor(e)))}function schemeicyclical(t){return({length:e})=>quantize(t,Math.floor(e)+1).slice(0,-1)}function ordinalScheme(t){const e=`${t}`.toLowerCase();if(!ordinalSchemes.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return ordinalSchemes.get(e)}function ordinalRange(t,e){const i=ordinalScheme(t),s="function"==typeof i?i({length:e}):i;return s.length!==e?s.slice(0,e):s}function maybeBooleanRange(t,e="greys"){const i=new Set,[s,B]=ordinalRange(e,2);for(const e of t)if(null!=e)if(!0===e)i.add(B);else{if(!1!==e)return;i.add(s)}return[...i]}const quantitativeSchemes=new Map([["brbg",interpolateBrBG],["prgn",interpolatePRGn],["piyg",interpolatePiYG],["puor",interpolatePuOr],["rdbu",interpolateRdBu],["rdgy",interpolateRdGy],["rdylbu",interpolateRdYlBu],["rdylgn",interpolateRdYlGn],["spectral",interpolateSpectral],["burd",t=>interpolateRdBu(1-t)],["buylrd",t=>interpolateRdYlBu(1-t)],["blues",interpolateBlues],["greens",interpolateGreens],["greys",interpolateGreys],["purples",interpolatePurples],["reds",interpolateReds],["oranges",interpolateOranges],["turbo",interpolateTurbo],["viridis",interpolateViridis],["magma",magma],["inferno",inferno],["plasma",plasma],["cividis",interpolateCividis],["cubehelix",interpolateCubehelixDefault],["warm",warm],["cool",cool],["bugn",interpolateBuGn],["bupu",interpolateBuPu],["gnbu",interpolateGnBu],["orrd",interpolateOrRd],["pubugn",interpolatePuBuGn],["pubu",interpolatePuBu],["purd",interpolatePuRd],["rdpu",interpolateRdPu],["ylgnbu",interpolateYlGnBu],["ylgn",interpolateYlGn],["ylorbr",interpolateYlOrBr],["ylorrd",interpolateYlOrRd],["rainbow",interpolateRainbow],["sinebow",interpolateSinebow]]);function quantitativeScheme(t){const e=`${t}`.toLowerCase();if(!quantitativeSchemes.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return quantitativeSchemes.get(e)}const divergingSchemes=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function isDivergingScheme(t){return null!=t&&divergingSchemes.has(`${t}`.toLowerCase())}const flip=t=>e=>t(1-e),unit=[0,1],interpolators=new Map([["number",interpolateNumber],["rgb",interpolateRgb],["hsl",interpolateHsl],["hcl",interpolateHcl],["lab",lab]]);function maybeInterpolator(t){const e=`${t}`.toLowerCase();if(!interpolators.has(e))throw new Error(`unknown interpolator: ${e}`);return interpolators.get(e)}function createScaleQ(t,e,i,{type:s,nice:B,clamp:n,zero:l,domain:Q=inferAutoDomain(t,i),unknown:F,round:c,scheme:g,interval:a,range:I=(registry.get(t)===radius?inferRadialRange(i,Q):registry.get(t)===length?inferLengthRange(i,Q):registry.get(t)===opacity?unit:void 0),interpolate:U=(registry.get(t)===color?null==g&&void 0!==I?interpolateRgb:quantitativeScheme(void 0!==g?g:"cyclical"===s?"rainbow":"turbo"):c?interpolateRound:interpolateNumber),reverse:r}){if(a=maybeRangeInterval(a,s),"cyclical"!==s&&"sequential"!==s||(s="linear"),"function"!=typeof U&&(U=maybeInterpolator(U)),r=!!r,void 0!==I){if((Q=arrayify(Q)).length!==(I=arrayify(I)).length){if(1===U.length)throw new Error("invalid piecewise interpolator");U=piecewise(U,I),I=void 0}}if(1===U.length?(r&&(U=flip(U),r=!1),void 0===I&&(I=Float64Array.from(Q,((t,e)=>e/(Q.length-1))),2===I.length&&(I=unit)),e.interpolate((I===unit?constant:interpolatePiecewise)(U))):e.interpolate(U),l){const[t,e]=extent$1(Q);if(t>0||e<0){(orderof(Q=slice(Q))||1)===Math.sign(t)?Q[0]=0:Q[Q.length-1]=0}}return r&&(Q=reverse(Q)),e.domain(Q).unknown(F),B&&(e.nice(maybeNice(B,s)),Q=e.domain()),void 0!==I&&e.range(I),n&&e.clamp(n),{type:s,domain:Q,range:I,scale:e,interpolate:U,interval:a}}function maybeNice(t,e){return!0===t?void 0:"number"==typeof t?t:maybeNiceInterval(t,e)}function createScaleLinear(t,e,i){return createScaleQ(t,linear(),e,i)}function createScaleSqrt(t,e,i){return createScalePow(t,e,{...i,exponent:.5})}function createScalePow(t,e,{exponent:i=1,...s}){return createScaleQ(t,pow().exponent(i),e,{...s,type:"pow"})}function createScaleLog(t,e,{base:i=10,domain:s=inferLogDomain(e),...B}){return createScaleQ(t,log().base(i),e,{...B,domain:s})}function createScaleSymlog(t,e,{constant:i=1,...s}){return createScaleQ(t,symlog().constant(i),e,s)}function createScaleQuantile(t,e,{range:i,quantiles:s=(void 0===i?5:(i=[...i]).length),n:B=s,scheme:n="rdylbu",domain:l=inferQuantileDomain(e),unknown:Q,interpolate:F,reverse:c}){return void 0===i&&(i=void 0!==F?quantize(F,B):registry.get(t)===color?ordinalRange(n,B):void 0),l.length>0&&(l=quantile(l,void 0===i?{length:B}:i).quantiles()),createScaleThreshold(t,e,{domain:l,range:i,reverse:c,unknown:Q})}function createScaleQuantize(t,e,{range:i,n:s=(void 0===i?5:(i=[...i]).length),scheme:B="rdylbu",domain:n=inferAutoDomain(t,e),unknown:l,interpolate:Q,reverse:F}){const[c,g]=extent$1(n);let a;return void 0===i?(a=ticks(c,g,s),a[0]<=c&&a.splice(0,1),a[a.length-1]>=g&&a.pop(),s=a.length+1,i=void 0!==Q?quantize(Q,s):registry.get(t)===color?ordinalRange(B,s):void 0):(a=quantize(interpolateNumber(c,g),s+1).slice(1,-1),c instanceof Date&&(a=a.map((t=>new Date(t))))),orderof(arrayify(n))<0&&a.reverse(),createScaleThreshold(t,e,{domain:a,range:i,reverse:F,unknown:l})}function createScaleThreshold(t,e,{domain:i=[0],unknown:s,scheme:B="rdylbu",interpolate:n,range:l=(void 0!==n?quantize(n,i.length+1):registry.get(t)===color?ordinalRange(B,i.length+1):void 0),reverse:Q}){const F=orderof(i=arrayify(i));if(!isNaN(F)&&!isOrdered(i,F))throw new Error(`the ${t} scale has a non-monotonic domain`);return Q&&(l=reverse(l)),{type:"threshold",scale:threshold(F<0?reverse(i):i,void 0===l?[]:l).unknown(s),domain:i,range:l}}function isOrdered(t,e){for(let i=1,s=t.length,B=t[0];i<s;++i){const s=descending(B,B=t[i]);if(0!==s&&s!==e)return!1}return!0}function createScaleIdentity(t){return{type:"identity",scale:hasNumericRange(registry.get(t))?identity$2():t=>t}}function inferDomain$1(t,e=finite){return t.length?[min$1(t,(({value:t})=>void 0===t?t:min$1(t,e))),max(t,(({value:t})=>void 0===t?t:max(t,e)))]:[0,1]}function inferAutoDomain(t,e){const i=registry.get(t);return(i===radius||i===opacity||i===length?inferZeroDomain:inferDomain$1)(e)}function inferZeroDomain(t){return[0,t.length?max(t,(({value:t})=>void 0===t?t:max(t,finite))):1]}function inferRadialRange(t,e){const i=t.find((({radius:t})=>void 0!==t));if(void 0!==i)return[0,i.radius];const s=quantile$1(t,.5,(({value:t})=>void 0===t?NaN:quantile$1(t,.25,positive))),B=e.map((t=>3*Math.sqrt(t/s))),n=30/max(B);return n<1?B.map((t=>t*n)):B}function inferLengthRange(t,e){const i=median(t,(({value:t})=>void 0===t?NaN:median(t,Math.abs))),s=e.map((t=>12*t/i)),B=60/max(s);return B<1?s.map((t=>t*B)):s}function inferLogDomain(t){for(const{value:e}of t)if(void 0!==e)for(let i of e){if(i>0)return inferDomain$1(t,positive);if(i<0)return inferDomain$1(t,negative)}return[1,10]}function inferQuantileDomain(t){const e=[];for(const{value:i}of t)if(void 0!==i)for(const t of i)e.push(t);return e}function interpolatePiecewise(t){return(e,i)=>s=>t(e+s*(i-e))}let lastMessage,warnings=0;function consumeWarnings(){const t=warnings;return warnings=0,lastMessage=void 0,t}function warn(t){t!==lastMessage&&(lastMessage=t,console.warn(t),++warnings)}function createScaleD(t,e,i,s,{type:B,nice:n,clamp:l,domain:Q=inferDomain$1(s),unknown:F,pivot:c=0,scheme:g,range:a,symmetric:I=!0,interpolate:U=(registry.get(t)===color?null==g&&void 0!==a?interpolateRgb:quantitativeScheme(void 0!==g?g:"rdbu"):interpolateNumber),reverse:r}){c=+c,Q=arrayify(Q);let[o,d]=Q;if(Q.length>2&&warn(`Warning: the diverging ${t} scale domain contains extra elements.`),descending(o,d)<0&&([o,d]=[d,o],r=!r),o=Math.min(o,c),d=Math.max(d,c),"function"!=typeof U&&(U=maybeInterpolator(U)),void 0!==a&&(U=1===U.length?interpolatePiecewise(U)(...a):piecewise(U,a)),r&&(U=flip(U)),I){const t=i.apply(c),e=t-i.apply(o),s=i.apply(d)-t;e<s?o=i.invert(t-s):e>s&&(d=i.invert(t+e))}return e.domain([o,c,d]).unknown(F).interpolator(U),l&&e.clamp(l),n&&e.nice(n),{type:B,domain:[o,d],pivot:c,interpolate:U,scale:e}}function createScaleDiverging(t,e,i){return createScaleD(t,diverging(),transformIdentity,e,i)}function createScaleDivergingSqrt(t,e,i){return createScaleDivergingPow(t,e,{...i,exponent:.5})}function createScaleDivergingPow(t,e,{exponent:i=1,...s}){return createScaleD(t,divergingPow().exponent(i=+i),transformPow(i),e,{...s,type:"diverging-pow"})}function createScaleDivergingLog(t,e,{base:i=10,pivot:s=1,domain:B=inferDomain$1(e,s<0?negative:positive),...n}){return createScaleD(t,divergingLog().base(i=+i),transformLog,e,{domain:B,pivot:s,...n})}function createScaleDivergingSymlog(t,e,{constant:i=1,...s}){return createScaleD(t,divergingSymlog().constant(i=+i),transformSymlog(i),e,s)}const transformIdentity={apply:t=>t,invert:t=>t},transformLog={apply:Math.log,invert:Math.exp},transformSqrt={apply:t=>Math.sign(t)*Math.sqrt(Math.abs(t)),invert:t=>Math.sign(t)*(t*t)};function transformPow(t){return.5===t?transformSqrt:{apply:e=>Math.sign(e)*Math.pow(Math.abs(e),t),invert:e=>Math.sign(e)*Math.pow(Math.abs(e),1/t)}}function transformSymlog(t){return{apply:e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),invert:e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}}function createScaleT(t,e,i,s){return createScaleQ(t,e,i,s)}function createScaleTime(t,e,i){return createScaleT(t,time(),e,i)}function createScaleUtc(t,e,i){return createScaleT(t,utcTime(),e,i)}const ordinalImplicit=Symbol("ordinal");function createScaleO(t,e,i,{type:s,interval:B,domain:n,range:l,reverse:Q,hint:F}){return B=maybeRangeInterval(B,s),void 0===n&&(n=inferDomain(i,B,t)),"categorical"!==s&&s!==ordinalImplicit||(s="ordinal"),Q&&(n=reverse(n)),n=e.domain(n).domain(),void 0!==l&&("function"==typeof l&&(l=l(n)),e.range(l)),{type:s,domain:n,range:l,scale:e,hint:F,interval:B}}function createScaleOrdinal(t,e,{type:i,interval:s,domain:B,range:n,scheme:l,unknown:Q,...F}){let c;if(s=maybeRangeInterval(s,i),void 0===B&&(B=inferDomain(e,s,t)),registry.get(t)===symbol)c=inferSymbolHint(e),n=void 0===n?inferSymbolRange(c):map(n,maybeSymbol);else if(registry.get(t)===color&&(void 0!==n||"ordinal"!==i&&i!==ordinalImplicit||void 0!==(n=maybeBooleanRange(B,l))&&(l=void 0),void 0===l&&void 0===n&&(l="ordinal"===i?"turbo":"observable10"),void 0!==l))if(void 0!==n){const t=quantitativeScheme(l),e=n[0],i=n[1]-n[0];n=({length:s})=>quantize((s=>t(e+i*s)),s)}else n=ordinalScheme(l);if(Q===implicit)throw new Error(`implicit unknown on ${t} scale is not supported`);return createScaleO(t,ordinal().unknown(Q),e,{...F,type:i,domain:B,range:n,hint:c})}function createScalePoint(t,e,{align:i=.5,padding:s=.5,...B}){return maybeRound(point$4().align(i).padding(s),e,B,t)}function createScaleBand(t,e,{align:i=.5,padding:s=.1,paddingInner:B=s,paddingOuter:n=("fx"===t||"fy"===t?0:s),...l}){return maybeRound(band().align(i).paddingInner(B).paddingOuter(n),e,l,t)}function maybeRound(t,e,i,s){let{round:B}=i;return void 0!==B&&t.round(B=!!B),(t=createScaleO(s,t,e,i)).round=B,t}function inferDomain(t,e,i){const s=new InternSet;for(const{value:e,domain:i}of t){if(void 0!==i)return i();if(void 0!==e)for(const t of e)s.add(t)}if(void 0!==e){const[t,i]=extent$1(s).map(e.floor,e);return e.range(t,e.offset(i))}if(s.size>1e4&&registry.get(i)===position)throw new Error(`implicit ordinal domain of ${i} scale has more than 10,000 values`);return sort(s,ascendingDefined)}function inferHint(t,e){let i;for(const{hint:s}of t){const t=s?.[e];if(void 0!==t)if(void 0===i)i=t;else if(i!==t)return}return i}function inferSymbolHint(t){return{fill:inferHint(t,"fill"),stroke:inferHint(t,"stroke")}}function inferSymbolRange(t){return isNoneish(t.fill)?symbolsStroke:symbolsFill}function createScales(t,{label:e,inset:i=0,insetTop:s=i,insetRight:B=i,insetBottom:n=i,insetLeft:l=i,round:Q,nice:F,clamp:c,zero:g,align:a,padding:I,projection:U,facet:{label:r=e}={},...o}={}){const d={};for(const[i,b]of t){const t=o[i],C=createScale(i,b,{round:registry.get(i)===position?Q:void 0,nice:F,clamp:c,zero:g,align:a,padding:I,projection:U,...t});if(C){let{label:Q=("fx"===i||"fy"===i?r:e),percent:F,transform:c,inset:g,insetTop:a=(void 0!==g?g:"y"===i?s:0),insetRight:I=(void 0!==g?g:"x"===i?B:0),insetBottom:U=(void 0!==g?g:"y"===i?n:0),insetLeft:o=(void 0!==g?g:"x"===i?l:0)}=t||{};if(null==c)c=void 0;else if("function"!=typeof c)throw new Error("invalid scale transform; not a function");C.percent=!!F,C.label=void 0===Q?inferScaleLabel(b,C):Q,C.transform=c,"x"===i||"fx"===i?(C.insetLeft=+o,C.insetRight=+I):"y"!==i&&"fy"!==i||(C.insetTop=+a,C.insetBottom=+U),d[i]=C}}return d}function createScaleFunctions(t){const e={},i={scales:e};for(const[s,B]of Object.entries(t)){const{scale:t,type:n,interval:l,label:Q}=B;e[s]=exposeScale(B),i[s]=t,t.type=n,null!=l&&(t.interval=l),null!=Q&&(t.label=Q)}return i}function autoScaleRange(t,e){const{x:i,y:s,fx:B,fy:n}=t,l=B||n?outerDimensions(e):e;B&&autoScaleRangeX(B,l),n&&autoScaleRangeY(n,l);const Q=B||n?innerDimensions(t,e):e;i&&autoScaleRangeX(i,Q),s&&autoScaleRangeY(s,Q)}function inferScaleLabel(t=[],e){let i;for(const{label:e}of t)if(void 0!==e)if(void 0===i)i=e;else if(i!==e)return;if(void 0!==i)return!isOrdinalScale(e)&&e.percent&&(i=`${i} (%)`),{inferred:!0,toString:()=>i}}function inferScaleOrder(t){return Math.sign(orderof(t.domain()))*Math.sign(orderof(t.range()))}function outerDimensions(t){const{marginTop:e,marginRight:i,marginBottom:s,marginLeft:B,width:n,height:l,facet:{marginTop:Q,marginRight:F,marginBottom:c,marginLeft:g}}=t;return{marginTop:Math.max(e,Q),marginRight:Math.max(i,F),marginBottom:Math.max(s,c),marginLeft:Math.max(B,g),width:n,height:l}}function innerDimensions({fx:t,fy:e},i){const{marginTop:s,marginRight:B,marginBottom:n,marginLeft:l,width:Q,height:F}=outerDimensions(i);return{marginTop:s,marginRight:B,marginBottom:n,marginLeft:l,width:t?t.scale.bandwidth()+l+B:Q,height:e?e.scale.bandwidth()+s+n:F,facet:{width:Q,height:F}}}function autoScaleRangeX(t,e){if(void 0===t.range){const{insetLeft:i,insetRight:s}=t,{width:B,marginLeft:n=0,marginRight:l=0}=e,Q=n+i,F=B-l-s;t.range=[Q,Math.max(Q,F)],isOrdinalScale(t)||(t.range=piecewiseRange(t)),t.scale.range(t.range)}autoScaleRound(t)}function autoScaleRangeY(t,e){if(void 0===t.range){const{insetTop:i,insetBottom:s}=t,{height:B,marginTop:n=0,marginBottom:l=0}=e,Q=n+i,F=B-l-s;t.range=[Math.max(Q,F),Q],isOrdinalScale(t)?t.range.reverse():t.range=piecewiseRange(t),t.scale.range(t.range)}autoScaleRound(t)}function autoScaleRound(t){void 0===t.round&&isBandScale(t)&&roundError(t)<=30&&t.scale.round(!0)}function roundError({scale:t}){const e=t.domain().length,[i,s]=t.range(),B=t.paddingInner?t.paddingInner():1,n=t.paddingOuter?t.paddingOuter():t.padding(),l=e-B,Q=Math.abs(s-i)/Math.max(1,l+2*n);return(Q-Math.floor(Q))*l}function piecewiseRange(t){const e=t.scale.domain().length+isThresholdScale(t);if(!(e>2))return t.range;const[i,s]=t.range;return Array.from({length:e},((t,B)=>i+B/(e-1)*(s-i)))}function createScale(t,e=[],i={}){const s=inferScaleType(t,e,i);if(void 0===i.type&&void 0===i.domain&&void 0===i.range&&null==i.interval&&"fx"!==t&&"fy"!==t&&isOrdinalScale({type:s})){const i=e.map((({value:t})=>t)).filter((t=>void 0!==t));i.some(isTemporal)?warn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${formatScaleType(s)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${formatScaleType(s)}".`):i.some(isTemporalString)?warn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${formatScaleType(s)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${formatScaleType(s)}".`):i.some(isNumericString)&&warn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${formatScaleType(s)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${formatScaleType(s)}".`)}switch(i.type=s,s){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":i=coerceType(e,i,coerceNumbers);break;case"identity":switch(registry.get(t)){case position:i=coerceType(e,i,coerceNumbers);break;case symbol:i=coerceType(e,i,coerceSymbols)}break;case"utc":case"time":i=coerceType(e,i,coerceDates)}switch(s){case"diverging":return createScaleDiverging(t,e,i);case"diverging-sqrt":return createScaleDivergingSqrt(t,e,i);case"diverging-pow":return createScaleDivergingPow(t,e,i);case"diverging-log":return createScaleDivergingLog(t,e,i);case"diverging-symlog":return createScaleDivergingSymlog(t,e,i);case"categorical":case"ordinal":case ordinalImplicit:return createScaleOrdinal(t,e,i);case"cyclical":case"sequential":case"linear":return createScaleLinear(t,e,i);case"sqrt":return createScaleSqrt(t,e,i);case"threshold":return createScaleThreshold(t,e,i);case"quantile":return createScaleQuantile(t,e,i);case"quantize":return createScaleQuantize(t,e,i);case"pow":return createScalePow(t,e,i);case"log":return createScaleLog(t,e,i);case"symlog":return createScaleSymlog(t,e,i);case"utc":return createScaleUtc(t,e,i);case"time":return createScaleTime(t,e,i);case"point":return createScalePoint(t,e,i);case"band":return createScaleBand(t,e,i);case"identity":return createScaleIdentity(t);case void 0:return;default:throw new Error(`unknown scale type: ${s}`)}}function formatScaleType(t){return"symbol"==typeof t?t.description:t}function maybeScaleType(t){return"string"==typeof t?`${t}`.toLowerCase():t}const typeProjection={toString:()=>"projection"};function inferScaleType(t,e,{type:i,domain:s,range:B,scheme:n,pivot:l,projection:Q}){if(i=maybeScaleType(i),"fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==Q||(i=typeProjection);for(const t of e){const e=maybeScaleType(t.type);if(void 0!==e)if(void 0===i)i=e;else if(i!==e)throw new Error(`scale incompatible with channel: ${i} !== ${e}`)}if(i===typeProjection)return;if(void 0!==i)return i;if(void 0===s&&!e.some((({value:t})=>void 0!==t)))return;const F=registry.get(t);if(F===radius)return"sqrt";if(F===opacity||F===length)return"linear";if(F===symbol)return"ordinal";if((s||B||[]).length>2)return asOrdinalType(F);if(void 0!==s){if(isOrdinal(s))return asOrdinalType(F);if(isTemporal(s))return"utc"}else{const t=e.map((({value:t})=>t)).filter((t=>void 0!==t));if(t.some(isOrdinal))return asOrdinalType(F);if(t.some(isTemporal))return"utc"}if(F===color){if(null!=l||isDivergingScheme(n))return"diverging";if(isCategoricalScheme(n))return"categorical"}return"linear"}function asOrdinalType(t){switch(t){case position:return"point";case color:return ordinalImplicit;default:return"ordinal"}}function isOrdinalScale({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===ordinalImplicit}function isThresholdScale({type:t}){return"threshold"===t}function isBandScale({type:t}){return"point"===t||"band"===t}function isCollapsed(t){if(void 0===t)return!0;const e=t.domain(),i=t(e[0]);for(let s=1,B=e.length;s<B;++s)if(t(e[s])-i)return!1;return!0}function coerceType(t,{domain:e,...i},s){for(const i of t)void 0!==i.value&&(void 0===e&&(e=i.value?.domain),i.value=s(i.value));return{domain:void 0===e?e:s(e),...i}}function coerceSymbols(t){return map(t,maybeSymbol)}function exposeScales(t){return e=>{if(!registry.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function exposeScale({scale:t,type:e,domain:i,range:s,interpolate:B,interval:n,transform:l,percent:Q,pivot:F}){if("identity"===e)return{type:"identity",apply:t=>t,invert:t=>t};const c=t.unknown?t.unknown():void 0;return{type:e,domain:slice(i),...void 0!==s&&{range:slice(s)},...void 0!==l&&{transform:l},...Q&&{percent:Q},...void 0!==c&&{unknown:c},...void 0!==n&&{interval:n},...void 0!==B&&{interpolate:B},...t.clamp&&{clamp:t.clamp()},...void 0!==F&&{pivot:F,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:e=>t(e),...t.invert&&{invert:e=>t.invert(e)}}}function createFacets(t,e){const{fx:i,fy:s}=createScales(t,e),B=i?.scale.domain(),n=s?.scale.domain();return B&&n?cross(B,n).map((([t,e],i)=>({x:t,y:e,i:i}))):B?B.map(((t,e)=>({x:t,i:e}))):n?n.map(((t,e)=>({y:t,i:e}))):void 0}function recreateFacets(t,{x:e,y:i}){return e&&=facetIndex(e),i&&=facetIndex(i),t.filter(e&&i?t=>e.has(t.x)&&i.has(t.y):e?t=>e.has(t.x):t=>i.has(t.y)).sort(e&&i?(t,s)=>e.get(t.x)-e.get(s.x)||i.get(t.y)-i.get(s.y):e?(t,i)=>e.get(t.x)-e.get(i.x):(t,e)=>i.get(t.y)-i.get(e.y))}function facetGroups(t,{fx:e,fy:i}){const s=range(t),B=e?.value,n=i?.value;return e&&i?rollup(s,(t=>(t.fx=B[t[0]],t.fy=n[t[0]],t)),(t=>B[t]),(t=>n[t])):e?rollup(s,(t=>(t.fx=B[t[0]],t)),(t=>B[t])):rollup(s,(t=>(t.fy=n[t[0]],t)),(t=>n[t]))}function facetTranslator(t,e,{marginTop:i,marginLeft:s}){return t&&e?({x:B,y:n})=>`translate(${t(B)-s},${e(n)-i})`:t?({x:e})=>`translate(${t(e)-s},0)`:({y:t})=>`translate(0,${e(t)-i})`}function facetExclude(t){const e=[],i=new Uint32Array(sum(t,(t=>t.length)));for(const s of t){let B=0;for(const e of t)s!==e&&(i.set(e,B),B+=e.length);e.push(i.slice(0,B))}return e}const facetAnchors=new Map([["top",facetAnchorTop],["right",facetAnchorRight],["bottom",facetAnchorBottom],["left",facetAnchorLeft],["top-left",and(facetAnchorTop,facetAnchorLeft)],["top-right",and(facetAnchorTop,facetAnchorRight)],["bottom-left",and(facetAnchorBottom,facetAnchorLeft)],["bottom-right",and(facetAnchorBottom,facetAnchorRight)],["top-empty",facetAnchorTopEmpty],["right-empty",facetAnchorRightEmpty],["bottom-empty",facetAnchorBottomEmpty],["left-empty",facetAnchorLeftEmpty],["empty",facetAnchorEmpty]]);function maybeFacetAnchor(t){if(null==t)return null;const e=facetAnchors.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const indexCache=new WeakMap;function facetIndex(t){let e=indexCache.get(t);return e||indexCache.set(t,e=new InternMap(map(t,((t,e)=>[t,e])))),e}function facetIndexOf(t,e){return facetIndex(t).get(e)}function facetFind(t,e,i){return e=keyof(e),i=keyof(i),t.find((t=>Object.is(keyof(t.x),e)&&Object.is(keyof(t.y),i)))}function facetEmpty(t,e,i){return facetFind(t,e,i)?.empty}function facetAnchorTop(t,{y:e},{y:i}){return!e||0===facetIndexOf(e,i)}function facetAnchorBottom(t,{y:e},{y:i}){return!e||facetIndexOf(e,i)===e.length-1}function facetAnchorLeft(t,{x:e},{x:i}){return!e||0===facetIndexOf(e,i)}function facetAnchorRight(t,{x:e},{x:i}){return!e||facetIndexOf(e,i)===e.length-1}function facetAnchorTopEmpty(t,{y:e},{x:i,y:s,empty:B}){if(B)return!1;if(!e)return;const n=facetIndexOf(e,s);return n>0?facetEmpty(t,i,e[n-1]):void 0}function facetAnchorBottomEmpty(t,{y:e},{x:i,y:s,empty:B}){if(B)return!1;if(!e)return;const n=facetIndexOf(e,s);return n<e.length-1?facetEmpty(t,i,e[n+1]):void 0}function facetAnchorLeftEmpty(t,{x:e},{x:i,y:s,empty:B}){if(B)return!1;if(!e)return;const n=facetIndexOf(e,i);return n>0?facetEmpty(t,e[n-1],s):void 0}function facetAnchorRightEmpty(t,{x:e},{x:i,y:s,empty:B}){if(B)return!1;if(!e)return;const n=facetIndexOf(e,i);return n<e.length-1?facetEmpty(t,e[n+1],s):void 0}function facetAnchorEmpty(t,e,{empty:i}){return i}function and(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function facetFilter(t,{channels:{fx:e,fy:i},groups:s}){return e&&i?t.map((({x:t,y:e})=>s.get(t)?.get(e)??[])):e?t.map((({x:t})=>s.get(t)??[])):t.map((({y:t})=>s.get(t)??[]))}const pi=Math.PI,tau=2*pi,defaultAspectRatio=.618;function createProjection({projection:t,inset:e=0,insetTop:i=e,insetRight:s=e,insetBottom:B=e,insetLeft:n=e}={},l){if(null==t)return;if("function"==typeof t.stream)return t;let Q,F,c="frame";if(isObject(t)){let e;if(({type:t,domain:F,inset:e,insetTop:i=(void 0!==e?e:i),insetRight:s=(void 0!==e?e:s),insetBottom:B=(void 0!==e?e:B),insetLeft:n=(void 0!==e?e:n),clip:c=c,...Q}=t),null==t)return}"function"!=typeof t&&({type:t}=namedProjection(t));const{width:g,height:a,marginLeft:I,marginRight:U,marginTop:r,marginBottom:o}=l,d=g-I-U-n-s,b=a-r-o-i-B;if(t=t?.({width:d,height:b,clip:c,...Q}),null==t)return;c=maybePostClip(c,I,r,g-U,a-o);let C,u=I+n,y=r+i;if(null!=F){const[[e,i],[s,B]]=geoPath(t).bounds(F),n=Math.min(d/(s-e),b/(B-i));n>0?(u-=(n*(e+s)-d)/2,y-=(n*(i+B)-b)/2,C=geoTransform({point(t,e){this.stream.point(t*n+u,e*n+y)}})):warn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return C??=0===u&&0===y?identity():geoTransform({point(t,e){this.stream.point(t+u,e+y)}}),{stream:e=>t.stream(C.stream(c(e)))}}function namedProjection(t){switch(`${t}`.toLowerCase()){case"albers-usa":return scaleProjection(geoAlbersUsa,.7463,.4673);case"albers":return conicProjection(geoAlbers,.7463,.4673);case"azimuthal-equal-area":return scaleProjection(geoAzimuthalEqualArea,4,4);case"azimuthal-equidistant":return scaleProjection(geoAzimuthalEquidistant,tau,tau);case"conic-conformal":return conicProjection(geoConicConformal,tau,tau);case"conic-equal-area":return conicProjection(geoConicEqualArea,6.1702,2.9781);case"conic-equidistant":return conicProjection(geoConicEquidistant,7.312,3.6282);case"equal-earth":return scaleProjection(geoEqualEarth,5.4133,2.6347);case"equirectangular":return scaleProjection(geoEquirectangular,tau,pi);case"gnomonic":return scaleProjection(geoGnomonic,3.4641,3.4641);case"identity":return{type:identity};case"reflect-y":return{type:reflectY};case"mercator":return scaleProjection(geoMercator,tau,tau);case"orthographic":return scaleProjection(geoOrthographic,2,2);case"stereographic":return scaleProjection(geoStereographic,2,2);case"transverse-mercator":return scaleProjection(geoTransverseMercator,tau,tau);default:throw new Error(`unknown projection type: ${t}`)}}function maybePostClip(t,e,i,s,B){if(!1===t||null==t||"number"==typeof t)return t=>t;if(!0===t&&(t="frame"),"frame"===`${t}`.toLowerCase())return clipRectangle(e,i,s,B);throw new Error(`unknown projection clip type: ${t}`)}function scaleProjection(t,e,i){return{type:({width:s,height:B,rotate:n,precision:l=.15,clip:Q})=>{const F=t();return null!=l&&F.precision?.(l),null!=n&&F.rotate?.(n),"number"==typeof Q&&F.clipAngle?.(Q),null!=s&&(F.scale(Math.min(s/e,B/i)),F.translate([s/2,B/2])),F},aspectRatio:i/e}}function conicProjection(t,e,i){const{type:s,aspectRatio:B}=scaleProjection(t,e,i);return{type:t=>{const{parallels:e,domain:i,width:B,height:n}=t,l=s(t);return null!=e&&(l.parallels(e),void 0===i&&null!=B&&l.fitSize([B,n],{type:"Sphere"})),l},aspectRatio:B}}const identity=constant({stream:t=>t}),reflectY=constant(geoTransform({point(t,e){this.stream.point(t,-e)}}));function project(t,e,i,s){const B=i[t],n=i[e],l=B.length,Q=i[t]=new Float64Array(l).fill(NaN),F=i[e]=new Float64Array(l).fill(NaN);let c;const g=s.stream({point(t,e){Q[c]=t,F[c]=e}});for(c=0;c<l;++c)g.point(B[c],n[c])}function hasProjection({projection:t}={}){return null!=t&&("function"==typeof t.stream||(isObject(t)&&(t=t.type),null!=t))}function projectionAspectRatio(t){if("function"==typeof t?.stream)return.618;if(isObject(t)){let e,i;if(({domain:e,type:t,...i}=t),null!=e&&null!=t){const s="string"==typeof t?namedProjection(t).type:t,[[B,n],[l,Q]]=geoPath(s({...i,width:100,height:100})).bounds(e),F=(Q-n)/(l-B);return F&&isFinite(F)?F<.2?.2:F>5?5:F:.618}}if(null!=t){if("function"!=typeof t){const{aspectRatio:e}=namedProjection(t);if(e)return e}return.618}}function getGeometryChannels(t){const e=[],i=[],s={scale:"x",value:e},B={scale:"y",value:i},n={point(t,s){e.push(t),i.push(s)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const e of t.value)geoStream(e,n);return[s,B]}function createContext(t={}){const{document:e=("undefined"!=typeof window?window.document:void 0),clip:i}=t;return{document:e,clip:maybeClip(i)}}function create(t,{document:e}){return select(creator(t).call(e.documentElement))}const unset=Symbol("unset");function memoize1(t){return(1===t.length?memoize1Arg:memoize1Args)(t)}function memoize1Arg(t){let e,i=unset;return s=>(Object.is(i,s)||(i=s,e=t(s)),e)}function memoize1Args(t){let e,i;return(...s)=>((i?.length!==s.length||i.some(((t,e)=>!Object.is(t,s[e]))))&&(i=s,e=t(...s)),e)}const numberFormat=memoize1((t=>new Intl.NumberFormat(t)));function formatNumber(t="en-US"){const e=numberFormat(t);return t=>null==t||isNaN(t)?void 0:e.format(t)}function formatIsoDate(t){return format(t,"Invalid Date")}function formatAuto(t="en-US"){const e=formatNumber(t);return t=>(t instanceof Date?formatIsoDate:"number"==typeof t?e:string)(t)}memoize1(((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{month:e}}))),memoize1(((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{weekday:e}})));const formatDefault=formatAuto(),offset=("undefined"!=typeof window?window.devicePixelRatio>1:"undefined"==typeof it)?0:.5;let nextClipId=0;function getClipId(){return"plot-clip-"+ ++nextClipId}function styles(t,{title:e,href:i,ariaLabel:s,ariaDescription:B,ariaHidden:n,target:l,fill:Q,fillOpacity:F,stroke:c,strokeWidth:g,strokeOpacity:a,strokeLinejoin:I,strokeLinecap:U,strokeMiterlimit:r,strokeDasharray:o,strokeDashoffset:d,opacity:b,mixBlendMode:C,imageFilter:u,paintOrder:y,pointerEvents:h,shapeRendering:A,channels:G},{ariaLabel:R,fill:x="currentColor",fillOpacity:m,stroke:L="none",strokeOpacity:S,strokeWidth:p,strokeLinecap:V,strokeLinejoin:Z,strokeMiterlimit:E,paintOrder:N}){null===x&&(Q=null,F=null),null===L&&(c=null,a=null),isNoneish(x)?isNoneish(L)||isNoneish(Q)&&!G?.fill||(L="none"):!isNoneish(L)||isNoneish(c)&&!G?.stroke||(x="none");const[f,X]=maybeColorChannel(Q,x),[W,H]=maybeNumberChannel(F,m),[D,w]=maybeColorChannel(c,L),[v,Y]=maybeNumberChannel(a,S),[J,k]=maybeNumberChannel(b);isNone(w)||(void 0===g&&(g=p),void 0===U&&(U=V),void 0===I&&(I=Z),void 0!==r||isRound(I)||(r=E),isNone(X)||void 0!==y||(y=N));const[M,T]=maybeNumberChannel(g);return null!==x&&(t.fill=impliedString(X,"currentColor"),t.fillOpacity=impliedNumber(H,1)),null!==L&&(t.stroke=impliedString(w,"none"),t.strokeWidth=impliedNumber(T,1),t.strokeOpacity=impliedNumber(Y,1),t.strokeLinejoin=impliedString(I,"miter"),t.strokeLinecap=impliedString(U,"butt"),t.strokeMiterlimit=impliedNumber(r,4),t.strokeDasharray=impliedString(o,"none"),t.strokeDashoffset=impliedString(d,"0")),t.target=string(l),t.ariaLabel=string(R),t.ariaDescription=string(B),t.ariaHidden=string(n),t.opacity=impliedNumber(k,1),t.mixBlendMode=impliedString(C,"normal"),t.imageFilter=impliedString(u,"none"),t.paintOrder=impliedString(y,"normal"),t.pointerEvents=impliedString(h,"auto"),t.shapeRendering=impliedString(A,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:i,optional:!0,filter:null},ariaLabel:{value:s,optional:!0,filter:null},fill:{value:f,scale:"auto",optional:!0},fillOpacity:{value:W,scale:"auto",optional:!0},stroke:{value:D,scale:"auto",optional:!0},strokeOpacity:{value:v,scale:"auto",optional:!0},strokeWidth:{value:M,optional:!0},opacity:{value:J,scale:"auto",optional:!0}}}function applyTitle(t,e){e&&t.filter((t=>nonempty(e[t]))).append("title").call(applyText,e)}function applyTitleGroup(t,e){e&&t.filter((([t])=>nonempty(e[t]))).append("title").call(applyTextGroup,e)}function applyText(t,e){e&&t.text((t=>formatDefault(e[t])))}function applyTextGroup(t,e){e&&t.text((([t])=>formatDefault(e[t])))}function applyChannelStyles(t,{target:e,tip:i},{ariaLabel:s,title:B,fill:n,fillOpacity:l,stroke:Q,strokeOpacity:F,strokeWidth:c,opacity:g,href:a}){s&&applyAttr(t,"aria-label",(t=>s[t])),n&&applyAttr(t,"fill",(t=>n[t])),l&&applyAttr(t,"fill-opacity",(t=>l[t])),Q&&applyAttr(t,"stroke",(t=>Q[t])),F&&applyAttr(t,"stroke-opacity",(t=>F[t])),c&&applyAttr(t,"stroke-width",(t=>c[t])),g&&applyAttr(t,"opacity",(t=>g[t])),a&&applyHref(t,(t=>a[t]),e),i||applyTitle(t,B)}function applyGroupedChannelStyles(t,{target:e,tip:i},{ariaLabel:s,title:B,fill:n,fillOpacity:l,stroke:Q,strokeOpacity:F,strokeWidth:c,opacity:g,href:a}){s&&applyAttr(t,"aria-label",(([t])=>s[t])),n&&applyAttr(t,"fill",(([t])=>n[t])),l&&applyAttr(t,"fill-opacity",(([t])=>l[t])),Q&&applyAttr(t,"stroke",(([t])=>Q[t])),F&&applyAttr(t,"stroke-opacity",(([t])=>F[t])),c&&applyAttr(t,"stroke-width",(([t])=>c[t])),g&&applyAttr(t,"opacity",(([t])=>g[t])),a&&applyHref(t,(([t])=>a[t]),e),i||applyTitleGroup(t,B)}function groupAesthetics({ariaLabel:t,title:e,fill:i,fillOpacity:s,stroke:B,strokeOpacity:n,strokeWidth:l,opacity:Q,href:F},{tip:c}){return[t,c?void 0:e,i,s,B,n,l,Q,F].filter((t=>void 0!==t))}function groupZ(t,e,i){const s=group(t,(t=>e[t]));return void 0===i&&s.size>1+t.length>>1&&warn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),s.values()}function*groupIndex(t,e,i,s){const{z:B}=i,{z:n}=s,l=groupAesthetics(s,i),Q=[...e,...l];for(const e of n?groupZ(t,n,B):[t]){let t,i;t:for(const s of e){for(const t of Q)if(!defined(t[s])){i&&i.push(-1);continue t}if(void 0!==t){i.push(s);for(let e=0;e<l.length;++e){if(keyof(l[e][s])!==t[e]){yield i,t=l.map((t=>keyof(t[s]))),i=[s];continue t}}}else i&&(yield i),t=l.map((t=>keyof(t[s]))),i=[s]}i&&(yield i)}}function applyClip(t,e,i,s){let B;const{clip:n=s.clip}=e;switch(n){case"frame":t=create("svg:g",s).each((function(){this.appendChild(t.node()),t.node=()=>this})),B=getFrameClip(s,i);break;case"sphere":B=getProjectionClip(s)}applyAttr(t,"aria-label",e.ariaLabel),applyAttr(t,"aria-description",e.ariaDescription),applyAttr(t,"aria-hidden",e.ariaHidden),applyAttr(t,"clip-path",B)}function memoizeClip(t){const e=new WeakMap;return(i,s)=>{let B=e.get(i);if(!B){const n=getClipId();select(i.ownerSVGElement).append("clipPath").attr("id",n).call(t,i,s),e.set(i,B=`url(#${n})`)}return B}}const getFrameClip=memoizeClip(((t,e,i)=>{const{width:s,height:B,marginLeft:n,marginRight:l,marginTop:Q,marginBottom:F}=i;t.append("rect").attr("x",n).attr("y",Q).attr("width",s-l-n).attr("height",B-Q-F)})),getProjectionClip=memoizeClip(((t,e)=>{const{projection:i}=e;if(!i)throw new Error('the "sphere" clip option requires a projection');t.append("path").attr("d",geoPath(i)({type:"Sphere"}))}));function applyIndirectStyles(t,e,i,s){applyClip(t,e,i,s),applyAttr(t,"class",e.className),applyAttr(t,"fill",e.fill),applyAttr(t,"fill-opacity",e.fillOpacity),applyAttr(t,"stroke",e.stroke),applyAttr(t,"stroke-width",e.strokeWidth),applyAttr(t,"stroke-opacity",e.strokeOpacity),applyAttr(t,"stroke-linejoin",e.strokeLinejoin),applyAttr(t,"stroke-linecap",e.strokeLinecap),applyAttr(t,"stroke-miterlimit",e.strokeMiterlimit),applyAttr(t,"stroke-dasharray",e.strokeDasharray),applyAttr(t,"stroke-dashoffset",e.strokeDashoffset),applyAttr(t,"shape-rendering",e.shapeRendering),applyAttr(t,"filter",e.imageFilter),applyAttr(t,"paint-order",e.paintOrder);const{pointerEvents:B=(!1===s.pointerSticky?"none":void 0)}=e;applyAttr(t,"pointer-events",B)}function applyDirectStyles(t,e){applyStyle(t,"mix-blend-mode",e.mixBlendMode),applyAttr(t,"opacity",e.opacity)}function applyHref(t,e,i){t.each((function(t){const s=e(t);if(null!=s){const t=this.ownerDocument.createElementNS(namespaces.svg,"a");t.setAttribute("fill","inherit"),t.setAttributeNS(namespaces.xlink,"href",s),null!=i&&t.setAttribute("target",i),this.parentNode.insertBefore(t,this).appendChild(this)}}))}function applyAttr(t,e,i){null!=i&&t.attr(e,i)}function applyStyle(t,e,i){null!=i&&t.style(e,i)}function applyTransform(t,e,{x:i,y:s},B=offset,n=offset){B+=e.dx,n+=e.dy,i?.bandwidth&&(B+=i.bandwidth()/2),s?.bandwidth&&(n+=s.bandwidth()/2),(B||n)&&t.attr("transform",`translate(${B},${n})`)}function impliedString(t,e){if((t=string(t))!==e)return t}function impliedNumber(t,e){if((t=number(t))!==e)return t}const validClassName=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function maybeClassName(t){if(void 0===t)return"plot-d6a7b5";if(t=`${t}`,!validClassName.test(t))throw new Error(`invalid class name: ${t}`);return t}function applyInlineStyles(t,e){if("string"==typeof e)t.property("style",e);else if(null!=e)for(const i of t)Object.assign(i.style,e)}function applyFrameAnchor({frameAnchor:t},{width:e,height:i,marginTop:s,marginRight:B,marginBottom:n,marginLeft:l}){return[/left$/.test(t)?l:/right$/.test(t)?e-B:(l+e-B)/2,/^top/.test(t)?s:/^bottom/.test(t)?i-n:(s+i-n)/2]}class Mark{constructor(t,e={},i={},s){const{facet:B="auto",facetAnchor:n,fx:l,fy:Q,sort:F,dx:c=0,dy:g=0,margin:a=0,marginTop:I=a,marginRight:U=a,marginBottom:r=a,marginLeft:o=a,className:d,clip:b=s?.clip,channels:C,tip:u,render:y}=i;if(this.data=t,this.sort=isDomainSort(F)?F:null,this.initializer=initializer(i).initializer,this.transform=this.initializer?i.transform:basic(i).transform,null===B||!1===B?this.facet=null:(this.facet=keyword(!0===B?"include":B,"facet",["auto","include","exclude","super"]),this.fx=t===singleton&&"string"==typeof l?[l]:l,this.fy=t===singleton&&"string"==typeof Q?[Q]:Q),this.facetAnchor=maybeFacetAnchor(n),e=maybeNamed(e),void 0!==C&&(e={...maybeChannels(C),...e}),void 0!==s&&(e={...styles(this,i,s),...e}),this.channels=Object.fromEntries(Object.entries(e).map((([e,i])=>{if(isOptions(i.value)){const{value:t,label:e=i.label,scale:s=i.scale}=i.value;i={...i,label:e,scale:s,value:t}}if(t===singleton&&"string"==typeof i.value){const{value:t}=i;i={...i,value:[t]}}return[e,i]})).filter((([t,{value:e,optional:i}])=>{if(null!=e)return!0;if(i)return!1;throw new Error(`missing channel value: ${t}`)}))),this.dx=+c,this.dy=+g,this.marginTop=+I,this.marginRight=+U,this.marginBottom=+r,this.marginLeft=+o,this.clip=maybeClip(b),this.tip=maybeTip(u),this.className=d?maybeClassName(d):null,"super"===this.facet){if(l||Q)throw new Error("super-faceting cannot use fx or fy");for(const t in this.channels){const{scale:i}=e[t];if("x"===i||"y"===i)throw new Error("super-faceting cannot use x or y")}}null!=y&&(this.render=composeRender(y,this.render))}initialize(t,e,i){let s=dataify(this.data);void 0===t&&null!=s&&(t=[range(s)]);const B=t;null!=this.transform&&(({facets:t,data:s}=this.transform(s,t,i)),s=dataify(s)),void 0!==t&&(t.original=B);const n=createChannels(this.channels,s);return null!=this.sort&&channelDomain(s,t,n,e,this.sort),{data:s,facets:t,channels:n}}filter(t,e,i){for(const s in e){const{filter:B=defined}=e[s];if(null!==B){const e=i[s];t=t.filter((t=>B(e[t])))}}return t}project(t,e,i){for(const s in t)if("x"===t[s].scale&&/^x|x$/.test(s)){const B=s.replace(/^x|x$/,"y");B in t&&"y"===t[B].scale&&project(s,B,e,i.projection)}}scale(t,e,i){const s=valueObject(t,e);return i.projection&&this.project(t,s,i),s}}function marks(...t){return t.plot=Mark.prototype.plot,t}function composeRender(t,e){if(null==t)return null===e?void 0:e;if(null==e)return null===t?void 0:t;if("function"!=typeof t)throw new TypeError(`invalid render transform: ${t}`);if("function"!=typeof e)throw new TypeError(`invalid render transform: ${e}`);return function(i,s,B,n,l,Q){return t.call(this,i,s,B,n,l,((t,i,s,B,n)=>e.call(this,t,i,s,B,n,Q)))}}function maybeChannels(t){return Object.fromEntries(Object.entries(maybeNamed(t)).map((([t,e])=>(void 0===(e="string"==typeof e?{value:e,label:t}:maybeValue(e)).filter&&null==e.scale&&(e={...e,filter:null}),[t,e]))))}function maybeTip(t){return!0===t?"xy":!1===t||null==t?null:"string"==typeof t?keyword(t,"tip",["x","y","xy"]):t}function withTip(t,e){return!0===t?.tip?{...t,tip:e}:isObject(t?.tip)&&void 0===t.tip.pointer?{...t,tip:{...t.tip,pointer:e}}:t}function createDimensions(t,e,i={}){let s=.5-offset,B=.5+offset,n=.5+offset,l=.5-offset;for(const{marginTop:t,marginRight:i,marginBottom:Q,marginLeft:F}of e)t>s&&(s=t),i>B&&(B=i),Q>n&&(n=Q),F>l&&(l=F);let{margin:Q,marginTop:F=(void 0!==Q?Q:s),marginRight:c=(void 0!==Q?Q:B),marginBottom:g=(void 0!==Q?Q:n),marginLeft:a=(void 0!==Q?Q:l)}=i;F=+F,c=+c,g=+g,a=+a;let{width:I=640,height:U=autoHeight(t,i,{width:I,marginTopDefault:s,marginRightDefault:B,marginBottomDefault:n,marginLeftDefault:l})+Math.max(0,F-s+g-n)}=i;I=+I,U=+U;const r={width:I,height:U,marginTop:F,marginRight:c,marginBottom:g,marginLeft:a};if(t.fx||t.fy){let{margin:t,marginTop:e=(void 0!==t?t:F),marginRight:s=(void 0!==t?t:c),marginBottom:B=(void 0!==t?t:g),marginLeft:n=(void 0!==t?t:a)}=i.facet??{};e=+e,s=+s,B=+B,n=+n,r.facet={marginTop:e,marginRight:s,marginBottom:B,marginLeft:n}}return r}function autoHeight({x:t,y:e,fy:i,fx:s},{projection:B,aspectRatio:n},{width:l,marginTopDefault:Q,marginRightDefault:F,marginBottomDefault:c,marginLeftDefault:g}){const a=i&&i.scale.domain().length||1,I=projectionAspectRatio(B);if(I){const t=(1.1*a-.1)/(1.1*(s?s.scale.domain().length:1)-.1)*I,e=Math.max(.1,Math.min(10,t));return Math.round((l-g-F)*e+Q+c)}const U=e?isOrdinalScale(e)?e.scale.domain().length||1:Math.max(7,17/a):1;if(null!=n){if(n=+n,!(isFinite(n)&&n>0))throw new Error(`invalid aspectRatio: ${n}`);const B=aspectRatioLength("y",e)/(aspectRatioLength("x",t)*n),a=s?s.scale.bandwidth():1,I=i?i.scale.bandwidth():1;return(B*(a*(l-g-F)-t.insetLeft-t.insetRight)+e.insetTop+e.insetBottom)/I+Q+c}return!(!e&&!i)*Math.max(1,Math.min(60,U*a))*20+30*!!s+60}function aspectRatioLength(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:i,domain:s}=e;let B;switch(i){case"linear":case"utc":case"time":B=Number;break;case"pow":{const t=e.scale.exponent();B=e=>Math.pow(e,t);break}case"log":B=Math.log;break;case"point":case"band":return s.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${i}`)}const[n,l]=extent$1(s);return Math.abs(B(l)-B(n))}const states=new WeakMap;function pointerK(t,e,{x:i,y:s,px:B,py:n,maxRadius:l=40,channels:Q,render:F,...c}={}){return l=+l,null!=B&&(i??=null,Q={...Q,px:{value:B,scale:"x"}}),null!=n&&(s??=null,Q={...Q,py:{value:n,scale:"y"}}),{x:i,y:s,channels:Q,...c,render:composeRender((function(i,s,B,n,Q,F){const c=(Q={...Q,pointerSticky:!1}).ownerSVGElement,{data:g}=Q.getMarkState(this);let a=states.get(c);a||states.set(c,a={sticky:!1,roots:[],renders:[]});let I=a.renders.push(E)-1;const{x:U,y:r,fx:o,fy:d}=s;let b=o?o(i.fx)-n.marginLeft:0,C=d?d(i.fy)-n.marginTop:0;U?.bandwidth&&(b+=U.bandwidth()/2),r?.bandwidth&&(C+=r.bandwidth()/2);const u=null!=i.fi;let y;if(u){let t=a.facetStates;t||(a.facetStates=t=new Map),y=t.get(this),y||t.set(this,y=new Map)}const[h,A]=applyFrameAnchor(this,n),{px:G,py:R}=B,x=G?t=>G[t]:anchorX$1(B,h),m=R?t=>R[t]:anchorY$1(B,A);let L,S,p,V;function Z(t,e){if(u){if(V&&(V=cancelAnimationFrame(V)),null!=t)return y.set(i.fi,e),void(V=requestAnimationFrame((()=>{V=null;for(const[s,B]of y)if(B<e||B===e&&s<i.fi){t=null;break}E(t)})));y.delete(i.fi)}E(t)}function E(t){if(L===t&&p===a.sticky)return;L=t,p=Q.pointerSticky=a.sticky;const e=null==L?[]:[L];u&&(e.fx=i.fx,e.fy=i.fy,e.fi=i.fi);const l=F(e,s,B,n,Q);if(S){if(u){const t=S.parentNode,e=S.getAttribute("transform"),i=l.getAttribute("transform");e?l.setAttribute("transform",e):l.removeAttribute("transform"),i?t.setAttribute("transform",i):t.removeAttribute("transform"),l.removeAttribute("aria-label"),l.removeAttribute("aria-description"),l.removeAttribute("aria-hidden")}S.replaceWith(l)}if(a.roots[I]=S=l,!(null==L&&y?.size>1)){const t=null==L?null:isArray(g)?g[L]:g.get(L);Q.dispatchValue(t)}return l}function N(s){if(a.sticky||"mouse"===s.pointerType&&1===s.buttons)return;let[B,Q]=pointof(s);B-=b,Q-=C;const F=B<n.marginLeft||B>n.width-n.marginRight?1:t,c=Q<n.marginTop||Q>n.height-n.marginBottom?1:e;let g=null,I=l*l;for(const t of i){const e=F*(x(t)-B),i=c*(m(t)-Q),s=e*e+i*i;s<=I&&(g=t,I=s)}if(null!=g&&(1!==t||1!==e)){const t=x(g)-B,e=m(g)-Q;I=t*t+e*e}Z(g,I)}return c.addEventListener("pointerenter",N),c.addEventListener("pointermove",N),c.addEventListener("pointerdown",(function(t){"mouse"===t.pointerType&&null!=L&&(a.sticky&&a.roots.some((e=>e?.contains(t.target)))||(a.sticky?(a.sticky=!1,a.renders.forEach((t=>t(null)))):(a.sticky=!0,E(L)),t.stopImmediatePropagation()))})),c.addEventListener("pointerleave",(function(t){"mouse"===t.pointerType&&(a.sticky||Z(null))})),E(null)}),F)}}function pointer(t){return pointerK(1,1,t)}function pointerX(t){return pointerK(1,.01,t)}function pointerY(t){return pointerK(.01,1,t)}function anchorX$1({x1:t,x2:e,x:i=t},s){return t&&e?i=>(t[i]+e[i])/2:i?t=>i[t]:()=>s}function anchorY$1({y1:t,y2:e,y:i=t},s){return t&&e?i=>(t[i]+e[i])/2:i?t=>i[t]:()=>s}function inferFontVariant$2(t){return isOrdinalScale(t)&&void 0===t.interval?void 0:"tabular-nums"}function legendRamp(t,e){let{label:i=t.label,tickSize:s=6,width:B=240,height:n=44+s,marginTop:l=18,marginRight:Q=0,marginBottom:F=16+s,marginLeft:c=0,style:g,ticks:a=(B-c-Q)/64,tickFormat:I,fontVariant:U=inferFontVariant$2(t),round:r=!0,opacity:o,className:d}=e;const b=createContext(e);d=maybeClassName(d),o=maybeNumberChannel(o)[1],null===I&&(I=()=>null);const C=create("svg",b).attr("class",`${d}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",B).attr("height",n).attr("viewBox",`0 0 ${B} ${n}`).call((t=>t.append("style").text(`:where(.${d}-ramp) {\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n  overflow: visible;\n}\n:where(.${d}-ramp text) {\n  white-space: pre;\n}`))).call(applyInlineStyles,g);let u,y=t=>t.selectAll(".tick line").attr("y1",l+F-n);const h=r?(t,e)=>t.rangeRound(e):(t,e)=>t.range(e),{type:A,domain:G,range:R,interpolate:x,scale:m,pivot:L}=t;if(x){const t=void 0===R?x:piecewise(1===x.length?interpolatePiecewise(x):x,R);u=h(m.copy(),quantize(interpolateNumber(c,B-Q),Math.min(G.length+(void 0!==L),void 0===R?1/0:R.length)));const e=256,i=b.document.createElement("canvas");i.width=e,i.height=1;const s=i.getContext("2d");for(let i=0,B=e-1;i<e;++i)s.fillStyle=t(i/B),s.fillRect(i,0,1,1);C.append("image").attr("opacity",o).attr("x",c).attr("y",l).attr("width",B-c-Q).attr("height",n-l-F).attr("preserveAspectRatio","none").attr("xlink:href",i.toDataURL())}else if("threshold"===A){const t=G,e=void 0===I?t=>t:"string"==typeof I?format$1(I):I;u=h(linear().domain([-1,R.length-1]),[c,B-Q]),C.append("g").attr("fill-opacity",o).selectAll().data(R).enter().append("rect").attr("x",((t,e)=>u(e-1))).attr("y",l).attr("width",((t,e)=>u(e)-u(e-1))).attr("height",n-l-F).attr("fill",(t=>t)),a=map(t,((t,e)=>e)),I=i=>e(t[i],i)}else u=h(band().domain(G),[c,B-Q]),C.append("g").attr("fill-opacity",o).selectAll().data(G).enter().append("rect").attr("x",u).attr("y",l).attr("width",Math.max(0,u.bandwidth()-1)).attr("height",n-l-F).attr("fill",m),y=()=>{};return C.append("g").attr("transform",`translate(0,${n-F})`).call(axisBottom(u).ticks(Array.isArray(a)?null:a,"string"==typeof I?I:void 0).tickFormat("function"==typeof I?I:void 0).tickSize(s).tickValues(Array.isArray(a)?a:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",impliedString(U,"normal")).call(y).call((t=>t.select(".domain").remove())),void 0!==i&&C.append("text").attr("x",c).attr("y",l-6).attr("fill","currentColor").attr("font-weight","bold").text(i),C.node()}const radians=Math.PI/180;function markers(t,{marker:e,markerStart:i=e,markerMid:s=e,markerEnd:B=e}={}){t.markerStart=maybeMarker(i),t.markerMid=maybeMarker(s),t.markerEnd=maybeMarker(B)}function maybeMarker(t){if(null==t||!1===t)return null;if(!0===t)return markerCircleFill;if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return markerArrow("auto");case"arrow-reverse":return markerArrow("auto-start-reverse");case"dot":return markerDot;case"circle":case"circle-fill":return markerCircleFill;case"circle-stroke":return markerCircleStroke;case"tick":return markerTick("auto");case"tick-x":return markerTick(90);case"tick-y":return markerTick(0)}throw new Error(`invalid marker: ${t}`)}function markerArrow(t){return(e,i)=>create("svg:marker",i).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call((t=>t.append("path").attr("d","M-1.5,-3l3,3l-3,3"))).node()}function markerDot(t,e){return create("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call((t=>t.append("circle").attr("r",2.5))).node()}function markerCircleFill(t,e){return create("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call((t=>t.append("circle").attr("r",3))).node()}function markerCircleStroke(t,e){return create("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call((t=>t.append("circle").attr("r",3))).node()}function markerTick(t){return(e,i)=>create("svg:marker",i).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",e).call((t=>t.append("path").attr("d","M0,-3v6"))).node()}let nextMarkerId=0;function applyMarkers(t,e,{stroke:i},s){return applyMarkersColor(t,e,i&&(t=>i[t]),null,s)}function applyGroupedMarkers(t,e,{stroke:i,z:s},B){return applyMarkersColor(t,e,i&&(([t])=>i[t]),s,B)}const START=1,END=2;function getGroupedOrientation(t,e){const i=new Uint8Array(e.length),s=t.data().filter((t=>t.length>1)),B=s.length;for(let t=0,n=unset;t<B;++t){const B=s[t];if(B.length>1){const t=B[0];n!==(n=keyof(e[t]))&&(i[t]|=START)}}for(let t=B-1,n=unset;t>=0;--t){const B=s[t];if(B.length>1){const t=B[0];n!==(n=keyof(e[t]))&&(i[t]|=END)}}return([t])=>i[t]}function applyMarkersColor(t,{markerStart:e,markerMid:i,markerEnd:s,stroke:B},n=()=>B,l,Q){if(!e&&!i&&!s)return;const F=new Map,c=l&&getGroupedOrientation(t,l);function g(t,e,i){return function(s){if(i&&!i(s))return;const B=n(s);let l=F.get(e);l||F.set(e,l=new Map);let c=l.get(B);if(!c){const t=this.parentNode.insertBefore(e(B,Q),this),i="plot-marker-"+ ++nextMarkerId;t.setAttribute("id",i),l.set(B,c=`url(#${i})`)}this.setAttribute(t,c)}}e&&t.each(g("marker-start",e,c&&(t=>c(t)&START))),i&&c&&t.each(g("marker-start",i,(t=>!(c(t)&START)))),i&&t.each(g("marker-mid",i)),s&&t.each(g("marker-end",s,c&&(t=>c(t)&END)))}function maybeInsetX({inset:t,insetLeft:e,insetRight:i,...s}={}){return[e,i]=maybeInset(t,e,i),{inset:t,insetLeft:e,insetRight:i,...s}}function maybeInsetY({inset:t,insetTop:e,insetBottom:i,...s}={}){return[e,i]=maybeInset(t,e,i),{inset:t,insetTop:e,insetBottom:i,...s}}function maybeInset(t,e,i){return void 0===t&&void 0===e&&void 0===i?offset?[1,0]:[.5,.5]:[e,i]}function maybeIntervalValue(t,{interval:e}){return(t={...maybeValue(t)}).interval=maybeInterval(void 0===t.interval?e:t.interval),t}function maybeIntervalK(t,e,i,s){const{[t]:B,[`${t}1`]:n,[`${t}2`]:l}=i,{value:Q,interval:F}=maybeIntervalValue(B,i);if(null==Q||null==F&&!s)return i;const c=labelof(B);if(null==F){let e;const B={transform:t=>e||(e=valueof(t,Q)),label:c};return{...i,[t]:void 0,[`${t}1`]:void 0===n?B:n,[`${t}2`]:void 0!==l||n===l&&s?l:B}}let g,a;function I(t){return void 0!==a&&t===g?a:a=map(valueof(g=t,Q),(t=>F.floor(t)))}return e({...i,[t]:void 0,[`${t}1`]:void 0===n?{transform:I,label:c}:n,[`${t}2`]:void 0===l?{transform:t=>I(t).map((t=>F.offset(t))),label:c}:l})}function maybeIntervalMidK(t,e,i){const{[t]:s}=i,{value:B,interval:n}=maybeIntervalValue(s,i);return null==B||null==n?i:e({...i,[t]:{label:labelof(s),transform:t=>{const e=map(valueof(t,B),(t=>n.floor(t))),i=e.map((t=>n.offset(t)));return e.map(isTemporal(e)?(t,e)=>null==t||isNaN(t=+t)||null==(e=i[e])||isNaN(e=+e)?void 0:new Date((t+e)/2):(t,e)=>null==t||null==(e=i[e])?NaN:(+t+ +e)/2)}}})}function maybeTrivialIntervalX(t={}){return maybeIntervalK("x",maybeInsetX,t,!0)}function maybeIntervalX(t={}){return maybeIntervalK("x",maybeInsetX,t)}function maybeIntervalY(t={}){return maybeIntervalK("y",maybeInsetY,t)}function maybeIntervalMidX(t={}){return maybeIntervalMidK("x",maybeInsetX,t)}function maybeIntervalMidY(t={}){return maybeIntervalMidK("y",maybeInsetY,t)}const defaults$6={ariaLabel:"rule",fill:null,stroke:"currentColor"};class RuleX extends Mark{constructor(t,e={}){const{x:i,y1:s,y2:B,inset:n=0,insetTop:l=n,insetBottom:Q=n}=e;super(t,{x:{value:i,scale:"x",optional:!0},y1:{value:s,scale:"y",optional:!0},y2:{value:B,scale:"y",optional:!0}},withTip(e,"x"),defaults$6),this.insetTop=number(l),this.insetBottom=number(Q),markers(this,e)}render(t,e,i,s,B){const{x:n,y:l}=e,{x:Q,y1:F,y2:c}=i,{width:g,height:a,marginTop:I,marginRight:U,marginLeft:r,marginBottom:o}=s,{insetTop:d,insetBottom:b}=this;return create("svg:g",B).call(applyIndirectStyles,this,s,B).call(applyTransform,this,{x:Q&&n},offset,0).call((e=>e.selectAll().data(t).enter().append("line").call(applyDirectStyles,this).attr("x1",Q?t=>Q[t]:(r+g-U)/2).attr("x2",Q?t=>Q[t]:(r+g-U)/2).attr("y1",F&&!isCollapsed(l)?t=>F[t]+d:I+d).attr("y2",c&&!isCollapsed(l)?l.bandwidth?t=>c[t]+l.bandwidth()-b:t=>c[t]-b:a-o-b).call(applyChannelStyles,this,i).call(applyMarkers,this,i,B))).node()}}class RuleY extends Mark{constructor(t,e={}){const{x1:i,x2:s,y:B,inset:n=0,insetRight:l=n,insetLeft:Q=n}=e;super(t,{y:{value:B,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:!0},x2:{value:s,scale:"x",optional:!0}},withTip(e,"y"),defaults$6),this.insetRight=number(l),this.insetLeft=number(Q),markers(this,e)}render(t,e,i,s,B){const{x:n,y:l}=e,{y:Q,x1:F,x2:c}=i,{width:g,height:a,marginTop:I,marginRight:U,marginLeft:r,marginBottom:o}=s,{insetLeft:d,insetRight:b}=this;return create("svg:g",B).call(applyIndirectStyles,this,s,B).call(applyTransform,this,{y:Q&&l},0,offset).call((e=>e.selectAll().data(t).enter().append("line").call(applyDirectStyles,this).attr("x1",F&&!isCollapsed(n)?t=>F[t]+d:r+d).attr("x2",c&&!isCollapsed(n)?n.bandwidth?t=>c[t]+n.bandwidth()-b:t=>c[t]-b:g-U-b).attr("y1",Q?t=>Q[t]:(I+a-o)/2).attr("y2",Q?t=>Q[t]:(I+a-o)/2).call(applyChannelStyles,this,i).call(applyMarkers,this,i,B))).node()}}function ruleX(t,e){let{x:i=identity$1,y:s,y1:B,y2:n,...l}=maybeIntervalY(e);return[B,n]=maybeOptionalZero(s,B,n),new RuleX(t,{...l,x:i,y1:B,y2:n})}function ruleY(t,e){let{y:i=identity$1,x:s,x1:B,x2:n,...l}=maybeIntervalX(e);return[B,n]=maybeOptionalZero(s,B,n),new RuleY(t,{...l,y:i,x1:B,x2:n})}function maybeOptionalZero(t,e,i){if(null==t){if(void 0===e){if(void 0!==i)return[0,i]}else if(void 0===i)return[0,e]}else{if(void 0===e)return void 0===i?[0,t]:[t,i];if(void 0===i)return[t,e]}return[e,i]}function template(t,...e){let i=e.length;for(let s=0,B=!0;s<i;++s)"function"!=typeof e[s]&&(B&&(t=t.slice(),B=!1),t.splice(s,2,t[s]+e[s]+t[s+1]),e.splice(s,1),--s,--i);return s=>{let B=t[0];for(let n=0;n<i;++n)B+=e[n](s)+t[n+1];return B}}const defaults$5={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},softHyphen="Â­";class Text extends Mark{constructor(t,e={}){const{x:i,y:s,text:B=(isIterable(t)&&isTextual(t)?identity$1:indexOf),frameAnchor:n,textAnchor:l=(/right$/i.test(n)?"end":/left$/i.test(n)?"start":"middle"),lineAnchor:Q=(/^top/i.test(n)?"top":/^bottom/i.test(n)?"bottom":"middle"),lineHeight:F=1,lineWidth:c=1/0,textOverflow:g,monospace:a,fontFamily:I=(a?"ui-monospace, monospace":void 0),fontSize:U,fontStyle:r,fontVariant:o,fontWeight:d,rotate:b}=e,[C,u]=maybeNumberChannel(b,0),[y,h]=maybeFontSizeChannel(U);if(super(t,{x:{value:i,scale:"x",optional:!0},y:{value:s,scale:"y",optional:!0},fontSize:{value:y,optional:!0},rotate:{value:numberChannel(C),optional:!0},text:{value:B,filter:nonempty,optional:!0}},e,defaults$5),this.rotate=u,this.textAnchor=impliedString(l,"middle"),this.lineAnchor=keyword(Q,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+F,this.lineWidth=+c,this.textOverflow=maybeTextOverflow(g),this.monospace=!!a,this.fontFamily=string(I),this.fontSize=h,this.fontStyle=string(r),this.fontVariant=string(o),this.fontWeight=string(d),this.frameAnchor=maybeFrameAnchor(n),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=splitter(this),this.clipLine=clipper(this)}render(t,e,i,s,B){const{x:n,y:l}=e,{x:Q,y:F,rotate:c,text:g,title:a,fontSize:I}=i,{rotate:U}=this,[r,o]=applyFrameAnchor(this,s);return create("svg:g",B).call(applyIndirectStyles,this,s,B).call(applyIndirectTextStyles,this,g,s).call(applyTransform,this,{x:Q&&n,y:F&&l}).call((e=>e.selectAll().data(t).enter().append("text").call(applyDirectStyles,this).call(applyMultilineText,this,g,a).attr("transform",template`translate(${Q?t=>Q[t]:r},${F?t=>F[t]:o})${c?t=>` rotate(${c[t]})`:U?` rotate(${U})`:""}`).call(applyAttr,"font-size",I&&(t=>I[t])).call(applyChannelStyles,this,i))).node()}}function maybeTextOverflow(t){return null==t?null:keyword(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function applyMultilineText(t,e,i,s){if(!i)return;const{lineAnchor:B,lineHeight:n,textOverflow:l,splitLines:Q,clipLine:F}=e;t.each((function(t){const e=Q(formatDefault(i[t])??"").map(F),c=e.length,g="top"===B?.71:"bottom"===B?1-c:(164-100*c)/200;if(c>1){let t=0;for(let i=0;i<c;++i){if(++t,!e[i])continue;const s=this.ownerDocument.createElementNS(namespaces.svg,"tspan");s.setAttribute("x",0),i===t-1?s.setAttribute("y",(g+i)*n+"em"):s.setAttribute("dy",t*n+"em"),s.textContent=e[i],this.appendChild(s),t=0}}else g&&this.setAttribute("y",g*n+"em"),this.textContent=e[0];if(l&&!s&&e[0]!==i[t]){const e=this.ownerDocument.createElementNS(namespaces.svg,"title");e.textContent=i[t],this.appendChild(e)}}))}function text(t,{x:e,y:i,...s}={}){return void 0===s.frameAnchor&&([e,i]=maybeTuple(e,i)),new Text(t,{...s,x:e,y:i})}function textX(t,{x:e=identity$1,...i}={}){return new Text(t,maybeIntervalMidY({...i,x:e}))}function textY(t,{y:e=identity$1,...i}={}){return new Text(t,maybeIntervalMidX({...i,y:e}))}function applyIndirectTextStyles(t,e,i){applyAttr(t,"text-anchor",e.textAnchor),applyAttr(t,"font-family",e.fontFamily),applyAttr(t,"font-size",e.fontSize),applyAttr(t,"font-style",e.fontStyle),applyAttr(t,"font-variant",void 0===e.fontVariant?inferFontVariant$1(i):e.fontVariant),applyAttr(t,"font-weight",e.fontWeight)}function inferFontVariant$1(t){return t&&(isNumeric(t)||isTemporal(t))?"tabular-nums":void 0}const fontSizes=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function maybeFontSizeChannel(t){return null==t||"number"==typeof t?[void 0,t]:"string"!=typeof t?[t,void 0]:(t=t.trim().toLowerCase(),fontSizes.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function lineWrap(t,e,i){const s=[];let B,n=0;for(const[l,Q,F]of lineBreaks(t))void 0===B&&(B=l),n>B&&i(t,B,Q)>e&&(s.push(t.slice(B,n)+("Â­"===t[n-1]?"-":"")),B=l),F?(s.push(t.slice(B,Q)),B=void 0):n=Q;return s}function*lineBreaks(t){let e=0,i=0;const s=t.length;for(;i<s;){let s=1;switch(t[i]){case"Â­":case"-":++i,yield[e,i,!1],e=i;break;case" ":for(yield[e,i,!1];" "===t[++i];);e=i;break;case"\r":"\n"===t[i+1]&&++s;case"\n":yield[e,i,!0],i+=s,e=i;break;default:++i}}yield[e,i,!0]}const defaultWidthMap={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"â":31,"â":31,"â":47,"â":47,"â¦":82};function defaultWidth(t,e=0,i=t.length){let s=0;for(let B=e;B<i;B=readCharacter(t,B))s+=defaultWidthMap[t[B]]??(isPictographic(t,B)?120:defaultWidthMap.e);return s}function monospaceWidth(t,e=0,i=t.length){let s=0;for(let B=e;B<i;B=readCharacter(t,B))s+=isPictographic(t,B)?126:63;return s}function splitter({monospace:t,lineWidth:e,textOverflow:i}){if(null!=i||e==1/0)return t=>t.split(/\r\n?|\n/g);const s=t?monospaceWidth:defaultWidth,B=100*e;return t=>lineWrap(t,B,s)}function clipper({monospace:t,lineWidth:e,textOverflow:i}){if(null==i||e==1/0)return t=>t;const s=t?monospaceWidth:defaultWidth,B=100*e;switch(i){case"clip-start":return t=>clipStart(t,B,s,"");case"clip-end":return t=>clipEnd(t,B,s,"");case"ellipsis-start":return t=>clipStart(t,B,s,ellipsis);case"ellipsis-middle":return t=>clipMiddle(t,B,s,ellipsis);case"ellipsis-end":return t=>clipEnd(t,B,s,ellipsis)}}const ellipsis="â¦";function cut(t,e,i,s){const B=[];let n=0;for(let l=0,Q=0,F=t.length;l<F;l=Q){Q=readCharacter(t,l);const F=i(t,l,Q);if(n+F>e){for(n+=s;n>e&&l>0;)Q=l,l=B.pop(),n-=i(t,l,Q);return[l,e-n]}n+=F,B.push(l)}return[-1,0]}function clipEnd(t,e,i,s){t=t.trim();const B=i(s),[n]=cut(t,e,i,B);return n<0?t:t.slice(0,n).trimEnd()+s}function clipMiddle(t,e,i,s){const B=i(t=t.trim());if(B<=e)return t;const n=i(s)/2,[l,Q]=cut(t,e/2,i,n),[F]=cut(t,B-e/2-Q+n,i,-n);return F<0?s:t.slice(0,l).trimEnd()+s+t.slice(readCharacter(t,F)).trimStart()}function clipStart(t,e,i,s){const B=i(t=t.trim());if(B<=e)return t;const n=i(s),[l]=cut(t,B-e+n,i,-n);return l<0?s:s+t.slice(readCharacter(t,l)).trimStart()}const reCombiner=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,rePictographic=/\p{Extended_Pictographic}/uy;function readCharacter(t,e){return isCombiner(t,e+=isSurrogatePair(t,e)?2:1)&&(e=reCombiner.lastIndex),isZeroWidthJoiner(t,e)?readCharacter(t,e+1):e}function isAscii(t,e){return t.charCodeAt(e)<128}function isSurrogatePair(t,e){const i=t.charCodeAt(e);if(i>=55296&&i<56320){const i=t.charCodeAt(e+1);return i>=56320&&i<57344}return!1}function isZeroWidthJoiner(t,e){return 8205===t.charCodeAt(e)}function isCombiner(t,e){return!isAscii(t,e)&&(reCombiner.lastIndex=e,reCombiner.test(t))}function isPictographic(t,e){return!isAscii(t,e)&&(rePictographic.lastIndex=e,rePictographic.test(t))}const defaults$4={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},defaultRadius=3.5,wingRatio=5*defaultRadius,shapeArrow={draw(t,e,i){const s=e*i/wingRatio;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-s,s-e),t.lineTo(0,-e),t.lineTo(s,s-e)}},shapeSpike={draw(t,e,i){t.moveTo(-i,0),t.lineTo(0,-e),t.lineTo(i,0)}},shapes=new Map([["arrow",shapeArrow],["spike",shapeSpike]]);function isShapeObject(t){return t&&"function"==typeof t.draw}function maybeShape(t){if(isShapeObject(t))return t;const e=shapes.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class Vector extends Mark{constructor(t,e={}){const{x:i,y:s,r:B=defaultRadius,length:n,rotate:l,shape:Q=shapeArrow,anchor:F="middle",frameAnchor:c}=e,[g,a]=maybeNumberChannel(n,12),[I,U]=maybeNumberChannel(l,0);super(t,{x:{value:i,scale:"x",optional:!0},y:{value:s,scale:"y",optional:!0},length:{value:g,scale:"length",optional:!0},rotate:{value:I,optional:!0}},e,defaults$4),this.r=+B,this.length=a,this.rotate=U,this.shape=maybeShape(Q),this.anchor=keyword(F,"anchor",["start","middle","end"]),this.frameAnchor=maybeFrameAnchor(c)}render(t,e,i,s,B){const{x:n,y:l}=e,{x:Q,y:F,length:c,rotate:g}=i,{length:a,rotate:I,anchor:U,shape:r,r:o}=this,[d,b]=applyFrameAnchor(this,s);return create("svg:g",B).call(applyIndirectStyles,this,s,B).call(applyTransform,this,{x:Q&&n,y:F&&l}).call((e=>e.selectAll().data(t).enter().append("path").call(applyDirectStyles,this).attr("transform",template`translate(${Q?t=>Q[t]:d},${F?t=>F[t]:b})${g?t=>` rotate(${g[t]})`:I?` rotate(${I})`:""}${"start"===U?"":"end"===U?c?t=>` translate(0,${c[t]})`:` translate(0,${a})`:c?t=>` translate(0,${c[t]/2})`:` translate(0,${a/2})`}`).attr("d",c?t=>{const e=pathRound();return r.draw(e,c[t],o),e}:(()=>{const t=pathRound();return r.draw(t,a,o),t})()).call(applyChannelStyles,this,i))).node()}}function vectorX(t,e={}){const{x:i=identity$1,...s}=e;return new Vector(t,{...s,x:i})}function vectorY(t,e={}){const{y:i=identity$1,...s}=e;return new Vector(t,{...s,y:i})}function maybeData(t,e){return arguments.length<2&&!isIterable(t)&&(e=t,t=null),void 0===e&&(e={}),[t,e]}function maybeAnchor({anchor:t}={},e){return void 0===t?e[0]:keyword(t,"anchor",e)}function anchorY(t){return maybeAnchor(t,["left","right"])}function anchorFy(t){return maybeAnchor(t,["right","left"])}function anchorX(t){return maybeAnchor(t,["bottom","top"])}function anchorFx(t){return maybeAnchor(t,["top","bottom"])}function axisY(){const[t,e]=maybeData(...arguments);return axisKy("y",anchorY(e),t,e)}function axisFy(){const[t,e]=maybeData(...arguments);return axisKy("fy",anchorFy(e),t,e)}function axisX(){const[t,e]=maybeData(...arguments);return axisKx("x",anchorX(e),t,e)}function axisFx(){const[t,e]=maybeData(...arguments);return axisKx("fx",anchorFx(e),t,e)}function axisKy(t,e,i,{color:s="currentColor",opacity:B=1,stroke:n=s,strokeOpacity:l=B,strokeWidth:Q=1,fill:F=s,fillOpacity:c=B,textAnchor:g,textStroke:a,textStrokeOpacity:I,textStrokeWidth:U,tickSize:r=("y"===t?6:0),tickPadding:o,tickRotate:d,x:b,margin:C,marginTop:u=(void 0===C?20:C),marginRight:y=(void 0===C?"right"===e?40:0:C),marginBottom:h=(void 0===C?20:C),marginLeft:A=(void 0===C?"left"===e?40:0:C),label:G,labelAnchor:R,labelArrow:x,labelOffset:m,...L}){return r=number(r),o=number(o),d=number(d),void 0!==R&&(R=keyword(R,"labelAnchor",["center","top","bottom"])),x=maybeLabelArrow(x),marks(r&&!isNoneish(n)?axisTickKy(t,e,i,{stroke:n,strokeOpacity:l,strokeWidth:Q,tickSize:r,tickPadding:o,tickRotate:d,x:b,...L}):null,isNoneish(F)?null:axisTextKy(t,e,i,{fill:F,fillOpacity:c,stroke:a,strokeOpacity:I,strokeWidth:U,textAnchor:g,tickSize:r,tickPadding:o,tickRotate:d,x:b,marginTop:u,marginRight:y,marginBottom:h,marginLeft:A,...L}),isNoneish(F)||null===G?null:text([],labelOptions({fill:F,fillOpacity:c,...L},(function(i,s,B,n,l){const Q=n[t],{marginTop:F,marginRight:c,marginBottom:g,marginLeft:a}="y"===t&&l.inset||l,I=R??(Q.bandwidth?"center":"top"),U=m??("right"===e?c:a)-3;return"center"===I?(this.textAnchor=void 0,this.lineAnchor="right"===e?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor="right"===e?"end":"start",this.lineAnchor=I,this.frameAnchor=`${I}-${e}`,this.rotate=0),this.dy="top"===I?3-F:"bottom"===I?g-3:0,this.dx="right"===e?U:-U,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[formatAxisLabel(t,Q,{anchor:e,label:G,labelAnchor:I,labelArrow:x})]}}}}))))}function axisKx(t,e,i,{color:s="currentColor",opacity:B=1,stroke:n=s,strokeOpacity:l=B,strokeWidth:Q=1,fill:F=s,fillOpacity:c=B,textAnchor:g,textStroke:a,textStrokeOpacity:I,textStrokeWidth:U,tickSize:r=("x"===t?6:0),tickPadding:o,tickRotate:d,y:b,margin:C,marginTop:u=(void 0===C?"top"===e?30:0:C),marginRight:y=(void 0===C?20:C),marginBottom:h=(void 0===C?"bottom"===e?30:0:C),marginLeft:A=(void 0===C?20:C),label:G,labelAnchor:R,labelArrow:x,labelOffset:m,...L}){return r=number(r),o=number(o),d=number(d),void 0!==R&&(R=keyword(R,"labelAnchor",["center","left","right"])),x=maybeLabelArrow(x),marks(r&&!isNoneish(n)?axisTickKx(t,e,i,{stroke:n,strokeOpacity:l,strokeWidth:Q,tickSize:r,tickPadding:o,tickRotate:d,y:b,...L}):null,isNoneish(F)?null:axisTextKx(t,e,i,{fill:F,fillOpacity:c,stroke:a,strokeOpacity:I,strokeWidth:U,textAnchor:g,tickSize:r,tickPadding:o,tickRotate:d,y:b,marginTop:u,marginRight:y,marginBottom:h,marginLeft:A,...L}),isNoneish(F)||null===G?null:text([],labelOptions({fill:F,fillOpacity:c,...L},(function(i,s,B,n,l){const Q=n[t],{marginTop:F,marginRight:c,marginBottom:g,marginLeft:a}="x"===t&&l.inset||l,I=R??(Q.bandwidth?"center":"right"),U=m??("top"===e?F:g)-3;return"center"===I?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${I}`,this.textAnchor="right"===I?"end":"start"),this.lineAnchor=e,this.dy="top"===e?-U:U,this.dx="right"===I?c-3:"left"===I?3-a:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[formatAxisLabel(t,Q,{anchor:e,label:G,labelAnchor:I,labelArrow:x})]}}}}))))}function axisTickKy(t,e,i,{strokeWidth:s=1,strokeLinecap:B=null,strokeLinejoin:n=null,facetAnchor:l=e+("y"===t?"-empty":""),frameAnchor:Q=e,tickSize:F,inset:c=0,insetLeft:g=c,insetRight:a=c,dx:I=0,y:U=("y"===t?void 0:null),...r}){return axisMark(vectorY,t,i,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:s,strokeLinecap:B,strokeLinejoin:n,facetAnchor:l,frameAnchor:Q,y:U,...r,dx:"left"===e?+I-offset+ +g:+I+offset-a,anchor:"start",length:F,shape:"left"===e?shapeTickLeft:shapeTickRight})}function axisTickKx(t,e,i,{strokeWidth:s=1,strokeLinecap:B=null,strokeLinejoin:n=null,facetAnchor:l=e+("x"===t?"-empty":""),frameAnchor:Q=e,tickSize:F,inset:c=0,insetTop:g=c,insetBottom:a=c,dy:I=0,x:U=("x"===t?void 0:null),...r}){return axisMark(vectorX,t,i,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:s,strokeLinejoin:n,strokeLinecap:B,facetAnchor:l,frameAnchor:Q,x:U,...r,dy:"bottom"===e?+I-offset-a:+I+offset+ +g,anchor:"start",length:F,shape:"bottom"===e?shapeTickBottom:shapeTickTop})}function axisTextKy(t,e,i,{facetAnchor:s=e+("y"===t?"-empty":""),frameAnchor:B=e,tickSize:n,tickRotate:l=0,tickPadding:Q=Math.max(3,9-n)+(Math.abs(l)>60?4*Math.cos(l*radians):0),text:F,textAnchor:c=(Math.abs(l)>60?"middle":"left"===e?"end":"start"),lineAnchor:g=(l>60?"top":l<-60?"bottom":"middle"),fontVariant:a,inset:I=0,insetLeft:U=I,insetRight:r=I,dx:o=0,y:d=("y"===t?void 0:null),...b}){return axisMark(textY,t,i,{ariaLabel:`${t}-axis tick label`},{facetAnchor:s,frameAnchor:B,text:F,textAnchor:c,lineAnchor:g,fontVariant:a,rotate:l,y:d,...b,dx:"left"===e?+o-n-Q+ +U:+o+ +n+ +Q-r},(function(t,i,s,B,n){void 0===a&&(this.fontVariant=inferFontVariant(t)),void 0===F&&(n.text=inferTextChannel(t,i,s,B,e))}))}function axisTextKx(t,e,i,{facetAnchor:s=e+("x"===t?"-empty":""),frameAnchor:B=e,tickSize:n,tickRotate:l=0,tickPadding:Q=Math.max(3,9-n)+(Math.abs(l)>=10?4*Math.cos(l*radians):0),text:F,textAnchor:c=(Math.abs(l)>=10?l<0^"bottom"===e?"start":"end":"middle"),lineAnchor:g=(Math.abs(l)>=10?"middle":"bottom"===e?"top":"bottom"),fontVariant:a,inset:I=0,insetTop:U=I,insetBottom:r=I,dy:o=0,x:d=("x"===t?void 0:null),...b}){return axisMark(textX,t,i,{ariaLabel:`${t}-axis tick label`},{facetAnchor:s,frameAnchor:B,text:void 0===F?null:F,textAnchor:c,lineAnchor:g,fontVariant:a,rotate:l,x:d,...b,dy:"bottom"===e?+o+ +n+ +Q-r:+o-n-Q+ +U},(function(t,i,s,B,n){void 0===a&&(this.fontVariant=inferFontVariant(t)),void 0===F&&(n.text=inferTextChannel(t,i,s,B,e))}))}function gridY(){const[t,e]=maybeData(...arguments);return gridKy("y",anchorY(e),t,e)}function gridFy(){const[t,e]=maybeData(...arguments);return gridKy("fy",anchorFy(e),t,e)}function gridX(){const[t,e]=maybeData(...arguments);return gridKx("x",anchorX(e),t,e)}function gridFx(){const[t,e]=maybeData(...arguments);return gridKx("fx",anchorFx(e),t,e)}function gridKy(t,e,i,{y:s=("y"===t?void 0:null),x:B=null,x1:n=("left"===e?B:null),x2:l=("right"===e?B:null),...Q}){return axisMark(ruleY,t,i,{ariaLabel:`${t}-grid`,ariaHidden:!0},{y:s,x1:n,x2:l,...gridDefaults(Q)})}function gridKx(t,e,i,{x:s=("x"===t?void 0:null),y:B=null,y1:n=("top"===e?B:null),y2:l=("bottom"===e?B:null),...Q}){return axisMark(ruleX,t,i,{ariaLabel:`${t}-grid`,ariaHidden:!0},{x:s,y1:n,y2:l,...gridDefaults(Q)})}function gridDefaults({color:t="currentColor",opacity:e=.1,stroke:i=t,strokeOpacity:s=e,strokeWidth:B=1,...n}){return{stroke:i,strokeOpacity:s,strokeWidth:B,...n}}function labelOptions({fill:t,fillOpacity:e,fontFamily:i,fontSize:s,fontStyle:B,fontVariant:n,fontWeight:l,monospace:Q,pointerEvents:F,shapeRendering:c,clip:g=!1},a){return[,t]=maybeColorChannel(t),[,e]=maybeNumberChannel(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:i,fontSize:s,fontStyle:B,fontVariant:n,fontWeight:l,monospace:Q,pointerEvents:F,shapeRendering:c,clip:g,initializer:a}}function axisMark(t,e,i,s,B,n){let l;const Q=initializer(B).initializer,F=t(i,initializer({...B,initializer:function(t,i,s,Q,F,c){const g=null==t&&("fx"===e||"fy"===e),{[e]:a}=Q;if(!a)throw new Error(`missing scale: ${e}`);const I=a.domain();let{interval:U,ticks:r,tickFormat:o,tickSpacing:d=("x"===e?80:35)}=B;if("string"==typeof r&&hasTemporalDomain(a)&&(U=r,r=void 0),void 0===r&&(r=maybeRangeInterval(U,a.type)??inferTickCount(a,d)),null==t){if(isIterable(r))t=arrayify(r);else if(isInterval(r))t=inclusiveRange(r,...extent$1(I));else if(a.interval){let e=a.interval;if(a.ticks){const[i,s]=extent$1(I);e=generalizeTimeInterval(e,(s-i)/e[intervalDuration]/r)??e,t=inclusiveRange(e,i,s)}else{e=generalizeTimeInterval(e,(t=I).length/r)??e,e!==a.interval&&(t=inclusiveRange(e,...extent$1(t)))}if(e===a.interval){const e=Math.round(t.length/r);e>1&&(t=t.filter(((t,i)=>i%e==0)))}}else t=a.ticks?a.ticks(r):I;if(!a.ticks&&t.length&&t!==I){const i=new InternSet(I);t=t.filter((t=>i.has(t))),t.length||warn(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}"y"===e||"x"===e?i=[range(t)]:l[e]={scale:e,value:identity$1}}n?.call(this,a,t,r,o,l);const b=Object.fromEntries(Object.entries(l).map((([e,i])=>[e,{...i,value:valueof(t,i.value)}])));return g&&(i=c.filterFacets(t,b)),{data:t,facets:i,channels:b}}},Q));return null==i?(l=F.channels,F.channels={}):l={},void 0!==s&&Object.assign(F,s),void 0===F.clip&&(F.clip=!1),F}function inferTickCount(t,e){const[i,s]=extent$1(t.range());return(s-i)/e}function inferTextChannel(t,e,i,s,B){return{value:inferTickFormat(t,e,i,s,B)}}function inferTickFormat(t,e,i,s,B){return"function"!=typeof s||"log"===t.type&&t.tickFormat?void 0===s&&e&&isTemporal(e)?inferTimeFormat(t.type,e,B)??formatDefault:t.tickFormat?t.tickFormat("number"==typeof i?i:null,s):void 0===s?formatDefault:"string"==typeof s?(isTemporal(t.domain())?utcFormat:format$1)(s):constant(s):s}function inclusiveRange(t,e,i){return t.range(e,t.offset(t.floor(i)))}const shapeTickBottom={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},shapeTickTop={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},shapeTickLeft={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},shapeTickRight={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function inferFontVariant(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function formatAxisLabel(t,e,{anchor:i,label:s=e.label,labelAnchor:B,labelArrow:n}={}){if(!(null==s||s.inferred&&hasTemporalDomain(e)&&/^(date|time|year)$/i.test(s))){if(s=String(s),"auto"===n&&(n=(!e.bandwidth||e.interval)&&!/[ââââ]/.test(s)),!n)return s;if(!0===n){const i=inferScaleOrder(e);i&&(n=/x$/.test(t)||"center"===B?/x$/.test(t)===i<0?"left":"right":i<0?"up":"down")}switch(n){case"left":return`â ${s}`;case"right":return`${s} â`;case"up":return"right"===i?`${s} â`:`â ${s}`;case"down":return"right"===i?`${s} â`:`â ${s}`}return s}}function maybeLabelArrow(t="auto"){return!isNoneish(t)&&("boolean"==typeof t?t:keyword(t,"labelArrow",["auto","up","right","down","left"]))}function hasTemporalDomain(t){return isTemporal(t.domain())}function maybeScale(t,e){if(null==e)return e;const i=t(e);if(!i)throw new Error(`scale not found: ${e}`);return i}function legendSwatches(t,{opacity:e,...i}={}){if(!isOrdinalScale(t)&&!isThresholdScale(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return legendItems(t,i,((t,i,s,B)=>t.append("svg").attr("width",s).attr("height",B).attr("fill",i.scale).attr("fill-opacity",maybeNumberChannel(e)[1]).append("rect").attr("width","100%").attr("height","100%")))}function legendSymbols(t,{fill:e=(void 0!==t.hint?.fill?t.hint.fill:"none"),fillOpacity:i=1,stroke:s=(void 0!==t.hint?.stroke?t.hint.stroke:isNoneish(e)?"currentColor":"none"),strokeOpacity:B=1,strokeWidth:n=1.5,r:l=4.5,...Q}={},F){const[c,g]=maybeColorChannel(e),[a,I]=maybeColorChannel(s),U=maybeScale(F,c),r=maybeScale(F,a),o=l*l*Math.PI;return i=maybeNumberChannel(i)[1],B=maybeNumberChannel(B)[1],n=maybeNumberChannel(n)[1],legendItems(t,Q,((e,s,l,Q)=>e.append("svg").attr("viewBox","-8 -8 16 16").attr("width",l).attr("height",Q).attr("fill","color"===c?t=>U.scale(t):g).attr("fill-opacity",i).attr("stroke","color"===a?t=>r.scale(t):I).attr("stroke-opacity",B).attr("stroke-width",n).append("path").attr("d",(e=>{const i=pathRound();return t.scale(e).draw(i,o),i}))))}function legendItems(t,e={},i){let{columns:s,tickFormat:B,fontVariant:n=inferFontVariant$2(t),swatchSize:l=15,swatchWidth:Q=l,swatchHeight:F=l,marginLeft:c=0,className:g,style:a,width:I}=e;const U=createContext(e);g=maybeClassName(g),B=inferTickFormat(t.scale,t.domain,void 0,B);const r=create("div",U).attr("class",`${g}-swatches ${g}-swatches-${null!=s?"columns":"wrap"}`);let o;return null!=s?(o=`:where(.${g}-swatches-columns .${g}-swatch) {\n  display: flex;\n  align-items: center;\n  break-inside: avoid;\n  padding-bottom: 1px;\n}\n:where(.${g}-swatches-columns .${g}-swatch::before) {\n  flex-shrink: 0;\n}\n:where(.${g}-swatches-columns .${g}-swatch-label) {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}`,r.style("columns",s).selectAll().data(t.domain).enter().append("div").attr("class",`${g}-swatch`).call(i,t,Q,F).call((t=>t.append("div").attr("class",`${g}-swatch-label`).attr("title",B).text(B)))):(o=`:where(.${g}-swatches-wrap) {\n  display: flex;\n  align-items: center;\n  min-height: 33px;\n  flex-wrap: wrap;\n}\n:where(.${g}-swatches-wrap .${g}-swatch) {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}`,r.selectAll().data(t.domain).enter().append("span").attr("class",`${g}-swatch`).call(i,t,Q,F).append((function(){return this.ownerDocument.createTextNode(B.apply(this,arguments))}))),r.call((t=>t.insert("style","*").text(`:where(.${g}-swatches) {\n  font-family: system-ui, sans-serif;\n  font-size: 10px;\n  margin-bottom: 0.5em;\n}\n:where(.${g}-swatch > svg) {\n  margin-right: 0.5em;\n  overflow: visible;\n}\n${o}`))).style("margin-left",c?+c+"px":null).style("width",void 0===I?null:+I+"px").style("font-variant",impliedString(n,"normal")).call(applyInlineStyles,a).node()}const legendRegistry=new Map([["symbol",legendSymbols],["color",legendColor],["opacity",legendOpacity]]);function exposeLegends(t,e,i={}){return(s,B)=>{if(!legendRegistry.has(s))throw new Error(`unknown legend type: ${s}`);if(s in t)return legendRegistry.get(s)(t[s],legendOptions(e,i[s],B),(e=>t[e]))}}function legendOptions({className:t,...e},{label:i,ticks:s,tickFormat:B}={},n){return inherit(n,{className:t,...e},{label:i,ticks:s,tickFormat:B})}function legendColor(t,{legend:e=!0,...i}){if(!0===e&&(e="ordinal"===t.type?"swatches":"ramp"),void 0!==t.domain)switch(`${e}`.toLowerCase()){case"swatches":return legendSwatches(t,i);case"ramp":return legendRamp(t,i);default:throw new Error(`unknown legend type: ${e}`)}}function legendOpacity({type:t,interpolate:e,...i},{legend:s=!0,color:B=rgb(0,0,0),...n}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(!0===s&&(s="ramp"),"ramp"!==`${s}`.toLowerCase())throw new Error(`${s} opacity legends are not supported`);return legendColor({type:t,...i,interpolate:interpolateOpacity(B)},{legend:s,...n})}function interpolateOpacity(t){const{r:e,g:i,b:s}=rgb(t)||rgb(0,0,0);return t=>`rgba(${e},${i},${s},${t})`}function createLegends(t,e,i){const s=[];for(const[B,n]of legendRegistry){const l=i[B];if(l?.legend&&B in t){const i=n(t[B],legendOptions(e,t[B],l),(e=>t[e]));null!=i&&s.push(i)}}return s}function maybeIdentityY(t={}){return hasY(t)?t:{...t,y:identity$1}}function exclusiveFacets(t,e){if(1===e.length)return{data:t,facets:e};const i=lengthof(t),s=new Uint8Array(i);let B=0;for(const t of e)for(const e of t)s[e]&&++B,s[e]=1;if(0===B)return{data:t,facets:e};const n=(t=slice(t))[reindex]=new Uint32Array(i+B);e=e.map((t=>slice(t,Uint32Array)));let l=i;s.fill(0);for(const i of e)for(let e=0,B=i.length;e<B;++e){const B=i[e];s[B]?(i[e]=l,t[l]=t[B],n[l]=B,++l):n[B]=B,s[B]=1}return{data:t,facets:e}}function stackY(t={},e={}){1===arguments.length&&([t,e]=mergeOptions$1(t));const{x1:i,x:s=i,y:B,...n}=e,[l,Q,F,c]=stack(s,B,"x","y",t,n);return{...l,x1:i,x:Q,y1:F,y2:c,y:mid(F,c)}}function maybeStackY({y:t,y1:e,y2:i,...s}={}){return s=withTip(s,"x"),void 0===e&&void 0===i?stackY({y:t,...s}):([e,i]=maybeZero(t,e,i),{...s,y1:e,y2:i})}function mergeOptions$1(t){const{offset:e,order:i,reverse:s,...B}=t;return[{offset:e,order:i,reverse:s},B]}const lengthy={length:!0};function stack(t,e=one,i,s,{offset:B,order:n,reverse:l},Q){if(null===e)throw new Error(`stack requires ${s}`);const F=maybeZ(Q),[c,g]=maybeColumn(t),[a,I]=column(e),[U,r]=column(e);return a.hint=U.hint=lengthy,B=maybeOffset(B),n=maybeOrder(n,B,s),[basic(Q,((s,Q,c)=>{({data:s,facets:Q}=exclusiveFacets(s,Q));const a=null==t?void 0:g(maybeApplyInterval(valueof(s,t),c?.[i])),U=valueof(s,e,Float64Array),o=valueof(s,F),d=n&&n(s,a,U,o),b=lengthof(s),C=I(new Float64Array(b)),u=r(new Float64Array(b)),y=[];for(const t of Q){const e=a?Array.from(group(t,(t=>a[t])).values()):[t];if(d)for(const t of e)t.sort(d);for(const t of e){let e=0,i=0;l&&t.reverse();for(const s of t){const t=U[s];t<0?e=u[s]=(C[s]=e)+t:t>0?i=u[s]=(C[s]=i)+t:u[s]=C[s]=i}}y.push(e)}return B&&B(y,C,u,o),{data:s,facets:Q}})),c,a,U]}function maybeOffset(t){if(null!=t){if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return offsetExpand;case"center":case"silhouette":return offsetCenter;case"wiggle":return offsetWiggle}throw new Error(`unknown offset: ${t}`)}}function extent(t,e){let i=0,s=0;for(const B of t){const t=e[B];t<i&&(i=t),t>s&&(s=t)}return[i,s]}function offsetExpand(t,e,i){for(const s of t)for(const t of s){const[s,B]=extent(t,i);for(const n of t){const t=1/(B-s||1);e[n]=t*(e[n]-s),i[n]=t*(i[n]-s)}}}function offsetCenter(t,e,i){for(const s of t){for(const t of s){const[s,B]=extent(t,i);for(const n of t){const t=(B+s)/2;e[n]-=t,i[n]-=t}}offsetZero(s,e,i)}offsetCenterFacets(t,e,i)}function offsetWiggle(t,e,i,s){for(const B of t){const t=new InternMap;let n=0;for(const l of B){let B=-1;const Q=l.map((t=>Math.abs(i[t]-e[t]))),F=l.map((n=>{B=s?s[n]:++B;const l=i[n]-e[n],Q=t.has(B)?l-t.get(B):0;return t.set(B,l),Q})),c=[0,...cumsum(F)];for(const t of l)e[t]+=n,i[t]+=n;const g=sum(Q);g&&(n-=sum(Q,((t,e)=>(F[e]/2+c[e])*t))/g)}offsetZero(B,e,i)}offsetCenterFacets(t,e,i)}function offsetZero(t,e,i){const s=min$1(t,(t=>min$1(t,(t=>e[t]))));for(const B of t)for(const t of B)e[t]-=s,i[t]-=s}function offsetCenterFacets(t,e,i){const s=t.length;if(1===s)return;const B=t.map((t=>t.flat())),n=B.map((t=>(min$1(t,(t=>e[t]))+max(t,(t=>i[t])))/2)),l=min$1(n);for(let t=0;t<s;t++){const s=l-n[t];for(const n of B[t])e[n]+=s,i[n]+=s}}function maybeOrder(t,e,i){if(void 0===t&&e===offsetWiggle)return orderInsideOut(ascendingDefined);if(null!=t){if("string"==typeof t){const e=t.startsWith("-"),s=e?descendingDefined:ascendingDefined;switch((e?t.slice(1):t).toLowerCase()){case"value":case i:return orderY(s);case"z":return orderZ(s);case"sum":return orderSum(s);case"appearance":return orderAppearance(s);case"inside-out":return orderInsideOut(s)}return orderAccessor(field(t))}if("function"==typeof t)return(1===t.length?orderAccessor:orderComparator)(t);if(isArray(t))return orderGiven(t);throw new Error(`invalid order: ${t}`)}}function orderY(t){return(e,i,s)=>(e,i)=>t(s[e],s[i])}function orderZ(t){return(e,i,s,B)=>(e,i)=>t(B[e],B[i])}function orderSum(t){return orderZDomain(t,((t,e,i,s)=>groupSort(range(t),(t=>sum(t,(t=>i[t]))),(t=>s[t]))))}function orderAppearance(t){return orderZDomain(t,((t,e,i,s)=>groupSort(range(t),(t=>e[greatest(t,(t=>i[t]))]),(t=>s[t]))))}function orderInsideOut(t){return orderZDomain(t,((t,e,i,s)=>{const B=range(t),n=groupSort(B,(t=>e[greatest(t,(t=>i[t]))]),(t=>s[t])),l=rollup(B,(t=>sum(t,(t=>i[t]))),(t=>s[t])),Q=[],F=[];let c=0;for(const t of n)c<0?(c+=l.get(t),Q.push(t)):(c-=l.get(t),F.push(t));return F.reverse().concat(Q)}))}function orderAccessor(t){return e=>{const i=valueof(e,t);return(t,e)=>ascendingDefined(i[t],i[e])}}function orderComparator(t){return e=>isArray(e)?(i,s)=>t(e[i],e[s]):(i,s)=>t(e.get(i),e.get(s))}function orderGiven(t){return orderZDomain(ascendingDefined,(()=>t))}function orderZDomain(t,e){return(i,s,B,n)=>{if(!n)throw new Error("missing channel: z");const l=new InternMap(e(i,s,B,n).map(((t,e)=>[t,e])));return(e,i)=>t(l.get(n[e]),l.get(n[i]))}}const defaults$3={ariaLabel:"rect"};class Rect extends Mark{constructor(t,e={}){const{x1:i,y1:s,x2:B,y2:n}=e;super(t,{x1:{value:i,scale:"x",type:null!=i&&null==B?"band":void 0,optional:!0},y1:{value:s,scale:"y",type:null!=s&&null==n?"band":void 0,optional:!0},x2:{value:B,scale:"x",optional:!0},y2:{value:n,scale:"y",optional:!0}},e,defaults$3),rectInsets(this,e),rectRadii(this,e)}render(t,e,i,s,B){const{x:n,y:l}=e;let{x1:Q,y1:F,x2:c,y2:g}=i;const{marginTop:a,marginRight:I,marginBottom:U,marginLeft:r,width:o,height:d}=s,{projection:b}=B,{insetTop:C,insetRight:u,insetBottom:y,insetLeft:h}=this,{rx:A,ry:G,rx1y1:R,rx1y2:x,rx2y1:m,rx2y2:L}=this;(Q||c)&&!b&&isCollapsed(n)&&(Q=c=null),(F||g)&&!b&&isCollapsed(l)&&(F=g=null);const S=n?.bandwidth?n.bandwidth():0,p=l?.bandwidth?l.bandwidth():0;return create("svg:g",B).call(applyIndirectStyles,this,s,B).call(applyTransform,this,{},0,0).call((e=>e.selectAll().data(t).enter().call(R||x||m||L?t=>t.append("path").call(applyDirectStyles,this).call(applyRoundedRect,Q&&c?t=>Q[t]+(c[t]<Q[t]?-u:h):Q?t=>Q[t]+h:r+h,F&&g?t=>F[t]+(g[t]<F[t]?-y:C):F?t=>F[t]+C:a+C,Q&&c?t=>c[t]-(c[t]<Q[t]?-h:u):Q?t=>Q[t]+S-u:o-I-u,F&&g?t=>g[t]-(g[t]<F[t]?-C:y):F?t=>F[t]+p-y:d-U-y,this).call(applyChannelStyles,this,i):t=>t.append("rect").call(applyDirectStyles,this).attr("x",Q?c?t=>Math.min(Q[t],c[t])+h:t=>Q[t]+h:r+h).attr("y",F?g?t=>Math.min(F[t],g[t])+C:t=>F[t]+C:a+C).attr("width",Q?c?t=>Math.max(0,Math.abs(c[t]-Q[t])+S-h-u):S-h-u:o-I-r-u-h).attr("height",F?g?t=>Math.max(0,Math.abs(F[t]-g[t])+p-C-y):p-C-y:d-a-U-C-y).call(applyAttr,"rx",A).call(applyAttr,"ry",G).call(applyChannelStyles,this,i)))).node()}}function rectInsets(t,{inset:e=0,insetTop:i=e,insetRight:s=e,insetBottom:B=e,insetLeft:n=e}={}){t.insetTop=number(i),t.insetRight=number(s),t.insetBottom=number(B),t.insetLeft=number(n)}function rectRadii(t,{r:e,rx:i,ry:s,rx1:B=e,ry1:n=e,rx2:l=e,ry2:Q=e,rx1y1:F=(void 0!==B?+B:void 0!==n?+n:0),rx1y2:c=(void 0!==B?+B:void 0!==Q?+Q:0),rx2y1:g=(void 0!==l?+l:void 0!==n?+n:0),rx2y2:a=(void 0!==l?+l:void 0!==Q?+Q:0)}={}){F||c||g||a?(t.rx1y1=F,t.rx1y2=c,t.rx2y1=g,t.rx2y2=a):(t.rx=impliedString(i,"auto"),t.ry=impliedString(s,"auto"))}function applyRoundedRect(t,e,i,s,B,n){const{rx1y1:l,rx1y2:Q,rx2y1:F,rx2y2:c}=n;"function"!=typeof e&&(e=constant(e)),"function"!=typeof i&&(i=constant(i)),"function"!=typeof s&&(s=constant(s)),"function"!=typeof B&&(B=constant(B));const g=Math.max(Math.abs(l+F),Math.abs(Q+c)),a=Math.max(Math.abs(l+Q),Math.abs(F+c));t.attr("d",(t=>{const n=e(t),I=i(t),U=s(t),r=B(t),o=n>U,d=I>r,b=o?U:n,C=o?n:U,u=d?r:I,y=d?I:r,h=Math.min(1,(C-b)/g,(y-u)/a),A=h*(o?d?c:F:d?Q:l),G=h*(o?d?Q:l:d?c:F),R=h*(o?d?l:Q:d?F:c),x=h*(o?d?F:c:d?l:Q);return`M${b},${u+biasY(A,x)}A${A},${A} 0 0 ${A<0?0:1} ${b+biasX(A,x)},${u}H${C-biasX(G,R)}A${G},${G} 0 0 ${G<0?0:1} ${C},${u+biasY(G,R)}V${y-biasY(R,G)}A${R},${R} 0 0 ${R<0?0:1} ${C-biasX(R,G)},${y}H${b+biasX(x,A)}A${x},${x} 0 0 ${x<0?0:1} ${b},${y-biasY(x,A)}Z`}))}function biasX(t,e){return e<0?t:Math.abs(t)}function biasY(t,e){return e<0?Math.abs(t):t}function rectY(t,e={}){return hasXY(e)||(e={...e,x:indexOf,y2:identity$1,interval:1}),new Rect(t,maybeStackY(maybeTrivialIntervalX(maybeIdentityY(e))))}const defaults$2={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},lineDefaults={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class Frame extends Mark{constructor(t={}){const{anchor:e=null}=t;super(singleton,void 0,t,null==e?defaults$2:lineDefaults),this.anchor=maybeKeyword(e,"anchor",["top","right","bottom","left"]),rectInsets(this,t),e||rectRadii(this,t)}render(t,e,i,s,B){const{marginTop:n,marginRight:l,marginBottom:Q,marginLeft:F,width:c,height:g}=s,{anchor:a,insetTop:I,insetRight:U,insetBottom:r,insetLeft:o}=this,{rx:d,ry:b,rx1y1:C,rx1y2:u,rx2y1:y,rx2y2:h}=this,A=F+o,G=c-l-U,R=n+I,x=g-Q-r;return create(a?"svg:line":C||u||y||h?"svg:path":"svg:rect",B).datum(0).call(applyIndirectStyles,this,s,B).call(applyDirectStyles,this).call(applyChannelStyles,this,i).call(applyTransform,this,{}).call("left"===a?t=>t.attr("x1",A).attr("x2",A).attr("y1",R).attr("y2",x):"right"===a?t=>t.attr("x1",G).attr("x2",G).attr("y1",R).attr("y2",x):"top"===a?t=>t.attr("x1",A).attr("x2",G).attr("y1",R).attr("y2",R):"bottom"===a?t=>t.attr("x1",A).attr("x2",G).attr("y1",x).attr("y2",x):C||u||y||h?t=>t.call(applyRoundedRect,A,R,G,x,this):t=>t.attr("x",A).attr("y",R).attr("width",G-A).attr("height",x-R).attr("rx",d).attr("ry",b)).node()}}function frame(t){return new Frame(t)}const defaults$1={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},ignoreChannels=new Set(["geometry","href","src","ariaLabel","scales"]);class Tip extends Mark{constructor(t,e={}){e.tip&&(e={...e,tip:!1}),void 0===e.title&&isIterable(t)&&isTextual(t)&&(e={...e,title:identity$1});const{x:i,y:s,x1:B,x2:n,y1:l,y2:Q,anchor:F,preferredAnchor:c="bottom",monospace:g,fontFamily:a=(g?"ui-monospace, monospace":void 0),fontSize:I,fontStyle:U,fontVariant:r,fontWeight:o,lineHeight:d=1,lineWidth:b=20,frameAnchor:C,format:u,textAnchor:y="start",textOverflow:h,textPadding:A=8,title:G,pointerSize:R=12,pathFilter:x="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(t,{x:{value:null!=B&&null!=n?null:i,scale:"x",optional:!0},y:{value:null!=l&&null!=Q?null:s,scale:"y",optional:!0},x1:{value:B,scale:"x",optional:null==n},y1:{value:l,scale:"y",optional:null==Q},x2:{value:n,scale:"x",optional:null==B},y2:{value:Q,scale:"y",optional:null==l},title:{value:G,optional:!0}},e,defaults$1),this.anchor=maybeAnchor$1(F,"anchor"),this.preferredAnchor=maybeAnchor$1(c,"preferredAnchor"),this.frameAnchor=maybeFrameAnchor(C),this.textAnchor=impliedString(y,"middle"),this.textPadding=+A,this.pointerSize=+R,this.pathFilter=string(x),this.lineHeight=+d,this.lineWidth=+b,this.textOverflow=maybeTextOverflow(h),this.monospace=!!g,this.fontFamily=string(a),this.fontSize=number(I),this.fontStyle=string(U),this.fontVariant=string(r),this.fontWeight=string(o);for(const t in defaults$1)t in this.channels&&(this[t]=defaults$1[t]);this.splitLines=splitter(this),this.clipLine=clipper(this),this.format="string"==typeof u||"function"==typeof u?{title:u}:{...u}}render(t,e,i,s,B){const n=this,{x:l,y:Q,fx:F,fy:c}=e,{ownerSVGElement:g,document:a}=B,{anchor:I,monospace:U,lineHeight:r,lineWidth:o}=this,{textPadding:d,pointerSize:b,pathFilter:C}=this,{marginTop:u,marginLeft:y}=s,{x1:h,y1:A,x2:G,y2:R,x:x=h??G,y:m=A??R}=i,L=F?F(t.fx)-y:0,S=c?c(t.fy)-u:0,[p,V]=applyFrameAnchor(this,s),Z=anchorX$1(i,p),E=anchorY$1(i,V),N=U?monospaceWidth:defaultWidth,f=N(ellipsis);let X,W;"title"in i?(X=getSourceChannels.call(this,{title:i.channels.title},e),W=formatTitle):(X=getSourceChannels.call(this,i.channels,e),W=formatChannels);const H=create("svg:g",B).call(applyIndirectStyles,this,s,B).call(applyIndirectTextStyles,this).call(applyTransform,this,{x:x&&l,y:m&&Q}).call((s=>s.selectAll().data(t).enter().append("g").attr("transform",(t=>`translate(${Math.round(Z(t))},${Math.round(E(t))})`)).call(applyDirectStyles,this).call((t=>t.append("path").attr("filter",C))).call((s=>s.append("text").each((function(s){const B=select(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const l=W.call(n,s,t,X,e,i);if("string"==typeof l)for(const t of n.splitLines(l))D(B,{value:n.clipLine(t)});else{const t=new Set;for(const e of l){const{label:i=""}=e;i&&t.has(i)||(t.add(i),D(B,e))}}}))))));function D(t,{label:e,value:i,color:s,opacity:B}){e??="",i??="";const n=null!=s||null!=B;let l,Q=100*o;const[F]=cut(e,Q,N,f);if(F>=0)e=e.slice(0,F).trimEnd()+ellipsis,l=i.trim(),i="";else{(e||!i&&!n)&&(i=" "+i);const[t]=cut(i,Q-N(e),N,f);t>=0&&(l=i.trim(),i=i.slice(0,t).trimEnd()+ellipsis)}const c=t.append("tspan").attr("x",0).attr("dy",`${r}em`).text("â");e&&c.append("tspan").attr("font-weight","bold").text(e),i&&c.append((()=>a.createTextNode(i))),n&&c.append("tspan").text(" â ").attr("fill",s).attr("fill-opacity",B).style("user-select","none"),l&&c.append("title").text(l)}function w(){const{width:t,height:e}=s.facet??s;H.selectChildren().each((function(i){let{x:s,width:B,height:l}=this.getBBox();B=Math.round(B),l=Math.round(l);let Q=I;if(void 0===Q){const s=Z(i)+L,F=E(i)+S,c=s+B+b+2*d<t,g=s-B-b-2*d>0,a=F+l+b+2*d<e,I=F-l-b-2*d>0;Q=c&&g?a&&I?n.preferredAnchor:I?"bottom":"top":a&&I?c?"left":"right":(c||g)&&(a||I)?`${I?"bottom":"top"}-${c?"left":"right"}`:n.preferredAnchor}const F=this.firstChild,c=this.lastChild;if(F.setAttribute("d",getPath(Q,b,d,B,l)),s)for(const t of c.childNodes)t.setAttribute("x",-s);c.setAttribute("y",+getLineOffset(Q,c.childNodes.length,r).toFixed(6)+"em"),c.setAttribute("transform",`translate(${getTextTranslate(Q,b,d,B,l)})`)})),H.attr("visibility",null)}return t.length&&(H.attr("visibility","hidden"),g.isConnected?Promise.resolve().then(w):"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(w)),H.node()}}function tip(t,{x:e,y:i,...s}={}){return void 0===s.frameAnchor&&([e,i]=maybeTuple(e,i)),new Tip(t,{...s,x:e,y:i})}function getLineOffset(t,e,i){return/^top(?:-|$)/.test(t)?.94-i:-.29-e*i}function getTextTranslate(t,e,i,s,B){switch(t){case"middle":return[-s/2,B/2];case"top-left":return[i,e+i];case"top":return[-s/2,e/2+i];case"top-right":return[-s-i,e+i];case"right":return[-e/2-s-i,B/2];case"bottom-left":return[i,-e-i];case"bottom":return[-s/2,-e/2-i];case"bottom-right":return[-s-i,-e-i];case"left":return[i+e/2,B/2]}}function getPath(t,e,i,s,B){const n=s+2*i,l=B+2*i;switch(t){case"middle":return`M${-n/2},${-l/2}h${n}v${l}h${-n}z`;case"top-left":return`M0,0l${e},${e}h${n-e}v${l}h${-n}z`;case"top":return`M0,0l${e/2},${e/2}h${(n-e)/2}v${l}h${-n}v${-l}h${(n-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-n}v${l}h${n}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-l/2}h${-n}v${l}h${n}v${e/2-l/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${n-e}v${-l}h${-n}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(n-e)/2}v${-l}h${-n}v${l}h${(n-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-n}v${-l}h${n}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-l/2}h${n}v${l}h${-n}v${e/2-l/2}z`}}function getSourceChannels(t,e){const i={};let s=this.format;s=maybeExpandPairedFormat(s,t,"x"),s=maybeExpandPairedFormat(s,t,"y"),this.format=s;for(const e in s){const B=s[e];if(null!==B&&!1!==B)if("fx"===e||"fy"===e)i[e]=!0;else{const s=getSource(t,e);s&&(i[e]=s)}}for(const e in t){if(e in i||e in s||ignoreChannels.has(e))continue;if(("x"===e||"y"===e)&&t.geometry)continue;const B=getSource(t,e);if(B){if(null==B.scale&&"color"===B.defaultScale)continue;i[e]=B}}this.facet&&(e.fx&&!("fx"in s)&&(i.fx=!0),e.fy&&!("fy"in s)&&(i.fy=!0));for(const t in i){const s=this.format[t];if("string"==typeof s){const B=i[t]?.value??e[t]?.domain()??[];this.format[t]=(isTemporal(B)?utcFormat:format$1)(s)}else if(void 0===s||!0===s){const i=e[t];this.format[t]=i?.bandwidth?inferTickFormat(i,i.domain()):formatDefault}}return i}function maybeExpandPairedFormat(t,e,i){if(!(i in t))return t;const s=`${i}1`,B=`${i}2`;if(!(!(s in t)&&s in e||!(B in t)&&B in e))return t;const n=Object.entries(t),l=t[i];return n.splice(n.findIndex((([t])=>t===i))+1,0,[s,l],[B,l]),Object.fromEntries(n)}function formatTitle(t,e,{title:i}){return this.format.title(i.value[t],t)}function*formatChannels(t,e,i,s,B){for(const n in i){if("fx"===n||"fy"===n){yield{label:formatLabel(s,i,n),value:this.format[n](e[n],t)};continue}if("x1"===n&&"x2"in i)continue;if("y1"===n&&"y2"in i)continue;const l=i[n];if("x2"===n&&"x1"in i)yield{label:formatPairLabel(s,i,"x"),value:formatPair(this.format.x2,i.x1,l,t)};else if("y2"===n&&"y1"in i)yield{label:formatPairLabel(s,i,"y"),value:formatPair(this.format.y2,i.y1,l,t)};else{const e=l.value[t],Q=l.scale;if(!defined(e)&&null==Q)continue;yield{label:formatLabel(s,i,n),value:this.format[n](e,t),color:"color"===Q?B[n][t]:null,opacity:"opacity"===Q?B[n][t]:null}}}}function formatPair(t,e,i,s){return i.hint?.length?`${t(i.value[s]-e.value[s],s)}`:`${t(e.value[s],s)}â${t(i.value[s],s)}`}function formatPairLabel(t,e,i){const s=formatLabel(t,e,`${i}1`,i),B=formatLabel(t,e,`${i}2`,i);return s===B?s:`${s}â${B}`}function formatLabel(t,e,i,s=i){const B=e[i],n=t[B?.scale??i];return String(n?.label??B?.label??s)}function plot(t={}){const{facet:e,style:i,title:s,subtitle:B,caption:n,ariaLabel:l,ariaDescription:Q}=t,F=maybeClassName(t.className),c=void 0===t.marks?[]:flatMarks(t.marks);c.push(...inferTips(c));const g=maybeTopFacet(e,t),a=new Map;for(const e of c){const i=maybeMarkFacet(e,g,t);i&&a.set(e,i)}const I=new Map;g&&addScaleChannels(I,[g],t),addScaleChannels(I,a,t);const U=flatMarks(inferAxes(c,I,t));for(const e of U){const i=maybeMarkFacet(e,g,t);i&&a.set(e,i)}c.unshift(...U);let r=createFacets(I,t);if(void 0!==r){const t=g?facetFilter(r,g):void 0;for(const e of c){if(null===e.facet||"super"===e.facet)continue;const i=a.get(e);void 0!==i&&(i.facetsIndex=null!=e.fx||null!=e.fy?facetFilter(r,i):t)}const e=new Set;for(const{facetsIndex:t}of a.values())t?.forEach(((t,i)=>{t?.length>0&&e.add(i)}));r.forEach(0<e.size&&e.size<r.length?(t,i)=>t.empty=!e.has(i):t=>t.empty=!1);for(const t of c)if("exclude"===t.facet){const e=a.get(t);void 0!==e&&(e.facetsIndex=facetExclude(e.facetsIndex))}}for(const e of registry.keys())isScaleOptions(t[e])&&"fx"!==e&&"fy"!==e&&I.set(e,[]);const o=new Map;for(const e of c){if(o.has(e))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:i,channels:s}=a.get(e)??{},{data:B,facets:n,channels:l}=e.initialize(i,s,t);applyScaleTransforms(l,t),o.set(e,{data:B,facets:n,channels:l})}const d=createScales(addScaleChannels(I,o,t),t),b=createDimensions(d,c,t);autoScaleRange(d,b);const C=createScaleFunctions(d),{fx:u,fy:y}=C,h=u||y?innerDimensions(d,b):b,A=u||y?actualDimensions(C,b):b,G=createContext(t),R=G.document,x=creator("svg").call(R.documentElement);let m=x;G.ownerSVGElement=x,G.className=F,G.projection=createProjection(t,h),G.filterFacets=(t,e)=>facetFilter(r,{channels:e,groups:facetGroups(t,e)}),G.getMarkState=t=>{const e=o.get(t),i=a.get(t);return{...e,channels:{...e.channels,...i?.channels}}},G.dispatchValue=t=>{m.value!==t&&(m.value=t,m.dispatchEvent(new Event("input",{bubbles:!0})))};const L=new Set;for(const[e,i]of o)if(null!=e.initializer){const s="super"===e.facet?A:h,B=e.initializer(i.data,i.facets,i.channels,C,s,G);if(void 0!==B.data&&(i.data=B.data),void 0!==B.facets&&(i.facets=B.facets),void 0!==B.channels){const{fx:s,fy:n,...l}=B.channels;inferChannelScales(l),Object.assign(i.channels,l);for(const e of Object.values(l)){const{scale:i}=e;null==i||isPosition(registry.get(i))||(applyScaleTransform(e,t),L.add(i))}null==s&&null==n||a.set(e,!0)}}if(L.size){const e=new Map;addScaleChannels(e,o,t,(t=>L.has(t))),addScaleChannels(I,o,t,(t=>L.has(t)));const i=inheritScaleLabels(createScales(e,t),d),{scales:s,...B}=createScaleFunctions(i);Object.assign(d,i),Object.assign(C,B),Object.assign(C.scales,s)}let S,p;void 0!==r&&(S={x:u?.domain(),y:y?.domain()},r=recreateFacets(r,S),p=facetTranslator(u,y,b));for(const[t,e]of o)e.values=t.scale(e.channels,C,G);const{width:V,height:Z}=b;select(x).attr("class",F).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",V).attr("height",Z).attr("viewBox",`0 0 ${V} ${Z}`).attr("aria-label",l).attr("aria-description",Q).call((t=>t.append("style").text(`:where(.${F}) {\n  --plot-background: white;\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n}\n:where(.${F} text),\n:where(.${F} tspan) {\n  white-space: pre;\n}`))).call(applyInlineStyles,i);for(const t of c){const{channels:e,values:i,facets:s}=o.get(t);if(void 0===r||"super"===t.facet){let B=null;if(s&&(B=s[0],B=t.filter(B,e,i),0===B.length))continue;const n=t.render(B,C,i,A,G);if(null==n)continue;x.appendChild(n)}else{let B;for(const n of r){if(!(t.facetAnchor?.(r,S,n)??!n.empty))continue;let l=null;if(s){const B=a.has(t);if(l=s[B?n.i:0],l=t.filter(l,e,i),0===l.length)continue;B||l!==s[0]||(l=subarray(l)),l.fx=n.x,l.fy=n.y,l.fi=n.i}const Q=t.render(l,C,i,h,G);if(null!=Q){(B??=select(x).append("g")).append((()=>Q)).datum(n);for(const t of["aria-label","aria-description","aria-hidden","transform"])Q.hasAttribute(t)&&(B.attr(t,Q.getAttribute(t)),Q.removeAttribute(t))}}B?.selectChildren().attr("transform",p)}}const E=createLegends(d,G,t),{figure:N=null!=s||null!=B||null!=n||E.length>0}=t;N&&(m=R.createElement("figure"),m.className=`${F}-figure`,m.style.maxWidth="initial",null!=s&&m.append(createTitleElement(R,s,"h2")),null!=B&&m.append(createTitleElement(R,B,"h3")),m.append(...E,x),null!=n&&m.append(createFigcaption(R,n)),"value"in x&&(m.value=x.value,delete x.value)),m.scale=exposeScales(C.scales),m.legend=exposeLegends(d,G,t);const f=consumeWarnings();return f>0&&select(x).append("text").attr("x",V).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("â ï¸").append("title").text(`${f.toLocaleString("en-US")} warning${1===f?"":"s"}. Please check the console.`),m}function createTitleElement(t,e,i){if(e.ownerDocument)return e;const s=t.createElement(i);return s.append(e),s}function createFigcaption(t,e){const i=t.createElement("figcaption");return i.append(e),i}function flatMarks(t){return t.flat(1/0).filter((t=>null!=t)).map(markify)}function markify(t){return"function"==typeof t.render?t:new Render(t)}class Render extends Mark{constructor(t){if("function"!=typeof t)throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function applyScaleTransforms(t,e){for(const i in t)applyScaleTransform(t[i],e);return t}function applyScaleTransform(t,e){const{scale:i,transform:s=!0}=t;if(null==i||!s)return;const{type:B,percent:n,interval:l,transform:Q=(n?t=>null==t?NaN:100*t:maybeIntervalTransform(l,B))}=e[i]??{};null!=Q&&(t.value=map(t.value,Q),t.transform=!1)}function inferChannelScales(t){for(const e in t)inferChannelScale(e,t[e])}function addScaleChannels(t,e,i,s=yes){for(const{channels:B}of e.values())for(const e in B){const n=B[e],{scale:l}=n;if(null!=l&&s(l))if("projection"===l){if(!hasProjection(i)){const e=void 0===i.x?.domain,s=void 0===i.y?.domain;if(e||s){const[i,B]=getGeometryChannels(n);e&&addScaleChannel(t,"x",i),s&&addScaleChannel(t,"y",B)}}}else addScaleChannel(t,l,n)}return t}function addScaleChannel(t,e,i){const s=t.get(e);void 0!==s?s.push(i):t.set(e,[i])}function maybeTopFacet(t,e){if(null==t)return;const{x:i,y:s}=t;if(null==i&&null==s)return;const B=dataify(t.data);if(null==B)throw new Error("missing facet data");const n={};null!=i&&(n.fx=createChannel(B,{value:i,scale:"fx"})),null!=s&&(n.fy=createChannel(B,{value:s,scale:"fy"})),applyScaleTransforms(n,e);return{channels:n,groups:facetGroups(B,n),data:t.data}}function maybeMarkFacet(t,e,i){if(null===t.facet||"super"===t.facet)return;const{fx:s,fy:B}=t;if(null!=s||null!=B){const e=dataify(t.data??s??B);if(void 0===e)throw new Error(`missing facet data in ${t.ariaLabel}`);if(null===e)return;const n={};return null!=s&&(n.fx=createChannel(e,{value:s,scale:"fx"})),null!=B&&(n.fy=createChannel(e,{value:B,scale:"fy"})),applyScaleTransforms(n,i),{channels:n,groups:facetGroups(e,n)}}if(void 0===e)return;const{channels:n,groups:l,data:Q}=e;if("auto"!==t.facet||t.data===Q)return{channels:n,groups:l};Q.length>0&&(l.size>1||1===l.size&&n.fx&&n.fy&&[...l][0][1].size>1)&&lengthof(dataify(t.data))===lengthof(Q)&&warn(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnât faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function derive(t,e={}){return initializer({...e,x:null,y:null},((e,i,s,B,n,l)=>l.getMarkState(t)))}function inferTips(t){const e=[];for(const i of t){let t=i.tip;if(t){!0===t?t={}:"string"==typeof t&&(t={pointer:t});let{pointer:s,preferredAnchor:B}=t;s=/^x$/i.test(s)?pointerX:/^y$/i.test(s)?pointerY:pointer,t=s(derive(i,t)),t.title=null,void 0===B&&(t.preferredAnchor=s===pointerY?"left":"bottom");const n=tip(i.data,t);n.facet=i.facet,n.facetAnchor=i.facetAnchor,e.push(n)}}return e}function inferAxes(t,e,i){let{projection:s,x:B={},y:n={},fx:l={},fy:Q={},axis:F,grid:c,facet:g={},facet:{axis:a=F,grid:I}=g,x:{axis:U=F,grid:r=(null===U?null:c)}=B,y:{axis:o=F,grid:d=(null===o?null:c)}=n,fx:{axis:b=a,grid:C=(null===b?null:I)}=l,fy:{axis:u=a,grid:y=(null===u?null:I)}=Q}=i;(s||!isScaleOptions(B)&&!hasPositionChannel("x",t))&&(U=r=null),(s||!isScaleOptions(n)&&!hasPositionChannel("y",t))&&(o=d=null),e.has("fx")||(b=C=null),e.has("fy")||(u=y=null),void 0===U&&(U=!hasAxis(t,"x")),void 0===o&&(o=!hasAxis(t,"y")),void 0===b&&(b=!hasAxis(t,"fx")),void 0===u&&(u=!hasAxis(t,"fy")),!0===U&&(U="bottom"),!0===o&&(o="left"),!0===b&&(b="top"===U||null===U?"bottom":"top"),!0===u&&(u="right"===o||null===o?"left":"right");const h=[];return maybeGrid(h,y,gridFy,Q),maybeAxis(h,u,axisFy,"right","left",g,Q),maybeGrid(h,C,gridFx,l),maybeAxis(h,b,axisFx,"top","bottom",g,l),maybeGrid(h,d,gridY,n),maybeAxis(h,o,axisY,"left","right",i,n),maybeGrid(h,r,gridX,B),maybeAxis(h,U,axisX,"bottom","top",i,B),h}function maybeAxis(t,e,i,s,B,n,l){if(!e)return;const Q=isBoth(e);l=axisOptions(Q?s:e,n,l);const{line:F}=l;i!==axisY&&i!==axisX||!F||isNone(F)||t.push(frame(lineOptions(l))),t.push(i(l)),Q&&t.push(i({...l,anchor:B,label:null}))}function maybeGrid(t,e,i,s){e&&!isNone(e)&&t.push(i(gridOptions(e,s)))}function isBoth(t){return/^\s*both\s*$/i.test(t)}function axisOptions(t,e,{line:i=e.line,ticks:s,tickSize:B,tickSpacing:n,tickPadding:l,tickFormat:Q,tickRotate:F,fontVariant:c,ariaLabel:g,ariaDescription:a,label:I=e.label,labelAnchor:U,labelArrow:r=e.labelArrow,labelOffset:o}){return{anchor:t,line:i,ticks:s,tickSize:B,tickSpacing:n,tickPadding:l,tickFormat:Q,tickRotate:F,fontVariant:c,ariaLabel:g,ariaDescription:a,label:I,labelAnchor:U,labelArrow:r,labelOffset:o}}function lineOptions(t){const{anchor:e,line:i}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:!0===i?void 0:i}}function gridOptions(t,{stroke:e=(isColor(t)?t:void 0),ticks:i=(isGridTicks(t)?t:void 0),tickSpacing:s,ariaLabel:B,ariaDescription:n}){return{stroke:e,ticks:i,tickSpacing:s,ariaLabel:B,ariaDescription:n}}function isGridTicks(t){switch(typeof t){case"number":return!0;case"string":return!isColor(t)}return isIterable(t)||"function"==typeof t?.range}function hasAxis(t,e){const i=`${e}-axis `;return t.some((t=>t.ariaLabel?.startsWith(i)))}function hasPositionChannel(t,e){for(const i of e)for(const e in i.channels){const{scale:s}=i.channels[e];if(s===t||"projection"===s)return!0}return!1}function inheritScaleLabels(t,e){for(const i in t){const s=t[i],B=e[i];void 0===s.label&&B&&(s.label=B.label)}return t}function actualDimensions({fx:t,fy:e},i){const{marginTop:s,marginRight:B,marginBottom:n,marginLeft:l,width:Q,height:F}=outerDimensions(i),c=t&&outerRange(t),g=e&&outerRange(e);return{marginTop:e?g[0]:s,marginRight:t?Q-c[1]:B,marginBottom:e?F-g[1]:n,marginLeft:t?c[0]:l,inset:{marginTop:i.marginTop,marginRight:i.marginRight,marginBottom:i.marginBottom,marginLeft:i.marginLeft},width:Q,height:F}}function outerRange(t){const e=t.domain();if(0===e.length)return[0,t.bandwidth()];let i=t(e[0]),s=t(e[e.length-1]);return s<i&&([i,s]=[s,i]),[i,s+t.bandwidth()]}const curves=new Map([["basis",curveBasis],["basis-closed",curveBasisClosed],["basis-open",curveBasisOpen],["bundle",curveBundle],["bump-x",bumpX],["bump-y",bumpY],["cardinal",curveCardinal],["cardinal-closed",curveCardinalClosed],["cardinal-open",curveCardinalOpen],["catmull-rom",curveCatmullRom],["catmull-rom-closed",curveCatmullRomClosed],["catmull-rom-open",curveCatmullRomOpen],["linear",curveLinear],["linear-closed",curveLinearClosed],["monotone-x",monotoneX],["monotone-y",monotoneY],["natural",curveNatural],["step",curveStep],["step-after",stepAfter],["step-before",stepBefore]]);function maybeCurve(t=curveLinear,e){if("function"==typeof t)return t;const i=curves.get(`${t}`.toLowerCase());if(!i)throw new Error(`unknown curve: ${t}`);if(void 0!==e){if("beta"in i)return i.beta(e);if("tension"in i)return i.tension(e);if("alpha"in i)return i.alpha(e)}return i}function maybeCurveAuto(t=curveAuto,e){return"function"!=typeof t&&"auto"===`${t}`.toLowerCase()?curveAuto:maybeCurve(t,e)}function curveAuto(t){return curveLinear(t)}function binX(t={y:"count"},e={}){[t,e]=mergeOptions(t,e);const{x:i,y:s}=e;return binn(maybeBinValue(i,e,identity$1),null,null,s,t,maybeInsetX(e))}function maybeDenseInterval(t,e,i={}){if(null==i?.interval)return i;const{reduce:s=reduceFirst}=i,B={filter:null};return null!=i[e]&&(B[e]=s),null!=i[`${e}1`]&&(B[`${e}1`]=s),null!=i[`${e}2`]&&(B[`${e}2`]=s),t(B,i)}function maybeDenseIntervalX(t={}){return maybeDenseInterval(binX,"y",withTip(t,"x"))}function binn(t,e,i,s,{data:B=reduceIdentity,filter:n=reduceCount,sort:l,reverse:Q,...F}={},c={}){t=maybeBin(t),e=maybeBin(e),F=maybeBinOutputs(F,c),B=maybeBinReduce(B,identity$1),l=null==l?void 0:maybeBinOutput("sort",l,c),n=null==n?void 0:maybeBinEvaluator("filter",n,c),null!=s&&hasOutput(F,"y","y1","y2")&&(s=null);const[g,a]=maybeColumn(t),[I,U]=maybeColumn(t),[r,o]=maybeColumn(e),[d,b]=maybeColumn(e),[C,u]=null!=s?[s,"y"]:[],[y,h]=maybeColumn(C),{x:A,y:G,z:R,fill:x,stroke:m,x1:L,x2:S,y1:p,y2:V,domain:Z,cumulative:E,thresholds:N,interval:f,...X}=c,[W,H]=maybeColumn(R),[D]=maybeColorChannel(x),[w]=maybeColorChannel(m),[v,Y]=maybeColumn(D),[J,k]=maybeColumn(w);return{..."z"in c&&{z:W||R},..."fill"in c&&{fill:v||x},..."stroke"in c&&{stroke:J||m},...basic(X,((i,s,c)=>{const g=maybeApplyInterval(valueof(i,C),c?.[u]),I=valueof(i,R),r=valueof(i,D),d=valueof(i,w),y=maybeSubgroup(F,{z:I,fill:r,stroke:d}),A=[],G=[],x=g&&h([]),m=I&&H([]),L=r&&Y([]),S=d&&k([]),p=t&&a([]),V=t&&U([]),Z=e&&o([]),E=e&&b([]),N=bing(t,e,i);let f=0;for(const t of F)t.initialize(i);l&&l.initialize(i),n&&n.initialize(i);for(const t of s){const e=[];for(const e of F)e.scope("facet",t);l&&l.scope("facet",t),n&&n.scope("facet",t);for(const[s,Q]of maybeGroup(t,y))for(const[t,c]of maybeGroup(Q,g))for(const[Q,a]of N(c))if(y&&(a.z=s),!n||n.reduce(Q,a)){e.push(f++),G.push(B.reduceIndex(Q,i,a)),g&&x.push(t),I&&m.push(y===I?s:I[(Q.length>0?Q:c)[0]]),r&&L.push(y===r?s:r[(Q.length>0?Q:c)[0]]),d&&S.push(y===d?s:d[(Q.length>0?Q:c)[0]]),p&&(p.push(a.x1),V.push(a.x2)),Z&&(Z.push(a.y1),E.push(a.y2));for(const t of F)t.reduce(Q,a);l&&l.reduce(Q,a)}A.push(e)}return maybeSort(A,l,Q),{data:G,facets:A}})),...!hasOutput(F,"x")&&(g?{x1:g,x2:I,x:mid(g,I)}:{x:A,x1:L,x2:S}),...!hasOutput(F,"y")&&(r?{y1:r,y2:d,y:mid(r,d)}:{y:G,y1:p,y2:V}),...y&&{[u]:y},...Object.fromEntries(F.map((({name:t,output:e})=>[t,e])))}}function mergeOptions({cumulative:t,domain:e,thresholds:i,interval:s,...B},n){return[B,{cumulative:t,domain:e,thresholds:i,interval:s,...n}]}function maybeBinValue(t,{cumulative:e,domain:i,thresholds:s,interval:B},n){return void 0===(t={...maybeValue(t)}).domain&&(t.domain=i),void 0===t.cumulative&&(t.cumulative=e),void 0===t.thresholds&&(t.thresholds=s),void 0===t.interval&&(t.interval=B),void 0===t.value&&(t.value=n),t.thresholds=maybeThresholds(t.thresholds,t.interval),t}function maybeBin(t){if(null==t)return;const{value:e,cumulative:i,domain:s=extent$1,thresholds:B}=t,n=t=>{let n,l=valueof(t,e);if(isTemporal(l)||isTimeThresholds(B)){l=map(l,coerceDate,Float64Array);let[t,e]="function"==typeof s?s(l):s,i="function"!=typeof B||isInterval(B)?B:B(l,t,e);"number"==typeof i&&(i=utcTickInterval(t,e,i)),isInterval(i)&&(s===extent$1&&(t=i.floor(t),e=i.offset(i.floor(e))),i=i.range(t,i.offset(e))),n=i}else{l=coerceNumbers(l);let[t,e]="function"==typeof s?s(l):s,i="function"!=typeof B||isInterval(B)?B:B(l,t,e);if("number"==typeof i)if(s===extent$1){let s=tickIncrement(t,e,i);if(isFinite(s))if(s>0){let B=Math.round(t/s),n=Math.round(e/s);B*s<=t||--B,n*s>e||++n;let l=n-B+1;i=new Float64Array(l);for(let t=0;t<l;++t)i[t]=(B+t)*s}else if(s<0){s=-s;let B=Math.round(t*s),n=Math.round(e*s);B/s<=t||--B,n/s>e||++n;let l=n-B+1;i=new Float64Array(l);for(let t=0;t<l;++t)i[t]=(B+t)/s}else i=[t];else i=[t]}else i=ticks(t,e,i);else isInterval(i)&&(s===extent$1&&(t=i.floor(t),e=i.offset(i.floor(e))),i=i.range(t,i.offset(e)));n=i}const Q=[];if(1===n.length)Q.push([n[0],n[0]]);else for(let t=1;t<n.length;++t)Q.push([n[t-1],n[t]]);return Q.bin=(i<0?bin1cn:i>0?bin1cp:bin1)(Q,n,l),Q};return n.label=labelof(e),n}function maybeThresholds(t,e,i=thresholdAuto){if(void 0===t)return void 0===e?i:maybeRangeInterval(e);if("string"==typeof t){switch(t.toLowerCase()){case"freedman-diaconis":return thresholdFreedmanDiaconis;case"scott":return thresholdScott;case"sturges":return thresholdSturges;case"auto":return thresholdAuto}return utcInterval(t)}return t}function maybeBinOutputs(t,e){return maybeOutputs(t,e,maybeBinOutput)}function maybeBinOutput(t,e,i){return maybeOutput(t,e,i,maybeBinEvaluator)}function maybeBinEvaluator(t,e,i){return maybeEvaluator(t,e,i,maybeBinReduce)}function maybeBinReduce(t,e){return maybeReduce(t,e,maybeBinReduceFallback)}function maybeBinReduceFallback(t){switch(`${t}`.toLowerCase()){case"x":return reduceX;case"x1":return reduceX1;case"x2":return reduceX2;case"y":return reduceY;case"y1":return reduceY1;case"y2":return reduceY2;case"z":return reduceZ}throw new Error(`invalid bin reduce: ${t}`)}function thresholdAuto(t,e,i){return Math.min(200,thresholdScott(t,e,i))}function isTimeThresholds(t){return isTimeInterval(t)||isIterable(t)&&isTemporal(t)}function bing(t,e,i){const s=t?.(i),B=e?.(i);return s&&B?function*(t){const e=s.bin(t);for(const[t,[n,l]]of s.entries()){const s=B.bin(e[t]);for(const[t,[e,Q]]of B.entries())yield[s[t],{data:i,x1:n,y1:e,x2:l,y2:Q}]}}:s?function*(t){const e=s.bin(t);for(const[t,[B,n]]of s.entries())yield[e[t],{data:i,x1:B,x2:n}]}:function*(t){const e=B.bin(t);for(const[t,[s,n]]of B.entries())yield[e[t],{data:i,y1:s,y2:n}]}}function bin1(t,e,i){return e=coerceNumbers(e),s=>{const B=t.map((()=>[]));for(const t of s)B[bisectRight(e,i[t])-1]?.push(t);return B}}function bin1cp(t,e,i){const s=bin1(t,e,i);return t=>{const e=s(t);for(let t=1,i=e.length;t<i;++t){const i=e[t-1],s=e[t];for(const t of i)s.push(t)}return e}}function bin1cn(t,e,i){const s=bin1(t,e,i);return t=>{const e=s(t);for(let t=e.length-2;t>=0;--t){const i=e[t+1],s=e[t];for(const t of i)s.push(t)}return e}}function mid1(t,e){const i=(+t+ +e)/2;return t instanceof Date?new Date(i):i}const reduceX={reduceIndex:(t,e,{x1:i,x2:s})=>mid1(i,s)},reduceY={reduceIndex:(t,e,{y1:i,y2:s})=>mid1(i,s)},reduceX1={reduceIndex:(t,e,{x1:i})=>i},reduceX2={reduceIndex:(t,e,{x2:i})=>i},reduceY1={reduceIndex:(t,e,{y1:i})=>i},reduceY2={reduceIndex:(t,e,{y2:i})=>i},defaults={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Line extends Mark{constructor(t,e={}){const{x:i,y:s,z:B,curve:n,tension:l}=e;super(t,{x:{value:i,scale:"x"},y:{value:s,scale:"y"},z:{value:maybeZ(e),optional:!0}},e,defaults),this.z=B,this.curve=maybeCurveAuto(n,l),markers(this,e)}filter(t){return t}project(t,e,i){this.curve!==curveAuto&&super.project(t,e,i)}render(t,e,i,s,B){const{x:n,y:l}=i,{curve:Q}=this;return create("svg:g",B).call(applyIndirectStyles,this,s,B).call(applyTransform,this,e).call((e=>e.selectAll().data(groupIndex(t,[n,l],this,i)).enter().append("path").call(applyDirectStyles,this).call(applyGroupedChannelStyles,this,i).call(applyGroupedMarkers,this,i,B).attr("d",Q===curveAuto&&B.projection?sphereLine(B.projection,n,l):shapeLine().curve(Q).defined((t=>t>=0)).x((t=>n[t])).y((t=>l[t]))))).node()}}function sphereLine(t,e,i){const s=geoPath(t);return e=coerceNumbers(e),i=coerceNumbers(i),t=>{let B=[];const n=[B];for(const s of t)-1===s?(B=[],n.push(B)):B.push([e[s],i[s]]);return s({type:"MultiLineString",coordinates:n})}}function lineY(t,{x:e=indexOf,y:i=identity$1,...s}={}){return new Line(t,maybeDenseIntervalX({...s,x:e,y:i}))}function decodeBase64(t,e){return atob(t)}function createURL(t,e,i){var s=e,B=decodeBase64(t),n=B.indexOf("\n",10)+1,l=B.substring(n)+"//# sourceMappingURL="+s,Q=new Blob([l],{type:"application/javascript"});return URL.createObjectURL(Q)}function createBase64WorkerFactory(t,e,i){var s;return function(i){return s=s||createURL(t,e),new Worker(s,i)}}Mark.prototype.plot=function({marks:t=[],...e}={}){return plot({...e,marks:[...t,this]})};var WorkerFactory=createBase64WorkerFactory("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgdmFyIGRpc3RyaWJ1dGlvbnMkMSA9IHtleHBvcnRzOiB7fX07CgogIHZhciBkaXN0cmlidXRpb25zID0gZGlzdHJpYnV0aW9ucyQxLmV4cG9ydHM7CiAgKGZ1bmN0aW9uIChtb2R1bGUpIHsKCiAgICAvLyBBIG51bWJlciBvZiBsb2cgcHJvYmFiaWxpdHkgZGVuc2l0eSBmdW5jdGlvbnMgKFBERikuIE5hbWluZyBhbmQgcGFyYW1ldGVyaXphdGlvbgogICAgLy8gc2hvdWxkIG1hdGNoIFIncywgZXhjZXB0IGZvciB0aGF0IGFsbCBmdW5jdGlvbnMgcmVzaWRlIGluIGFuIGxkIG9iamVjdCAoCiAgICAvLyBhcyBpbiAibG9nIGRlbnNpdHkiKSwgc28gdG8gZ2V0IGEgbm9ybWFsIGxvZyBkZW5zaXR5IHlvdSB3b3VsZCB3cml0ZQogICAgLy8gbGQubm9ybSguLi4pLgogICAgLy8gTW9zdCBvZiB0aGUgY29kZSBiZWxvdyBpcyBkaXJlY3RseSB0YWtlbiBmcm9tIHRoZSBncmVhdCBKc3RhdCBwcm9qZWN0CiAgICAvLyAoaHR0cHM6Ly9naXRodWIuY29tL2pzdGF0Lykgd2hpY2ggaW5jbHVkZXMgUERGIGZvciBtYW55IGNvbW1vbiBwcm9iYWJpbGl0eQogICAgLy8gZGlzdHJpYnV0aW9ucy4gV2hhdCBJIGhhdmUgZG9uZSBpcyBvbmx5IHRvIGNvbnZlcnQgdGhlc2UgdG8gbG9nIFBERnMuCgogICAgLyoKICAgIE9yaWdpbmFsIHdvcmsgQ29weXJpZ2h0IChjKSAyMDEzIGpTdGF0CiAgICBNb2RpZmllZCB3b3JrIENvcHlyaWdodCAoYykgMjAxNSBSYXNtdXMgQsOlw6V0aCAKICAgIAlQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5CiAgICBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAogICAgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwogICAgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbAogICAgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzCiAgICBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgogICAgCVRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluCiAgICBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KICAgIAlUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgogICAgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCiAgICBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKICAgIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKICAgIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCiAgICBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOCiAgICBUSEUgU09GVFdBUkUuCiAgICAJKi8KCiAgICAvLyBUaGlzIGJvaWxlciBwbGF0ZSBjb2RlIGhlcmUgaXMgdGFrZW4gZnJvbToKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS91bWRqcy91bWQvYmxvYi9tYXN0ZXIvdGVtcGxhdGVzL3JldHVybkV4cG9ydHMuanMKICAgIC8vIEl0IHNob3VsZCBtYWtlIHNodXJlIHRoYXQgbW9kdWxlIGNhbiBiZSBpbXBvcnRlZCBib3RoIGluIHRoZSBicm93c2VyLAogICAgLy8gTm9kZSwgYW5kIGJ5IHVzaW5nIHRoZSBBc3luY2hyb25vdXMgTW9kdWxlIERlZmluaXRpb24gc3RhbmRhcmQuCiAgICAvLyBJZiB0aGlzIG1vZHVsZSBpcyBsb2FkZWQgaW4gdGhlIGJyb3dzZXIgaXQgd2lsbCBjcmVhdGVkIHRoZSBnbG9iYWwKICAgIC8vIG9iamVjdCBsZCAuCiAgICAoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAgICAgaWYgKG1vZHVsZS5leHBvcnRzKSB7CiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0CiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsCiAgICAgICAgLy8gbGlrZSBOb2RlLgogICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICAgICAgcm9vdC5sZCA9IGZhY3RvcnkoKTsKICAgICAgfQogICAgfSkoZGlzdHJpYnV0aW9ucywgZnVuY3Rpb24gKCkgewogICAgICAvLyBPYmplY3QgdG8gaG9sZCB0aGUgZnVuY3Rpb25zIHRvIGJlIGV4cG9ydGVkLgogICAgICB2YXIgbGQgPSB7fTsKCiAgICAgIC8vLy8vLy8vLy8gSGVscGVyIGZ1bmN0aW9ucyAvLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgICB2YXIgbGdhbW1hID0gZnVuY3Rpb24gKHgpIHsKICAgICAgICB2YXIgaiA9IDA7CiAgICAgICAgdmFyIGNvZiA9IFs3Ni4xODAwOTE3Mjk0NzE0NiwgLTg2LjUwNTMyMDMyOTQxNjc4LCAyNC4wMTQwOTgyNDA4MzA5MSwgLTEuMjMxNzM5NTcyNDUwMTU1LCAwLjEyMDg2NTA5NzM4NjYxNzllLTIsIC01Mzk1MjM5Mzg0OTUzZS0xOF07CiAgICAgICAgdmFyIHNlciA9IDEuMDAwMDAwMDAwMTkwMDE1OwogICAgICAgIHZhciB4eCwgeSwgdG1wOwogICAgICAgIHRtcCA9ICh5ID0geHggPSB4KSArIDUuNTsKICAgICAgICB0bXAgLT0gKHh4ICsgMC41KSAqIGxvZyh0bXApOwogICAgICAgIGZvciAoOyBqIDwgNjsgaisrKSBzZXIgKz0gY29mW2pdIC8gKyt5OwogICAgICAgIHJldHVybiBsb2coMi41MDY2MjgyNzQ2MzEwMDA1ICogc2VyIC8geHgpIC0gdG1wOwogICAgICB9OwogICAgICBsZC5sZ2FtbWEgPSBsZ2FtbWE7CiAgICAgIHZhciBsZmFjdG9yaWFsID0gZnVuY3Rpb24gKG4pIHsKICAgICAgICByZXR1cm4gbiA8IDAgPyBOYU4gOiBsZ2FtbWEobiArIDEpOwogICAgICB9OwogICAgICBsZC5sZmFjdG9yaWFsID0gbGZhY3RvcmlhbDsKICAgICAgdmFyIGxjaG9vc2UgPSBmdW5jdGlvbiAobiwgaykgewogICAgICAgIHJldHVybiBsZmFjdG9yaWFsKG4pIC0gbGZhY3RvcmlhbChrKSAtIGxmYWN0b3JpYWwobiAtIGspOwogICAgICB9OwogICAgICBsZC5sY2hvb3NlID0gbGNob29zZTsKICAgICAgdmFyIGxiZXRhID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gbGdhbW1hKGEpICsgbGdhbW1hKGIpIC0gbGdhbW1hKGEgKyBiKTsKICAgICAgfTsKICAgICAgbGQubGJldGEgPSBsYmV0YTsKICAgICAgdmFyIGxvZyA9IE1hdGgubG9nOwogICAgICB2YXIgZXhwID0gTWF0aC5leHA7CiAgICAgIHZhciBhYnMgPSBNYXRoLmFiczsKICAgICAgdmFyIHBvdyA9IE1hdGgucG93OwogICAgICB2YXIgc3FydCA9IE1hdGguc3FydDsKICAgICAgdmFyIHBpID0gTWF0aC5QSTsKCiAgICAgIC8vLy8vLy8vLy8gQ29udGlub3VzIGRpc3RyaWJ1dGlvbnMgLy8vLy8vLy8vLwogICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIGxkLmJldGEgPSBmdW5jdGlvbiAoeCwgc2hhcGUxLCBzaGFwZTIpIHsKICAgICAgICBpZiAoeCA+IDEgfHwgeCA8IDApIHsKICAgICAgICAgIHJldHVybiAtSW5maW5pdHk7CiAgICAgICAgfQogICAgICAgIGlmIChzaGFwZTEgPT09IDEgJiYgc2hhcGUyID09PSAxKSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIChzaGFwZTEgLSAxKSAqIGxvZyh4KSArIChzaGFwZTIgLSAxKSAqIGxvZygxIC0geCkgLSBsYmV0YShzaGFwZTEsIHNoYXBlMik7CiAgICAgICAgfQogICAgICB9OwogICAgICBsZC5jYXVjaHkgPSBmdW5jdGlvbiAoeCwgbG9jYXRpb24sIHNjYWxlKSB7CiAgICAgICAgcmV0dXJuIGxvZyhzY2FsZSkgLSBsb2cocG93KHggLSBsb2NhdGlvbiwgMikgKyBwb3coc2NhbGUsIDIpKSAtIGxvZyhwaSk7CiAgICAgIH07CiAgICAgIGxkLm5vcm0gPSBmdW5jdGlvbiAoeCwgbWVhbiwgc2QpIHsKICAgICAgICByZXR1cm4gLTAuNSAqIGxvZygyICogcGkpIC0gbG9nKHNkKSAtIHBvdyh4IC0gbWVhbiwgMikgLyAoMiAqIHNkICogc2QpOwogICAgICB9OwoKICAgICAgLy8gQSBiaXZhcmlhdGUgTm9ybWFsIGRpc3RyaWJ1dGlvbiBwYXJhbWV0ZXJpemVkIGJ5IGFycmF5cyBvZiB0d28gbWVhbnMgYW5kIFNEcywgYW5kIAogICAgICAvLyB0aGUgY29ycmVsYXRpb24uCiAgICAgIGxkLmJpdmFybm9ybSA9IGZ1bmN0aW9uICh4LCBtZWFuLCBzZCwgY29ycikgewogICAgICAgIHZhciB6ID0gcG93KHhbMF0gLSBtZWFuWzBdLCAyKSAvIHBvdyhzZFswXSwgMikgKyBwb3coeFsxXSAtIG1lYW5bMV0sIDIpIC8gcG93KHNkWzFdLCAyKSAtIDIgKiBjb3JyICogKHhbMF0gLSBtZWFuWzBdKSAqICh4WzFdIC0gbWVhblsxXSkgLyAoc2RbMF0gKiBzZFsxXSk7CiAgICAgICAgdmFyIG5vcm1hbGl6aW5nX2ZhY3RvciA9IC0obG9nKDIpICsgbG9nKHBpKSArIGxvZyhzZFswXSkgKyBsb2coc2RbMV0pICsgMC41ICogbG9nKDEgLSBwb3coY29yciwgMikpKTsKICAgICAgICB2YXIgYml2YXJfbG9nX2RlbnMgPSBub3JtYWxpemluZ19mYWN0b3IgLSB6IC8gKDIgKiAoMSAtIHBvdyhjb3JyLCAyKSkpOwogICAgICAgIHJldHVybiBiaXZhcl9sb2dfZGVuczsKICAgICAgfTsKICAgICAgbGQubGFwbGFjZSA9IGZ1bmN0aW9uICh4LCBsb2NhdGlvbiwgc2NhbGUpIHsKICAgICAgICByZXR1cm4gLWFicyh4IC0gbG9jYXRpb24pIC8gc2NhbGUgLSBsb2coMiAqIHNjYWxlKTsKICAgICAgfTsKICAgICAgbGQuZGV4cCA9IGxkLmxhcGxhY2U7CiAgICAgIGxkLmdhbW1hID0gZnVuY3Rpb24gKHgsIHNoYXBlLCByYXRlKSB7CiAgICAgICAgdmFyIHNjYWxlID0gMSAvIHJhdGU7CiAgICAgICAgaWYgKHggPCAwKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0KICAgICAgICBpZiAoeCA9PT0gMCAmJiBzaGFwZSA9PT0gMSkgewogICAgICAgICAgcmV0dXJuIC1sb2coc2NhbGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gKHNoYXBlIC0gMSkgKiBsb2coeCkgLSB4IC8gc2NhbGUgLSBsZ2FtbWEoc2hhcGUpIC0gc2hhcGUgKiBsb2coc2NhbGUpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgbGQuaW52Z2FtbWEgPSBmdW5jdGlvbiAoeCwgc2hhcGUsIHNjYWxlKSB7CiAgICAgICAgaWYgKHggPD0gMCkgewogICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIC0oc2hhcGUgKyAxKSAqIGxvZyh4KSAtIHNjYWxlIC8geCAtIGxnYW1tYShzaGFwZSkgKyBzaGFwZSAqIGxvZyhzY2FsZSk7CiAgICAgIH07CiAgICAgIGxkLmxub3JtID0gZnVuY3Rpb24gKHgsIG1lYW5sb2csIHNkbG9nKSB7CiAgICAgICAgaWYgKHggPD0gMCkgewogICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIC1sb2coeCkgLSAwLjUgKiBsb2coMiAqIHBpKSAtIGxvZyhzZGxvZykgLSBwb3cobG9nKHgpIC0gbWVhbmxvZywgMikgLyAoMiAqIHNkbG9nICogc2Rsb2cpOwogICAgICB9OwogICAgICBsZC5wYXJldG8gPSBmdW5jdGlvbiAoeCwgc2NhbGUsIHNoYXBlKSB7CiAgICAgICAgaWYgKHggPCBzY2FsZSkgewogICAgICAgICAgcmV0dXJuIC1JbmZpbml0eTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxvZyhzaGFwZSkgKyBzaGFwZSAqIGxvZyhzY2FsZSkgLSAoc2hhcGUgKyAxKSAqIGxvZyh4KTsKICAgICAgfTsKICAgICAgbGQudCA9IGZ1bmN0aW9uICh4LCBsb2NhdGlvbiwgc2NhbGUsIGRmKSB7CiAgICAgICAgZGYgPSBkZiA+IDFlMTAwID8gMWUxMDAgOiBkZjsKICAgICAgICByZXR1cm4gbGdhbW1hKChkZiArIDEpIC8gMikgLSBsZ2FtbWEoZGYgLyAyKSAtIGxvZyhzcXJ0KHBpICogZGYpICogc2NhbGUpICsgbG9nKHBvdygxICsgMSAvIGRmICogcG93KCh4IC0gbG9jYXRpb24pIC8gc2NhbGUsIDIpLCAtKGRmICsgMSkgLyAyKSk7CiAgICAgIH07CgogICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGphdmFzY3JpcHQgdHJhbnNsYXRpb24gb2YgdGhlIFIgY29kZSB1c2VkIHRvIGV2YWx1YXRlCiAgICAgIC8vIHRoZSBsb2cgZGVuc2l0eSBvZiBhIHdlaWJ1bGwgZGlzdHJpYnV0aW9uOiAKICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3djaC9yLXNvdXJjZS9ibG9iL2IxNTZlM2E3MTE5NjdmNTgxMzFlMjNjMWIxZGMxZWE5MGUyZjBjNDMvc3JjL25tYXRoL2R3ZWlidWxsLmMKICAgICAgbGQud2VpYnVsbCA9IGZ1bmN0aW9uICh4LCBzaGFwZSwgc2NhbGUpIHsKICAgICAgICBpZiAoeCA8IDApIHJldHVybiAtSW5maW5pdHk7CiAgICAgICAgaWYgKHggPT09IDAgJiYgc2hhcGUgPCAxKSByZXR1cm4gSW5maW5pdHk7CiAgICAgICAgdmFyIHRtcDEgPSBwb3coeCAvIHNjYWxlLCBzaGFwZSAtIDEpOwogICAgICAgIHZhciB0bXAyID0gdG1wMSAqICh4IC8gc2NhbGUpOwogICAgICAgIHJldHVybiAtdG1wMiArIGxvZyhzaGFwZSAqIHRtcDEgLyBzY2FsZSk7CiAgICAgIH07CgogICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGphdmFzY3JpcHQgdHJhbnNsYXRpb24gb2YgdGhlIFIgY29kZSB1c2VkIHRvIGV2YWx1YXRlCiAgICAgIC8vIHRoZSBsb2cgZGVuc2l0eSBvZiBhIGxvZ2lzdGljIGRpc3RyaWJ1dGlvbjogCiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93Y2gvci1zb3VyY2UvYmxvYi9iMTU2ZTNhNzExOTY3ZjU4MTMxZTIzYzFiMWRjMWVhOTBlMmYwYzQzL3NyYy9ubWF0aC9kbG9naXMuYwogICAgICBsZC5sb2dpcyA9IGZ1bmN0aW9uICh4LCBsb2NhdGlvbiwgc2NhbGUpIHsKICAgICAgICB4ID0gYWJzKCh4IC0gbG9jYXRpb24pIC8gc2NhbGUpOwogICAgICAgIHZhciBlID0gZXhwKC14KTsKICAgICAgICB2YXIgZiA9IDEuMCArIGU7CiAgICAgICAgcmV0dXJuIC0oeCArIGxvZyhzY2FsZSAqIGYgKiBmKSk7CiAgICAgIH07CiAgICAgIGxkLmRpcmljaGxldCA9IGZ1bmN0aW9uICh4LCBhbHBoYSkgewogICAgICAgIHZhciBzdW1fYWxwaGEgPSAwOwogICAgICAgIHZhciBzdW1fbGdhbW1hX2FscGhhID0gMDsKICAgICAgICB2YXIgc3VtX2FscGhhX3N1Yl8xX2xvZ194ID0gMDsKICAgICAgICB2YXIgbiA9IGFscGhhLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgc3VtX2FscGhhICs9IGFscGhhW2ldOwogICAgICAgICAgc3VtX2xnYW1tYV9hbHBoYSArPSBsZ2FtbWEoYWxwaGFbaV0pOwogICAgICAgICAgc3VtX2FscGhhX3N1Yl8xX2xvZ194ICs9IChhbHBoYVtpXSAtIDEpICogbG9nKHhbaV0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbGdhbW1hKHN1bV9hbHBoYSkgLSBzdW1fbGdhbW1hX2FscGhhICsgc3VtX2FscGhhX3N1Yl8xX2xvZ194OwogICAgICB9OwogICAgICBsZC5leHAgPSBmdW5jdGlvbiAoeCwgcmF0ZSkgewogICAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhyYXRlKSAtIHJhdGUgKiB4OwogICAgICB9OwogICAgICBsZC51bmlmID0gZnVuY3Rpb24gKHgsIG1pbiwgbWF4KSB7CiAgICAgICAgcmV0dXJuIHggPCBtaW4gfHwgeCA+IG1heCA/IC1JbmZpbml0eSA6IGxvZygxIC8gKG1heCAtIG1pbikpOwogICAgICB9OwoKICAgICAgLy8vLy8vLy8vLyBEaXNjcmV0ZSBkaXN0cmlidXRpb25zIC8vLy8vLy8vLy8KICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIGxkLmJlcm4gPSBmdW5jdGlvbiAoeCwgcHJvYikgewogICAgICAgIHJldHVybiAhKHggPT09IDAgfHwgeCA9PT0gMSkgPyAtSW5maW5pdHkgOiBsb2coeCAqIHByb2IgKyAoMSAtIHgpICogKDEgLSBwcm9iKSk7CiAgICAgIH07CiAgICAgIGxkLmNhdCA9IGZ1bmN0aW9uICh4LCBwcm9icykgewogICAgICAgIGlmICh4IDwgMSB8fCB4ID4gcHJvYnMubGVuZ3RoKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gbG9nKHByb2JzW3ggLSAxXSk7CiAgICAgICAgfQogICAgICB9OwogICAgICBsZC5iaW5vbSA9IGZ1bmN0aW9uICh4LCBzaXplLCBwcm9iKSB7CiAgICAgICAgaWYgKHggPiBzaXplIHx8IHggPCAwKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0KICAgICAgICBpZiAocHJvYiA9PT0gMCB8fCBwcm9iID09PSAxKSB7CiAgICAgICAgICByZXR1cm4gc2l6ZSAqIHByb2IgPT09IHggPyAwIDogLUluZmluaXR5OwogICAgICAgIH0KICAgICAgICByZXR1cm4gbGNob29zZShzaXplLCB4KSArIHggKiBsb2cocHJvYikgKyAoc2l6ZSAtIHgpICogbG9nKDEgLSBwcm9iKTsKICAgICAgfTsKICAgICAgbGQubmJpbm9tID0gZnVuY3Rpb24gKHgsIHNpemUsIHByb2IpIHsKICAgICAgICBpZiAoeCA8IDApIHsKICAgICAgICAgIHJldHVybiAtSW5maW5pdHk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBsY2hvb3NlKHggKyBzaXplIC0gMSwgc2l6ZSAtIDEpICsgeCAqIGxvZygxIC0gcHJvYikgKyBzaXplICogbG9nKHByb2IpOwogICAgICB9OwogICAgICBsZC5oeXBlciA9IGZ1bmN0aW9uICh4LCBtLCBuLCBrKSB7CiAgICAgICAgaWYgKHggPCAwIHx8IHggPiBrKSB7CiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gbGNob29zZShtLCB4KSArIGxjaG9vc2UobiwgayAtIHgpIC0gbGNob29zZShtICsgbiwgayk7CiAgICAgICAgfQogICAgICB9OwogICAgICBsZC5wb2lzID0gZnVuY3Rpb24gKHgsIGxhbWJkYSkgewogICAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhsYW1iZGEpICogeCAtIGxhbWJkYSAtIGxmYWN0b3JpYWwoeCk7CiAgICAgIH07CiAgICAgIHJldHVybiBsZDsKICAgIH0pOwogIH0pKGRpc3RyaWJ1dGlvbnMkMSk7CiAgdmFyIGRpc3RyaWJ1dGlvbnNFeHBvcnRzID0gZGlzdHJpYnV0aW9ucyQxLmV4cG9ydHM7CgogIHZhciBtY21jJDEgPSB7ZXhwb3J0czoge319OwoKICB2YXIgbWNtYyA9IG1jbWMkMS5leHBvcnRzOwogIChmdW5jdGlvbiAobW9kdWxlKSB7CgogICAgLy8gVGhpcyBib2lsZXIgcGxhdGUgY29kZSBoZXJlIGlzIHRha2VuIGZyb206CiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3RlbXBsYXRlcy9yZXR1cm5FeHBvcnRzLmpzCiAgICAvLyBJdCBzaG91bGQgbWFrZSBzaHVyZSB0aGF0IG1vZHVsZSBjYW4gYmUgaW1wb3J0ZWQgYm90aCBpbiB0aGUgYnJvd3NlciwKICAgIC8vIE5vZGUsIGFuZCBieSB1c2luZyB0aGUgQXN5bmNocm9ub3VzIE1vZHVsZSBEZWZpbml0aW9uIHN0YW5kYXJkLgogICAgLy8gSWYgdGhpcyBtb2R1bGUgaXMgbG9hZGVkIGluIHRoZSBicm93c2VyIGl0IHdpbGwgY3JlYXRlZCB0aGUgZ2xvYmFsCiAgICAvLyBvYmplY3QgbWNtYyAuCiAgICAoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHsKICAgICAgaWYgKG1vZHVsZS5leHBvcnRzKSB7CiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0CiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsCiAgICAgICAgLy8gbGlrZSBOb2RlLgogICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpCiAgICAgICAgcm9vdC5tY21jID0gZmFjdG9yeSgpOwogICAgICB9CiAgICB9KShtY21jLCBmdW5jdGlvbiAoKSB7CiAgICAgIC8vLyBUaGUgYWN0dWFsIG1vZHVsZSBjb2RlIHN0YXJ0cyBoZXJlIC8vLwogICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gIAoKICAgICAgLy8vLy8vLy8vLyBIZWxwZXIgRnVuY3Rpb25zIC8vLy8vLy8vLy8KICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIC8qKiBSZXR1cm5zIGEgcmFuZG9tIHJlYWwgbnVtYmVyIGJldHdlZW4gbWluIGFuZCBtYXggKi8KICAgICAgdmFyIHJ1bmlmID0gZnVuY3Rpb24gKG1pbiwgbWF4KSB7CiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjsKICAgICAgfTsKCiAgICAgIC8qKiBSZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gYW5kIG1heCAqLwogICAgICB2YXIgcnVuaWZfZGlzY3JldGUgPSBmdW5jdGlvbiAobWluLCBtYXgpIHsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjsKICAgICAgfTsKCiAgICAgIC8qKiBSZXR1cm5zIGEgcmFuZG9tIHJlYWwgbnVtYmVyIGZyb20gYSBub3JtYWwgZGlzdHJpYmJ1dGlvbiBkZWZpbmVkCiAgICAgICAqICBieSBtZWFuIGFuZCBzZC4gCiAgICAgICAqICBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2pzdGF0L2pzdGF0L2Jsb2IvbWFzdGVyL3NyYy9zcGVjaWFsLmpzICovCiAgICAgIHZhciBybm9ybSA9IGZ1bmN0aW9uIChtZWFuLCBzZCkgewogICAgICAgIHZhciB1LCB2LCB4LCB5LCBxOwogICAgICAgIGRvIHsKICAgICAgICAgIHUgPSBNYXRoLnJhbmRvbSgpOwogICAgICAgICAgdiA9IDEuNzE1NiAqIChNYXRoLnJhbmRvbSgpIC0gMC41KTsKICAgICAgICAgIHggPSB1IC0gMC40NDk4NzE7CiAgICAgICAgICB5ID0gTWF0aC5hYnModikgKyAwLjM4NjU5NTsKICAgICAgICAgIHEgPSB4ICogeCArIHkgKiAoMC4xOTYwMCAqIHkgLSAwLjI1NDcyICogeCk7CiAgICAgICAgfSB3aGlsZSAocSA+IDAuMjc1OTcgJiYgKHEgPiAwLjI3ODQ2IHx8IHYgKiB2ID4gLTQgKiBNYXRoLmxvZyh1KSAqIHUgKiB1KSk7CiAgICAgICAgcmV0dXJuIHYgLyB1ICogc2QgKyBtZWFuOwogICAgICB9OwoKICAgICAgLyoqIFJldHVybnMgYSBkZWVwIGNsb25lIG9mIHNyYywgc29ydCBvZi4uLiBJdCBvbmx5IGNvcGllcyBhIGxpbWl0ZWQKICAgICAgICogbnVtYmVyIG9mIHR5cGVzIGFuZCwgZm9yIGV4YW1wbGUsIGZ1bmN0aW9uIGFyZSBub3QgY29waWVkLiAKICAgICAgICogRnJvbSBodHRwOi8vZGF2aWR3YWxzaC5uYW1lL2phdmFzY3JpcHQtY2xvbmUKICAgICAgICovCiAgICAgIHZhciBkZWVwX2Nsb25lID0gZnVuY3Rpb24gKHNyYykgewogICAgICAgIGZ1bmN0aW9uIG1peGluKGRlc3QsIHNvdXJjZSwgY29weUZ1bmMpIHsKICAgICAgICAgIHZhciBuYW1lLAogICAgICAgICAgICBzLAogICAgICAgICAgICBlbXB0eSA9IHt9OwogICAgICAgICAgZm9yIChuYW1lIGluIHNvdXJjZSkgewogICAgICAgICAgICAvLyB0aGUgKCEobmFtZSBpbiBlbXB0eSkgfHwgZW1wdHlbbmFtZV0gIT09IHMpIGNvbmRpdGlvbiBhdm9pZHMgY29weWluZyBwcm9wZXJ0aWVzIGluICJzb3VyY2UiCiAgICAgICAgICAgIC8vIGluaGVyaXRlZCBmcm9tIE9iamVjdC5wcm90b3R5cGUuCSBGb3IgZXhhbXBsZSwgaWYgZGVzdCBoYXMgYSBjdXN0b20gdG9TdHJpbmcoKSBtZXRob2QsCiAgICAgICAgICAgIC8vIGRvbid0IG92ZXJ3cml0ZSBpdCB3aXRoIHRoZSB0b1N0cmluZygpIG1ldGhvZCB0aGF0IHNvdXJjZSBpbmhlcml0ZWQgZnJvbSBPYmplY3QucHJvdG90eXBlCiAgICAgICAgICAgIHMgPSBzb3VyY2VbbmFtZV07CiAgICAgICAgICAgIGlmICghKG5hbWUgaW4gZGVzdCkgfHwgZGVzdFtuYW1lXSAhPT0gcyAmJiAoIShuYW1lIGluIGVtcHR5KSB8fCBlbXB0eVtuYW1lXSAhPT0gcykpIHsKICAgICAgICAgICAgICBkZXN0W25hbWVdID0gY29weUZ1bmMgPyBjb3B5RnVuYyhzKSA6IHM7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBkZXN0OwogICAgICAgIH0KICAgICAgICBpZiAoIXNyYyB8fCB0eXBlb2Ygc3JjICE9ICJvYmplY3QiIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzcmMpID09PSAiW29iamVjdCBGdW5jdGlvbl0iKSB7CiAgICAgICAgICAvLyBudWxsLCB1bmRlZmluZWQsIGFueSBub24tb2JqZWN0LCBvciBmdW5jdGlvbgogICAgICAgICAgcmV0dXJuIHNyYzsgLy8gYW55dGhpbmcKICAgICAgICB9CiAgICAgICAgaWYgKHNyYy5ub2RlVHlwZSAmJiAiY2xvbmVOb2RlIiBpbiBzcmMpIHsKICAgICAgICAgIC8vIERPTSBOb2RlCiAgICAgICAgICByZXR1cm4gc3JjLmNsb25lTm9kZSh0cnVlKTsgLy8gTm9kZQogICAgICAgIH0KICAgICAgICBpZiAoc3JjIGluc3RhbmNlb2YgRGF0ZSkgewogICAgICAgICAgLy8gRGF0ZQogICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHNyYy5nZXRUaW1lKCkpOyAvLyBEYXRlCiAgICAgICAgfQogICAgICAgIGlmIChzcmMgaW5zdGFuY2VvZiBSZWdFeHApIHsKICAgICAgICAgIC8vIFJlZ0V4cAogICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoc3JjKTsgLy8gUmVnRXhwCiAgICAgICAgfQogICAgICAgIHZhciByLCBpLCBsOwogICAgICAgIGlmIChzcmMgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgICAgLy8gYXJyYXkKICAgICAgICAgIHIgPSBbXTsKICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBzcmMubGVuZ3RoOyBpIDwgbDsgKytpKSB7CiAgICAgICAgICAgIGlmIChpIGluIHNyYykgewogICAgICAgICAgICAgIHIucHVzaChkZWVwX2Nsb25lKHNyY1tpXSkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIGdlbmVyaWMgb2JqZWN0cwogICAgICAgICAgciA9IHNyYy5jb25zdHJ1Y3RvciA/IG5ldyBzcmMuY29uc3RydWN0b3IoKSA6IHt9OwogICAgICAgIH0KICAgICAgICByZXR1cm4gbWl4aW4ociwgc3JjLCBkZWVwX2Nsb25lKTsKICAgICAgfTsKCiAgICAgIC8qKiBTcGVjaWFsaXplZCBjbG9uZSBmdW5jdGlvbiB0aGF0IG9ubHkgY2xvbmVzIHNjYWxhcnMgYW5kIG5lc3RlZCBhcnJheXMgd2hlcmUKICAgICAgICogZWFjaCBhcnJheSBlaXRoZXIgY29uc2lzdHMgb2YgYWxsIGFycmF5cyBvciBhbGwgbnVtYmVycy4gVGhpcyBmdW5jdGlvbgogICAgICAgKiBpcyBtZWFudCBhcyBhIGZhc3Qgd2F5IG9mIGNsb25pbmcgcGFyYW1ldGVyIGRyYXdzIHdpdGhpbiB0aGUgbWNtYyBzYW1wbGluZwogICAgICAgKiBsb29wLgogICAgICAgKi8KICAgICAgdmFyIGNsb25lX3BhcmFtX2RyYXcgPSBmdW5jdGlvbiAoeCkgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHgpKSB7CiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh4WzBdKSkgewogICAgICAgICAgICAvLyB4IGlzIGFuIGFycmF5IG9mIGFycmF5cyBzbyB3ZSBuZWVkIHRvIGNsb25lIGl0IHJlY3Vyc2l2ZWx5CiAgICAgICAgICAgIHZhciB4X2NvcHkgPSBbXTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHgubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICB4X2NvcHkucHVzaChjbG9uZV9wYXJhbV9kcmF3KHhbaV0pKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4geF9jb3B5OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gV2UnbGwgYXNzdW1lIHggaXMgYSBhcnJheXMgb2Ygc2NhbGFycwogICAgICAgICAgICByZXR1cm4geC5zbGljZSgwKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gV2UnbGwgYXNzdW1lIHggaXMgYSBzY2FsYXIKICAgICAgICAgIHJldHVybiB4OwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IGlzIGEgbnVtYmVyLgogICAgICAgKi8KICAgICAgdmFyIGlzX251bWJlciA9IGZ1bmN0aW9uIChvYmplY3QpIHsKICAgICAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PSAibnVtYmVyIiB8fCB0eXBlb2Ygb2JqZWN0ID09ICJvYmplY3QiICYmIG9iamVjdC5jb25zdHJ1Y3RvciA9PT0gTnVtYmVyOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIENyZWF0ZXMgYW5kIGluaXRpYWxpemVzIGEgKHBvc3NpYmx5IG11bHRpZGltZW5zaW9uYWwvbmVzdGVkKSBhcnJheS4KICAgICAgICogQHBhcmFtIGRpbSAtIEFuIGFycmF5IGdpdmluZyB0aGUgZGltZW5zaW9uIG9mIHRoZSBhcnJheS4gRm9yIGV4YW1wbGUsCiAgICAgICAqICAgWzVdIHdvdWxkIHlpZWxkIGEgNSBlbGVtZW50IGFycmF5LCBhbmQgWzMsM10gd291bGQgeWllbGQgYSAzIGJ5IDMgbWF0cml4LgogICAgICAgKiBAcGFyYW0gaW5pdCAtIEEgdmFsdWUgb3IgYSBmdW5jdGlvbiB1c2VkIHRvIGZpbGwgaW4gdGhlIGVhY2ggZWxlbWVudCBpbgogICAgICAgKiAgIHRoZSBhcnJheS4gSWYgaXQgaXMgYSBmdW5jdGlvbiBpdCBzaG91bGQgdGFrZSBubyBhcmd1bWVudHMsIGl0IHdpbGwgYmUgCiAgICAgICAqICAgZXZhbHVhdGVkIG9uY2UgZm9yIGVhY2ggZWxlbWVudCwgYW5kIGl0J3MgcmV0dXJuIHZhbHVlIHdpbGwgYmUgdXNlZCB0bwogICAgICAgKiAgIGZpbGwgaW4gZWFjaCBlbGVtZW50LgogICAgICAgKiBAZXhhbXBsZSAKICAgICAgICogLy8gVGhlIGZvbGxvd2luZyB3b3VsZCByZXR1cm4gW1sxLDFdLFsxLDFdLFsxLDFdXQogICAgICAgKiBjcmVhdGVfYXJyYXkoWzIsM10sIDEpCiAgICAgICAqLwogICAgICB2YXIgY3JlYXRlX2FycmF5ID0gZnVuY3Rpb24gKGRpbSwgaW5pdCkgewogICAgICAgIHZhciBhcnIgPSBuZXcgQXJyYXkoZGltWzBdKTsKICAgICAgICB2YXIgaTsKICAgICAgICBpZiAoZGltLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAvLyBGaWxsIGl0IHVwIHdpdGggaW5pdAogICAgICAgICAgaWYgKHR5cGVvZiBpbml0ID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykgewogICAgICAgICAgICAgIGFycltpXSA9IGluaXQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgYXJyW2ldID0gaW5pdDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGltLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykgewogICAgICAgICAgICBhcnJbaV0gPSBjcmVhdGVfYXJyYXkoZGltLnNsaWNlKDEpLCBpbml0KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgImNyZWF0ZV9hcnJheSBjYW4ndCBjcmVhdGUgYSBkaW1lbnNpb25sZXNzIGFycmF5IjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFycjsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBSZXR1cm4gdGhlIGRpbWVuc2lvbnMgb2YgYSBwb3NzaWJseSBuZXN0ZWQgYXJyYXkgYXMgYW4gYXJyYXkuIEZvciAKICAgICAgICogZXhhbXBsZSwgYXJyYXlfZGltKCBbWzEsIDJdLCBbMSwgMl1dICkgc2hvdWxkIHJldHVybiBbMiwgMl0KICAgICAgICogQXNzdW1lcyB0aGF0IGFsbCBhcnJheXMgaW5zaWRlIGFub3RoZXIgYXJyYXkgYXJlIG9mIHRoZSBzYW1lIGxlbmd0aC4KICAgICAgICogQGV4YW1wbGUKICAgICAgICogLy8gU2hvdWxkIHJldHVybiBbNCwgMiwgMV0KICAgICAgICogYXJyYXlfZGltKGNyZWF0ZV9hcnJheShbNCwgMiwgMV0sIDApKQogICAgICAgKi8KICAgICAgdmFyIGFycmF5X2RpbSA9IGZ1bmN0aW9uIChhKSB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYVswXSkpIHsKICAgICAgICAgIHJldHVybiBbYS5sZW5ndGhdLmNvbmNhdChhcnJheV9kaW0oYVswXSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gW2EubGVuZ3RoXTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogQ2hlY2tzIGlmIHR3byBhcnJheXMgYXJlIGVxdWFsIGluIHRoZSBzZW5zZSB0aGF0IHRoZXkgY29udGFpbiB0aGUgc2FtZSBlbGVtZW50cwogICAgICAgKiBhcyBqdWRnZWQgYnkgdGhlICI9PSIgb3BlcmF0b3IuIFJldHVybnMgdHJ1ZSBvciBmYWxzZS4KICAgICAgICogQWRhcHRlZCBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE0ODUzOTc0LzEwMDE4NDgKICAgICAgICovCiAgICAgIHZhciBhcnJheV9lcXVhbCA9IGZ1bmN0aW9uIChhMSwgYTIpIHsKICAgICAgICBpZiAoYTEubGVuZ3RoICE9IGEyLmxlbmd0aCkgcmV0dXJuIGZhbHNlOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYTEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgbmVzdGVkIGFycmF5cwogICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYTFbaV0pICYmIEFycmF5LmlzQXJyYXkoYTJbaV0pKSB7CiAgICAgICAgICAgIC8vIHJlY3Vyc2UgaW50byB0aGUgbmVzdGVkIGFycmF5cwogICAgICAgICAgICBpZiAoIWFycmF5X2VxdWFsKGExW2ldLCBhMltpXSkpIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0gZWxzZSBpZiAoYTFbaV0gIT0gYTJbaV0pIHsKICAgICAgICAgICAgLy8gV2FybmluZyAtIHR3byBkaWZmZXJlbnQgb2JqZWN0IGluc3RhbmNlcyB3aWxsIG5ldmVyIGJlIGVxdWFsOiB7eDoyMH0gIT0ge3g6MjB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogVHJhdmVyc2VzIGEgcG9zc2libHkgbmVzdGVkIGFycmF5IGEgYW5kIGFwcGxpZXMgZnVuIHRvIGFsbCAibGVhZiBub2RlcyIsIAogICAgICAgKiB0aGF0IGlzLCB2YWx1ZXMgdGhhdCBhcmUgbm90IGFycmF5cy4gUmV0dXJucyBhbiBhcnJheSBvZiB0aGUgc2FtZSBzaXplIGFzCiAgICAgICAqIGEuCiAgICAgICAqLwogICAgICB2YXIgbmVzdGVkX2FycmF5X2FwcGx5ID0gZnVuY3Rpb24gKGEsIGZ1bikgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KGEubGVuZ3RoKTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICByZXN1bHRbaV0gPSBuZXN0ZWRfYXJyYXlfYXBwbHkoYVtpXSwgZnVuKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmdW4oYSk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgLyoqIFJhbmRvbWl6aW5nIHRoZSBhcnJheSBlbGVtZW50IG9yZGVyIGluLXBsYWNlLiBVc2luZyBEdXJzdGVuZmVsZAogICAgICAgKiBzaHVmZmxlIGFsZ29yaXRobS4gQWRhcHRlZCBmcm9tIGhlcmU6IAogICAgICAgKiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMjY0Njg2NC8xMDAxODQ4CiAgICAgICAqLwogICAgICBmdW5jdGlvbiBzaHVmZmxlX2FycmF5KGFycmF5KSB7CiAgICAgICAgZm9yICh2YXIgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHsKICAgICAgICAgIHZhciBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7CiAgICAgICAgICB2YXIgdGVtcCA9IGFycmF5W2ldOwogICAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtqXTsKICAgICAgICAgIGFycmF5W2pdID0gdGVtcDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFycmF5OwogICAgICB9CgogICAgICAvKioKICAgICAgICogRG9lcyB0aGUgc2FtZSB0aGluZyBhcyBuZXN0ZWRfYXJyYXlfYXBwbHksIHRoYXQgaXMsIHRyYXZlcnNlcyBhIHBvc3NpYmx5CiAgICAgICAqIG5lc3RlZCBhcnJheSBhIGFuZCBhcHBsaWVzIGZ1biB0byBhbGwgImxlYWYgbm9kZXMiIGFuZCByZXR1cm5zIGFuIGFycmF5IAogICAgICAgKiBvZiB0aGUgc2FtZSBzaXplIGFzIGEuIFRoZSBkaWZmZXJlbmNlIGlzIHRoYXQgbmVzdGVkX2FycmF5X3JhbmRvbV9hcHBseQogICAgICAgKiBicmFuY2hlcyByYW5kb21seS4KICAgICAgICovCiAgICAgIHZhciBuZXN0ZWRfYXJyYXlfcmFuZG9tX2FwcGx5ID0gZnVuY3Rpb24gKGEsIGZ1bikgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7CiAgICAgICAgICB2YXIgbGVuID0gYS5sZW5ndGg7CiAgICAgICAgICB2YXIgaTsKICAgICAgICAgIHZhciBhcnJheV9pcyA9IFtdOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIGFycmF5X2lzW2ldID0gaTsKICAgICAgICAgIH0KICAgICAgICAgIHNodWZmbGVfYXJyYXkoYXJyYXlfaXMpOwogICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgIHZhciBhcnJheV9pID0gYXJyYXlfaXNbaV07CiAgICAgICAgICAgIHJlc3VsdFthcnJheV9pXSA9IG5lc3RlZF9hcnJheV9hcHBseShhW2FycmF5X2ldLCBmdW4pOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZ1bihhKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogQWxsb3dzIGEgcHJldHR5IHdheSBvZiBzZXR0aW5nIGRlZmF1bHQgb3B0aW9ucyB3aGVyZSB0aGUgZGVmdWx0cyBjYW4gYmUKICAgICAgICogb3ZlcnJpZGRlbiBieSBhbiBvcHRpb25zIG9iamVjdC4KICAgICAgICogIEBwYXJhbSBvcHRpb25fbmFtZSAtIHRoZSBuYW1lIG9mIHRoZSBvcHRpb24gYXMgYSBzdHJpbmcKICAgICAgICogIEBwYXJhbSBteV9vcHRpb25zIC0gYW4gb3B0aW9uIG9iamVjdCB0aGF0IGNvdWxkIGhhdmUgb3B0aW9uX25hbWUgCiAgICAgICAqICAgIGFzIGEgbWVtYmVyLgogICAgICAgKiBAcGFyYW0gZGVmYXVsX3ZhbHVlIC0gZGVmdWx0IHZhbHVlIHRoYXQgaXMgcmV0dXJuZWQgaWYgb3B0aW9uX25hbWUgCiAgICAgICAqICAgaXMgbm90IGRlZmluZWQgaW4gbXlfb3B0aW9ucy4KICAgICAgICogQGV4YW1wbGUKICAgICAgICogdmFyIG15X29wdGlvbnMgPSB7cGk6IDMuMTQxNTl9CiAgICAgICAqIHZhciBwaSA9IGdldF9vcHRpb24oInBpIiwgbXlfb3B0aW9ucywgMy4xNCkKICAgICAgICovCiAgICAgIC8vIFByZXR0eSB3YXkgb2Ygc2V0dGluZyBkZWZhdWx0IG9wdGlvbnMgd2hlcmUgdGhlIGRlZmF1bHRzIGNhbiBiZSBvdmVycmlkZGVuCiAgICAgIC8vIGJ5IGFuIG9wdGlvbnMgb2JqZWN0LiBGb3IgZXhhbXBsZToKICAgICAgLy8gdmFyIHBpID0gZ2V0X29wdGlvbigicGkiLCBteV9vcHRpb25zLCAzLjE0KQogICAgICB2YXIgZ2V0X29wdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25fbmFtZSwgb3B0aW9ucywgZGVmYXVsX3ZhbHVlKSB7CiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgICAgcmV0dXJuIG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uX25hbWUpICYmIG9wdGlvbnNbb3B0aW9uX25hbWVdICE9PSB1bmRlZmluZWQgJiYgb3B0aW9uc1tvcHRpb25fbmFtZV0gIT09IG51bGwgPyBvcHRpb25zW29wdGlvbl9uYW1lXSA6IGRlZmF1bF92YWx1ZTsKICAgICAgfTsKCiAgICAgIC8qKiBWZXJzaW9uIG9mIGdldF9vcHRpb24gd2hlcmUgdGhlIG9wdGlvbiBzaG91bGQgYmUgYSBvbmUgb3IgbXVsdGktZGltZW5zaW9uYWwKICAgICAgICogYXJyYXkgYW5kIHdoZXJlIHRoZSBkZWZhdWx0IGNhbiBiZSBvdmVycmlkZGVuIGVpdGhlciBieSBhIHNjYWxhciBvciBieSBhbiBhcnJheS4KICAgICAgICogSWYgaXQncyBhIHNjYWxhciB0aGUgdGhhdCBzY2FsYXIgaXMgdXNlZCB0byBpbml0aWFsaXplIGFuIGFycmF5IHdpdGggCiAgICAgICAqIGRpbSBkaW1lbnNpb25zLgogICAgICAgKiAKICAgICAgICovCiAgICAgIHZhciBnZXRfbXVsdGlkaW1fb3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbl9uYW1lLCBvcHRpb25zLCBkaW0sIGRlZmF1bF92YWx1ZSkgewogICAgICAgIHZhciB2YWx1ZSA9IGdldF9vcHRpb24ob3B0aW9uX25hbWUsIG9wdGlvbnMsIGRlZmF1bF92YWx1ZSk7CiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkgewogICAgICAgICAgdmFsdWUgPSBjcmVhdGVfYXJyYXkoZGltLCB2YWx1ZSk7CiAgICAgICAgfQogICAgICAgIGlmICghYXJyYXlfZXF1YWwoYXJyYXlfZGltKHZhbHVlKSwgZGltKSkgewogICAgICAgICAgdGhyb3cgIlRoZSBvcHRpb24gIiArIG9wdGlvbl9uYW1lICsgIiBpcyBvZiBkaW1lbnNpb24gWyIgKyBhcnJheV9kaW0odmFsdWUpICsgIl0gYnV0IHNob3VsZCBiZSBbIiArIGRpbSArICJdLiI7CiAgICAgICAgfQogICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgfTsKCiAgICAgIC8vLy8vLy8vLy8gRnVuY3Rpb25zIGZvciBoYW5kbGluZyBwYXJhbWV0ZXIgb2JqZWN0cyAvLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCgogICAgICAvKioKICAgICAgICogUmV0dXJucyBhIGZpeGVkIChzYW1lIGV2ZXJ5IHRpbWUpIG51bWJlciB0aGF0IGNvdWxkIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZQogICAgICAgKiBhIHBhcmFtZXRlciBvZiBhIGNlcnRhaW4gdHlwZSwgcG9zc2libHkgd2l0aCBsb3dlciBhbmQgdXBwZXIgYm91bmRzLgogICAgICAgKiBUaGUgcG9zc2lsZSB0eXBlcyBhcmUgInJlYWwiLCAiaW50IiwgYW5kICJiaW5hcnkiLgogICAgICAgKi8KICAgICAgdmFyIHBhcmFtX2luaXRfZml4ZWQgPSBmdW5jdGlvbiAodHlwZSwgbG93ZXIsIHVwcGVyKSB7CiAgICAgICAgaWYgKGxvd2VyID4gdXBwZXIpIHsKICAgICAgICAgIHRocm93ICJDYW4gbm90IGluaXRpYWxpemUgcGFyYW1ldGVyIHdoZXJlIGxvd2VyIGJvdW5kID4gdXBwZXIgYm91bmQiOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gInJlYWwiKSB7CiAgICAgICAgICBpZiAobG93ZXIgPT09IC1JbmZpbml0eSAmJiB1cHBlciA9PT0gSW5maW5pdHkpIHsKICAgICAgICAgICAgcmV0dXJuIDAuNTsKICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXIgPT09IC1JbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gdXBwZXIgLSAwLjU7CiAgICAgICAgICB9IGVsc2UgaWYgKHVwcGVyID09PSBJbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gbG93ZXIgKyAwLjU7CiAgICAgICAgICB9IGVsc2UgaWYgKGxvd2VyIDw9IHVwcGVyKSB7CiAgICAgICAgICAgIHJldHVybiAobG93ZXIgKyB1cHBlcikgLyAyOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gImludCIpIHsKICAgICAgICAgIGlmIChsb3dlciA9PT0gLUluZmluaXR5ICYmIHVwcGVyID09PSBJbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXIgPT09IC1JbmZpbml0eSkgewogICAgICAgICAgICByZXR1cm4gdXBwZXIgLSAxOwogICAgICAgICAgfSBlbHNlIGlmICh1cHBlciA9PT0gSW5maW5pdHkpIHsKICAgICAgICAgICAgcmV0dXJuIGxvd2VyICsgMTsKICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXIgPD0gdXBwZXIpIHsKICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoKGxvd2VyICsgdXBwZXIpIC8gMik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAiYmluYXJ5IikgewogICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIHRocm93ICJDb3VsZCBub3QgaW5pdGlhbGl6ZSBwYXJhbWV0ZXIgb2YgdHlwZSAiICsgdHlwZSArICJbIiArIGxvd2VyICsgIiwgIiArIHVwcGVyICsgIl0iOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIENvbXBsZXRlcyBwYXJhbXNfdG9fY29tcGxldGUsIGFuIG9iamVjdCBjb250YWluaW5nIHBhcmFtZXRlciBkZXNjcmlwdGlvbnMsIAogICAgICAgKiBhbmQgaW5pdGlhbGl6ZXMgbm9uLWluaXRpYWxpemVkIHBhcmFtZXRlcnMuIFRoaXMgbW9kaWZpZWQgdmVyc2lvbiBvZgogICAgICAgKiBwYXJhbXNfdG9fY29tcGxldGUgaXMgcmV0dXJuZWQgYXMgYSBkZWVwIGNvcHkgYW5kIG5vdCBtb2RpZmllZCBpbiBwbGFjZS4KICAgICAgICogSW5pdGlhbGl6YXRpb24gaXMgZG9uZSBieSBzdXBwbHlpbmcgYSBwYXJhbV9pbml0IGZ1bmN0aW9uIHdpdGggc2lnbmF0dXJlCiAgICAgICAqIGZ1bmN0aW9uKHR5cGUsIGxvd2VyLCB1cHBlcikgdGhhdCBzaG91bGQgcmV0dXJuIGEgc2luZ2xlIG51bWJlciAKICAgICAgICogKGxpa2UgcGFyYW1faW5pdF9maXhlZCwgZm9yIGV4YW1wbGUpLgogICAgICAgKiBAZXhhbXBsZQogICAgICAgKiB2YXIgcGFyYW1zID0geyAibXUiOiB7InR5cGUiOiAicmVhbCJ9IH0KICAgICAgICogcGFyYW1zID0gY29tcGxldGVfcGFyYW1zKHBhcmFtcyk7CiAgICAgICAqIC8vIHBhcmFtcyBzaG91bGQgbm93IGJlOgogICAgICAgKiAvLyAgeyJtdSI6IHsgInR5cGUiOiAicmVhbCIsICJkaW0iOiBbMV0sICJ1cHBlciI6IEluZmluaXR5LAogICAgICAgKiAvLyAgICAgICAgICAgImxvd2VyIjogLUluZmluaXR5LCAiaW5pdCI6IDAuNSB9fQogICAgICAgKi8KICAgICAgdmFyIGNvbXBsZXRlX3BhcmFtcyA9IGZ1bmN0aW9uIChwYXJhbXNfdG9fY29tcGxldGUsIHBhcmFtX2luaXQpIHsKICAgICAgICB2YXIgcGFyYW1zID0gZGVlcF9jbG9uZShwYXJhbXNfdG9fY29tcGxldGUpOwogICAgICAgIGZvciAodmFyIHBhcmFtX25hbWUgaW4gcGFyYW1zKSB7CiAgICAgICAgICBpZiAoIXBhcmFtcy5oYXNPd25Qcm9wZXJ0eShwYXJhbV9uYW1lKSkgY29udGludWU7CiAgICAgICAgICB2YXIgcGFyYW0gPSBwYXJhbXNbcGFyYW1fbmFtZV07CiAgICAgICAgICBpZiAoIXBhcmFtLmhhc093blByb3BlcnR5KCJ0eXBlIikpIHsKICAgICAgICAgICAgcGFyYW0udHlwZSA9ICJyZWFsIjsKICAgICAgICAgIH0KICAgICAgICAgIGlmICghcGFyYW0uaGFzT3duUHJvcGVydHkoImRpbSIpKSB7CiAgICAgICAgICAgIHBhcmFtLmRpbSA9IFsxXTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChpc19udW1iZXIocGFyYW0uZGltKSkgewogICAgICAgICAgICBwYXJhbS5kaW0gPSBbcGFyYW0uZGltXTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChwYXJhbS50eXBlID09ICJiaW5hcnkiKSB7CiAgICAgICAgICAgIHBhcmFtLnVwcGVyID0gMTsKICAgICAgICAgICAgcGFyYW0ubG93ZXIgPSAwOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFwYXJhbS5oYXNPd25Qcm9wZXJ0eSgidXBwZXIiKSkgewogICAgICAgICAgICBwYXJhbS51cHBlciA9IEluZmluaXR5OwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFwYXJhbS5oYXNPd25Qcm9wZXJ0eSgibG93ZXIiKSkgewogICAgICAgICAgICBwYXJhbS5sb3dlciA9IC1JbmZpbml0eTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChwYXJhbS5oYXNPd25Qcm9wZXJ0eSgiaW5pdCIpKSB7CiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMganVzdCBhIG51bWJlciBvciBhIG5lc3RlZCBhcnJheSB3ZSBsZWF2ZSBpdCBhbG9uZSwgYnV0IGlmLi4uCiAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkgJiYgdHlwZW9mIHBhcmFtLmluaXQgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgICAvLyBwYXJhbS5pbml0IGlzIGEgZnVuY3Rpb24sIHVzZSB0aGF0IHRvIGluaXRpYWxpemUgdGhlIHBhcmFtZXRlci4KICAgICAgICAgICAgICBwYXJhbS5pbml0ID0gcGFyYW0uaW5pdCgpOwogICAgICAgICAgICB9IGVsc2UgaWYgKCFhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkgJiYgIUFycmF5LmlzQXJyYXkocGFyYW0uaW5pdCkpIHsKICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgbXVsdGlkaW1lbnNpb25hbCBwYXJhbWV0ZXIgd2hlcmUgdGhlIHBhcmFtLmluaXQgZXhpc3QgYnV0CiAgICAgICAgICAgICAgLy8gaXMgbm90IGFuIGFycmF5LiBUaGVuIGFzc3VtZSBpdCBpcyBhIG51bWJlciBvciBhIGZ1bmN0aW9uIGFuZCB1c2UKICAgICAgICAgICAgICAvLyBpdCB0byBpbml0aWFsaXplIHRoZSBwYXJhbWV0ZXIuCiAgICAgICAgICAgICAgcGFyYW0uaW5pdCA9IGNyZWF0ZV9hcnJheShwYXJhbS5kaW0sIHBhcmFtLmluaXQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBXZSB1c2UgdGhlIGRlZmF1bHQgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24uCiAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHsKICAgICAgICAgICAgICBwYXJhbS5pbml0ID0gcGFyYW1faW5pdChwYXJhbS50eXBlLCBwYXJhbS5sb3dlciwgcGFyYW0udXBwZXIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBhcmFtLmluaXQgPSBjcmVhdGVfYXJyYXkocGFyYW0uZGltLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1faW5pdChwYXJhbS50eXBlLCBwYXJhbS5sb3dlciwgcGFyYW0udXBwZXIpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBwYXJhbXM7CiAgICAgIH07CgogICAgICAvLy8vLy8vLy8vIFN0ZXBwZXIgRnVuY3Rpb25zIC8vLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIC8qKgogICAgICAgKiBAaW50ZXJmYWNlCiAgICAgICAqIEEgU3RlcHBlciBpcyBhbiBvYmplY3QgcmVzcG9uc2libGUgZm9yIHB1c2hpbmcgYXJvdW5kIG9uZQogICAgICAgKiBvciBtb3JlIHBhcmFtZXRlciB2YWx1ZXMgaW4gYSBzdGF0ZSBhY2NvcmRpbmcgdG8gdGhlIGRpc3RyaWJ1dGlvbgogICAgICAgKiBkZWZpbmVkIGJ5IHRoZSBsb2cgcG9zdGVyaW9yLiBUaGlzIGRlZmluZXMgdGhlIFN0ZXBwZXIgImludGVyZmFjZSIsCiAgICAgICAqIHdoZXJlICJpbnRlcmZhY2UiIG1lYW5zIHRoYXQgU3RlcHBlciBkZWZpbmVzIGEgY2xhc3MgdGhhdCBpcyBuZXZlcgogICAgICAgKiBtZWFudCB0byBiZSBpbnN0YW50aWF0ZWQsIGJ1dCBqdXN0IHRvIGJlIHN1YmNsYXNzZWQgYnkgc3BlY2lhbGl6ZWQKICAgICAgICogc3RlcHBlciBmdW5jdGlvbnMuCiAgICAgICAqIEBpbnRlcmZhY2UKICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIHBhcmFtZXRlciBkZWZpbml0aW9ucywgZm9yIGV4YW1wbGU6CiAgICAgICAqICAgeyJtdSI6IHsgInR5cGUiOiAicmVhbCIsICJkaW0iOiBbMV0sICJ1cHBlciI6IEluZmluaXR5LCAKICAgICAgICogICAibG93ZXIiOiAtSW5maW5pdHksICJpbml0IjogMC41IH19CiAgICAgICAqICAgVGhlIHBhcmFtZXRlciBkZWZpbml0aW9ucyBhcmUgZXhwZWN0ZWQgdG8gYmUgImNvbXBsZXRlIiwgdGhhdCBpcywKICAgICAgICogICBzcGVjaWZ5aW5nIGFsbCByZWxldmFudCBhdHRyaWJ1dGVzIHN1Y2ggYXMgZGltLCBsb3dlciBhbmQgdXBwZXIuCiAgICAgICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycyBpbiBwYXJhbXMKICAgICAgICogICAoYW5kIHBvc3NpYmx5IG1vcmUpLiBUaGUgcGFyYW1ldGVyIG5hbWVzIGFyZSBnaXZlbiBhcyBrZXlzIGFuZCB0aGUgc3RhdGVzCiAgICAgICAqICAgYXMgc2NhbGFycyBvciwgcG9zc2libHkgbmVzdGVkLCBhcnJheXMuIEZvciBleGFtcGxlOgogICAgICAgKiAgIHttdTogMTAsIHNpZ21hOiA1LCBiZXRhOiBbMSwgMi41XX0KICAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiAqdGFraW5nIG5vIHBhcmFtZXRlcnMqIHRoYXQgcmV0dXJucyB0aGUKICAgICAgICogICBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBUaGF0IGlzLCB0aGUgdmFsdWUgb2YgbG9nX3Bvc3QKICAgICAgICogICBzaG91bGQgY2hhbmdlIGlmIHRoZSB0aGUgdmFsdWVzIGluIHN0YXRlIGFyZSBjaGFuZ2VkLgogICAgICAKICAgICAgICovCiAgICAgIHZhciBTdGVwcGVyID0gZnVuY3Rpb24gKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KSB7CiAgICAgICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7CiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlOwogICAgICAgIHRoaXMubG9nX3Bvc3QgPSBsb2dfcG9zdDsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBUYWtlcyBhIHN0ZXAgaW4gdGhlIHBhcmFtZXRlciBzcGFjZS4gU2hvdWxkIHJldHVybiB0aGUgbmV3IHN0YXRlLAogICAgICAgKiBidXQgaXMgbWFpbmx5IGNhbGxlZCBmb3IgaXQncyBzaWRlIGVmZmVjdCBvZiBtYWtpbmcgYSBjaGFuZ2UgaW4gdGhlCiAgICAgICAqIHN0YXRlIG9iamVjdC4KICAgICAgICovCiAgICAgIFN0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhyb3cgIkV2ZXJ5IFN0ZXBwZXIgbmVlZCB0byBpbXBsZW1lbnQgc3RlcCgpIjsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBJZiBpbXBsZW1lbnRlZCwgbWFrZXMgdGhlIHN0ZXBwZXIgYWRhcHQgd2hpbGUgc3RlcHBpbmcuCiAgICAgICAqLwogICAgICBTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIE9wdGlvbmFsLCBzb21lIHN0ZXBwZXJzIG1pZ2h0IG5vdCBiZSBhZGFwdGl2ZS4gKi8gCiAgICAgIH07CgogICAgICAvKioKICAgICAgICogSWYgaW1wbGVtZW50ZWQsIG1ha2VzIHRoZSBzdGVwcGVyIGNlYXNlIGFkYXB0aW5nIHdoaWxlIHN0ZXBwaW5nLgogICAgICAgKi8KICAgICAgU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIE9wdGlvbmFsLCBzb21lIHN0ZXBwZXJzIG1pZ2h0IG5vdCBiZSBhZGFwdGl2ZS4gKi8gCiAgICAgIH07CgogICAgICAvKioKICAgICAgICogUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmcgaW5mbyByZWdhcmRpbmcgdGhlIHN0ZXBwZXIuCiAgICAgICAqLwogICAgICBTdGVwcGVyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIFJldHVybnMgYW4gb2JqZWN0IHdpdGggaW5mbyBhYm91dCB0aGUgc3RhdGUgb2YgdGhlIHN0ZXBwZXIuCiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn0KICAgICAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgdGhlIG1ldHJvcG9saXMgc3RlcCBpbgogICAgICAgKiB0aGUgQWRhcHRpdmUgTWV0cm9wb2xpcy1XaXRoaW4tR2liYnMgYWxnb3JpdGhtIGluICJFeGFtcGxlcyBvZiBBZGFwdGl2ZSBNQ01DIgogICAgICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpLgogICAgICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggYSBzaW5nbGUgcGFyYW1ldGVyIGRlZmluaXRpb24uCiAgICAgICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy4KICAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIAogICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuCiAgICAgICAqIEBwYXJhbSBnZW5lcmF0ZV9wcm9wb3NhbCAtIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGEgcHJvcG9zYWwgKGFzIGEgbnVtYmVyKQogICAgICAgKiB3aXRoIHNpZ25hdHVyZSBmdW5jdGlvbihwYXJhbV9zdGF0ZSwgbG9nX3NjYWxlKSB3aGVyZSBwYXJhbV9zdGF0ZSBpcyBhCiAgICAgICAqIG51bWJlciBhbmQgbG9nX3NjYWxlIGRlZmluZXMgdGhlIHNjYWxlIG9mIHRoZSBwcm9wb3NhbCBzb21laG93LgogICAgICAqLwogICAgICB2YXIgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIGdlbmVyYXRlX3Byb3Bvc2FsKSB7CiAgICAgICAgU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KTsKICAgICAgICB2YXIgcGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7CiAgICAgICAgaWYgKHBhcmFtX25hbWVzLmxlbmd0aCAhPSAxKSB7CiAgICAgICAgICB0aHJvdyAiT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIgY2FuIG9ubHkgaGFuZGxlIG9uZSBwYXJhbWV0ZXIuIjsKICAgICAgICB9CiAgICAgICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07CiAgICAgICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTsKICAgICAgICBpZiAoIWFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSkgewogICAgICAgICAgdGhyb3cgIk9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIGNhbiBvbmx5IGhhbmRsZSBvbmUgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlci4iOwogICAgICAgIH0KICAgICAgICB0aGlzLmxvd2VyID0gcGFyYW0ubG93ZXI7CiAgICAgICAgdGhpcy51cHBlciA9IHBhcmFtLnVwcGVyOwogICAgICAgIHRoaXMucHJvcF9sb2dfc2NhbGUgPSBnZXRfb3B0aW9uKCJwcm9wX2xvZ19zY2FsZSIsIG9wdGlvbnMsIDApOwogICAgICAgIHRoaXMuYmF0Y2hfc2l6ZSA9IGdldF9vcHRpb24oImJhdGNoX3NpemUiLCBvcHRpb25zLCA1MCk7CiAgICAgICAgdGhpcy5tYXhfYWRhcHRhdGlvbiA9IGdldF9vcHRpb24oIm1heF9hZGFwdGF0aW9uIiwgb3B0aW9ucywgMC4zMyk7CiAgICAgICAgdGhpcy5pbml0aWFsX2FkYXB0YXRpb24gPSBnZXRfb3B0aW9uKCJpbml0aWFsX2FkYXB0YXRpb24iLCBvcHRpb25zLCAxLjApOwogICAgICAgIHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlID0gZ2V0X29wdGlvbigidGFyZ2V0X2FjY2VwdF9yYXRlIiwgb3B0aW9ucywgMC40NCk7CiAgICAgICAgdGhpcy5pc19hZGFwdGluZyA9IGdldF9vcHRpb24oImlzX2FkYXB0aW5nIiwgb3B0aW9ucywgdHJ1ZSk7CiAgICAgICAgdGhpcy5nZW5lcmF0ZV9wcm9wb3NhbCA9IGdlbmVyYXRlX3Byb3Bvc2FsOwogICAgICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7CiAgICAgICAgdGhpcy5iYXRjaF9jb3VudCA9IDA7CiAgICAgICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uID0gMDsKICAgICAgfTsKICAgICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyOwogICAgICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgcGFyYW1fc3RhdGUgPSB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV07CiAgICAgICAgdmFyIHBhcmFtX3Byb3Bvc2FsID0gdGhpcy5nZW5lcmF0ZV9wcm9wb3NhbChwYXJhbV9zdGF0ZSwgdGhpcy5wcm9wX2xvZ19zY2FsZSk7CiAgICAgICAgaWYgKHBhcmFtX3Byb3Bvc2FsIDwgdGhpcy5sb3dlciB8fCBwYXJhbV9wcm9wb3NhbCA+IHRoaXMudXBwZXIpIDsgZWxzZSB7CiAgICAgICAgICAvLyBtYWtlIGEgTWV0cm9wb2xpcyBzdGVwCiAgICAgICAgICB2YXIgY3Vycl9sb2dfZGVucyA9IHRoaXMubG9nX3Bvc3QoKTsKICAgICAgICAgIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXSA9IHBhcmFtX3Byb3Bvc2FsOwogICAgICAgICAgdmFyIHByb3BfbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgICB2YXIgYWNjZXB0X3Byb2IgPSBNYXRoLmV4cChwcm9wX2xvZ19kZW5zIC0gY3Vycl9sb2dfZGVucyk7CiAgICAgICAgICBpZiAoYWNjZXB0X3Byb2IgPiBNYXRoLnJhbmRvbSgpKSB7CiAgICAgICAgICAgIC8vIFdlIGRvIG5vdGhpbmcgYXMgdGhlIHN0YXRlIG9mIHBhcmFtIGhhcyBhbHJlYWR5IGJlZW4gY2hhbmdlZCB0byB0aGUgcHJvcG9zYWwKICAgICAgICAgICAgaWYgKHRoaXMuaXNfYWRhcHRpbmcpIHRoaXMuYWNjZXB0YW5jZV9jb3VudCsrOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gcmV2ZXJ0IHN0YXRlIGJhY2sgdG8gdGhlIG9sZCBzdGF0ZSBvZiBwYXJhbQogICAgICAgICAgICB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0gPSBwYXJhbV9zdGF0ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuaXNfYWRhcHRpbmcpIHsKICAgICAgICAgIHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbisrOwogICAgICAgICAgaWYgKHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbiA+PSB0aGlzLmJhdGNoX3NpemUpIHsKICAgICAgICAgICAgLy8gdGhlbiBhZGFwdAogICAgICAgICAgICB0aGlzLmJhdGNoX2NvdW50Kys7CiAgICAgICAgICAgIHZhciBsb2dfc2RfYWRqdXN0bWVudCA9IE1hdGgubWluKHRoaXMubWF4X2FkYXB0YXRpb24sIHRoaXMuaW5pdGlhbF9hZGFwdGF0aW9uIC8gTWF0aC5zcXJ0KHRoaXMuYmF0Y2hfY291bnQpKTsKICAgICAgICAgICAgaWYgKHRoaXMuYWNjZXB0YW5jZV9jb3VudCAvIHRoaXMuYmF0Y2hfc2l6ZSA+IHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlKSB7CiAgICAgICAgICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSArPSBsb2dfc2RfYWRqdXN0bWVudDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnByb3BfbG9nX3NjYWxlIC09IGxvZ19zZF9hZGp1c3RtZW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7CiAgICAgICAgICAgIHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbiA9IDA7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV07CiAgICAgIH07CiAgICAgIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuaXNfYWRhcHRpbmcgPSB0cnVlOwogICAgICB9OwogICAgICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuaXNfYWRhcHRpbmcgPSBmYWxzZTsKICAgICAgfTsKICAgICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHByb3BfbG9nX3NjYWxlOiB0aGlzLnByb3BfbG9nX3NjYWxlLAogICAgICAgICAgaXNfYWRhcHRpbmc6IHRoaXMuaXNfYWRhcHRpbmcsCiAgICAgICAgICBhY2NlcHRhbmNlX2NvdW50OiB0aGlzLmFjY2VwdGFuY2VfY291bnQsCiAgICAgICAgICBpdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uOiB0aGlzLml0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb24sCiAgICAgICAgICBiYXRjaF9jb3VudDogdGhpcy5iYXRjaF9jb3VudAogICAgICAgIH07CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogRnVuY3Rpb24gcmV0dXJuaW5nIGEgTm9ybWFsIHByb3Bvc2FsLgogICAgICAgKi8KICAgICAgdmFyIG5vcm1hbF9wcm9wb3NhbCA9IGZ1bmN0aW9uIChwYXJhbV9zdGF0ZSwgcHJvcF9sb2dfc2NhbGUpIHsKICAgICAgICByZXR1cm4gcm5vcm0ocGFyYW1fc3RhdGUsIE1hdGguZXhwKHByb3BfbG9nX3NjYWxlKSk7CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogQGNsYXNzCiAgICAgICAqIEBhdWdtZW50cyB7T25lZGltTWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICAqIEEgInN1YmNsYXNzIiBvZiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciBtYWtpbmcgY29udGlub3VzIE5vcm1hbCBwcm9wb3NhbHMuCiAgICAgICAqLwogICAgICB2YXIgUmVhbE1ldHJvcG9saXNTdGVwcGVyID0gZnVuY3Rpb24gKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7CiAgICAgICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgbm9ybWFsX3Byb3Bvc2FsKTsKICAgICAgfTsKICAgICAgUmVhbE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlKTsKICAgICAgUmVhbE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlYWxNZXRyb3BvbGlzU3RlcHBlcjsKCiAgICAgIC8qKgogICAgICAgKiBGdW5jdGlvbiByZXR1cm5pbmcgYSBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWwuCiAgICAgICAqLwogICAgICB2YXIgZGlzY3JldGVfbm9ybWFsX3Byb3Bvc2FsID0gZnVuY3Rpb24gKHBhcmFtX3N0YXRlLCBwcm9wX2xvZ19zY2FsZSkgewogICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHJub3JtKHBhcmFtX3N0YXRlLCBNYXRoLmV4cChwcm9wX2xvZ19zY2FsZSkpKTsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAqIEBjbGFzcwogICAgICAqIEBhdWdtZW50cyB7T25lZGltTWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICogQSAic3ViY2xhc3MiIG9mIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWxzLgogICAgICAqLwogICAgICB2YXIgSW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHsKICAgICAgICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBkaXNjcmV0ZV9ub3JtYWxfcHJvcG9zYWwpOwogICAgICB9OwogICAgICBJbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIEludE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEludE1ldHJvcG9saXNTdGVwcGVyOwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn0KICAgICAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgdGhlIG1ldHJvcG9saXMgc3RlcCBpbgogICAgICAgKiB0aGUgQWRhcHRpdmUgTWV0cm9wb2xpcy1XaXRoaW4tR2liYnMgYWxnb3JpdGhtIGluICJFeGFtcGxlcyBvZiBBZGFwdGl2ZSBNQ01DIgogICAgICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpIGZvciBwb3NzaWJseSBtdWx0aWRpbWVuc2lvbmFsIGFycmF5cy4gVGhhdAogICAgICAgKiBpcywgaW5zdGVhZCBvZiBqdXN0IHRha2luZyBhIHN0ZXAgZm9yIGEgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlciBsaWtlIAogICAgICAgKiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciwgdGhpcyBTdGVwcGVyIGlzIHJlc3BvbnNpYmxlIGZvciB0YWtpbmcgc3RlcHMgCiAgICAgICAqIGZvciBhIG11bHRpZGltZW5zaW9uYWwgYXJyYXkuIEl0J3Mgc3RpbGwgcHJldHR5IGR1bWIgYW5kIGp1c3QgdGFrZXMKICAgICAgICogb25lLWRpbWVuc2lvbmFsIHN0ZXBzIGZvciBlYWNoIHBhcmFtZXRlciBjb21wb25lbnQsIHRob3VnaC4KICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uIGZvciBhIAogICAgICAgKiAgIG11bHRpZGltZW5zaW9uYWwgcGFyYW1ldGVyLgogICAgICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuCiAgICAgICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiAKICAgICAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLgogICAgICAgKiBAcGFyYW0gU3ViU3RlcHBlciAtIGEgY29uc3RydWN0b3IgZm9yIHRoZSB0eXBlIG9mIG9uZSBkaW1lbnNpb25hbCBTdGVwcGVyIHRvIGFwcGx5IG9uCiAgICAgICAqICAgYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoZSBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlci4KICAgICAgKi8KICAgICAgdmFyIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIFN1YlN0ZXBwZXIpIHsKICAgICAgICBTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QpOwogICAgICAgIHZhciBwYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTsKICAgICAgICBpZiAocGFyYW1fbmFtZXMubGVuZ3RoICE9IDEpIHsKICAgICAgICAgIHRocm93ICJNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci4iOwogICAgICAgIH0KICAgICAgICB0aGlzLnBhcmFtX25hbWUgPSBwYXJhbV9uYW1lc1swXTsKICAgICAgICB2YXIgcGFyYW0gPSB0aGlzLnBhcmFtc1t0aGlzLnBhcmFtX25hbWVdOwogICAgICAgIHRoaXMubG93ZXIgPSBwYXJhbS5sb3dlcjsKICAgICAgICB0aGlzLnVwcGVyID0gcGFyYW0udXBwZXI7CiAgICAgICAgdGhpcy5kaW0gPSBwYXJhbS5kaW07CiAgICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSA9IGdldF9tdWx0aWRpbV9vcHRpb24oInByb3BfbG9nX3NjYWxlIiwgb3B0aW9ucywgdGhpcy5kaW0sIDApOwogICAgICAgIHRoaXMuYmF0Y2hfc2l6ZSA9IGdldF9tdWx0aWRpbV9vcHRpb24oImJhdGNoX3NpemUiLCBvcHRpb25zLCB0aGlzLmRpbSwgNTApOwogICAgICAgIHRoaXMubWF4X2FkYXB0YXRpb24gPSBnZXRfbXVsdGlkaW1fb3B0aW9uKCJtYXhfYWRhcHRhdGlvbiIsIG9wdGlvbnMsIHRoaXMuZGltLCAwLjMzKTsKICAgICAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiA9IGdldF9tdWx0aWRpbV9vcHRpb24oImluaXRpYWxfYWRhcHRhdGlvbiIsIG9wdGlvbnMsIHRoaXMuZGltLCAxLjApOwogICAgICAgIHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlID0gZ2V0X211bHRpZGltX29wdGlvbigidGFyZ2V0X2FjY2VwdF9yYXRlIiwgb3B0aW9ucywgdGhpcy5kaW0sIDAuNDQpOwogICAgICAgIHRoaXMuaXNfYWRhcHRpbmcgPSBnZXRfbXVsdGlkaW1fb3B0aW9uKCJpc19hZGFwdGluZyIsIG9wdGlvbnMsIHRoaXMuZGltLCB0cnVlKTsKCiAgICAgICAgLy8gVGhpcyBoYWNrIGJlbG93IGlzIGEgcmVjdXJzaXZlIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBhcnJheSBvZiAKICAgICAgICAvLyBvbmUgZGltZW5zaW9uYWwgc3RlcHBlcnMgYWNjb3JkaW5nIHRvIGRpbS4KICAgICAgICB2YXIgY3JlYXRlX3N1YnN0ZXBwZXJzID0gZnVuY3Rpb24gKGRpbSwgc3Vic3RhdGUsIGxvZ19wb3N0LCBwcm9wX2xvZ19zY2FsZSwgYmF0Y2hfc2l6ZSwgbWF4X2FkYXB0YXRpb24sIGluaXRpYWxfYWRhcHRhdGlvbiwgdGFyZ2V0X2FjY2VwdF9yYXRlLCBpc19hZGFwdGluZykgewogICAgICAgICAgdmFyIHN1YnN0ZXBwZXJzID0gW107CiAgICAgICAgICBpZiAoZGltLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgdmFyIHN1Ym9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICBwcm9wX2xvZ19zY2FsZTogcHJvcF9sb2dfc2NhbGVbaV0sCiAgICAgICAgICAgICAgICBiYXRjaF9zaXplOiBiYXRjaF9zaXplW2ldLAogICAgICAgICAgICAgICAgbWF4X2FkYXB0YXRpb246IG1heF9hZGFwdGF0aW9uW2ldLAogICAgICAgICAgICAgICAgaW5pdGlhbF9hZGFwdGF0aW9uOiBpbml0aWFsX2FkYXB0YXRpb25baV0sCiAgICAgICAgICAgICAgICB0YXJnZXRfYWNjZXB0X3JhdGU6IHRhcmdldF9hY2NlcHRfcmF0ZVtpXSwKICAgICAgICAgICAgICAgIGlzX2FkYXB0aW5nOiBpc19hZGFwdGluZ1tpXQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgdmFyIHN1YnBhcmFtID0ge307CiAgICAgICAgICAgICAgc3VicGFyYW1baV0gPSBkZWVwX2Nsb25lKHBhcmFtKTsKICAgICAgICAgICAgICBzdWJwYXJhbVtpXS5kaW0gPSBbMV07IC8vIEFzIHRoaXMgc2hvdWxkIG5vdyBiZSBhIG9uZS1kaW0gcGFyYW1ldGVyCiAgICAgICAgICAgICAgZGVsZXRlIHN1YnBhcmFtW2ldLmluaXQ7IC8vIEFzIGl0IHNvdWxkIG5vdCBiZSBuZWVkZWQKICAgICAgICAgICAgICBzdWJzdGVwcGVyc1tpXSA9IG5ldyBTdWJTdGVwcGVyKHN1YnBhcmFtLCBzdWJzdGF0ZSwgbG9nX3Bvc3QsIHN1Ym9wdGlvbnMpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgc3Vic3RlcHBlcnNbaV0gPSBjcmVhdGVfc3Vic3RlcHBlcnMoZGltLnNsaWNlKDEpLCBzdWJzdGF0ZVtpXSwgbG9nX3Bvc3QsIHByb3BfbG9nX3NjYWxlW2ldLCBiYXRjaF9zaXplW2ldLCBtYXhfYWRhcHRhdGlvbltpXSwgaW5pdGlhbF9hZGFwdGF0aW9uW2ldLCB0YXJnZXRfYWNjZXB0X3JhdGVbaV0sIGlzX2FkYXB0aW5nW2ldKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHN1YnN0ZXBwZXJzOwogICAgICAgIH07CiAgICAgICAgdGhpcy5zdWJzdGVwcGVycyA9IGNyZWF0ZV9zdWJzdGVwcGVycyh0aGlzLmRpbSwgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdLCB0aGlzLmxvZ19wb3N0LCB0aGlzLnByb3BfbG9nX3NjYWxlLCB0aGlzLmJhdGNoX3NpemUsIHRoaXMubWF4X2FkYXB0YXRpb24sIHRoaXMuaW5pdGlhbF9hZGFwdGF0aW9uLCB0aGlzLnRhcmdldF9hY2NlcHRfcmF0ZSwgdGhpcy5pc19hZGFwdGluZyk7CiAgICAgIH07CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcjsKICAgICAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBHbyB0aHJvdWdoIHRoZSBzdWJzdGVwcGVycyBpbiBhIHJhbmRvbSBvcmRlciBhbmQgY2FsbCBzdGVwKCkgb24gdGhlbS4KICAgICAgICByZXR1cm4gbmVzdGVkX2FycmF5X3JhbmRvbV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbiAoc3Vic3RlcHBlcikgewogICAgICAgICAgcmV0dXJuIHN1YnN0ZXBwZXIuc3RlcCgpOwogICAgICAgIH0pOwogICAgICB9OwogICAgICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgIG5lc3RlZF9hcnJheV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbiAoc3Vic3RlcHBlcikgewogICAgICAgICAgc3Vic3RlcHBlci5zdGFydF9hZGFwdGF0aW9uKCk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLnN0b3BfYWRhcHRhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBuZXN0ZWRfYXJyYXlfYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24gKHN1YnN0ZXBwZXIpIHsKICAgICAgICAgIHN1YnN0ZXBwZXIuc3RvcF9hZGFwdGF0aW9uKCk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIG5lc3RlZF9hcnJheV9hcHBseSh0aGlzLnN1YnN0ZXBwZXJzLCBmdW5jdGlvbiAoc3Vic3RlcHBlcikgewogICAgICAgICAgcmV0dXJuIHN1YnN0ZXBwZXIuaW5mbygpOwogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAYXVnbWVudHMge011bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICAqIEEgInN1YmNsYXNzIiBvZiBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBjb250aW5vdXMgTm9ybWFsIHByb3Bvc2Fscy4KICAgICAgICovCiAgICAgIHZhciBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgUmVhbE1ldHJvcG9saXNTdGVwcGVyKTsKICAgICAgfTsKICAgICAgTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSk7CiAgICAgIE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAYXVnbWVudHMge011bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXJ9CiAgICAgICAqIEEgInN1YmNsYXNzIiBvZiBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWxzLgogICAgICAgKi8KICAgICAgdmFyIE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHsKICAgICAgICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIEludE1ldHJvcG9saXNTdGVwcGVyKTsKICAgICAgfTsKICAgICAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlKTsKICAgICAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOwoKICAgICAgLyoqCiAgICAgICAqIEBjbGFzcwogICAgICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn0KICAgICAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgYSBzdGVwIGZvciBhIGJpbmFyeSBwYXJhbWV0ZXIuCiAgICAgICAqIFRoaXMgaXMgZG9uZSBieSBldmFsdWF0aW5nIHRoZSBsb2cgcG9zdGVyaW9yIGZvciBib3RoIHN0YXRlcyBvZiB0aGUKICAgICAgICogcGFyYW1ldGVyIGFuZCB0aGVuIHNlbGVjdGluZyBhIHN0YXRlIHJhbmRvbWx5IHdpdGggcHJvYmFiaWxpdHkgcmVsYXRpdmUgCiAgICAgICAqIHRvIHRoZSBwb3N0ZXJpb3Igb2YgZWFjaCBzdGF0ZS4KICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uLgogICAgICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuCiAgICAgICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiAKICAgICAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLgogICAgICAqLwogICAgICB2YXIgQmluYXJ5U3RlcHBlciA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7CiAgICAgICAgdmFyIHBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpOwogICAgICAgIGlmIChwYXJhbV9uYW1lcy5sZW5ndGggPT0gMSkgewogICAgICAgICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93ICJCaW5hcnlTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci4iOwogICAgICAgIH0KICAgICAgfTsKICAgICAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0ZXBwZXIucHJvdG90eXBlKTsKICAgICAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCaW5hcnlTdGVwcGVyOwogICAgICBCaW5hcnlTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXSA9IDA7CiAgICAgICAgdmFyIHplcm9fbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gMTsKICAgICAgICB2YXIgb25lX2xvZ19kZW5zID0gdGhpcy5sb2dfcG9zdCgpOwogICAgICAgIHZhciBtYXhfbG9nX2RlbnMgPSBNYXRoLm1heCh6ZXJvX2xvZ19kZW5zLCBvbmVfbG9nX2RlbnMpOwogICAgICAgIHplcm9fbG9nX2RlbnMgLT0gbWF4X2xvZ19kZW5zOwogICAgICAgIG9uZV9sb2dfZGVucyAtPSBtYXhfbG9nX2RlbnM7CiAgICAgICAgdmFyIHplcm9fcHJvYiA9IE1hdGguZXhwKHplcm9fbG9nX2RlbnMgLSBNYXRoLmxvZyhNYXRoLmV4cCh6ZXJvX2xvZ19kZW5zKSArIE1hdGguZXhwKG9uZV9sb2dfZGVucykpKTsKICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IHplcm9fcHJvYikgewogICAgICAgICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gMDsKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0gLy8gZWxzZSBrZWVwIHRoZSBwYXJhbSBhdCAxIC4KICAgICAgICByZXR1cm4gMTsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAqIEBjbGFzcwogICAgICAqIEBpbXBsZW1lbnRzIHtTdGVwcGVyfQogICAgICAqIEp1c3QgbGlrZSBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIHRoaXMgU3RlcHBlciB0YWtlcyBhIHN0ZXBzIGZvcgogICAgICAqIGEgbXVsdGlkaW1lbnNpb25hbCBwYXJhbWV0ZXIgYnkgdXBkYXRpbmcgZWFjaCBjb21wb25lbnQgaW4gdHVybi4gVGhlIGRpZmZlcmVuY2UKICAgICAgKiBpcyB0aGF0IHRoaXMgc3RlcHBlciB3b3JrcyBvbiBiaW5hcnkgcGFyYW1ldGVycy4KICAgICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggYSBzaW5nbGUgcGFyYW1ldGVyIGRlZmluaXRpb24gZm9yIGEgCiAgICAgICogICBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlci4KICAgICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuCiAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIAogICAgICAqIEBwYXJhbSBvcHRpb25zIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucyB0byB0aGUgc3RlcHBlci4KICAgICAgKi8KICAgICAgdmFyIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIgPSBmdW5jdGlvbiAocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpIHsKICAgICAgICBTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QpOwogICAgICAgIHZhciBwYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTsKICAgICAgICBpZiAocGFyYW1fbmFtZXMubGVuZ3RoID09IDEpIHsKICAgICAgICAgIHRoaXMucGFyYW1fbmFtZSA9IHBhcmFtX25hbWVzWzBdOwogICAgICAgICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTsKICAgICAgICAgIHRoaXMuZGltID0gcGFyYW0uZGltOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyAiQmluYXJ5Q29tcG9uZW50U3RlcHBlciBjYW4ndCBoYW5kbGUgbW9yZSB0aGFuIG9uZSBwYXJhbWV0ZXIuIjsKICAgICAgICB9CiAgICAgICAgdmFyIGNyZWF0ZV9zdWJzdGVwcGVycyA9IGZ1bmN0aW9uIChkaW0sIHN1YnN0YXRlLCBsb2dfcG9zdCkgewogICAgICAgICAgdmFyIHN1YnN0ZXBwZXJzID0gW107CiAgICAgICAgICB2YXIgaTsKICAgICAgICAgIGlmIChkaW0ubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykgewogICAgICAgICAgICAgIHZhciBzdWJwYXJhbXMgPSB7fTsKICAgICAgICAgICAgICBzdWJwYXJhbXNbaV0gPSBwYXJhbTsKICAgICAgICAgICAgICBzdWJzdGVwcGVyc1tpXSA9IG5ldyBCaW5hcnlTdGVwcGVyKHN1YnBhcmFtcywgc3Vic3RhdGUsIGxvZ19wb3N0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7CiAgICAgICAgICAgICAgc3Vic3RlcHBlcnNbaV0gPSBjcmVhdGVfc3Vic3RlcHBlcnMoZGltLnNsaWNlKDEpLCBzdWJzdGF0ZVtpXSwgbG9nX3Bvc3QpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gc3Vic3RlcHBlcnM7CiAgICAgICAgfTsKICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzID0gY3JlYXRlX3N1YnN0ZXBwZXJzKHRoaXMuZGltLCB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0sIHRoaXMubG9nX3Bvc3QpOwogICAgICB9OwogICAgICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RlcHBlci5wcm90b3R5cGUpOwogICAgICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJpbmFyeUNvbXBvbmVudFN0ZXBwZXI7CiAgICAgIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gR28gdGhyb3VnaCB0aGUgc3Vic3RlcHBlcnMgaW4gYSByYW5kb20gb3JkZXIgYW5kIGNhbGwgc3RlcCgpIG9uIHRoZW0uCiAgICAgICAgcmV0dXJuIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24gKHN1YnN0ZXBwZXIpIHsKICAgICAgICAgIHJldHVybiBzdWJzdGVwcGVyLnN0ZXAoKTsKICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBAY2xhc3MKICAgICAgICogQGltcGxlbWVudHMge1N0ZXBwZXJ9CiAgICAgICAqIFRoaXMgc3RlcHBlciBjYW4gYmUgcmVzcG9uc2libGUgZm9yIHRha2luZyBhIHN0ZXAgZm9yIG9uZSBvciBtb3JlIHBhcmFtZXRlcnMuCiAgICAgICAqIEZvciByZWFsIGFuZCBpbnQgcGFyYW1ldGVycyBpdCB0YWtlcyBNZXRyb3BvbGlzIHdpdGhpbiBHaWJicyBzdGVwcywgYW5kIGZvciAKICAgICAgICogYmluYXJ5IHBhcmFtZXRlcnMgaXQgZG9lcyBldmFsdWF0ZXMgdGhlIHBvc3RlcmlvciBmb3IgYm90aCBwYXJhbXRlciB2YWx1ZXMgYW5kCiAgICAgICAqIHJhbmRvbWx5IGNoYW5nZXMgdG8gYSBjZXJ0YWluIHZhbHVlIHByb3BvcnRpb25hbGx5IHRvIHRoYXQgdmFsdWUncyBwb3N0ZXJpb3IKICAgICAgICogKHRoaXMgaXMgYWxzbyBkb25lIGZvciBlYWNoIHBhcmFtZXRlciwgc28gYWxzbyBhICogd2l0aGluIEdpYmJzIGFwcHJvYWNoKS4KICAgICAgICogVGhpcyBzdGVwcGVyIGlzIGFsc28gYWRhcHRpdmUgYW5kIGNhbiBiZSBlZmZpY2llbnQgd2hlbiB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnMKICAgICAgICogYXJlIG5vdCB0b28gaGlnaCBhbmQgdGhlIGNvcnJlbGF0aW9ucyBiZXR3ZWVuIHBhcmFtZXRlcnMgYXJlIGxvdy4KICAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgb25lIG9yIG1vcmUgcGFyYW1ldGVyIGRlZmluaXRpb25zCiAgICAgICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy4KICAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIAogICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuCiAgICAgICovCiAgICAgIHZhciBBbXdnU3RlcHBlciA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7CiAgICAgICAgdGhpcy5wYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTsKICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzID0gW107CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmFtX25hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgcGFyYW0gPSBwYXJhbXNbdGhpcy5wYXJhbV9uYW1lc1tpXV07CiAgICAgICAgICB2YXIgU2VsZWN0U3RlcHBlcjsKICAgICAgICAgIHN3aXRjaCAocGFyYW0udHlwZSkgewogICAgICAgICAgICBjYXNlICJyZWFsIjoKICAgICAgICAgICAgICBpZiAoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7CiAgICAgICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gUmVhbE1ldHJvcG9saXNTdGVwcGVyOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJpbnQiOgogICAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHsKICAgICAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBJbnRNZXRyb3BvbGlzU3RlcHBlcjsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgU2VsZWN0U3RlcHBlciA9IE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICJiaW5hcnkiOgogICAgICAgICAgICAgIGlmIChhcnJheV9lcXVhbChwYXJhbS5kaW0sIFsxXSkpIHsKICAgICAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBCaW5hcnlTdGVwcGVyOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gQmluYXJ5Q29tcG9uZW50U3RlcHBlcjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgdGhyb3cgIkFtd2dTdGVwcGVyIGNhbid0IGhhbmRsZSBwYXJhbWV0ZXIgIiArIHRoaXMucGFyYW1fbmFtZXNbaV0gKyAiIHdpdGggdHlwZSAiICsgcGFyYW0udHlwZTsKICAgICAgICAgIH0KICAgICAgICAgIHZhciBwYXJhbV9vYmplY3Rfd3JhcCA9IHt9OwogICAgICAgICAgcGFyYW1fb2JqZWN0X3dyYXBbdGhpcy5wYXJhbV9uYW1lc1tpXV0gPSBwYXJhbTsKICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgICAgICAgdmFyIHBhcmFtX29wdGlvbnMgPSBvcHRpb25zLnBhcmFtcyAmJiBvcHRpb25zLnBhcmFtc1t0aGlzLnBhcmFtX25hbWVzW2ldXSB8fCB7fTsKICAgICAgICAgIHBhcmFtX29wdGlvbnMucHJvcF9sb2dfc2NhbGUgPSBwYXJhbV9vcHRpb25zLnByb3BfbG9nX3NjYWxlIHx8IG9wdGlvbnMucHJvcF9sb2dfc2NhbGU7CiAgICAgICAgICBwYXJhbV9vcHRpb25zLmJhdGNoX3NpemUgPSBwYXJhbV9vcHRpb25zLmJhdGNoX3NpemUgfHwgb3B0aW9ucy5iYXRjaF9zaXplOwogICAgICAgICAgcGFyYW1fb3B0aW9ucy5tYXhfYWRhcHRhdGlvbiA9IHBhcmFtX29wdGlvbnMubWF4X2FkYXB0YXRpb24gfHwgb3B0aW9ucy5tYXhfYWRhcHRhdGlvbjsKICAgICAgICAgIHBhcmFtX29wdGlvbnMuaW5pdGlhbF9hZGFwdGF0aW9uID0gcGFyYW1fb3B0aW9ucy5pbml0aWFsX2FkYXB0YXRpb24gfHwgb3B0aW9ucy5pbml0aWFsX2FkYXB0YXRpb247CiAgICAgICAgICBwYXJhbV9vcHRpb25zLnRhcmdldF9hY2NlcHRfcmF0ZSA9IHBhcmFtX29wdGlvbnMudGFyZ2V0X2FjY2VwdF9yYXRlIHx8IG9wdGlvbnMudGFyZ2V0X2FjY2VwdF9yYXRlOwogICAgICAgICAgcGFyYW1fb3B0aW9ucy5pc19hZGFwdGluZyA9IHBhcmFtX29wdGlvbnMuaXNfYWRhcHRpbmcgfHwgb3B0aW9ucy5pc19hZGFwdGluZzsKICAgICAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0gPSBuZXcgU2VsZWN0U3RlcHBlcihwYXJhbV9vYmplY3Rfd3JhcCwgc3RhdGUsIGxvZ19wb3N0LCBwYXJhbV9vcHRpb25zKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIEFtd2dTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RlcHBlci5wcm90b3R5cGUpOwogICAgICBBbXdnU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBbXdnU3RlcHBlcjsKICAgICAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgc2h1ZmZsZV9hcnJheSh0aGlzLnN1YnN0ZXBwZXJzKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic3RlcHBlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0uc3RlcCgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTsKICAgICAgfTsKICAgICAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLnN0YXJ0X2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0YXJ0X2FkYXB0YXRpb24oKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIEFtd2dTdGVwcGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0b3BfYWRhcHRhdGlvbigpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGluZm8gPSB7fTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic3RlcHBlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGluZm9bdGhpcy5wYXJhbV9uYW1lc1tpXV0gPSB0aGlzLnN1YnN0ZXBwZXJzW2ldLmluZm8oKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGluZm87CiAgICAgIH07CgogICAgICAvLy8vLy8vLy8vLyBTYW1wbGVyIEZ1bmN0aW9ucyAvLy8vLy8vLy8vCiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgICAgIC8qKgogICAgICAqIEBpbnRlcmZhY2UKICAgICAgKiBXaGlsZSB5b3UgY291bGQgZml0IGEgbW9kZWwgYnkgcGFzdGluZyB0b2dldGhlciBTdGVwcGVycywgYQogICAgICAvLyBTYW1wbGVyIGlzIGhlcmUgaXMgYSBjb252ZW5pZW5jZSBjbGFzcyB3aGVyZSBhbiBpbnN0YW5jZSBvZiBTYW1wbGVyCiAgICAgIC8vIHNldHMgdXAgdGhlIFN0ZXBwZXJzLCBjaGVja3MgdGhlIHBhcmFtZXRlciBkZWZpbml0aW9uLAogICAgICAvLyBhbmQgbWFuYWdlcyB0aGUgc2FtcGxpbmcuIFRoaXMgaGVyZSBkZWZpbmVzIHRoZSBTYW1wbGVyICJpbnRlcmZhY2UiLgogICAgICAqIEBpbnRlcmZhY2UKICAgICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggcGFyYW1ldGVyIGRlZmluaXRpb25zLCBmb3IgZXhhbXBsZToKICAgICAgKiAgIHsibXUiOiB7InR5cGUiOiAicmVhbCJ9LCAic2lnbWEiOiB7InR5cGUiOiAicmVhbCIsICJsb3dlciIgPSAwfX0KICAgICAgKiAgIFRoZSBwYXJhbWV0ZXIgZGVmaW5pdGlvbnMgZG9lc24ndCBoYXZlIHRvIGJlICJjb21wbGV0ZSIgYW5kIHByb3BlcnRpZXMKICAgICAgKiAgIGxlZnQgb3V0IChsaWtlIGxvd2VyIGFuZCB1cHBlcikgd2lsbCBiZSBmaWxsZWQgaW4gYnkgZGVmYXVsdHMuCiAgICAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB3aXRoIHNpZ25hdHVyZSBmdW5jdGlvbihzdGF0ZSwgZGF0YSkuIEhlcmUKICAgICAgKiAgIHN0YXRlIHdpbGwgYmUgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc3RhdGUgd2l0aCBlYWNoIHBhcmFtZXRlciBhcyBhIAogICAgICAqICAga2V5IGFuZCB0aGUgcGFyYW1ldGVyIHZhbHVlcyBhcyBudW1iZXJzIG9yIGFycmF5cy4gRm9yIGV4YW1wbGU6CiAgICAgICogICB7Im11IjogMywgInNpZ21hIjogMS41fS4gVGhlIGRhdGEgYXJndW1lbnQgd2lsbCBiZSB0aGUgc2FtZSBvYmplY3QgYXMgCiAgICAgICogICB0aGUgZGF0YSBhcmd1bWVudCBnaXZlbiBiZWxvdy4KICAgICAgKiBAcGFyYW0gZGF0YSAtIGFuIG9iamVjdCB0aGF0IHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSBsb2dfcG9zdCBmdW5jdGlvbgogICAgICAqICAgd2hlbiBzYW1wbGluZy4KICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHNhbXBsZXIuCiAgICAgICovCiAgICAgIHZhciBTYW1wbGVyID0gZnVuY3Rpb24gKHBhcmFtcywgbG9nX3Bvc3QsIGRhdGEsIG9wdGlvbnMpIHsKICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtczsKICAgICAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgICAgIHRoaXMucGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7CgogICAgICAgIC8vIFNldHRpbmcgZGVmYXVsdCBvcHRpb25zIGlmIG5vdCBwYXNzZWQgdGhyb3VnaCB0aGUgb3B0aW9ucyBvYmplY3QKICAgICAgICB0aGlzLnBhcmFtX2luaXRfZnVuID0gZ2V0X29wdGlvbigicGFyYW1faW5pdF9mdW4iLCBvcHRpb25zLCBwYXJhbV9pbml0X2ZpeGVkKTsKICAgICAgICB2YXIgdGhpbm5pbmdfaW50ZXJ2YWwgPSBnZXRfb3B0aW9uKCJ0aGluIiwgb3B0aW9ucywgMSk7CiAgICAgICAgdmFyIHBhcmFtc190b19tb25pdG9yID0gZ2V0X29wdGlvbigibW9uaXRvciIsIG9wdGlvbnMsIG51bGwpOwogICAgICAgIHRoaXMudGhpbih0aGlubmluZ19pbnRlcnZhbCk7CiAgICAgICAgdGhpcy5tb25pdG9yKHBhcmFtc190b19tb25pdG9yKTsKICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwogICAgICAgIC8vIENvbXBsZXRpbmcgdGhlIHBhcmFtcyBhbmQgaW5pdGlhbGl6aW5nIHRoZSBzdGF0ZS4KICAgICAgICB0aGlzLnBhcmFtcyA9IGNvbXBsZXRlX3BhcmFtcyh0aGlzLnBhcmFtcywgdGhpcy5wYXJhbV9pbml0X2Z1bik7CiAgICAgICAgdmFyIHN0YXRlID0ge307CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmFtX25hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBzdGF0ZVt0aGlzLnBhcmFtX25hbWVzW2ldXSA9IHRoaXMucGFyYW1zW3RoaXMucGFyYW1fbmFtZXNbaV1dLmluaXQ7CiAgICAgICAgfQogICAgICAgIHRoaXMubG9nX3Bvc3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gbG9nX3Bvc3Qoc3RhdGUsIGRhdGEpOwogICAgICAgIH07CiAgICAgICAgLy8gUnVubmluZyB0aGUgbG9nX3Bvc3QgZnVuY3Rpb24gb25jZSBpbiBjYXNlIGl0IGZ1cnRoZXIgbW9kaWZpZXMgdGhlIHN0YXRlCiAgICAgICAgLy8gZm9yIGV4YW1wbGUgYWRkaW5nIGRlcml2ZWQgcXVhbnRpdGllcy4KICAgICAgICB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlOwogICAgICAgIHRoaXMuc3RlcHBlcnMgPSB0aGlzLmNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlKHRoaXMucGFyYW1zLCB0aGlzLnN0YXRlLCB0aGlzLmxvZ19wb3N0LCB0aGlzLm9wdGlvbnMpOwogICAgICB9OwoKICAgICAgLyoqIFNob3VsZCByZXR1cm4gYSB2ZWN0b3Igb2Ygc3RlcHBlcnMgdGhhdCB3aGVuIGNhbGxlZCAKICAgICAgICogc2hvdWxkIHRha2UgYSBzdGVwIGluIHRoZSBwYXJhbWV0ZXIgc3BhY2UuCiAgICAgICAqLwogICAgICBTYW1wbGVyLnByb3RvdHlwZS5jcmVhdGVfc3RlcHBlcl9lbnNhbWJsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgbG9nX3Bvc3QpIHsKICAgICAgICB0aHJvdyAiRXZlcnkgU2FtcGxlciBuZWVkcyB0byBpbXBsZW1lbnQgY3JlYXRlX3N0ZXBwZXJfZW5zYW1ibGUoKSI7CiAgICAgIH07CgogICAgICAvKiogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBpbmZvIGFib3V0IHRoZSBzdGF0ZSBvZiB0aGUgU2FtcGxlci4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLAogICAgICAgICAgdGhpbjogdGhpcy50aGluLAogICAgICAgICAgbW9uaXRvcjogdGhpcy5tb25pdG9yLAogICAgICAgICAgc3RlcHBlcnM6IHRoaXMuc3RlcHBlcnMKICAgICAgICB9OwogICAgICB9OwoKICAgICAgLyoqIFRha2VzIGEgc3RlcCBpbiB0aGUgcGFyYW1ldGVyIHNwYWNlLiBSZXR1cm5zIHRoZSBuZXcgc3BhY2UKICAgICAgICogYnV0IGFsc28gbW9kaWZpZXMgdGhlIHN0YXRlIGluIHBsYWNlLgogICAgICAgKi8KICAgICAgU2FtcGxlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBzaHVmZmxlX2FycmF5KHRoaXMuc3RlcHBlcnMpOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGVwcGVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdGhpcy5zdGVwcGVyc1tpXS5zdGVwKCk7CiAgICAgICAgfQogICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnN0YXRlKS5sZW5ndGggPiBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcykubGVuZ3RoKSB7CiAgICAgICAgICAvLyBUaGUgc3RhdGUgY29udGFpbnMgZGV2aXZlZCBxdWFudGl0aWVzIChub3Qgb25seSBwYXJhbWV0ZXJzKSBhbmQgd2UKICAgICAgICAgIC8vIG5lZWQgdG8gcnVuIHRoZSBsb2dfcG9zdCBvbmNlIG1vcmUgaW4gb3JkZXIgdG8gc2V0IHRoZSBkZXJpdmVkIHF1YW50aXRpZXMKICAgICAgICAgIC8vIGZvciB0aGUgZmluYWwgcGFyYW1ldGVyIHN0YXRlCiAgICAgICAgICB0aGlzLmxvZ19wb3N0KCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLnN0YXRlOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIFRha2VzIG5faXRlcmF0aW9ucyBzdGVwcyBpbiB0aGUgcGFyYW1ldGVyIHNwYWNlIGFuZCByZXR1cm5zIHRoZW0KICAgICAgICogYXMgYW4gb2JqZWN0IG9mIGFycmF5cyB3aXRoIG9uZSBhcnJheSBwZXIgcGFyYW1ldGVyLiBGb3IgZXhhbXBsZToKICAgICAgICoge211OiBbMSwgLTEsIDIsIDMsIC4uLl0sIHNpZ21hOiBbMSwgMiwgMiwgMSwgLi4uXX0uCiAgICAgICAqIElmIHRoaW4gaXMgPiAxIHRoZW4gbl9pdGVyYXRpb25zIC8gdGhpbiBzYW1wbGVzIGFyZSByZXR1cm5lZC4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZSA9IGZ1bmN0aW9uIChuX2l0ZXJhdGlvbnMpIHsKICAgICAgICAvLyBJbml0aWFsaXppbmcgY3Vycl9zYW1wbGUgd2hlcmUgdGhlIHNhbXBsZSBpcyBnb2luZyB0byBiZSBzYXZlZAogICAgICAgIC8vIGFzIGFuIG9iamVjdCBjb250YWluaW5nIG9uZSBhcnJheSBwZXIgcGFyYW1ldGVyIHRvIGJlIG1vbml0b3JlZC4KICAgICAgICB2YXIgaSwgaiwgbW9uaXRvcmVkX3BhcmFtczsKICAgICAgICBpZiAodGhpcy5tb25pdG9yZWRfcGFyYW1zID09PSBudWxsKSB7CiAgICAgICAgICBtb25pdG9yZWRfcGFyYW1zID0gT2JqZWN0LmtleXModGhpcy5zdGF0ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1vbml0b3JlZF9wYXJhbXMgPSB0aGlzLm1vbml0b3JlZF9wYXJhbXM7CiAgICAgICAgfQogICAgICAgIHZhciBjdXJyX3NhbXBsZSA9IHt9OwogICAgICAgIGZvciAoaiA9IDA7IGogPCBtb25pdG9yZWRfcGFyYW1zLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBjdXJyX3NhbXBsZVttb25pdG9yZWRfcGFyYW1zW2pdXSA9IFtdOwogICAgICAgIH0KICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbl9pdGVyYXRpb25zOyBpKyspIHsKICAgICAgICAgIGlmIChpICUgdGhpcy50aGlubmluZ19pbnRlcnZhbCA9PT0gMCkgewogICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbW9uaXRvcmVkX3BhcmFtcy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgIHZhciBwYXJhbSA9IG1vbml0b3JlZF9wYXJhbXNbal07CiAgICAgICAgICAgICAgY3Vycl9zYW1wbGVbcGFyYW1dLnB1c2goY2xvbmVfcGFyYW1fZHJhdyh0aGlzLnN0YXRlW3BhcmFtXSkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnN0ZXAoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGN1cnJfc2FtcGxlOwogICAgICB9OwoKICAgICAgLyoqCiAgICAgICAqIFRha2VzIG5faXRlcmF0aW9uIHN0ZXBzIGluIHBhcmFtZXRlciBzcGFjZSBidXQgcmV0dXJucyBub3RoaW5nLgogICAgICAgKi8KICAgICAgU2FtcGxlci5wcm90b3R5cGUuYnVybiA9IGZ1bmN0aW9uIChuX2l0ZXJhdGlvbnMpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5faXRlcmF0aW9uczsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN0ZXAoKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgICogU2V0cyB3aGF0IHBhcmFtZXRlcnMgc2hvdWxkIGJlIG1vbml0b3JlZCBhbmQgcmV0dXJuZWQgd2hlbiBjYWxsaW5nCiAgICAgICAqIHNhbXBsZS4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLm1vbml0b3IgPSBmdW5jdGlvbiAocGFyYW1zX3RvX21vbml0b3IpIHsKICAgICAgICB0aGlzLm1vbml0b3JlZF9wYXJhbXMgPSBwYXJhbXNfdG9fbW9uaXRvcjsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBTZXRzIHRoZSB0aGlubmluZy4gRm9yIGV4YW1wbGUgdGhpbiA9PSAxMCBtZWFucyB0aGF0IGV2ZXJ5IDEwdGggcG9zdGVyaW9yCiAgICAgICAqIGRyYXcgd2lsbCBiZSBrZXB0LgogICAgICAgKi8KICAgICAgU2FtcGxlci5wcm90b3R5cGUudGhpbiA9IGZ1bmN0aW9uICh0aGlubmluZ19pbnRlcnZhbCkgewogICAgICAgIHRoaXMudGhpbm5pbmdfaW50ZXJ2YWwgPSB0aGlubmluZ19pbnRlcnZhbDsKICAgICAgfTsKCiAgICAgIC8qKgogICAgICAgKiBTZXRzIGFkYXB0YXRpb24gb24sIGlmIGFwcGxpY2FibGUsIGluIGFsbCBzdGVwcGVycy4KICAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLnN0YXJ0X2FkYXB0YXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnN0ZXBwZXJzW2ldLnN0YXJ0X2FkYXB0YXRpb24oKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvKioKICAgICAgKiBTZXRzIGFkYXB0YXRpb24gb2ZmLCBpZiBhcHBsaWNhYmxlLCBpbiBhbGwgc3RlcHBlcnMuCiAgICAgICovCiAgICAgIFNhbXBsZXIucHJvdG90eXBlLnN0b3BfYWRhcHRhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RlcHBlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuc3RlcHBlcnNbaV0uc3RvcF9hZGFwdGF0aW9uKCk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgLyoqCiAgICAgICogQGNsYXNzCiAgICAgICogQGltcGxlbWVudHMge1NhbXBsZXJ9CiAgICAgICogVGhpcyBzYW1wbGVyIHVzZXMgdGhlIEFtd2dTdGVwcGVyIGFzIHRoZSBzdGVwcGVyIGZ1bmN0aW9uIHdoaWNoIGltcGxlbWVudHMgdGhlIAogICAgICAqIEFkYXB0aXZlIE1ldHJvcG9saXMtV2l0aGluLUdpYmJzIGFsZ29yaXRobSBpbiAiRXhhbXBsZXMgb2YgQWRhcHRpdmUgTUNNQyIKICAgICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpLiBBbiBhZGl0aW9uIGlzIHRoYXQgaXQgaGFuZGxlcyBpbnQgcGFyYW1ldGVycwogICAgICAqIGJ5IG1ha2luZyBkaXNjcmV0ZSBOb3JtYWwgcHJvcG9zYWxzIGFuZCBiaW5hcnkgcGFyYW1ldGVycyBieSB0YWtpbmcgb24gYSBuZXcgCiAgICAgICogdmFsdWUgcHJvcG9ydGlvbmFsIHRvIHRoZSBwb3N0ZXJpb3Igb2YgdGhlIHR3byBwb3NzaWJsZSBzdGF0ZXMgb2YgdGhlCiAgICAgICogcGFyYW1ldGVyLiBUaGlzIHNhbXBsZXIgY2FuIGJlIGVmZmljaWVudCB3aGVuIHRoZSBudW1iZXIgb2YgcGFyYW1ldGVycwogICAgICAqIGFyZSBub3QgdG9vIGhpZ2ggYW5kIHRoZSBjb3JyZWxhdGlvbnMgYmV0d2VlbiBwYXJhbWV0ZXJzIGFyZSBsb3cuCiAgICAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgb25lIG9yIG1vcmUgcGFyYW1ldGVyIGRlZmluaXRpb25zCiAgICAgICogQHBhcmFtIHN0YXRlIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXRlIG9mIGFsbCBwYXJhbWV0ZXJzLgogICAgICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiAKICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuCiAgICAgICovCiAgICAgIHZhciBBbXdnU2FtcGxlciA9IGZ1bmN0aW9uIChwYXJhbXMsIGxvZ19wb3N0LCBkYXRhLCBvcHRpb25zKSB7CiAgICAgICAgU2FtcGxlci5jYWxsKHRoaXMsIHBhcmFtcywgbG9nX3Bvc3QsIGRhdGEsIG9wdGlvbnMpOwogICAgICB9OwogICAgICBBbXdnU2FtcGxlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNhbXBsZXIucHJvdG90eXBlKTsKICAgICAgQW13Z1NhbXBsZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQW13Z1NhbXBsZXI7CiAgICAgIEFtd2dTYW1wbGVyLnByb3RvdHlwZS5jcmVhdGVfc3RlcHBlcl9lbnNhbWJsZSA9IGZ1bmN0aW9uIChwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgewogICAgICAgIHJldHVybiBbbmV3IEFtd2dTdGVwcGVyKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKV07CiAgICAgIH07CgogICAgICAvLyBSZXR1cm5pbmcgdGhlIGZ1bmN0aW9ucyB0aGF0IHNob3VsZCBiZSBwdWJsaWNseSBleHBvc2VkIGJ5IHRoaXMgbW9kdWxlCiAgICAgIHJldHVybiB7CiAgICAgICAgcnVuaWY6IHJ1bmlmLAogICAgICAgIHJ1bmlmX2Rpc2NyZXRlOiBydW5pZl9kaXNjcmV0ZSwKICAgICAgICBybm9ybTogcm5vcm0sCiAgICAgICAgcGFyYW1faW5pdF9maXhlZDogcGFyYW1faW5pdF9maXhlZCwKICAgICAgICBjb21wbGV0ZV9wYXJhbXM6IGNvbXBsZXRlX3BhcmFtcywKICAgICAgICBSZWFsTWV0cm9wb2xpc1N0ZXBwZXI6IFJlYWxNZXRyb3BvbGlzU3RlcHBlciwKICAgICAgICBJbnRNZXRyb3BvbGlzU3RlcHBlcjogSW50TWV0cm9wb2xpc1N0ZXBwZXIsCiAgICAgICAgTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI6IE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLAogICAgICAgIE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI6IE11bHRpSW50Q29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIsCiAgICAgICAgQmluYXJ5U3RlcHBlcjogQmluYXJ5U3RlcHBlciwKICAgICAgICBCaW5hcnlDb21wb25lbnRTdGVwcGVyOiBCaW5hcnlDb21wb25lbnRTdGVwcGVyLAogICAgICAgIEFtd2dTdGVwcGVyOiBBbXdnU3RlcHBlciwKICAgICAgICBBbXdnU2FtcGxlcjogQW13Z1NhbXBsZXIKICAgICAgfTsKICAgIH0pOwogIH0pKG1jbWMkMSk7CiAgdmFyIG1jbWNFeHBvcnRzID0gbWNtYyQxLmV4cG9ydHM7CgogIGZ1bmN0aW9uIGFzY2VuZGluZyQxKGEsIGIpIHsKICAgIHJldHVybiBhID09IG51bGwgfHwgYiA9PSBudWxsID8gTmFOIDogYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47CiAgfQoKICBmdW5jdGlvbiogbnVtYmVycyh2YWx1ZXMsIHZhbHVlb2YpIHsKICAgIHsKICAgICAgZm9yIChsZXQgdmFsdWUgb2YgdmFsdWVzKSB7CiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgKHZhbHVlID0gK3ZhbHVlKSA+PSB2YWx1ZSkgewogICAgICAgICAgeWllbGQgdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBjb21wYXJlRGVmaW5lZChjb21wYXJlID0gYXNjZW5kaW5nJDEpIHsKICAgIGlmIChjb21wYXJlID09PSBhc2NlbmRpbmckMSkgcmV0dXJuIGFzY2VuZGluZ0RlZmluZWQ7CiAgICBpZiAodHlwZW9mIGNvbXBhcmUgIT09ICJmdW5jdGlvbiIpIHRocm93IG5ldyBUeXBlRXJyb3IoImNvbXBhcmUgaXMgbm90IGEgZnVuY3Rpb24iKTsKICAgIHJldHVybiAoYSwgYikgPT4gewogICAgICBjb25zdCB4ID0gY29tcGFyZShhLCBiKTsKICAgICAgaWYgKHggfHwgeCA9PT0gMCkgcmV0dXJuIHg7CiAgICAgIHJldHVybiAoY29tcGFyZShiLCBiKSA9PT0gMCkgLSAoY29tcGFyZShhLCBhKSA9PT0gMCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhc2NlbmRpbmdEZWZpbmVkKGEsIGIpIHsKICAgIHJldHVybiAoYSA9PSBudWxsIHx8ICEoYSA+PSBhKSkgLSAoYiA9PSBudWxsIHx8ICEoYiA+PSBiKSkgfHwgKGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwKTsKICB9CgogIGZ1bmN0aW9uIG1heCh2YWx1ZXMsIHZhbHVlb2YpIHsKICAgIGxldCBtYXg7CiAgICB7CiAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7CiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgKG1heCA8IHZhbHVlIHx8IG1heCA9PT0gdW5kZWZpbmVkICYmIHZhbHVlID49IHZhbHVlKSkgewogICAgICAgICAgbWF4ID0gdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gbWF4OwogIH0KCiAgZnVuY3Rpb24gbWluKHZhbHVlcywgdmFsdWVvZikgewogICAgbGV0IG1pbjsKICAgIHsKICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHsKICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiAobWluID4gdmFsdWUgfHwgbWluID09PSB1bmRlZmluZWQgJiYgdmFsdWUgPj0gdmFsdWUpKSB7CiAgICAgICAgICBtaW4gPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBtaW47CiAgfQoKICAvLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9xdWlja3NlbGVjdAogIC8vIElTQyBsaWNlbnNlLCBDb3B5cmlnaHQgMjAxOCBWbGFkaW1pciBBZ2Fmb25raW4uCiAgZnVuY3Rpb24gcXVpY2tzZWxlY3QoYXJyYXksIGssIGxlZnQgPSAwLCByaWdodCA9IEluZmluaXR5LCBjb21wYXJlKSB7CiAgICBrID0gTWF0aC5mbG9vcihrKTsKICAgIGxlZnQgPSBNYXRoLmZsb29yKE1hdGgubWF4KDAsIGxlZnQpKTsKICAgIHJpZ2h0ID0gTWF0aC5mbG9vcihNYXRoLm1pbihhcnJheS5sZW5ndGggLSAxLCByaWdodCkpOwogICAgaWYgKCEobGVmdCA8PSBrICYmIGsgPD0gcmlnaHQpKSByZXR1cm4gYXJyYXk7CiAgICBjb21wYXJlID0gY29tcGFyZSA9PT0gdW5kZWZpbmVkID8gYXNjZW5kaW5nRGVmaW5lZCA6IGNvbXBhcmVEZWZpbmVkKGNvbXBhcmUpOwogICAgd2hpbGUgKHJpZ2h0ID4gbGVmdCkgewogICAgICBpZiAocmlnaHQgLSBsZWZ0ID4gNjAwKSB7CiAgICAgICAgY29uc3QgbiA9IHJpZ2h0IC0gbGVmdCArIDE7CiAgICAgICAgY29uc3QgbSA9IGsgLSBsZWZ0ICsgMTsKICAgICAgICBjb25zdCB6ID0gTWF0aC5sb2cobik7CiAgICAgICAgY29uc3QgcyA9IDAuNSAqIE1hdGguZXhwKDIgKiB6IC8gMyk7CiAgICAgICAgY29uc3Qgc2QgPSAwLjUgKiBNYXRoLnNxcnQoeiAqIHMgKiAobiAtIHMpIC8gbikgKiAobSAtIG4gLyAyIDwgMCA/IC0xIDogMSk7CiAgICAgICAgY29uc3QgbmV3TGVmdCA9IE1hdGgubWF4KGxlZnQsIE1hdGguZmxvb3IoayAtIG0gKiBzIC8gbiArIHNkKSk7CiAgICAgICAgY29uc3QgbmV3UmlnaHQgPSBNYXRoLm1pbihyaWdodCwgTWF0aC5mbG9vcihrICsgKG4gLSBtKSAqIHMgLyBuICsgc2QpKTsKICAgICAgICBxdWlja3NlbGVjdChhcnJheSwgaywgbmV3TGVmdCwgbmV3UmlnaHQsIGNvbXBhcmUpOwogICAgICB9CiAgICAgIGNvbnN0IHQgPSBhcnJheVtrXTsKICAgICAgbGV0IGkgPSBsZWZ0OwogICAgICBsZXQgaiA9IHJpZ2h0OwogICAgICBzd2FwKGFycmF5LCBsZWZ0LCBrKTsKICAgICAgaWYgKGNvbXBhcmUoYXJyYXlbcmlnaHRdLCB0KSA+IDApIHN3YXAoYXJyYXksIGxlZnQsIHJpZ2h0KTsKICAgICAgd2hpbGUgKGkgPCBqKSB7CiAgICAgICAgc3dhcChhcnJheSwgaSwgaiksICsraSwgLS1qOwogICAgICAgIHdoaWxlIChjb21wYXJlKGFycmF5W2ldLCB0KSA8IDApICsraTsKICAgICAgICB3aGlsZSAoY29tcGFyZShhcnJheVtqXSwgdCkgPiAwKSAtLWo7CiAgICAgIH0KICAgICAgaWYgKGNvbXBhcmUoYXJyYXlbbGVmdF0sIHQpID09PSAwKSBzd2FwKGFycmF5LCBsZWZ0LCBqKTtlbHNlICsraiwgc3dhcChhcnJheSwgaiwgcmlnaHQpOwogICAgICBpZiAoaiA8PSBrKSBsZWZ0ID0gaiArIDE7CiAgICAgIGlmIChrIDw9IGopIHJpZ2h0ID0gaiAtIDE7CiAgICB9CiAgICByZXR1cm4gYXJyYXk7CiAgfQogIGZ1bmN0aW9uIHN3YXAoYXJyYXksIGksIGopIHsKICAgIGNvbnN0IHQgPSBhcnJheVtpXTsKICAgIGFycmF5W2ldID0gYXJyYXlbal07CiAgICBhcnJheVtqXSA9IHQ7CiAgfQoKICBmdW5jdGlvbiBxdWFudGlsZSh2YWx1ZXMsIHAsIHZhbHVlb2YpIHsKICAgIHZhbHVlcyA9IEZsb2F0NjRBcnJheS5mcm9tKG51bWJlcnModmFsdWVzKSk7CiAgICBpZiAoIShuID0gdmFsdWVzLmxlbmd0aCkgfHwgaXNOYU4ocCA9ICtwKSkgcmV0dXJuOwogICAgaWYgKHAgPD0gMCB8fCBuIDwgMikgcmV0dXJuIG1pbih2YWx1ZXMpOwogICAgaWYgKHAgPj0gMSkgcmV0dXJuIG1heCh2YWx1ZXMpOwogICAgdmFyIG4sCiAgICAgIGkgPSAobiAtIDEpICogcCwKICAgICAgaTAgPSBNYXRoLmZsb29yKGkpLAogICAgICB2YWx1ZTAgPSBtYXgocXVpY2tzZWxlY3QodmFsdWVzLCBpMCkuc3ViYXJyYXkoMCwgaTAgKyAxKSksCiAgICAgIHZhbHVlMSA9IG1pbih2YWx1ZXMuc3ViYXJyYXkoaTAgKyAxKSk7CiAgICByZXR1cm4gdmFsdWUwICsgKHZhbHVlMSAtIHZhbHVlMCkgKiAoaSAtIGkwKTsKICB9CgogIGZ1bmN0aW9uIG1lZGlhbih2YWx1ZXMsIHZhbHVlb2YpIHsKICAgIHJldHVybiBxdWFudGlsZSh2YWx1ZXMsIDAuNSk7CiAgfQoKICB2YXIgbm9vcCA9IHsKICAgIHZhbHVlOiAoKSA9PiB7fQogIH07CiAgZnVuY3Rpb24gZGlzcGF0Y2goKSB7CiAgICBmb3IgKHZhciBpID0gMCwgbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF8gPSB7fSwgdDsgaSA8IG47ICsraSkgewogICAgICBpZiAoISh0ID0gYXJndW1lbnRzW2ldICsgIiIpIHx8IHQgaW4gXyB8fCAvW1xzLl0vLnRlc3QodCkpIHRocm93IG5ldyBFcnJvcigiaWxsZWdhbCB0eXBlOiAiICsgdCk7CiAgICAgIF9bdF0gPSBbXTsKICAgIH0KICAgIHJldHVybiBuZXcgRGlzcGF0Y2goXyk7CiAgfQogIGZ1bmN0aW9uIERpc3BhdGNoKF8pIHsKICAgIHRoaXMuXyA9IF87CiAgfQogIGZ1bmN0aW9uIHBhcnNlVHlwZW5hbWVzJDEodHlwZW5hbWVzLCB0eXBlcykgewogICAgcmV0dXJuIHR5cGVuYW1lcy50cmltKCkuc3BsaXQoL158XHMrLykubWFwKGZ1bmN0aW9uICh0KSB7CiAgICAgIHZhciBuYW1lID0gIiIsCiAgICAgICAgaSA9IHQuaW5kZXhPZigiLiIpOwogICAgICBpZiAoaSA+PSAwKSBuYW1lID0gdC5zbGljZShpICsgMSksIHQgPSB0LnNsaWNlKDAsIGkpOwogICAgICBpZiAodCAmJiAhdHlwZXMuaGFzT3duUHJvcGVydHkodCkpIHRocm93IG5ldyBFcnJvcigidW5rbm93biB0eXBlOiAiICsgdCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgdHlwZTogdCwKICAgICAgICBuYW1lOiBuYW1lCiAgICAgIH07CiAgICB9KTsKICB9CiAgRGlzcGF0Y2gucHJvdG90eXBlID0gZGlzcGF0Y2gucHJvdG90eXBlID0gewogICAgY29uc3RydWN0b3I6IERpc3BhdGNoLAogICAgb246IGZ1bmN0aW9uICh0eXBlbmFtZSwgY2FsbGJhY2spIHsKICAgICAgdmFyIF8gPSB0aGlzLl8sCiAgICAgICAgVCA9IHBhcnNlVHlwZW5hbWVzJDEodHlwZW5hbWUgKyAiIiwgXyksCiAgICAgICAgdCwKICAgICAgICBpID0gLTEsCiAgICAgICAgbiA9IFQubGVuZ3RoOwoKICAgICAgLy8gSWYgbm8gY2FsbGJhY2sgd2FzIHNwZWNpZmllZCwgcmV0dXJuIHRoZSBjYWxsYmFjayBvZiB0aGUgZ2l2ZW4gdHlwZSBhbmQgbmFtZS4KICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7CiAgICAgICAgd2hpbGUgKCsraSA8IG4pIGlmICgodCA9ICh0eXBlbmFtZSA9IFRbaV0pLnR5cGUpICYmICh0ID0gZ2V0JDEoX1t0XSwgdHlwZW5hbWUubmFtZSkpKSByZXR1cm4gdDsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIC8vIElmIGEgdHlwZSB3YXMgc3BlY2lmaWVkLCBzZXQgdGhlIGNhbGxiYWNrIGZvciB0aGUgZ2l2ZW4gdHlwZSBhbmQgbmFtZS4KICAgICAgLy8gT3RoZXJ3aXNlLCBpZiBhIG51bGwgY2FsbGJhY2sgd2FzIHNwZWNpZmllZCwgcmVtb3ZlIGNhbGxiYWNrcyBvZiB0aGUgZ2l2ZW4gbmFtZS4KICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwgJiYgdHlwZW9mIGNhbGxiYWNrICE9PSAiZnVuY3Rpb24iKSB0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgY2FsbGJhY2s6ICIgKyBjYWxsYmFjayk7CiAgICAgIHdoaWxlICgrK2kgPCBuKSB7CiAgICAgICAgaWYgKHQgPSAodHlwZW5hbWUgPSBUW2ldKS50eXBlKSBfW3RdID0gc2V0JDEoX1t0XSwgdHlwZW5hbWUubmFtZSwgY2FsbGJhY2spO2Vsc2UgaWYgKGNhbGxiYWNrID09IG51bGwpIGZvciAodCBpbiBfKSBfW3RdID0gc2V0JDEoX1t0XSwgdHlwZW5hbWUubmFtZSwgbnVsbCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgY29weTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgY29weSA9IHt9LAogICAgICAgIF8gPSB0aGlzLl87CiAgICAgIGZvciAodmFyIHQgaW4gXykgY29weVt0XSA9IF9bdF0uc2xpY2UoKTsKICAgICAgcmV0dXJuIG5ldyBEaXNwYXRjaChjb3B5KTsKICAgIH0sCiAgICBjYWxsOiBmdW5jdGlvbiAodHlwZSwgdGhhdCkgewogICAgICBpZiAoKG4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMikgPiAwKSBmb3IgKHZhciBhcmdzID0gbmV3IEFycmF5KG4pLCBpID0gMCwgbiwgdDsgaSA8IG47ICsraSkgYXJnc1tpXSA9IGFyZ3VtZW50c1tpICsgMl07CiAgICAgIGlmICghdGhpcy5fLmhhc093blByb3BlcnR5KHR5cGUpKSB0aHJvdyBuZXcgRXJyb3IoInVua25vd24gdHlwZTogIiArIHR5cGUpOwogICAgICBmb3IgKHQgPSB0aGlzLl9bdHlwZV0sIGkgPSAwLCBuID0gdC5sZW5ndGg7IGkgPCBuOyArK2kpIHRbaV0udmFsdWUuYXBwbHkodGhhdCwgYXJncyk7CiAgICB9LAogICAgYXBwbHk6IGZ1bmN0aW9uICh0eXBlLCB0aGF0LCBhcmdzKSB7CiAgICAgIGlmICghdGhpcy5fLmhhc093blByb3BlcnR5KHR5cGUpKSB0aHJvdyBuZXcgRXJyb3IoInVua25vd24gdHlwZTogIiArIHR5cGUpOwogICAgICBmb3IgKHZhciB0ID0gdGhpcy5fW3R5cGVdLCBpID0gMCwgbiA9IHQubGVuZ3RoOyBpIDwgbjsgKytpKSB0W2ldLnZhbHVlLmFwcGx5KHRoYXQsIGFyZ3MpOwogICAgfQogIH07CiAgZnVuY3Rpb24gZ2V0JDEodHlwZSwgbmFtZSkgewogICAgZm9yICh2YXIgaSA9IDAsIG4gPSB0eXBlLmxlbmd0aCwgYzsgaSA8IG47ICsraSkgewogICAgICBpZiAoKGMgPSB0eXBlW2ldKS5uYW1lID09PSBuYW1lKSB7CiAgICAgICAgcmV0dXJuIGMudmFsdWU7CiAgICAgIH0KICAgIH0KICB9CiAgZnVuY3Rpb24gc2V0JDEodHlwZSwgbmFtZSwgY2FsbGJhY2spIHsKICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHlwZS5sZW5ndGg7IGkgPCBuOyArK2kpIHsKICAgICAgaWYgKHR5cGVbaV0ubmFtZSA9PT0gbmFtZSkgewogICAgICAgIHR5cGVbaV0gPSBub29wLCB0eXBlID0gdHlwZS5zbGljZSgwLCBpKS5jb25jYXQodHlwZS5zbGljZShpICsgMSkpOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgdHlwZS5wdXNoKHsKICAgICAgbmFtZTogbmFtZSwKICAgICAgdmFsdWU6IGNhbGxiYWNrCiAgICB9KTsKICAgIHJldHVybiB0eXBlOwogIH0KCiAgdmFyIHhodG1sID0gImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiOwogIHZhciBuYW1lc3BhY2VzID0gewogICAgc3ZnOiAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLAogICAgeGh0bWw6IHhodG1sLAogICAgeGxpbms6ICJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiwKICAgIHhtbDogImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSIsCiAgICB4bWxuczogImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvIgogIH07CgogIGZ1bmN0aW9uIG5hbWVzcGFjZSAobmFtZSkgewogICAgdmFyIHByZWZpeCA9IG5hbWUgKz0gIiIsCiAgICAgIGkgPSBwcmVmaXguaW5kZXhPZigiOiIpOwogICAgaWYgKGkgPj0gMCAmJiAocHJlZml4ID0gbmFtZS5zbGljZSgwLCBpKSkgIT09ICJ4bWxucyIpIG5hbWUgPSBuYW1lLnNsaWNlKGkgKyAxKTsKICAgIHJldHVybiBuYW1lc3BhY2VzLmhhc093blByb3BlcnR5KHByZWZpeCkgPyB7CiAgICAgIHNwYWNlOiBuYW1lc3BhY2VzW3ByZWZpeF0sCiAgICAgIGxvY2FsOiBuYW1lCiAgICB9IDogbmFtZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnMKICB9CgogIGZ1bmN0aW9uIGNyZWF0b3JJbmhlcml0KG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBkb2N1bWVudCA9IHRoaXMub3duZXJEb2N1bWVudCwKICAgICAgICB1cmkgPSB0aGlzLm5hbWVzcGFjZVVSSTsKICAgICAgcmV0dXJuIHVyaSA9PT0geGh0bWwgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm5hbWVzcGFjZVVSSSA9PT0geGh0bWwgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHVyaSwgbmFtZSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBjcmVhdG9yRml4ZWQoZnVsbG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBjcmVhdG9yIChuYW1lKSB7CiAgICB2YXIgZnVsbG5hbWUgPSBuYW1lc3BhY2UobmFtZSk7CiAgICByZXR1cm4gKGZ1bGxuYW1lLmxvY2FsID8gY3JlYXRvckZpeGVkIDogY3JlYXRvckluaGVyaXQpKGZ1bGxuYW1lKTsKICB9CgogIGZ1bmN0aW9uIG5vbmUoKSB7fQogIGZ1bmN0aW9uIHNlbGVjdG9yIChzZWxlY3RvcikgewogICAgcmV0dXJuIHNlbGVjdG9yID09IG51bGwgPyBub25lIDogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fc2VsZWN0IChzZWxlY3QpIHsKICAgIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSAiZnVuY3Rpb24iKSBzZWxlY3QgPSBzZWxlY3RvcihzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIHN1Ym5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChzdWJub2RlID0gc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSkgewogICAgICAgICAgaWYgKCJfX2RhdGFfXyIgaW4gbm9kZSkgc3Vibm9kZS5fX2RhdGFfXyA9IG5vZGUuX19kYXRhX187CiAgICAgICAgICBzdWJncm91cFtpXSA9IHN1Ym5vZGU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gbmV3IFNlbGVjdGlvbiQxKHN1Ymdyb3VwcywgdGhpcy5fcGFyZW50cyk7CiAgfQoKICAvLyBHaXZlbiBzb21ldGhpbmcgYXJyYXkgbGlrZSAob3IgbnVsbCksIHJldHVybnMgc29tZXRoaW5nIHRoYXQgaXMgc3RyaWN0bHkgYW4KICAvLyBhcnJheS4gVGhpcyBpcyB1c2VkIHRvIGVuc3VyZSB0aGF0IGFycmF5LWxpa2Ugb2JqZWN0cyBwYXNzZWQgdG8gZDMuc2VsZWN0QWxsCiAgLy8gb3Igc2VsZWN0aW9uLnNlbGVjdEFsbCBhcmUgY29udmVydGVkIGludG8gcHJvcGVyIGFycmF5cyB3aGVuIGNyZWF0aW5nIGEKICAvLyBzZWxlY3Rpb247IHdlIGRvbuKAmXQgZXZlciB3YW50IHRvIGNyZWF0ZSBhIHNlbGVjdGlvbiBiYWNrZWQgYnkgYSBsaXZlCiAgLy8gSFRNTENvbGxlY3Rpb24gb3IgTm9kZUxpc3QuIEhvd2V2ZXIsIG5vdGUgdGhhdCBzZWxlY3Rpb24uc2VsZWN0QWxsIHdpbGwgdXNlIGEKICAvLyBzdGF0aWMgTm9kZUxpc3QgYXMgYSBncm91cCwgc2luY2UgaXQgc2FmZWx5IGRlcml2ZWQgZnJvbSBxdWVyeVNlbGVjdG9yQWxsLgogIGZ1bmN0aW9uIGFycmF5KHgpIHsKICAgIHJldHVybiB4ID09IG51bGwgPyBbXSA6IEFycmF5LmlzQXJyYXkoeCkgPyB4IDogQXJyYXkuZnJvbSh4KTsKICB9CgogIGZ1bmN0aW9uIGVtcHR5KCkgewogICAgcmV0dXJuIFtdOwogIH0KICBmdW5jdGlvbiBzZWxlY3RvckFsbCAoc2VsZWN0b3IpIHsKICAgIHJldHVybiBzZWxlY3RvciA9PSBudWxsID8gZW1wdHkgOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIGFycmF5QWxsKHNlbGVjdCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGFycmF5KHNlbGVjdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9zZWxlY3RBbGwgKHNlbGVjdCkgewogICAgaWYgKHR5cGVvZiBzZWxlY3QgPT09ICJmdW5jdGlvbiIpIHNlbGVjdCA9IGFycmF5QWxsKHNlbGVjdCk7ZWxzZSBzZWxlY3QgPSBzZWxlY3RvckFsbChzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gW10sIHBhcmVudHMgPSBbXSwgaiA9IDA7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgICAgc3ViZ3JvdXBzLnB1c2goc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKTsKICAgICAgICAgIHBhcmVudHMucHVzaChub2RlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBuZXcgU2VsZWN0aW9uJDEoc3ViZ3JvdXBzLCBwYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIG1hdGNoZXIgKHNlbGVjdG9yKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy5tYXRjaGVzKHNlbGVjdG9yKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGNoaWxkTWF0Y2hlcihzZWxlY3RvcikgewogICAgcmV0dXJuIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgIHJldHVybiBub2RlLm1hdGNoZXMoc2VsZWN0b3IpOwogICAgfTsKICB9CgogIHZhciBmaW5kID0gQXJyYXkucHJvdG90eXBlLmZpbmQ7CiAgZnVuY3Rpb24gY2hpbGRGaW5kKG1hdGNoKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZmluZC5jYWxsKHRoaXMuY2hpbGRyZW4sIG1hdGNoKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGNoaWxkRmlyc3QoKSB7CiAgICByZXR1cm4gdGhpcy5maXJzdEVsZW1lbnRDaGlsZDsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX3NlbGVjdENoaWxkIChtYXRjaCkgewogICAgcmV0dXJuIHRoaXMuc2VsZWN0KG1hdGNoID09IG51bGwgPyBjaGlsZEZpcnN0IDogY2hpbGRGaW5kKHR5cGVvZiBtYXRjaCA9PT0gImZ1bmN0aW9uIiA/IG1hdGNoIDogY2hpbGRNYXRjaGVyKG1hdGNoKSkpOwogIH0KCiAgdmFyIGZpbHRlciA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXI7CiAgZnVuY3Rpb24gY2hpbGRyZW4oKSB7CiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmNoaWxkcmVuKTsKICB9CiAgZnVuY3Rpb24gY2hpbGRyZW5GaWx0ZXIobWF0Y2gpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBmaWx0ZXIuY2FsbCh0aGlzLmNoaWxkcmVuLCBtYXRjaCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4gKG1hdGNoKSB7CiAgICByZXR1cm4gdGhpcy5zZWxlY3RBbGwobWF0Y2ggPT0gbnVsbCA/IGNoaWxkcmVuIDogY2hpbGRyZW5GaWx0ZXIodHlwZW9mIG1hdGNoID09PSAiZnVuY3Rpb24iID8gbWF0Y2ggOiBjaGlsZE1hdGNoZXIobWF0Y2gpKSk7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZmlsdGVyIChtYXRjaCkgewogICAgaWYgKHR5cGVvZiBtYXRjaCAhPT0gImZ1bmN0aW9uIikgbWF0Y2ggPSBtYXRjaGVyKG1hdGNoKTsKICAgIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHN1Ymdyb3VwcyA9IG5ldyBBcnJheShtKSwgaiA9IDA7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHN1Ymdyb3VwID0gc3ViZ3JvdXBzW2pdID0gW10sIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIG1hdGNoLmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSB7CiAgICAgICAgICBzdWJncm91cC5wdXNoKG5vZGUpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24kMShzdWJncm91cHMsIHRoaXMuX3BhcmVudHMpOwogIH0KCiAgZnVuY3Rpb24gc3BhcnNlICh1cGRhdGUpIHsKICAgIHJldHVybiBuZXcgQXJyYXkodXBkYXRlLmxlbmd0aCk7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZW50ZXIgKCkgewogICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24kMSh0aGlzLl9lbnRlciB8fCB0aGlzLl9ncm91cHMubWFwKHNwYXJzZSksIHRoaXMuX3BhcmVudHMpOwogIH0KICBmdW5jdGlvbiBFbnRlck5vZGUocGFyZW50LCBkYXR1bSkgewogICAgdGhpcy5vd25lckRvY3VtZW50ID0gcGFyZW50Lm93bmVyRG9jdW1lbnQ7CiAgICB0aGlzLm5hbWVzcGFjZVVSSSA9IHBhcmVudC5uYW1lc3BhY2VVUkk7CiAgICB0aGlzLl9uZXh0ID0gbnVsbDsKICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudDsKICAgIHRoaXMuX19kYXRhX18gPSBkYXR1bTsKICB9CiAgRW50ZXJOb2RlLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBFbnRlck5vZGUsCiAgICBhcHBlbmRDaGlsZDogZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCB0aGlzLl9uZXh0KTsKICAgIH0sCiAgICBpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uIChjaGlsZCwgbmV4dCkgewogICAgICByZXR1cm4gdGhpcy5fcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgbmV4dCk7CiAgICB9LAogICAgcXVlcnlTZWxlY3RvcjogZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICB9LAogICAgcXVlcnlTZWxlY3RvckFsbDogZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfTsKCiAgZnVuY3Rpb24gY29uc3RhbnQkMSAoeCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHg7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gYmluZEluZGV4KHBhcmVudCwgZ3JvdXAsIGVudGVyLCB1cGRhdGUsIGV4aXQsIGRhdGEpIHsKICAgIHZhciBpID0gMCwKICAgICAgbm9kZSwKICAgICAgZ3JvdXBMZW5ndGggPSBncm91cC5sZW5ndGgsCiAgICAgIGRhdGFMZW5ndGggPSBkYXRhLmxlbmd0aDsKCiAgICAvLyBQdXQgYW55IG5vbi1udWxsIG5vZGVzIHRoYXQgZml0IGludG8gdXBkYXRlLgogICAgLy8gUHV0IGFueSBudWxsIG5vZGVzIGludG8gZW50ZXIuCiAgICAvLyBQdXQgYW55IHJlbWFpbmluZyBkYXRhIGludG8gZW50ZXIuCiAgICBmb3IgKDsgaSA8IGRhdGFMZW5ndGg7ICsraSkgewogICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgbm9kZS5fX2RhdGFfXyA9IGRhdGFbaV07CiAgICAgICAgdXBkYXRlW2ldID0gbm9kZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlbnRlcltpXSA9IG5ldyBFbnRlck5vZGUocGFyZW50LCBkYXRhW2ldKTsKICAgICAgfQogICAgfQoKICAgIC8vIFB1dCBhbnkgbm9uLW51bGwgbm9kZXMgdGhhdCBkb27igJl0IGZpdCBpbnRvIGV4aXQuCiAgICBmb3IgKDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHsKICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgIGV4aXRbaV0gPSBub2RlOwogICAgICB9CiAgICB9CiAgfQogIGZ1bmN0aW9uIGJpbmRLZXkocGFyZW50LCBncm91cCwgZW50ZXIsIHVwZGF0ZSwgZXhpdCwgZGF0YSwga2V5KSB7CiAgICB2YXIgaSwKICAgICAgbm9kZSwKICAgICAgbm9kZUJ5S2V5VmFsdWUgPSBuZXcgTWFwKCksCiAgICAgIGdyb3VwTGVuZ3RoID0gZ3JvdXAubGVuZ3RoLAogICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsCiAgICAgIGtleVZhbHVlcyA9IG5ldyBBcnJheShncm91cExlbmd0aCksCiAgICAgIGtleVZhbHVlOwoKICAgIC8vIENvbXB1dGUgdGhlIGtleSBmb3IgZWFjaCBub2RlLgogICAgLy8gSWYgbXVsdGlwbGUgbm9kZXMgaGF2ZSB0aGUgc2FtZSBrZXksIHRoZSBkdXBsaWNhdGVzIGFyZSBhZGRlZCB0byBleGl0LgogICAgZm9yIChpID0gMDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHsKICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgIGtleVZhbHVlc1tpXSA9IGtleVZhbHVlID0ga2V5LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApICsgIiI7CiAgICAgICAgaWYgKG5vZGVCeUtleVZhbHVlLmhhcyhrZXlWYWx1ZSkpIHsKICAgICAgICAgIGV4aXRbaV0gPSBub2RlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBub2RlQnlLZXlWYWx1ZS5zZXQoa2V5VmFsdWUsIG5vZGUpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC8vIENvbXB1dGUgdGhlIGtleSBmb3IgZWFjaCBkYXR1bS4KICAgIC8vIElmIHRoZXJlIGEgbm9kZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBrZXksIGpvaW4gYW5kIGFkZCBpdCB0byB1cGRhdGUuCiAgICAvLyBJZiB0aGVyZSBpcyBub3QgKG9yIHRoZSBrZXkgaXMgYSBkdXBsaWNhdGUpLCBhZGQgaXQgdG8gZW50ZXIuCiAgICBmb3IgKGkgPSAwOyBpIDwgZGF0YUxlbmd0aDsgKytpKSB7CiAgICAgIGtleVZhbHVlID0ga2V5LmNhbGwocGFyZW50LCBkYXRhW2ldLCBpLCBkYXRhKSArICIiOwogICAgICBpZiAobm9kZSA9IG5vZGVCeUtleVZhbHVlLmdldChrZXlWYWx1ZSkpIHsKICAgICAgICB1cGRhdGVbaV0gPSBub2RlOwogICAgICAgIG5vZGUuX19kYXRhX18gPSBkYXRhW2ldOwogICAgICAgIG5vZGVCeUtleVZhbHVlLmRlbGV0ZShrZXlWYWx1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZW50ZXJbaV0gPSBuZXcgRW50ZXJOb2RlKHBhcmVudCwgZGF0YVtpXSk7CiAgICAgIH0KICAgIH0KCiAgICAvLyBBZGQgYW55IHJlbWFpbmluZyBub2RlcyB0aGF0IHdlcmUgbm90IGJvdW5kIHRvIGRhdGEgdG8gZXhpdC4KICAgIGZvciAoaSA9IDA7IGkgPCBncm91cExlbmd0aDsgKytpKSB7CiAgICAgIGlmICgobm9kZSA9IGdyb3VwW2ldKSAmJiBub2RlQnlLZXlWYWx1ZS5nZXQoa2V5VmFsdWVzW2ldKSA9PT0gbm9kZSkgewogICAgICAgIGV4aXRbaV0gPSBub2RlOwogICAgICB9CiAgICB9CiAgfQogIGZ1bmN0aW9uIGRhdHVtKG5vZGUpIHsKICAgIHJldHVybiBub2RlLl9fZGF0YV9fOwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fZGF0YSAodmFsdWUsIGtleSkgewogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLCBkYXR1bSk7CiAgICB2YXIgYmluZCA9IGtleSA/IGJpbmRLZXkgOiBiaW5kSW5kZXgsCiAgICAgIHBhcmVudHMgPSB0aGlzLl9wYXJlbnRzLAogICAgICBncm91cHMgPSB0aGlzLl9ncm91cHM7CiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAiZnVuY3Rpb24iKSB2YWx1ZSA9IGNvbnN0YW50JDEodmFsdWUpOwogICAgZm9yICh2YXIgbSA9IGdyb3Vwcy5sZW5ndGgsIHVwZGF0ZSA9IG5ldyBBcnJheShtKSwgZW50ZXIgPSBuZXcgQXJyYXkobSksIGV4aXQgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7CiAgICAgIHZhciBwYXJlbnQgPSBwYXJlbnRzW2pdLAogICAgICAgIGdyb3VwID0gZ3JvdXBzW2pdLAogICAgICAgIGdyb3VwTGVuZ3RoID0gZ3JvdXAubGVuZ3RoLAogICAgICAgIGRhdGEgPSBhcnJheWxpa2UodmFsdWUuY2FsbChwYXJlbnQsIHBhcmVudCAmJiBwYXJlbnQuX19kYXRhX18sIGosIHBhcmVudHMpKSwKICAgICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsCiAgICAgICAgZW50ZXJHcm91cCA9IGVudGVyW2pdID0gbmV3IEFycmF5KGRhdGFMZW5ndGgpLAogICAgICAgIHVwZGF0ZUdyb3VwID0gdXBkYXRlW2pdID0gbmV3IEFycmF5KGRhdGFMZW5ndGgpLAogICAgICAgIGV4aXRHcm91cCA9IGV4aXRbal0gPSBuZXcgQXJyYXkoZ3JvdXBMZW5ndGgpOwogICAgICBiaW5kKHBhcmVudCwgZ3JvdXAsIGVudGVyR3JvdXAsIHVwZGF0ZUdyb3VwLCBleGl0R3JvdXAsIGRhdGEsIGtleSk7CgogICAgICAvLyBOb3cgY29ubmVjdCB0aGUgZW50ZXIgbm9kZXMgdG8gdGhlaXIgZm9sbG93aW5nIHVwZGF0ZSBub2RlLCBzdWNoIHRoYXQKICAgICAgLy8gYXBwZW5kQ2hpbGQgY2FuIGluc2VydCB0aGUgbWF0ZXJpYWxpemVkIGVudGVyIG5vZGUgYmVmb3JlIHRoaXMgbm9kZSwKICAgICAgLy8gcmF0aGVyIHRoYW4gYXQgdGhlIGVuZCBvZiB0aGUgcGFyZW50IG5vZGUuCiAgICAgIGZvciAodmFyIGkwID0gMCwgaTEgPSAwLCBwcmV2aW91cywgbmV4dDsgaTAgPCBkYXRhTGVuZ3RoOyArK2kwKSB7CiAgICAgICAgaWYgKHByZXZpb3VzID0gZW50ZXJHcm91cFtpMF0pIHsKICAgICAgICAgIGlmIChpMCA+PSBpMSkgaTEgPSBpMCArIDE7CiAgICAgICAgICB3aGlsZSAoIShuZXh0ID0gdXBkYXRlR3JvdXBbaTFdKSAmJiArK2kxIDwgZGF0YUxlbmd0aCk7CiAgICAgICAgICBwcmV2aW91cy5fbmV4dCA9IG5leHQgfHwgbnVsbDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHVwZGF0ZSA9IG5ldyBTZWxlY3Rpb24kMSh1cGRhdGUsIHBhcmVudHMpOwogICAgdXBkYXRlLl9lbnRlciA9IGVudGVyOwogICAgdXBkYXRlLl9leGl0ID0gZXhpdDsKICAgIHJldHVybiB1cGRhdGU7CiAgfQoKICAvLyBHaXZlbiBzb21lIGRhdGEsIHRoaXMgcmV0dXJucyBhbiBhcnJheS1saWtlIHZpZXcgb2YgaXQ6IGFuIG9iamVjdCB0aGF0CiAgLy8gZXhwb3NlcyBhIGxlbmd0aCBwcm9wZXJ0eSBhbmQgYWxsb3dzIG51bWVyaWMgaW5kZXhpbmcuIE5vdGUgdGhhdCB1bmxpa2UKICAvLyBzZWxlY3RBbGwsIHRoaXMgaXNu4oCZdCB3b3JyaWVkIGFib3V0IOKAnGxpdmXigJ0gY29sbGVjdGlvbnMgYmVjYXVzZSB0aGUgcmVzdWx0aW5nCiAgLy8gYXJyYXkgd2lsbCBvbmx5IGJlIHVzZWQgYnJpZWZseSB3aGlsZSBkYXRhIGlzIGJlaW5nIGJvdW5kLiAoSXQgaXMgcG9zc2libGUgdG8KICAvLyBjYXVzZSB0aGUgZGF0YSB0byBjaGFuZ2Ugd2hpbGUgaXRlcmF0aW5nIGJ5IHVzaW5nIGEga2V5IGZ1bmN0aW9uLCBidXQgcGxlYXNlCiAgLy8gZG9u4oCZdDsgd2XigJlkIHJhdGhlciBhdm9pZCBhIGdyYXR1aXRvdXMgY29weS4pCiAgZnVuY3Rpb24gYXJyYXlsaWtlKGRhdGEpIHsKICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gIm9iamVjdCIgJiYgImxlbmd0aCIgaW4gZGF0YSA/IGRhdGEgLy8gQXJyYXksIFR5cGVkQXJyYXksIE5vZGVMaXN0LCBhcnJheS1saWtlCiAgICA6IEFycmF5LmZyb20oZGF0YSk7IC8vIE1hcCwgU2V0LCBpdGVyYWJsZSwgc3RyaW5nLCBvciBhbnl0aGluZyBlbHNlCiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZXhpdCAoKSB7CiAgICByZXR1cm4gbmV3IFNlbGVjdGlvbiQxKHRoaXMuX2V4aXQgfHwgdGhpcy5fZ3JvdXBzLm1hcChzcGFyc2UpLCB0aGlzLl9wYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9qb2luIChvbmVudGVyLCBvbnVwZGF0ZSwgb25leGl0KSB7CiAgICB2YXIgZW50ZXIgPSB0aGlzLmVudGVyKCksCiAgICAgIHVwZGF0ZSA9IHRoaXMsCiAgICAgIGV4aXQgPSB0aGlzLmV4aXQoKTsKICAgIGlmICh0eXBlb2Ygb25lbnRlciA9PT0gImZ1bmN0aW9uIikgewogICAgICBlbnRlciA9IG9uZW50ZXIoZW50ZXIpOwogICAgICBpZiAoZW50ZXIpIGVudGVyID0gZW50ZXIuc2VsZWN0aW9uKCk7CiAgICB9IGVsc2UgewogICAgICBlbnRlciA9IGVudGVyLmFwcGVuZChvbmVudGVyICsgIiIpOwogICAgfQogICAgaWYgKG9udXBkYXRlICE9IG51bGwpIHsKICAgICAgdXBkYXRlID0gb251cGRhdGUodXBkYXRlKTsKICAgICAgaWYgKHVwZGF0ZSkgdXBkYXRlID0gdXBkYXRlLnNlbGVjdGlvbigpOwogICAgfQogICAgaWYgKG9uZXhpdCA9PSBudWxsKSBleGl0LnJlbW92ZSgpO2Vsc2Ugb25leGl0KGV4aXQpOwogICAgcmV0dXJuIGVudGVyICYmIHVwZGF0ZSA/IGVudGVyLm1lcmdlKHVwZGF0ZSkub3JkZXIoKSA6IHVwZGF0ZTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9tZXJnZSAoY29udGV4dCkgewogICAgdmFyIHNlbGVjdGlvbiA9IGNvbnRleHQuc2VsZWN0aW9uID8gY29udGV4dC5zZWxlY3Rpb24oKSA6IGNvbnRleHQ7CiAgICBmb3IgKHZhciBncm91cHMwID0gdGhpcy5fZ3JvdXBzLCBncm91cHMxID0gc2VsZWN0aW9uLl9ncm91cHMsIG0wID0gZ3JvdXBzMC5sZW5ndGgsIG0xID0gZ3JvdXBzMS5sZW5ndGgsIG0gPSBNYXRoLm1pbihtMCwgbTEpLCBtZXJnZXMgPSBuZXcgQXJyYXkobTApLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cDBbaV0gfHwgZ3JvdXAxW2ldKSB7CiAgICAgICAgICBtZXJnZVtpXSA9IG5vZGU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBmb3IgKDsgaiA8IG0wOyArK2opIHsKICAgICAgbWVyZ2VzW2pdID0gZ3JvdXBzMFtqXTsKICAgIH0KICAgIHJldHVybiBuZXcgU2VsZWN0aW9uJDEobWVyZ2VzLCB0aGlzLl9wYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9vcmRlciAoKSB7CiAgICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIGogPSAtMSwgbSA9IGdyb3Vwcy5sZW5ndGg7ICsraiA8IG07KSB7CiAgICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gZ3JvdXAubGVuZ3RoIC0gMSwgbmV4dCA9IGdyb3VwW2ldLCBub2RlOyAtLWkgPj0gMDspIHsKICAgICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgICBpZiAobmV4dCAmJiBub2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG5leHQpIF4gNCkgbmV4dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBuZXh0KTsKICAgICAgICAgIG5leHQgPSBub2RlOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRoaXM7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fc29ydCAoY29tcGFyZSkgewogICAgaWYgKCFjb21wYXJlKSBjb21wYXJlID0gYXNjZW5kaW5nOwogICAgZnVuY3Rpb24gY29tcGFyZU5vZGUoYSwgYikgewogICAgICByZXR1cm4gYSAmJiBiID8gY29tcGFyZShhLl9fZGF0YV9fLCBiLl9fZGF0YV9fKSA6ICFhIC0gIWI7CiAgICB9CiAgICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzb3J0Z3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc29ydGdyb3VwID0gc29ydGdyb3Vwc1tqXSA9IG5ldyBBcnJheShuKSwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgICBzb3J0Z3JvdXBbaV0gPSBub2RlOwogICAgICAgIH0KICAgICAgfQogICAgICBzb3J0Z3JvdXAuc29ydChjb21wYXJlTm9kZSk7CiAgICB9CiAgICByZXR1cm4gbmV3IFNlbGVjdGlvbiQxKHNvcnRncm91cHMsIHRoaXMuX3BhcmVudHMpLm9yZGVyKCk7CiAgfQogIGZ1bmN0aW9uIGFzY2VuZGluZyhhLCBiKSB7CiAgICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fY2FsbCAoKSB7CiAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbMF07CiAgICBhcmd1bWVudHNbMF0gPSB0aGlzOwogICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIHJldHVybiB0aGlzOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX25vZGVzICgpIHsKICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMpOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX25vZGUgKCkgewogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBqID0gMCwgbSA9IGdyb3Vwcy5sZW5ndGg7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoOyBpIDwgbjsgKytpKSB7CiAgICAgICAgdmFyIG5vZGUgPSBncm91cFtpXTsKICAgICAgICBpZiAobm9kZSkgcmV0dXJuIG5vZGU7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBudWxsOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX3NpemUgKCkgewogICAgbGV0IHNpemUgPSAwOwogICAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMpICsrc2l6ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycwogICAgcmV0dXJuIHNpemU7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZW1wdHkgKCkgewogICAgcmV0dXJuICF0aGlzLm5vZGUoKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9lYWNoIChjYWxsYmFjaykgewogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBqID0gMCwgbSA9IGdyb3Vwcy5sZW5ndGg7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgY2FsbGJhY2suY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0aGlzOwogIH0KCiAgZnVuY3Rpb24gYXR0clJlbW92ZSQxKG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0clJlbW92ZU5TJDEoZnVsbG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGF0dHJDb25zdGFudCQxKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyQ29uc3RhbnROUyQxKGZ1bGxuYW1lLCB2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwsIHZhbHVlKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGF0dHJGdW5jdGlvbiQxKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh2ID09IG51bGwpIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO2Vsc2UgdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSwgdik7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyRnVuY3Rpb25OUyQxKGZ1bGxuYW1lLCB2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAodiA9PSBudWxsKSB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7ZWxzZSB0aGlzLnNldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCwgdik7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fYXR0ciAobmFtZSwgdmFsdWUpIHsKICAgIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgewogICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZSgpOwogICAgICByZXR1cm4gZnVsbG5hbWUubG9jYWwgPyBub2RlLmdldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCkgOiBub2RlLmdldEF0dHJpYnV0ZShmdWxsbmFtZSk7CiAgICB9CiAgICByZXR1cm4gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsID8gZnVsbG5hbWUubG9jYWwgPyBhdHRyUmVtb3ZlTlMkMSA6IGF0dHJSZW1vdmUkMSA6IHR5cGVvZiB2YWx1ZSA9PT0gImZ1bmN0aW9uIiA/IGZ1bGxuYW1lLmxvY2FsID8gYXR0ckZ1bmN0aW9uTlMkMSA6IGF0dHJGdW5jdGlvbiQxIDogZnVsbG5hbWUubG9jYWwgPyBhdHRyQ29uc3RhbnROUyQxIDogYXR0ckNvbnN0YW50JDEpKGZ1bGxuYW1lLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gZGVmYXVsdFZpZXcgKG5vZGUpIHsKICAgIHJldHVybiBub2RlLm93bmVyRG9jdW1lbnQgJiYgbm9kZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IC8vIG5vZGUgaXMgYSBOb2RlCiAgICB8fCBub2RlLmRvY3VtZW50ICYmIG5vZGUgLy8gbm9kZSBpcyBhIFdpbmRvdwogICAgfHwgbm9kZS5kZWZhdWx0VmlldzsgLy8gbm9kZSBpcyBhIERvY3VtZW50CiAgfQoKICBmdW5jdGlvbiBzdHlsZVJlbW92ZSQxKG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZUNvbnN0YW50JDEobmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbHVlLCBwcmlvcml0eSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZUZ1bmN0aW9uJDEobmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh2ID09IG51bGwpIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7ZWxzZSB0aGlzLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHYsIHByaW9yaXR5KTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9zdHlsZSAobmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyBzdHlsZVJlbW92ZSQxIDogdHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gc3R5bGVGdW5jdGlvbiQxIDogc3R5bGVDb25zdGFudCQxKShuYW1lLCB2YWx1ZSwgcHJpb3JpdHkgPT0gbnVsbCA/ICIiIDogcHJpb3JpdHkpKSA6IHN0eWxlVmFsdWUodGhpcy5ub2RlKCksIG5hbWUpOwogIH0KICBmdW5jdGlvbiBzdHlsZVZhbHVlKG5vZGUsIG5hbWUpIHsKICAgIHJldHVybiBub2RlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUobmFtZSkgfHwgZGVmYXVsdFZpZXcobm9kZSkuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKG5hbWUpOwogIH0KCiAgZnVuY3Rpb24gcHJvcGVydHlSZW1vdmUobmFtZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgZGVsZXRlIHRoaXNbbmFtZV07CiAgICB9OwogIH0KICBmdW5jdGlvbiBwcm9wZXJ0eUNvbnN0YW50KG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzW25hbWVdID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiBwcm9wZXJ0eUZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh2ID09IG51bGwpIGRlbGV0ZSB0aGlzW25hbWVdO2Vsc2UgdGhpc1tuYW1lXSA9IHY7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fcHJvcGVydHkgKG5hbWUsIHZhbHVlKSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyBwcm9wZXJ0eVJlbW92ZSA6IHR5cGVvZiB2YWx1ZSA9PT0gImZ1bmN0aW9uIiA/IHByb3BlcnR5RnVuY3Rpb24gOiBwcm9wZXJ0eUNvbnN0YW50KShuYW1lLCB2YWx1ZSkpIDogdGhpcy5ub2RlKClbbmFtZV07CiAgfQoKICBmdW5jdGlvbiBjbGFzc0FycmF5KHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy50cmltKCkuc3BsaXQoL158XHMrLyk7CiAgfQogIGZ1bmN0aW9uIGNsYXNzTGlzdChub2RlKSB7CiAgICByZXR1cm4gbm9kZS5jbGFzc0xpc3QgfHwgbmV3IENsYXNzTGlzdChub2RlKTsKICB9CiAgZnVuY3Rpb24gQ2xhc3NMaXN0KG5vZGUpIHsKICAgIHRoaXMuX25vZGUgPSBub2RlOwogICAgdGhpcy5fbmFtZXMgPSBjbGFzc0FycmF5KG5vZGUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpIHx8ICIiKTsKICB9CiAgQ2xhc3NMaXN0LnByb3RvdHlwZSA9IHsKICAgIGFkZDogZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgdmFyIGkgPSB0aGlzLl9uYW1lcy5pbmRleE9mKG5hbWUpOwogICAgICBpZiAoaSA8IDApIHsKICAgICAgICB0aGlzLl9uYW1lcy5wdXNoKG5hbWUpOwogICAgICAgIHRoaXMuX25vZGUuc2V0QXR0cmlidXRlKCJjbGFzcyIsIHRoaXMuX25hbWVzLmpvaW4oIiAiKSk7CiAgICAgIH0KICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIHZhciBpID0gdGhpcy5fbmFtZXMuaW5kZXhPZihuYW1lKTsKICAgICAgaWYgKGkgPj0gMCkgewogICAgICAgIHRoaXMuX25hbWVzLnNwbGljZShpLCAxKTsKICAgICAgICB0aGlzLl9ub2RlLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCB0aGlzLl9uYW1lcy5qb2luKCIgIikpOwogICAgICB9CiAgICB9LAogICAgY29udGFpbnM6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIHJldHVybiB0aGlzLl9uYW1lcy5pbmRleE9mKG5hbWUpID49IDA7CiAgICB9CiAgfTsKICBmdW5jdGlvbiBjbGFzc2VkQWRkKG5vZGUsIG5hbWVzKSB7CiAgICB2YXIgbGlzdCA9IGNsYXNzTGlzdChub2RlKSwKICAgICAgaSA9IC0xLAogICAgICBuID0gbmFtZXMubGVuZ3RoOwogICAgd2hpbGUgKCsraSA8IG4pIGxpc3QuYWRkKG5hbWVzW2ldKTsKICB9CiAgZnVuY3Rpb24gY2xhc3NlZFJlbW92ZShub2RlLCBuYW1lcykgewogICAgdmFyIGxpc3QgPSBjbGFzc0xpc3Qobm9kZSksCiAgICAgIGkgPSAtMSwKICAgICAgbiA9IG5hbWVzLmxlbmd0aDsKICAgIHdoaWxlICgrK2kgPCBuKSBsaXN0LnJlbW92ZShuYW1lc1tpXSk7CiAgfQogIGZ1bmN0aW9uIGNsYXNzZWRUcnVlKG5hbWVzKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBjbGFzc2VkQWRkKHRoaXMsIG5hbWVzKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGNsYXNzZWRGYWxzZShuYW1lcykgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgY2xhc3NlZFJlbW92ZSh0aGlzLCBuYW1lcyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBjbGFzc2VkRnVuY3Rpb24obmFtZXMsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAodmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKSA/IGNsYXNzZWRBZGQgOiBjbGFzc2VkUmVtb3ZlKSh0aGlzLCBuYW1lcyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fY2xhc3NlZCAobmFtZSwgdmFsdWUpIHsKICAgIHZhciBuYW1lcyA9IGNsYXNzQXJyYXkobmFtZSArICIiKTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgewogICAgICB2YXIgbGlzdCA9IGNsYXNzTGlzdCh0aGlzLm5vZGUoKSksCiAgICAgICAgaSA9IC0xLAogICAgICAgIG4gPSBuYW1lcy5sZW5ndGg7CiAgICAgIHdoaWxlICgrK2kgPCBuKSBpZiAoIWxpc3QuY29udGFpbnMobmFtZXNbaV0pKSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgcmV0dXJuIHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gY2xhc3NlZEZ1bmN0aW9uIDogdmFsdWUgPyBjbGFzc2VkVHJ1ZSA6IGNsYXNzZWRGYWxzZSkobmFtZXMsIHZhbHVlKSk7CiAgfQoKICBmdW5jdGlvbiB0ZXh0UmVtb3ZlKCkgewogICAgdGhpcy50ZXh0Q29udGVudCA9ICIiOwogIH0KICBmdW5jdGlvbiB0ZXh0Q29uc3RhbnQkMSh2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdGV4dEZ1bmN0aW9uJDEodmFsdWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgdGhpcy50ZXh0Q29udGVudCA9IHYgPT0gbnVsbCA/ICIiIDogdjsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl90ZXh0ICh2YWx1ZSkgewogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyB0aGlzLmVhY2godmFsdWUgPT0gbnVsbCA/IHRleHRSZW1vdmUgOiAodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gdGV4dEZ1bmN0aW9uJDEgOiB0ZXh0Q29uc3RhbnQkMSkodmFsdWUpKSA6IHRoaXMubm9kZSgpLnRleHRDb250ZW50OwogIH0KCiAgZnVuY3Rpb24gaHRtbFJlbW92ZSgpIHsKICAgIHRoaXMuaW5uZXJIVE1MID0gIiI7CiAgfQogIGZ1bmN0aW9uIGh0bWxDb25zdGFudCh2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5pbm5lckhUTUwgPSB2YWx1ZTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGh0bWxGdW5jdGlvbih2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB0aGlzLmlubmVySFRNTCA9IHYgPT0gbnVsbCA/ICIiIDogdjsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9odG1sICh2YWx1ZSkgewogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyB0aGlzLmVhY2godmFsdWUgPT0gbnVsbCA/IGh0bWxSZW1vdmUgOiAodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gaHRtbEZ1bmN0aW9uIDogaHRtbENvbnN0YW50KSh2YWx1ZSkpIDogdGhpcy5ub2RlKCkuaW5uZXJIVE1MOwogIH0KCiAgZnVuY3Rpb24gcmFpc2UoKSB7CiAgICBpZiAodGhpcy5uZXh0U2libGluZykgdGhpcy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMpOwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fcmFpc2UgKCkgewogICAgcmV0dXJuIHRoaXMuZWFjaChyYWlzZSk7CiAgfQoKICBmdW5jdGlvbiBsb3dlcigpIHsKICAgIGlmICh0aGlzLnByZXZpb3VzU2libGluZykgdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLCB0aGlzLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9sb3dlciAoKSB7CiAgICByZXR1cm4gdGhpcy5lYWNoKGxvd2VyKTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdGlvbl9hcHBlbmQgKG5hbWUpIHsKICAgIHZhciBjcmVhdGUgPSB0eXBlb2YgbmFtZSA9PT0gImZ1bmN0aW9uIiA/IG5hbWUgOiBjcmVhdG9yKG5hbWUpOwogICAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMuYXBwZW5kQ2hpbGQoY3JlYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBjb25zdGFudE51bGwoKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX2luc2VydCAobmFtZSwgYmVmb3JlKSB7CiAgICB2YXIgY3JlYXRlID0gdHlwZW9mIG5hbWUgPT09ICJmdW5jdGlvbiIgPyBuYW1lIDogY3JlYXRvcihuYW1lKSwKICAgICAgc2VsZWN0ID0gYmVmb3JlID09IG51bGwgPyBjb25zdGFudE51bGwgOiB0eXBlb2YgYmVmb3JlID09PSAiZnVuY3Rpb24iID8gYmVmb3JlIDogc2VsZWN0b3IoYmVmb3JlKTsKICAgIHJldHVybiB0aGlzLnNlbGVjdChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLmluc2VydEJlZm9yZShjcmVhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgc2VsZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgbnVsbCk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7CiAgICBpZiAocGFyZW50KSBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9yZW1vdmUgKCkgewogICAgcmV0dXJuIHRoaXMuZWFjaChyZW1vdmUpOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0aW9uX2Nsb25lU2hhbGxvdygpIHsKICAgIHZhciBjbG9uZSA9IHRoaXMuY2xvbmVOb2RlKGZhbHNlKSwKICAgICAgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlOwogICAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRoaXMubmV4dFNpYmxpbmcpIDogY2xvbmU7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9jbG9uZURlZXAoKSB7CiAgICB2YXIgY2xvbmUgPSB0aGlzLmNsb25lTm9kZSh0cnVlKSwKICAgICAgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlOwogICAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRoaXMubmV4dFNpYmxpbmcpIDogY2xvbmU7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9jbG9uZSAoZGVlcCkgewogICAgcmV0dXJuIHRoaXMuc2VsZWN0KGRlZXAgPyBzZWxlY3Rpb25fY2xvbmVEZWVwIDogc2VsZWN0aW9uX2Nsb25lU2hhbGxvdyk7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25fZGF0dW0gKHZhbHVlKSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMucHJvcGVydHkoIl9fZGF0YV9fIiwgdmFsdWUpIDogdGhpcy5ub2RlKCkuX19kYXRhX187CiAgfQoKICBmdW5jdGlvbiBjb250ZXh0TGlzdGVuZXIobGlzdGVuZXIpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBldmVudCwgdGhpcy5fX2RhdGFfXyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBwYXJzZVR5cGVuYW1lcyh0eXBlbmFtZXMpIHsKICAgIHJldHVybiB0eXBlbmFtZXMudHJpbSgpLnNwbGl0KC9efFxzKy8pLm1hcChmdW5jdGlvbiAodCkgewogICAgICB2YXIgbmFtZSA9ICIiLAogICAgICAgIGkgPSB0LmluZGV4T2YoIi4iKTsKICAgICAgaWYgKGkgPj0gMCkgbmFtZSA9IHQuc2xpY2UoaSArIDEpLCB0ID0gdC5zbGljZSgwLCBpKTsKICAgICAgcmV0dXJuIHsKICAgICAgICB0eXBlOiB0LAogICAgICAgIG5hbWU6IG5hbWUKICAgICAgfTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBvblJlbW92ZSh0eXBlbmFtZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG9uID0gdGhpcy5fX29uOwogICAgICBpZiAoIW9uKSByZXR1cm47CiAgICAgIGZvciAodmFyIGogPSAwLCBpID0gLTEsIG0gPSBvbi5sZW5ndGgsIG87IGogPCBtOyArK2opIHsKICAgICAgICBpZiAobyA9IG9uW2pdLCAoIXR5cGVuYW1lLnR5cGUgfHwgby50eXBlID09PSB0eXBlbmFtZS50eXBlKSAmJiBvLm5hbWUgPT09IHR5cGVuYW1lLm5hbWUpIHsKICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIsIG8ub3B0aW9ucyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9uWysraV0gPSBvOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoKytpKSBvbi5sZW5ndGggPSBpO2Vsc2UgZGVsZXRlIHRoaXMuX19vbjsKICAgIH07CiAgfQogIGZ1bmN0aW9uIG9uQWRkKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG9uID0gdGhpcy5fX29uLAogICAgICAgIG8sCiAgICAgICAgbGlzdGVuZXIgPSBjb250ZXh0TGlzdGVuZXIodmFsdWUpOwogICAgICBpZiAob24pIGZvciAodmFyIGogPSAwLCBtID0gb24ubGVuZ3RoOyBqIDwgbTsgKytqKSB7CiAgICAgICAgaWYgKChvID0gb25bal0pLnR5cGUgPT09IHR5cGVuYW1lLnR5cGUgJiYgby5uYW1lID09PSB0eXBlbmFtZS5uYW1lKSB7CiAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoby50eXBlLCBvLmxpc3RlbmVyLCBvLm9wdGlvbnMpOwogICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKG8udHlwZSwgby5saXN0ZW5lciA9IGxpc3RlbmVyLCBvLm9wdGlvbnMgPSBvcHRpb25zKTsKICAgICAgICAgIG8udmFsdWUgPSB2YWx1ZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKHR5cGVuYW1lLnR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTsKICAgICAgbyA9IHsKICAgICAgICB0eXBlOiB0eXBlbmFtZS50eXBlLAogICAgICAgIG5hbWU6IHR5cGVuYW1lLm5hbWUsCiAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgIGxpc3RlbmVyOiBsaXN0ZW5lciwKICAgICAgICBvcHRpb25zOiBvcHRpb25zCiAgICAgIH07CiAgICAgIGlmICghb24pIHRoaXMuX19vbiA9IFtvXTtlbHNlIG9uLnB1c2gobyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzZWxlY3Rpb25fb24gKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykgewogICAgdmFyIHR5cGVuYW1lcyA9IHBhcnNlVHlwZW5hbWVzKHR5cGVuYW1lICsgIiIpLAogICAgICBpLAogICAgICBuID0gdHlwZW5hbWVzLmxlbmd0aCwKICAgICAgdDsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgewogICAgICB2YXIgb24gPSB0aGlzLm5vZGUoKS5fX29uOwogICAgICBpZiAob24pIGZvciAodmFyIGogPSAwLCBtID0gb24ubGVuZ3RoLCBvOyBqIDwgbTsgKytqKSB7CiAgICAgICAgZm9yIChpID0gMCwgbyA9IG9uW2pdOyBpIDwgbjsgKytpKSB7CiAgICAgICAgICBpZiAoKHQgPSB0eXBlbmFtZXNbaV0pLnR5cGUgPT09IG8udHlwZSAmJiB0Lm5hbWUgPT09IG8ubmFtZSkgewogICAgICAgICAgICByZXR1cm4gby52YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuOwogICAgfQogICAgb24gPSB2YWx1ZSA/IG9uQWRkIDogb25SZW1vdmU7CiAgICBmb3IgKGkgPSAwOyBpIDwgbjsgKytpKSB0aGlzLmVhY2gob24odHlwZW5hbWVzW2ldLCB2YWx1ZSwgb3B0aW9ucykpOwogICAgcmV0dXJuIHRoaXM7CiAgfQoKICBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KG5vZGUsIHR5cGUsIHBhcmFtcykgewogICAgdmFyIHdpbmRvdyA9IGRlZmF1bHRWaWV3KG5vZGUpLAogICAgICBldmVudCA9IHdpbmRvdy5DdXN0b21FdmVudDsKICAgIGlmICh0eXBlb2YgZXZlbnQgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgZXZlbnQgPSBuZXcgZXZlbnQodHlwZSwgcGFyYW1zKTsKICAgIH0gZWxzZSB7CiAgICAgIGV2ZW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUV2ZW50KCJFdmVudCIpOwogICAgICBpZiAocGFyYW1zKSBldmVudC5pbml0RXZlbnQodHlwZSwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlKSwgZXZlbnQuZGV0YWlsID0gcGFyYW1zLmRldGFpbDtlbHNlIGV2ZW50LmluaXRFdmVudCh0eXBlLCBmYWxzZSwgZmFsc2UpOwogICAgfQogICAgbm9kZS5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICB9CiAgZnVuY3Rpb24gZGlzcGF0Y2hDb25zdGFudCh0eXBlLCBwYXJhbXMpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBkaXNwYXRjaEV2ZW50KHRoaXMsIHR5cGUsIHBhcmFtcyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBkaXNwYXRjaEZ1bmN0aW9uKHR5cGUsIHBhcmFtcykgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGRpc3BhdGNoRXZlbnQodGhpcywgdHlwZSwgcGFyYW1zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX2Rpc3BhdGNoICh0eXBlLCBwYXJhbXMpIHsKICAgIHJldHVybiB0aGlzLmVhY2goKHR5cGVvZiBwYXJhbXMgPT09ICJmdW5jdGlvbiIgPyBkaXNwYXRjaEZ1bmN0aW9uIDogZGlzcGF0Y2hDb25zdGFudCkodHlwZSwgcGFyYW1zKSk7CiAgfQoKICBmdW5jdGlvbiogc2VsZWN0aW9uX2l0ZXJhdG9yICgpIHsKICAgIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IDAsIG0gPSBncm91cHMubGVuZ3RoOyBqIDwgbTsgKytqKSB7CiAgICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gMCwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZTsgaSA8IG47ICsraSkgewogICAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHlpZWxkIG5vZGU7CiAgICAgIH0KICAgIH0KICB9CgogIHZhciByb290ID0gW251bGxdOwogIGZ1bmN0aW9uIFNlbGVjdGlvbiQxKGdyb3VwcywgcGFyZW50cykgewogICAgdGhpcy5fZ3JvdXBzID0gZ3JvdXBzOwogICAgdGhpcy5fcGFyZW50cyA9IHBhcmVudHM7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbigpIHsKICAgIHJldHVybiBuZXcgU2VsZWN0aW9uJDEoW1tkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRdXSwgcm9vdCk7CiAgfQogIGZ1bmN0aW9uIHNlbGVjdGlvbl9zZWxlY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpczsKICB9CiAgU2VsZWN0aW9uJDEucHJvdG90eXBlID0gc2VsZWN0aW9uLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBTZWxlY3Rpb24kMSwKICAgIHNlbGVjdDogc2VsZWN0aW9uX3NlbGVjdCwKICAgIHNlbGVjdEFsbDogc2VsZWN0aW9uX3NlbGVjdEFsbCwKICAgIHNlbGVjdENoaWxkOiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGQsCiAgICBzZWxlY3RDaGlsZHJlbjogc2VsZWN0aW9uX3NlbGVjdENoaWxkcmVuLAogICAgZmlsdGVyOiBzZWxlY3Rpb25fZmlsdGVyLAogICAgZGF0YTogc2VsZWN0aW9uX2RhdGEsCiAgICBlbnRlcjogc2VsZWN0aW9uX2VudGVyLAogICAgZXhpdDogc2VsZWN0aW9uX2V4aXQsCiAgICBqb2luOiBzZWxlY3Rpb25fam9pbiwKICAgIG1lcmdlOiBzZWxlY3Rpb25fbWVyZ2UsCiAgICBzZWxlY3Rpb246IHNlbGVjdGlvbl9zZWxlY3Rpb24sCiAgICBvcmRlcjogc2VsZWN0aW9uX29yZGVyLAogICAgc29ydDogc2VsZWN0aW9uX3NvcnQsCiAgICBjYWxsOiBzZWxlY3Rpb25fY2FsbCwKICAgIG5vZGVzOiBzZWxlY3Rpb25fbm9kZXMsCiAgICBub2RlOiBzZWxlY3Rpb25fbm9kZSwKICAgIHNpemU6IHNlbGVjdGlvbl9zaXplLAogICAgZW1wdHk6IHNlbGVjdGlvbl9lbXB0eSwKICAgIGVhY2g6IHNlbGVjdGlvbl9lYWNoLAogICAgYXR0cjogc2VsZWN0aW9uX2F0dHIsCiAgICBzdHlsZTogc2VsZWN0aW9uX3N0eWxlLAogICAgcHJvcGVydHk6IHNlbGVjdGlvbl9wcm9wZXJ0eSwKICAgIGNsYXNzZWQ6IHNlbGVjdGlvbl9jbGFzc2VkLAogICAgdGV4dDogc2VsZWN0aW9uX3RleHQsCiAgICBodG1sOiBzZWxlY3Rpb25faHRtbCwKICAgIHJhaXNlOiBzZWxlY3Rpb25fcmFpc2UsCiAgICBsb3dlcjogc2VsZWN0aW9uX2xvd2VyLAogICAgYXBwZW5kOiBzZWxlY3Rpb25fYXBwZW5kLAogICAgaW5zZXJ0OiBzZWxlY3Rpb25faW5zZXJ0LAogICAgcmVtb3ZlOiBzZWxlY3Rpb25fcmVtb3ZlLAogICAgY2xvbmU6IHNlbGVjdGlvbl9jbG9uZSwKICAgIGRhdHVtOiBzZWxlY3Rpb25fZGF0dW0sCiAgICBvbjogc2VsZWN0aW9uX29uLAogICAgZGlzcGF0Y2g6IHNlbGVjdGlvbl9kaXNwYXRjaCwKICAgIFtTeW1ib2wuaXRlcmF0b3JdOiBzZWxlY3Rpb25faXRlcmF0b3IKICB9OwoKICBmdW5jdGlvbiBkZWZpbmUgKGNvbnN0cnVjdG9yLCBmYWN0b3J5LCBwcm90b3R5cGUpIHsKICAgIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGZhY3RvcnkucHJvdG90eXBlID0gcHJvdG90eXBlOwogICAgcHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY29uc3RydWN0b3I7CiAgfQogIGZ1bmN0aW9uIGV4dGVuZChwYXJlbnQsIGRlZmluaXRpb24pIHsKICAgIHZhciBwcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudC5wcm90b3R5cGUpOwogICAgZm9yICh2YXIga2V5IGluIGRlZmluaXRpb24pIHByb3RvdHlwZVtrZXldID0gZGVmaW5pdGlvbltrZXldOwogICAgcmV0dXJuIHByb3RvdHlwZTsKICB9CgogIGZ1bmN0aW9uIENvbG9yKCkge30KICB2YXIgZGFya2VyID0gMC43OwogIHZhciBicmlnaHRlciA9IDEgLyBkYXJrZXI7CiAgdmFyIHJlSSA9ICJcXHMqKFsrLV0/XFxkKylcXHMqIiwKICAgIHJlTiA9ICJcXHMqKFsrLV0/KD86XFxkKlxcLik/XFxkKyg/OltlRV1bKy1dP1xcZCspPylcXHMqIiwKICAgIHJlUCA9ICJcXHMqKFsrLV0/KD86XFxkKlxcLik/XFxkKyg/OltlRV1bKy1dP1xcZCspPyklXFxzKiIsCiAgICByZUhleCA9IC9eIyhbMC05YS1mXXszLDh9KSQvLAogICAgcmVSZ2JJbnRlZ2VyID0gbmV3IFJlZ0V4cChgXnJnYlxcKCR7cmVJfSwke3JlSX0sJHtyZUl9XFwpJGApLAogICAgcmVSZ2JQZXJjZW50ID0gbmV3IFJlZ0V4cChgXnJnYlxcKCR7cmVQfSwke3JlUH0sJHtyZVB9XFwpJGApLAogICAgcmVSZ2JhSW50ZWdlciA9IG5ldyBSZWdFeHAoYF5yZ2JhXFwoJHtyZUl9LCR7cmVJfSwke3JlSX0sJHtyZU59XFwpJGApLAogICAgcmVSZ2JhUGVyY2VudCA9IG5ldyBSZWdFeHAoYF5yZ2JhXFwoJHtyZVB9LCR7cmVQfSwke3JlUH0sJHtyZU59XFwpJGApLAogICAgcmVIc2xQZXJjZW50ID0gbmV3IFJlZ0V4cChgXmhzbFxcKCR7cmVOfSwke3JlUH0sJHtyZVB9XFwpJGApLAogICAgcmVIc2xhUGVyY2VudCA9IG5ldyBSZWdFeHAoYF5oc2xhXFwoJHtyZU59LCR7cmVQfSwke3JlUH0sJHtyZU59XFwpJGApOwogIHZhciBuYW1lZCA9IHsKICAgIGFsaWNlYmx1ZTogMHhmMGY4ZmYsCiAgICBhbnRpcXVld2hpdGU6IDB4ZmFlYmQ3LAogICAgYXF1YTogMHgwMGZmZmYsCiAgICBhcXVhbWFyaW5lOiAweDdmZmZkNCwKICAgIGF6dXJlOiAweGYwZmZmZiwKICAgIGJlaWdlOiAweGY1ZjVkYywKICAgIGJpc3F1ZTogMHhmZmU0YzQsCiAgICBibGFjazogMHgwMDAwMDAsCiAgICBibGFuY2hlZGFsbW9uZDogMHhmZmViY2QsCiAgICBibHVlOiAweDAwMDBmZiwKICAgIGJsdWV2aW9sZXQ6IDB4OGEyYmUyLAogICAgYnJvd246IDB4YTUyYTJhLAogICAgYnVybHl3b29kOiAweGRlYjg4NywKICAgIGNhZGV0Ymx1ZTogMHg1ZjllYTAsCiAgICBjaGFydHJldXNlOiAweDdmZmYwMCwKICAgIGNob2NvbGF0ZTogMHhkMjY5MWUsCiAgICBjb3JhbDogMHhmZjdmNTAsCiAgICBjb3JuZmxvd2VyYmx1ZTogMHg2NDk1ZWQsCiAgICBjb3Juc2lsazogMHhmZmY4ZGMsCiAgICBjcmltc29uOiAweGRjMTQzYywKICAgIGN5YW46IDB4MDBmZmZmLAogICAgZGFya2JsdWU6IDB4MDAwMDhiLAogICAgZGFya2N5YW46IDB4MDA4YjhiLAogICAgZGFya2dvbGRlbnJvZDogMHhiODg2MGIsCiAgICBkYXJrZ3JheTogMHhhOWE5YTksCiAgICBkYXJrZ3JlZW46IDB4MDA2NDAwLAogICAgZGFya2dyZXk6IDB4YTlhOWE5LAogICAgZGFya2toYWtpOiAweGJkYjc2YiwKICAgIGRhcmttYWdlbnRhOiAweDhiMDA4YiwKICAgIGRhcmtvbGl2ZWdyZWVuOiAweDU1NmIyZiwKICAgIGRhcmtvcmFuZ2U6IDB4ZmY4YzAwLAogICAgZGFya29yY2hpZDogMHg5OTMyY2MsCiAgICBkYXJrcmVkOiAweDhiMDAwMCwKICAgIGRhcmtzYWxtb246IDB4ZTk5NjdhLAogICAgZGFya3NlYWdyZWVuOiAweDhmYmM4ZiwKICAgIGRhcmtzbGF0ZWJsdWU6IDB4NDgzZDhiLAogICAgZGFya3NsYXRlZ3JheTogMHgyZjRmNGYsCiAgICBkYXJrc2xhdGVncmV5OiAweDJmNGY0ZiwKICAgIGRhcmt0dXJxdW9pc2U6IDB4MDBjZWQxLAogICAgZGFya3Zpb2xldDogMHg5NDAwZDMsCiAgICBkZWVwcGluazogMHhmZjE0OTMsCiAgICBkZWVwc2t5Ymx1ZTogMHgwMGJmZmYsCiAgICBkaW1ncmF5OiAweDY5Njk2OSwKICAgIGRpbWdyZXk6IDB4Njk2OTY5LAogICAgZG9kZ2VyYmx1ZTogMHgxZTkwZmYsCiAgICBmaXJlYnJpY2s6IDB4YjIyMjIyLAogICAgZmxvcmFsd2hpdGU6IDB4ZmZmYWYwLAogICAgZm9yZXN0Z3JlZW46IDB4MjI4YjIyLAogICAgZnVjaHNpYTogMHhmZjAwZmYsCiAgICBnYWluc2Jvcm86IDB4ZGNkY2RjLAogICAgZ2hvc3R3aGl0ZTogMHhmOGY4ZmYsCiAgICBnb2xkOiAweGZmZDcwMCwKICAgIGdvbGRlbnJvZDogMHhkYWE1MjAsCiAgICBncmF5OiAweDgwODA4MCwKICAgIGdyZWVuOiAweDAwODAwMCwKICAgIGdyZWVueWVsbG93OiAweGFkZmYyZiwKICAgIGdyZXk6IDB4ODA4MDgwLAogICAgaG9uZXlkZXc6IDB4ZjBmZmYwLAogICAgaG90cGluazogMHhmZjY5YjQsCiAgICBpbmRpYW5yZWQ6IDB4Y2Q1YzVjLAogICAgaW5kaWdvOiAweDRiMDA4MiwKICAgIGl2b3J5OiAweGZmZmZmMCwKICAgIGtoYWtpOiAweGYwZTY4YywKICAgIGxhdmVuZGVyOiAweGU2ZTZmYSwKICAgIGxhdmVuZGVyYmx1c2g6IDB4ZmZmMGY1LAogICAgbGF3bmdyZWVuOiAweDdjZmMwMCwKICAgIGxlbW9uY2hpZmZvbjogMHhmZmZhY2QsCiAgICBsaWdodGJsdWU6IDB4YWRkOGU2LAogICAgbGlnaHRjb3JhbDogMHhmMDgwODAsCiAgICBsaWdodGN5YW46IDB4ZTBmZmZmLAogICAgbGlnaHRnb2xkZW5yb2R5ZWxsb3c6IDB4ZmFmYWQyLAogICAgbGlnaHRncmF5OiAweGQzZDNkMywKICAgIGxpZ2h0Z3JlZW46IDB4OTBlZTkwLAogICAgbGlnaHRncmV5OiAweGQzZDNkMywKICAgIGxpZ2h0cGluazogMHhmZmI2YzEsCiAgICBsaWdodHNhbG1vbjogMHhmZmEwN2EsCiAgICBsaWdodHNlYWdyZWVuOiAweDIwYjJhYSwKICAgIGxpZ2h0c2t5Ymx1ZTogMHg4N2NlZmEsCiAgICBsaWdodHNsYXRlZ3JheTogMHg3Nzg4OTksCiAgICBsaWdodHNsYXRlZ3JleTogMHg3Nzg4OTksCiAgICBsaWdodHN0ZWVsYmx1ZTogMHhiMGM0ZGUsCiAgICBsaWdodHllbGxvdzogMHhmZmZmZTAsCiAgICBsaW1lOiAweDAwZmYwMCwKICAgIGxpbWVncmVlbjogMHgzMmNkMzIsCiAgICBsaW5lbjogMHhmYWYwZTYsCiAgICBtYWdlbnRhOiAweGZmMDBmZiwKICAgIG1hcm9vbjogMHg4MDAwMDAsCiAgICBtZWRpdW1hcXVhbWFyaW5lOiAweDY2Y2RhYSwKICAgIG1lZGl1bWJsdWU6IDB4MDAwMGNkLAogICAgbWVkaXVtb3JjaGlkOiAweGJhNTVkMywKICAgIG1lZGl1bXB1cnBsZTogMHg5MzcwZGIsCiAgICBtZWRpdW1zZWFncmVlbjogMHgzY2IzNzEsCiAgICBtZWRpdW1zbGF0ZWJsdWU6IDB4N2I2OGVlLAogICAgbWVkaXVtc3ByaW5nZ3JlZW46IDB4MDBmYTlhLAogICAgbWVkaXVtdHVycXVvaXNlOiAweDQ4ZDFjYywKICAgIG1lZGl1bXZpb2xldHJlZDogMHhjNzE1ODUsCiAgICBtaWRuaWdodGJsdWU6IDB4MTkxOTcwLAogICAgbWludGNyZWFtOiAweGY1ZmZmYSwKICAgIG1pc3R5cm9zZTogMHhmZmU0ZTEsCiAgICBtb2NjYXNpbjogMHhmZmU0YjUsCiAgICBuYXZham93aGl0ZTogMHhmZmRlYWQsCiAgICBuYXZ5OiAweDAwMDA4MCwKICAgIG9sZGxhY2U6IDB4ZmRmNWU2LAogICAgb2xpdmU6IDB4ODA4MDAwLAogICAgb2xpdmVkcmFiOiAweDZiOGUyMywKICAgIG9yYW5nZTogMHhmZmE1MDAsCiAgICBvcmFuZ2VyZWQ6IDB4ZmY0NTAwLAogICAgb3JjaGlkOiAweGRhNzBkNiwKICAgIHBhbGVnb2xkZW5yb2Q6IDB4ZWVlOGFhLAogICAgcGFsZWdyZWVuOiAweDk4ZmI5OCwKICAgIHBhbGV0dXJxdW9pc2U6IDB4YWZlZWVlLAogICAgcGFsZXZpb2xldHJlZDogMHhkYjcwOTMsCiAgICBwYXBheWF3aGlwOiAweGZmZWZkNSwKICAgIHBlYWNocHVmZjogMHhmZmRhYjksCiAgICBwZXJ1OiAweGNkODUzZiwKICAgIHBpbms6IDB4ZmZjMGNiLAogICAgcGx1bTogMHhkZGEwZGQsCiAgICBwb3dkZXJibHVlOiAweGIwZTBlNiwKICAgIHB1cnBsZTogMHg4MDAwODAsCiAgICByZWJlY2NhcHVycGxlOiAweDY2MzM5OSwKICAgIHJlZDogMHhmZjAwMDAsCiAgICByb3N5YnJvd246IDB4YmM4ZjhmLAogICAgcm95YWxibHVlOiAweDQxNjllMSwKICAgIHNhZGRsZWJyb3duOiAweDhiNDUxMywKICAgIHNhbG1vbjogMHhmYTgwNzIsCiAgICBzYW5keWJyb3duOiAweGY0YTQ2MCwKICAgIHNlYWdyZWVuOiAweDJlOGI1NywKICAgIHNlYXNoZWxsOiAweGZmZjVlZSwKICAgIHNpZW5uYTogMHhhMDUyMmQsCiAgICBzaWx2ZXI6IDB4YzBjMGMwLAogICAgc2t5Ymx1ZTogMHg4N2NlZWIsCiAgICBzbGF0ZWJsdWU6IDB4NmE1YWNkLAogICAgc2xhdGVncmF5OiAweDcwODA5MCwKICAgIHNsYXRlZ3JleTogMHg3MDgwOTAsCiAgICBzbm93OiAweGZmZmFmYSwKICAgIHNwcmluZ2dyZWVuOiAweDAwZmY3ZiwKICAgIHN0ZWVsYmx1ZTogMHg0NjgyYjQsCiAgICB0YW46IDB4ZDJiNDhjLAogICAgdGVhbDogMHgwMDgwODAsCiAgICB0aGlzdGxlOiAweGQ4YmZkOCwKICAgIHRvbWF0bzogMHhmZjYzNDcsCiAgICB0dXJxdW9pc2U6IDB4NDBlMGQwLAogICAgdmlvbGV0OiAweGVlODJlZSwKICAgIHdoZWF0OiAweGY1ZGViMywKICAgIHdoaXRlOiAweGZmZmZmZiwKICAgIHdoaXRlc21va2U6IDB4ZjVmNWY1LAogICAgeWVsbG93OiAweGZmZmYwMCwKICAgIHllbGxvd2dyZWVuOiAweDlhY2QzMgogIH07CiAgZGVmaW5lKENvbG9yLCBjb2xvciwgewogICAgY29weShjaGFubmVscykgewogICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLCB0aGlzLCBjaGFubmVscyk7CiAgICB9LAogICAgZGlzcGxheWFibGUoKSB7CiAgICAgIHJldHVybiB0aGlzLnJnYigpLmRpc3BsYXlhYmxlKCk7CiAgICB9LAogICAgaGV4OiBjb2xvcl9mb3JtYXRIZXgsCiAgICAvLyBEZXByZWNhdGVkISBVc2UgY29sb3IuZm9ybWF0SGV4LgogICAgZm9ybWF0SGV4OiBjb2xvcl9mb3JtYXRIZXgsCiAgICBmb3JtYXRIZXg4OiBjb2xvcl9mb3JtYXRIZXg4LAogICAgZm9ybWF0SHNsOiBjb2xvcl9mb3JtYXRIc2wsCiAgICBmb3JtYXRSZ2I6IGNvbG9yX2Zvcm1hdFJnYiwKICAgIHRvU3RyaW5nOiBjb2xvcl9mb3JtYXRSZ2IKICB9KTsKICBmdW5jdGlvbiBjb2xvcl9mb3JtYXRIZXgoKSB7CiAgICByZXR1cm4gdGhpcy5yZ2IoKS5mb3JtYXRIZXgoKTsKICB9CiAgZnVuY3Rpb24gY29sb3JfZm9ybWF0SGV4OCgpIHsKICAgIHJldHVybiB0aGlzLnJnYigpLmZvcm1hdEhleDgoKTsKICB9CiAgZnVuY3Rpb24gY29sb3JfZm9ybWF0SHNsKCkgewogICAgcmV0dXJuIGhzbENvbnZlcnQodGhpcykuZm9ybWF0SHNsKCk7CiAgfQogIGZ1bmN0aW9uIGNvbG9yX2Zvcm1hdFJnYigpIHsKICAgIHJldHVybiB0aGlzLnJnYigpLmZvcm1hdFJnYigpOwogIH0KICBmdW5jdGlvbiBjb2xvcihmb3JtYXQpIHsKICAgIHZhciBtLCBsOwogICAgZm9ybWF0ID0gKGZvcm1hdCArICIiKS50cmltKCkudG9Mb3dlckNhc2UoKTsKICAgIHJldHVybiAobSA9IHJlSGV4LmV4ZWMoZm9ybWF0KSkgPyAobCA9IG1bMV0ubGVuZ3RoLCBtID0gcGFyc2VJbnQobVsxXSwgMTYpLCBsID09PSA2ID8gcmdibihtKSAvLyAjZmYwMDAwCiAgICA6IGwgPT09IDMgPyBuZXcgUmdiKG0gPj4gOCAmIDB4ZiB8IG0gPj4gNCAmIDB4ZjAsIG0gPj4gNCAmIDB4ZiB8IG0gJiAweGYwLCAobSAmIDB4ZikgPDwgNCB8IG0gJiAweGYsIDEpIC8vICNmMDAKICAgIDogbCA9PT0gOCA/IHJnYmEobSA+PiAyNCAmIDB4ZmYsIG0gPj4gMTYgJiAweGZmLCBtID4+IDggJiAweGZmLCAobSAmIDB4ZmYpIC8gMHhmZikgLy8gI2ZmMDAwMDAwCiAgICA6IGwgPT09IDQgPyByZ2JhKG0gPj4gMTIgJiAweGYgfCBtID4+IDggJiAweGYwLCBtID4+IDggJiAweGYgfCBtID4+IDQgJiAweGYwLCBtID4+IDQgJiAweGYgfCBtICYgMHhmMCwgKChtICYgMHhmKSA8PCA0IHwgbSAmIDB4ZikgLyAweGZmKSAvLyAjZjAwMAogICAgOiBudWxsIC8vIGludmFsaWQgaGV4CiAgICApIDogKG0gPSByZVJnYkludGVnZXIuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSwgbVsyXSwgbVszXSwgMSkgLy8gcmdiKDI1NSwgMCwgMCkKICAgIDogKG0gPSByZVJnYlBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgMSkgLy8gcmdiKDEwMCUsIDAlLCAwJSkKICAgIDogKG0gPSByZVJnYmFJbnRlZ2VyLmV4ZWMoZm9ybWF0KSkgPyByZ2JhKG1bMV0sIG1bMl0sIG1bM10sIG1bNF0pIC8vIHJnYmEoMjU1LCAwLCAwLCAxKQogICAgOiAobSA9IHJlUmdiYVBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IHJnYmEobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgbVs0XSkgLy8gcmdiKDEwMCUsIDAlLCAwJSwgMSkKICAgIDogKG0gPSByZUhzbFBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IGhzbGEobVsxXSwgbVsyXSAvIDEwMCwgbVszXSAvIDEwMCwgMSkgLy8gaHNsKDEyMCwgNTAlLCA1MCUpCiAgICA6IChtID0gcmVIc2xhUGVyY2VudC5leGVjKGZvcm1hdCkpID8gaHNsYShtWzFdLCBtWzJdIC8gMTAwLCBtWzNdIC8gMTAwLCBtWzRdKSAvLyBoc2xhKDEyMCwgNTAlLCA1MCUsIDEpCiAgICA6IG5hbWVkLmhhc093blByb3BlcnR5KGZvcm1hdCkgPyByZ2JuKG5hbWVkW2Zvcm1hdF0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zCiAgICA6IGZvcm1hdCA9PT0gInRyYW5zcGFyZW50IiA/IG5ldyBSZ2IoTmFOLCBOYU4sIE5hTiwgMCkgOiBudWxsOwogIH0KICBmdW5jdGlvbiByZ2JuKG4pIHsKICAgIHJldHVybiBuZXcgUmdiKG4gPj4gMTYgJiAweGZmLCBuID4+IDggJiAweGZmLCBuICYgMHhmZiwgMSk7CiAgfQogIGZ1bmN0aW9uIHJnYmEociwgZywgYiwgYSkgewogICAgaWYgKGEgPD0gMCkgciA9IGcgPSBiID0gTmFOOwogICAgcmV0dXJuIG5ldyBSZ2IociwgZywgYiwgYSk7CiAgfQogIGZ1bmN0aW9uIHJnYkNvbnZlcnQobykgewogICAgaWYgKCEobyBpbnN0YW5jZW9mIENvbG9yKSkgbyA9IGNvbG9yKG8pOwogICAgaWYgKCFvKSByZXR1cm4gbmV3IFJnYigpOwogICAgbyA9IG8ucmdiKCk7CiAgICByZXR1cm4gbmV3IFJnYihvLnIsIG8uZywgby5iLCBvLm9wYWNpdHkpOwogIH0KICBmdW5jdGlvbiByZ2IociwgZywgYiwgb3BhY2l0eSkgewogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyByZ2JDb252ZXJ0KHIpIDogbmV3IFJnYihyLCBnLCBiLCBvcGFjaXR5ID09IG51bGwgPyAxIDogb3BhY2l0eSk7CiAgfQogIGZ1bmN0aW9uIFJnYihyLCBnLCBiLCBvcGFjaXR5KSB7CiAgICB0aGlzLnIgPSArcjsKICAgIHRoaXMuZyA9ICtnOwogICAgdGhpcy5iID0gK2I7CiAgICB0aGlzLm9wYWNpdHkgPSArb3BhY2l0eTsKICB9CiAgZGVmaW5lKFJnYiwgcmdiLCBleHRlbmQoQ29sb3IsIHsKICAgIGJyaWdodGVyKGspIHsKICAgICAgayA9IGsgPT0gbnVsbCA/IGJyaWdodGVyIDogTWF0aC5wb3coYnJpZ2h0ZXIsIGspOwogICAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpOwogICAgfSwKICAgIGRhcmtlcihrKSB7CiAgICAgIGsgPSBrID09IG51bGwgPyBkYXJrZXIgOiBNYXRoLnBvdyhkYXJrZXIsIGspOwogICAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpOwogICAgfSwKICAgIHJnYigpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgY2xhbXAoKSB7CiAgICAgIHJldHVybiBuZXcgUmdiKGNsYW1waSh0aGlzLnIpLCBjbGFtcGkodGhpcy5nKSwgY2xhbXBpKHRoaXMuYiksIGNsYW1wYSh0aGlzLm9wYWNpdHkpKTsKICAgIH0sCiAgICBkaXNwbGF5YWJsZSgpIHsKICAgICAgcmV0dXJuIC0wLjUgPD0gdGhpcy5yICYmIHRoaXMuciA8IDI1NS41ICYmIC0wLjUgPD0gdGhpcy5nICYmIHRoaXMuZyA8IDI1NS41ICYmIC0wLjUgPD0gdGhpcy5iICYmIHRoaXMuYiA8IDI1NS41ICYmIDAgPD0gdGhpcy5vcGFjaXR5ICYmIHRoaXMub3BhY2l0eSA8PSAxOwogICAgfSwKICAgIGhleDogcmdiX2Zvcm1hdEhleCwKICAgIC8vIERlcHJlY2F0ZWQhIFVzZSBjb2xvci5mb3JtYXRIZXguCiAgICBmb3JtYXRIZXg6IHJnYl9mb3JtYXRIZXgsCiAgICBmb3JtYXRIZXg4OiByZ2JfZm9ybWF0SGV4OCwKICAgIGZvcm1hdFJnYjogcmdiX2Zvcm1hdFJnYiwKICAgIHRvU3RyaW5nOiByZ2JfZm9ybWF0UmdiCiAgfSkpOwogIGZ1bmN0aW9uIHJnYl9mb3JtYXRIZXgoKSB7CiAgICByZXR1cm4gYCMke2hleCh0aGlzLnIpfSR7aGV4KHRoaXMuZyl9JHtoZXgodGhpcy5iKX1gOwogIH0KICBmdW5jdGlvbiByZ2JfZm9ybWF0SGV4OCgpIHsKICAgIHJldHVybiBgIyR7aGV4KHRoaXMucil9JHtoZXgodGhpcy5nKX0ke2hleCh0aGlzLmIpfSR7aGV4KChpc05hTih0aGlzLm9wYWNpdHkpID8gMSA6IHRoaXMub3BhY2l0eSkgKiAyNTUpfWA7CiAgfQogIGZ1bmN0aW9uIHJnYl9mb3JtYXRSZ2IoKSB7CiAgICBjb25zdCBhID0gY2xhbXBhKHRoaXMub3BhY2l0eSk7CiAgICByZXR1cm4gYCR7YSA9PT0gMSA/ICJyZ2IoIiA6ICJyZ2JhKCJ9JHtjbGFtcGkodGhpcy5yKX0sICR7Y2xhbXBpKHRoaXMuZyl9LCAke2NsYW1waSh0aGlzLmIpfSR7YSA9PT0gMSA/ICIpIiA6IGAsICR7YX0pYH1gOwogIH0KICBmdW5jdGlvbiBjbGFtcGEob3BhY2l0eSkgewogICAgcmV0dXJuIGlzTmFOKG9wYWNpdHkpID8gMSA6IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIG9wYWNpdHkpKTsKICB9CiAgZnVuY3Rpb24gY2xhbXBpKHZhbHVlKSB7CiAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBNYXRoLnJvdW5kKHZhbHVlKSB8fCAwKSk7CiAgfQogIGZ1bmN0aW9uIGhleCh2YWx1ZSkgewogICAgdmFsdWUgPSBjbGFtcGkodmFsdWUpOwogICAgcmV0dXJuICh2YWx1ZSA8IDE2ID8gIjAiIDogIiIpICsgdmFsdWUudG9TdHJpbmcoMTYpOwogIH0KICBmdW5jdGlvbiBoc2xhKGgsIHMsIGwsIGEpIHsKICAgIGlmIChhIDw9IDApIGggPSBzID0gbCA9IE5hTjtlbHNlIGlmIChsIDw9IDAgfHwgbCA+PSAxKSBoID0gcyA9IE5hTjtlbHNlIGlmIChzIDw9IDApIGggPSBOYU47CiAgICByZXR1cm4gbmV3IEhzbChoLCBzLCBsLCBhKTsKICB9CiAgZnVuY3Rpb24gaHNsQ29udmVydChvKSB7CiAgICBpZiAobyBpbnN0YW5jZW9mIEhzbCkgcmV0dXJuIG5ldyBIc2woby5oLCBvLnMsIG8ubCwgby5vcGFjaXR5KTsKICAgIGlmICghKG8gaW5zdGFuY2VvZiBDb2xvcikpIG8gPSBjb2xvcihvKTsKICAgIGlmICghbykgcmV0dXJuIG5ldyBIc2woKTsKICAgIGlmIChvIGluc3RhbmNlb2YgSHNsKSByZXR1cm4gbzsKICAgIG8gPSBvLnJnYigpOwogICAgdmFyIHIgPSBvLnIgLyAyNTUsCiAgICAgIGcgPSBvLmcgLyAyNTUsCiAgICAgIGIgPSBvLmIgLyAyNTUsCiAgICAgIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpLAogICAgICBtYXggPSBNYXRoLm1heChyLCBnLCBiKSwKICAgICAgaCA9IE5hTiwKICAgICAgcyA9IG1heCAtIG1pbiwKICAgICAgbCA9IChtYXggKyBtaW4pIC8gMjsKICAgIGlmIChzKSB7CiAgICAgIGlmIChyID09PSBtYXgpIGggPSAoZyAtIGIpIC8gcyArIChnIDwgYikgKiA2O2Vsc2UgaWYgKGcgPT09IG1heCkgaCA9IChiIC0gcikgLyBzICsgMjtlbHNlIGggPSAociAtIGcpIC8gcyArIDQ7CiAgICAgIHMgLz0gbCA8IDAuNSA/IG1heCArIG1pbiA6IDIgLSBtYXggLSBtaW47CiAgICAgIGggKj0gNjA7CiAgICB9IGVsc2UgewogICAgICBzID0gbCA+IDAgJiYgbCA8IDEgPyAwIDogaDsKICAgIH0KICAgIHJldHVybiBuZXcgSHNsKGgsIHMsIGwsIG8ub3BhY2l0eSk7CiAgfQogIGZ1bmN0aW9uIGhzbChoLCBzLCBsLCBvcGFjaXR5KSB7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IGhzbENvbnZlcnQoaCkgOiBuZXcgSHNsKGgsIHMsIGwsIG9wYWNpdHkgPT0gbnVsbCA/IDEgOiBvcGFjaXR5KTsKICB9CiAgZnVuY3Rpb24gSHNsKGgsIHMsIGwsIG9wYWNpdHkpIHsKICAgIHRoaXMuaCA9ICtoOwogICAgdGhpcy5zID0gK3M7CiAgICB0aGlzLmwgPSArbDsKICAgIHRoaXMub3BhY2l0eSA9ICtvcGFjaXR5OwogIH0KICBkZWZpbmUoSHNsLCBoc2wsIGV4dGVuZChDb2xvciwgewogICAgYnJpZ2h0ZXIoaykgewogICAgICBrID0gayA9PSBudWxsID8gYnJpZ2h0ZXIgOiBNYXRoLnBvdyhicmlnaHRlciwgayk7CiAgICAgIHJldHVybiBuZXcgSHNsKHRoaXMuaCwgdGhpcy5zLCB0aGlzLmwgKiBrLCB0aGlzLm9wYWNpdHkpOwogICAgfSwKICAgIGRhcmtlcihrKSB7CiAgICAgIGsgPSBrID09IG51bGwgPyBkYXJrZXIgOiBNYXRoLnBvdyhkYXJrZXIsIGspOwogICAgICByZXR1cm4gbmV3IEhzbCh0aGlzLmgsIHRoaXMucywgdGhpcy5sICogaywgdGhpcy5vcGFjaXR5KTsKICAgIH0sCiAgICByZ2IoKSB7CiAgICAgIHZhciBoID0gdGhpcy5oICUgMzYwICsgKHRoaXMuaCA8IDApICogMzYwLAogICAgICAgIHMgPSBpc05hTihoKSB8fCBpc05hTih0aGlzLnMpID8gMCA6IHRoaXMucywKICAgICAgICBsID0gdGhpcy5sLAogICAgICAgIG0yID0gbCArIChsIDwgMC41ID8gbCA6IDEgLSBsKSAqIHMsCiAgICAgICAgbTEgPSAyICogbCAtIG0yOwogICAgICByZXR1cm4gbmV3IFJnYihoc2wycmdiKGggPj0gMjQwID8gaCAtIDI0MCA6IGggKyAxMjAsIG0xLCBtMiksIGhzbDJyZ2IoaCwgbTEsIG0yKSwgaHNsMnJnYihoIDwgMTIwID8gaCArIDI0MCA6IGggLSAxMjAsIG0xLCBtMiksIHRoaXMub3BhY2l0eSk7CiAgICB9LAogICAgY2xhbXAoKSB7CiAgICAgIHJldHVybiBuZXcgSHNsKGNsYW1waCh0aGlzLmgpLCBjbGFtcHQodGhpcy5zKSwgY2xhbXB0KHRoaXMubCksIGNsYW1wYSh0aGlzLm9wYWNpdHkpKTsKICAgIH0sCiAgICBkaXNwbGF5YWJsZSgpIHsKICAgICAgcmV0dXJuICgwIDw9IHRoaXMucyAmJiB0aGlzLnMgPD0gMSB8fCBpc05hTih0aGlzLnMpKSAmJiAwIDw9IHRoaXMubCAmJiB0aGlzLmwgPD0gMSAmJiAwIDw9IHRoaXMub3BhY2l0eSAmJiB0aGlzLm9wYWNpdHkgPD0gMTsKICAgIH0sCiAgICBmb3JtYXRIc2woKSB7CiAgICAgIGNvbnN0IGEgPSBjbGFtcGEodGhpcy5vcGFjaXR5KTsKICAgICAgcmV0dXJuIGAke2EgPT09IDEgPyAiaHNsKCIgOiAiaHNsYSgifSR7Y2xhbXBoKHRoaXMuaCl9LCAke2NsYW1wdCh0aGlzLnMpICogMTAwfSUsICR7Y2xhbXB0KHRoaXMubCkgKiAxMDB9JSR7YSA9PT0gMSA/ICIpIiA6IGAsICR7YX0pYH1gOwogICAgfQogIH0pKTsKICBmdW5jdGlvbiBjbGFtcGgodmFsdWUpIHsKICAgIHZhbHVlID0gKHZhbHVlIHx8IDApICUgMzYwOwogICAgcmV0dXJuIHZhbHVlIDwgMCA/IHZhbHVlICsgMzYwIDogdmFsdWU7CiAgfQogIGZ1bmN0aW9uIGNsYW1wdCh2YWx1ZSkgewogICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZhbHVlIHx8IDApKTsKICB9CgogIC8qIEZyb20gRnZEIDEzLjM3LCBDU1MgQ29sb3IgTW9kdWxlIExldmVsIDMgKi8KICBmdW5jdGlvbiBoc2wycmdiKGgsIG0xLCBtMikgewogICAgcmV0dXJuIChoIDwgNjAgPyBtMSArIChtMiAtIG0xKSAqIGggLyA2MCA6IGggPCAxODAgPyBtMiA6IGggPCAyNDAgPyBtMSArIChtMiAtIG0xKSAqICgyNDAgLSBoKSAvIDYwIDogbTEpICogMjU1OwogIH0KCiAgdmFyIGNvbnN0YW50ID0geCA9PiAoKSA9PiB4OwoKICBmdW5jdGlvbiBsaW5lYXIoYSwgZCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBhICsgdCAqIGQ7CiAgICB9OwogIH0KICBmdW5jdGlvbiBleHBvbmVudGlhbChhLCBiLCB5KSB7CiAgICByZXR1cm4gYSA9IE1hdGgucG93KGEsIHkpLCBiID0gTWF0aC5wb3coYiwgeSkgLSBhLCB5ID0gMSAvIHksIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBNYXRoLnBvdyhhICsgdCAqIGIsIHkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gZ2FtbWEoeSkgewogICAgcmV0dXJuICh5ID0gK3kpID09PSAxID8gbm9nYW1tYSA6IGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgIHJldHVybiBiIC0gYSA/IGV4cG9uZW50aWFsKGEsIGIsIHkpIDogY29uc3RhbnQoaXNOYU4oYSkgPyBiIDogYSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBub2dhbW1hKGEsIGIpIHsKICAgIHZhciBkID0gYiAtIGE7CiAgICByZXR1cm4gZCA/IGxpbmVhcihhLCBkKSA6IGNvbnN0YW50KGlzTmFOKGEpID8gYiA6IGEpOwogIH0KCiAgdmFyIGludGVycG9sYXRlUmdiID0gKGZ1bmN0aW9uIHJnYkdhbW1hKHkpIHsKICAgIHZhciBjb2xvciA9IGdhbW1hKHkpOwogICAgZnVuY3Rpb24gcmdiJDEoc3RhcnQsIGVuZCkgewogICAgICB2YXIgciA9IGNvbG9yKChzdGFydCA9IHJnYihzdGFydCkpLnIsIChlbmQgPSByZ2IoZW5kKSkuciksCiAgICAgICAgZyA9IGNvbG9yKHN0YXJ0LmcsIGVuZC5nKSwKICAgICAgICBiID0gY29sb3Ioc3RhcnQuYiwgZW5kLmIpLAogICAgICAgIG9wYWNpdHkgPSBub2dhbW1hKHN0YXJ0Lm9wYWNpdHksIGVuZC5vcGFjaXR5KTsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgc3RhcnQuciA9IHIodCk7CiAgICAgICAgc3RhcnQuZyA9IGcodCk7CiAgICAgICAgc3RhcnQuYiA9IGIodCk7CiAgICAgICAgc3RhcnQub3BhY2l0eSA9IG9wYWNpdHkodCk7CiAgICAgICAgcmV0dXJuIHN0YXJ0ICsgIiI7CiAgICAgIH07CiAgICB9CiAgICByZ2IkMS5nYW1tYSA9IHJnYkdhbW1hOwogICAgcmV0dXJuIHJnYiQxOwogIH0pKDEpOwoKICBmdW5jdGlvbiBpbnRlcnBvbGF0ZU51bWJlciAoYSwgYikgewogICAgcmV0dXJuIGEgPSArYSwgYiA9ICtiLCBmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gYSAqICgxIC0gdCkgKyBiICogdDsKICAgIH07CiAgfQoKICB2YXIgcmVBID0gL1stK10/KD86XGQrXC4/XGQqfFwuP1xkKykoPzpbZUVdWy0rXT9cZCspPy9nLAogICAgcmVCID0gbmV3IFJlZ0V4cChyZUEuc291cmNlLCAiZyIpOwogIGZ1bmN0aW9uIHplcm8oYikgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGI7CiAgICB9OwogIH0KICBmdW5jdGlvbiBvbmUoYikgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBiKHQpICsgIiI7CiAgICB9OwogIH0KICBmdW5jdGlvbiBpbnRlcnBvbGF0ZVN0cmluZyAoYSwgYikgewogICAgdmFyIGJpID0gcmVBLmxhc3RJbmRleCA9IHJlQi5sYXN0SW5kZXggPSAwLAogICAgICAvLyBzY2FuIGluZGV4IGZvciBuZXh0IG51bWJlciBpbiBiCiAgICAgIGFtLAogICAgICAvLyBjdXJyZW50IG1hdGNoIGluIGEKICAgICAgYm0sCiAgICAgIC8vIGN1cnJlbnQgbWF0Y2ggaW4gYgogICAgICBicywKICAgICAgLy8gc3RyaW5nIHByZWNlZGluZyBjdXJyZW50IG51bWJlciBpbiBiLCBpZiBhbnkKICAgICAgaSA9IC0xLAogICAgICAvLyBpbmRleCBpbiBzCiAgICAgIHMgPSBbXSwKICAgICAgLy8gc3RyaW5nIGNvbnN0YW50cyBhbmQgcGxhY2Vob2xkZXJzCiAgICAgIHEgPSBbXTsgLy8gbnVtYmVyIGludGVycG9sYXRvcnMKCiAgICAvLyBDb2VyY2UgaW5wdXRzIHRvIHN0cmluZ3MuCiAgICBhID0gYSArICIiLCBiID0gYiArICIiOwoKICAgIC8vIEludGVycG9sYXRlIHBhaXJzIG9mIG51bWJlcnMgaW4gYSAmIGIuCiAgICB3aGlsZSAoKGFtID0gcmVBLmV4ZWMoYSkpICYmIChibSA9IHJlQi5leGVjKGIpKSkgewogICAgICBpZiAoKGJzID0gYm0uaW5kZXgpID4gYmkpIHsKICAgICAgICAvLyBhIHN0cmluZyBwcmVjZWRlcyB0aGUgbmV4dCBudW1iZXIgaW4gYgogICAgICAgIGJzID0gYi5zbGljZShiaSwgYnMpOwogICAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJzOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZwogICAgICAgIGVsc2Ugc1srK2ldID0gYnM7CiAgICAgIH0KICAgICAgaWYgKChhbSA9IGFtWzBdKSA9PT0gKGJtID0gYm1bMF0pKSB7CiAgICAgICAgLy8gbnVtYmVycyBpbiBhICYgYiBtYXRjaAogICAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJtOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZwogICAgICAgIGVsc2Ugc1srK2ldID0gYm07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gaW50ZXJwb2xhdGUgbm9uLW1hdGNoaW5nIG51bWJlcnMKICAgICAgICBzWysraV0gPSBudWxsOwogICAgICAgIHEucHVzaCh7CiAgICAgICAgICBpOiBpLAogICAgICAgICAgeDogaW50ZXJwb2xhdGVOdW1iZXIoYW0sIGJtKQogICAgICAgIH0pOwogICAgICB9CiAgICAgIGJpID0gcmVCLmxhc3RJbmRleDsKICAgIH0KCiAgICAvLyBBZGQgcmVtYWlucyBvZiBiLgogICAgaWYgKGJpIDwgYi5sZW5ndGgpIHsKICAgICAgYnMgPSBiLnNsaWNlKGJpKTsKICAgICAgaWYgKHNbaV0pIHNbaV0gKz0gYnM7IC8vIGNvYWxlc2NlIHdpdGggcHJldmlvdXMgc3RyaW5nCiAgICAgIGVsc2Ugc1srK2ldID0gYnM7CiAgICB9CgogICAgLy8gU3BlY2lhbCBvcHRpbWl6YXRpb24gZm9yIG9ubHkgYSBzaW5nbGUgbWF0Y2guCiAgICAvLyBPdGhlcndpc2UsIGludGVycG9sYXRlIGVhY2ggb2YgdGhlIG51bWJlcnMgYW5kIHJlam9pbiB0aGUgc3RyaW5nLgogICAgcmV0dXJuIHMubGVuZ3RoIDwgMiA/IHFbMF0gPyBvbmUocVswXS54KSA6IHplcm8oYikgOiAoYiA9IHEubGVuZ3RoLCBmdW5jdGlvbiAodCkgewogICAgICBmb3IgKHZhciBpID0gMCwgbzsgaSA8IGI7ICsraSkgc1sobyA9IHFbaV0pLmldID0gby54KHQpOwogICAgICByZXR1cm4gcy5qb2luKCIiKTsKICAgIH0pOwogIH0KCiAgdmFyIGRlZ3JlZXMgPSAxODAgLyBNYXRoLlBJOwogIHZhciBpZGVudGl0eSA9IHsKICAgIHRyYW5zbGF0ZVg6IDAsCiAgICB0cmFuc2xhdGVZOiAwLAogICAgcm90YXRlOiAwLAogICAgc2tld1g6IDAsCiAgICBzY2FsZVg6IDEsCiAgICBzY2FsZVk6IDEKICB9OwogIGZ1bmN0aW9uIGRlY29tcG9zZSAoYSwgYiwgYywgZCwgZSwgZikgewogICAgdmFyIHNjYWxlWCwgc2NhbGVZLCBza2V3WDsKICAgIGlmIChzY2FsZVggPSBNYXRoLnNxcnQoYSAqIGEgKyBiICogYikpIGEgLz0gc2NhbGVYLCBiIC89IHNjYWxlWDsKICAgIGlmIChza2V3WCA9IGEgKiBjICsgYiAqIGQpIGMgLT0gYSAqIHNrZXdYLCBkIC09IGIgKiBza2V3WDsKICAgIGlmIChzY2FsZVkgPSBNYXRoLnNxcnQoYyAqIGMgKyBkICogZCkpIGMgLz0gc2NhbGVZLCBkIC89IHNjYWxlWSwgc2tld1ggLz0gc2NhbGVZOwogICAgaWYgKGEgKiBkIDwgYiAqIGMpIGEgPSAtYSwgYiA9IC1iLCBza2V3WCA9IC1za2V3WCwgc2NhbGVYID0gLXNjYWxlWDsKICAgIHJldHVybiB7CiAgICAgIHRyYW5zbGF0ZVg6IGUsCiAgICAgIHRyYW5zbGF0ZVk6IGYsCiAgICAgIHJvdGF0ZTogTWF0aC5hdGFuMihiLCBhKSAqIGRlZ3JlZXMsCiAgICAgIHNrZXdYOiBNYXRoLmF0YW4oc2tld1gpICogZGVncmVlcywKICAgICAgc2NhbGVYOiBzY2FsZVgsCiAgICAgIHNjYWxlWTogc2NhbGVZCiAgICB9OwogIH0KCiAgdmFyIHN2Z05vZGU7CgogIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovCiAgZnVuY3Rpb24gcGFyc2VDc3ModmFsdWUpIHsKICAgIGNvbnN0IG0gPSBuZXcgKHR5cGVvZiBET01NYXRyaXggPT09ICJmdW5jdGlvbiIgPyBET01NYXRyaXggOiBXZWJLaXRDU1NNYXRyaXgpKHZhbHVlICsgIiIpOwogICAgcmV0dXJuIG0uaXNJZGVudGl0eSA/IGlkZW50aXR5IDogZGVjb21wb3NlKG0uYSwgbS5iLCBtLmMsIG0uZCwgbS5lLCBtLmYpOwogIH0KICBmdW5jdGlvbiBwYXJzZVN2Zyh2YWx1ZSkgewogICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBpZGVudGl0eTsKICAgIGlmICghc3ZnTm9kZSkgc3ZnTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCAiZyIpOwogICAgc3ZnTm9kZS5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsIHZhbHVlKTsKICAgIGlmICghKHZhbHVlID0gc3ZnTm9kZS50cmFuc2Zvcm0uYmFzZVZhbC5jb25zb2xpZGF0ZSgpKSkgcmV0dXJuIGlkZW50aXR5OwogICAgdmFsdWUgPSB2YWx1ZS5tYXRyaXg7CiAgICByZXR1cm4gZGVjb21wb3NlKHZhbHVlLmEsIHZhbHVlLmIsIHZhbHVlLmMsIHZhbHVlLmQsIHZhbHVlLmUsIHZhbHVlLmYpOwogIH0KCiAgZnVuY3Rpb24gaW50ZXJwb2xhdGVUcmFuc2Zvcm0ocGFyc2UsIHB4Q29tbWEsIHB4UGFyZW4sIGRlZ1BhcmVuKSB7CiAgICBmdW5jdGlvbiBwb3AocykgewogICAgICByZXR1cm4gcy5sZW5ndGggPyBzLnBvcCgpICsgIiAiIDogIiI7CiAgICB9CiAgICBmdW5jdGlvbiB0cmFuc2xhdGUoeGEsIHlhLCB4YiwgeWIsIHMsIHEpIHsKICAgICAgaWYgKHhhICE9PSB4YiB8fCB5YSAhPT0geWIpIHsKICAgICAgICB2YXIgaSA9IHMucHVzaCgidHJhbnNsYXRlKCIsIG51bGwsIHB4Q29tbWEsIG51bGwsIHB4UGFyZW4pOwogICAgICAgIHEucHVzaCh7CiAgICAgICAgICBpOiBpIC0gNCwKICAgICAgICAgIHg6IGludGVycG9sYXRlTnVtYmVyKHhhLCB4YikKICAgICAgICB9LCB7CiAgICAgICAgICBpOiBpIC0gMiwKICAgICAgICAgIHg6IGludGVycG9sYXRlTnVtYmVyKHlhLCB5YikKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh4YiB8fCB5YikgewogICAgICAgIHMucHVzaCgidHJhbnNsYXRlKCIgKyB4YiArIHB4Q29tbWEgKyB5YiArIHB4UGFyZW4pOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiByb3RhdGUoYSwgYiwgcywgcSkgewogICAgICBpZiAoYSAhPT0gYikgewogICAgICAgIGlmIChhIC0gYiA+IDE4MCkgYiArPSAzNjA7ZWxzZSBpZiAoYiAtIGEgPiAxODApIGEgKz0gMzYwOyAvLyBzaG9ydGVzdCBwYXRoCiAgICAgICAgcS5wdXNoKHsKICAgICAgICAgIGk6IHMucHVzaChwb3AocykgKyAicm90YXRlKCIsIG51bGwsIGRlZ1BhcmVuKSAtIDIsCiAgICAgICAgICB4OiBpbnRlcnBvbGF0ZU51bWJlcihhLCBiKQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGIpIHsKICAgICAgICBzLnB1c2gocG9wKHMpICsgInJvdGF0ZSgiICsgYiArIGRlZ1BhcmVuKTsKICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gc2tld1goYSwgYiwgcywgcSkgewogICAgICBpZiAoYSAhPT0gYikgewogICAgICAgIHEucHVzaCh7CiAgICAgICAgICBpOiBzLnB1c2gocG9wKHMpICsgInNrZXdYKCIsIG51bGwsIGRlZ1BhcmVuKSAtIDIsCiAgICAgICAgICB4OiBpbnRlcnBvbGF0ZU51bWJlcihhLCBiKQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGIpIHsKICAgICAgICBzLnB1c2gocG9wKHMpICsgInNrZXdYKCIgKyBiICsgZGVnUGFyZW4pOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBzY2FsZSh4YSwgeWEsIHhiLCB5YiwgcywgcSkgewogICAgICBpZiAoeGEgIT09IHhiIHx8IHlhICE9PSB5YikgewogICAgICAgIHZhciBpID0gcy5wdXNoKHBvcChzKSArICJzY2FsZSgiLCBudWxsLCAiLCIsIG51bGwsICIpIik7CiAgICAgICAgcS5wdXNoKHsKICAgICAgICAgIGk6IGkgLSA0LAogICAgICAgICAgeDogaW50ZXJwb2xhdGVOdW1iZXIoeGEsIHhiKQogICAgICAgIH0sIHsKICAgICAgICAgIGk6IGkgLSAyLAogICAgICAgICAgeDogaW50ZXJwb2xhdGVOdW1iZXIoeWEsIHliKQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHhiICE9PSAxIHx8IHliICE9PSAxKSB7CiAgICAgICAgcy5wdXNoKHBvcChzKSArICJzY2FsZSgiICsgeGIgKyAiLCIgKyB5YiArICIpIik7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikgewogICAgICB2YXIgcyA9IFtdLAogICAgICAgIC8vIHN0cmluZyBjb25zdGFudHMgYW5kIHBsYWNlaG9sZGVycwogICAgICAgIHEgPSBbXTsgLy8gbnVtYmVyIGludGVycG9sYXRvcnMKICAgICAgYSA9IHBhcnNlKGEpLCBiID0gcGFyc2UoYik7CiAgICAgIHRyYW5zbGF0ZShhLnRyYW5zbGF0ZVgsIGEudHJhbnNsYXRlWSwgYi50cmFuc2xhdGVYLCBiLnRyYW5zbGF0ZVksIHMsIHEpOwogICAgICByb3RhdGUoYS5yb3RhdGUsIGIucm90YXRlLCBzLCBxKTsKICAgICAgc2tld1goYS5za2V3WCwgYi5za2V3WCwgcywgcSk7CiAgICAgIHNjYWxlKGEuc2NhbGVYLCBhLnNjYWxlWSwgYi5zY2FsZVgsIGIuc2NhbGVZLCBzLCBxKTsKICAgICAgYSA9IGIgPSBudWxsOyAvLyBnYwogICAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHsKICAgICAgICB2YXIgaSA9IC0xLAogICAgICAgICAgbiA9IHEubGVuZ3RoLAogICAgICAgICAgbzsKICAgICAgICB3aGlsZSAoKytpIDwgbikgc1sobyA9IHFbaV0pLmldID0gby54KHQpOwogICAgICAgIHJldHVybiBzLmpvaW4oIiIpOwogICAgICB9OwogICAgfTsKICB9CiAgdmFyIGludGVycG9sYXRlVHJhbnNmb3JtQ3NzID0gaW50ZXJwb2xhdGVUcmFuc2Zvcm0ocGFyc2VDc3MsICJweCwgIiwgInB4KSIsICJkZWcpIik7CiAgdmFyIGludGVycG9sYXRlVHJhbnNmb3JtU3ZnID0gaW50ZXJwb2xhdGVUcmFuc2Zvcm0ocGFyc2VTdmcsICIsICIsICIpIiwgIikiKTsKCiAgdmFyIGZyYW1lID0gMCwKICAgIC8vIGlzIGFuIGFuaW1hdGlvbiBmcmFtZSBwZW5kaW5nPwogICAgdGltZW91dCQxID0gMCwKICAgIC8vIGlzIGEgdGltZW91dCBwZW5kaW5nPwogICAgaW50ZXJ2YWwgPSAwLAogICAgLy8gYXJlIGFueSB0aW1lcnMgYWN0aXZlPwogICAgcG9rZURlbGF5ID0gMTAwMCwKICAgIC8vIGhvdyBmcmVxdWVudGx5IHdlIGNoZWNrIGZvciBjbG9jayBza2V3CiAgICB0YXNrSGVhZCwKICAgIHRhc2tUYWlsLAogICAgY2xvY2tMYXN0ID0gMCwKICAgIGNsb2NrTm93ID0gMCwKICAgIGNsb2NrU2tldyA9IDAsCiAgICBjbG9jayA9IHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gIm9iamVjdCIgJiYgcGVyZm9ybWFuY2Uubm93ID8gcGVyZm9ybWFuY2UgOiBEYXRlLAogICAgc2V0RnJhbWUgPSB0eXBlb2Ygd2luZG93ID09PSAib2JqZWN0IiAmJiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID8gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdykgOiBmdW5jdGlvbiAoZikgewogICAgICBzZXRUaW1lb3V0KGYsIDE3KTsKICAgIH07CiAgZnVuY3Rpb24gbm93KCkgewogICAgcmV0dXJuIGNsb2NrTm93IHx8IChzZXRGcmFtZShjbGVhck5vdyksIGNsb2NrTm93ID0gY2xvY2subm93KCkgKyBjbG9ja1NrZXcpOwogIH0KICBmdW5jdGlvbiBjbGVhck5vdygpIHsKICAgIGNsb2NrTm93ID0gMDsKICB9CiAgZnVuY3Rpb24gVGltZXIoKSB7CiAgICB0aGlzLl9jYWxsID0gdGhpcy5fdGltZSA9IHRoaXMuX25leHQgPSBudWxsOwogIH0KICBUaW1lci5wcm90b3R5cGUgPSB0aW1lci5wcm90b3R5cGUgPSB7CiAgICBjb25zdHJ1Y3RvcjogVGltZXIsCiAgICByZXN0YXJ0OiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlbGF5LCB0aW1lKSB7CiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICJmdW5jdGlvbiIpIHRocm93IG5ldyBUeXBlRXJyb3IoImNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uIik7CiAgICAgIHRpbWUgPSAodGltZSA9PSBudWxsID8gbm93KCkgOiArdGltZSkgKyAoZGVsYXkgPT0gbnVsbCA/IDAgOiArZGVsYXkpOwogICAgICBpZiAoIXRoaXMuX25leHQgJiYgdGFza1RhaWwgIT09IHRoaXMpIHsKICAgICAgICBpZiAodGFza1RhaWwpIHRhc2tUYWlsLl9uZXh0ID0gdGhpcztlbHNlIHRhc2tIZWFkID0gdGhpczsKICAgICAgICB0YXNrVGFpbCA9IHRoaXM7CiAgICAgIH0KICAgICAgdGhpcy5fY2FsbCA9IGNhbGxiYWNrOwogICAgICB0aGlzLl90aW1lID0gdGltZTsKICAgICAgc2xlZXAoKTsKICAgIH0sCiAgICBzdG9wOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLl9jYWxsKSB7CiAgICAgICAgdGhpcy5fY2FsbCA9IG51bGw7CiAgICAgICAgdGhpcy5fdGltZSA9IEluZmluaXR5OwogICAgICAgIHNsZWVwKCk7CiAgICAgIH0KICAgIH0KICB9OwogIGZ1bmN0aW9uIHRpbWVyKGNhbGxiYWNrLCBkZWxheSwgdGltZSkgewogICAgdmFyIHQgPSBuZXcgVGltZXIoKTsKICAgIHQucmVzdGFydChjYWxsYmFjaywgZGVsYXksIHRpbWUpOwogICAgcmV0dXJuIHQ7CiAgfQogIGZ1bmN0aW9uIHRpbWVyRmx1c2goKSB7CiAgICBub3coKTsgLy8gR2V0IHRoZSBjdXJyZW50IHRpbWUsIGlmIG5vdCBhbHJlYWR5IHNldC4KICAgICsrZnJhbWU7IC8vIFByZXRlbmQgd2XigJl2ZSBzZXQgYW4gYWxhcm0sIGlmIHdlIGhhdmVu4oCZdCBhbHJlYWR5LgogICAgdmFyIHQgPSB0YXNrSGVhZCwKICAgICAgZTsKICAgIHdoaWxlICh0KSB7CiAgICAgIGlmICgoZSA9IGNsb2NrTm93IC0gdC5fdGltZSkgPj0gMCkgdC5fY2FsbC5jYWxsKHVuZGVmaW5lZCwgZSk7CiAgICAgIHQgPSB0Ll9uZXh0OwogICAgfQogICAgLS1mcmFtZTsKICB9CiAgZnVuY3Rpb24gd2FrZSgpIHsKICAgIGNsb2NrTm93ID0gKGNsb2NrTGFzdCA9IGNsb2NrLm5vdygpKSArIGNsb2NrU2tldzsKICAgIGZyYW1lID0gdGltZW91dCQxID0gMDsKICAgIHRyeSB7CiAgICAgIHRpbWVyRmx1c2goKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGZyYW1lID0gMDsKICAgICAgbmFwKCk7CiAgICAgIGNsb2NrTm93ID0gMDsKICAgIH0KICB9CiAgZnVuY3Rpb24gcG9rZSgpIHsKICAgIHZhciBub3cgPSBjbG9jay5ub3coKSwKICAgICAgZGVsYXkgPSBub3cgLSBjbG9ja0xhc3Q7CiAgICBpZiAoZGVsYXkgPiBwb2tlRGVsYXkpIGNsb2NrU2tldyAtPSBkZWxheSwgY2xvY2tMYXN0ID0gbm93OwogIH0KICBmdW5jdGlvbiBuYXAoKSB7CiAgICB2YXIgdDAsCiAgICAgIHQxID0gdGFza0hlYWQsCiAgICAgIHQyLAogICAgICB0aW1lID0gSW5maW5pdHk7CiAgICB3aGlsZSAodDEpIHsKICAgICAgaWYgKHQxLl9jYWxsKSB7CiAgICAgICAgaWYgKHRpbWUgPiB0MS5fdGltZSkgdGltZSA9IHQxLl90aW1lOwogICAgICAgIHQwID0gdDEsIHQxID0gdDEuX25leHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdDIgPSB0MS5fbmV4dCwgdDEuX25leHQgPSBudWxsOwogICAgICAgIHQxID0gdDAgPyB0MC5fbmV4dCA9IHQyIDogdGFza0hlYWQgPSB0MjsKICAgICAgfQogICAgfQogICAgdGFza1RhaWwgPSB0MDsKICAgIHNsZWVwKHRpbWUpOwogIH0KICBmdW5jdGlvbiBzbGVlcCh0aW1lKSB7CiAgICBpZiAoZnJhbWUpIHJldHVybjsgLy8gU29vbmVzdCBhbGFybSBhbHJlYWR5IHNldCwgb3Igd2lsbCBiZS4KICAgIGlmICh0aW1lb3V0JDEpIHRpbWVvdXQkMSA9IGNsZWFyVGltZW91dCh0aW1lb3V0JDEpOwogICAgdmFyIGRlbGF5ID0gdGltZSAtIGNsb2NrTm93OyAvLyBTdHJpY3RseSBsZXNzIHRoYW4gaWYgd2UgcmVjb21wdXRlZCBjbG9ja05vdy4KICAgIGlmIChkZWxheSA+IDI0KSB7CiAgICAgIGlmICh0aW1lIDwgSW5maW5pdHkpIHRpbWVvdXQkMSA9IHNldFRpbWVvdXQod2FrZSwgdGltZSAtIGNsb2NrLm5vdygpIC0gY2xvY2tTa2V3KTsKICAgICAgaWYgKGludGVydmFsKSBpbnRlcnZhbCA9IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpOwogICAgfSBlbHNlIHsKICAgICAgaWYgKCFpbnRlcnZhbCkgY2xvY2tMYXN0ID0gY2xvY2subm93KCksIGludGVydmFsID0gc2V0SW50ZXJ2YWwocG9rZSwgcG9rZURlbGF5KTsKICAgICAgZnJhbWUgPSAxLCBzZXRGcmFtZSh3YWtlKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHRpbWVvdXQgKGNhbGxiYWNrLCBkZWxheSwgdGltZSkgewogICAgdmFyIHQgPSBuZXcgVGltZXIoKTsKICAgIGRlbGF5ID0gZGVsYXkgPT0gbnVsbCA/IDAgOiArZGVsYXk7CiAgICB0LnJlc3RhcnQoZWxhcHNlZCA9PiB7CiAgICAgIHQuc3RvcCgpOwogICAgICBjYWxsYmFjayhlbGFwc2VkICsgZGVsYXkpOwogICAgfSwgZGVsYXksIHRpbWUpOwogICAgcmV0dXJuIHQ7CiAgfQoKICB2YXIgZW1wdHlPbiA9IGRpc3BhdGNoKCJzdGFydCIsICJlbmQiLCAiY2FuY2VsIiwgImludGVycnVwdCIpOwogIHZhciBlbXB0eVR3ZWVuID0gW107CiAgdmFyIENSRUFURUQgPSAwOwogIHZhciBTQ0hFRFVMRUQgPSAxOwogIHZhciBTVEFSVElORyA9IDI7CiAgdmFyIFNUQVJURUQgPSAzOwogIHZhciBSVU5OSU5HID0gNDsKICB2YXIgRU5ESU5HID0gNTsKICB2YXIgRU5ERUQgPSA2OwogIGZ1bmN0aW9uIHNjaGVkdWxlIChub2RlLCBuYW1lLCBpZCwgaW5kZXgsIGdyb3VwLCB0aW1pbmcpIHsKICAgIHZhciBzY2hlZHVsZXMgPSBub2RlLl9fdHJhbnNpdGlvbjsKICAgIGlmICghc2NoZWR1bGVzKSBub2RlLl9fdHJhbnNpdGlvbiA9IHt9O2Vsc2UgaWYgKGlkIGluIHNjaGVkdWxlcykgcmV0dXJuOwogICAgY3JlYXRlKG5vZGUsIGlkLCB7CiAgICAgIG5hbWU6IG5hbWUsCiAgICAgIGluZGV4OiBpbmRleCwKICAgICAgLy8gRm9yIGNvbnRleHQgZHVyaW5nIGNhbGxiYWNrLgogICAgICBncm91cDogZ3JvdXAsCiAgICAgIC8vIEZvciBjb250ZXh0IGR1cmluZyBjYWxsYmFjay4KICAgICAgb246IGVtcHR5T24sCiAgICAgIHR3ZWVuOiBlbXB0eVR3ZWVuLAogICAgICB0aW1lOiB0aW1pbmcudGltZSwKICAgICAgZGVsYXk6IHRpbWluZy5kZWxheSwKICAgICAgZHVyYXRpb246IHRpbWluZy5kdXJhdGlvbiwKICAgICAgZWFzZTogdGltaW5nLmVhc2UsCiAgICAgIHRpbWVyOiBudWxsLAogICAgICBzdGF0ZTogQ1JFQVRFRAogICAgfSk7CiAgfQogIGZ1bmN0aW9uIGluaXQobm9kZSwgaWQpIHsKICAgIHZhciBzY2hlZHVsZSA9IGdldChub2RlLCBpZCk7CiAgICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBDUkVBVEVEKSB0aHJvdyBuZXcgRXJyb3IoInRvbyBsYXRlOyBhbHJlYWR5IHNjaGVkdWxlZCIpOwogICAgcmV0dXJuIHNjaGVkdWxlOwogIH0KICBmdW5jdGlvbiBzZXQobm9kZSwgaWQpIHsKICAgIHZhciBzY2hlZHVsZSA9IGdldChub2RlLCBpZCk7CiAgICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBTVEFSVEVEKSB0aHJvdyBuZXcgRXJyb3IoInRvbyBsYXRlOyBhbHJlYWR5IHJ1bm5pbmciKTsKICAgIHJldHVybiBzY2hlZHVsZTsKICB9CiAgZnVuY3Rpb24gZ2V0KG5vZGUsIGlkKSB7CiAgICB2YXIgc2NoZWR1bGUgPSBub2RlLl9fdHJhbnNpdGlvbjsKICAgIGlmICghc2NoZWR1bGUgfHwgIShzY2hlZHVsZSA9IHNjaGVkdWxlW2lkXSkpIHRocm93IG5ldyBFcnJvcigidHJhbnNpdGlvbiBub3QgZm91bmQiKTsKICAgIHJldHVybiBzY2hlZHVsZTsKICB9CiAgZnVuY3Rpb24gY3JlYXRlKG5vZGUsIGlkLCBzZWxmKSB7CiAgICB2YXIgc2NoZWR1bGVzID0gbm9kZS5fX3RyYW5zaXRpb24sCiAgICAgIHR3ZWVuOwoKICAgIC8vIEluaXRpYWxpemUgdGhlIHNlbGYgdGltZXIgd2hlbiB0aGUgdHJhbnNpdGlvbiBpcyBjcmVhdGVkLgogICAgLy8gTm90ZSB0aGUgYWN0dWFsIGRlbGF5IGlzIG5vdCBrbm93biB1bnRpbCB0aGUgZmlyc3QgY2FsbGJhY2shCiAgICBzY2hlZHVsZXNbaWRdID0gc2VsZjsKICAgIHNlbGYudGltZXIgPSB0aW1lcihzY2hlZHVsZSwgMCwgc2VsZi50aW1lKTsKICAgIGZ1bmN0aW9uIHNjaGVkdWxlKGVsYXBzZWQpIHsKICAgICAgc2VsZi5zdGF0ZSA9IFNDSEVEVUxFRDsKICAgICAgc2VsZi50aW1lci5yZXN0YXJ0KHN0YXJ0LCBzZWxmLmRlbGF5LCBzZWxmLnRpbWUpOwoKICAgICAgLy8gSWYgdGhlIGVsYXBzZWQgZGVsYXkgaXMgbGVzcyB0aGFuIG91ciBmaXJzdCBzbGVlcCwgc3RhcnQgaW1tZWRpYXRlbHkuCiAgICAgIGlmIChzZWxmLmRlbGF5IDw9IGVsYXBzZWQpIHN0YXJ0KGVsYXBzZWQgLSBzZWxmLmRlbGF5KTsKICAgIH0KICAgIGZ1bmN0aW9uIHN0YXJ0KGVsYXBzZWQpIHsKICAgICAgdmFyIGksIGosIG4sIG87CgogICAgICAvLyBJZiB0aGUgc3RhdGUgaXMgbm90IFNDSEVEVUxFRCwgdGhlbiB3ZSBwcmV2aW91c2x5IGVycm9yZWQgb24gc3RhcnQuCiAgICAgIGlmIChzZWxmLnN0YXRlICE9PSBTQ0hFRFVMRUQpIHJldHVybiBzdG9wKCk7CiAgICAgIGZvciAoaSBpbiBzY2hlZHVsZXMpIHsKICAgICAgICBvID0gc2NoZWR1bGVzW2ldOwogICAgICAgIGlmIChvLm5hbWUgIT09IHNlbGYubmFtZSkgY29udGludWU7CgogICAgICAgIC8vIFdoaWxlIHRoaXMgZWxlbWVudCBhbHJlYWR5IGhhcyBhIHN0YXJ0aW5nIHRyYW5zaXRpb24gZHVyaW5nIHRoaXMgZnJhbWUsCiAgICAgICAgLy8gZGVmZXIgc3RhcnRpbmcgYW4gaW50ZXJydXB0aW5nIHRyYW5zaXRpb24gdW50aWwgdGhhdCB0cmFuc2l0aW9uIGhhcyBhCiAgICAgICAgLy8gY2hhbmNlIHRvIHRpY2sgKGFuZCBwb3NzaWJseSBlbmQpOyBzZWUgZDMvZDMtdHJhbnNpdGlvbiM1NCEKICAgICAgICBpZiAoby5zdGF0ZSA9PT0gU1RBUlRFRCkgcmV0dXJuIHRpbWVvdXQoc3RhcnQpOwoKICAgICAgICAvLyBJbnRlcnJ1cHQgdGhlIGFjdGl2ZSB0cmFuc2l0aW9uLCBpZiBhbnkuCiAgICAgICAgaWYgKG8uc3RhdGUgPT09IFJVTk5JTkcpIHsKICAgICAgICAgIG8uc3RhdGUgPSBFTkRFRDsKICAgICAgICAgIG8udGltZXIuc3RvcCgpOwogICAgICAgICAgby5vbi5jYWxsKCJpbnRlcnJ1cHQiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBvLmluZGV4LCBvLmdyb3VwKTsKICAgICAgICAgIGRlbGV0ZSBzY2hlZHVsZXNbaV07CiAgICAgICAgfQoKICAgICAgICAvLyBDYW5jZWwgYW55IHByZS1lbXB0ZWQgdHJhbnNpdGlvbnMuCiAgICAgICAgZWxzZSBpZiAoK2kgPCBpZCkgewogICAgICAgICAgby5zdGF0ZSA9IEVOREVEOwogICAgICAgICAgby50aW1lci5zdG9wKCk7CiAgICAgICAgICBvLm9uLmNhbGwoImNhbmNlbCIsIG5vZGUsIG5vZGUuX19kYXRhX18sIG8uaW5kZXgsIG8uZ3JvdXApOwogICAgICAgICAgZGVsZXRlIHNjaGVkdWxlc1tpXTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIERlZmVyIHRoZSBmaXJzdCB0aWNrIHRvIGVuZCBvZiB0aGUgY3VycmVudCBmcmFtZTsgc2VlIGQzL2QzIzE1NzYuCiAgICAgIC8vIE5vdGUgdGhlIHRyYW5zaXRpb24gbWF5IGJlIGNhbmNlbGVkIGFmdGVyIHN0YXJ0IGFuZCBiZWZvcmUgdGhlIGZpcnN0IHRpY2shCiAgICAgIC8vIE5vdGUgdGhpcyBtdXN0IGJlIHNjaGVkdWxlZCBiZWZvcmUgdGhlIHN0YXJ0IGV2ZW50OyBzZWUgZDMvZDMtdHJhbnNpdGlvbiMxNiEKICAgICAgLy8gQXNzdW1pbmcgdGhpcyBpcyBzdWNjZXNzZnVsLCBzdWJzZXF1ZW50IGNhbGxiYWNrcyBnbyBzdHJhaWdodCB0byB0aWNrLgogICAgICB0aW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gU1RBUlRFRCkgewogICAgICAgICAgc2VsZi5zdGF0ZSA9IFJVTk5JTkc7CiAgICAgICAgICBzZWxmLnRpbWVyLnJlc3RhcnQodGljaywgc2VsZi5kZWxheSwgc2VsZi50aW1lKTsKICAgICAgICAgIHRpY2soZWxhcHNlZCk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIC8vIERpc3BhdGNoIHRoZSBzdGFydCBldmVudC4KICAgICAgLy8gTm90ZSB0aGlzIG11c3QgYmUgZG9uZSBiZWZvcmUgdGhlIHR3ZWVuIGFyZSBpbml0aWFsaXplZC4KICAgICAgc2VsZi5zdGF0ZSA9IFNUQVJUSU5HOwogICAgICBzZWxmLm9uLmNhbGwoInN0YXJ0Iiwgbm9kZSwgbm9kZS5fX2RhdGFfXywgc2VsZi5pbmRleCwgc2VsZi5ncm91cCk7CiAgICAgIGlmIChzZWxmLnN0YXRlICE9PSBTVEFSVElORykgcmV0dXJuOyAvLyBpbnRlcnJ1cHRlZAogICAgICBzZWxmLnN0YXRlID0gU1RBUlRFRDsKCiAgICAgIC8vIEluaXRpYWxpemUgdGhlIHR3ZWVuLCBkZWxldGluZyBudWxsIHR3ZWVuLgogICAgICB0d2VlbiA9IG5ldyBBcnJheShuID0gc2VsZi50d2Vlbi5sZW5ndGgpOwogICAgICBmb3IgKGkgPSAwLCBqID0gLTE7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAobyA9IHNlbGYudHdlZW5baV0udmFsdWUuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKSkgewogICAgICAgICAgdHdlZW5bKytqXSA9IG87CiAgICAgICAgfQogICAgICB9CiAgICAgIHR3ZWVuLmxlbmd0aCA9IGogKyAxOwogICAgfQogICAgZnVuY3Rpb24gdGljayhlbGFwc2VkKSB7CiAgICAgIHZhciB0ID0gZWxhcHNlZCA8IHNlbGYuZHVyYXRpb24gPyBzZWxmLmVhc2UuY2FsbChudWxsLCBlbGFwc2VkIC8gc2VsZi5kdXJhdGlvbikgOiAoc2VsZi50aW1lci5yZXN0YXJ0KHN0b3ApLCBzZWxmLnN0YXRlID0gRU5ESU5HLCAxKSwKICAgICAgICBpID0gLTEsCiAgICAgICAgbiA9IHR3ZWVuLmxlbmd0aDsKICAgICAgd2hpbGUgKCsraSA8IG4pIHsKICAgICAgICB0d2VlbltpXS5jYWxsKG5vZGUsIHQpOwogICAgICB9CgogICAgICAvLyBEaXNwYXRjaCB0aGUgZW5kIGV2ZW50LgogICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gRU5ESU5HKSB7CiAgICAgICAgc2VsZi5vbi5jYWxsKCJlbmQiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKTsKICAgICAgICBzdG9wKCk7CiAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIHN0b3AoKSB7CiAgICAgIHNlbGYuc3RhdGUgPSBFTkRFRDsKICAgICAgc2VsZi50aW1lci5zdG9wKCk7CiAgICAgIGRlbGV0ZSBzY2hlZHVsZXNbaWRdOwogICAgICBmb3IgKHZhciBpIGluIHNjaGVkdWxlcykgcmV0dXJuOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCiAgICAgIGRlbGV0ZSBub2RlLl9fdHJhbnNpdGlvbjsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGludGVycnVwdCAobm9kZSwgbmFtZSkgewogICAgdmFyIHNjaGVkdWxlcyA9IG5vZGUuX190cmFuc2l0aW9uLAogICAgICBzY2hlZHVsZSwKICAgICAgYWN0aXZlLAogICAgICBlbXB0eSA9IHRydWUsCiAgICAgIGk7CiAgICBpZiAoIXNjaGVkdWxlcykgcmV0dXJuOwogICAgbmFtZSA9IG5hbWUgPT0gbnVsbCA/IG51bGwgOiBuYW1lICsgIiI7CiAgICBmb3IgKGkgaW4gc2NoZWR1bGVzKSB7CiAgICAgIGlmICgoc2NoZWR1bGUgPSBzY2hlZHVsZXNbaV0pLm5hbWUgIT09IG5hbWUpIHsKICAgICAgICBlbXB0eSA9IGZhbHNlOwogICAgICAgIGNvbnRpbnVlOwogICAgICB9CiAgICAgIGFjdGl2ZSA9IHNjaGVkdWxlLnN0YXRlID4gU1RBUlRJTkcgJiYgc2NoZWR1bGUuc3RhdGUgPCBFTkRJTkc7CiAgICAgIHNjaGVkdWxlLnN0YXRlID0gRU5ERUQ7CiAgICAgIHNjaGVkdWxlLnRpbWVyLnN0b3AoKTsKICAgICAgc2NoZWR1bGUub24uY2FsbChhY3RpdmUgPyAiaW50ZXJydXB0IiA6ICJjYW5jZWwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzY2hlZHVsZS5pbmRleCwgc2NoZWR1bGUuZ3JvdXApOwogICAgICBkZWxldGUgc2NoZWR1bGVzW2ldOwogICAgfQogICAgaWYgKGVtcHR5KSBkZWxldGUgbm9kZS5fX3RyYW5zaXRpb247CiAgfQoKICBmdW5jdGlvbiBzZWxlY3Rpb25faW50ZXJydXB0IChuYW1lKSB7CiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgaW50ZXJydXB0KHRoaXMsIG5hbWUpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB0d2VlblJlbW92ZShpZCwgbmFtZSkgewogICAgdmFyIHR3ZWVuMCwgdHdlZW4xOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSwKICAgICAgICB0d2VlbiA9IHNjaGVkdWxlLnR3ZWVuOwoKICAgICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCB0d2VlbiB3aXRoIHRoZSBwcmV2aW91cyBub2RlLAogICAgICAvLyBqdXN0IGFzc2lnbiB0aGUgdXBkYXRlZCBzaGFyZWQgdHdlZW4gYW5kIHdl4oCZcmUgZG9uZSEKICAgICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLgogICAgICBpZiAodHdlZW4gIT09IHR3ZWVuMCkgewogICAgICAgIHR3ZWVuMSA9IHR3ZWVuMCA9IHR3ZWVuOwogICAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHdlZW4xLmxlbmd0aDsgaSA8IG47ICsraSkgewogICAgICAgICAgaWYgKHR3ZWVuMVtpXS5uYW1lID09PSBuYW1lKSB7CiAgICAgICAgICAgIHR3ZWVuMSA9IHR3ZWVuMS5zbGljZSgpOwogICAgICAgICAgICB0d2VlbjEuc3BsaWNlKGksIDEpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgc2NoZWR1bGUudHdlZW4gPSB0d2VlbjE7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0d2VlbkZ1bmN0aW9uKGlkLCBuYW1lLCB2YWx1ZSkgewogICAgdmFyIHR3ZWVuMCwgdHdlZW4xOwogICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLAogICAgICAgIHR3ZWVuID0gc2NoZWR1bGUudHdlZW47CgogICAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIHR3ZWVuIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsCiAgICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCB0d2VlbiBhbmQgd2XigJlyZSBkb25lIQogICAgICAvLyBPdGhlcndpc2UsIGNvcHktb24td3JpdGUuCiAgICAgIGlmICh0d2VlbiAhPT0gdHdlZW4wKSB7CiAgICAgICAgdHdlZW4xID0gKHR3ZWVuMCA9IHR3ZWVuKS5zbGljZSgpOwogICAgICAgIGZvciAodmFyIHQgPSB7CiAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgfSwgaSA9IDAsIG4gPSB0d2VlbjEubGVuZ3RoOyBpIDwgbjsgKytpKSB7CiAgICAgICAgICBpZiAodHdlZW4xW2ldLm5hbWUgPT09IG5hbWUpIHsKICAgICAgICAgICAgdHdlZW4xW2ldID0gdDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChpID09PSBuKSB0d2VlbjEucHVzaCh0KTsKICAgICAgfQogICAgICBzY2hlZHVsZS50d2VlbiA9IHR3ZWVuMTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHRyYW5zaXRpb25fdHdlZW4gKG5hbWUsIHZhbHVlKSB7CiAgICB2YXIgaWQgPSB0aGlzLl9pZDsKICAgIG5hbWUgKz0gIiI7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHsKICAgICAgdmFyIHR3ZWVuID0gZ2V0KHRoaXMubm9kZSgpLCBpZCkudHdlZW47CiAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHdlZW4ubGVuZ3RoLCB0OyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKCh0ID0gdHdlZW5baV0pLm5hbWUgPT09IG5hbWUpIHsKICAgICAgICAgIHJldHVybiB0LnZhbHVlOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIHJldHVybiB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyB0d2VlblJlbW92ZSA6IHR3ZWVuRnVuY3Rpb24pKGlkLCBuYW1lLCB2YWx1ZSkpOwogIH0KICBmdW5jdGlvbiB0d2VlblZhbHVlKHRyYW5zaXRpb24sIG5hbWUsIHZhbHVlKSB7CiAgICB2YXIgaWQgPSB0cmFuc2l0aW9uLl9pZDsKICAgIHRyYW5zaXRpb24uZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzY2hlZHVsZSA9IHNldCh0aGlzLCBpZCk7CiAgICAgIChzY2hlZHVsZS52YWx1ZSB8fCAoc2NoZWR1bGUudmFsdWUgPSB7fSkpW25hbWVdID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0pOwogICAgcmV0dXJuIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgIHJldHVybiBnZXQobm9kZSwgaWQpLnZhbHVlW25hbWVdOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIGludGVycG9sYXRlIChhLCBiKSB7CiAgICB2YXIgYzsKICAgIHJldHVybiAodHlwZW9mIGIgPT09ICJudW1iZXIiID8gaW50ZXJwb2xhdGVOdW1iZXIgOiBiIGluc3RhbmNlb2YgY29sb3IgPyBpbnRlcnBvbGF0ZVJnYiA6IChjID0gY29sb3IoYikpID8gKGIgPSBjLCBpbnRlcnBvbGF0ZVJnYikgOiBpbnRlcnBvbGF0ZVN0cmluZykoYSwgYik7CiAgfQoKICBmdW5jdGlvbiBhdHRyUmVtb3ZlKG5hbWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0clJlbW92ZU5TKGZ1bGxuYW1lKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyQ29uc3RhbnQobmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkgewogICAgdmFyIHN0cmluZzAwLAogICAgICBzdHJpbmcxID0gdmFsdWUxICsgIiIsCiAgICAgIGludGVycG9sYXRlMDsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGUobmFtZSk7CiAgICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbCA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0ckNvbnN0YW50TlMoZnVsbG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZTEpIHsKICAgIHZhciBzdHJpbmcwMCwKICAgICAgc3RyaW5nMSA9IHZhbHVlMSArICIiLAogICAgICBpbnRlcnBvbGF0ZTA7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgPyBpbnRlcnBvbGF0ZTAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBhdHRyRnVuY3Rpb24obmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlKSB7CiAgICB2YXIgc3RyaW5nMDAsIHN0cmluZzEwLCBpbnRlcnBvbGF0ZTA7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgc3RyaW5nMCwKICAgICAgICB2YWx1ZTEgPSB2YWx1ZSh0aGlzKSwKICAgICAgICBzdHJpbmcxOwogICAgICBpZiAodmFsdWUxID09IG51bGwpIHJldHVybiB2b2lkIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwogICAgICBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGUobmFtZSk7CiAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyAiIjsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTAgOiAoc3RyaW5nMTAgPSBzdHJpbmcxLCBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0ckZ1bmN0aW9uTlMoZnVsbG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkgewogICAgdmFyIHN0cmluZzAwLCBzdHJpbmcxMCwgaW50ZXJwb2xhdGUwOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHN0cmluZzAsCiAgICAgICAgdmFsdWUxID0gdmFsdWUodGhpcyksCiAgICAgICAgc3RyaW5nMTsKICAgICAgaWYgKHZhbHVlMSA9PSBudWxsKSByZXR1cm4gdm9pZCB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICAgIHN0cmluZzAgPSB0aGlzLmdldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7CiAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyAiIjsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTAgOiAoc3RyaW5nMTAgPSBzdHJpbmcxLCBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9hdHRyIChuYW1lLCB2YWx1ZSkgewogICAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpLAogICAgICBpID0gZnVsbG5hbWUgPT09ICJ0cmFuc2Zvcm0iID8gaW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmcgOiBpbnRlcnBvbGF0ZTsKICAgIHJldHVybiB0aGlzLmF0dHJUd2VlbihuYW1lLCB0eXBlb2YgdmFsdWUgPT09ICJmdW5jdGlvbiIgPyAoZnVsbG5hbWUubG9jYWwgPyBhdHRyRnVuY3Rpb25OUyA6IGF0dHJGdW5jdGlvbikoZnVsbG5hbWUsIGksIHR3ZWVuVmFsdWUodGhpcywgImF0dHIuIiArIG5hbWUsIHZhbHVlKSkgOiB2YWx1ZSA9PSBudWxsID8gKGZ1bGxuYW1lLmxvY2FsID8gYXR0clJlbW92ZU5TIDogYXR0clJlbW92ZSkoZnVsbG5hbWUpIDogKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckNvbnN0YW50TlMgOiBhdHRyQ29uc3RhbnQpKGZ1bGxuYW1lLCBpLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gYXR0ckludGVycG9sYXRlKG5hbWUsIGkpIHsKICAgIHJldHVybiBmdW5jdGlvbiAodCkgewogICAgICB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCBpLmNhbGwodGhpcywgdCkpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gYXR0ckludGVycG9sYXRlTlMoZnVsbG5hbWUsIGkpIHsKICAgIHJldHVybiBmdW5jdGlvbiAodCkgewogICAgICB0aGlzLnNldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCwgaS5jYWxsKHRoaXMsIHQpKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIGF0dHJUd2Vlbk5TKGZ1bGxuYW1lLCB2YWx1ZSkgewogICAgdmFyIHQwLCBpMDsKICAgIGZ1bmN0aW9uIHR3ZWVuKCkgewogICAgICB2YXIgaSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmIChpICE9PSBpMCkgdDAgPSAoaTAgPSBpKSAmJiBhdHRySW50ZXJwb2xhdGVOUyhmdWxsbmFtZSwgaSk7CiAgICAgIHJldHVybiB0MDsKICAgIH0KICAgIHR3ZWVuLl92YWx1ZSA9IHZhbHVlOwogICAgcmV0dXJuIHR3ZWVuOwogIH0KICBmdW5jdGlvbiBhdHRyVHdlZW4obmFtZSwgdmFsdWUpIHsKICAgIHZhciB0MCwgaTA7CiAgICBmdW5jdGlvbiB0d2VlbigpIHsKICAgICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAoaSAhPT0gaTApIHQwID0gKGkwID0gaSkgJiYgYXR0ckludGVycG9sYXRlKG5hbWUsIGkpOwogICAgICByZXR1cm4gdDA7CiAgICB9CiAgICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTsKICAgIHJldHVybiB0d2VlbjsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9hdHRyVHdlZW4gKG5hbWUsIHZhbHVlKSB7CiAgICB2YXIga2V5ID0gImF0dHIuIiArIG5hbWU7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiAoa2V5ID0gdGhpcy50d2VlbihrZXkpKSAmJiBrZXkuX3ZhbHVlOwogICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgbnVsbCk7CiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAiZnVuY3Rpb24iKSB0aHJvdyBuZXcgRXJyb3IoKTsKICAgIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTsKICAgIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgKGZ1bGxuYW1lLmxvY2FsID8gYXR0clR3ZWVuTlMgOiBhdHRyVHdlZW4pKGZ1bGxuYW1lLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gZGVsYXlGdW5jdGlvbihpZCwgdmFsdWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIGluaXQodGhpcywgaWQpLmRlbGF5ID0gK3ZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBkZWxheUNvbnN0YW50KGlkLCB2YWx1ZSkgewogICAgcmV0dXJuIHZhbHVlID0gK3ZhbHVlLCBmdW5jdGlvbiAoKSB7CiAgICAgIGluaXQodGhpcywgaWQpLmRlbGF5ID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX2RlbGF5ICh2YWx1ZSkgewogICAgdmFyIGlkID0gdGhpcy5faWQ7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gZGVsYXlGdW5jdGlvbiA6IGRlbGF5Q29uc3RhbnQpKGlkLCB2YWx1ZSkpIDogZ2V0KHRoaXMubm9kZSgpLCBpZCkuZGVsYXk7CiAgfQoKICBmdW5jdGlvbiBkdXJhdGlvbkZ1bmN0aW9uKGlkLCB2YWx1ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgc2V0KHRoaXMsIGlkKS5kdXJhdGlvbiA9ICt2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gZHVyYXRpb25Db25zdGFudChpZCwgdmFsdWUpIHsKICAgIHJldHVybiB2YWx1ZSA9ICt2YWx1ZSwgZnVuY3Rpb24gKCkgewogICAgICBzZXQodGhpcywgaWQpLmR1cmF0aW9uID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX2R1cmF0aW9uICh2YWx1ZSkgewogICAgdmFyIGlkID0gdGhpcy5faWQ7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gZHVyYXRpb25GdW5jdGlvbiA6IGR1cmF0aW9uQ29uc3RhbnQpKGlkLCB2YWx1ZSkpIDogZ2V0KHRoaXMubm9kZSgpLCBpZCkuZHVyYXRpb247CiAgfQoKICBmdW5jdGlvbiBlYXNlQ29uc3RhbnQoaWQsIHZhbHVlKSB7CiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAiZnVuY3Rpb24iKSB0aHJvdyBuZXcgRXJyb3IoKTsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHNldCh0aGlzLCBpZCkuZWFzZSA9IHZhbHVlOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9lYXNlICh2YWx1ZSkgewogICAgdmFyIGlkID0gdGhpcy5faWQ7CiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMuZWFjaChlYXNlQ29uc3RhbnQoaWQsIHZhbHVlKSkgOiBnZXQodGhpcy5ub2RlKCksIGlkKS5lYXNlOwogIH0KCiAgZnVuY3Rpb24gZWFzZVZhcnlpbmcoaWQsIHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIGlmICh0eXBlb2YgdiAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICAgIHNldCh0aGlzLCBpZCkuZWFzZSA9IHY7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX2Vhc2VWYXJ5aW5nICh2YWx1ZSkgewogICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICByZXR1cm4gdGhpcy5lYWNoKGVhc2VWYXJ5aW5nKHRoaXMuX2lkLCB2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9maWx0ZXIgKG1hdGNoKSB7CiAgICBpZiAodHlwZW9mIG1hdGNoICE9PSAiZnVuY3Rpb24iKSBtYXRjaCA9IG1hdGNoZXIobWF0Y2gpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBbXSwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAoKG5vZGUgPSBncm91cFtpXSkgJiYgbWF0Y2guY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCkpIHsKICAgICAgICAgIHN1Ymdyb3VwLnB1c2gobm9kZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gbmV3IFRyYW5zaXRpb24oc3ViZ3JvdXBzLCB0aGlzLl9wYXJlbnRzLCB0aGlzLl9uYW1lLCB0aGlzLl9pZCk7CiAgfQoKICBmdW5jdGlvbiB0cmFuc2l0aW9uX21lcmdlICh0cmFuc2l0aW9uKSB7CiAgICBpZiAodHJhbnNpdGlvbi5faWQgIT09IHRoaXMuX2lkKSB0aHJvdyBuZXcgRXJyb3IoKTsKICAgIGZvciAodmFyIGdyb3VwczAgPSB0aGlzLl9ncm91cHMsIGdyb3VwczEgPSB0cmFuc2l0aW9uLl9ncm91cHMsIG0wID0gZ3JvdXBzMC5sZW5ndGgsIG0xID0gZ3JvdXBzMS5sZW5ndGgsIG0gPSBNYXRoLm1pbihtMCwgbTEpLCBtZXJnZXMgPSBuZXcgQXJyYXkobTApLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cDBbaV0gfHwgZ3JvdXAxW2ldKSB7CiAgICAgICAgICBtZXJnZVtpXSA9IG5vZGU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBmb3IgKDsgaiA8IG0wOyArK2opIHsKICAgICAgbWVyZ2VzW2pdID0gZ3JvdXBzMFtqXTsKICAgIH0KICAgIHJldHVybiBuZXcgVHJhbnNpdGlvbihtZXJnZXMsIHRoaXMuX3BhcmVudHMsIHRoaXMuX25hbWUsIHRoaXMuX2lkKTsKICB9CgogIGZ1bmN0aW9uIHN0YXJ0KG5hbWUpIHsKICAgIHJldHVybiAobmFtZSArICIiKS50cmltKCkuc3BsaXQoL158XHMrLykuZXZlcnkoZnVuY3Rpb24gKHQpIHsKICAgICAgdmFyIGkgPSB0LmluZGV4T2YoIi4iKTsKICAgICAgaWYgKGkgPj0gMCkgdCA9IHQuc2xpY2UoMCwgaSk7CiAgICAgIHJldHVybiAhdCB8fCB0ID09PSAic3RhcnQiOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIG9uRnVuY3Rpb24oaWQsIG5hbWUsIGxpc3RlbmVyKSB7CiAgICB2YXIgb24wLAogICAgICBvbjEsCiAgICAgIHNpdCA9IHN0YXJ0KG5hbWUpID8gaW5pdCA6IHNldDsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzY2hlZHVsZSA9IHNpdCh0aGlzLCBpZCksCiAgICAgICAgb24gPSBzY2hlZHVsZS5vbjsKCiAgICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgYSBkaXNwYXRjaCB3aXRoIHRoZSBwcmV2aW91cyBub2RlLAogICAgICAvLyBqdXN0IGFzc2lnbiB0aGUgdXBkYXRlZCBzaGFyZWQgZGlzcGF0Y2ggYW5kIHdl4oCZcmUgZG9uZSEKICAgICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLgogICAgICBpZiAob24gIT09IG9uMCkgKG9uMSA9IChvbjAgPSBvbikuY29weSgpKS5vbihuYW1lLCBsaXN0ZW5lcik7CiAgICAgIHNjaGVkdWxlLm9uID0gb24xOwogICAgfTsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9vbiAobmFtZSwgbGlzdGVuZXIpIHsKICAgIHZhciBpZCA9IHRoaXMuX2lkOwogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZ2V0KHRoaXMubm9kZSgpLCBpZCkub24ub24obmFtZSkgOiB0aGlzLmVhY2gob25GdW5jdGlvbihpZCwgbmFtZSwgbGlzdGVuZXIpKTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZUZ1bmN0aW9uKGlkKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlOwogICAgICBmb3IgKHZhciBpIGluIHRoaXMuX190cmFuc2l0aW9uKSBpZiAoK2kgIT09IGlkKSByZXR1cm47CiAgICAgIGlmIChwYXJlbnQpIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHRyYW5zaXRpb25fcmVtb3ZlICgpIHsKICAgIHJldHVybiB0aGlzLm9uKCJlbmQucmVtb3ZlIiwgcmVtb3ZlRnVuY3Rpb24odGhpcy5faWQpKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zaXRpb25fc2VsZWN0IChzZWxlY3QpIHsKICAgIHZhciBuYW1lID0gdGhpcy5fbmFtZSwKICAgICAgaWQgPSB0aGlzLl9pZDsKICAgIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSAiZnVuY3Rpb24iKSBzZWxlY3QgPSBzZWxlY3RvcihzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIHN1Ym5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChzdWJub2RlID0gc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSkgewogICAgICAgICAgaWYgKCJfX2RhdGFfXyIgaW4gbm9kZSkgc3Vibm9kZS5fX2RhdGFfXyA9IG5vZGUuX19kYXRhX187CiAgICAgICAgICBzdWJncm91cFtpXSA9IHN1Ym5vZGU7CiAgICAgICAgICBzY2hlZHVsZShzdWJncm91cFtpXSwgbmFtZSwgaWQsIGksIHN1Ymdyb3VwLCBnZXQobm9kZSwgaWQpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBuZXcgVHJhbnNpdGlvbihzdWJncm91cHMsIHRoaXMuX3BhcmVudHMsIG5hbWUsIGlkKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zaXRpb25fc2VsZWN0QWxsIChzZWxlY3QpIHsKICAgIHZhciBuYW1lID0gdGhpcy5fbmFtZSwKICAgICAgaWQgPSB0aGlzLl9pZDsKICAgIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSAiZnVuY3Rpb24iKSBzZWxlY3QgPSBzZWxlY3RvckFsbChzZWxlY3QpOwogICAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gW10sIHBhcmVudHMgPSBbXSwgaiA9IDA7IGogPCBtOyArK2opIHsKICAgICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgewogICAgICAgICAgZm9yICh2YXIgY2hpbGRyZW4gPSBzZWxlY3QuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCksIGNoaWxkLCBpbmhlcml0ID0gZ2V0KG5vZGUsIGlkKSwgayA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGsgPCBsOyArK2spIHsKICAgICAgICAgICAgaWYgKGNoaWxkID0gY2hpbGRyZW5ba10pIHsKICAgICAgICAgICAgICBzY2hlZHVsZShjaGlsZCwgbmFtZSwgaWQsIGssIGNoaWxkcmVuLCBpbmhlcml0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgc3ViZ3JvdXBzLnB1c2goY2hpbGRyZW4pOwogICAgICAgICAgcGFyZW50cy5wdXNoKG5vZGUpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKHN1Ymdyb3VwcywgcGFyZW50cywgbmFtZSwgaWQpOwogIH0KCiAgdmFyIFNlbGVjdGlvbiA9IHNlbGVjdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3I7CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9zZWxlY3Rpb24gKCkgewogICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZ3JvdXBzLCB0aGlzLl9wYXJlbnRzKTsKICB9CgogIGZ1bmN0aW9uIHN0eWxlTnVsbChuYW1lLCBpbnRlcnBvbGF0ZSkgewogICAgdmFyIHN0cmluZzAwLCBzdHJpbmcxMCwgaW50ZXJwb2xhdGUwOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHN0cmluZzAgPSBzdHlsZVZhbHVlKHRoaXMsIG5hbWUpLAogICAgICAgIHN0cmluZzEgPSAodGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKSwgc3R5bGVWYWx1ZSh0aGlzLCBuYW1lKSk7CiAgICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbCA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCBzdHJpbmcxMCA9IHN0cmluZzEpOwogICAgfTsKICB9CiAgZnVuY3Rpb24gc3R5bGVSZW1vdmUobmFtZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHN0eWxlQ29uc3RhbnQobmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkgewogICAgdmFyIHN0cmluZzAwLAogICAgICBzdHJpbmcxID0gdmFsdWUxICsgIiIsCiAgICAgIGludGVycG9sYXRlMDsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzdHJpbmcwID0gc3R5bGVWYWx1ZSh0aGlzLCBuYW1lKTsKICAgICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgPyBpbnRlcnBvbGF0ZTAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZUZ1bmN0aW9uKG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkgewogICAgdmFyIHN0cmluZzAwLCBzdHJpbmcxMCwgaW50ZXJwb2xhdGUwOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHN0cmluZzAgPSBzdHlsZVZhbHVlKHRoaXMsIG5hbWUpLAogICAgICAgIHZhbHVlMSA9IHZhbHVlKHRoaXMpLAogICAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyAiIjsKICAgICAgaWYgKHZhbHVlMSA9PSBudWxsKSBzdHJpbmcxID0gdmFsdWUxID0gKHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSksIHN0eWxlVmFsdWUodGhpcywgbmFtZSkpOwogICAgICByZXR1cm4gc3RyaW5nMCA9PT0gc3RyaW5nMSA/IG51bGwgOiBzdHJpbmcwID09PSBzdHJpbmcwMCAmJiBzdHJpbmcxID09PSBzdHJpbmcxMCA/IGludGVycG9sYXRlMCA6IChzdHJpbmcxMCA9IHN0cmluZzEsIGludGVycG9sYXRlMCA9IGludGVycG9sYXRlKHN0cmluZzAwID0gc3RyaW5nMCwgdmFsdWUxKSk7CiAgICB9OwogIH0KICBmdW5jdGlvbiBzdHlsZU1heWJlUmVtb3ZlKGlkLCBuYW1lKSB7CiAgICB2YXIgb24wLAogICAgICBvbjEsCiAgICAgIGxpc3RlbmVyMCwKICAgICAga2V5ID0gInN0eWxlLiIgKyBuYW1lLAogICAgICBldmVudCA9ICJlbmQuIiArIGtleSwKICAgICAgcmVtb3ZlOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSwKICAgICAgICBvbiA9IHNjaGVkdWxlLm9uLAogICAgICAgIGxpc3RlbmVyID0gc2NoZWR1bGUudmFsdWVba2V5XSA9PSBudWxsID8gcmVtb3ZlIHx8IChyZW1vdmUgPSBzdHlsZVJlbW92ZShuYW1lKSkgOiB1bmRlZmluZWQ7CgogICAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIGEgZGlzcGF0Y2ggd2l0aCB0aGUgcHJldmlvdXMgbm9kZSwKICAgICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhCiAgICAgIC8vIE90aGVyd2lzZSwgY29weS1vbi13cml0ZS4KICAgICAgaWYgKG9uICE9PSBvbjAgfHwgbGlzdGVuZXIwICE9PSBsaXN0ZW5lcikgKG9uMSA9IChvbjAgPSBvbikuY29weSgpKS5vbihldmVudCwgbGlzdGVuZXIwID0gbGlzdGVuZXIpOwogICAgICBzY2hlZHVsZS5vbiA9IG9uMTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHRyYW5zaXRpb25fc3R5bGUgKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkgewogICAgdmFyIGkgPSAobmFtZSArPSAiIikgPT09ICJ0cmFuc2Zvcm0iID8gaW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MgOiBpbnRlcnBvbGF0ZTsKICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gdGhpcy5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlTnVsbChuYW1lLCBpKSkub24oImVuZC5zdHlsZS4iICsgbmFtZSwgc3R5bGVSZW1vdmUobmFtZSkpIDogdHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iID8gdGhpcy5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlRnVuY3Rpb24obmFtZSwgaSwgdHdlZW5WYWx1ZSh0aGlzLCAic3R5bGUuIiArIG5hbWUsIHZhbHVlKSkpLmVhY2goc3R5bGVNYXliZVJlbW92ZSh0aGlzLl9pZCwgbmFtZSkpIDogdGhpcy5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlQ29uc3RhbnQobmFtZSwgaSwgdmFsdWUpLCBwcmlvcml0eSkub24oImVuZC5zdHlsZS4iICsgbmFtZSwgbnVsbCk7CiAgfQoKICBmdW5jdGlvbiBzdHlsZUludGVycG9sYXRlKG5hbWUsIGksIHByaW9yaXR5KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHsKICAgICAgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCBpLmNhbGwodGhpcywgdCksIHByaW9yaXR5KTsKICAgIH07CiAgfQogIGZ1bmN0aW9uIHN0eWxlVHdlZW4obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7CiAgICB2YXIgdCwgaTA7CiAgICBmdW5jdGlvbiB0d2VlbigpIHsKICAgICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAoaSAhPT0gaTApIHQgPSAoaTAgPSBpKSAmJiBzdHlsZUludGVycG9sYXRlKG5hbWUsIGksIHByaW9yaXR5KTsKICAgICAgcmV0dXJuIHQ7CiAgICB9CiAgICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTsKICAgIHJldHVybiB0d2VlbjsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl9zdHlsZVR3ZWVuIChuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHsKICAgIHZhciBrZXkgPSAic3R5bGUuIiArIChuYW1lICs9ICIiKTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgcmV0dXJuIChrZXkgPSB0aGlzLnR3ZWVuKGtleSkpICYmIGtleS5fdmFsdWU7CiAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBudWxsKTsKICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICJmdW5jdGlvbiIpIHRocm93IG5ldyBFcnJvcigpOwogICAgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBzdHlsZVR3ZWVuKG5hbWUsIHZhbHVlLCBwcmlvcml0eSA9PSBudWxsID8gIiIgOiBwcmlvcml0eSkpOwogIH0KCiAgZnVuY3Rpb24gdGV4dENvbnN0YW50KHZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0ZXh0RnVuY3Rpb24odmFsdWUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB2YWx1ZTEgPSB2YWx1ZSh0aGlzKTsKICAgICAgdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlMSA9PSBudWxsID8gIiIgOiB2YWx1ZTE7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0cmFuc2l0aW9uX3RleHQgKHZhbHVlKSB7CiAgICByZXR1cm4gdGhpcy50d2VlbigidGV4dCIsIHR5cGVvZiB2YWx1ZSA9PT0gImZ1bmN0aW9uIiA/IHRleHRGdW5jdGlvbih0d2VlblZhbHVlKHRoaXMsICJ0ZXh0IiwgdmFsdWUpKSA6IHRleHRDb25zdGFudCh2YWx1ZSA9PSBudWxsID8gIiIgOiB2YWx1ZSArICIiKSk7CiAgfQoKICBmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGUoaSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgIHRoaXMudGV4dENvbnRlbnQgPSBpLmNhbGwodGhpcywgdCk7CiAgICB9OwogIH0KICBmdW5jdGlvbiB0ZXh0VHdlZW4odmFsdWUpIHsKICAgIHZhciB0MCwgaTA7CiAgICBmdW5jdGlvbiB0d2VlbigpIHsKICAgICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICBpZiAoaSAhPT0gaTApIHQwID0gKGkwID0gaSkgJiYgdGV4dEludGVycG9sYXRlKGkpOwogICAgICByZXR1cm4gdDA7CiAgICB9CiAgICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTsKICAgIHJldHVybiB0d2VlbjsKICB9CiAgZnVuY3Rpb24gdHJhbnNpdGlvbl90ZXh0VHdlZW4gKHZhbHVlKSB7CiAgICB2YXIga2V5ID0gInRleHQiOwogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxKSByZXR1cm4gKGtleSA9IHRoaXMudHdlZW4oa2V5KSkgJiYga2V5Ll92YWx1ZTsKICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gdGhpcy50d2VlbihrZXksIG51bGwpOwogICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gImZ1bmN0aW9uIikgdGhyb3cgbmV3IEVycm9yKCk7CiAgICByZXR1cm4gdGhpcy50d2VlbihrZXksIHRleHRUd2Vlbih2YWx1ZSkpOwogIH0KCiAgZnVuY3Rpb24gdHJhbnNpdGlvbl90cmFuc2l0aW9uICgpIHsKICAgIHZhciBuYW1lID0gdGhpcy5fbmFtZSwKICAgICAgaWQwID0gdGhpcy5faWQsCiAgICAgIGlkMSA9IG5ld0lkKCk7CiAgICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBqID0gMDsgaiA8IG07ICsraikgewogICAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7CiAgICAgICAgICB2YXIgaW5oZXJpdCA9IGdldChub2RlLCBpZDApOwogICAgICAgICAgc2NoZWR1bGUobm9kZSwgbmFtZSwgaWQxLCBpLCBncm91cCwgewogICAgICAgICAgICB0aW1lOiBpbmhlcml0LnRpbWUgKyBpbmhlcml0LmRlbGF5ICsgaW5oZXJpdC5kdXJhdGlvbiwKICAgICAgICAgICAgZGVsYXk6IDAsCiAgICAgICAgICAgIGR1cmF0aW9uOiBpbmhlcml0LmR1cmF0aW9uLAogICAgICAgICAgICBlYXNlOiBpbmhlcml0LmVhc2UKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKGdyb3VwcywgdGhpcy5fcGFyZW50cywgbmFtZSwgaWQxKTsKICB9CgogIGZ1bmN0aW9uIHRyYW5zaXRpb25fZW5kICgpIHsKICAgIHZhciBvbjAsCiAgICAgIG9uMSwKICAgICAgdGhhdCA9IHRoaXMsCiAgICAgIGlkID0gdGhhdC5faWQsCiAgICAgIHNpemUgPSB0aGF0LnNpemUoKTsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciBjYW5jZWwgPSB7CiAgICAgICAgICB2YWx1ZTogcmVqZWN0CiAgICAgICAgfSwKICAgICAgICBlbmQgPSB7CiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoLS1zaXplID09PSAwKSByZXNvbHZlKCk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgdGhhdC5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLAogICAgICAgICAgb24gPSBzY2hlZHVsZS5vbjsKCiAgICAgICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCBhIGRpc3BhdGNoIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsCiAgICAgICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhCiAgICAgICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLgogICAgICAgIGlmIChvbiAhPT0gb24wKSB7CiAgICAgICAgICBvbjEgPSAob24wID0gb24pLmNvcHkoKTsKICAgICAgICAgIG9uMS5fLmNhbmNlbC5wdXNoKGNhbmNlbCk7CiAgICAgICAgICBvbjEuXy5pbnRlcnJ1cHQucHVzaChjYW5jZWwpOwogICAgICAgICAgb24xLl8uZW5kLnB1c2goZW5kKTsKICAgICAgICB9CiAgICAgICAgc2NoZWR1bGUub24gPSBvbjE7CiAgICAgIH0pOwoKICAgICAgLy8gVGhlIHNlbGVjdGlvbiB3YXMgZW1wdHksIHJlc29sdmUgZW5kIGltbWVkaWF0ZWx5CiAgICAgIGlmIChzaXplID09PSAwKSByZXNvbHZlKCk7CiAgICB9KTsKICB9CgogIHZhciBpZCA9IDA7CiAgZnVuY3Rpb24gVHJhbnNpdGlvbihncm91cHMsIHBhcmVudHMsIG5hbWUsIGlkKSB7CiAgICB0aGlzLl9ncm91cHMgPSBncm91cHM7CiAgICB0aGlzLl9wYXJlbnRzID0gcGFyZW50czsKICAgIHRoaXMuX25hbWUgPSBuYW1lOwogICAgdGhpcy5faWQgPSBpZDsKICB9CiAgZnVuY3Rpb24gbmV3SWQoKSB7CiAgICByZXR1cm4gKytpZDsKICB9CiAgdmFyIHNlbGVjdGlvbl9wcm90b3R5cGUgPSBzZWxlY3Rpb24ucHJvdG90eXBlOwogIFRyYW5zaXRpb24ucHJvdG90eXBlID0gewogICAgY29uc3RydWN0b3I6IFRyYW5zaXRpb24sCiAgICBzZWxlY3Q6IHRyYW5zaXRpb25fc2VsZWN0LAogICAgc2VsZWN0QWxsOiB0cmFuc2l0aW9uX3NlbGVjdEFsbCwKICAgIHNlbGVjdENoaWxkOiBzZWxlY3Rpb25fcHJvdG90eXBlLnNlbGVjdENoaWxkLAogICAgc2VsZWN0Q2hpbGRyZW46IHNlbGVjdGlvbl9wcm90b3R5cGUuc2VsZWN0Q2hpbGRyZW4sCiAgICBmaWx0ZXI6IHRyYW5zaXRpb25fZmlsdGVyLAogICAgbWVyZ2U6IHRyYW5zaXRpb25fbWVyZ2UsCiAgICBzZWxlY3Rpb246IHRyYW5zaXRpb25fc2VsZWN0aW9uLAogICAgdHJhbnNpdGlvbjogdHJhbnNpdGlvbl90cmFuc2l0aW9uLAogICAgY2FsbDogc2VsZWN0aW9uX3Byb3RvdHlwZS5jYWxsLAogICAgbm9kZXM6IHNlbGVjdGlvbl9wcm90b3R5cGUubm9kZXMsCiAgICBub2RlOiBzZWxlY3Rpb25fcHJvdG90eXBlLm5vZGUsCiAgICBzaXplOiBzZWxlY3Rpb25fcHJvdG90eXBlLnNpemUsCiAgICBlbXB0eTogc2VsZWN0aW9uX3Byb3RvdHlwZS5lbXB0eSwKICAgIGVhY2g6IHNlbGVjdGlvbl9wcm90b3R5cGUuZWFjaCwKICAgIG9uOiB0cmFuc2l0aW9uX29uLAogICAgYXR0cjogdHJhbnNpdGlvbl9hdHRyLAogICAgYXR0clR3ZWVuOiB0cmFuc2l0aW9uX2F0dHJUd2VlbiwKICAgIHN0eWxlOiB0cmFuc2l0aW9uX3N0eWxlLAogICAgc3R5bGVUd2VlbjogdHJhbnNpdGlvbl9zdHlsZVR3ZWVuLAogICAgdGV4dDogdHJhbnNpdGlvbl90ZXh0LAogICAgdGV4dFR3ZWVuOiB0cmFuc2l0aW9uX3RleHRUd2VlbiwKICAgIHJlbW92ZTogdHJhbnNpdGlvbl9yZW1vdmUsCiAgICB0d2VlbjogdHJhbnNpdGlvbl90d2VlbiwKICAgIGRlbGF5OiB0cmFuc2l0aW9uX2RlbGF5LAogICAgZHVyYXRpb246IHRyYW5zaXRpb25fZHVyYXRpb24sCiAgICBlYXNlOiB0cmFuc2l0aW9uX2Vhc2UsCiAgICBlYXNlVmFyeWluZzogdHJhbnNpdGlvbl9lYXNlVmFyeWluZywKICAgIGVuZDogdHJhbnNpdGlvbl9lbmQsCiAgICBbU3ltYm9sLml0ZXJhdG9yXTogc2VsZWN0aW9uX3Byb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdCiAgfTsKCiAgZnVuY3Rpb24gY3ViaWNJbk91dCh0KSB7CiAgICByZXR1cm4gKCh0ICo9IDIpIDw9IDEgPyB0ICogdCAqIHQgOiAodCAtPSAyKSAqIHQgKiB0ICsgMikgLyAyOwogIH0KCiAgdmFyIGRlZmF1bHRUaW1pbmcgPSB7CiAgICB0aW1lOiBudWxsLAogICAgLy8gU2V0IG9uIHVzZS4KICAgIGRlbGF5OiAwLAogICAgZHVyYXRpb246IDI1MCwKICAgIGVhc2U6IGN1YmljSW5PdXQKICB9OwogIGZ1bmN0aW9uIGluaGVyaXQobm9kZSwgaWQpIHsKICAgIHZhciB0aW1pbmc7CiAgICB3aGlsZSAoISh0aW1pbmcgPSBub2RlLl9fdHJhbnNpdGlvbikgfHwgISh0aW1pbmcgPSB0aW1pbmdbaWRdKSkgewogICAgICBpZiAoIShub2RlID0gbm9kZS5wYXJlbnROb2RlKSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgdHJhbnNpdGlvbiAke2lkfSBub3QgZm91bmRgKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHRpbWluZzsKICB9CiAgZnVuY3Rpb24gc2VsZWN0aW9uX3RyYW5zaXRpb24gKG5hbWUpIHsKICAgIHZhciBpZCwgdGltaW5nOwogICAgaWYgKG5hbWUgaW5zdGFuY2VvZiBUcmFuc2l0aW9uKSB7CiAgICAgIGlkID0gbmFtZS5faWQsIG5hbWUgPSBuYW1lLl9uYW1lOwogICAgfSBlbHNlIHsKICAgICAgaWQgPSBuZXdJZCgpLCAodGltaW5nID0gZGVmYXVsdFRpbWluZykudGltZSA9IG5vdygpLCBuYW1lID0gbmFtZSA9PSBudWxsID8gbnVsbCA6IG5hbWUgKyAiIjsKICAgIH0KICAgIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIGogPSAwOyBqIDwgbTsgKytqKSB7CiAgICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkgewogICAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHsKICAgICAgICAgIHNjaGVkdWxlKG5vZGUsIG5hbWUsIGlkLCBpLCBncm91cCwgdGltaW5nIHx8IGluaGVyaXQobm9kZSwgaWQpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBuZXcgVHJhbnNpdGlvbihncm91cHMsIHRoaXMuX3BhcmVudHMsIG5hbWUsIGlkKTsKICB9CgogIHNlbGVjdGlvbi5wcm90b3R5cGUuaW50ZXJydXB0ID0gc2VsZWN0aW9uX2ludGVycnVwdDsKICBzZWxlY3Rpb24ucHJvdG90eXBlLnRyYW5zaXRpb24gPSBzZWxlY3Rpb25fdHJhbnNpdGlvbjsKCiAgZnVuY3Rpb24gVHJhbnNmb3JtKGssIHgsIHkpIHsKICAgIHRoaXMuayA9IGs7CiAgICB0aGlzLnggPSB4OwogICAgdGhpcy55ID0geTsKICB9CiAgVHJhbnNmb3JtLnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBUcmFuc2Zvcm0sCiAgICBzY2FsZTogZnVuY3Rpb24gKGspIHsKICAgICAgcmV0dXJuIGsgPT09IDEgPyB0aGlzIDogbmV3IFRyYW5zZm9ybSh0aGlzLmsgKiBrLCB0aGlzLngsIHRoaXMueSk7CiAgICB9LAogICAgdHJhbnNsYXRlOiBmdW5jdGlvbiAoeCwgeSkgewogICAgICByZXR1cm4geCA9PT0gMCAmIHkgPT09IDAgPyB0aGlzIDogbmV3IFRyYW5zZm9ybSh0aGlzLmssIHRoaXMueCArIHRoaXMuayAqIHgsIHRoaXMueSArIHRoaXMuayAqIHkpOwogICAgfSwKICAgIGFwcGx5OiBmdW5jdGlvbiAocG9pbnQpIHsKICAgICAgcmV0dXJuIFtwb2ludFswXSAqIHRoaXMuayArIHRoaXMueCwgcG9pbnRbMV0gKiB0aGlzLmsgKyB0aGlzLnldOwogICAgfSwKICAgIGFwcGx5WDogZnVuY3Rpb24gKHgpIHsKICAgICAgcmV0dXJuIHggKiB0aGlzLmsgKyB0aGlzLng7CiAgICB9LAogICAgYXBwbHlZOiBmdW5jdGlvbiAoeSkgewogICAgICByZXR1cm4geSAqIHRoaXMuayArIHRoaXMueTsKICAgIH0sCiAgICBpbnZlcnQ6IGZ1bmN0aW9uIChsb2NhdGlvbikgewogICAgICByZXR1cm4gWyhsb2NhdGlvblswXSAtIHRoaXMueCkgLyB0aGlzLmssIChsb2NhdGlvblsxXSAtIHRoaXMueSkgLyB0aGlzLmtdOwogICAgfSwKICAgIGludmVydFg6IGZ1bmN0aW9uICh4KSB7CiAgICAgIHJldHVybiAoeCAtIHRoaXMueCkgLyB0aGlzLms7CiAgICB9LAogICAgaW52ZXJ0WTogZnVuY3Rpb24gKHkpIHsKICAgICAgcmV0dXJuICh5IC0gdGhpcy55KSAvIHRoaXMuazsKICAgIH0sCiAgICByZXNjYWxlWDogZnVuY3Rpb24gKHgpIHsKICAgICAgcmV0dXJuIHguY29weSgpLmRvbWFpbih4LnJhbmdlKCkubWFwKHRoaXMuaW52ZXJ0WCwgdGhpcykubWFwKHguaW52ZXJ0LCB4KSk7CiAgICB9LAogICAgcmVzY2FsZVk6IGZ1bmN0aW9uICh5KSB7CiAgICAgIHJldHVybiB5LmNvcHkoKS5kb21haW4oeS5yYW5nZSgpLm1hcCh0aGlzLmludmVydFksIHRoaXMpLm1hcCh5LmludmVydCwgeSkpOwogICAgfSwKICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAidHJhbnNsYXRlKCIgKyB0aGlzLnggKyAiLCIgKyB0aGlzLnkgKyAiKSBzY2FsZSgiICsgdGhpcy5rICsgIikiOwogICAgfQogIH07CiAgVHJhbnNmb3JtLnByb3RvdHlwZTsKCiAgLyoKICAgIEhURE1hdGggU3RhdGljIENsYXNzIC0gTm90IGludGVuZGVkIGZvciBpbnN0YW50aWF0aW9uIQoKICAgIFZhcmlhYmxlczoKICAgICAgQSA9IGFtb3VudAogICAgICBEID0gZGVsYXkKICAgICAgViA9IHN1YmplY3RpdmUgdmFsdWUKCiAgICAgIGsgPSBkaXNjb3VudCBmYWN0b3IKCiAgICBFcXVhdGlvbnM6CiAgICAgIFYgPSBBIC8gKDEgKyBrRCkKICAqLwogIGNsYXNzIEhURE1hdGggewogICAgc3RhdGljIGFkazJ2KGEsIGQsIGspIHsKICAgICAgcmV0dXJuIGEgLyAoMSArIGsgKiBkKTsKICAgIH0KICAgIHN0YXRpYyBhZHYyayhhLCBkLCB2KSB7CiAgICAgIHJldHVybiAoYSAtIHYpIC8gKHYgKiBkKTsKICAgIH0KICB9CgogIC8vIEludGVybmFsIGRlcGVuZGVuY2llcwoKICAvKiBlc2xpbnQgbm8tcmVzdHJpY3RlZC1nbG9iYWxzOiBbIm9mZiIsICJzZWxmIl0gKi8KCiAgc2VsZi5vbm1lc3NhZ2UgPSBldmVudCA9PiB7CiAgICBjb25zdCBwYXJhbXMgPSB7CiAgICAgIGs6IHsKICAgICAgICB0eXBlOiAncmVhbCcsCiAgICAgICAgbG93ZXI6IDAsCiAgICAgICAgdXBwZXI6IDEwMAogICAgICB9LAogICAgICBsdWNlOiB7CiAgICAgICAgdHlwZTogJ3JlYWwnLAogICAgICAgIGxvd2VyOiAwLAogICAgICAgIHVwcGVyOiAxMDAKICAgICAgfQogICAgfTsKICAgIGNvbnN0IGxvZ1Bvc3QgPSAoc3RhdGUsIGRhdGEpID0+IHsKICAgICAgbGV0IGxwID0gMDsKCiAgICAgIC8vIFByaW9ycwogICAgICBjb25zdCBrTWVhbiA9IDI7CiAgICAgIGNvbnN0IGtTaGFwZSA9IDM7CiAgICAgIGxwICs9IGRpc3RyaWJ1dGlvbnNFeHBvcnRzLmdhbW1hKHN0YXRlLmssIGtTaGFwZSwga1NoYXBlIC8ga01lYW4pOwogICAgICAvLyBscCArPSBCYXllc0Rpc3RyaWJ1dGlvbnMudW5pZihzdGF0ZS5rLCAwLCAxMDApOwoKICAgICAgY29uc3QgbHVjZU1lYW4gPSAyOwogICAgICBjb25zdCBsdWNlU2hhcGUgPSAzOwogICAgICBscCArPSBkaXN0cmlidXRpb25zRXhwb3J0cy5nYW1tYShzdGF0ZS5sdWNlLCBsdWNlU2hhcGUsIGx1Y2VTaGFwZSAvIGx1Y2VNZWFuKTsKICAgICAgLy8gbHAgKz0gQmF5ZXNEaXN0cmlidXRpb25zLnVuaWYoc3RhdGUubHVjZSwgMCwgMTAwKTsKCiAgICAgIC8vIExpa2VsaWhvb2QKICAgICAgZGF0YS5mb3JFYWNoKGNob2ljZSA9PiB7CiAgICAgICAgLy8gVmFsdWVzCiAgICAgICAgY29uc3QgdnMgPSBIVERNYXRoLmFkazJ2KGNob2ljZS5hcywgY2hvaWNlLmRzLCBzdGF0ZS5rKTsKICAgICAgICBjb25zdCB2bCA9IEhURE1hdGguYWRrMnYoY2hvaWNlLmFsLCBjaG9pY2UuZGwsIHN0YXRlLmspOwoKICAgICAgICAvLyBDaG9pY2Ugb2Ygc29vbmVyIG9yIGxhdGVyIGlzIHNhbXBsZWQgZnJvbSBhIEJlcm5vdWxsaSBkaXN0cmlidXRpb24KICAgICAgICAvLyBMdWNlIGNob2ljZSBydWxlIGlzIHVzZWQgdG8gY29tcHV0ZSBwcm9iYWJpbGl0eSBvZiB3YWl0aW5nISAoMCA9IHNvb25lciwgMSA9IGxhdGVyKQogICAgICAgIGNvbnN0IGJpbnZhbCA9IDEgLyAoMSArIE1hdGguZXhwKHN0YXRlLmx1Y2UgKiAodnMgLSB2bCkpKTsKCiAgICAgICAgLy8gQWN0dWFsIHJlc3BvbnNlCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBjaG9pY2UucmVzcG9uc2UgPT09ICdmaXJzdCcgPyAwIDogMTsKICAgICAgICBscCArPSBkaXN0cmlidXRpb25zRXhwb3J0cy5iZXJuKHJlc3BvbnNlLCBiaW52YWwpOwogICAgICB9KTsKICAgICAgcmV0dXJuIGxwOwogICAgfTsKCiAgICAvLyBJbml0aWFsaXppbmcgdGhlIHNhbXBsZXIKICAgIGNvbnN0IHNhbXBsZXIgPSBuZXcgbWNtY0V4cG9ydHMuQW13Z1NhbXBsZXIocGFyYW1zLCBsb2dQb3N0LCBldmVudC5kYXRhKTsKICAgIC8vIEJ1cm5pbmcgc29tZSBzYW1wbGVzIHRvIHRoZSBNQ01DIGdvZHMgYW5kIHNhbXBsaW5nIDUwMDAgZHJhd3MKICAgIHNhbXBsZXIuYnVybigxMDAwKTsKICAgIGNvbnN0IHNhbXBsZXMgPSBzYW1wbGVyLnNhbXBsZSg1MDAwKTsKCiAgICAvLyBFeHRyYWN0IHN1bW1hcnkgc3RhdHMKICAgIGNvbnN0IHJlc3VsdHMgPSB7CiAgICAgIGs6IG1lZGlhbihzYW1wbGVzLmspLAogICAgICBsdWNlOiBtZWRpYW4oc2FtcGxlcy5sdWNlKQogICAgfTsKICAgIHNlbGYucG9zdE1lc3NhZ2UoewogICAgICByZXN1bHRzOiByZXN1bHRzLAogICAgICBzYW1wbGVzOiBzYW1wbGVzCiAgICB9KTsKICB9OwoKfSkoKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHRkLWZpdC13b3JrZXIuanMubWFwCgo=","data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHRkLWZpdC13b3JrZXIuanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9iYXllcy5qcy9kaXN0cmlidXRpb25zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2JheWVzLmpzL21jbWMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL2FzY2VuZGluZy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvbnVtYmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9zb3J0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9tYXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL21pbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvcXVpY2tzZWxlY3QuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL3F1YW50aWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9tZWRpYW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtZGlzcGF0Y2gvc3JjL2Rpc3BhdGNoLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvbmFtZXNwYWNlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL25hbWVzcGFjZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL2NyZWF0b3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rvci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zZWxlY3QuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9hcnJheS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdG9yQWxsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NlbGVjdEFsbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL21hdGNoZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc2VsZWN0Q2hpbGQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc2VsZWN0Q2hpbGRyZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZmlsdGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NwYXJzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9lbnRlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL2NvbnN0YW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2RhdGEuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZXhpdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9qb2luLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL21lcmdlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL29yZGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NvcnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vY2FsbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9ub2Rlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9ub2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NpemUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZW1wdHkuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZWFjaC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9hdHRyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvd2luZG93LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3N0eWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3Byb3BlcnR5LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2NsYXNzZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vdGV4dC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9odG1sLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3JhaXNlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2xvd2VyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2FwcGVuZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9pbnNlcnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vcmVtb3ZlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2Nsb25lLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2RhdHVtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL29uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2Rpc3BhdGNoLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2l0ZXJhdG9yLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWNvbG9yL3NyYy9kZWZpbmUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtY29sb3Ivc3JjL2NvbG9yLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9jb25zdGFudC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvY29sb3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL3JnYi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvbnVtYmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9zdHJpbmcuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL3RyYW5zZm9ybS9kZWNvbXBvc2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL3RyYW5zZm9ybS9wYXJzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvdHJhbnNmb3JtL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRpbWVyL3NyYy90aW1lci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10aW1lci9zcmMvdGltZW91dC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NjaGVkdWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL2ludGVycnVwdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy9zZWxlY3Rpb24vaW50ZXJydXB0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vdHdlZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9pbnRlcnBvbGF0ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2F0dHIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9hdHRyVHdlZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9kZWxheS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2R1cmF0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZWFzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2Vhc2VWYXJ5aW5nLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZmlsdGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vbWVyZ2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9vbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3JlbW92ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdEFsbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3N0eWxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vc3R5bGVUd2Vlbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3RleHQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi90ZXh0VHdlZW4uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi90cmFuc2l0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZW5kLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtZWFzZS9zcmMvY3ViaWMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvc2VsZWN0aW9uL3RyYW5zaXRpb24uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvc2VsZWN0aW9uL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2QzLXpvb20vc3JjL3RyYW5zZm9ybS5qcyIsIi4uLy4uL2xpYnJhcmllcy9kaXNjb3VudGFibGUtbWF0aC9zcmMvaHRkLW1hdGguanMiLCIuLi8uLi9saWJyYXJpZXMvZGlzY291bnRhYmxlLW1hdGgvc3JjL2luZGV4LmpzIiwiLi4vLi4vbGlicmFyaWVzL2Rpc2NvdW50YWJsZS1lbGVtZW50cy9zcmMvY29tcG9uZW50cy9odGQtZml0LXdvcmtlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuXG4vLyBBIG51bWJlciBvZiBsb2cgcHJvYmFiaWxpdHkgZGVuc2l0eSBmdW5jdGlvbnMgKFBERikuIE5hbWluZyBhbmQgcGFyYW1ldGVyaXphdGlvblxuLy8gc2hvdWxkIG1hdGNoIFIncywgZXhjZXB0IGZvciB0aGF0IGFsbCBmdW5jdGlvbnMgcmVzaWRlIGluIGFuIGxkIG9iamVjdCAoXG4vLyBhcyBpbiBcImxvZyBkZW5zaXR5XCIpLCBzbyB0byBnZXQgYSBub3JtYWwgbG9nIGRlbnNpdHkgeW91IHdvdWxkIHdyaXRlXG4vLyBsZC5ub3JtKC4uLikuXG4vLyBNb3N0IG9mIHRoZSBjb2RlIGJlbG93IGlzIGRpcmVjdGx5IHRha2VuIGZyb20gdGhlIGdyZWF0IEpzdGF0IHByb2plY3Rcbi8vIChodHRwczovL2dpdGh1Yi5jb20vanN0YXQvKSB3aGljaCBpbmNsdWRlcyBQREYgZm9yIG1hbnkgY29tbW9uIHByb2JhYmlsaXR5XG4vLyBkaXN0cmlidXRpb25zLiBXaGF0IEkgaGF2ZSBkb25lIGlzIG9ubHkgdG8gY29udmVydCB0aGVzZSB0byBsb2cgUERGcy5cblxuLypcbk9yaWdpbmFsIHdvcmsgQ29weXJpZ2h0IChjKSAyMDEzIGpTdGF0XG5Nb2RpZmllZCB3b3JrIENvcHlyaWdodCAoYykgMjAxNSBSYXNtdXMgQsOlw6V0aCBcblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuVEhFIFNPRlRXQVJFLlxuXG4qL1xuXG5cbi8vIFRoaXMgYm9pbGVyIHBsYXRlIGNvZGUgaGVyZSBpcyB0YWtlbiBmcm9tOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci90ZW1wbGF0ZXMvcmV0dXJuRXhwb3J0cy5qc1xuLy8gSXQgc2hvdWxkIG1ha2Ugc2h1cmUgdGhhdCBtb2R1bGUgY2FuIGJlIGltcG9ydGVkIGJvdGggaW4gdGhlIGJyb3dzZXIsXG4vLyBOb2RlLCBhbmQgYnkgdXNpbmcgdGhlIEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbiBzdGFuZGFyZC5cbi8vIElmIHRoaXMgbW9kdWxlIGlzIGxvYWRlZCBpbiB0aGUgYnJvd3NlciBpdCB3aWxsIGNyZWF0ZWQgdGhlIGdsb2JhbFxuLy8gb2JqZWN0IGxkIC5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgICAgICAvLyBsaWtlIE5vZGUuXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgICAgIHJvb3QubGQgPSBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oKSB7XG4gIC8vIE9iamVjdCB0byBob2xkIHRoZSBmdW5jdGlvbnMgdG8gYmUgZXhwb3J0ZWQuXG4gIHZhciBsZCAgPSB7fTtcbiAgXG4gIC8vLy8vLy8vLy8gSGVscGVyIGZ1bmN0aW9ucyAvLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICB2YXIgbGdhbW1hID0gZnVuY3Rpb24oeCkge1xuICAgIHZhciBqID0gMDtcbiAgICB2YXIgY29mID0gW1xuICAgICAgNzYuMTgwMDkxNzI5NDcxNDYsIC04Ni41MDUzMjAzMjk0MTY3NywgMjQuMDE0MDk4MjQwODMwOTEsXG4gICAgICAtMS4yMzE3Mzk1NzI0NTAxNTUsIDAuMTIwODY1MDk3Mzg2NjE3OWUtMiwgLTAuNTM5NTIzOTM4NDk1M2UtNVxuICAgIF07XG4gICAgdmFyIHNlciA9IDEuMDAwMDAwMDAwMTkwMDE1O1xuICAgIHZhciB4eCwgeSwgdG1wO1xuICAgIHRtcCA9ICh5ID0geHggPSB4KSArIDUuNTtcbiAgICB0bXAgLT0gKHh4ICsgMC41KSAqIGxvZyh0bXApO1xuICAgIGZvciAoOyBqIDwgNjsgaisrKVxuICAgICAgc2VyICs9IGNvZltqXSAvICsreTtcbiAgICByZXR1cm4gbG9nKDIuNTA2NjI4Mjc0NjMxMDAwNSAqIHNlciAvIHh4KSAtIHRtcDtcbiAgfTtcbiAgbGQubGdhbW1hID0gbGdhbW1hO1xuICBcbiAgdmFyIGxmYWN0b3JpYWwgPSBmdW5jdGlvbihuKSB7XG4gICAgcmV0dXJuIG4gPCAwID8gTmFOIDogbGdhbW1hKG4gKyAxKTtcbiAgfTtcbiAgbGQubGZhY3RvcmlhbCA9IGxmYWN0b3JpYWw7XG4gIFxuICB2YXIgbGNob29zZSA9IGZ1bmN0aW9uKG4sIGspe1xuICAgIHJldHVybiBsZmFjdG9yaWFsKG4pIC0gbGZhY3RvcmlhbChrKSAtIGxmYWN0b3JpYWwobiAtIGspO1xuICB9O1xuICBsZC5sY2hvb3NlID0gbGNob29zZTtcbiAgXG4gIHZhciBsYmV0YSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gbGdhbW1hKGEpICsgbGdhbW1hKGIpIC0gbGdhbW1hKGEgKyBiKTtcbiAgfTtcbiAgbGQubGJldGEgPSBsYmV0YTtcbiAgXG4gIHZhciBsb2cgID0gTWF0aC5sb2c7XG4gIHZhciBleHAgID0gTWF0aC5leHA7XG4gIHZhciBhYnMgID0gTWF0aC5hYnM7XG4gIHZhciBwb3cgID0gTWF0aC5wb3c7XG4gIHZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xuICB2YXIgcGkgICA9IE1hdGguUEk7XG4gIFxuICAvLy8vLy8vLy8vIENvbnRpbm91cyBkaXN0cmlidXRpb25zIC8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICBsZC5iZXRhID0gZnVuY3Rpb24oeCwgc2hhcGUxLCBzaGFwZTIpIHtcbiAgICBpZiAoeCA+IDEgfHwgeCA8IDApIHtcbiAgICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgaWYoc2hhcGUxID09PSAxICYmIHNoYXBlMiA9PT0gMSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoc2hhcGUxIC0gMSkgKiBsb2coeCkgKyAoc2hhcGUyIC0gMSkgKiBsb2coMSAtIHgpIC0gbGJldGEoc2hhcGUxLCBzaGFwZTIpOyAgXG4gICAgfVxuICB9O1xuICBcbiAgbGQuY2F1Y2h5ID0gZnVuY3Rpb24oeCwgbG9jYXRpb24sIHNjYWxlKSB7XG4gICAgcmV0dXJuIGxvZyhzY2FsZSkgLSBsb2cocG93KHggLSBsb2NhdGlvbiwgMikgKyBwb3coc2NhbGUsIDIpKSAgLSBsb2cocGkpO1xuICB9O1xuICBcbiAgbGQubm9ybSA9IGZ1bmN0aW9uKHgsIG1lYW4sIHNkKSB7XG4gICAgICByZXR1cm4gLTAuNSAqIGxvZygyICogcGkpIC1sb2coc2QpIC0gcG93KHggLSBtZWFuLCAyKSAvICgyICogc2QgKiBzZCk7XG4gIH07XG5cbiAgLy8gQSBiaXZhcmlhdGUgTm9ybWFsIGRpc3RyaWJ1dGlvbiBwYXJhbWV0ZXJpemVkIGJ5IGFycmF5cyBvZiB0d28gbWVhbnMgYW5kIFNEcywgYW5kIFxuICAvLyB0aGUgY29ycmVsYXRpb24uXG4gIGxkLmJpdmFybm9ybSA9IGZ1bmN0aW9uKHgsIG1lYW4sIHNkLCBjb3JyKSB7XG4gICAgdmFyIHogPSBwb3coeFswXSAtIG1lYW5bMF0sIDIpIC8gcG93KHNkWzBdLCAyKSArXG4gICAgICAgICAgICBwb3coeFsxXSAtIG1lYW5bMV0sIDIpIC8gcG93KHNkWzFdLCAyKSAtIFxuICAgICAgICAgICAgKDIgKiBjb3JyICogKHhbMF0gLSBtZWFuWzBdKSAqICh4WzFdIC0gbWVhblsxXSkpIC8gKHNkWzBdICogc2RbMV0pO1xuICAgIHZhciBub3JtYWxpemluZ19mYWN0b3IgPSAtKCBsb2coMikgKyBsb2cocGkpICsgbG9nKHNkWzBdKSArIGxvZyhzZFsxXSkgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMC41ICogbG9nKDEgLSBwb3coY29yciwgMikpICk7IFxuICAgIHZhciBiaXZhcl9sb2dfZGVucyA9IG5vcm1hbGl6aW5nX2ZhY3RvciAtIHogLyAoMiAqICgxIC0gcG93KGNvcnIsIDIpICkgKTsgXG4gICAgcmV0dXJuIGJpdmFyX2xvZ19kZW5zO1xuICB9O1xuICBcblxuICBsZC5sYXBsYWNlID0gZnVuY3Rpb24oeCwgbG9jYXRpb24sIHNjYWxlKSB7XG4gICAgcmV0dXJuICgtYWJzKHggLSBsb2NhdGlvbikvc2NhbGUpIC0gbG9nKDIgKiBzY2FsZSk7XG4gIH07XG4gIFxuICBsZC5kZXhwID0gbGQubGFwbGFjZTtcbiAgXG4gIGxkLmdhbW1hID0gZnVuY3Rpb24oeCwgc2hhcGUsIHJhdGUpIHtcbiAgICB2YXIgc2NhbGUgPSAxIC8gcmF0ZTtcbiAgICBpZiAoeCA8IDApIHtcbiAgICAgIHJldHVybiAtSW5maW5pdHk7XG4gICAgfVxuICAgIGlmKCh4ID09PSAwICYmIHNoYXBlID09PSAxKSApIHtcbiAgICAgIHJldHVybiAtbG9nKHNjYWxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChzaGFwZSAtIDEpICogbG9nKHgpIC0geCAvIHNjYWxlIC0gbGdhbW1hKHNoYXBlKSAtIHNoYXBlICogbG9nKHNjYWxlKTtcbiAgICB9XG4gIH07XG4gIFxuICBsZC5pbnZnYW1tYSA9IGZ1bmN0aW9uKHgsIHNoYXBlLCBzY2FsZSkge1xuICAgICAgaWYgKHggPD0gMCkge1xuICAgICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0oc2hhcGUgKyAxKSAqIGxvZyh4KSAtIHNjYWxlIC8geCAtIGxnYW1tYShzaGFwZSkgKyBzaGFwZSAqIGxvZyhzY2FsZSk7XG4gICAgfTtcbiAgXG4gIGxkLmxub3JtID0gIGZ1bmN0aW9uKHgsIG1lYW5sb2csIHNkbG9nKSB7XG4gICAgaWYgKHggPD0gMCkge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgcmV0dXJuIC1sb2coeCkgLSAwLjUgKiBsb2coMiAqIHBpKSAtIGxvZyhzZGxvZykgLSBcbiAgICAgICAgICAgIHBvdyhsb2coeCkgLSBtZWFubG9nLCAyKSAvICgyICogc2Rsb2cgKiBzZGxvZyk7XG4gIH07XG4gIFxuICBsZC5wYXJldG8gPSBmdW5jdGlvbih4LCBzY2FsZSwgc2hhcGUpIHtcbiAgICBpZiAoeCA8IHNjYWxlKSB7XG4gICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgIH1cbiAgICByZXR1cm4gbG9nKHNoYXBlKSArIHNoYXBlICogbG9nKHNjYWxlKSAtIChzaGFwZSArIDEpICogbG9nKHgpO1xuICB9O1xuICBcbiAgbGQudCAgPSAgZnVuY3Rpb24oeCwgbG9jYXRpb24sIHNjYWxlLCBkZikge1xuICAgIGRmID0gZGYgPiAxZTEwMCA/IDFlMTAwIDogZGY7XG4gICAgcmV0dXJuIGxnYW1tYSgoZGYgKyAxKS8yKSAtIGxnYW1tYShkZi8yKSAtIGxvZyhzcXJ0KHBpICogZGYpICogc2NhbGUpICtcbiAgICAgICAgICAgbG9nKHBvdygxICsgKDEvZGYpICogcG93KCh4IC0gbG9jYXRpb24pL3NjYWxlLCAyKSwgLShkZiArIDEpLzIpKTtcbiAgfTtcbiAgXG4gIC8vIFRoaXMgaXMgYSBkaXJlY3QgamF2YXNjcmlwdCB0cmFuc2xhdGlvbiBvZiB0aGUgUiBjb2RlIHVzZWQgdG8gZXZhbHVhdGVcbiAgLy8gdGhlIGxvZyBkZW5zaXR5IG9mIGEgd2VpYnVsbCBkaXN0cmlidXRpb246IFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vd2NoL3Itc291cmNlL2Jsb2IvYjE1NmUzYTcxMTk2N2Y1ODEzMWUyM2MxYjFkYzFlYTkwZTJmMGM0My9zcmMvbm1hdGgvZHdlaWJ1bGwuY1xuICBsZC53ZWlidWxsID0gZnVuY3Rpb24oeCwgc2hhcGUsIHNjYWxlKSB7XG4gICAgaWYgKHggPCAwKSByZXR1cm4gLUluZmluaXR5O1xuICAgIGlmKHggPT09IDAgJiYgc2hhcGUgPCAxKSByZXR1cm4gSW5maW5pdHk7XG4gICAgdmFyIHRtcDEgPSBwb3coeCAvIHNjYWxlLCBzaGFwZSAtIDEpO1xuICAgIHZhciB0bXAyID0gdG1wMSAqICh4IC8gc2NhbGUpO1xuXHQgIHJldHVybiAtdG1wMiArIGxvZyhzaGFwZSAqIHRtcDEgLyBzY2FsZSk7XG4gIH07XG4gIFxuICAvLyBUaGlzIGlzIGEgZGlyZWN0IGphdmFzY3JpcHQgdHJhbnNsYXRpb24gb2YgdGhlIFIgY29kZSB1c2VkIHRvIGV2YWx1YXRlXG4gIC8vIHRoZSBsb2cgZGVuc2l0eSBvZiBhIGxvZ2lzdGljIGRpc3RyaWJ1dGlvbjogXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93Y2gvci1zb3VyY2UvYmxvYi9iMTU2ZTNhNzExOTY3ZjU4MTMxZTIzYzFiMWRjMWVhOTBlMmYwYzQzL3NyYy9ubWF0aC9kbG9naXMuY1xuICBsZC5sb2dpcyA9IGZ1bmN0aW9uKHgsIGxvY2F0aW9uLCBzY2FsZSkge1xuICAgIHggPSBhYnMoKHggLSBsb2NhdGlvbikgLyBzY2FsZSk7XG4gICAgdmFyIGUgPSBleHAoLXgpO1xuICAgIHZhciBmID0gMS4wICsgZTtcbiAgICByZXR1cm4gLSh4ICsgbG9nKHNjYWxlICogZiAqIGYpKTsgICAgXG4gIH07XG5cbiAgbGQuZGlyaWNobGV0ID0gZnVuY3Rpb24oeCwgYWxwaGEpIHtcbiAgICB2YXIgc3VtX2FscGhhID0gMDtcbiAgICB2YXIgc3VtX2xnYW1tYV9hbHBoYSA9IDA7XG4gICAgdmFyIHN1bV9hbHBoYV9zdWJfMV9sb2dfeCA9IDA7XG4gICAgdmFyIG4gPSBhbHBoYS5sZW5ndGg7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgc3VtX2FscGhhICs9IGFscGhhW2ldO1xuICAgICAgc3VtX2xnYW1tYV9hbHBoYSArPSBsZ2FtbWEoYWxwaGFbaV0pO1xuICAgICAgc3VtX2FscGhhX3N1Yl8xX2xvZ194ICs9IChhbHBoYVtpXSAtIDEpICogbG9nKHhbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gbGdhbW1hKHN1bV9hbHBoYSkgLSBzdW1fbGdhbW1hX2FscGhhICsgc3VtX2FscGhhX3N1Yl8xX2xvZ194O1xuICB9O1xuICAgXG4gICAgXG4gIGxkLmV4cCA9IGZ1bmN0aW9uKHgsIHJhdGUpIHtcbiAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhyYXRlKSAtcmF0ZSAqIHg7XG4gIH07XG4gIFxuICBsZC51bmlmID0gZnVuY3Rpb24oeCwgbWluLCBtYXgpIHtcbiAgICAgIHJldHVybiAoeCA8IG1pbiB8fCB4ID4gbWF4KSA/IC1JbmZpbml0eSA6IGxvZygxIC8gKG1heCAtIG1pbikpO1xuICB9O1xuICBcbiAgLy8vLy8vLy8vLyBEaXNjcmV0ZSBkaXN0cmlidXRpb25zIC8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgXG4gIGxkLmJlcm4gPSBmdW5jdGlvbih4LCBwcm9iKSB7XG4gICAgICByZXR1cm4gISh4ID09PSAwIHx8IHggPT09IDEpID8gLUluZmluaXR5IDogbG9nKHggKiBwcm9iICsgKDEgLSB4KSAqICgxIC0gcHJvYikpO1xuICB9O1xuICBcbiAgbGQuY2F0ID0gZnVuY3Rpb24oeCwgcHJvYnMpIHtcbiAgICBpZih4IDwgMSB8fCB4ID4gcHJvYnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbG9nKCBwcm9ic1t4IC0gMV0gKTtcbiAgICB9XG4gIH07XG4gIFxuICBsZC5iaW5vbSA9IGZ1bmN0aW9uKHgsIHNpemUsIHByb2IpIHtcbiAgICBpZih4ID4gc2l6ZSB8fCB4IDwgMCkge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgaWYocHJvYiA9PT0gMCB8fCBwcm9iID09PSAxKSB7XG4gICAgICByZXR1cm4gKHNpemUgKiBwcm9iKSA9PT0geCA/IDAgOiAtSW5maW5pdHk7XG4gICAgfVxuICAgIHJldHVybiBsY2hvb3NlKHNpemUsIHgpICsgeCAqIGxvZyhwcm9iKSArIChzaXplIC0geCkgKiBsb2coMSAtIHByb2IpO1xuICB9O1xuICBcbiAgdmFyIG11bHRpbm9tID0gZnVuY3Rpb24oeCwgcHJvYnMpIHtcbiAgICB2YXIgbiA9IHgubGVuZ3RoO1xuICAgIHZhciBzaXplID0gMDtcbiAgICB2YXIgdG1wX3Rlcm0gPSAwO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgIGlmKHByb2JzW2ldID09PSAwKSB7XG4gICAgICAgIGlmKHhbaV0gIT09IDApIHtcbiAgICAgICAgICByZXR1cm4gLUluZmluaXR5OyAgXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpemUgKz0geFtpXTtcbiAgICAgICAgdG1wX3Rlcm0gKz0geFtpXSAqIGxvZyhwcm9ic1tpXSkgLSBsZ2FtbWEoeFtpXSArIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGdhbW1hKHNpemUgKyAxKSArIHRtcF90ZXJtIDtcbiAgfTtcbiAgXG4gIGxkLm5iaW5vbSA9IGZ1bmN0aW9uKHgsIHNpemUsIHByb2IpIHtcbiAgICBpZih4IDwgMCkge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9XG4gICAgcmV0dXJuIGxjaG9vc2UoeCArIHNpemUgLSAxLCBzaXplIC0gMSkgKyB4ICogbG9nKDEgLSBwcm9iKSArIHNpemUgKiBsb2cocHJvYik7XG4gIH07XG4gIFxuICBsZC5oeXBlciA9IGZ1bmN0aW9uKHgsIG0sIG4sIGspIHtcbiAgICBpZih4IDwgMCB8fCB4ID4gaykge1xuICAgICAgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB9IGVsc2Uge1xuICAgIHJldHVybiBsY2hvb3NlKG0sIHgpICsgbGNob29zZShuLCBrLXgpIC0gbGNob29zZShtK24sIGspO1xuICAgIH1cbiAgfTtcbiAgXG4gIGxkLnBvaXMgPSBmdW5jdGlvbih4LCBsYW1iZGEpIHtcbiAgICAgIHJldHVybiB4IDwgMCA/IC1JbmZpbml0eSA6IGxvZyhsYW1iZGEpICogeCAtIGxhbWJkYSAtIGxmYWN0b3JpYWwoeCk7XG4gIH07XG4gIFxuICByZXR1cm4gbGQ7XG59KSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFRoaXMgYm9pbGVyIHBsYXRlIGNvZGUgaGVyZSBpcyB0YWtlbiBmcm9tOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci90ZW1wbGF0ZXMvcmV0dXJuRXhwb3J0cy5qc1xuLy8gSXQgc2hvdWxkIG1ha2Ugc2h1cmUgdGhhdCBtb2R1bGUgY2FuIGJlIGltcG9ydGVkIGJvdGggaW4gdGhlIGJyb3dzZXIsXG4vLyBOb2RlLCBhbmQgYnkgdXNpbmcgdGhlIEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbiBzdGFuZGFyZC5cbi8vIElmIHRoaXMgbW9kdWxlIGlzIGxvYWRlZCBpbiB0aGUgYnJvd3NlciBpdCB3aWxsIGNyZWF0ZWQgdGhlIGdsb2JhbFxuLy8gb2JqZWN0IG1jbWMgLlxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgICAgIC8vIGxpa2UgTm9kZS5cbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICAgICAgcm9vdC5tY21jID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uKCl7XG5cbi8vLyBUaGUgYWN0dWFsIG1vZHVsZSBjb2RlIHN0YXJ0cyBoZXJlIC8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vICBcbiAgXG4gIC8vLy8vLy8vLy8gSGVscGVyIEZ1bmN0aW9ucyAvLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICAvKiogUmV0dXJucyBhIHJhbmRvbSByZWFsIG51bWJlciBiZXR3ZWVuIG1pbiBhbmQgbWF4ICovXG4gIHZhciBydW5pZiA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbiAgfTtcbiAgXG4gIC8qKiBSZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gYW5kIG1heCAqL1xuICB2YXIgcnVuaWZfZGlzY3JldGUgPSBmdW5jdGlvbihtaW4sIG1heCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuICB9O1xuICBcbiAgLyoqIFJldHVybnMgYSByYW5kb20gcmVhbCBudW1iZXIgZnJvbSBhIG5vcm1hbCBkaXN0cmliYnV0aW9uIGRlZmluZWRcbiAgICogIGJ5IG1lYW4gYW5kIHNkLiBcbiAgICogIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vanN0YXQvanN0YXQvYmxvYi9tYXN0ZXIvc3JjL3NwZWNpYWwuanMgKi9cbiAgdmFyIHJub3JtID0gZnVuY3Rpb24obWVhbiwgc2QpIHtcbiAgICB2YXIgdSwgdiwgeCwgeSwgcTtcbiAgICBkbyB7XG4gICAgICB1ID0gTWF0aC5yYW5kb20oKTtcbiAgICAgIHYgPSAxLjcxNTYgKiAoTWF0aC5yYW5kb20oKSAtIDAuNSk7XG4gICAgICB4ID0gdSAtIDAuNDQ5ODcxO1xuICAgICAgeSA9IE1hdGguYWJzKHYpICsgMC4zODY1OTU7XG4gICAgICBxID0geCAqIHggKyB5ICogKDAuMTk2MDAgKiB5IC0gMC4yNTQ3MiAqIHgpO1xuICAgIH0gd2hpbGUgKHEgPiAwLjI3NTk3ICYmIChxID4gMC4yNzg0NiB8fCB2ICogdiA+IC00ICogTWF0aC5sb2codSkgKiB1ICogdSkpO1xuICAgIFxuICAgIHJldHVybiAodiAvIHUpICogc2QgKyBtZWFuO1xuICB9O1xuICBcbiAgXG4gIC8qKiBSZXR1cm5zIGEgZGVlcCBjbG9uZSBvZiBzcmMsIHNvcnQgb2YuLi4gSXQgb25seSBjb3BpZXMgYSBsaW1pdGVkXG4gICAqIG51bWJlciBvZiB0eXBlcyBhbmQsIGZvciBleGFtcGxlLCBmdW5jdGlvbiBhcmUgbm90IGNvcGllZC4gXG4gICAqIEZyb20gaHR0cDovL2Rhdmlkd2Fsc2gubmFtZS9qYXZhc2NyaXB0LWNsb25lXG4gICAqL1xuICB2YXIgZGVlcF9jbG9uZSA9IGZ1bmN0aW9uKHNyYykge1xuICBcdGZ1bmN0aW9uIG1peGluKGRlc3QsIHNvdXJjZSwgY29weUZ1bmMpIHtcbiAgXHRcdHZhciBuYW1lLCBzLCBpLCBlbXB0eSA9IHt9O1xuICBcdFx0Zm9yKG5hbWUgaW4gc291cmNlKXtcbiAgXHRcdFx0Ly8gdGhlICghKG5hbWUgaW4gZW1wdHkpIHx8IGVtcHR5W25hbWVdICE9PSBzKSBjb25kaXRpb24gYXZvaWRzIGNvcHlpbmcgcHJvcGVydGllcyBpbiBcInNvdXJjZVwiXG4gIFx0XHRcdC8vIGluaGVyaXRlZCBmcm9tIE9iamVjdC5wcm90b3R5cGUuXHQgRm9yIGV4YW1wbGUsIGlmIGRlc3QgaGFzIGEgY3VzdG9tIHRvU3RyaW5nKCkgbWV0aG9kLFxuICBcdFx0XHQvLyBkb24ndCBvdmVyd3JpdGUgaXQgd2l0aCB0aGUgdG9TdHJpbmcoKSBtZXRob2QgdGhhdCBzb3VyY2UgaW5oZXJpdGVkIGZyb20gT2JqZWN0LnByb3RvdHlwZVxuICBcdFx0XHRzID0gc291cmNlW25hbWVdO1xuICBcdFx0XHRpZighKG5hbWUgaW4gZGVzdCkgfHwgKGRlc3RbbmFtZV0gIT09IHMgJiYgKCEobmFtZSBpbiBlbXB0eSkgfHwgZW1wdHlbbmFtZV0gIT09IHMpKSl7XG4gIFx0XHRcdFx0ZGVzdFtuYW1lXSA9IGNvcHlGdW5jID8gY29weUZ1bmMocykgOiBzO1xuICBcdFx0XHR9XG4gIFx0XHR9XG4gIFx0XHRyZXR1cm4gZGVzdDtcbiAgXHR9XG4gIFx0aWYoIXNyYyB8fCB0eXBlb2Ygc3JjICE9IFwib2JqZWN0XCIgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNyYykgPT09IFwiW29iamVjdCBGdW5jdGlvbl1cIil7XG4gIFx0XHQvLyBudWxsLCB1bmRlZmluZWQsIGFueSBub24tb2JqZWN0LCBvciBmdW5jdGlvblxuICBcdFx0cmV0dXJuIHNyYztcdC8vIGFueXRoaW5nXG4gIFx0fVxuICBcdGlmKHNyYy5ub2RlVHlwZSAmJiBcImNsb25lTm9kZVwiIGluIHNyYyl7XG4gIFx0XHQvLyBET00gTm9kZVxuICBcdFx0cmV0dXJuIHNyYy5jbG9uZU5vZGUodHJ1ZSk7IC8vIE5vZGVcbiAgXHR9XG4gIFx0aWYoc3JjIGluc3RhbmNlb2YgRGF0ZSl7XG4gIFx0XHQvLyBEYXRlXG4gIFx0XHRyZXR1cm4gbmV3IERhdGUoc3JjLmdldFRpbWUoKSk7XHQvLyBEYXRlXG4gIFx0fVxuICBcdGlmKHNyYyBpbnN0YW5jZW9mIFJlZ0V4cCl7XG4gIFx0XHQvLyBSZWdFeHBcbiAgXHRcdHJldHVybiBuZXcgUmVnRXhwKHNyYyk7ICAgLy8gUmVnRXhwXG4gIFx0fVxuICBcdHZhciByLCBpLCBsO1xuICBcdGlmKHNyYyBpbnN0YW5jZW9mIEFycmF5KXtcbiAgXHRcdC8vIGFycmF5XG4gIFx0XHRyID0gW107XG4gIFx0XHRmb3IoaSA9IDAsIGwgPSBzcmMubGVuZ3RoOyBpIDwgbDsgKytpKXtcbiAgXHRcdFx0aWYoaSBpbiBzcmMpe1xuICBcdFx0XHRcdHIucHVzaChkZWVwX2Nsb25lKHNyY1tpXSkpO1xuICBcdFx0XHR9XG4gIFx0XHR9XG4gIFx0fSBlbHNlIHtcbiAgXHRcdC8vIGdlbmVyaWMgb2JqZWN0c1xuICBcdFx0ciA9IHNyYy5jb25zdHJ1Y3RvciA/IG5ldyBzcmMuY29uc3RydWN0b3IoKSA6IHt9O1xuICBcdH1cbiAgXHRyZXR1cm4gbWl4aW4ociwgc3JjLCBkZWVwX2Nsb25lKTtcbiAgfTtcbiAgXG4gIC8qKiBTcGVjaWFsaXplZCBjbG9uZSBmdW5jdGlvbiB0aGF0IG9ubHkgY2xvbmVzIHNjYWxhcnMgYW5kIG5lc3RlZCBhcnJheXMgd2hlcmVcbiAgICogZWFjaCBhcnJheSBlaXRoZXIgY29uc2lzdHMgb2YgYWxsIGFycmF5cyBvciBhbGwgbnVtYmVycy4gVGhpcyBmdW5jdGlvblxuICAgKiBpcyBtZWFudCBhcyBhIGZhc3Qgd2F5IG9mIGNsb25pbmcgcGFyYW1ldGVyIGRyYXdzIHdpdGhpbiB0aGUgbWNtYyBzYW1wbGluZ1xuICAgKiBsb29wLlxuICAgKi9cbiAgdmFyIGNsb25lX3BhcmFtX2RyYXcgPSBmdW5jdGlvbih4KSB7XG4gICAgaWYoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgICAgaWYoQXJyYXkuaXNBcnJheSh4WzBdKSkge1xuICAgICAgICAvLyB4IGlzIGFuIGFycmF5IG9mIGFycmF5cyBzbyB3ZSBuZWVkIHRvIGNsb25lIGl0IHJlY3Vyc2l2ZWx5XG4gICAgICAgIHZhciB4X2NvcHkgPSBbXTtcbiAgICAgICAgZm9yKHZhciBpID0gMCwgbGVuZ3RoID0geC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIHhfY29weS5wdXNoKGNsb25lX3BhcmFtX2RyYXcoeFtpXSkpO1xuICAgICAgICB9IFxuICAgICAgICByZXR1cm4geF9jb3B5O1xuICAgICAgfSBlbHNlIHsgLy8gV2UnbGwgYXNzdW1lIHggaXMgYSBhcnJheXMgb2Ygc2NhbGFyc1xuICAgICAgICByZXR1cm4geC5zbGljZSgwKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBXZSdsbCBhc3N1bWUgeCBpcyBhIHNjYWxhclxuICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9O1xuICBcbiAgLyoqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaXMgYSBudW1iZXIuXG4gICAqL1xuICB2YXIgaXNfbnVtYmVyID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PSBcIm51bWJlclwiIHx8ICh0eXBlb2Ygb2JqZWN0ID09IFwib2JqZWN0XCIgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBOdW1iZXIpO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW5kIGluaXRpYWxpemVzIGEgKHBvc3NpYmx5IG11bHRpZGltZW5zaW9uYWwvbmVzdGVkKSBhcnJheS5cbiAgICogQHBhcmFtIGRpbSAtIEFuIGFycmF5IGdpdmluZyB0aGUgZGltZW5zaW9uIG9mIHRoZSBhcnJheS4gRm9yIGV4YW1wbGUsXG4gICAqICAgWzVdIHdvdWxkIHlpZWxkIGEgNSBlbGVtZW50IGFycmF5LCBhbmQgWzMsM10gd291bGQgeWllbGQgYSAzIGJ5IDMgbWF0cml4LlxuICAgKiBAcGFyYW0gaW5pdCAtIEEgdmFsdWUgb3IgYSBmdW5jdGlvbiB1c2VkIHRvIGZpbGwgaW4gdGhlIGVhY2ggZWxlbWVudCBpblxuICAgKiAgIHRoZSBhcnJheS4gSWYgaXQgaXMgYSBmdW5jdGlvbiBpdCBzaG91bGQgdGFrZSBubyBhcmd1bWVudHMsIGl0IHdpbGwgYmUgXG4gICAqICAgZXZhbHVhdGVkIG9uY2UgZm9yIGVhY2ggZWxlbWVudCwgYW5kIGl0J3MgcmV0dXJuIHZhbHVlIHdpbGwgYmUgdXNlZCB0b1xuICAgKiAgIGZpbGwgaW4gZWFjaCBlbGVtZW50LlxuICAgKiBAZXhhbXBsZSBcbiAgICogLy8gVGhlIGZvbGxvd2luZyB3b3VsZCByZXR1cm4gW1sxLDFdLFsxLDFdLFsxLDFdXVxuICAgKiBjcmVhdGVfYXJyYXkoWzIsM10sIDEpXG4gICAqL1xuICB2YXIgY3JlYXRlX2FycmF5ID0gZnVuY3Rpb24oZGltLCBpbml0KSB7XG4gICAgdmFyIGFyciA9IG5ldyBBcnJheShkaW1bMF0pO1xuICAgIHZhciBpO1xuICAgIGlmKGRpbS5sZW5ndGggPT0gMSkgeyAvLyBGaWxsIGl0IHVwIHdpdGggaW5pdFxuICAgICAgaWYodHlwZW9mIGluaXQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIGFycltpXSA9IGluaXQoKTtcbiAgICAgICAgfSAgXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIGFycltpXSA9IGluaXQ7XG4gICAgICAgIH0gXG4gICAgICB9XG4gICAgfSBlbHNlIGlmKGRpbS5sZW5ndGggPiAxKSB7XG4gICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICBhcnJbaV0gPSBjcmVhdGVfYXJyYXkoZGltLnNsaWNlKDEpLCBpbml0KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJjcmVhdGVfYXJyYXkgY2FuJ3QgY3JlYXRlIGEgZGltZW5zaW9ubGVzcyBhcnJheVwiO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIFJldHVybiB0aGUgZGltZW5zaW9ucyBvZiBhIHBvc3NpYmx5IG5lc3RlZCBhcnJheSBhcyBhbiBhcnJheS4gRm9yIFxuICAgKiBleGFtcGxlLCBhcnJheV9kaW0oIFtbMSwgMl0sIFsxLCAyXV0gKSBzaG91bGQgcmV0dXJuIFsyLCAyXVxuICAgKiBBc3N1bWVzIHRoYXQgYWxsIGFycmF5cyBpbnNpZGUgYW5vdGhlciBhcnJheSBhcmUgb2YgdGhlIHNhbWUgbGVuZ3RoLlxuICAgKiBAZXhhbXBsZVxuICAgKiAvLyBTaG91bGQgcmV0dXJuIFs0LCAyLCAxXVxuICAgKiBhcnJheV9kaW0oY3JlYXRlX2FycmF5KFs0LCAyLCAxXSwgMCkpXG4gICAqL1xuICB2YXIgYXJyYXlfZGltID0gZnVuY3Rpb24oYSkge1xuICAgIGlmKEFycmF5LmlzQXJyYXkoYVswXSkpIHtcbiAgICAgIHJldHVybiBbYS5sZW5ndGhdLmNvbmNhdChhcnJheV9kaW0oYVswXSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW2EubGVuZ3RoXTtcbiAgICB9XG4gIH07XG4gIFxuICAvKipcbiAgICogQ2hlY2tzIGlmIHR3byBhcnJheXMgYXJlIGVxdWFsIGluIHRoZSBzZW5zZSB0aGF0IHRoZXkgY29udGFpbiB0aGUgc2FtZSBlbGVtZW50c1xuICAgKiBhcyBqdWRnZWQgYnkgdGhlIFwiPT1cIiBvcGVyYXRvci4gUmV0dXJucyB0cnVlIG9yIGZhbHNlLlxuICAgKiBBZGFwdGVkIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTQ4NTM5NzQvMTAwMTg0OFxuICAgKi8gXG4gIHZhciBhcnJheV9lcXVhbCA9IGZ1bmN0aW9uIChhMSwgYTIpIHtcbiAgICAgIGlmIChhMS5sZW5ndGggIT0gYTIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGExLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBuZXN0ZWQgYXJyYXlzXG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYTFbaV0pICYmIEFycmF5LmlzQXJyYXkoYTJbaV0pKSB7XG4gICAgICAgICAgICAgIC8vIHJlY3Vyc2UgaW50byB0aGUgbmVzdGVkIGFycmF5c1xuICAgICAgICAgICAgICBpZiAoIWFycmF5X2VxdWFsKGExW2ldLCBhMltpXSkpIHJldHVybiBmYWxzZTsgICAgICAgXG4gICAgICAgICAgfSAgICAgICAgICAgXG4gICAgICAgICAgZWxzZSBpZiAoYTFbaV0gIT0gYTJbaV0pIHsgXG4gICAgICAgICAgICAgIC8vIFdhcm5pbmcgLSB0d28gZGlmZmVyZW50IG9iamVjdCBpbnN0YW5jZXMgd2lsbCBuZXZlciBiZSBlcXVhbDoge3g6MjB9ICE9IHt4OjIwfVxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgXG4gICAgICAgICAgfSAgICAgICAgICAgXG4gICAgICB9ICAgICAgIFxuICAgICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIFxuICAvKipcbiAgICogVHJhdmVyc2VzIGEgcG9zc2libHkgbmVzdGVkIGFycmF5IGEgYW5kIGFwcGxpZXMgZnVuIHRvIGFsbCBcImxlYWYgbm9kZXNcIiwgXG4gICAqIHRoYXQgaXMsIHZhbHVlcyB0aGF0IGFyZSBub3QgYXJyYXlzLiBSZXR1cm5zIGFuIGFycmF5IG9mIHRoZSBzYW1lIHNpemUgYXNcbiAgICogYS5cbiAgICovXG4gIHZhciBuZXN0ZWRfYXJyYXlfYXBwbHkgPSBmdW5jdGlvbihhLCBmdW4pIHtcbiAgICBpZihBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KGEubGVuZ3RoKTtcbiAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdFtpXSA9IG5lc3RlZF9hcnJheV9hcHBseShhW2ldLCBmdW4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bihhKTtcbiAgICB9XG4gIH07XG4gIFxuICAvKiogUmFuZG9taXppbmcgdGhlIGFycmF5IGVsZW1lbnQgb3JkZXIgaW4tcGxhY2UuIFVzaW5nIER1cnN0ZW5mZWxkXG4gICAqIHNodWZmbGUgYWxnb3JpdGhtLiBBZGFwdGVkIGZyb20gaGVyZTogXG4gICAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEyNjQ2ODY0LzEwMDE4NDhcbiAgICovXG4gIGZ1bmN0aW9uIHNodWZmbGVfYXJyYXkoYXJyYXkpIHtcbiAgICAgIGZvciAodmFyIGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICAgICAgdmFyIGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcbiAgICAgICAgICB2YXIgdGVtcCA9IGFycmF5W2ldO1xuICAgICAgICAgIGFycmF5W2ldID0gYXJyYXlbal07XG4gICAgICAgICAgYXJyYXlbal0gPSB0ZW1wO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICB9XG4gIFxuICAvKipcbiAgICogRG9lcyB0aGUgc2FtZSB0aGluZyBhcyBuZXN0ZWRfYXJyYXlfYXBwbHksIHRoYXQgaXMsIHRyYXZlcnNlcyBhIHBvc3NpYmx5XG4gICAqIG5lc3RlZCBhcnJheSBhIGFuZCBhcHBsaWVzIGZ1biB0byBhbGwgXCJsZWFmIG5vZGVzXCIgYW5kIHJldHVybnMgYW4gYXJyYXkgXG4gICAqIG9mIHRoZSBzYW1lIHNpemUgYXMgYS4gVGhlIGRpZmZlcmVuY2UgaXMgdGhhdCBuZXN0ZWRfYXJyYXlfcmFuZG9tX2FwcGx5XG4gICAqIGJyYW5jaGVzIHJhbmRvbWx5LlxuICAgKi9cbiAgdmFyIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkgPSBmdW5jdGlvbihhLCBmdW4pIHtcbiAgICBpZihBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgICB2YXIgbGVuID0gYS5sZW5ndGg7XG4gICAgICB2YXIgaTtcbiAgICAgIHZhciBhcnJheV9pcyA9IFtdO1xuICAgICAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgYXJyYXlfaXNbaV0gPSBpO1xuICAgICAgfVxuICAgICAgc2h1ZmZsZV9hcnJheShhcnJheV9pcyk7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBcbiAgICAgIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBhcnJheV9pID0gYXJyYXlfaXNbaV07XG4gICAgICAgIHJlc3VsdFthcnJheV9pXSA9IG5lc3RlZF9hcnJheV9hcHBseShhW2FycmF5X2ldLCBmdW4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bihhKTtcbiAgICB9XG4gIH07XG4gIFxuICAvKipcbiAgICogQWxsb3dzIGEgcHJldHR5IHdheSBvZiBzZXR0aW5nIGRlZmF1bHQgb3B0aW9ucyB3aGVyZSB0aGUgZGVmdWx0cyBjYW4gYmVcbiAgICogb3ZlcnJpZGRlbiBieSBhbiBvcHRpb25zIG9iamVjdC5cbiAgICogIEBwYXJhbSBvcHRpb25fbmFtZSAtIHRoZSBuYW1lIG9mIHRoZSBvcHRpb24gYXMgYSBzdHJpbmdcbiAgICogIEBwYXJhbSBteV9vcHRpb25zIC0gYW4gb3B0aW9uIG9iamVjdCB0aGF0IGNvdWxkIGhhdmUgb3B0aW9uX25hbWUgXG4gICAqICAgIGFzIGEgbWVtYmVyLlxuICAgKiBAcGFyYW0gZGVmYXVsX3ZhbHVlIC0gZGVmdWx0IHZhbHVlIHRoYXQgaXMgcmV0dXJuZWQgaWYgb3B0aW9uX25hbWUgXG4gICAqICAgaXMgbm90IGRlZmluZWQgaW4gbXlfb3B0aW9ucy5cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIG15X29wdGlvbnMgPSB7cGk6IDMuMTQxNTl9XG4gICAqIHZhciBwaSA9IGdldF9vcHRpb24oXCJwaVwiLCBteV9vcHRpb25zLCAzLjE0KVxuICAgKi9cbiAgLy8gUHJldHR5IHdheSBvZiBzZXR0aW5nIGRlZmF1bHQgb3B0aW9ucyB3aGVyZSB0aGUgZGVmYXVsdHMgY2FuIGJlIG92ZXJyaWRkZW5cbiAgLy8gYnkgYW4gb3B0aW9ucyBvYmplY3QuIEZvciBleGFtcGxlOlxuICAvLyB2YXIgcGkgPSBnZXRfb3B0aW9uKFwicGlcIiwgbXlfb3B0aW9ucywgMy4xNClcbiAgdmFyIGdldF9vcHRpb24gPSBmdW5jdGlvbihvcHRpb25fbmFtZSwgb3B0aW9ucywgZGVmYXVsX3ZhbHVlKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgcmV0dXJuIG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uX25hbWUpICYmIFxuICAgICAgICAgICBvcHRpb25zW29wdGlvbl9uYW1lXSAhPT0gdW5kZWZpbmVkICAmJiBcbiAgICAgICAgICAgb3B0aW9uc1tvcHRpb25fbmFtZV0gIT09IG51bGwgPyBvcHRpb25zW29wdGlvbl9uYW1lXSA6IGRlZmF1bF92YWx1ZTtcbiAgfTtcbiAgXG4gIC8qKiBWZXJzaW9uIG9mIGdldF9vcHRpb24gd2hlcmUgdGhlIG9wdGlvbiBzaG91bGQgYmUgYSBvbmUgb3IgbXVsdGktZGltZW5zaW9uYWxcbiAgICogYXJyYXkgYW5kIHdoZXJlIHRoZSBkZWZhdWx0IGNhbiBiZSBvdmVycmlkZGVuIGVpdGhlciBieSBhIHNjYWxhciBvciBieSBhbiBhcnJheS5cbiAgICogSWYgaXQncyBhIHNjYWxhciB0aGUgdGhhdCBzY2FsYXIgaXMgdXNlZCB0byBpbml0aWFsaXplIGFuIGFycmF5IHdpdGggXG4gICAqIGRpbSBkaW1lbnNpb25zLlxuICAgKiBcbiAgICovXG4gIHZhciBnZXRfbXVsdGlkaW1fb3B0aW9uID0gZnVuY3Rpb24ob3B0aW9uX25hbWUsIG9wdGlvbnMsIGRpbSwgZGVmYXVsX3ZhbHVlKSB7XG4gICAgdmFyIHZhbHVlID0gZ2V0X29wdGlvbihvcHRpb25fbmFtZSwgb3B0aW9ucywgZGVmYXVsX3ZhbHVlKTtcbiAgICAgaWYoISBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgIHZhbHVlID0gY3JlYXRlX2FycmF5KGRpbSwgdmFsdWUpO1xuICAgICB9IFxuICAgICBpZighIGFycmF5X2VxdWFsKCBhcnJheV9kaW0odmFsdWUpLCBkaW0pKSB7XG4gICAgICAgdGhyb3cgXCJUaGUgb3B0aW9uIFwiICsgb3B0aW9uX25hbWUgKyBcIiBpcyBvZiBkaW1lbnNpb24gW1wiICsgXG4gICAgICAgICAgICAgYXJyYXlfZGltKHZhbHVlKSArIFwiXSBidXQgc2hvdWxkIGJlIFtcIiArIGRpbSArIFwiXS5cIjtcbiAgICB9XG4gICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbiAgXG4gIC8vLy8vLy8vLy8gRnVuY3Rpb25zIGZvciBoYW5kbGluZyBwYXJhbWV0ZXIgb2JqZWN0cyAvLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICAvKipcbiAgICogUmV0dXJucyBhIGZpeGVkIChzYW1lIGV2ZXJ5IHRpbWUpIG51bWJlciB0aGF0IGNvdWxkIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAgKiBhIHBhcmFtZXRlciBvZiBhIGNlcnRhaW4gdHlwZSwgcG9zc2libHkgd2l0aCBsb3dlciBhbmQgdXBwZXIgYm91bmRzLlxuICAgKiBUaGUgcG9zc2lsZSB0eXBlcyBhcmUgXCJyZWFsXCIsIFwiaW50XCIsIGFuZCBcImJpbmFyeVwiLlxuICAgKi9cbiAgdmFyIHBhcmFtX2luaXRfZml4ZWQgPSBmdW5jdGlvbih0eXBlLCBsb3dlciwgdXBwZXIpIHtcbiAgICBpZihsb3dlciA+IHVwcGVyKSB7XG4gICAgICB0aHJvdyBcIkNhbiBub3QgaW5pdGlhbGl6ZSBwYXJhbWV0ZXIgd2hlcmUgbG93ZXIgYm91bmQgPiB1cHBlciBib3VuZFwiO1xuICAgIH1cbiAgICBpZih0eXBlID09PSBcInJlYWxcIikge1xuICAgICAgaWYobG93ZXIgPT09IC1JbmZpbml0eSAmJiB1cHBlciA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIDAuNTtcbiAgICAgIH0gZWxzZSBpZihsb3dlciA9PT0gLUluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiB1cHBlciAtIDAuNTtcbiAgICAgIH0gZWxzZSBpZih1cHBlciA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuIGxvd2VyICsgMC41O1xuICAgICAgfSBlbHNlIGlmKGxvd2VyIDw9IHVwcGVyKSB7XG4gICAgICAgIHJldHVybiAobG93ZXIgKyB1cHBlcikgLyAyO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZih0eXBlID09PSBcImludFwiKSB7XG4gICAgICBpZihsb3dlciA9PT0gLUluZmluaXR5ICYmIHVwcGVyID09PSBJbmZpbml0eSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH0gZWxzZSBpZihsb3dlciA9PT0gLUluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiB1cHBlciAtIDE7XG4gICAgICB9IGVsc2UgaWYodXBwZXIgPT09IEluZmluaXR5KSB7XG4gICAgICAgIHJldHVybiBsb3dlciArIDE7XG4gICAgICB9IGVsc2UgaWYobG93ZXIgPD0gdXBwZXIpe1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgobG93ZXIgKyB1cHBlcikgLyAyKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYodHlwZSA9PT0gXCJiaW5hcnlcIikge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHRocm93IFwiQ291bGQgbm90IGluaXRpYWxpemUgcGFyYW1ldGVyIG9mIHR5cGUgXCIgKyB0eXBlICsgXCJbXCIgKyBsb3dlciArIFwiLCBcIiArIHVwcGVyICsgXCJdXCI7XG4gIH07XG4gIFxuICAvKipcbiAgICogQ29tcGxldGVzIHBhcmFtc190b19jb21wbGV0ZSwgYW4gb2JqZWN0IGNvbnRhaW5pbmcgcGFyYW1ldGVyIGRlc2NyaXB0aW9ucywgXG4gICAqIGFuZCBpbml0aWFsaXplcyBub24taW5pdGlhbGl6ZWQgcGFyYW1ldGVycy4gVGhpcyBtb2RpZmllZCB2ZXJzaW9uIG9mXG4gICAqIHBhcmFtc190b19jb21wbGV0ZSBpcyByZXR1cm5lZCBhcyBhIGRlZXAgY29weSBhbmQgbm90IG1vZGlmaWVkIGluIHBsYWNlLlxuICAgKiBJbml0aWFsaXphdGlvbiBpcyBkb25lIGJ5IHN1cHBseWluZyBhIHBhcmFtX2luaXQgZnVuY3Rpb24gd2l0aCBzaWduYXR1cmVcbiAgICogZnVuY3Rpb24odHlwZSwgbG93ZXIsIHVwcGVyKSB0aGF0IHNob3VsZCByZXR1cm4gYSBzaW5nbGUgbnVtYmVyIFxuICAgKiAobGlrZSBwYXJhbV9pbml0X2ZpeGVkLCBmb3IgZXhhbXBsZSkuXG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBwYXJhbXMgPSB7IFwibXVcIjoge1widHlwZVwiOiBcInJlYWxcIn0gfVxuICAgKiBwYXJhbXMgPSBjb21wbGV0ZV9wYXJhbXMocGFyYW1zKTtcbiAgICogLy8gcGFyYW1zIHNob3VsZCBub3cgYmU6XG4gICAqIC8vICB7XCJtdVwiOiB7IFwidHlwZVwiOiBcInJlYWxcIiwgXCJkaW1cIjogWzFdLCBcInVwcGVyXCI6IEluZmluaXR5LFxuICAgKiAvLyAgICAgICAgICAgXCJsb3dlclwiOiAtSW5maW5pdHksIFwiaW5pdFwiOiAwLjUgfX1cbiAgICovIFxuICB2YXIgY29tcGxldGVfcGFyYW1zICA9IGZ1bmN0aW9uKHBhcmFtc190b19jb21wbGV0ZSwgcGFyYW1faW5pdCkge1xuICAgIHZhciBwYXJhbXMgPSBkZWVwX2Nsb25lKHBhcmFtc190b19jb21wbGV0ZSk7XG4gICAgZm9yICh2YXIgcGFyYW1fbmFtZSBpbiBwYXJhbXMpIHsgaWYgKCFwYXJhbXMuaGFzT3duUHJvcGVydHkocGFyYW1fbmFtZSkpIGNvbnRpbnVlO1xuICAgICAgdmFyIHBhcmFtID0gcGFyYW1zW3BhcmFtX25hbWVdO1xuICAgICAgaWYoICFwYXJhbS5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikpIHtcbiAgICAgICAgcGFyYW0udHlwZSA9IFwicmVhbFwiO1xuICAgICAgfVxuICAgICAgaWYoIXBhcmFtLmhhc093blByb3BlcnR5KFwiZGltXCIpKSB7XG4gICAgICAgIHBhcmFtLmRpbSA9IFsxXTtcbiAgICAgIH1cbiAgICAgIGlmKGlzX251bWJlcihwYXJhbS5kaW0pKSB7XG4gICAgICAgIHBhcmFtLmRpbSA9IFtwYXJhbS5kaW1dO1xuICAgICAgfVxuICAgICAgaWYocGFyYW0udHlwZSA9PSBcImJpbmFyeVwiKSB7XG4gICAgICAgIHBhcmFtLnVwcGVyID0gMTtcbiAgICAgICAgcGFyYW0ubG93ZXIgPSAwO1xuICAgICAgfVxuICAgICAgaWYoIXBhcmFtLmhhc093blByb3BlcnR5KFwidXBwZXJcIikpIHtcbiAgICAgICAgcGFyYW0udXBwZXIgPSBJbmZpbml0eTtcbiAgICAgIH1cbiAgICAgIGlmKCFwYXJhbS5oYXNPd25Qcm9wZXJ0eShcImxvd2VyXCIpKSB7XG4gICAgICAgIHBhcmFtLmxvd2VyID0gLUluZmluaXR5O1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZihwYXJhbS5oYXNPd25Qcm9wZXJ0eShcImluaXRcIikpIHtcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBqdXN0IGEgbnVtYmVyIG9yIGEgbmVzdGVkIGFycmF5IHdlIGxlYXZlIGl0IGFsb25lLCBidXQgaWYuLi5cbiAgICAgICAgaWYoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pICYmIHR5cGVvZiBwYXJhbS5pbml0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAvLyBwYXJhbS5pbml0IGlzIGEgZnVuY3Rpb24sIHVzZSB0aGF0IHRvIGluaXRpYWxpemUgdGhlIHBhcmFtZXRlci5cbiAgICAgICAgICBwYXJhbS5pbml0ID0gcGFyYW0uaW5pdCgpO1xuICAgICAgICB9IGVsc2UgaWYoIWFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSAmJiAhQXJyYXkuaXNBcnJheShwYXJhbS5pbml0KSkge1xuICAgICAgICAvLyBXZSBoYXZlIGEgbXVsdGlkaW1lbnNpb25hbCBwYXJhbWV0ZXIgd2hlcmUgdGhlIHBhcmFtLmluaXQgZXhpc3QgYnV0XG4gICAgICAgIC8vIGlzIG5vdCBhbiBhcnJheS4gVGhlbiBhc3N1bWUgaXQgaXMgYSBudW1iZXIgb3IgYSBmdW5jdGlvbiBhbmQgdXNlXG4gICAgICAgIC8vIGl0IHRvIGluaXRpYWxpemUgdGhlIHBhcmFtZXRlci5cbiAgICAgICAgcGFyYW0uaW5pdCA9IGNyZWF0ZV9hcnJheShwYXJhbS5kaW0sIHBhcmFtLmluaXQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgeyAvLyBXZSB1c2UgdGhlIGRlZmF1bHQgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24uXG4gICAgICAgIGlmKGFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSkge1xuICAgICAgICAgIHBhcmFtLmluaXQgPSBwYXJhbV9pbml0KHBhcmFtLnR5cGUsIHBhcmFtLmxvd2VyLCBwYXJhbS51cHBlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyYW0uaW5pdCA9IGNyZWF0ZV9hcnJheShwYXJhbS5kaW0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmFtX2luaXQocGFyYW0udHlwZSwgcGFyYW0ubG93ZXIsIHBhcmFtLnVwcGVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFyYW1zO1xuICB9O1xuICBcbiAgXG4gIC8vLy8vLy8vLy8gU3RlcHBlciBGdW5jdGlvbnMgLy8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBcbiAgXG4gIC8qKlxuICAgKiBAaW50ZXJmYWNlXG4gICAqIEEgU3RlcHBlciBpcyBhbiBvYmplY3QgcmVzcG9uc2libGUgZm9yIHB1c2hpbmcgYXJvdW5kIG9uZVxuICAgKiBvciBtb3JlIHBhcmFtZXRlciB2YWx1ZXMgaW4gYSBzdGF0ZSBhY2NvcmRpbmcgdG8gdGhlIGRpc3RyaWJ1dGlvblxuICAgKiBkZWZpbmVkIGJ5IHRoZSBsb2cgcG9zdGVyaW9yLiBUaGlzIGRlZmluZXMgdGhlIFN0ZXBwZXIgXCJpbnRlcmZhY2VcIixcbiAgICogd2hlcmUgXCJpbnRlcmZhY2VcIiBtZWFucyB0aGF0IFN0ZXBwZXIgZGVmaW5lcyBhIGNsYXNzIHRoYXQgaXMgbmV2ZXJcbiAgICogbWVhbnQgdG8gYmUgaW5zdGFudGlhdGVkLCBidXQganVzdCB0byBiZSBzdWJjbGFzc2VkIGJ5IHNwZWNpYWxpemVkXG4gICAqIHN0ZXBwZXIgZnVuY3Rpb25zLlxuICAgKiBAaW50ZXJmYWNlXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBBbiBvYmplY3Qgd2l0aCBwYXJhbWV0ZXIgZGVmaW5pdGlvbnMsIGZvciBleGFtcGxlOlxuICAgKiAgIHtcIm11XCI6IHsgXCJ0eXBlXCI6IFwicmVhbFwiLCBcImRpbVwiOiBbMV0sIFwidXBwZXJcIjogSW5maW5pdHksIFxuICAgKiAgIFwibG93ZXJcIjogLUluZmluaXR5LCBcImluaXRcIjogMC41IH19XG4gICAqICAgVGhlIHBhcmFtZXRlciBkZWZpbml0aW9ucyBhcmUgZXhwZWN0ZWQgdG8gYmUgXCJjb21wbGV0ZVwiLCB0aGF0IGlzLFxuICAgKiAgIHNwZWNpZnlpbmcgYWxsIHJlbGV2YW50IGF0dHJpYnV0ZXMgc3VjaCBhcyBkaW0sIGxvd2VyIGFuZCB1cHBlci5cbiAgICogQHBhcmFtIHN0YXRlIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXRlIG9mIGFsbCBwYXJhbWV0ZXJzIGluIHBhcmFtc1xuICAgKiAgIChhbmQgcG9zc2libHkgbW9yZSkuIFRoZSBwYXJhbWV0ZXIgbmFtZXMgYXJlIGdpdmVuIGFzIGtleXMgYW5kIHRoZSBzdGF0ZXNcbiAgICogICBhcyBzY2FsYXJzIG9yLCBwb3NzaWJseSBuZXN0ZWQsIGFycmF5cy4gRm9yIGV4YW1wbGU6XG4gICAqICAge211OiAxMCwgc2lnbWE6IDUsIGJldGE6IFsxLCAyLjVdfVxuICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uICp0YWtpbmcgbm8gcGFyYW1ldGVycyogdGhhdCByZXR1cm5zIHRoZVxuICAgKiAgIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIFRoYXQgaXMsIHRoZSB2YWx1ZSBvZiBsb2dfcG9zdFxuICAgKiAgIHNob3VsZCBjaGFuZ2UgaWYgdGhlIHRoZSB2YWx1ZXMgaW4gc3RhdGUgYXJlIGNoYW5nZWQuXG4gIFxuICAgKi9cbiAgdmFyIFN0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCkge1xuICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLmxvZ19wb3N0ID0gbG9nX3Bvc3Q7XG4gIH07XG4gIFxuICAvKipcbiAgICogVGFrZXMgYSBzdGVwIGluIHRoZSBwYXJhbWV0ZXIgc3BhY2UuIFNob3VsZCByZXR1cm4gdGhlIG5ldyBzdGF0ZSxcbiAgICogYnV0IGlzIG1haW5seSBjYWxsZWQgZm9yIGl0J3Mgc2lkZSBlZmZlY3Qgb2YgbWFraW5nIGEgY2hhbmdlIGluIHRoZVxuICAgKiBzdGF0ZSBvYmplY3QuXG4gICAqL1xuICBTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgXCJFdmVyeSBTdGVwcGVyIG5lZWQgdG8gaW1wbGVtZW50IHN0ZXAoKVwiO1xuICB9O1xuICBcbiAgLyoqXG4gICAqIElmIGltcGxlbWVudGVkLCBtYWtlcyB0aGUgc3RlcHBlciBhZGFwdCB3aGlsZSBzdGVwcGluZy5cbiAgICovIFxuICBTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gT3B0aW9uYWwsIHNvbWUgc3RlcHBlcnMgbWlnaHQgbm90IGJlIGFkYXB0aXZlLiAqLyBcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBJZiBpbXBsZW1lbnRlZCwgbWFrZXMgdGhlIHN0ZXBwZXIgY2Vhc2UgYWRhcHRpbmcgd2hpbGUgc3RlcHBpbmcuXG4gICAqLyBcbiAgU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gT3B0aW9uYWwsIHNvbWUgc3RlcHBlcnMgbWlnaHQgbm90IGJlIGFkYXB0aXZlLiAqLyBcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluZyBpbmZvIHJlZ2FyZGluZyB0aGUgc3RlcHBlci5cbiAgICovIFxuICBTdGVwcGVyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBpbmZvIGFib3V0IHRoZSBzdGF0ZSBvZiB0aGUgc3RlcHBlci5cbiAgICByZXR1cm4ge307XG4gIH07XG4gIFxuICBcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn1cbiAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgdGhlIG1ldHJvcG9saXMgc3RlcCBpblxuICAgKiB0aGUgQWRhcHRpdmUgTWV0cm9wb2xpcy1XaXRoaW4tR2liYnMgYWxnb3JpdGhtIGluIFwiRXhhbXBsZXMgb2YgQWRhcHRpdmUgTUNNQ1wiXG4gICAqIGJ5IFJvYmVydHMgYW5kIFJvc2VudGhhbCAoMjAwOCkuXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBBbiBvYmplY3Qgd2l0aCBhIHNpbmdsZSBwYXJhbWV0ZXIgZGVmaW5pdGlvbi5cbiAgICogQHBhcmFtIHN0YXRlIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXRlIG9mIGFsbCBwYXJhbWV0ZXJzLlxuICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbG9nIGRlbnNpdHkgdGhhdCBkZXBlbmRzIG9uIHRoZSBzdGF0ZS4gXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gYW4gb2JqZWN0IHdpdGggb3B0aW9ucyB0byB0aGUgc3RlcHBlci5cbiAgICogQHBhcmFtIGdlbmVyYXRlX3Byb3Bvc2FsIC0gYSBmdW5jdGlvbiByZXR1cm5pbmcgYSBwcm9wb3NhbCAoYXMgYSBudW1iZXIpXG4gICAqIHdpdGggc2lnbmF0dXJlIGZ1bmN0aW9uKHBhcmFtX3N0YXRlLCBsb2dfc2NhbGUpIHdoZXJlIHBhcmFtX3N0YXRlIGlzIGFcbiAgICogbnVtYmVyIGFuZCBsb2dfc2NhbGUgZGVmaW5lcyB0aGUgc2NhbGUgb2YgdGhlIHByb3Bvc2FsIHNvbWVob3cuXG4gICovXG4gIHZhciBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBnZW5lcmF0ZV9wcm9wb3NhbCkge1xuICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7XG4gICAgXG4gICAgdmFyIHBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpO1xuICAgIGlmKHBhcmFtX25hbWVzLmxlbmd0aCAgIT0gMSkge1xuICAgICAgdGhyb3cgXCJPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciBjYW4gb25seSBoYW5kbGUgb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07XG4gICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTtcbiAgICBpZighYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7XG4gICAgICB0aHJvdyBcIk9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIGNhbiBvbmx5IGhhbmRsZSBvbmUgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgdGhpcy5sb3dlciA9IHBhcmFtLmxvd2VyO1xuICAgIHRoaXMudXBwZXIgPSBwYXJhbS51cHBlcjtcbiAgICBcbiAgICB0aGlzLnByb3BfbG9nX3NjYWxlICAgICA9IGdldF9vcHRpb24oXCJwcm9wX2xvZ19zY2FsZVwiLCBvcHRpb25zLCAwKTtcbiAgICB0aGlzLmJhdGNoX3NpemUgICAgICAgICA9IGdldF9vcHRpb24oXCJiYXRjaF9zaXplXCIsIG9wdGlvbnMsIDUwKTtcbiAgICB0aGlzLm1heF9hZGFwdGF0aW9uICAgICA9IGdldF9vcHRpb24oXCJtYXhfYWRhcHRhdGlvblwiLCBvcHRpb25zLCAwLjMzKTtcbiAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiA9IGdldF9vcHRpb24oXCJpbml0aWFsX2FkYXB0YXRpb25cIiwgb3B0aW9ucywgMS4wKTtcbiAgICB0aGlzLnRhcmdldF9hY2NlcHRfcmF0ZSA9IGdldF9vcHRpb24oXCJ0YXJnZXRfYWNjZXB0X3JhdGVcIiwgb3B0aW9ucywgMC40NCk7XG4gICAgdGhpcy5pc19hZGFwdGluZyAgICAgICAgPSBnZXRfb3B0aW9uKFwiaXNfYWRhcHRpbmdcIiwgb3B0aW9ucywgdHJ1ZSk7XG4gICAgXG4gICAgdGhpcy5nZW5lcmF0ZV9wcm9wb3NhbCA9IGdlbmVyYXRlX3Byb3Bvc2FsO1xuICAgIFxuICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7XG4gICAgdGhpcy5iYXRjaF9jb3VudCA9IDA7XG4gICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uID0gMDsgIFxuICB9O1xuICBcbiAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlcjtcbiAgXG4gIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGFyYW1fc3RhdGUgPSB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV07XG4gICAgICB2YXIgcGFyYW1fcHJvcG9zYWwgPSB0aGlzLmdlbmVyYXRlX3Byb3Bvc2FsKHBhcmFtX3N0YXRlLCB0aGlzLnByb3BfbG9nX3NjYWxlKTtcbiAgICAgIGlmKHBhcmFtX3Byb3Bvc2FsIDwgdGhpcy5sb3dlciB8fCBwYXJhbV9wcm9wb3NhbCA+IHRoaXMudXBwZXIpIHtcbiAgICAgICAgLy8gT3V0c2lkZSBvZiBsaW1pdHMgb2YgdGhlIHBhcmFtZXRlciwgcmVqZWN0IHRoZSBwcm9wb3NhbCBcbiAgICAgICAgLy8gYW5kIHN0YXkgYXQgdGhlIGN1cnJlbnQgc3RhdGUuXG4gICAgICB9IGVsc2UgeyAvLyBtYWtlIGEgTWV0cm9wb2xpcyBzdGVwXG4gICAgICAgIHZhciBjdXJyX2xvZ19kZW5zID0gdGhpcy5sb2dfcG9zdCgpO1xuICAgICAgICB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0gPSBwYXJhbV9wcm9wb3NhbDtcbiAgICAgICAgdmFyIHByb3BfbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7XG4gICAgICAgIHZhciBhY2NlcHRfcHJvYiA9IE1hdGguZXhwKHByb3BfbG9nX2RlbnMgLSBjdXJyX2xvZ19kZW5zKTtcbiAgICAgICAgaWYoYWNjZXB0X3Byb2IgPiBNYXRoLnJhbmRvbSgpKSB7XG4gICAgICAgICAgLy8gV2UgZG8gbm90aGluZyBhcyB0aGUgc3RhdGUgb2YgcGFyYW0gaGFzIGFscmVhZHkgYmVlbiBjaGFuZ2VkIHRvIHRoZSBwcm9wb3NhbFxuICAgICAgICAgIGlmKHRoaXMuaXNfYWRhcHRpbmcpIHRoaXMuYWNjZXB0YW5jZV9jb3VudCsrIDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyByZXZlcnQgc3RhdGUgYmFjayB0byB0aGUgb2xkIHN0YXRlIG9mIHBhcmFtXG4gICAgICAgICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gcGFyYW1fc3RhdGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmKHRoaXMuaXNfYWRhcHRpbmcpIHtcbiAgICAgICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uICsrO1xuICAgICAgICBpZih0aGlzLml0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb24gPj0gdGhpcy5iYXRjaF9zaXplKSB7IC8vIHRoZW4gYWRhcHRcbiAgICAgICAgICB0aGlzLmJhdGNoX2NvdW50ICsrO1xuICAgICAgICAgIHZhciBsb2dfc2RfYWRqdXN0bWVudCA9IFxuICAgICAgICAgICAgTWF0aC5taW4odGhpcy5tYXhfYWRhcHRhdGlvbiwgXG4gICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiAvIE1hdGguc3FydCh0aGlzLmJhdGNoX2NvdW50KSk7XG4gICAgICAgICAgaWYodGhpcy5hY2NlcHRhbmNlX2NvdW50IC8gdGhpcy5iYXRjaF9zaXplID4gdGhpcy50YXJnZXRfYWNjZXB0X3JhdGUpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcF9sb2dfc2NhbGUgKz0gbG9nX3NkX2FkanVzdG1lbnQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHJvcF9sb2dfc2NhbGUgLT0gbG9nX3NkX2FkanVzdG1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuYWNjZXB0YW5jZV9jb3VudCA9IDA7XG4gICAgICAgICAgdGhpcy5pdGVyYXRpb25zX3NpbmNlX2FkYXB0aW9uID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXTtcbiAgfTtcbiAgXG4gIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pc19hZGFwdGluZyA9IHRydWU7XG4gIH07XG4gIFxuICBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pc19hZGFwdGluZyA9IGZhbHNlO1xuICB9O1xuICBcbiAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvcF9sb2dfc2NhbGU6IHRoaXMucHJvcF9sb2dfc2NhbGUsXG4gICAgICBpc19hZGFwdGluZzogdGhpcy5pc19hZGFwdGluZyxcbiAgICAgIGFjY2VwdGFuY2VfY291bnQ6IHRoaXMuYWNjZXB0YW5jZV9jb3VudCxcbiAgICAgIGl0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb246IHRoaXMuaXRlcmF0aW9uc19zaW5jZV9hZGFwdGlvbixcbiAgICAgIGJhdGNoX2NvdW50OiB0aGlzLmJhdGNoX2NvdW50XG4gICAgfTtcbiAgfTtcbiAgXG4gIFxuICAvKipcbiAgICogRnVuY3Rpb24gcmV0dXJuaW5nIGEgTm9ybWFsIHByb3Bvc2FsLlxuICAgKi9cbiAgdmFyIG5vcm1hbF9wcm9wb3NhbCA9IGZ1bmN0aW9uKHBhcmFtX3N0YXRlLCBwcm9wX2xvZ19zY2FsZSkge1xuICAgIHJldHVybiBybm9ybShwYXJhbV9zdGF0ZSAsIE1hdGguZXhwKHByb3BfbG9nX3NjYWxlKSk7XG4gIH07XG4gIFxuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBhdWdtZW50cyB7T25lZGltTWV0cm9wb2xpc1N0ZXBwZXJ9XG4gICAqIEEgXCJzdWJjbGFzc1wiIG9mIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBjb250aW5vdXMgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovXG4gIHZhciBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykge1xuICAgIE9uZWRpbU1ldHJvcG9saXNTdGVwcGVyLmNhbGwodGhpcywgcGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMsIG5vcm1hbF9wcm9wb3NhbCk7XG4gIH07XG4gIFxuICBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShPbmVkaW1NZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUpOyBcbiAgUmVhbE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlYWxNZXRyb3BvbGlzU3RlcHBlcjtcbiAgXG4gIC8qKlxuICAgKiBGdW5jdGlvbiByZXR1cm5pbmcgYSBkaXNjcmV0aXplZCBOb3JtYWwgcHJvcG9zYWwuXG4gICAqL1xuICB2YXIgZGlzY3JldGVfbm9ybWFsX3Byb3Bvc2FsID0gZnVuY3Rpb24ocGFyYW1fc3RhdGUsIHByb3BfbG9nX3NjYWxlKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQocm5vcm0ocGFyYW1fc3RhdGUgLCBNYXRoLmV4cChwcm9wX2xvZ19zY2FsZSkpKTtcbiAgfTtcbiAgXG4gICAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAYXVnbWVudHMge09uZWRpbU1ldHJvcG9saXNTdGVwcGVyfVxuICAgKiBBIFwic3ViY2xhc3NcIiBvZiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciBtYWtpbmcgZGlzY3JldGl6ZWQgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovXG4gIHZhciBJbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgZGlzY3JldGVfbm9ybWFsX3Byb3Bvc2FsKTtcbiAgfTtcbiAgXG4gIEludE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoT25lZGltTWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlKTsgXG4gIEludE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEludE1ldHJvcG9saXNTdGVwcGVyO1xuICBcbiAgXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQGltcGxlbWVudHMge1N0ZXBwZXJ9XG4gICAqIENvbnN0cnVjdG9yIGZvciBhbiBvYmplY3QgdGhhdCBpbXBsZW1lbnRzIHRoZSBtZXRyb3BvbGlzIHN0ZXAgaW5cbiAgICogdGhlIEFkYXB0aXZlIE1ldHJvcG9saXMtV2l0aGluLUdpYmJzIGFsZ29yaXRobSBpbiBcIkV4YW1wbGVzIG9mIEFkYXB0aXZlIE1DTUNcIlxuICAgKiBieSBSb2JlcnRzIGFuZCBSb3NlbnRoYWwgKDIwMDgpIGZvciBwb3NzaWJseSBtdWx0aWRpbWVuc2lvbmFsIGFycmF5cy4gVGhhdFxuICAgKiBpcywgaW5zdGVhZCBvZiBqdXN0IHRha2luZyBhIHN0ZXAgZm9yIGEgb25lLWRpbWVuc2lvbmFsIHBhcmFtZXRlciBsaWtlIFxuICAgKiBPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciwgdGhpcyBTdGVwcGVyIGlzIHJlc3BvbnNpYmxlIGZvciB0YWtpbmcgc3RlcHMgXG4gICAqIGZvciBhIG11bHRpZGltZW5zaW9uYWwgYXJyYXkuIEl0J3Mgc3RpbGwgcHJldHR5IGR1bWIgYW5kIGp1c3QgdGFrZXNcbiAgICogb25lLWRpbWVuc2lvbmFsIHN0ZXBzIGZvciBlYWNoIHBhcmFtZXRlciBjb21wb25lbnQsIHRob3VnaC5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uIGZvciBhIFxuICAgKiAgIG11bHRpZGltZW5zaW9uYWwgcGFyYW1ldGVyLlxuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAgKiBAcGFyYW0gU3ViU3RlcHBlciAtIGEgY29uc3RydWN0b3IgZm9yIHRoZSB0eXBlIG9mIG9uZSBkaW1lbnNpb25hbCBTdGVwcGVyIHRvIGFwcGx5IG9uXG4gICAqICAgYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoZSBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlci5cbiAgKi9cbiAgdmFyIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucywgU3ViU3RlcHBlcikge1xuICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7XG4gICAgXG4gICAgdmFyIHBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpO1xuICAgIGlmKHBhcmFtX25hbWVzLmxlbmd0aCAgIT0gMSkge1xuICAgICAgdGhyb3cgXCJNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgdGhpcy5wYXJhbV9uYW1lID0gcGFyYW1fbmFtZXNbMF07XG4gICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lXTtcbiAgICB0aGlzLmxvd2VyID0gcGFyYW0ubG93ZXI7XG4gICAgdGhpcy51cHBlciA9IHBhcmFtLnVwcGVyO1xuICAgIHRoaXMuZGltID0gcGFyYW0uZGltO1xuICBcbiAgICB0aGlzLnByb3BfbG9nX3NjYWxlICAgICA9IGdldF9tdWx0aWRpbV9vcHRpb24oXCJwcm9wX2xvZ19zY2FsZVwiLCBvcHRpb25zLCB0aGlzLmRpbSwgMCk7XG4gICAgdGhpcy5iYXRjaF9zaXplICAgICAgICAgPSBnZXRfbXVsdGlkaW1fb3B0aW9uKFwiYmF0Y2hfc2l6ZVwiLCBvcHRpb25zLCB0aGlzLmRpbSwgNTApO1xuICAgIHRoaXMubWF4X2FkYXB0YXRpb24gICAgID0gZ2V0X211bHRpZGltX29wdGlvbihcIm1heF9hZGFwdGF0aW9uXCIsIG9wdGlvbnMsIHRoaXMuZGltLCAwLjMzKTtcbiAgICB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbiA9IGdldF9tdWx0aWRpbV9vcHRpb24oXCJpbml0aWFsX2FkYXB0YXRpb25cIiwgb3B0aW9ucywgdGhpcy5kaW0sIDEuMCk7XG4gICAgdGhpcy50YXJnZXRfYWNjZXB0X3JhdGUgPSBnZXRfbXVsdGlkaW1fb3B0aW9uKFwidGFyZ2V0X2FjY2VwdF9yYXRlXCIsIG9wdGlvbnMsIHRoaXMuZGltLCAwLjQ0KTtcbiAgICB0aGlzLmlzX2FkYXB0aW5nICAgICAgICA9IGdldF9tdWx0aWRpbV9vcHRpb24oXCJpc19hZGFwdGluZ1wiLCBvcHRpb25zLCB0aGlzLmRpbSwgdHJ1ZSk7XG4gICAgXG4gICAgLy8gVGhpcyBoYWNrIGJlbG93IGlzIGEgcmVjdXJzaXZlIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBhcnJheSBvZiBcbiAgICAvLyBvbmUgZGltZW5zaW9uYWwgc3RlcHBlcnMgYWNjb3JkaW5nIHRvIGRpbS5cbiAgICB2YXIgY3JlYXRlX3N1YnN0ZXBwZXJzID0gXG4gICAgICBmdW5jdGlvbihkaW0sIHN1YnN0YXRlLCBsb2dfcG9zdCwgcHJvcF9sb2dfc2NhbGUsIGJhdGNoX3NpemUsIG1heF9hZGFwdGF0aW9uLCBpbml0aWFsX2FkYXB0YXRpb24sIHRhcmdldF9hY2NlcHRfcmF0ZSwgaXNfYWRhcHRpbmcpIHtcbiAgICAgIHZhciBzdWJzdGVwcGVycyA9IFtdO1xuICAgICAgaWYoZGltLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgZGltWzBdOyBpKyspIHtcbiAgICAgICAgICB2YXIgc3Vib3B0aW9ucyA9IHtwcm9wX2xvZ19zY2FsZTogcHJvcF9sb2dfc2NhbGVbaV0sIGJhdGNoX3NpemU6IGJhdGNoX3NpemVbaV0sXG4gICAgICAgICAgICBtYXhfYWRhcHRhdGlvbjogbWF4X2FkYXB0YXRpb25baV0sIGluaXRpYWxfYWRhcHRhdGlvbjogaW5pdGlhbF9hZGFwdGF0aW9uW2ldLFxuICAgICAgICAgICAgdGFyZ2V0X2FjY2VwdF9yYXRlOiB0YXJnZXRfYWNjZXB0X3JhdGVbaV0sIGlzX2FkYXB0aW5nOiBpc19hZGFwdGluZ1tpXX07XG4gICAgICAgICAgICB2YXIgc3VicGFyYW0gPSB7fTtcbiAgICAgICAgICAgIHN1YnBhcmFtW2ldID0gZGVlcF9jbG9uZShwYXJhbSk7XG4gICAgICAgICAgICBzdWJwYXJhbVtpXS5kaW0gPSBbMV07IC8vIEFzIHRoaXMgc2hvdWxkIG5vdyBiZSBhIG9uZS1kaW0gcGFyYW1ldGVyXG4gICAgICAgICAgICBkZWxldGUgc3VicGFyYW1baV0uaW5pdDsgLy8gQXMgaXQgc291bGQgbm90IGJlIG5lZWRlZFxuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gbmV3IFN1YlN0ZXBwZXIoc3VicGFyYW0sIHN1YnN0YXRlLCBsb2dfcG9zdCwgc3Vib3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gY3JlYXRlX3N1YnN0ZXBwZXJzKGRpbS5zbGljZSgxKSwgc3Vic3RhdGVbaV0sIGxvZ19wb3N0LCBwcm9wX2xvZ19zY2FsZVtpXSwgXG4gICAgICAgICAgICBiYXRjaF9zaXplW2ldLCBtYXhfYWRhcHRhdGlvbltpXSwgaW5pdGlhbF9hZGFwdGF0aW9uW2ldLCB0YXJnZXRfYWNjZXB0X3JhdGVbaV0sIGlzX2FkYXB0aW5nW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN1YnN0ZXBwZXJzO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zdWJzdGVwcGVycyA9IGNyZWF0ZV9zdWJzdGVwcGVycyh0aGlzLmRpbSwgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdLCB0aGlzLmxvZ19wb3N0LFxuICAgICAgdGhpcy5wcm9wX2xvZ19zY2FsZSwgdGhpcy5iYXRjaF9zaXplLCB0aGlzLm1heF9hZGFwdGF0aW9uLCB0aGlzLmluaXRpYWxfYWRhcHRhdGlvbixcbiAgICAgIHRoaXMudGFyZ2V0X2FjY2VwdF9yYXRlLCB0aGlzLmlzX2FkYXB0aW5nKTtcbiAgICBcbiAgfTtcbiAgXG4gIE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE11bHRpZGltQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7XG4gIFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gR28gdGhyb3VnaCB0aGUgc3Vic3RlcHBlcnMgaW4gYSByYW5kb20gb3JkZXIgYW5kIGNhbGwgc3RlcCgpIG9uIHRoZW0uXG4gICAgcmV0dXJuIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge3JldHVybiBzdWJzdGVwcGVyLnN0ZXAoKTsgfSk7XG4gIH07XG4gIFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgbmVzdGVkX2FycmF5X2FwcGx5KHRoaXMuc3Vic3RlcHBlcnMsIGZ1bmN0aW9uKHN1YnN0ZXBwZXIpIHtzdWJzdGVwcGVyLnN0YXJ0X2FkYXB0YXRpb24oKTsgfSk7XG4gIH07XG4gIFxuICBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBuZXN0ZWRfYXJyYXlfYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge3N1YnN0ZXBwZXIuc3RvcF9hZGFwdGF0aW9uKCk7IH0pO1xuICB9O1xuICBcbiAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXN0ZWRfYXJyYXlfYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge1xuICAgICAgcmV0dXJuIHN1YnN0ZXBwZXIuaW5mbygpOyBcbiAgICB9KTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQGF1Z21lbnRzIHtNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyfVxuICAgKiBBIFwic3ViY2xhc3NcIiBvZiBNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIG1ha2luZyBjb250aW5vdXMgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovXG4gIHZhciBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBSZWFsTWV0cm9wb2xpc1N0ZXBwZXIpO1xuICB9O1xuICBcbiAgTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcjtcblxuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBhdWdtZW50cyB7TXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcn1cbiAgICogQSBcInN1YmNsYXNzXCIgb2YgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciBtYWtpbmcgZGlzY3JldGl6ZWQgTm9ybWFsIHByb3Bvc2Fscy5cbiAgICovICAgIFxuICB2YXIgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zLCBJbnRNZXRyb3BvbGlzU3RlcHBlcik7XG4gIH07XG4gIFxuICBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUpOyBcbiAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyO1xuICBcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7U3RlcHBlcn1cbiAgICogQ29uc3RydWN0b3IgZm9yIGFuIG9iamVjdCB0aGF0IGltcGxlbWVudHMgYSBzdGVwIGZvciBhIGJpbmFyeSBwYXJhbWV0ZXIuXG4gICAqIFRoaXMgaXMgZG9uZSBieSBldmFsdWF0aW5nIHRoZSBsb2cgcG9zdGVyaW9yIGZvciBib3RoIHN0YXRlcyBvZiB0aGVcbiAgICogcGFyYW1ldGVyIGFuZCB0aGVuIHNlbGVjdGluZyBhIHN0YXRlIHJhbmRvbWx5IHdpdGggcHJvYmFiaWxpdHkgcmVsYXRpdmUgXG4gICAqIHRvIHRoZSBwb3N0ZXJpb3Igb2YgZWFjaCBzdGF0ZS5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uLlxuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAqL1xuICB2YXIgQmluYXJ5U3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KTtcbiAgICB2YXIgcGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7XG4gICAgaWYocGFyYW1fbmFtZXMubGVuZ3RoICA9PSAxKSB7XG4gICAgICB0aGlzLnBhcmFtX25hbWUgPSBwYXJhbV9uYW1lc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJCaW5hcnlTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gIH07XG4gIFxuICBCaW5hcnlTdGVwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RlcHBlci5wcm90b3R5cGUpOyBcbiAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCaW5hcnlTdGVwcGVyO1xuICBcbiAgQmluYXJ5U3RlcHBlci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3RhdGVbdGhpcy5wYXJhbV9uYW1lXSA9IDA7XG4gICAgdmFyIHplcm9fbG9nX2RlbnMgPSB0aGlzLmxvZ19wb3N0KCk7XG4gICAgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdID0gMTtcbiAgICB2YXIgb25lX2xvZ19kZW5zID0gdGhpcy5sb2dfcG9zdCgpO1xuICAgIHZhciBtYXhfbG9nX2RlbnMgPSBNYXRoLm1heCh6ZXJvX2xvZ19kZW5zLCBvbmVfbG9nX2RlbnMpO1xuICAgIHplcm9fbG9nX2RlbnMgLT0gbWF4X2xvZ19kZW5zO1xuICAgIG9uZV9sb2dfZGVucyAtPSBtYXhfbG9nX2RlbnM7XG4gICAgdmFyIHplcm9fcHJvYiA9IE1hdGguZXhwKHplcm9fbG9nX2RlbnMgLSBNYXRoLmxvZyggTWF0aC5leHAoemVyb19sb2dfZGVucykgKyBNYXRoLmV4cChvbmVfbG9nX2RlbnMpICkgKTtcbiAgICBpZihNYXRoLnJhbmRvbSgpIDwgemVyb19wcm9iKSB7XG4gICAgICB0aGlzLnN0YXRlW3RoaXMucGFyYW1fbmFtZV0gPSAwO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSAvLyBlbHNlIGtlZXAgdGhlIHBhcmFtIGF0IDEgLlxuICAgIHJldHVybiAxO1xuICB9O1xuICBcbiAgICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtTdGVwcGVyfVxuICAgKiBKdXN0IGxpa2UgTXVsdGlkaW1Db21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciB0aGlzIFN0ZXBwZXIgdGFrZXMgYSBzdGVwcyBmb3JcbiAgICogYSBtdWx0aWRpbWVuc2lvbmFsIHBhcmFtZXRlciBieSB1cGRhdGluZyBlYWNoIGNvbXBvbmVudCBpbiB0dXJuLiBUaGUgZGlmZmVyZW5jZVxuICAgKiBpcyB0aGF0IHRoaXMgc3RlcHBlciB3b3JrcyBvbiBiaW5hcnkgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlciBkZWZpbml0aW9uIGZvciBhIFxuICAgKiAgIG11bHRpZGltZW5zaW9uYWwgcGFyYW1ldGVyLlxuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAqL1xuICB2YXIgQmluYXJ5Q29tcG9uZW50U3RlcHBlciA9IGZ1bmN0aW9uKHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0LCBvcHRpb25zKSB7XG4gICAgU3RlcHBlci5jYWxsKHRoaXMsIHBhcmFtcywgc3RhdGUsIGxvZ19wb3N0KTtcbiAgICBcbiAgICB2YXIgcGFyYW1fbmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcyk7XG4gICAgaWYocGFyYW1fbmFtZXMubGVuZ3RoICA9PSAxKSB7XG4gICAgICB0aGlzLnBhcmFtX25hbWUgPSBwYXJhbV9uYW1lc1swXTtcbiAgICAgIHZhciBwYXJhbSA9IHRoaXMucGFyYW1zW3RoaXMucGFyYW1fbmFtZV07XG4gICAgICB0aGlzLmRpbSA9IHBhcmFtLmRpbTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJCaW5hcnlDb21wb25lbnRTdGVwcGVyIGNhbid0IGhhbmRsZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlci5cIjtcbiAgICB9XG4gICAgXG4gICAgdmFyIGNyZWF0ZV9zdWJzdGVwcGVycyA9IFxuICAgICAgZnVuY3Rpb24oZGltLCBzdWJzdGF0ZSwgbG9nX3Bvc3QpIHtcbiAgICAgIHZhciBzdWJzdGVwcGVycyA9IFtdO1xuICAgICAgdmFyIGk7XG4gICAgICBpZihkaW0ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGZvcihpID0gMDsgaSA8IGRpbVswXTsgaSsrKSB7XG4gICAgICAgICAgdmFyIHN1YnBhcmFtcyA9IHt9O1xuICAgICAgICAgIHN1YnBhcmFtc1tpXSA9IHBhcmFtO1xuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gbmV3IEJpbmFyeVN0ZXBwZXIoc3VicGFyYW1zLCBzdWJzdGF0ZSwgbG9nX3Bvc3QpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IoaSA9IDA7IGkgPCBkaW1bMF07IGkrKykge1xuICAgICAgICAgIHN1YnN0ZXBwZXJzW2ldID0gY3JlYXRlX3N1YnN0ZXBwZXJzKGRpbS5zbGljZSgxKSwgc3Vic3RhdGVbaV0sIGxvZ19wb3N0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN1YnN0ZXBwZXJzO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zdWJzdGVwcGVycyA9IGNyZWF0ZV9zdWJzdGVwcGVycyh0aGlzLmRpbSwgdGhpcy5zdGF0ZVt0aGlzLnBhcmFtX25hbWVdLCB0aGlzLmxvZ19wb3N0KTtcbiAgfTtcbiAgXG4gIEJpbmFyeUNvbXBvbmVudFN0ZXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdGVwcGVyLnByb3RvdHlwZSk7IFxuICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJpbmFyeUNvbXBvbmVudFN0ZXBwZXI7XG4gIFxuICBCaW5hcnlDb21wb25lbnRTdGVwcGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gR28gdGhyb3VnaCB0aGUgc3Vic3RlcHBlcnMgaW4gYSByYW5kb20gb3JkZXIgYW5kIGNhbGwgc3RlcCgpIG9uIHRoZW0uXG4gICAgcmV0dXJuIG5lc3RlZF9hcnJheV9yYW5kb21fYXBwbHkodGhpcy5zdWJzdGVwcGVycywgZnVuY3Rpb24oc3Vic3RlcHBlcikge3JldHVybiBzdWJzdGVwcGVyLnN0ZXAoKTsgfSk7XG4gIH07XG4gIFxuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtTdGVwcGVyfVxuICAgKiBUaGlzIHN0ZXBwZXIgY2FuIGJlIHJlc3BvbnNpYmxlIGZvciB0YWtpbmcgYSBzdGVwIGZvciBvbmUgb3IgbW9yZSBwYXJhbWV0ZXJzLlxuICAgKiBGb3IgcmVhbCBhbmQgaW50IHBhcmFtZXRlcnMgaXQgdGFrZXMgTWV0cm9wb2xpcyB3aXRoaW4gR2liYnMgc3RlcHMsIGFuZCBmb3IgXG4gICAqIGJpbmFyeSBwYXJhbWV0ZXJzIGl0IGRvZXMgZXZhbHVhdGVzIHRoZSBwb3N0ZXJpb3IgZm9yIGJvdGggcGFyYW10ZXIgdmFsdWVzIGFuZFxuICAgKiByYW5kb21seSBjaGFuZ2VzIHRvIGEgY2VydGFpbiB2YWx1ZSBwcm9wb3J0aW9uYWxseSB0byB0aGF0IHZhbHVlJ3MgcG9zdGVyaW9yXG4gICAqICh0aGlzIGlzIGFsc28gZG9uZSBmb3IgZWFjaCBwYXJhbWV0ZXIsIHNvIGFsc28gYSAqIHdpdGhpbiBHaWJicyBhcHByb2FjaCkuXG4gICAqIFRoaXMgc3RlcHBlciBpcyBhbHNvIGFkYXB0aXZlIGFuZCBjYW4gYmUgZWZmaWNpZW50IHdoZW4gdGhlIG51bWJlciBvZiBwYXJhbWV0ZXJzXG4gICAqIGFyZSBub3QgdG9vIGhpZ2ggYW5kIHRoZSBjb3JyZWxhdGlvbnMgYmV0d2VlbiBwYXJhbWV0ZXJzIGFyZSBsb3cuXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBBbiBvYmplY3Qgd2l0aCBhIG9uZSBvciBtb3JlIHBhcmFtZXRlciBkZWZpbml0aW9uc1xuICAgKiBAcGFyYW0gc3RhdGUgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgYWxsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBsb2dfcG9zdCAtIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBsb2cgZGVuc2l0eSB0aGF0IGRlcGVuZHMgb24gdGhlIHN0YXRlLiBcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzdGVwcGVyLlxuICAqL1xuICB2YXIgQW13Z1N0ZXBwZXIgPSBmdW5jdGlvbihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykge1xuICAgIFN0ZXBwZXIuY2FsbCh0aGlzLCBwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCk7XG4gICAgdGhpcy5wYXJhbV9uYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKTtcbiAgICB0aGlzLnN1YnN0ZXBwZXJzID0gW107XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMucGFyYW1fbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwYXJhbSA9IHBhcmFtc1t0aGlzLnBhcmFtX25hbWVzW2ldXTtcbiAgICAgIHZhciBTZWxlY3RTdGVwcGVyO1xuICAgICAgc3dpdGNoIChwYXJhbS50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJyZWFsXCI6XG4gICAgICAgICAgaWYoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7XG4gICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gUmVhbE1ldHJvcG9saXNTdGVwcGVyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW50XCI6XG4gICAgICAgICAgaWYoYXJyYXlfZXF1YWwocGFyYW0uZGltLCBbMV0pKSB7XG4gICAgICAgICAgICBTZWxlY3RTdGVwcGVyID0gSW50TWV0cm9wb2xpc1N0ZXBwZXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJpbmFyeVwiOlxuICAgICAgICAgIGlmKGFycmF5X2VxdWFsKHBhcmFtLmRpbSwgWzFdKSkge1xuICAgICAgICAgICAgU2VsZWN0U3RlcHBlciA9IEJpbmFyeVN0ZXBwZXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdFN0ZXBwZXIgPSBCaW5hcnlDb21wb25lbnRTdGVwcGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBcIkFtd2dTdGVwcGVyIGNhbid0IGhhbmRsZSBwYXJhbWV0ZXIgXCIgKyB0aGlzLnBhcmFtX25hbWVzW2ldICArXCIgd2l0aCB0eXBlIFwiICsgcGFyYW0udHlwZTsgXG4gICAgICB9XG4gICAgICB2YXIgcGFyYW1fb2JqZWN0X3dyYXAgPSB7fTtcbiAgICAgIHBhcmFtX29iamVjdF93cmFwW3RoaXMucGFyYW1fbmFtZXNbaV1dID0gcGFyYW07XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIHZhciBwYXJhbV9vcHRpb25zID0gb3B0aW9ucy5wYXJhbXMgJiYgb3B0aW9ucy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lc1tpXV0gfHwge307XG4gICAgICBwYXJhbV9vcHRpb25zLnByb3BfbG9nX3NjYWxlICAgICA9IHBhcmFtX29wdGlvbnMucHJvcF9sb2dfc2NhbGUgICAgIHx8IG9wdGlvbnMucHJvcF9sb2dfc2NhbGU7IFxuICAgICAgcGFyYW1fb3B0aW9ucy5iYXRjaF9zaXplICAgICAgICAgPSBwYXJhbV9vcHRpb25zLmJhdGNoX3NpemUgICAgICAgICB8fCBvcHRpb25zLmJhdGNoX3NpemU7IFxuICAgICAgcGFyYW1fb3B0aW9ucy5tYXhfYWRhcHRhdGlvbiAgICAgPSBwYXJhbV9vcHRpb25zLm1heF9hZGFwdGF0aW9uICAgICB8fCBvcHRpb25zLm1heF9hZGFwdGF0aW9uO1xuICAgICAgcGFyYW1fb3B0aW9ucy5pbml0aWFsX2FkYXB0YXRpb24gPSBwYXJhbV9vcHRpb25zLmluaXRpYWxfYWRhcHRhdGlvbiB8fCBvcHRpb25zLmluaXRpYWxfYWRhcHRhdGlvbjtcbiAgICAgIHBhcmFtX29wdGlvbnMudGFyZ2V0X2FjY2VwdF9yYXRlID0gcGFyYW1fb3B0aW9ucy50YXJnZXRfYWNjZXB0X3JhdGUgfHwgb3B0aW9ucy50YXJnZXRfYWNjZXB0X3JhdGU7IFxuICAgICAgcGFyYW1fb3B0aW9ucy5pc19hZGFwdGluZyAgICAgICAgPSBwYXJhbV9vcHRpb25zLmlzX2FkYXB0aW5nICAgICAgICB8fCBvcHRpb25zLmlzX2FkYXB0aW5nOyBcbiAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0gPSBuZXcgU2VsZWN0U3RlcHBlcihwYXJhbV9vYmplY3Rfd3JhcCwgc3RhdGUsIGxvZ19wb3N0LCBwYXJhbV9vcHRpb25zKTtcbiAgICB9XG4gIH07XG4gIFxuICBBbXdnU3RlcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0ZXBwZXIucHJvdG90eXBlKTsgXG4gIEFtd2dTdGVwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFtd2dTdGVwcGVyO1xuICBcbiAgQW13Z1N0ZXBwZXIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbigpIHtcbiAgICBzaHVmZmxlX2FycmF5KHRoaXMuc3Vic3RlcHBlcnMpO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0ZXAoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH07XG4gIFxuICBBbXdnU3RlcHBlci5wcm90b3R5cGUuc3RhcnRfYWRhcHRhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnN0ZXBwZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnN1YnN0ZXBwZXJzW2ldLnN0YXJ0X2FkYXB0YXRpb24oKTtcbiAgICB9XG4gIH07XG4gIFxuICBBbXdnU3RlcHBlci5wcm90b3R5cGUuc3RvcF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic3RlcHBlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuc3Vic3RlcHBlcnNbaV0uc3RvcF9hZGFwdGF0aW9uKCk7XG4gICAgfSBcbiAgfTtcbiAgXG4gIEFtd2dTdGVwcGVyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluZm8gPSB7fTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdWJzdGVwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgaW5mb1t0aGlzLnBhcmFtX25hbWVzW2ldXSA9IHRoaXMuc3Vic3RlcHBlcnNbaV0uaW5mbygpO1xuICAgIH1cbiAgICByZXR1cm4gaW5mbztcbiAgfTtcbiAgXG4gIFxuICBcbiAgLy8vLy8vLy8vLy8gU2FtcGxlciBGdW5jdGlvbnMgLy8vLy8vLy8vL1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIFxuICBcbiAgIC8qKlxuICAgKiBAaW50ZXJmYWNlXG4gICAqIFdoaWxlIHlvdSBjb3VsZCBmaXQgYSBtb2RlbCBieSBwYXN0aW5nIHRvZ2V0aGVyIFN0ZXBwZXJzLCBhXG4gIC8vIFNhbXBsZXIgaXMgaGVyZSBpcyBhIGNvbnZlbmllbmNlIGNsYXNzIHdoZXJlIGFuIGluc3RhbmNlIG9mIFNhbXBsZXJcbiAgLy8gc2V0cyB1cCB0aGUgU3RlcHBlcnMsIGNoZWNrcyB0aGUgcGFyYW1ldGVyIGRlZmluaXRpb24sXG4gIC8vIGFuZCBtYW5hZ2VzIHRoZSBzYW1wbGluZy4gVGhpcyBoZXJlIGRlZmluZXMgdGhlIFNhbXBsZXIgXCJpbnRlcmZhY2VcIi5cbiAgICogQGludGVyZmFjZVxuICAgKiBAcGFyYW0gcGFyYW1zIC0gQW4gb2JqZWN0IHdpdGggcGFyYW1ldGVyIGRlZmluaXRpb25zLCBmb3IgZXhhbXBsZTpcbiAgICogICB7XCJtdVwiOiB7XCJ0eXBlXCI6IFwicmVhbFwifSwgXCJzaWdtYVwiOiB7XCJ0eXBlXCI6IFwicmVhbFwiLCBcImxvd2VyXCIgPSAwfX1cbiAgICogICBUaGUgcGFyYW1ldGVyIGRlZmluaXRpb25zIGRvZXNuJ3QgaGF2ZSB0byBiZSBcImNvbXBsZXRlXCIgYW5kIHByb3BlcnRpZXNcbiAgICogICBsZWZ0IG91dCAobGlrZSBsb3dlciBhbmQgdXBwZXIpIHdpbGwgYmUgZmlsbGVkIGluIGJ5IGRlZmF1bHRzLlxuICAgKiBAcGFyYW0gbG9nX3Bvc3QgLSBBIGZ1bmN0aW9uIHdpdGggc2lnbmF0dXJlIGZ1bmN0aW9uKHN0YXRlLCBkYXRhKS4gSGVyZVxuICAgKiAgIHN0YXRlIHdpbGwgYmUgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc3RhdGUgd2l0aCBlYWNoIHBhcmFtZXRlciBhcyBhIFxuICAgKiAgIGtleSBhbmQgdGhlIHBhcmFtZXRlciB2YWx1ZXMgYXMgbnVtYmVycyBvciBhcnJheXMuIEZvciBleGFtcGxlOlxuICAgKiAgIHtcIm11XCI6IDMsIFwic2lnbWFcIjogMS41fS4gVGhlIGRhdGEgYXJndW1lbnQgd2lsbCBiZSB0aGUgc2FtZSBvYmplY3QgYXMgXG4gICAqICAgdGhlIGRhdGEgYXJndW1lbnQgZ2l2ZW4gYmVsb3cuXG4gICAqIEBwYXJhbSBkYXRhIC0gYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIGxvZ19wb3N0IGZ1bmN0aW9uXG4gICAqICAgd2hlbiBzYW1wbGluZy5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zIHRvIHRoZSBzYW1wbGVyLlxuICAgKi9cbiAgdmFyIFNhbXBsZXIgPSBmdW5jdGlvbihwYXJhbXMsIGxvZ19wb3N0LCBkYXRhLCBvcHRpb25zKSB7XG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLnBhcmFtX25hbWVzID0gT2JqZWN0LmtleXModGhpcy5wYXJhbXMpO1xuICAgIFxuICAgIC8vIFNldHRpbmcgZGVmYXVsdCBvcHRpb25zIGlmIG5vdCBwYXNzZWQgdGhyb3VnaCB0aGUgb3B0aW9ucyBvYmplY3RcbiAgICB0aGlzLnBhcmFtX2luaXRfZnVuICAgPSBnZXRfb3B0aW9uKFwicGFyYW1faW5pdF9mdW5cIiwgb3B0aW9ucywgcGFyYW1faW5pdF9maXhlZCk7XG4gICAgdmFyIHRoaW5uaW5nX2ludGVydmFsID0gZ2V0X29wdGlvbihcInRoaW5cIiwgb3B0aW9ucywgMSk7XG4gICAgdmFyIHBhcmFtc190b19tb25pdG9yID0gZ2V0X29wdGlvbihcIm1vbml0b3JcIiwgb3B0aW9ucywgbnVsbCk7XG4gICAgdGhpcy50aGluKHRoaW5uaW5nX2ludGVydmFsKTtcbiAgICB0aGlzLm1vbml0b3IocGFyYW1zX3RvX21vbml0b3IpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgLy8gQ29tcGxldGluZyB0aGUgcGFyYW1zIGFuZCBpbml0aWFsaXppbmcgdGhlIHN0YXRlLlxuICAgIHRoaXMucGFyYW1zID0gY29tcGxldGVfcGFyYW1zKHRoaXMucGFyYW1zLCB0aGlzLnBhcmFtX2luaXRfZnVuKTtcbiAgICB2YXIgc3RhdGUgPSB7fTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXJhbV9uYW1lcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgIHN0YXRlW3RoaXMucGFyYW1fbmFtZXNbaV1dID0gdGhpcy5wYXJhbXNbdGhpcy5wYXJhbV9uYW1lc1tpXV0uaW5pdDtcbiAgICB9XG4gICAgdGhpcy5sb2dfcG9zdCA9IGZ1bmN0aW9uKCkgeyBcbiAgICAgIHJldHVybiBsb2dfcG9zdChzdGF0ZSwgZGF0YSk7XG4gICAgfTtcbiAgICAvLyBSdW5uaW5nIHRoZSBsb2dfcG9zdCBmdW5jdGlvbiBvbmNlIGluIGNhc2UgaXQgZnVydGhlciBtb2RpZmllcyB0aGUgc3RhdGVcbiAgICAvLyBmb3IgZXhhbXBsZSBhZGRpbmcgZGVyaXZlZCBxdWFudGl0aWVzLlxuICAgIHRoaXMubG9nX3Bvc3QoKTtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5zdGVwcGVycyA9IHRoaXMuY3JlYXRlX3N0ZXBwZXJfZW5zYW1ibGUodGhpcy5wYXJhbXMsIHRoaXMuc3RhdGUsIHRoaXMubG9nX3Bvc3QsIHRoaXMub3B0aW9ucyk7XG4gIH07XG4gIFxuICAvKiogU2hvdWxkIHJldHVybiBhIHZlY3RvciBvZiBzdGVwcGVycyB0aGF0IHdoZW4gY2FsbGVkIFxuICAgKiBzaG91bGQgdGFrZSBhIHN0ZXAgaW4gdGhlIHBhcmFtZXRlciBzcGFjZS5cbiAgICovXG4gIFNhbXBsZXIucHJvdG90eXBlLmNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlID0gZnVuY3Rpb24oc3RhdGUsIGxvZ19wb3N0KXtcbiAgICB0aHJvdyBcIkV2ZXJ5IFNhbXBsZXIgbmVlZHMgdG8gaW1wbGVtZW50IGNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlKClcIjtcbiAgfTtcbiAgXG4gIC8qKiBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGluZm8gYWJvdXQgdGhlIHN0YXRlIG9mIHRoZSBTYW1wbGVyLlxuICAgKi8gXG4gIFNhbXBsZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge3N0YXRlOiB0aGlzLnN0YXRlLCB0aGluOiB0aGlzLnRoaW4sIG1vbml0b3I6IHRoaXMubW9uaXRvcixcbiAgICAgICAgICAgIHN0ZXBwZXJzOiB0aGlzLnN0ZXBwZXJzfTtcbiAgfTtcbiAgXG4gIC8qKiBUYWtlcyBhIHN0ZXAgaW4gdGhlIHBhcmFtZXRlciBzcGFjZS4gUmV0dXJucyB0aGUgbmV3IHNwYWNlXG4gICAqIGJ1dCBhbHNvIG1vZGlmaWVzIHRoZSBzdGF0ZSBpbiBwbGFjZS5cbiAgICovIFxuICBTYW1wbGVyLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgc2h1ZmZsZV9hcnJheSh0aGlzLnN0ZXBwZXJzKTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGVwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zdGVwcGVyc1tpXS5zdGVwKCk7XG4gICAgfVxuICAgIGlmKE9iamVjdC5rZXlzKHRoaXMuc3RhdGUpLmxlbmd0aCA+IE9iamVjdC5rZXlzKHRoaXMucGFyYW1zKS5sZW5ndGgpIHtcbiAgICAgIC8vIFRoZSBzdGF0ZSBjb250YWlucyBkZXZpdmVkIHF1YW50aXRpZXMgKG5vdCBvbmx5IHBhcmFtZXRlcnMpIGFuZCB3ZVxuICAgICAgLy8gbmVlZCB0byBydW4gdGhlIGxvZ19wb3N0IG9uY2UgbW9yZSBpbiBvcmRlciB0byBzZXQgdGhlIGRlcml2ZWQgcXVhbnRpdGllc1xuICAgICAgLy8gZm9yIHRoZSBmaW5hbCBwYXJhbWV0ZXIgc3RhdGVcbiAgICAgIHRoaXMubG9nX3Bvc3QoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH07XG4gIFxuICAvKipcbiAgICogVGFrZXMgbl9pdGVyYXRpb25zIHN0ZXBzIGluIHRoZSBwYXJhbWV0ZXIgc3BhY2UgYW5kIHJldHVybnMgdGhlbVxuICAgKiBhcyBhbiBvYmplY3Qgb2YgYXJyYXlzIHdpdGggb25lIGFycmF5IHBlciBwYXJhbWV0ZXIuIEZvciBleGFtcGxlOlxuICAgKiB7bXU6IFsxLCAtMSwgMiwgMywgLi4uXSwgc2lnbWE6IFsxLCAyLCAyLCAxLCAuLi5dfS5cbiAgICogSWYgdGhpbiBpcyA+IDEgdGhlbiBuX2l0ZXJhdGlvbnMgLyB0aGluIHNhbXBsZXMgYXJlIHJldHVybmVkLlxuICAgKi8gXG4gIFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZSA9IGZ1bmN0aW9uKG5faXRlcmF0aW9ucykge1xuICAgICAgLy8gSW5pdGlhbGl6aW5nIGN1cnJfc2FtcGxlIHdoZXJlIHRoZSBzYW1wbGUgaXMgZ29pbmcgdG8gYmUgc2F2ZWRcbiAgICAgIC8vIGFzIGFuIG9iamVjdCBjb250YWluaW5nIG9uZSBhcnJheSBwZXIgcGFyYW1ldGVyIHRvIGJlIG1vbml0b3JlZC5cbiAgICAgIHZhciBpLCBqLCBtb25pdG9yZWRfcGFyYW1zO1xuICAgICAgaWYodGhpcy5tb25pdG9yZWRfcGFyYW1zID09PSBudWxsKSB7XG4gICAgICAgIG1vbml0b3JlZF9wYXJhbXMgPSBPYmplY3Qua2V5cyh0aGlzLnN0YXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vbml0b3JlZF9wYXJhbXMgPSB0aGlzLm1vbml0b3JlZF9wYXJhbXM7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHZhciBjdXJyX3NhbXBsZSA9IHt9O1xuICAgICAgZm9yKGogPSAwOyBqIDwgbW9uaXRvcmVkX3BhcmFtcy5sZW5ndGg7IGorKykge1xuICAgICAgICBjdXJyX3NhbXBsZVttb25pdG9yZWRfcGFyYW1zW2pdXSA9IFtdO1xuICAgICAgfVxuICAgICAgXG4gICAgICBmb3IoaSA9IDA7IGkgPCBuX2l0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgICBpZihpICUgdGhpcy50aGlubmluZ19pbnRlcnZhbCA9PT0gMCkge1xuICAgICAgICAgIGZvcihqID0gMDsgaiA8IG1vbml0b3JlZF9wYXJhbXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJhbSA9IG1vbml0b3JlZF9wYXJhbXNbal07XG4gICAgICAgICAgICBjdXJyX3NhbXBsZVtwYXJhbV0ucHVzaCggY2xvbmVfcGFyYW1fZHJhdyh0aGlzLnN0YXRlW3BhcmFtXSkgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGVwKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3Vycl9zYW1wbGU7XG4gIH07XG4gIFxuICAvKipcbiAgICogVGFrZXMgbl9pdGVyYXRpb24gc3RlcHMgaW4gcGFyYW1ldGVyIHNwYWNlIGJ1dCByZXR1cm5zIG5vdGhpbmcuXG4gICAqLyBcbiAgU2FtcGxlci5wcm90b3R5cGUuYnVybiA9IGZ1bmN0aW9uKG5faXRlcmF0aW9ucykge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBuX2l0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgdGhpcy5zdGVwKCk7XG4gICAgfVxuICB9O1xuICBcbiAgLyoqXG4gICAqIFNldHMgd2hhdCBwYXJhbWV0ZXJzIHNob3VsZCBiZSBtb25pdG9yZWQgYW5kIHJldHVybmVkIHdoZW4gY2FsbGluZ1xuICAgKiBzYW1wbGUuXG4gICAqLyBcbiAgU2FtcGxlci5wcm90b3R5cGUubW9uaXRvciA9IGZ1bmN0aW9uKHBhcmFtc190b19tb25pdG9yKSB7XG4gICAgICB0aGlzLm1vbml0b3JlZF9wYXJhbXMgPSBwYXJhbXNfdG9fbW9uaXRvcjtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aGlubmluZy4gRm9yIGV4YW1wbGUgdGhpbiA9PSAxMCBtZWFucyB0aGF0IGV2ZXJ5IDEwdGggcG9zdGVyaW9yXG4gICAqIGRyYXcgd2lsbCBiZSBrZXB0LlxuICAgKi8gXG4gIFNhbXBsZXIucHJvdG90eXBlLnRoaW4gPSBmdW5jdGlvbih0aGlubmluZ19pbnRlcnZhbCkge1xuICAgIHRoaXMudGhpbm5pbmdfaW50ZXJ2YWwgPSB0aGlubmluZ19pbnRlcnZhbDtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBTZXRzIGFkYXB0YXRpb24gb24sIGlmIGFwcGxpY2FibGUsIGluIGFsbCBzdGVwcGVycy5cbiAgICovIFxuICBTYW1wbGVyLnByb3RvdHlwZS5zdGFydF9hZGFwdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc3RlcHBlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuc3RlcHBlcnNbaV0uc3RhcnRfYWRhcHRhdGlvbigpO1xuICAgIH1cbiAgfTtcbiAgXG4gICAgLyoqXG4gICAqIFNldHMgYWRhcHRhdGlvbiBvZmYsIGlmIGFwcGxpY2FibGUsIGluIGFsbCBzdGVwcGVycy5cbiAgICovIFxuICBTYW1wbGVyLnByb3RvdHlwZS5zdG9wX2FkYXB0YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGVwcGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zdGVwcGVyc1tpXS5zdG9wX2FkYXB0YXRpb24oKTtcbiAgICB9XG4gIH07XG4gIFxuICAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7U2FtcGxlcn1cbiAgICogVGhpcyBzYW1wbGVyIHVzZXMgdGhlIEFtd2dTdGVwcGVyIGFzIHRoZSBzdGVwcGVyIGZ1bmN0aW9uIHdoaWNoIGltcGxlbWVudHMgdGhlIFxuICAgKiBBZGFwdGl2ZSBNZXRyb3BvbGlzLVdpdGhpbi1HaWJicyBhbGdvcml0aG0gaW4gXCJFeGFtcGxlcyBvZiBBZGFwdGl2ZSBNQ01DXCJcbiAgICogYnkgUm9iZXJ0cyBhbmQgUm9zZW50aGFsICgyMDA4KS4gQW4gYWRpdGlvbiBpcyB0aGF0IGl0IGhhbmRsZXMgaW50IHBhcmFtZXRlcnNcbiAgICogYnkgbWFraW5nIGRpc2NyZXRlIE5vcm1hbCBwcm9wb3NhbHMgYW5kIGJpbmFyeSBwYXJhbWV0ZXJzIGJ5IHRha2luZyBvbiBhIG5ldyBcbiAgICogdmFsdWUgcHJvcG9ydGlvbmFsIHRvIHRoZSBwb3N0ZXJpb3Igb2YgdGhlIHR3byBwb3NzaWJsZSBzdGF0ZXMgb2YgdGhlXG4gICAqIHBhcmFtZXRlci4gVGhpcyBzYW1wbGVyIGNhbiBiZSBlZmZpY2llbnQgd2hlbiB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnNcbiAgICogYXJlIG5vdCB0b28gaGlnaCBhbmQgdGhlIGNvcnJlbGF0aW9ucyBiZXR3ZWVuIHBhcmFtZXRlcnMgYXJlIGxvdy5cbiAgICogQHBhcmFtIHBhcmFtcyAtIEFuIG9iamVjdCB3aXRoIGEgb25lIG9yIG1vcmUgcGFyYW1ldGVyIGRlZmluaXRpb25zXG4gICAqIEBwYXJhbSBzdGF0ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0ZSBvZiBhbGwgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIGxvZ19wb3N0IC0gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGxvZyBkZW5zaXR5IHRoYXQgZGVwZW5kcyBvbiB0aGUgc3RhdGUuIFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMgdG8gdGhlIHN0ZXBwZXIuXG4gICovXG4gIHZhciBBbXdnU2FtcGxlciA9IGZ1bmN0aW9uKHBhcmFtcywgbG9nX3Bvc3QsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICBTYW1wbGVyLmNhbGwodGhpcywgcGFyYW1zLCBsb2dfcG9zdCwgZGF0YSwgb3B0aW9ucyk7XG4gIH07XG4gIFxuICBBbXdnU2FtcGxlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNhbXBsZXIucHJvdG90eXBlKTsgXG4gIEFtd2dTYW1wbGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFtd2dTYW1wbGVyO1xuICBcbiAgQW13Z1NhbXBsZXIucHJvdG90eXBlLmNyZWF0ZV9zdGVwcGVyX2Vuc2FtYmxlID0gZnVuY3Rpb24ocGFyYW1zLCBzdGF0ZSwgbG9nX3Bvc3QsIG9wdGlvbnMpe1xuICAgIHJldHVybiBbIG5ldyBBbXdnU3RlcHBlcihwYXJhbXMsIHN0YXRlLCBsb2dfcG9zdCwgb3B0aW9ucykgXTtcbiAgfTtcbiAgXG4gIFxuICAvLyBSZXR1cm5pbmcgdGhlIGZ1bmN0aW9ucyB0aGF0IHNob3VsZCBiZSBwdWJsaWNseSBleHBvc2VkIGJ5IHRoaXMgbW9kdWxlXG4gIHJldHVybiB7XG4gICAgcnVuaWY6IHJ1bmlmLFxuICAgIHJ1bmlmX2Rpc2NyZXRlOiBydW5pZl9kaXNjcmV0ZSxcbiAgICBybm9ybTogcm5vcm0sXG4gICAgcGFyYW1faW5pdF9maXhlZDogcGFyYW1faW5pdF9maXhlZCwgXG4gICAgY29tcGxldGVfcGFyYW1zOiBjb21wbGV0ZV9wYXJhbXMsIFxuICAgIFJlYWxNZXRyb3BvbGlzU3RlcHBlcjogUmVhbE1ldHJvcG9saXNTdGVwcGVyLCBcbiAgICBJbnRNZXRyb3BvbGlzU3RlcHBlcjogSW50TWV0cm9wb2xpc1N0ZXBwZXIsIFxuICAgIE11bHRpUmVhbENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyOiBNdWx0aVJlYWxDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciwgXG4gICAgTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlcjogTXVsdGlJbnRDb21wb25lbnRNZXRyb3BvbGlzU3RlcHBlciwgXG4gICAgQmluYXJ5U3RlcHBlcjogQmluYXJ5U3RlcHBlciwgXG4gICAgQmluYXJ5Q29tcG9uZW50U3RlcHBlcjogQmluYXJ5Q29tcG9uZW50U3RlcHBlciwgXG4gICAgQW13Z1N0ZXBwZXI6IEFtd2dTdGVwcGVyLCBcbiAgICBBbXdnU2FtcGxlcjogQW13Z1NhbXBsZXJcbiAgfTtcbn0pKTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFzY2VuZGluZyhhLCBiKSB7XG4gIHJldHVybiBhID09IG51bGwgfHwgYiA9PSBudWxsID8gTmFOIDogYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBudW1iZXIoeCkge1xuICByZXR1cm4geCA9PT0gbnVsbCA/IE5hTiA6ICt4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24qIG51bWJlcnModmFsdWVzLCB2YWx1ZW9mKSB7XG4gIGlmICh2YWx1ZW9mID09PSB1bmRlZmluZWQpIHtcbiAgICBmb3IgKGxldCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmICh2YWx1ZSA9ICt2YWx1ZSkgPj0gdmFsdWUpIHtcbiAgICAgICAgeWllbGQgdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxldCBpbmRleCA9IC0xO1xuICAgIGZvciAobGV0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgaWYgKCh2YWx1ZSA9IHZhbHVlb2YodmFsdWUsICsraW5kZXgsIHZhbHVlcykpICE9IG51bGwgJiYgKHZhbHVlID0gK3ZhbHVlKSA+PSB2YWx1ZSkge1xuICAgICAgICB5aWVsZCB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBhc2NlbmRpbmcgZnJvbSBcIi4vYXNjZW5kaW5nLmpzXCI7XG5pbXBvcnQgcGVybXV0ZSBmcm9tIFwiLi9wZXJtdXRlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNvcnQodmFsdWVzLCAuLi5GKSB7XG4gIGlmICh0eXBlb2YgdmFsdWVzW1N5bWJvbC5pdGVyYXRvcl0gIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcInZhbHVlcyBpcyBub3QgaXRlcmFibGVcIik7XG4gIHZhbHVlcyA9IEFycmF5LmZyb20odmFsdWVzKTtcbiAgbGV0IFtmXSA9IEY7XG4gIGlmICgoZiAmJiBmLmxlbmd0aCAhPT0gMikgfHwgRi5sZW5ndGggPiAxKSB7XG4gICAgY29uc3QgaW5kZXggPSBVaW50MzJBcnJheS5mcm9tKHZhbHVlcywgKGQsIGkpID0+IGkpO1xuICAgIGlmIChGLmxlbmd0aCA+IDEpIHtcbiAgICAgIEYgPSBGLm1hcChmID0+IHZhbHVlcy5tYXAoZikpO1xuICAgICAgaW5kZXguc29ydCgoaSwgaikgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGYgb2YgRikge1xuICAgICAgICAgIGNvbnN0IGMgPSBhc2NlbmRpbmdEZWZpbmVkKGZbaV0sIGZbal0pO1xuICAgICAgICAgIGlmIChjKSByZXR1cm4gYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGYgPSB2YWx1ZXMubWFwKGYpO1xuICAgICAgaW5kZXguc29ydCgoaSwgaikgPT4gYXNjZW5kaW5nRGVmaW5lZChmW2ldLCBmW2pdKSk7XG4gICAgfVxuICAgIHJldHVybiBwZXJtdXRlKHZhbHVlcywgaW5kZXgpO1xuICB9XG4gIHJldHVybiB2YWx1ZXMuc29ydChjb21wYXJlRGVmaW5lZChmKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlRGVmaW5lZChjb21wYXJlID0gYXNjZW5kaW5nKSB7XG4gIGlmIChjb21wYXJlID09PSBhc2NlbmRpbmcpIHJldHVybiBhc2NlbmRpbmdEZWZpbmVkO1xuICBpZiAodHlwZW9mIGNvbXBhcmUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcImNvbXBhcmUgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gIHJldHVybiAoYSwgYikgPT4ge1xuICAgIGNvbnN0IHggPSBjb21wYXJlKGEsIGIpO1xuICAgIGlmICh4IHx8IHggPT09IDApIHJldHVybiB4O1xuICAgIHJldHVybiAoY29tcGFyZShiLCBiKSA9PT0gMCkgLSAoY29tcGFyZShhLCBhKSA9PT0gMCk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc2NlbmRpbmdEZWZpbmVkKGEsIGIpIHtcbiAgcmV0dXJuIChhID09IG51bGwgfHwgIShhID49IGEpKSAtIChiID09IG51bGwgfHwgIShiID49IGIpKSB8fCAoYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IDApO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWF4KHZhbHVlcywgdmFsdWVvZikge1xuICBsZXQgbWF4O1xuICBpZiAodmFsdWVvZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1heCA8IHZhbHVlIHx8IChtYXggPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1heCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsZXQgaW5kZXggPSAtMTtcbiAgICBmb3IgKGxldCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICgodmFsdWUgPSB2YWx1ZW9mKHZhbHVlLCArK2luZGV4LCB2YWx1ZXMpKSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1heCA8IHZhbHVlIHx8IChtYXggPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1heCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbWF4O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWluKHZhbHVlcywgdmFsdWVvZikge1xuICBsZXQgbWluO1xuICBpZiAodmFsdWVvZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1pbiA+IHZhbHVlIHx8IChtaW4gPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1pbiA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsZXQgaW5kZXggPSAtMTtcbiAgICBmb3IgKGxldCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgIGlmICgodmFsdWUgPSB2YWx1ZW9mKHZhbHVlLCArK2luZGV4LCB2YWx1ZXMpKSAhPSBudWxsXG4gICAgICAgICAgJiYgKG1pbiA+IHZhbHVlIHx8IChtaW4gPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgIG1pbiA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbWluO1xufVxuIiwiaW1wb3J0IHthc2NlbmRpbmdEZWZpbmVkLCBjb21wYXJlRGVmaW5lZH0gZnJvbSBcIi4vc29ydC5qc1wiO1xuXG4vLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci9xdWlja3NlbGVjdFxuLy8gSVNDIGxpY2Vuc2UsIENvcHlyaWdodCAyMDE4IFZsYWRpbWlyIEFnYWZvbmtpbi5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHF1aWNrc2VsZWN0KGFycmF5LCBrLCBsZWZ0ID0gMCwgcmlnaHQgPSBJbmZpbml0eSwgY29tcGFyZSkge1xuICBrID0gTWF0aC5mbG9vcihrKTtcbiAgbGVmdCA9IE1hdGguZmxvb3IoTWF0aC5tYXgoMCwgbGVmdCkpO1xuICByaWdodCA9IE1hdGguZmxvb3IoTWF0aC5taW4oYXJyYXkubGVuZ3RoIC0gMSwgcmlnaHQpKTtcblxuICBpZiAoIShsZWZ0IDw9IGsgJiYgayA8PSByaWdodCkpIHJldHVybiBhcnJheTtcblxuICBjb21wYXJlID0gY29tcGFyZSA9PT0gdW5kZWZpbmVkID8gYXNjZW5kaW5nRGVmaW5lZCA6IGNvbXBhcmVEZWZpbmVkKGNvbXBhcmUpO1xuXG4gIHdoaWxlIChyaWdodCA+IGxlZnQpIHtcbiAgICBpZiAocmlnaHQgLSBsZWZ0ID4gNjAwKSB7XG4gICAgICBjb25zdCBuID0gcmlnaHQgLSBsZWZ0ICsgMTtcbiAgICAgIGNvbnN0IG0gPSBrIC0gbGVmdCArIDE7XG4gICAgICBjb25zdCB6ID0gTWF0aC5sb2cobik7XG4gICAgICBjb25zdCBzID0gMC41ICogTWF0aC5leHAoMiAqIHogLyAzKTtcbiAgICAgIGNvbnN0IHNkID0gMC41ICogTWF0aC5zcXJ0KHogKiBzICogKG4gLSBzKSAvIG4pICogKG0gLSBuIC8gMiA8IDAgPyAtMSA6IDEpO1xuICAgICAgY29uc3QgbmV3TGVmdCA9IE1hdGgubWF4KGxlZnQsIE1hdGguZmxvb3IoayAtIG0gKiBzIC8gbiArIHNkKSk7XG4gICAgICBjb25zdCBuZXdSaWdodCA9IE1hdGgubWluKHJpZ2h0LCBNYXRoLmZsb29yKGsgKyAobiAtIG0pICogcyAvIG4gKyBzZCkpO1xuICAgICAgcXVpY2tzZWxlY3QoYXJyYXksIGssIG5ld0xlZnQsIG5ld1JpZ2h0LCBjb21wYXJlKTtcbiAgICB9XG5cbiAgICBjb25zdCB0ID0gYXJyYXlba107XG4gICAgbGV0IGkgPSBsZWZ0O1xuICAgIGxldCBqID0gcmlnaHQ7XG5cbiAgICBzd2FwKGFycmF5LCBsZWZ0LCBrKTtcbiAgICBpZiAoY29tcGFyZShhcnJheVtyaWdodF0sIHQpID4gMCkgc3dhcChhcnJheSwgbGVmdCwgcmlnaHQpO1xuXG4gICAgd2hpbGUgKGkgPCBqKSB7XG4gICAgICBzd2FwKGFycmF5LCBpLCBqKSwgKytpLCAtLWo7XG4gICAgICB3aGlsZSAoY29tcGFyZShhcnJheVtpXSwgdCkgPCAwKSArK2k7XG4gICAgICB3aGlsZSAoY29tcGFyZShhcnJheVtqXSwgdCkgPiAwKSAtLWo7XG4gICAgfVxuXG4gICAgaWYgKGNvbXBhcmUoYXJyYXlbbGVmdF0sIHQpID09PSAwKSBzd2FwKGFycmF5LCBsZWZ0LCBqKTtcbiAgICBlbHNlICsraiwgc3dhcChhcnJheSwgaiwgcmlnaHQpO1xuXG4gICAgaWYgKGogPD0gaykgbGVmdCA9IGogKyAxO1xuICAgIGlmIChrIDw9IGopIHJpZ2h0ID0gaiAtIDE7XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59XG5cbmZ1bmN0aW9uIHN3YXAoYXJyYXksIGksIGopIHtcbiAgY29uc3QgdCA9IGFycmF5W2ldO1xuICBhcnJheVtpXSA9IGFycmF5W2pdO1xuICBhcnJheVtqXSA9IHQ7XG59XG4iLCJpbXBvcnQgbWF4IGZyb20gXCIuL21heC5qc1wiO1xuaW1wb3J0IG1heEluZGV4IGZyb20gXCIuL21heEluZGV4LmpzXCI7XG5pbXBvcnQgbWluIGZyb20gXCIuL21pbi5qc1wiO1xuaW1wb3J0IG1pbkluZGV4IGZyb20gXCIuL21pbkluZGV4LmpzXCI7XG5pbXBvcnQgcXVpY2tzZWxlY3QgZnJvbSBcIi4vcXVpY2tzZWxlY3QuanNcIjtcbmltcG9ydCBudW1iZXIsIHtudW1iZXJzfSBmcm9tIFwiLi9udW1iZXIuanNcIjtcbmltcG9ydCB7YXNjZW5kaW5nRGVmaW5lZH0gZnJvbSBcIi4vc29ydC5qc1wiO1xuaW1wb3J0IGdyZWF0ZXN0IGZyb20gXCIuL2dyZWF0ZXN0LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHF1YW50aWxlKHZhbHVlcywgcCwgdmFsdWVvZikge1xuICB2YWx1ZXMgPSBGbG9hdDY0QXJyYXkuZnJvbShudW1iZXJzKHZhbHVlcywgdmFsdWVvZikpO1xuICBpZiAoIShuID0gdmFsdWVzLmxlbmd0aCkgfHwgaXNOYU4ocCA9ICtwKSkgcmV0dXJuO1xuICBpZiAocCA8PSAwIHx8IG4gPCAyKSByZXR1cm4gbWluKHZhbHVlcyk7XG4gIGlmIChwID49IDEpIHJldHVybiBtYXgodmFsdWVzKTtcbiAgdmFyIG4sXG4gICAgICBpID0gKG4gLSAxKSAqIHAsXG4gICAgICBpMCA9IE1hdGguZmxvb3IoaSksXG4gICAgICB2YWx1ZTAgPSBtYXgocXVpY2tzZWxlY3QodmFsdWVzLCBpMCkuc3ViYXJyYXkoMCwgaTAgKyAxKSksXG4gICAgICB2YWx1ZTEgPSBtaW4odmFsdWVzLnN1YmFycmF5KGkwICsgMSkpO1xuICByZXR1cm4gdmFsdWUwICsgKHZhbHVlMSAtIHZhbHVlMCkgKiAoaSAtIGkwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aWxlU29ydGVkKHZhbHVlcywgcCwgdmFsdWVvZiA9IG51bWJlcikge1xuICBpZiAoIShuID0gdmFsdWVzLmxlbmd0aCkgfHwgaXNOYU4ocCA9ICtwKSkgcmV0dXJuO1xuICBpZiAocCA8PSAwIHx8IG4gPCAyKSByZXR1cm4gK3ZhbHVlb2YodmFsdWVzWzBdLCAwLCB2YWx1ZXMpO1xuICBpZiAocCA+PSAxKSByZXR1cm4gK3ZhbHVlb2YodmFsdWVzW24gLSAxXSwgbiAtIDEsIHZhbHVlcyk7XG4gIHZhciBuLFxuICAgICAgaSA9IChuIC0gMSkgKiBwLFxuICAgICAgaTAgPSBNYXRoLmZsb29yKGkpLFxuICAgICAgdmFsdWUwID0gK3ZhbHVlb2YodmFsdWVzW2kwXSwgaTAsIHZhbHVlcyksXG4gICAgICB2YWx1ZTEgPSArdmFsdWVvZih2YWx1ZXNbaTAgKyAxXSwgaTAgKyAxLCB2YWx1ZXMpO1xuICByZXR1cm4gdmFsdWUwICsgKHZhbHVlMSAtIHZhbHVlMCkgKiAoaSAtIGkwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aWxlSW5kZXgodmFsdWVzLCBwLCB2YWx1ZW9mID0gbnVtYmVyKSB7XG4gIGlmIChpc05hTihwID0gK3ApKSByZXR1cm47XG4gIG51bWJlcnMgPSBGbG9hdDY0QXJyYXkuZnJvbSh2YWx1ZXMsIChfLCBpKSA9PiBudW1iZXIodmFsdWVvZih2YWx1ZXNbaV0sIGksIHZhbHVlcykpKTtcbiAgaWYgKHAgPD0gMCkgcmV0dXJuIG1pbkluZGV4KG51bWJlcnMpO1xuICBpZiAocCA+PSAxKSByZXR1cm4gbWF4SW5kZXgobnVtYmVycyk7XG4gIHZhciBudW1iZXJzLFxuICAgICAgaW5kZXggPSBVaW50MzJBcnJheS5mcm9tKHZhbHVlcywgKF8sIGkpID0+IGkpLFxuICAgICAgaiA9IG51bWJlcnMubGVuZ3RoIC0gMSxcbiAgICAgIGkgPSBNYXRoLmZsb29yKGogKiBwKTtcbiAgcXVpY2tzZWxlY3QoaW5kZXgsIGksIDAsIGosIChpLCBqKSA9PiBhc2NlbmRpbmdEZWZpbmVkKG51bWJlcnNbaV0sIG51bWJlcnNbal0pKTtcbiAgaSA9IGdyZWF0ZXN0KGluZGV4LnN1YmFycmF5KDAsIGkgKyAxKSwgKGkpID0+IG51bWJlcnNbaV0pO1xuICByZXR1cm4gaSA+PSAwID8gaSA6IC0xO1xufVxuIiwiaW1wb3J0IHF1YW50aWxlLCB7cXVhbnRpbGVJbmRleH0gZnJvbSBcIi4vcXVhbnRpbGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVkaWFuKHZhbHVlcywgdmFsdWVvZikge1xuICByZXR1cm4gcXVhbnRpbGUodmFsdWVzLCAwLjUsIHZhbHVlb2YpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVkaWFuSW5kZXgodmFsdWVzLCB2YWx1ZW9mKSB7XG4gIHJldHVybiBxdWFudGlsZUluZGV4KHZhbHVlcywgMC41LCB2YWx1ZW9mKTtcbn1cbiIsInZhciBub29wID0ge3ZhbHVlOiAoKSA9PiB7fX07XG5cbmZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICBmb3IgKHZhciBpID0gMCwgbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF8gPSB7fSwgdDsgaSA8IG47ICsraSkge1xuICAgIGlmICghKHQgPSBhcmd1bWVudHNbaV0gKyBcIlwiKSB8fCAodCBpbiBfKSB8fCAvW1xccy5dLy50ZXN0KHQpKSB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIHR5cGU6IFwiICsgdCk7XG4gICAgX1t0XSA9IFtdO1xuICB9XG4gIHJldHVybiBuZXcgRGlzcGF0Y2goXyk7XG59XG5cbmZ1bmN0aW9uIERpc3BhdGNoKF8pIHtcbiAgdGhpcy5fID0gXztcbn1cblxuZnVuY3Rpb24gcGFyc2VUeXBlbmFtZXModHlwZW5hbWVzLCB0eXBlcykge1xuICByZXR1cm4gdHlwZW5hbWVzLnRyaW0oKS5zcGxpdCgvXnxcXHMrLykubWFwKGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbmFtZSA9IFwiXCIsIGkgPSB0LmluZGV4T2YoXCIuXCIpO1xuICAgIGlmIChpID49IDApIG5hbWUgPSB0LnNsaWNlKGkgKyAxKSwgdCA9IHQuc2xpY2UoMCwgaSk7XG4gICAgaWYgKHQgJiYgIXR5cGVzLmhhc093blByb3BlcnR5KHQpKSB0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIHR5cGU6IFwiICsgdCk7XG4gICAgcmV0dXJuIHt0eXBlOiB0LCBuYW1lOiBuYW1lfTtcbiAgfSk7XG59XG5cbkRpc3BhdGNoLnByb3RvdHlwZSA9IGRpc3BhdGNoLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IERpc3BhdGNoLFxuICBvbjogZnVuY3Rpb24odHlwZW5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF8gPSB0aGlzLl8sXG4gICAgICAgIFQgPSBwYXJzZVR5cGVuYW1lcyh0eXBlbmFtZSArIFwiXCIsIF8pLFxuICAgICAgICB0LFxuICAgICAgICBpID0gLTEsXG4gICAgICAgIG4gPSBULmxlbmd0aDtcblxuICAgIC8vIElmIG5vIGNhbGxiYWNrIHdhcyBzcGVjaWZpZWQsIHJldHVybiB0aGUgY2FsbGJhY2sgb2YgdGhlIGdpdmVuIHR5cGUgYW5kIG5hbWUuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICB3aGlsZSAoKytpIDwgbikgaWYgKCh0ID0gKHR5cGVuYW1lID0gVFtpXSkudHlwZSkgJiYgKHQgPSBnZXQoX1t0XSwgdHlwZW5hbWUubmFtZSkpKSByZXR1cm4gdDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBhIHR5cGUgd2FzIHNwZWNpZmllZCwgc2V0IHRoZSBjYWxsYmFjayBmb3IgdGhlIGdpdmVuIHR5cGUgYW5kIG5hbWUuXG4gICAgLy8gT3RoZXJ3aXNlLCBpZiBhIG51bGwgY2FsbGJhY2sgd2FzIHNwZWNpZmllZCwgcmVtb3ZlIGNhbGxiYWNrcyBvZiB0aGUgZ2l2ZW4gbmFtZS5cbiAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBjYWxsYmFjazogXCIgKyBjYWxsYmFjayk7XG4gICAgd2hpbGUgKCsraSA8IG4pIHtcbiAgICAgIGlmICh0ID0gKHR5cGVuYW1lID0gVFtpXSkudHlwZSkgX1t0XSA9IHNldChfW3RdLCB0eXBlbmFtZS5uYW1lLCBjYWxsYmFjayk7XG4gICAgICBlbHNlIGlmIChjYWxsYmFjayA9PSBudWxsKSBmb3IgKHQgaW4gXykgX1t0XSA9IHNldChfW3RdLCB0eXBlbmFtZS5uYW1lLCBudWxsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgY29weTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNvcHkgPSB7fSwgXyA9IHRoaXMuXztcbiAgICBmb3IgKHZhciB0IGluIF8pIGNvcHlbdF0gPSBfW3RdLnNsaWNlKCk7XG4gICAgcmV0dXJuIG5ldyBEaXNwYXRjaChjb3B5KTtcbiAgfSxcbiAgY2FsbDogZnVuY3Rpb24odHlwZSwgdGhhdCkge1xuICAgIGlmICgobiA9IGFyZ3VtZW50cy5sZW5ndGggLSAyKSA+IDApIGZvciAodmFyIGFyZ3MgPSBuZXcgQXJyYXkobiksIGkgPSAwLCBuLCB0OyBpIDwgbjsgKytpKSBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICBpZiAoIXRoaXMuXy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biB0eXBlOiBcIiArIHR5cGUpO1xuICAgIGZvciAodCA9IHRoaXMuX1t0eXBlXSwgaSA9IDAsIG4gPSB0Lmxlbmd0aDsgaSA8IG47ICsraSkgdFtpXS52YWx1ZS5hcHBseSh0aGF0LCBhcmdzKTtcbiAgfSxcbiAgYXBwbHk6IGZ1bmN0aW9uKHR5cGUsIHRoYXQsIGFyZ3MpIHtcbiAgICBpZiAoIXRoaXMuXy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biB0eXBlOiBcIiArIHR5cGUpO1xuICAgIGZvciAodmFyIHQgPSB0aGlzLl9bdHlwZV0sIGkgPSAwLCBuID0gdC5sZW5ndGg7IGkgPCBuOyArK2kpIHRbaV0udmFsdWUuYXBwbHkodGhhdCwgYXJncyk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldCh0eXBlLCBuYW1lKSB7XG4gIGZvciAodmFyIGkgPSAwLCBuID0gdHlwZS5sZW5ndGgsIGM7IGkgPCBuOyArK2kpIHtcbiAgICBpZiAoKGMgPSB0eXBlW2ldKS5uYW1lID09PSBuYW1lKSB7XG4gICAgICByZXR1cm4gYy52YWx1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0KHR5cGUsIG5hbWUsIGNhbGxiYWNrKSB7XG4gIGZvciAodmFyIGkgPSAwLCBuID0gdHlwZS5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICBpZiAodHlwZVtpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICB0eXBlW2ldID0gbm9vcCwgdHlwZSA9IHR5cGUuc2xpY2UoMCwgaSkuY29uY2F0KHR5cGUuc2xpY2UoaSArIDEpKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgdHlwZS5wdXNoKHtuYW1lOiBuYW1lLCB2YWx1ZTogY2FsbGJhY2t9KTtcbiAgcmV0dXJuIHR5cGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRpc3BhdGNoO1xuIiwiZXhwb3J0IHZhciB4aHRtbCA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHN2ZzogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICB4aHRtbDogeGh0bWwsXG4gIHhsaW5rOiBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcbiAgeG1sOiBcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLFxuICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1wiXG59O1xuIiwiaW1wb3J0IG5hbWVzcGFjZXMgZnJvbSBcIi4vbmFtZXNwYWNlcy5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBwcmVmaXggPSBuYW1lICs9IFwiXCIsIGkgPSBwcmVmaXguaW5kZXhPZihcIjpcIik7XG4gIGlmIChpID49IDAgJiYgKHByZWZpeCA9IG5hbWUuc2xpY2UoMCwgaSkpICE9PSBcInhtbG5zXCIpIG5hbWUgPSBuYW1lLnNsaWNlKGkgKyAxKTtcbiAgcmV0dXJuIG5hbWVzcGFjZXMuaGFzT3duUHJvcGVydHkocHJlZml4KSA/IHtzcGFjZTogbmFtZXNwYWNlc1twcmVmaXhdLCBsb2NhbDogbmFtZX0gOiBuYW1lOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xufVxuIiwiaW1wb3J0IG5hbWVzcGFjZSBmcm9tIFwiLi9uYW1lc3BhY2UuanNcIjtcbmltcG9ydCB7eGh0bWx9IGZyb20gXCIuL25hbWVzcGFjZXMuanNcIjtcblxuZnVuY3Rpb24gY3JlYXRvckluaGVyaXQobmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRvY3VtZW50ID0gdGhpcy5vd25lckRvY3VtZW50LFxuICAgICAgICB1cmkgPSB0aGlzLm5hbWVzcGFjZVVSSTtcbiAgICByZXR1cm4gdXJpID09PSB4aHRtbCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubmFtZXNwYWNlVVJJID09PSB4aHRtbFxuICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSlcbiAgICAgICAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlModXJpLCBuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRvckZpeGVkKGZ1bGxuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTtcbiAgcmV0dXJuIChmdWxsbmFtZS5sb2NhbFxuICAgICAgPyBjcmVhdG9yRml4ZWRcbiAgICAgIDogY3JlYXRvckluaGVyaXQpKGZ1bGxuYW1lKTtcbn1cbiIsImZ1bmN0aW9uIG5vbmUoKSB7fVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3Rvcikge1xuICByZXR1cm4gc2VsZWN0b3IgPT0gbnVsbCA/IG5vbmUgOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHNlbGVjdG9yIGZyb20gXCIuLi9zZWxlY3Rvci5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3QpIHtcbiAgaWYgKHR5cGVvZiBzZWxlY3QgIT09IFwiZnVuY3Rpb25cIikgc2VsZWN0ID0gc2VsZWN0b3Ioc2VsZWN0KTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzdWJncm91cHMgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHN1Ymdyb3VwID0gc3ViZ3JvdXBzW2pdID0gbmV3IEFycmF5KG4pLCBub2RlLCBzdWJub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChzdWJub2RlID0gc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSkge1xuICAgICAgICBpZiAoXCJfX2RhdGFfX1wiIGluIG5vZGUpIHN1Ym5vZGUuX19kYXRhX18gPSBub2RlLl9fZGF0YV9fO1xuICAgICAgICBzdWJncm91cFtpXSA9IHN1Ym5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oc3ViZ3JvdXBzLCB0aGlzLl9wYXJlbnRzKTtcbn1cbiIsIi8vIEdpdmVuIHNvbWV0aGluZyBhcnJheSBsaWtlIChvciBudWxsKSwgcmV0dXJucyBzb21ldGhpbmcgdGhhdCBpcyBzdHJpY3RseSBhblxuLy8gYXJyYXkuIFRoaXMgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCBhcnJheS1saWtlIG9iamVjdHMgcGFzc2VkIHRvIGQzLnNlbGVjdEFsbFxuLy8gb3Igc2VsZWN0aW9uLnNlbGVjdEFsbCBhcmUgY29udmVydGVkIGludG8gcHJvcGVyIGFycmF5cyB3aGVuIGNyZWF0aW5nIGFcbi8vIHNlbGVjdGlvbjsgd2UgZG9u4oCZdCBldmVyIHdhbnQgdG8gY3JlYXRlIGEgc2VsZWN0aW9uIGJhY2tlZCBieSBhIGxpdmVcbi8vIEhUTUxDb2xsZWN0aW9uIG9yIE5vZGVMaXN0LiBIb3dldmVyLCBub3RlIHRoYXQgc2VsZWN0aW9uLnNlbGVjdEFsbCB3aWxsIHVzZSBhXG4vLyBzdGF0aWMgTm9kZUxpc3QgYXMgYSBncm91cCwgc2luY2UgaXQgc2FmZWx5IGRlcml2ZWQgZnJvbSBxdWVyeVNlbGVjdG9yQWxsLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXJyYXkoeCkge1xuICByZXR1cm4geCA9PSBudWxsID8gW10gOiBBcnJheS5pc0FycmF5KHgpID8geCA6IEFycmF5LmZyb20oeCk7XG59XG4iLCJmdW5jdGlvbiBlbXB0eSgpIHtcbiAgcmV0dXJuIFtdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3Rvcikge1xuICByZXR1cm4gc2VsZWN0b3IgPT0gbnVsbCA/IGVtcHR5IDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gIH07XG59XG4iLCJpbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBhcnJheSBmcm9tIFwiLi4vYXJyYXkuanNcIjtcbmltcG9ydCBzZWxlY3RvckFsbCBmcm9tIFwiLi4vc2VsZWN0b3JBbGwuanNcIjtcblxuZnVuY3Rpb24gYXJyYXlBbGwoc2VsZWN0KSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gYXJyYXkoc2VsZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3QpIHtcbiAgaWYgKHR5cGVvZiBzZWxlY3QgPT09IFwiZnVuY3Rpb25cIikgc2VsZWN0ID0gYXJyYXlBbGwoc2VsZWN0KTtcbiAgZWxzZSBzZWxlY3QgPSBzZWxlY3RvckFsbChzZWxlY3QpO1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHN1Ymdyb3VwcyA9IFtdLCBwYXJlbnRzID0gW10sIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICAgIHN1Ymdyb3Vwcy5wdXNoKHNlbGVjdC5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSk7XG4gICAgICAgIHBhcmVudHMucHVzaChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzdWJncm91cHMsIHBhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLm1hdGNoZXMoc2VsZWN0b3IpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hpbGRNYXRjaGVyKHNlbGVjdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbihub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubWF0Y2hlcyhzZWxlY3Rvcik7XG4gIH07XG59XG5cbiIsImltcG9ydCB7Y2hpbGRNYXRjaGVyfSBmcm9tIFwiLi4vbWF0Y2hlci5qc1wiO1xuXG52YXIgZmluZCA9IEFycmF5LnByb3RvdHlwZS5maW5kO1xuXG5mdW5jdGlvbiBjaGlsZEZpbmQobWF0Y2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmaW5kLmNhbGwodGhpcy5jaGlsZHJlbiwgbWF0Y2gpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjaGlsZEZpcnN0KCkge1xuICByZXR1cm4gdGhpcy5maXJzdEVsZW1lbnRDaGlsZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obWF0Y2gpIHtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KG1hdGNoID09IG51bGwgPyBjaGlsZEZpcnN0XG4gICAgICA6IGNoaWxkRmluZCh0eXBlb2YgbWF0Y2ggPT09IFwiZnVuY3Rpb25cIiA/IG1hdGNoIDogY2hpbGRNYXRjaGVyKG1hdGNoKSkpO1xufVxuIiwiaW1wb3J0IHtjaGlsZE1hdGNoZXJ9IGZyb20gXCIuLi9tYXRjaGVyLmpzXCI7XG5cbnZhciBmaWx0ZXIgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyO1xuXG5mdW5jdGlvbiBjaGlsZHJlbigpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5jaGlsZHJlbik7XG59XG5cbmZ1bmN0aW9uIGNoaWxkcmVuRmlsdGVyKG1hdGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZmlsdGVyLmNhbGwodGhpcy5jaGlsZHJlbiwgbWF0Y2gpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihtYXRjaCkge1xuICByZXR1cm4gdGhpcy5zZWxlY3RBbGwobWF0Y2ggPT0gbnVsbCA/IGNoaWxkcmVuXG4gICAgICA6IGNoaWxkcmVuRmlsdGVyKHR5cGVvZiBtYXRjaCA9PT0gXCJmdW5jdGlvblwiID8gbWF0Y2ggOiBjaGlsZE1hdGNoZXIobWF0Y2gpKSk7XG59XG4iLCJpbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBtYXRjaGVyIGZyb20gXCIuLi9tYXRjaGVyLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG1hdGNoKSB7XG4gIGlmICh0eXBlb2YgbWF0Y2ggIT09IFwiZnVuY3Rpb25cIikgbWF0Y2ggPSBtYXRjaGVyKG1hdGNoKTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzdWJncm91cHMgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHN1Ymdyb3VwID0gc3ViZ3JvdXBzW2pdID0gW10sIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAoKG5vZGUgPSBncm91cFtpXSkgJiYgbWF0Y2guY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCkpIHtcbiAgICAgICAgc3ViZ3JvdXAucHVzaChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzdWJncm91cHMsIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odXBkYXRlKSB7XG4gIHJldHVybiBuZXcgQXJyYXkodXBkYXRlLmxlbmd0aCk7XG59XG4iLCJpbXBvcnQgc3BhcnNlIGZyb20gXCIuL3NwYXJzZS5qc1wiO1xuaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFNlbGVjdGlvbih0aGlzLl9lbnRlciB8fCB0aGlzLl9ncm91cHMubWFwKHNwYXJzZSksIHRoaXMuX3BhcmVudHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRW50ZXJOb2RlKHBhcmVudCwgZGF0dW0pIHtcbiAgdGhpcy5vd25lckRvY3VtZW50ID0gcGFyZW50Lm93bmVyRG9jdW1lbnQ7XG4gIHRoaXMubmFtZXNwYWNlVVJJID0gcGFyZW50Lm5hbWVzcGFjZVVSSTtcbiAgdGhpcy5fbmV4dCA9IG51bGw7XG4gIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgdGhpcy5fX2RhdGFfXyA9IGRhdHVtO1xufVxuXG5FbnRlck5vZGUucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogRW50ZXJOb2RlLFxuICBhcHBlbmRDaGlsZDogZnVuY3Rpb24oY2hpbGQpIHsgcmV0dXJuIHRoaXMuX3BhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIHRoaXMuX25leHQpOyB9LFxuICBpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uKGNoaWxkLCBuZXh0KSB7IHJldHVybiB0aGlzLl9wYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBuZXh0KTsgfSxcbiAgcXVlcnlTZWxlY3RvcjogZnVuY3Rpb24oc2VsZWN0b3IpIHsgcmV0dXJuIHRoaXMuX3BhcmVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsgfSxcbiAgcXVlcnlTZWxlY3RvckFsbDogZnVuY3Rpb24oc2VsZWN0b3IpIHsgcmV0dXJuIHRoaXMuX3BhcmVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTsgfVxufTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB4O1xuICB9O1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQge0VudGVyTm9kZX0gZnJvbSBcIi4vZW50ZXIuanNcIjtcbmltcG9ydCBjb25zdGFudCBmcm9tIFwiLi4vY29uc3RhbnQuanNcIjtcblxuZnVuY3Rpb24gYmluZEluZGV4KHBhcmVudCwgZ3JvdXAsIGVudGVyLCB1cGRhdGUsIGV4aXQsIGRhdGEpIHtcbiAgdmFyIGkgPSAwLFxuICAgICAgbm9kZSxcbiAgICAgIGdyb3VwTGVuZ3RoID0gZ3JvdXAubGVuZ3RoLFxuICAgICAgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuXG4gIC8vIFB1dCBhbnkgbm9uLW51bGwgbm9kZXMgdGhhdCBmaXQgaW50byB1cGRhdGUuXG4gIC8vIFB1dCBhbnkgbnVsbCBub2RlcyBpbnRvIGVudGVyLlxuICAvLyBQdXQgYW55IHJlbWFpbmluZyBkYXRhIGludG8gZW50ZXIuXG4gIGZvciAoOyBpIDwgZGF0YUxlbmd0aDsgKytpKSB7XG4gICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgbm9kZS5fX2RhdGFfXyA9IGRhdGFbaV07XG4gICAgICB1cGRhdGVbaV0gPSBub2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbnRlcltpXSA9IG5ldyBFbnRlck5vZGUocGFyZW50LCBkYXRhW2ldKTtcbiAgICB9XG4gIH1cblxuICAvLyBQdXQgYW55IG5vbi1udWxsIG5vZGVzIHRoYXQgZG9u4oCZdCBmaXQgaW50byBleGl0LlxuICBmb3IgKDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHtcbiAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICBleGl0W2ldID0gbm9kZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYmluZEtleShwYXJlbnQsIGdyb3VwLCBlbnRlciwgdXBkYXRlLCBleGl0LCBkYXRhLCBrZXkpIHtcbiAgdmFyIGksXG4gICAgICBub2RlLFxuICAgICAgbm9kZUJ5S2V5VmFsdWUgPSBuZXcgTWFwLFxuICAgICAgZ3JvdXBMZW5ndGggPSBncm91cC5sZW5ndGgsXG4gICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsXG4gICAgICBrZXlWYWx1ZXMgPSBuZXcgQXJyYXkoZ3JvdXBMZW5ndGgpLFxuICAgICAga2V5VmFsdWU7XG5cbiAgLy8gQ29tcHV0ZSB0aGUga2V5IGZvciBlYWNoIG5vZGUuXG4gIC8vIElmIG11bHRpcGxlIG5vZGVzIGhhdmUgdGhlIHNhbWUga2V5LCB0aGUgZHVwbGljYXRlcyBhcmUgYWRkZWQgdG8gZXhpdC5cbiAgZm9yIChpID0gMDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHtcbiAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICBrZXlWYWx1ZXNbaV0gPSBrZXlWYWx1ZSA9IGtleS5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSArIFwiXCI7XG4gICAgICBpZiAobm9kZUJ5S2V5VmFsdWUuaGFzKGtleVZhbHVlKSkge1xuICAgICAgICBleGl0W2ldID0gbm9kZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGVCeUtleVZhbHVlLnNldChrZXlWYWx1ZSwgbm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ29tcHV0ZSB0aGUga2V5IGZvciBlYWNoIGRhdHVtLlxuICAvLyBJZiB0aGVyZSBhIG5vZGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMga2V5LCBqb2luIGFuZCBhZGQgaXQgdG8gdXBkYXRlLlxuICAvLyBJZiB0aGVyZSBpcyBub3QgKG9yIHRoZSBrZXkgaXMgYSBkdXBsaWNhdGUpLCBhZGQgaXQgdG8gZW50ZXIuXG4gIGZvciAoaSA9IDA7IGkgPCBkYXRhTGVuZ3RoOyArK2kpIHtcbiAgICBrZXlWYWx1ZSA9IGtleS5jYWxsKHBhcmVudCwgZGF0YVtpXSwgaSwgZGF0YSkgKyBcIlwiO1xuICAgIGlmIChub2RlID0gbm9kZUJ5S2V5VmFsdWUuZ2V0KGtleVZhbHVlKSkge1xuICAgICAgdXBkYXRlW2ldID0gbm9kZTtcbiAgICAgIG5vZGUuX19kYXRhX18gPSBkYXRhW2ldO1xuICAgICAgbm9kZUJ5S2V5VmFsdWUuZGVsZXRlKGtleVZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW50ZXJbaV0gPSBuZXcgRW50ZXJOb2RlKHBhcmVudCwgZGF0YVtpXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkIGFueSByZW1haW5pbmcgbm9kZXMgdGhhdCB3ZXJlIG5vdCBib3VuZCB0byBkYXRhIHRvIGV4aXQuXG4gIGZvciAoaSA9IDA7IGkgPCBncm91cExlbmd0aDsgKytpKSB7XG4gICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChub2RlQnlLZXlWYWx1ZS5nZXQoa2V5VmFsdWVzW2ldKSA9PT0gbm9kZSkpIHtcbiAgICAgIGV4aXRbaV0gPSBub2RlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkYXR1bShub2RlKSB7XG4gIHJldHVybiBub2RlLl9fZGF0YV9fO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIEFycmF5LmZyb20odGhpcywgZGF0dW0pO1xuXG4gIHZhciBiaW5kID0ga2V5ID8gYmluZEtleSA6IGJpbmRJbmRleCxcbiAgICAgIHBhcmVudHMgPSB0aGlzLl9wYXJlbnRzLFxuICAgICAgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzO1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdmFsdWUgPSBjb25zdGFudCh2YWx1ZSk7XG5cbiAgZm9yICh2YXIgbSA9IGdyb3Vwcy5sZW5ndGgsIHVwZGF0ZSA9IG5ldyBBcnJheShtKSwgZW50ZXIgPSBuZXcgQXJyYXkobSksIGV4aXQgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgdmFyIHBhcmVudCA9IHBhcmVudHNbal0sXG4gICAgICAgIGdyb3VwID0gZ3JvdXBzW2pdLFxuICAgICAgICBncm91cExlbmd0aCA9IGdyb3VwLmxlbmd0aCxcbiAgICAgICAgZGF0YSA9IGFycmF5bGlrZSh2YWx1ZS5jYWxsKHBhcmVudCwgcGFyZW50ICYmIHBhcmVudC5fX2RhdGFfXywgaiwgcGFyZW50cykpLFxuICAgICAgICBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGgsXG4gICAgICAgIGVudGVyR3JvdXAgPSBlbnRlcltqXSA9IG5ldyBBcnJheShkYXRhTGVuZ3RoKSxcbiAgICAgICAgdXBkYXRlR3JvdXAgPSB1cGRhdGVbal0gPSBuZXcgQXJyYXkoZGF0YUxlbmd0aCksXG4gICAgICAgIGV4aXRHcm91cCA9IGV4aXRbal0gPSBuZXcgQXJyYXkoZ3JvdXBMZW5ndGgpO1xuXG4gICAgYmluZChwYXJlbnQsIGdyb3VwLCBlbnRlckdyb3VwLCB1cGRhdGVHcm91cCwgZXhpdEdyb3VwLCBkYXRhLCBrZXkpO1xuXG4gICAgLy8gTm93IGNvbm5lY3QgdGhlIGVudGVyIG5vZGVzIHRvIHRoZWlyIGZvbGxvd2luZyB1cGRhdGUgbm9kZSwgc3VjaCB0aGF0XG4gICAgLy8gYXBwZW5kQ2hpbGQgY2FuIGluc2VydCB0aGUgbWF0ZXJpYWxpemVkIGVudGVyIG5vZGUgYmVmb3JlIHRoaXMgbm9kZSxcbiAgICAvLyByYXRoZXIgdGhhbiBhdCB0aGUgZW5kIG9mIHRoZSBwYXJlbnQgbm9kZS5cbiAgICBmb3IgKHZhciBpMCA9IDAsIGkxID0gMCwgcHJldmlvdXMsIG5leHQ7IGkwIDwgZGF0YUxlbmd0aDsgKytpMCkge1xuICAgICAgaWYgKHByZXZpb3VzID0gZW50ZXJHcm91cFtpMF0pIHtcbiAgICAgICAgaWYgKGkwID49IGkxKSBpMSA9IGkwICsgMTtcbiAgICAgICAgd2hpbGUgKCEobmV4dCA9IHVwZGF0ZUdyb3VwW2kxXSkgJiYgKytpMSA8IGRhdGFMZW5ndGgpO1xuICAgICAgICBwcmV2aW91cy5fbmV4dCA9IG5leHQgfHwgbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB1cGRhdGUgPSBuZXcgU2VsZWN0aW9uKHVwZGF0ZSwgcGFyZW50cyk7XG4gIHVwZGF0ZS5fZW50ZXIgPSBlbnRlcjtcbiAgdXBkYXRlLl9leGl0ID0gZXhpdDtcbiAgcmV0dXJuIHVwZGF0ZTtcbn1cblxuLy8gR2l2ZW4gc29tZSBkYXRhLCB0aGlzIHJldHVybnMgYW4gYXJyYXktbGlrZSB2aWV3IG9mIGl0OiBhbiBvYmplY3QgdGhhdFxuLy8gZXhwb3NlcyBhIGxlbmd0aCBwcm9wZXJ0eSBhbmQgYWxsb3dzIG51bWVyaWMgaW5kZXhpbmcuIE5vdGUgdGhhdCB1bmxpa2Vcbi8vIHNlbGVjdEFsbCwgdGhpcyBpc27igJl0IHdvcnJpZWQgYWJvdXQg4oCcbGl2ZeKAnSBjb2xsZWN0aW9ucyBiZWNhdXNlIHRoZSByZXN1bHRpbmdcbi8vIGFycmF5IHdpbGwgb25seSBiZSB1c2VkIGJyaWVmbHkgd2hpbGUgZGF0YSBpcyBiZWluZyBib3VuZC4gKEl0IGlzIHBvc3NpYmxlIHRvXG4vLyBjYXVzZSB0aGUgZGF0YSB0byBjaGFuZ2Ugd2hpbGUgaXRlcmF0aW5nIGJ5IHVzaW5nIGEga2V5IGZ1bmN0aW9uLCBidXQgcGxlYXNlXG4vLyBkb27igJl0OyB3ZeKAmWQgcmF0aGVyIGF2b2lkIGEgZ3JhdHVpdG91cyBjb3B5LilcbmZ1bmN0aW9uIGFycmF5bGlrZShkYXRhKSB7XG4gIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBcImxlbmd0aFwiIGluIGRhdGFcbiAgICA/IGRhdGEgLy8gQXJyYXksIFR5cGVkQXJyYXksIE5vZGVMaXN0LCBhcnJheS1saWtlXG4gICAgOiBBcnJheS5mcm9tKGRhdGEpOyAvLyBNYXAsIFNldCwgaXRlcmFibGUsIHN0cmluZywgb3IgYW55dGhpbmcgZWxzZVxufVxuIiwiaW1wb3J0IHNwYXJzZSBmcm9tIFwiLi9zcGFyc2UuanNcIjtcbmltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZXhpdCB8fCB0aGlzLl9ncm91cHMubWFwKHNwYXJzZSksIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob25lbnRlciwgb251cGRhdGUsIG9uZXhpdCkge1xuICB2YXIgZW50ZXIgPSB0aGlzLmVudGVyKCksIHVwZGF0ZSA9IHRoaXMsIGV4aXQgPSB0aGlzLmV4aXQoKTtcbiAgaWYgKHR5cGVvZiBvbmVudGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBlbnRlciA9IG9uZW50ZXIoZW50ZXIpO1xuICAgIGlmIChlbnRlcikgZW50ZXIgPSBlbnRlci5zZWxlY3Rpb24oKTtcbiAgfSBlbHNlIHtcbiAgICBlbnRlciA9IGVudGVyLmFwcGVuZChvbmVudGVyICsgXCJcIik7XG4gIH1cbiAgaWYgKG9udXBkYXRlICE9IG51bGwpIHtcbiAgICB1cGRhdGUgPSBvbnVwZGF0ZSh1cGRhdGUpO1xuICAgIGlmICh1cGRhdGUpIHVwZGF0ZSA9IHVwZGF0ZS5zZWxlY3Rpb24oKTtcbiAgfVxuICBpZiAob25leGl0ID09IG51bGwpIGV4aXQucmVtb3ZlKCk7IGVsc2Ugb25leGl0KGV4aXQpO1xuICByZXR1cm4gZW50ZXIgJiYgdXBkYXRlID8gZW50ZXIubWVyZ2UodXBkYXRlKS5vcmRlcigpIDogdXBkYXRlO1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdmFyIHNlbGVjdGlvbiA9IGNvbnRleHQuc2VsZWN0aW9uID8gY29udGV4dC5zZWxlY3Rpb24oKSA6IGNvbnRleHQ7XG5cbiAgZm9yICh2YXIgZ3JvdXBzMCA9IHRoaXMuX2dyb3VwcywgZ3JvdXBzMSA9IHNlbGVjdGlvbi5fZ3JvdXBzLCBtMCA9IGdyb3VwczAubGVuZ3RoLCBtMSA9IGdyb3VwczEubGVuZ3RoLCBtID0gTWF0aC5taW4obTAsIG0xKSwgbWVyZ2VzID0gbmV3IEFycmF5KG0wKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwMFtpXSB8fCBncm91cDFbaV0pIHtcbiAgICAgICAgbWVyZ2VbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBqIDwgbTA7ICsraikge1xuICAgIG1lcmdlc1tqXSA9IGdyb3VwczBbal07XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihtZXJnZXMsIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBqID0gLTEsIG0gPSBncm91cHMubGVuZ3RoOyArK2ogPCBtOykge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gZ3JvdXAubGVuZ3RoIC0gMSwgbmV4dCA9IGdyb3VwW2ldLCBub2RlOyAtLWkgPj0gMDspIHtcbiAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHtcbiAgICAgICAgaWYgKG5leHQgJiYgbm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuZXh0KSBeIDQpIG5leHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgbmV4dCk7XG4gICAgICAgIG5leHQgPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNvbXBhcmUpIHtcbiAgaWYgKCFjb21wYXJlKSBjb21wYXJlID0gYXNjZW5kaW5nO1xuXG4gIGZ1bmN0aW9uIGNvbXBhcmVOb2RlKGEsIGIpIHtcbiAgICByZXR1cm4gYSAmJiBiID8gY29tcGFyZShhLl9fZGF0YV9fLCBiLl9fZGF0YV9fKSA6ICFhIC0gIWI7XG4gIH1cblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzb3J0Z3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzb3J0Z3JvdXAgPSBzb3J0Z3JvdXBzW2pdID0gbmV3IEFycmF5KG4pLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICBzb3J0Z3JvdXBbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgICBzb3J0Z3JvdXAuc29ydChjb21wYXJlTm9kZSk7XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzb3J0Z3JvdXBzLCB0aGlzLl9wYXJlbnRzKS5vcmRlcigpO1xufVxuXG5mdW5jdGlvbiBhc2NlbmRpbmcoYSwgYikge1xuICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzWzBdO1xuICBhcmd1bWVudHNbMF0gPSB0aGlzO1xuICBjYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICByZXR1cm4gdGhpcztcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzKTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IDAsIG0gPSBncm91cHMubGVuZ3RoOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICB2YXIgbm9kZSA9IGdyb3VwW2ldO1xuICAgICAgaWYgKG5vZGUpIHJldHVybiBub2RlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIGxldCBzaXplID0gMDtcbiAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMpICsrc2l6ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICByZXR1cm4gc2l6ZTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gIXRoaXMubm9kZSgpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY2FsbGJhY2spIHtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIGogPSAwLCBtID0gZ3JvdXBzLmxlbmd0aDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gMCwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZTsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgY2FsbGJhY2suY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG4iLCJpbXBvcnQgbmFtZXNwYWNlIGZyb20gXCIuLi9uYW1lc3BhY2UuanNcIjtcblxuZnVuY3Rpb24gYXR0clJlbW92ZShuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0clJlbW92ZU5TKGZ1bGxuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJDb25zdGFudChuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyQ29uc3RhbnROUyhmdWxsbmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsLCB2YWx1ZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJGdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmICh2ID09IG51bGwpIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgIGVsc2UgdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJGdW5jdGlvbk5TKGZ1bGxuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmICh2ID09IG51bGwpIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgICBlbHNlIHRoaXMuc2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsLCB2KTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpO1xuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgIHZhciBub2RlID0gdGhpcy5ub2RlKCk7XG4gICAgcmV0dXJuIGZ1bGxuYW1lLmxvY2FsXG4gICAgICAgID8gbm9kZS5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpXG4gICAgICAgIDogbm9kZS5nZXRBdHRyaWJ1dGUoZnVsbG5hbWUpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuZWFjaCgodmFsdWUgPT0gbnVsbFxuICAgICAgPyAoZnVsbG5hbWUubG9jYWwgPyBhdHRyUmVtb3ZlTlMgOiBhdHRyUmVtb3ZlKSA6ICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgPyAoZnVsbG5hbWUubG9jYWwgPyBhdHRyRnVuY3Rpb25OUyA6IGF0dHJGdW5jdGlvbilcbiAgICAgIDogKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckNvbnN0YW50TlMgOiBhdHRyQ29uc3RhbnQpKSkoZnVsbG5hbWUsIHZhbHVlKSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihub2RlKSB7XG4gIHJldHVybiAobm9kZS5vd25lckRvY3VtZW50ICYmIG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldykgLy8gbm9kZSBpcyBhIE5vZGVcbiAgICAgIHx8IChub2RlLmRvY3VtZW50ICYmIG5vZGUpIC8vIG5vZGUgaXMgYSBXaW5kb3dcbiAgICAgIHx8IG5vZGUuZGVmYXVsdFZpZXc7IC8vIG5vZGUgaXMgYSBEb2N1bWVudFxufVxuIiwiaW1wb3J0IGRlZmF1bHRWaWV3IGZyb20gXCIuLi93aW5kb3cuanNcIjtcblxuZnVuY3Rpb24gc3R5bGVSZW1vdmUobmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVDb25zdGFudChuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsdWUsIHByaW9yaXR5KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVGdW5jdGlvbihuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodiA9PSBudWxsKSB0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpO1xuICAgIGVsc2UgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2LCBwcmlvcml0eSk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDFcbiAgICAgID8gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgICA/IHN0eWxlUmVtb3ZlIDogdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgID8gc3R5bGVGdW5jdGlvblxuICAgICAgICAgICAgOiBzdHlsZUNvbnN0YW50KShuYW1lLCB2YWx1ZSwgcHJpb3JpdHkgPT0gbnVsbCA/IFwiXCIgOiBwcmlvcml0eSkpXG4gICAgICA6IHN0eWxlVmFsdWUodGhpcy5ub2RlKCksIG5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVWYWx1ZShub2RlLCBuYW1lKSB7XG4gIHJldHVybiBub2RlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUobmFtZSlcbiAgICAgIHx8IGRlZmF1bHRWaWV3KG5vZGUpLmdldENvbXB1dGVkU3R5bGUobm9kZSwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKTtcbn1cbiIsImZ1bmN0aW9uIHByb3BlcnR5UmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGRlbGV0ZSB0aGlzW25hbWVdO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwcm9wZXJ0eUNvbnN0YW50KG5hbWUsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzW25hbWVdID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHByb3BlcnR5RnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodiA9PSBudWxsKSBkZWxldGUgdGhpc1tuYW1lXTtcbiAgICBlbHNlIHRoaXNbbmFtZV0gPSB2O1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDFcbiAgICAgID8gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgPyBwcm9wZXJ0eVJlbW92ZSA6IHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBwcm9wZXJ0eUZ1bmN0aW9uXG4gICAgICAgICAgOiBwcm9wZXJ0eUNvbnN0YW50KShuYW1lLCB2YWx1ZSkpXG4gICAgICA6IHRoaXMubm9kZSgpW25hbWVdO1xufVxuIiwiZnVuY3Rpb24gY2xhc3NBcnJheShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy50cmltKCkuc3BsaXQoL158XFxzKy8pO1xufVxuXG5mdW5jdGlvbiBjbGFzc0xpc3Qobm9kZSkge1xuICByZXR1cm4gbm9kZS5jbGFzc0xpc3QgfHwgbmV3IENsYXNzTGlzdChub2RlKTtcbn1cblxuZnVuY3Rpb24gQ2xhc3NMaXN0KG5vZGUpIHtcbiAgdGhpcy5fbm9kZSA9IG5vZGU7XG4gIHRoaXMuX25hbWVzID0gY2xhc3NBcnJheShub2RlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCIpO1xufVxuXG5DbGFzc0xpc3QucHJvdG90eXBlID0ge1xuICBhZGQ6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgaSA9IHRoaXMuX25hbWVzLmluZGV4T2YobmFtZSk7XG4gICAgaWYgKGkgPCAwKSB7XG4gICAgICB0aGlzLl9uYW1lcy5wdXNoKG5hbWUpO1xuICAgICAgdGhpcy5fbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB0aGlzLl9uYW1lcy5qb2luKFwiIFwiKSk7XG4gICAgfVxuICB9LFxuICByZW1vdmU6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgaSA9IHRoaXMuX25hbWVzLmluZGV4T2YobmFtZSk7XG4gICAgaWYgKGkgPj0gMCkge1xuICAgICAgdGhpcy5fbmFtZXMuc3BsaWNlKGksIDEpO1xuICAgICAgdGhpcy5fbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB0aGlzLl9uYW1lcy5qb2luKFwiIFwiKSk7XG4gICAgfVxuICB9LFxuICBjb250YWluczogZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLl9uYW1lcy5pbmRleE9mKG5hbWUpID49IDA7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGNsYXNzZWRBZGQobm9kZSwgbmFtZXMpIHtcbiAgdmFyIGxpc3QgPSBjbGFzc0xpc3Qobm9kZSksIGkgPSAtMSwgbiA9IG5hbWVzLmxlbmd0aDtcbiAgd2hpbGUgKCsraSA8IG4pIGxpc3QuYWRkKG5hbWVzW2ldKTtcbn1cblxuZnVuY3Rpb24gY2xhc3NlZFJlbW92ZShub2RlLCBuYW1lcykge1xuICB2YXIgbGlzdCA9IGNsYXNzTGlzdChub2RlKSwgaSA9IC0xLCBuID0gbmFtZXMubGVuZ3RoO1xuICB3aGlsZSAoKytpIDwgbikgbGlzdC5yZW1vdmUobmFtZXNbaV0pO1xufVxuXG5mdW5jdGlvbiBjbGFzc2VkVHJ1ZShuYW1lcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY2xhc3NlZEFkZCh0aGlzLCBuYW1lcyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsYXNzZWRGYWxzZShuYW1lcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY2xhc3NlZFJlbW92ZSh0aGlzLCBuYW1lcyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsYXNzZWRGdW5jdGlvbihuYW1lcywgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICh2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpID8gY2xhc3NlZEFkZCA6IGNsYXNzZWRSZW1vdmUpKHRoaXMsIG5hbWVzKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIG5hbWVzID0gY2xhc3NBcnJheShuYW1lICsgXCJcIik7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdmFyIGxpc3QgPSBjbGFzc0xpc3QodGhpcy5ub2RlKCkpLCBpID0gLTEsIG4gPSBuYW1lcy5sZW5ndGg7XG4gICAgd2hpbGUgKCsraSA8IG4pIGlmICghbGlzdC5jb250YWlucyhuYW1lc1tpXSkpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmVhY2goKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IGNsYXNzZWRGdW5jdGlvbiA6IHZhbHVlXG4gICAgICA/IGNsYXNzZWRUcnVlXG4gICAgICA6IGNsYXNzZWRGYWxzZSkobmFtZXMsIHZhbHVlKSk7XG59XG4iLCJmdW5jdGlvbiB0ZXh0UmVtb3ZlKCkge1xuICB0aGlzLnRleHRDb250ZW50ID0gXCJcIjtcbn1cblxuZnVuY3Rpb24gdGV4dENvbnN0YW50KHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRleHRGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSB2ID09IG51bGwgPyBcIlwiIDogdjtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgID8gdGhpcy5lYWNoKHZhbHVlID09IG51bGxcbiAgICAgICAgICA/IHRleHRSZW1vdmUgOiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IHRleHRGdW5jdGlvblxuICAgICAgICAgIDogdGV4dENvbnN0YW50KSh2YWx1ZSkpXG4gICAgICA6IHRoaXMubm9kZSgpLnRleHRDb250ZW50O1xufVxuIiwiZnVuY3Rpb24gaHRtbFJlbW92ZSgpIHtcbiAgdGhpcy5pbm5lckhUTUwgPSBcIlwiO1xufVxuXG5mdW5jdGlvbiBodG1sQ29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5uZXJIVE1MID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGh0bWxGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHRoaXMuaW5uZXJIVE1MID0gdiA9PSBudWxsID8gXCJcIiA6IHY7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgPyBodG1sUmVtb3ZlIDogKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBodG1sRnVuY3Rpb25cbiAgICAgICAgICA6IGh0bWxDb25zdGFudCkodmFsdWUpKVxuICAgICAgOiB0aGlzLm5vZGUoKS5pbm5lckhUTUw7XG59XG4iLCJmdW5jdGlvbiByYWlzZSgpIHtcbiAgaWYgKHRoaXMubmV4dFNpYmxpbmcpIHRoaXMucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmVhY2gocmFpc2UpO1xufVxuIiwiZnVuY3Rpb24gbG93ZXIoKSB7XG4gIGlmICh0aGlzLnByZXZpb3VzU2libGluZykgdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLCB0aGlzLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lYWNoKGxvd2VyKTtcbn1cbiIsImltcG9ydCBjcmVhdG9yIGZyb20gXCIuLi9jcmVhdG9yLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIGNyZWF0ZSA9IHR5cGVvZiBuYW1lID09PSBcImZ1bmN0aW9uXCIgPyBuYW1lIDogY3JlYXRvcihuYW1lKTtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFwcGVuZENoaWxkKGNyZWF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgY3JlYXRvciBmcm9tIFwiLi4vY3JlYXRvci5qc1wiO1xuaW1wb3J0IHNlbGVjdG9yIGZyb20gXCIuLi9zZWxlY3Rvci5qc1wiO1xuXG5mdW5jdGlvbiBjb25zdGFudE51bGwoKSB7XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCBiZWZvcmUpIHtcbiAgdmFyIGNyZWF0ZSA9IHR5cGVvZiBuYW1lID09PSBcImZ1bmN0aW9uXCIgPyBuYW1lIDogY3JlYXRvcihuYW1lKSxcbiAgICAgIHNlbGVjdCA9IGJlZm9yZSA9PSBudWxsID8gY29uc3RhbnROdWxsIDogdHlwZW9mIGJlZm9yZSA9PT0gXCJmdW5jdGlvblwiID8gYmVmb3JlIDogc2VsZWN0b3IoYmVmb3JlKTtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmluc2VydEJlZm9yZShjcmVhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgc2VsZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgbnVsbCk7XG4gIH0pO1xufVxuIiwiZnVuY3Rpb24gcmVtb3ZlKCkge1xuICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuICBpZiAocGFyZW50KSBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lYWNoKHJlbW92ZSk7XG59XG4iLCJmdW5jdGlvbiBzZWxlY3Rpb25fY2xvbmVTaGFsbG93KCkge1xuICB2YXIgY2xvbmUgPSB0aGlzLmNsb25lTm9kZShmYWxzZSksIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcbiAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRoaXMubmV4dFNpYmxpbmcpIDogY2xvbmU7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbl9jbG9uZURlZXAoKSB7XG4gIHZhciBjbG9uZSA9IHRoaXMuY2xvbmVOb2RlKHRydWUpLCBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG4gIHJldHVybiBwYXJlbnQgPyBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNsb25lLCB0aGlzLm5leHRTaWJsaW5nKSA6IGNsb25lO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihkZWVwKSB7XG4gIHJldHVybiB0aGlzLnNlbGVjdChkZWVwID8gc2VsZWN0aW9uX2Nsb25lRGVlcCA6IHNlbGVjdGlvbl9jbG9uZVNoYWxsb3cpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgID8gdGhpcy5wcm9wZXJ0eShcIl9fZGF0YV9fXCIsIHZhbHVlKVxuICAgICAgOiB0aGlzLm5vZGUoKS5fX2RhdGFfXztcbn1cbiIsImZ1bmN0aW9uIGNvbnRleHRMaXN0ZW5lcihsaXN0ZW5lcikge1xuICByZXR1cm4gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIGV2ZW50LCB0aGlzLl9fZGF0YV9fKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcGFyc2VUeXBlbmFtZXModHlwZW5hbWVzKSB7XG4gIHJldHVybiB0eXBlbmFtZXMudHJpbSgpLnNwbGl0KC9efFxccysvKS5tYXAoZnVuY3Rpb24odCkge1xuICAgIHZhciBuYW1lID0gXCJcIiwgaSA9IHQuaW5kZXhPZihcIi5cIik7XG4gICAgaWYgKGkgPj0gMCkgbmFtZSA9IHQuc2xpY2UoaSArIDEpLCB0ID0gdC5zbGljZSgwLCBpKTtcbiAgICByZXR1cm4ge3R5cGU6IHQsIG5hbWU6IG5hbWV9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb25SZW1vdmUodHlwZW5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBvbiA9IHRoaXMuX19vbjtcbiAgICBpZiAoIW9uKSByZXR1cm47XG4gICAgZm9yICh2YXIgaiA9IDAsIGkgPSAtMSwgbSA9IG9uLmxlbmd0aCwgbzsgaiA8IG07ICsraikge1xuICAgICAgaWYgKG8gPSBvbltqXSwgKCF0eXBlbmFtZS50eXBlIHx8IG8udHlwZSA9PT0gdHlwZW5hbWUudHlwZSkgJiYgby5uYW1lID09PSB0eXBlbmFtZS5uYW1lKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIsIG8ub3B0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblsrK2ldID0gbztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCsraSkgb24ubGVuZ3RoID0gaTtcbiAgICBlbHNlIGRlbGV0ZSB0aGlzLl9fb247XG4gIH07XG59XG5cbmZ1bmN0aW9uIG9uQWRkKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9uID0gdGhpcy5fX29uLCBvLCBsaXN0ZW5lciA9IGNvbnRleHRMaXN0ZW5lcih2YWx1ZSk7XG4gICAgaWYgKG9uKSBmb3IgKHZhciBqID0gMCwgbSA9IG9uLmxlbmd0aDsgaiA8IG07ICsraikge1xuICAgICAgaWYgKChvID0gb25bal0pLnR5cGUgPT09IHR5cGVuYW1lLnR5cGUgJiYgby5uYW1lID09PSB0eXBlbmFtZS5uYW1lKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIsIG8ub3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIgPSBsaXN0ZW5lciwgby5vcHRpb25zID0gb3B0aW9ucyk7XG4gICAgICAgIG8udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIodHlwZW5hbWUudHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgIG8gPSB7dHlwZTogdHlwZW5hbWUudHlwZSwgbmFtZTogdHlwZW5hbWUubmFtZSwgdmFsdWU6IHZhbHVlLCBsaXN0ZW5lcjogbGlzdGVuZXIsIG9wdGlvbnM6IG9wdGlvbnN9O1xuICAgIGlmICghb24pIHRoaXMuX19vbiA9IFtvXTtcbiAgICBlbHNlIG9uLnB1c2gobyk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHR5cGVuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICB2YXIgdHlwZW5hbWVzID0gcGFyc2VUeXBlbmFtZXModHlwZW5hbWUgKyBcIlwiKSwgaSwgbiA9IHR5cGVuYW1lcy5sZW5ndGgsIHQ7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdmFyIG9uID0gdGhpcy5ub2RlKCkuX19vbjtcbiAgICBpZiAob24pIGZvciAodmFyIGogPSAwLCBtID0gb24ubGVuZ3RoLCBvOyBqIDwgbTsgKytqKSB7XG4gICAgICBmb3IgKGkgPSAwLCBvID0gb25bal07IGkgPCBuOyArK2kpIHtcbiAgICAgICAgaWYgKCh0ID0gdHlwZW5hbWVzW2ldKS50eXBlID09PSBvLnR5cGUgJiYgdC5uYW1lID09PSBvLm5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gby52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBvbiA9IHZhbHVlID8gb25BZGQgOiBvblJlbW92ZTtcbiAgZm9yIChpID0gMDsgaSA8IG47ICsraSkgdGhpcy5lYWNoKG9uKHR5cGVuYW1lc1tpXSwgdmFsdWUsIG9wdGlvbnMpKTtcbiAgcmV0dXJuIHRoaXM7XG59XG4iLCJpbXBvcnQgZGVmYXVsdFZpZXcgZnJvbSBcIi4uL3dpbmRvdy5qc1wiO1xuXG5mdW5jdGlvbiBkaXNwYXRjaEV2ZW50KG5vZGUsIHR5cGUsIHBhcmFtcykge1xuICB2YXIgd2luZG93ID0gZGVmYXVsdFZpZXcobm9kZSksXG4gICAgICBldmVudCA9IHdpbmRvdy5DdXN0b21FdmVudDtcblxuICBpZiAodHlwZW9mIGV2ZW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBldmVudCA9IG5ldyBldmVudCh0eXBlLCBwYXJhbXMpO1xuICB9IGVsc2Uge1xuICAgIGV2ZW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7XG4gICAgaWYgKHBhcmFtcykgZXZlbnQuaW5pdEV2ZW50KHR5cGUsIHBhcmFtcy5idWJibGVzLCBwYXJhbXMuY2FuY2VsYWJsZSksIGV2ZW50LmRldGFpbCA9IHBhcmFtcy5kZXRhaWw7XG4gICAgZWxzZSBldmVudC5pbml0RXZlbnQodHlwZSwgZmFsc2UsIGZhbHNlKTtcbiAgfVxuXG4gIG5vZGUuZGlzcGF0Y2hFdmVudChldmVudCk7XG59XG5cbmZ1bmN0aW9uIGRpc3BhdGNoQ29uc3RhbnQodHlwZSwgcGFyYW1zKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2hFdmVudCh0aGlzLCB0eXBlLCBwYXJhbXMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBkaXNwYXRjaEZ1bmN0aW9uKHR5cGUsIHBhcmFtcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoRXZlbnQodGhpcywgdHlwZSwgcGFyYW1zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0eXBlLCBwYXJhbXMpIHtcbiAgcmV0dXJuIHRoaXMuZWFjaCgodHlwZW9mIHBhcmFtcyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IGRpc3BhdGNoRnVuY3Rpb25cbiAgICAgIDogZGlzcGF0Y2hDb25zdGFudCkodHlwZSwgcGFyYW1zKSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiooKSB7XG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IDAsIG0gPSBncm91cHMubGVuZ3RoOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB5aWVsZCBub2RlO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHNlbGVjdGlvbl9zZWxlY3QgZnJvbSBcIi4vc2VsZWN0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX3NlbGVjdEFsbCBmcm9tIFwiLi9zZWxlY3RBbGwuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fc2VsZWN0Q2hpbGQgZnJvbSBcIi4vc2VsZWN0Q2hpbGQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4gZnJvbSBcIi4vc2VsZWN0Q2hpbGRyZW4uanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZmlsdGVyIGZyb20gXCIuL2ZpbHRlci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9kYXRhIGZyb20gXCIuL2RhdGEuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZW50ZXIgZnJvbSBcIi4vZW50ZXIuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZXhpdCBmcm9tIFwiLi9leGl0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2pvaW4gZnJvbSBcIi4vam9pbi5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9tZXJnZSBmcm9tIFwiLi9tZXJnZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9vcmRlciBmcm9tIFwiLi9vcmRlci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zb3J0IGZyb20gXCIuL3NvcnQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fY2FsbCBmcm9tIFwiLi9jYWxsLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX25vZGVzIGZyb20gXCIuL25vZGVzLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX25vZGUgZnJvbSBcIi4vbm9kZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zaXplIGZyb20gXCIuL3NpemUuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZW1wdHkgZnJvbSBcIi4vZW1wdHkuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fZWFjaCBmcm9tIFwiLi9lYWNoLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2F0dHIgZnJvbSBcIi4vYXR0ci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9zdHlsZSBmcm9tIFwiLi9zdHlsZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9wcm9wZXJ0eSBmcm9tIFwiLi9wcm9wZXJ0eS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9jbGFzc2VkIGZyb20gXCIuL2NsYXNzZWQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fdGV4dCBmcm9tIFwiLi90ZXh0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2h0bWwgZnJvbSBcIi4vaHRtbC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9yYWlzZSBmcm9tIFwiLi9yYWlzZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9sb3dlciBmcm9tIFwiLi9sb3dlci5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9hcHBlbmQgZnJvbSBcIi4vYXBwZW5kLmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2luc2VydCBmcm9tIFwiLi9pbnNlcnQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fcmVtb3ZlIGZyb20gXCIuL3JlbW92ZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9jbG9uZSBmcm9tIFwiLi9jbG9uZS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9kYXR1bSBmcm9tIFwiLi9kYXR1bS5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9vbiBmcm9tIFwiLi9vbi5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9kaXNwYXRjaCBmcm9tIFwiLi9kaXNwYXRjaC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9pdGVyYXRvciBmcm9tIFwiLi9pdGVyYXRvci5qc1wiO1xuXG5leHBvcnQgdmFyIHJvb3QgPSBbbnVsbF07XG5cbmV4cG9ydCBmdW5jdGlvbiBTZWxlY3Rpb24oZ3JvdXBzLCBwYXJlbnRzKSB7XG4gIHRoaXMuX2dyb3VwcyA9IGdyb3VwcztcbiAgdGhpcy5fcGFyZW50cyA9IHBhcmVudHM7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oW1tkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRdXSwgcm9vdCk7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbl9zZWxlY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzO1xufVxuXG5TZWxlY3Rpb24ucHJvdG90eXBlID0gc2VsZWN0aW9uLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFNlbGVjdGlvbixcbiAgc2VsZWN0OiBzZWxlY3Rpb25fc2VsZWN0LFxuICBzZWxlY3RBbGw6IHNlbGVjdGlvbl9zZWxlY3RBbGwsXG4gIHNlbGVjdENoaWxkOiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGQsXG4gIHNlbGVjdENoaWxkcmVuOiBzZWxlY3Rpb25fc2VsZWN0Q2hpbGRyZW4sXG4gIGZpbHRlcjogc2VsZWN0aW9uX2ZpbHRlcixcbiAgZGF0YTogc2VsZWN0aW9uX2RhdGEsXG4gIGVudGVyOiBzZWxlY3Rpb25fZW50ZXIsXG4gIGV4aXQ6IHNlbGVjdGlvbl9leGl0LFxuICBqb2luOiBzZWxlY3Rpb25fam9pbixcbiAgbWVyZ2U6IHNlbGVjdGlvbl9tZXJnZSxcbiAgc2VsZWN0aW9uOiBzZWxlY3Rpb25fc2VsZWN0aW9uLFxuICBvcmRlcjogc2VsZWN0aW9uX29yZGVyLFxuICBzb3J0OiBzZWxlY3Rpb25fc29ydCxcbiAgY2FsbDogc2VsZWN0aW9uX2NhbGwsXG4gIG5vZGVzOiBzZWxlY3Rpb25fbm9kZXMsXG4gIG5vZGU6IHNlbGVjdGlvbl9ub2RlLFxuICBzaXplOiBzZWxlY3Rpb25fc2l6ZSxcbiAgZW1wdHk6IHNlbGVjdGlvbl9lbXB0eSxcbiAgZWFjaDogc2VsZWN0aW9uX2VhY2gsXG4gIGF0dHI6IHNlbGVjdGlvbl9hdHRyLFxuICBzdHlsZTogc2VsZWN0aW9uX3N0eWxlLFxuICBwcm9wZXJ0eTogc2VsZWN0aW9uX3Byb3BlcnR5LFxuICBjbGFzc2VkOiBzZWxlY3Rpb25fY2xhc3NlZCxcbiAgdGV4dDogc2VsZWN0aW9uX3RleHQsXG4gIGh0bWw6IHNlbGVjdGlvbl9odG1sLFxuICByYWlzZTogc2VsZWN0aW9uX3JhaXNlLFxuICBsb3dlcjogc2VsZWN0aW9uX2xvd2VyLFxuICBhcHBlbmQ6IHNlbGVjdGlvbl9hcHBlbmQsXG4gIGluc2VydDogc2VsZWN0aW9uX2luc2VydCxcbiAgcmVtb3ZlOiBzZWxlY3Rpb25fcmVtb3ZlLFxuICBjbG9uZTogc2VsZWN0aW9uX2Nsb25lLFxuICBkYXR1bTogc2VsZWN0aW9uX2RhdHVtLFxuICBvbjogc2VsZWN0aW9uX29uLFxuICBkaXNwYXRjaDogc2VsZWN0aW9uX2Rpc3BhdGNoLFxuICBbU3ltYm9sLml0ZXJhdG9yXTogc2VsZWN0aW9uX2l0ZXJhdG9yXG59O1xuXG5leHBvcnQgZGVmYXVsdCBzZWxlY3Rpb247XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjb25zdHJ1Y3RvciwgZmFjdG9yeSwgcHJvdG90eXBlKSB7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGZhY3RvcnkucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBwcm90b3R5cGUuY29uc3RydWN0b3IgPSBjb25zdHJ1Y3Rvcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZChwYXJlbnQsIGRlZmluaXRpb24pIHtcbiAgdmFyIHByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSk7XG4gIGZvciAodmFyIGtleSBpbiBkZWZpbml0aW9uKSBwcm90b3R5cGVba2V5XSA9IGRlZmluaXRpb25ba2V5XTtcbiAgcmV0dXJuIHByb3RvdHlwZTtcbn1cbiIsImltcG9ydCBkZWZpbmUsIHtleHRlbmR9IGZyb20gXCIuL2RlZmluZS5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gQ29sb3IoKSB7fVxuXG5leHBvcnQgdmFyIGRhcmtlciA9IDAuNztcbmV4cG9ydCB2YXIgYnJpZ2h0ZXIgPSAxIC8gZGFya2VyO1xuXG52YXIgcmVJID0gXCJcXFxccyooWystXT9cXFxcZCspXFxcXHMqXCIsXG4gICAgcmVOID0gXCJcXFxccyooWystXT8oPzpcXFxcZCpcXFxcLik/XFxcXGQrKD86W2VFXVsrLV0/XFxcXGQrKT8pXFxcXHMqXCIsXG4gICAgcmVQID0gXCJcXFxccyooWystXT8oPzpcXFxcZCpcXFxcLik/XFxcXGQrKD86W2VFXVsrLV0/XFxcXGQrKT8pJVxcXFxzKlwiLFxuICAgIHJlSGV4ID0gL14jKFswLTlhLWZdezMsOH0pJC8sXG4gICAgcmVSZ2JJbnRlZ2VyID0gbmV3IFJlZ0V4cChgXnJnYlxcXFwoJHtyZUl9LCR7cmVJfSwke3JlSX1cXFxcKSRgKSxcbiAgICByZVJnYlBlcmNlbnQgPSBuZXcgUmVnRXhwKGBecmdiXFxcXCgke3JlUH0sJHtyZVB9LCR7cmVQfVxcXFwpJGApLFxuICAgIHJlUmdiYUludGVnZXIgPSBuZXcgUmVnRXhwKGBecmdiYVxcXFwoJHtyZUl9LCR7cmVJfSwke3JlSX0sJHtyZU59XFxcXCkkYCksXG4gICAgcmVSZ2JhUGVyY2VudCA9IG5ldyBSZWdFeHAoYF5yZ2JhXFxcXCgke3JlUH0sJHtyZVB9LCR7cmVQfSwke3JlTn1cXFxcKSRgKSxcbiAgICByZUhzbFBlcmNlbnQgPSBuZXcgUmVnRXhwKGBeaHNsXFxcXCgke3JlTn0sJHtyZVB9LCR7cmVQfVxcXFwpJGApLFxuICAgIHJlSHNsYVBlcmNlbnQgPSBuZXcgUmVnRXhwKGBeaHNsYVxcXFwoJHtyZU59LCR7cmVQfSwke3JlUH0sJHtyZU59XFxcXCkkYCk7XG5cbnZhciBuYW1lZCA9IHtcbiAgYWxpY2VibHVlOiAweGYwZjhmZixcbiAgYW50aXF1ZXdoaXRlOiAweGZhZWJkNyxcbiAgYXF1YTogMHgwMGZmZmYsXG4gIGFxdWFtYXJpbmU6IDB4N2ZmZmQ0LFxuICBhenVyZTogMHhmMGZmZmYsXG4gIGJlaWdlOiAweGY1ZjVkYyxcbiAgYmlzcXVlOiAweGZmZTRjNCxcbiAgYmxhY2s6IDB4MDAwMDAwLFxuICBibGFuY2hlZGFsbW9uZDogMHhmZmViY2QsXG4gIGJsdWU6IDB4MDAwMGZmLFxuICBibHVldmlvbGV0OiAweDhhMmJlMixcbiAgYnJvd246IDB4YTUyYTJhLFxuICBidXJseXdvb2Q6IDB4ZGViODg3LFxuICBjYWRldGJsdWU6IDB4NWY5ZWEwLFxuICBjaGFydHJldXNlOiAweDdmZmYwMCxcbiAgY2hvY29sYXRlOiAweGQyNjkxZSxcbiAgY29yYWw6IDB4ZmY3ZjUwLFxuICBjb3JuZmxvd2VyYmx1ZTogMHg2NDk1ZWQsXG4gIGNvcm5zaWxrOiAweGZmZjhkYyxcbiAgY3JpbXNvbjogMHhkYzE0M2MsXG4gIGN5YW46IDB4MDBmZmZmLFxuICBkYXJrYmx1ZTogMHgwMDAwOGIsXG4gIGRhcmtjeWFuOiAweDAwOGI4YixcbiAgZGFya2dvbGRlbnJvZDogMHhiODg2MGIsXG4gIGRhcmtncmF5OiAweGE5YTlhOSxcbiAgZGFya2dyZWVuOiAweDAwNjQwMCxcbiAgZGFya2dyZXk6IDB4YTlhOWE5LFxuICBkYXJra2hha2k6IDB4YmRiNzZiLFxuICBkYXJrbWFnZW50YTogMHg4YjAwOGIsXG4gIGRhcmtvbGl2ZWdyZWVuOiAweDU1NmIyZixcbiAgZGFya29yYW5nZTogMHhmZjhjMDAsXG4gIGRhcmtvcmNoaWQ6IDB4OTkzMmNjLFxuICBkYXJrcmVkOiAweDhiMDAwMCxcbiAgZGFya3NhbG1vbjogMHhlOTk2N2EsXG4gIGRhcmtzZWFncmVlbjogMHg4ZmJjOGYsXG4gIGRhcmtzbGF0ZWJsdWU6IDB4NDgzZDhiLFxuICBkYXJrc2xhdGVncmF5OiAweDJmNGY0ZixcbiAgZGFya3NsYXRlZ3JleTogMHgyZjRmNGYsXG4gIGRhcmt0dXJxdW9pc2U6IDB4MDBjZWQxLFxuICBkYXJrdmlvbGV0OiAweDk0MDBkMyxcbiAgZGVlcHBpbms6IDB4ZmYxNDkzLFxuICBkZWVwc2t5Ymx1ZTogMHgwMGJmZmYsXG4gIGRpbWdyYXk6IDB4Njk2OTY5LFxuICBkaW1ncmV5OiAweDY5Njk2OSxcbiAgZG9kZ2VyYmx1ZTogMHgxZTkwZmYsXG4gIGZpcmVicmljazogMHhiMjIyMjIsXG4gIGZsb3JhbHdoaXRlOiAweGZmZmFmMCxcbiAgZm9yZXN0Z3JlZW46IDB4MjI4YjIyLFxuICBmdWNoc2lhOiAweGZmMDBmZixcbiAgZ2FpbnNib3JvOiAweGRjZGNkYyxcbiAgZ2hvc3R3aGl0ZTogMHhmOGY4ZmYsXG4gIGdvbGQ6IDB4ZmZkNzAwLFxuICBnb2xkZW5yb2Q6IDB4ZGFhNTIwLFxuICBncmF5OiAweDgwODA4MCxcbiAgZ3JlZW46IDB4MDA4MDAwLFxuICBncmVlbnllbGxvdzogMHhhZGZmMmYsXG4gIGdyZXk6IDB4ODA4MDgwLFxuICBob25leWRldzogMHhmMGZmZjAsXG4gIGhvdHBpbms6IDB4ZmY2OWI0LFxuICBpbmRpYW5yZWQ6IDB4Y2Q1YzVjLFxuICBpbmRpZ286IDB4NGIwMDgyLFxuICBpdm9yeTogMHhmZmZmZjAsXG4gIGtoYWtpOiAweGYwZTY4YyxcbiAgbGF2ZW5kZXI6IDB4ZTZlNmZhLFxuICBsYXZlbmRlcmJsdXNoOiAweGZmZjBmNSxcbiAgbGF3bmdyZWVuOiAweDdjZmMwMCxcbiAgbGVtb25jaGlmZm9uOiAweGZmZmFjZCxcbiAgbGlnaHRibHVlOiAweGFkZDhlNixcbiAgbGlnaHRjb3JhbDogMHhmMDgwODAsXG4gIGxpZ2h0Y3lhbjogMHhlMGZmZmYsXG4gIGxpZ2h0Z29sZGVucm9keWVsbG93OiAweGZhZmFkMixcbiAgbGlnaHRncmF5OiAweGQzZDNkMyxcbiAgbGlnaHRncmVlbjogMHg5MGVlOTAsXG4gIGxpZ2h0Z3JleTogMHhkM2QzZDMsXG4gIGxpZ2h0cGluazogMHhmZmI2YzEsXG4gIGxpZ2h0c2FsbW9uOiAweGZmYTA3YSxcbiAgbGlnaHRzZWFncmVlbjogMHgyMGIyYWEsXG4gIGxpZ2h0c2t5Ymx1ZTogMHg4N2NlZmEsXG4gIGxpZ2h0c2xhdGVncmF5OiAweDc3ODg5OSxcbiAgbGlnaHRzbGF0ZWdyZXk6IDB4Nzc4ODk5LFxuICBsaWdodHN0ZWVsYmx1ZTogMHhiMGM0ZGUsXG4gIGxpZ2h0eWVsbG93OiAweGZmZmZlMCxcbiAgbGltZTogMHgwMGZmMDAsXG4gIGxpbWVncmVlbjogMHgzMmNkMzIsXG4gIGxpbmVuOiAweGZhZjBlNixcbiAgbWFnZW50YTogMHhmZjAwZmYsXG4gIG1hcm9vbjogMHg4MDAwMDAsXG4gIG1lZGl1bWFxdWFtYXJpbmU6IDB4NjZjZGFhLFxuICBtZWRpdW1ibHVlOiAweDAwMDBjZCxcbiAgbWVkaXVtb3JjaGlkOiAweGJhNTVkMyxcbiAgbWVkaXVtcHVycGxlOiAweDkzNzBkYixcbiAgbWVkaXVtc2VhZ3JlZW46IDB4M2NiMzcxLFxuICBtZWRpdW1zbGF0ZWJsdWU6IDB4N2I2OGVlLFxuICBtZWRpdW1zcHJpbmdncmVlbjogMHgwMGZhOWEsXG4gIG1lZGl1bXR1cnF1b2lzZTogMHg0OGQxY2MsXG4gIG1lZGl1bXZpb2xldHJlZDogMHhjNzE1ODUsXG4gIG1pZG5pZ2h0Ymx1ZTogMHgxOTE5NzAsXG4gIG1pbnRjcmVhbTogMHhmNWZmZmEsXG4gIG1pc3R5cm9zZTogMHhmZmU0ZTEsXG4gIG1vY2Nhc2luOiAweGZmZTRiNSxcbiAgbmF2YWpvd2hpdGU6IDB4ZmZkZWFkLFxuICBuYXZ5OiAweDAwMDA4MCxcbiAgb2xkbGFjZTogMHhmZGY1ZTYsXG4gIG9saXZlOiAweDgwODAwMCxcbiAgb2xpdmVkcmFiOiAweDZiOGUyMyxcbiAgb3JhbmdlOiAweGZmYTUwMCxcbiAgb3JhbmdlcmVkOiAweGZmNDUwMCxcbiAgb3JjaGlkOiAweGRhNzBkNixcbiAgcGFsZWdvbGRlbnJvZDogMHhlZWU4YWEsXG4gIHBhbGVncmVlbjogMHg5OGZiOTgsXG4gIHBhbGV0dXJxdW9pc2U6IDB4YWZlZWVlLFxuICBwYWxldmlvbGV0cmVkOiAweGRiNzA5MyxcbiAgcGFwYXlhd2hpcDogMHhmZmVmZDUsXG4gIHBlYWNocHVmZjogMHhmZmRhYjksXG4gIHBlcnU6IDB4Y2Q4NTNmLFxuICBwaW5rOiAweGZmYzBjYixcbiAgcGx1bTogMHhkZGEwZGQsXG4gIHBvd2RlcmJsdWU6IDB4YjBlMGU2LFxuICBwdXJwbGU6IDB4ODAwMDgwLFxuICByZWJlY2NhcHVycGxlOiAweDY2MzM5OSxcbiAgcmVkOiAweGZmMDAwMCxcbiAgcm9zeWJyb3duOiAweGJjOGY4ZixcbiAgcm95YWxibHVlOiAweDQxNjllMSxcbiAgc2FkZGxlYnJvd246IDB4OGI0NTEzLFxuICBzYWxtb246IDB4ZmE4MDcyLFxuICBzYW5keWJyb3duOiAweGY0YTQ2MCxcbiAgc2VhZ3JlZW46IDB4MmU4YjU3LFxuICBzZWFzaGVsbDogMHhmZmY1ZWUsXG4gIHNpZW5uYTogMHhhMDUyMmQsXG4gIHNpbHZlcjogMHhjMGMwYzAsXG4gIHNreWJsdWU6IDB4ODdjZWViLFxuICBzbGF0ZWJsdWU6IDB4NmE1YWNkLFxuICBzbGF0ZWdyYXk6IDB4NzA4MDkwLFxuICBzbGF0ZWdyZXk6IDB4NzA4MDkwLFxuICBzbm93OiAweGZmZmFmYSxcbiAgc3ByaW5nZ3JlZW46IDB4MDBmZjdmLFxuICBzdGVlbGJsdWU6IDB4NDY4MmI0LFxuICB0YW46IDB4ZDJiNDhjLFxuICB0ZWFsOiAweDAwODA4MCxcbiAgdGhpc3RsZTogMHhkOGJmZDgsXG4gIHRvbWF0bzogMHhmZjYzNDcsXG4gIHR1cnF1b2lzZTogMHg0MGUwZDAsXG4gIHZpb2xldDogMHhlZTgyZWUsXG4gIHdoZWF0OiAweGY1ZGViMyxcbiAgd2hpdGU6IDB4ZmZmZmZmLFxuICB3aGl0ZXNtb2tlOiAweGY1ZjVmNSxcbiAgeWVsbG93OiAweGZmZmYwMCxcbiAgeWVsbG93Z3JlZW46IDB4OWFjZDMyXG59O1xuXG5kZWZpbmUoQ29sb3IsIGNvbG9yLCB7XG4gIGNvcHkoY2hhbm5lbHMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgdGhpcy5jb25zdHJ1Y3RvciwgdGhpcywgY2hhbm5lbHMpO1xuICB9LFxuICBkaXNwbGF5YWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZ2IoKS5kaXNwbGF5YWJsZSgpO1xuICB9LFxuICBoZXg6IGNvbG9yX2Zvcm1hdEhleCwgLy8gRGVwcmVjYXRlZCEgVXNlIGNvbG9yLmZvcm1hdEhleC5cbiAgZm9ybWF0SGV4OiBjb2xvcl9mb3JtYXRIZXgsXG4gIGZvcm1hdEhleDg6IGNvbG9yX2Zvcm1hdEhleDgsXG4gIGZvcm1hdEhzbDogY29sb3JfZm9ybWF0SHNsLFxuICBmb3JtYXRSZ2I6IGNvbG9yX2Zvcm1hdFJnYixcbiAgdG9TdHJpbmc6IGNvbG9yX2Zvcm1hdFJnYlxufSk7XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdEhleCgpIHtcbiAgcmV0dXJuIHRoaXMucmdiKCkuZm9ybWF0SGV4KCk7XG59XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdEhleDgoKSB7XG4gIHJldHVybiB0aGlzLnJnYigpLmZvcm1hdEhleDgoKTtcbn1cblxuZnVuY3Rpb24gY29sb3JfZm9ybWF0SHNsKCkge1xuICByZXR1cm4gaHNsQ29udmVydCh0aGlzKS5mb3JtYXRIc2woKTtcbn1cblxuZnVuY3Rpb24gY29sb3JfZm9ybWF0UmdiKCkge1xuICByZXR1cm4gdGhpcy5yZ2IoKS5mb3JtYXRSZ2IoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29sb3IoZm9ybWF0KSB7XG4gIHZhciBtLCBsO1xuICBmb3JtYXQgPSAoZm9ybWF0ICsgXCJcIikudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiAobSA9IHJlSGV4LmV4ZWMoZm9ybWF0KSkgPyAobCA9IG1bMV0ubGVuZ3RoLCBtID0gcGFyc2VJbnQobVsxXSwgMTYpLCBsID09PSA2ID8gcmdibihtKSAvLyAjZmYwMDAwXG4gICAgICA6IGwgPT09IDMgPyBuZXcgUmdiKChtID4+IDggJiAweGYpIHwgKG0gPj4gNCAmIDB4ZjApLCAobSA+PiA0ICYgMHhmKSB8IChtICYgMHhmMCksICgobSAmIDB4ZikgPDwgNCkgfCAobSAmIDB4ZiksIDEpIC8vICNmMDBcbiAgICAgIDogbCA9PT0gOCA/IHJnYmEobSA+PiAyNCAmIDB4ZmYsIG0gPj4gMTYgJiAweGZmLCBtID4+IDggJiAweGZmLCAobSAmIDB4ZmYpIC8gMHhmZikgLy8gI2ZmMDAwMDAwXG4gICAgICA6IGwgPT09IDQgPyByZ2JhKChtID4+IDEyICYgMHhmKSB8IChtID4+IDggJiAweGYwKSwgKG0gPj4gOCAmIDB4ZikgfCAobSA+PiA0ICYgMHhmMCksIChtID4+IDQgJiAweGYpIHwgKG0gJiAweGYwKSwgKCgobSAmIDB4ZikgPDwgNCkgfCAobSAmIDB4ZikpIC8gMHhmZikgLy8gI2YwMDBcbiAgICAgIDogbnVsbCkgLy8gaW52YWxpZCBoZXhcbiAgICAgIDogKG0gPSByZVJnYkludGVnZXIuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSwgbVsyXSwgbVszXSwgMSkgLy8gcmdiKDI1NSwgMCwgMClcbiAgICAgIDogKG0gPSByZVJnYlBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IG5ldyBSZ2IobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgMSkgLy8gcmdiKDEwMCUsIDAlLCAwJSlcbiAgICAgIDogKG0gPSByZVJnYmFJbnRlZ2VyLmV4ZWMoZm9ybWF0KSkgPyByZ2JhKG1bMV0sIG1bMl0sIG1bM10sIG1bNF0pIC8vIHJnYmEoMjU1LCAwLCAwLCAxKVxuICAgICAgOiAobSA9IHJlUmdiYVBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IHJnYmEobVsxXSAqIDI1NSAvIDEwMCwgbVsyXSAqIDI1NSAvIDEwMCwgbVszXSAqIDI1NSAvIDEwMCwgbVs0XSkgLy8gcmdiKDEwMCUsIDAlLCAwJSwgMSlcbiAgICAgIDogKG0gPSByZUhzbFBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IGhzbGEobVsxXSwgbVsyXSAvIDEwMCwgbVszXSAvIDEwMCwgMSkgLy8gaHNsKDEyMCwgNTAlLCA1MCUpXG4gICAgICA6IChtID0gcmVIc2xhUGVyY2VudC5leGVjKGZvcm1hdCkpID8gaHNsYShtWzFdLCBtWzJdIC8gMTAwLCBtWzNdIC8gMTAwLCBtWzRdKSAvLyBoc2xhKDEyMCwgNTAlLCA1MCUsIDEpXG4gICAgICA6IG5hbWVkLmhhc093blByb3BlcnR5KGZvcm1hdCkgPyByZ2JuKG5hbWVkW2Zvcm1hdF0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICA6IGZvcm1hdCA9PT0gXCJ0cmFuc3BhcmVudFwiID8gbmV3IFJnYihOYU4sIE5hTiwgTmFOLCAwKVxuICAgICAgOiBudWxsO1xufVxuXG5mdW5jdGlvbiByZ2JuKG4pIHtcbiAgcmV0dXJuIG5ldyBSZ2IobiA+PiAxNiAmIDB4ZmYsIG4gPj4gOCAmIDB4ZmYsIG4gJiAweGZmLCAxKTtcbn1cblxuZnVuY3Rpb24gcmdiYShyLCBnLCBiLCBhKSB7XG4gIGlmIChhIDw9IDApIHIgPSBnID0gYiA9IE5hTjtcbiAgcmV0dXJuIG5ldyBSZ2IociwgZywgYiwgYSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZ2JDb252ZXJ0KG8pIHtcbiAgaWYgKCEobyBpbnN0YW5jZW9mIENvbG9yKSkgbyA9IGNvbG9yKG8pO1xuICBpZiAoIW8pIHJldHVybiBuZXcgUmdiO1xuICBvID0gby5yZ2IoKTtcbiAgcmV0dXJuIG5ldyBSZ2Ioby5yLCBvLmcsIG8uYiwgby5vcGFjaXR5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJnYihyLCBnLCBiLCBvcGFjaXR5KSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID8gcmdiQ29udmVydChyKSA6IG5ldyBSZ2IociwgZywgYiwgb3BhY2l0eSA9PSBudWxsID8gMSA6IG9wYWNpdHkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmdiKHIsIGcsIGIsIG9wYWNpdHkpIHtcbiAgdGhpcy5yID0gK3I7XG4gIHRoaXMuZyA9ICtnO1xuICB0aGlzLmIgPSArYjtcbiAgdGhpcy5vcGFjaXR5ID0gK29wYWNpdHk7XG59XG5cbmRlZmluZShSZ2IsIHJnYiwgZXh0ZW5kKENvbG9yLCB7XG4gIGJyaWdodGVyKGspIHtcbiAgICBrID0gayA9PSBudWxsID8gYnJpZ2h0ZXIgOiBNYXRoLnBvdyhicmlnaHRlciwgayk7XG4gICAgcmV0dXJuIG5ldyBSZ2IodGhpcy5yICogaywgdGhpcy5nICogaywgdGhpcy5iICogaywgdGhpcy5vcGFjaXR5KTtcbiAgfSxcbiAgZGFya2VyKGspIHtcbiAgICBrID0gayA9PSBudWxsID8gZGFya2VyIDogTWF0aC5wb3coZGFya2VyLCBrKTtcbiAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICByZ2IoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGNsYW1wKCkge1xuICAgIHJldHVybiBuZXcgUmdiKGNsYW1waSh0aGlzLnIpLCBjbGFtcGkodGhpcy5nKSwgY2xhbXBpKHRoaXMuYiksIGNsYW1wYSh0aGlzLm9wYWNpdHkpKTtcbiAgfSxcbiAgZGlzcGxheWFibGUoKSB7XG4gICAgcmV0dXJuICgtMC41IDw9IHRoaXMuciAmJiB0aGlzLnIgPCAyNTUuNSlcbiAgICAgICAgJiYgKC0wLjUgPD0gdGhpcy5nICYmIHRoaXMuZyA8IDI1NS41KVxuICAgICAgICAmJiAoLTAuNSA8PSB0aGlzLmIgJiYgdGhpcy5iIDwgMjU1LjUpXG4gICAgICAgICYmICgwIDw9IHRoaXMub3BhY2l0eSAmJiB0aGlzLm9wYWNpdHkgPD0gMSk7XG4gIH0sXG4gIGhleDogcmdiX2Zvcm1hdEhleCwgLy8gRGVwcmVjYXRlZCEgVXNlIGNvbG9yLmZvcm1hdEhleC5cbiAgZm9ybWF0SGV4OiByZ2JfZm9ybWF0SGV4LFxuICBmb3JtYXRIZXg4OiByZ2JfZm9ybWF0SGV4OCxcbiAgZm9ybWF0UmdiOiByZ2JfZm9ybWF0UmdiLFxuICB0b1N0cmluZzogcmdiX2Zvcm1hdFJnYlxufSkpO1xuXG5mdW5jdGlvbiByZ2JfZm9ybWF0SGV4KCkge1xuICByZXR1cm4gYCMke2hleCh0aGlzLnIpfSR7aGV4KHRoaXMuZyl9JHtoZXgodGhpcy5iKX1gO1xufVxuXG5mdW5jdGlvbiByZ2JfZm9ybWF0SGV4OCgpIHtcbiAgcmV0dXJuIGAjJHtoZXgodGhpcy5yKX0ke2hleCh0aGlzLmcpfSR7aGV4KHRoaXMuYil9JHtoZXgoKGlzTmFOKHRoaXMub3BhY2l0eSkgPyAxIDogdGhpcy5vcGFjaXR5KSAqIDI1NSl9YDtcbn1cblxuZnVuY3Rpb24gcmdiX2Zvcm1hdFJnYigpIHtcbiAgY29uc3QgYSA9IGNsYW1wYSh0aGlzLm9wYWNpdHkpO1xuICByZXR1cm4gYCR7YSA9PT0gMSA/IFwicmdiKFwiIDogXCJyZ2JhKFwifSR7Y2xhbXBpKHRoaXMucil9LCAke2NsYW1waSh0aGlzLmcpfSwgJHtjbGFtcGkodGhpcy5iKX0ke2EgPT09IDEgPyBcIilcIiA6IGAsICR7YX0pYH1gO1xufVxuXG5mdW5jdGlvbiBjbGFtcGEob3BhY2l0eSkge1xuICByZXR1cm4gaXNOYU4ob3BhY2l0eSkgPyAxIDogTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgb3BhY2l0eSkpO1xufVxuXG5mdW5jdGlvbiBjbGFtcGkodmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgTWF0aC5yb3VuZCh2YWx1ZSkgfHwgMCkpO1xufVxuXG5mdW5jdGlvbiBoZXgodmFsdWUpIHtcbiAgdmFsdWUgPSBjbGFtcGkodmFsdWUpO1xuICByZXR1cm4gKHZhbHVlIDwgMTYgPyBcIjBcIiA6IFwiXCIpICsgdmFsdWUudG9TdHJpbmcoMTYpO1xufVxuXG5mdW5jdGlvbiBoc2xhKGgsIHMsIGwsIGEpIHtcbiAgaWYgKGEgPD0gMCkgaCA9IHMgPSBsID0gTmFOO1xuICBlbHNlIGlmIChsIDw9IDAgfHwgbCA+PSAxKSBoID0gcyA9IE5hTjtcbiAgZWxzZSBpZiAocyA8PSAwKSBoID0gTmFOO1xuICByZXR1cm4gbmV3IEhzbChoLCBzLCBsLCBhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhzbENvbnZlcnQobykge1xuICBpZiAobyBpbnN0YW5jZW9mIEhzbCkgcmV0dXJuIG5ldyBIc2woby5oLCBvLnMsIG8ubCwgby5vcGFjaXR5KTtcbiAgaWYgKCEobyBpbnN0YW5jZW9mIENvbG9yKSkgbyA9IGNvbG9yKG8pO1xuICBpZiAoIW8pIHJldHVybiBuZXcgSHNsO1xuICBpZiAobyBpbnN0YW5jZW9mIEhzbCkgcmV0dXJuIG87XG4gIG8gPSBvLnJnYigpO1xuICB2YXIgciA9IG8uciAvIDI1NSxcbiAgICAgIGcgPSBvLmcgLyAyNTUsXG4gICAgICBiID0gby5iIC8gMjU1LFxuICAgICAgbWluID0gTWF0aC5taW4ociwgZywgYiksXG4gICAgICBtYXggPSBNYXRoLm1heChyLCBnLCBiKSxcbiAgICAgIGggPSBOYU4sXG4gICAgICBzID0gbWF4IC0gbWluLFxuICAgICAgbCA9IChtYXggKyBtaW4pIC8gMjtcbiAgaWYgKHMpIHtcbiAgICBpZiAociA9PT0gbWF4KSBoID0gKGcgLSBiKSAvIHMgKyAoZyA8IGIpICogNjtcbiAgICBlbHNlIGlmIChnID09PSBtYXgpIGggPSAoYiAtIHIpIC8gcyArIDI7XG4gICAgZWxzZSBoID0gKHIgLSBnKSAvIHMgKyA0O1xuICAgIHMgLz0gbCA8IDAuNSA/IG1heCArIG1pbiA6IDIgLSBtYXggLSBtaW47XG4gICAgaCAqPSA2MDtcbiAgfSBlbHNlIHtcbiAgICBzID0gbCA+IDAgJiYgbCA8IDEgPyAwIDogaDtcbiAgfVxuICByZXR1cm4gbmV3IEhzbChoLCBzLCBsLCBvLm9wYWNpdHkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHNsKGgsIHMsIGwsIG9wYWNpdHkpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyBoc2xDb252ZXJ0KGgpIDogbmV3IEhzbChoLCBzLCBsLCBvcGFjaXR5ID09IG51bGwgPyAxIDogb3BhY2l0eSk7XG59XG5cbmZ1bmN0aW9uIEhzbChoLCBzLCBsLCBvcGFjaXR5KSB7XG4gIHRoaXMuaCA9ICtoO1xuICB0aGlzLnMgPSArcztcbiAgdGhpcy5sID0gK2w7XG4gIHRoaXMub3BhY2l0eSA9ICtvcGFjaXR5O1xufVxuXG5kZWZpbmUoSHNsLCBoc2wsIGV4dGVuZChDb2xvciwge1xuICBicmlnaHRlcihrKSB7XG4gICAgayA9IGsgPT0gbnVsbCA/IGJyaWdodGVyIDogTWF0aC5wb3coYnJpZ2h0ZXIsIGspO1xuICAgIHJldHVybiBuZXcgSHNsKHRoaXMuaCwgdGhpcy5zLCB0aGlzLmwgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICBkYXJrZXIoaykge1xuICAgIGsgPSBrID09IG51bGwgPyBkYXJrZXIgOiBNYXRoLnBvdyhkYXJrZXIsIGspO1xuICAgIHJldHVybiBuZXcgSHNsKHRoaXMuaCwgdGhpcy5zLCB0aGlzLmwgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICByZ2IoKSB7XG4gICAgdmFyIGggPSB0aGlzLmggJSAzNjAgKyAodGhpcy5oIDwgMCkgKiAzNjAsXG4gICAgICAgIHMgPSBpc05hTihoKSB8fCBpc05hTih0aGlzLnMpID8gMCA6IHRoaXMucyxcbiAgICAgICAgbCA9IHRoaXMubCxcbiAgICAgICAgbTIgPSBsICsgKGwgPCAwLjUgPyBsIDogMSAtIGwpICogcyxcbiAgICAgICAgbTEgPSAyICogbCAtIG0yO1xuICAgIHJldHVybiBuZXcgUmdiKFxuICAgICAgaHNsMnJnYihoID49IDI0MCA/IGggLSAyNDAgOiBoICsgMTIwLCBtMSwgbTIpLFxuICAgICAgaHNsMnJnYihoLCBtMSwgbTIpLFxuICAgICAgaHNsMnJnYihoIDwgMTIwID8gaCArIDI0MCA6IGggLSAxMjAsIG0xLCBtMiksXG4gICAgICB0aGlzLm9wYWNpdHlcbiAgICApO1xuICB9LFxuICBjbGFtcCgpIHtcbiAgICByZXR1cm4gbmV3IEhzbChjbGFtcGgodGhpcy5oKSwgY2xhbXB0KHRoaXMucyksIGNsYW1wdCh0aGlzLmwpLCBjbGFtcGEodGhpcy5vcGFjaXR5KSk7XG4gIH0sXG4gIGRpc3BsYXlhYmxlKCkge1xuICAgIHJldHVybiAoMCA8PSB0aGlzLnMgJiYgdGhpcy5zIDw9IDEgfHwgaXNOYU4odGhpcy5zKSlcbiAgICAgICAgJiYgKDAgPD0gdGhpcy5sICYmIHRoaXMubCA8PSAxKVxuICAgICAgICAmJiAoMCA8PSB0aGlzLm9wYWNpdHkgJiYgdGhpcy5vcGFjaXR5IDw9IDEpO1xuICB9LFxuICBmb3JtYXRIc2woKSB7XG4gICAgY29uc3QgYSA9IGNsYW1wYSh0aGlzLm9wYWNpdHkpO1xuICAgIHJldHVybiBgJHthID09PSAxID8gXCJoc2woXCIgOiBcImhzbGEoXCJ9JHtjbGFtcGgodGhpcy5oKX0sICR7Y2xhbXB0KHRoaXMucykgKiAxMDB9JSwgJHtjbGFtcHQodGhpcy5sKSAqIDEwMH0lJHthID09PSAxID8gXCIpXCIgOiBgLCAke2F9KWB9YDtcbiAgfVxufSkpO1xuXG5mdW5jdGlvbiBjbGFtcGgodmFsdWUpIHtcbiAgdmFsdWUgPSAodmFsdWUgfHwgMCkgJSAzNjA7XG4gIHJldHVybiB2YWx1ZSA8IDAgPyB2YWx1ZSArIDM2MCA6IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBjbGFtcHQodmFsdWUpIHtcbiAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZhbHVlIHx8IDApKTtcbn1cblxuLyogRnJvbSBGdkQgMTMuMzcsIENTUyBDb2xvciBNb2R1bGUgTGV2ZWwgMyAqL1xuZnVuY3Rpb24gaHNsMnJnYihoLCBtMSwgbTIpIHtcbiAgcmV0dXJuIChoIDwgNjAgPyBtMSArIChtMiAtIG0xKSAqIGggLyA2MFxuICAgICAgOiBoIDwgMTgwID8gbTJcbiAgICAgIDogaCA8IDI0MCA/IG0xICsgKG0yIC0gbTEpICogKDI0MCAtIGgpIC8gNjBcbiAgICAgIDogbTEpICogMjU1O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgeCA9PiAoKSA9PiB4O1xuIiwiaW1wb3J0IGNvbnN0YW50IGZyb20gXCIuL2NvbnN0YW50LmpzXCI7XG5cbmZ1bmN0aW9uIGxpbmVhcihhLCBkKSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIGEgKyB0ICogZDtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZXhwb25lbnRpYWwoYSwgYiwgeSkge1xuICByZXR1cm4gYSA9IE1hdGgucG93KGEsIHkpLCBiID0gTWF0aC5wb3coYiwgeSkgLSBhLCB5ID0gMSAvIHksIGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gTWF0aC5wb3coYSArIHQgKiBiLCB5KTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh1ZShhLCBiKSB7XG4gIHZhciBkID0gYiAtIGE7XG4gIHJldHVybiBkID8gbGluZWFyKGEsIGQgPiAxODAgfHwgZCA8IC0xODAgPyBkIC0gMzYwICogTWF0aC5yb3VuZChkIC8gMzYwKSA6IGQpIDogY29uc3RhbnQoaXNOYU4oYSkgPyBiIDogYSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnYW1tYSh5KSB7XG4gIHJldHVybiAoeSA9ICt5KSA9PT0gMSA/IG5vZ2FtbWEgOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIgLSBhID8gZXhwb25lbnRpYWwoYSwgYiwgeSkgOiBjb25zdGFudChpc05hTihhKSA/IGIgOiBhKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbm9nYW1tYShhLCBiKSB7XG4gIHZhciBkID0gYiAtIGE7XG4gIHJldHVybiBkID8gbGluZWFyKGEsIGQpIDogY29uc3RhbnQoaXNOYU4oYSkgPyBiIDogYSk7XG59XG4iLCJpbXBvcnQge3JnYiBhcyBjb2xvclJnYn0gZnJvbSBcImQzLWNvbG9yXCI7XG5pbXBvcnQgYmFzaXMgZnJvbSBcIi4vYmFzaXMuanNcIjtcbmltcG9ydCBiYXNpc0Nsb3NlZCBmcm9tIFwiLi9iYXNpc0Nsb3NlZC5qc1wiO1xuaW1wb3J0IG5vZ2FtbWEsIHtnYW1tYX0gZnJvbSBcIi4vY29sb3IuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIHJnYkdhbW1hKHkpIHtcbiAgdmFyIGNvbG9yID0gZ2FtbWEoeSk7XG5cbiAgZnVuY3Rpb24gcmdiKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgciA9IGNvbG9yKChzdGFydCA9IGNvbG9yUmdiKHN0YXJ0KSkuciwgKGVuZCA9IGNvbG9yUmdiKGVuZCkpLnIpLFxuICAgICAgICBnID0gY29sb3Ioc3RhcnQuZywgZW5kLmcpLFxuICAgICAgICBiID0gY29sb3Ioc3RhcnQuYiwgZW5kLmIpLFxuICAgICAgICBvcGFjaXR5ID0gbm9nYW1tYShzdGFydC5vcGFjaXR5LCBlbmQub3BhY2l0eSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHN0YXJ0LnIgPSByKHQpO1xuICAgICAgc3RhcnQuZyA9IGcodCk7XG4gICAgICBzdGFydC5iID0gYih0KTtcbiAgICAgIHN0YXJ0Lm9wYWNpdHkgPSBvcGFjaXR5KHQpO1xuICAgICAgcmV0dXJuIHN0YXJ0ICsgXCJcIjtcbiAgICB9O1xuICB9XG5cbiAgcmdiLmdhbW1hID0gcmdiR2FtbWE7XG5cbiAgcmV0dXJuIHJnYjtcbn0pKDEpO1xuXG5mdW5jdGlvbiByZ2JTcGxpbmUoc3BsaW5lKSB7XG4gIHJldHVybiBmdW5jdGlvbihjb2xvcnMpIHtcbiAgICB2YXIgbiA9IGNvbG9ycy5sZW5ndGgsXG4gICAgICAgIHIgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGcgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGIgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGksIGNvbG9yO1xuICAgIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGNvbG9yID0gY29sb3JSZ2IoY29sb3JzW2ldKTtcbiAgICAgIHJbaV0gPSBjb2xvci5yIHx8IDA7XG4gICAgICBnW2ldID0gY29sb3IuZyB8fCAwO1xuICAgICAgYltpXSA9IGNvbG9yLmIgfHwgMDtcbiAgICB9XG4gICAgciA9IHNwbGluZShyKTtcbiAgICBnID0gc3BsaW5lKGcpO1xuICAgIGIgPSBzcGxpbmUoYik7XG4gICAgY29sb3Iub3BhY2l0eSA9IDE7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIGNvbG9yLnIgPSByKHQpO1xuICAgICAgY29sb3IuZyA9IGcodCk7XG4gICAgICBjb2xvci5iID0gYih0KTtcbiAgICAgIHJldHVybiBjb2xvciArIFwiXCI7XG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IHZhciByZ2JCYXNpcyA9IHJnYlNwbGluZShiYXNpcyk7XG5leHBvcnQgdmFyIHJnYkJhc2lzQ2xvc2VkID0gcmdiU3BsaW5lKGJhc2lzQ2xvc2VkKTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPSArYSwgYiA9ICtiLCBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIGEgKiAoMSAtIHQpICsgYiAqIHQ7XG4gIH07XG59XG4iLCJpbXBvcnQgbnVtYmVyIGZyb20gXCIuL251bWJlci5qc1wiO1xuXG52YXIgcmVBID0gL1stK10/KD86XFxkK1xcLj9cXGQqfFxcLj9cXGQrKSg/OltlRV1bLStdP1xcZCspPy9nLFxuICAgIHJlQiA9IG5ldyBSZWdFeHAocmVBLnNvdXJjZSwgXCJnXCIpO1xuXG5mdW5jdGlvbiB6ZXJvKGIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBiO1xuICB9O1xufVxuXG5mdW5jdGlvbiBvbmUoYikge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHJldHVybiBiKHQpICsgXCJcIjtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICB2YXIgYmkgPSByZUEubGFzdEluZGV4ID0gcmVCLmxhc3RJbmRleCA9IDAsIC8vIHNjYW4gaW5kZXggZm9yIG5leHQgbnVtYmVyIGluIGJcbiAgICAgIGFtLCAvLyBjdXJyZW50IG1hdGNoIGluIGFcbiAgICAgIGJtLCAvLyBjdXJyZW50IG1hdGNoIGluIGJcbiAgICAgIGJzLCAvLyBzdHJpbmcgcHJlY2VkaW5nIGN1cnJlbnQgbnVtYmVyIGluIGIsIGlmIGFueVxuICAgICAgaSA9IC0xLCAvLyBpbmRleCBpbiBzXG4gICAgICBzID0gW10sIC8vIHN0cmluZyBjb25zdGFudHMgYW5kIHBsYWNlaG9sZGVyc1xuICAgICAgcSA9IFtdOyAvLyBudW1iZXIgaW50ZXJwb2xhdG9yc1xuXG4gIC8vIENvZXJjZSBpbnB1dHMgdG8gc3RyaW5ncy5cbiAgYSA9IGEgKyBcIlwiLCBiID0gYiArIFwiXCI7XG5cbiAgLy8gSW50ZXJwb2xhdGUgcGFpcnMgb2YgbnVtYmVycyBpbiBhICYgYi5cbiAgd2hpbGUgKChhbSA9IHJlQS5leGVjKGEpKVxuICAgICAgJiYgKGJtID0gcmVCLmV4ZWMoYikpKSB7XG4gICAgaWYgKChicyA9IGJtLmluZGV4KSA+IGJpKSB7IC8vIGEgc3RyaW5nIHByZWNlZGVzIHRoZSBuZXh0IG51bWJlciBpbiBiXG4gICAgICBicyA9IGIuc2xpY2UoYmksIGJzKTtcbiAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJzOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgICAgZWxzZSBzWysraV0gPSBicztcbiAgICB9XG4gICAgaWYgKChhbSA9IGFtWzBdKSA9PT0gKGJtID0gYm1bMF0pKSB7IC8vIG51bWJlcnMgaW4gYSAmIGIgbWF0Y2hcbiAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJtOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgICAgZWxzZSBzWysraV0gPSBibTtcbiAgICB9IGVsc2UgeyAvLyBpbnRlcnBvbGF0ZSBub24tbWF0Y2hpbmcgbnVtYmVyc1xuICAgICAgc1srK2ldID0gbnVsbDtcbiAgICAgIHEucHVzaCh7aTogaSwgeDogbnVtYmVyKGFtLCBibSl9KTtcbiAgICB9XG4gICAgYmkgPSByZUIubGFzdEluZGV4O1xuICB9XG5cbiAgLy8gQWRkIHJlbWFpbnMgb2YgYi5cbiAgaWYgKGJpIDwgYi5sZW5ndGgpIHtcbiAgICBicyA9IGIuc2xpY2UoYmkpO1xuICAgIGlmIChzW2ldKSBzW2ldICs9IGJzOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgIGVsc2Ugc1srK2ldID0gYnM7XG4gIH1cblxuICAvLyBTcGVjaWFsIG9wdGltaXphdGlvbiBmb3Igb25seSBhIHNpbmdsZSBtYXRjaC5cbiAgLy8gT3RoZXJ3aXNlLCBpbnRlcnBvbGF0ZSBlYWNoIG9mIHRoZSBudW1iZXJzIGFuZCByZWpvaW4gdGhlIHN0cmluZy5cbiAgcmV0dXJuIHMubGVuZ3RoIDwgMiA/IChxWzBdXG4gICAgICA/IG9uZShxWzBdLngpXG4gICAgICA6IHplcm8oYikpXG4gICAgICA6IChiID0gcS5sZW5ndGgsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbzsgaSA8IGI7ICsraSkgc1sobyA9IHFbaV0pLmldID0gby54KHQpO1xuICAgICAgICAgIHJldHVybiBzLmpvaW4oXCJcIik7XG4gICAgICAgIH0pO1xufVxuIiwidmFyIGRlZ3JlZXMgPSAxODAgLyBNYXRoLlBJO1xuXG5leHBvcnQgdmFyIGlkZW50aXR5ID0ge1xuICB0cmFuc2xhdGVYOiAwLFxuICB0cmFuc2xhdGVZOiAwLFxuICByb3RhdGU6IDAsXG4gIHNrZXdYOiAwLFxuICBzY2FsZVg6IDEsXG4gIHNjYWxlWTogMVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYiwgYywgZCwgZSwgZikge1xuICB2YXIgc2NhbGVYLCBzY2FsZVksIHNrZXdYO1xuICBpZiAoc2NhbGVYID0gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpKSBhIC89IHNjYWxlWCwgYiAvPSBzY2FsZVg7XG4gIGlmIChza2V3WCA9IGEgKiBjICsgYiAqIGQpIGMgLT0gYSAqIHNrZXdYLCBkIC09IGIgKiBza2V3WDtcbiAgaWYgKHNjYWxlWSA9IE1hdGguc3FydChjICogYyArIGQgKiBkKSkgYyAvPSBzY2FsZVksIGQgLz0gc2NhbGVZLCBza2V3WCAvPSBzY2FsZVk7XG4gIGlmIChhICogZCA8IGIgKiBjKSBhID0gLWEsIGIgPSAtYiwgc2tld1ggPSAtc2tld1gsIHNjYWxlWCA9IC1zY2FsZVg7XG4gIHJldHVybiB7XG4gICAgdHJhbnNsYXRlWDogZSxcbiAgICB0cmFuc2xhdGVZOiBmLFxuICAgIHJvdGF0ZTogTWF0aC5hdGFuMihiLCBhKSAqIGRlZ3JlZXMsXG4gICAgc2tld1g6IE1hdGguYXRhbihza2V3WCkgKiBkZWdyZWVzLFxuICAgIHNjYWxlWDogc2NhbGVYLFxuICAgIHNjYWxlWTogc2NhbGVZXG4gIH07XG59XG4iLCJpbXBvcnQgZGVjb21wb3NlLCB7aWRlbnRpdHl9IGZyb20gXCIuL2RlY29tcG9zZS5qc1wiO1xuXG52YXIgc3ZnTm9kZTtcblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUNzcyh2YWx1ZSkge1xuICBjb25zdCBtID0gbmV3ICh0eXBlb2YgRE9NTWF0cml4ID09PSBcImZ1bmN0aW9uXCIgPyBET01NYXRyaXggOiBXZWJLaXRDU1NNYXRyaXgpKHZhbHVlICsgXCJcIik7XG4gIHJldHVybiBtLmlzSWRlbnRpdHkgPyBpZGVudGl0eSA6IGRlY29tcG9zZShtLmEsIG0uYiwgbS5jLCBtLmQsIG0uZSwgbS5mKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU3ZnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gaWRlbnRpdHk7XG4gIGlmICghc3ZnTm9kZSkgc3ZnTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiZ1wiKTtcbiAgc3ZnTm9kZS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIiwgdmFsdWUpO1xuICBpZiAoISh2YWx1ZSA9IHN2Z05vZGUudHJhbnNmb3JtLmJhc2VWYWwuY29uc29saWRhdGUoKSkpIHJldHVybiBpZGVudGl0eTtcbiAgdmFsdWUgPSB2YWx1ZS5tYXRyaXg7XG4gIHJldHVybiBkZWNvbXBvc2UodmFsdWUuYSwgdmFsdWUuYiwgdmFsdWUuYywgdmFsdWUuZCwgdmFsdWUuZSwgdmFsdWUuZik7XG59XG4iLCJpbXBvcnQgbnVtYmVyIGZyb20gXCIuLi9udW1iZXIuanNcIjtcbmltcG9ydCB7cGFyc2VDc3MsIHBhcnNlU3ZnfSBmcm9tIFwiLi9wYXJzZS5qc1wiO1xuXG5mdW5jdGlvbiBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZSwgcHhDb21tYSwgcHhQYXJlbiwgZGVnUGFyZW4pIHtcblxuICBmdW5jdGlvbiBwb3Aocykge1xuICAgIHJldHVybiBzLmxlbmd0aCA/IHMucG9wKCkgKyBcIiBcIiA6IFwiXCI7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFuc2xhdGUoeGEsIHlhLCB4YiwgeWIsIHMsIHEpIHtcbiAgICBpZiAoeGEgIT09IHhiIHx8IHlhICE9PSB5Yikge1xuICAgICAgdmFyIGkgPSBzLnB1c2goXCJ0cmFuc2xhdGUoXCIsIG51bGwsIHB4Q29tbWEsIG51bGwsIHB4UGFyZW4pO1xuICAgICAgcS5wdXNoKHtpOiBpIC0gNCwgeDogbnVtYmVyKHhhLCB4Yil9LCB7aTogaSAtIDIsIHg6IG51bWJlcih5YSwgeWIpfSk7XG4gICAgfSBlbHNlIGlmICh4YiB8fCB5Yikge1xuICAgICAgcy5wdXNoKFwidHJhbnNsYXRlKFwiICsgeGIgKyBweENvbW1hICsgeWIgKyBweFBhcmVuKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByb3RhdGUoYSwgYiwgcywgcSkge1xuICAgIGlmIChhICE9PSBiKSB7XG4gICAgICBpZiAoYSAtIGIgPiAxODApIGIgKz0gMzYwOyBlbHNlIGlmIChiIC0gYSA+IDE4MCkgYSArPSAzNjA7IC8vIHNob3J0ZXN0IHBhdGhcbiAgICAgIHEucHVzaCh7aTogcy5wdXNoKHBvcChzKSArIFwicm90YXRlKFwiLCBudWxsLCBkZWdQYXJlbikgLSAyLCB4OiBudW1iZXIoYSwgYil9KTtcbiAgICB9IGVsc2UgaWYgKGIpIHtcbiAgICAgIHMucHVzaChwb3AocykgKyBcInJvdGF0ZShcIiArIGIgKyBkZWdQYXJlbik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2tld1goYSwgYiwgcywgcSkge1xuICAgIGlmIChhICE9PSBiKSB7XG4gICAgICBxLnB1c2goe2k6IHMucHVzaChwb3AocykgKyBcInNrZXdYKFwiLCBudWxsLCBkZWdQYXJlbikgLSAyLCB4OiBudW1iZXIoYSwgYil9KTtcbiAgICB9IGVsc2UgaWYgKGIpIHtcbiAgICAgIHMucHVzaChwb3AocykgKyBcInNrZXdYKFwiICsgYiArIGRlZ1BhcmVuKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzY2FsZSh4YSwgeWEsIHhiLCB5YiwgcywgcSkge1xuICAgIGlmICh4YSAhPT0geGIgfHwgeWEgIT09IHliKSB7XG4gICAgICB2YXIgaSA9IHMucHVzaChwb3AocykgKyBcInNjYWxlKFwiLCBudWxsLCBcIixcIiwgbnVsbCwgXCIpXCIpO1xuICAgICAgcS5wdXNoKHtpOiBpIC0gNCwgeDogbnVtYmVyKHhhLCB4Yil9LCB7aTogaSAtIDIsIHg6IG51bWJlcih5YSwgeWIpfSk7XG4gICAgfSBlbHNlIGlmICh4YiAhPT0gMSB8fCB5YiAhPT0gMSkge1xuICAgICAgcy5wdXNoKHBvcChzKSArIFwic2NhbGUoXCIgKyB4YiArIFwiLFwiICsgeWIgKyBcIilcIik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICB2YXIgcyA9IFtdLCAvLyBzdHJpbmcgY29uc3RhbnRzIGFuZCBwbGFjZWhvbGRlcnNcbiAgICAgICAgcSA9IFtdOyAvLyBudW1iZXIgaW50ZXJwb2xhdG9yc1xuICAgIGEgPSBwYXJzZShhKSwgYiA9IHBhcnNlKGIpO1xuICAgIHRyYW5zbGF0ZShhLnRyYW5zbGF0ZVgsIGEudHJhbnNsYXRlWSwgYi50cmFuc2xhdGVYLCBiLnRyYW5zbGF0ZVksIHMsIHEpO1xuICAgIHJvdGF0ZShhLnJvdGF0ZSwgYi5yb3RhdGUsIHMsIHEpO1xuICAgIHNrZXdYKGEuc2tld1gsIGIuc2tld1gsIHMsIHEpO1xuICAgIHNjYWxlKGEuc2NhbGVYLCBhLnNjYWxlWSwgYi5zY2FsZVgsIGIuc2NhbGVZLCBzLCBxKTtcbiAgICBhID0gYiA9IG51bGw7IC8vIGdjXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHZhciBpID0gLTEsIG4gPSBxLmxlbmd0aCwgbztcbiAgICAgIHdoaWxlICgrK2kgPCBuKSBzWyhvID0gcVtpXSkuaV0gPSBvLngodCk7XG4gICAgICByZXR1cm4gcy5qb2luKFwiXCIpO1xuICAgIH07XG4gIH07XG59XG5cbmV4cG9ydCB2YXIgaW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MgPSBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZUNzcywgXCJweCwgXCIsIFwicHgpXCIsIFwiZGVnKVwiKTtcbmV4cG9ydCB2YXIgaW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmcgPSBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZVN2ZywgXCIsIFwiLCBcIilcIiwgXCIpXCIpO1xuIiwidmFyIGZyYW1lID0gMCwgLy8gaXMgYW4gYW5pbWF0aW9uIGZyYW1lIHBlbmRpbmc/XG4gICAgdGltZW91dCA9IDAsIC8vIGlzIGEgdGltZW91dCBwZW5kaW5nP1xuICAgIGludGVydmFsID0gMCwgLy8gYXJlIGFueSB0aW1lcnMgYWN0aXZlP1xuICAgIHBva2VEZWxheSA9IDEwMDAsIC8vIGhvdyBmcmVxdWVudGx5IHdlIGNoZWNrIGZvciBjbG9jayBza2V3XG4gICAgdGFza0hlYWQsXG4gICAgdGFza1RhaWwsXG4gICAgY2xvY2tMYXN0ID0gMCxcbiAgICBjbG9ja05vdyA9IDAsXG4gICAgY2xvY2tTa2V3ID0gMCxcbiAgICBjbG9jayA9IHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gXCJvYmplY3RcIiAmJiBwZXJmb3JtYW5jZS5ub3cgPyBwZXJmb3JtYW5jZSA6IERhdGUsXG4gICAgc2V0RnJhbWUgPSB0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiICYmIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KSA6IGZ1bmN0aW9uKGYpIHsgc2V0VGltZW91dChmLCAxNyk7IH07XG5cbmV4cG9ydCBmdW5jdGlvbiBub3coKSB7XG4gIHJldHVybiBjbG9ja05vdyB8fCAoc2V0RnJhbWUoY2xlYXJOb3cpLCBjbG9ja05vdyA9IGNsb2NrLm5vdygpICsgY2xvY2tTa2V3KTtcbn1cblxuZnVuY3Rpb24gY2xlYXJOb3coKSB7XG4gIGNsb2NrTm93ID0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFRpbWVyKCkge1xuICB0aGlzLl9jYWxsID1cbiAgdGhpcy5fdGltZSA9XG4gIHRoaXMuX25leHQgPSBudWxsO1xufVxuXG5UaW1lci5wcm90b3R5cGUgPSB0aW1lci5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBUaW1lcixcbiAgcmVzdGFydDogZnVuY3Rpb24oY2FsbGJhY2ssIGRlbGF5LCB0aW1lKSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gICAgdGltZSA9ICh0aW1lID09IG51bGwgPyBub3coKSA6ICt0aW1lKSArIChkZWxheSA9PSBudWxsID8gMCA6ICtkZWxheSk7XG4gICAgaWYgKCF0aGlzLl9uZXh0ICYmIHRhc2tUYWlsICE9PSB0aGlzKSB7XG4gICAgICBpZiAodGFza1RhaWwpIHRhc2tUYWlsLl9uZXh0ID0gdGhpcztcbiAgICAgIGVsc2UgdGFza0hlYWQgPSB0aGlzO1xuICAgICAgdGFza1RhaWwgPSB0aGlzO1xuICAgIH1cbiAgICB0aGlzLl9jYWxsID0gY2FsbGJhY2s7XG4gICAgdGhpcy5fdGltZSA9IHRpbWU7XG4gICAgc2xlZXAoKTtcbiAgfSxcbiAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2NhbGwpIHtcbiAgICAgIHRoaXMuX2NhbGwgPSBudWxsO1xuICAgICAgdGhpcy5fdGltZSA9IEluZmluaXR5O1xuICAgICAgc2xlZXAoKTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihjYWxsYmFjaywgZGVsYXksIHRpbWUpIHtcbiAgdmFyIHQgPSBuZXcgVGltZXI7XG4gIHQucmVzdGFydChjYWxsYmFjaywgZGVsYXksIHRpbWUpO1xuICByZXR1cm4gdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyRmx1c2goKSB7XG4gIG5vdygpOyAvLyBHZXQgdGhlIGN1cnJlbnQgdGltZSwgaWYgbm90IGFscmVhZHkgc2V0LlxuICArK2ZyYW1lOyAvLyBQcmV0ZW5kIHdl4oCZdmUgc2V0IGFuIGFsYXJtLCBpZiB3ZSBoYXZlbuKAmXQgYWxyZWFkeS5cbiAgdmFyIHQgPSB0YXNrSGVhZCwgZTtcbiAgd2hpbGUgKHQpIHtcbiAgICBpZiAoKGUgPSBjbG9ja05vdyAtIHQuX3RpbWUpID49IDApIHQuX2NhbGwuY2FsbCh1bmRlZmluZWQsIGUpO1xuICAgIHQgPSB0Ll9uZXh0O1xuICB9XG4gIC0tZnJhbWU7XG59XG5cbmZ1bmN0aW9uIHdha2UoKSB7XG4gIGNsb2NrTm93ID0gKGNsb2NrTGFzdCA9IGNsb2NrLm5vdygpKSArIGNsb2NrU2tldztcbiAgZnJhbWUgPSB0aW1lb3V0ID0gMDtcbiAgdHJ5IHtcbiAgICB0aW1lckZsdXNoKCk7XG4gIH0gZmluYWxseSB7XG4gICAgZnJhbWUgPSAwO1xuICAgIG5hcCgpO1xuICAgIGNsb2NrTm93ID0gMDtcbiAgfVxufVxuXG5mdW5jdGlvbiBwb2tlKCkge1xuICB2YXIgbm93ID0gY2xvY2subm93KCksIGRlbGF5ID0gbm93IC0gY2xvY2tMYXN0O1xuICBpZiAoZGVsYXkgPiBwb2tlRGVsYXkpIGNsb2NrU2tldyAtPSBkZWxheSwgY2xvY2tMYXN0ID0gbm93O1xufVxuXG5mdW5jdGlvbiBuYXAoKSB7XG4gIHZhciB0MCwgdDEgPSB0YXNrSGVhZCwgdDIsIHRpbWUgPSBJbmZpbml0eTtcbiAgd2hpbGUgKHQxKSB7XG4gICAgaWYgKHQxLl9jYWxsKSB7XG4gICAgICBpZiAodGltZSA+IHQxLl90aW1lKSB0aW1lID0gdDEuX3RpbWU7XG4gICAgICB0MCA9IHQxLCB0MSA9IHQxLl9uZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0MiA9IHQxLl9uZXh0LCB0MS5fbmV4dCA9IG51bGw7XG4gICAgICB0MSA9IHQwID8gdDAuX25leHQgPSB0MiA6IHRhc2tIZWFkID0gdDI7XG4gICAgfVxuICB9XG4gIHRhc2tUYWlsID0gdDA7XG4gIHNsZWVwKHRpbWUpO1xufVxuXG5mdW5jdGlvbiBzbGVlcCh0aW1lKSB7XG4gIGlmIChmcmFtZSkgcmV0dXJuOyAvLyBTb29uZXN0IGFsYXJtIGFscmVhZHkgc2V0LCBvciB3aWxsIGJlLlxuICBpZiAodGltZW91dCkgdGltZW91dCA9IGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgdmFyIGRlbGF5ID0gdGltZSAtIGNsb2NrTm93OyAvLyBTdHJpY3RseSBsZXNzIHRoYW4gaWYgd2UgcmVjb21wdXRlZCBjbG9ja05vdy5cbiAgaWYgKGRlbGF5ID4gMjQpIHtcbiAgICBpZiAodGltZSA8IEluZmluaXR5KSB0aW1lb3V0ID0gc2V0VGltZW91dCh3YWtlLCB0aW1lIC0gY2xvY2subm93KCkgLSBjbG9ja1NrZXcpO1xuICAgIGlmIChpbnRlcnZhbCkgaW50ZXJ2YWwgPSBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWludGVydmFsKSBjbG9ja0xhc3QgPSBjbG9jay5ub3coKSwgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChwb2tlLCBwb2tlRGVsYXkpO1xuICAgIGZyYW1lID0gMSwgc2V0RnJhbWUod2FrZSk7XG4gIH1cbn1cbiIsImltcG9ydCB7VGltZXJ9IGZyb20gXCIuL3RpbWVyLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNhbGxiYWNrLCBkZWxheSwgdGltZSkge1xuICB2YXIgdCA9IG5ldyBUaW1lcjtcbiAgZGVsYXkgPSBkZWxheSA9PSBudWxsID8gMCA6ICtkZWxheTtcbiAgdC5yZXN0YXJ0KGVsYXBzZWQgPT4ge1xuICAgIHQuc3RvcCgpO1xuICAgIGNhbGxiYWNrKGVsYXBzZWQgKyBkZWxheSk7XG4gIH0sIGRlbGF5LCB0aW1lKTtcbiAgcmV0dXJuIHQ7XG59XG4iLCJpbXBvcnQge2Rpc3BhdGNofSBmcm9tIFwiZDMtZGlzcGF0Y2hcIjtcbmltcG9ydCB7dGltZXIsIHRpbWVvdXR9IGZyb20gXCJkMy10aW1lclwiO1xuXG52YXIgZW1wdHlPbiA9IGRpc3BhdGNoKFwic3RhcnRcIiwgXCJlbmRcIiwgXCJjYW5jZWxcIiwgXCJpbnRlcnJ1cHRcIik7XG52YXIgZW1wdHlUd2VlbiA9IFtdO1xuXG5leHBvcnQgdmFyIENSRUFURUQgPSAwO1xuZXhwb3J0IHZhciBTQ0hFRFVMRUQgPSAxO1xuZXhwb3J0IHZhciBTVEFSVElORyA9IDI7XG5leHBvcnQgdmFyIFNUQVJURUQgPSAzO1xuZXhwb3J0IHZhciBSVU5OSU5HID0gNDtcbmV4cG9ydCB2YXIgRU5ESU5HID0gNTtcbmV4cG9ydCB2YXIgRU5ERUQgPSA2O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihub2RlLCBuYW1lLCBpZCwgaW5kZXgsIGdyb3VwLCB0aW1pbmcpIHtcbiAgdmFyIHNjaGVkdWxlcyA9IG5vZGUuX190cmFuc2l0aW9uO1xuICBpZiAoIXNjaGVkdWxlcykgbm9kZS5fX3RyYW5zaXRpb24gPSB7fTtcbiAgZWxzZSBpZiAoaWQgaW4gc2NoZWR1bGVzKSByZXR1cm47XG4gIGNyZWF0ZShub2RlLCBpZCwge1xuICAgIG5hbWU6IG5hbWUsXG4gICAgaW5kZXg6IGluZGV4LCAvLyBGb3IgY29udGV4dCBkdXJpbmcgY2FsbGJhY2suXG4gICAgZ3JvdXA6IGdyb3VwLCAvLyBGb3IgY29udGV4dCBkdXJpbmcgY2FsbGJhY2suXG4gICAgb246IGVtcHR5T24sXG4gICAgdHdlZW46IGVtcHR5VHdlZW4sXG4gICAgdGltZTogdGltaW5nLnRpbWUsXG4gICAgZGVsYXk6IHRpbWluZy5kZWxheSxcbiAgICBkdXJhdGlvbjogdGltaW5nLmR1cmF0aW9uLFxuICAgIGVhc2U6IHRpbWluZy5lYXNlLFxuICAgIHRpbWVyOiBudWxsLFxuICAgIHN0YXRlOiBDUkVBVEVEXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdChub2RlLCBpZCkge1xuICB2YXIgc2NoZWR1bGUgPSBnZXQobm9kZSwgaWQpO1xuICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBDUkVBVEVEKSB0aHJvdyBuZXcgRXJyb3IoXCJ0b28gbGF0ZTsgYWxyZWFkeSBzY2hlZHVsZWRcIik7XG4gIHJldHVybiBzY2hlZHVsZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChub2RlLCBpZCkge1xuICB2YXIgc2NoZWR1bGUgPSBnZXQobm9kZSwgaWQpO1xuICBpZiAoc2NoZWR1bGUuc3RhdGUgPiBTVEFSVEVEKSB0aHJvdyBuZXcgRXJyb3IoXCJ0b28gbGF0ZTsgYWxyZWFkeSBydW5uaW5nXCIpO1xuICByZXR1cm4gc2NoZWR1bGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXQobm9kZSwgaWQpIHtcbiAgdmFyIHNjaGVkdWxlID0gbm9kZS5fX3RyYW5zaXRpb247XG4gIGlmICghc2NoZWR1bGUgfHwgIShzY2hlZHVsZSA9IHNjaGVkdWxlW2lkXSkpIHRocm93IG5ldyBFcnJvcihcInRyYW5zaXRpb24gbm90IGZvdW5kXCIpO1xuICByZXR1cm4gc2NoZWR1bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZShub2RlLCBpZCwgc2VsZikge1xuICB2YXIgc2NoZWR1bGVzID0gbm9kZS5fX3RyYW5zaXRpb24sXG4gICAgICB0d2VlbjtcblxuICAvLyBJbml0aWFsaXplIHRoZSBzZWxmIHRpbWVyIHdoZW4gdGhlIHRyYW5zaXRpb24gaXMgY3JlYXRlZC5cbiAgLy8gTm90ZSB0aGUgYWN0dWFsIGRlbGF5IGlzIG5vdCBrbm93biB1bnRpbCB0aGUgZmlyc3QgY2FsbGJhY2shXG4gIHNjaGVkdWxlc1tpZF0gPSBzZWxmO1xuICBzZWxmLnRpbWVyID0gdGltZXIoc2NoZWR1bGUsIDAsIHNlbGYudGltZSk7XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGUoZWxhcHNlZCkge1xuICAgIHNlbGYuc3RhdGUgPSBTQ0hFRFVMRUQ7XG4gICAgc2VsZi50aW1lci5yZXN0YXJ0KHN0YXJ0LCBzZWxmLmRlbGF5LCBzZWxmLnRpbWUpO1xuXG4gICAgLy8gSWYgdGhlIGVsYXBzZWQgZGVsYXkgaXMgbGVzcyB0aGFuIG91ciBmaXJzdCBzbGVlcCwgc3RhcnQgaW1tZWRpYXRlbHkuXG4gICAgaWYgKHNlbGYuZGVsYXkgPD0gZWxhcHNlZCkgc3RhcnQoZWxhcHNlZCAtIHNlbGYuZGVsYXkpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnQoZWxhcHNlZCkge1xuICAgIHZhciBpLCBqLCBuLCBvO1xuXG4gICAgLy8gSWYgdGhlIHN0YXRlIGlzIG5vdCBTQ0hFRFVMRUQsIHRoZW4gd2UgcHJldmlvdXNseSBlcnJvcmVkIG9uIHN0YXJ0LlxuICAgIGlmIChzZWxmLnN0YXRlICE9PSBTQ0hFRFVMRUQpIHJldHVybiBzdG9wKCk7XG5cbiAgICBmb3IgKGkgaW4gc2NoZWR1bGVzKSB7XG4gICAgICBvID0gc2NoZWR1bGVzW2ldO1xuICAgICAgaWYgKG8ubmFtZSAhPT0gc2VsZi5uYW1lKSBjb250aW51ZTtcblxuICAgICAgLy8gV2hpbGUgdGhpcyBlbGVtZW50IGFscmVhZHkgaGFzIGEgc3RhcnRpbmcgdHJhbnNpdGlvbiBkdXJpbmcgdGhpcyBmcmFtZSxcbiAgICAgIC8vIGRlZmVyIHN0YXJ0aW5nIGFuIGludGVycnVwdGluZyB0cmFuc2l0aW9uIHVudGlsIHRoYXQgdHJhbnNpdGlvbiBoYXMgYVxuICAgICAgLy8gY2hhbmNlIHRvIHRpY2sgKGFuZCBwb3NzaWJseSBlbmQpOyBzZWUgZDMvZDMtdHJhbnNpdGlvbiM1NCFcbiAgICAgIGlmIChvLnN0YXRlID09PSBTVEFSVEVEKSByZXR1cm4gdGltZW91dChzdGFydCk7XG5cbiAgICAgIC8vIEludGVycnVwdCB0aGUgYWN0aXZlIHRyYW5zaXRpb24sIGlmIGFueS5cbiAgICAgIGlmIChvLnN0YXRlID09PSBSVU5OSU5HKSB7XG4gICAgICAgIG8uc3RhdGUgPSBFTkRFRDtcbiAgICAgICAgby50aW1lci5zdG9wKCk7XG4gICAgICAgIG8ub24uY2FsbChcImludGVycnVwdFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBvLmluZGV4LCBvLmdyb3VwKTtcbiAgICAgICAgZGVsZXRlIHNjaGVkdWxlc1tpXTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FuY2VsIGFueSBwcmUtZW1wdGVkIHRyYW5zaXRpb25zLlxuICAgICAgZWxzZSBpZiAoK2kgPCBpZCkge1xuICAgICAgICBvLnN0YXRlID0gRU5ERUQ7XG4gICAgICAgIG8udGltZXIuc3RvcCgpO1xuICAgICAgICBvLm9uLmNhbGwoXCJjYW5jZWxcIiwgbm9kZSwgbm9kZS5fX2RhdGFfXywgby5pbmRleCwgby5ncm91cCk7XG4gICAgICAgIGRlbGV0ZSBzY2hlZHVsZXNbaV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGVmZXIgdGhlIGZpcnN0IHRpY2sgdG8gZW5kIG9mIHRoZSBjdXJyZW50IGZyYW1lOyBzZWUgZDMvZDMjMTU3Ni5cbiAgICAvLyBOb3RlIHRoZSB0cmFuc2l0aW9uIG1heSBiZSBjYW5jZWxlZCBhZnRlciBzdGFydCBhbmQgYmVmb3JlIHRoZSBmaXJzdCB0aWNrIVxuICAgIC8vIE5vdGUgdGhpcyBtdXN0IGJlIHNjaGVkdWxlZCBiZWZvcmUgdGhlIHN0YXJ0IGV2ZW50OyBzZWUgZDMvZDMtdHJhbnNpdGlvbiMxNiFcbiAgICAvLyBBc3N1bWluZyB0aGlzIGlzIHN1Y2Nlc3NmdWwsIHN1YnNlcXVlbnQgY2FsbGJhY2tzIGdvIHN0cmFpZ2h0IHRvIHRpY2suXG4gICAgdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGlmIChzZWxmLnN0YXRlID09PSBTVEFSVEVEKSB7XG4gICAgICAgIHNlbGYuc3RhdGUgPSBSVU5OSU5HO1xuICAgICAgICBzZWxmLnRpbWVyLnJlc3RhcnQodGljaywgc2VsZi5kZWxheSwgc2VsZi50aW1lKTtcbiAgICAgICAgdGljayhlbGFwc2VkKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIERpc3BhdGNoIHRoZSBzdGFydCBldmVudC5cbiAgICAvLyBOb3RlIHRoaXMgbXVzdCBiZSBkb25lIGJlZm9yZSB0aGUgdHdlZW4gYXJlIGluaXRpYWxpemVkLlxuICAgIHNlbGYuc3RhdGUgPSBTVEFSVElORztcbiAgICBzZWxmLm9uLmNhbGwoXCJzdGFydFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKTtcbiAgICBpZiAoc2VsZi5zdGF0ZSAhPT0gU1RBUlRJTkcpIHJldHVybjsgLy8gaW50ZXJydXB0ZWRcbiAgICBzZWxmLnN0YXRlID0gU1RBUlRFRDtcblxuICAgIC8vIEluaXRpYWxpemUgdGhlIHR3ZWVuLCBkZWxldGluZyBudWxsIHR3ZWVuLlxuICAgIHR3ZWVuID0gbmV3IEFycmF5KG4gPSBzZWxmLnR3ZWVuLmxlbmd0aCk7XG4gICAgZm9yIChpID0gMCwgaiA9IC0xOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobyA9IHNlbGYudHdlZW5baV0udmFsdWUuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKSkge1xuICAgICAgICB0d2VlblsrK2pdID0gbztcbiAgICAgIH1cbiAgICB9XG4gICAgdHdlZW4ubGVuZ3RoID0gaiArIDE7XG4gIH1cblxuICBmdW5jdGlvbiB0aWNrKGVsYXBzZWQpIHtcbiAgICB2YXIgdCA9IGVsYXBzZWQgPCBzZWxmLmR1cmF0aW9uID8gc2VsZi5lYXNlLmNhbGwobnVsbCwgZWxhcHNlZCAvIHNlbGYuZHVyYXRpb24pIDogKHNlbGYudGltZXIucmVzdGFydChzdG9wKSwgc2VsZi5zdGF0ZSA9IEVORElORywgMSksXG4gICAgICAgIGkgPSAtMSxcbiAgICAgICAgbiA9IHR3ZWVuLmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2kgPCBuKSB7XG4gICAgICB0d2VlbltpXS5jYWxsKG5vZGUsIHQpO1xuICAgIH1cblxuICAgIC8vIERpc3BhdGNoIHRoZSBlbmQgZXZlbnQuXG4gICAgaWYgKHNlbGYuc3RhdGUgPT09IEVORElORykge1xuICAgICAgc2VsZi5vbi5jYWxsKFwiZW5kXCIsIG5vZGUsIG5vZGUuX19kYXRhX18sIHNlbGYuaW5kZXgsIHNlbGYuZ3JvdXApO1xuICAgICAgc3RvcCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgc2VsZi5zdGF0ZSA9IEVOREVEO1xuICAgIHNlbGYudGltZXIuc3RvcCgpO1xuICAgIGRlbGV0ZSBzY2hlZHVsZXNbaWRdO1xuICAgIGZvciAodmFyIGkgaW4gc2NoZWR1bGVzKSByZXR1cm47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICBkZWxldGUgbm9kZS5fX3RyYW5zaXRpb247XG4gIH1cbn1cbiIsImltcG9ydCB7U1RBUlRJTkcsIEVORElORywgRU5ERUR9IGZyb20gXCIuL3RyYW5zaXRpb24vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obm9kZSwgbmFtZSkge1xuICB2YXIgc2NoZWR1bGVzID0gbm9kZS5fX3RyYW5zaXRpb24sXG4gICAgICBzY2hlZHVsZSxcbiAgICAgIGFjdGl2ZSxcbiAgICAgIGVtcHR5ID0gdHJ1ZSxcbiAgICAgIGk7XG5cbiAgaWYgKCFzY2hlZHVsZXMpIHJldHVybjtcblxuICBuYW1lID0gbmFtZSA9PSBudWxsID8gbnVsbCA6IG5hbWUgKyBcIlwiO1xuXG4gIGZvciAoaSBpbiBzY2hlZHVsZXMpIHtcbiAgICBpZiAoKHNjaGVkdWxlID0gc2NoZWR1bGVzW2ldKS5uYW1lICE9PSBuYW1lKSB7IGVtcHR5ID0gZmFsc2U7IGNvbnRpbnVlOyB9XG4gICAgYWN0aXZlID0gc2NoZWR1bGUuc3RhdGUgPiBTVEFSVElORyAmJiBzY2hlZHVsZS5zdGF0ZSA8IEVORElORztcbiAgICBzY2hlZHVsZS5zdGF0ZSA9IEVOREVEO1xuICAgIHNjaGVkdWxlLnRpbWVyLnN0b3AoKTtcbiAgICBzY2hlZHVsZS5vbi5jYWxsKGFjdGl2ZSA/IFwiaW50ZXJydXB0XCIgOiBcImNhbmNlbFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzY2hlZHVsZS5pbmRleCwgc2NoZWR1bGUuZ3JvdXApO1xuICAgIGRlbGV0ZSBzY2hlZHVsZXNbaV07XG4gIH1cblxuICBpZiAoZW1wdHkpIGRlbGV0ZSBub2RlLl9fdHJhbnNpdGlvbjtcbn1cbiIsImltcG9ydCBpbnRlcnJ1cHQgZnJvbSBcIi4uL2ludGVycnVwdC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgaW50ZXJydXB0KHRoaXMsIG5hbWUpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7Z2V0LCBzZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmZ1bmN0aW9uIHR3ZWVuUmVtb3ZlKGlkLCBuYW1lKSB7XG4gIHZhciB0d2VlbjAsIHR3ZWVuMTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzY2hlZHVsZSA9IHNldCh0aGlzLCBpZCksXG4gICAgICAgIHR3ZWVuID0gc2NoZWR1bGUudHdlZW47XG5cbiAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIHR3ZWVuIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsXG4gICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIHR3ZWVuIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLlxuICAgIGlmICh0d2VlbiAhPT0gdHdlZW4wKSB7XG4gICAgICB0d2VlbjEgPSB0d2VlbjAgPSB0d2VlbjtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHdlZW4xLmxlbmd0aDsgaSA8IG47ICsraSkge1xuICAgICAgICBpZiAodHdlZW4xW2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICB0d2VlbjEgPSB0d2VlbjEuc2xpY2UoKTtcbiAgICAgICAgICB0d2VlbjEuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2NoZWR1bGUudHdlZW4gPSB0d2VlbjE7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHR3ZWVuRnVuY3Rpb24oaWQsIG5hbWUsIHZhbHVlKSB7XG4gIHZhciB0d2VlbjAsIHR3ZWVuMTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3I7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLFxuICAgICAgICB0d2VlbiA9IHNjaGVkdWxlLnR3ZWVuO1xuXG4gICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCB0d2VlbiB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCB0d2VlbiBhbmQgd2XigJlyZSBkb25lIVxuICAgIC8vIE90aGVyd2lzZSwgY29weS1vbi13cml0ZS5cbiAgICBpZiAodHdlZW4gIT09IHR3ZWVuMCkge1xuICAgICAgdHdlZW4xID0gKHR3ZWVuMCA9IHR3ZWVuKS5zbGljZSgpO1xuICAgICAgZm9yICh2YXIgdCA9IHtuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWV9LCBpID0gMCwgbiA9IHR3ZWVuMS5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgaWYgKHR3ZWVuMVtpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgdHdlZW4xW2ldID0gdDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGkgPT09IG4pIHR3ZWVuMS5wdXNoKHQpO1xuICAgIH1cblxuICAgIHNjaGVkdWxlLnR3ZWVuID0gdHdlZW4xO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICBuYW1lICs9IFwiXCI7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdmFyIHR3ZWVuID0gZ2V0KHRoaXMubm9kZSgpLCBpZCkudHdlZW47XG4gICAgZm9yICh2YXIgaSA9IDAsIG4gPSB0d2Vlbi5sZW5ndGgsIHQ7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmICgodCA9IHR3ZWVuW2ldKS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgIHJldHVybiB0LnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyB0d2VlblJlbW92ZSA6IHR3ZWVuRnVuY3Rpb24pKGlkLCBuYW1lLCB2YWx1ZSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHdlZW5WYWx1ZSh0cmFuc2l0aW9uLCBuYW1lLCB2YWx1ZSkge1xuICB2YXIgaWQgPSB0cmFuc2l0aW9uLl9pZDtcblxuICB0cmFuc2l0aW9uLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKTtcbiAgICAoc2NoZWR1bGUudmFsdWUgfHwgKHNjaGVkdWxlLnZhbHVlID0ge30pKVtuYW1lXSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0pO1xuXG4gIHJldHVybiBmdW5jdGlvbihub2RlKSB7XG4gICAgcmV0dXJuIGdldChub2RlLCBpZCkudmFsdWVbbmFtZV07XG4gIH07XG59XG4iLCJpbXBvcnQge2NvbG9yfSBmcm9tIFwiZDMtY29sb3JcIjtcbmltcG9ydCB7aW50ZXJwb2xhdGVOdW1iZXIsIGludGVycG9sYXRlUmdiLCBpbnRlcnBvbGF0ZVN0cmluZ30gZnJvbSBcImQzLWludGVycG9sYXRlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIGM7XG4gIHJldHVybiAodHlwZW9mIGIgPT09IFwibnVtYmVyXCIgPyBpbnRlcnBvbGF0ZU51bWJlclxuICAgICAgOiBiIGluc3RhbmNlb2YgY29sb3IgPyBpbnRlcnBvbGF0ZVJnYlxuICAgICAgOiAoYyA9IGNvbG9yKGIpKSA/IChiID0gYywgaW50ZXJwb2xhdGVSZ2IpXG4gICAgICA6IGludGVycG9sYXRlU3RyaW5nKShhLCBiKTtcbn1cbiIsImltcG9ydCB7aW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmcgYXMgaW50ZXJwb2xhdGVUcmFuc2Zvcm19IGZyb20gXCJkMy1pbnRlcnBvbGF0ZVwiO1xuaW1wb3J0IHtuYW1lc3BhY2V9IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCB7dHdlZW5WYWx1ZX0gZnJvbSBcIi4vdHdlZW4uanNcIjtcbmltcG9ydCBpbnRlcnBvbGF0ZSBmcm9tIFwiLi9pbnRlcnBvbGF0ZS5qc1wiO1xuXG5mdW5jdGlvbiBhdHRyUmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyUmVtb3ZlTlMoZnVsbG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckNvbnN0YW50KG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZTEpIHtcbiAgdmFyIHN0cmluZzAwLFxuICAgICAgc3RyaW5nMSA9IHZhbHVlMSArIFwiXCIsXG4gICAgICBpbnRlcnBvbGF0ZTA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyQ29uc3RhbnROUyhmdWxsbmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxID0gdmFsdWUxICsgXCJcIixcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyRnVuY3Rpb24obmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEwLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAsIHZhbHVlMSA9IHZhbHVlKHRoaXMpLCBzdHJpbmcxO1xuICAgIGlmICh2YWx1ZTEgPT0gbnVsbCkgcmV0dXJuIHZvaWQgdGhpcy5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogKHN0cmluZzEwID0gc3RyaW5nMSwgaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckZ1bmN0aW9uTlMoZnVsbG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxMCxcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwLCB2YWx1ZTEgPSB2YWx1ZSh0aGlzKSwgc3RyaW5nMTtcbiAgICBpZiAodmFsdWUxID09IG51bGwpIHJldHVybiB2b2lkIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgICBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogKHN0cmluZzEwID0gc3RyaW5nMSwgaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpLCBpID0gZnVsbG5hbWUgPT09IFwidHJhbnNmb3JtXCIgPyBpbnRlcnBvbGF0ZVRyYW5zZm9ybSA6IGludGVycG9sYXRlO1xuICByZXR1cm4gdGhpcy5hdHRyVHdlZW4obmFtZSwgdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgID8gKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckZ1bmN0aW9uTlMgOiBhdHRyRnVuY3Rpb24pKGZ1bGxuYW1lLCBpLCB0d2VlblZhbHVlKHRoaXMsIFwiYXR0ci5cIiArIG5hbWUsIHZhbHVlKSlcbiAgICAgIDogdmFsdWUgPT0gbnVsbCA/IChmdWxsbmFtZS5sb2NhbCA/IGF0dHJSZW1vdmVOUyA6IGF0dHJSZW1vdmUpKGZ1bGxuYW1lKVxuICAgICAgOiAoZnVsbG5hbWUubG9jYWwgPyBhdHRyQ29uc3RhbnROUyA6IGF0dHJDb25zdGFudCkoZnVsbG5hbWUsIGksIHZhbHVlKSk7XG59XG4iLCJpbXBvcnQge25hbWVzcGFjZX0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuXG5mdW5jdGlvbiBhdHRySW50ZXJwb2xhdGUobmFtZSwgaSkge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKG5hbWUsIGkuY2FsbCh0aGlzLCB0KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJJbnRlcnBvbGF0ZU5TKGZ1bGxuYW1lLCBpKSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwsIGkuY2FsbCh0aGlzLCB0KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJUd2Vlbk5TKGZ1bGxuYW1lLCB2YWx1ZSkge1xuICB2YXIgdDAsIGkwO1xuICBmdW5jdGlvbiB0d2VlbigpIHtcbiAgICB2YXIgaSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKGkgIT09IGkwKSB0MCA9IChpMCA9IGkpICYmIGF0dHJJbnRlcnBvbGF0ZU5TKGZ1bGxuYW1lLCBpKTtcbiAgICByZXR1cm4gdDA7XG4gIH1cbiAgdHdlZW4uX3ZhbHVlID0gdmFsdWU7XG4gIHJldHVybiB0d2Vlbjtcbn1cblxuZnVuY3Rpb24gYXR0clR3ZWVuKG5hbWUsIHZhbHVlKSB7XG4gIHZhciB0MCwgaTA7XG4gIGZ1bmN0aW9uIHR3ZWVuKCkge1xuICAgIHZhciBpID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAoaSAhPT0gaTApIHQwID0gKGkwID0gaSkgJiYgYXR0ckludGVycG9sYXRlKG5hbWUsIGkpO1xuICAgIHJldHVybiB0MDtcbiAgfVxuICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTtcbiAgcmV0dXJuIHR3ZWVuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIga2V5ID0gXCJhdHRyLlwiICsgbmFtZTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSByZXR1cm4gKGtleSA9IHRoaXMudHdlZW4oa2V5KSkgJiYga2V5Ll92YWx1ZTtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgbnVsbCk7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yO1xuICB2YXIgZnVsbG5hbWUgPSBuYW1lc3BhY2UobmFtZSk7XG4gIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgKGZ1bGxuYW1lLmxvY2FsID8gYXR0clR3ZWVuTlMgOiBhdHRyVHdlZW4pKGZ1bGxuYW1lLCB2YWx1ZSkpO1xufVxuIiwiaW1wb3J0IHtnZXQsIGluaXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmZ1bmN0aW9uIGRlbGF5RnVuY3Rpb24oaWQsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBpbml0KHRoaXMsIGlkKS5kZWxheSA9ICt2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBkZWxheUNvbnN0YW50KGlkLCB2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPSArdmFsdWUsIGZ1bmN0aW9uKCkge1xuICAgIGluaXQodGhpcywgaWQpLmRlbGF5ID0gdmFsdWU7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBpZCA9IHRoaXMuX2lkO1xuXG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IGRlbGF5RnVuY3Rpb25cbiAgICAgICAgICA6IGRlbGF5Q29uc3RhbnQpKGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmRlbGF5O1xufVxuIiwiaW1wb3J0IHtnZXQsIHNldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZHVyYXRpb25GdW5jdGlvbihpZCwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHNldCh0aGlzLCBpZCkuZHVyYXRpb24gPSArdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZHVyYXRpb25Db25zdGFudChpZCwgdmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID0gK3ZhbHVlLCBmdW5jdGlvbigpIHtcbiAgICBzZXQodGhpcywgaWQpLmR1cmF0aW9uID0gdmFsdWU7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBpZCA9IHRoaXMuX2lkO1xuXG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IGR1cmF0aW9uRnVuY3Rpb25cbiAgICAgICAgICA6IGR1cmF0aW9uQ29uc3RhbnQpKGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmR1cmF0aW9uO1xufVxuIiwiaW1wb3J0IHtnZXQsIHNldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZWFzZUNvbnN0YW50KGlkLCB2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHNldCh0aGlzLCBpZCkuZWFzZSA9IHZhbHVlO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgPyB0aGlzLmVhY2goZWFzZUNvbnN0YW50KGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmVhc2U7XG59XG4iLCJpbXBvcnQge3NldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZWFzZVZhcnlpbmcoaWQsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKHR5cGVvZiB2ICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgICBzZXQodGhpcywgaWQpLmVhc2UgPSB2O1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgcmV0dXJuIHRoaXMuZWFjaChlYXNlVmFyeWluZyh0aGlzLl9pZCwgdmFsdWUpKTtcbn1cbiIsImltcG9ydCB7bWF0Y2hlcn0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHtUcmFuc2l0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihtYXRjaCkge1xuICBpZiAodHlwZW9mIG1hdGNoICE9PSBcImZ1bmN0aW9uXCIpIG1hdGNoID0gbWF0Y2hlcihtYXRjaCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzdWJncm91cCA9IHN1Ymdyb3Vwc1tqXSA9IFtdLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIG1hdGNoLmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSB7XG4gICAgICAgIHN1Ymdyb3VwLnB1c2gobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKHN1Ymdyb3VwcywgdGhpcy5fcGFyZW50cywgdGhpcy5fbmFtZSwgdGhpcy5faWQpO1xufVxuIiwiaW1wb3J0IHtUcmFuc2l0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0cmFuc2l0aW9uKSB7XG4gIGlmICh0cmFuc2l0aW9uLl9pZCAhPT0gdGhpcy5faWQpIHRocm93IG5ldyBFcnJvcjtcblxuICBmb3IgKHZhciBncm91cHMwID0gdGhpcy5fZ3JvdXBzLCBncm91cHMxID0gdHJhbnNpdGlvbi5fZ3JvdXBzLCBtMCA9IGdyb3VwczAubGVuZ3RoLCBtMSA9IGdyb3VwczEubGVuZ3RoLCBtID0gTWF0aC5taW4obTAsIG0xKSwgbWVyZ2VzID0gbmV3IEFycmF5KG0wKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwMFtpXSB8fCBncm91cDFbaV0pIHtcbiAgICAgICAgbWVyZ2VbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBqIDwgbTA7ICsraikge1xuICAgIG1lcmdlc1tqXSA9IGdyb3VwczBbal07XG4gIH1cblxuICByZXR1cm4gbmV3IFRyYW5zaXRpb24obWVyZ2VzLCB0aGlzLl9wYXJlbnRzLCB0aGlzLl9uYW1lLCB0aGlzLl9pZCk7XG59XG4iLCJpbXBvcnQge2dldCwgc2V0LCBpbml0fSBmcm9tIFwiLi9zY2hlZHVsZS5qc1wiO1xuXG5mdW5jdGlvbiBzdGFydChuYW1lKSB7XG4gIHJldHVybiAobmFtZSArIFwiXCIpLnRyaW0oKS5zcGxpdCgvXnxcXHMrLykuZXZlcnkoZnVuY3Rpb24odCkge1xuICAgIHZhciBpID0gdC5pbmRleE9mKFwiLlwiKTtcbiAgICBpZiAoaSA+PSAwKSB0ID0gdC5zbGljZSgwLCBpKTtcbiAgICByZXR1cm4gIXQgfHwgdCA9PT0gXCJzdGFydFwiO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb25GdW5jdGlvbihpZCwgbmFtZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG9uMCwgb24xLCBzaXQgPSBzdGFydChuYW1lKSA/IGluaXQgOiBzZXQ7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSBzaXQodGhpcywgaWQpLFxuICAgICAgICBvbiA9IHNjaGVkdWxlLm9uO1xuXG4gICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCBhIGRpc3BhdGNoIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsXG4gICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLlxuICAgIGlmIChvbiAhPT0gb24wKSAob24xID0gKG9uMCA9IG9uKS5jb3B5KCkpLm9uKG5hbWUsIGxpc3RlbmVyKTtcblxuICAgIHNjaGVkdWxlLm9uID0gb24xO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCBsaXN0ZW5lcikge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA8IDJcbiAgICAgID8gZ2V0KHRoaXMubm9kZSgpLCBpZCkub24ub24obmFtZSlcbiAgICAgIDogdGhpcy5lYWNoKG9uRnVuY3Rpb24oaWQsIG5hbWUsIGxpc3RlbmVyKSk7XG59XG4iLCJmdW5jdGlvbiByZW1vdmVGdW5jdGlvbihpZCkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcbiAgICBmb3IgKHZhciBpIGluIHRoaXMuX190cmFuc2l0aW9uKSBpZiAoK2kgIT09IGlkKSByZXR1cm47XG4gICAgaWYgKHBhcmVudCkgcGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMub24oXCJlbmQucmVtb3ZlXCIsIHJlbW92ZUZ1bmN0aW9uKHRoaXMuX2lkKSk7XG59XG4iLCJpbXBvcnQge3NlbGVjdG9yfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge1RyYW5zaXRpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUsIHtnZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdCkge1xuICB2YXIgbmFtZSA9IHRoaXMuX25hbWUsXG4gICAgICBpZCA9IHRoaXMuX2lkO1xuXG4gIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSBcImZ1bmN0aW9uXCIpIHNlbGVjdCA9IHNlbGVjdG9yKHNlbGVjdCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzdWJncm91cCA9IHN1Ymdyb3Vwc1tqXSA9IG5ldyBBcnJheShuKSwgbm9kZSwgc3Vibm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmICgobm9kZSA9IGdyb3VwW2ldKSAmJiAoc3Vibm9kZSA9IHNlbGVjdC5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSkpIHtcbiAgICAgICAgaWYgKFwiX19kYXRhX19cIiBpbiBub2RlKSBzdWJub2RlLl9fZGF0YV9fID0gbm9kZS5fX2RhdGFfXztcbiAgICAgICAgc3ViZ3JvdXBbaV0gPSBzdWJub2RlO1xuICAgICAgICBzY2hlZHVsZShzdWJncm91cFtpXSwgbmFtZSwgaWQsIGksIHN1Ymdyb3VwLCBnZXQobm9kZSwgaWQpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFRyYW5zaXRpb24oc3ViZ3JvdXBzLCB0aGlzLl9wYXJlbnRzLCBuYW1lLCBpZCk7XG59XG4iLCJpbXBvcnQge3NlbGVjdG9yQWxsfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge1RyYW5zaXRpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUsIHtnZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdCkge1xuICB2YXIgbmFtZSA9IHRoaXMuX25hbWUsXG4gICAgICBpZCA9IHRoaXMuX2lkO1xuXG4gIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSBcImZ1bmN0aW9uXCIpIHNlbGVjdCA9IHNlbGVjdG9yQWxsKHNlbGVjdCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gW10sIHBhcmVudHMgPSBbXSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHtcbiAgICAgICAgZm9yICh2YXIgY2hpbGRyZW4gPSBzZWxlY3QuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCksIGNoaWxkLCBpbmhlcml0ID0gZ2V0KG5vZGUsIGlkKSwgayA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGsgPCBsOyArK2spIHtcbiAgICAgICAgICBpZiAoY2hpbGQgPSBjaGlsZHJlbltrXSkge1xuICAgICAgICAgICAgc2NoZWR1bGUoY2hpbGQsIG5hbWUsIGlkLCBrLCBjaGlsZHJlbiwgaW5oZXJpdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN1Ymdyb3Vwcy5wdXNoKGNoaWxkcmVuKTtcbiAgICAgICAgcGFyZW50cy5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNpdGlvbihzdWJncm91cHMsIHBhcmVudHMsIG5hbWUsIGlkKTtcbn1cbiIsImltcG9ydCB7c2VsZWN0aW9ufSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5cbnZhciBTZWxlY3Rpb24gPSBzZWxlY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZ3JvdXBzLCB0aGlzLl9wYXJlbnRzKTtcbn1cbiIsImltcG9ydCB7aW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MgYXMgaW50ZXJwb2xhdGVUcmFuc2Zvcm19IGZyb20gXCJkMy1pbnRlcnBvbGF0ZVwiO1xuaW1wb3J0IHtzdHlsZX0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHtzZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5pbXBvcnQge3R3ZWVuVmFsdWV9IGZyb20gXCIuL3R3ZWVuLmpzXCI7XG5pbXBvcnQgaW50ZXJwb2xhdGUgZnJvbSBcIi4vaW50ZXJwb2xhdGUuanNcIjtcblxuZnVuY3Rpb24gc3R5bGVOdWxsKG5hbWUsIGludGVycG9sYXRlKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEwLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAgPSBzdHlsZSh0aGlzLCBuYW1lKSxcbiAgICAgICAgc3RyaW5nMSA9ICh0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpLCBzdHlsZSh0aGlzLCBuYW1lKSk7XG4gICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsXG4gICAgICAgIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTBcbiAgICAgICAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHN0cmluZzEwID0gc3RyaW5nMSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlUmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlQ29uc3RhbnQobmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxID0gdmFsdWUxICsgXCJcIixcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwID0gc3R5bGUodGhpcywgbmFtZSk7XG4gICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsXG4gICAgICAgIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgPyBpbnRlcnBvbGF0ZTBcbiAgICAgICAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlRnVuY3Rpb24obmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEwLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAgPSBzdHlsZSh0aGlzLCBuYW1lKSxcbiAgICAgICAgdmFsdWUxID0gdmFsdWUodGhpcyksXG4gICAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIGlmICh2YWx1ZTEgPT0gbnVsbCkgc3RyaW5nMSA9IHZhbHVlMSA9ICh0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpLCBzdHlsZSh0aGlzLCBuYW1lKSk7XG4gICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsXG4gICAgICAgIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTBcbiAgICAgICAgOiAoc3RyaW5nMTAgPSBzdHJpbmcxLCBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzdHlsZU1heWJlUmVtb3ZlKGlkLCBuYW1lKSB7XG4gIHZhciBvbjAsIG9uMSwgbGlzdGVuZXIwLCBrZXkgPSBcInN0eWxlLlwiICsgbmFtZSwgZXZlbnQgPSBcImVuZC5cIiArIGtleSwgcmVtb3ZlO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSxcbiAgICAgICAgb24gPSBzY2hlZHVsZS5vbixcbiAgICAgICAgbGlzdGVuZXIgPSBzY2hlZHVsZS52YWx1ZVtrZXldID09IG51bGwgPyByZW1vdmUgfHwgKHJlbW92ZSA9IHN0eWxlUmVtb3ZlKG5hbWUpKSA6IHVuZGVmaW5lZDtcblxuICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgYSBkaXNwYXRjaCB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCBkaXNwYXRjaCBhbmQgd2XigJlyZSBkb25lIVxuICAgIC8vIE90aGVyd2lzZSwgY29weS1vbi13cml0ZS5cbiAgICBpZiAob24gIT09IG9uMCB8fCBsaXN0ZW5lcjAgIT09IGxpc3RlbmVyKSAob24xID0gKG9uMCA9IG9uKS5jb3B5KCkpLm9uKGV2ZW50LCBsaXN0ZW5lcjAgPSBsaXN0ZW5lcik7XG5cbiAgICBzY2hlZHVsZS5vbiA9IG9uMTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7XG4gIHZhciBpID0gKG5hbWUgKz0gXCJcIikgPT09IFwidHJhbnNmb3JtXCIgPyBpbnRlcnBvbGF0ZVRyYW5zZm9ybSA6IGludGVycG9sYXRlO1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/IHRoaXNcbiAgICAgIC5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlTnVsbChuYW1lLCBpKSlcbiAgICAgIC5vbihcImVuZC5zdHlsZS5cIiArIG5hbWUsIHN0eWxlUmVtb3ZlKG5hbWUpKVxuICAgIDogdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyB0aGlzXG4gICAgICAuc3R5bGVUd2VlbihuYW1lLCBzdHlsZUZ1bmN0aW9uKG5hbWUsIGksIHR3ZWVuVmFsdWUodGhpcywgXCJzdHlsZS5cIiArIG5hbWUsIHZhbHVlKSkpXG4gICAgICAuZWFjaChzdHlsZU1heWJlUmVtb3ZlKHRoaXMuX2lkLCBuYW1lKSlcbiAgICA6IHRoaXNcbiAgICAgIC5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlQ29uc3RhbnQobmFtZSwgaSwgdmFsdWUpLCBwcmlvcml0eSlcbiAgICAgIC5vbihcImVuZC5zdHlsZS5cIiArIG5hbWUsIG51bGwpO1xufVxuIiwiZnVuY3Rpb24gc3R5bGVJbnRlcnBvbGF0ZShuYW1lLCBpLCBwcmlvcml0eSkge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgaS5jYWxsKHRoaXMsIHQpLCBwcmlvcml0eSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlVHdlZW4obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7XG4gIHZhciB0LCBpMDtcbiAgZnVuY3Rpb24gdHdlZW4oKSB7XG4gICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChpICE9PSBpMCkgdCA9IChpMCA9IGkpICYmIHN0eWxlSW50ZXJwb2xhdGUobmFtZSwgaSwgcHJpb3JpdHkpO1xuICAgIHJldHVybiB0O1xuICB9XG4gIHR3ZWVuLl92YWx1ZSA9IHZhbHVlO1xuICByZXR1cm4gdHdlZW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkge1xuICB2YXIga2V5ID0gXCJzdHlsZS5cIiArIChuYW1lICs9IFwiXCIpO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiAoa2V5ID0gdGhpcy50d2VlbihrZXkpKSAmJiBrZXkuX3ZhbHVlO1xuICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBudWxsKTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3I7XG4gIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgc3R5bGVUd2VlbihuYW1lLCB2YWx1ZSwgcHJpb3JpdHkgPT0gbnVsbCA/IFwiXCIgOiBwcmlvcml0eSkpO1xufVxuIiwiaW1wb3J0IHt0d2VlblZhbHVlfSBmcm9tIFwiLi90d2Vlbi5qc1wiO1xuXG5mdW5jdGlvbiB0ZXh0Q29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGV4dEZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmFsdWUxID0gdmFsdWUodGhpcyk7XG4gICAgdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlMSA9PSBudWxsID8gXCJcIiA6IHZhbHVlMTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMudHdlZW4oXCJ0ZXh0XCIsIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IHRleHRGdW5jdGlvbih0d2VlblZhbHVlKHRoaXMsIFwidGV4dFwiLCB2YWx1ZSkpXG4gICAgICA6IHRleHRDb25zdGFudCh2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIikpO1xufVxuIiwiZnVuY3Rpb24gdGV4dEludGVycG9sYXRlKGkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICB0aGlzLnRleHRDb250ZW50ID0gaS5jYWxsKHRoaXMsIHQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0ZXh0VHdlZW4odmFsdWUpIHtcbiAgdmFyIHQwLCBpMDtcbiAgZnVuY3Rpb24gdHdlZW4oKSB7XG4gICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChpICE9PSBpMCkgdDAgPSAoaTAgPSBpKSAmJiB0ZXh0SW50ZXJwb2xhdGUoaSk7XG4gICAgcmV0dXJuIHQwO1xuICB9XG4gIHR3ZWVuLl92YWx1ZSA9IHZhbHVlO1xuICByZXR1cm4gdHdlZW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBrZXkgPSBcInRleHRcIjtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxKSByZXR1cm4gKGtleSA9IHRoaXMudHdlZW4oa2V5KSkgJiYga2V5Ll92YWx1ZTtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgbnVsbCk7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yO1xuICByZXR1cm4gdGhpcy50d2VlbihrZXksIHRleHRUd2Vlbih2YWx1ZSkpO1xufVxuIiwiaW1wb3J0IHtUcmFuc2l0aW9uLCBuZXdJZH0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBzY2hlZHVsZSwge2dldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBuYW1lID0gdGhpcy5fbmFtZSxcbiAgICAgIGlkMCA9IHRoaXMuX2lkLFxuICAgICAgaWQxID0gbmV3SWQoKTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICB2YXIgaW5oZXJpdCA9IGdldChub2RlLCBpZDApO1xuICAgICAgICBzY2hlZHVsZShub2RlLCBuYW1lLCBpZDEsIGksIGdyb3VwLCB7XG4gICAgICAgICAgdGltZTogaW5oZXJpdC50aW1lICsgaW5oZXJpdC5kZWxheSArIGluaGVyaXQuZHVyYXRpb24sXG4gICAgICAgICAgZGVsYXk6IDAsXG4gICAgICAgICAgZHVyYXRpb246IGluaGVyaXQuZHVyYXRpb24sXG4gICAgICAgICAgZWFzZTogaW5oZXJpdC5lYXNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNpdGlvbihncm91cHMsIHRoaXMuX3BhcmVudHMsIG5hbWUsIGlkMSk7XG59XG4iLCJpbXBvcnQge3NldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBvbjAsIG9uMSwgdGhhdCA9IHRoaXMsIGlkID0gdGhhdC5faWQsIHNpemUgPSB0aGF0LnNpemUoKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciBjYW5jZWwgPSB7dmFsdWU6IHJlamVjdH0sXG4gICAgICAgIGVuZCA9IHt2YWx1ZTogZnVuY3Rpb24oKSB7IGlmICgtLXNpemUgPT09IDApIHJlc29sdmUoKTsgfX07XG5cbiAgICB0aGF0LmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLFxuICAgICAgICAgIG9uID0gc2NoZWR1bGUub247XG5cbiAgICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgYSBkaXNwYXRjaCB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgICAvLyBPdGhlcndpc2UsIGNvcHktb24td3JpdGUuXG4gICAgICBpZiAob24gIT09IG9uMCkge1xuICAgICAgICBvbjEgPSAob24wID0gb24pLmNvcHkoKTtcbiAgICAgICAgb24xLl8uY2FuY2VsLnB1c2goY2FuY2VsKTtcbiAgICAgICAgb24xLl8uaW50ZXJydXB0LnB1c2goY2FuY2VsKTtcbiAgICAgICAgb24xLl8uZW5kLnB1c2goZW5kKTtcbiAgICAgIH1cblxuICAgICAgc2NoZWR1bGUub24gPSBvbjE7XG4gICAgfSk7XG5cbiAgICAvLyBUaGUgc2VsZWN0aW9uIHdhcyBlbXB0eSwgcmVzb2x2ZSBlbmQgaW1tZWRpYXRlbHlcbiAgICBpZiAoc2l6ZSA9PT0gMCkgcmVzb2x2ZSgpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7c2VsZWN0aW9ufSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9hdHRyIGZyb20gXCIuL2F0dHIuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2F0dHJUd2VlbiBmcm9tIFwiLi9hdHRyVHdlZW4uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2RlbGF5IGZyb20gXCIuL2RlbGF5LmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9kdXJhdGlvbiBmcm9tIFwiLi9kdXJhdGlvbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fZWFzZSBmcm9tIFwiLi9lYXNlLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9lYXNlVmFyeWluZyBmcm9tIFwiLi9lYXNlVmFyeWluZy5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fZmlsdGVyIGZyb20gXCIuL2ZpbHRlci5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fbWVyZ2UgZnJvbSBcIi4vbWVyZ2UuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX29uIGZyb20gXCIuL29uLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9yZW1vdmUgZnJvbSBcIi4vcmVtb3ZlLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zZWxlY3QgZnJvbSBcIi4vc2VsZWN0LmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zZWxlY3RBbGwgZnJvbSBcIi4vc2VsZWN0QWxsLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zZWxlY3Rpb24gZnJvbSBcIi4vc2VsZWN0aW9uLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zdHlsZSBmcm9tIFwiLi9zdHlsZS5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fc3R5bGVUd2VlbiBmcm9tIFwiLi9zdHlsZVR3ZWVuLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl90ZXh0IGZyb20gXCIuL3RleHQuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3RleHRUd2VlbiBmcm9tIFwiLi90ZXh0VHdlZW4uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3RyYW5zaXRpb24gZnJvbSBcIi4vdHJhbnNpdGlvbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fdHdlZW4gZnJvbSBcIi4vdHdlZW4uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2VuZCBmcm9tIFwiLi9lbmQuanNcIjtcblxudmFyIGlkID0gMDtcblxuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zaXRpb24oZ3JvdXBzLCBwYXJlbnRzLCBuYW1lLCBpZCkge1xuICB0aGlzLl9ncm91cHMgPSBncm91cHM7XG4gIHRoaXMuX3BhcmVudHMgPSBwYXJlbnRzO1xuICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgdGhpcy5faWQgPSBpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdHJhbnNpdGlvbihuYW1lKSB7XG4gIHJldHVybiBzZWxlY3Rpb24oKS50cmFuc2l0aW9uKG5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3SWQoKSB7XG4gIHJldHVybiArK2lkO1xufVxuXG52YXIgc2VsZWN0aW9uX3Byb3RvdHlwZSA9IHNlbGVjdGlvbi5wcm90b3R5cGU7XG5cblRyYW5zaXRpb24ucHJvdG90eXBlID0gdHJhbnNpdGlvbi5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBUcmFuc2l0aW9uLFxuICBzZWxlY3Q6IHRyYW5zaXRpb25fc2VsZWN0LFxuICBzZWxlY3RBbGw6IHRyYW5zaXRpb25fc2VsZWN0QWxsLFxuICBzZWxlY3RDaGlsZDogc2VsZWN0aW9uX3Byb3RvdHlwZS5zZWxlY3RDaGlsZCxcbiAgc2VsZWN0Q2hpbGRyZW46IHNlbGVjdGlvbl9wcm90b3R5cGUuc2VsZWN0Q2hpbGRyZW4sXG4gIGZpbHRlcjogdHJhbnNpdGlvbl9maWx0ZXIsXG4gIG1lcmdlOiB0cmFuc2l0aW9uX21lcmdlLFxuICBzZWxlY3Rpb246IHRyYW5zaXRpb25fc2VsZWN0aW9uLFxuICB0cmFuc2l0aW9uOiB0cmFuc2l0aW9uX3RyYW5zaXRpb24sXG4gIGNhbGw6IHNlbGVjdGlvbl9wcm90b3R5cGUuY2FsbCxcbiAgbm9kZXM6IHNlbGVjdGlvbl9wcm90b3R5cGUubm9kZXMsXG4gIG5vZGU6IHNlbGVjdGlvbl9wcm90b3R5cGUubm9kZSxcbiAgc2l6ZTogc2VsZWN0aW9uX3Byb3RvdHlwZS5zaXplLFxuICBlbXB0eTogc2VsZWN0aW9uX3Byb3RvdHlwZS5lbXB0eSxcbiAgZWFjaDogc2VsZWN0aW9uX3Byb3RvdHlwZS5lYWNoLFxuICBvbjogdHJhbnNpdGlvbl9vbixcbiAgYXR0cjogdHJhbnNpdGlvbl9hdHRyLFxuICBhdHRyVHdlZW46IHRyYW5zaXRpb25fYXR0clR3ZWVuLFxuICBzdHlsZTogdHJhbnNpdGlvbl9zdHlsZSxcbiAgc3R5bGVUd2VlbjogdHJhbnNpdGlvbl9zdHlsZVR3ZWVuLFxuICB0ZXh0OiB0cmFuc2l0aW9uX3RleHQsXG4gIHRleHRUd2VlbjogdHJhbnNpdGlvbl90ZXh0VHdlZW4sXG4gIHJlbW92ZTogdHJhbnNpdGlvbl9yZW1vdmUsXG4gIHR3ZWVuOiB0cmFuc2l0aW9uX3R3ZWVuLFxuICBkZWxheTogdHJhbnNpdGlvbl9kZWxheSxcbiAgZHVyYXRpb246IHRyYW5zaXRpb25fZHVyYXRpb24sXG4gIGVhc2U6IHRyYW5zaXRpb25fZWFzZSxcbiAgZWFzZVZhcnlpbmc6IHRyYW5zaXRpb25fZWFzZVZhcnlpbmcsXG4gIGVuZDogdHJhbnNpdGlvbl9lbmQsXG4gIFtTeW1ib2wuaXRlcmF0b3JdOiBzZWxlY3Rpb25fcHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl1cbn07XG4iLCJleHBvcnQgZnVuY3Rpb24gY3ViaWNJbih0KSB7XG4gIHJldHVybiB0ICogdCAqIHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjdWJpY091dCh0KSB7XG4gIHJldHVybiAtLXQgKiB0ICogdCArIDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjdWJpY0luT3V0KHQpIHtcbiAgcmV0dXJuICgodCAqPSAyKSA8PSAxID8gdCAqIHQgKiB0IDogKHQgLT0gMikgKiB0ICogdCArIDIpIC8gMjtcbn1cbiIsImltcG9ydCB7VHJhbnNpdGlvbiwgbmV3SWR9IGZyb20gXCIuLi90cmFuc2l0aW9uL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUgZnJvbSBcIi4uL3RyYW5zaXRpb24vc2NoZWR1bGUuanNcIjtcbmltcG9ydCB7ZWFzZUN1YmljSW5PdXR9IGZyb20gXCJkMy1lYXNlXCI7XG5pbXBvcnQge25vd30gZnJvbSBcImQzLXRpbWVyXCI7XG5cbnZhciBkZWZhdWx0VGltaW5nID0ge1xuICB0aW1lOiBudWxsLCAvLyBTZXQgb24gdXNlLlxuICBkZWxheTogMCxcbiAgZHVyYXRpb246IDI1MCxcbiAgZWFzZTogZWFzZUN1YmljSW5PdXRcbn07XG5cbmZ1bmN0aW9uIGluaGVyaXQobm9kZSwgaWQpIHtcbiAgdmFyIHRpbWluZztcbiAgd2hpbGUgKCEodGltaW5nID0gbm9kZS5fX3RyYW5zaXRpb24pIHx8ICEodGltaW5nID0gdGltaW5nW2lkXSkpIHtcbiAgICBpZiAoIShub2RlID0gbm9kZS5wYXJlbnROb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGB0cmFuc2l0aW9uICR7aWR9IG5vdCBmb3VuZGApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGltaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBpZCxcbiAgICAgIHRpbWluZztcblxuICBpZiAobmFtZSBpbnN0YW5jZW9mIFRyYW5zaXRpb24pIHtcbiAgICBpZCA9IG5hbWUuX2lkLCBuYW1lID0gbmFtZS5fbmFtZTtcbiAgfSBlbHNlIHtcbiAgICBpZCA9IG5ld0lkKCksICh0aW1pbmcgPSBkZWZhdWx0VGltaW5nKS50aW1lID0gbm93KCksIG5hbWUgPSBuYW1lID09IG51bGwgPyBudWxsIDogbmFtZSArIFwiXCI7XG4gIH1cblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICBzY2hlZHVsZShub2RlLCBuYW1lLCBpZCwgaSwgZ3JvdXAsIHRpbWluZyB8fCBpbmhlcml0KG5vZGUsIGlkKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKGdyb3VwcywgdGhpcy5fcGFyZW50cywgbmFtZSwgaWQpO1xufVxuIiwiaW1wb3J0IHtzZWxlY3Rpb259IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCBzZWxlY3Rpb25faW50ZXJydXB0IGZyb20gXCIuL2ludGVycnVwdC5qc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl90cmFuc2l0aW9uIGZyb20gXCIuL3RyYW5zaXRpb24uanNcIjtcblxuc2VsZWN0aW9uLnByb3RvdHlwZS5pbnRlcnJ1cHQgPSBzZWxlY3Rpb25faW50ZXJydXB0O1xuc2VsZWN0aW9uLnByb3RvdHlwZS50cmFuc2l0aW9uID0gc2VsZWN0aW9uX3RyYW5zaXRpb247XG4iLCJleHBvcnQgZnVuY3Rpb24gVHJhbnNmb3JtKGssIHgsIHkpIHtcbiAgdGhpcy5rID0gaztcbiAgdGhpcy54ID0geDtcbiAgdGhpcy55ID0geTtcbn1cblxuVHJhbnNmb3JtLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFRyYW5zZm9ybSxcbiAgc2NhbGU6IGZ1bmN0aW9uKGspIHtcbiAgICByZXR1cm4gayA9PT0gMSA/IHRoaXMgOiBuZXcgVHJhbnNmb3JtKHRoaXMuayAqIGssIHRoaXMueCwgdGhpcy55KTtcbiAgfSxcbiAgdHJhbnNsYXRlOiBmdW5jdGlvbih4LCB5KSB7XG4gICAgcmV0dXJuIHggPT09IDAgJiB5ID09PSAwID8gdGhpcyA6IG5ldyBUcmFuc2Zvcm0odGhpcy5rLCB0aGlzLnggKyB0aGlzLmsgKiB4LCB0aGlzLnkgKyB0aGlzLmsgKiB5KTtcbiAgfSxcbiAgYXBwbHk6IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgcmV0dXJuIFtwb2ludFswXSAqIHRoaXMuayArIHRoaXMueCwgcG9pbnRbMV0gKiB0aGlzLmsgKyB0aGlzLnldO1xuICB9LFxuICBhcHBseVg6IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4geCAqIHRoaXMuayArIHRoaXMueDtcbiAgfSxcbiAgYXBwbHlZOiBmdW5jdGlvbih5KSB7XG4gICAgcmV0dXJuIHkgKiB0aGlzLmsgKyB0aGlzLnk7XG4gIH0sXG4gIGludmVydDogZnVuY3Rpb24obG9jYXRpb24pIHtcbiAgICByZXR1cm4gWyhsb2NhdGlvblswXSAtIHRoaXMueCkgLyB0aGlzLmssIChsb2NhdGlvblsxXSAtIHRoaXMueSkgLyB0aGlzLmtdO1xuICB9LFxuICBpbnZlcnRYOiBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuICh4IC0gdGhpcy54KSAvIHRoaXMuaztcbiAgfSxcbiAgaW52ZXJ0WTogZnVuY3Rpb24oeSkge1xuICAgIHJldHVybiAoeSAtIHRoaXMueSkgLyB0aGlzLms7XG4gIH0sXG4gIHJlc2NhbGVYOiBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIHguY29weSgpLmRvbWFpbih4LnJhbmdlKCkubWFwKHRoaXMuaW52ZXJ0WCwgdGhpcykubWFwKHguaW52ZXJ0LCB4KSk7XG4gIH0sXG4gIHJlc2NhbGVZOiBmdW5jdGlvbih5KSB7XG4gICAgcmV0dXJuIHkuY29weSgpLmRvbWFpbih5LnJhbmdlKCkubWFwKHRoaXMuaW52ZXJ0WSwgdGhpcykubWFwKHkuaW52ZXJ0LCB5KSk7XG4gIH0sXG4gIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLnggKyBcIixcIiArIHRoaXMueSArIFwiKSBzY2FsZShcIiArIHRoaXMuayArIFwiKVwiO1xuICB9XG59O1xuXG5leHBvcnQgdmFyIGlkZW50aXR5ID0gbmV3IFRyYW5zZm9ybSgxLCAwLCAwKTtcblxudHJhbnNmb3JtLnByb3RvdHlwZSA9IFRyYW5zZm9ybS5wcm90b3R5cGU7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZm9ybShub2RlKSB7XG4gIHdoaWxlICghbm9kZS5fX3pvb20pIGlmICghKG5vZGUgPSBub2RlLnBhcmVudE5vZGUpKSByZXR1cm4gaWRlbnRpdHk7XG4gIHJldHVybiBub2RlLl9fem9vbTtcbn1cbiIsIlxuLypcbiAgSFRETWF0aCBTdGF0aWMgQ2xhc3MgLSBOb3QgaW50ZW5kZWQgZm9yIGluc3RhbnRpYXRpb24hXG5cbiAgVmFyaWFibGVzOlxuICAgIEEgPSBhbW91bnRcbiAgICBEID0gZGVsYXlcbiAgICBWID0gc3ViamVjdGl2ZSB2YWx1ZVxuXG4gICAgayA9IGRpc2NvdW50IGZhY3RvclxuXG4gIEVxdWF0aW9uczpcbiAgICBWID0gQSAvICgxICsga0QpXG4qL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSFRETWF0aCB7XG4gIHN0YXRpYyBhZGsydihhLCBkLCBrKSB7XG4gICAgcmV0dXJuIGEgLyAoMSArIGsgKiBkKTtcbiAgfVxuXG4gIHN0YXRpYyBhZHYyayhhLCBkLCB2KSB7XG4gICAgcmV0dXJuIChhIC0gdikgLyAodiAqIGQpO1xuICB9XG59XG4iLCJcbi8vIEludGVybmFsIGRlcGVuZGVuY2llc1xuaW1wb3J0IEhURE1hdGggZnJvbSAnLi9odGQtbWF0aCc7XG5cbmV4cG9ydCBkZWZhdWx0IEhURE1hdGg7XG4iLCIvKiBlc2xpbnQgbm8tcmVzdHJpY3RlZC1nbG9iYWxzOiBbXCJvZmZcIiwgXCJzZWxmXCJdICovXG5cbi8vIE5lZWRlZCBmb3IgZDMgaW4gV2ViV29ya2VyIVxuaW1wb3J0ICdyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUnO1xuXG5pbXBvcnQgKiBhcyBCYXllc0Rpc3RyaWJ1dGlvbnMgZnJvbSAnYmF5ZXMuanMvZGlzdHJpYnV0aW9ucyc7XG5pbXBvcnQgKiBhcyBCYXllc01jbWMgZnJvbSAnYmF5ZXMuanMvbWNtYyc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgSFRETWF0aCBmcm9tICdAZGVjaWRhYmxlcy9kaXNjb3VudGFibGUtbWF0aCc7XG5cbnNlbGYub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gIGNvbnN0IHBhcmFtcyA9IHtcbiAgICBrOiB7dHlwZTogJ3JlYWwnLCBsb3dlcjogMCwgdXBwZXI6IDEwMH0sXG4gICAgbHVjZToge3R5cGU6ICdyZWFsJywgbG93ZXI6IDAsIHVwcGVyOiAxMDB9LFxuICB9O1xuXG4gIGNvbnN0IGxvZ1Bvc3QgPSAoc3RhdGUsIGRhdGEpID0+IHtcbiAgICBsZXQgbHAgPSAwO1xuXG4gICAgLy8gUHJpb3JzXG4gICAgY29uc3Qga01lYW4gPSAyO1xuICAgIGNvbnN0IGtTaGFwZSA9IDM7XG4gICAgbHAgKz0gQmF5ZXNEaXN0cmlidXRpb25zLmdhbW1hKFxuICAgICAgc3RhdGUuayxcbiAgICAgIGtTaGFwZSxcbiAgICAgIGtTaGFwZSAvIGtNZWFuLFxuICAgICk7XG4gICAgLy8gbHAgKz0gQmF5ZXNEaXN0cmlidXRpb25zLnVuaWYoc3RhdGUuaywgMCwgMTAwKTtcblxuICAgIGNvbnN0IGx1Y2VNZWFuID0gMjtcbiAgICBjb25zdCBsdWNlU2hhcGUgPSAzO1xuICAgIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy5nYW1tYShcbiAgICAgIHN0YXRlLmx1Y2UsXG4gICAgICBsdWNlU2hhcGUsXG4gICAgICBsdWNlU2hhcGUgLyBsdWNlTWVhbixcbiAgICApO1xuICAgIC8vIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy51bmlmKHN0YXRlLmx1Y2UsIDAsIDEwMCk7XG5cbiAgICAvLyBMaWtlbGlob29kXG4gICAgZGF0YS5mb3JFYWNoKChjaG9pY2UpID0+IHtcbiAgICAgIC8vIFZhbHVlc1xuICAgICAgY29uc3QgdnMgPSBIVERNYXRoLmFkazJ2KGNob2ljZS5hcywgY2hvaWNlLmRzLCBzdGF0ZS5rKTtcbiAgICAgIGNvbnN0IHZsID0gSFRETWF0aC5hZGsydihjaG9pY2UuYWwsIGNob2ljZS5kbCwgc3RhdGUuayk7XG5cbiAgICAgIC8vIENob2ljZSBvZiBzb29uZXIgb3IgbGF0ZXIgaXMgc2FtcGxlZCBmcm9tIGEgQmVybm91bGxpIGRpc3RyaWJ1dGlvblxuICAgICAgLy8gTHVjZSBjaG9pY2UgcnVsZSBpcyB1c2VkIHRvIGNvbXB1dGUgcHJvYmFiaWxpdHkgb2Ygd2FpdGluZyEgKDAgPSBzb29uZXIsIDEgPSBsYXRlcilcbiAgICAgIGNvbnN0IGJpbnZhbCA9IDEgLyAoMSArIE1hdGguZXhwKHN0YXRlLmx1Y2UgKiAodnMgLSB2bCkpKTtcblxuICAgICAgLy8gQWN0dWFsIHJlc3BvbnNlXG4gICAgICBjb25zdCByZXNwb25zZSA9IChjaG9pY2UucmVzcG9uc2UgPT09ICdmaXJzdCcpID8gMCA6IDE7XG5cbiAgICAgIGxwICs9IEJheWVzRGlzdHJpYnV0aW9ucy5iZXJuKHJlc3BvbnNlLCBiaW52YWwpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGxwO1xuICB9O1xuXG4gIC8vIEluaXRpYWxpemluZyB0aGUgc2FtcGxlclxuICBjb25zdCBzYW1wbGVyID0gbmV3IEJheWVzTWNtYy5BbXdnU2FtcGxlcihwYXJhbXMsIGxvZ1Bvc3QsIGV2ZW50LmRhdGEpO1xuICAvLyBCdXJuaW5nIHNvbWUgc2FtcGxlcyB0byB0aGUgTUNNQyBnb2RzIGFuZCBzYW1wbGluZyA1MDAwIGRyYXdzXG4gIHNhbXBsZXIuYnVybigxMDAwKTtcbiAgY29uc3Qgc2FtcGxlcyA9IHNhbXBsZXIuc2FtcGxlKDUwMDApO1xuXG4gIC8vIEV4dHJhY3Qgc3VtbWFyeSBzdGF0c1xuICBjb25zdCByZXN1bHRzID0ge1xuICAgIGs6IGQzLm1lZGlhbihzYW1wbGVzLmspLFxuICAgIGx1Y2U6IGQzLm1lZGlhbihzYW1wbGVzLmx1Y2UpLFxuICB9O1xuXG4gIHNlbGYucG9zdE1lc3NhZ2Uoe3Jlc3VsdHM6IHJlc3VsdHMsIHNhbXBsZXM6IHNhbXBsZXN9KTtcbn07XG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJtb2R1bGUiLCJleHBvcnRzIiwibGQiLCJ0aGlzIiwibGdhbW1hIiwieCIsImoiLCJjb2YiLCJzZXIiLCJ4eCIsInkiLCJ0bXAiLCJsb2ciLCJsZmFjdG9yaWFsIiwibiIsIk5hTiIsImxjaG9vc2UiLCJrIiwibGJldGEiLCJhIiwiYiIsIk1hdGgiLCJleHAiLCJhYnMiLCJwb3ciLCJzcXJ0IiwicGkiLCJQSSIsImJldGEiLCJzaGFwZTEiLCJzaGFwZTIiLCJJbmZpbml0eSIsImNhdWNoeSIsImxvY2F0aW9uIiwic2NhbGUiLCJub3JtIiwibWVhbiIsInNkIiwiYml2YXJub3JtIiwiY29yciIsInoiLCJub3JtYWxpemluZ19mYWN0b3IiLCJiaXZhcl9sb2dfZGVucyIsImxhcGxhY2UiLCJkZXhwIiwiZ2FtbWEiLCJzaGFwZSIsInJhdGUiLCJpbnZnYW1tYSIsImxub3JtIiwibWVhbmxvZyIsInNkbG9nIiwicGFyZXRvIiwidCIsImRmIiwid2VpYnVsbCIsInRtcDEiLCJ0bXAyIiwibG9naXMiLCJlIiwiZiIsImRpcmljaGxldCIsImFscGhhIiwic3VtX2FscGhhIiwic3VtX2xnYW1tYV9hbHBoYSIsInN1bV9hbHBoYV9zdWJfMV9sb2dfeCIsImxlbmd0aCIsImkiLCJ1bmlmIiwibWluIiwibWF4IiwiYmVybiIsInByb2IiLCJjYXQiLCJwcm9icyIsImJpbm9tIiwic2l6ZSIsIm5iaW5vbSIsImh5cGVyIiwibSIsInBvaXMiLCJsYW1iZGEiLCJtY21jIiwicnVuaWYiLCJyYW5kb20iLCJydW5pZl9kaXNjcmV0ZSIsImZsb29yIiwicm5vcm0iLCJ1IiwidiIsInEiLCJkZWVwX2Nsb25lIiwic3JjIiwibWl4aW4iLCJkZXN0Iiwic291cmNlIiwiY29weUZ1bmMiLCJuYW1lIiwicyIsImVtcHR5IiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwibm9kZVR5cGUiLCJjbG9uZU5vZGUiLCJEYXRlIiwiZ2V0VGltZSIsIlJlZ0V4cCIsInIiLCJsIiwiQXJyYXkiLCJwdXNoIiwiY29uc3RydWN0b3IiLCJjbG9uZV9wYXJhbV9kcmF3IiwiaXNBcnJheSIsInhfY29weSIsInNsaWNlIiwiaXNfbnVtYmVyIiwib2JqZWN0IiwiTnVtYmVyIiwiY3JlYXRlX2FycmF5IiwiZGltIiwiaW5pdCIsImFyciIsImFycmF5X2RpbSIsImNvbmNhdCIsImFycmF5X2VxdWFsIiwiYTEiLCJhMiIsIm5lc3RlZF9hcnJheV9hcHBseSIsImZ1biIsInJlc3VsdCIsInNodWZmbGVfYXJyYXkiLCJhcnJheSIsInRlbXAiLCJuZXN0ZWRfYXJyYXlfcmFuZG9tX2FwcGx5IiwibGVuIiwiYXJyYXlfaXMiLCJhcnJheV9pIiwiZ2V0X29wdGlvbiIsIm9wdGlvbl9uYW1lIiwib3B0aW9ucyIsImRlZmF1bF92YWx1ZSIsImhhc093blByb3BlcnR5IiwidW5kZWZpbmVkIiwiZ2V0X211bHRpZGltX29wdGlvbiIsInZhbHVlIiwicGFyYW1faW5pdF9maXhlZCIsInR5cGUiLCJsb3dlciIsInVwcGVyIiwicm91bmQiLCJjb21wbGV0ZV9wYXJhbXMiLCJwYXJhbXNfdG9fY29tcGxldGUiLCJwYXJhbV9pbml0IiwicGFyYW1zIiwicGFyYW1fbmFtZSIsInBhcmFtIiwiU3RlcHBlciIsInN0YXRlIiwibG9nX3Bvc3QiLCJzdGVwIiwic3RhcnRfYWRhcHRhdGlvbiIsInN0b3BfYWRhcHRhdGlvbiIsImluZm8iLCJPbmVkaW1NZXRyb3BvbGlzU3RlcHBlciIsImdlbmVyYXRlX3Byb3Bvc2FsIiwicGFyYW1fbmFtZXMiLCJrZXlzIiwicHJvcF9sb2dfc2NhbGUiLCJiYXRjaF9zaXplIiwibWF4X2FkYXB0YXRpb24iLCJpbml0aWFsX2FkYXB0YXRpb24iLCJ0YXJnZXRfYWNjZXB0X3JhdGUiLCJpc19hZGFwdGluZyIsImFjY2VwdGFuY2VfY291bnQiLCJiYXRjaF9jb3VudCIsIml0ZXJhdGlvbnNfc2luY2VfYWRhcHRpb24iLCJjcmVhdGUiLCJwYXJhbV9zdGF0ZSIsInBhcmFtX3Byb3Bvc2FsIiwiY3Vycl9sb2dfZGVucyIsInByb3BfbG9nX2RlbnMiLCJhY2NlcHRfcHJvYiIsImxvZ19zZF9hZGp1c3RtZW50Iiwibm9ybWFsX3Byb3Bvc2FsIiwiUmVhbE1ldHJvcG9saXNTdGVwcGVyIiwiZGlzY3JldGVfbm9ybWFsX3Byb3Bvc2FsIiwiSW50TWV0cm9wb2xpc1N0ZXBwZXIiLCJNdWx0aWRpbUNvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIiwiU3ViU3RlcHBlciIsImNyZWF0ZV9zdWJzdGVwcGVycyIsInN1YnN0YXRlIiwic3Vic3RlcHBlcnMiLCJzdWJvcHRpb25zIiwic3VicGFyYW0iLCJzdWJzdGVwcGVyIiwiTXVsdGlSZWFsQ29tcG9uZW50TWV0cm9wb2xpc1N0ZXBwZXIiLCJNdWx0aUludENvbXBvbmVudE1ldHJvcG9saXNTdGVwcGVyIiwiQmluYXJ5U3RlcHBlciIsInplcm9fbG9nX2RlbnMiLCJvbmVfbG9nX2RlbnMiLCJtYXhfbG9nX2RlbnMiLCJ6ZXJvX3Byb2IiLCJCaW5hcnlDb21wb25lbnRTdGVwcGVyIiwic3VicGFyYW1zIiwiQW13Z1N0ZXBwZXIiLCJTZWxlY3RTdGVwcGVyIiwicGFyYW1fb2JqZWN0X3dyYXAiLCJwYXJhbV9vcHRpb25zIiwiU2FtcGxlciIsImRhdGEiLCJwYXJhbV9pbml0X2Z1biIsInRoaW5uaW5nX2ludGVydmFsIiwicGFyYW1zX3RvX21vbml0b3IiLCJ0aGluIiwibW9uaXRvciIsInN0ZXBwZXJzIiwiY3JlYXRlX3N0ZXBwZXJfZW5zYW1ibGUiLCJzYW1wbGUiLCJuX2l0ZXJhdGlvbnMiLCJtb25pdG9yZWRfcGFyYW1zIiwiY3Vycl9zYW1wbGUiLCJidXJuIiwiQW13Z1NhbXBsZXIiLCJhc2NlbmRpbmciLCJudW1iZXJzIiwidmFsdWVzIiwidmFsdWVvZiIsImNvbXBhcmVEZWZpbmVkIiwiY29tcGFyZSIsImFzY2VuZGluZ0RlZmluZWQiLCJUeXBlRXJyb3IiLCJxdWlja3NlbGVjdCIsImxlZnQiLCJyaWdodCIsIm5ld0xlZnQiLCJuZXdSaWdodCIsInN3YXAiLCJxdWFudGlsZSIsInAiLCJGbG9hdDY0QXJyYXkiLCJmcm9tIiwiaXNOYU4iLCJpMCIsInZhbHVlMCIsInN1YmFycmF5IiwidmFsdWUxIiwibWVkaWFuIiwibm9vcCIsImRpc3BhdGNoIiwiYXJndW1lbnRzIiwiXyIsInRlc3QiLCJFcnJvciIsIkRpc3BhdGNoIiwicGFyc2VUeXBlbmFtZXMiLCJ0eXBlbmFtZXMiLCJ0eXBlcyIsInRyaW0iLCJzcGxpdCIsIm1hcCIsImluZGV4T2YiLCJvbiIsInR5cGVuYW1lIiwiY2FsbGJhY2siLCJUIiwiZ2V0Iiwic2V0IiwiY29weSIsInRoYXQiLCJhcmdzIiwiYXBwbHkiLCJjIiwieGh0bWwiLCJzdmciLCJ4bGluayIsInhtbCIsInhtbG5zIiwicHJlZml4IiwibmFtZXNwYWNlcyIsInNwYWNlIiwibG9jYWwiLCJjcmVhdG9ySW5oZXJpdCIsImRvY3VtZW50Iiwib3duZXJEb2N1bWVudCIsInVyaSIsIm5hbWVzcGFjZVVSSSIsImRvY3VtZW50RWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJjcmVhdG9yRml4ZWQiLCJmdWxsbmFtZSIsIm5hbWVzcGFjZSIsIm5vbmUiLCJzZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJzZWxlY3QiLCJncm91cHMiLCJfZ3JvdXBzIiwic3ViZ3JvdXBzIiwiZ3JvdXAiLCJzdWJncm91cCIsIm5vZGUiLCJzdWJub2RlIiwiX19kYXRhX18iLCJTZWxlY3Rpb24iLCJfcGFyZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhcnJheUFsbCIsInNlbGVjdG9yQWxsIiwicGFyZW50cyIsIm1hdGNoZXMiLCJjaGlsZE1hdGNoZXIiLCJmaW5kIiwiY2hpbGRGaW5kIiwibWF0Y2giLCJjaGlsZHJlbiIsImNoaWxkRmlyc3QiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImZpbHRlciIsImNoaWxkcmVuRmlsdGVyIiwic2VsZWN0QWxsIiwibWF0Y2hlciIsInVwZGF0ZSIsIl9lbnRlciIsInNwYXJzZSIsIkVudGVyTm9kZSIsInBhcmVudCIsImRhdHVtIiwiX25leHQiLCJfcGFyZW50IiwiYXBwZW5kQ2hpbGQiLCJjaGlsZCIsImluc2VydEJlZm9yZSIsIm5leHQiLCJiaW5kSW5kZXgiLCJlbnRlciIsImV4aXQiLCJncm91cExlbmd0aCIsImRhdGFMZW5ndGgiLCJiaW5kS2V5Iiwia2V5Iiwibm9kZUJ5S2V5VmFsdWUiLCJNYXAiLCJrZXlWYWx1ZXMiLCJrZXlWYWx1ZSIsImhhcyIsImRlbGV0ZSIsImJpbmQiLCJjb25zdGFudCIsImFycmF5bGlrZSIsImVudGVyR3JvdXAiLCJ1cGRhdGVHcm91cCIsImV4aXRHcm91cCIsImkxIiwicHJldmlvdXMiLCJfZXhpdCIsIm9uZW50ZXIiLCJvbnVwZGF0ZSIsIm9uZXhpdCIsInNlbGVjdGlvbiIsImFwcGVuZCIsInJlbW92ZSIsIm1lcmdlIiwib3JkZXIiLCJjb250ZXh0IiwiZ3JvdXBzMCIsImdyb3VwczEiLCJtMCIsIm0xIiwibWVyZ2VzIiwiZ3JvdXAwIiwiZ3JvdXAxIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJwYXJlbnROb2RlIiwiY29tcGFyZU5vZGUiLCJzb3J0Z3JvdXBzIiwic29ydGdyb3VwIiwic29ydCIsImF0dHJSZW1vdmUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJhdHRyUmVtb3ZlTlMiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsImF0dHJDb25zdGFudCIsInNldEF0dHJpYnV0ZSIsImF0dHJDb25zdGFudE5TIiwic2V0QXR0cmlidXRlTlMiLCJhdHRyRnVuY3Rpb24iLCJhdHRyRnVuY3Rpb25OUyIsImdldEF0dHJpYnV0ZU5TIiwiZ2V0QXR0cmlidXRlIiwiZWFjaCIsImRlZmF1bHRWaWV3Iiwic3R5bGVSZW1vdmUiLCJzdHlsZSIsInJlbW92ZVByb3BlcnR5Iiwic3R5bGVDb25zdGFudCIsInByaW9yaXR5Iiwic2V0UHJvcGVydHkiLCJzdHlsZUZ1bmN0aW9uIiwic3R5bGVWYWx1ZSIsImdldFByb3BlcnR5VmFsdWUiLCJnZXRDb21wdXRlZFN0eWxlIiwicHJvcGVydHlSZW1vdmUiLCJwcm9wZXJ0eUNvbnN0YW50IiwicHJvcGVydHlGdW5jdGlvbiIsImNsYXNzQXJyYXkiLCJzdHJpbmciLCJjbGFzc0xpc3QiLCJDbGFzc0xpc3QiLCJfbm9kZSIsIl9uYW1lcyIsImFkZCIsImpvaW4iLCJzcGxpY2UiLCJjb250YWlucyIsImNsYXNzZWRBZGQiLCJuYW1lcyIsImxpc3QiLCJjbGFzc2VkUmVtb3ZlIiwiY2xhc3NlZFRydWUiLCJjbGFzc2VkRmFsc2UiLCJjbGFzc2VkRnVuY3Rpb24iLCJ0ZXh0UmVtb3ZlIiwidGV4dENvbnRlbnQiLCJ0ZXh0Q29uc3RhbnQiLCJ0ZXh0RnVuY3Rpb24iLCJodG1sUmVtb3ZlIiwiaW5uZXJIVE1MIiwiaHRtbENvbnN0YW50IiwiaHRtbEZ1bmN0aW9uIiwicmFpc2UiLCJuZXh0U2libGluZyIsInByZXZpb3VzU2libGluZyIsImZpcnN0Q2hpbGQiLCJjcmVhdG9yIiwiY29uc3RhbnROdWxsIiwiYmVmb3JlIiwicmVtb3ZlQ2hpbGQiLCJzZWxlY3Rpb25fY2xvbmVTaGFsbG93IiwiY2xvbmUiLCJzZWxlY3Rpb25fY2xvbmVEZWVwIiwiZGVlcCIsInByb3BlcnR5IiwiY29udGV4dExpc3RlbmVyIiwibGlzdGVuZXIiLCJldmVudCIsIm9uUmVtb3ZlIiwiX19vbiIsIm8iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwib25BZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCIsIndpbmRvdyIsIkN1c3RvbUV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImRldGFpbCIsImRpc3BhdGNoQ29uc3RhbnQiLCJkaXNwYXRjaEZ1bmN0aW9uIiwic2VsZWN0aW9uX3NlbGVjdGlvbiIsInNlbGVjdGlvbl9zZWxlY3QiLCJzZWxlY3Rpb25fc2VsZWN0QWxsIiwic2VsZWN0Q2hpbGQiLCJzZWxlY3Rpb25fc2VsZWN0Q2hpbGQiLCJzZWxlY3RDaGlsZHJlbiIsInNlbGVjdGlvbl9zZWxlY3RDaGlsZHJlbiIsInNlbGVjdGlvbl9maWx0ZXIiLCJzZWxlY3Rpb25fZGF0YSIsInNlbGVjdGlvbl9lbnRlciIsInNlbGVjdGlvbl9leGl0Iiwic2VsZWN0aW9uX2pvaW4iLCJzZWxlY3Rpb25fbWVyZ2UiLCJzZWxlY3Rpb25fb3JkZXIiLCJzZWxlY3Rpb25fc29ydCIsInNlbGVjdGlvbl9jYWxsIiwibm9kZXMiLCJzZWxlY3Rpb25fbm9kZXMiLCJzZWxlY3Rpb25fbm9kZSIsInNlbGVjdGlvbl9zaXplIiwic2VsZWN0aW9uX2VtcHR5Iiwic2VsZWN0aW9uX2VhY2giLCJhdHRyIiwic2VsZWN0aW9uX2F0dHIiLCJzZWxlY3Rpb25fc3R5bGUiLCJzZWxlY3Rpb25fcHJvcGVydHkiLCJjbGFzc2VkIiwic2VsZWN0aW9uX2NsYXNzZWQiLCJ0ZXh0Iiwic2VsZWN0aW9uX3RleHQiLCJodG1sIiwic2VsZWN0aW9uX2h0bWwiLCJzZWxlY3Rpb25fcmFpc2UiLCJzZWxlY3Rpb25fbG93ZXIiLCJzZWxlY3Rpb25fYXBwZW5kIiwiaW5zZXJ0Iiwic2VsZWN0aW9uX2luc2VydCIsInNlbGVjdGlvbl9yZW1vdmUiLCJzZWxlY3Rpb25fY2xvbmUiLCJzZWxlY3Rpb25fZGF0dW0iLCJzZWxlY3Rpb25fb24iLCJzZWxlY3Rpb25fZGlzcGF0Y2giLCJTeW1ib2wiLCJpdGVyYXRvciIsInNlbGVjdGlvbl9pdGVyYXRvciIsImV4dGVuZCIsImRlZmluaXRpb24iLCJDb2xvciIsImRhcmtlciIsImJyaWdodGVyIiwicmVJIiwicmVOIiwicmVQIiwicmVIZXgiLCJyZVJnYkludGVnZXIiLCJyZVJnYlBlcmNlbnQiLCJyZVJnYmFJbnRlZ2VyIiwicmVSZ2JhUGVyY2VudCIsInJlSHNsUGVyY2VudCIsInJlSHNsYVBlcmNlbnQiLCJuYW1lZCIsImFsaWNlYmx1ZSIsImFudGlxdWV3aGl0ZSIsImFxdWEiLCJhcXVhbWFyaW5lIiwiYXp1cmUiLCJiZWlnZSIsImJpc3F1ZSIsImJsYWNrIiwiYmxhbmNoZWRhbG1vbmQiLCJibHVlIiwiYmx1ZXZpb2xldCIsImJyb3duIiwiYnVybHl3b29kIiwiY2FkZXRibHVlIiwiY2hhcnRyZXVzZSIsImNob2NvbGF0ZSIsImNvcmFsIiwiY29ybmZsb3dlcmJsdWUiLCJjb3Juc2lsayIsImNyaW1zb24iLCJjeWFuIiwiZGFya2JsdWUiLCJkYXJrY3lhbiIsImRhcmtnb2xkZW5yb2QiLCJkYXJrZ3JheSIsImRhcmtncmVlbiIsImRhcmtncmV5IiwiZGFya2toYWtpIiwiZGFya21hZ2VudGEiLCJkYXJrb2xpdmVncmVlbiIsImRhcmtvcmFuZ2UiLCJkYXJrb3JjaGlkIiwiZGFya3JlZCIsImRhcmtzYWxtb24iLCJkYXJrc2VhZ3JlZW4iLCJkYXJrc2xhdGVibHVlIiwiZGFya3NsYXRlZ3JheSIsImRhcmtzbGF0ZWdyZXkiLCJkYXJrdHVycXVvaXNlIiwiZGFya3Zpb2xldCIsImRlZXBwaW5rIiwiZGVlcHNreWJsdWUiLCJkaW1ncmF5IiwiZGltZ3JleSIsImRvZGdlcmJsdWUiLCJmaXJlYnJpY2siLCJmbG9yYWx3aGl0ZSIsImZvcmVzdGdyZWVuIiwiZnVjaHNpYSIsImdhaW5zYm9ybyIsImdob3N0d2hpdGUiLCJnb2xkIiwiZ29sZGVucm9kIiwiZ3JheSIsImdyZWVuIiwiZ3JlZW55ZWxsb3ciLCJncmV5IiwiaG9uZXlkZXciLCJob3RwaW5rIiwiaW5kaWFucmVkIiwiaW5kaWdvIiwiaXZvcnkiLCJraGFraSIsImxhdmVuZGVyIiwibGF2ZW5kZXJibHVzaCIsImxhd25ncmVlbiIsImxlbW9uY2hpZmZvbiIsImxpZ2h0Ymx1ZSIsImxpZ2h0Y29yYWwiLCJsaWdodGN5YW4iLCJsaWdodGdvbGRlbnJvZHllbGxvdyIsImxpZ2h0Z3JheSIsImxpZ2h0Z3JlZW4iLCJsaWdodGdyZXkiLCJsaWdodHBpbmsiLCJsaWdodHNhbG1vbiIsImxpZ2h0c2VhZ3JlZW4iLCJsaWdodHNreWJsdWUiLCJsaWdodHNsYXRlZ3JheSIsImxpZ2h0c2xhdGVncmV5IiwibGlnaHRzdGVlbGJsdWUiLCJsaWdodHllbGxvdyIsImxpbWUiLCJsaW1lZ3JlZW4iLCJsaW5lbiIsIm1hZ2VudGEiLCJtYXJvb24iLCJtZWRpdW1hcXVhbWFyaW5lIiwibWVkaXVtYmx1ZSIsIm1lZGl1bW9yY2hpZCIsIm1lZGl1bXB1cnBsZSIsIm1lZGl1bXNlYWdyZWVuIiwibWVkaXVtc2xhdGVibHVlIiwibWVkaXVtc3ByaW5nZ3JlZW4iLCJtZWRpdW10dXJxdW9pc2UiLCJtZWRpdW12aW9sZXRyZWQiLCJtaWRuaWdodGJsdWUiLCJtaW50Y3JlYW0iLCJtaXN0eXJvc2UiLCJtb2NjYXNpbiIsIm5hdmFqb3doaXRlIiwibmF2eSIsIm9sZGxhY2UiLCJvbGl2ZSIsIm9saXZlZHJhYiIsIm9yYW5nZSIsIm9yYW5nZXJlZCIsIm9yY2hpZCIsInBhbGVnb2xkZW5yb2QiLCJwYWxlZ3JlZW4iLCJwYWxldHVycXVvaXNlIiwicGFsZXZpb2xldHJlZCIsInBhcGF5YXdoaXAiLCJwZWFjaHB1ZmYiLCJwZXJ1IiwicGluayIsInBsdW0iLCJwb3dkZXJibHVlIiwicHVycGxlIiwicmViZWNjYXB1cnBsZSIsInJlZCIsInJvc3licm93biIsInJveWFsYmx1ZSIsInNhZGRsZWJyb3duIiwic2FsbW9uIiwic2FuZHlicm93biIsInNlYWdyZWVuIiwic2Vhc2hlbGwiLCJzaWVubmEiLCJzaWx2ZXIiLCJza3libHVlIiwic2xhdGVibHVlIiwic2xhdGVncmF5Iiwic2xhdGVncmV5Iiwic25vdyIsInNwcmluZ2dyZWVuIiwic3RlZWxibHVlIiwidGFuIiwidGVhbCIsInRoaXN0bGUiLCJ0b21hdG8iLCJ0dXJxdW9pc2UiLCJ2aW9sZXQiLCJ3aGVhdCIsIndoaXRlIiwid2hpdGVzbW9rZSIsInllbGxvdyIsInllbGxvd2dyZWVuIiwiZGVmaW5lIiwiY29sb3IiLCJjaGFubmVscyIsImFzc2lnbiIsImRpc3BsYXlhYmxlIiwicmdiIiwiaGV4IiwiY29sb3JfZm9ybWF0SGV4IiwiZm9ybWF0SGV4IiwiZm9ybWF0SGV4OCIsImNvbG9yX2Zvcm1hdEhleDgiLCJmb3JtYXRIc2wiLCJjb2xvcl9mb3JtYXRIc2wiLCJmb3JtYXRSZ2IiLCJjb2xvcl9mb3JtYXRSZ2IiLCJoc2xDb252ZXJ0IiwiZm9ybWF0IiwidG9Mb3dlckNhc2UiLCJleGVjIiwicGFyc2VJbnQiLCJyZ2JuIiwiUmdiIiwicmdiYSIsImhzbGEiLCJnIiwicmdiQ29udmVydCIsIm9wYWNpdHkiLCJjbGFtcCIsImNsYW1waSIsImNsYW1wYSIsInJnYl9mb3JtYXRIZXgiLCJyZ2JfZm9ybWF0SGV4OCIsInJnYl9mb3JtYXRSZ2IiLCJoIiwiSHNsIiwiaHNsIiwibTIiLCJoc2wycmdiIiwiY2xhbXBoIiwiY2xhbXB0IiwibGluZWFyIiwiZCIsImV4cG9uZW50aWFsIiwibm9nYW1tYSIsInJnYkdhbW1hIiwic3RhcnQiLCJlbmQiLCJjb2xvclJnYiIsInJlQSIsInJlQiIsInplcm8iLCJvbmUiLCJiaSIsImxhc3RJbmRleCIsImFtIiwiYm0iLCJicyIsImluZGV4IiwibnVtYmVyIiwiZGVncmVlcyIsImlkZW50aXR5IiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJyb3RhdGUiLCJza2V3WCIsInNjYWxlWCIsInNjYWxlWSIsImF0YW4yIiwiYXRhbiIsInN2Z05vZGUiLCJwYXJzZUNzcyIsIkRPTU1hdHJpeCIsIldlYktpdENTU01hdHJpeCIsImlzSWRlbnRpdHkiLCJkZWNvbXBvc2UiLCJwYXJzZVN2ZyIsInRyYW5zZm9ybSIsImJhc2VWYWwiLCJjb25zb2xpZGF0ZSIsIm1hdHJpeCIsImludGVycG9sYXRlVHJhbnNmb3JtIiwicGFyc2UiLCJweENvbW1hIiwicHhQYXJlbiIsImRlZ1BhcmVuIiwicG9wIiwidHJhbnNsYXRlIiwieGEiLCJ5YSIsInhiIiwieWIiLCJpbnRlcnBvbGF0ZVRyYW5zZm9ybUNzcyIsImludGVycG9sYXRlVHJhbnNmb3JtU3ZnIiwiZnJhbWUiLCJ0aW1lb3V0IiwiaW50ZXJ2YWwiLCJwb2tlRGVsYXkiLCJ0YXNrSGVhZCIsInRhc2tUYWlsIiwiY2xvY2tMYXN0IiwiY2xvY2tOb3ciLCJjbG9ja1NrZXciLCJjbG9jayIsInBlcmZvcm1hbmNlIiwibm93Iiwic2V0RnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzZXRUaW1lb3V0IiwiY2xlYXJOb3ciLCJUaW1lciIsIl9jYWxsIiwiX3RpbWUiLCJ0aW1lciIsInJlc3RhcnQiLCJkZWxheSIsInRpbWUiLCJzbGVlcCIsInN0b3AiLCJ0aW1lckZsdXNoIiwid2FrZSIsIm5hcCIsInBva2UiLCJ0MCIsInQxIiwidDIiLCJjbGVhclRpbWVvdXQiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJlbGFwc2VkIiwiZW1wdHlPbiIsImVtcHR5VHdlZW4iLCJDUkVBVEVEIiwiU0NIRURVTEVEIiwiU1RBUlRJTkciLCJTVEFSVEVEIiwiUlVOTklORyIsIkVORElORyIsIkVOREVEIiwiaWQiLCJ0aW1pbmciLCJzY2hlZHVsZXMiLCJfX3RyYW5zaXRpb24iLCJ0d2VlbiIsImR1cmF0aW9uIiwiZWFzZSIsInNjaGVkdWxlIiwic2VsZiIsInRpY2siLCJhY3RpdmUiLCJpbnRlcnJ1cHQiLCJ0d2VlblJlbW92ZSIsInR3ZWVuMCIsInR3ZWVuMSIsInR3ZWVuRnVuY3Rpb24iLCJfaWQiLCJ0d2VlblZhbHVlIiwidHJhbnNpdGlvbiIsImludGVycG9sYXRlTnVtYmVyIiwiaW50ZXJwb2xhdGVSZ2IiLCJpbnRlcnBvbGF0ZVN0cmluZyIsImludGVycG9sYXRlIiwic3RyaW5nMDAiLCJzdHJpbmcxIiwiaW50ZXJwb2xhdGUwIiwic3RyaW5nMCIsInN0cmluZzEwIiwiYXR0clR3ZWVuIiwiYXR0ckludGVycG9sYXRlIiwiYXR0ckludGVycG9sYXRlTlMiLCJhdHRyVHdlZW5OUyIsIl92YWx1ZSIsImRlbGF5RnVuY3Rpb24iLCJkZWxheUNvbnN0YW50IiwiZHVyYXRpb25GdW5jdGlvbiIsImR1cmF0aW9uQ29uc3RhbnQiLCJlYXNlQ29uc3RhbnQiLCJlYXNlVmFyeWluZyIsIlRyYW5zaXRpb24iLCJfbmFtZSIsImV2ZXJ5Iiwib25GdW5jdGlvbiIsIm9uMCIsIm9uMSIsInNpdCIsInJlbW92ZUZ1bmN0aW9uIiwiaW5oZXJpdCIsInN0eWxlTnVsbCIsInN0eWxlTWF5YmVSZW1vdmUiLCJsaXN0ZW5lcjAiLCJzdHlsZVR3ZWVuIiwic3R5bGVJbnRlcnBvbGF0ZSIsInRleHRJbnRlcnBvbGF0ZSIsInRleHRUd2VlbiIsImlkMCIsImlkMSIsIm5ld0lkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjYW5jZWwiLCJzZWxlY3Rpb25fcHJvdG90eXBlIiwidHJhbnNpdGlvbl9zZWxlY3QiLCJ0cmFuc2l0aW9uX3NlbGVjdEFsbCIsInRyYW5zaXRpb25fZmlsdGVyIiwidHJhbnNpdGlvbl9tZXJnZSIsInRyYW5zaXRpb25fc2VsZWN0aW9uIiwidHJhbnNpdGlvbl90cmFuc2l0aW9uIiwidHJhbnNpdGlvbl9vbiIsInRyYW5zaXRpb25fYXR0ciIsInRyYW5zaXRpb25fYXR0clR3ZWVuIiwidHJhbnNpdGlvbl9zdHlsZSIsInRyYW5zaXRpb25fc3R5bGVUd2VlbiIsInRyYW5zaXRpb25fdGV4dCIsInRyYW5zaXRpb25fdGV4dFR3ZWVuIiwidHJhbnNpdGlvbl9yZW1vdmUiLCJ0cmFuc2l0aW9uX3R3ZWVuIiwidHJhbnNpdGlvbl9kZWxheSIsInRyYW5zaXRpb25fZHVyYXRpb24iLCJ0cmFuc2l0aW9uX2Vhc2UiLCJ0cmFuc2l0aW9uX2Vhc2VWYXJ5aW5nIiwidHJhbnNpdGlvbl9lbmQiLCJjdWJpY0luT3V0IiwiZGVmYXVsdFRpbWluZyIsImVhc2VDdWJpY0luT3V0Iiwic2VsZWN0aW9uX2ludGVycnVwdCIsInNlbGVjdGlvbl90cmFuc2l0aW9uIiwiVHJhbnNmb3JtIiwicG9pbnQiLCJhcHBseVgiLCJhcHBseVkiLCJpbnZlcnQiLCJpbnZlcnRYIiwiaW52ZXJ0WSIsInJlc2NhbGVYIiwiZG9tYWluIiwicmFuZ2UiLCJyZXNjYWxlWSIsIkhURE1hdGgiLCJhZGsydiIsImFkdjJrIiwib25tZXNzYWdlIiwibHVjZSIsImxvZ1Bvc3QiLCJscCIsImtNZWFuIiwia1NoYXBlIiwiQmF5ZXNEaXN0cmlidXRpb25zIiwibHVjZU1lYW4iLCJsdWNlU2hhcGUiLCJmb3JFYWNoIiwiY2hvaWNlIiwidnMiLCJhcyIsImRzIiwidmwiLCJhbCIsImRsIiwiYmludmFsIiwicmVzcG9uc2UiLCJzYW1wbGVyIiwiQmF5ZXNNY21jIiwic2FtcGxlcyIsInJlc3VsdHMiLCJkMyIsInBvc3RNZXNzYWdlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztFQUdBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztFQUVBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztFQU9BO0VBQ0E7RUFD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NUIsTUFBUyxDQUFDRixPQUFPLENBQUN0NUIsQ0FBQyxDQUFDO0VBQ3ZCazRCLElBQUFBLElBQUksRUFBRXNCLE1BQVMsQ0FBQ0YsT0FBTyxDQUFDcEIsSUFBSTtLQUM3QjtJQUVEL0YsSUFBSSxDQUFDc0gsV0FBVyxDQUFDO0VBQUNGLElBQUFBLE9BQU8sRUFBRUEsT0FBTztFQUFFRCxJQUFBQSxPQUFPLEVBQUVBO0VBQU8sR0FBQyxDQUFDO0VBQ3hELENBQUM7Ozs7OzsiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0MSw0Miw0Myw0NCw0NSw0Niw0Nyw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw1OCw1OSw2MCw2MSw2Miw2Myw2NCw2NSw2Niw2Nyw2OCw2OSw3MCw3MSw3Miw3Myw3NCw3NSw3Niw3Nyw3OCw3OSw4MCw4MSw4Miw4Myw4NCw4NSw4Niw4Nyw4OCw4OSw5MCw5MSw5Miw5Myw5NCw5NSw5Nl19");class HTDFit extends DiscountableElement{static get properties(){return{}}constructor(){super(),this.k=.05,this.choices=[],this.samples=null,this.working=!1,this.queued=!1,this.worker=new WorkerFactory,this.worker.onmessage=t=>{this.working=!1,this.samples=t.data.samples,this.k=t.data.results.k,this.requestUpdate(),this.dispatchEvent(new CustomEvent("htd-fit-update",{detail:{k:this.k},bubbles:!0})),this.queued&&this.fit()},this.fit()}fit(){this.working?this.queued=!0:(this.worker.postMessage(this.choices),this.working=!0,this.queued=!1)}clear(){this.choices=[],this.fit()}get(t="default"){const e=this.choices.find((e=>e.name===t));return void 0===e?null:e}set(t,e,i,s,B,n="",l=""){const Q=this.choices.find((t=>t.name===n));void 0===Q?this.choices.push({as:t,ds:e,al:i,dl:s,response:B,name:n,label:l}):(Q.as=t,Q.ds=e,Q.al=i,Q.dl=s,Q.response=B,Q.label=l),this.fit()}static get styles(){return[super.styles,i$6`
        /* :host {
          display: inline-block;
        } */

        figure {
          margin: 0.625rem;
        }

        figure h2 {
          margin: 0.25rem 0;

          font-size: 1.125rem;
          font-weight: 600;
        }

        .trace,
        .hist {
          display: inline-block;
        }
      `]}render(){return x$2`
      <div>
        <div>After ${this.choices.length} trials:</div>
        <div>Current:
          <var class="math-var k">k</var> = ${this.k.toFixed(2)}
        </div>
        <div class="param">
          <div class="trace k"></div>
          <div class="hist k"></div>
        </div>
        <div class="param">
          <div class="trace luce"></div>
          <div class="hist luce"></div>
        </div>
      </div>
    `}plotParam(t){this.shadowRoot.querySelector(`.hist.${t}`).replaceChildren(plot({title:`Posterior of ${t}`,x:{label:`${t}`},width:320,height:240,style:"font-size: 0.75rem; font-family: var(---font-family-base);",marks:[rectY(this.samples[t],binX({y:"count"},{x:identity$1}))]})),this.shadowRoot.querySelector(`.trace.${t}`).replaceChildren(plot({title:`Traceplot of ${t}`,x:{label:"Samples"},y:{label:`${t}`},width:320,height:240,style:"font-size: 0.75rem; font-family: var(---font-family-base);",marks:[lineY(this.samples[t])]}))}update(t){super.update(t),null!==this.samples&&(this.plotParam("k"),this.plotParam("luce"))}}customElements.define("htd-fit",HTDFit);class ITCOption extends DiscountableElement{static get properties(){return{state:{attribute:"state",type:String,reflect:!0},a:{attribute:"amount",type:Number,reflect:!0},d:{attribute:"delay",type:Number,reflect:!0}}}constructor(){super(),this.states=["choice","fixation","blank"],this.state="choice",this.a=0,this.d=0}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
          
          width: 10rem;
          height: 10rem;
        }

        .holder {
          display: flex;
          
          flex-flow: column nowrap;

          align-items: center;
          justify-content: center;

          width: 100%;
          height: 100%;
          overflow: visible;
          

          background: var(---color-element-background);
          border: 2px solid var(---color-element-emphasis);
          border-radius: var(---border-radius);
        }

        .interactive,
        .static {
          font-size: 1.75rem;
        }

        .interactive {
          --decidables-spinner-font-size: 1.75rem;
        }

        .static {
          padding: 0 0.25rem;
          
          border-radius: var(---border-radius);
        }

        .amount {
          --decidables-spinner-prefix: "$";
          background-color: var(---color-a-light);
        }

        .amount.interactive {
          --decidables-spinner-input-width: 4rem;
        }

        .delay {
          background-color: var(---color-d-light);
        }
        
        .delay.interactive {
          --decidables-spinner-input-width: 6.75rem;
          --decidables-spinner-postfix: "days";
          --decidables-spinner-postfix-padding: 3.75rem;
        }
      `]}sendEvent(){this.dispatchEvent(new CustomEvent("itc-option-change",{detail:{a:this.a,d:this.d},bubbles:!0}))}aInput(t){this.a=parseFloat(t.target.value),this.sendEvent()}dInput(t){this.d=parseFloat(t.target.value),this.sendEvent()}render(){return x$2`
      <div class="holder">
        ${"choice"===this.state?this.interactive?x$2`<decidables-spinner
              class="amount interactive"
              ?disabled=${!this.interactive}
              step="1"
              .value="${this.a}"
              @input=${this.aInput.bind(this)}
              ></decidables-spinner>`:x$2`<div
              class="amount static"
              >$${this.a}</div>`:""}
        ${"choice"===this.state?x$2`<div class="in">in</div>`:""}
        ${"choice"===this.state?this.interactive?x$2`<decidables-spinner
              class="delay interactive"
              ?disabled=${!this.interactive}
              min="0" 
              step="1"
              .value="${this.d}"
              @input=${this.dInput.bind(this)}
              ></decidables-spinner>`:x$2`<div
              class="delay static"
              >${this.d} days</div>`:""}
      </div>
    `}}customElements.define("itc-option",ITCOption);class ITCChoice extends DiscountableElement{static get properties(){return{state:{attribute:"state",type:String,reflect:!0},as:{attribute:"amount-ss",type:Number,reflect:!0},ds:{attribute:"delay-ss",type:Number,reflect:!0},al:{attribute:"amount-ll",type:Number,reflect:!0},dl:{attribute:"delay-ll",type:Number,reflect:!0}}}constructor(){super(),this.states=["choice","fixation","blank"],this.state="choice",this.as=10,this.ds=5,this.al=40,this.dl=30}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }

        .holder {
          user-select: none;
        }

        .holder > * {
          vertical-align: middle;
        }

        .query {
          margin: 0 0.5rem;

          font-family: var(--font-family-code);
          font-size: 1.75rem;
        }

        itc-option {
          width: 10rem;
          height: 10rem;
        }
      `]}sendEvent(){this.dispatchEvent(new CustomEvent("itc-choice-change",{detail:{as:this.as,ds:this.ds,al:this.al,dl:this.dl},bubbles:!0}))}ssChange(t){this.as=parseFloat(t.detail.a),this.ds=parseFloat(t.detail.d),this.sendEvent()}llChange(t){this.al=parseFloat(t.detail.a),this.dl=parseFloat(t.detail.d),this.sendEvent()}render(){return x$2`
      <div class="holder">
        <itc-option
          class="ss"
          state=${this.state}
          ?interactive=${this.interactive}
          amount="${this.as}"
          delay="${this.ds}"
          @itc-option-change=${this.ssChange.bind(this)}>
        </itc-option><span class="query"
         >${"choice"===this.state?"?":"fixation"===this.state?"+":x$2`â`}</span
        ><itc-option
          class="ll"
          state=${this.state}
          ?interactive=${this.interactive}
          amount="${this.al}"
          delay="${this.dl}"
          @itc-option-change=${this.llChange.bind(this)}>
        </itc-option>
      </div>`}}customElements.define("itc-choice",ITCChoice);class ITCTask extends DiscountableElement{static get properties(){return{duration:{attribute:"duration",type:Number,reflect:!0},iti:{attribute:"iti",type:Number,reflect:!0},trials:{attribute:"trials",type:Number,reflect:!0},running:{attribute:"running",type:Boolean,reflect:!0},state:{attribute:!1,type:String,reflect:!1}}}constructor(){super(),this.duration=2e3,this.iti=2e3,this.trials=5,this.running=!1,this.states=["resetted","iti","stimulus","ended"],this.state="resetted",this.range={},this.range.as={start:5,stop:20,step:5},this.range.ds={start:5,stop:20,step:5},this.range.al={start:40,stop:80,step:5},this.range.dl={start:40,stop:80,step:5},this.range.as.values=range$1(this.range.as.start,this.range.as.stop+.01,this.range.as.step),this.range.ds.values=range$1(this.range.ds.start,this.range.ds.stop+.01,this.range.ds.step),this.range.al.values=range$1(this.range.al.start,this.range.al.stop+.01,this.range.al.step),this.range.dl.values=range$1(this.range.dl.start,this.range.dl.stop+.01,this.range.dl.step),this.firstUpdate=!0,this.as=0,this.ds=0,this.al=0,this.dl=0,this.trial=0,this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0,this.runner=void 0}static get styles(){return[super.styles,i$6`
        :host {
          display: inline-block;
        }
      `]}render(){return x$2`
      <div class="holder">
        <itc-choice 
          state="${"stimulus"===this.state?"choice":"iti"===this.state?"fixation":"blank"}"
          amount-ss="${this.as}"
          delay-ss="${this.ds}"
          amount-ll="${this.al}"
          delay-ll="${this.dl}">
        </itc-choice>
      </div>`}update(t){super.update(t),(this.firstUpdate||t.has("running"))&&(this.running?(this.pauseTime&&(this.baseTime+=now()-this.pauseTime,this.pauseTime=0),this.runner=interval(this.run.bind(this),20)):void 0!==this.runner&&(this.runner.stop(),this.pauseTime=now())),this.firstUpdate=!1}reset(){this.runner.stop(),this.running=!1,this.trial=0,this.state="resetted",this.as=0,this.ds=0,this.al=0,this.dl=0,this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0}run(){const t=now(),e=this.baseTime?t-this.baseTime:0,i=this.baseTime?e-this.startTime:0;this.lastTime=e,"resetted"===this.state?(this.state="iti",this.baseTime=t,this.startTime=0,this.dispatchEvent(new CustomEvent("itc-block-start",{detail:{trials:this.trials},bubbles:!0}))):"iti"===this.state&&i>=this.iti?(this.trial+=1,this.state="stimulus",this.startTime=e,this.as=this.range.as.values[Math.floor(Math.random()*this.range.as.values.length)],this.ds=this.range.ds.values[Math.floor(Math.random()*this.range.ds.values.length)],this.al=this.range.al.values[Math.floor(Math.random()*this.range.al.values.length)],this.dl=this.range.dl.values[Math.floor(Math.random()*this.range.dl.values.length)],this.dispatchEvent(new CustomEvent("itc-trial-start",{detail:{trials:this.trials,duration:this.duration,iti:this.iti,trial:this.trial,as:this.as,ds:this.ds,al:this.al,dl:this.dl},bubbles:!0}))):"stimulus"===this.state&&i>=this.duration&&(this.dispatchEvent(new CustomEvent("itc-trial-end",{detail:{trials:this.trials,duration:this.duration,iti:this.iti,trial:this.trial,as:this.as,ds:this.ds,al:this.al,dl:this.dl},bubbles:!0})),this.trial>=this.trials?(this.runner.stop(),this.running=!1,this.state="ended",this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0,this.dispatchEvent(new CustomEvent("itc-block-end",{detail:{trials:this.trial},bubbles:!0}))):(this.state="iti",this.startTime=e))}}customElements.define("itc-task",ITCTask);class HTDEquationADK2V extends HTDEquation{static get properties(){return{a:{attribute:"amount",type:Number,reflect:!0},d:{attribute:"delay",type:Number,reflect:!0},k:{attribute:"k",type:Number,reflect:!0},v:{attribute:!1,type:Number,reflect:!1}}}constructor(){super(),this.a=100,this.d=30,this.k=.05,this.alignState()}alignState(){this.v=HTDMath.adk2v(this.a,this.d,this.k)}sendEvent(){this.dispatchEvent(new CustomEvent("htd-equation-adk2v-change",{detail:{a:this.a,d:this.d,k:this.k,v:this.v},bubbles:!0}))}aInput(t){this.a=parseFloat(t.target.value),this.alignState(),this.sendEvent()}dInput(t){this.d=parseFloat(t.target.value),this.alignState(),this.sendEvent()}kInput(t){this.k=parseFloat(t.target.value),this.alignState(),this.sendEvent()}willUpdate(){this.alignState()}render(){let t,e,i,s;this.numeric?(t=x$2`<decidables-spinner class="a bottom" ?disabled=${!this.interactive} step="1" .value="${this.a}" @input=${this.aInput.bind(this)}>
          <var class="math-var">A</var>
        </decidables-spinner>`,e=x$2`<decidables-spinner class="d bottom" ?disabled=${!this.interactive} min="0" step="1" .value="${this.d}" @input=${this.dInput.bind(this)}>
          <var class="math-var">D</var>
        </decidables-spinner>`,i=x$2`<decidables-spinner class="k bottom" ?disabled=${!this.interactive} min="0" max="100" step=".001" .value="${this.k}" @input=${this.kInput.bind(this)}>
          <var class="math-var">k</var>
        </decidables-spinner>`,s=x$2`<decidables-spinner class="v bottom" disabled step=".001" .value="${+this.v.toFixed(3)}">
          <var class="math-var">V</var>
        </decidables-spinner>`):(t=x$2`<var class="math-var a">A</var>`,e=x$2`<var class="math-var d">D</var>`,i=x$2`<var class="math-var k">k</var>`,s=x$2`<var class="math-var v">V</var>`);const B=x$2`
      <tr>
        <td rowspan="2">
          ${s}<span class="equals">=</span>
        </td>
        <td class="underline">
          ${t}
        </td>
      </tr>
      <tr>
        <td class="">
          <span class="paren tight">(</span>1<span class="plus">+</span>${i}${e}<span class="paren tight">)</span>
        </td>
      </tr>`;return x$2`
      <div class="holder">
        <table class="equation">
          <tbody>
            ${B}
          </tbody>
        </table>
      </div>`}}customElements.define("htd-equation-adk2v",HTDEquationADK2V);class HTDExample extends DiscountableElement{static get styles(){return[super.styles,i$6`
        :host {
          ---border: var(--border, 1px solid var(---color-border));
          display: inline-block;

          margin-bottom: 1rem;
        }

        .holder {
          display: flex;
        }

        .body {
          display: flex;

          flex-wrap: wrap;

          align-items: center;
          justify-content: left;

          padding: 0.625rem;

          border: var(---border);
          border-radius: 0.25rem;
        }

        .body ::slotted(*) {
          margin: 0.625rem;
        }

        /* HACK: Sibling selectors not working with ::slotted */
        /* .body > rdk-task + sdt-response,
        ::slotted(rdk-task) + ::slotted(sdt-response) { */
        /* .body ::slotted(sdt-response) {
          margin-left: 0;
        } */

        /* HACK: Sibling selectors not working with ::slotted */
        /* .body > sdt-control + rdk-task,
        ::slotted(sdt-control) + ::slotted(rdk-task) {
          margin-left: 0;
        } */
        /* .body ::slotted(rdk-task) {
          margin-left: 0;
        } */
      `]}render(){return x$2`
      <div class="holder">
        <div class="body">
          <slot>Empty!</slot>
        </div>
      </div>`}}customElements.define("htd-example",HTDExample);class HTDExampleHuman extends HTDExample{connectedCallback(){super.connectedCallback(),this.discountableControl=this.querySelector("discountable-control"),this.itcTask=this.querySelector("itc-task"),this.discountableResponse=this.querySelector("discountable-response"),this.htdFit=this.querySelector("htd-fit"),this.htdCurves=this.querySelector("htd-curves"),this.discountableControl&&(this.discountableControl.hasAttribute("trials")&&this.discountableControl.addEventListener("discountable-control-trials",(t=>{this.itcTask&&(this.itcTask.trials=t.detail.trials),this.discountableResponse&&(this.discountableResponse.trialTotal=t.detail.trials)})),this.discountableControl.hasAttribute("duration")&&this.discountableControl.addEventListener("discountable-control-duration",(t=>{this.itcTask&&(this.itcTask.duration=t.detail.duration,this.itcTask.iti=t.detail.duration)})),this.discountableControl.hasAttribute("run")&&this.discountableControl.addEventListener("discountable-control-run",(()=>{this.itcTask&&(this.itcTask.running=!0)})),this.discountableControl.hasAttribute("pause")&&this.discountableControl.addEventListener("discountable-control-pause",(()=>{this.itcTask&&(this.itcTask.running=!1)})),this.discountableControl.hasAttribute("reset")&&this.discountableControl.addEventListener("discountable-control-reset",(()=>{this.itcTask&&this.itcTask.reset(),this.discountableResponse&&this.discountableResponse.reset(),this.htdFit&&this.htdFit.clear(),this.htdCurves&&this.htdCurves.clearOptions()}))),this.itcTask&&(this.discountableResponse&&(this.discountableResponse.trialTotal=this.itcTask.trials),this.itcTask.addEventListener("itc-trial-start",(t=>{this.discountableResponse&&this.discountableResponse.start(t.detail.as,t.detail.ds,t.detail.al,t.detail.dl,t.detail.trial),this.htdCurves&&(this.htdCurves.setOption(t.detail.as,t.detail.ds,"smaller-sooner","s"),this.htdCurves.setOption(t.detail.al,t.detail.dl,"larger-later","l"))})),this.itcTask.addEventListener("itc-trial-end",(()=>{this.discountableResponse&&this.discountableResponse.stop(),this.htdCurves&&(this.htdCurves.removeOption("smaller-sooner"),this.htdCurves.removeOption("larger-later"))})),this.itcTask.addEventListener("itc-block-end",(()=>{this.discountableControl&&this.discountableControl.complete()}))),this.discountableResponse&&this.discountableResponse.addEventListener("discountable-response",(t=>{this.htdFit&&this.htdFit.set(t.detail.as,t.detail.ds,t.detail.al,t.detail.dl,t.detail.response,t.detail.trial.toString(),t.detail.trial.toString())})),this.htdFit&&this.htdFit.addEventListener("htd-fit-update",(t=>{this.htdCurves&&(this.htdCurves.k=t.detail.k)}))}}customElements.define("htd-example-human",HTDExampleHuman);class HTDExampleInteractive extends HTDExample{static get properties(){return{as:{attribute:"amount-ss",type:Number,reflect:!0},ds:{attribute:"delay-ss",type:Number,reflect:!0},al:{attribute:"amount-ll",type:Number,reflect:!0},dl:{attribute:"delay-ll",type:Number,reflect:!0},k:{attribute:"k",type:Number,reflect:!0}}}constructor(){super(),this.as=10,this.ds=1,this.al=50,this.dl=40,this.k=.05,this.htdCalculation=null,this.htdCurves=null,this.itcChoice=null}connectedCallback(){super.connectedCallback(),this.htdCalculation=this.querySelector("htd-calculation"),this.htdCurves=this.querySelector("htd-curves"),this.itcChoice=this.querySelector("itc-choice"),this.htdCalculation&&this.htdCalculation.addEventListener("htd-calculation-change",(t=>{this.as=t.detail.as,this.ds=t.detail.ds,this.al=t.detail.al,this.dl=t.detail.dl,this.k=t.detail.k})),this.htdCurves&&this.htdCurves.addEventListener("htd-curves-change",(t=>{this.k=t.detail.k,"default"===t.detail.name?(this.as=t.detail.a,this.ds=t.detail.d):"larger-later"===t.detail.name&&(this.al=t.detail.a,this.dl=t.detail.d)})),this.itcChoice&&this.itcChoice.addEventListener("itc-choice-change",(t=>{this.as=t.detail.as,this.ds=t.detail.ds,this.al=t.detail.al,this.dl=t.detail.dl})),this.requestUpdate()}update(t){super.update(t),this.htdCalculation&&(this.htdCalculation.as=this.as,this.htdCalculation.ds=this.ds,this.htdCalculation.al=this.al,this.htdCalculation.dl=this.dl,this.htdCalculation.k=this.k),this.htdCurves&&(this.htdCurves.setOption(this.as,this.ds,"default","s"),this.htdCurves.setOption(this.al,this.dl,"larger-later","l"),this.htdCurves.k=this.k),this.itcChoice&&(this.itcChoice.as=this.as,this.itcChoice.ds=this.ds,this.itcChoice.al=this.al,this.itcChoice.dl=this.dl)}}customElements.define("htd-example-interactive",HTDExampleInteractive);class HTDExampleModel extends HTDExample{static get properties(){return{k:{attribute:"k",type:Number,reflect:!0}}}constructor(){super(),this.k=.2,this.discountableControl=null,this.discountableResponse=null,this.htdCalculation=null,this.htdCurves=null,this.itcTask=null}connectedCallback(){super.connectedCallback(),this.discountableControl=this.querySelector("discountable-control"),this.discountableResponse=this.querySelector("discountable-response"),this.htdCalculation=this.querySelector("htd-calculation"),this.htdCurves=this.querySelector("htd-curves"),this.itcTask=this.querySelector("itc-task"),this.discountableControl&&(this.discountableControl.hasAttribute("trials")&&this.discountableControl.addEventListener("discountable-control-trials",(t=>{this.itcTask&&(this.itcTask.trials=t.detail.trials),this.discountableResponse&&(this.discountableResponse.trialTotal=t.detail.trials)})),this.discountableControl.hasAttribute("duration")&&this.discountableControl.addEventListener("discountable-control-duration",(t=>{this.itcTask&&(this.itcTask.duration=t.detail.duration,this.itcTask.iti=t.detail.duration)})),this.discountableControl.hasAttribute("run")&&this.discountableControl.addEventListener("discountable-control-run",(()=>{this.htdCurves&&this.htdCurves.resumeTrial(),this.itcTask&&(this.itcTask.running=!0)})),this.discountableControl.hasAttribute("pause")&&this.discountableControl.addEventListener("discountable-control-pause",(()=>{this.htdCurves&&this.htdCurves.pauseTrial(),this.itcTask&&(this.itcTask.running=!1)})),this.discountableControl.hasAttribute("reset")&&this.discountableControl.addEventListener("discountable-control-reset",(()=>{this.discountableResponse&&this.discountableResponse.reset(),this.htdCurves&&this.htdCurves.clearOptions(),this.itcTask&&this.itcTask.reset()}))),this.htdCurves&&(this.htdCurves.addEventListener("htd-curves-change",(t=>{this.k=t.detail.k})),this.htdCurves.addEventListener("discountable-response",(t=>{this.discountableResponse&&this.discountableResponse.responded(t.detail.response)}))),this.itcTask&&(this.discountableResponse&&(this.discountableResponse.trialTotal=this.itcTask.trials),this.itcTask.addEventListener("itc-trial-start",(t=>{this.discountableResponse&&this.discountableResponse.start(t.detail.as,t.detail.ds,t.detail.al,t.detail.dl,t.detail.trial);const e=HTDMath.adk2v(t.detail.as,t.detail.ds,this.k)>HTDMath.adk2v(t.detail.al,t.detail.dl,this.k)?"first":"second";this.htdCurves&&this.htdCurves.trial(t.detail.as,t.detail.ds,t.detail.al,t.detail.dl,t.detail.trial,e)})),this.itcTask.addEventListener("itc-trial-end",(()=>{this.discountableResponse&&this.discountableResponse.stop()})),this.itcTask.addEventListener("itc-block-end",(()=>{this.discountableControl&&this.discountableControl.complete()}))),this.requestUpdate()}update(t){super.update(t),this.htdCalculation&&(this.htdCalculation.k=this.k),this.htdCurves&&(this.htdCurves.k=this.k)}}customElements.define("htd-example-model",HTDExampleModel);
//# sourceMappingURL=page.js.map