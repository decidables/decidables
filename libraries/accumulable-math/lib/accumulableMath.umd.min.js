!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(r="undefined"!=typeof globalThis?globalThis:r||self).accumulableMath=t()}(this,(function(){"use strict";class r{static s=1;static trials2stats(r){const t={},e=r.reduce(((r,t)=>{switch(t.outcome){case"correct":r.correctCount+=1,r.correctRTSum+=t.rt;break;case"error":r.errorCount+=1,r.errorRTSum+=t.rt;break;case"nr":r.nrCount+=1}return r}),{correctCount:0,errorCount:0,nrCount:0,correctRTSum:0,errorRTSum:0});t.correctCount=e.correctCount,t.errorCount=e.errorCount,t.nrCount=e.nrCount,t.accuracy=e.correctCount/(e.correctCount+e.errorCount+e.nrCount),t.correctMeanRT=e.correctRTSum/e.correctCount,t.errorMeanRT=e.errorRTSum/e.errorCount,t.meanRT=(e.correctRTSum+e.errorRTSum)/(e.correctCount+e.errorCount);const o=r.reduce(((r,e)=>{switch(e.outcome){case"correct":r.ss+=(e.rt-t.meanRT)**2,r.correctSS+=(e.rt-t.correctMeanRT)**2;break;case"error":r.ss+=(e.rt-t.meanRT)**2,r.errorSS+=(e.rt-t.errorMeanRT)**2}return r}),{ss:0,correctSS:0,errorSS:0});return t.correctSDRT=t.correctCount>1?Math.sqrt(o.correctSS/(t.correctCount-1)):NaN,t.errorSDRT=t.errorCount>1?Math.sqrt(o.errorSS/(t.errorCount-1)):NaN,t.sdRT=t.correctCount+t.errorCount>1?Math.sqrt(o.ss/(t.correctCount+t.errorCount-1)):NaN,t}static azv2pE(t,e,o,c=r.s){const n=t*e,a=Math.exp(-2*o*t/c**2);return(a-Math.exp(-2*o*n/c**2))/(a-1)}static azv2pC(t,e,o,c=r.s){return r.azv2pE(t,1-e,-o,c)}static azvt02m(t,e,o,c,n=r.s){const a=t*e,s=Math.exp(-2*o*t/n**2)-1;return c+1e3*(-a/o+t/o*((Math.exp(-2*o*a/n**2)-1)/s))}static azv2sd(t,e,o,c=r.s){const n=t*e,a=Math.exp(-2*o*t/c**2)-1,s=Math.exp(-2*o*n/c**2)-1,u=(-o*t**2*(s+4)*s/a**2+((-3*o*t**2+4*o*n*t+c**2*t)*s+4*o*n*t)/a-c**2*n)/o**3;return 1e3*Math.sqrt(u)}static azvt02mE(t,e,o,c,n=r.s){function a(r,t){return Math.exp(2*o*t/n**2)-Math.exp(2*o*r/n**2)}const s=t*e;return c+1e3*((s*(a(s-t,t)+a(0,s))+2*t*a(s,0))/(o*a(s,t)*a(-t,0)))}static azv2sdE(t,e,o,c=r.s){function n(r,t){return Math.exp(2*o*t/c**2)-Math.exp(2*o*r/c**2)}const a=t*e,s=-2*t*n(0,a)*(2*o*t*n(a,2*t)+c**2*n(0,t)*n(a,t))*Math.exp(2*o*t/c**2)/(o**3*n(0,t)**2*n(a,t)**2)+(4*o*a*(2*t-a)*Math.exp(2*o*(a+t)/c**2)+a*c**2*n(2*a,2*t))/(o**3*n(a,t)**2);return 1e3*Math.sqrt(s)}static azvt02mC(t,e,o,c,n=r.s){return r.azvt02mE(t,1-e,-o,c,n)}static azv2sdC(t,e,o,c=r.s){return r.azv2sdE(t,1-e,-o,c)}static tazv2gE(t,e,o,c,n=r.s){if(!t)return 0;const a=e*o,s=Math.PI*n**2/e**2*Math.exp(-a*c/n**2);let u=0,i=0,h=0;do{u+=1,i=u*Math.sin(Math.PI*a*u/e)*Math.exp(-.5*(c**2/n**2+Math.PI**2*u**2*n**2/e**2)*t),h+=i}while(u<200);return s*h}static tazv2gC(t,e,o,c,n=r.s){return r.tazv2gE(t,e,1-o,-c,n)}static data2ez({accuracy:r,sdRT:t,meanRT:e,s:o}){function c(r){return Math.log(r/(1-r))}const n=(t/1e3)**2,a=e/1e3,s=o**2,u=c(r),i=((h=r-.5)>0?1:0===h?0:-1)*o*(u*(u*r**2-u*r+r-.5)/n)**(1/4);var h;const C=s*c(r)/i,M=-i*C/s,p=C/(2*i)*(1-Math.exp(M))/(1+Math.exp(M));return{v:i,a:C,t0:1e3*(a?a-p:null),s:o}}static data2ez2(){throw new Error("data2ez2 is not implemented!")}}return r}));
//# sourceMappingURL=accumulableMath.umd.min.js.map
