{"version":3,"sources":["components/sdt-table.js"],"names":["SDTTable","numeric","attribute","type","Boolean","reflect","summary","converter","SDTMixinConverterSet","converterSet","color","String","h","Number","m","fa","cr","payoff","hPayoff","mPayoff","faPayoff","crPayoff","far","hr","acc","ppv","fomr","summaries","Set","colors","alignState","undefined","SDTMath","hm2hr","facr2far","hmfacr2acc","hfa2ppv","mcr2fomr","dispatchEvent","CustomEvent","detail","bubbles","e","parseInt","target","value","sendEvent","newhr","parseFloat","present","Math","round","newfar","absent","newacc","x","newppv","newfomr","payoffFormatter","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","html","format","interactive","hInput","bind","mInput","faInput","crInput","toFixed","hrInput","farInput","accInput","ppvInput","fomrInput","has","css","SDTElement","customElements","define"],"mappings":"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","sourcesContent":["\nimport {html, css} from 'lit-element';\n\nimport SDTMath from '@decidable/detectable-math';\n\nimport SDTElement from '../sdt-element';\nimport SDTMixinStyleSpinner from '../mixins/styleSpinner';\nimport SDTMixinConverterSet from '../mixins/converterSet';\n\n/*\n  SDTTable element\n  <sdt-table>\n\n  Attributes:\n  Hit; Miss; FalseAlarm; CorrectRejection;\n*/\nexport default class SDTTable extends SDTMixinConverterSet(SDTMixinStyleSpinner(SDTElement)) {\n  static get properties() {\n    return {\n      numeric: {\n        attribute: 'numeric',\n        type: Boolean,\n        reflect: true,\n      },\n      summary: {\n        attribute: 'summary',\n        converter: SDTMixinConverterSet.converterSet,\n        reflect: true,\n      },\n      color: {\n        attribute: 'color',\n        type: String,\n        reflect: true,\n      },\n      h: {\n        attribute: 'hits',\n        type: Number,\n        reflect: true,\n      },\n      m: {\n        attribute: 'misses',\n        type: Number,\n        reflect: true,\n      },\n      fa: {\n        attribute: 'false-alarms',\n        type: Number,\n        reflect: true,\n      },\n      cr: {\n        attribute: 'correct-rejections',\n        type: Number,\n        reflect: true,\n      },\n\n      payoff: {\n        attribute: 'payoff',\n        type: Boolean,\n        reflect: true,\n      },\n      hPayoff: {\n        attribute: 'hit-payoff',\n        type: Number,\n        reflect: true,\n      },\n      mPayoff: {\n        attribute: 'miss-payoff',\n        type: Number,\n        reflect: true,\n      },\n      faPayoff: {\n        attribute: 'false-alarm-payoff',\n        type: Number,\n        reflect: true,\n      },\n      crPayoff: {\n        attribute: 'correct-rejection-payoff',\n        type: Number,\n        reflect: true,\n      },\n\n      far: {\n        attribute: false,\n        type: Number,\n        reflect: false,\n      },\n      hr: {\n        attribute: false,\n        type: Number,\n        reflect: false,\n      },\n      acc: {\n        attribute: false,\n        type: Number,\n        reflect: false,\n      },\n      // positive predictive value (https://en.wikipedia.org/wiki/Receiver_operating_characteristic)\n      ppv: {\n        attribute: false,\n        type: Number,\n        reflect: false,\n      },\n      // false omission rate (https://en.wikipedia.org/wiki/Receiver_operating_characteristic)\n      // Using \"fomr\" to avoid keyword \"for\"\n      fomr: {\n        attribute: false,\n        type: Number,\n        reflect: false,\n      },\n    };\n  }\n\n  constructor() {\n    super();\n\n    this.numeric = false;\n\n    this.summaries = ['stimulusRates, responseRates, accuracy'];\n    this.summary = new Set();\n\n    this.colors = ['stimulus', 'response', 'outcome', 'none'];\n    this.color = 'outcome';\n\n    this.h = 40;\n    this.m = 60;\n    this.fa = 75;\n    this.cr = 25;\n    this.alignState();\n\n    this.payoff = false;\n    this.hPayoff = undefined; // Hit payoff\n    this.mPayoff = undefined; // Miss payoff\n    this.crPayoff = undefined; // Correct Rejection payoff\n    this.faPayoff = undefined; // False Alarm payoff\n  }\n\n  alignState() {\n    this.hr = SDTMath.hm2hr(this.h, this.m);\n    this.far = SDTMath.facr2far(this.fa, this.cr);\n    this.acc = SDTMath.hmfacr2acc(this.h, this.m, this.fa, this.cr);\n    this.ppv = SDTMath.hfa2ppv(this.h, this.fa);\n    this.fomr = SDTMath.mcr2fomr(this.m, this.cr);\n  }\n\n  sendEvent() {\n    this.dispatchEvent(new CustomEvent('sdt-table-change', {\n      detail: {\n        h: this.h,\n        m: this.m,\n        hr: this.hr,\n        fa: this.fa,\n        cr: this.cr,\n        far: this.far,\n        acc: this.acc,\n        ppv: this.ppv,\n        fomr: this.fomr,\n      },\n      bubbles: true,\n    }));\n  }\n\n  hInput(e) {\n    this.h = parseInt(e.target.value, 10);\n    this.alignState();\n    this.sendEvent();\n  }\n\n  mInput(e) {\n    this.m = parseInt(e.target.value, 10);\n    this.alignState();\n    this.sendEvent();\n  }\n\n  faInput(e) {\n    this.fa = parseInt(e.target.value, 10);\n    this.alignState();\n    this.sendEvent();\n  }\n\n  crInput(e) {\n    this.cr = parseInt(e.target.value, 10);\n    this.alignState();\n    this.sendEvent();\n  }\n\n  hrInput(e) {\n    const newhr = parseFloat(e.target.value);\n    const present = this.h + this.m;\n    this.h = Math.round(newhr * present);\n    this.m = present - this.h;\n    this.alignState();\n    this.sendEvent();\n  }\n\n  farInput(e) {\n    const newfar = parseFloat(e.target.value);\n    const absent = this.fa + this.cr;\n    this.fa = Math.round(newfar * absent);\n    this.cr = absent - this.fa;\n    this.alignState();\n    this.sendEvent();\n  }\n\n  accInput(e) {\n    const newacc = parseFloat(e.target.value);\n    const present = this.h + this.m;\n    const absent = this.fa + this.cr;\n    const x = (this.hr + this.far - 1) / 2; // Rotate into ACC\n    let newhr = x + newacc;\n    let newfar = 1 + x - newacc;\n\n    if (newfar > 1) {\n      newfar = 1;\n      newhr = newfar + 2 * newacc - 1;\n    }\n    if (newfar < 0) {\n      newfar = 0;\n      newhr = newfar + 2 * newacc - 1;\n    }\n    if (newhr > 1) {\n      newhr = 1;\n      newfar = newhr - 2 * newacc + 1;\n    }\n    if (newhr < 0) {\n      newhr = 0;\n      newfar = newhr - 2 * newacc + 1;\n    }\n    this.h = Math.round(newhr * present);\n    this.m = present - this.h;\n    this.fa = Math.round(newfar * absent);\n    this.cr = absent - this.fa;\n\n    this.alignState();\n    this.sendEvent();\n  }\n\n  ppvInput(e) {\n    const newppv = parseFloat(e.target.value);\n    const present = this.h + this.fa;\n    this.h = Math.round(newppv * present);\n    this.fa = present - this.h;\n    this.alignState();\n    this.sendEvent();\n  }\n\n  fomrInput(e) {\n    const newfomr = parseFloat(e.target.value);\n    const present = this.m + this.cr;\n    this.m = Math.round(newfomr * present);\n    this.cr = present - this.m;\n    this.alignState();\n    this.sendEvent();\n  }\n\n  static get styles() {\n    return [\n      super.styles,\n      css`\n        :host {\n          display: inline-block;\n        }\n\n        /* Overall element */\n        table {\n          text-align: center;\n\n          border-collapse: collapse;\n\n          border: 0;\n        }\n\n        /* Headers */\n        .th-main {\n          padding: 0;\n\n          font-weight: bold;\n        }\n\n        .th-sub {\n          padding: 0 0.25rem;\n\n          font-weight: 600;\n        }\n\n        .th-left {\n          padding-left: 0;\n\n          text-align: right;\n        }\n\n        /* Cells */\n        .td {\n          width: 10rem;\n\n          padding: 0.25rem 0.25rem 0.375rem;\n        }\n\n        .numeric .td {\n          width: 7rem;\n        }\n\n        /* Labels */\n        label {\n          margin: 0;\n        }\n\n        label span {\n          display: block;\n\n          font-size: 0.75rem;\n        }\n\n        .payoff {\n          font-weight: 600;\n          line-height: 0.75rem;\n        }\n\n        /* User interaction <input> */\n        input {\n          background: none;\n        }\n\n        .td-data input {\n          width: 3.5rem;\n        }\n\n        .td-summary input {\n          width: 4.5rem;\n        }\n\n        /* Table emphasis */\n        .h {\n          border-top: 2px solid var(---color-element-emphasis);\n          border-left: 2px solid var(---color-element-emphasis);\n        }\n\n        .m {\n          border-top: 2px solid var(---color-element-emphasis);\n          border-right: 2px solid var(---color-element-emphasis);\n        }\n\n        .fa {\n          border-bottom: 2px solid var(---color-element-emphasis);\n          border-left: 2px solid var(---color-element-emphasis);\n        }\n\n        .cr {\n          border-right: 2px solid var(---color-element-emphasis);\n          border-bottom: 2px solid var(---color-element-emphasis);\n        }\n\n        /* Color schemes */\n        /* stylelint-disable-next-line no-descending-specificity */\n        .td,\n        .td input {\n          transition: all var(---transition-duration) ease;\n        }\n\n        /* Outcome color scheme */\n        .h,\n        .h input {\n          background: var(---color-h-light);\n        }\n\n        .m,\n        .m input {\n          background: var(---color-m-light);\n        }\n\n        .fa,\n        .fa input {\n          background: var(---color-fa-light);\n        }\n\n        .cr,\n        .cr input {\n          background: var(---color-cr-light);\n        }\n\n        .hr,\n        .hr input {\n          background: var(---color-hr-light);\n        }\n\n        .far,\n        .far input {\n          background: var(---color-far-light);\n        }\n\n        .acc,\n        .acc input {\n          background: var(---color-acc-light);\n        }\n\n        .ppv,\n        .ppv input {\n          background: var(---color-present-light);\n        }\n\n        .fomr,\n        .fomr input {\n          background: var(---color-absent-light);\n        }\n\n        /* Accuracy color scheme */\n        :host([color=\"accuracy\"]) .h,\n        :host([color=\"accuracy\"]) .h input,\n        :host([color=\"accuracy\"]) .cr,\n        :host([color=\"accuracy\"]) .cr input {\n          background: var(---color-correct-light);\n        }\n\n        :host([color=\"accuracy\"]) .m,\n        :host([color=\"accuracy\"]) .m input,\n        :host([color=\"accuracy\"]) .fa,\n        :host([color=\"accuracy\"]) .fa input {\n          color: var(---color-text-inverse);\n\n          background: var(---color-error-light);\n        }\n\n        :host([color=\"accuracy\"]) .hr,\n        :host([color=\"accuracy\"]) .hr input,\n        :host([color=\"accuracy\"]) .far,\n        :host([color=\"accuracy\"]) .far input,\n        :host([color=\"accuracy\"]) .ppv,\n        :host([color=\"accuracy\"]) .ppv input,\n        :host([color=\"accuracy\"]) .fomr,\n        :host([color=\"accuracy\"]) .fomr input {\n          background: var(---color-element-background);\n        }\n\n        /* Stimulus color scheme */\n        :host([color=\"stimulus\"]) .cr,\n        :host([color=\"stimulus\"]) .cr input,\n        :host([color=\"stimulus\"]) .fa,\n        :host([color=\"stimulus\"]) .fa input {\n          background: var(---color-far-light);\n        }\n\n        :host([color=\"stimulus\"]) .m,\n        :host([color=\"stimulus\"]) .m input,\n        :host([color=\"stimulus\"]) .h,\n        :host([color=\"stimulus\"]) .h input {\n          background: var(---color-hr-light);\n        }\n\n        :host([color=\"stimulus\"]) .ppv,\n        :host([color=\"stimulus\"]) .ppv input,\n        :host([color=\"stimulus\"]) .fomr,\n        :host([color=\"stimulus\"]) .fomr input,\n        :host([color=\"stimulus\"]) .acc,\n        :host([color=\"stimulus\"]) .acc input {\n          background: var(---color-element-background);\n        }\n\n        /* Response color scheme */\n        :host([color=\"response\"]) .cr,\n        :host([color=\"response\"]) .cr input,\n        :host([color=\"response\"]) .m,\n        :host([color=\"response\"]) .m input {\n          background: var(---color-absent-light);\n        }\n\n        :host([color=\"response\"]) .fa,\n        :host([color=\"response\"]) .fa input,\n        :host([color=\"response\"]) .h,\n        :host([color=\"response\"]) .h input {\n          background: var(---color-present-light);\n        }\n\n        :host([color=\"response\"]) .hr,\n        :host([color=\"response\"]) .hr input,\n        :host([color=\"response\"]) .far,\n        :host([color=\"response\"]) .far input,\n        :host([color=\"response\"]) .acc,\n        :host([color=\"response\"]) .acc input {\n          background: var(---color-element-background);\n        }\n\n        /* No color scheme */\n        :host([color=\"none\"]) .cr,\n        :host([color=\"none\"]) .cr input,\n        :host([color=\"none\"]) .fa,\n        :host([color=\"none\"]) .fa input,\n        :host([color=\"none\"]) .m,\n        :host([color=\"none\"]) .m input,\n        :host([color=\"none\"]) .h,\n        :host([color=\"none\"]) .h input,\n        :host([color=\"none\"]) .hr,\n        :host([color=\"none\"]) .hr input,\n        :host([color=\"none\"]) .far,\n        :host([color=\"none\"]) .far input,\n        :host([color=\"none\"]) .ppv,\n        :host([color=\"none\"]) .ppv input,\n        :host([color=\"none\"]) .fomr,\n        :host([color=\"none\"]) .fomr input,\n        :host([color=\"none\"]) .acc,\n        :host([color=\"none\"]) .acc input {\n          background: var(---color-element-background);\n        }\n      `,\n    ];\n  }\n\n  render() {\n    const payoffFormatter = new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    });\n\n    this.alignState();\n    let h;\n    let m;\n    let fa;\n    let cr;\n    let hr;\n    let far;\n    let acc;\n    let ppv;\n    let fomr;\n    if (this.numeric) {\n      h = html`<label>\n          <span>Hits</span>\n          ${this.payoff ? html`<span class=\"payoff\">${payoffFormatter.format(this.hPayoff)}</span>` : html``}\n          <input ?disabled=${!this.interactive} type=\"number\" min=\"0\" .value=\"${this.h}\" @input=${this.hInput.bind(this)}>\n        </label>`;\n      m = html`<label>\n          <span>Misses</span>\n          ${this.payoff ? html`<span class=\"payoff\">${payoffFormatter.format(this.mPayoff)}</span>` : html``}\n          <input ?disabled=${!this.interactive} type=\"number\" min=\"0\" .value=\"${this.m}\" @input=${this.mInput.bind(this)}>\n        </label>`;\n      fa = html`<label>\n          <span>False Alarms</span>\n          ${this.payoff ? html`<span class=\"payoff\">${payoffFormatter.format(this.faPayoff)}</span>` : html``}\n          <input ?disabled=${!this.interactive} type=\"number\" min=\"0\" .value=\"${this.fa}\" @input=${this.faInput.bind(this)}>\n        </label>`;\n      cr = html`<label>\n          <span>Correct Rejections</span>\n          ${this.payoff ? html`<span class=\"payoff\">${payoffFormatter.format(this.crPayoff)}</span>` : html``}\n          <input ?disabled=${!this.interactive} type=\"number\" min=\"0\" .value=\"${this.cr}\" @input=${this.crInput.bind(this)}>\n        </label>`;\n      hr = html`<label>\n          <span>Hit Rate</span>\n          <input ?disabled=${!this.interactive} type=\"number\" min=\"0\" max=\"1\" step=\".001\" .value=\"${+this.hr.toFixed(3)}\" @input=${this.hrInput.bind(this)}>\n        </label>`;\n      far = html`<label>\n          <span>False Alarm Rate</span>\n          <input ?disabled=${!this.interactive} type=\"number\" min=\"0\" max=\"1\" step=\".001\" .value=\"${+this.far.toFixed(3)}\" @input=${this.farInput.bind(this)}>\n        </label>`;\n      acc = html`<label>\n          <span>Accuracy</span>\n          <input ?disabled=${!this.interactive} type=\"number\" min=\"0\" max=\"1\" step=\".001\" .value=\"${+this.acc.toFixed(3)}\" @input=${this.accInput.bind(this)}>\n        </label>`;\n      ppv = html`<label>\n          <span>Positive Predictive Value</span>\n          <input ?disabled=${!this.interactive} type=\"number\" min=\"0\" max=\"1\" step=\".001\" .value=\"${+this.ppv.toFixed(3)}\" @input=${this.ppvInput.bind(this)}>\n        </label>`;\n      fomr = html`<label>\n          <span>False Omission Rate</span>\n          <input ?disabled=${!this.interactive} type=\"number\" min=\"0\" max=\"1\" step=\".001\" .value=\"${+this.fomr.toFixed(3)}\" @input=${this.fomrInput.bind(this)}>\n        </label>`;\n    } else {\n      h = html`<span>Hits</span>\n        ${this.payoff ? html`<span class=\"payoff\">${payoffFormatter.format(this.hPayoff)}</span>` : html``}`;\n      m = html`<span>Misses</span>\n        ${this.payoff ? html`<span class=\"payoff\">${payoffFormatter.format(this.mPayoff)}</span>` : html``}`;\n      fa = html`<span>False Alarms</span>\n        ${this.payoff ? html`<span class=\"payoff\">${payoffFormatter.format(this.faPayoff)}</span>` : html``}`;\n      cr = html`<span>Correct Rejections</span>\n        ${this.payoff ? html`<span class=\"payoff\">${payoffFormatter.format(this.crPayoff)}</span>` : html``}`;\n      hr = html`<span>Hit Rate</span>`;\n      far = html`<span>False Alarm Rate</span>`;\n      acc = html`<span>Accuracy</span>`;\n      ppv = html`<span>Positive Predictive Value</span>`;\n      fomr = html`<span>False Omission Rate</span>`;\n    }\n    return html`\n      <table class=${this.numeric ? 'numeric' : ''}>\n        <thead>\n          <tr>\n            <th colspan=\"2\" rowspan=\"2\"></th>\n            <th class=\"th th-main\" colspan=\"2\" scope=\"col\">\n              Response\n            </th>\n          </tr>\n          <tr>\n            <th class=\"th th-sub\" scope=\"col\">\n              \"Present\"\n            </th>\n            <th class=\"th th-sub\" scope=\"col\">\n              \"Absent\"\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <th class=\"th th-main\" rowspan=\"2\" scope=\"row\">\n              Signal\n            </th>\n            <th class=\"th th-sub th-left\" scope=\"row\">\n              Present\n            </th>\n            <td class=\"td td-data h\">\n              ${h}\n            </td>\n            <td class=\"td td-data m\">\n              ${m}\n            </td>\n            ${(this.summary.has('stimulusRates'))\n              ? html`\n                <td class=\"td td-summary hr\">\n                  ${hr}\n                </td>`\n              : html``}\n          </tr>\n          <tr>\n            <th class=\"th th-sub th-left\" scope=\"row\">\n              Absent\n            </th>\n            <td class=\"td td-data fa\">\n              ${fa}\n            </td>\n            <td class=\"td td-data cr\">\n              ${cr}\n            </td>\n            ${(this.summary.has('stimulusRates'))\n              ? html`\n                <td class=\"td td-summary far\">\n                  ${far}\n                </td>`\n              : html``}\n          </tr>\n          ${(this.summary.has('responseRates') || this.summary.has('accuracy'))\n            ? html`\n              <tr>\n                <td colspan=\"2\"></td>\n                ${(this.summary.has('responseRates'))\n                  ? html`\n                    <td class=\"td td-summary ppv\">\n                      ${ppv}\n                    </td>\n                    <td class=\"td td-summary fomr\">\n                      ${fomr}\n                    </td>`\n                  : html`\n                    <td colspan=\"2\"></td>`}\n                ${(this.summary.has('accuracy'))\n                  ? html`\n                    <td class=\"td td-summary acc\" rowspan=\"2\">\n                      ${acc}\n                    </td>`\n                  : html``}\n              </tr>`\n            : html``}\n        </tbody>\n      </table>`;\n  }\n}\n\ncustomElements.define('sdt-table', SDTTable);\n"],"file":"sdt-table.js"}