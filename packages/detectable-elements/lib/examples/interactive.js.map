{"version":3,"sources":["examples/interactive.js"],"names":["SDTExampleInteractive","sdtControl","querySelector","sdtTable","rocSpace","sdtModel","rocSpaces","querySelectorAll","hasAttribute","addEventListener","event","color","detail","length","forEach","zRoc","hr","SDTExample","hm2hr","h","m","far","facr2far","fa","cr","d","hrfar2d","s","c","hrfar2c","newh","Math","round","newm","newfa","newcr","setWithSDT","customElements","define"],"mappings":"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","sourcesContent":["\nimport SDTExample from './sdt-example';\n\n/*\n  SDTExample_Interactive element\n  <sdt-example-interactive>\n*/\nexport default class SDTExampleInteractive extends SDTExample {\n  firstUpdated(/* changedProperties */) {\n    this.sdtControl = this.querySelector('sdt-control');\n    this.sdtTable = this.querySelector('sdt-table');\n    this.rocSpace = this.querySelector('roc-space');\n    this.sdtModel = this.querySelector('sdt-model');\n\n    this.rocSpaces = this.querySelectorAll('roc-space');\n\n    if (this.sdtControl && this.sdtControl.hasAttribute('color')) {\n      this.sdtControl.addEventListener('sdt-control-color', (event) => {\n        if (this.sdtModel) {\n          this.sdtModel.color = event.detail.color;\n        }\n\n        if (this.sdtTable) {\n          this.sdtTable.color = event.detail.color;\n        }\n      });\n    }\n\n    if (this.sdtControl) {\n      this.sdtControl.addEventListener('sdt-control-z-roc', (event) => {\n        if (this.rocSpaces.length > 0) {\n          this.rocSpaces.forEach((rocSpace) => {\n            rocSpace.zRoc = event.detail.zRoc;\n          });\n        }\n      });\n    }\n\n    if (this.sdtTable) {\n      if (this.rocSpace) {\n        this.rocSpace.hr = SDTExample.hm2hr(this.sdtTable.h, this.sdtTable.m);\n        this.rocSpace.far = SDTExample.facr2far(this.sdtTable.fa, this.sdtTable.cr);\n      }\n\n      if (this.sdtModel) {\n        this.sdtModel.d = SDTExample.hrfar2d(\n          SDTExample.hm2hr(this.sdtTable.h, this.sdtTable.m),\n          SDTExample.facr2far(this.sdtTable.fa, this.sdtTable.cr),\n          this.sdtModel.s,\n        );\n        this.sdtModel.c = SDTExample.hrfar2c(\n          SDTExample.hm2hr(this.sdtTable.h, this.sdtTable.m),\n          SDTExample.facr2far(this.sdtTable.fa, this.sdtTable.cr),\n          this.sdtModel.s,\n        );\n      }\n\n      this.sdtTable.addEventListener('sdt-table-change', (event) => {\n        if (this.rocSpace) {\n          this.rocSpace.far = event.detail.far;\n          this.rocSpace.hr = event.detail.hr;\n        }\n\n        if (this.sdtModel) {\n          this.sdtModel.d = SDTExample.hrfar2d(event.detail.hr, event.detail.far, this.sdtModel.s);\n          this.sdtModel.c = SDTExample.hrfar2c(event.detail.hr, event.detail.far, this.sdtModel.s);\n        }\n      });\n    }\n\n    if (this.rocSpace) {\n      if (this.sdtModel && !this.sdtTable) {\n        this.sdtModel.d = SDTExample.hrfar2d(this.rocSpace.hr, this.rocSpace.far, this.rocSpace.s);\n        this.sdtModel.c = SDTExample.hrfar2c(this.rocSpace.hr, this.rocSpace.far, this.rocSpace.s);\n        this.sdtModel.s = this.rocSpace.s;\n      }\n\n      this.rocSpace.addEventListener('roc-point-change', (event) => {\n        if (this.sdtModel) {\n          this.sdtModel.d = event.detail.d;\n          this.sdtModel.c = event.detail.c;\n          this.sdtModel.s = event.detail.s;\n        }\n\n        if (this.sdtTable) {\n          const newh = Math.round((this.sdtTable.h + this.sdtTable.m) * event.detail.hr);\n          const newm = (this.sdtTable.h + this.sdtTable.m) - newh;\n          const newfa = Math.round((this.sdtTable.fa + this.sdtTable.cr) * event.detail.far);\n          const newcr = (this.sdtTable.fa + this.sdtTable.cr) - newfa;\n          this.sdtTable.h = newh;\n          this.sdtTable.m = newm;\n          this.sdtTable.fa = newfa;\n          this.sdtTable.cr = newcr;\n        }\n      });\n    }\n\n    if (this.sdtModel) {\n      this.sdtModel.addEventListener('sdt-model-change', (event) => {\n        if (this.rocSpaces.length > 0) {\n          this.rocSpaces.forEach((rocSpace) => {\n            rocSpace.setWithSDT(event.detail.d, event.detail.c, 'default', '', event.detail.s);\n          });\n        }\n\n        if (this.sdtTable) {\n          const newh = Math.round((this.sdtTable.h + this.sdtTable.m) * event.detail.hr);\n          const newm = (this.sdtTable.h + this.sdtTable.m) - newh;\n          const newfa = Math.round((this.sdtTable.fa + this.sdtTable.cr) * event.detail.far);\n          const newcr = (this.sdtTable.fa + this.sdtTable.cr) - newfa;\n          this.sdtTable.h = newh;\n          this.sdtTable.m = newm;\n          this.sdtTable.fa = newfa;\n          this.sdtTable.cr = newcr;\n        }\n      });\n    }\n  }\n}\n\ncustomElements.define('sdt-example-interactive', SDTExampleInteractive);\n"],"file":"interactive.js"}