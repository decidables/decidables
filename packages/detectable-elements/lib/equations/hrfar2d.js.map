{"version":3,"sources":["equations/hrfar2d.js"],"names":["SDTEquationHrFar2D","unequal","attribute","type","Boolean","reflect","hr","Number","far","s","d","alignState","SDTMath","hrFar2D","dispatchEvent","CustomEvent","detail","bubbles","event","parseFloat","target","value","sendEvent","numeric","html","interactive","hrInput","bind","farInput","sInput","toFixed","equation","SDTEquation","customElements","define"],"mappings":"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","sourcesContent":["\nimport {html} from 'lit-element';\n\nimport SDTMath from '@decidable/detectable-math';\n\nimport SDTEquation from './sdt-equation';\n\n/*\n  SDTEquationHrFar2D element\n  <sdt-equation-hrfar2d>\n\n  Attributes:\n  Hit Rate; False Alarm Rate; d';\n*/\nexport default class SDTEquationHrFar2D extends SDTEquation {\n  static get properties() {\n    return {\n      unequal: {\n        attribute: 'unequal',\n        type: Boolean,\n        reflect: true,\n      },\n      hr: {\n        attribute: 'hit-rate',\n        type: Number,\n        reflect: true,\n      },\n      far: {\n        attribute: 'false-alarm-rate',\n        type: Number,\n        reflect: true,\n      },\n      s: {\n        attribute: 's',\n        type: Number,\n        reflect: true,\n      },\n\n      d: {\n        attribute: false,\n        type: Number,\n        reflect: false,\n      },\n    };\n  }\n\n  constructor() {\n    super();\n    this.unequal = false;\n    this.hr = 0;\n    this.far = 0;\n    this.s = 1;\n    this.alignState();\n  }\n\n  alignState() {\n    this.d = SDTMath.hrFar2D(this.hr, this.far, this.s);\n  }\n\n  sendEvent() {\n    this.dispatchEvent(new CustomEvent('sdt-equation-hrfar2d-change', {\n      detail: {\n        hr: this.hr,\n        far: this.far,\n        s: this.s,\n        d: this.d,\n      },\n      bubbles: true,\n    }));\n  }\n\n  hrInput(event) {\n    this.hr = parseFloat(event.target.value);\n    this.alignState();\n    this.sendEvent();\n  }\n\n  farInput(event) {\n    this.far = parseFloat(event.target.value);\n    this.alignState();\n    this.sendEvent();\n  }\n\n  sInput(event) {\n    this.s = parseFloat(event.target.value);\n    this.alignState();\n    this.sendEvent();\n  }\n\n  render() {\n    this.alignState();\n    let hr;\n    let far;\n    let s;\n    let d;\n    if (this.numeric) {\n      hr = html`\n        <decidable-spinner class=\"hr bottom\" ?disabled=${!this.interactive} min=\"0\" max=\"1\" step=\".001\" .value=\"${this.hr}\" @input=${this.hrInput.bind(this)}>\n          <var>Hit Rate</var>\n        </decidable-spinner>\n      `;\n      far = html`\n        <decidable-spinner class=\"far bottom\" ?disabled=${!this.interactive} min=\"0\" max=\"1\" step=\".001\" .value=\"${this.far}\" @input=${this.farInput.bind(this)}>\n          <var>False Alarm Rate</var>\n        </decidable-spinner>\n      `;\n      s = html`\n        <decidable-spinner class=\"s bottom\" ?disabled=${!this.interactive} min=\"0\" step=\".001\" .value=\"${this.s}\" @input=${this.sInput.bind(this)}>\n          <var class=\"math-var\">σ</var>\n        </decidable-spinner>\n      `;\n      d = html`\n        <decidable-spinner class=\"d bottom\" disabled step=\".001\" .value=\"${+this.d.toFixed(3)}\">\n          <var class=\"math-var\">d′</var>\n        </decidable-spinner>\n      `;\n    } else {\n      hr = html`<var class=\"hr\">Hit Rate</var>`;\n      far = html`<var class=\"far\">False Alarm Rate</var>`;\n      s = html`<var class=\"math-var s\">σ</var>`;\n      d = html`<var class=\"math-var d\">d′</var>`;\n    }\n    let equation;\n    if (this.unequal) {\n      equation = html`\n        <tr>\n          <td rowspan=\"2\">\n            ${d}<span class=\"equals\">=</span><span class=\"bracket tight\">(</span>\n          </td>\n          <td class=\"underline bottom\">\n            <span>1</span><span class=\"plus tight\">+</span><span>${s}<sup class=\"exp\">2</sup></span>\n          </td>\n          <td rowspan=\"2\">\n            <span class=\"bracket tight\">)<sup class=\"exp\">−½</sup></span><span class=\"bracket\">[</span>${s}<span class=\"tight\"><var class=\"math-greek phi tight\">Φ</var><sup class=\"exp\">−1</sup></span><span class=\"paren tight\">(</span>${hr}<span class=\"paren tight\">)</span><span class=\"minus\">−</span><span class=\"tight\"><var class=\"math-greek phi tight\">Φ</var><sup class=\"exp\">−1</sup></span><span class=\"paren tight\">(</span>${far}<span class=\"paren tight\">)</span><span class=\"bracket\">]</span>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <span>2</span>\n          </td>\n        </tr>`;\n    } else {\n      equation = html`\n        <tr>\n          <td>\n              ${d}<span class=\"equals\">=</span><span class=\"tight\"><var class=\"math-greek phi tight\">Φ</var><sup class=\"exp\">−1</sup></span><span class=\"paren tight\">(</span>${hr}<span class=\"paren tight\">)</span><span class=\"minus\">−</span><span class=\"tight\"><var class=\"math-greek phi tight\">Φ</var><sup class=\"exp\">−1</sup></span><span class=\"paren tight\">(</span>${far}<span class=\"paren tight\">)</span>\n          </td>\n        </tr>`;\n    }\n    return html`\n      <div class=\"holder\">\n        <table class=\"equation\">\n          <tbody>\n            ${equation}\n          </tbody>\n        </table>\n      </div>`;\n  }\n}\n\ncustomElements.define('sdt-equation-hrfar2d', SDTEquationHrFar2D);\n"],"file":"hrfar2d.js"}