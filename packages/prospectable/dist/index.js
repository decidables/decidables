!function r(i,o,a){function s(e,t){if(!o[e]){if(!i[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);throw(n=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",n}n=o[e]={exports:{}},i[e][0].call(n.exports,function(t){return s(i[e][1][t]||t)},n,n.exports,r,i,o,a)}return o[e].exports}for(var l="function"==typeof require&&require,t=0;t<a.length;t++)s(a[t]);return s}({1:[function(t,e,n){"use strict";e.exports=function(t){var e=(t=t||{}).eye||[0,0,1],n=t.center||[0,0,0],r=t.up||[0,1,0],i=t.distanceLimits||[0,1/0],o=t.mode||"turntable",a=l(),s=u(),t=c();return a.setDistanceLimits(i[0],i[1]),a.lookAt(0,e,n,r),s.setDistanceLimits(i[0],i[1]),s.lookAt(0,e,n,r),t.setDistanceLimits(i[0],i[1]),t.lookAt(0,e,n,r),new f({turntable:a,orbit:s,matrix:t},o)};var l=t("turntable-camera-controller"),u=t("orbit-camera-controller"),c=t("matrix-camera-controller");function f(e,t){this._controllerNames=Object.keys(e),this._controllerList=this._controllerNames.map(function(t){return e[t]}),this._mode=t,this._active=e[t],this._active||(this._mode="turntable",this._active=e.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var o=f.prototype;[["flush",1],["idle",1],["lookAt",4],["rotate",4],["pan",4],["translate",4],["setMatrix",2],["setDistanceLimits",2],["setDistance",2]].forEach(function(t){for(var e=t[0],n=[],r=0;r<t[1];++r)n.push("a"+r);var i="var cc=this._controllerList;for(var i=0;i<cc.length;++i){cc[i]."+t[0]+"("+n.join()+")}";o[e]=Function.apply(null,n.concat(i))}),o.recalcMatrix=function(t){this._active.recalcMatrix(t)},o.getDistance=function(t){return this._active.getDistance(t)},o.getDistanceLimits=function(t){return this._active.getDistanceLimits(t)},o.lastT=function(){return this._active.lastT()},o.setMode=function(t){var e,n,r;t!==this._mode&&((r=this._controllerNames.indexOf(t))<0||(e=this._active,n=this._controllerList[r],r=Math.max(e.lastT(),n.lastT()),e.recalcMatrix(r),n.setMatrix(r,e.computedMatrix),this._active=n,this._mode=t,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius))},o.getMode=function(){return this._mode}},{"matrix-camera-controller":595,"orbit-camera-controller":610,"turntable-camera-controller":1008}],2:[function(t,e,n){"use strict";var r;void 0===window.Reflect||void 0===window.customElements||window.customElements.polyfillWrapFlushCallback||(r=HTMLElement,window.HTMLElement=function(){return Reflect.construct(r,[],this.constructor)},HTMLElement.prototype=r.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,r))},{}],3:[function(t,e,n){(function(Ma,Aa){(function(){"use strict";function Ta(t){return(Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}(function(){function n(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},e=("undefined"==typeof window||window!==this)&&void 0!==Ma&&null!=Ma?Ma:this;function i(){i=function(){},e.Symbol||(e.Symbol=s)}function o(t,e){this.a=t,r(this,"description",{configurable:!0,writable:!0,value:e})}o.prototype.toString=function(){return this.a};var a,t,s=(a=0,function t(e){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new o("jscomp_symbol_"+(e||"")+"_"+a++,e)});function l(){i();var t=(t=e.Symbol.iterator)||(e.Symbol.iterator=e.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[t]&&r(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return t=n(this),l(),(t={next:t})[e.Symbol.iterator]=function(){return this},t;var t}}),l=function(){}}function u(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:n(t)}}function c(t){if(!(t instanceof Array)){t=u(t);for(var e,n=[];!(e=t.next()).done;)n.push(e.value);t=n}return t}if("function"==typeof Object.setPrototypeOf)At=Object.setPrototypeOf;else{t:{var f={};try{f.__proto__={Pa:!0},t=f.Pa;break t}catch(t){}t=!1}At=t?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var h=At;function d(){this.l=!1,this.b=null,this.Ea=void 0,this.a=1,this.Y=0,this.c=null}function p(t){if(t.l)throw new TypeError("Generator is already running");t.l=!0}function g(t,e){t.c={Sa:e,Wa:!0},t.a=t.Y}function m(t,e){return t.a=3,{value:e}}function y(t){this.a=new d,this.b=t}function v(e,t,n,r){try{var i=t.call(e.a.b,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.a.l=!1,i;var o=i.value}catch(t){return e.a.b=null,g(e.a,t),b(e)}return e.a.b=null,r.call(e.a,o),b(e)}function b(e){for(;e.a.a;)try{var t=e.b(e.a);if(t)return e.a.l=!1,{value:t.value,done:!1}}catch(t){e.a.Ea=void 0,g(e.a,t)}if(e.a.l=!1,e.a.c){if(t=e.a.c,e.a.c=null,t.Wa)throw t.Sa;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function x(e){this.next=function(t){return p(e.a),t=e.a.b?v(e,e.a.b.next,t,e.a.J):(e.a.J(t),b(e))},this.throw=function(t){return p(e.a),t=e.a.b?v(e,e.a.b.throw,t,e.a.J):(g(e.a,t),b(e))},this.return=function(t){return function(t,e){p(t.a);var n=t.a.b;return n?v(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.a.return):(t.a.return(e),b(t))}(e,t)},l(),this[Symbol.iterator]=function(){return this}}function _(t,e){return e=new x(new y(e)),h&&h(e,t.prototype),e}d.prototype.J=function(t){this.Ea=t},d.prototype.return=function(t){this.c={return:t},this.a=this.Y},Array.from||(Array.from=function(t){return[].slice.call(t)}),Object.assign||(Object.assign=function(t){for(var e,n=[].slice.call(arguments,1),r=0;r<n.length;r++)if(e=n[r])for(var i=t,o=Object.keys(e),a=0;a<o.length;a++){var s=o[a];i[s]=e[s]}return t});var w=setTimeout;function k(){}function T(t){if(!(this instanceof T))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this.I=0,this.za=!1,this.C=void 0,this.W=[],O(t,this)}function M(n,r){for(;3===n.I;)n=n.C;0===n.I?n.W.push(r):(n.za=!0,U(function(){var t=1===n.I?r.Ya:r.Za;if(null===t)(1===n.I?A:S)(r.va,n.C);else{try{var e=t(n.C)}catch(t){return void S(r.va,t)}A(r.va,e)}}))}function A(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===Ta(t)||"function"==typeof t)){var n=t.then;if(t instanceof T)return e.I=3,e.C=t,void E(e);if("function"==typeof n)return void O((r=n,i=t,function(){r.apply(i,arguments)}),e)}e.I=1,e.C=t,E(e)}catch(t){S(e,t)}var r,i}function S(t,e){t.I=2,t.C=e,E(t)}function E(t){2===t.I&&0===t.W.length&&U(function(){t.za||"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t.C)});for(var e=0,n=t.W.length;e<n;e++)M(t,t.W[e]);t.W=null}function C(t,e,n){this.Ya="function"==typeof t?t:null,this.Za="function"==typeof e?e:null,this.va=n}function O(t,e){var n=!1;try{t(function(t){n||(n=!0,A(e,t))},function(t){n||(n=!0,S(e,t))})}catch(t){n||(n=!0,S(e,t))}}function j(e){return e&&"object"===Ta(e)&&e.constructor===T?e:new T(function(t){t(e)})}T.prototype.catch=function(t){return this.then(null,t)},T.prototype.then=function(t,e){var n=new this.constructor(k);return M(this,new C(t,e,n)),n},T.prototype.finally=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})};var P,N,L,R,D,I,F,z,B,U="function"==typeof Aa?function(t){Aa(t)}:function(t){w(t,0)};function H(){return this}window.Promise||((window.Promise=T).all=function(e){return new T(function(i,o){if(!e||void 0===e.length)return o(new TypeError("Promise.all accepts an array"));var a=Array.prototype.slice.call(e);if(0===a.length)return i([]);for(var s=a.length,t=0;t<a.length;t++)!function e(n,t){try{if(t&&("object"===Ta(t)||"function"==typeof t)){var r=t.then;if("function"==typeof r)return void r.call(t,function(t){e(n,t)},o)}a[n]=t,0==--s&&i(a)}catch(t){o(t)}}(t,a[t])})},T.race=function(i){return new T(function(t,e){if(!i||void 0===i.length)return e(new TypeError("Promise.race accepts an array"));for(var n=0,r=i.length;n<r;n++)j(i[n]).then(t,e)})},T.resolve=j,T.reject=function(n){return new T(function(t,e){e(n)})},P=document.createTextNode(""),N=[],new MutationObserver(function(){for(var t=N.length,e=0;e<t;e++)N[e]();N.splice(0,t)}).observe(P,{characterData:!0}),U=function(t){N.push(t),P.textContent=0<P.textContent.length?"":"a"}),function(t,e){if(!(e in t)){var n=(void 0===Ma?"undefined":Ta(Ma))===Ta(void 0)?window:Ma,r=0,i=""+Math.random(),o="__symbol@@"+i,a=t.getOwnPropertyNames,s=t.getOwnPropertyDescriptor,l=t.create,u=t.keys,c=t.freeze||t,f=t.defineProperty,h=t.defineProperties,d=s(t,"getOwnPropertyNames"),p=t.prototype,g=p.hasOwnProperty,m=p.propertyIsEnumerable,y=p.toString,v=function(t,e,n){g.call(t,o)||f(t,o,{enumerable:!1,configurable:!1,writable:!1,value:{}}),t[o]["@@"+e]=n},b=function(){},x=function(t){return t!=o&&!g.call(M,t)},_=function(t){return t!=o&&g.call(M,t)},w=function(t){var e=""+t;return _(e)?g.call(this,e)&&this[o]["@@"+e]:m.call(this,t)},k=function(e){return f(p,e,{enumerable:!1,configurable:!0,get:b,set:function(t){O(this,e,{enumerable:!1,configurable:!0,writable:!0,value:t}),v(this,e,!0)}}),c(M[e]=f(t(e),"constructor",A))},T=function t(e){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return k("__symbol:".concat(e||"",i,++r))},M=l(null),A={value:T},S=function(t){return M[t]},E=function(t,e,n){var r,i=""+e;return _(i)?(e=O,n.enumerable?(r=l(n)).enumerable=!1:r=n,e(t,i,r),v(t,i,!!n.enumerable)):f(t,e,n),t},C=function(t){return a(t).filter(_).map(S)};d.value=E,f(t,"defineProperty",d),d.value=C,f(t,e,d),d.value=function(t){return a(t).filter(x)},f(t,"getOwnPropertyNames",d),d.value=function(e,n){var t=C(n);return t.length?u(n).concat(t).forEach(function(t){w.call(n,t)&&E(e,t,n[t])}):h(e,n),e},f(t,"defineProperties",d),d.value=w,f(p,"propertyIsEnumerable",d),d.value=T,f(n,"Symbol",d),d.value=function(t){return(t="__symbol:".concat("__symbol:",t,i))in p?M[t]:k(t)},f(T,"for",d),d.value=function(t){if(x(t))throw new TypeError(t+" is not a symbol");if(g.call(M,t)&&("__symbol:"===(t=t.slice(10)).slice(0,10)&&(t=t.slice(10))!==i))return 0<(t=t.slice(0,t.length-i.length)).length?t:void 0},f(T,"keyFor",d),d.value=function(t,e){var n=s(t,e);return n&&_(e)&&(n.enumerable=w.call(t,e)),n},f(t,"getOwnPropertyDescriptor",d),d.value=function(t,e){return 1===arguments.length||void 0===e?l(t):(n=e,r=l(t),a(n).forEach(function(t){w.call(n,t)&&E(r,t,n[t])}),r);var n,r},f(t,"create",d),d.value=function(){var t=y.call(this);return"[object String]"===t&&_(this)?"[object Symbol]":t},f(p,"toString",d);try{if(!0!==l(f({},"__symbol:",{get:function(){return f(this,"__symbol:",{value:!0})["__symbol:"]}}))["__symbol:"])throw"IE11";var O=f}catch(t){O=function(t,e,n){var r=s(p,e);delete p[e],f(t,e,n),f(p,e,r)}}}}(Object,"getOwnPropertySymbols"),L=Object,R=Symbol,I=L.defineProperty,F=L.prototype,z=F.toString,"iterator match replace search split hasInstance isConcatSpreadable unscopables species toPrimitive toStringTag".split(" ").forEach(function(t){t in R||"toStringTag"===(I(R,t,{value:R(t)}),t)&&((D=L.getOwnPropertyDescriptor(F,"toString")).value=function(){var t=z.call(this),e=null!=this?this[R.toStringTag]:this;return null==e?t:"[object "+e+"]"},I(F,"toString",D))}),B=Symbol.iterator,St=Array.prototype,Et=String.prototype,St[B]||(St[B]=function(){var e=0,n=this,t={next:function(){var t=n.length<=e;return t?{done:t}:{done:t,value:n[e++]}}};return t[B]=H,t}),Et[B]||(Et[B]=function(){var n=String.fromCodePoint,r=this,i=0,o=r.length,t={next:function(){var t=o<=i,e=t?"":n(r.codePointAt(i));return i+=e.length,t?{done:t}:{done:t,value:e}}};return t[B]=H,t});var q=Object.prototype.toString;Object.prototype.toString=function(){return void 0===this?"[object Undefined]":null===this?"[object Null]":q.call(this)},Object.keys=function(e){return Object.getOwnPropertyNames(e).filter(function(t){return(t=Object.getOwnPropertyDescriptor(e,t))&&t.enumerable})},i(),l(),String.prototype[Symbol.iterator]&&String.prototype.codePointAt||(i(),l(),String.prototype[Symbol.iterator]=function t(){var e,n=this;return _(t,function(t){return 1==t.a&&(e=0),3!=t.a?t=e<n.length?m(t,n[e]):void(t.a=0):(e++,void(t.a=2))})}),i(),l(),Set.prototype[Symbol.iterator]||(i(),l(),Set.prototype[Symbol.iterator]=function t(){var e,n,r=this;return _(t,function(t){return 1==t.a&&(e=[],r.forEach(function(t){e.push(t)}),n=0),3!=t.a?t=n<e.length?m(t,e[n]):void(t.a=0):(n++,void(t.a=2))})}),i(),l(),Map.prototype[Symbol.iterator]||(i(),l(),Map.prototype[Symbol.iterator]=function t(){var n,e,r=this;return _(t,function(t){return 1==t.a&&(n=[],r.forEach(function(t,e){n.push([e,t])}),e=0),3!=t.a?t=e<n.length?m(t,n[e]):void(t.a=0):(e++,void(t.a=2))})});var V,G=document.createEvent("Event");G.initEvent("foo",!0,!0),G.preventDefault(),G.defaultPrevented||(V=Event.prototype.preventDefault,Event.prototype.preventDefault=function(){this.cancelable&&(V.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))});var W=/Trident/.test(navigator.userAgent);if(!window.Event||W&&"function"!=typeof window.Event){var Y=window.Event;if(window.Event=function(t,e){e=e||{};var n=document.createEvent("Event");return n.initEvent(t,!!e.bubbles,!!e.cancelable),n},Y){for(var X in Y)window.Event[X]=Y[X];window.Event.prototype=Y.prototype}}if((!window.CustomEvent||W&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.MouseEvent||W&&"function"!=typeof window.MouseEvent){var Z=window.MouseEvent;if(window.MouseEvent=function(t,e){e=e||{};var n=document.createEvent("MouseEvent");return n.initMouseEvent(t,!!e.bubbles,!!e.cancelable,e.view||window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),n},Z)for(var $ in Z)window.MouseEvent[$]=Z[$];window.MouseEvent.prototype=Z.prototype}Object.getOwnPropertyDescriptor(Node.prototype,"baseURI")||Object.defineProperty(Node.prototype,"baseURI",{get:function(){var t=(this.ownerDocument||this).querySelector("base[href]");return t&&t.href||window.location.href},configurable:!0,enumerable:!0});var Q=Element.prototype,K=null!==(Rt=Object.getOwnPropertyDescriptor(Q,"attributes"))&&void 0!==Rt?Rt:Object.getOwnPropertyDescriptor(Node.prototype,"attributes"),J=null!==(Bt=null==K?void 0:K.get)&&void 0!==Bt?Bt:function(){return this.attributes},tt=Array.prototype.map;Q.hasOwnProperty("getAttributeNames")||(Q.getAttributeNames=function(){return tt.call(J.call(this),function(t){return t.name})});var et=Element.prototype;et.hasOwnProperty("matches")||(et.matches=null!==(Ie=et.webkitMatchesSelector)&&void 0!==Ie?Ie:et.msMatchesSelector);var nt=Node.prototype.appendChild;function rt(t){(t=t.prototype).hasOwnProperty("append")||Object.defineProperty(t,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(){for(var t=[],e=0;e<arguments.length;++e)t[e]=arguments[e];for(e=(t=u(t)).next();!e.done;e=t.next())e=e.value,nt.call(this,"string"==typeof e?document.createTextNode(e):e)}})}rt(Document),rt(DocumentFragment),rt(Element);var it=Node.prototype.insertBefore,ot=null!==(Mt=null===(ln=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild"))||void 0===ln?void 0:ln.get)&&void 0!==Mt?Mt:function(){return this.firstChild};function at(t){(t=t.prototype).hasOwnProperty("prepend")||Object.defineProperty(t,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){for(var t=[],e=0;e<arguments.length;++e)t[e]=arguments[e];e=ot.call(this);for(var n=(t=u(t)).next();!n.done;n=t.next())n=n.value,it.call(this,"string"==typeof n?document.createTextNode(n):n,e)}})}at(Document),at(DocumentFragment),at(Element);var st=Node.prototype.appendChild,lt=Node.prototype.removeChild,ut=null!==(St=null===(At=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild"))||void 0===At?void 0:At.get)&&void 0!==St?St:function(){return this.firstChild};function ct(t){(t=t.prototype).hasOwnProperty("replaceChildren")||Object.defineProperty(t,"replaceChildren",{configurable:!0,enumerable:!0,writable:!0,value:function(){for(var t=[],e=0;e<arguments.length;++e)t[e]=arguments[e];for(;null!==(e=ut.call(this));)lt.call(this,e);for(e=(t=u(t)).next();!e.done;e=t.next())e=e.value,st.call(this,"string"==typeof e?document.createTextNode(e):e)}})}ct(Document),ct(DocumentFragment),ct(Element);var ft=Node.prototype.insertBefore,ht=null!==(G=null===(Et=Object.getOwnPropertyDescriptor(Node.prototype,"parentNode"))||void 0===Et?void 0:Et.get)&&void 0!==G?G:function(){return this.parentNode},dt=null!==(Rt=null===(W=Object.getOwnPropertyDescriptor(Node.prototype,"nextSibling"))||void 0===W?void 0:W.get)&&void 0!==Rt?Rt:function(){return this.nextSibling};function pt(t){(t=t.prototype).hasOwnProperty("after")||Object.defineProperty(t,"after",{configurable:!0,enumerable:!0,writable:!0,value:function(){for(var t=[],e=0;e<arguments.length;++e)t[e]=arguments[e];if(null!==(e=ht.call(this)))for(var n=dt.call(this),r=(t=u(t)).next();!r.done;r=t.next())r=r.value,ft.call(e,"string"==typeof r?document.createTextNode(r):r,n)}})}pt(CharacterData),pt(Element);var gt=Node.prototype.insertBefore,mt=null!==(Bt=null===(K=Object.getOwnPropertyDescriptor(Node.prototype,"parentNode"))||void 0===K?void 0:K.get)&&void 0!==Bt?Bt:function(){return this.parentNode};function yt(t){(t=t.prototype).hasOwnProperty("before")||Object.defineProperty(t,"before",{configurable:!0,enumerable:!0,writable:!0,value:function(){for(var t=[],e=0;e<arguments.length;++e)t[e]=arguments[e];if(null!==(e=mt.call(this)))for(var n=(t=u(t)).next();!n.done;n=t.next())n=n.value,gt.call(e,"string"==typeof n?document.createTextNode(n):n,this)}})}yt(CharacterData),yt(Element);var vt=Node.prototype.removeChild,bt=null!==(Ie=null===(Q=Object.getOwnPropertyDescriptor(Node.prototype,"parentNode"))||void 0===Q?void 0:Q.get)&&void 0!==Ie?Ie:function(){return this.parentNode};function xt(t){(t=t.prototype).hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=bt.call(this);t&&vt.call(t,this)}})}xt(CharacterData),xt(Element);var _t=Node.prototype.insertBefore,wt=Node.prototype.removeChild,kt=null!==(ln=null===(et=Object.getOwnPropertyDescriptor(Node.prototype,"parentNode"))||void 0===et?void 0:et.get)&&void 0!==ln?ln:function(){return this.parentNode};function Tt(t){(t=t.prototype).hasOwnProperty("replaceWith")||Object.defineProperty(t,"replaceWith",{configurable:!0,enumerable:!0,writable:!0,value:function(){for(var t=[],e=0;e<arguments.length;++e)t[e]=arguments[e];if(null!==(e=kt.call(this))){for(var n=(t=u(t)).next();!n.done;n=t.next())n=n.value,_t.call(e,"string"==typeof n?document.createTextNode(n):n,this);wt.call(e,this)}}})}Tt(CharacterData),Tt(Element);var Mt=window.Element.prototype,At=window.HTMLElement.prototype,St=window.SVGElement.prototype;!At.hasOwnProperty("classList")||Mt.hasOwnProperty("classList")||St.hasOwnProperty("classList")||Object.defineProperty(Mt,"classList",Object.getOwnPropertyDescriptor(At,"classList"));var Et=document.createElement("style");Et.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";G=document.querySelector("head");G.insertBefore(Et,G.firstChild);W=window;W.WebComponents=W.WebComponents||{flags:{}};var Ct=document.querySelector('script[src*="webcomponents-bundle"]'),Ot=/wc-(.+)/,jt={};if(!jt.noOpts){if(location.search.slice(1).split("&").forEach(function(t){var e;(t=t.split("="))[0]&&(e=t[0].match(Ot))&&(jt[e[1]]=t[1]||!0)}),Ct)for(var Pt,Nt=0;Pt=Ct.attributes[Nt];Nt++)"src"!==Pt.name&&(jt[Pt.name]=Pt.value||!0);var Lt={};jt.log&&jt.log.split&&jt.log.split(",").forEach(function(t){Lt[t]=!0}),jt.log=Lt}var Rt=(W.WebComponents.flags=jt).shadydom;Rt&&(W.ShadyDOM=W.ShadyDOM||{},W.ShadyDOM.force=Rt,kn=jt.noPatch,W.ShadyDOM.noPatch="true"===kn||kn);K=jt.register||jt.ce;function Dt(){}function It(t){return t.__shady||(t.__shady=new Dt),t.__shady}function Ft(t){return t&&t.__shady}K&&window.customElements&&(W.customElements.forcePolyfill=K),function(){function l(){}function u(t,e){if(!t.childNodes.length)return[];switch(t.nodeType){case Node.DOCUMENT_NODE:return P.call(t,e);case Node.DOCUMENT_FRAGMENT_NODE:return N.call(t,e);default:return j.call(t,e)}}var n="undefined"==typeof HTMLTemplateElement,r=!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment),c=!1;/Trident/.test(navigator.userAgent)&&function(){function n(t,e){if(t instanceof DocumentFragment)for(var n;n=t.firstChild;)r.call(this,n,e);else r.call(this,t,e);return t}c=!0;var e=Node.prototype.cloneNode;Node.prototype.cloneNode=function(t){return t=e.call(this,t),this instanceof DocumentFragment&&(t.__proto__=DocumentFragment.prototype),t},DocumentFragment.prototype.querySelectorAll=HTMLElement.prototype.querySelectorAll,DocumentFragment.prototype.querySelector=HTMLElement.prototype.querySelector,Object.defineProperties(DocumentFragment.prototype,{nodeType:{get:function(){return Node.DOCUMENT_FRAGMENT_NODE},configurable:!0},localName:{get:function(){},configurable:!0},nodeName:{get:function(){return"#document-fragment"},configurable:!0}});var r=Node.prototype.insertBefore;Node.prototype.insertBefore=n;var i=Node.prototype.appendChild;Node.prototype.appendChild=function(t){return t instanceof DocumentFragment?n.call(this,t,null):i.call(this,t),t};var o=Node.prototype.removeChild,a=Node.prototype.replaceChild;Node.prototype.replaceChild=function(t,e){return t instanceof DocumentFragment?(n.call(this,t,e),o.call(this,e)):a.call(this,t,e),e},Document.prototype.createDocumentFragment=function(){var t=this.createElement("df");return t.__proto__=DocumentFragment.prototype,t};var s=Document.prototype.importNode;Document.prototype.importNode=function(t,e){return e=s.call(this,t,e||!1),t instanceof DocumentFragment&&(e.__proto__=DocumentFragment.prototype),e}}();var i,o,t,a,s,f,h,g,m,y,e,v,b,d,p,x,_,w=Node.prototype.cloneNode,k=Document.prototype.createElement,T=Document.prototype.importNode,M=Node.prototype.removeChild,A=Node.prototype.appendChild,S=Node.prototype.replaceChild,E=DOMParser.prototype.parseFromString,C=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML")||{get:function(){return this.innerHTML},set:function(t){this.innerHTML=t}},O=Object.getOwnPropertyDescriptor(window.Node.prototype,"childNodes")||{get:function(){return this.childNodes}},j=Element.prototype.querySelectorAll,P=Document.prototype.querySelectorAll,N=DocumentFragment.prototype.querySelectorAll,L=function(){if(!n){var t=document.createElement("template"),e=document.createElement("template");return e.content.appendChild(document.createElement("div")),t.content.appendChild(e),0===(t=t.cloneNode(!0)).content.childNodes.length||0===t.content.firstChild.content.childNodes.length||r}}();n&&(i=document.implementation.createHTMLDocument("template"),o=!0,(e=document.createElement("style")).textContent="template{display:none;}",(t=document.head).insertBefore(e,t.firstElementChild),l.prototype=Object.create(HTMLElement.prototype),a=!document.createElement("div").hasOwnProperty("innerHTML"),l.U=function(t){if(!t.content&&t.namespaceURI===document.documentElement.namespaceURI){t.content=i.createDocumentFragment();for(var e;e=t.firstChild;)A.call(t.content,e);if(a)t.__proto__=l.prototype;else if(t.cloneNode=function(t){return l.b(this,t)},o)try{f(t),h(t)}catch(t){o=!1}l.a(t.content)}},s={option:["select"],thead:["table"],col:["colgroup","table"],tr:["tbody","table"],th:["tr","tbody","table"],td:["tr","tbody","table"]},h=function(t){Object.defineProperty(t,"outerHTML",{get:function(){return"<template>"+this.innerHTML+"</template>"},set:function(t){if(!this.parentNode)throw Error("Failed to set the 'outerHTML' property on 'Element': This element has no parent node.");for(i.body.innerHTML=t,t=this.ownerDocument.createDocumentFragment();i.body.firstChild;)A.call(t,i.body.firstChild);S.call(this.parentNode,t,this)},configurable:!0})},(f=function(t){Object.defineProperty(t,"innerHTML",{get:function(){return d(this)},set:function(t){var e=s[(/<([a-z][^/\0>\x20\t\r\n\f]+)/i.exec(t)||["",""])[1].toLowerCase()];if(e)for(var n=0;n<e.length;n++)t="<"+e[n]+">"+t+"</"+e[n]+">";for(i.body.innerHTML=t,l.a(i);this.content.firstChild;)M.call(this.content,this.content.firstChild);if(t=i.body,e)for(n=0;n<e.length;n++)t=t.lastChild;for(;t.firstChild;)A.call(this.content,t.firstChild)},configurable:!0})})(l.prototype),h(l.prototype),l.a=function(t){for(var e,n=0,r=(t=u(t,"template")).length;n<r&&(e=t[n]);n++)l.U(e)},document.addEventListener("DOMContentLoaded",function(){l.a(document)}),Document.prototype.createElement=function(){var t=k.apply(this,arguments);return"template"===t.localName&&l.U(t),t},DOMParser.prototype.parseFromString=function(){var t=E.apply(this,arguments);return l.a(t),t},Object.defineProperty(HTMLElement.prototype,"innerHTML",{get:function(){return d(this)},set:function(t){C.set.call(this,t),l.a(this)},configurable:!0,enumerable:!0}),g=/[&\u00A0"]/g,m=/[&\u00A0<>]/g,y=function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case" ":return"&nbsp;"}},v=(e=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e})("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),b=e("style script xmp iframe noembed noframes plaintext noscript".split(" ")),d=function t(e,n){"template"===e.localName&&(e=e.content);for(var r,i="",o=n?n(e):O.get.call(e),a=0,s=o.length;a<s&&(r=o[a]);a++){t:{var l=r,u=e,c=n;switch(l.nodeType){case Node.ELEMENT_NODE:for(var f=l.localName,h="<"+f,d=l.attributes,p=0;u=d[p];p++)h+=" "+u.name+'="'+u.value.replace(g,y)+'"';h+=">",l=v[f]?h:h+t(l,c)+"</"+f+">";break t;case Node.TEXT_NODE:l=l.data,l=u&&b[u.localName]?l:l.replace(m,y);break t;case Node.COMMENT_NODE:l="\x3c!--"+l.data+"--\x3e";break t;default:throw window.console.error(l),Error("not implemented")}}i+=l}return i}),(n||L)&&(l.b=function(t,e){var n=w.call(t,!1);return this.U&&this.U(n),e&&(A.call(n.content,w.call(t.content,!0)),p(n.content,t.content)),n},p=function(t,e){if(e.querySelectorAll&&0!==(e=u(e,"template")).length)for(var n,r,i=0,o=(t=u(t,"template")).length;i<o;i++)r=e[i],n=t[i],l.U&&l.U(r),S.call(n.parentNode,x.call(r,!0),n)},x=Node.prototype.cloneNode=function(t){if(!c&&r&&this instanceof DocumentFragment){if(!t)return this.ownerDocument.createDocumentFragment();var e=_.call(this.ownerDocument,this,!0)}else e=this.nodeType===Node.ELEMENT_NODE&&"template"===this.localName&&this.namespaceURI==document.documentElement.namespaceURI?l.b(this,t):w.call(this,t);return t&&p(e,this),e},_=Document.prototype.importNode=function(t,e){if(e=e||!1,"template"===t.localName)return l.b(t,e);var n=T.call(this,t,e);if(e){p(n,t),t=u(n,'script:not([type]),script[type="application/javascript"],script[type="text/javascript"]');for(var r,i=0;i<t.length;i++){r=t[i],(e=k.call(document,"script")).textContent=r.textContent;for(var o,a=r.attributes,s=0;s<a.length;s++)o=a[s],e.setAttribute(o.name,o.value);S.call(r.parentNode,e,r)}}return n}),n&&(window.HTMLTemplateElement=l)}(),Dt.prototype.toJSON=function(){return{}};var zt=window.ShadyDOM||{};zt.Ua=!(!Element.prototype.attachShadow||!Node.prototype.getRootNode);var Bt=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild");function Ut(t){return(t=Ft(t))&&void 0!==t.firstChild}function Ht(t){return t instanceof ShadowRoot}function qt(t){return(t=(t=Ft(t))&&t.root)&&cr(t)}zt.B=!!(Bt&&Bt.configurable&&Bt.get),zt.sa=zt.force||!zt.Ua,zt.D=zt.noPatch||!1,zt.aa=zt.preferPerformance,zt.ua="on-demand"===zt.D,zt.Ia=navigator.userAgent.match("Trident");var Q=Element.prototype,Vt=Q.matches||Q.matchesSelector||Q.mozMatchesSelector||Q.msMatchesSelector||Q.oMatchesSelector||Q.webkitMatchesSelector,Gt=document.createTextNode(""),Wt=0,Yt=[];function Xt(t){Yt.push(t),Gt.textContent=Wt++}new MutationObserver(function(){for(;Yt.length;)try{Yt.shift()()}catch(t){throw Gt.textContent=Wt++,t}}).observe(Gt,{characterData:!0});var Zt=document.contains?function(t,e){return t.__shady_native_contains(e)}:function(t,e){return t===e||t.documentElement&&t.documentElement.__shady_native_contains(e)};function $t(t,e){for(;e;){if(e==t)return!0;e=e.__shady_parentNode}return!1}function Qt(r){for(var t=r.length-1;0<=t;t--){var e=r[t],n=e.getAttribute("id")||e.getAttribute("name");n&&"length"!==n&&isNaN(n)&&(r[n]=e)}return r.item=function(t){return r[t]},r.namedItem=function(t){if("length"!==t&&isNaN(t)&&r[t])return r[t];for(var e=u(r),n=e.next();!n.done;n=e.next())if(((n=n.value).getAttribute("id")||n.getAttribute("name"))==t)return n;return null},r}function Kt(t){var e=[];for(t=t.__shady_native_firstChild;t;t=t.__shady_native_nextSibling)e.push(t);return e}function Jt(t){var e=[];for(t=t.__shady_firstChild;t;t=t.__shady_nextSibling)e.push(t);return e}function te(t,e,n){if(n.configurable=!0,n.value)t[e]=n.value;else try{Object.defineProperty(t,e,n)}catch(t){}}function ee(t,e,n,r){for(var i in n=void 0===n?"":n,e)r&&0<=r.indexOf(i)||te(t,n+i,e[i])}function ne(t,e){for(var n in e)n in t&&te(t,n,e[n])}function re(e){var n={};return Object.getOwnPropertyNames(e).forEach(function(t){n[t]=Object.getOwnPropertyDescriptor(e,t)}),n}function ie(t,e){for(var n,r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++)t[n=r[i]]=e[n]}function oe(t){return t instanceof Node?t:document.createTextNode(""+t)}function ae(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];if(1===e.length)return oe(e[0]);n=document.createDocumentFragment();for(var r=(e=u(e)).next();!r.done;r=e.next())n.appendChild(oe(r.value));return n}var se,le=[];function ue(t){se||(se=!0,Xt(ce)),le.push(t)}function ce(){se=!1;for(var t=!!le.length;le.length;)le.shift()();return t}function fe(){this.a=!1,this.addedNodes=[],this.removedNodes=[],this.ja=new Set}ce.list=le,fe.prototype.flush=function(){var e;this.a&&(this.a=!1,(e=this.takeRecords()).length&&this.ja.forEach(function(t){t(e)}))},fe.prototype.takeRecords=function(){if(this.addedNodes.length||this.removedNodes.length){var t=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];return this.addedNodes=[],this.removedNodes=[],t}return[]};var he=/[&\u00A0"]/g,de=/[&\u00A0<>]/g;function pe(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case" ":return"&nbsp;"}}function ge(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e}var me=ge("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),ye=ge("style script xmp iframe noembed noframes plaintext noscript".split(" "));function ve(t,e){"template"===t.localName&&(t=t.content);for(var n="",r=e?e(t):t.childNodes,i=0,o=r.length,a=void 0;i<o&&(a=r[i]);i++){t:{var s=a,l=t,u=e;switch(s.nodeType){case Node.ELEMENT_NODE:for(var c,f="<"+(l=s.localName),h=s.attributes,d=0;c=h[d];d++)f+=" "+c.name+'="'+c.value.replace(he,pe)+'"';f+=">",s=me[l]?f:f+ve(s,u)+"</"+l+">";break t;case Node.TEXT_NODE:s=s.data,s=l&&ye[l.localName]?s:s.replace(de,pe);break t;case Node.COMMENT_NODE:s="\x3c!--"+s.data+"--\x3e";break t;default:throw window.console.error(s),Error("not implemented")}}n+=s}return n}var be=zt.B,xe={querySelector:function(t){return this.__shady_native_querySelector(t)},querySelectorAll:function(t){return this.__shady_native_querySelectorAll(t)}},_e={};function we(e){_e[e]=function(t){return t["__shady_native_"+e]}}function ke(t,e){for(var n in ee(t,e,"__shady_native_"),e)we(n)}function Te(t,e){e=void 0===e?[]:e;for(var n=0;n<e.length;n++){var r=e[n],i=Object.getOwnPropertyDescriptor(t,r);i&&(Object.defineProperty(t,"__shady_native_"+r,i),i.value?xe[r]||(xe[r]=i.value):we(r))}}var Me=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),Ae=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1),Se=document.implementation.createHTMLDocument("inert");function Ee(t){for(var e;e=t.__shady_native_firstChild;)t.__shady_native_removeChild(e)}var Ce=["firstElementChild","lastElementChild","children","childElementCount"],Oe=["querySelector","querySelectorAll","append","prepend","replaceChildren"];var je=re({get childNodes(){return this.__shady_childNodes},get firstChild(){return this.__shady_firstChild},get lastChild(){return this.__shady_lastChild},get childElementCount(){return this.__shady_childElementCount},get children(){return this.__shady_children},get firstElementChild(){return this.__shady_firstElementChild},get lastElementChild(){return this.__shady_lastElementChild},get shadowRoot(){return this.__shady_shadowRoot}}),Pe=re({get textContent(){return this.__shady_textContent},set textContent(t){this.__shady_textContent=t},get innerHTML(){return this.__shady_innerHTML},set innerHTML(t){return this.__shady_innerHTML=t}}),Ne=re({get parentElement(){return this.__shady_parentElement},get parentNode(){return this.__shady_parentNode},get nextSibling(){return this.__shady_nextSibling},get previousSibling(){return this.__shady_previousSibling},get nextElementSibling(){return this.__shady_nextElementSibling},get previousElementSibling(){return this.__shady_previousElementSibling},get className(){return this.__shady_className},set className(t){return this.__shady_className=t}});function Le(t){for(var e in t){var n=t[e];n&&(n.enumerable=!1)}}Le(je),Le(Pe),Le(Ne);var Re,De,Ie=zt.B||!0===zt.D,Fe=Ie?function(){}:function(t){var e=It(t);e.Ka||(e.Ka=!0,ne(t,Ne))},ze=Ie?function(){}:function(t){var e=It(t);e.Ja||(e.Ja=!0,ne(t,je),window.customElements&&window.customElements.polyfillWrapFlushCallback&&!zt.D||ne(t,Pe))},Be="__eventWrappers"+Date.now(),Ue=(De=Object.getOwnPropertyDescriptor(Event.prototype,"composed"))?function(t){return De.get.call(t)}:null,He=(Re=!1,et={get capture(){return!(Re=!0)}},window.addEventListener("test",qe,et),window.removeEventListener("test",qe,et),Re);function qe(){}function Ve(t){var e,n,r,i;return t&&"object"===Ta(t)?(e=!!t.capture,n=!!t.once,r=!!t.passive,i=t.O):(e=!!t,r=n=!1),{Ga:i,capture:e,once:n,passive:r,Fa:He?t:e}}var Ge={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},We={DOMAttrModified:!0,DOMAttributeNameChanged:!0,DOMCharacterDataModified:!0,DOMElementNameChanged:!0,DOMNodeInserted:!0,DOMNodeInsertedIntoDocument:!0,DOMNodeRemoved:!0,DOMNodeRemovedFromDocument:!0,DOMSubtreeModified:!0};function Ye(t){return t instanceof Node?t.__shady_getRootNode():t}function Xe(t,e){var n=[],r=t;for(t=Ye(t);r;)n.push(r),r=r.__shady_assignedSlot||(r.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&r.host&&(e||r!==t)?r.host:r.__shady_parentNode);return n[n.length-1]===document&&n.push(window),n}function Ze(t,e){t=Xe(t,!0);for(var n,r,i=0,o=void 0,a=void 0;i<e.length;i++)if((r=Ye(n=e[i]))!==o&&(a=t.indexOf(r),o=r),!Ht(r)||-1<a)return n}function $e(n){function t(t,e){return(t=new n(t,e)).__composed=e&&!!e.composed,t}return t.__proto__=n,t.prototype=n.prototype,t}var Qe={focus:!0,blur:!0};function Ke(t){return t.__target!==t.target||t.__relatedTarget!==t.relatedTarget}function Je(t,e,n){if(n=e.__handlers&&e.__handlers[t.type]&&e.__handlers[t.type][n])for(var r,i=0;(r=n[i])&&(!Ke(t)||t.target!==t.relatedTarget)&&(r.call(e,t),!t.__immediatePropagationStopped);i++);}function tn(t){var e=t.composedPath(),n=e.map(function(t){return Ze(t,e)}),r=t.bubbles;Object.defineProperty(t,"currentTarget",{configurable:!0,enumerable:!0,get:function(){return a}});var i=Event.CAPTURING_PHASE;Object.defineProperty(t,"eventPhase",{configurable:!0,enumerable:!0,get:function(){return i}});for(var o=e.length-1;0<=o;o--){var a=e[o],i=a===n[o]?Event.AT_TARGET:Event.CAPTURING_PHASE;if(Je(t,a,"capture"),t.ma)return}for(o=0;o<e.length;o++){var s=(a=e[o])===n[o];if((s||r)&&(i=s?Event.AT_TARGET:Event.BUBBLING_PHASE,Je(t,a,"bubble"),t.ma))return}i=0,a=null}function en(t,e,n,r,i,o){for(var a=0;a<t.length;a++){var s=t[a],l=s.type,u=s.capture,c=s.once,f=s.passive;if(e===s.node&&n===l&&r===u&&i===c&&o===f)return a}return-1}function nn(t){return ce(),!zt.aa&&this instanceof Node&&!Zt(document,this)?(t.__target||sn(t,this),tn(t)):this.__shady_native_dispatchEvent(t)}function rn(i,o,a){var s=(n=Ve(a)).capture,l=n.once,t=n.passive,e=n.Ga,n=n.Fa;if(o){var u=Ta(o);if(("function"===u||"object"===u)&&("object"!==u||o.handleEvent&&"function"==typeof o.handleEvent)){if(We[i])return this.__shady_native_addEventListener(i,o,n);var c=e||this;if(e=o[Be]){if(-1<en(e,c,i,s,l,t))return}else o[Be]=[];e=function(t){var e,n;if(l&&this.__shady_removeEventListener(i,o,a),t.__target||sn(t),c!==this&&(e=Object.getOwnPropertyDescriptor(t,"currentTarget"),Object.defineProperty(t,"currentTarget",{get:function(){return c},configurable:!0}),n=Object.getOwnPropertyDescriptor(t,"eventPhase"),Object.defineProperty(t,"eventPhase",{configurable:!0,enumerable:!0,get:function(){return s?Event.CAPTURING_PHASE:Event.BUBBLING_PHASE}})),t.__previousCurrentTarget=t.currentTarget,(!Ht(c)&&"slot"!==c.localName||-1!=t.composedPath().indexOf(c))&&(t.composed||-1<t.composedPath().indexOf(c)))if(Ke(t)&&t.target===t.relatedTarget)t.eventPhase===Event.BUBBLING_PHASE&&t.stopImmediatePropagation();else if(t.eventPhase===Event.CAPTURING_PHASE||t.bubbles||t.target===c||c instanceof Window){var r="function"===u?o.call(c,t):o.handleEvent&&o.handleEvent(t);return c!==this&&(e?(Object.defineProperty(t,"currentTarget",e),e=null):delete t.currentTarget,n?(Object.defineProperty(t,"eventPhase",n),n=null):delete t.eventPhase),r}},o[Be].push({node:c,type:i,capture:s,once:l,passive:t,lb:e}),this.__handlers=this.__handlers||{},this.__handlers[i]=this.__handlers[i]||{capture:[],bubble:[]},this.__handlers[i][s?"capture":"bubble"].push(e),Qe[i]||this.__shady_native_addEventListener(i,e,n)}}}function on(t,e,n){if(e){n=(a=Ve(n)).capture;var r=a.once,i=a.passive,o=a.Ga,a=a.Fa;if(We[t])return this.__shady_native_removeEventListener(t,e,a);var s=o||this,o=void 0,l=null;try{l=e[Be]}catch(t){}l&&(-1<(r=en(l,s,t,n,r,i))&&(o=l.splice(r,1)[0].lb,l.length||(e[Be]=void 0))),this.__shady_native_removeEventListener(t,o||e,a),o&&this.__handlers&&this.__handlers[t]&&(-1<(e=(t=this.__handlers[t][n?"capture":"bubble"]).indexOf(o))&&t.splice(e,1))}}var an=re({get composed(){return void 0===this.__composed&&(Ue?this.__composed="focusin"===this.type||"focusout"===this.type||Ue(this):!1!==this.isTrusted&&(this.__composed=Ge[this.type])),this.__composed||!1},composedPath:function(){return this.__composedPath||(this.__composedPath=Xe(this.__target,this.composed)),this.__composedPath},get target(){return Ze(this.currentTarget||this.__previousCurrentTarget,this.composedPath())},get relatedTarget(){return this.__relatedTarget?(this.__relatedTargetComposedPath||(this.__relatedTargetComposedPath=Xe(this.__relatedTarget,!0)),Ze(this.currentTarget||this.__previousCurrentTarget,this.__relatedTargetComposedPath)):null},stopPropagation:function(){Event.prototype.stopPropagation.call(this),this.ma=!0},stopImmediatePropagation:function(){Event.prototype.stopImmediatePropagation.call(this),this.ma=this.__immediatePropagationStopped=!0}});function sn(t,e){var n;e=void 0===e?t.target:e,t.__target=e,t.__relatedTarget=t.relatedTarget,zt.B?((e=Object.getPrototypeOf(t)).hasOwnProperty("__shady_patchedProto")||((n=Object.create(e)).__shady_sourceProto=e,ee(n,an),e.__shady_patchedProto=n),t.__proto__=e.__shady_patchedProto):ee(t,an)}var ln=$e(Event),St=$e(CustomEvent),Mt=$e(MouseEvent);At=Object.getOwnPropertyNames(Element.prototype).filter(function(t){return"on"===t.substring(0,2)}),Et=Object.getOwnPropertyNames(HTMLElement.prototype).filter(function(t){return"on"===t.substring(0,2)});function un(r){return{set:function(t){var e=It(this),n=r.substring(2);e.N||(e.N={}),e.N[r]&&this.removeEventListener(n,e.N[r]),this.__shady_addEventListener(n,t),e.N[r]=t},get:function(){var t=Ft(this);return t&&t.N&&t.N[r]},configurable:!0}}function cn(t,e){return{index:t,ba:[],ia:e}}var G=re({dispatchEvent:nn,addEventListener:rn,removeEventListener:on}),fn=null;function hn(){return(fn=fn||window.ShadyCSS&&window.ShadyCSS.ScopingShim)||null}function dn(t,e,n){var r=hn();return r&&"class"===e&&(r.setElementClass(t,n),1)}function pn(t,e){var n=hn();n&&n.unscopeNode(t,e)}function gn(t){if(t.nodeType!==Node.ELEMENT_NODE)return"";var e=hn();return e?e.currentScopeForNode(t):""}function mn(t,e){if(t)for(t.nodeType===Node.ELEMENT_NODE&&e(t),t=t.__shady_firstChild;t;t=t.__shady_nextSibling)t.nodeType===Node.ELEMENT_NODE&&mn(t,e)}var yn=window.document,vn=zt.aa,Rt=Object.getOwnPropertyDescriptor(Node.prototype,"isConnected"),bn=Rt&&Rt.get;function xn(t){for(var e;e=t.__shady_firstChild;)t.__shady_removeChild(e)}function _n(t,e,n){if(t=(t=Ft(t))&&t.Z){if(e)if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(var r=0,i=e.childNodes.length;r<i;r++)t.addedNodes.push(e.childNodes[r]);else t.addedNodes.push(e);n&&t.removedNodes.push(n),(o=t).a||(o.a=!0,Xt(function(){o.flush()}))}var o}var wn=re({get parentNode(){var t=Ft(this);return void 0!==(t=t&&t.parentNode)?t:this.__shady_native_parentNode},get firstChild(){var t=Ft(this);return void 0!==(t=t&&t.firstChild)?t:this.__shady_native_firstChild},get lastChild(){var t=Ft(this);return void 0!==(t=t&&t.lastChild)?t:this.__shady_native_lastChild},get nextSibling(){var t=Ft(this);return void 0!==(t=t&&t.nextSibling)?t:this.__shady_native_nextSibling},get previousSibling(){var t=Ft(this);return void 0!==(t=t&&t.previousSibling)?t:this.__shady_native_previousSibling},get childNodes(){if(Ut(this)){var t=Ft(this);if(!t.childNodes){t.childNodes=[];for(var e=this.__shady_firstChild;e;e=e.__shady_nextSibling)t.childNodes.push(e)}var n=t.childNodes}else n=this.__shady_native_childNodes;return n.item=function(t){return n[t]},n},get parentElement(){var t=Ft(this);return(t=t&&t.parentNode)&&t.nodeType!==Node.ELEMENT_NODE&&(t=null),void 0!==t?t:this.__shady_native_parentElement},get isConnected(){if(bn&&bn.call(this))return!0;if(this.nodeType==Node.DOCUMENT_FRAGMENT_NODE)return!1;var t=this.ownerDocument;if(null===t||Zt(t,this))return!0;for(t=this;t&&!(t instanceof Document);)t=t.__shady_parentNode||(Ht(t)?t.host:void 0);return!!(t&&t instanceof Document)},get textContent(){if(Ut(this)){for(var t=[],e=this.__shady_firstChild;e;e=e.__shady_nextSibling)e.nodeType!==Node.COMMENT_NODE&&t.push(e.__shady_textContent);return t.join("")}return this.__shady_native_textContent},set textContent(t){switch(null==t&&(t=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:var e;!Ut(this)&&zt.B?(((e=this.__shady_firstChild)!=this.__shady_lastChild||e&&e.nodeType!=Node.TEXT_NODE)&&xn(this),this.__shady_native_textContent=t):(xn(this),(0<t.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_insertBefore(document.createTextNode(t)));break;default:this.nodeValue=t}},insertBefore:function(t,e){if(this.ownerDocument!==yn&&t.ownerDocument!==yn)return this.__shady_native_insertBefore(t,e),t;if(t===this)throw Error("Failed to execute 'appendChild' on 'Node': The new child element contains the parent.");if(e){var n=Ft(e);if(void 0!==(n=n&&n.parentNode)&&n!==this||void 0===n&&e.__shady_native_parentNode!==this)throw Error("Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.")}if(e===t)return t;_n(this,t);var r,i,o=[],a=(n=fr(this))?n.host.localName:gn(this),s=t.__shady_parentNode;s&&(r=gn(t),i=!!n||!fr(t)||vn&&void 0!==this.__noInsertionPoint,s.__shady_removeChild(t,i)),s=!0;var l=(!vn||void 0===t.__noInsertionPoint&&void 0===this.__noInsertionPoint)&&!function t(e,n){var r=hn();if(!r)return!0;if(e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE)return e.nodeType!==Node.ELEMENT_NODE||r.currentScopeForNode(e)===n;for(r=!0,e=e.__shady_firstChild;e;e=e.__shady_nextSibling)r=r&&t(e,n);return r}(t,a),u=n&&!t.__noInsertionPoint&&(!vn||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE);return(u||l)&&(l&&(r=r||gn(t)),mn(t,function(t){var e;u&&"slot"===t.localName&&o.push(t),l&&(e=r,hn()&&(e&&pn(t,e),(e=hn())&&e.scopeNode(t,a)))})),o.length&&(ar(n),n.c.push.apply(n.c,c(o)),rr(n)),Ut(this)&&(function(t,e,n){Hn(e,2);var r=It(e);if(void 0!==r.firstChild&&(r.childNodes=null),t.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(t=t.__shady_native_firstChild;t;t=t.__shady_native_nextSibling)qn(t,e,r,n);else qn(t,e,r,n)}(t,this,e),(i=Ft(this)).root?(s=!1,qt(this)&&rr(i.root)):n&&"slot"===this.localName&&(s=!1,rr(n))),s?(n=Ht(this)?this.host:this,e?(e=function t(e){var n,r=e;return!e||"slot"!==e.localName||(n=(n=Ft(e))&&n.V)&&(r=n.length?n[0]:t(e.__shady_nextSibling)),r}(e),n.__shady_native_insertBefore(t,e)):n.__shady_native_appendChild(t)):t.ownerDocument!==this.ownerDocument&&this.ownerDocument.adoptNode(t),t},appendChild:function(t){if(this!=t||!Ht(t))return this.__shady_insertBefore(t)},removeChild:function(t,e){if(e=void 0!==e&&e,this.ownerDocument!==yn)return this.__shady_native_removeChild(t);if(t.__shady_parentNode!==this)throw Error("The node to be removed is not a child of this node: "+t);_n(this,null,t);var n,r,i=fr(t),o=i&&function(t,e){if(t.a){sr(t);var n,r=t.b;for(n in r)for(var i=r[n],o=0;o<i.length;o++){var a=i[o];if($t(e,a)){i.splice(o,1);var s=t.a.indexOf(a);if(0<=s&&(t.a.splice(s,1),(s=Ft(a.__shady_parentNode))&&s.da&&s.da--),o--,a=Ft(a),s=a.V)for(var l=0;l<s.length;l++){var u=s[l],c=u.__shady_native_parentNode;c&&c.__shady_native_removeChild(u)}a.V=[],a.assignedNodes=[],s=!0}}return s}}(i,t),a=Ft(this);return Ut(this)&&(function(t,e){var n=It(t);e=It(e),t===e.firstChild&&(e.firstChild=n.nextSibling),t===e.lastChild&&(e.lastChild=n.previousSibling),t=n.previousSibling;var r=n.nextSibling;t&&(It(t).nextSibling=r),r&&(It(r).previousSibling=t),(n.parentNode=n.previousSibling=n.nextSibling=void 0)!==e.childNodes&&(e.childNodes=null)}(t,this),qt(this))&&(rr(a.root),n=!0),hn()&&!e&&i&&t.nodeType!==Node.TEXT_NODE&&(r=gn(t),mn(t,function(t){pn(t,r)})),function t(e){var n=Ft(e);if(n&&void 0!==n.la)for(n=e.__shady_firstChild;n;n=n.__shady_nextSibling)t(n);(e=Ft(e))&&(e.la=void 0)}(t),i&&((e="slot"===this.localName)&&(n=!0),(o||e)&&rr(i)),n||(n=Ht(this)?this.host:this,(a.root||"slot"===t.localName)&&n!==t.__shady_native_parentNode||n.__shady_native_removeChild(t)),t},replaceChild:function(t,e){return this.__shady_insertBefore(t,e),this.__shady_removeChild(e),t},cloneNode:function(t){if("template"==this.localName)return this.__shady_native_cloneNode(t);var e,n=this.__shady_native_cloneNode(!1);if(t&&n.nodeType!==Node.ATTRIBUTE_NODE){t=this.__shady_firstChild;for(;t;t=t.__shady_nextSibling)e=t.__shady_cloneNode(!0),n.__shady_appendChild(e)}return n},getRootNode:function(t){if(this&&this.nodeType){var e=It(this),n=e.la;return void 0===n&&(Ht(this)?(n=this,e.la=n):(n=(n=this.__shady_parentNode)?n.__shady_getRootNode(t):this,document.documentElement.__shady_native_contains(this)&&(e.la=n))),n}},contains:function(t){return $t(this,t)}}),kn=re({get assignedSlot(){var t=this.__shady_parentNode;return(t=t&&t.__shady_shadowRoot)&&ir(t),(t=Ft(this))&&t.assignedSlot||null}});function Tn(t,e,n){var r=[];return function t(e,n,r,i){for(e=e.__shady_firstChild;e;e=e.__shady_nextSibling){var o,a,s,l,u;if((o=e.nodeType===Node.ELEMENT_NODE)&&(s=r,l=i,(u=(a=n)(o=e))&&l.push(o),o=s&&s(u)?u:void t(o,a,s,l)),o)break}}(t,e,n,r),r}var W={get firstElementChild(){var t=Ft(this);if(t&&void 0!==t.firstChild){for(t=this.__shady_firstChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_nextSibling;return t}return this.__shady_native_firstElementChild},get lastElementChild(){var t=Ft(this);if(t&&void 0!==t.lastChild){for(t=this.__shady_lastChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_previousSibling;return t}return this.__shady_native_lastElementChild},get children(){return Ut(this)?Qt(Array.prototype.filter.call(Jt(this),function(t){return t.nodeType===Node.ELEMENT_NODE})):this.__shady_native_children},get childElementCount(){var t=this.__shady_children;return t?t.length:0}},Mn=re((W.append=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];this.__shady_insertBefore(ae.apply(null,c(e)),null)},W.prepend=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];this.__shady_insertBefore(ae.apply(null,c(e)),this.__shady_firstChild)},W.replaceChildren=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];for(;null!==(n=this.__shady_firstChild);)this.__shady_removeChild(n);this.__shady_insertBefore(ae.apply(null,c(e)),null)},W)),K=re({querySelector:function(e){return Tn(this,function(t){return Vt.call(t,e)},function(t){return!!t})[0]||null},querySelectorAll:function(e,t){if(t){t=Array.prototype.slice.call(this.__shady_native_querySelectorAll(e));var n=this.__shady_getRootNode();return Qt(t.filter(function(t){return t.__shady_getRootNode()==n}))}return Qt(Tn(this,function(t){return Vt.call(t,e)}))}}),Bt=zt.aa&&!zt.D?ie({},Mn):Mn;ie(Mn,K);var Q=re({after:function(){for(var t,e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];null!==(n=this.__shady_parentNode)&&(t=this.__shady_nextSibling,n.__shady_insertBefore(ae.apply(null,c(e)),t))},before:function(){for(var t=[],e=0;e<arguments.length;++e)t[e]=arguments[e];null!==(e=this.__shady_parentNode)&&e.__shady_insertBefore(ae.apply(null,c(t)),this)},remove:function(){var t=this.__shady_parentNode;null!==t&&t.__shady_removeChild(this)},replaceWith:function(){for(var t,e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];null!==(n=this.__shady_parentNode)&&(t=this.__shady_nextSibling,n.__shady_removeChild(this),n.__shady_insertBefore(ae.apply(null,c(e)),t))}}),An=window.document;function Sn(t,e){var n,r,i;"slot"===e?qt(t=t.__shady_parentNode)&&rr(Ft(t).root):"slot"===t.localName&&"name"===e&&(e=fr(t))&&(e.a&&(sr(e),n=t.La,(r=lr(t))!==n&&(0<=(i=(n=e.b[n]).indexOf(t))&&n.splice(i,1),(n=e.b[r]||(e.b[r]=[])).push(t),1<n.length&&(e.b[r]=ur(n)))),rr(e))}var En=re({get previousElementSibling(){var t=Ft(this);if(t&&void 0!==t.previousSibling){for(t=this.__shady_previousSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_previousSibling;return t}return this.__shady_native_previousElementSibling},get nextElementSibling(){var t=Ft(this);if(t&&void 0!==t.nextSibling){for(t=this.__shady_nextSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__shady_nextSibling;return t}return this.__shady_native_nextElementSibling},get slot(){return this.getAttribute("slot")},set slot(t){this.__shady_setAttribute("slot",t)},get className(){return this.getAttribute("class")||""},set className(t){this.__shady_setAttribute("class",t)},setAttribute:function(t,e){this.ownerDocument!==An?this.__shady_native_setAttribute(t,e):dn(this,t,e)||(this.__shady_native_setAttribute(t,e),Sn(this,t))},removeAttribute:function(t){this.ownerDocument!==An?this.__shady_native_removeAttribute(t):dn(this,t,"")?""===this.getAttribute(t)&&this.__shady_native_removeAttribute(t):(this.__shady_native_removeAttribute(t),Sn(this,t))}});zt.aa||At.forEach(function(t){En[t]=un(t)});Ie=re({attachShadow:function(t){if(!this)throw Error("Must provide a host.");if(!t)throw Error("Not enough arguments.");var e,n;return t.shadyUpgradeFragment&&!zt.Ia?((e=t.shadyUpgradeFragment).__proto__=ShadowRoot.prototype,nr(e,this,t),Vn(e,e),t=e.__noInsertionPoint?null:e.querySelectorAll("slot"),e.__noInsertionPoint=void 0,t&&t.length&&(ar(n=e),n.c.push.apply(n.c,c(t)),rr(e)),e.host.__shady_native_appendChild(e)):e=new er(Kn,this,t),this.__CE_shadowRoot=e},get shadowRoot(){var t=Ft(this);return t&&t.bb||null}});ie(En,Ie);var Cn=document.implementation.createHTMLDocument("inert"),On=re({get innerHTML(){return Ut(this)?ve("template"===this.localName?this.content:this,Jt):this.__shady_native_innerHTML},set innerHTML(t){if("template"===this.localName)this.__shady_native_innerHTML=t;else{xn(this);var e=this.localName||"div",e=this.namespaceURI&&this.namespaceURI!==Cn.namespaceURI?Cn.createElementNS(this.namespaceURI,e):Cn.createElement(e);for(zt.B?e.__shady_native_innerHTML=t:e.innerHTML=t;t=e.__shady_firstChild;)this.__shady_insertBefore(t)}}}),jn=re({blur:function(){var t=Ft(this);(t=(t=t&&t.root)&&t.activeElement)?t.__shady_blur():this.__shady_native_blur()}});zt.aa||Et.forEach(function(t){jn[t]=un(t)});var et=re({assignedNodes:function(t){if("slot"===this.localName){var e=this.__shady_getRootNode();return e&&Ht(e)&&ir(e),(e=Ft(this))&&(t&&t.flatten?e.V:e.assignedNodes)||[]}},addEventListener:function(t,e,n){if("slot"!==this.localName||"slotchange"===t)rn.call(this,t,e,n);else{"object"!==Ta(n)&&(n={capture:!!n});var r=this.__shady_parentNode;if(!r)throw Error("ShadyDOM cannot attach event to slot unless it has a `parentNode`");n.O=this,r.__shady_addEventListener(t,e,n)}},removeEventListener:function(t,e,n){if("slot"!==this.localName||"slotchange"===t)on.call(this,t,e,n);else{"object"!==Ta(n)&&(n={capture:!!n});var r=this.__shady_parentNode;if(!r)throw Error("ShadyDOM cannot attach event to slot unless it has a `parentNode`");n.O=this,r.__shady_removeEventListener(t,e,n)}}}),Pn=re({getElementById:function(e){return""!==e&&Tn(this,function(t){return t.id==e},function(t){return!!t})[0]||null}}),Nn=re({get activeElement(){var t=zt.B?document.__shady_native_activeElement:document.activeElement;if(!t||!t.nodeType)return null;var e=!!Ht(this);if(!(this===document||e&&this.host!==t&&this.host.__shady_native_contains(t)))return null;for(e=fr(t);e&&e!==this;)e=fr(t=e.host);return this===document?e?null:t:e===this?t:null}}),Ln=window.document,Rt=re({importNode:function(t,e){if(t.ownerDocument!==Ln||"template"===t.localName)return this.__shady_native_importNode(t,e);var n=this.__shady_native_importNode(t,!1);if(e)for(t=t.__shady_firstChild;t;t=t.__shady_nextSibling)e=this.__shady_importNode(t,!0),n.__shady_appendChild(e);return n}}),W=re({dispatchEvent:nn,addEventListener:rn.bind(window),removeEventListener:on.bind(window)}),K={};Object.getOwnPropertyDescriptor(HTMLElement.prototype,"parentElement")&&(K.parentElement=wn.parentElement),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"contains")&&(K.contains=wn.contains),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"children")&&(K.children=Mn.children),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"innerHTML")&&(K.innerHTML=On.innerHTML),Object.getOwnPropertyDescriptor(HTMLElement.prototype,"className")&&(K.className=En.className);var Rn={EventTarget:[G],Node:[wn,window.EventTarget?null:G],Text:[kn],Comment:[kn],CDATASection:[kn],ProcessingInstruction:[kn],Element:[En,Mn,Q,kn,!zt.B||"innerHTML"in Element.prototype?On:null,window.HTMLSlotElement?null:et],HTMLElement:[jn,K],HTMLSlotElement:[et],DocumentFragment:[Bt,Pn],Document:[Rt,Bt,Pn,Nn],Window:[W],CharacterData:[Q]},Dn=zt.B?null:["innerHTML","textContent"];function In(e,t,n,r){t.forEach(function(t){return e&&t&&ee(e,t,n,r)})}function Fn(t){var e,n=t?null:Dn;for(e in Rn)In(window[e]&&window[e].prototype,Rn[e],t,n)}function zn(t){return t.__shady_protoIsPatched=!0,In(t,Rn.EventTarget),In(t,Rn.Node),In(t,Rn.Element),In(t,Rn.HTMLElement),In(t,Rn.HTMLSlotElement),t}["Text","Comment","CDATASection","ProcessingInstruction"].forEach(function(t){var e=window[t],n=Object.create(e.prototype);n.__shady_protoIsPatched=!0,In(n,Rn.EventTarget),In(n,Rn.Node),Rn[t]&&In(n,Rn[t]),e.prototype.__shady_patchedProto=n});var Bn=zt.ua,Un=zt.B;function Hn(t,e){var n,r;!Bn||t.__shady_protoIsPatched||Ht(t)||((r=(n=Object.getPrototypeOf(t)).hasOwnProperty("__shady_patchedProto")&&n.__shady_patchedProto)||(zn(r=Object.create(n)),n.__shady_patchedProto=r),Object.setPrototypeOf(t,r)),Un||(1===e?Fe(t):2===e&&ze(t))}function qn(t,e,n,r){Hn(t,1),r=r||null;var i=It(t),o=r?It(r):null;i.previousSibling=r?o.previousSibling:e.__shady_lastChild,(o=Ft(i.previousSibling))&&(o.nextSibling=t),(o=Ft(i.nextSibling=r))&&(o.previousSibling=t),i.parentNode=e,r?r===n.firstChild&&(n.firstChild=t):(n.lastChild=t,n.firstChild||(n.firstChild=t)),n.childNodes=null}function Vn(t,e){var n=It(t);if(e||void 0===n.firstChild){n.childNodes=null;var r=n.firstChild=t.__shady_native_firstChild;for(n.lastChild=t.__shady_native_lastChild,Hn(t,2),n=r,r=void 0;n;n=n.__shady_native_nextSibling){var i=It(n);i.parentNode=e||t,i.nextSibling=n.__shady_native_nextSibling,i.previousSibling=r||null,Hn(r=n,1)}}}var Gn=re({addEventListener:function(t,e,n){"object"!==Ta(n)&&(n={capture:!!n}),n.O=n.O||this,this.host.__shady_addEventListener(t,e,n)},removeEventListener:function(t,e,n){"object"!==Ta(n)&&(n={capture:!!n}),n.O=n.O||this,this.host.__shady_removeEventListener(t,e,n)}});function Wn(t,e){ee(t,Gn,e),ee(t,Nn,e),ee(t,On,e),ee(t,Mn,e),zt.D&&!e?(ee(t,wn,e),ee(t,Pn,e)):zt.B||(ee(t,Ne),ee(t,je),ee(t,Pe))}var Yn,Xn,Zn,$n,Qn,Kn={},Jn=zt.deferConnectionCallbacks&&"loading"===document.readyState;function tr(t){for(var e=[];e.unshift(t),t=t.__shady_parentNode;);return e}function er(t,e,n){if(t!==Kn)throw new TypeError("Illegal constructor");this.a=null,nr(this,e,n)}function nr(t,e,n){if(t.host=e,t.mode=n&&n.mode,Vn(t.host),(e=It(t.host)).root=t,e.bb="closed"!==t.mode?t:null,(e=It(t)).firstChild=e.lastChild=e.parentNode=e.nextSibling=e.previousSibling=null,zt.preferPerformance)for(;e=t.host.__shady_native_firstChild;)t.host.__shady_native_removeChild(e);else rr(t)}function rr(t){t.T||(t.T=!0,ue(function(){return ir(t)}))}function ir(t){var e,n;if(e=t.T){for(;t;)t.T&&(n=t),Ht(t=(e=t).host.__shady_getRootNode())&&(e=Ft(e.host))&&0<e.da||(t=void 0);e=n}(n=e)&&n._renderSelf()}function or(t,e,n){var r=It(e),i=r.oa;r.oa=null,(n=n||(t=t.b[e.__shady_slot||"__catchall"])&&t[0])?(It(n).assignedNodes.push(e),r.assignedSlot=n):r.assignedSlot=void 0,i!==r.assignedSlot&&r.assignedSlot&&(It(r.assignedSlot).ra=!0)}function ar(t){t.c=t.c||[],t.a=t.a||[],t.b=t.b||{}}function sr(t){if(t.c&&t.c.length){for(var e,n=t.c,r=0;r<n.length;r++){var i=n[r];Vn(i);var o=i.__shady_parentNode;Vn(o),(o=Ft(o)).da=(o.da||0)+1,o=lr(i),t.b[o]?((e=e||{})[o]=!0,t.b[o].push(i)):t.b[o]=[i],t.a.push(i)}if(e)for(var a in e)t.b[a]=ur(t.b[a]);t.c=[]}}function lr(t){var e=t.name||t.getAttribute("name")||"__catchall";return t.La=e}function ur(t){return t.sort(function(t,e){t=tr(t);for(var n=tr(e),r=0;r<t.length;r++){e=t[r];var i=n[r];if(e!==i)return(t=Jt(e.__shady_parentNode)).indexOf(e)-t.indexOf(i)}})}function cr(t){return sr(t),!(!t.a||!t.a.length)}function fr(t){if(Ht(t=t.__shady_getRootNode()))return t}function hr(t){this.node=t}function dr(e){Object.defineProperty(hr.prototype,e,{get:function(){return this.node["__shady_"+e]},set:function(t){this.node["__shady_"+e]=t},configurable:!0})}er.prototype._renderSelf=function(){var t=Jn;if(Jn=!0,this.T=!1,this.a){sr(this);for(var e,n=0;n<this.a.length;n++){var r=Ft(e=this.a[n]),i=r.assignedNodes;if(r.assignedNodes=[],r.V=[],r.Ba=i)for(r=0;r<i.length;r++){var o=Ft(i[r]);o.oa=o.assignedSlot,o.assignedSlot===e&&(o.assignedSlot=null)}}for(n=this.host.__shady_firstChild;n;n=n.__shady_nextSibling)or(this,n);for(n=0;n<this.a.length;n++){if(!(i=Ft(e=this.a[n])).assignedNodes.length)for(r=e.__shady_firstChild;r;r=r.__shady_nextSibling)or(this,r,e);if((r=(r=Ft(e.__shady_parentNode))&&r.root)&&(cr(r)||r.T)&&r._renderSelf(),function t(e,n,r){for(var i=0,o=void 0;i<r.length&&(o=r[i]);i++){var a;"slot"==o.localName?(a=Ft(o).assignedNodes)&&a.length&&t(e,n,a):n.push(r[i])}}(this,i.V,i.assignedNodes),r=i.Ba){for(o=0;o<r.length;o++)Ft(r[o]).oa=null;i.Ba=null,r.length>i.assignedNodes.length&&(i.ra=!0)}i.ra&&(i.ra=!1,function t(e,n){n.__shady_native_dispatchEvent(new Event("slotchange"));n=Ft(n);n.assignedSlot&&t(e,n.assignedSlot)}(this,e))}for(e=this.a,n=[],i=0;i<e.length;i++)(o=Ft(r=e[i].__shady_parentNode))&&o.root||!(n.indexOf(r)<0)||n.push(r);for(e=0;e<n.length;e++){for(i=(o=n[e])===this?this.host:o,r=[],o=o.__shady_firstChild;o;o=o.__shady_nextSibling)if("slot"==o.localName)for(var a=Ft(o).V,s=0;s<a.length;s++)r.push(a[s]);else r.push(o);o=Kt(i),a=function(t,e,n,r){var i,o,a=0,s=0,l=0,u=0,c=Math.min(e-a,r-s);if(0==a&&0==s)t:{for(l=0;l<c;l++)if(t[l]!==n[l])break t;l=c}if(e==t.length&&r==n.length){u=t.length;for(var f=n.length,h=0;h<c-l&&t[--u]===n[--f];)h++;u=h}if(s+=l,r-=u,0==(e-=u)-(a+=l)&&0==r-s)return[];if(a==e){for(e=cn(a,0);s<r;)e.ba.push(n[s++]);return[e]}if(s==r)return[cn(a,e-a)];for(r=r-(l=s)+1,u=e-(c=a)+1,e=Array(r),f=0;f<r;f++)e[f]=Array(u),e[f][0]=f;for(f=0;f<u;f++)e[0][f]=f;for(f=1;f<r;f++)for(h=1;h<u;h++)t[c+h-1]===n[l+f-1]?e[f][h]=e[f-1][h-1]:(i=e[f-1][h]+1,o=e[f][h-1]+1,e[f][h]=i<o?i:o);for(c=e.length-1,l=e[0].length-1,r=e[c][l],t=[];0<c||0<l;)0==c?(t.push(2),l--):0==l?(t.push(3),c--):(u=e[c-1][l-1],(i=(f=e[c-1][l])<(h=e[c][l-1])?f<u?f:u:h<u?h:u)==u?(u==r?t.push(0):(t.push(1),r=u),c--,l--):r=i==f?(t.push(3),c--,f):(t.push(2),l--,h));for(t.reverse(),e=void 0,c=[],l=0;l<t.length;l++)switch(t[l]){case 0:e&&(c.push(e),e=void 0),a++,s++;break;case 1:(e=e||cn(a,0)).ia++,a++,e.ba.push(n[s]),s++;break;case 2:(e=e||cn(a,0)).ia++,a++;break;case 3:(e=e||cn(a,0)).ba.push(n[s]),s++}return e&&c.push(e),c}(r,r.length,o,o.length);for(var l=s=0,u=void 0;s<a.length&&(u=a[s]);s++){for(var c=0,f=void 0;c<u.ba.length&&(f=u.ba[c]);c++)f.__shady_native_parentNode===i&&i.__shady_native_removeChild(f),o.splice(u.index+l,1);l-=u.ia}for(u=void(l=0);l<a.length&&(u=a[l]);l++)for(s=o[u.index],c=u.index;c<u.index+u.ia;c++)f=r[c],i.__shady_native_insertBefore(f,s),o.splice(c,0,f)}}if(!zt.preferPerformance&&!this.Aa)for(n=this.host.__shady_firstChild;n;n=n.__shady_nextSibling)e=Ft(n),n.__shady_native_parentNode!==this.host||"slot"!==n.localName&&e.assignedSlot||this.host.__shady_native_removeChild(n);this.Aa=!0,Jn=t,Zn&&Zn()},(Yn=er.prototype).__proto__=DocumentFragment.prototype,Wn(Yn,"__shady_"),Wn(Yn),Object.defineProperties(Yn,{nodeType:{value:Node.DOCUMENT_FRAGMENT_NODE,configurable:!0},nodeName:{value:"#document-fragment",configurable:!0},nodeValue:{value:null,configurable:!0}}),["localName","namespaceURI","prefix"].forEach(function(t){Object.defineProperty(Yn,t,{value:void 0,configurable:!0})}),["ownerDocument","baseURI","isConnected"].forEach(function(t){Object.defineProperty(Yn,t,{get:function(){return this.host[t]},configurable:!0})}),window.customElements&&window.customElements.define&&zt.sa&&!zt.preferPerformance&&(Xn=new Map,Zn=function(){var n=[];Xn.forEach(function(t,e){n.push([e,t])}),Xn.clear();for(var t=0;t<n.length;t++){var e=n[t][0];n[t][1]?e.__shadydom_connectedCallback():e.__shadydom_disconnectedCallback()}},Jn&&document.addEventListener("readystatechange",function(){Jn=!1,Zn()},{once:!0}),$n=window.customElements.define,Qn=function(t,e){var n,r,i,o=e.prototype.connectedCallback,a=e.prototype.disconnectedCallback;$n.call(window.customElements,t,(t=e,r=a,i="__isConnected0",((n=o)||r)&&(t.prototype.connectedCallback=t.prototype.__shadydom_connectedCallback=function(){Jn?Xn.set(this,!0):this[i]||(this[i]=!0,n&&n.call(this))},t.prototype.disconnectedCallback=t.prototype.__shadydom_disconnectedCallback=function(){Jn?this.isConnected||Xn.set(this,!1):this[i]&&(this[i]=!1,r&&r.call(this))}),t)),e.prototype.connectedCallback=o,e.prototype.disconnectedCallback=a},window.customElements.define=Qn,Object.defineProperty(window.CustomElementRegistry.prototype,"define",{value:Qn,configurable:!0})),(Qn=hr.prototype).addEventListener=function(t,e,n){return this.node.__shady_addEventListener(t,e,n)},Qn.removeEventListener=function(t,e,n){return this.node.__shady_removeEventListener(t,e,n)},Qn.appendChild=function(t){return this.node.__shady_appendChild(t)},Qn.insertBefore=function(t,e){return this.node.__shady_insertBefore(t,e)},Qn.removeChild=function(t){return this.node.__shady_removeChild(t)},Qn.replaceChild=function(t,e){return this.node.__shady_replaceChild(t,e)},Qn.cloneNode=function(t){return this.node.__shady_cloneNode(t)},Qn.getRootNode=function(t){return this.node.__shady_getRootNode(t)},Qn.contains=function(t){return this.node.__shady_contains(t)},Qn.dispatchEvent=function(t){return this.node.__shady_dispatchEvent(t)},Qn.setAttribute=function(t,e){this.node.__shady_setAttribute(t,e)},Qn.getAttribute=function(t){return this.node.__shady_native_getAttribute(t)},Qn.hasAttribute=function(t){return this.node.__shady_native_hasAttribute(t)},Qn.removeAttribute=function(t){this.node.__shady_removeAttribute(t)},Qn.attachShadow=function(t){return this.node.__shady_attachShadow(t)},Qn.focus=function(){this.node.__shady_native_focus()},Qn.blur=function(){this.node.__shady_blur()},Qn.importNode=function(t,e){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_importNode(t,e)},Qn.getElementById=function(t){if(this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_getElementById(t)},Qn.querySelector=function(t){return this.node.__shady_querySelector(t)},Qn.querySelectorAll=function(t,e){return this.node.__shady_querySelectorAll(t,e)},Qn.assignedNodes=function(t){if("slot"===this.node.localName)return this.node.__shady_assignedNodes(t)},Qn.append=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];return this.node.__shady_append.apply(this.node,c(e))},Qn.prepend=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];return this.node.__shady_prepend.apply(this.node,c(e))},Qn.after=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];return this.node.__shady_after.apply(this.node,c(e))},Qn.before=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];return this.node.__shady_before.apply(this.node,c(e))},Qn.remove=function(){return this.node.__shady_remove()},Qn.replaceWith=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];return this.node.__shady_replaceWith.apply(this.node,c(e))},e.Object.defineProperties(hr.prototype,{activeElement:{configurable:!0,enumerable:!0,get:function(){if(Ht(this.node)||this.node.nodeType===Node.DOCUMENT_NODE)return this.node.__shady_activeElement}},_activeElement:{configurable:!0,enumerable:!0,get:function(){return this.activeElement}},host:{configurable:!0,enumerable:!0,get:function(){if(Ht(this.node))return this.node.host}},parentNode:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentNode}},firstChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstChild}},lastChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastChild}},nextSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextSibling}},previousSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousSibling}},childNodes:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childNodes}},parentElement:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_parentElement}},firstElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_firstElementChild}},lastElementChild:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_lastElementChild}},nextElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_nextElementSibling}},previousElementSibling:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_previousElementSibling}},children:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_children}},childElementCount:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_childElementCount}},shadowRoot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_shadowRoot}},assignedSlot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_assignedSlot}},isConnected:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_isConnected}},innerHTML:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_innerHTML},set:function(t){this.node.__shady_innerHTML=t}},textContent:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_textContent},set:function(t){this.node.__shady_textContent=t}},slot:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_slot},set:function(t){this.node.__shady_slot=t}},className:{configurable:!0,enumerable:!0,get:function(){return this.node.__shady_className},set:function(t){return this.node.__shady_className=t}}}),At.forEach(dr),Et.forEach(dr);var pr,gr,mr=new WeakMap;function yr(t){if(Ht(t)||t instanceof hr)return t;var e=mr.get(t);return e||(e=new hr(t),mr.set(t,e)),e}zt.sa&&(Et=zt.B?function(t){return t}:function(t){return ze(t),Fe(t),t},Et={inUse:zt.sa,patch:Et,isShadyRoot:Ht,enqueue:ue,flush:ce,flushInitial:function(t){!t.Aa&&t.T&&ir(t)},settings:zt,filterMutations:function(t,e){var n=e.getRootNode();return t.map(function(t){var e=n===t.target.getRootNode();if(e&&t.addedNodes){if((e=[].slice.call(t.addedNodes).filter(function(t){return n===t.getRootNode()})).length)return t=Object.create(t),Object.defineProperty(t,"addedNodes",{value:e,configurable:!0}),t}else if(e)return t}).filter(function(t){return t})},observeChildren:function(t,e){var n=It(t);n.Z||(n.Z=new fe),n.Z.ja.add(e);var r=n.Z;return{Ma:e,S:r,Na:t,takeRecords:function(){return r.takeRecords()}}},unobserveChildren:function(t){var e=t&&t.S;e&&(e.ja.delete(t.Ma),e.ja.size||(It(t.Na).Z=null))},deferConnectionCallbacks:zt.deferConnectionCallbacks,preferPerformance:zt.preferPerformance,handlesDynamicScoping:!0,wrap:zt.D?yr:Et,wrapIfNeeded:!0===zt.D?yr:function(t){return t},Wrapper:hr,composedPath:function(t){return t.__composedPath||(t.__composedPath=Xe(t.target,!0)),t.__composedPath},noPatch:zt.D,patchOnDemand:zt.ua,nativeMethods:xe,nativeTree:_e,patchElementProto:zn},window.ShadyDOM=Et,gr=["dispatchEvent","addEventListener","removeEventListener"],window.EventTarget?Te(window.EventTarget.prototype,gr):(Te(Node.prototype,gr),Te(Window.prototype,gr)),be?Te(Node.prototype,"parentNode firstChild lastChild previousSibling nextSibling childNodes parentElement textContent".split(" ")):ke(Node.prototype,{parentNode:{get:function(){return Me.currentNode=this,Me.parentNode()}},firstChild:{get:function(){return Me.currentNode=this,Me.firstChild()}},lastChild:{get:function(){return Me.currentNode=this,Me.lastChild()}},previousSibling:{get:function(){return Me.currentNode=this,Me.previousSibling()}},nextSibling:{get:function(){return Me.currentNode=this,Me.nextSibling()}},childNodes:{get:function(){var t=[];Me.currentNode=this;for(var e=Me.firstChild();e;)t.push(e),e=Me.nextSibling();return t}},parentElement:{get:function(){return Ae.currentNode=this,Ae.parentNode()}},textContent:{get:function(){switch(this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:for(var t,e=document.createTreeWalker(this,NodeFilter.SHOW_TEXT,null,!1),n="";t=e.nextNode();)n+=t.nodeValue;return n;default:return this.nodeValue}},set:function(t){switch(null==t&&(t=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:Ee(this),(0<t.length||this.nodeType===Node.ELEMENT_NODE)&&this.__shady_native_insertBefore(document.createTextNode(t),void 0);break;default:this.nodeValue=t}}}}),Te(Node.prototype,"appendChild insertBefore removeChild replaceChild cloneNode contains".split(" ")),Te(HTMLElement.prototype,["parentElement","contains"]),gr={firstElementChild:{get:function(){return Ae.currentNode=this,Ae.firstChild()}},lastElementChild:{get:function(){return Ae.currentNode=this,Ae.lastChild()}},children:{get:function(){var t=[];Ae.currentNode=this;for(var e=Ae.firstChild();e;)t.push(e),e=Ae.nextSibling();return Qt(t)}},childElementCount:{get:function(){return this.children?this.children.length:0}}},be?(Te(Element.prototype,Ce),Te(Element.prototype,["previousElementSibling","nextElementSibling","innerHTML","className"]),Te(HTMLElement.prototype,["children","innerHTML","className"])):(ke(Element.prototype,gr),ke(Element.prototype,{previousElementSibling:{get:function(){return Ae.currentNode=this,Ae.previousSibling()}},nextElementSibling:{get:function(){return Ae.currentNode=this,Ae.nextSibling()}},innerHTML:{get:function(){return ve(this,Kt)},set:function(t){var e="template"===this.localName?this.content:this;Ee(e);var n=this.localName||"div";for((n=this.namespaceURI&&this.namespaceURI!==Se.namespaceURI?Se.createElementNS(this.namespaceURI,n):Se.createElement(n)).innerHTML=t,t="template"===this.localName?n.content:n;n=t.__shady_native_firstChild;)e.__shady_native_insertBefore(n,void 0)}},className:{get:function(){return this.getAttribute("class")||""},set:function(t){this.setAttribute("class",t)}}})),Te(Element.prototype,"setAttribute getAttribute hasAttribute removeAttribute focus blur".split(" ")),Te(Element.prototype,Oe),Te(HTMLElement.prototype,["focus","blur"]),window.HTMLTemplateElement&&Te(window.HTMLTemplateElement.prototype,["innerHTML"]),be?Te(DocumentFragment.prototype,Ce):ke(DocumentFragment.prototype,gr),Te(DocumentFragment.prototype,Oe),be?(Te(Document.prototype,Ce),Te(Document.prototype,["activeElement"])):ke(Document.prototype,gr),Te(Document.prototype,["importNode","getElementById"]),Te(Document.prototype,Oe),Fn("__shady_"),Object.defineProperty(document,"_activeElement",Nn.activeElement),ee(Window.prototype,W,"__shady_"),zt.D?zt.ua&&ee(Element.prototype,Ie):(Fn(),!Ue&&Object.getOwnPropertyDescriptor(Event.prototype,"isTrusted")&&(pr=function(){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,composed:!0});this.__shady_dispatchEvent(t)},Element.prototype.click?Element.prototype.click=pr:HTMLElement.prototype.click&&(HTMLElement.prototype.click=pr))),function(){for(var t in Qe)window.__shady_native_addEventListener(t,function(t){t.__target||(sn(t),tn(t))},!0)}(),window.Event=ln,window.CustomEvent=St,window.MouseEvent=Mt,window.ShadowRoot=er);var vr=window.Document.prototype.createElement,br=window.Document.prototype.createElementNS,xr=window.Document.prototype.importNode,_r=window.Document.prototype.prepend,wr=window.Document.prototype.append,kr=window.DocumentFragment.prototype.prepend,Tr=window.DocumentFragment.prototype.append,Mr=window.Node.prototype.cloneNode,Ar=window.Node.prototype.appendChild,Sr=window.Node.prototype.insertBefore,Er=window.Node.prototype.removeChild,Cr=window.Node.prototype.replaceChild,Or=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),jr=window.Element.prototype.attachShadow,Pr=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),Nr=window.Element.prototype.getAttribute,Lr=window.Element.prototype.setAttribute,Rr=window.Element.prototype.removeAttribute,Dr=window.Element.prototype.getAttributeNS,Ir=window.Element.prototype.setAttributeNS,Fr=window.Element.prototype.removeAttributeNS,zr=window.Element.prototype.insertAdjacentElement,Br=window.Element.prototype.insertAdjacentHTML,Ur=window.Element.prototype.prepend,Hr=window.Element.prototype.append,qr=window.Element.prototype.before,Vr=window.Element.prototype.after,Gr=window.Element.prototype.replaceWith,Wr=window.Element.prototype.remove,Yr=window.HTMLElement,Xr=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),Zr=window.HTMLElement.prototype.insertAdjacentElement,$r=window.HTMLElement.prototype.insertAdjacentHTML,Qr=new Set;function Kr(t){var e=Qr.has(t);return t=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(t),!e&&t}"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach(function(t){return Qr.add(t)});var Jr=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function ti(t){var e=t.isConnected;if(void 0!==e)return e;if(Jr(t))return!0;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function ei(t){var e=t.children;if(e)return Array.prototype.slice.call(e);for(e=[],t=t.firstChild;t;t=t.nextSibling)t.nodeType===Node.ELEMENT_NODE&&e.push(t);return e}function ni(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function ri(){var t=!(null==Ti||!Ti.noDocumentConstructionObserver),e=!(null==Ti||!Ti.shadyDomFastWalk);this.X=[],this.a=[],this.R=!1,this.shadyDomFastWalk=e,this.jb=!t}function ii(t,e,n,r){var i=window.ShadyDom;if(t.shadyDomFastWalk&&i&&i.inUse){if(e.nodeType===Node.ELEMENT_NODE&&n(e),e.querySelectorAll)for(t=i.nativeMethods.querySelectorAll.call(e,"*"),e=0;e<t.length;e++)n(t[e])}else!function t(e,n,r){for(var i=e;i;){if(i.nodeType===Node.ELEMENT_NODE){var o=i;n(o);var a=o.localName;if("link"===a&&"import"===o.getAttribute("rel")){if(i=o.import,void 0===r&&(r=new Set),i instanceof Node&&!r.has(i))for(r.add(i),i=i.firstChild;i;i=i.nextSibling)t(i,n,r);i=ni(e,o);continue}if("template"===a){i=ni(e,o);continue}if(o=o.__CE_shadowRoot)for(o=o.firstChild;o;o=o.nextSibling)t(o,n,r)}i=i.firstChild||ni(e,i)}}(e,n,r)}function oi(e,t){e.R&&ii(e,t,function(t){return ai(e,t)})}function ai(t,e){if(t.R&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.X.length;n++)t.X[n](e);for(n=0;n<t.a.length;n++)t.a[n](e)}}function si(t,e){var n=[];for(ii(t,e,function(t){return n.push(t)}),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state?t.connectedCallback(r):ci(t,r)}}function li(t,e){var n=[];for(ii(t,e,function(t){return n.push(t)}),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state&&t.disconnectedCallback(r)}}function ui(r,t,e){var i=(e=void 0===e?{}:e).kb,o=e.upgrade||function(t){return ci(r,t)},a=[];for(ii(r,t,function(n){var t;r.R&&ai(r,n),"link"===n.localName&&"import"===n.getAttribute("rel")?((t=n.import)instanceof Node&&(t.__CE_isImportDocument=!0,t.__CE_registry=document.__CE_registry),t&&"complete"===t.readyState?t.__CE_documentLoadHandled=!0:n.addEventListener("load",function(){var e,t=n.import;t.__CE_documentLoadHandled||(t.__CE_documentLoadHandled=!0,e=new Set,i&&(i.forEach(function(t){return e.add(t)}),e.delete(t)),ui(r,t,{kb:e,upgrade:o}))})):a.push(n)},i),t=0;t<a.length;t++)o(a[t])}function ci(t,e){try{var n=e.ownerDocument,r=n.__CE_registry;if((o=r&&(n.defaultView||n.__CE_isImportDocument)?xi(r,e.localName):void 0)&&void 0===e.__CE_state){o.constructionStack.push(e);try{try{if(new o.constructorFunction!==e)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{o.constructionStack.pop()}}catch(t){throw e.__CE_state=2,t}if(e.__CE_state=1,(e.__CE_definition=o).attributeChangedCallback&&e.hasAttributes())for(var i=o.observedAttributes,o=0;o<i.length;o++){var a=i[o],s=e.getAttribute(a);null!==s&&t.attributeChangedCallback(e,a,null,s,null)}ti(e)&&t.connectedCallback(e)}}catch(t){hi(t)}}function fi(e,n,r,i){var t=n.__CE_registry;if(t&&(null===i||"http://www.w3.org/1999/xhtml"===i)&&(t=xi(t,r)))try{var o=new t.constructorFunction;if(void 0===o.__CE_state||void 0===o.__CE_definition)throw Error("Failed to construct '"+r+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==o.namespaceURI)throw Error("Failed to construct '"+r+"': The constructed element's namespace must be the HTML namespace.");if(o.hasAttributes())throw Error("Failed to construct '"+r+"': The constructed element must not have any attributes.");if(null!==o.firstChild)throw Error("Failed to construct '"+r+"': The constructed element must not have any children.");if(null!==o.parentNode)throw Error("Failed to construct '"+r+"': The constructed element must not have a parent node.");if(o.ownerDocument!==n)throw Error("Failed to construct '"+r+"': The constructed element's owner document is incorrect.");if(o.localName!==r)throw Error("Failed to construct '"+r+"': The constructed element's local name is incorrect.");return o}catch(t){return hi(t),n=null===i?vr.call(n,r):br.call(n,i,r),Object.setPrototypeOf(n,HTMLUnknownElement.prototype),n.__CE_state=2,n.__CE_definition=void 0,ai(e,n),n}return ai(e,n=null===i?vr.call(n,r):br.call(n,i,r)),n}function hi(t){var e=t.message,n=t.sourceURL||t.fileName||"",r=t.line||t.lineNumber||0,i=t.column||t.columnNumber||0,o=void 0;void 0===ErrorEvent.prototype.initErrorEvent?o=new ErrorEvent("error",{cancelable:!0,message:e,filename:n,lineno:r,colno:i,error:t}):((o=document.createEvent("ErrorEvent")).initErrorEvent("error",!1,!0,e,n,r),o.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),void 0===o.error&&Object.defineProperty(o,"error",{configurable:!0,enumerable:!0,get:function(){return t}}),window.dispatchEvent(o),o.defaultPrevented||console.error(t)}function di(){var e=this;this.C=void 0,this.Ca=new Promise(function(t){e.a=t})}function pi(t){var e=document;this.S=void 0,this.M=t,this.a=e,ui(this.M,this.a),"loading"===this.a.readyState&&(this.S=new MutationObserver(this.b.bind(this)),this.S.observe(this.a,{childList:!0,subtree:!0}))}function gi(t){t.S&&t.S.disconnect()}function mi(t){this.fa=new Map,this.ga=new Map,this.xa=new Map,this.na=!1,this.qa=new Map,this.ea=function(t){return t()},this.P=!1,this.ha=[],this.M=t,this.ya=t.jb?new pi(t):void 0}function yi(t,e){if(!Kr(e))throw new SyntaxError("The element name '"+e+"' is not valid.");if(xi(t,e))throw Error("A custom element with name '"+e+"' has already been defined.");if(t.na)throw Error("A custom element is already being defined.")}function vi(t,e,n){var r;t.na=!0;try{var i=n.prototype;if(!(i instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var o=function(t){var e=i[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e},a=o("connectedCallback"),s=o("disconnectedCallback"),l=o("adoptedCallback"),u=(r=o("attributeChangedCallback"))&&n.observedAttributes||[]}catch(t){throw t}finally{t.na=!1}return n={localName:e,constructorFunction:n,connectedCallback:a,disconnectedCallback:s,adoptedCallback:l,attributeChangedCallback:r,observedAttributes:u,constructionStack:[]},t.ga.set(e,n),t.xa.set(n.constructorFunction,n),n}function bi(r){if(!1!==r.P){r.P=!1;for(var i=[],t=r.ha,o=new Map,e=0;e<t.length;e++)o.set(t[e],[]);for(ui(r.M,document,{upgrade:function(t){var e,n;void 0===t.__CE_state&&(e=t.localName,(n=o.get(e))?n.push(t):r.ga.has(e)&&i.push(t))}}),e=0;e<i.length;e++)ci(r.M,i[e]);for(e=0;e<t.length;e++){for(var n=t[e],a=o.get(n),s=0;s<a.length;s++)ci(r.M,a[s]);(n=r.qa.get(n))&&n.resolve(void 0)}t.length=0}}function xi(t,e){var n=t.ga.get(e);if(n)return n;if(n=t.fa.get(e)){t.fa.delete(e);try{return vi(t,e,n())}catch(t){hi(t)}}}function _i(s,t,e){function n(a){return function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];n=[];for(var r=[],i=0;i<e.length;i++){var o=e[i];if(o instanceof Element&&ti(o)&&r.push(o),o instanceof DocumentFragment)for(o=o.firstChild;o;o=o.nextSibling)n.push(o);else n.push(o)}for(a.apply(this,e),e=0;e<r.length;e++)li(s,r[e]);if(ti(this))for(e=0;e<n.length;e++)(r=n[e])instanceof Element&&si(s,r)}}void 0!==e.prepend&&(t.prepend=n(e.prepend)),void 0!==e.append&&(t.append=n(e.append))}function wi(a){function e(t,o){Object.defineProperty(t,"innerHTML",{enumerable:o.enumerable,configurable:!0,get:o.get,set:function(t){var e=this,n=void 0;if(ti(this)&&(n=[],ii(a,this,function(t){t!==e&&n.push(t)})),o.set.call(this,t),n)for(var r=0;r<n.length;r++){var i=n[r];1===i.__CE_state&&a.disconnectedCallback(i)}return(this.ownerDocument.__CE_registry?ui:oi)(a,this),t}})}function t(t,r){t.insertAdjacentElement=function(t,e){var n=ti(e);return t=r.call(this,t,e),n&&li(a,e),ti(t)&&si(a,e),t}}function n(t,r){function i(t,e){for(var n=[];t!==e;t=t.nextSibling)n.push(t);for(e=0;e<n.length;e++)ui(a,n[e])}t.insertAdjacentHTML=function(t,e){if("beforebegin"===(t=t.toLowerCase())){var n=this.previousSibling;r.call(this,t,e),i(n||this.parentNode.firstChild,this)}else if("afterbegin"===t)n=this.firstChild,r.call(this,t,e),i(this.firstChild,n);else if("beforeend"===t)n=this.lastChild,r.call(this,t,e),i(n||this.firstChild,null);else{if("afterend"!==t)throw new SyntaxError("The value provided ("+String(t)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");n=this.nextSibling,r.call(this,t,e),i(this.nextSibling,n)}}}var r,s,i;function o(a){return function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];n=[];for(var r=[],i=0;i<e.length;i++){var o=e[i];if(o instanceof Element&&ti(o)&&r.push(o),o instanceof DocumentFragment)for(o=o.firstChild;o;o=o.nextSibling)n.push(o);else n.push(o)}for(a.apply(this,e),e=0;e<r.length;e++)li(s,r[e]);if(ti(this))for(e=0;e<n.length;e++)(r=n[e])instanceof Element&&si(s,r)}}jr&&(Element.prototype.attachShadow=function(t){if(t=jr.call(this,t),a.R&&!t.__CE_patched){t.__CE_patched=!0;for(var e=0;e<a.X.length;e++)a.X[e](t)}return this.__CE_shadowRoot=t}),Pr&&Pr.get?e(Element.prototype,Pr):Xr&&Xr.get?e(HTMLElement.prototype,Xr):(i=function(t){e(t,{enumerable:!0,configurable:!0,get:function(){return Mr.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName,n=e?this.content:this,r=br.call(document,this.namespaceURI,this.localName);for(r.innerHTML=t;0<n.childNodes.length;)Er.call(n,n.childNodes[0]);for(t=e?r.content:r;0<t.childNodes.length;)Ar.call(n,t.childNodes[0])}})},(r=a).R=!0,r.a.push(i)),Element.prototype.setAttribute=function(t,e){if(1!==this.__CE_state)return Lr.call(this,t,e);var n=Nr.call(this,t);Lr.call(this,t,e),e=Nr.call(this,t),a.attributeChangedCallback(this,t,n,e,null)},Element.prototype.setAttributeNS=function(t,e,n){if(1!==this.__CE_state)return Ir.call(this,t,e,n);var r=Dr.call(this,t,e);Ir.call(this,t,e,n),n=Dr.call(this,t,e),a.attributeChangedCallback(this,e,r,n,t)},Element.prototype.removeAttribute=function(t){if(1!==this.__CE_state)return Rr.call(this,t);var e=Nr.call(this,t);Rr.call(this,t),null!==e&&a.attributeChangedCallback(this,t,e,null,null)},Element.prototype.removeAttributeNS=function(t,e){if(1!==this.__CE_state)return Fr.call(this,t,e);var n=Dr.call(this,t,e);Fr.call(this,t,e);var r=Dr.call(this,t,e);n!==r&&a.attributeChangedCallback(this,e,n,r,t)},Zr?t(HTMLElement.prototype,Zr):zr&&t(Element.prototype,zr),$r?n(HTMLElement.prototype,$r):Br&&n(Element.prototype,Br),_i(a,Element.prototype,{prepend:Ur,append:Hr}),s=a,i=Element.prototype,void 0!==qr&&(i.before=o(qr)),void 0!==Vr&&(i.after=o(Vr)),void 0!==Gr&&(i.replaceWith=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];n=[];for(var r=[],i=0;i<e.length;i++){var o=e[i];if(o instanceof Element&&ti(o)&&r.push(o),o instanceof DocumentFragment)for(o=o.firstChild;o;o=o.nextSibling)n.push(o);else n.push(o)}for(i=ti(this),Gr.apply(this,e),e=0;e<r.length;e++)li(s,r[e]);if(i)for(li(s,this),e=0;e<n.length;e++)(r=n[e])instanceof Element&&si(s,r)}),void 0!==Wr&&(i.remove=function(){var t=ti(this);Wr.call(this),t&&li(s,this)})}ri.prototype.connectedCallback=function(t){var e=t.__CE_definition;if(e.connectedCallback)try{e.connectedCallback.call(t)}catch(t){hi(t)}},ri.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;if(e.disconnectedCallback)try{e.disconnectedCallback.call(t)}catch(t){hi(t)}},ri.prototype.attributeChangedCallback=function(t,e,n,r,i){var o=t.__CE_definition;if(o.attributeChangedCallback&&-1<o.observedAttributes.indexOf(e))try{o.attributeChangedCallback.call(t,e,n,r,i)}catch(t){hi(t)}},di.prototype.resolve=function(t){if(this.C)throw Error("Already resolved.");this.C=t,this.a(t)},pi.prototype.b=function(t){var e=this.a.readyState;for("interactive"!==e&&"complete"!==e||gi(this),e=0;e<t.length;e++)for(var n=t[e].addedNodes,r=0;r<n.length;r++)ui(this.M,n[r])},(Qn=mi.prototype).$a=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");yi(this,t),this.fa.set(t,e),this.ha.push(t),this.P||(this.P=!0,this.ea(function(){return bi(n)}))},Qn.define=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");yi(this,t),vi(this,t,e),this.ha.push(t),this.P||(this.P=!0,this.ea(function(){return bi(n)}))},Qn.upgrade=function(t){ui(this.M,t)},Qn.get=function(t){if(t=xi(this,t))return t.constructorFunction},Qn.whenDefined=function(t){if(!Kr(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.qa.get(t);if(e)return e.Ca;e=new di,this.qa.set(t,e);var n=this.ga.has(t)||this.fa.has(t);return t=-1===this.ha.indexOf(t),n&&t&&e.resolve(void 0),e.Ca},Qn.polyfillWrapFlushCallback=function(e){this.ya&&gi(this.ya);var n=this.ea;this.ea=function(t){return e(function(){return n(t)})}},(window.CustomElementRegistry=mi).prototype.polyfillDefineLazy=mi.prototype.$a;var ki={};var Ti=window.customElements;function Mi(){var o,n,a,t,e,r=new ri;function i(){var t=this.constructor,e=document.__CE_registry.xa.get(t);if(!e)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var n=e.constructionStack;if(0===n.length)return n=vr.call(document,e.localName),Object.setPrototypeOf(n,t.prototype),n.__CE_state=1,n.__CE_definition=e,ai(o,n),n;var r=n.length-1,i=n[r];if(i===ki)throw Error("Failed to construct '"+e.localName+"': This element was already constructed.");return n[r]=ki,Object.setPrototypeOf(i,t.prototype),ai(o,i),i}function s(t,o){Object.defineProperty(t,"textContent",{enumerable:o.enumerable,configurable:!0,get:o.get,set:function(t){if(this.nodeType===Node.TEXT_NODE)o.set.call(this,t);else{var e=void 0;if(this.firstChild){var n=this.childNodes,r=n.length;if(0<r&&ti(this)){e=Array(r);for(var i=0;i<r;i++)e[i]=n[i]}}if(o.set.call(this,t),e)for(t=0;t<e.length;t++)li(a,e[t])}}})}o=r,i.prototype=Yr.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:i}),window.HTMLElement=i,n=r,Document.prototype.createElement=function(t){return fi(n,this,t,null)},Document.prototype.importNode=function(t,e){return t=xr.call(this,t,!!e),(this.__CE_registry?ui:oi)(n,t),t},Document.prototype.createElementNS=function(t,e){return fi(n,this,e,t)},_i(n,Document.prototype,{prepend:_r,append:wr}),_i(r,DocumentFragment.prototype,{prepend:kr,append:Tr}),a=r,Node.prototype.insertBefore=function(t,e){if(t instanceof DocumentFragment){var n=ei(t);if(t=Sr.call(this,t,e),ti(this))for(e=0;e<n.length;e++)si(a,n[e]);return t}return n=t instanceof Element&&ti(t),e=Sr.call(this,t,e),n&&li(a,t),ti(this)&&si(a,t),e},Node.prototype.appendChild=function(t){if(t instanceof DocumentFragment){var e=ei(t);if(t=Ar.call(this,t),ti(this))for(var n=0;n<e.length;n++)si(a,e[n]);return t}return e=t instanceof Element&&ti(t),n=Ar.call(this,t),e&&li(a,t),ti(this)&&si(a,t),n},Node.prototype.cloneNode=function(t){return t=Mr.call(this,!!t),(this.ownerDocument.__CE_registry?ui:oi)(a,t),t},Node.prototype.removeChild=function(t){var e=t instanceof Element&&ti(t),n=Er.call(this,t);return e&&li(a,t),n},Node.prototype.replaceChild=function(t,e){if(t instanceof DocumentFragment){var n=ei(t);if(t=Cr.call(this,t,e),ti(this))for(li(a,e),e=0;e<n.length;e++)si(a,n[e]);return t}n=t instanceof Element&&ti(t);var r=Cr.call(this,t,e),i=ti(this);return i&&li(a,e),n&&li(a,t),i&&si(a,t),r},Or&&Or.get?s(Node.prototype,Or):(e=function(t){s(t,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=this.firstChild;e;e=e.nextSibling)e.nodeType!==Node.COMMENT_NODE&&t.push(e.textContent);return t.join("")},set:function(t){for(;this.firstChild;)Er.call(this,this.firstChild);null!=t&&""!==t&&Ar.call(this,document.createTextNode(t))}})},(t=a).R=!0,t.X.push(e)),wi(r),r=new mi(r),document.__CE_registry=r,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:r})}function Ai(){this.end=this.start=0,this.rules=this.parent=this.previous=null,this.cssText=this.parsedCssText="",this.atRule=!1,this.type=0,this.parsedSelector=this.selector=this.keyframesName=""}function Si(t){var e=t=t.replace(Ri,"").replace(Di,""),n=new Ai;n.start=0,n.end=e.length;for(var r,i,o=n,a=0,s=e.length;a<s;a++)"{"===e[a]?(o.rules||(o.rules=[]),i=(r=o).rules[r.rules.length-1]||null,(o=new Ai).start=a+1,o.parent=r,o.previous=i,r.rules.push(o)):"}"===e[a]&&(o.end=a+1,o=o.parent||n);return function t(e,n){var r=n.substring(e.start,e.end-1);e.parsedCssText=e.cssText=r.trim();e.parent&&(r=n.substring(e.previous?e.previous.end:e.parent.start,e.start-1),r=Ei(r),r=r.replace(Hi," "),r=r.substring(r.lastIndexOf(";")+1),r=e.parsedSelector=e.selector=r.trim(),e.atRule=0===r.indexOf("@"),e.atRule?0===r.indexOf("@media")?e.type=Ni:r.match(Ui)&&(e.type=Pi,e.keyframesName=e.selector.split(Hi).pop()):e.type=0===r.indexOf("--")?Li:ji);if(r=e.rules)for(var i=0,o=r.length,a=void 0;i<o&&(a=r[i]);i++)t(a,n);return e}(n,t)}function Ei(t){return t.replace(/\\([0-9a-f]{1,6})\s/gi,function(t,e){for(e=6-(t=e).length;e--;)t="0"+t;return"\\"+t})}Ti&&!Ti.forcePolyfill&&"function"==typeof Ti.define&&"function"==typeof Ti.get||Mi(),window.__CE_installPolyfill=Mi;var Ci,Oi,ji=1,Pi=7,Ni=4,Li=1e3,Ri=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,Di=/@import[^;]*;/gim,Ii=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,Fi=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,zi=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,Bi=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,Ui=/^@[^\s]*keyframes/,Hi=/\s+/g,qi=!(window.ShadyDOM&&window.ShadyDOM.inUse);function Vi(t){Ci=(!t||!t.shimcssproperties)&&(qi||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(Oi=window.ShadyCSS.cssBuild);var Gi=!(!window.ShadyCSS||!window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?Ci=window.ShadyCSS.nativeCss:window.ShadyCSS?(Vi(window.ShadyCSS),window.ShadyCSS=void 0):Vi(window.WebComponents&&window.WebComponents.flags);var Wi=Ci,Yi=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,Xi=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,Zi=/(--[\w-]+)\s*([:,;)]|$)/gi,$i=/(animation\s*:)|(animation-name\s*:)/,Qi=/@media\s(.*)/,Ki=/\{[^}]*\}/g,Ji=new Set;function to(t,e){return t?("string"==typeof t&&(t=Si(t)),e&&ro(t,e),function t(e,n,r){r=void 0===r?"":r;var i="";if(e.cssText||e.rules){var o,a=e.rules;if((o=a)&&(o=!((o=a[0])&&o.selector&&0===o.selector.indexOf("--"))),o){o=0;for(var s=a.length,l=void 0;o<s&&(l=a[o]);o++)i=t(l,n,i)}else(i=(n=n?e.cssText:(n=(n=e.cssText).replace(Ii,"").replace(Fi,"")).replace(zi,"").replace(Bi,"")).trim())&&(i="  "+i+"\n")}return i&&(e.selector&&(r+=e.selector+" {\n"),r+=i,e.selector&&(r+="}\n\n")),r}(t,Wi)):""}function eo(t){return!t.__cssRules&&t.textContent&&(t.__cssRules=Si(t.textContent)),t.__cssRules||null}function no(t){return t.parent&&t.parent.type===Pi}function ro(t,e,n,r){if(t){var i,o=!1,a=t.type;if(!r||a!==Ni||(i=t.selector.match(Qi))&&(window.matchMedia(i[1]).matches||(o=!0)),a===ji?e(t):n&&a===Pi?n(t):a===Li&&(o=!0),(t=t.rules)&&!o)for(o=0,a=t.length,i=void 0;o<a&&(i=t[o]);o++)ro(i,e,n,r)}}function io(t,e,n,r){var i=document.createElement("style");return e&&i.setAttribute("scope",e),i.textContent=t,so(i,n,r),i}var oo=null;function ao(t){t=document.createComment(" Shady DOM styles for "+t+" ");var e=document.head;return e.insertBefore(t,(oo?oo.nextSibling:null)||e.firstChild),oo=t}function so(t,e,n){(e=e||document.head).insertBefore(t,n&&n.nextSibling||e.firstChild),oo&&t.compareDocumentPosition(oo)!==Node.DOCUMENT_POSITION_PRECEDING||(oo=t)}function lo(t,e){for(var n=0,r=t.length;e<r;e++)if("("===t[e])n++;else if(")"===t[e]&&0==--n)return e;return-1}function uo(t,e){qi?t.setAttribute("class",e):window.ShadyDOM.nativeMethods.setAttribute.call(t,"class",e)}var co=window.ShadyDOM&&window.ShadyDOM.wrap||function(t){return t};function fo(t){var e=t.localName,n="";return e?-1<e.indexOf("-")||(n=e,e=t.getAttribute&&t.getAttribute("is")||""):(e=t.is,n=t.extends),{is:e,ca:n}}function ho(t){for(var e,n=[],r="",i=0;0<=i&&i<t.length;i++)"("===t[i]?(e=lo(t,i),r+=t.slice(i,e+1),i=e):","===t[i]?(n.push(r),r=""):r+=t[i];return r&&n.push(r),n}function po(t){return void 0!==Oi?Oi:(void 0===t.__cssBuild&&((n=t.getAttribute("css-build"))||""!==(n=(n=("template"===t.localName?t.content:t).firstChild)instanceof Comment&&"css-build"===(n=n.textContent.trim().split(":"))[0]?n[1]:"")&&(e=("template"===t.localName?t.content:t).firstChild).parentNode.removeChild(e),t.__cssBuild=n),t.__cssBuild||"");var e,n}function go(t){return!(""===(t=void 0===t?"":t)||!Wi)&&(qi?"shadow"===t:"shady"===t)}function mo(){}function yo(t,e,n){var r;if(e.nodeType===Node.ELEMENT_NODE&&n(e),r="template"===e.localName?(e.content||e._content||e).childNodes:e.children||e.childNodes)for(e=0;e<r.length;e++)yo(t,r[e],n)}function vo(t,e,n){var r;e&&(t.classList?n?(t.classList.remove("style-scope"),t.classList.remove(e)):(t.classList.add("style-scope"),t.classList.add(e)):t.getAttribute&&(r=t.getAttribute("class"),n?r&&uo(t,e=r.replace("style-scope","").replace(e,"")):uo(t,(r?r+" ":"")+"style-scope "+e)))}function bo(t,e,n,r,i){var o,a,s,l,u=No;return""===(i=void 0===i?"":i)&&(i=qi||"shady"===(void 0===r?"":r)?to(e,n):(t=fo(t),o=u,e=e,a=t.is,t=t.ca,s=n,l=xo(a,t),a=a?"."+a:"",to(e,function(t){t.c||(t.selector=t.w=_o(o,t,o.b,a,l),t.c=!0),s&&s(t,a,l)})+"\n\n")),i.trim()}function xo(t,e){return e?"[is="+t+"]":t}function _o(t,e,n,r,i){var o=ho(e.selector);if(!no(e)){e=0;for(var a=o.length,s=void 0;e<a&&(s=o[e]);e++)o[e]=n.call(t,s,r,i)}return o.filter(function(t){return!!t}).join(",")}function wo(t){return t.replace(Mo,function(t,e,n){return-1<n.indexOf("+")?n=n.replace(/\+/g,"___"):-1<n.indexOf("___")&&(n=n.replace(/___/g,"+")),":"+e+"("+n+")"})}function ko(t,e){t=t.split(/(\[.+?\])/);for(var n,r=[],i=0;i<t.length;i++)1==i%2?r.push(t[i]):""===(n=t[i])&&i===t.length-1||((n=n.split(":"))[0]+=e,r.push(n.join(":")));return r.join("")}function To(t){":root"===t.selector&&(t.selector="html")}mo.prototype.b=function(t,r,i){var o=!1;t=t.trim();var e=Mo.test(t);e&&(t=wo(t=t.replace(Mo,function(t,e,n){return":"+e+"("+n.replace(/\s/g,"")+")"})));var n,a,s=Po.test(t);return s&&(t=(n=function(t){for(var e,n=[];e=t.match(Po);){var r=e.index,i=lo(t,r);if(-1===i)throw Error(e.input+" selector missing ')'");e=t.slice(r,i+1),t=t.replace(e,""),n.push(e)}return{wa:t,matches:n}}(t)).wa,n=n.matches),t=(t=t.replace(Eo,":host $1")).replace(Ao,function(t,e,n){return o||(t=function(t,e,n,r){var i=t.indexOf("::slotted");{var o;0<=t.indexOf(":host")?t=function(t,r){var e=t.match(Co);return(e=e&&e[2].trim()||"")?e[0].match(So)?t.replace(Co,function(t,e,n){return r+n}):e.split(So)[0]===r?e:"should_not_match":t.replace(":host",r)}(t,r):0!==i&&(t=n?ko(t,n):t),n=!1,0<=i&&(n=!(e="")),n&&(o=!0,n&&(t=t.replace(Oo,function(t,e){return" > "+e})))}return{value:t,Qa:e,stop:o}}(n,e,r,i),o=o||t.stop,e=t.Qa,n=t.value),e+n}),s&&(n=n,a=t.split(""),t=n.reduce(function(t,e,n){return t+e+a[n+1]},a[0])),e&&(t=wo(t)),t.replace(jo,function(t,e,n,r){return'[dir="'+n+'"] '+e+r+", "+e+'[dir="'+n+'"]'+r})},mo.prototype.c=function(t){return t.match(":host")?"":t.match("::slotted")?this.b(t,":not(.style-scope)"):ko(t.trim(),":not(.style-scope)")},e.Object.defineProperties(mo.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"style-scope"}}});var Mo=/:(nth[-\w]+)\(([^)]+)\)/,Ao=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=[])+)/g,So=/[[.:#*]/,Eo=/^(::slotted)/,Co=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,Oo=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,jo=/(.*):dir\((?:(ltr|rtl))\)(.*)/,Po=/:(?:matches|any|-(?:webkit|moz)-any)/,No=new mo;function Lo(t,e,n,r,i){this.H=t||null,this.b=e||null,this.ta=n||[],this.F=null,this.cssBuild=i||"",this.ca=r||"",this.a=this.G=this.L=null}function Ro(t){return t?t.__styleInfo:null}function Do(t,e){return t.__styleInfo=e}function Io(t){var e=this.matches||this.matchesSelector||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector;return e&&e.call(this,t)}Lo.prototype._getStyleRules=Lo.prototype.c=function(){return this.H};var Fo=/:host\s*>\s*/,zo=navigator.userAgent.match("Trident");function Bo(){}function Uo(t){var e,n;t.v||(e={},Ho(t,n={})&&(e.K=n,t.rules=null),e.cssText=t.parsedCssText.replace(Ki,"").replace(Yi,""),t.v=e)}function Ho(t,e){var n,r=t.v;if(r)return r.K&&(Object.assign(e,r.K),1);for(r=t.parsedCssText;t=Yi.exec(r);)"inherit"===(n=(t[2]||t[3]).trim())&&"unset"===n||(e[t[1].trim()]=n),n=!0;return n}function qo(i,t,o){return(t=t&&(0<=t.indexOf(";")?Vo(i,t,o):function t(e,n){if(-1===(o=e.indexOf("var(")))return n(e,"","","");var r=lo(e,o+3),i=e.substring(o+4,r),o=e.substring(0,o);return e=t(e.substring(r+1),n),-1===(r=i.indexOf(","))?n(o,i.trim(),"",e):n(o,i.substring(0,r).trim(),i.substring(r+1).trim(),e)}(t,function(t,e,n,r){return e?((e=qo(i,o[e],o))&&"initial"!==e?"apply-shim-inherit"===e&&(e="inherit"):e=qo(i,o[n]||n,o)||n,t+(e||"")+r):t+r})))&&t.trim()||""}function Vo(t,e,n){e=e.split(";");for(var r,i,o,a=0;a<e.length;a++)(r=e[a])&&(Xi.lastIndex=0,(o=Xi.exec(r))?r=qo(t,n[o[1]],n):-1!==(o=r.indexOf(":"))&&(i=qo(t,i=(i=r.substring(o)).trim(),n)||i,r=r.substring(0,o)+i),e[a]=r&&r.lastIndexOf(";")===r.length-1?r.slice(0,-1):r||"");return e.join(";")}function Go(u,t,c){var f={},h={};return ro(t,function(e){var t,n,r,i,o,a,s,l;t=u,r=c,i=function(t){Io.call(u._element||u,t.wa)&&(t.Xa?Ho(e,f):Ho(e,h))},(n=e).v||Uo(n),n.v.K&&(t=(o=fo(t)).is,o=o.ca,o=t?xo(t,o):"html",s=!!(a=n.parsedSelector).match(Fo)||"html"===o&&-1<a.indexOf("html"),l=0===a.indexOf(":host")&&!s,"shady"===r&&(l=!(s=a===o+" > *."+o||-1!==a.indexOf("html"))&&0===a.indexOf(o)),(s||l)&&(r=o,l&&(n.w||(n.w=_o(No,n,No.b,t?"."+t:"",o)),r=n.w||o),s&&"html"===o&&(r=n.w||n.J),i({wa:r,Xa:l,mb:s})))},null,!0),{cb:h,Va:f}}function Wo(a,t,s,l){var u=xo((e=fo(t)).is,e.ca),c=new RegExp("(?:^|[^.#[:])"+(t.extends?"\\"+u.slice(0,-1)+"\\]":u)+"($|[.:[\\s>+~])"),e=(n=Ro(t)).H,n=n.cssBuild,f=function(t,e){t=t.b;var n={};if(!qi&&t)for(var r=0,i=t[r];r<t.length;i=t[++r]){var o=i,a=e;o.l=new RegExp("\\b"+o.keyframesName+"(?!\\B|-)","g"),o.a=o.keyframesName+"-"+a,o.w=o.w||o.selector,o.selector=o.w.replace(o.keyframesName,o.a),n[i.keyframesName]=function(e){return function(t){return t.replace(e.l,e.a)}}(i)}return n}(e,l);return bo(t,e,function(t){var e="";if(t.v||Uo(t),t.v.cssText&&(e=Vo(a,t.v.cssText,s)),t.cssText=e,!qi&&!no(t)&&t.cssText){var n=e=t.cssText;if(null==t.Da&&(t.Da=$i.test(e)),t.Da)if(null==t.ka)for(var r in t.ka=[],f)e!==(n=(n=f[r])(e))&&(e=n,t.ka.push(r));else{for(r=0;r<t.ka.length;++r)e=(n=f[t.ka[r]])(e);n=e}t.cssText=n,t.w=t.w||t.selector,e="."+l,n=0;for(var i=(r=ho(t.w)).length,o=void 0;n<i&&(o=r[n]);n++)r[n]=o.match(c)?o.replace(u,e):e+" "+o;t.selector=r.join(",")}},n)}e.Object.defineProperties(Bo.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"x-scope"}}});var Yo,Xo=new Bo,Zo={},$o=window.customElements;function Qo(){this.cache={}}function Ko(){}!$o||qi||Gi||(Yo=$o.define,$o.define=function(t,e,n){Zo[t]||(Zo[t]=ao(t)),Yo.call($o,t,e,n)}),Qo.prototype.store=function(t,e,n,r){var i=this.cache[t]||[];i.push({K:e,styleElement:n,G:r}),100<i.length&&i.shift(),this.cache[t]=i};var Jo,ta,ea,na=new RegExp(No.a+"\\s*([^\\s]*)");function ra(t){return(t=(t.classList&&t.classList.value?t.classList.value:t.getAttribute("class")||"").match(na))?t[1]:""}function ia(t){var e=co(t).getRootNode();return e!==t&&e!==t.ownerDocument&&(t=e.host)?fo(t).is:""}function oa(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.target!==document.documentElement&&n.target!==document.head)for(var r=0;r<n.addedNodes.length;r++){var i=n.addedNodes[r];if(i.nodeType===Node.ELEMENT_NODE){var o=i.getRootNode(),a=ra(i);if(a&&o===i.ownerDocument&&("style"!==i.localName&&"template"!==i.localName||""===po(i)))!function(e){yo(No,i,function(t){vo(t,e||"",!0)})}(a);else if(o instanceof ShadowRoot)for((o=ia(i))!==a&&function(t,e,n){yo(No,t,function(t){vo(t,e,!0),vo(t,n)})}(i,a,o),i=window.ShadyDOM.nativeMethods.querySelectorAll.call(i,":not(."+No.a+")"),a=0;a<i.length;a++){var s=ia(o=i[a]);s&&vo(o,s)}}}}}qi||window.ShadyDOM&&window.ShadyDOM.handlesDynamicScoping||(Jo=new MutationObserver(oa),ta=function(t){Jo.observe(t,{childList:!0,subtree:!0})},window.customElements&&!window.customElements.polyfillWrapFlushCallback?ta(document):(ea=function(){ta(document.body)},window.HTMLImports?window.HTMLImports.whenReady(ea):requestAnimationFrame(function(){var t;"loading"===document.readyState?(t=function t(){ea(),document.removeEventListener("readystatechange",t)},document.addEventListener("readystatechange",t)):ea()})),Ko=function(){oa(Jo.takeRecords())});var aa={},sa=Promise.resolve();function la(t){(t=aa[t])&&(t._applyShimCurrentVersion=t._applyShimCurrentVersion||0,t._applyShimValidatingVersion=t._applyShimValidatingVersion||0,t._applyShimNextVersion=(t._applyShimNextVersion||0)+1)}function ua(t){return t._applyShimCurrentVersion===t._applyShimNextVersion}var ca={},fa=new Qo;function ha(){this.Y={},this.c=document.documentElement;var t=new Ai;t.rules=[],this.l=Do(this.c,new Lo(t)),this.J=!1,this.a=this.b=null}function da(t){var e=fo(t),n=e.is;e=e.ca;var r=Zo[n]||null,i=aa[n];if(i)return Do(t,e=new Lo(i._styleAst,r,i.a,e,i=po(i))),e}function pa(t){var e,n=!(t.b||!window.ShadyCSS||!window.ShadyCSS.ApplyShim)&&(t.b=window.ShadyCSS.ApplyShim,t.b.invalidCallback=la,!0);return!(e=t).a&&window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface&&(e.a=window.ShadyCSS.CustomStyleInterface,e.a.transformCallback=function(t){e.Ha(t)},e.a.validateCallback=function(){requestAnimationFrame(function(){(e.a.enqueued||e.J)&&e.flushCustomStyles()})}),n}function ga(t,e,n){var r,i=fo(e).is;if(n.F){var o,a=n.F;for(o in a)null===o?e.style.removeProperty(o):e.style.setProperty(o,a[o])}!(a=aa[i])&&e!==t.c||a&&""!==po(a)||!a||!a._style||ua(a)||(!ua(a)&&a._applyShimValidatingVersion===a._applyShimNextVersion||(pa(t),t.b&&t.b.transformRules(a._styleAst,i),a._style.textContent=bo(e,n.H),(r=a)._applyShimValidatingVersion=r._applyShimNextVersion,r._validating||(r._validating=!0,sa.then(function(){r._applyShimCurrentVersion=r._applyShimNextVersion,r._validating=!1}))),qi&&(t=e.shadowRoot)&&(t=t.querySelector("style"))&&(t.textContent=bo(e,n.H)),n.H=a._styleAst)}function ma(t,e){return(e=co(e).getRootNode().host)?Ro(e)||da(e)?e:ma(t,e):t.c}function ya(t,e,n){var r,i,o,a,s=ma(t,e),l=Ro(s),u=l.L;for(a in s===t.c||u||(ya(t,s,l),u=l.L),t=Object.create(u||null),s=Go(e,n.H,n.cssBuild),u=l.H,r=e,i={},o=[],ro(u,function(t){t.v||Uo(t);var e=t.w||t.parsedSelector;r&&t.v.K&&e&&Io.call(r,e)&&(Ho(t,i),t=t.index,e=parseInt(t/32,10),o[e]=(o[e]||0)|1<<t%32)},null,!0),e=i,Object.assign(t,s.Va,e,s.cb),e=n.F)!(l=e[a])&&0!==l||(t[a]=l);for(a=Xo,e=Object.getOwnPropertyNames(t),l=0;l<e.length;l++)t[s=e[l]]=qo(a,t[s],t);n.L=t}(Qn=ha.prototype).flush=function(){Ko()},Qn.Ta=eo,Qn.hb=function(t){return to(t)},Qn.prepareTemplate=function(t,e,n){this.prepareTemplateDom(t,e),this.prepareTemplateStyles(t,e,n)},Qn.prepareTemplateStyles=function(t,e,n){if(!t._prepared&&!Gi){qi||Zo[e]||(Zo[e]=ao(e)),t._prepared=!0,t.name=e,t.extends=n;var r=po(aa[e]=t),i=go(r);n={is:e,extends:n};for(var o=[],a=t.content.querySelectorAll("style"),s=0;s<a.length;s++){var l,u,c=a[s];c.hasAttribute("shady-unscoped")?qi||(l=c.textContent,Ji.has(l)||(Ji.add(l),(u=document.createElement("style")).setAttribute("shady-unscoped",""),u.textContent=l,document.head.appendChild(u)),c.parentNode.removeChild(c)):(o.push(c.textContent),c.parentNode.removeChild(c))}o=o.join("").trim()+(ca[e]||""),pa(this),i||((a=!r)&&(a=Xi.test(o)||Yi.test(o),Xi.lastIndex=0,Yi.lastIndex=0),s=Si(o),a&&Wi&&this.b&&this.b.transformRules(s,e),t._styleAst=s),a=[],Wi||(a=function(t){var e,r={},n=[],i=0;for(e in ro(t,function(t){Uo(t),t.index=i++,t=t.v.cssText;for(var e;e=Zi.exec(t);){var n=e[1];":"!==e[2]&&(r[n]=!0)}},function(t){n.push(t)}),t.b=n,t=[],r)t.push(e);return t}(t._styleAst)),a.length&&!Wi||(s=qi?t.content:null,e=Zo[e]||null,r=(r=bo(n,t._styleAst,null,r,i?o:"")).length?io(r,n.is,s,e):null,t._style=r),t.a=a}},Qn.ab=function(t,e){ca[e]=t.join(" ")},Qn.prepareTemplateDom=function(t,e){var n,r;Gi||(n=po(t),qi||"shady"===n||t._domPrepared||(t._domPrepared=!0,t=t.content,r=e,yo(No,t,function(t){vo(t,r||"")})))},Qn.flushCustomStyles=function(){if(!Gi){var t=pa(this);if(this.a){var e=this.a.processStyles();if((t||this.a.enqueued)&&!go(this.l.cssBuild)){if(Wi){if(!this.l.cssBuild)for(t=0;t<e.length;t++){var n,r=this.a.getStyleForCustomStyle(e[t]);r&&Wi&&this.b&&(n=eo(r),pa(this),this.b.transformRules(n),r.textContent=to(n))}}else{for(i=this,(o=(o=e).map(function(t){return i.a.getStyleForCustomStyle(t)}).filter(function(t){return!!t})).sort(function(t,e){return(t=e.compareDocumentPosition(t))&Node.DOCUMENT_POSITION_FOLLOWING?1:t&Node.DOCUMENT_POSITION_PRECEDING?-1:0}),i.l.H.rules=o.map(eo),ya(this,this.c,this.l),t=0;t<e.length;t++)(r=this.a.getStyleForCustomStyle(e[t]))&&function(t,n){var r=Xo,e=eo(t);t.textContent=to(e,function(t){var e=t.cssText=t.parsedCssText;t.v&&t.v.cssText&&(e=e.replace(Ii,"").replace(Fi,""),t.cssText=Vo(r,e,n))})}(r,this.l.L);this.J&&this.styleDocument()}this.a.enqueued=!1}}}var i,o},Qn.styleElement=function(t,e){var n,r;if(Gi)e&&(Ro(t)||Do(t,new Lo(null)),(n=Ro(t)).F=n.F||{},Object.assign(n.F,e),ga(this,t,n));else if(n=Ro(t)||da(t))if(t!==this.c&&(this.J=!0),e&&(n.F=n.F||{},Object.assign(n.F,e)),Wi)ga(this,t,n);else if(this.flush(),ya(this,t,n),n.ta&&n.ta.length){e=fo(t).is;t:{if(r=fa.cache[e])for(var i=r.length-1;0<=i;i--){var o=r[i];e:{for(var a=n.ta,s=0;s<a.length;s++){var l=a[s];if(o.K[l]!==n.L[l]){a=!1;break e}}a=!0}if(a){r=o;break t}}r=void 0}a=r?r.styleElement:null,i=n.G,(o=r&&r.G)||(o=e+"-"+(o=this.Y[e]=(this.Y[e]||0)+1)),n.G=o,o=n.G,s=Xo,s=a?a.textContent||"":Wo(s,t,n.L,o);var u=(l=Ro(t)).a;u&&!qi&&u!==a&&(u._useCount--,u._useCount<=0&&u.parentNode&&u.parentNode.removeChild(u)),qi?l.a?(l.a.textContent=s,a=l.a):s&&(a=io(s,o,t.shadowRoot,l.b)):a?a.parentNode||(zo&&-1<s.indexOf("@media")&&(a.textContent=s),so(a,null,l.b)):s&&(a=io(s,o,null,l.b)),a&&(a._useCount=a._useCount||0,l.a!=a&&a._useCount++,l.a=a),o=a,qi||(a=n.G,l=s=t.getAttribute("class")||"",i&&(l=s.replace(new RegExp("\\s*x-scope\\s*"+i+"\\s*","g")," ")),s!==(l+=(l?" ":"")+"x-scope "+a)&&uo(t,l)),r||fa.store(e,n.L,o,n.G)}},Qn.styleDocument=function(t){this.styleSubtree(this.c,t)},Qn.styleSubtree=function(t,e){var n=co(t),r=n.shadowRoot,i=t===this.c;if((r||i)&&this.styleElement(t,e),t=i?n:r)for(t=Array.from(t.querySelectorAll("*")).filter(function(t){return co(t).shadowRoot}),e=0;e<t.length;e++)this.styleSubtree(t[e])},Qn.Ha=function(t){var e,n=this,r=po(t);r!==this.l.cssBuild&&(this.l.cssBuild=r),go(r)||(ro(e=eo(t),function(t){var e;qi?To(t):(e=No,t.selector=t.parsedSelector,To(t),t.selector=t.w=_o(e,t,e.c,void 0,void 0)),Wi&&""===r&&(pa(n),n.b&&n.b.transformRule(t))}),Wi?t.textContent=to(e):this.l.H.rules.push(e))},Qn.getComputedStyleValue=function(t,e){var n;return Wi||(n=(Ro(t)||Ro(ma(this,t))).L[e]),(n=n||window.getComputedStyle(t).getPropertyValue(e))?n.trim():""},Qn.gb=function(t,e){var n=co(t).getRootNode(),r=e?("string"==typeof e?e:String(e)).split(/\s/):[];if(!(e=n.host&&n.host.localName)&&(n=t.getAttribute("class"))){n=n.split(/\s/);for(var i=0;i<n.length;i++)if(n[i]===No.a){e=n[i+1];break}}e&&r.push(No.a,e),Wi||(e=Ro(t))&&e.G&&r.push(Xo.a,e.G),uo(t,r.join(" "))},Qn.Oa=Ro,Qn.fb=function(t,e){vo(t,e)},Qn.ib=function(t,e){vo(t,e,!0)},Qn.eb=ia,Qn.Ra=ra,ha.prototype.setElementClass=ha.prototype.gb,ha.prototype._styleInfoForNode=ha.prototype.Oa,ha.prototype.transformCustomStyleForDocument=ha.prototype.Ha,ha.prototype.getStyleAst=ha.prototype.Ta,ha.prototype.styleAstToString=ha.prototype.hb,ha.prototype.scopeNode=ha.prototype.fb,ha.prototype.unscopeNode=ha.prototype.ib,ha.prototype.scopeForNode=ha.prototype.eb,ha.prototype.currentScopeForNode=ha.prototype.Ra,ha.prototype.prepareAdoptedCssText=ha.prototype.ab,Object.defineProperties(ha.prototype,{nativeShadow:{get:function(){return qi}},nativeCss:{get:function(){return Wi}}});var va,ba=new ha;window.ShadyCSS&&(va=window.ShadyCSS.ApplyShim,xa=window.ShadyCSS.CustomStyleInterface),window.ShadyCSS={ScopingShim:ba,prepareTemplate:function(t,e,n){ba.flushCustomStyles(),ba.prepareTemplate(t,e,n)},prepareTemplateDom:function(t,e){ba.prepareTemplateDom(t,e)},prepareTemplateStyles:function(t,e,n){ba.flushCustomStyles(),ba.prepareTemplateStyles(t,e,n)},styleSubtree:function(t,e){ba.flushCustomStyles(),ba.styleSubtree(t,e)},styleElement:function(t){ba.flushCustomStyles(),ba.styleElement(t)},styleDocument:function(t){ba.flushCustomStyles(),ba.styleDocument(t)},flushCustomStyles:function(){ba.flushCustomStyles()},getComputedStyleValue:function(t,e){return ba.getComputedStyleValue(t,e)},nativeCss:Wi,nativeShadow:qi,cssBuild:Oi,disableRuntime:Gi},va&&(window.ShadyCSS.ApplyShim=va),xa&&(window.ShadyCSS.CustomStyleInterface=xa),function(t){function p(t){return""==t&&(m.call(this),this.h=!0),t.toLowerCase()}function g(t){var e=t.charCodeAt(0);return 32<e&&e<127&&-1==[34,35,60,62,63,96].indexOf(e)?t:encodeURIComponent(t)}function n(t,e,n){function r(t){f.push(t)}var i,o,a=e||"scheme start",s=0,l="",u=!1,c=!1,f=[];t:for(;(null!=t[s-1]||0==s)&&!this.h;){var h=t[s];switch(a){case"scheme start":if(!h||!b.test(h)){if(e){r("Invalid scheme.");break t}l="",a="no scheme";continue}l+=h.toLowerCase(),a="scheme";break;case"scheme":if(h&&x.test(h))l+=h.toLowerCase();else{if(":"!=h){if(e){null!=h&&r("Code point not allowed in scheme: "+h);break t}l="",s=0,a="no scheme";continue}if(this.g=l,l="",e)break t;void 0!==y[this.g]&&(this.A=!0),a="file"==this.g?"relative":this.A&&n&&n.g==this.g?"relative or authority":this.A?"authority first slash":"scheme data"}break;case"scheme data":"?"==h?(this.o="?",a="query"):"#"==h?(this.u="#",a="fragment"):null!=h&&"\t"!=h&&"\n"!=h&&"\r"!=h&&(this.pa+=g(h));break;case"no scheme":if(n&&void 0!==y[n.g]){a="relative";continue}r("Missing scheme."),m.call(this),this.h=!0;break;case"relative or authority":if("/"!=h||"/"!=t[s+1]){r("Expected /, got: "+h),a="relative";continue}a="authority ignore slashes";break;case"relative":if(this.A=!0,"file"!=this.g&&(this.g=n.g),null==h){this.i=n.i,this.m=n.m,this.j=n.j.slice(),this.o=n.o,this.s=n.s,this.f=n.f;break t}if("/"==h||"\\"==h)"\\"==h&&r("\\ is an invalid code point."),a="relative slash";else if("?"==h)this.i=n.i,this.m=n.m,this.j=n.j.slice(),this.o="?",this.s=n.s,this.f=n.f,a="query";else{if("#"!=h){a=t[s+1];var d=t[s+2];("file"!=this.g||!b.test(h)||":"!=a&&"|"!=a||null!=d&&"/"!=d&&"\\"!=d&&"?"!=d&&"#"!=d)&&(this.i=n.i,this.m=n.m,this.s=n.s,this.f=n.f,this.j=n.j.slice(),this.j.pop()),a="relative path";continue}this.i=n.i,this.m=n.m,this.j=n.j.slice(),this.o=n.o,this.u="#",this.s=n.s,this.f=n.f,a="fragment"}break;case"relative slash":if("/"!=h&&"\\"!=h){"file"!=this.g&&(this.i=n.i,this.m=n.m,this.s=n.s,this.f=n.f),a="relative path";continue}"\\"==h&&r("\\ is an invalid code point."),a="file"==this.g?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=h){r("Expected '/', got: "+h),a="authority ignore slashes";continue}a="authority second slash";break;case"authority second slash":if(a="authority ignore slashes","/"==h)break;r("Expected '/', got: "+h);continue;case"authority ignore slashes":if("/"!=h&&"\\"!=h){a="authority";continue}r("Expected authority, got: "+h);break;case"authority":if("@"==h){for(u&&(r("@ already seen."),l+="%40"),u=!0,h=0;h<l.length;h++)"\t"==(d=l[h])||"\n"==d||"\r"==d?r("Invalid whitespace in authority."):":"==d&&null===this.f?this.f="":(d=g(d),null!==this.f?this.f+=d:this.s+=d);l=""}else{if(null==h||"/"==h||"\\"==h||"?"==h||"#"==h){s-=l.length,l="",a="host";continue}l+=h}break;case"file host":if(null==h||"/"==h||"\\"==h||"?"==h||"#"==h){a=2!=l.length||!b.test(l[0])||":"!=l[1]&&"|"!=l[1]?(0!=l.length&&(this.i=p.call(this,l),l=""),"relative path start"):"relative path";continue}"\t"==h||"\n"==h||"\r"==h?r("Invalid whitespace in file host."):l+=h;break;case"host":case"hostname":if(":"!=h||c){if(null==h||"/"==h||"\\"==h||"?"==h||"#"==h){if(this.i=p.call(this,l),l="",a="relative path start",e)break t;continue}"\t"!=h&&"\n"!=h&&"\r"!=h?("["==h?c=!0:"]"==h&&(c=!1),l+=h):r("Invalid code point in host/hostname: "+h)}else if(this.i=p.call(this,l),l="",a="port","hostname"==e)break t;break;case"port":if(/[0-9]/.test(h))l+=h;else{if(null==h||"/"==h||"\\"==h||"?"==h||"#"==h||e){if(""!=l&&((l=parseInt(l,10))!=y[this.g]&&(this.m=l+""),l=""),e)break t;a="relative path start";continue}"\t"==h||"\n"==h||"\r"==h?r("Invalid code point in port: "+h):(m.call(this),this.h=!0)}break;case"relative path start":if("\\"==h&&r("'\\' not allowed in path."),a="relative path","/"!=h&&"\\"!=h)continue;break;case"relative path":null!=h&&"/"!=h&&"\\"!=h&&(e||"?"!=h&&"#"!=h)?"\t"!=h&&"\n"!=h&&"\r"!=h&&(l+=g(h)):("\\"==h&&r("\\ not allowed in relative path."),(d=v[l.toLowerCase()])&&(l=d),".."==l?(this.j.pop(),"/"!=h&&"\\"!=h&&this.j.push("")):"."==l&&"/"!=h&&"\\"!=h?this.j.push(""):"."!=l&&("file"==this.g&&0==this.j.length&&2==l.length&&b.test(l[0])&&"|"==l[1]&&(l=l[0]+":"),this.j.push(l)),l="","?"==h?(this.o="?",a="query"):"#"==h&&(this.u="#",a="fragment"));break;case"query":e||"#"!=h?null!=h&&"\t"!=h&&"\n"!=h&&"\r"!=h&&(this.o+=(o=void 0,32<(o=(i=h).charCodeAt(0))&&o<127&&-1==[34,35,60,62,96].indexOf(o)?i:encodeURIComponent(i))):(this.u="#",a="fragment");break;case"fragment":null!=h&&"\t"!=h&&"\n"!=h&&"\r"!=h&&(this.u+=h)}s++}}function m(){this.s=this.pa=this.g="",this.f=null,this.m=this.i="",this.j=[],this.u=this.o="",this.A=this.h=!1}function r(t,e){void 0===e||e instanceof r||(e=new r(String(e))),this.a=t,m.call(this),n.call(this,this.a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,""),null,e)}var y,v,b,x,e,i=!1;try{var o=new URL("b","http://a");o.pathname="c%20d",i="http://a/c%20d"===o.href}catch(t){}i||((y=Object.create(null)).ftp=21,y.file=0,y.gopher=70,y.http=80,y.https=443,y.ws=80,y.wss=443,(v=Object.create(null))["%2e"]=".",v[".%2e"]="..",v["%2e."]="..",v["%2e%2e"]="..",b=/[a-zA-Z]/,x=/[a-zA-Z0-9\+\-\.]/,r.prototype={toString:function(){return this.href},get href(){if(this.h)return this.a;var t="";return""==this.s&&null==this.f||(t=this.s+(null!=this.f?":"+this.f:"")+"@"),this.protocol+(this.A?"//"+t+this.host:"")+this.pathname+this.o+this.u},set href(t){m.call(this),n.call(this,t)},get protocol(){return this.g+":"},set protocol(t){this.h||n.call(this,t+":","scheme start")},get host(){return this.h?"":this.m?this.i+":"+this.m:this.i},set host(t){!this.h&&this.A&&n.call(this,t,"host")},get hostname(){return this.i},set hostname(t){!this.h&&this.A&&n.call(this,t,"hostname")},get port(){return this.m},set port(t){!this.h&&this.A&&n.call(this,t,"port")},get pathname(){return this.h?"":this.A?"/"+this.j.join("/"):this.pa},set pathname(t){!this.h&&this.A&&(this.j=[],n.call(this,t,"relative path start"))},get search(){return this.h||!this.o||"?"==this.o?"":this.o},set search(t){!this.h&&this.A&&((this.o="?")==t[0]&&(t=t.slice(1)),n.call(this,t,"query"))},get hash(){return this.h||!this.u||"#"==this.u?"":this.u},set hash(t){this.h||(t?((this.u="#")==t[0]&&(t=t.slice(1)),n.call(this,t,"fragment")):this.u="")},get origin(){var t;if(this.h||!this.g)return"";switch(this.g){case"data":case"file":case"javascript":case"mailto":return"null"}return(t=this.host)?this.g+"://"+t:""}},(e=t.URL)&&(r.createObjectURL=function(t){return e.createObjectURL.apply(e,arguments)},r.revokeObjectURL=function(t){e.revokeObjectURL(t)}),t.URL=r)}(window);var xa=window.customElements,_a=!1,wa=null;function ka(){window.HTMLTemplateElement.bootstrap&&window.HTMLTemplateElement.bootstrap(window.document),wa&&wa(),_a=!0,window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}xa.polyfillWrapFlushCallback&&xa.polyfillWrapFlushCallback(function(t){wa=t,_a&&t()}),"complete"!==document.readyState?(window.addEventListener("load",ka),window.addEventListener("DOMContentLoaded",function(){window.removeEventListener("load",ka),ka()})):ka()}).call(void 0)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{timers:1004}],4:[function(t,e,n){"use strict";var r="undefined"==typeof WeakMap?t("weak-map"):WeakMap,i=t("gl-buffer"),o=t("gl-vao"),a=new r;e.exports=function(t){var e=a.get(t),n=e&&(e._triangleBuffer.handle||e._triangleBuffer.buffer);n&&t.isBuffer(n)||(n=i(t,new Float32Array([-1,-1,-1,4,4,-1])),(e=o(t,[{buffer:n,type:t.FLOAT,size:2}]))._triangleBuffer=n,a.set(t,e)),e.bind(),t.drawArrays(t.TRIANGLES,0,3),e.unbind()}},{"gl-buffer":464,"gl-vao":529,"weak-map":1016}],5:[function(t,e,n){"use strict";var a=t("pad-left");e.exports=function(t,r,i){r="number"==typeof r?r:1,i=i||": ";var t=t.split(/\r?\n/),o=String(t.length+r-1).length;return t.map(function(t,e){var n=e+r,e=String(n).length;return a(n,o-e)+i+t}).join("\n")}},{"pad-left":611}],6:[function(t,e,n){"use strict";e.exports=function(t){var e=t.length;if(0===e)return[];if(1===e)return[0];for(var n=t[0].length,r=[t[0]],i=[0],o=1;o<e;++o)if(r.push(t[o]),function(t,e){for(var n=new Array(e+1),r=0;r<t.length;++r)n[r]=t[r];for(r=0;r<=t.length;++r){for(var i=t.length;i<=e;++i){for(var o=new Array(e),a=0;a<e;++a)o[a]=Math.pow(i+1-r,a);n[i]=o}if(s.apply(void 0,n))return!0}return!1}(r,n)){if(i.push(o),i.length===n+1)return i}else r.pop();return i};var s=t("robust-orientation")},{"robust-orientation":986}],7:[function(t,e,n){"use strict";e.exports=function(t,e){for(var n=e.length,r=new Array(n+1),i=0;i<n;++i){for(var o=new Array(n+1),a=0;a<=n;++a)o[a]=t[a][i];r[i]=o}r[n]=new Array(n+1);for(i=0;i<=n;++i)r[n][i]=1;for(var s=new Array(n+1),i=0;i<n;++i)s[i]=e[i];s[n]=1;var l=f(r,s),u=h(l[n+1]);0===u&&(u=1);for(var c=new Array(n+1),i=0;i<=n;++i)c[i]=h(l[i])/u;return c};var f=t("robust-linear-solve");function h(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return e}},{"robust-linear-solve":985}],8:[function(t,e,n){"use strict";n.byteLength=function(t){var e=c(t),t=e[0],e=e[1];return 3*(t+e)/4-e},n.toByteArray=function(t){var e,n,r=c(t),i=r[0],r=r[1],o=new u(function(t,e){return 3*(t+e)/4-e}(i,r)),a=0,s=0<r?i-4:i;for(n=0;n<s;n+=4)e=l[t.charCodeAt(n)]<<18|l[t.charCodeAt(n+1)]<<12|l[t.charCodeAt(n+2)]<<6|l[t.charCodeAt(n+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=255&e;2===r&&(e=l[t.charCodeAt(n)]<<2|l[t.charCodeAt(n+1)]>>4,o[a++]=255&e);1===r&&(e=l[t.charCodeAt(n)]<<10|l[t.charCodeAt(n+1)]<<4|l[t.charCodeAt(n+2)]>>2,o[a++]=e>>8&255,o[a++]=255&e);return o},n.fromByteArray=function(t){for(var e,n=t.length,r=n%3,i=[],o=0,a=n-r;o<a;o+=16383)i.push(function(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(function(t){return s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}(r));return i.join("")}(t,o,a<o+16383?a:o+16383));1==r?(e=t[n-1],i.push(s[e>>2]+s[e<<4&63]+"==")):2==r&&(e=(t[n-2]<<8)+t[n-1],i.push(s[e>>10]+s[e>>4&63]+s[e<<2&63]+"="));return i.join("")};for(var s=[],l=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)s[i]=r[i],l[r.charCodeAt(i)]=i;function c(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");t=t.indexOf("=");return-1===t&&(t=e),[t,t===e?0:4-t%4]}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},{}],9:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i;i=function(){function s(t){var e,n,r=0,i=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],o=1.000000000190015,t=(n=e=t)+5.5;for(t-=(e+.5)*l(t);r<6;r++)o+=i[r]/++n;return l(2.5066282746310007*o/e)-t}var t={};t.lgamma=s;function n(t){return t<0?NaN:s(t+1)}t.lfactorial=n;function i(t,e){return n(t)-n(e)-n(t-e)}t.lchoose=i;function r(t,e){return s(t)+s(e)-s(t+e)}t.lbeta=r;var l=Math.log,o=Math.exp,a=Math.abs,u=Math.pow,c=Math.sqrt,f=Math.PI;t.beta=function(t,e,n){return 1<t||t<0?-1/0:1===e&&1===n?0:(e-1)*l(t)+(n-1)*l(1-t)-r(e,n)},t.cauchy=function(t,e,n){return l(n)-l(u(t-e,2)+u(n,2))-l(f)},t.norm=function(t,e,n){return-.5*l(2*f)-l(n)-u(t-e,2)/(2*n*n)},t.bivarnorm=function(t,e,n,r){e=u(t[0]-e[0],2)/u(n[0],2)+u(t[1]-e[1],2)/u(n[1],2)-2*r*(t[0]-e[0])*(t[1]-e[1])/(n[0]*n[1]);return-(l(2)+l(f)+l(n[0])+l(n[1])+.5*l(1-u(r,2)))-e/(2*(1-u(r,2)))},t.laplace=function(t,e,n){return-a(t-e)/n-l(2*n)},t.dexp=t.laplace,t.gamma=function(t,e,n){n=1/n;return t<0?-1/0:0===t&&1===e?-l(n):(e-1)*l(t)-t/n-s(e)-e*l(n)},t.invgamma=function(t,e,n){return t<=0?-1/0:-(e+1)*l(t)-n/t-s(e)+e*l(n)},t.lnorm=function(t,e,n){return t<=0?-1/0:-l(t)-.5*l(2*f)-l(n)-u(l(t)-e,2)/(2*n*n)},t.pareto=function(t,e,n){return t<e?-1/0:l(n)+n*l(e)-(n+1)*l(t)},t.t=function(t,e,n,r){return s(((r=1e100<r?1e100:r)+1)/2)-s(r/2)-l(c(f*r)*n)+l(u(1+1/r*u((t-e)/n,2),-(r+1)/2))},t.weibull=function(t,e,n){if(t<0)return-1/0;if(0===t&&e<1)return 1/0;var r=u(t/n,e-1);return-(r*(t/n))+l(e*r/n)},t.logis=function(t,e,n){t=a((t-e)/n);e=1+o(-t);return-(t+l(n*e*e))},t.dirichlet=function(t,e){for(var n=0,r=0,i=0,o=e.length,a=0;a<o;a++)n+=e[a],r+=s(e[a]),i+=(e[a]-1)*l(t[a]);return s(n)-r+i},t.exp=function(t,e){return t<0?-1/0:l(e)-e*t},t.unif=function(t,e,n){return t<e||n<t?-1/0:l(1/(n-e))},t.bern=function(t,e){return 0!==t&&1!==t?-1/0:l(t*e+(1-t)*(1-e))},t.cat=function(t,e){return t<1||t>e.length?-1/0:l(e[t-1])},t.binom=function(t,e,n){return e<t||t<0?-1/0:0===n||1===n?e*n===t?0:-1/0:i(e,t)+t*l(n)+(e-t)*l(1-n)};return t.nbinom=function(t,e,n){return t<0?-1/0:i(t+e-1,e-1)+t*l(1-n)+e*l(n)},t.hyper=function(t,e,n,r){return t<0||r<t?-1/0:i(e,t)+i(n,r-t)-i(e+n,r)},t.pois=function(t,e){return t<0?-1/0:l(e)*t-e-n(t)},t},"function"==typeof define&&define.amd?define([],i):"object"===(void 0===e?"undefined":r(e))&&e.exports?e.exports=i():(void 0).ld=i()},{}],10:[function(t,e,n){"use strict";function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;r=function(){function n(t,e){for(var n,r,i,o;n=Math.random(),r=1.7156*(Math.random()-.5),o=(o=n-.449871)*o+(i=Math.abs(r)+.386595)*(.196*i-.25472*o),.27597<o&&(.27846<o||r*r>-4*Math.log(n)*n*n););return r/n*e+t}function m(t){if(!t||"object"!=E(t)||"[object Function]"===Object.prototype.toString.call(t))return t;if(t.nodeType&&"cloneNode"in t)return t.cloneNode(!0);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);var e,n,r;if(t instanceof Array)for(e=[],n=0,r=t.length;n<r;++n)n in t&&e.push(m(t[n]));else e=t.constructor?new t.constructor:{};return function(t,e,n){var r,i,o={};for(r in e)i=e[r],r in t&&(t[r]===i||r in o&&o[r]===i)||(t[r]=n?n(i):i);return t}(e,t,m)}function a(t){if(Array.isArray(t)){if(Array.isArray(t[0])){for(var e=[],n=0,r=t.length;n<r;n++)e.push(a(t[n]));return e}return t.slice(0)}return t}function s(t,e){var n,r=new Array(t[0]);if(1==t.length)if("function"==typeof e)for(n=0;n<t[0];n++)r[n]=e();else for(n=0;n<t[0];n++)r[n]=e;else{if(!(1<t.length))throw"create_array can't create a dimensionless array";for(n=0;n<t[0];n++)r[n]=s(t.slice(1),e)}return r}function i(t){return Array.isArray(t[0])?[t.length].concat(i(t[0])):[t.length]}function u(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(Array.isArray(t[n])&&Array.isArray(e[n])){if(!u(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function l(t,e){if(Array.isArray(t)){for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=l(t[r],e);return n}return e(t)}function c(t){for(var e=t.length-1;0<e;e--){var n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t}function t(t,e){if(Array.isArray(t)){for(var n=t.length,r=[],i=0;i<n;i++)r[i]=i;c(r);var o=[];for(i=0;i<n;i++){var a=r[i];o[a]=l(t[a],e)}return o}return e(t)}function f(t,e,n){return(e=e||{}).hasOwnProperty(t)&&void 0!==e[t]&&null!==e[t]?e[t]:n}function o(t,e,n,r){if(r=f(t,e,r),Array.isArray(r)||(r=s(n,r)),!u(i(r),n))throw"The option "+t+" is of dimension ["+i(r)+"] but should be ["+n+"].";return r}function h(t,e,n){if(n<e)throw"Can not initialize parameter where lower bound > upper bound";if("real"===t){if(e===-1/0&&n===1/0)return.5;if(e===-1/0)return n-.5;if(n===1/0)return e+.5;if(e<=n)return(e+n)/2}else if("int"===t){if(e===-1/0&&n===1/0)return 1;if(e===-1/0)return n-1;if(n===1/0)return e+1;if(e<=n)return Math.round((e+n)/2)}else if("binary"===t)return 1;throw"Could not initialize parameter of type "+t+"["+e+", "+n+"]"}function d(t,e){var n,r,i,o=m(t);for(n in o)o.hasOwnProperty(n)&&((r=o[n]).hasOwnProperty("type")||(r.type="real"),r.hasOwnProperty("dim")||(r.dim=[1]),("number"==typeof(i=r.dim)||"object"==E(i)&&i.constructor===Number)&&(r.dim=[r.dim]),"binary"==r.type&&(r.upper=1,r.lower=0),r.hasOwnProperty("upper")||(r.upper=1/0),r.hasOwnProperty("lower")||(r.lower=-1/0),r.hasOwnProperty("init")?u(r.dim,[1])&&"function"==typeof r.init?r.init=r.init():u(r.dim,[1])||Array.isArray(r.init)||(r.init=s(r.dim,r.init)):u(r.dim,[1])?r.init=e(r.type,r.lower,r.upper):r.init=s(r.dim,function(){return e(r.type,r.lower,r.upper)}));return o}function y(t,e,n){this.params=t,this.state=e,this.log_post=n}y.prototype.step=function(){throw"Every Stepper need to implement step()"},y.prototype.start_adaptation=function(){},y.prototype.stop_adaptation=function(){},y.prototype.info=function(){return{}};function p(t,e,n,r,i){if(y.call(this,t,e,n),1!=(n=Object.keys(this.params)).length)throw"OnedimMetropolisStepper can only handle one parameter.";if(this.param_name=n[0],n=this.params[this.param_name],!u(n.dim,[1]))throw"OnedimMetropolisStepper can only handle one one-dimensional parameter.";this.lower=n.lower,this.upper=n.upper,this.prop_log_scale=f("prop_log_scale",r,0),this.batch_size=f("batch_size",r,50),this.max_adaptation=f("max_adaptation",r,.33),this.initial_adaptation=f("initial_adaptation",r,1),this.target_accept_rate=f("target_accept_rate",r,.44),this.is_adapting=f("is_adapting",r,!0),this.generate_proposal=i,this.acceptance_count=0,this.batch_count=0,this.iterations_since_adaption=0}((p.prototype=Object.create(y.prototype)).constructor=p).prototype.step=function(){var t,e=this.state[this.param_name],n=this.generate_proposal(e,this.prop_log_scale);return n<this.lower||n>this.upper||(t=this.log_post(),this.state[this.param_name]=n,n=this.log_post(),Math.exp(n-t)>Math.random()?this.is_adapting&&this.acceptance_count++:this.state[this.param_name]=e),this.is_adapting&&(this.iterations_since_adaption++,this.iterations_since_adaption>=this.batch_size&&(this.batch_count++,e=Math.min(this.max_adaptation,this.initial_adaptation/Math.sqrt(this.batch_count)),this.acceptance_count/this.batch_size>this.target_accept_rate?this.prop_log_scale+=e:this.prop_log_scale-=e,this.acceptance_count=0,this.iterations_since_adaption=0)),this.state[this.param_name]},p.prototype.start_adaptation=function(){this.is_adapting=!0},p.prototype.stop_adaptation=function(){this.is_adapting=!1},p.prototype.info=function(){return{prop_log_scale:this.prop_log_scale,is_adapting:this.is_adapting,acceptance_count:this.acceptance_count,iterations_since_adaption:this.iterations_since_adaption,batch_count:this.batch_count}};function g(t,e){return n(t,Math.exp(e))}function v(t,e,n,r){p.call(this,t,e,n,r,g)}(v.prototype=Object.create(p.prototype)).constructor=v;function b(t,e){return Math.round(n(t,Math.exp(e)))}function x(t,e,n,r){p.call(this,t,e,n,r,b)}(x.prototype=Object.create(p.prototype)).constructor=x;function _(t,e,n,r,p){if(y.call(this,t,e,n),1!=(n=Object.keys(this.params)).length)throw"MultidimComponentMetropolisStepper can't handle more than one parameter.";this.param_name=n[0];var g=this.params[this.param_name];this.lower=g.lower,this.upper=g.upper,this.dim=g.dim,this.prop_log_scale=o("prop_log_scale",r,this.dim,0),this.batch_size=o("batch_size",r,this.dim,50),this.max_adaptation=o("max_adaptation",r,this.dim,.33),this.initial_adaptation=o("initial_adaptation",r,this.dim,1),this.target_accept_rate=o("target_accept_rate",r,this.dim,.44),this.is_adapting=o("is_adapting",r,this.dim,!0),r=function t(e,n,r,i,o,a,s,l,u){var c=[];if(1===e.length)for(var f=0;f<e[0];f++){var h={prop_log_scale:i[f],batch_size:o[f],max_adaptation:a[f],initial_adaptation:s[f],target_accept_rate:l[f],is_adapting:u[f]},d={};d[f]=m(g),d[f].dim=[1],delete d[f].init,c[f]=new p(d,n,r,h)}else for(f=0;f<e[0];f++)c[f]=t(e.slice(1),n[f],r,i[f],o[f],a[f],s[f],l[f],u[f]);return c},this.substeppers=r(this.dim,this.state[this.param_name],this.log_post,this.prop_log_scale,this.batch_size,this.max_adaptation,this.initial_adaptation,this.target_accept_rate,this.is_adapting)}((_.prototype=Object.create(y.prototype)).constructor=_).prototype.step=function(){return t(this.substeppers,function(t){return t.step()})},_.prototype.start_adaptation=function(){l(this.substeppers,function(t){t.start_adaptation()})},_.prototype.stop_adaptation=function(){l(this.substeppers,function(t){t.stop_adaptation()})},_.prototype.info=function(){return l(this.substeppers,function(t){return t.info()})};function w(t,e,n,r){_.call(this,t,e,n,r,v)}(w.prototype=Object.create(_.prototype)).constructor=w;function k(t,e,n,r){_.call(this,t,e,n,r,x)}(k.prototype=Object.create(_.prototype)).constructor=k;function T(t,e,n){if(y.call(this,t,e,n),1!=(n=Object.keys(this.params)).length)throw"BinaryStepper can't handle more than one parameter.";this.param_name=n[0]}((T.prototype=Object.create(y.prototype)).constructor=T).prototype.step=function(){this.state[this.param_name]=0;var t=this.log_post();this.state[this.param_name]=1;var e=this.log_post(),n=Math.max(t,e);t-=n,e-=n;e=Math.exp(t-Math.log(Math.exp(t)+Math.exp(e)));return Math.random()<e?this.state[this.param_name]=0:1};function M(t,e,n){if(y.call(this,t,e,n),1!=(n=Object.keys(this.params)).length)throw"BinaryComponentStepper can't handle more than one parameter.";this.param_name=n[0];var s=this.params[this.param_name];this.dim=s.dim,n=function t(e,n,r){var i,o=[];if(1===e.length)for(i=0;i<e[0];i++){var a={};a[i]=s,o[i]=new T(a,n,r)}else for(i=0;i<e[0];i++)o[i]=t(e.slice(1),n[i],r);return o},this.substeppers=n(this.dim,this.state[this.param_name],this.log_post)}((M.prototype=Object.create(y.prototype)).constructor=M).prototype.step=function(){return t(this.substeppers,function(t){return t.step()})};function A(t,e,n,r){y.call(this,t,e,n),this.param_names=Object.keys(this.params),this.substeppers=[];for(var i=0;i<this.param_names.length;i++){var o,a=t[this.param_names[i]];switch(a.type){case"real":o=u(a.dim,[1])?v:w;break;case"int":o=u(a.dim,[1])?x:k;break;case"binary":o=u(a.dim,[1])?T:M;break;default:throw"AmwgStepper can't handle parameter "+this.param_names[i]+" with type "+a.type}var s={};s[this.param_names[i]]=a;var l=(r=r||{}).params&&r.params[this.param_names[i]]||{};l.prop_log_scale=l.prop_log_scale||r.prop_log_scale,l.batch_size=l.batch_size||r.batch_size,l.max_adaptation=l.max_adaptation||r.max_adaptation,l.initial_adaptation=l.initial_adaptation||r.initial_adaptation,l.target_accept_rate=l.target_accept_rate||r.target_accept_rate,l.is_adapting=l.is_adapting||r.is_adapting,this.substeppers[i]=new o(s,e,n,l)}}((A.prototype=Object.create(y.prototype)).constructor=A).prototype.step=function(){c(this.substeppers);for(var t=0;t<this.substeppers.length;t++)this.substeppers[t].step();return this.state},A.prototype.start_adaptation=function(){for(var t=0;t<this.substeppers.length;t++)this.substeppers[t].start_adaptation()},A.prototype.stop_adaptation=function(){for(var t=0;t<this.substeppers.length;t++)this.substeppers[t].stop_adaptation()},A.prototype.info=function(){for(var t={},e=0;e<this.substeppers.length;e++)t[this.param_names[e]]=this.substeppers[e].info();return t};function S(t,e,n,r){this.params=t,this.data=n,this.param_names=Object.keys(this.params),this.param_init_fun=f("param_init_fun",r,h);var i=f("thin",r,1),t=f("monitor",r,null);this.thin(i),this.monitor(t),this.options=r,this.params=d(this.params,this.param_init_fun);for(var o={},a=0;a<this.param_names.length;a++)o[this.param_names[a]]=this.params[this.param_names[a]].init;this.log_post=function(){return e(o,n)},this.log_post(),this.state=o,this.steppers=this.create_stepper_ensamble(this.params,this.state,this.log_post,this.options)}S.prototype.create_stepper_ensamble=function(t,e){throw"Every Sampler needs to implement create_stepper_ensamble()"},S.prototype.info=function(){return{state:this.state,thin:this.thin,monitor:this.monitor,steppers:this.steppers}},S.prototype.step=function(){c(this.steppers);for(var t=0;t<this.steppers.length;t++)this.steppers[t].step();return Object.keys(this.state).length>Object.keys(this.params).length&&this.log_post(),this.state},S.prototype.sample=function(t){for(var e,n=null===this.monitored_params?Object.keys(this.state):this.monitored_params,r={},i=0;i<n.length;i++)r[n[i]]=[];for(e=0;e<t;e++){if(e%this.thinning_interval==0)for(i=0;i<n.length;i++){var o=n[i];r[o].push(a(this.state[o]))}this.step()}return r},S.prototype.burn=function(t){for(var e=0;e<t;e++)this.step()},S.prototype.monitor=function(t){this.monitored_params=t},S.prototype.thin=function(t){this.thinning_interval=t},S.prototype.start_adaptation=function(){for(var t=0;t<this.steppers.length;t++)this.steppers[t].start_adaptation()},S.prototype.stop_adaptation=function(){for(var t=0;t<this.steppers.length;t++)this.steppers[t].stop_adaptation()};function e(t,e,n,r){S.call(this,t,e,n,r)}return((e.prototype=Object.create(S.prototype)).constructor=e).prototype.create_stepper_ensamble=function(t,e,n,r){return[new A(t,e,n,r)]},{runif:function(t,e){return Math.random()*(e-t)+t},runif_discrete:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},rnorm:n,param_init_fixed:h,complete_params:d,RealMetropolisStepper:v,IntMetropolisStepper:x,MultiRealComponentMetropolisStepper:w,MultiIntComponentMetropolisStepper:k,BinaryStepper:T,BinaryComponentStepper:M,AmwgStepper:A,AmwgSampler:e}},"function"==typeof define&&define.amd?define([],r):"object"===(void 0===e?"undefined":E(e))&&e.exports?e.exports=r():(void 0).mcmc=r()},{}],11:[function(t,e,n){"use strict";var r=t("./lib/rationalize");e.exports=function(t,e){return r(t[0].mul(e[1]).add(e[0].mul(t[1])),t[1].mul(e[1]))}},{"./lib/rationalize":21}],12:[function(t,e,n){"use strict";e.exports=function(t,e){return t[0].mul(e[1]).cmp(e[0].mul(t[1]))}},{}],13:[function(t,e,n){"use strict";var r=t("./lib/rationalize");e.exports=function(t,e){return r(t[0].mul(e[1]),t[1].mul(e[0]))}},{"./lib/rationalize":21}],14:[function(t,e,n){"use strict";var a=t("./is-rat"),s=t("./lib/is-bn"),l=t("./lib/num-to-bn"),u=t("./lib/str-to-bn"),c=t("./lib/rationalize"),f=t("./div");e.exports=function t(e,n){if(a(e))return n?f(e,t(n)):[e[0].clone(),e[1].clone()];var r=0;var i,o;if(s(e))i=e.clone();else if("string"==typeof e)i=u(e);else{if(0===e)return[l(0),l(1)];if(e===Math.floor(e))i=l(e);else{for(;e!==Math.floor(e);)e*=Math.pow(2,256),r-=256;i=l(e)}}if(a(n))i.mul(n[1]),o=n[0].clone();else if(s(n))o=n.clone();else if("string"==typeof n)o=u(n);else if(n)if(n===Math.floor(n))o=l(n);else{for(;n!==Math.floor(n);)n*=Math.pow(2,256),r+=256;o=l(n)}else o=l(1);0<r?i=i.ushln(r):r<0&&(o=o.ushln(-r));return c(i,o)}},{"./div":13,"./is-rat":15,"./lib/is-bn":19,"./lib/num-to-bn":20,"./lib/rationalize":21,"./lib/str-to-bn":22}],15:[function(t,e,n){"use strict";var r=t("./lib/is-bn");e.exports=function(t){return Array.isArray(t)&&2===t.length&&r(t[0])&&r(t[1])}},{"./lib/is-bn":19}],16:[function(t,e,n){"use strict";var r=t("bn.js");e.exports=function(t){return t.cmp(new r(0))}},{"bn.js":29}],17:[function(t,e,n){"use strict";var a=t("./bn-sign");e.exports=function(t){var e=t.length,n=t.words,r=0;if(1===e)r=n[0];else if(2===e)r=n[0]+67108864*n[1];else for(var i=0;i<e;i++){var o=n[i];r+=o*Math.pow(67108864,i)}return a(t)*r}},{"./bn-sign":16}],18:[function(t,e,n){"use strict";var r=t("double-bits"),i=t("bit-twiddle").countTrailingZeros;e.exports=function(t){var e=i(r.lo(t));if(e<32)return e;t=i(r.hi(t));if(20<t)return 52;return t+32}},{"bit-twiddle":28,"double-bits":443}],19:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("bn.js");e.exports=function(t){return t&&"object"===r(t)&&Boolean(t.words)}},{"bn.js":29}],20:[function(t,e,n){"use strict";var r=t("bn.js"),i=t("double-bits");e.exports=function(t){var e=i.exponent(t);return e<52?new r(t):new r(t*Math.pow(2,52-e)).ushln(e-52)}},{"bn.js":29,"double-bits":443}],21:[function(t,e,n){"use strict";var i=t("./num-to-bn"),o=t("./bn-sign");e.exports=function(t,e){var n=o(t),r=o(e);if(0===n)return[i(0),i(1)];if(0===r)return[i(0),i(0)];r<0&&(t=t.neg(),e=e.neg());r=t.gcd(e);if(r.cmpn(1))return[t.div(r),e.div(r)];return[t,e]}},{"./bn-sign":16,"./num-to-bn":20}],22:[function(t,e,n){"use strict";var r=t("bn.js");e.exports=function(t){return new r(t)}},{"bn.js":29}],23:[function(t,e,n){"use strict";var r=t("./lib/rationalize");e.exports=function(t,e){return r(t[0].mul(e[0]),t[1].mul(e[1]))}},{"./lib/rationalize":21}],24:[function(t,e,n){"use strict";var r=t("./lib/bn-sign");e.exports=function(t){return r(t[0])*r(t[1])}},{"./lib/bn-sign":16}],25:[function(t,e,n){"use strict";var r=t("./lib/rationalize");e.exports=function(t,e){return r(t[0].mul(e[1]).sub(t[1].mul(e[0])),t[1].mul(e[1]))}},{"./lib/rationalize":21}],26:[function(t,e,n){"use strict";var a=t("./lib/bn-to-num"),s=t("./lib/ctz");e.exports=function(t){var e=t[0],n=t[1];if(0===e.cmpn(0))return 0;var r=e.abs().divmod(n.abs()),t=r.div,t=a(t),r=r.mod,e=e.negative!==n.negative?-1:1;if(0===r.cmpn(0))return e*t;{if(t){var i=s(t)+4,o=a(r.ushln(i).divRound(n));return e*(t+o*Math.pow(2,-i))}i=n.bitLength()-r.bitLength()+53,o=a(r.ushln(i).divRound(n));return i<1023?e*o*Math.pow(2,-i):(o*=Math.pow(2,-1023),e*o*Math.pow(2,1023-i))}}},{"./lib/bn-to-num":17,"./lib/ctz":18}],27:[function(t,e,n){"use strict";function i(t,e,n,r,i){r=["function ",t,"(a,l,h,",r.join(","),"){",i?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];return i?e.indexOf("c")<0?r.push(";if(x===y){return m}else if(x<=y){"):r.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):r.push(";if(",e,"){i=m;"),n?r.push("l=m+1}else{h=m-1}"):r.push("h=m-1}else{l=m+1}"),r.push("}"),i?r.push("return -1};"):r.push("return i};"),r.join("")}function r(t,e,n,r){return new Function([i("A","x"+t+"y",e,["y"],r),i("P","c(x,y)"+t+"0",e,["y","c"],r),"function dispatchBsearch",n,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",n].join(""))()}e.exports={ge:r(">=",!1,"GE"),gt:r(">",!1,"GT"),lt:r("<",!0,"LT"),le:r("<=",!0,"LE"),eq:r("-",!0,"EQ",!0)}},{}],28:[function(t,e,n){"use strict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&--e,e}n.INT_BITS=32,n.INT_MAX=2147483647,n.INT_MIN=-1<<31,n.sign=function(t){return(0<t)-(t<0)},n.abs=function(t){var e=t>>31;return(t^e)-e},n.min=function(t,e){return e^(t^e)&-(t<e)},n.max=function(t,e){return t^(t^e)&-(t<e)},n.isPow2=function(t){return!(t&t-1||!t)},n.log2=function(t){var e,n=(65535<t)<<4;return n|=e=(255<(t>>>=n))<<3,n|=e=(15<(t>>>=e))<<2,(n|=e=(3<(t>>>=e))<<1)|(t>>>=e)>>1},n.log10=function(t){return 1e9<=t?9:1e8<=t?8:1e7<=t?7:1e6<=t?6:1e5<=t?5:1e4<=t?4:1e3<=t?3:100<=t?2:10<=t?1:0},n.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},n.countTrailingZeros=r,n.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},n.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},n.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),n.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},n.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},n.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},n.interleave3=function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},n.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},n.nextCombination=function(t){var e=t|t-1;return 1+e|(~e&-~e)-1>>>r(t)+1}},{}],29:[function(w,t,e){"use strict";function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){function g(t,e){if(!t)throw new Error(e||"Assertion failed")}function e(t,e){t.super_=e;function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function m(t,e,n){if(m.isBN(t))return t;this.negative=0,this.words=null,this.length=0,(this.red=null)!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var n;"object"===k(t)?t.exports=m:(void 0).BN=m,(m.BN=m).wordSize=26;try{n=w("buffer").Buffer}catch(t){}function a(t,e,n){for(var r=0,i=Math.min(t.length,n),o=e;o<i;o++){var a=t.charCodeAt(o)-48;r<<=4,r|=49<=a&&a<=54?a-49+10:17<=a&&a<=22?a-17+10:15&a}return r}function f(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=49<=s?s-49+10:17<=s?s-17+10:s}return i}m.isBN=function(t){return t instanceof m||null!==t&&"object"===k(t)&&t.constructor.wordSize===m.wordSize&&Array.isArray(t.words)},m.max=function(t,e){return 0<t.cmp(e)?t:e},m.min=function(t,e){return t.cmp(e)<0?t:e},m.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"===k(t))return this._initArray(t,e,n);"hex"===e&&(e=16),g(e===(0|e)&&2<=e&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&r++,16===e?this._parseHex(t,r):this._parseBase(t,e,r),"-"===t[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},m.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(g(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},m.prototype._initArray=function(t,e,n){if(g("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r,i,o=0;o<this.length;o++)this.words[o]=0;var a=0;if("be"===n)for(o=t.length-1,r=0;0<=o;o-=3)i=t[o]|t[o-1]<<8|t[o-2]<<16,this.words[r]|=i<<a&67108863,this.words[r+1]=i>>>26-a&67108863,26<=(a+=24)&&(a-=26,r++);else if("le"===n)for(r=o=0;o<t.length;o+=3)i=t[o]|t[o+1]<<8|t[o+2]<<16,this.words[r]|=i<<a&67108863,this.words[r+1]=i>>>26-a&67108863,26<=(a+=24)&&(a-=26,r++);return this.strip()},m.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n,r=0;r<this.length;r++)this.words[r]=0;for(var i=0,r=t.length-6,o=0;e<=r;r-=6)n=a(t,r,r+6),this.words[o]|=n<<i&67108863,this.words[o+1]|=n>>>26-i&4194303,26<=(i+=24)&&(i-=26,o++);r+6!==e&&(n=a(t,e,r+6),this.words[o]|=n<<i&67108863,this.words[o+1]|=n>>>26-i&4194303),this.strip()},m.prototype._parseBase=function(t,e,n){this.words=[0];for(var r=0,i=this.length=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,s=Math.min(o,o-a)+n,l=0,u=n;u<s;u+=r)l=f(t,u,u+r,e),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!=a){for(var c=1,l=f(t,u,t.length,e),u=0;u<a;u++)c*=e;this.imuln(c),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}},m.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},m.prototype.clone=function(){var t=new m(null);return this.copy(t),t},m.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},m.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},m.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},m.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function r(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0,r=(n.length=r)-1|0,i=67108863&(f=(0|t.words[0])*(0|e.words[0])),o=f/67108864|0;n.words[0]=i;for(var a=1;a<r;a++){for(var s=o>>>26,l=67108863&o,u=Math.min(a,e.length-1),c=Math.max(0,a-t.length+1);c<=u;c++){var f,h=a-c|0;s+=(f=(0|t.words[h])*(0|e.words[c])+l)/67108864|0,l=67108863&f}n.words[a]=0|l,o=0|s}return 0!==o?n.words[a]=0|o:n.length--,n.strip()}m.prototype.toString=function(t,e){if(e=0|e||1,16===(t=t||10)||"hex"===t){s="";for(var n=0,r=0,i=0;i<this.length;i++){var o=this.words[i],a=(16777215&(o<<n|r)).toString(16),s=0!==(r=o>>>24-n&16777215)||i!==this.length-1?h[6-a.length]+a+s:a+s;26<=(n+=2)&&(n-=26,i--)}for(0!==r&&(s=r.toString(16)+s);s.length%e!=0;)s="0"+s;return 0!==this.negative&&(s="-"+s),s}if(t===(0|t)&&2<=t&&t<=36){var l=d[t],u=p[t];for(s="",(c=this.clone()).negative=0;!c.isZero();){var c,f=c.modn(u).toString(t);s=(c=c.idivn(u)).isZero()?f+s:h[l-f.length]+f+s}for(this.isZero()&&(s="0"+s);s.length%e!=0;)s="0"+s;return 0!==this.negative&&(s="-"+s),s}g(!1,"Base should be between 2 and 36")},m.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:2<this.length&&g(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},m.prototype.toJSON=function(){return this.toString(16)},m.prototype.toBuffer=function(t,e){return g(void 0!==n),this.toArrayLike(n,t,e)},m.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},m.prototype.toArrayLike=function(t,e,n){var r=this.byteLength(),i=n||Math.max(1,r);g(r<=i,"byte array longer than desired length"),g(0<i,"Requested array length <= 0"),this.strip();var o,a,e="le"===e,s=new t(i),l=this.clone();if(e){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),s[a]=o;for(;a<i;a++)s[a]=0}else{for(a=0;a<i-r;a++)s[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),s[i-a-1]=o}return s},Math.clz32?m.prototype._countBits=function(t){return 32-Math.clz32(t)}:m.prototype._countBits=function(t){var e=t,t=0;return 4096<=e&&(t+=13,e>>>=13),64<=e&&(t+=7,e>>>=7),8<=e&&(t+=4,e>>>=4),2<=e&&(t+=2,e>>>=2),t+e},m.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,t=0;return 0==(8191&e)&&(t+=13,e>>>=13),0==(127&e)&&(t+=7,e>>>=7),0==(15&e)&&(t+=4,e>>>=4),0==(3&e)&&(t+=2,e>>>=2),0==(1&e)&&t++,t},m.prototype.bitLength=function(){var t=this.words[this.length-1],t=this._countBits(t);return 26*(this.length-1)+t},m.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},m.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},m.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},m.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},m.prototype.isNeg=function(){return 0!==this.negative},m.prototype.neg=function(){return this.clone().ineg()},m.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},m.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},m.prototype.ior=function(t){return g(0==(this.negative|t.negative)),this.iuor(t)},m.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},m.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},m.prototype.iuand=function(t){for(var e=this.length>t.length?t:this,n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},m.prototype.iand=function(t){return g(0==(this.negative|t.negative)),this.iuand(t)},m.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},m.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},m.prototype.iuxor=function(t){for(var e,n=this.length>t.length?(e=this,t):(e=t,this),r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},m.prototype.ixor=function(t){return g(0==(this.negative|t.negative)),this.iuxor(t)},m.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},m.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},m.prototype.inotn=function(t){g("number"==typeof t&&0<=t);var e=0|Math.ceil(t/26),t=t%26;this._expand(e),0<t&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return 0<t&&(this.words[n]=~this.words[n]&67108863>>26-t),this.strip()},m.prototype.notn=function(t){return this.clone().inotn(t)},m.prototype.setn=function(t,e){g("number"==typeof t&&0<=t);var n=t/26|0,t=t%26;return this._expand(1+n),this.words[n]=e?this.words[n]|1<<t:this.words[n]&~(1<<t),this.strip()},m.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();r=this.length>t.length?(n=this,t):(n=t,this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},m.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},m.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;r=0<i?(n=this,t):(n=t,this);for(var o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},m.prototype.sub=function(t){return this.clone().isub(t)};var i=function(t,e,n){var r=t.words,i=e.words,o=n.words,a=0|r[0],s=8191&a,l=a>>>13,u=0|r[1],c=8191&u,f=u>>>13,h=0|r[2],d=8191&h,p=h>>>13,g=0|r[3],m=8191&g,y=g>>>13,v=0|r[4],b=8191&v,x=v>>>13,_=0|r[5],w=8191&_,k=_>>>13,T=0|r[6],M=8191&T,A=T>>>13,S=0|r[7],E=8191&S,C=S>>>13,O=0|r[8],j=8191&O,P=O>>>13,N=0|r[9],L=8191&N,R=N>>>13,D=0|i[0],I=8191&D,F=D>>>13,z=0|i[1],B=8191&z,U=z>>>13,H=0|i[2],q=8191&H,V=H>>>13,G=0|i[3],W=8191&G,Y=G>>>13,X=0|i[4],Z=8191&X,$=X>>>13,Q=0|i[5],K=8191&Q,J=Q>>>13,a=0|i[6],u=8191&a,h=a>>>13,g=0|i[7],v=8191&g,_=g>>>13,T=0|i[8],S=8191&T,O=T>>>13,r=0|i[9],N=8191&r,D=r>>>13;n.negative=t.negative^e.negative,n.length=19;var G=(0+Math.imul(s,I)|0)+((8191&(H=Math.imul(s,F)+Math.imul(l,I)|0))<<13)|0,tt=(Math.imul(l,F)+(H>>>13)|0)+(G>>>26)|0;G&=67108863,z=Math.imul(c,I),H=Math.imul(c,F)+Math.imul(f,I)|0,X=Math.imul(f,F);Q=(tt+(z+Math.imul(s,B)|0)|0)+((8191&(H=(H+Math.imul(s,U)|0)+Math.imul(l,B)|0))<<13)|0;tt=((X+Math.imul(l,U)|0)+(H>>>13)|0)+(Q>>>26)|0,Q&=67108863,z=Math.imul(d,I),H=Math.imul(d,F)+Math.imul(p,I)|0,X=Math.imul(p,F),z=z+Math.imul(c,B)|0,H=(H+Math.imul(c,U)|0)+Math.imul(f,B)|0,X=X+Math.imul(f,U)|0;a=(tt+(z+Math.imul(s,q)|0)|0)+((8191&(H=(H+Math.imul(s,V)|0)+Math.imul(l,q)|0))<<13)|0;tt=((X+Math.imul(l,V)|0)+(H>>>13)|0)+(a>>>26)|0,a&=67108863,z=Math.imul(m,I),H=Math.imul(m,F)+Math.imul(y,I)|0,X=Math.imul(y,F),z=z+Math.imul(d,B)|0,H=(H+Math.imul(d,U)|0)+Math.imul(p,B)|0,X=X+Math.imul(p,U)|0,z=z+Math.imul(c,q)|0,H=(H+Math.imul(c,V)|0)+Math.imul(f,q)|0,X=X+Math.imul(f,V)|0;g=(tt+(z+Math.imul(s,W)|0)|0)+((8191&(H=(H+Math.imul(s,Y)|0)+Math.imul(l,W)|0))<<13)|0;tt=((X+Math.imul(l,Y)|0)+(H>>>13)|0)+(g>>>26)|0,g&=67108863,z=Math.imul(b,I),H=Math.imul(b,F)+Math.imul(x,I)|0,X=Math.imul(x,F),z=z+Math.imul(m,B)|0,H=(H+Math.imul(m,U)|0)+Math.imul(y,B)|0,X=X+Math.imul(y,U)|0,z=z+Math.imul(d,q)|0,H=(H+Math.imul(d,V)|0)+Math.imul(p,q)|0,X=X+Math.imul(p,V)|0,z=z+Math.imul(c,W)|0,H=(H+Math.imul(c,Y)|0)+Math.imul(f,W)|0,X=X+Math.imul(f,Y)|0;T=(tt+(z+Math.imul(s,Z)|0)|0)+((8191&(H=(H+Math.imul(s,$)|0)+Math.imul(l,Z)|0))<<13)|0;tt=((X+Math.imul(l,$)|0)+(H>>>13)|0)+(T>>>26)|0,T&=67108863,z=Math.imul(w,I),H=Math.imul(w,F)+Math.imul(k,I)|0,X=Math.imul(k,F),z=z+Math.imul(b,B)|0,H=(H+Math.imul(b,U)|0)+Math.imul(x,B)|0,X=X+Math.imul(x,U)|0,z=z+Math.imul(m,q)|0,H=(H+Math.imul(m,V)|0)+Math.imul(y,q)|0,X=X+Math.imul(y,V)|0,z=z+Math.imul(d,W)|0,H=(H+Math.imul(d,Y)|0)+Math.imul(p,W)|0,X=X+Math.imul(p,Y)|0,z=z+Math.imul(c,Z)|0,H=(H+Math.imul(c,$)|0)+Math.imul(f,Z)|0,X=X+Math.imul(f,$)|0;i=(tt+(z+Math.imul(s,K)|0)|0)+((8191&(H=(H+Math.imul(s,J)|0)+Math.imul(l,K)|0))<<13)|0;tt=((X+Math.imul(l,J)|0)+(H>>>13)|0)+(i>>>26)|0,i&=67108863,z=Math.imul(M,I),H=Math.imul(M,F)+Math.imul(A,I)|0,X=Math.imul(A,F),z=z+Math.imul(w,B)|0,H=(H+Math.imul(w,U)|0)+Math.imul(k,B)|0,X=X+Math.imul(k,U)|0,z=z+Math.imul(b,q)|0,H=(H+Math.imul(b,V)|0)+Math.imul(x,q)|0,X=X+Math.imul(x,V)|0,z=z+Math.imul(m,W)|0,H=(H+Math.imul(m,Y)|0)+Math.imul(y,W)|0,X=X+Math.imul(y,Y)|0,z=z+Math.imul(d,Z)|0,H=(H+Math.imul(d,$)|0)+Math.imul(p,Z)|0,X=X+Math.imul(p,$)|0,z=z+Math.imul(c,K)|0,H=(H+Math.imul(c,J)|0)+Math.imul(f,K)|0,X=X+Math.imul(f,J)|0;r=(tt+(z+Math.imul(s,u)|0)|0)+((8191&(H=(H+Math.imul(s,h)|0)+Math.imul(l,u)|0))<<13)|0;tt=((X+Math.imul(l,h)|0)+(H>>>13)|0)+(r>>>26)|0,r&=67108863,z=Math.imul(E,I),H=Math.imul(E,F)+Math.imul(C,I)|0,X=Math.imul(C,F),z=z+Math.imul(M,B)|0,H=(H+Math.imul(M,U)|0)+Math.imul(A,B)|0,X=X+Math.imul(A,U)|0,z=z+Math.imul(w,q)|0,H=(H+Math.imul(w,V)|0)+Math.imul(k,q)|0,X=X+Math.imul(k,V)|0,z=z+Math.imul(b,W)|0,H=(H+Math.imul(b,Y)|0)+Math.imul(x,W)|0,X=X+Math.imul(x,Y)|0,z=z+Math.imul(m,Z)|0,H=(H+Math.imul(m,$)|0)+Math.imul(y,Z)|0,X=X+Math.imul(y,$)|0,z=z+Math.imul(d,K)|0,H=(H+Math.imul(d,J)|0)+Math.imul(p,K)|0,X=X+Math.imul(p,J)|0,z=z+Math.imul(c,u)|0,H=(H+Math.imul(c,h)|0)+Math.imul(f,u)|0,X=X+Math.imul(f,h)|0;t=(tt+(z+Math.imul(s,v)|0)|0)+((8191&(H=(H+Math.imul(s,_)|0)+Math.imul(l,v)|0))<<13)|0;tt=((X+Math.imul(l,_)|0)+(H>>>13)|0)+(t>>>26)|0,t&=67108863,z=Math.imul(j,I),H=Math.imul(j,F)+Math.imul(P,I)|0,X=Math.imul(P,F),z=z+Math.imul(E,B)|0,H=(H+Math.imul(E,U)|0)+Math.imul(C,B)|0,X=X+Math.imul(C,U)|0,z=z+Math.imul(M,q)|0,H=(H+Math.imul(M,V)|0)+Math.imul(A,q)|0,X=X+Math.imul(A,V)|0,z=z+Math.imul(w,W)|0,H=(H+Math.imul(w,Y)|0)+Math.imul(k,W)|0,X=X+Math.imul(k,Y)|0,z=z+Math.imul(b,Z)|0,H=(H+Math.imul(b,$)|0)+Math.imul(x,Z)|0,X=X+Math.imul(x,$)|0,z=z+Math.imul(m,K)|0,H=(H+Math.imul(m,J)|0)+Math.imul(y,K)|0,X=X+Math.imul(y,J)|0,z=z+Math.imul(d,u)|0,H=(H+Math.imul(d,h)|0)+Math.imul(p,u)|0,X=X+Math.imul(p,h)|0,z=z+Math.imul(c,v)|0,H=(H+Math.imul(c,_)|0)+Math.imul(f,v)|0,X=X+Math.imul(f,_)|0;e=(tt+(z+Math.imul(s,S)|0)|0)+((8191&(H=(H+Math.imul(s,O)|0)+Math.imul(l,S)|0))<<13)|0;tt=((X+Math.imul(l,O)|0)+(H>>>13)|0)+(e>>>26)|0,e&=67108863,z=Math.imul(L,I),H=Math.imul(L,F)+Math.imul(R,I)|0,X=Math.imul(R,F),z=z+Math.imul(j,B)|0,H=(H+Math.imul(j,U)|0)+Math.imul(P,B)|0,X=X+Math.imul(P,U)|0,z=z+Math.imul(E,q)|0,H=(H+Math.imul(E,V)|0)+Math.imul(C,q)|0,X=X+Math.imul(C,V)|0,z=z+Math.imul(M,W)|0,H=(H+Math.imul(M,Y)|0)+Math.imul(A,W)|0,X=X+Math.imul(A,Y)|0,z=z+Math.imul(w,Z)|0,H=(H+Math.imul(w,$)|0)+Math.imul(k,Z)|0,X=X+Math.imul(k,$)|0,z=z+Math.imul(b,K)|0,H=(H+Math.imul(b,J)|0)+Math.imul(x,K)|0,X=X+Math.imul(x,J)|0,z=z+Math.imul(m,u)|0,H=(H+Math.imul(m,h)|0)+Math.imul(y,u)|0,X=X+Math.imul(y,h)|0,z=z+Math.imul(d,v)|0,H=(H+Math.imul(d,_)|0)+Math.imul(p,v)|0,X=X+Math.imul(p,_)|0,z=z+Math.imul(c,S)|0,H=(H+Math.imul(c,O)|0)+Math.imul(f,S)|0,X=X+Math.imul(f,O)|0;s=(tt+(z+Math.imul(s,N)|0)|0)+((8191&(H=(H+Math.imul(s,D)|0)+Math.imul(l,N)|0))<<13)|0;tt=((X+Math.imul(l,D)|0)+(H>>>13)|0)+(s>>>26)|0,s&=67108863,z=Math.imul(L,B),H=Math.imul(L,U)+Math.imul(R,B)|0,X=Math.imul(R,U),z=z+Math.imul(j,q)|0,H=(H+Math.imul(j,V)|0)+Math.imul(P,q)|0,X=X+Math.imul(P,V)|0,z=z+Math.imul(E,W)|0,H=(H+Math.imul(E,Y)|0)+Math.imul(C,W)|0,X=X+Math.imul(C,Y)|0,z=z+Math.imul(M,Z)|0,H=(H+Math.imul(M,$)|0)+Math.imul(A,Z)|0,X=X+Math.imul(A,$)|0,z=z+Math.imul(w,K)|0,H=(H+Math.imul(w,J)|0)+Math.imul(k,K)|0,X=X+Math.imul(k,J)|0,z=z+Math.imul(b,u)|0,H=(H+Math.imul(b,h)|0)+Math.imul(x,u)|0,X=X+Math.imul(x,h)|0,z=z+Math.imul(m,v)|0,H=(H+Math.imul(m,_)|0)+Math.imul(y,v)|0,X=X+Math.imul(y,_)|0,z=z+Math.imul(d,S)|0,H=(H+Math.imul(d,O)|0)+Math.imul(p,S)|0,X=X+Math.imul(p,O)|0;c=(tt+(z+Math.imul(c,N)|0)|0)+((8191&(H=(H+Math.imul(c,D)|0)+Math.imul(f,N)|0))<<13)|0;tt=((X+Math.imul(f,D)|0)+(H>>>13)|0)+(c>>>26)|0,c&=67108863,z=Math.imul(L,q),H=Math.imul(L,V)+Math.imul(R,q)|0,X=Math.imul(R,V),z=z+Math.imul(j,W)|0,H=(H+Math.imul(j,Y)|0)+Math.imul(P,W)|0,X=X+Math.imul(P,Y)|0,z=z+Math.imul(E,Z)|0,H=(H+Math.imul(E,$)|0)+Math.imul(C,Z)|0,X=X+Math.imul(C,$)|0,z=z+Math.imul(M,K)|0,H=(H+Math.imul(M,J)|0)+Math.imul(A,K)|0,X=X+Math.imul(A,J)|0,z=z+Math.imul(w,u)|0,H=(H+Math.imul(w,h)|0)+Math.imul(k,u)|0,X=X+Math.imul(k,h)|0,z=z+Math.imul(b,v)|0,H=(H+Math.imul(b,_)|0)+Math.imul(x,v)|0,X=X+Math.imul(x,_)|0,z=z+Math.imul(m,S)|0,H=(H+Math.imul(m,O)|0)+Math.imul(y,S)|0,X=X+Math.imul(y,O)|0;d=(tt+(z+Math.imul(d,N)|0)|0)+((8191&(H=(H+Math.imul(d,D)|0)+Math.imul(p,N)|0))<<13)|0;tt=((X+Math.imul(p,D)|0)+(H>>>13)|0)+(d>>>26)|0,d&=67108863,z=Math.imul(L,W),H=Math.imul(L,Y)+Math.imul(R,W)|0,X=Math.imul(R,Y),z=z+Math.imul(j,Z)|0,H=(H+Math.imul(j,$)|0)+Math.imul(P,Z)|0,X=X+Math.imul(P,$)|0,z=z+Math.imul(E,K)|0,H=(H+Math.imul(E,J)|0)+Math.imul(C,K)|0,X=X+Math.imul(C,J)|0,z=z+Math.imul(M,u)|0,H=(H+Math.imul(M,h)|0)+Math.imul(A,u)|0,X=X+Math.imul(A,h)|0,z=z+Math.imul(w,v)|0,H=(H+Math.imul(w,_)|0)+Math.imul(k,v)|0,X=X+Math.imul(k,_)|0,z=z+Math.imul(b,S)|0,H=(H+Math.imul(b,O)|0)+Math.imul(x,S)|0,X=X+Math.imul(x,O)|0;m=(tt+(z+Math.imul(m,N)|0)|0)+((8191&(H=(H+Math.imul(m,D)|0)+Math.imul(y,N)|0))<<13)|0;tt=((X+Math.imul(y,D)|0)+(H>>>13)|0)+(m>>>26)|0,m&=67108863,z=Math.imul(L,Z),H=Math.imul(L,$)+Math.imul(R,Z)|0,X=Math.imul(R,$),z=z+Math.imul(j,K)|0,H=(H+Math.imul(j,J)|0)+Math.imul(P,K)|0,X=X+Math.imul(P,J)|0,z=z+Math.imul(E,u)|0,H=(H+Math.imul(E,h)|0)+Math.imul(C,u)|0,X=X+Math.imul(C,h)|0,z=z+Math.imul(M,v)|0,H=(H+Math.imul(M,_)|0)+Math.imul(A,v)|0,X=X+Math.imul(A,_)|0,z=z+Math.imul(w,S)|0,H=(H+Math.imul(w,O)|0)+Math.imul(k,S)|0,X=X+Math.imul(k,O)|0;b=(tt+(z+Math.imul(b,N)|0)|0)+((8191&(H=(H+Math.imul(b,D)|0)+Math.imul(x,N)|0))<<13)|0;tt=((X+Math.imul(x,D)|0)+(H>>>13)|0)+(b>>>26)|0,b&=67108863,z=Math.imul(L,K),H=Math.imul(L,J)+Math.imul(R,K)|0,X=Math.imul(R,J),z=z+Math.imul(j,u)|0,H=(H+Math.imul(j,h)|0)+Math.imul(P,u)|0,X=X+Math.imul(P,h)|0,z=z+Math.imul(E,v)|0,H=(H+Math.imul(E,_)|0)+Math.imul(C,v)|0,X=X+Math.imul(C,_)|0,z=z+Math.imul(M,S)|0,H=(H+Math.imul(M,O)|0)+Math.imul(A,S)|0,X=X+Math.imul(A,O)|0;w=(tt+(z+Math.imul(w,N)|0)|0)+((8191&(H=(H+Math.imul(w,D)|0)+Math.imul(k,N)|0))<<13)|0;tt=((X+Math.imul(k,D)|0)+(H>>>13)|0)+(w>>>26)|0,w&=67108863,z=Math.imul(L,u),H=Math.imul(L,h)+Math.imul(R,u)|0,X=Math.imul(R,h),z=z+Math.imul(j,v)|0,H=(H+Math.imul(j,_)|0)+Math.imul(P,v)|0,X=X+Math.imul(P,_)|0,z=z+Math.imul(E,S)|0,H=(H+Math.imul(E,O)|0)+Math.imul(C,S)|0,X=X+Math.imul(C,O)|0;M=(tt+(z+Math.imul(M,N)|0)|0)+((8191&(H=(H+Math.imul(M,D)|0)+Math.imul(A,N)|0))<<13)|0;tt=((X+Math.imul(A,D)|0)+(H>>>13)|0)+(M>>>26)|0,M&=67108863,z=Math.imul(L,v),H=Math.imul(L,_)+Math.imul(R,v)|0,X=Math.imul(R,_),z=z+Math.imul(j,S)|0,H=(H+Math.imul(j,O)|0)+Math.imul(P,S)|0,X=X+Math.imul(P,O)|0;E=(tt+(z+Math.imul(E,N)|0)|0)+((8191&(H=(H+Math.imul(E,D)|0)+Math.imul(C,N)|0))<<13)|0;tt=((X+Math.imul(C,D)|0)+(H>>>13)|0)+(E>>>26)|0,E&=67108863,z=Math.imul(L,S),H=Math.imul(L,O)+Math.imul(R,S)|0,X=Math.imul(R,O);j=(tt+(z+Math.imul(j,N)|0)|0)+((8191&(H=(H+Math.imul(j,D)|0)+Math.imul(P,N)|0))<<13)|0;tt=((X+Math.imul(P,D)|0)+(H>>>13)|0)+(j>>>26)|0,j&=67108863;N=(tt+Math.imul(L,N)|0)+((8191&(H=Math.imul(L,D)+Math.imul(R,N)|0))<<13)|0;return tt=(Math.imul(R,D)+(H>>>13)|0)+(N>>>26)|0,N&=67108863,o[0]=G,o[1]=Q,o[2]=a,o[3]=g,o[4]=T,o[5]=i,o[6]=r,o[7]=t,o[8]=e,o[9]=s,o[10]=c,o[11]=d,o[12]=m,o[13]=b,o[14]=w,o[15]=M,o[16]=E,o[17]=j,o[18]=N,0!=tt&&(o[19]=tt,n.length++),n};function o(t,e,n){return(new s).mulp(t,e,n)}function s(t,e){this.x=t,this.y=e}Math.imul||(i=r),m.prototype.mulTo=function(t,e){var n=this.length+t.length,e=(10===this.length&&10===t.length?i:n<63?r:n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){for(var a=i,i=0,s=67108863&r,l=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=l;u++){var c=o-u,f=(0|t.words[c])*(0|e.words[u]),c=67108863&f,s=67108863&(c=c+s|0);i+=(a=(a=a+(f/67108864|0)|0)+(c>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}:o)(this,t,e);return e},s.prototype.makeRBT=function(t){for(var e=new Array(t),n=m.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},s.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},s.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},s.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,l=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var f=l,h=u,d=0;d<a;d++){var p=n[c+d],g=r[c+d],m=f*(v=n[c+d+a])-h*(y=r[c+d+a]),y=f*y+h*v,v=m;n[c+d]=p+v,r[c+d]=g+y,n[c+d+a]=p-v,r[c+d+a]=g-y,d!==s&&(m=l*f-u*h,h=l*h+u*f,f=m)}},s.prototype.guessLen13b=function(t,e){for(var t=1&(r=1|Math.max(e,t)),n=0,r=r/2|0;r;r>>>=1)n++;return 1<<n+1+t},s.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},s.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},s.prototype.convert13b=function(t,e,n,r){for(var i=0,o=0;o<e;o++)i+=0|t[o],n[2*o]=8191&i,i>>>=13,n[2*o+1]=8191&i,i>>>=13;for(o=2*e;o<r;++o)n[o]=0;g(0===i),g(0==(-8192&i))},s.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},s.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),l=new Array(r),u=new Array(r),c=new Array(r),f=new Array(r),h=n.words;h.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,u,r),this.transform(a,o,s,l,r,i),this.transform(u,o,c,f,r,i);for(var d=0;d<r;d++){var p=s[d]*c[d]-l[d]*f[d];l[d]=s[d]*f[d]+l[d]*c[d],s[d]=p}return this.conjugate(s,l,r),this.transform(s,l,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},m.prototype.mul=function(t){var e=new m(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},m.prototype.mulf=function(t){var e=new m(null);return e.words=new Array(this.length+t.length),o(this,t,e)},m.prototype.imul=function(t){return this.clone().mulTo(t,this)},m.prototype.imuln=function(t){g("number"==typeof t),g(t<67108864);for(var e=0,n=0;n<this.length;n++){var r=(0|this.words[n])*t,i=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=i>>>26,this.words[n]=67108863&i}return 0!==e&&(this.words[n]=e,this.length++),this},m.prototype.muln=function(t){return this.clone().imuln(t)},m.prototype.sqr=function(){return this.mul(this)},m.prototype.isqr=function(){return this.imul(this.clone())},m.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new m(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},m.prototype.iushln=function(t){g("number"==typeof t&&0<=t);var e=t%26,n=(t-e)/26,r=67108863>>>26-e<<26-e;if(0!=e){for(var i=0,o=0;o<this.length;o++){var a=this.words[o]&r,s=(0|this.words[o])-a<<e;this.words[o]=s|i,i=a>>>26-e}i&&(this.words[o]=i,this.length++)}if(0!=n){for(o=this.length-1;0<=o;o--)this.words[o+n]=this.words[o];for(o=0;o<n;o++)this.words[o]=0;this.length+=n}return this.strip()},m.prototype.ishln=function(t){return g(0===this.negative),this.iushln(t)},m.prototype.iushrn=function(t,e,n){var r;g("number"==typeof t&&0<=t),r=e?(e-e%26)/26:0;var i=t%26,o=Math.min((t-i)/26,this.length),a=67108863^67108863>>>i<<i,s=n;if(r-=o,r=Math.max(0,r),s){for(var l=0;l<o;l++)s.words[l]=this.words[l];s.length=o}if(0!==o)if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;for(var u=0,l=this.length-1;0<=l&&(0!==u||r<=l);l--){var c=0|this.words[l];this.words[l]=u<<26-i|c>>>i,u=c&a}return s&&0!==u&&(s.words[s.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},m.prototype.ishrn=function(t,e,n){return g(0===this.negative),this.iushrn(t,e,n)},m.prototype.shln=function(t){return this.clone().ishln(t)},m.prototype.ushln=function(t){return this.clone().iushln(t)},m.prototype.shrn=function(t){return this.clone().ishrn(t)},m.prototype.ushrn=function(t){return this.clone().iushrn(t)},m.prototype.testn=function(t){g("number"==typeof t&&0<=t);var e=t%26,t=(t-e)/26,e=1<<e;return!(this.length<=t)&&!!(this.words[t]&e)},m.prototype.imaskn=function(t){g("number"==typeof t&&0<=t);var e=t%26,t=(t-e)/26;return g(0===this.negative,"imaskn works only with positive numbers"),this.length<=t?this:(0!=e&&t++,this.length=Math.min(t,this.length),0!=e&&(e=67108863^67108863>>>e<<e,this.words[this.length-1]&=e),this.strip())},m.prototype.maskn=function(t){return this.clone().imaskn(t)},m.prototype.iaddn=function(t){return g("number"==typeof t),g(t<67108864),t<0?this.isubn(-t):0!==this.negative?(1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(t),this.negative=1),this):this._iaddn(t)},m.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&67108864<=this.words[e];e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},m.prototype.isubn=function(t){if(g("number"==typeof t),g(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,--this.words[e+1];return this.strip()},m.prototype.addn=function(t){return this.clone().iaddn(t)},m.prototype.subn=function(t){return this.clone().isubn(t)},m.prototype.iabs=function(){return this.negative=0,this},m.prototype.abs=function(){return this.clone().iabs()},m.prototype._ishlnsubmul=function(t,e,n){var r,i=t.length+n;this._expand(i);for(var o=0,a=0;a<t.length;a++){r=(0|this.words[a+n])+o;var s=(0|t.words[a])*e,o=((r-=67108863&s)>>26)-(s/67108864|0);this.words[a+n]=67108863&r}for(;a<this.length-n;a++)o=(r=(0|this.words[a+n])+o)>>26,this.words[a+n]=67108863&r;if(0===o)return this.strip();for(g(-1===o),a=o=0;a<this.length;a++)o=(r=-(0|this.words[a])+o)>>26,this.words[a]=67108863&r;return this.negative=1,this.strip()},m.prototype._wordDiv=function(t,e){var n=this.length-t.length,r=this.clone(),i=t,o=0|i.words[i.length-1];0!=(n=26-this._countBits(o))&&(i=i.ushln(n),r.iushln(n),o=0|i.words[i.length-1]);var a,s=r.length-i.length;if("mod"!==e){(a=new m(null)).length=1+s,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}t=r.clone()._ishlnsubmul(i,1,s);0===t.negative&&(r=t,a&&(a.words[s]=1));for(var u=s-1;0<=u;u--){var c=67108864*(0|r.words[i.length+u])+(0|r.words[i.length+u-1]),c=Math.min(c/o|0,67108863);for(r._ishlnsubmul(i,c,u);0!==r.negative;)c--,r.negative=0,r._ishlnsubmul(i,1,u),r.isZero()||(r.negative^=1);a&&(a.words[u]=c)}return a&&a.strip(),r.strip(),"div"!==e&&0!=n&&r.iushrn(n),{div:a||null,mod:r}},m.prototype.divmod=function(t,e,n){return g(!t.isZero()),this.isZero()?{div:new m(0),mod:new m(0)}:0!==this.negative&&0===t.negative?(o=this.neg().divmod(t,e),"mod"!==e&&(r=o.div.neg()),"div"!==e&&(i=o.mod.neg(),n&&0!==i.negative&&i.iadd(t)),{div:r,mod:i}):0===this.negative&&0!==t.negative?(o=this.divmod(t.neg(),e),"mod"!==e&&(r=o.div.neg()),{div:r,mod:o.mod}):0!=(this.negative&t.negative)?(o=this.neg().divmod(t.neg(),e),"div"!==e&&(i=o.mod.neg(),n&&0!==i.negative&&i.isub(t)),{div:o.div,mod:i}):t.length>this.length||this.cmp(t)<0?{div:new m(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new m(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new m(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,i,o},m.prototype.div=function(t){return this.divmod(t,"div",!1).div},m.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},m.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},m.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),t=t.andln(1),r=n.cmp(r);return r<0||1===t&&0===r?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},m.prototype.modn=function(t){g(t<=67108863);for(var e=(1<<26)%t,n=0,r=this.length-1;0<=r;r--)n=(e*n+(0|this.words[r]))%t;return n},m.prototype.idivn=function(t){g(t<=67108863);for(var e=0,n=this.length-1;0<=n;n--){var r=(0|this.words[n])+67108864*e;this.words[n]=r/t|0,e=r%t}return this.strip()},m.prototype.divn=function(t){return this.clone().idivn(t)},m.prototype.egcd=function(t){g(0===t.negative),g(!t.isZero());for(var e=this,n=t.clone(),e=0!==e.negative?e.umod(t):e.clone(),r=new m(1),i=new m(0),o=new m(0),a=new m(1),s=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++s;for(var l=n.clone(),u=e.clone();!e.isZero();){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(0<c)for(e.iushrn(c);0<c--;)(r.isOdd()||i.isOdd())&&(r.iadd(l),i.isub(u)),r.iushrn(1),i.iushrn(1);for(var h=0,d=1;0==(n.words[0]&d)&&h<26;++h,d<<=1);if(0<h)for(n.iushrn(h);0<h--;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(u)),o.iushrn(1),a.iushrn(1);0<=e.cmp(n)?(e.isub(n),r.isub(o),i.isub(a)):(n.isub(e),o.isub(r),a.isub(i))}return{a:o,b:a,gcd:n.iushln(s)}},m.prototype._invmp=function(t){g(0===t.negative),g(!t.isZero());for(var e,n=this,r=t.clone(),n=0!==n.negative?n.umod(t):n.clone(),i=new m(1),o=new m(0),a=r.clone();0<n.cmpn(1)&&0<r.cmpn(1);){for(var s=0,l=1;0==(n.words[0]&l)&&s<26;++s,l<<=1);if(0<s)for(n.iushrn(s);0<s--;)i.isOdd()&&i.iadd(a),i.iushrn(1);for(var u=0,c=1;0==(r.words[0]&c)&&u<26;++u,c<<=1);if(0<u)for(r.iushrn(u);0<u--;)o.isOdd()&&o.iadd(a),o.iushrn(1);0<=n.cmp(r)?(n.isub(r),i.isub(o)):(r.isub(n),o.isub(i))}return(e=0===n.cmpn(1)?i:o).cmpn(0)<0&&e.iadd(t),e},m.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0;for(var r=n.negative=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0)var o=e,e=n,n=o;else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},m.prototype.invm=function(t){return this.egcd(t).a.umod(t)},m.prototype.isEven=function(){return 0==(1&this.words[0])},m.prototype.isOdd=function(){return 1==(1&this.words[0])},m.prototype.andln=function(t){return this.words[0]&t},m.prototype.bincn=function(t){g("number"==typeof t);var e=t%26,t=(t-e)/26,e=1<<e;if(this.length<=t)return this._expand(1+t),this.words[t]|=e,this;for(var n=e,r=t;0!==n&&r<this.length;r++){var i=0|this.words[r],n=(i+=n)>>>26;i&=67108863,this.words[r]=i}return 0!==n&&(this.words[r]=n,this.length++),this},m.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},m.prototype.cmpn=function(t){var e=t<0;return 0===this.negative||e?0===this.negative&&e?1:(this.strip(),t=1<this.length?1:(e&&(t=-t),g(t<=67108863,"Number is too big"),(e=0|this.words[0])===t?0:e<t?-1:1),0!==this.negative?0|-t:t):-1},m.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;t=this.ucmp(t);return 0!==this.negative?0|-t:t},m.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;0<=n;n--){var r=0|this.words[n],i=0|t.words[n];if(r!=i){r<i?e=-1:i<r&&(e=1);break}}return e},m.prototype.gtn=function(t){return 1===this.cmpn(t)},m.prototype.gt=function(t){return 1===this.cmp(t)},m.prototype.gten=function(t){return 0<=this.cmpn(t)},m.prototype.gte=function(t){return 0<=this.cmp(t)},m.prototype.ltn=function(t){return-1===this.cmpn(t)},m.prototype.lt=function(t){return-1===this.cmp(t)},m.prototype.lten=function(t){return this.cmpn(t)<=0},m.prototype.lte=function(t){return this.cmp(t)<=0},m.prototype.eqn=function(t){return 0===this.cmpn(t)},m.prototype.eq=function(t){return 0===this.cmp(t)},m.red=function(t){return new x(t)},m.prototype.toRed=function(t){return g(!this.red,"Already a number in reduction context"),g(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},m.prototype.fromRed=function(){return g(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},m.prototype._forceRed=function(t){return this.red=t,this},m.prototype.forceRed=function(t){return g(!this.red,"Already a number in reduction context"),this._forceRed(t)},m.prototype.redAdd=function(t){return g(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},m.prototype.redIAdd=function(t){return g(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},m.prototype.redSub=function(t){return g(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},m.prototype.redISub=function(t){return g(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},m.prototype.redShl=function(t){return g(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},m.prototype.redMul=function(t){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},m.prototype.redIMul=function(t){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},m.prototype.redSqr=function(){return g(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},m.prototype.redISqr=function(){return g(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},m.prototype.redSqrt=function(){return g(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},m.prototype.redInvm=function(){return g(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},m.prototype.redNeg=function(){return g(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},m.prototype.redPow=function(t){return g(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var l={k256:null,p224:null,p192:null,p25519:null};function u(t,e){this.name=t,this.p=new m(e,16),this.n=this.p.bitLength(),this.k=new m(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function c(){u.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){u.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function v(){u.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function b(){u.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){var e;"string"==typeof t?(e=m._prime(t),this.m=e.p,this.prime=e):(g(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null)}function _(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new m(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u.prototype._tmp=function(){var t=new m(null);return t.words=new Array(Math.ceil(this.n/13)),t},u.prototype.ireduce=function(t){for(var e,n=t;this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength(),e>this.n;);t=e<this.n?-1:n.ucmp(this.p);return 0===t?(n.words[0]=0,n.length=1):0<t?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},u.prototype.split=function(t,e){t.iushrn(this.n,0,e)},u.prototype.imulK=function(t){return t.imul(this.k)},e(c,u),c.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,0===(t.words[r-10]=i)&&10<t.length?t.length-=10:t.length-=9},c.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},e(y,u),e(v,u),e(b,u),b.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},m._prime=function(t){if(l[t])return l[t];var e;if("k256"===t)e=new c;else if("p224"===t)e=new y;else if("p192"===t)e=new v;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new b}return l[t]=e},x.prototype._verify1=function(t){g(0===t.negative,"red works only with positives"),g(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){g(0==(t.negative|e.negative),"red works only with positives"),g(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return(this.prime?this.prime.ireduce(t):t.umod(this.m))._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);e=t.add(e);return 0<=e.cmp(this.m)&&e.isub(this.m),e._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);e=t.iadd(e);return 0<=e.cmp(this.m)&&e.isub(this.m),e},x.prototype.sub=function(t,e){this._verify2(t,e);e=t.sub(e);return e.cmpn(0)<0&&e.iadd(this.m),e._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);e=t.isub(e);return e.cmpn(0)<0&&e.iadd(this.m),e},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(g(e%2==1),3===e){e=this.m.add(new m(1)).iushrn(2);return this.pow(t,e)}for(var n=this.m.subn(1),r=0;!n.isZero()&&0===n.andln(1);)r++,n.iushrn(1);g(!n.isZero());for(var i=new m(1).toRed(this),o=i.redNeg(),a=this.m.subn(1).iushrn(1),s=new m(2*(s=this.m.bitLength())*s).toRed(this);0!==this.pow(s,a).cmp(o);)s.redIAdd(o);for(var l=this.pow(s,n),u=this.pow(t,n.addn(1).iushrn(1)),c=this.pow(t,n),f=r;0!==c.cmp(i);){for(var h=c,d=0;0!==h.cmp(i);d++)h=h.redSqr();g(d<f);var p=this.pow(l,new m(1).iushln(f-d-1)),u=u.redMul(p),l=p.redSqr(),c=c.redMul(l),f=d}return u},x.prototype.invm=function(t){t=t._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(t,e){if(e.isZero())return new m(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new m(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],o=0,a=0,s=e.bitLength()%26;for(0===s&&(s=26),r=e.length-1;0<=r;r--){for(var l=e.words[r],u=s-1;0<=u;u--){var c=l>>u&1;i!==n[0]&&(i=this.sqr(i)),0!=c||0!==o?(o<<=1,o|=c,(4===++a||0===r&&0===u)&&(i=this.mul(i,n[o]),o=a=0)):a=0}s=26}return i},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){t=t.clone();return t.red=null,t},m.mont=function(t){return new _(t)},e(_,x),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){t=this.imod(t.mul(this.rinv));return t.red=null,t},_.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;t=t.imul(e),e=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=t.isub(e).iushrn(this.shift),e=t;return 0<=t.cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e._forceRed(this)},_.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new m(0)._forceRed(this);t=t.mul(e),e=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=t.isub(e).iushrn(this.shift),e=t;return 0<=t.cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e._forceRed(this)},_.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t)},{buffer:38}],30:[function(t,e,n){"use strict";function Ee(t){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r,i;i=function(t,e,n){function r(t){return t&&"object"===Ee(t)&&"default"in t?t:{default:t}}var c=r(e),o=r(n);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var l="transitionend";function u(t){var e=this,n=!1;return c.default(this).one(f.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||f.triggerTransitionEnd(e)},t),this}var f={TRANSITION_END:"bsTransitionEnd",getUID:function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");e&&"#"!==e||(e=(t=t.getAttribute("href"))&&"#"!==t?t.trim():"");try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var e=c.default(t).css("transition-duration"),n=c.default(t).css("transition-delay"),r=parseFloat(e),t=parseFloat(n);return r||t?(e=e.split(",")[0],n=n.split(",")[0],1e3*(parseFloat(e)+parseFloat(n))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){c.default(t).trigger(l)},supportsTransitionEnd:function(){return Boolean(l)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r],o=e[r],a=o&&f.isElement(o)?"element":null==(a=o)?""+a:{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(i).test(a))throw new Error(t.toUpperCase()+': Option "'+r+'" provided type "'+a+'" but expected type "'+i+'".')}var a},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"!=typeof t.getRootNode)return t instanceof ShadowRoot?t:t.parentNode?f.findShadowRoot(t.parentNode):null;t=t.getRootNode();return t instanceof ShadowRoot?t:null},jQueryDetection:function(){if(void 0===c.default)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=c.default.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||4<=t[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};f.jQueryDetection(),c.default.fn.emulateTransitionEnd=u,c.default.event.special[f.TRANSITION_END]={bindType:l,delegateType:l,handle:function(t){if(c.default(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var h="alert",d="bs.alert",p=c.default.fn[h],g=function(){function r(t){this._element=t}var t=r.prototype;return t.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},t.dispose=function(){c.default.removeData(this._element,d),this._element=null},t._getRootElement=function(t){var e=f.getSelectorFromElement(t),n=!1;return e&&(n=document.querySelector(e)),n=n||c.default(t).closest(".alert")[0]},t._triggerCloseEvent=function(t){var e=c.default.Event("close.bs.alert");return c.default(t).trigger(e),e},t._removeElement=function(e){var t,n=this;c.default(e).removeClass("show"),c.default(e).hasClass("fade")?(t=f.getTransitionDurationFromElement(e),c.default(e).one(f.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(t)):this._destroyElement(e)},t._destroyElement=function(t){c.default(t).detach().trigger("closed.bs.alert").remove()},r._jQueryInterface=function(n){return this.each(function(){var t=c.default(this),e=t.data(d);e||(e=new r(this),t.data(d,e)),"close"===n&&e[n](this)})},r._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},a(r,null,[{key:"VERSION",get:function(){return"4.5.3"}}]),r}();c.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',g._handleDismiss(new g)),c.default.fn[h]=g._jQueryInterface,c.default.fn[h].Constructor=g,c.default.fn[h].noConflict=function(){return c.default.fn[h]=p,g._jQueryInterface};var m="button",y="bs.button",e="."+y,n=".data-api",v=c.default.fn[m],b="active",x='[data-toggle^="button"]',_='input:not([type="hidden"])',w=function(){function i(t){this._element=t,this.shouldAvoidTriggerChange=!1}var t=i.prototype;return t.toggle=function(){var t,e=!0,n=!0,r=c.default(this._element).closest('[data-toggle="buttons"]')[0];!r||(t=this._element.querySelector(_))&&("radio"===t.type&&(t.checked&&this._element.classList.contains(b)?e=!1:(r=r.querySelector(".active"))&&c.default(r).removeClass(b)),e&&("checkbox"!==t.type&&"radio"!==t.type||(t.checked=!this._element.classList.contains(b)),this.shouldAvoidTriggerChange||c.default(t).trigger("change")),t.focus(),n=!1),this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(b)),e&&c.default(this._element).toggleClass(b))},t.dispose=function(){c.default.removeData(this._element,y),this._element=null},i._jQueryInterface=function(n,r){return this.each(function(){var t=c.default(this),e=t.data(y);e||(e=new i(this),t.data(y,e)),e.shouldAvoidTriggerChange=r,"toggle"===n&&e[n]()})},a(i,null,[{key:"VERSION",get:function(){return"4.5.3"}}]),i}();c.default(document).on("click.bs.button.data-api",x,function(t){var e,n=t.target,r=n;c.default(n).hasClass("btn")||(n=c.default(n).closest(".btn")[0]),!n||n.hasAttribute("disabled")||n.classList.contains("disabled")||(e=n.querySelector(_))&&(e.hasAttribute("disabled")||e.classList.contains("disabled"))?t.preventDefault():"INPUT"!==r.tagName&&"LABEL"===n.tagName||w._jQueryInterface.call(c.default(n),"toggle","INPUT"===r.tagName)}).on("focus.bs.button.data-api blur.bs.button.data-api",x,function(t){var e=c.default(t.target).closest(".btn")[0];c.default(e).toggleClass("focus",/^focus(in)?$/.test(t.type))}),c.default(window).on("load.bs.button.data-api",function(){for(var t=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),e=0,n=t.length;e<n;e++){var r=t[e],i=r.querySelector(_);i.checked||i.hasAttribute("checked")?r.classList.add(b):r.classList.remove(b)}for(var o=0,a=(t=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;o<a;o++){var s=t[o];"true"===s.getAttribute("aria-pressed")?s.classList.add(b):s.classList.remove(b)}}),c.default.fn[m]=w._jQueryInterface,c.default.fn[m].Constructor=w,c.default.fn[m].noConflict=function(){return c.default.fn[m]=v,w._jQueryInterface};var k="carousel",T="bs.carousel",M="."+T,A=c.default.fn[k],S={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},E={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},C="next",O="prev",j="slid"+M,P="active",N=".active.carousel-item",L={TOUCH:"touch",PEN:"pen"},R=function(){function i(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var t=i.prototype;return t.next=function(){this._isSliding||this._slide(C)},t.nextWhenVisible=function(){var t=c.default(this._element);!document.hidden&&t.is(":visible")&&"hidden"!==t.css("visibility")&&this.next()},t.prev=function(){this._isSliding||this._slide(O)},t.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(f.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},t.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},t.to=function(t){var e=this;this._activeElement=this._element.querySelector(N);var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)c.default(this._element).one(j,function(){return e.to(t)});else{if(n===t)return this.pause(),void this.cycle();n=n<t?C:O;this._slide(n,this._items[t])}},t.dispose=function(){c.default(this._element).off(M),c.default.removeData(this._element,T),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},t._getConfig=function(t){return t=s({},S,t),f.typeCheckConfig(k,t,E),t},t._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);t<=40||(t=t/this.touchDeltaX,(this.touchDeltaX=0)<t&&this.prev(),t<0&&this.next())},t._addEventListeners=function(){var e=this;this._config.keyboard&&c.default(this._element).on("keydown.bs.carousel",function(t){return e._keydown(t)}),"hover"===this._config.pause&&c.default(this._element).on("mouseenter.bs.carousel",function(t){return e.pause(t)}).on("mouseleave.bs.carousel",function(t){return e.cycle(t)}),this._config.touch&&this._addTouchEventListeners()},t._addTouchEventListeners=function(){var t,e,n=this;this._touchSupported&&(t=function(t){n._pointerEvent&&L[t.originalEvent.pointerType.toUpperCase()]?n.touchStartX=t.originalEvent.clientX:n._pointerEvent||(n.touchStartX=t.originalEvent.touches[0].clientX)},e=function(t){n._pointerEvent&&L[t.originalEvent.pointerType.toUpperCase()]&&(n.touchDeltaX=t.originalEvent.clientX-n.touchStartX),n._handleSwipe(),"hover"===n._config.pause&&(n.pause(),n.touchTimeout&&clearTimeout(n.touchTimeout),n.touchTimeout=setTimeout(function(t){return n.cycle(t)},500+n._config.interval))},c.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(t){return t.preventDefault()}),this._pointerEvent?(c.default(this._element).on("pointerdown.bs.carousel",t),c.default(this._element).on("pointerup.bs.carousel",e),this._element.classList.add("pointer-event")):(c.default(this._element).on("touchstart.bs.carousel",t),c.default(this._element).on("touchmove.bs.carousel",function(t){(t=t).originalEvent.touches&&1<t.originalEvent.touches.length?n.touchDeltaX=0:n.touchDeltaX=t.originalEvent.touches[0].clientX-n.touchStartX}),c.default(this._element).on("touchend.bs.carousel",e)))},t._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},t._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(t)},t._getItemByDirection=function(t,e){var n=t===C,r=t===O,i=this._getItemIndex(e),o=this._items.length-1;if((r&&0===i||n&&i===o)&&!this._config.wrap)return e;t=(i+(t===O?-1:1))%this._items.length;return-1==t?this._items[this._items.length-1]:this._items[t]},t._triggerSlideEvent=function(t,e){var n=this._getItemIndex(t),r=this._getItemIndex(this._element.querySelector(N)),n=c.default.Event("slide.bs.carousel",{relatedTarget:t,direction:e,from:r,to:n});return c.default(this._element).trigger(n),n},t._setActiveIndicatorElement=function(t){var e;this._indicatorsElement&&(e=[].slice.call(this._indicatorsElement.querySelectorAll(".active")),c.default(e).removeClass(P),(t=this._indicatorsElement.children[this._getItemIndex(t)])&&c.default(t).addClass(P))},t._slide=function(t,e){var n,r,i,o=this,a=this._element.querySelector(N),s=this._getItemIndex(a),l=e||a&&this._getItemByDirection(t,a),u=this._getItemIndex(l),e=Boolean(this._interval),t=t===C?(n="carousel-item-left",r="carousel-item-next","left"):(n="carousel-item-right",r="carousel-item-prev","right");l&&c.default(l).hasClass(P)?this._isSliding=!1:this._triggerSlideEvent(l,t).isDefaultPrevented()||a&&l&&(this._isSliding=!0,e&&this.pause(),this._setActiveIndicatorElement(l),i=c.default.Event(j,{relatedTarget:l,direction:t,from:s,to:u}),c.default(this._element).hasClass("slide")?(c.default(l).addClass(r),f.reflow(l),c.default(a).addClass(n),c.default(l).addClass(n),(u=parseInt(l.getAttribute("data-interval"),10))?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=u):this._config.interval=this._config.defaultInterval||this._config.interval,u=f.getTransitionDurationFromElement(a),c.default(a).one(f.TRANSITION_END,function(){c.default(l).removeClass(n+" "+r).addClass(P),c.default(a).removeClass(P+" "+r+" "+n),o._isSliding=!1,setTimeout(function(){return c.default(o._element).trigger(i)},0)}).emulateTransitionEnd(u)):(c.default(a).removeClass(P),c.default(l).addClass(P),this._isSliding=!1,c.default(this._element).trigger(i)),e&&this.cycle())},i._jQueryInterface=function(r){return this.each(function(){var t=c.default(this).data(T),e=s({},S,c.default(this).data());"object"===Ee(r)&&(e=s({},e,r));var n="string"==typeof r?r:e.slide;if(t||(t=new i(this,e),c.default(this).data(T,t)),"number"==typeof r)t.to(r);else if("string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}else e.interval&&e.ride&&(t.pause(),t.cycle())})},i._dataApiClickHandler=function(t){var e,n,r=f.getSelectorFromElement(this);!r||(e=c.default(r)[0])&&c.default(e).hasClass("carousel")&&(n=s({},c.default(e).data(),c.default(this).data()),(r=this.getAttribute("data-slide-to"))&&(n.interval=!1),i._jQueryInterface.call(c.default(e),n),r&&c.default(e).data(T).to(r),t.preventDefault())},a(i,null,[{key:"VERSION",get:function(){return"4.5.3"}},{key:"Default",get:function(){return S}}]),i}();c.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",R._dataApiClickHandler),c.default(window).on("load.bs.carousel.data-api",function(){for(var t=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),e=0,n=t.length;e<n;e++){var r=c.default(t[e]);R._jQueryInterface.call(r,r.data())}}),c.default.fn[k]=R._jQueryInterface,c.default.fn[k].Constructor=R,c.default.fn[k].noConflict=function(){return c.default.fn[k]=A,R._jQueryInterface};var D="collapse",I="bs.collapse",e="."+I,F=c.default.fn[D],z={toggle:!0,parent:""},B={toggle:"boolean",parent:"(string|element)"},U="show",H="collapse",q="collapsing",V="collapsed",G='[data-toggle="collapse"]',W=function(){function o(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(G)),r=0,i=n.length;r<i;r++){var o=n[r],a=f.getSelectorFromElement(o),s=[].slice.call(document.querySelectorAll(a)).filter(function(t){return t===e});null!==a&&0<s.length&&(this._selector=a,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var t=o.prototype;return t.toggle=function(){c.default(this._element).hasClass(U)?this.hide():this.show()},t.show=function(){var t,e,n,r,i=this;this._isTransitioning||c.default(this._element).hasClass(U)||(this._parent&&0===(r=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(t){return"string"==typeof i._config.parent?t.getAttribute("data-parent")===i._config.parent:t.classList.contains(H)})).length&&(r=null),r&&(n=c.default(r).not(this._selector).data(I))&&n._isTransitioning||(t=c.default.Event("show.bs.collapse"),c.default(this._element).trigger(t),t.isDefaultPrevented()||(r&&(o._jQueryInterface.call(c.default(r).not(this._selector),"hide"),n||c.default(r).data(I,null)),e=this._getDimension(),c.default(this._element).removeClass(H).addClass(q),this._element.style[e]=0,this._triggerArray.length&&c.default(this._triggerArray).removeClass(V).attr("aria-expanded",!0),this.setTransitioning(!0),n="scroll"+(e[0].toUpperCase()+e.slice(1)),r=f.getTransitionDurationFromElement(this._element),c.default(this._element).one(f.TRANSITION_END,function(){c.default(i._element).removeClass(q).addClass(H+" "+U),i._element.style[e]="",i.setTransitioning(!1),c.default(i._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(r),this._element.style[e]=this._element[n]+"px")))},t.hide=function(){var t=this;if(!this._isTransitioning&&c.default(this._element).hasClass(U)){var e=c.default.Event("hide.bs.collapse");if(c.default(this._element).trigger(e),!e.isDefaultPrevented()){e=this._getDimension();this._element.style[e]=this._element.getBoundingClientRect()[e]+"px",f.reflow(this._element),c.default(this._element).addClass(q).removeClass(H+" "+U);var n=this._triggerArray.length;if(0<n)for(var r=0;r<n;r++){var i=this._triggerArray[r],o=f.getSelectorFromElement(i);null!==o&&(c.default([].slice.call(document.querySelectorAll(o))).hasClass(U)||c.default(i).addClass(V).attr("aria-expanded",!1))}this.setTransitioning(!0);this._element.style[e]="";e=f.getTransitionDurationFromElement(this._element);c.default(this._element).one(f.TRANSITION_END,function(){t.setTransitioning(!1),c.default(t._element).removeClass(q).addClass(H).trigger("hidden.bs.collapse")}).emulateTransitionEnd(e)}}},t.setTransitioning=function(t){this._isTransitioning=t},t.dispose=function(){c.default.removeData(this._element,I),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},t._getConfig=function(t){return(t=s({},z,t)).toggle=Boolean(t.toggle),f.typeCheckConfig(D,t,B),t},t._getDimension=function(){return c.default(this._element).hasClass("width")?"width":"height"},t._getParent=function(){var t,n=this;f.isElement(this._config.parent)?(t=this._config.parent,void 0!==this._config.parent.jquery&&(t=this._config.parent[0])):t=document.querySelector(this._config.parent);var e='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',e=[].slice.call(t.querySelectorAll(e));return c.default(e).each(function(t,e){n._addAriaAndCollapsedClass(o._getTargetFromElement(e),[e])}),t},t._addAriaAndCollapsedClass=function(t,e){t=c.default(t).hasClass(U);e.length&&c.default(e).toggleClass(V,!t).attr("aria-expanded",t)},o._getTargetFromElement=function(t){t=f.getSelectorFromElement(t);return t?document.querySelector(t):null},o._jQueryInterface=function(r){return this.each(function(){var t=c.default(this),e=t.data(I),n=s({},z,t.data(),"object"===Ee(r)&&r?r:{});if(!e&&n.toggle&&"string"==typeof r&&/show|hide/.test(r)&&(n.toggle=!1),e||(e=new o(this,n),t.data(I,e)),"string"==typeof r){if(void 0===e[r])throw new TypeError('No method named "'+r+'"');e[r]()}})},a(o,null,[{key:"VERSION",get:function(){return"4.5.3"}},{key:"Default",get:function(){return z}}]),o}();c.default(document).on("click.bs.collapse.data-api",G,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var n=c.default(this),t=f.getSelectorFromElement(this),t=[].slice.call(document.querySelectorAll(t));c.default(t).each(function(){var t=c.default(this),e=t.data(I)?"toggle":n.data();W._jQueryInterface.call(t,e)})}),c.default.fn[D]=W._jQueryInterface,c.default.fn[D].Constructor=W,c.default.fn[D].noConflict=function(){return c.default.fn[D]=F,W._jQueryInterface};var Y="dropdown",X="bs.dropdown",Z="."+X,n=".data-api",$=c.default.fn[Y],Q=new RegExp("38|40|27"),K="hide"+Z,J="hidden"+Z,x="click"+Z+n,e="keydown"+Z+n,tt="disabled",et="show",nt="dropdown-menu-right",rt='[data-toggle="dropdown"]',it=".dropdown-menu",ot={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},at={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},st=function(){function u(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var t=u.prototype;return t.toggle=function(){var t;this._element.disabled||c.default(this._element).hasClass(tt)||(t=c.default(this._menu).hasClass(et),u._clearMenus(),t||this.show(!0))},t.show=function(t){if(void 0===t&&(t=!1),!(this._element.disabled||c.default(this._element).hasClass(tt)||c.default(this._menu).hasClass(et))){var e={relatedTarget:this._element},n=c.default.Event("show.bs.dropdown",e),r=u._getParentFromElement(this._element);if(c.default(r).trigger(n),!n.isDefaultPrevented()){if(!this._inNavbar&&t){if(void 0===o.default)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");t=this._element;"parent"===this._config.reference?t=r:f.isElement(this._config.reference)&&(t=this._config.reference,void 0!==this._config.reference.jquery&&(t=this._config.reference[0])),"scrollParent"!==this._config.boundary&&c.default(r).addClass("position-static"),this._popper=new o.default(t,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===c.default(r).closest(".navbar-nav").length&&c.default(document.body).children().on("mouseover",null,c.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),c.default(this._menu).toggleClass(et),c.default(r).toggleClass(et).trigger(c.default.Event("shown.bs.dropdown",e))}}},t.hide=function(){var t,e,n;this._element.disabled||c.default(this._element).hasClass(tt)||!c.default(this._menu).hasClass(et)||(t={relatedTarget:this._element},e=c.default.Event(K,t),n=u._getParentFromElement(this._element),c.default(n).trigger(e),e.isDefaultPrevented()||(this._popper&&this._popper.destroy(),c.default(this._menu).toggleClass(et),c.default(n).toggleClass(et).trigger(c.default.Event(J,t))))},t.dispose=function(){c.default.removeData(this._element,X),c.default(this._element).off(Z),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},t.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},t._addEventListeners=function(){var e=this;c.default(this._element).on("click.bs.dropdown",function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},t._getConfig=function(t){return t=s({},this.constructor.Default,c.default(this._element).data(),t),f.typeCheckConfig(Y,t,this.constructor.DefaultType),t},t._getMenuElement=function(){var t;return this._menu||(t=u._getParentFromElement(this._element))&&(this._menu=t.querySelector(it)),this._menu},t._getPlacement=function(){var t=c.default(this._element.parentNode),e="bottom-start";return t.hasClass("dropup")?e=c.default(this._menu).hasClass(nt)?"top-end":"top-start":t.hasClass("dropright")?e="right-start":t.hasClass("dropleft")?e="left-start":c.default(this._menu).hasClass(nt)&&(e="bottom-end"),e},t._detectNavbar=function(){return 0<c.default(this._element).closest(".navbar").length},t._getOffset=function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=s({},t.offsets,e._config.offset(t.offsets,e._element)||{}),t}:t.offset=this._config.offset,t},t._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),s({},t,this._config.popperConfig)},u._jQueryInterface=function(n){return this.each(function(){var t=c.default(this).data(X),e="object"===Ee(n)?n:null;if(t||(t=new u(this,e),c.default(this).data(X,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},u._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var e=[].slice.call(document.querySelectorAll(rt)),n=0,r=e.length;n<r;n++){var i,o,a=u._getParentFromElement(e[n]),s=c.default(e[n]).data(X),l={relatedTarget:e[n]};t&&"click"===t.type&&(l.clickEvent=t),s&&(i=s._menu,c.default(a).hasClass(et)&&(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&c.default.contains(a,t.target)||(o=c.default.Event(K,l),c.default(a).trigger(o),o.isDefaultPrevented()||("ontouchstart"in document.documentElement&&c.default(document.body).children().off("mouseover",null,c.default.noop),e[n].setAttribute("aria-expanded","false"),s._popper&&s._popper.destroy(),c.default(i).removeClass(et),c.default(a).removeClass(et).trigger(c.default.Event(J,l))))))}},u._getParentFromElement=function(t){var e,n=f.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},u._dataApiKeydownHandler=function(t){if((/input|textarea/i.test(t.target.tagName)?!(32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||c.default(t.target).closest(it).length)):Q.test(t.which))&&!this.disabled&&!c.default(this).hasClass(tt)){var e=u._getParentFromElement(this),n=c.default(e).hasClass(et);if(n||27!==t.which){if(t.preventDefault(),t.stopPropagation(),!n||27===t.which||32===t.which)return 27===t.which&&c.default(e.querySelector(rt)).trigger("focus"),void c.default(this).trigger("click");n=[].slice.call(e.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(t){return c.default(t).is(":visible")});0!==n.length&&(e=n.indexOf(t.target),38===t.which&&0<e&&e--,40===t.which&&e<n.length-1&&e++,e<0&&(e=0),n[e].focus())}}},a(u,null,[{key:"VERSION",get:function(){return"4.5.3"}},{key:"Default",get:function(){return ot}},{key:"DefaultType",get:function(){return at}}]),u}();c.default(document).on(e,rt,st._dataApiKeydownHandler).on(e,it,st._dataApiKeydownHandler).on(x+" keyup.bs.dropdown.data-api",st._clearMenus).on(x,rt,function(t){t.preventDefault(),t.stopPropagation(),st._jQueryInterface.call(c.default(this),"toggle")}).on(x,".dropdown form",function(t){t.stopPropagation()}),c.default.fn[Y]=st._jQueryInterface,c.default.fn[Y].Constructor=st,c.default.fn[Y].noConflict=function(){return c.default.fn[Y]=$,st._jQueryInterface};var lt="modal",ut="bs.modal",ct="."+ut,ft=c.default.fn[lt],ht={backdrop:!0,keyboard:!0,focus:!0,show:!0},dt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},pt="hidden"+ct,gt="show"+ct,mt="focusin"+ct,yt="resize"+ct,vt="click.dismiss"+ct,bt="keydown.dismiss"+ct,xt="mousedown.dismiss"+ct,_t="modal-open",wt="fade",kt="show",Tt="modal-static",Mt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",At=".sticky-top",St=function(){function i(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var t=i.prototype;return t.toggle=function(t){return this._isShown?this.hide():this.show(t)},t.show=function(t){var e,n=this;this._isShown||this._isTransitioning||(c.default(this._element).hasClass(wt)&&(this._isTransitioning=!0),e=c.default.Event(gt,{relatedTarget:t}),c.default(this._element).trigger(e),this._isShown||e.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),c.default(this._element).on(vt,'[data-dismiss="modal"]',function(t){return n.hide(t)}),c.default(this._dialog).on(xt,function(){c.default(n._element).one("mouseup.dismiss.bs.modal",function(t){c.default(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(t)})))},t.hide=function(t){var e=this;t&&t.preventDefault(),this._isShown&&!this._isTransitioning&&(t=c.default.Event("hide.bs.modal"),c.default(this._element).trigger(t),this._isShown&&!t.isDefaultPrevented()&&(this._isShown=!1,(t=c.default(this._element).hasClass(wt))&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),c.default(document).off(mt),c.default(this._element).removeClass(kt),c.default(this._element).off(vt),c.default(this._dialog).off(xt),t?(t=f.getTransitionDurationFromElement(this._element),c.default(this._element).one(f.TRANSITION_END,function(t){return e._hideModal(t)}).emulateTransitionEnd(t)):this._hideModal()))},t.dispose=function(){[window,this._element,this._dialog].forEach(function(t){return c.default(t).off(ct)}),c.default(document).off(mt),c.default.removeData(this._element,ut),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},t.handleUpdate=function(){this._adjustDialog()},t._getConfig=function(t){return t=s({},ht,t),f.typeCheckConfig(lt,t,dt),t},t._triggerBackdropTransition=function(){var t,e,n,r=this;"static"===this._config.backdrop?(t=c.default.Event("hidePrevented.bs.modal"),c.default(this._element).trigger(t),t.isDefaultPrevented()||((e=this._element.scrollHeight>document.documentElement.clientHeight)||(this._element.style.overflowY="hidden"),this._element.classList.add(Tt),n=f.getTransitionDurationFromElement(this._dialog),c.default(this._element).off(f.TRANSITION_END),c.default(this._element).one(f.TRANSITION_END,function(){r._element.classList.remove(Tt),e||c.default(r._element).one(f.TRANSITION_END,function(){r._element.style.overflowY=""}).emulateTransitionEnd(r._element,n)}).emulateTransitionEnd(n),this._element.focus())):this.hide()},t._showElement=function(t){var e=this,n=c.default(this._element).hasClass(wt),r=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),c.default(this._dialog).hasClass("modal-dialog-scrollable")&&r?r.scrollTop=0:this._element.scrollTop=0,n&&f.reflow(this._element),c.default(this._element).addClass(kt),this._config.focus&&this._enforceFocus();var i=c.default.Event("shown.bs.modal",{relatedTarget:t}),t=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,c.default(e._element).trigger(i)};n?(n=f.getTransitionDurationFromElement(this._dialog),c.default(this._dialog).one(f.TRANSITION_END,t).emulateTransitionEnd(n)):t()},t._enforceFocus=function(){var e=this;c.default(document).off(mt).on(mt,function(t){document!==t.target&&e._element!==t.target&&0===c.default(e._element).has(t.target).length&&e._element.focus()})},t._setEscapeEvent=function(){var e=this;this._isShown?c.default(this._element).on(bt,function(t){e._config.keyboard&&27===t.which?(t.preventDefault(),e.hide()):e._config.keyboard||27!==t.which||e._triggerBackdropTransition()}):this._isShown||c.default(this._element).off(bt)},t._setResizeEvent=function(){var e=this;this._isShown?c.default(window).on(yt,function(t){return e.handleUpdate(t)}):c.default(window).off(yt)},t._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){c.default(document.body).removeClass(_t),t._resetAdjustments(),t._resetScrollbar(),c.default(t._element).trigger(pt)})},t._removeBackdrop=function(){this._backdrop&&(c.default(this._backdrop).remove(),this._backdrop=null)},t._showBackdrop=function(t){var e,n=this,r=c.default(this._element).hasClass(wt)?wt:"";this._isShown&&this._config.backdrop?(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",r&&this._backdrop.classList.add(r),c.default(this._backdrop).appendTo(document.body),c.default(this._element).on(vt,function(t){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:t.target===t.currentTarget&&n._triggerBackdropTransition()}),r&&f.reflow(this._backdrop),c.default(this._backdrop).addClass(kt),t&&(r?(e=f.getTransitionDurationFromElement(this._backdrop),c.default(this._backdrop).one(f.TRANSITION_END,t).emulateTransitionEnd(e)):t())):!this._isShown&&this._backdrop?(c.default(this._backdrop).removeClass(kt),r=function(){n._removeBackdrop(),t&&t()},c.default(this._element).hasClass(wt)?(e=f.getTransitionDurationFromElement(this._backdrop),c.default(this._backdrop).one(f.TRANSITION_END,r).emulateTransitionEnd(e)):r()):t&&t()},t._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},t._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},t._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},t._setScrollbar=function(){var t,e,i=this;this._isBodyOverflowing&&(t=[].slice.call(document.querySelectorAll(Mt)),e=[].slice.call(document.querySelectorAll(At)),c.default(t).each(function(t,e){var n=e.style.paddingRight,r=c.default(e).css("padding-right");c.default(e).data("padding-right",n).css("padding-right",parseFloat(r)+i._scrollbarWidth+"px")}),c.default(e).each(function(t,e){var n=e.style.marginRight,r=c.default(e).css("margin-right");c.default(e).data("margin-right",n).css("margin-right",parseFloat(r)-i._scrollbarWidth+"px")}),t=document.body.style.paddingRight,e=c.default(document.body).css("padding-right"),c.default(document.body).data("padding-right",t).css("padding-right",parseFloat(e)+this._scrollbarWidth+"px")),c.default(document.body).addClass(_t)},t._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(Mt));c.default(t).each(function(t,e){var n=c.default(e).data("padding-right");c.default(e).removeData("padding-right"),e.style.paddingRight=n||""});t=[].slice.call(document.querySelectorAll(At));c.default(t).each(function(t,e){var n=c.default(e).data("margin-right");void 0!==n&&c.default(e).css("margin-right",n).removeData("margin-right")});t=c.default(document.body).data("padding-right");c.default(document.body).removeData("padding-right"),document.body.style.paddingRight=t||""},t._getScrollbarWidth=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},i._jQueryInterface=function(n,r){return this.each(function(){var t=c.default(this).data(ut),e=s({},ht,c.default(this).data(),"object"===Ee(n)&&n?n:{});if(t||(t=new i(this,e),c.default(this).data(ut,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n](r)}else e.show&&t.show(r)})},a(i,null,[{key:"VERSION",get:function(){return"4.5.3"}},{key:"Default",get:function(){return ht}}]),i}();c.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e,n=this,r=f.getSelectorFromElement(this);r&&(e=document.querySelector(r));r=c.default(e).data(ut)?"toggle":s({},c.default(e).data(),c.default(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var i=c.default(e).one(gt,function(t){t.isDefaultPrevented()||i.one(pt,function(){c.default(n).is(":visible")&&n.focus()})});St._jQueryInterface.call(c.default(e),r,this)}),c.default.fn[lt]=St._jQueryInterface,c.default.fn[lt].Constructor=St,c.default.fn[lt].noConflict=function(){return c.default.fn[lt]=ft,St._jQueryInterface};var Et=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],x={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ct=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,Ot=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function jt(t,i,e){if(0===t.length)return t;if(e&&"function"==typeof e)return e(t);for(var t=(new window.DOMParser).parseFromString(t,"text/html"),o=Object.keys(i),a=[].slice.call(t.body.querySelectorAll("*")),n=function(t){var e=a[t],n=e.nodeName.toLowerCase();if(-1===o.indexOf(e.nodeName.toLowerCase()))return e.parentNode.removeChild(e),"continue";var t=[].slice.call(e.attributes),r=[].concat(i["*"]||[],i[n]||[]);t.forEach(function(t){!function(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===Et.indexOf(n)||Boolean(t.nodeValue.match(Ct)||t.nodeValue.match(Ot));for(var r=e.filter(function(t){return t instanceof RegExp}),i=0,o=r.length;i<o;i++)if(n.match(r[i]))return 1}(t,r)&&e.removeAttribute(t.nodeName)})},r=0,s=a.length;r<s;r++)n(r);return t.body.innerHTML}var Pt="tooltip",Nt="bs.tooltip",Lt="."+Nt,Rt=c.default.fn[Pt],Dt="bs-tooltip",It=new RegExp("(^|\\s)"+Dt+"\\S+","g"),Ft=["sanitize","whiteList","sanitizeFn"],zt={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},Bt={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Ut={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:x,popperConfig:null},Ht="show",qt={HIDE:"hide"+Lt,HIDDEN:"hidden"+Lt,SHOW:"show"+Lt,SHOWN:"shown"+Lt,INSERTED:"inserted"+Lt,CLICK:"click"+Lt,FOCUSIN:"focusin"+Lt,FOCUSOUT:"focusout"+Lt,MOUSEENTER:"mouseenter"+Lt,MOUSELEAVE:"mouseleave"+Lt},Vt="fade",Gt="show",Wt="hover",Yt=function(){function i(t,e){if(void 0===o.default)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var t=i.prototype;return t.enable=function(){this._isEnabled=!0},t.disable=function(){this._isEnabled=!1},t.toggleEnabled=function(){this._isEnabled=!this._isEnabled},t.toggle=function(t){var e,n;this._isEnabled&&(t?(e=this.constructor.DATA_KEY,(n=c.default(t.currentTarget).data(e))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),c.default(t.currentTarget).data(e,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)):c.default(this.getTipElement()).hasClass(Gt)?this._leave(null,this):this._enter(null,this))},t.dispose=function(){clearTimeout(this._timeout),c.default.removeData(this.element,this.constructor.DATA_KEY),c.default(this.element).off(this.constructor.EVENT_KEY),c.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&c.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},t.show=function(){var e=this;if("none"===c.default(this.element).css("display"))throw new Error("Please use show on visible elements");var t,n,r=c.default.Event(this.constructor.Event.SHOW);this.isWithContent()&&this._isEnabled&&(c.default(this.element).trigger(r),n=f.findShadowRoot(this.element),t=c.default.contains(null!==n?n:this.element.ownerDocument.documentElement,this.element),!r.isDefaultPrevented()&&t&&(n=this.getTipElement(),r=f.getUID(this.constructor.NAME),n.setAttribute("id",r),this.element.setAttribute("aria-describedby",r),this.setContent(),this.config.animation&&c.default(n).addClass(Vt),t="function"==typeof this.config.placement?this.config.placement.call(this,n,this.element):this.config.placement,r=this._getAttachment(t),this.addAttachmentClass(r),t=this._getContainer(),c.default(n).data(this.constructor.DATA_KEY,this),c.default.contains(this.element.ownerDocument.documentElement,this.tip)||c.default(n).appendTo(t),c.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new o.default(this.element,n,this._getPopperConfig(r)),c.default(n).addClass(Gt),"ontouchstart"in document.documentElement&&c.default(document.body).children().on("mouseover",null,c.default.noop),r=function(){e.config.animation&&e._fixTransition();var t=e._hoverState;e._hoverState=null,c.default(e.element).trigger(e.constructor.Event.SHOWN),"out"===t&&e._leave(null,e)},c.default(this.tip).hasClass(Vt)?(n=f.getTransitionDurationFromElement(this.tip),c.default(this.tip).one(f.TRANSITION_END,r).emulateTransitionEnd(n)):r()))},t.hide=function(t){function e(){n._hoverState!==Ht&&r.parentNode&&r.parentNode.removeChild(r),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),c.default(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()}var n=this,r=this.getTipElement(),i=c.default.Event(this.constructor.Event.HIDE);c.default(this.element).trigger(i),i.isDefaultPrevented()||(c.default(r).removeClass(Gt),"ontouchstart"in document.documentElement&&c.default(document.body).children().off("mouseover",null,c.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger[Wt]=!1,c.default(this.tip).hasClass(Vt)?(i=f.getTransitionDurationFromElement(r),c.default(r).one(f.TRANSITION_END,e).emulateTransitionEnd(i)):e(),this._hoverState="")},t.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},t.isWithContent=function(){return Boolean(this.getTitle())},t.addAttachmentClass=function(t){c.default(this.getTipElement()).addClass(Dt+"-"+t)},t.getTipElement=function(){return this.tip=this.tip||c.default(this.config.template)[0],this.tip},t.setContent=function(){var t=this.getTipElement();this.setElementContent(c.default(t.querySelectorAll(".tooltip-inner")),this.getTitle()),c.default(t).removeClass("fade show")},t.setElementContent=function(t,e){"object"!==Ee(e)||!e.nodeType&&!e.jquery?this.config.html?(this.config.sanitize&&(e=jt(e,this.config.whiteList,this.config.sanitizeFn)),t.html(e)):t.text(e):this.config.html?c.default(e).parent().is(t)||t.empty().append(e):t.text(c.default(e).text())},t.getTitle=function(){return this.element.getAttribute("data-original-title")||("function"==typeof this.config.title?this.config.title.call(this.element):this.config.title)},t._getPopperConfig=function(t){var e=this;return s({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}},this.config.popperConfig)},t._getOffset=function(){var e=this,t={};return"function"==typeof this.config.offset?t.fn=function(t){return t.offsets=s({},t.offsets,e.config.offset(t.offsets,e.element)||{}),t}:t.offset=this.config.offset,t},t._getContainer=function(){return!1===this.config.container?document.body:f.isElement(this.config.container)?c.default(this.config.container):c.default(document).find(this.config.container)},t._getAttachment=function(t){return Bt[t.toUpperCase()]},t._setListeners=function(){var n=this;this.config.trigger.split(" ").forEach(function(t){var e;"click"===t?c.default(n.element).on(n.constructor.Event.CLICK,n.config.selector,function(t){return n.toggle(t)}):"manual"!==t&&(e=t===Wt?n.constructor.Event.MOUSEENTER:n.constructor.Event.FOCUSIN,t=t===Wt?n.constructor.Event.MOUSELEAVE:n.constructor.Event.FOCUSOUT,c.default(n.element).on(e,n.config.selector,function(t){return n._enter(t)}).on(t,n.config.selector,function(t){return n._leave(t)}))}),this._hideModalHandler=function(){n.element&&n.hide()},c.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=s({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},t._fixTitle=function(){var t=Ee(this.element.getAttribute("data-original-title"));!this.element.getAttribute("title")&&"string"===t||(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},t._enter=function(t,e){var n=this.constructor.DATA_KEY;(e=e||c.default(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),c.default(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusin"===t.type?"focus":Wt]=!0),c.default(e.getTipElement()).hasClass(Gt)||e._hoverState===Ht?e._hoverState=Ht:(clearTimeout(e._timeout),e._hoverState=Ht,e.config.delay&&e.config.delay.show?e._timeout=setTimeout(function(){e._hoverState===Ht&&e.show()},e.config.delay.show):e.show())},t._leave=function(t,e){var n=this.constructor.DATA_KEY;(e=e||c.default(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),c.default(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusout"===t.type?"focus":Wt]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState="out",e.config.delay&&e.config.delay.hide?e._timeout=setTimeout(function(){"out"===e._hoverState&&e.hide()},e.config.delay.hide):e.hide())},t._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},t._getConfig=function(t){var e=c.default(this.element).data();return Object.keys(e).forEach(function(t){-1!==Ft.indexOf(t)&&delete e[t]}),"number"==typeof(t=s({},this.constructor.Default,e,"object"===Ee(t)&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),f.typeCheckConfig(Pt,t,this.constructor.DefaultType),t.sanitize&&(t.template=jt(t.template,t.whiteList,t.sanitizeFn)),t},t._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},t._cleanTipClass=function(){var t=c.default(this.getTipElement()),e=t.attr("class").match(It);null!==e&&e.length&&t.removeClass(e.join(""))},t._handlePopperPlacementChange=function(t){this.tip=t.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},t._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(c.default(t).removeClass(Vt),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},i._jQueryInterface=function(r){return this.each(function(){var t=c.default(this),e=t.data(Nt),n="object"===Ee(r)&&r;if((e||!/dispose|hide/.test(r))&&(e||(e=new i(this,n),t.data(Nt,e)),"string"==typeof r)){if(void 0===e[r])throw new TypeError('No method named "'+r+'"');e[r]()}})},a(i,null,[{key:"VERSION",get:function(){return"4.5.3"}},{key:"Default",get:function(){return Ut}},{key:"NAME",get:function(){return Pt}},{key:"DATA_KEY",get:function(){return Nt}},{key:"Event",get:function(){return qt}},{key:"EVENT_KEY",get:function(){return Lt}},{key:"DefaultType",get:function(){return zt}}]),i}();c.default.fn[Pt]=Yt._jQueryInterface,c.default.fn[Pt].Constructor=Yt,c.default.fn[Pt].noConflict=function(){return c.default.fn[Pt]=Rt,Yt._jQueryInterface};var Xt="popover",Zt="bs.popover",$t="."+Zt,Qt=c.default.fn[Xt],Kt="bs-popover",Jt=new RegExp("(^|\\s)"+Kt+"\\S+","g"),te=s({},Yt.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),ee=s({},Yt.DefaultType,{content:"(string|element|function)"}),ne={HIDE:"hide"+$t,HIDDEN:"hidden"+$t,SHOW:"show"+$t,SHOWN:"shown"+$t,INSERTED:"inserted"+$t,CLICK:"click"+$t,FOCUSIN:"focusin"+$t,FOCUSOUT:"focusout"+$t,MOUSEENTER:"mouseenter"+$t,MOUSELEAVE:"mouseleave"+$t},re=function(t){var e;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),(e.prototype.constructor=e).__proto__=n;var n=r.prototype;return n.isWithContent=function(){return this.getTitle()||this._getContent()},n.addAttachmentClass=function(t){c.default(this.getTipElement()).addClass(Kt+"-"+t)},n.getTipElement=function(){return this.tip=this.tip||c.default(this.config.template)[0],this.tip},n.setContent=function(){var t=c.default(this.getTipElement());this.setElementContent(t.find(".popover-header"),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(".popover-body"),e),t.removeClass("fade show")},n._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},n._cleanTipClass=function(){var t=c.default(this.getTipElement()),e=t.attr("class").match(Jt);null!==e&&0<e.length&&t.removeClass(e.join(""))},r._jQueryInterface=function(n){return this.each(function(){var t=c.default(this).data(Zt),e="object"===Ee(n)?n:null;if((t||!/dispose|hide/.test(n))&&(t||(t=new r(this,e),c.default(this).data(Zt,t)),"string"==typeof n)){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},a(r,null,[{key:"VERSION",get:function(){return"4.5.3"}},{key:"Default",get:function(){return te}},{key:"NAME",get:function(){return Xt}},{key:"DATA_KEY",get:function(){return Zt}},{key:"Event",get:function(){return ne}},{key:"EVENT_KEY",get:function(){return $t}},{key:"DefaultType",get:function(){return ee}}]),r}(Yt);c.default.fn[Xt]=re._jQueryInterface,c.default.fn[Xt].Constructor=re,c.default.fn[Xt].noConflict=function(){return c.default.fn[Xt]=Qt,re._jQueryInterface};var ie="scrollspy",oe="bs.scrollspy",ae="."+oe,se=c.default.fn[ie],le={offset:10,method:"auto",target:""},ue={offset:"number",method:"string",target:"(string|element)"},ce="active",fe=".nav, .list-group",he=".nav-link",de=".list-group-item",pe=function(){function r(t,e){var n=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" "+he+","+this._config.target+" "+de+","+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,c.default(this._scrollElement).on("scroll.bs.scrollspy",function(t){return n._process(t)}),this.refresh(),this._process()}var t=r.prototype;return t.refresh=function(){var e=this,t=this._scrollElement===this._scrollElement.window?"offset":"position",r="auto"===this._config.method?t:this._config.method,i="position"===r?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(t){var e,n=f.getSelectorFromElement(t);if(n&&(e=document.querySelector(n)),e){t=e.getBoundingClientRect();if(t.width||t.height)return[c.default(e)[r]().top+i,n]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},t.dispose=function(){c.default.removeData(this._element,oe),c.default(this._scrollElement).off(ae),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},t._getConfig=function(t){var e;return"string"!=typeof(t=s({},le,"object"===Ee(t)&&t?t:{})).target&&f.isElement(t.target)&&((e=c.default(t.target).attr("id"))||(e=f.getUID(ie),c.default(t.target).attr("id",e)),t.target="#"+e),f.typeCheckConfig(ie,t,ue),t},t._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},t._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},t._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},t._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),n<=t){n=this._targets[this._targets.length-1];this._activeTarget!==n&&this._activate(n)}else{if(this._activeTarget&&t<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&(void 0===this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])}},t._activate=function(e){this._activeTarget=e,this._clear();var t=this._selector.split(",").map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'}),t=c.default([].slice.call(document.querySelectorAll(t.join(","))));t.hasClass("dropdown-item")?(t.closest(".dropdown").find(".dropdown-toggle").addClass(ce),t.addClass(ce)):(t.addClass(ce),t.parents(fe).prev(he+", "+de).addClass(ce),t.parents(fe).prev(".nav-item").children(he).addClass(ce)),c.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:e})},t._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(t){return t.classList.contains(ce)}).forEach(function(t){return t.classList.remove(ce)})},r._jQueryInterface=function(n){return this.each(function(){var t=c.default(this).data(oe),e="object"===Ee(n)&&n;if(t||(t=new r(this,e),c.default(this).data(oe,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},a(r,null,[{key:"VERSION",get:function(){return"4.5.3"}},{key:"Default",get:function(){return le}}]),r}();c.default(window).on("load.bs.scrollspy.data-api",function(){for(var t=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),e=t.length;e--;){var n=c.default(t[e]);pe._jQueryInterface.call(n,n.data())}}),c.default.fn[ie]=pe._jQueryInterface,c.default.fn[ie].Constructor=pe,c.default.fn[ie].noConflict=function(){return c.default.fn[ie]=se,pe._jQueryInterface};var ge="bs.tab",me=c.default.fn.tab,ye="active",ve="> li > .active",be=function(){function r(t){this._element=t}var t=r.prototype;return t.show=function(){var t,e,n,r,i,o,a=this;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&c.default(this._element).hasClass(ye)||c.default(this._element).hasClass("disabled")||(o=c.default(this._element).closest(".nav, .list-group")[0],e=f.getSelectorFromElement(this._element),o&&(i="UL"===o.nodeName||"OL"===o.nodeName?ve:".active",n=(n=c.default.makeArray(c.default(o).find(i)))[n.length-1]),r=c.default.Event("hide.bs.tab",{relatedTarget:this._element}),i=c.default.Event("show.bs.tab",{relatedTarget:n}),n&&c.default(n).trigger(r),c.default(this._element).trigger(i),i.isDefaultPrevented()||r.isDefaultPrevented()||(e&&(t=document.querySelector(e)),this._activate(this._element,o),o=function(){var t=c.default.Event("hidden.bs.tab",{relatedTarget:a._element}),e=c.default.Event("shown.bs.tab",{relatedTarget:n});c.default(n).trigger(t),c.default(a._element).trigger(e)},t?this._activate(t,t.parentNode,o):o()))},t.dispose=function(){c.default.removeData(this._element,ge),this._element=null},t._activate=function(t,e,n){var r=this,i=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?c.default(e).children(".active"):c.default(e).find(ve))[0],o=n&&i&&c.default(i).hasClass("fade"),e=function(){return r._transitionComplete(t,i,n)};i&&o?(o=f.getTransitionDurationFromElement(i),c.default(i).removeClass("show").one(f.TRANSITION_END,e).emulateTransitionEnd(o)):e()},t._transitionComplete=function(t,e,n){var r;e&&(c.default(e).removeClass(ye),(r=c.default(e.parentNode).find("> .dropdown-menu .active")[0])&&c.default(r).removeClass(ye),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)),c.default(t).addClass(ye),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),f.reflow(t),t.classList.contains("fade")&&t.classList.add("show"),t.parentNode&&c.default(t.parentNode).hasClass("dropdown-menu")&&((e=c.default(t).closest(".dropdown")[0])&&(e=[].slice.call(e.querySelectorAll(".dropdown-toggle")),c.default(e).addClass(ye)),t.setAttribute("aria-expanded",!0)),n&&n()},r._jQueryInterface=function(n){return this.each(function(){var t=c.default(this),e=t.data(ge);if(e||(e=new r(this),t.data(ge,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},a(r,null,[{key:"VERSION",get:function(){return"4.5.3"}}]),r}();c.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(t){t.preventDefault(),be._jQueryInterface.call(c.default(this),"show")}),c.default.fn.tab=be._jQueryInterface,c.default.fn.tab.Constructor=be,c.default.fn.tab.noConflict=function(){return c.default.fn.tab=me,be._jQueryInterface};var xe="toast",_e="bs.toast",x="."+_e,we=c.default.fn[xe],ke="click.dismiss"+x,Te="show",Me={animation:"boolean",autohide:"boolean",delay:"number"},Ae={animation:!0,autohide:!0,delay:500},Se=function(){function i(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var t=i.prototype;return t.show=function(){var t,e=this,n=c.default.Event("show.bs.toast");c.default(this._element).trigger(n),n.isDefaultPrevented()||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),t=function(){e._element.classList.remove("showing"),e._element.classList.add(Te),c.default(e._element).trigger("shown.bs.toast"),e._config.autohide&&(e._timeout=setTimeout(function(){e.hide()},e._config.delay))},this._element.classList.remove("hide"),f.reflow(this._element),this._element.classList.add("showing"),this._config.animation?(n=f.getTransitionDurationFromElement(this._element),c.default(this._element).one(f.TRANSITION_END,t).emulateTransitionEnd(n)):t())},t.hide=function(){var t;this._element.classList.contains(Te)&&(t=c.default.Event("hide.bs.toast"),c.default(this._element).trigger(t),t.isDefaultPrevented()||this._close())},t.dispose=function(){this._clearTimeout(),this._element.classList.contains(Te)&&this._element.classList.remove(Te),c.default(this._element).off(ke),c.default.removeData(this._element,_e),this._element=null,this._config=null},t._getConfig=function(t){return t=s({},Ae,c.default(this._element).data(),"object"===Ee(t)&&t?t:{}),f.typeCheckConfig(xe,t,this.constructor.DefaultType),t},t._setListeners=function(){var t=this;c.default(this._element).on(ke,'[data-dismiss="toast"]',function(){return t.hide()})},t._close=function(){function t(){n._element.classList.add("hide"),c.default(n._element).trigger("hidden.bs.toast")}var e,n=this;this._element.classList.remove(Te),this._config.animation?(e=f.getTransitionDurationFromElement(this._element),c.default(this._element).one(f.TRANSITION_END,t).emulateTransitionEnd(e)):t()},t._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},i._jQueryInterface=function(r){return this.each(function(){var t=c.default(this),e=t.data(_e),n="object"===Ee(r)&&r;if(e||(e=new i(this,n),t.data(_e,e)),"string"==typeof r){if(void 0===e[r])throw new TypeError('No method named "'+r+'"');e[r](this)}})},a(i,null,[{key:"VERSION",get:function(){return"4.5.3"}},{key:"DefaultType",get:function(){return Me}},{key:"Default",get:function(){return Ae}}]),i}();c.default.fn[xe]=Se._jQueryInterface,c.default.fn[xe].Constructor=Se,c.default.fn[xe].noConflict=function(){return c.default.fn[xe]=we,Se._jQueryInterface},t.Alert=g,t.Button=w,t.Carousel=R,t.Collapse=W,t.Dropdown=st,t.Modal=St,t.Popover=re,t.Scrollspy=pe,t.Tab=be,t.Toast=Se,t.Tooltip=Yt,t.Util=f,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((r=void 0)===n?"undefined":Ee(n))&&void 0!==e?i(n,t("jquery"),t("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],i):i((r="undefined"!=typeof globalThis?globalThis:r||self).bootstrap={},r.jQuery,r.Popper)},{jquery:558,"popper.js":971}],31:[function(t,e,n){"use strict";e.exports=function(t,e,n){switch(arguments.length){case 1:return function(t){return r=[],i(t,t,o,!0),r}(t);case 2:return"function"==typeof e?i(t,t,e,!0):function(t,e){return i(t,e,o,!(r=[])),r}(t,e);case 3:return i(t,e,n,!1);default:throw new Error("box-intersect: Invalid arguments")}};var r,c=t("typedarray-pool"),f=t("./lib/sweep"),h=t("./lib/intersect");function d(t,e,n,r){for(var i=0,o=0,a=0,s=t.length;a<s;++a){var l=t[a];if(!function(t,e){for(var n=0;n<t;++n)if(!(e[n]<=e[n+t]))return 1}(e,l)){for(var u=0;u<2*e;++u)n[i++]=l[u];r[o++]=a}}return o}function i(t,e,n,r){var i=t.length,o=e.length;if(!(i<=0||o<=0)){var a=t[0].length>>>1;if(!(a<=0)){var s,l=c.mallocDouble(2*a*i),u=c.mallocInt32(i);return 0<(i=d(t,a,l,u))&&(1==a&&r?(f.init(i),s=f.sweepComplete(a,n,0,i,l,u,0,i,l,u)):0<(o=d(e,a,t=c.mallocDouble(2*a*o),e=c.mallocInt32(o)))&&(f.init(i+o),s=1==a?f.sweepBipartite(a,n,0,i,l,u,0,o,t,e):h(a,n,r,i,l,u,o,t,e),c.free(t),c.free(e)),c.free(l),c.free(u)),s}}}function o(t,e){r.push([t,e])}},{"./lib/intersect":33,"./lib/sweep":37,"typedarray-pool":1011}],32:[function(t,e,n){"use strict";var c="d",f="ax",h="vv",d="es",p="rs",g="re",m="rb",y="ri",v="rp",b="bs",x="be",_="bb",w="bi",k="bp",T="rv",M="Q",A=[c,f,h,p,g,m,y,b,x,_,w];function r(s){var t="bruteForce"+(s?"Full":"Partial"),l=[],e=A.slice();s||e.splice(3,0,"fp");var u=["function "+t+"("+e.join()+"){"];function n(t,e){var n,r,i,o,a,a=(a=["function ",o="bruteForce"+((n=t)?"Red":"Blue")+((r=e)?"Flip":"")+((i=s)?"Full":""),"(",A.join(),"){","var ",d,"=2*",c,";"],t="for(var i="+p+","+v+"="+d+"*"+p+";i<"+g+";++i,"+v+"+="+d+"){var x0="+m+"["+f+"+"+v+"],x1="+m+"["+f+"+"+v+"+"+c+"],xi="+y+"[i];",e="for(var j="+b+","+k+"="+d+"*"+b+";j<"+x+";++j,"+k+"+="+d+"){var y0="+_+"["+f+"+"+k+"],"+(i?"y1="+_+"["+f+"+"+k+"+"+c+"],":"")+"yi="+w+"[j];",n?a.push(t,M,":",e):a.push(e,M,":",t),i?a.push("if(y1<x0||x1<y0)continue;"):r?a.push("if(y0<=x0||x1<y0)continue;"):a.push("if(y0<x0||x1<y0)continue;"),a.push("for(var k="+f+"+1;k<"+c+";++k){var r0="+m+"[k+"+v+"],r1="+m+"[k+"+c+"+"+v+"],b0="+_+"[k+"+k+"],b1="+_+"[k+"+c+"+"+k+"];if(r1<b0||b1<r0)continue "+M+";}var "+T+"="+h+"("),r?a.push("yi,xi"):a.push("xi,yi"),a.push(");if("+T+"!==void 0)return "+T+";}}}"),{name:o,code:a.join("")});l.push(a.code),u.push("return "+a.name+"("+A.join()+");")}u.push("if("+g+"-"+p+">"+x+"-"+b+"){"),s?(n(!0,!1),u.push("}else{"),n(!1,!1)):(u.push("if(fp){"),n(!0,!0),u.push("}else{"),n(!0,!1),u.push("}}else{if(fp){"),n(!1,!0),u.push("}else{"),n(!1,!1),u.push("}")),u.push("}}return "+t);t=l.join("")+u.join("");return new Function(t)()}n.partial=r(!1),n.full=r(!0)},{}],33:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i,o,a,s,l){!function(t,e){e=8*O.log2(e+1)*(t+1)|0,t=O.nextPow2(V*e),W.length<t&&(C.free(W),W=C.mallocInt32(t)),e=O.nextPow2(G*e),Y.length<e&&(C.free(Y),Y=C.mallocDouble(e))}(t,r+a);var u,c,f=0,h=2*t;X(f++,0,0,r,0,a,n?16:0,-1/0,1/0),n||X(f++,0,0,a,0,r,1,-1/0,1/0);for(;0<f;){var d=--f*V,p=W[d],g=W[1+d],m=W[2+d],y=W[3+d],v=W[4+d],b=W[5+d],x=f*G,_=Y[x],w=Y[1+x],k=1&b,T=!!(16&b),M=i,A=o,S=s,E=l;if(k&&(M=s,A=l,S=i,E=o),!(2&b&&(m=B(t,p,g,m,M,A,w))<=g)&&!(4&b&&(g=U(t,p,g,m,M,A,_),m<=g))){d=m-g,x=v-y;if(T){if(t*d*(d+x)<I){if(void 0!==(u=N.scanComplete(t,p,e,g,m,M,A,y,v,S,E)))return u;continue}}else{if(t*Math.min(d,x)<R){if(void 0!==(u=j(t,p,e,k,g,m,M,A,y,v,S,E)))return u;continue}if(t*d*x<D){if(void 0!==(u=N.scanBipartite(t,p,e,k,g,m,M,A,y,v,S,E)))return u;continue}}b=F(t,p,g,m,M,A,_,w);if(g<b)if(t*(b-g)<R){if(void 0!==(u=P(t,p+1,e,g,b,M,A,y,v,S,E)))return u}else if(p===t-2){if(void 0!==(u=k?N.sweepBipartite(t,e,y,v,S,E,g,b,M,A):N.sweepBipartite(t,e,g,b,M,A,y,v,S,E)))return u}else X(f++,p+1,g,b,y,v,k,-1/0,1/0),X(f++,p+1,y,v,g,b,1^k,-1/0,1/0);if(b<m){d=L(t,p,y,v,S,E),x=S[h*d+p],g=z(t,p,d,v,S,E,x);if(g<v&&X(f++,p,b,m,g,v,(4|k)+(T?16:0),x,w),y<d&&X(f++,p,b,m,y,d,(2|k)+(T?16:0),_,x),d+1===g){if(void 0!==(u=T?function(t,e,n,r,i,o,a,s,l,u){var c=2*t,f=s*c,h=l[f+e];t:for(var d=r,p=r*c;d<i;++d,p+=c){var g=a[d];if(g!==u){var m=o[p+e],y=o[p+e+t];if(!(h<m||y<h)){for(var v=e+1;v<t;++v){var m=o[p+v],y=o[p+v+t],b=l[f+v],x=l[f+v+t];if(y<b||x<m)continue t}g=n(g,u);if(void 0!==g)return g}}}}(t,p,e,b,m,M,A,d,S,E[d]):function(t,e,n,r,i,o,a,s,l,u,c){var f=2*t,h=l*f,d=u[h+e];t:for(var p=i,g=i*f;p<o;++p,g+=f){var m=a[g+e],y=a[g+e+t];if(!(d<m||y<d)&&(!r||d!==m)){for(var v=s[p],b=e+1;b<t;++b){var m=a[g+b],y=a[g+b+t],x=u[h+b],_=u[h+b+t];if(y<x||_<m)continue t}if(void 0!==(v=r?n(c,v):n(v,c)))return v}}}(t,p,e,k,b,m,M,A,d,S,E[d])))return u}else if(d<g)if(T){if(c=H(t,p,b,m,M,A,x),b<c){T=z(t,p,b,c,M,A,x);if(p===t-2){if(b<T&&void 0!==(u=N.sweepComplete(t,e,b,T,M,A,d,g,S,E)))return u;if(T<c&&void 0!==(u=N.sweepBipartite(t,e,T,c,M,A,d,g,S,E)))return u}else b<T&&X(f++,p+1,b,T,d,g,16,-1/0,1/0),T<c&&(X(f++,p+1,T,c,d,g,0,-1/0,1/0),X(f++,p+1,d,g,T,c,1,-1/0,1/0))}}else c=(k?q:H)(t,p,b,m,M,A,x),b<c&&(p===t-2?u=k?N.sweepBipartite(t,e,d,g,S,E,b,c,M,A):N.sweepBipartite(t,e,b,c,M,A,d,g,S,E):(X(f++,p+1,b,c,d,g,k,-1/0,1/0),X(f++,p+1,d,g,b,c,1^k,-1/0,1/0)))}}}};var C=t("typedarray-pool"),O=t("bit-twiddle"),e=t("./brute"),j=e.partial,P=e.full,N=t("./sweep"),L=t("./median"),t=t("./partition"),R=128,D=1<<22,I=1<<22,F=t("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),z=t("lo===p0",["p0"]),B=t("lo<p0",["p0"]),U=t("hi<=p0",["p0"]),H=t("lo<=p0&&p0<=hi",["p0"]),q=t("lo<p0&&p0<=hi",["p0"]),V=6,G=2,W=C.mallocInt32(1024),Y=C.mallocDouble(1024);function X(t,e,n,r,i,o,a,s,l){var u=V*t;W[u]=e,W[1+u]=n,W[2+u]=r,W[3+u]=i,W[4+u]=o,W[5+u]=a;t*=G;Y[t]=s,Y[1+t]=l}},{"./brute":32,"./median":34,"./partition":35,"./sweep":37,"bit-twiddle":28,"typedarray-pool":1011}],34:[function(t,e,n){"use strict";e.exports=function(m,t,e,n,r,i){if(n<=e+1)return e;var o=e,a=n,s=n+e>>>1,l=2*m,u=s,c=r[l*s+t];for(;o<a;){if(a-o<k){!function(t,e,n,r,i){for(var o=2*m,a=o*(e+1)+t,s=e+1;s<n;++s,a+=o)for(var l=r[a],u=s,c=o*(s-1);e<u&&r[c+t]>l;--u,c-=o){for(var f=c,h=c+o,d=0;d<o;++d,++f,++h){var p=r[f];r[f]=r[h],r[h]=p}var g=i[u];i[u]=i[u-1],i[u-1]=g}}(t,o,a,r,i),c=r[l*s+t];break}var f=a-o,h=Math.random()*f+o|0,d=r[l*h+t],p=Math.random()*f+o|0,g=r[l*p+t],y=Math.random()*f+o|0,f=r[l*y+t];c=d<=g?g<=f?(u=p,g):f<=d?(u=h,d):(u=y,f):f<=g?(u=p,g):d<=f?(u=h,d):(u=y,f);for(var v=l*(a-1),b=l*u,x=0;x<l;++x,++v,++b){var _=r[v];r[v]=r[b],r[b]=_}f=i[a-1];i[a-1]=i[u],i[u]=f,u=w(m,t,o,a-1,r,i,c);for(v=l*(a-1),b=l*u,x=0;x<l;++x,++v,++b){_=r[v];r[v]=r[b],r[b]=_}f=i[a-1];if(i[a-1]=i[u],i[u]=f,s<u){for(a=u-1;o<a&&r[l*(a-1)+t]===c;)--a;a+=1}else{if(!(u<s))break;for(o=u+1;o<a&&r[l*o+t]===c;)o+=1}}return w(m,t,e,s,r,i,r[l*s+t])};var w=t("./partition")("lo<p0",["p0"]),k=8},{"./partition":35}],35:[function(t,e,n){"use strict";e.exports=function(t,e){var n="abcdef".split("").concat(e),e=[];0<=t.indexOf("lo")&&e.push("lo=e[k+n]");0<=t.indexOf("hi")&&e.push("hi=e[k+o]");return n.push(r.replace("_",e.join()).replace("$",t)),Function.apply(void 0,n)};var r="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m"},{}],36:[function(t,e,n){"use strict";e.exports=function(t,e){(e<=4*P?N:function t(e,n,r){var i=(n-e+1)/6|0,o=e+i,a=n-i,s=e+n>>1,l=s-i,u=s+i,c=o,f=l,h=s,d=u,p=a,g=e+1,m=n-1,i=0;F(c,f,r)&&(i=c,c=f,f=i);F(d,p,r)&&(i=d,d=p,p=i);F(c,h,r)&&(i=c,c=h,h=i);F(f,h,r)&&(i=f,f=h,h=i);F(c,d,r)&&(i=c,c=d,d=i);F(h,d,r)&&(i=h,h=d,d=i);F(f,p,r)&&(i=f,f=p,p=i);F(f,h,r)&&(i=f,f=h,h=i);F(d,p,r)&&(i=d,d=p,p=i);var y=r[2*f];var v=r[2*f+1];var b=r[2*d];var x=r[2*d+1];var _=2*c;var w=2*h;var k=2*p;var T=2*o;var M=2*s;var A=2*a;for(var S=0;S<2;++S){var E=r[_+S],C=r[w+S],O=r[k+S];r[T+S]=E,r[M+S]=C,r[A+S]=O}R(l,e,r);R(u,n,r);for(var j=g;j<=m;++j)if(z(j,y,v,r))j!==g&&L(j,g,r),++g;else if(!z(j,b,x,r))for(;;){if(z(m,b,x,r)){z(m,y,v,r)?(D(j,g,m,r),++g):L(j,m,r),--m;break}if(--m<j)break}I(e,g-1,y,v,r);I(n,m+1,b,x,r);(g-2-e<=P?N:t)(e,g-2,r);(n-(m+2)<=P?N:t)(m+2,n,r);(m-g<=P?N:t)(g,m,r)})(0,e-1,t)};var P=32;function N(t,e,n){for(var r=2*(t+1),i=t+1;i<=e;++i){for(var o=n[r++],a=n[r++],s=i,l=r-2;s-- >t;){var u=n[l-2],c=n[l-1];if(u<o)break;if(u===o&&c<a)break;n[l]=u,n[l+1]=c,l-=2}n[l]=o,n[l+1]=a}}function L(t,e,n){e*=2;var r=n[t*=2],i=n[t+1];n[t]=n[e],n[t+1]=n[e+1],n[e]=r,n[e+1]=i}function R(t,e,n){e*=2,n[t*=2]=n[e],n[t+1]=n[e+1]}function D(t,e,n,r){e*=2,n*=2;var i=r[t*=2],o=r[t+1];r[t]=r[e],r[t+1]=r[e+1],r[e]=r[n],r[e+1]=r[n+1],r[n]=i,r[n+1]=o}function I(t,e,n,r,i){e*=2,i[t*=2]=i[e],i[e]=n,i[t+1]=i[e+1],i[e+1]=r}function F(t,e,n){e*=2;var r=n[t*=2],i=n[e];return!(r<i)&&(r!==i||n[t+1]>n[e+1])}function z(t,e,n,r){var i=r[t*=2];return i<e||i===e&&r[t+1]<n}},{}],37:[function(t,e,n){"use strict";e.exports={init:function(t){t=i.nextPow2(t);D.length<t&&(r.free(D),D=r.mallocInt32(t));I.length<t&&(r.free(I),I=r.mallocInt32(t));S.length<t&&(r.free(S),S=r.mallocInt32(t));E.length<t&&(r.free(E),E=r.mallocInt32(t));C.length<t&&(r.free(C),C=r.mallocInt32(t));O.length<t&&(r.free(O),O=r.mallocInt32(t));t*=8;F.length<t&&(r.free(F),F=r.mallocDouble(t))},sweepBipartite:function(t,e,n,r,i,o,a,s,l,u){for(var c=0,f=2*t,h=t-1,d=f-1,p=n;p<r;++p){var g=o[p],m=f*p;F[c++]=i[m+h],F[c++]=-(g+1),F[c++]=i[m+d],F[c++]=g}for(p=a;p<s;++p){var g=u[p]+R,y=f*p;F[c++]=l[y+h],F[c++]=-g,F[c++]=l[y+d],F[c++]=g}var v=c>>>1;L(F,v);for(var b=0,x=0,p=0;p<v;++p){var _=0|F[2*p+1];if(R<=_)z(S,E,x--,_=_-R|0);else if(0<=_)z(D,I,b--,_);else if(_<=-R){_=-_-R|0;for(var w=0;w<b;++w)if(void 0!==(k=e(D[w],_)))return k;B(S,E,x++,_)}else{_=-_-1|0;for(var k,w=0;w<x;++w)if(void 0!==(k=e(_,S[w])))return k;B(D,I,b++,_)}}},sweepComplete:function(t,e,n,r,i,o,a,s,l,u){for(var c=0,f=2*t,h=t-1,d=f-1,p=n;p<r;++p){var g=o[p]+1<<1,m=f*p;F[c++]=i[m+h],F[c++]=-g,F[c++]=i[m+d],F[c++]=g}for(p=a;p<s;++p){var g=u[p]+1<<1,y=f*p;F[c++]=l[y+h],F[c++]=1|-g,F[c++]=l[y+d],F[c++]=1|g}var v=c>>>1;L(F,v);for(var b=0,x=0,_=0,p=0;p<v;++p){var w=0|F[2*p+1],k=1&w;if(p<v-1&&w>>1==F[2*p+3]>>1&&(k=2,p+=1),w<0){for(var T=-(w>>1)-1,M=0;M<_;++M)if(void 0!==(A=e(C[M],T)))return A;if(0!==k)for(M=0;M<b;++M)if(void 0!==(A=e(D[M],T)))return A;if(1!==k)for(var A,M=0;M<x;++M)if(void 0!==(A=e(S[M],T)))return A;0===k?B(D,I,b++,T):1===k?B(S,E,x++,T):2===k&&B(C,O,_++,T)}else{T=(w>>1)-1;0===k?z(D,I,b--,T):1===k?z(S,E,x--,T):2===k&&z(C,O,_--,T)}}},scanBipartite:function(t,e,n,r,i,o,a,s,l,u,c,f){var h=0,d=2*t,p=e,g=e+t,m=1,y=1;r?y=R:m=R;for(var v=i;v<o;++v){var b=v+m,x=d*v;F[h++]=a[x+p],F[h++]=-b,F[h++]=a[x+g],F[h++]=b}for(v=l;v<u;++v){var b=v+y,_=d*v;F[h++]=c[_+p],F[h++]=-b}var w=h>>>1;L(F,w);for(var k=0,v=0;v<w;++v){var T=0|F[2*v+1];if(T<0){var M=!1;if(R<=(b=-T)?(M=!r,b-=R):(M=!!r,--b),M)B(D,I,k++,b);else{var A=f[b],S=d*b,E=c[S+e+1],C=c[S+e+1+t];t:for(var O=0;O<k;++O){var j=D[O],P=d*j;if(!(C<a[P+e+1]||a[P+e+1+t]<E)){for(var N=e+2;N<t;++N)if(c[S+N+t]<a[P+N]||a[P+N+t]<c[S+N])continue t;var j=s[j];if(void 0!==(j=r?n(A,j):n(j,A)))return j}}}}else z(D,I,k--,T-m)}},scanComplete:function(t,e,n,r,i,o,a,s,l,u,c){for(var f=0,h=2*t,d=e,p=e+t,g=r;g<i;++g){var m=g+R,y=h*g;F[f++]=o[y+d],F[f++]=-m,F[f++]=o[y+p],F[f++]=m}for(g=s;g<l;++g){var m=g+1,v=h*g;F[f++]=u[v+d],F[f++]=-m}var b=f>>>1;L(F,b);for(var x=0,g=0;g<b;++g){var _=0|F[2*g+1];if(_<0)if(R<=(m=-_))D[x++]=m-R;else{var w=c[--m],k=h*m,T=u[k+e+1],M=u[k+e+1+t];t:for(var A=0;A<x;++A){var S=D[A],E=a[S];if(E===w)break;var C=h*S;if(!(M<o[C+e+1]||o[C+e+1+t]<T)){for(var O=e+2;O<t;++O)if(u[k+O+t]<o[C+O]||o[C+O+t]<u[k+O])continue t;E=n(E,w);if(void 0!==E)return E}}}else{for(m=_-R,A=x-1;0<=A;--A)if(D[A]===m){for(O=A+1;O<x;++O)D[O-1]=D[O];break}--x}}}};var r=t("typedarray-pool"),i=t("bit-twiddle"),L=t("./sort"),R=1<<28,D=r.mallocInt32(1024),I=r.mallocInt32(1024),S=r.mallocInt32(1024),E=r.mallocInt32(1024),C=r.mallocInt32(1024),O=r.mallocInt32(1024),F=r.mallocDouble(8192);function z(t,e,n,r){r=e[r],n=t[n-1];e[t[r]=n]=r}function B(t,e,n,r){e[t[n]=r]=n}},{"./sort":36,"bit-twiddle":28,"typedarray-pool":1011}],38:[function(t,e,n){},{}],39:[function(P,t,N){(function(t){(function(){"use strict";function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=P("base64-js"),o=P("ieee754");N.Buffer=h,N.SlowBuffer=function(t){+t!=t&&(t=0);return h.alloc(+t)},N.INSPECT_MAX_BYTES=50;var e=2147483647;function i(t){if(e<t)throw new RangeError('The value "'+t+'" is invalid for option "size"');t=new Uint8Array(t);return t.__proto__=h.prototype,t}function h(t,e,n){if("number"!=typeof t)return r(t,e,n);if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}function r(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!h.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|d(t,e),r=i(n),e=r.write(t,e);e!==n&&(r=r.slice(0,e));return r}(t,e);if(ArrayBuffer.isView(t))return u(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(t));if(O(t,ArrayBuffer)||t&&O(t.buffer,ArrayBuffer))return function(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');n=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n);return n.__proto__=h.prototype,n}(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return h.from(r,e,n);r=function(t){if(h.isBuffer(t)){var e=0|c(t.length),n=i(e);return 0===n.length?n:(t.copy(n,0,0,e),n)}if(void 0!==t.length)return"number"!=typeof t.length||j(t.length)?i(0):u(t);if("Buffer"===t.type&&Array.isArray(t.data))return u(t.data)}(t);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return h.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(t))}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return a(t),i(t<0?0:0|c(t))}function u(t){for(var e=t.length<0?0:0|c(t.length),n=i(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function c(t){if(e<=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e.toString(16)+" bytes");return 0|t}function d(t,e){if(h.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||O(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+f(t));var n=t.length,r=2<arguments.length&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return S(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return E(t).length;default:if(i)return r?-1:S(t).length;e=(""+e).toLowerCase(),i=!0}}function n(t,e,n){var r,i,o,a=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return function(t,e,n){var r=t.length;(!e||e<0)&&(e=0);(!n||n<0||r<n)&&(n=r);for(var i="",o=e;o<n;++o)i+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(t[o]);return i}(this,e,n);case"utf8":case"utf-8":return b(this,e,n);case"ascii":return function(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}(this,e,n);case"latin1":case"binary":return function(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}(this,e,n);case"base64":return r=this,o=n,0===(i=e)&&o===r.length?s.fromByteArray(r):s.fromByteArray(r.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(this,e,n);default:if(a)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),a=!0}}function p(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),j(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=h.from(e,r)),h.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?(i?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,e,n):m(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,i){var o=1,a=t.length,s=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a/=o=2,s/=2,n/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i)for(var u=-1,c=n;c<a;c++)if(l(t,c)===l(e,-1===u?0:c-u)){if(-1===u&&(u=c),c-u+1===s)return u*o}else-1!==u&&(c-=c-u),u=-1;else for(a<n+s&&(n=a-s),c=n;0<=c;c--){for(var f=!0,h=0;h<s;h++)if(l(t,c+h)!==l(e,h)){f=!1;break}if(f)return c}return-1}function y(t,e,n,r){return C(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function v(t,e,n,r){return C(function(t,e){for(var n,r,i=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,r=r%256,i.push(r),i.push(n);return i}(e,t.length-n),t,n,r)}function b(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,l,u=t[i],c=null,f=239<u?4:223<u?3:191<u?2:1;if(i+f<=n)switch(f){case 1:u<128&&(c=u);break;case 2:128==(192&(o=t[i+1]))&&127<(l=(31&u)<<6|63&o)&&(c=l);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&2047<(l=(15&u)<<12|(63&o)<<6|63&a)&&(l<55296||57343<l)&&(c=l);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)&&l<1114112&&(c=l)}null===c?(c=65533,f=1):65535<c&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=x));return n}(r)}N.kMaxLength=e,(h.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=r,h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,h.alloc=function(t,e,n){return e=e,n=n,a(t=t),!(t<=0)&&void 0!==e?"string"==typeof n?i(t).fill(e,n):i(t).fill(e):i(t)},h.allocUnsafe=l,h.allocUnsafeSlow=l,h.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==h.prototype},h.compare=function(t,e){if(O(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),O(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);if(void 0===e)for(i=e=0;i<t.length;++i)e+=t[i].length;for(var n=h.allocUnsafe(e),r=0,i=0;i<t.length;++i){var o=t[i];if(O(o,Uint8Array)&&(o=h.from(o)),!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},h.byteLength=d,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)p(this,e,e+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)p(this,e,e+3),p(this,e+1,e+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)p(this,e,e+7),p(this,e+1,e+6),p(this,e+2,e+5),p(this,e+3,e+4);return this},h.prototype.toLocaleString=h.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?b(this,0,t):n.apply(this,arguments)},h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){var t="",e=N.INSPECT_MAX_BYTES,t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim();return this.length>e&&(t+=" ... "),"<Buffer "+t+">"},h.prototype.compare=function(t,e,n,r,i){if(O(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+f(t));if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=e)return 0;if(i<=r)return-1;if(n<=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),l=this.slice(r,i),u=t.slice(e,n),c=0;c<s;++c)if(l[c]!==u[c]){o=l[c],a=u[c];break}return o<a?-1:a<o?1:0},h.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},h.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},h.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},h.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||i<n)&&(n=i),0<t.length&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var o,a,s,l=!1;;)switch(r){case"hex":return function(t,e,n,r){n=Number(n)||0;var i=t.length-n;(!r||i<(r=Number(r)))&&(r=i),(i=e.length)/2<r&&(r=i/2);for(var o=0;o<r;++o){var a=parseInt(e.substr(2*o,2),16);if(j(a))return o;t[n+o]=a}return o}(this,t,e,n);case"utf8":case"utf-8":return a=e,s=n,C(S(t,(o=this).length-a),o,a,s);case"ascii":return y(this,t,e,n);case"latin1":case"binary":return y(this,t,e,n);case"base64":return o=this,a=e,s=n,C(E(t),o,a,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,t,e,n);default:if(l)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),l=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function _(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+e)throw new RangeError("Trying to access beyond buffer length")}function w(t,e,n,r,i,o){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<e||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function k(t,e,n,r){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function T(t,e,n,r,i){return e=+e,n>>>=0,i||k(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function M(t,e,n,r,i){return e=+e,n>>>=0,i||k(t,0,n,8),o.write(t,e,n,r,52,8),n+8}h.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),e<t&&(e=t);e=this.subarray(t,e);return e.__proto__=h.prototype,e},h.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||_(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},h.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||_(t,e,this.length);for(var r=this[t+--e],i=1;0<e&&(i*=256);)r+=this[t+--e]*i;return r},h.prototype.readUInt8=function(t,e){return t>>>=0,e||_(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return t>>>=0,e||_(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return t>>>=0,e||_(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return t>>>=0,e||_(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return t>>>=0,e||_(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||_(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*e)),r},h.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||_(t,e,this.length);for(var r=e,i=1,o=this[t+--r];0<r&&(i*=256);)o+=this[t+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*e)),o},h.prototype.readInt8=function(t,e){return t>>>=0,e||_(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){t>>>=0,e||_(t,2,this.length);t=this[t]|this[t+1]<<8;return 32768&t?4294901760|t:t},h.prototype.readInt16BE=function(t,e){t>>>=0,e||_(t,2,this.length);t=this[t+1]|this[t]<<8;return 32768&t?4294901760|t:t},h.prototype.readInt32LE=function(t,e){return t>>>=0,e||_(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return t>>>=0,e||_(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return t>>>=0,e||_(t,4,this.length),o.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return t>>>=0,e||_(t,4,this.length),o.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return t>>>=0,e||_(t,8,this.length),o.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return t>>>=0,e||_(t,8,this.length),o.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||w(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},h.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||w(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;0<=--i&&(o*=256);)this[e+i]=t/o&255;return e+n},h.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,1,255,0),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},h.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeIntLE=function(t,e,n,r){t=+t,e>>>=0,r||w(this,t,e,n,(r=Math.pow(2,8*n-1))-1,-r);var i=0,o=1,a=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/o>>0)-a&255;return e+n},h.prototype.writeIntBE=function(t,e,n,r){t=+t,e>>>=0,r||w(this,t,e,n,(r=Math.pow(2,8*n-1))-1,-r);var i=n-1,o=1,a=0;for(this[e+i]=255&t;0<=--i&&(o*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/o>>0)-a&255;return e+n},h.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},h.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeFloatLE=function(t,e,n){return T(this,t,e,!0,n)},h.prototype.writeFloatBE=function(t,e,n){return T(this,t,e,!1,n)},h.prototype.writeDoubleLE=function(t,e,n){return M(this,t,e,!0,n)},h.prototype.writeDoubleBE=function(t,e,n){return M(this,t,e,!1,n)},h.prototype.copy=function(t,e,n,r){if(!h.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n=n||0,r||0===r||(r=this.length),e>=t.length&&(e=t.length),e=e||0,0<r&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,n,r);else if(this===t&&n<e&&e<r)for(var o=i-1;0<=o;--o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,r),e);return i},h.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!h.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var i;1===t.length&&(i=t.charCodeAt(0),("utf8"===r&&i<128||"latin1"===r)&&(t=i))}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(t=t||0))for(o=e;o<n;++o)this[o]=t;else{var a=h.isBuffer(t)?t:h.from(t,r),s=a.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var A=/[^+/0-9A-Za-z-_]/g;function S(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if(55295<(n=t.charCodeAt(a))&&n<57344){if(!i){if(56319<n){-1<(e-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(e-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(e-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,n<128){if(--e<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function E(t){return s.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(A,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function C(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function O(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function j(t){return t!=t}}).call(this)}).call(this,P("buffer").Buffer)},{"base64-js":8,buffer:39,ieee754:548}],40:[function(t,e,n){"use strict";var c=t("./lib/monotone"),f=t("./lib/triangulation"),h=t("./lib/delaunay"),d=t("./lib/filter");function p(t){return[Math.min(t[0],t[1]),Math.max(t[0],t[1])]}function g(t,e){return t[0]-e[0]||t[1]-e[1]}function m(t,e,n){return e in t?t[e]:n}e.exports=function(t,e,n){e=Array.isArray(e)?(n=n||{},e||[]):(n=e||{},[]);var r=!!m(n,"delaunay",!0),i=!!m(n,"interior",!0),o=!!m(n,"exterior",!0),n=!!m(n,"infinity",!1);if(!i&&!o||0===t.length)return[];var a=c(t,e);{if(r||i!=o||n){for(var s=f(t.length,function(t){return t.map(p).sort(g)}(e)),l=0;l<a.length;++l){var u=a[l];s.addTriangle(u[0],u[1],u[2])}return r&&h(t,s),o?i?n?d(s,0,n):s.cells():d(s,1,n):d(s,-1)}return a}}},{"./lib/delaunay":41,"./lib/filter":42,"./lib/monotone":43,"./lib/triangulation":44}],41:[function(t,e,n){"use strict";var g=t("robust-in-sphere")[4];t("binary-search-bounds");function m(t,e,n,r,i,o){var a,s=e.opposite(r,i);s<0||(i<r&&(a=r,r=i,i=a,a=o,o=s,s=a),e.isConstraint(r,i)||g(t[r],t[i],t[o],t[s])<0&&n.push(r,i))}e.exports=function(t,e){for(var n=[],r=t.length,i=e.stars,o=0;o<r;++o)for(var a=i[o],s=1;s<a.length;s+=2){var l=a[s];if(!(l<o)&&!e.isConstraint(o,l)){for(var u=a[s-1],c=-1,f=1;f<a.length;f+=2)if(a[f-1]===l){c=a[f];break}c<0||g(t[o],t[l],t[u],t[c])<0&&n.push(o,l)}}for(;0<n.length;){for(var l=n.pop(),o=n.pop(),u=-1,c=-1,a=i[o],h=1;h<a.length;h+=2){var d=a[h-1],p=a[h];d===l?c=p:p===l&&(u=d)}u<0||c<0||0<=g(t[o],t[l],t[u],t[c])||(e.flip(o,l),m(t,e,n,u,o,c),m(t,e,n,o,c,u),m(t,e,n,c,l,u),m(t,e,n,l,u,c))}}},{"binary-search-bounds":27,"robust-in-sphere":984}],42:[function(t,e,n){"use strict";var a,s=t("binary-search-bounds");function b(t,e,n,r,i,o,a){this.cells=t,this.neighbor=e,this.flags=r,this.constraint=n,this.active=i,this.next=o,this.boundary=a}function x(t,e){return t[0]-e[0]||t[1]-e[1]||t[2]-e[2]}e.exports=function(t,e,n){t=function(t,e){for(var n=t.cells(),r=n.length,i=0;i<r;++i){var o=(g=n[i])[0],a=g[1],s=g[2];a<s?a<o&&(g[0]=a,g[1]=s,g[2]=o):s<o&&(g[0]=s,g[1]=o,g[2]=a)}n.sort(x);for(var l=new Array(r),i=0;i<l.length;++i)l[i]=0;var u=[],c=[],f=new Array(3*r),h=new Array(3*r),d=null;e&&(d=[]);for(var p=new b(n,f,h,l,u,c,d),i=0;i<r;++i)for(var g=n[i],m=0;m<3;++m){var o=g[m],a=g[(m+1)%3],y=f[3*i+m]=p.locate(a,o,t.opposite(a,o)),v=h[3*i+m]=t.isConstraint(o,a);y<0&&(v?c.push(i):(u.push(i),l[i]=1),e&&d.push([a,o,-1]))}return p}(t,n);if(0===e)return n?t.cells.concat(t.boundary):t.cells;var r=1,i=t.active,o=t.next,a=t.flags,s=t.cells,l=t.constraint,u=t.neighbor;for(;0<i.length||0<o.length;){for(;0<i.length;){var c=i.pop();if(a[c]!==-r){a[c]=r;s[c];for(var f=0;f<3;++f){var h=u[3*c+f];0<=h&&0===a[h]&&(l[3*c+f]?o.push(h):(i.push(h),a[h]=r))}}}var d=o;o=i,i=d,o.length=0,r=-r}e=function(t,e,n){for(var r=0,i=0;i<t.length;++i)e[i]===n&&(t[r++]=t[i]);return t.length=r,t}(s,a,e);if(n)return e.concat(t.boundary);return e},b.prototype.locate=(a=[0,0,0],function(t,e,n){var r=t,i=e,o=n;return e<n?e<t&&(r=e,i=n,o=t):n<t&&(r=n,i=t,o=e),r<0?-1:(a[0]=r,a[1]=i,a[2]=o,s.eq(this.cells,a,x))})},{"binary-search-bounds":27}],43:[function(t,e,n){"use strict";var p=t("binary-search-bounds"),g=t("robust-orientation")[3],m=0;function y(t,e,n,r,i){this.a=t,this.b=e,this.idx=n,this.lowerIds=r,this.upperIds=i}function v(t,e,n,r){this.a=t,this.b=e,this.type=n,this.idx=r}function b(t,e){var n=t.a[0]-e.a[0]||t.a[1]-e.a[1]||t.type-e.type;return n||(t.type!==m&&(n=g(t.a,t.b,e.b))?n:t.idx-e.idx)}function x(t,e){return g(t.a,t.b,e)}function _(t,e){var n=t.a[0]<e.a[0]?g(t.a,t.b,e.a):g(e.b,e.a,t.a);return(n=n||(e.b[0]<t.b[0]?g(t.a,t.b,e.b):g(e.b,e.a,t.b)))||t.idx-e.idx}e.exports=function(t,e){for(var n=t.length,r=e.length,i=[],o=0;o<n;++o)i.push(new v(t[o],null,m,o));for(o=0;o<r;++o){var a=e[o],s=t[a[0]],a=t[a[1]];s[0]<a[0]?i.push(new v(s,a,2,o),new v(a,s,1,o)):s[0]>a[0]&&i.push(new v(a,s,2,o),new v(s,a,1,o))}i.sort(b);for(var l=i[0].a[0]-(1+Math.abs(i[0].a[0]))*Math.pow(2,-52),u=[new y([l,1],[l,0],-1,[],[])],c=[],o=0,f=i.length;o<f;++o){var h=i[o],d=h.type;d===m?function(t,e,n,r,i){for(var o=p.lt(e,r,x),a=p.gt(e,r,x),s=o;s<a;++s){for(var l=e[s],u=l.lowerIds,c=u.length;1<c&&0<g(n[u[c-2]],n[u[c-1]],r);)t.push([u[c-1],u[c-2],i]),--c;u.length=c,u.push(i);for(var f=l.upperIds,c=f.length;1<c&&g(n[f[c-2]],n[f[c-1]],r)<0;)t.push([f[c-2],f[c-1],i]),--c;f.length=c,f.push(i)}}(c,u,t,h.a,h.idx):(2===d?function(t,e){var n=p.le(t,e,_),r=t[n],i=r.upperIds,o=i[i.length-1];r.upperIds=[o],t.splice(n+1,0,new y(e.a,e.b,e.idx,[o],i))}:function(t,e){var n=e.a;e.a=e.b,e.b=n,n=p.eq(t,e,_),e=t[n],t[n-1].upperIds=e.upperIds,t.splice(n,1)})(u,h)}return c}},{"binary-search-bounds":27,"robust-orientation":986}],44:[function(t,e,n){"use strict";var r=t("binary-search-bounds");function i(t,e){this.stars=t,this.edges=e}e.exports=function(t,e){for(var n=new Array(t),r=0;r<t;++r)n[r]=[];return new i(n,e)};var o,e=i.prototype;function a(t,e,n){for(var r=1,i=t.length;r<i;r+=2)if(t[r-1]===e&&t[r]===n)return t[r-1]=t[i-2],t[r]=t[i-1],void(t.length=i-2)}function s(t,e){return t[0]-e[0]||t[1]-e[1]}e.isConstraint=(o=[0,0],function(t,e){return o[0]=Math.min(t,e),o[1]=Math.max(t,e),0<=r.eq(this.edges,o,s)}),e.removeTriangle=function(t,e,n){var r=this.stars;a(r[t],e,n),a(r[e],n,t),a(r[n],t,e)},e.addTriangle=function(t,e,n){var r=this.stars;r[t].push(e,n),r[e].push(n,t),r[n].push(t,e)},e.opposite=function(t,e){for(var n=this.stars[e],r=1,i=n.length;r<i;r+=2)if(n[r]===t)return n[r-1];return-1},e.flip=function(t,e){var n=this.opposite(t,e),r=this.opposite(e,t);this.removeTriangle(t,e,n),this.removeTriangle(e,t,r),this.addTriangle(t,r,n),this.addTriangle(e,n,r)},e.edges=function(){for(var t=this.stars,e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length;o<a;o+=2)e.push([i[o],i[o+1]]);return e},e.cells=function(){for(var t=this.stars,e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length;o<a;o+=2){var s=i[o],l=i[o+1];n<Math.min(s,l)&&e.push([n,s,l])}return e}},{"binary-search-bounds":27}],45:[function(t,e,n){"use strict";e.exports=function(t,e,n){return e<n?t<e?e:n<t?n:t:t<n?n:e<t?e:t}},{}],46:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r;if(n){r=e;for(var i=new Array(e.length),o=0;o<e.length;++o){var a=e[o];i[o]=[a[0],a[1],n[o]]}e=i}var s=function(t,e,n){t=c(t,[],l(t));return y(e,t,n),!!t}(t,e,!!n);for(;function(t,e,n){var r=function(t,e){for(var n=new Array(e.length),r=0;r<e.length;++r){var i=e[r],o=t[i[0]],i=t[i[1]];n[r]=[p(Math.min(o[0],i[0]),-1/0),p(Math.min(o[1],i[1]),-1/0),p(Math.max(o[0],i[0]),1/0),p(Math.max(o[1],i[1]),1/0)]}return n}(t,e),i=function(a,s,t){var l=[];return d(t,function(t,e){var n,r,i=s[t],o=s[e];i[0]!==o[0]&&i[0]!==o[1]&&i[1]!==o[0]&&i[1]!==o[1]&&(n=a[i[0]],r=a[i[1]],i=a[o[0]],o=a[o[1]],u(n,r,i,o)&&l.push([t,e]))}),l}(t,e,r),o=l(t),a=function(o,a,t,e){var s=[];return d(t,e,function(t,e){var n,r,i=a[t];i[0]!==e&&i[1]!==e&&(n=o[e],r=o[i[0]],i=o[i[1]],u(r,i,n,n)&&s.push([t,e]))}),s}(t,e,r,o),r=function(t,e,n,r,i){var o,a,s,l=t.map(function(t){return[x(t[0]),x(t[1])]});for(o=0;o<n.length;++o){var u=n[o];a=u[0];var c=u[1],f=e[a],u=e[c],f=T(k(t[f[0]]),k(t[f[1]]),k(t[u[0]]),k(t[u[1]]));f&&(u=t.length,t.push([w(f[0]),w(f[1])]),l.push(f),r.push([a,u],[c,u]))}for(r.sort(function(t,e){if(t[0]!==e[0])return t[0]-e[0];t=l[t[1]],e=l[e[1]];return _(t[0],e[0])||_(t[1],e[1])}),o=r.length-1;0<=o;--o){var h=r[o];a=h[0];var d=e[a],p=d[0],g=d[1],m=t[p],y=t[g];(m[0]-y[0]||m[1]-y[1])<0&&(y=p,p=g,g=y),d[0]=p;var v=d[1]=h[1];for(i&&(s=d[2]);0<o&&r[o-1][0]===a;){var b=(h=r[--o])[1];i?e.push([v,b,s]):e.push([v,b]),v=b}i?e.push([v,g,s]):e.push([v,g])}return l}(t,e,i,a,n),o=c(t,r);return y(e,o,n),!!o||(0<i.length||0<a.length)}(t,e,!!n);)s=!0;if(n&&s){r.length=0;for(o=n.length=0;o<e.length;++o){a=e[o];r.push([a[0],a[1]]),n.push(a[2])}}return s};var h=t("union-find"),d=t("box-intersect"),u=t("robust-segment-intersect"),x=t("big-rat"),_=t("big-rat/cmp"),w=t("big-rat/to-float"),k=t("rat-vec"),p=t("nextafter"),T=t("./lib/rat-seg-intersect");function g(t){t=w(t);return[p(t,-1/0),p(t,1/0)]}function l(t){for(var e=new Array(t.length),n=0;n<t.length;++n){var r=t[n];e[n]=[p(r[0],-1/0),p(r[1],-1/0),p(r[0],1/0),p(r[1],1/0)]}return e}function c(t,e){for(var n=e.length,r=new h(n),i=[],o=0;o<e.length;++o){var a=e[o],s=g(a[0]),a=g(a[1]);i.push([p(s[0],-1/0),p(a[0],-1/0),p(s[1],1/0),p(a[1],1/0)])}d(i,function(t,e){r.link(t,e)});for(var l=!0,u=new Array(n),o=0;o<n;++o)(c=r.find(o))!==o&&(l=!1,t[c]=[Math.min(t[o][0],t[c][0]),Math.min(t[o][1],t[c][1])]);if(l)return null;for(var c,f=0,o=0;o<n;++o)(c=r.find(o))===o?(u[o]=f,t[f++]=t[o]):u[o]=-1;t.length=f;for(o=0;o<n;++o)u[o]<0&&(u[o]=u[r.find(o)]);return u}function f(t,e){return t[0]-e[0]||t[1]-e[1]}function m(t,e){var n=t[0]-e[0]||t[1]-e[1];return n||(t[2]<e[2]?-1:t[2]>e[2]?1:0)}function y(t,e,n){if(0!==t.length){if(e)for(var r=0;r<t.length;++r){var i=e[(a=t[r])[0]],o=e[a[1]];a[0]=Math.min(i,o),a[1]=Math.max(i,o)}else for(r=0;r<t.length;++r){var a,i=(a=t[r])[0],o=a[1];a[0]=Math.min(i,o),a[1]=Math.max(i,o)}n?t.sort(m):t.sort(f);for(var s=1,r=1;r<t.length;++r){var l=t[r-1],u=t[r];(u[0]!==l[0]||u[1]!==l[1]||n&&u[2]!==l[2])&&(t[s++]=u)}t.length=s}}},{"./lib/rat-seg-intersect":47,"big-rat":14,"big-rat/cmp":12,"big-rat/to-float":26,"box-intersect":31,nextafter:607,"rat-vec":975,"robust-segment-intersect":989,"union-find":1012}],47:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=s(e,t),e=s(r,n),r=c(i,e);if(0===a(r))return null;n=s(t,n),n=c(e,n),r=o(n,r),r=u(i,r);return l(t,r)};var r=t("big-rat/mul"),o=t("big-rat/div"),i=t("big-rat/sub"),a=t("big-rat/sign"),s=t("rat-vec/sub"),l=t("rat-vec/add"),u=t("rat-vec/muls");function c(t,e){return i(r(t[0],e[1]),r(t[1],e[0]))}},{"big-rat/div":13,"big-rat/mul":23,"big-rat/sign":24,"big-rat/sub":25,"rat-vec/add":974,"rat-vec/muls":976,"rat-vec/sub":977}],48:[function(t,e,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],49:[function(t,e,n){"use strict";t=t("./rgb");e.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e,n,r,i,o,a=t[0]/360,s=t[1]/100,t=t[2]/100;if(0==s)return[o=255*t,o,o];e=2*t-(n=t<.5?t*(1+s):t+s-t*s),i=[0,0,0];for(var l=0;l<3;l++)(r=a+1/3*-(l-1))<0?r++:1<r&&r--,o=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e,i[l]=255*o;return i}},t.hsl=function(t){var e,n=t[0]/255,r=t[1]/255,i=t[2]/255,o=Math.min(n,r,i),a=Math.max(n,r,i),t=a-o;return a===o?e=0:n===a?e=(r-i)/t:r===a?e=2+(i-n)/t:i===a&&(e=4+(n-r)/t),(e=Math.min(60*e,360))<0&&(e+=360),r=(o+a)/2,[e,100*(a===o?0:r<=.5?t/(a+o):t/(2-a-o)),100*r]}},{"./rgb":50}],50:[function(t,e,n){"use strict";e.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},{}],51:[function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.exports=(r(e={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],cool:[{index:0,rgb:[0,255,255]},{index:1,rgb:[255,0,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}]},"cool",[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}]),r(e,"rainbow-soft",[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}]),r(e,"bathymetry",[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}]),r(e,"cdom",[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}]),r(e,"chlorophyll",[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}]),r(e,"density",[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}]),r(e,"freesurface-blue",[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}]),r(e,"freesurface-red",[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}]),r(e,"oxygen",[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}]),r(e,"par",[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}]),r(e,"phase",[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}]),r(e,"salinity",[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}]),r(e,"temperature",[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}]),r(e,"turbidity",[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}]),r(e,"velocity-blue",[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}]),r(e,"velocity-green",[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}]),r(e,"cubehelix",[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]),e)},{}],52:[function(t,e,n){"use strict";var g=t("./colorScale"),m=t("lerp");function y(t){return[t[0]/255,t[1]/255,t[2]/255,t[3]]}function v(t){for(var e,n="#",r=0;r<3;++r)n+=("00"+(e=(e=t[r]).toString(16))).substr(e.length);return n}function b(t){return"rgba("+t.join(",")+")"}e.exports=function(t){var e,n,r,i,o,a,s,l,u,c;t=t||{};l=(t.nshades||72)-1,s=t.format||"hex",(a=t.colormap)||(a="jet");if("string"==typeof a){if(a=a.toLowerCase(),!g[a])throw Error(a+" not a supported colorscale");o=g[a]}else{if(!Array.isArray(a))throw Error("unsupported colormap option",a);o=a.slice()}if(o.length>1+l)throw new Error(a+" map requires nshades to be at least size "+o.length);u=Array.isArray(t.alpha)?2!==t.alpha.length?[1,1]:t.alpha.slice():"number"==typeof t.alpha?[t.alpha,t.alpha]:[1,1];e=o.map(function(t){return Math.round(t.index*l)}),u[0]=Math.min(Math.max(u[0],0),1),u[1]=Math.min(Math.max(u[1],0),1);var f=o.map(function(t,e){var n=o[e].index,e=o[e].rgb.slice();return 4===e.length&&0<=e[3]&&e[3]<=1||(e[3]=u[0]+(u[1]-u[0])*n),e}),h=[];for(c=0;c<e.length-1;++c){i=e[c+1]-e[c],n=f[c],r=f[c+1];for(var d=0;d<i;d++){var p=d/i;h.push([Math.round(m(n[0],r[0],p)),Math.round(m(n[1],r[1],p)),Math.round(m(n[2],r[2],p)),m(n[3],r[3],p)])}}h.push(o[o.length-1].rgb.concat(u[1])),"hex"===s?h=h.map(v):"rgbaString"===s?h=h.map(b):"float"===s&&(h=h.map(y));return h}},{"./colorScale":51,lerp:559}],53:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=s(e,n,r);if(0===i){var o=l(s(t,e,n)),a=l(s(t,e,r));if(o!==a)return 0===a?0<o||c(t,e,r)?-1:1:0===o?0<a||c(t,e,n)?1:-1:l(a-o);if(0!==o)return 0;a=c(t,e,n),o=c(t,e,r);return a===o?0:a?1:-1}a=s(t,e,n);return 0<a?0<i&&0<s(t,e,r)?1:-1:a<0?0<i||0<s(t,e,r)?1:-1:0<s(t,e,r)||c(t,e,n)?1:-1};var s=t("robust-orientation"),l=t("signum"),o=t("two-sum"),a=t("robust-product"),u=t("robust-sum");function c(t,e,n){var r=o(t[0],-e[0]),i=o(t[1],-e[1]),t=o(n[0],-e[0]),e=o(n[1],-e[1]),e=u(a(r,t),a(i,e));return 0<=e[e.length-1]}},{"robust-orientation":986,"robust-product":987,"robust-sum":991,signum:54,"two-sum":1010}],54:[function(t,e,n){"use strict";e.exports=function(t){return t<0?-1:0<t?1:0}},{}],55:[function(t,e,n){"use strict";var r=t("./lib/ch1d"),i=t("./lib/ch2d"),o=t("./lib/chnd");e.exports=function(t){var e=t.length;{if(0===e)return[];if(1===e)return[[0]]}e=t[0].length;{if(0===e)return[];if(1===e)return r(t);if(2===e)return i(t)}return o(t,e)}},{"./lib/ch1d":56,"./lib/ch2d":57,"./lib/chnd":58}],56:[function(t,e,n){"use strict";e.exports=function(t){for(var e=0,n=0,r=1;r<t.length;++r)t[r][0]<t[e][0]&&(e=r),t[r][0]>t[n][0]&&(n=r);return e<n?[[e],[n]]:n<e?[[n],[e]]:[[e]]}},{}],57:[function(t,e,n){"use strict";e.exports=function(t){var e=s(t),n=e.length;if(n<=2)return[];for(var r=new Array(n),i=e[n-1],o=0;o<n;++o){var a=e[o];r[o]=[i,a],i=a}return r};var s=t("monotone-convex-hull-2d")},{"monotone-convex-hull-2d":597}],58:[function(t,e,n){"use strict";e.exports=function(e,n){try{return i(e,!0)}catch(t){var r=o(e);if(r.length<=n)return[];n=function(t,e){for(var n=t.length,r=new Array(n),i=0;i<e.length;++i)r[i]=t[e[i]];for(var o=e.length,i=0;i<n;++i)e.indexOf(i)<0&&(r[o++]=t[i]);return r}(e,r);return function(t,e){for(var n=t.length,r=e.length,i=0;i<n;++i)for(var o=t[i],a=0;a<o.length;++a){var s=o[a];if(s<r)o[a]=e[s];else{s-=r;for(var l=0;l<r;++l)s>=e[l]&&(s+=1);o[a]=s}}return t}(i(n,!0),r)}};var i=t("incremental-convex-hull"),o=t("affine-hull")},{"affine-hull":6,"incremental-convex-hull":549}],59:[function(t,e,n){e.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},{}],60:[function(t,e,n){var r=t("../internals/is-object");e.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},{"../internals/is-object":132}],61:[function(t,e,n){var r=t("../internals/well-known-symbol"),i=t("../internals/object-create"),t=t("../internals/object-define-property"),o=r("unscopables"),a=Array.prototype;null==a[o]&&t.f(a,o,{configurable:!0,value:i(null)}),e.exports=function(t){a[o][t]=!0}},{"../internals/object-create":154,"../internals/object-define-property":156,"../internals/well-known-symbol":214}],62:[function(t,e,n){"use strict";var r=t("../internals/string-multibyte").charAt;e.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},{"../internals/string-multibyte":189}],63:[function(t,e,n){e.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},{}],64:[function(t,e,n){var r=t("../internals/is-object");e.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},{"../internals/is-object":132}],65:[function(t,e,n){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],66:[function(t,e,n){"use strict";function r(t){return!!l(t)&&(t=c(t),u(A,t)||u(S,t))}var i,o=t("../internals/array-buffer-native"),a=t("../internals/descriptors"),s=t("../internals/global"),l=t("../internals/is-object"),u=t("../internals/has"),c=t("../internals/classof"),f=t("../internals/create-non-enumerable-property"),h=t("../internals/redefine"),d=t("../internals/object-define-property").f,p=t("../internals/object-get-prototype-of"),g=t("../internals/object-set-prototype-of"),m=t("../internals/well-known-symbol"),y=t("../internals/uid"),v=s.Int8Array,b=v&&v.prototype,x=s.Uint8ClampedArray,t=x&&x.prototype,_=v&&p(v),w=b&&p(b),x=Object.prototype,k=x.isPrototypeOf,m=m("toStringTag"),T=y("TYPED_ARRAY_TAG"),M=o&&!!g&&"Opera"!==c(s.opera),o=!1,A={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},S={BigInt64Array:8,BigUint64Array:8};for(i in A)s[i]||(M=!1);if((!M||"function"!=typeof _||_===Function.prototype)&&(_=function(){throw TypeError("Incorrect invocation")},M))for(i in A)s[i]&&g(s[i],_);if((!M||!w||w===x)&&(w=_.prototype,M))for(i in A)s[i]&&g(s[i].prototype,w);if(M&&p(t)!==w&&g(t,w),a&&!u(w,m))for(i in o=!0,d(w,m,{get:function(){return l(this)?this[T]:void 0}}),A)s[i]&&f(s[i],T,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:o&&T,aTypedArray:function(t){if(r(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(g){if(k.call(_,t))return t}else for(var e in A)if(u(A,i)){var n=s[e];if(n&&(t===n||k.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(a){if(n)for(var r in A){var i=s[r];i&&u(i.prototype,t)&&delete i.prototype[t]}w[t]&&!n||h(w,t,!n&&M&&b[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(a){if(g){if(n)for(r in A)(i=s[r])&&u(i,t)&&delete i[t];if(_[t]&&!n)return;try{return h(_,t,!n&&M&&v[t]||e)}catch(t){}}for(r in A)!(i=s[r])||i[t]&&!n||h(i,t,e)}},isView:function(t){if(!l(t))return!1;t=c(t);return"DataView"===t||u(A,t)||u(S,t)},isTypedArray:r,TypedArray:_,TypedArrayPrototype:w}},{"../internals/array-buffer-native":65,"../internals/classof":83,"../internals/create-non-enumerable-property":92,"../internals/descriptors":98,"../internals/global":116,"../internals/has":117,"../internals/is-object":132,"../internals/object-define-property":156,"../internals/object-get-prototype-of":161,"../internals/object-set-prototype-of":166,"../internals/redefine":174,"../internals/uid":211,"../internals/well-known-symbol":214}],67:[function(t,e,n){"use strict";function r(t){return[255&t]}function i(t){return[255&t,t>>8&255]}function o(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function a(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function s(t){return z(t,23,4)}function l(t){return z(t,52,8)}function u(t,e,n,r){var i=x(n),n=C(t);if(i+e>n.byteLength)throw F(L);return t=C(n.buffer).bytes,n=i+n.byteOffset,e=t.slice(n,n+e),r?e:e.reverse()}function c(t,e,n,r,i,o){if(n=x(n),t=C(t),n+e>t.byteLength)throw F(L);for(var a=C(t.buffer).bytes,s=n+t.byteOffset,l=r(+i),u=0;u<e;u++)a[s+u]=l[o?u:e-u-1]}var f=t("../internals/global"),h=t("../internals/descriptors"),d=t("../internals/array-buffer-native"),p=t("../internals/create-non-enumerable-property"),g=t("../internals/redefine-all"),m=t("../internals/fails"),y=t("../internals/an-instance"),v=t("../internals/to-integer"),b=t("../internals/to-length"),x=t("../internals/to-index"),_=t("../internals/ieee754"),w=t("../internals/object-get-prototype-of"),k=t("../internals/object-set-prototype-of"),T=t("../internals/object-get-own-property-names").f,M=t("../internals/object-define-property").f,A=t("../internals/array-fill"),S=t("../internals/set-to-string-tag"),E=t("../internals/internal-state"),C=E.get,O=E.set,j="ArrayBuffer",P="DataView",N="prototype",L="Wrong index",R=f[j],D=R,I=f[P],t=I&&I[N],E=Object.prototype,F=f.RangeError,z=_.pack,B=_.unpack,_=function(t,e){M(t[N],e,{get:function(){return C(this)[e]}})};if(d){if(!m(function(){R(1)})||!m(function(){new R(-1)})||m(function(){return new R,new R(1.5),new R(NaN),R.name!=j})){for(var U,m=(D=function(t){return y(this,D),new R(x(t))})[N]=R[N],H=T(R),q=0;H.length>q;)(U=H[q++])in D||p(D,U,R[U]);m.constructor=D}k&&w(t)!==E&&k(t,E);var E=new I(new D(2)),V=t.setInt8;E.setInt8(0,2147483648),E.setInt8(1,2147483649),!E.getInt8(0)&&E.getInt8(1)||g(t,{setInt8:function(t,e){V.call(this,t,e<<24>>24)},setUint8:function(t,e){V.call(this,t,e<<24>>24)}},{unsafe:!0})}else D=function(t){y(this,D,j);t=x(t);O(this,{bytes:A.call(new Array(t),0),byteLength:t}),h||(this.byteLength=t)},I=function(t,e,n){y(this,I,P),y(t,D,P);var r=C(t).byteLength,e=v(e);if(e<0||r<e)throw F("Wrong offset");if(r<e+(n=void 0===n?r-e:b(n)))throw F("Wrong length");O(this,{buffer:t,byteLength:n,byteOffset:e}),h||(this.buffer=t,this.byteLength=n,this.byteOffset=e)},h&&(_(D,"byteLength"),_(I,"buffer"),_(I,"byteLength"),_(I,"byteOffset")),g(I[N],{getInt8:function(t){return u(this,1,t)[0]<<24>>24},getUint8:function(t){return u(this,1,t)[0]},getInt16:function(t,e){e=u(this,2,t,1<arguments.length?e:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t,e){e=u(this,2,t,1<arguments.length?e:void 0);return e[1]<<8|e[0]},getInt32:function(t,e){return a(u(this,4,t,1<arguments.length?e:void 0))},getUint32:function(t,e){return a(u(this,4,t,1<arguments.length?e:void 0))>>>0},getFloat32:function(t,e){return B(u(this,4,t,1<arguments.length?e:void 0),23)},getFloat64:function(t,e){return B(u(this,8,t,1<arguments.length?e:void 0),52)},setInt8:function(t,e){c(this,1,t,r,e)},setUint8:function(t,e){c(this,1,t,r,e)},setInt16:function(t,e,n){c(this,2,t,i,e,2<arguments.length?n:void 0)},setUint16:function(t,e,n){c(this,2,t,i,e,2<arguments.length?n:void 0)},setInt32:function(t,e,n){c(this,4,t,o,e,2<arguments.length?n:void 0)},setUint32:function(t,e,n){c(this,4,t,o,e,2<arguments.length?n:void 0)},setFloat32:function(t,e,n){c(this,4,t,s,e,2<arguments.length?n:void 0)},setFloat64:function(t,e,n){c(this,8,t,l,e,2<arguments.length?n:void 0)}});S(D,j),S(I,P),e.exports={ArrayBuffer:D,DataView:I}},{"../internals/an-instance":63,"../internals/array-buffer-native":65,"../internals/array-fill":69,"../internals/create-non-enumerable-property":92,"../internals/descriptors":98,"../internals/fails":107,"../internals/global":116,"../internals/ieee754":122,"../internals/internal-state":127,"../internals/object-define-property":156,"../internals/object-get-own-property-names":159,"../internals/object-get-prototype-of":161,"../internals/object-set-prototype-of":166,"../internals/redefine-all":173,"../internals/set-to-string-tag":183,"../internals/to-index":199,"../internals/to-integer":201,"../internals/to-length":202}],68:[function(t,e,n){"use strict";var u=t("../internals/to-object"),c=t("../internals/to-absolute-index"),f=t("../internals/to-length"),h=Math.min;e.exports=[].copyWithin||function(t,e,n){var r=u(this),i=f(r.length),o=c(t,i),a=c(e,i),n=2<arguments.length?n:void 0,s=h((void 0===n?i:c(n,i))-a,i-o),l=1;for(a<o&&o<a+s&&(l=-1,a+=s-1,o+=s-1);0<s--;)a in r?r[o]=r[a]:delete r[o],o+=l,a+=l;return r}},{"../internals/to-absolute-index":198,"../internals/to-length":202,"../internals/to-object":203}],69:[function(t,e,n){"use strict";var l=t("../internals/to-object"),u=t("../internals/to-absolute-index"),c=t("../internals/to-length");e.exports=function(t,e,n){for(var r=l(this),i=c(r.length),o=arguments.length,a=u(1<o?e:void 0,i),n=2<o?n:void 0,s=void 0===n?i:u(n,i);a<s;)r[a++]=t;return r}},{"../internals/to-absolute-index":198,"../internals/to-length":202,"../internals/to-object":203}],70:[function(t,e,n){"use strict";var r=t("../internals/array-iteration").forEach,i=t("../internals/array-method-is-strict"),t=t("../internals/array-method-uses-to-length"),i=i("forEach"),t=t("forEach");e.exports=i&&t?[].forEach:function(t,e){return r(this,t,1<arguments.length?e:void 0)}},{"../internals/array-iteration":73,"../internals/array-method-is-strict":76,"../internals/array-method-uses-to-length":77}],71:[function(t,e,n){"use strict";var p=t("../internals/function-bind-context"),g=t("../internals/to-object"),m=t("../internals/call-with-safe-iteration-closing"),y=t("../internals/is-array-iterator-method"),v=t("../internals/to-length"),b=t("../internals/create-property"),x=t("../internals/get-iterator-method");e.exports=function(t,e,n){var r,i,o,a,s,l,u=g(t),c="function"==typeof this?this:Array,t=arguments.length,f=1<t?e:void 0,h=void 0!==f,e=x(u),d=0;if(h&&(f=p(f,2<t?n:void 0,2)),null==e||c==Array&&y(e))for(i=new c(r=v(u.length));d<r;d++)l=h?f(u[d],d):u[d],b(i,d,l);else for(s=(a=e.call(u)).next,i=new c;!(o=s.call(a)).done;d++)l=h?m(a,f,[o.value,d],!0):o.value,b(i,d,l);return i.length=d,i}},{"../internals/call-with-safe-iteration-closing":80,"../internals/create-property":94,"../internals/function-bind-context":111,"../internals/get-iterator-method":114,"../internals/is-array-iterator-method":128,"../internals/to-length":202,"../internals/to-object":203}],72:[function(t,e,n){var l=t("../internals/to-indexed-object"),u=t("../internals/to-length"),c=t("../internals/to-absolute-index"),t=function(s){return function(t,e,n){var r,i=l(t),o=u(i.length),a=c(n,o);if(s&&e!=e){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===e)return s||a||0;return!s&&-1}};e.exports={includes:t(!0),indexOf:t(!1)}},{"../internals/to-absolute-index":198,"../internals/to-indexed-object":200,"../internals/to-length":202}],73:[function(t,e,n){var x=t("../internals/function-bind-context"),_=t("../internals/indexed-object"),w=t("../internals/to-object"),k=t("../internals/to-length"),T=t("../internals/array-species-create"),M=[].push,t=function(h){var d=1==h,p=2==h,g=3==h,m=4==h,y=6==h,v=7==h,b=5==h||y;return function(t,e,n,r){for(var i,o,a=w(t),s=_(a),l=x(e,n,3),u=k(s.length),c=0,r=r||T,f=d?r(t,u):p||v?r(t,0):void 0;c<u;c++)if((b||c in s)&&(o=l(i=s[c],c,a),h))if(d)f[c]=o;else if(o)switch(h){case 3:return!0;case 5:return i;case 6:return c;case 2:M.call(f,i)}else switch(h){case 4:return!1;case 7:M.call(f,i)}return y?-1:g||m?m:f}};e.exports={forEach:t(0),map:t(1),filter:t(2),some:t(3),every:t(4),find:t(5),findIndex:t(6),filterOut:t(7)}},{"../internals/array-species-create":79,"../internals/function-bind-context":111,"../internals/indexed-object":123,"../internals/to-length":202,"../internals/to-object":203}],74:[function(t,e,n){"use strict";var o=t("../internals/to-indexed-object"),a=t("../internals/to-integer"),s=t("../internals/to-length"),r=t("../internals/array-method-is-strict"),t=t("../internals/array-method-uses-to-length"),l=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,r=r("lastIndexOf"),t=t("indexOf",{ACCESSORS:!0,1:0}),t=c||!r||!t;e.exports=t?function(t,e){if(c)return u.apply(this,arguments)||0;var n=o(this),r=s(n.length),i=r-1;for(1<arguments.length&&(i=l(i,a(e))),i<0&&(i=r+i);0<=i;i--)if(i in n&&n[i]===t)return i||0;return-1}:u},{"../internals/array-method-is-strict":76,"../internals/array-method-uses-to-length":77,"../internals/to-indexed-object":200,"../internals/to-integer":201,"../internals/to-length":202}],75:[function(t,e,n){var r=t("../internals/fails"),i=t("../internals/well-known-symbol"),o=t("../internals/engine-v8-version"),a=i("species");e.exports=function(e){return 51<=o||!r(function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},{"../internals/engine-v8-version":104,"../internals/fails":107,"../internals/well-known-symbol":214}],76:[function(t,e,n){"use strict";var r=t("../internals/fails");e.exports=function(t,e){var n=[][t];return!!n&&r(function(){n.call(null,e||function(){throw 1},1)})}},{"../internals/fails":107}],77:[function(t,e,n){function a(t){throw t}var s=t("../internals/descriptors"),l=t("../internals/fails"),u=t("../internals/has"),c=Object.defineProperty,f={};e.exports=function(t,e){if(u(f,t))return f[t];var n=[][t],r=!!u(e=e||{},"ACCESSORS")&&e.ACCESSORS,i=u(e,0)?e[0]:a,o=u(e,1)?e[1]:void 0;return f[t]=!!n&&!l(function(){if(r&&!s)return!0;var t={length:-1};r?c(t,1,{enumerable:!0,get:a}):t[1]=1,n.call(t,i,o)})}},{"../internals/descriptors":98,"../internals/fails":107,"../internals/has":117}],78:[function(t,e,n){var c=t("../internals/a-function"),f=t("../internals/to-object"),h=t("../internals/indexed-object"),d=t("../internals/to-length"),t=function(u){return function(t,e,n,r){c(e);var i=f(t),o=h(i),a=d(i.length),s=u?a-1:0,l=u?-1:1;if(n<2)for(;;){if(s in o){r=o[s],s+=l;break}if(s+=l,u?s<0:a<=s)throw TypeError("Reduce of empty array with no initial value")}for(;u?0<=s:s<a;s+=l)s in o&&(r=e(r,o[s],s,i));return r}};e.exports={left:t(!1),right:t(!0)}},{"../internals/a-function":59,"../internals/indexed-object":123,"../internals/to-length":202,"../internals/to-object":203}],79:[function(t,e,n){var r=t("../internals/is-object"),i=t("../internals/is-array"),o=t("../internals/well-known-symbol")("species");e.exports=function(t,e){var n;return i(t)&&("function"==typeof(n=t.constructor)&&(n===Array||i(n.prototype))||r(n)&&null===(n=n[o]))&&(n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},{"../internals/is-array":129,"../internals/is-object":132,"../internals/well-known-symbol":214}],80:[function(t,e,n){var i=t("../internals/an-object"),o=t("../internals/iterator-close");e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){throw o(e),t}}},{"../internals/an-object":64,"../internals/iterator-close":136}],81:[function(t,e,n){var i=t("../internals/well-known-symbol")("iterator"),o=!1;try{var r=0,a={next:function(){return{done:!!r++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,function(){throw 2})}catch(t){}e.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}},{"../internals/well-known-symbol":214}],82:[function(t,e,n){var r={}.toString;e.exports=function(t){return r.call(t).slice(8,-1)}},{}],83:[function(t,e,n){var r=t("../internals/to-string-tag-support"),i=t("../internals/classof-raw"),o=t("../internals/well-known-symbol")("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=r?i:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?t:a?i(e):"Object"==(t=i(e))&&"function"==typeof e.callee?"Arguments":t}},{"../internals/classof-raw":82,"../internals/to-string-tag-support":207,"../internals/well-known-symbol":214}],84:[function(t,e,n){"use strict";var u=t("../internals/object-define-property").f,c=t("../internals/object-create"),f=t("../internals/redefine-all"),h=t("../internals/function-bind-context"),d=t("../internals/an-instance"),p=t("../internals/iterate"),a=t("../internals/define-iterator"),s=t("../internals/set-species"),g=t("../internals/descriptors"),m=t("../internals/internal-metadata").fastKey,t=t("../internals/internal-state"),y=t.set,v=t.getterFor;e.exports={getConstructor:function(t,n,r,i){function o(t,e,n){var r,i=s(t),o=l(t,e);return o?o.value=n:(i.last=o={index:r=m(e,!0),key:e,value:n,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),g?i.size++:t.size++,"F"!==r&&(i.index[r]=o)),t}var a=t(function(t,e){d(t,a,n),y(t,{type:n,index:c(null),first:void 0,last:void 0,size:0}),g||(t.size=0),null!=e&&p(e,t[i],{that:t,AS_ENTRIES:r})}),s=v(n),l=function(t,e){var n,r=s(t),t=m(e);if("F"!==t)return r.index[t];for(n=r.first;n;n=n.next)if(n.key==e)return n};return f(a.prototype,{clear:function(){for(var t=s(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,g?t.size=0:this.size=0},delete:function(t){var e,n=s(this),r=l(this,t);return r&&(e=r.next,t=r.previous,delete n.index[r.index],r.removed=!0,t&&(t.next=e),e&&(e.previous=t),n.first==r&&(n.first=e),n.last==r&&(n.last=t),g?n.size--:this.size--),!!r},forEach:function(t,e){for(var n,r=s(this),i=h(t,1<arguments.length?e:void 0,3);n=n?n.next:r.first;)for(i(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(t){return!!l(this,t)}}),f(a.prototype,r?{get:function(t){t=l(this,t);return t&&t.value},set:function(t,e){return o(this,0===t?0:t,e)}}:{add:function(t){return o(this,t=0===t?0:t,t)}}),g&&u(a.prototype,"size",{get:function(){return s(this).size}}),a},setStrong:function(t,e,n){var r=e+" Iterator",i=v(e),o=v(r);a(t,e,function(t,e){y(this,{type:r,target:t,state:i(t),kind:e,last:void 0})},function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}},n?"entries":"values",!n,!0),s(e)}}},{"../internals/an-instance":63,"../internals/define-iterator":96,"../internals/descriptors":98,"../internals/function-bind-context":111,"../internals/internal-metadata":126,"../internals/internal-state":127,"../internals/iterate":135,"../internals/object-create":154,"../internals/object-define-property":156,"../internals/redefine-all":173,"../internals/set-species":182}],85:[function(t,e,n){"use strict";function l(t){return t.frozen||(t.frozen=new s)}function r(t,e){return o(t.entries,function(t){return t[0]===e})}var u=t("../internals/redefine-all"),c=t("../internals/internal-metadata").getWeakData,f=t("../internals/an-object"),h=t("../internals/is-object"),d=t("../internals/an-instance"),p=t("../internals/iterate"),i=t("../internals/array-iteration"),g=t("../internals/has"),t=t("../internals/internal-state"),m=t.set,y=t.getterFor,o=i.find,a=i.findIndex,v=0,s=function(){this.entries=[]};s.prototype={get:function(t){t=r(this,t);if(t)return t[1]},has:function(t){return!!r(this,t)},set:function(t,e){var n=r(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(e){var t=a(this.entries,function(t){return t[0]===e});return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(t,n,r,i){function o(t,e,n){var r=s(t),i=c(f(e),!0);return!0===i?l(r).set(e,n):i[r.id]=n,t}var a=t(function(t,e){d(t,a,n),m(t,{type:n,id:v++,frozen:void 0}),null!=e&&p(e,t[i],{that:t,AS_ENTRIES:r})}),s=y(n);return u(a.prototype,{delete:function(t){var e=s(this);if(!h(t))return!1;var n=c(t);return!0===n?l(e).delete(t):n&&g(n,e.id)&&delete n[e.id]},has:function(t){var e=s(this);if(!h(t))return!1;var n=c(t);return!0===n?l(e).has(t):n&&g(n,e.id)}}),u(a.prototype,r?{get:function(t){var e=s(this);if(h(t)){var n=c(t);return!0===n?l(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return o(this,t,e)}}:{add:function(t){return o(this,t,!0)}}),a}}},{"../internals/an-instance":63,"../internals/an-object":64,"../internals/array-iteration":73,"../internals/has":117,"../internals/internal-metadata":126,"../internals/internal-state":127,"../internals/is-object":132,"../internals/iterate":135,"../internals/redefine-all":173}],86:[function(t,e,n){"use strict";var m=t("../internals/export"),y=t("../internals/global"),v=t("../internals/is-forced"),b=t("../internals/redefine"),x=t("../internals/internal-metadata"),_=t("../internals/iterate"),w=t("../internals/an-instance"),k=t("../internals/is-object"),T=t("../internals/fails"),M=t("../internals/check-correctness-of-iteration"),A=t("../internals/set-to-string-tag"),S=t("../internals/inherit-if-required");e.exports=function(n,t,e){function r(t){var n=d[t];b(d,t,"add"==t?function(t){return n.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(c&&!k(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return c&&!k(t)?void 0:n.call(this,0===t?0:t)}:"has"==t?function(t){return!(c&&!k(t))&&n.call(this,0===t?0:t)}:function(t,e){return n.call(this,0===t?0:t,e),this})}var i,o,a,s,l,u=-1!==n.indexOf("Map"),c=-1!==n.indexOf("Weak"),f=u?"set":"add",h=y[n],d=h&&h.prototype,p=h,g={};return v(n,"function"!=typeof h||!(c||d.forEach&&!T(function(){(new h).entries().next()})))?(p=e.getConstructor(t,n,u,f),x.REQUIRED=!0):v(n,!0)&&(o=(i=new p)[f](c?{}:-0,1)!=i,a=T(function(){i.has(1)}),s=M(function(t){new h(t)}),l=!c&&T(function(){for(var t=new h,e=5;e--;)t[f](e,e);return!t.has(-0)}),s||(((p=t(function(t,e){w(t,p,n);t=S(new h,t,p);return null!=e&&_(e,t[f],{that:t,AS_ENTRIES:u}),t})).prototype=d).constructor=p),(a||l)&&(r("delete"),r("has"),u&&r("get")),(l||o)&&r(f),c&&d.clear&&delete d.clear),g[n]=p,m({global:!0,forced:p!=h},g),A(p,n),c||e.setStrong(p,n,u),p}},{"../internals/an-instance":63,"../internals/check-correctness-of-iteration":81,"../internals/export":106,"../internals/fails":107,"../internals/global":116,"../internals/inherit-if-required":124,"../internals/internal-metadata":126,"../internals/is-forced":130,"../internals/is-object":132,"../internals/iterate":135,"../internals/redefine":174,"../internals/set-to-string-tag":183}],87:[function(t,e,n){var s=t("../internals/has"),l=t("../internals/own-keys"),u=t("../internals/object-get-own-property-descriptor"),c=t("../internals/object-define-property");e.exports=function(t,e){for(var n=l(e),r=c.f,i=u.f,o=0;o<n.length;o++){var a=n[o];s(t,a)||r(t,a,i(e,a))}}},{"../internals/has":117,"../internals/object-define-property":156,"../internals/object-get-own-property-descriptor":157,"../internals/own-keys":169}],88:[function(t,e,n){var r=t("../internals/well-known-symbol")("match");e.exports=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[r]=!1,"/./"[e](n)}catch(t){}}return!1}},{"../internals/well-known-symbol":214}],89:[function(t,e,n){t=t("../internals/fails");e.exports=!t(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},{"../internals/fails":107}],90:[function(t,e,n){var o=t("../internals/require-object-coercible"),a=/"/g;e.exports=function(t,e,n,r){var i=String(o(t)),t="<"+e;return""!==n&&(t+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),t+">"+i+"</"+e+">"}},{"../internals/require-object-coercible":179}],91:[function(t,e,n){"use strict";function r(){return this}var i=t("../internals/iterators-core").IteratorPrototype,o=t("../internals/object-create"),a=t("../internals/create-property-descriptor"),s=t("../internals/set-to-string-tag"),l=t("../internals/iterators");e.exports=function(t,e,n){e+=" Iterator";return t.prototype=o(i,{next:a(1,n)}),s(t,e,!1,!0),l[e]=r,t}},{"../internals/create-property-descriptor":93,"../internals/iterators":138,"../internals/iterators-core":137,"../internals/object-create":154,"../internals/set-to-string-tag":183}],92:[function(t,e,n){var r=t("../internals/descriptors"),i=t("../internals/object-define-property"),o=t("../internals/create-property-descriptor");e.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},{"../internals/create-property-descriptor":93,"../internals/descriptors":98,"../internals/object-define-property":156}],93:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],94:[function(t,e,n){"use strict";var r=t("../internals/to-primitive"),i=t("../internals/object-define-property"),o=t("../internals/create-property-descriptor");e.exports=function(t,e,n){e=r(e);e in t?i.f(t,e,o(0,n)):t[e]=n}},{"../internals/create-property-descriptor":93,"../internals/object-define-property":156,"../internals/to-primitive":206}],95:[function(t,e,n){"use strict";var r=t("../internals/an-object"),i=t("../internals/to-primitive");e.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!==t)}},{"../internals/an-object":64,"../internals/to-primitive":206}],96:[function(t,e,n){"use strict";function g(){return this}var m=t("../internals/export"),y=t("../internals/create-iterator-constructor"),v=t("../internals/object-get-prototype-of"),b=t("../internals/object-set-prototype-of"),x=t("../internals/set-to-string-tag"),_=t("../internals/create-non-enumerable-property"),w=t("../internals/redefine"),r=t("../internals/well-known-symbol"),k=t("../internals/is-pure"),T=t("../internals/iterators"),t=t("../internals/iterators-core"),M=t.IteratorPrototype,A=t.BUGGY_SAFARI_ITERATORS,S=r("iterator"),E="values";e.exports=function(t,e,n,r,i,o,a){y(n,e,r);function s(t){if(t===i&&p)return p;if(!A&&t in h)return h[t];switch(t){case"keys":case E:case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}}var l,u,c=e+" Iterator",f=!1,h=t.prototype,d=h[S]||h["@@iterator"]||i&&h[i],p=!A&&d||s(i),r="Array"==e&&h.entries||d;if(r&&(t=v(r.call(new t)),M!==Object.prototype&&t.next&&(k||v(t)===M||(b?b(t,M):"function"!=typeof t[S]&&_(t,S,g)),x(t,c,!0,!0),k&&(T[c]=g))),i==E&&d&&d.name!==E&&(f=!0,p=function(){return d.call(this)}),k&&!a||h[S]===p||_(h,S,p),T[e]=p,i)if(l={values:s(E),keys:o?p:s("keys"),entries:s("entries")},a)for(u in l)!A&&!f&&u in h||w(h,u,l[u]);else m({target:e,proto:!0,forced:A||f},l);return l}},{"../internals/create-iterator-constructor":91,"../internals/create-non-enumerable-property":92,"../internals/export":106,"../internals/is-pure":133,"../internals/iterators":138,"../internals/iterators-core":137,"../internals/object-get-prototype-of":161,"../internals/object-set-prototype-of":166,"../internals/redefine":174,"../internals/set-to-string-tag":183,"../internals/well-known-symbol":214}],97:[function(t,e,n){var r=t("../internals/path"),i=t("../internals/has"),o=t("../internals/well-known-symbol-wrapped"),a=t("../internals/object-define-property").f;e.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},{"../internals/has":117,"../internals/object-define-property":156,"../internals/path":170,"../internals/well-known-symbol-wrapped":213}],98:[function(t,e,n){t=t("../internals/fails");e.exports=!t(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":107}],99:[function(t,e,n){var r=t("../internals/global"),t=t("../internals/is-object"),i=r.document,o=t(i)&&t(i.createElement);e.exports=function(t){return o?i.createElement(t):{}}},{"../internals/global":116,"../internals/is-object":132}],100:[function(t,e,n){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],101:[function(t,e,n){t=t("../internals/engine-user-agent");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":103}],102:[function(t,e,n){var r=t("../internals/classof-raw"),t=t("../internals/global");e.exports="process"==r(t.process)},{"../internals/classof-raw":82,"../internals/global":116}],103:[function(t,e,n){t=t("../internals/get-built-in");e.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":113}],104:[function(t,e,n){var r,i,o=t("../internals/global"),t=t("../internals/engine-user-agent"),o=o.process,o=o&&o.versions,o=o&&o.v8;o?i=(r=o.split("."))[0]+r[1]:t&&(!(r=t.match(/Edge\/(\d+)/))||74<=r[1])&&(r=t.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},{"../internals/engine-user-agent":103,"../internals/global":116}],105:[function(t,e,n){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],106:[function(t,e,n){var u=t("../internals/global"),c=t("../internals/object-get-own-property-descriptor").f,f=t("../internals/create-non-enumerable-property"),h=t("../internals/redefine"),d=t("../internals/set-global"),p=t("../internals/copy-constructor-properties"),g=t("../internals/is-forced");e.exports=function(t,e){var n,r,i,o=t.target,a=t.global,s=t.stat,l=a?u:s?u[o]||d(o,{}):(u[o]||{}).prototype;if(l)for(n in e){if(r=e[n],i=t.noTargetGet?(i=c(l,n))&&i.value:l[n],!g(a?n:o+(s?".":"#")+n,t.forced)&&void 0!==i){if(typeof r==typeof i)continue;p(r,i)}(t.sham||i&&i.sham)&&f(r,"sham",!0),h(l,n,r,t)}}},{"../internals/copy-constructor-properties":87,"../internals/create-non-enumerable-property":92,"../internals/global":116,"../internals/is-forced":130,"../internals/object-get-own-property-descriptor":157,"../internals/redefine":174,"../internals/set-global":181}],107:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],108:[function(t,e,n){"use strict";t("../modules/es.regexp.exec");var u=t("../internals/redefine"),c=t("../internals/fails"),f=t("../internals/well-known-symbol"),h=t("../internals/regexp-exec"),d=t("../internals/create-non-enumerable-property"),p=f("species"),g=!c(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),m="$0"==="a".replace(/./,"$0"),t=f("replace"),y=!!/./[t]&&""===/./[t]("a","$0"),v=!c(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};t="ab".split(t);return 2!==t.length||"a"!==t[0]||"b"!==t[1]});e.exports=function(n,t,e,r){var o,i,a=f(n),s=!c(function(){var t={};return t[a]=function(){return 7},7!=""[n](t)}),l=s&&!c(function(){var t=!1,e=/a/;return"split"===n&&((e={constructor:{}}).constructor[p]=function(){return e},e.flags="",e[a]=/./[a]),e.exec=function(){return t=!0,null},e[a](""),!t});s&&l&&("replace"!==n||g&&m&&!y)&&("split"!==n||v)||(o=/./[a],e=(l=e(a,""[n],function(t,e,n,r,i){return e.exec===h?s&&!i?{done:!0,value:o.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}},{REPLACE_KEEPS_$0:m,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:y}))[0],i=l[1],u(String.prototype,n,e),u(RegExp.prototype,a,2==t?function(t,e){return i.call(t,this,e)}:function(t){return i.call(t,this)})),r&&d(RegExp.prototype[a],"sham",!0)}},{"../internals/create-non-enumerable-property":92,"../internals/fails":107,"../internals/redefine":174,"../internals/regexp-exec":176,"../internals/well-known-symbol":214,"../modules/es.regexp.exec":314}],109:[function(t,e,n){"use strict";var h=t("../internals/is-array"),d=t("../internals/to-length"),p=t("../internals/function-bind-context"),g=function(t,e,n,r,i,o,a,s){for(var l,u=i,c=0,f=!!a&&p(a,s,3);c<r;){if(c in n){if(l=f?f(n[c],c,e):n[c],0<o&&h(l))u=g(t,e,l,d(l.length),u,o-1)-1;else{if(9007199254740991<=u)throw TypeError("Exceed the acceptable array length");t[u]=l}u++}c++}return u};e.exports=g},{"../internals/function-bind-context":111,"../internals/is-array":129,"../internals/to-length":202}],110:[function(t,e,n){t=t("../internals/fails");e.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":107}],111:[function(t,e,n){var o=t("../internals/a-function");e.exports=function(r,i,t){if(o(r),void 0===i)return r;switch(t){case 0:return function(){return r.call(i)};case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},{"../internals/a-function":59}],112:[function(t,e,n){"use strict";var o=t("../internals/a-function"),a=t("../internals/is-object"),s=[].slice,l={};e.exports=Function.bind||function(e){var n=o(this),r=s.call(arguments,1),i=function(){var t=r.concat(s.call(arguments));return this instanceof i?function(t,e,n){if(!(e in l)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";l[e]=Function("C,a","return new C("+r.join(",")+")")}return l[e](t,n)}(n,t.length,t):n.apply(e,t)};return a(n.prototype)&&(i.prototype=n.prototype),i}},{"../internals/a-function":59,"../internals/is-object":132}],113:[function(t,e,n){function r(t){return"function"==typeof t?t:void 0}var i=t("../internals/path"),o=t("../internals/global");e.exports=function(t,e){return arguments.length<2?r(i[t])||r(o[t]):i[t]&&i[t][e]||o[t]&&o[t][e]}},{"../internals/global":116,"../internals/path":170}],114:[function(t,e,n){var r=t("../internals/classof"),i=t("../internals/iterators"),o=t("../internals/well-known-symbol")("iterator");e.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},{"../internals/classof":83,"../internals/iterators":138,"../internals/well-known-symbol":214}],115:[function(t,e,n){var r=t("../internals/an-object"),i=t("../internals/get-iterator-method");e.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},{"../internals/an-object":64,"../internals/get-iterator-method":114}],116:[function(t,n,e){(function(e){(function(){function t(t){return t&&t.Math==Math&&t}n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],117:[function(t,e,n){var r={}.hasOwnProperty;e.exports=function(t,e){return r.call(t,e)}},{}],118:[function(t,e,n){e.exports={}},{}],119:[function(t,e,n){var r=t("../internals/global");e.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},{"../internals/global":116}],120:[function(t,e,n){t=t("../internals/get-built-in");e.exports=t("document","documentElement")},{"../internals/get-built-in":113}],121:[function(t,e,n){var r=t("../internals/descriptors"),i=t("../internals/fails"),o=t("../internals/document-create-element");e.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":98,"../internals/document-create-element":99,"../internals/fails":107}],122:[function(t,e,n){var h=Math.abs,d=Math.pow,p=Math.floor,g=Math.log,m=Math.LN2;e.exports={pack:function(t,e,n){var r,i,o=new Array(n),a=8*n-e-1,s=(1<<a)-1,l=s>>1,u=23===e?d(2,-24)-d(2,-77):0,c=t<0||0===t&&1/t<0?1:0,f=0;for((t=h(t))!=t||t===1/0?(i=t!=t?1:0,r=s):(r=p(g(t)/m),t*(n=d(2,-r))<1&&(r--,n*=2),2<=(t+=1<=r+l?u/n:u*d(2,1-l))*n&&(r++,n/=2),s<=r+l?(i=0,r=s):1<=r+l?(i=(t*n-1)*d(2,e),r+=l):(i=t*d(2,l-1)*d(2,e),r=0));8<=e;o[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,a+=e;0<a;o[f++]=255&r,r/=256,a-=8);return o[--f]|=128*c,o},unpack:function(t,e){var n,r=t.length,i=8*r-e-1,o=(1<<i)-1,a=o>>1,s=i-7,l=r-1,r=t[l--],u=127&r;for(r>>=7;0<s;u=256*u+t[l],l--,s-=8);for(n=u&(1<<-s)-1,u>>=-s,s+=e;0<s;n=256*n+t[l],l--,s-=8);if(0===u)u=1-a;else{if(u===o)return n?NaN:r?-1/0:1/0;n+=d(2,e),u-=a}return(r?-1:1)*n*d(2,u-e)}}},{}],123:[function(t,e,n){var r=t("../internals/fails"),i=t("../internals/classof-raw"),o="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},{"../internals/classof-raw":82,"../internals/fails":107}],124:[function(t,e,n){var o=t("../internals/is-object"),a=t("../internals/object-set-prototype-of");e.exports=function(t,e,n){var r,i;return a&&"function"==typeof(r=e.constructor)&&r!==n&&o(i=r.prototype)&&i!==n.prototype&&a(t,i),t}},{"../internals/is-object":132,"../internals/object-set-prototype-of":166}],125:[function(t,e,n){var t=t("../internals/shared-store"),r=Function.toString;"function"!=typeof t.inspectSource&&(t.inspectSource=function(t){return r.call(t)}),e.exports=t.inspectSource},{"../internals/shared-store":185}],126:[function(t,e,n){function r(t){s(t,c,{value:{objectID:"O"+ ++f,weakData:{}}})}var i=t("../internals/hidden-keys"),o=t("../internals/is-object"),a=t("../internals/has"),s=t("../internals/object-define-property").f,l=t("../internals/uid"),u=t("../internals/freezing"),c=l("meta"),f=0,h=Object.isExtensible||function(){return!0},d=e.exports={REQUIRED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,c)){if(!h(t))return"F";if(!e)return"E";r(t)}return t[c].objectID},getWeakData:function(t,e){if(!a(t,c)){if(!h(t))return!0;if(!e)return!1;r(t)}return t[c].weakData},onFreeze:function(t){return u&&d.REQUIRED&&h(t)&&!a(t,c)&&r(t),t}};i[c]=!0},{"../internals/freezing":110,"../internals/has":117,"../internals/hidden-keys":118,"../internals/is-object":132,"../internals/object-define-property":156,"../internals/uid":211}],127:[function(t,e,n){var r,i,o,a,s,l,u,c,f=t("../internals/native-weak-map"),h=t("../internals/global"),d=t("../internals/is-object"),p=t("../internals/create-non-enumerable-property"),g=t("../internals/has"),m=t("../internals/shared-store"),y=t("../internals/shared-key"),t=t("../internals/hidden-keys"),h=h.WeakMap;u=f?(r=m.state||(m.state=new h),i=r.get,o=r.has,a=r.set,s=function(t,e){return e.facade=t,a.call(r,t,e),e},l=function(t){return i.call(r,t)||{}},function(t){return o.call(r,t)}):(t[c=y("state")]=!0,s=function(t,e){return e.facade=t,p(t,c,e),e},l=function(t){return g(t,c)?t[c]:{}},function(t){return g(t,c)}),e.exports={set:s,get:l,has:u,enforce:function(t){return u(t)?l(t):s(t,{})},getterFor:function(n){return function(t){var e;if(!d(t)||(e=l(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}}},{"../internals/create-non-enumerable-property":92,"../internals/global":116,"../internals/has":117,"../internals/hidden-keys":118,"../internals/is-object":132,"../internals/native-weak-map":147,"../internals/shared-key":184,"../internals/shared-store":185}],128:[function(t,e,n){var r=t("../internals/well-known-symbol"),i=t("../internals/iterators"),o=r("iterator"),a=Array.prototype;e.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},{"../internals/iterators":138,"../internals/well-known-symbol":214}],129:[function(t,e,n){var r=t("../internals/classof-raw");e.exports=Array.isArray||function(t){return"Array"==r(t)}},{"../internals/classof-raw":82}],130:[function(t,e,n){var r=t("../internals/fails"),i=/#|\.prototype\./,t=function(t,e){t=a[o(t)];return t==l||t!=s&&("function"==typeof e?r(e):!!e)},o=t.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=t.data={},s=t.NATIVE="N",l=t.POLYFILL="P";e.exports=t},{"../internals/fails":107}],131:[function(t,e,n){var r=t("../internals/is-object"),i=Math.floor;e.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},{"../internals/is-object":132}],132:[function(t,e,n){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],133:[function(t,e,n){e.exports=!1},{}],134:[function(t,e,n){var r=t("../internals/is-object"),i=t("../internals/classof-raw"),o=t("../internals/well-known-symbol")("match");e.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},{"../internals/classof-raw":82,"../internals/is-object":132,"../internals/well-known-symbol":214}],135:[function(t,e,n){function m(t,e){this.stopped=t,this.result=e}var y=t("../internals/an-object"),v=t("../internals/is-array-iterator-method"),b=t("../internals/to-length"),x=t("../internals/function-bind-context"),_=t("../internals/get-iterator-method"),w=t("../internals/iterator-close");e.exports=function(t,e,n){function r(t){return o&&w(o),new m(!0,t)}function i(t){return h?(y(t),p?g(t[0],t[1],r):g(t[0],t[1])):p?g(t,r):g(t)}var o,a,s,l,u,c,f=n&&n.that,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),g=x(e,f,1+h+p);if(d)o=t;else{if("function"!=typeof(d=_(t)))throw TypeError("Target is not iterable");if(v(d)){for(a=0,s=b(t.length);a<s;a++)if((l=i(t[a]))&&l instanceof m)return l;return new m(!1)}o=d.call(t)}for(u=o.next;!(c=u.call(o)).done;){try{l=i(c.value)}catch(t){throw w(o),t}if("object"==typeof l&&l&&l instanceof m)return l}return new m(!1)}},{"../internals/an-object":64,"../internals/function-bind-context":111,"../internals/get-iterator-method":114,"../internals/is-array-iterator-method":128,"../internals/iterator-close":136,"../internals/to-length":202}],136:[function(t,e,n){var r=t("../internals/an-object");e.exports=function(t){var e=t.return;if(void 0!==e)return r(e.call(t)).value}},{"../internals/an-object":64}],137:[function(t,e,n){"use strict";var r,i=t("../internals/object-get-prototype-of"),o=t("../internals/create-non-enumerable-property"),a=t("../internals/has"),s=t("../internals/well-known-symbol"),l=t("../internals/is-pure"),u=s("iterator"),t=!1;[].keys&&("next"in(s=[].keys())?(s=i(i(s)))!==Object.prototype&&(r=s):t=!0),null==r&&(r={}),l||a(r,u)||o(r,u,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:t}},{"../internals/create-non-enumerable-property":92,"../internals/has":117,"../internals/is-pure":133,"../internals/object-get-prototype-of":161,"../internals/well-known-symbol":214}],138:[function(t,e,n){arguments[4][118][0].apply(n,arguments)},{dup:118}],139:[function(t,e,n){var r=Math.expm1,i=Math.exp;e.exports=!r||22025.465794806718<r(10)||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:i(t)-1}:r},{}],140:[function(t,e,n){var r=t("../internals/math-sign"),i=Math.abs,t=Math.pow,o=t(2,-52),a=t(2,-23),s=t(2,127)*(2-a),l=t(2,-126);e.exports=Math.fround||function(t){var e=i(t),n=r(t);return e<l?n*(e/l/a+1/o-1/o)*l*a:s<(e=(t=(1+a/o)*e)-(t-e))||e!=e?n*(1/0):n*e}},{"../internals/math-sign":142}],141:[function(t,e,n){var r=Math.log;e.exports=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:r(1+t)}},{}],142:[function(t,e,n){e.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},{}],143:[function(t,e,n){var r,i,o,a,s,l,u,c,f=t("../internals/global"),h=t("../internals/object-get-own-property-descriptor").f,d=t("../internals/task").set,p=t("../internals/engine-is-ios"),g=t("../internals/engine-is-node"),m=f.MutationObserver||f.WebKitMutationObserver,y=f.document,v=f.process,t=f.Promise,h=h(f,"queueMicrotask"),h=h&&h.value;h||(r=function(){var t,e;for(g&&(t=v.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},a=!p&&!g&&m&&y?(s=!0,l=y.createTextNode(""),new m(r).observe(l,{characterData:!0}),function(){l.data=s=!s}):t&&t.resolve?(u=t.resolve(void 0),c=u.then,function(){c.call(u,r)}):g?function(){v.nextTick(r)}:function(){d.call(f,r)}),e.exports=h||function(t){t={fn:t,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},{"../internals/engine-is-ios":101,"../internals/engine-is-node":102,"../internals/global":116,"../internals/object-get-own-property-descriptor":157,"../internals/task":196}],144:[function(t,e,n){t=t("../internals/global");e.exports=t.Promise},{"../internals/global":116}],145:[function(t,e,n){t=t("../internals/fails");e.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":107}],146:[function(t,e,n){var r=t("../internals/fails"),i=t("../internals/well-known-symbol"),o=t("../internals/is-pure"),a=i("iterator");e.exports=!r(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),n=t.searchParams,r="";return t.pathname="c%20d",n.forEach(function(t,e){n.delete("b"),r+=e+t}),o&&!t.toJSON||!n.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==n.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!n[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":107,"../internals/is-pure":133,"../internals/well-known-symbol":214}],147:[function(t,e,n){var r=t("../internals/global"),t=t("../internals/inspect-source"),r=r.WeakMap;e.exports="function"==typeof r&&/native code/.test(t(r))},{"../internals/global":116,"../internals/inspect-source":125}],148:[function(t,e,n){"use strict";function r(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=i(n),this.reject=i(r)}var i=t("../internals/a-function");e.exports.f=function(t){return new r(t)}},{"../internals/a-function":59}],149:[function(t,e,n){var r=t("../internals/is-regexp");e.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},{"../internals/is-regexp":134}],150:[function(t,e,n){var r=t("../internals/global").isFinite;e.exports=Number.isFinite||function(t){return"number"==typeof t&&r(t)}},{"../internals/global":116}],151:[function(t,e,n){var r=t("../internals/global"),i=t("../internals/string-trim").trim,t=t("../internals/whitespaces"),o=r.parseFloat,t=1/o(t+"-0")!=-1/0;e.exports=t?function(t){var e=i(String(t)),t=o(e);return 0===t&&"-"==e.charAt(0)?-0:t}:o},{"../internals/global":116,"../internals/string-trim":195,"../internals/whitespaces":215}],152:[function(t,e,n){var r=t("../internals/global"),i=t("../internals/string-trim").trim,t=t("../internals/whitespaces"),o=r.parseInt,a=/^[+-]?0[Xx]/,t=8!==o(t+"08")||22!==o(t+"0x16");e.exports=t?function(t,e){t=i(String(t));return o(t,e>>>0||(a.test(t)?16:10))}:o},{"../internals/global":116,"../internals/string-trim":195,"../internals/whitespaces":215}],153:[function(t,e,n){"use strict";var f=t("../internals/descriptors"),r=t("../internals/fails"),h=t("../internals/object-keys"),d=t("../internals/object-get-own-property-symbols"),p=t("../internals/object-property-is-enumerable"),g=t("../internals/to-object"),m=t("../internals/indexed-object"),i=Object.assign,o=Object.defineProperty;e.exports=!i||r(function(){if(f&&1!==i({b:1},i(o({},"a",{enumerable:!0,get:function(){o(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=i({},t)[n]||h(i({},e)).join("")!=r})?function(t){for(var e=g(t),n=arguments.length,r=1,i=d.f,o=p.f;r<n;)for(var a,s=m(arguments[r++]),l=i?h(s).concat(i(s)):h(s),u=l.length,c=0;c<u;)a=l[c++],f&&!o.call(s,a)||(e[a]=s[a]);return e}:i},{"../internals/descriptors":98,"../internals/fails":107,"../internals/indexed-object":123,"../internals/object-get-own-property-symbols":160,"../internals/object-keys":163,"../internals/object-property-is-enumerable":164,"../internals/to-object":203}],154:[function(t,e,n){function r(){}function i(t){return"<script>"+t+"</"+d+">"}var o,a=t("../internals/an-object"),s=t("../internals/object-define-properties"),l=t("../internals/enum-bug-keys"),u=t("../internals/hidden-keys"),c=t("../internals/html"),f=t("../internals/document-create-element"),t=t("../internals/shared-key"),h="prototype",d="script",p=t("IE_PROTO"),g=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t;g=o?function(t){t.write(i("")),t.close();var e=t.parentWindow.Object;return t=null,e}(o):((t=f("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(t=t.contentWindow.document).open(),t.write(i("document.F=Object")),t.close(),t.F);for(var e=l.length;e--;)delete g[h][l[e]];return g()};u[p]=!0,e.exports=Object.create||function(t,e){var n;return null!==t?(r[h]=a(t),n=new r,r[h]=null,n[p]=t):n=g(),void 0===e?n:s(n,e)}},{"../internals/an-object":64,"../internals/document-create-element":99,"../internals/enum-bug-keys":105,"../internals/hidden-keys":118,"../internals/html":120,"../internals/object-define-properties":155,"../internals/shared-key":184}],155:[function(t,e,n){var r=t("../internals/descriptors"),a=t("../internals/object-define-property"),s=t("../internals/an-object"),l=t("../internals/object-keys");e.exports=r?Object.defineProperties:function(t,e){s(t);for(var n,r=l(e),i=r.length,o=0;o<i;)a.f(t,n=r[o++],e[n]);return t}},{"../internals/an-object":64,"../internals/descriptors":98,"../internals/object-define-property":156,"../internals/object-keys":163}],156:[function(t,e,n){var r=t("../internals/descriptors"),i=t("../internals/ie8-dom-define"),o=t("../internals/an-object"),a=t("../internals/to-primitive"),s=Object.defineProperty;n.f=r?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},{"../internals/an-object":64,"../internals/descriptors":98,"../internals/ie8-dom-define":121,"../internals/to-primitive":206}],157:[function(t,e,n){var r=t("../internals/descriptors"),i=t("../internals/object-property-is-enumerable"),o=t("../internals/create-property-descriptor"),a=t("../internals/to-indexed-object"),s=t("../internals/to-primitive"),l=t("../internals/has"),u=t("../internals/ie8-dom-define"),c=Object.getOwnPropertyDescriptor;n.f=r?c:function(t,e){if(t=a(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(l(t,e))return o(!i.f.call(t,e),t[e])}},{"../internals/create-property-descriptor":93,"../internals/descriptors":98,"../internals/has":117,"../internals/ie8-dom-define":121,"../internals/object-property-is-enumerable":164,"../internals/to-indexed-object":200,"../internals/to-primitive":206}],158:[function(t,e,n){var r=t("../internals/to-indexed-object"),i=t("../internals/object-get-own-property-names").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},{"../internals/object-get-own-property-names":159,"../internals/to-indexed-object":200}],159:[function(t,e,n){var r=t("../internals/object-keys-internal"),i=t("../internals/enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},{"../internals/enum-bug-keys":105,"../internals/object-keys-internal":162}],160:[function(t,e,n){n.f=Object.getOwnPropertySymbols},{}],161:[function(t,e,n){var r=t("../internals/has"),i=t("../internals/to-object"),o=t("../internals/shared-key"),t=t("../internals/correct-prototype-getter"),a=o("IE_PROTO"),s=Object.prototype;e.exports=t?Object.getPrototypeOf:function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},{"../internals/correct-prototype-getter":89,"../internals/has":117,"../internals/shared-key":184,"../internals/to-object":203}],162:[function(t,e,n){var a=t("../internals/has"),s=t("../internals/to-indexed-object"),l=t("../internals/array-includes").indexOf,u=t("../internals/hidden-keys");e.exports=function(t,e){var n,r=s(t),i=0,o=[];for(n in r)!a(u,n)&&a(r,n)&&o.push(n);for(;e.length>i;)a(r,n=e[i++])&&(~l(o,n)||o.push(n));return o}},{"../internals/array-includes":72,"../internals/has":117,"../internals/hidden-keys":118,"../internals/to-indexed-object":200}],163:[function(t,e,n){var r=t("../internals/object-keys-internal"),i=t("../internals/enum-bug-keys");e.exports=Object.keys||function(t){return r(t,i)}},{"../internals/enum-bug-keys":105,"../internals/object-keys-internal":162}],164:[function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);n.f=o?function(t){t=i(this,t);return!!t&&t.enumerable}:r},{}],165:[function(t,e,n){"use strict";var r=t("../internals/is-pure"),i=t("../internals/global"),t=t("../internals/fails");e.exports=r||!t(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete i[t]})},{"../internals/fails":107,"../internals/global":116,"../internals/is-pure":133}],166:[function(t,e,n){var i=t("../internals/an-object"),o=t("../internals/a-possible-prototype");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(t){}return function(t,e){return i(t),o(e),r?n.call(t,e):t.__proto__=e,t}}():void 0)},{"../internals/a-possible-prototype":60,"../internals/an-object":64}],167:[function(t,e,n){var l=t("../internals/descriptors"),u=t("../internals/object-keys"),c=t("../internals/to-indexed-object"),f=t("../internals/object-property-is-enumerable").f,t=function(s){return function(t){for(var e,n=c(t),r=u(n),i=r.length,o=0,a=[];o<i;)e=r[o++],l&&!f.call(n,e)||a.push(s?[e,n[e]]:n[e]);return a}};e.exports={entries:t(!0),values:t(!1)}},{"../internals/descriptors":98,"../internals/object-keys":163,"../internals/object-property-is-enumerable":164,"../internals/to-indexed-object":200}],168:[function(t,e,n){"use strict";var r=t("../internals/to-string-tag-support"),i=t("../internals/classof");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},{"../internals/classof":83,"../internals/to-string-tag-support":207}],169:[function(t,e,n){var r=t("../internals/get-built-in"),i=t("../internals/object-get-own-property-names"),o=t("../internals/object-get-own-property-symbols"),a=t("../internals/an-object");e.exports=r("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},{"../internals/an-object":64,"../internals/get-built-in":113,"../internals/object-get-own-property-names":159,"../internals/object-get-own-property-symbols":160}],170:[function(t,e,n){t=t("../internals/global");e.exports=t},{"../internals/global":116}],171:[function(t,e,n){e.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},{}],172:[function(t,e,n){var r=t("../internals/an-object"),i=t("../internals/is-object"),o=t("../internals/new-promise-capability");e.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;t=o.f(t);return(0,t.resolve)(e),t.promise}},{"../internals/an-object":64,"../internals/is-object":132,"../internals/new-promise-capability":148}],173:[function(t,e,n){var i=t("../internals/redefine");e.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},{"../internals/redefine":174}],174:[function(t,e,n){var s=t("../internals/global"),l=t("../internals/create-non-enumerable-property"),u=t("../internals/has"),c=t("../internals/set-global"),r=t("../internals/inspect-source"),t=t("../internals/internal-state"),i=t.get,f=t.enforce,h=String(String).split("String");(e.exports=function(t,e,n,r){var i=!!r&&!!r.unsafe,o=!!r&&!!r.enumerable,a=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||u(n,"name")||l(n,"name",e),(r=f(n)).source||(r.source=h.join("string"==typeof e?e:""))),t!==s?(i?!a&&t[e]&&(o=!0):delete t[e],o?t[e]=n:l(t,e,n)):o?t[e]=n:c(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||r(this)})},{"../internals/create-non-enumerable-property":92,"../internals/global":116,"../internals/has":117,"../internals/inspect-source":125,"../internals/internal-state":127,"../internals/set-global":181}],175:[function(t,e,n){var r=t("./classof-raw"),i=t("./regexp-exec");e.exports=function(t,e){var n=t.exec;if("function"==typeof n){n=n.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},{"./classof-raw":82,"./regexp-exec":176}],176:[function(t,e,n){"use strict";var r,f=t("./regexp-flags"),i=t("./regexp-sticky-helpers"),h=RegExp.prototype.exec,d=String.prototype.replace,o=h,p=(r=/a/,t=/b*/g,h.call(r,"a"),h.call(t,"a"),0!==r.lastIndex||0!==t.lastIndex),g=i.UNSUPPORTED_Y||i.BROKEN_CARET,m=void 0!==/()??/.exec("")[1];(p||m||g)&&(o=function(t){var e,n,r,i,o=this,a=g&&o.sticky,s=f.call(o),l=o.source,u=0,c=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),c=String(t).slice(o.lastIndex),0<o.lastIndex&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(l="(?: "+l+")",c=" "+c,u++),n=new RegExp("^(?:"+l+")",s)),m&&(n=new RegExp("^"+l+"$(?!\\s)",s)),p&&(e=o.lastIndex),r=h.call(a?n:o,c),a?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:p&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),m&&r&&1<r.length&&d.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),e.exports=o},{"./regexp-flags":177,"./regexp-sticky-helpers":178}],177:[function(t,e,n){"use strict";var r=t("../internals/an-object");e.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},{"../internals/an-object":64}],178:[function(t,e,n){"use strict";t=t("./fails");function r(t,e){return RegExp(t,e)}n.UNSUPPORTED_Y=t(function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),n.BROKEN_CARET=t(function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},{"./fails":107}],179:[function(t,e,n){e.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},{}],180:[function(t,e,n){e.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},{}],181:[function(t,e,n){var r=t("../internals/global"),i=t("../internals/create-non-enumerable-property");e.exports=function(e,n){try{i(r,e,n)}catch(t){r[e]=n}return n}},{"../internals/create-non-enumerable-property":92,"../internals/global":116}],182:[function(t,e,n){"use strict";var r=t("../internals/get-built-in"),i=t("../internals/object-define-property"),o=t("../internals/well-known-symbol"),a=t("../internals/descriptors"),s=o("species");e.exports=function(t){var e=r(t),t=i.f;a&&e&&!e[s]&&t(e,s,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":98,"../internals/get-built-in":113,"../internals/object-define-property":156,"../internals/well-known-symbol":214}],183:[function(t,e,n){var r=t("../internals/object-define-property").f,i=t("../internals/has"),o=t("../internals/well-known-symbol")("toStringTag");e.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},{"../internals/has":117,"../internals/object-define-property":156,"../internals/well-known-symbol":214}],184:[function(t,e,n){var r=t("../internals/shared"),i=t("../internals/uid"),o=r("keys");e.exports=function(t){return o[t]||(o[t]=i(t))}},{"../internals/shared":186,"../internals/uid":211}],185:[function(t,e,n){var r=t("../internals/global"),i=t("../internals/set-global"),t="__core-js_shared__",t=r[t]||i(t,{});e.exports=t},{"../internals/global":116,"../internals/set-global":181}],186:[function(t,e,n){var r=t("../internals/is-pure"),i=t("../internals/shared-store");(e.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.1",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":133,"../internals/shared-store":185}],187:[function(t,e,n){var r=t("../internals/an-object"),i=t("../internals/a-function"),o=t("../internals/well-known-symbol")("species");e.exports=function(t,e){var n,t=r(t).constructor;return void 0===t||null==(n=r(t)[o])?e:i(n)}},{"../internals/a-function":59,"../internals/an-object":64,"../internals/well-known-symbol":214}],188:[function(t,e,n){var r=t("../internals/fails");e.exports=function(e){return r(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length})}},{"../internals/fails":107}],189:[function(t,e,n){var a=t("../internals/to-integer"),s=t("../internals/require-object-coercible"),t=function(o){return function(t,e){var n,r=String(s(t)),i=a(e),t=r.length;return i<0||t<=i?o?"":void 0:(e=r.charCodeAt(i))<55296||56319<e||i+1===t||(n=r.charCodeAt(i+1))<56320||57343<n?o?r.charAt(i):e:o?r.slice(i,i+2):n-56320+(e-55296<<10)+65536}};e.exports={codeAt:t(!1),charAt:t(!0)}},{"../internals/require-object-coercible":179,"../internals/to-integer":201}],190:[function(t,e,n){t=t("../internals/engine-user-agent");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":103}],191:[function(t,e,n){var o=t("../internals/to-length"),a=t("../internals/string-repeat"),s=t("../internals/require-object-coercible"),l=Math.ceil,t=function(i){return function(t,e,n){var r=String(s(t)),t=r.length,n=void 0===n?" ":String(n),e=o(e);return e<=t||""==n?r:(t=e-t,(n=a.call(n,l(t/n.length))).length>t&&(n=n.slice(0,t)),i?r+n:n+r)}};e.exports={start:t(!1),end:t(!0)}},{"../internals/require-object-coercible":179,"../internals/string-repeat":193,"../internals/to-length":202}],192:[function(t,e,n){"use strict";function y(t){return t+22+75*(t<26)}function o(t){var e,n=[],r=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i,o=t.charCodeAt(n++);55296<=o&&o<=56319&&n<r?56320==(64512&(i=t.charCodeAt(n++)))?e.push(((1023&o)<<10)+(1023&i)+65536):(e.push(o),n--):e.push(o)}return e}(t)).length,i=128,o=0,a=72;for(c=0;c<t.length;c++)(e=t[c])<128&&n.push(_(e));var s=n.length,l=s;for(s&&n.push("-");l<r;){for(var u=v,c=0;c<t.length;c++)i<=(e=t[c])&&e<u&&(u=e);var f=l+1;if(u-i>x((v-o)/f))throw RangeError(b);for(o+=(u-i)*f,i=u,c=0;c<t.length;c++){if((e=t[c])<i&&++o>v)throw RangeError(b);if(e==i){for(var h=o,d=36;;d+=36){var p=d<=a?1:a+26<=d?26:d-a;if(h<p)break;var g=h-p,m=36-p;n.push(_(y(p+g%m))),h=x(g/m)}n.push(_(y(h))),a=function(t,e,n){var r=0;for(t=n?x(t/700):t>>1,t+=x(t/e);455<t;r+=36)t=x(t/35);return x(r+36*t/(t+38))}(o,f,l==s),o=0,++l}}++o,++i}return n.join("")}var v=2147483647,a=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,b="Overflow: input needs wider integers to process",x=Math.floor,_=String.fromCharCode;e.exports=function(t){for(var e,n=[],r=t.toLowerCase().replace(s,".").split("."),i=0;i<r.length;i++)e=r[i],n.push(a.test(e)?"xn--"+o(e):e);return n.join(".")}},{}],193:[function(t,e,n){"use strict";var i=t("../internals/to-integer"),o=t("../internals/require-object-coercible");e.exports="".repeat||function(t){var e=String(o(this)),n="",r=i(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}},{"../internals/require-object-coercible":179,"../internals/to-integer":201}],194:[function(t,e,n){var r=t("../internals/fails"),i=t("../internals/whitespaces");e.exports=function(t){return r(function(){return!!i[t]()||"​᠎"!="​᠎"[t]()||i[t].name!==t})}},{"../internals/fails":107,"../internals/whitespaces":215}],195:[function(t,e,n){var r=t("../internals/require-object-coercible"),t="["+t("../internals/whitespaces")+"]",i=RegExp("^"+t+t+"*"),o=RegExp(t+t+"*$"),t=function(e){return function(t){t=String(r(t));return 1&e&&(t=t.replace(i,"")),2&e&&(t=t.replace(o,"")),t}};e.exports={start:t(1),end:t(2),trim:t(3)}},{"../internals/require-object-coercible":179,"../internals/whitespaces":215}],196:[function(t,e,n){function r(t){var e;_.hasOwnProperty(t)&&(e=_[t],delete _[t],e())}function i(t){return function(){r(t)}}function o(t){r(t.data)}var a,s=t("../internals/global"),l=t("../internals/fails"),u=t("../internals/function-bind-context"),c=t("../internals/html"),f=t("../internals/document-create-element"),h=t("../internals/engine-is-ios"),d=t("../internals/engine-is-node"),p=s.location,g=s.setImmediate,m=s.clearImmediate,y=s.process,v=s.MessageChannel,b=s.Dispatch,x=0,_={},w="onreadystatechange",t=function(t){s.postMessage(t+"",p.protocol+"//"+p.host)};g&&m||(g=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return _[++x]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},a(x),x},m=function(t){delete _[t]},d?a=function(t){y.nextTick(i(t))}:b&&b.now?a=function(t){b.now(i(t))}:v&&!h?(v=(h=new v).port2,h.port1.onmessage=o,a=u(v.postMessage,v,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&p&&"file:"!==p.protocol&&!l(t)?(a=t,s.addEventListener("message",o,!1)):a=w in f("script")?function(t){c.appendChild(f("script"))[w]=function(){c.removeChild(this),r(t)}}:function(t){setTimeout(i(t),0)}),e.exports={set:g,clear:m}},{"../internals/document-create-element":99,"../internals/engine-is-ios":101,"../internals/engine-is-node":102,"../internals/fails":107,"../internals/function-bind-context":111,"../internals/global":116,"../internals/html":120}],197:[function(t,e,n){var r=t("../internals/classof-raw");e.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},{"../internals/classof-raw":82}],198:[function(t,e,n){var r=t("../internals/to-integer"),i=Math.max,o=Math.min;e.exports=function(t,e){t=r(t);return t<0?i(t+e,0):o(t,e)}},{"../internals/to-integer":201}],199:[function(t,e,n){var r=t("../internals/to-integer"),i=t("../internals/to-length");e.exports=function(t){if(void 0===t)return 0;var e=r(t),t=i(e);if(e!==t)throw RangeError("Wrong length or index");return t}},{"../internals/to-integer":201,"../internals/to-length":202}],200:[function(t,e,n){var r=t("../internals/indexed-object"),i=t("../internals/require-object-coercible");e.exports=function(t){return r(i(t))}},{"../internals/indexed-object":123,"../internals/require-object-coercible":179}],201:[function(t,e,n){var r=Math.ceil,i=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(0<t?i:r)(t)}},{}],202:[function(t,e,n){var r=t("../internals/to-integer"),i=Math.min;e.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},{"../internals/to-integer":201}],203:[function(t,e,n){var r=t("../internals/require-object-coercible");e.exports=function(t){return Object(r(t))}},{"../internals/require-object-coercible":179}],204:[function(t,e,n){var r=t("../internals/to-positive-integer");e.exports=function(t,e){t=r(t);if(t%e)throw RangeError("Wrong offset");return t}},{"../internals/to-positive-integer":205}],205:[function(t,e,n){var r=t("../internals/to-integer");e.exports=function(t){t=r(t);if(t<0)throw RangeError("The argument can't be less than 0");return t}},{"../internals/to-integer":201}],206:[function(t,e,n){var i=t("../internals/is-object");e.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":132}],207:[function(t,e,n){var r={};r[t("../internals/well-known-symbol")("toStringTag")]="z",e.exports="[object z]"===String(r)},{"../internals/well-known-symbol":214}],208:[function(t,e,n){"use strict";function d(t,e){for(var n=0,r=e.length,i=new(V(t))(r);n<r;)i[n]=e[n++];return i}function p(t){var e;return t instanceof F||"ArrayBuffer"==(e=h(t))||"SharedArrayBuffer"==e}function r(t,e){return G(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)}var s=t("../internals/export"),l=t("../internals/global"),i=t("../internals/descriptors"),g=t("../internals/typed-array-constructors-require-wrappers"),o=t("../internals/array-buffer-view-core"),a=t("../internals/array-buffer"),m=t("../internals/an-instance"),u=t("../internals/create-property-descriptor"),y=t("../internals/create-non-enumerable-property"),v=t("../internals/to-length"),b=t("../internals/to-index"),x=t("../internals/to-offset"),c=t("../internals/to-primitive"),f=t("../internals/has"),h=t("../internals/classof"),_=t("../internals/is-object"),w=t("../internals/object-create"),k=t("../internals/object-set-prototype-of"),T=t("../internals/object-get-own-property-names").f,M=t("../internals/typed-array-from"),A=t("../internals/array-iteration").forEach,S=t("../internals/set-species"),E=t("../internals/object-define-property"),C=t("../internals/object-get-own-property-descriptor"),O=t("../internals/internal-state"),j=t("../internals/inherit-if-required"),P=O.get,N=O.set,L=E.f,R=C.f,D=Math.round,I=l.RangeError,F=a.ArrayBuffer,z=a.DataView,B=o.NATIVE_ARRAY_BUFFER_VIEWS,U=o.TYPED_ARRAY_TAG,H=o.TypedArray,q=o.TypedArrayPrototype,V=o.aTypedArrayConstructor,G=o.isTypedArray,W="BYTES_PER_ELEMENT",Y="Wrong length",O=function(t,e){L(t,e,{get:function(){return P(this)[e]}})},a=function(t,e){return r(t,e=c(e,!0))?u(2,t[e]):R(t,e)},o=function(t,e,n){return!(r(t,e=c(e,!0))&&_(n)&&f(n,"value"))||f(n,"get")||f(n,"set")||n.configurable||f(n,"writable")&&!n.writable||f(n,"enumerable")&&!n.enumerable?L(t,e,n):(t[e]=n.value,t)};i?(B||(C.f=a,E.f=o,O(q,"buffer"),O(q,"byteOffset"),O(q,"byteLength"),O(q,"length")),s({target:"Object",stat:!0,forced:!B},{getOwnPropertyDescriptor:a,defineProperty:o}),e.exports=function(t,e,r){function u(t,e){L(t,e,{get:function(){return function(t,e){t=P(t);return t.view[n](e*c+t.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){t=P(t);r&&(n=(n=D(n))<0?0:255<n?255:255&n),t.view[i](e*c+t.byteOffset,n,!0)}(this,e,t)},enumerable:!0})}var c=t.match(/\d+$/)[0]/8,f=t+(r?"Clamped":"")+"Array",n="get"+t,i="set"+t,o=l[f],h=o,a=h&&h.prototype,t={};B?g&&(h=e(function(t,e,n,r){return m(t,h,f),j(_(e)?p(e)?void 0!==r?new o(e,x(n,c),r):void 0!==n?new o(e,x(n,c)):new o(e):G(e)?d(h,e):M.call(h,e):new o(b(e)),t,h)}),k&&k(h,H),A(T(o),function(t){t in h||y(h,t,o[t])}),h.prototype=a):(h=e(function(t,e,n,r){m(t,h,f);var i,o,a,s=0,l=0;if(_(e)){if(!p(e))return G(e)?d(h,e):M.call(h,e);i=e,l=x(n,c);n=e.byteLength;if(void 0===r){if(n%c)throw I(Y);if((o=n-l)<0)throw I(Y)}else if(n<(o=v(r)*c)+l)throw I(Y);a=o/c}else a=b(e),i=new F(o=a*c);for(N(t,{buffer:i,byteOffset:l,byteLength:o,length:a,view:new z(i)});s<a;)u(t,s++)}),k&&k(h,H),a=h.prototype=w(q)),a.constructor!==h&&y(a,"constructor",h),U&&y(a,U,f),t[f]=h,s({global:!0,forced:h!=o,sham:!B},t),W in h||y(h,W,c),W in a||y(a,W,c),S(f)}):e.exports=function(){}},{"../internals/an-instance":63,"../internals/array-buffer":67,"../internals/array-buffer-view-core":66,"../internals/array-iteration":73,"../internals/classof":83,"../internals/create-non-enumerable-property":92,"../internals/create-property-descriptor":93,"../internals/descriptors":98,"../internals/export":106,"../internals/global":116,"../internals/has":117,"../internals/inherit-if-required":124,"../internals/internal-state":127,"../internals/is-object":132,"../internals/object-create":154,"../internals/object-define-property":156,"../internals/object-get-own-property-descriptor":157,"../internals/object-get-own-property-names":159,"../internals/object-set-prototype-of":166,"../internals/set-species":182,"../internals/to-index":199,"../internals/to-length":202,"../internals/to-offset":204,"../internals/to-primitive":206,"../internals/typed-array-constructors-require-wrappers":209,"../internals/typed-array-from":210}],209:[function(t,e,n){var r=t("../internals/global"),i=t("../internals/fails"),o=t("../internals/check-correctness-of-iteration"),t=t("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,a=r.ArrayBuffer,s=r.Int8Array;e.exports=!t||!i(function(){s(1)})||!i(function(){new s(-1)})||!o(function(t){new s,new s(null),new s(1.5),new s(t)},!0)||i(function(){return 1!==new s(new a(2),1,void 0).length})},{"../internals/array-buffer-view-core":66,"../internals/check-correctness-of-iteration":81,"../internals/fails":107,"../internals/global":116}],210:[function(t,e,n){var p=t("../internals/to-object"),g=t("../internals/to-length"),m=t("../internals/get-iterator-method"),y=t("../internals/is-array-iterator-method"),v=t("../internals/function-bind-context"),b=t("../internals/array-buffer-view-core").aTypedArrayConstructor;e.exports=function(t,e,n){var r,i,o,a,s,l,u=p(t),c=arguments.length,f=1<c?e:void 0,h=void 0!==f,d=m(u);if(null!=d&&!y(d))for(l=(s=d.call(u)).next,u=[];!(a=l.call(s)).done;)u.push(a.value);for(h&&2<c&&(f=v(f,n,2)),i=g(u.length),o=new(b(this))(i),r=0;r<i;r++)o[r]=h?f(u[r],r):u[r];return o}},{"../internals/array-buffer-view-core":66,"../internals/function-bind-context":111,"../internals/get-iterator-method":114,"../internals/is-array-iterator-method":128,"../internals/to-length":202,"../internals/to-object":203}],211:[function(t,e,n){var r=0,i=Math.random();e.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+i).toString(36)}},{}],212:[function(t,e,n){t=t("../internals/native-symbol");e.exports=t&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":145}],213:[function(t,e,n){t=t("../internals/well-known-symbol");n.f=t},{"../internals/well-known-symbol":214}],214:[function(t,e,n){var r=t("../internals/global"),i=t("../internals/shared"),o=t("../internals/has"),a=t("../internals/uid"),s=t("../internals/native-symbol"),t=t("../internals/use-symbol-as-uid"),l=i("wks"),u=r.Symbol,c=t?u:u&&u.withoutSetter||a;e.exports=function(t){return o(l,t)||(s&&o(u,t)?l[t]=u[t]:l[t]=c("Symbol."+t)),l[t]}},{"../internals/global":116,"../internals/has":117,"../internals/native-symbol":145,"../internals/shared":186,"../internals/uid":211,"../internals/use-symbol-as-uid":212}],215:[function(t,e,n){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},{}],216:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/global"),o=t("../internals/array-buffer"),a=t("../internals/set-species"),t="ArrayBuffer",o=o[t];r({global:!0,forced:i[t]!==o},{ArrayBuffer:o}),a(t)},{"../internals/array-buffer":67,"../internals/export":106,"../internals/global":116,"../internals/set-species":182}],217:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/fails"),l=t("../internals/is-array"),u=t("../internals/is-object"),c=t("../internals/to-object"),f=t("../internals/to-length"),h=t("../internals/create-property"),d=t("../internals/array-species-create"),o=t("../internals/array-method-has-species-support"),a=t("../internals/well-known-symbol"),t=t("../internals/engine-v8-version"),p=a("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",i=51<=t||!i(function(){var t=[];return t[p]=!1,t.concat()[0]!==t}),o=o("concat");r({target:"Array",proto:!0,forced:!i||!o},{concat:function(){for(var t,e,n,r=c(this),i=d(r,0),o=0,a=-1,s=arguments.length;a<s;a++)if(function(t){if(!u(t))return!1;var e=t[p];return void 0!==e?!!e:l(t)}(n=-1===a?r:arguments[a])){if(e=f(n.length),g<o+e)throw TypeError(m);for(t=0;t<e;t++,o++)t in n&&h(i,o,n[t])}else{if(g<=o)throw TypeError(m);h(i,o++,n)}return i.length=o,i}})},{"../internals/array-method-has-species-support":75,"../internals/array-species-create":79,"../internals/create-property":94,"../internals/engine-v8-version":104,"../internals/export":106,"../internals/fails":107,"../internals/is-array":129,"../internals/is-object":132,"../internals/to-length":202,"../internals/to-object":203,"../internals/well-known-symbol":214}],218:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/array-copy-within"),t=t("../internals/add-to-unscopables");r({target:"Array",proto:!0},{copyWithin:i}),t("copyWithin")},{"../internals/add-to-unscopables":61,"../internals/array-copy-within":68,"../internals/export":106}],219:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/array-iteration").every,o=t("../internals/array-method-is-strict"),t=t("../internals/array-method-uses-to-length"),o=o("every"),t=t("every");r({target:"Array",proto:!0,forced:!o||!t},{every:function(t,e){return i(this,t,1<arguments.length?e:void 0)}})},{"../internals/array-iteration":73,"../internals/array-method-is-strict":76,"../internals/array-method-uses-to-length":77,"../internals/export":106}],220:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/array-fill"),t=t("../internals/add-to-unscopables");r({target:"Array",proto:!0},{fill:i}),t("fill")},{"../internals/add-to-unscopables":61,"../internals/array-fill":69,"../internals/export":106}],221:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/array-iteration").filter,o=t("../internals/array-method-has-species-support"),t=t("../internals/array-method-uses-to-length"),o=o("filter"),t=t("filter");r({target:"Array",proto:!0,forced:!o||!t},{filter:function(t,e){return i(this,t,1<arguments.length?e:void 0)}})},{"../internals/array-iteration":73,"../internals/array-method-has-species-support":75,"../internals/array-method-uses-to-length":77,"../internals/export":106}],222:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/array-iteration").findIndex,o=t("../internals/add-to-unscopables"),a=t("../internals/array-method-uses-to-length"),t="findIndex",s=!0,a=a(t);t in[]&&Array(1)[t](function(){s=!1}),r({target:"Array",proto:!0,forced:s||!a},{findIndex:function(t,e){return i(this,t,1<arguments.length?e:void 0)}}),o(t)},{"../internals/add-to-unscopables":61,"../internals/array-iteration":73,"../internals/array-method-uses-to-length":77,"../internals/export":106}],223:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/array-iteration").find,o=t("../internals/add-to-unscopables"),a=t("../internals/array-method-uses-to-length"),t="find",s=!0,a=a(t);t in[]&&Array(1).find(function(){s=!1}),r({target:"Array",proto:!0,forced:s||!a},{find:function(t,e){return i(this,t,1<arguments.length?e:void 0)}}),o(t)},{"../internals/add-to-unscopables":61,"../internals/array-iteration":73,"../internals/array-method-uses-to-length":77,"../internals/export":106}],224:[function(t,e,n){"use strict";var r=t("../internals/export"),o=t("../internals/flatten-into-array"),a=t("../internals/to-object"),s=t("../internals/to-length"),l=t("../internals/a-function"),u=t("../internals/array-species-create");r({target:"Array",proto:!0},{flatMap:function(t,e){var n,r=a(this),i=s(r.length);return l(t),(n=u(r,0)).length=o(n,r,r,i,0,1,t,1<arguments.length?e:void 0),n}})},{"../internals/a-function":59,"../internals/array-species-create":79,"../internals/export":106,"../internals/flatten-into-array":109,"../internals/to-length":202,"../internals/to-object":203}],225:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/flatten-into-array"),o=t("../internals/to-object"),a=t("../internals/to-length"),s=t("../internals/to-integer"),l=t("../internals/array-species-create");r({target:"Array",proto:!0},{flat:function(t){var e=arguments.length?t:void 0,n=o(this),r=a(n.length),t=l(n,0);return t.length=i(t,n,n,r,0,void 0===e?1:s(e)),t}})},{"../internals/array-species-create":79,"../internals/export":106,"../internals/flatten-into-array":109,"../internals/to-integer":201,"../internals/to-length":202,"../internals/to-object":203}],226:[function(t,e,n){"use strict";var r=t("../internals/export"),t=t("../internals/array-for-each");r({target:"Array",proto:!0,forced:[].forEach!=t},{forEach:t})},{"../internals/array-for-each":70,"../internals/export":106}],227:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/array-from");r({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(t){Array.from(t)})},{from:i})},{"../internals/array-from":71,"../internals/check-correctness-of-iteration":81,"../internals/export":106}],228:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/array-includes").includes,o=t("../internals/add-to-unscopables");r({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t,e){return i(this,t,1<arguments.length?e:void 0)}}),o("includes")},{"../internals/add-to-unscopables":61,"../internals/array-includes":72,"../internals/array-method-uses-to-length":77,"../internals/export":106}],229:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/array-includes").indexOf,o=t("../internals/array-method-is-strict"),t=t("../internals/array-method-uses-to-length"),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,o=o("indexOf"),t=t("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:s||!o||!t},{indexOf:function(t,e){return s?a.apply(this,arguments)||0:i(this,t,1<arguments.length?e:void 0)}})},{"../internals/array-includes":72,"../internals/array-method-is-strict":76,"../internals/array-method-uses-to-length":77,"../internals/export":106}],230:[function(t,e,n){"use strict";var r=t("../internals/to-indexed-object"),i=t("../internals/add-to-unscopables"),o=t("../internals/iterators"),a=t("../internals/internal-state"),t=t("../internals/define-iterator"),s="Array Iterator",l=a.set,u=a.getterFor(s);e.exports=t(Array,"Array",function(t,e){l(this,{type:s,target:r(t),index:0,kind:e})},function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},{"../internals/add-to-unscopables":61,"../internals/define-iterator":96,"../internals/internal-state":127,"../internals/iterators":138,"../internals/to-indexed-object":200}],231:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/indexed-object"),o=t("../internals/to-indexed-object"),t=t("../internals/array-method-is-strict"),a=[].join,i=i!=Object,t=t("join",",");r({target:"Array",proto:!0,forced:i||!t},{join:function(t){return a.call(o(this),void 0===t?",":t)}})},{"../internals/array-method-is-strict":76,"../internals/export":106,"../internals/indexed-object":123,"../internals/to-indexed-object":200}],232:[function(t,e,n){var r=t("../internals/export"),t=t("../internals/array-last-index-of");r({target:"Array",proto:!0,forced:t!==[].lastIndexOf},{lastIndexOf:t})},{"../internals/array-last-index-of":74,"../internals/export":106}],233:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/array-iteration").map,o=t("../internals/array-method-has-species-support"),t=t("../internals/array-method-uses-to-length"),o=o("map"),t=t("map");r({target:"Array",proto:!0,forced:!o||!t},{map:function(t,e){return i(this,t,1<arguments.length?e:void 0)}})},{"../internals/array-iteration":73,"../internals/array-method-has-species-support":75,"../internals/array-method-uses-to-length":77,"../internals/export":106}],234:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/fails"),o=t("../internals/create-property");r({target:"Array",stat:!0,forced:i(function(){function t(){}return!(Array.of.call(t)instanceof t)})},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);t<e;)o(n,t,arguments[t++]);return n.length=e,n}})},{"../internals/create-property":94,"../internals/export":106,"../internals/fails":107}],235:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/array-reduce").right,o=t("../internals/array-method-is-strict"),a=t("../internals/array-method-uses-to-length"),s=t("../internals/engine-v8-version"),t=t("../internals/engine-is-node"),o=o("reduceRight"),a=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!o||!a||!t&&79<s&&s<83},{reduceRight:function(t,e){return i(this,t,arguments.length,1<arguments.length?e:void 0)}})},{"../internals/array-method-is-strict":76,"../internals/array-method-uses-to-length":77,"../internals/array-reduce":78,"../internals/engine-is-node":102,"../internals/engine-v8-version":104,"../internals/export":106}],236:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/array-reduce").left,o=t("../internals/array-method-is-strict"),a=t("../internals/array-method-uses-to-length"),s=t("../internals/engine-v8-version"),t=t("../internals/engine-is-node"),o=o("reduce"),a=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!o||!a||!t&&79<s&&s<83},{reduce:function(t,e){return i(this,t,arguments.length,1<arguments.length?e:void 0)}})},{"../internals/array-method-is-strict":76,"../internals/array-method-uses-to-length":77,"../internals/array-reduce":78,"../internals/engine-is-node":102,"../internals/engine-v8-version":104,"../internals/export":106}],237:[function(t,e,n){"use strict";var r=t("../internals/export"),u=t("../internals/is-object"),c=t("../internals/is-array"),f=t("../internals/to-absolute-index"),h=t("../internals/to-length"),d=t("../internals/to-indexed-object"),p=t("../internals/create-property"),i=t("../internals/well-known-symbol"),o=t("../internals/array-method-has-species-support"),t=t("../internals/array-method-uses-to-length"),o=o("slice"),t=t("slice",{ACCESSORS:!0,0:0,1:2}),g=i("species"),m=[].slice,y=Math.max;r({target:"Array",proto:!0,forced:!o||!t},{slice:function(t,e){var n,r,i,o=d(this),a=h(o.length),s=f(t,a),l=f(void 0===e?a:e,a);if(c(o)&&(("function"==typeof(n=o.constructor)&&(n===Array||c(n.prototype))||u(n)&&null===(n=n[g]))&&(n=void 0),n===Array||void 0===n))return m.call(o,s,l);for(r=new(void 0===n?Array:n)(y(l-s,0)),i=0;s<l;s++,i++)s in o&&p(r,i,o[s]);return r.length=i,r}})},{"../internals/array-method-has-species-support":75,"../internals/array-method-uses-to-length":77,"../internals/create-property":94,"../internals/export":106,"../internals/is-array":129,"../internals/is-object":132,"../internals/to-absolute-index":198,"../internals/to-indexed-object":200,"../internals/to-length":202,"../internals/well-known-symbol":214}],238:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/array-iteration").some,o=t("../internals/array-method-is-strict"),t=t("../internals/array-method-uses-to-length"),o=o("some"),t=t("some");r({target:"Array",proto:!0,forced:!o||!t},{some:function(t,e){return i(this,t,1<arguments.length?e:void 0)}})},{"../internals/array-iteration":73,"../internals/array-method-is-strict":76,"../internals/array-method-uses-to-length":77,"../internals/export":106}],239:[function(t,e,n){t("../internals/set-species")("Array")},{"../internals/set-species":182}],240:[function(t,e,n){"use strict";var r=t("../internals/export"),f=t("../internals/to-absolute-index"),h=t("../internals/to-integer"),d=t("../internals/to-length"),p=t("../internals/to-object"),g=t("../internals/array-species-create"),m=t("../internals/create-property"),i=t("../internals/array-method-has-species-support"),t=t("../internals/array-method-uses-to-length"),i=i("splice"),t=t("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!i||!t},{splice:function(t,e){var n,r,i,o,a,s,l=p(this),u=d(l.length),c=f(t,u),t=arguments.length;if(0===t?n=r=0:r=1===t?(n=0,u-c):(n=t-2,v(y(h(e),0),u-c)),9007199254740991<u+n-r)throw TypeError("Maximum allowed length exceeded");for(i=g(l,r),o=0;o<r;o++)(a=c+o)in l&&m(i,o,l[a]);if(n<(i.length=r)){for(o=c;o<u-r;o++)s=o+n,(a=o+r)in l?l[s]=l[a]:delete l[s];for(o=u;u-r+n<o;o--)delete l[o-1]}else if(r<n)for(o=u-r;c<o;o--)s=o+n-1,(a=o+r-1)in l?l[s]=l[a]:delete l[s];for(o=0;o<n;o++)l[o+c]=arguments[o+2];return l.length=u-r+n,i}})},{"../internals/array-method-has-species-support":75,"../internals/array-method-uses-to-length":77,"../internals/array-species-create":79,"../internals/create-property":94,"../internals/export":106,"../internals/to-absolute-index":198,"../internals/to-integer":201,"../internals/to-length":202,"../internals/to-object":203}],241:[function(t,e,n){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":61}],242:[function(t,e,n){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":61}],243:[function(t,e,n){var r=t("../internals/create-non-enumerable-property"),i=t("../internals/date-to-primitive"),o=t("../internals/well-known-symbol")("toPrimitive"),t=Date.prototype;o in t||r(t,o,i)},{"../internals/create-non-enumerable-property":92,"../internals/date-to-primitive":95,"../internals/well-known-symbol":214}],244:[function(t,e,n){"use strict";var r=t("../internals/is-object"),i=t("../internals/object-define-property"),o=t("../internals/object-get-prototype-of"),a=t("../internals/well-known-symbol")("hasInstance"),t=Function.prototype;a in t||i.f(t,a,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0;return!1}})},{"../internals/is-object":132,"../internals/object-define-property":156,"../internals/object-get-prototype-of":161,"../internals/well-known-symbol":214}],245:[function(t,e,n){var r=t("../internals/descriptors"),i=t("../internals/object-define-property").f,t=Function.prototype,o=t.toString,a=/^\s*function ([^ (]*)/;!r||"name"in t||i(t,"name",{configurable:!0,get:function(){try{return o.call(this).match(a)[1]}catch(t){return""}}})},{"../internals/descriptors":98,"../internals/object-define-property":156}],246:[function(t,e,n){var r=t("../internals/global");t("../internals/set-to-string-tag")(r.JSON,"JSON",!0)},{"../internals/global":116,"../internals/set-to-string-tag":183}],247:[function(t,e,n){"use strict";var r=t("../internals/collection"),t=t("../internals/collection-strong");e.exports=r("Map",function(e){return function(t){return e(this,arguments.length?t:void 0)}},t)},{"../internals/collection":86,"../internals/collection-strong":84}],248:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/math-log1p"),t=Math.acosh,o=Math.log,a=Math.sqrt,s=Math.LN2;r({target:"Math",stat:!0,forced:!t||710!=Math.floor(t(Number.MAX_VALUE))||t(1/0)!=1/0},{acosh:function(t){return(t=+t)<1?NaN:94906265.62425156<t?o(t)+s:i(t-1+a(t-1)*a(t+1))}})},{"../internals/export":106,"../internals/math-log1p":141}],249:[function(t,e,n){var r=t("../internals/export"),t=Math.asinh,i=Math.log,o=Math.sqrt;r({target:"Math",stat:!0,forced:!(t&&0<1/t(0))},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):i(e+o(e*e+1)):e}})},{"../internals/export":106}],250:[function(t,e,n){var r=t("../internals/export"),t=Math.atanh,i=Math.log;r({target:"Math",stat:!0,forced:!(t&&1/t(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:i((1+t)/(1-t))/2}})},{"../internals/export":106}],251:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/math-sign"),o=Math.abs,a=Math.pow;r({target:"Math",stat:!0},{cbrt:function(t){return i(t=+t)*a(o(t),1/3)}})},{"../internals/export":106,"../internals/math-sign":142}],252:[function(t,e,n){var t=t("../internals/export"),r=Math.floor,i=Math.log,o=Math.LOG2E;t({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-r(i(t+.5)*o):32}})},{"../internals/export":106}],253:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/math-expm1"),t=Math.cosh,o=Math.abs,a=Math.E;r({target:"Math",stat:!0,forced:!t||t(710)===1/0},{cosh:function(t){t=i(o(t)-1)+1;return(t+1/(t*a*a))*(a/2)}})},{"../internals/export":106,"../internals/math-expm1":139}],254:[function(t,e,n){var r=t("../internals/export"),t=t("../internals/math-expm1");r({target:"Math",stat:!0,forced:t!=Math.expm1},{expm1:t})},{"../internals/export":106,"../internals/math-expm1":139}],255:[function(t,e,n){t("../internals/export")({target:"Math",stat:!0},{fround:t("../internals/math-fround")})},{"../internals/export":106,"../internals/math-fround":140}],256:[function(t,e,n){var r=t("../internals/export"),t=Math.hypot,l=Math.abs,u=Math.sqrt;r({target:"Math",stat:!0,forced:!!t&&t(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,i=0,o=0,a=arguments.length,s=0;o<a;)s<(n=l(arguments[o++]))?(i=i*(r=s/n)*r+1,s=n):i+=0<n?(r=n/s)*r:n;return s===1/0?1/0:s*u(i)}})},{"../internals/export":106}],257:[function(t,e,n){var r=t("../internals/export"),t=t("../internals/fails"),i=Math.imul;r({target:"Math",stat:!0,forced:t(function(){return-5!=i(4294967295,5)||2!=i.length})},{imul:function(t,e){var n=+t,r=+e,t=65535&n,e=65535&r;return 0|t*e+((65535&n>>>16)*e+t*(65535&r>>>16)<<16>>>0)}})},{"../internals/export":106,"../internals/fails":107}],258:[function(t,e,n){var t=t("../internals/export"),r=Math.log,i=Math.LOG10E;t({target:"Math",stat:!0},{log10:function(t){return r(t)*i}})},{"../internals/export":106}],259:[function(t,e,n){t("../internals/export")({target:"Math",stat:!0},{log1p:t("../internals/math-log1p")})},{"../internals/export":106,"../internals/math-log1p":141}],260:[function(t,e,n){var t=t("../internals/export"),r=Math.log,i=Math.LN2;t({target:"Math",stat:!0},{log2:function(t){return r(t)/i}})},{"../internals/export":106}],261:[function(t,e,n){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":106,"../internals/math-sign":142}],262:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/fails"),o=t("../internals/math-expm1"),a=Math.abs,s=Math.exp,l=Math.E;r({target:"Math",stat:!0,forced:i(function(){return-2e-17!=Math.sinh(-2e-17)})},{sinh:function(t){return a(t=+t)<1?(o(t)-o(-t))/2:(s(t-1)-s(-t-1))*(l/2)}})},{"../internals/export":106,"../internals/fails":107,"../internals/math-expm1":139}],263:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/math-expm1"),o=Math.exp;r({target:"Math",stat:!0},{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},{"../internals/export":106,"../internals/math-expm1":139}],264:[function(t,e,n){t("../internals/set-to-string-tag")(Math,"Math",!0)},{"../internals/set-to-string-tag":183}],265:[function(t,e,n){var t=t("../internals/export"),r=Math.ceil,i=Math.floor;t({target:"Math",stat:!0},{trunc:function(t){return(0<t?i:r)(t)}})},{"../internals/export":106}],266:[function(t,e,n){"use strict";function r(t){var e,n,r,i,o,a,s,l=f(t,!1);if("string"==typeof l&&2<l.length)if(43===(e=(l=y(l)).charCodeAt(0))||45===e){if(88===(t=l.charCodeAt(2))||120===t)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(o=(i=l.slice(2)).length,a=0;a<o;a++)if((s=i.charCodeAt(a))<48||r<s)return NaN;return parseInt(i,n)}return+l}var i=t("../internals/descriptors"),o=t("../internals/global"),a=t("../internals/is-forced"),s=t("../internals/redefine"),l=t("../internals/has"),u=t("../internals/classof-raw"),c=t("../internals/inherit-if-required"),f=t("../internals/to-primitive"),h=t("../internals/fails"),d=t("../internals/object-create"),p=t("../internals/object-get-own-property-names").f,g=t("../internals/object-get-own-property-descriptor").f,m=t("../internals/object-define-property").f,y=t("../internals/string-trim").trim,v="Number",b=o[v],x=b.prototype,_=u(d(x))==v;if(a(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var w,k=function(t){var t=arguments.length<1?0:t,e=this;return e instanceof k&&(_?h(function(){x.valueOf.call(e)}):u(e)!=v)?c(new b(r(t)),e,k):r(t)},T=i?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),M=0;T.length>M;M++)l(b,w=T[M])&&!l(k,w)&&m(k,w,g(b,w));(k.prototype=x).constructor=k,s(o,v,k)}},{"../internals/classof-raw":82,"../internals/descriptors":98,"../internals/fails":107,"../internals/global":116,"../internals/has":117,"../internals/inherit-if-required":124,"../internals/is-forced":130,"../internals/object-create":154,"../internals/object-define-property":156,"../internals/object-get-own-property-descriptor":157,"../internals/object-get-own-property-names":159,"../internals/redefine":174,"../internals/string-trim":195,"../internals/to-primitive":206}],267:[function(t,e,n){t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":106}],268:[function(t,e,n){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":106,"../internals/number-is-finite":150}],269:[function(t,e,n){t("../internals/export")({target:"Number",stat:!0},{isInteger:t("../internals/is-integer")})},{"../internals/export":106,"../internals/is-integer":131}],270:[function(t,e,n){t("../internals/export")({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},{"../internals/export":106}],271:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/is-integer"),o=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},{"../internals/export":106,"../internals/is-integer":131}],272:[function(t,e,n){t("../internals/export")({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},{"../internals/export":106}],273:[function(t,e,n){t("../internals/export")({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},{"../internals/export":106}],274:[function(t,e,n){var r=t("../internals/export"),t=t("../internals/number-parse-float");r({target:"Number",stat:!0,forced:Number.parseFloat!=t},{parseFloat:t})},{"../internals/export":106,"../internals/number-parse-float":151}],275:[function(t,e,n){var r=t("../internals/export"),t=t("../internals/number-parse-int");r({target:"Number",stat:!0,forced:Number.parseInt!=t},{parseInt:t})},{"../internals/export":106,"../internals/number-parse-int":152}],276:[function(t,e,n){"use strict";var r=t("../internals/export"),c=t("../internals/to-integer"),f=t("../internals/this-number-value"),h=t("../internals/string-repeat"),t=t("../internals/fails"),i=1..toFixed,d=Math.floor,p=function(t,e,n){return 0===e?n:e%2==1?p(t,e-1,n*t):p(t*t,e/2,n)};r({target:"Number",proto:!0,forced:i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0))||!t(function(){i.call({})})},{toFixed:function(t){function e(t,e){for(var n=-1,r=e;++n<6;)r+=t*a[n],a[n]=r%1e7,r=d(r/1e7)}function n(t){for(var e=6,n=0;0<=--e;)n+=a[e],a[e]=d(n/t),n=n%t*1e7}var r,i=f(this),o=c(t),a=[0,0,0,0,0,0],s="",l="0",u=function(){for(var t,e=6,n="";0<=--e;)""===n&&0!==e&&0===a[e]||(t=String(a[e]),n=""===n?t:n+h.call("0",7-t.length)+t);return n};if(o<0||20<o)throw RangeError("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||1e21<=i)return String(i);if(i<0&&(s="-",i=-i),1e-21<i)if(i=(t=function(t){for(var e=0,n=t;4096<=n;)e+=12,n/=4096;for(;2<=n;)e+=1,n/=2;return e}(i*p(2,69,1))-69)<0?i*p(2,-t,1):i/p(2,t,1),i*=4503599627370496,0<(t=52-t)){for(e(0,i),r=o;7<=r;)e(1e7,0),r-=7;for(e(p(10,r,1),0),r=t-1;23<=r;)n(1<<23),r-=23;n(1<<r),e(1,1),n(2),l=u()}else e(0,i),e(1<<-t,0),l=u()+h.call("0",o);return l=0<o?s+((u=l.length)<=o?"0."+h.call("0",o-u)+l:l.slice(0,u-o)+"."+l.slice(u-o)):s+l}})},{"../internals/export":106,"../internals/fails":107,"../internals/string-repeat":193,"../internals/this-number-value":197,"../internals/to-integer":201}],277:[function(t,e,n){var r=t("../internals/export"),t=t("../internals/object-assign");r({target:"Object",stat:!0,forced:Object.assign!==t},{assign:t})},{"../internals/export":106,"../internals/object-assign":153}],278:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/descriptors"),o=t("../internals/object-prototype-accessors-forced"),a=t("../internals/to-object"),s=t("../internals/a-function"),l=t("../internals/object-define-property");i&&r({target:"Object",proto:!0,forced:o},{__defineGetter__:function(t,e){l.f(a(this),t,{get:s(e),enumerable:!0,configurable:!0})}})},{"../internals/a-function":59,"../internals/descriptors":98,"../internals/export":106,"../internals/object-define-property":156,"../internals/object-prototype-accessors-forced":165,"../internals/to-object":203}],279:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/descriptors"),o=t("../internals/object-prototype-accessors-forced"),a=t("../internals/to-object"),s=t("../internals/a-function"),l=t("../internals/object-define-property");i&&r({target:"Object",proto:!0,forced:o},{__defineSetter__:function(t,e){l.f(a(this),t,{set:s(e),enumerable:!0,configurable:!0})}})},{"../internals/a-function":59,"../internals/descriptors":98,"../internals/export":106,"../internals/object-define-property":156,"../internals/object-prototype-accessors-forced":165,"../internals/to-object":203}],280:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/object-to-array").entries;r({target:"Object",stat:!0},{entries:function(t){return i(t)}})},{"../internals/export":106,"../internals/object-to-array":167}],281:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/freezing"),o=t("../internals/fails"),a=t("../internals/is-object"),s=t("../internals/internal-metadata").onFreeze,l=Object.freeze;r({target:"Object",stat:!0,forced:o(function(){l(1)}),sham:!i},{freeze:function(t){return l&&a(t)?l(s(t)):t}})},{"../internals/export":106,"../internals/fails":107,"../internals/freezing":110,"../internals/internal-metadata":126,"../internals/is-object":132}],282:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/iterate"),o=t("../internals/create-property");r({target:"Object",stat:!0},{fromEntries:function(t){var n={};return i(t,function(t,e){o(n,t,e)},{AS_ENTRIES:!0}),n}})},{"../internals/create-property":94,"../internals/export":106,"../internals/iterate":135}],283:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/fails"),o=t("../internals/to-indexed-object"),a=t("../internals/object-get-own-property-descriptor").f,t=t("../internals/descriptors"),i=i(function(){a(1)});r({target:"Object",stat:!0,forced:!t||i,sham:!t},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},{"../internals/descriptors":98,"../internals/export":106,"../internals/fails":107,"../internals/object-get-own-property-descriptor":157,"../internals/to-indexed-object":200}],284:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/descriptors"),l=t("../internals/own-keys"),u=t("../internals/to-indexed-object"),c=t("../internals/object-get-own-property-descriptor"),f=t("../internals/create-property");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,n,r=u(t),i=c.f,o=l(r),a={},s=0;o.length>s;)void 0!==(n=i(r,e=o[s++]))&&f(a,e,n);return a}})},{"../internals/create-property":94,"../internals/descriptors":98,"../internals/export":106,"../internals/object-get-own-property-descriptor":157,"../internals/own-keys":169,"../internals/to-indexed-object":200}],285:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/fails"),t=t("../internals/object-get-own-property-names-external").f;r({target:"Object",stat:!0,forced:i(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:t})},{"../internals/export":106,"../internals/fails":107,"../internals/object-get-own-property-names-external":158}],286:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/fails"),o=t("../internals/to-object"),a=t("../internals/object-get-prototype-of"),t=t("../internals/correct-prototype-getter");r({target:"Object",stat:!0,forced:i(function(){a(1)}),sham:!t},{getPrototypeOf:function(t){return a(o(t))}})},{"../internals/correct-prototype-getter":89,"../internals/export":106,"../internals/fails":107,"../internals/object-get-prototype-of":161,"../internals/to-object":203}],287:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/fails"),o=t("../internals/is-object"),a=Object.isExtensible;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isExtensible:function(t){return!!o(t)&&(!a||a(t))}})},{"../internals/export":106,"../internals/fails":107,"../internals/is-object":132}],288:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/fails"),o=t("../internals/is-object"),a=Object.isFrozen;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isFrozen:function(t){return!o(t)||!!a&&a(t)}})},{"../internals/export":106,"../internals/fails":107,"../internals/is-object":132}],289:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/fails"),o=t("../internals/is-object"),a=Object.isSealed;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isSealed:function(t){return!o(t)||!!a&&a(t)}})},{"../internals/export":106,"../internals/fails":107,"../internals/is-object":132}],290:[function(t,e,n){t("../internals/export")({target:"Object",stat:!0},{is:t("../internals/same-value")})},{"../internals/export":106,"../internals/same-value":180}],291:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/to-object"),o=t("../internals/object-keys");r({target:"Object",stat:!0,forced:t("../internals/fails")(function(){o(1)})},{keys:function(t){return o(i(t))}})},{"../internals/export":106,"../internals/fails":107,"../internals/object-keys":163,"../internals/to-object":203}],292:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/descriptors"),o=t("../internals/object-prototype-accessors-forced"),a=t("../internals/to-object"),s=t("../internals/to-primitive"),l=t("../internals/object-get-prototype-of"),u=t("../internals/object-get-own-property-descriptor").f;i&&r({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(t){var e,n=a(this),r=s(t,!0);do{if(e=u(n,r))return e.get}while(n=l(n))}})},{"../internals/descriptors":98,"../internals/export":106,"../internals/object-get-own-property-descriptor":157,"../internals/object-get-prototype-of":161,"../internals/object-prototype-accessors-forced":165,"../internals/to-object":203,"../internals/to-primitive":206}],293:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/descriptors"),o=t("../internals/object-prototype-accessors-forced"),a=t("../internals/to-object"),s=t("../internals/to-primitive"),l=t("../internals/object-get-prototype-of"),u=t("../internals/object-get-own-property-descriptor").f;i&&r({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(t){var e,n=a(this),r=s(t,!0);do{if(e=u(n,r))return e.set}while(n=l(n))}})},{"../internals/descriptors":98,"../internals/export":106,"../internals/object-get-own-property-descriptor":157,"../internals/object-get-prototype-of":161,"../internals/object-prototype-accessors-forced":165,"../internals/to-object":203,"../internals/to-primitive":206}],294:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/is-object"),o=t("../internals/internal-metadata").onFreeze,a=t("../internals/freezing"),t=t("../internals/fails"),s=Object.preventExtensions;r({target:"Object",stat:!0,forced:t(function(){s(1)}),sham:!a},{preventExtensions:function(t){return s&&i(t)?s(o(t)):t}})},{"../internals/export":106,"../internals/fails":107,"../internals/freezing":110,"../internals/internal-metadata":126,"../internals/is-object":132}],295:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/is-object"),o=t("../internals/internal-metadata").onFreeze,a=t("../internals/freezing"),t=t("../internals/fails"),s=Object.seal;r({target:"Object",stat:!0,forced:t(function(){s(1)}),sham:!a},{seal:function(t){return s&&i(t)?s(o(t)):t}})},{"../internals/export":106,"../internals/fails":107,"../internals/freezing":110,"../internals/internal-metadata":126,"../internals/is-object":132}],296:[function(t,e,n){var r=t("../internals/to-string-tag-support"),i=t("../internals/redefine"),t=t("../internals/object-to-string");r||i(Object.prototype,"toString",t,{unsafe:!0})},{"../internals/object-to-string":168,"../internals/redefine":174,"../internals/to-string-tag-support":207}],297:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/object-to-array").values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},{"../internals/export":106,"../internals/object-to-array":167}],298:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/is-pure"),o=t("../internals/native-promise-constructor"),a=t("../internals/fails"),s=t("../internals/get-built-in"),l=t("../internals/species-constructor"),u=t("../internals/promise-resolve"),t=t("../internals/redefine");r({target:"Promise",proto:!0,real:!0,forced:!!o&&a(function(){o.prototype.finally.call({then:function(){}},function(){})})},{finally:function(e){var n=l(this,s("Promise")),t="function"==typeof e;return this.then(t?function(t){return u(n,e()).then(function(){return t})}:e,t?function(t){return u(n,e()).then(function(){throw t})}:e)}}),i||"function"!=typeof o||o.prototype.finally||t(o.prototype,"finally",s("Promise").prototype.finally)},{"../internals/export":106,"../internals/fails":107,"../internals/get-built-in":113,"../internals/is-pure":133,"../internals/native-promise-constructor":144,"../internals/promise-resolve":172,"../internals/redefine":174,"../internals/species-constructor":187}],299:[function(t,e,n){"use strict";function p(t){var e;return!(!_(t)||"function"!=typeof(e=t.then))&&e}function i(f,h){var d;f.notified||(f.notified=!0,d=f.reactions,C(function(){for(var t=f.value,e=1==f.state,n=0;d.length>n;){var r,i,o,a=d[n++],s=e?a.ok:a.fail,l=a.resolve,u=a.reject,c=a.domain;try{s?(e||(2===f.rejection&&nt(f),f.rejection=1),!0===s?r=t:(c&&c.enter(),r=s(t),c&&(c.exit(),o=!0)),r===a.promise?u(G("Promise-chain cycle")):(i=p(r))?i.call(r,l,u):l(r)):u(t)}catch(t){c&&!o&&c.exit(),u(t)}}f.reactions=[],f.notified=!1,h&&!f.rejection&&tt(f)}))}function o(t,e,n){var r,i;Q?((r=W.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),d.dispatchEvent(r)):r={promise:e,reason:n},!K&&(i=d["on"+t])?i(r):t===J&&j("Unhandled promise rejection",n)}function a(e,n,r){return function(t){e(n,t,r)}}function s(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,i(t,!0))}var r,l,u,c,f=t("../internals/export"),h=t("../internals/is-pure"),d=t("../internals/global"),g=t("../internals/get-built-in"),m=t("../internals/native-promise-constructor"),y=t("../internals/redefine"),v=t("../internals/redefine-all"),b=t("../internals/set-to-string-tag"),x=t("../internals/set-species"),_=t("../internals/is-object"),w=t("../internals/a-function"),k=t("../internals/an-instance"),T=t("../internals/inspect-source"),M=t("../internals/iterate"),A=t("../internals/check-correctness-of-iteration"),S=t("../internals/species-constructor"),E=t("../internals/task").set,C=t("../internals/microtask"),O=t("../internals/promise-resolve"),j=t("../internals/host-report-errors"),P=t("../internals/new-promise-capability"),N=t("../internals/perform"),L=t("../internals/internal-state"),R=t("../internals/is-forced"),D=t("../internals/well-known-symbol"),I=t("../internals/engine-is-node"),F=t("../internals/engine-v8-version"),z=D("species"),B="Promise",U=L.get,H=L.set,q=L.getterFor(B),V=m,G=d.TypeError,W=d.document,Y=d.process,X=g("fetch"),Z=P.f,$=Z,Q=!!(W&&W.createEvent&&d.dispatchEvent),K="function"==typeof PromiseRejectionEvent,J="unhandledrejection",R=R(B,function(){if(!(T(V)!==String(V))){if(66===F)return!0;if(!I&&!K)return!0}if(h&&!V.prototype.finally)return!0;if(51<=F&&/native code/.test(V))return!1;function t(t){t(function(){},function(){})}var e=V.resolve(1);return(e.constructor={})[z]=t,!(e.then(function(){})instanceof t)}),A=R||!A(function(t){V.all(t).catch(function(){})}),tt=function(i){E.call(d,function(){var t,e=i.facade,n=i.value,r=et(i);if(r&&(t=N(function(){I?Y.emit("unhandledRejection",n,e):o(J,e,n)}),i.rejection=I||et(i)?2:1,t.error))throw t.value})},et=function(t){return 1!==t.rejection&&!t.parent},nt=function(e){E.call(d,function(){var t=e.facade;I?Y.emit("rejectionHandled",t):o("rejectionhandled",t,e.value)})},rt=function(n,t,e){if(!n.done){n.done=!0,e&&(n=e);try{if(n.facade===t)throw G("Promise can't be resolved itself");var r=p(t);r?C(function(){var e={done:!1};try{r.call(t,a(rt,e,n),a(s,e,n))}catch(t){s(e,t,n)}}):(n.value=t,n.state=1,i(n,!1))}catch(t){s({done:!1},t,n)}}};R&&(V=function(t){k(this,V,B),w(t),r.call(this);var e=U(this);try{t(a(rt,e),a(s,e))}catch(t){s(e,t)}},(r=function(){H(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=v(V.prototype,{then:function(t,e){var n=q(this),r=Z(S(this,V));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=I?Y.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&i(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),l=function(){var t=new r,e=U(t);this.promise=t,this.resolve=a(rt,e),this.reject=a(s,e)},P.f=Z=function(t){return t===V||t===u?new l:$(t)},h||"function"!=typeof m||(c=m.prototype.then,y(m.prototype,"then",function(t,e){var n=this;return new V(function(t,e){c.call(n,t,e)}).then(t,e)},{unsafe:!0}),"function"==typeof X&&f({global:!0,enumerable:!0,forced:!0},{fetch:function(){return O(V,X.apply(d,arguments))}}))),f({global:!0,wrap:!0,forced:R},{Promise:V}),b(V,B,!1,!0),x(B),u=g(B),f({target:B,stat:!0,forced:R},{reject:function(t){var e=Z(this);return e.reject.call(void 0,t),e.promise}}),f({target:B,stat:!0,forced:h||R},{resolve:function(t){return O(h&&this===u?V:this,t)}}),f({target:B,stat:!0,forced:A},{all:function(t){var s=this,e=Z(s),l=e.resolve,u=e.reject,n=N(function(){var r=w(s.resolve),i=[],o=0,a=1;M(t,function(t){var e=o++,n=!1;i.push(void 0),a++,r.call(s,t).then(function(t){n||(n=!0,i[e]=t,--a||l(i))},u)}),--a||l(i)});return n.error&&u(n.value),e.promise},race:function(t){var n=this,r=Z(n),i=r.reject,e=N(function(){var e=w(n.resolve);M(t,function(t){e.call(n,t).then(r.resolve,i)})});return e.error&&i(e.value),r.promise}})},{"../internals/a-function":59,"../internals/an-instance":63,"../internals/check-correctness-of-iteration":81,"../internals/engine-is-node":102,"../internals/engine-v8-version":104,"../internals/export":106,"../internals/get-built-in":113,"../internals/global":116,"../internals/host-report-errors":119,"../internals/inspect-source":125,"../internals/internal-state":127,"../internals/is-forced":130,"../internals/is-object":132,"../internals/is-pure":133,"../internals/iterate":135,"../internals/microtask":143,"../internals/native-promise-constructor":144,"../internals/new-promise-capability":148,"../internals/perform":171,"../internals/promise-resolve":172,"../internals/redefine":174,"../internals/redefine-all":173,"../internals/set-species":182,"../internals/set-to-string-tag":183,"../internals/species-constructor":187,"../internals/task":196,"../internals/well-known-symbol":214}],300:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/get-built-in"),o=t("../internals/a-function"),a=t("../internals/an-object"),t=t("../internals/fails"),s=i("Reflect","apply"),l=Function.apply;r({target:"Reflect",stat:!0,forced:!t(function(){s(function(){})})},{apply:function(t,e,n){return o(t),a(n),s?s(t,e,n):l.call(t,e,n)}})},{"../internals/a-function":59,"../internals/an-object":64,"../internals/export":106,"../internals/fails":107,"../internals/get-built-in":113}],301:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/get-built-in"),o=t("../internals/a-function"),a=t("../internals/an-object"),s=t("../internals/is-object"),l=t("../internals/object-create"),u=t("../internals/function-bind"),t=t("../internals/fails"),c=i("Reflect","construct"),f=t(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),h=!t(function(){c(function(){})}),t=f||h;r({target:"Reflect",stat:!0,forced:t,sham:t},{construct:function(t,e,n){o(t),a(e);var r=arguments.length<3?t:o(n);if(h&&!f)return c(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(u.apply(t,i))}i=r.prototype,r=l(s(i)?i:Object.prototype),i=Function.apply.call(t,r,e);return s(i)?i:r}})},{"../internals/a-function":59,"../internals/an-object":64,"../internals/export":106,"../internals/fails":107,"../internals/function-bind":112,"../internals/get-built-in":113,"../internals/is-object":132,"../internals/object-create":154}],302:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/descriptors"),o=t("../internals/an-object"),a=t("../internals/to-primitive"),s=t("../internals/object-define-property");r({target:"Reflect",stat:!0,forced:t("../internals/fails")(function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})}),sham:!i},{defineProperty:function(t,e,n){o(t);var r=a(e,!0);o(n);try{return s.f(t,r,n),!0}catch(t){return!1}}})},{"../internals/an-object":64,"../internals/descriptors":98,"../internals/export":106,"../internals/fails":107,"../internals/object-define-property":156,"../internals/to-primitive":206}],303:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/an-object"),o=t("../internals/object-get-own-property-descriptor").f;r({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=o(i(t),e);return!(n&&!n.configurable)&&delete t[e]}})},{"../internals/an-object":64,"../internals/export":106,"../internals/object-get-own-property-descriptor":157}],304:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/descriptors"),o=t("../internals/an-object"),a=t("../internals/object-get-own-property-descriptor");r({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(t,e){return a.f(o(t),e)}})},{"../internals/an-object":64,"../internals/descriptors":98,"../internals/export":106,"../internals/object-get-own-property-descriptor":157}],305:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/an-object"),o=t("../internals/object-get-prototype-of");r({target:"Reflect",stat:!0,sham:!t("../internals/correct-prototype-getter")},{getPrototypeOf:function(t){return o(i(t))}})},{"../internals/an-object":64,"../internals/correct-prototype-getter":89,"../internals/export":106,"../internals/object-get-prototype-of":161}],306:[function(t,e,n){var r=t("../internals/export"),o=t("../internals/is-object"),a=t("../internals/an-object"),s=t("../internals/has"),l=t("../internals/object-get-own-property-descriptor"),u=t("../internals/object-get-prototype-of");r({target:"Reflect",stat:!0},{get:function t(e,n){var r,i=arguments.length<3?e:arguments[2];return a(e)===i?e[n]:(r=l.f(e,n))?s(r,"value")?r.value:void 0===r.get?void 0:r.get.call(i):o(r=u(e))?t(r,n,i):void 0}})},{"../internals/an-object":64,"../internals/export":106,"../internals/has":117,"../internals/is-object":132,"../internals/object-get-own-property-descriptor":157,"../internals/object-get-prototype-of":161}],307:[function(t,e,n){t("../internals/export")({target:"Reflect",stat:!0},{has:function(t,e){return e in t}})},{"../internals/export":106}],308:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/an-object"),o=Object.isExtensible;r({target:"Reflect",stat:!0},{isExtensible:function(t){return i(t),!o||o(t)}})},{"../internals/an-object":64,"../internals/export":106}],309:[function(t,e,n){t("../internals/export")({target:"Reflect",stat:!0},{ownKeys:t("../internals/own-keys")})},{"../internals/export":106,"../internals/own-keys":169}],310:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/get-built-in"),o=t("../internals/an-object");r({target:"Reflect",stat:!0,sham:!t("../internals/freezing")},{preventExtensions:function(t){o(t);try{var e=i("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}})},{"../internals/an-object":64,"../internals/export":106,"../internals/freezing":110,"../internals/get-built-in":113}],311:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/an-object"),o=t("../internals/a-possible-prototype"),a=t("../internals/object-set-prototype-of");a&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){i(t),o(e);try{return a(t,e),!0}catch(t){return!1}}})},{"../internals/a-possible-prototype":60,"../internals/an-object":64,"../internals/export":106,"../internals/object-set-prototype-of":166}],312:[function(t,e,n){var r=t("../internals/export"),s=t("../internals/an-object"),l=t("../internals/is-object"),u=t("../internals/has"),i=t("../internals/fails"),c=t("../internals/object-define-property"),f=t("../internals/object-get-own-property-descriptor"),h=t("../internals/object-get-prototype-of"),d=t("../internals/create-property-descriptor");r({target:"Reflect",stat:!0,forced:i(function(){function t(){}var e=c.f(new t,"a",{configurable:!0});return!1!==Reflect.set(t.prototype,"a",1,e)})},{set:function t(e,n,r){var i,o=arguments.length<4?e:arguments[3],a=f.f(s(e),n);if(!a){if(l(i=h(e)))return t(i,n,r,o);a=d(0)}if(u(a,"value")){if(!1===a.writable||!l(o))return!1;if(i=f.f(o,n)){if(i.get||i.set||!1===i.writable)return!1;i.value=r,c.f(o,n,i)}else c.f(o,n,d(0,r));return!0}return void 0!==a.set&&(a.set.call(o,r),!0)}})},{"../internals/an-object":64,"../internals/create-property-descriptor":93,"../internals/export":106,"../internals/fails":107,"../internals/has":117,"../internals/is-object":132,"../internals/object-define-property":156,"../internals/object-get-own-property-descriptor":157,"../internals/object-get-prototype-of":161}],313:[function(t,e,n){var r=t("../internals/descriptors"),i=t("../internals/global"),o=t("../internals/is-forced"),a=t("../internals/inherit-if-required"),s=t("../internals/object-define-property").f,l=t("../internals/object-get-own-property-names").f,u=t("../internals/is-regexp"),c=t("../internals/regexp-flags"),f=t("../internals/regexp-sticky-helpers"),h=t("../internals/redefine"),d=t("../internals/fails"),p=t("../internals/internal-state").set,g=t("../internals/set-species"),m=t("../internals/well-known-symbol")("match"),y=i.RegExp,v=y.prototype,b=/a/g,x=/a/g,_=new y(b)!==b,w=f.UNSUPPORTED_Y;if(r&&o("RegExp",!_||w||d(function(){return x[m]=!1,y(b)!=b||y(x)==x||"/a/i"!=y(b,"i")}))){for(var k=function(t,e){var n,r=this instanceof k,i=u(t),o=void 0===e;if(!r&&i&&t.constructor===k&&o)return t;_?i&&!o&&(t=t.source):t instanceof k&&(o&&(e=c.call(t)),t=t.source),w&&(n=!!e&&-1<e.indexOf("y"))&&(e=e.replace(/y/g,""));r=a(_?new y(t,e):y(t,e),r?this:v,k);return w&&n&&p(r,{sticky:n}),r},T=l(y),M=0;T.length>M;)!function(e){e in k||s(k,e,{configurable:!0,get:function(){return y[e]},set:function(t){y[e]=t}})}(T[M++]);(v.constructor=k).prototype=v,h(i,"RegExp",k)}g("RegExp")},{"../internals/descriptors":98,"../internals/fails":107,"../internals/global":116,"../internals/inherit-if-required":124,"../internals/internal-state":127,"../internals/is-forced":130,"../internals/is-regexp":134,"../internals/object-define-property":156,"../internals/object-get-own-property-names":159,"../internals/redefine":174,"../internals/regexp-flags":177,"../internals/regexp-sticky-helpers":178,"../internals/set-species":182,"../internals/well-known-symbol":214}],314:[function(t,e,n){"use strict";var r=t("../internals/export"),t=t("../internals/regexp-exec");r({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t})},{"../internals/export":106,"../internals/regexp-exec":176}],315:[function(t,e,n){var r=t("../internals/descriptors"),i=t("../internals/object-define-property"),o=t("../internals/regexp-flags"),t=t("../internals/regexp-sticky-helpers").UNSUPPORTED_Y;r&&("g"!=/./g.flags||t)&&i.f(RegExp.prototype,"flags",{configurable:!0,get:o})},{"../internals/descriptors":98,"../internals/object-define-property":156,"../internals/regexp-flags":177,"../internals/regexp-sticky-helpers":178}],316:[function(t,e,n){"use strict";var r=t("../internals/redefine"),i=t("../internals/an-object"),o=t("../internals/fails"),a=t("../internals/regexp-flags"),s="toString",l=RegExp.prototype,u=l[s],t=o(function(){return"/a/b"!=u.call({source:"a",flags:"b"})}),o=u.name!=s;(t||o)&&r(RegExp.prototype,s,function(){var t=i(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in l)?a.call(t):n)},{unsafe:!0})},{"../internals/an-object":64,"../internals/fails":107,"../internals/redefine":174,"../internals/regexp-flags":177}],317:[function(t,e,n){"use strict";var r=t("../internals/collection"),t=t("../internals/collection-strong");e.exports=r("Set",function(e){return function(t){return e(this,arguments.length?t:void 0)}},t)},{"../internals/collection":86,"../internals/collection-strong":84}],318:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/string-html-forced")("anchor")},{anchor:function(t){return i(this,"a","name",t)}})},{"../internals/create-html":90,"../internals/export":106,"../internals/string-html-forced":188}],319:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/string-html-forced")("big")},{big:function(){return i(this,"big","","")}})},{"../internals/create-html":90,"../internals/export":106,"../internals/string-html-forced":188}],320:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/string-html-forced")("blink")},{blink:function(){return i(this,"blink","","")}})},{"../internals/create-html":90,"../internals/export":106,"../internals/string-html-forced":188}],321:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/string-html-forced")("bold")},{bold:function(){return i(this,"b","","")}})},{"../internals/create-html":90,"../internals/export":106,"../internals/string-html-forced":188}],322:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/string-multibyte").codeAt;r({target:"String",proto:!0},{codePointAt:function(t){return i(this,t)}})},{"../internals/export":106,"../internals/string-multibyte":189}],323:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/object-get-own-property-descriptor").f,o=t("../internals/to-length"),a=t("../internals/not-a-regexp"),s=t("../internals/require-object-coercible"),l=t("../internals/correct-is-regexp-logic"),t=t("../internals/is-pure"),u="".endsWith,c=Math.min,l=l("endsWith");r({target:"String",proto:!0,forced:!!(t||l||(!(i=i(String.prototype,"endsWith"))||i.writable))&&!l},{endsWith:function(t,e){var n=String(s(this));a(t);var r=1<arguments.length?e:void 0,e=o(n.length),e=void 0===r?e:c(o(r),e),t=String(t);return u?u.call(n,t,e):n.slice(e-t.length,e)===t}})},{"../internals/correct-is-regexp-logic":88,"../internals/export":106,"../internals/is-pure":133,"../internals/not-a-regexp":149,"../internals/object-get-own-property-descriptor":157,"../internals/require-object-coercible":179,"../internals/to-length":202}],324:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/string-html-forced")("fixed")},{fixed:function(){return i(this,"tt","","")}})},{"../internals/create-html":90,"../internals/export":106,"../internals/string-html-forced":188}],325:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/string-html-forced")("fontcolor")},{fontcolor:function(t){return i(this,"font","color",t)}})},{"../internals/create-html":90,"../internals/export":106,"../internals/string-html-forced":188}],326:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/string-html-forced")("fontsize")},{fontsize:function(t){return i(this,"font","size",t)}})},{"../internals/create-html":90,"../internals/export":106,"../internals/string-html-forced":188}],327:[function(t,e,n){var r=t("../internals/export"),o=t("../internals/to-absolute-index"),a=String.fromCharCode,t=String.fromCodePoint;r({target:"String",stat:!0,forced:!!t&&1!=t.length},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,i=0;i<r;){if(e=+arguments[i++],o(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?a(e):a(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},{"../internals/export":106,"../internals/to-absolute-index":198}],328:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/not-a-regexp"),o=t("../internals/require-object-coercible");r({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(t,e){return!!~String(o(this)).indexOf(i(t),1<arguments.length?e:void 0)}})},{"../internals/correct-is-regexp-logic":88,"../internals/export":106,"../internals/not-a-regexp":149,"../internals/require-object-coercible":179}],329:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/string-html-forced")("italics")},{italics:function(){return i(this,"i","","")}})},{"../internals/create-html":90,"../internals/export":106,"../internals/string-html-forced":188}],330:[function(t,e,n){"use strict";var r=t("../internals/string-multibyte").charAt,i=t("../internals/internal-state"),t=t("../internals/define-iterator"),o="String Iterator",a=i.set,s=i.getterFor(o);t(String,"String",function(t){a(this,{type:o,string:String(t),index:0})},function(){var t=s(this),e=t.string,n=t.index;return n>=e.length?{value:void 0,done:!0}:(n=r(e,n),t.index+=n.length,{value:n,done:!1})})},{"../internals/define-iterator":96,"../internals/internal-state":127,"../internals/string-multibyte":189}],331:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/string-html-forced")("link")},{link:function(t){return i(this,"a","href",t)}})},{"../internals/create-html":90,"../internals/export":106,"../internals/string-html-forced":188}],332:[function(t,e,n){"use strict";function r(t){var e=u(this),n=String(t),r=m(e,RegExp),i=e.flags;return void 0===i&&e instanceof RegExp&&!("flags"in T)&&(i=h.call(e)),t=void 0===i?"":String(i),i=new r(r===RegExp?e.source:e,t),r=!!~t.indexOf("g"),t=!!~t.indexOf("u"),i.lastIndex=s(e.lastIndex),new E(i,n,r,t)}var i=t("../internals/export"),o=t("../internals/create-iterator-constructor"),a=t("../internals/require-object-coercible"),s=t("../internals/to-length"),l=t("../internals/a-function"),u=t("../internals/an-object"),c=t("../internals/classof-raw"),f=t("../internals/is-regexp"),h=t("../internals/regexp-flags"),d=t("../internals/create-non-enumerable-property"),p=t("../internals/fails"),g=t("../internals/well-known-symbol"),m=t("../internals/species-constructor"),y=t("../internals/advance-string-index"),v=t("../internals/internal-state"),b=t("../internals/is-pure"),x=g("matchAll"),g="RegExp String",_=g+" Iterator",w=v.set,k=v.getterFor(_),T=RegExp.prototype,M=T.exec,A="".matchAll,S=!!A&&!p(function(){"a".matchAll(/./)}),E=o(function(t,e,n,r){w(this,{type:_,regexp:t,string:e,global:n,unicode:r,done:!1})},g,function(){var t=k(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,r=function(t,e){var n=t.exec;if("function"!=typeof n)return M.call(t,e);if("object"!=typeof(e=n.call(t,e)))throw TypeError("Incorrect exec result");return e}(e,n);return null===r?{value:void 0,done:t.done=!0}:t.global?(""==String(r[0])&&(e.lastIndex=y(n,s(e.lastIndex),t.unicode)),{value:r,done:!1}):{value:r,done:!(t.done=!0)}});i({target:"String",proto:!0,forced:S},{matchAll:function(t){var e,n=a(this);if(null!=t){if(f(t)&&!~String(a("flags"in T?t.flags:h.call(t))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(S)return A.apply(n,arguments);if(void 0===(e=t[x])&&b&&"RegExp"==c(t)&&(e=r),null!=e)return l(e).call(t,n)}else if(S)return A.apply(n,arguments);return n=String(n),t=new RegExp(t,"g"),b?r.call(t,n):t[x](n)}}),b||x in T||d(T,x,r)},{"../internals/a-function":59,"../internals/advance-string-index":62,"../internals/an-object":64,"../internals/classof-raw":82,"../internals/create-iterator-constructor":91,"../internals/create-non-enumerable-property":92,"../internals/export":106,"../internals/fails":107,"../internals/internal-state":127,"../internals/is-pure":133,"../internals/is-regexp":134,"../internals/regexp-flags":177,"../internals/require-object-coercible":179,"../internals/species-constructor":187,"../internals/to-length":202,"../internals/well-known-symbol":214}],333:[function(t,e,n){"use strict";var r=t("../internals/fix-regexp-well-known-symbol-logic"),c=t("../internals/an-object"),f=t("../internals/to-length"),i=t("../internals/require-object-coercible"),h=t("../internals/advance-string-index"),d=t("../internals/regexp-exec-abstract");r("match",1,function(r,l,u){return[function(t){var e=i(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=u(l,t,this);if(e.done)return e.value;var n=c(t),r=String(this);if(!n.global)return d(n,r);for(var i=n.unicode,o=[],a=n.lastIndex=0;null!==(s=d(n,r));){var s=String(s[0]);""===(o[a]=s)&&(n.lastIndex=h(r,f(n.lastIndex),i)),a++}return 0===a?null:o}]})},{"../internals/advance-string-index":62,"../internals/an-object":64,"../internals/fix-regexp-well-known-symbol-logic":108,"../internals/regexp-exec-abstract":175,"../internals/require-object-coercible":179,"../internals/to-length":202}],334:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/string-pad").end;r({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padEnd:function(t,e){return i(this,t,1<arguments.length?e:void 0)}})},{"../internals/export":106,"../internals/string-pad":191,"../internals/string-pad-webkit-bug":190}],335:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/string-pad").start;r({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(t,e){return i(this,t,1<arguments.length?e:void 0)}})},{"../internals/export":106,"../internals/string-pad":191,"../internals/string-pad-webkit-bug":190}],336:[function(t,e,n){var r=t("../internals/export"),a=t("../internals/to-indexed-object"),s=t("../internals/to-length");r({target:"String",stat:!0},{raw:function(t){for(var e=a(t.raw),n=s(e.length),r=arguments.length,i=[],o=0;o<n;)i.push(String(e[o++])),o<r&&i.push(String(arguments[o]));return i.join("")}})},{"../internals/export":106,"../internals/to-indexed-object":200,"../internals/to-length":202}],337:[function(t,e,n){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":106,"../internals/string-repeat":193}],338:[function(t,e,n){"use strict";var r=t("../internals/fix-regexp-well-known-symbol-logic"),M=t("../internals/an-object"),A=t("../internals/to-object"),S=t("../internals/to-length"),E=t("../internals/to-integer"),o=t("../internals/require-object-coercible"),C=t("../internals/advance-string-index"),O=t("../internals/regexp-exec-abstract"),j=Math.max,P=Math.min,N=Math.floor,L=/\$([$&'`]|\d\d?|<[^>]*>)/g,R=/\$([$&'`]|\d\d?)/g;r("replace",2,function(i,x,_,t){var w=t.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,k=t.REPLACE_KEEPS_$0,T=w?"$":"$0";return[function(t,e){var n=o(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n,e):x.call(String(n),t,e)},function(t,e){if(!w&&k||"string"==typeof e&&-1===e.indexOf(T)){var n=_(x,t,this,e);if(n.done)return n.value}var r=M(t),i=String(this),o="function"==typeof e;o||(e=String(e));var a,s=r.global;s&&(a=r.unicode,r.lastIndex=0);for(var l=[];;){var u=O(r,i);if(null===u)break;if(l.push(u),!s)break;""===String(u[0])&&(r.lastIndex=C(i,S(r.lastIndex),a))}for(var c,f="",h=0,d=0;d<l.length;d++){u=l[d];for(var p=String(u[0]),g=j(P(E(u.index),i.length),0),m=[],y=1;y<u.length;y++)m.push(void 0===(c=u[y])?c:String(c));var v,b=u.groups,b=o?(v=[p].concat(m,g,i),void 0!==b&&v.push(b),String(e.apply(void 0,v))):function(o,a,s,l,u,t){var c=s+o.length,f=l.length,e=R;void 0!==u&&(u=A(u),e=L);return x.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return o;case"`":return a.slice(0,s);case"'":return a.slice(c);case"<":n=u[e.slice(1,-1)];break;default:var r=+e;if(0==r)return t;if(f<r){var i=N(r/10);return 0===i?t:i<=f?void 0===l[i-1]?e.charAt(1):l[i-1]+e.charAt(1):t}n=l[r-1]}return void 0===n?"":n})}(p,i,g,m,b,e);h<=g&&(f+=i.slice(h,g)+b,h=g+p.length)}return f+i.slice(h)}]})},{"../internals/advance-string-index":62,"../internals/an-object":64,"../internals/fix-regexp-well-known-symbol-logic":108,"../internals/regexp-exec-abstract":175,"../internals/require-object-coercible":179,"../internals/to-integer":201,"../internals/to-length":202,"../internals/to-object":203}],339:[function(t,e,n){"use strict";var r=t("../internals/fix-regexp-well-known-symbol-logic"),a=t("../internals/an-object"),s=t("../internals/require-object-coercible"),l=t("../internals/same-value"),u=t("../internals/regexp-exec-abstract");r("search",1,function(r,i,o){return[function(t){var e=s(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=o(i,t,this);if(e.done)return e.value;var n=a(t),e=String(this),t=n.lastIndex;l(t,0)||(n.lastIndex=0);e=u(n,e);return l(n.lastIndex,t)||(n.lastIndex=t),null===e?-1:e.index}]})},{"../internals/an-object":64,"../internals/fix-regexp-well-known-symbol-logic":108,"../internals/regexp-exec-abstract":175,"../internals/require-object-coercible":179,"../internals/same-value":180}],340:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/string-html-forced")("small")},{small:function(){return i(this,"small","","")}})},{"../internals/create-html":90,"../internals/export":106,"../internals/string-html-forced":188}],341:[function(t,e,n){"use strict";var r=t("../internals/fix-regexp-well-known-symbol-logic"),c=t("../internals/is-regexp"),y=t("../internals/an-object"),f=t("../internals/require-object-coercible"),v=t("../internals/species-constructor"),b=t("../internals/advance-string-index"),x=t("../internals/to-length"),_=t("../internals/regexp-exec-abstract"),h=t("../internals/regexp-exec"),t=t("../internals/fails"),d=[].push,w=Math.min,k=4294967295,T=!t(function(){return!RegExp(k,"y")});r("split",2,function(i,p,g){var m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var n=String(f(this)),r=void 0===e?k:e>>>0;if(0==r)return[];if(void 0===t)return[n];if(!c(t))return p.call(n,t,r);for(var i,o,a,s=[],e=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,u=new RegExp(t.source,e+"g");(i=h.call(u,n))&&!(l<(o=u.lastIndex)&&(s.push(n.slice(l,i.index)),1<i.length&&i.index<n.length&&d.apply(s,i.slice(1)),a=i[0].length,l=o,s.length>=r));)u.lastIndex===i.index&&u.lastIndex++;return l===n.length?!a&&u.test("")||s.push(""):s.push(n.slice(l)),s.length>r?s.slice(0,r):s}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:p.call(this,t,e)}:p;return[function(t,e){var n=f(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n,e):m.call(String(n),t,e)},function(t,e){var n=g(m,t,this,e,m!==p);if(n.done)return n.value;var r=y(t),i=String(this),n=v(r,RegExp),o=r.unicode,t=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(T?"y":"g"),a=new n(T?r:"^(?:"+r.source+")",t),s=void 0===e?k:e>>>0;if(0==s)return[];if(0===i.length)return null===_(a,i)?[i]:[];for(var l=0,u=0,c=[];u<i.length;){a.lastIndex=T?u:0;var f,h=_(a,T?i:i.slice(u));if(null===h||(f=w(x(a.lastIndex+(T?0:u)),i.length))===l)u=b(i,u,o);else{if(c.push(i.slice(l,u)),c.length===s)return c;for(var d=1;d<=h.length-1;d++)if(c.push(h[d]),c.length===s)return c;u=l=f}}return c.push(i.slice(l)),c}]},!T)},{"../internals/advance-string-index":62,"../internals/an-object":64,"../internals/fails":107,"../internals/fix-regexp-well-known-symbol-logic":108,"../internals/is-regexp":134,"../internals/regexp-exec":176,"../internals/regexp-exec-abstract":175,"../internals/require-object-coercible":179,"../internals/species-constructor":187,"../internals/to-length":202}],342:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/object-get-own-property-descriptor").f,o=t("../internals/to-length"),a=t("../internals/not-a-regexp"),s=t("../internals/require-object-coercible"),l=t("../internals/correct-is-regexp-logic"),t=t("../internals/is-pure"),u="".startsWith,c=Math.min,l=l("startsWith");r({target:"String",proto:!0,forced:!!(t||l||(!(i=i(String.prototype,"startsWith"))||i.writable))&&!l},{startsWith:function(t,e){var n=String(s(this));a(t);e=o(c(1<arguments.length?e:void 0,n.length)),t=String(t);return u?u.call(n,t,e):n.slice(e,e+t.length)===t}})},{"../internals/correct-is-regexp-logic":88,"../internals/export":106,"../internals/is-pure":133,"../internals/not-a-regexp":149,"../internals/object-get-own-property-descriptor":157,"../internals/require-object-coercible":179,"../internals/to-length":202}],343:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/string-html-forced")("strike")},{strike:function(){return i(this,"strike","","")}})},{"../internals/create-html":90,"../internals/export":106,"../internals/string-html-forced":188}],344:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return i(this,"sub","","")}})},{"../internals/create-html":90,"../internals/export":106,"../internals/string-html-forced":188}],345:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/create-html");r({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sup")},{sup:function(){return i(this,"sup","","")}})},{"../internals/create-html":90,"../internals/export":106,"../internals/string-html-forced":188}],346:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/string-trim").end,o=t("../internals/string-trim-forced")("trimEnd"),t=o?function(){return i(this)}:"".trimEnd;r({target:"String",proto:!0,forced:o},{trimEnd:t,trimRight:t})},{"../internals/export":106,"../internals/string-trim":195,"../internals/string-trim-forced":194}],347:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/string-trim").start,o=t("../internals/string-trim-forced")("trimStart"),t=o?function(){return i(this)}:"".trimStart;r({target:"String",proto:!0,forced:o},{trimStart:t,trimLeft:t})},{"../internals/export":106,"../internals/string-trim":195,"../internals/string-trim-forced":194}],348:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/string-trim").trim;r({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return i(this)}})},{"../internals/export":106,"../internals/string-trim":195,"../internals/string-trim-forced":194}],349:[function(t,e,n){t("../internals/define-well-known-symbol")("asyncIterator")},{"../internals/define-well-known-symbol":97}],350:[function(t,e,n){"use strict";var r,i,o,a,s,l=t("../internals/export"),u=t("../internals/descriptors"),c=t("../internals/global"),f=t("../internals/has"),h=t("../internals/is-object"),d=t("../internals/object-define-property").f,t=t("../internals/copy-constructor-properties"),p=c.Symbol;!u||"function"!=typeof p||"description"in p.prototype&&void 0===p().description||(r={},t(i=function(t){var e=arguments.length<1||void 0===t?void 0:String(t),t=this instanceof i?new p(e):void 0===e?p():p(e);return""===e&&(r[t]=!0),t},p),(t=i.prototype=p.prototype).constructor=i,o=t.toString,a="Symbol(test)"==String(p("test")),s=/^Symbol\((.*)\)[^)]+$/,d(t,"description",{configurable:!0,get:function(){var t=h(this)?this.valueOf():this,e=o.call(t);if(f(r,t))return"";e=a?e.slice(7,-1):e.replace(s,"$1");return""===e?void 0:e}}),l({global:!0,forced:!0},{Symbol:i}))},{"../internals/copy-constructor-properties":87,"../internals/descriptors":98,"../internals/export":106,"../internals/global":116,"../internals/has":117,"../internals/is-object":132,"../internals/object-define-property":156}],351:[function(t,e,n){t("../internals/define-well-known-symbol")("hasInstance")},{"../internals/define-well-known-symbol":97}],352:[function(t,e,n){t("../internals/define-well-known-symbol")("isConcatSpreadable")},{"../internals/define-well-known-symbol":97}],353:[function(t,e,n){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":97}],354:[function(t,e,n){"use strict";function r(t,e){var n=J[t]=_(Y[q]);return V(n,{type:H,tag:t,description:e}),u||(n.description=e),n}function i(e,t){m(e);var n=v(t),t=w(n).concat(lt(n));return B(t,function(t){u&&!st.call(n,t)||at(e,t,n[t])}),e}var o=t("../internals/export"),a=t("../internals/global"),s=t("../internals/get-built-in"),l=t("../internals/is-pure"),u=t("../internals/descriptors"),c=t("../internals/native-symbol"),f=t("../internals/use-symbol-as-uid"),h=t("../internals/fails"),d=t("../internals/has"),p=t("../internals/is-array"),g=t("../internals/is-object"),m=t("../internals/an-object"),y=t("../internals/to-object"),v=t("../internals/to-indexed-object"),b=t("../internals/to-primitive"),x=t("../internals/create-property-descriptor"),_=t("../internals/object-create"),w=t("../internals/object-keys"),k=t("../internals/object-get-own-property-names"),T=t("../internals/object-get-own-property-names-external"),M=t("../internals/object-get-own-property-symbols"),A=t("../internals/object-get-own-property-descriptor"),S=t("../internals/object-define-property"),E=t("../internals/object-property-is-enumerable"),C=t("../internals/create-non-enumerable-property"),O=t("../internals/redefine"),j=t("../internals/shared"),P=t("../internals/shared-key"),N=t("../internals/hidden-keys"),L=t("../internals/uid"),R=t("../internals/well-known-symbol"),D=t("../internals/well-known-symbol-wrapped"),I=t("../internals/define-well-known-symbol"),F=t("../internals/set-to-string-tag"),z=t("../internals/internal-state"),B=t("../internals/array-iteration").forEach,U=P("hidden"),H="Symbol",q="prototype",P=R("toPrimitive"),V=z.set,G=z.getterFor(H),W=Object[q],Y=a.Symbol,X=s("JSON","stringify"),Z=A.f,$=S.f,Q=T.f,K=E.f,J=j("symbols"),tt=j("op-symbols"),et=j("string-to-symbol-registry"),nt=j("symbol-to-string-registry"),j=j("wks"),a=a.QObject,rt=!a||!a[q]||!a[q].findChild,it=u&&h(function(){return 7!=_($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=Z(W,e);r&&delete W[e],$(t,e,n),r&&t!==W&&$(W,e,r)}:$,ot=f?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Y},at=function(t,e,n){t===W&&at(tt,e,n),m(t);e=b(e,!0);return m(n),d(J,e)?(n.enumerable?(d(t,U)&&t[U][e]&&(t[U][e]=!1),n=_(n,{enumerable:x(0,!1)})):(d(t,U)||$(t,U,x(1,{})),t[U][e]=!0),it(t,e,n)):$(t,e,n)},st=function(t){var e=b(t,!0),t=K.call(this,e);return!(this===W&&d(J,e)&&!d(tt,e))&&(!(t||!d(this,e)||!d(J,e)||d(this,U)&&this[U][e])||t)},a=function(t,e){var n=v(t),t=b(e,!0);if(n!==W||!d(J,t)||d(tt,t)){e=Z(n,t);return!e||!d(J,t)||d(n,U)&&n[U][t]||(e.enumerable=!0),e}},f=function(t){var t=Q(v(t)),e=[];return B(t,function(t){d(J,t)||d(N,t)||e.push(t)}),e},lt=function(t){var e=t===W,t=Q(e?tt:v(t)),n=[];return B(t,function(t){!d(J,t)||e&&!d(W,t)||n.push(J[t])}),n};c||(O((Y=function(t){if(this instanceof Y)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==t?String(t):void 0,e=L(t),n=function(t){this===W&&n.call(tt,t),d(this,U)&&d(this[U],e)&&(this[U][e]=!1),it(this,e,x(1,t))};return u&&rt&&it(W,e,{configurable:!0,set:n}),r(e,t)})[q],"toString",function(){return G(this).tag}),O(Y,"withoutSetter",function(t){return r(L(t),t)}),E.f=st,S.f=at,A.f=a,k.f=T.f=f,M.f=lt,D.f=function(t){return r(R(t),t)},u&&($(Y[q],"description",{configurable:!0,get:function(){return G(this).description}}),l||O(W,"propertyIsEnumerable",st,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Y}),B(w(j),function(t){I(t)}),o({target:H,stat:!0,forced:!c},{for:function(t){var e=String(t);if(d(et,e))return et[e];t=Y(e);return et[e]=t,nt[t]=e,t},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(d(nt,t))return nt[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),o({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(t,e){return void 0===e?_(t):i(_(t),e)},defineProperty:at,defineProperties:i,getOwnPropertyDescriptor:a}),o({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:f,getOwnPropertySymbols:lt}),o({target:"Object",stat:!0,forced:h(function(){M.f(1)})},{getOwnPropertySymbols:function(t){return M.f(y(t))}}),X&&o({target:"JSON",stat:!0,forced:!c||h(function(){var t=Y();return"[null]"!=X([t])||"{}"!=X({a:t})||"{}"!=X(Object(t))})},{stringify:function(t,e){for(var n,r=[t],i=1;i<arguments.length;)r.push(arguments[i++]);if((g(n=e)||void 0!==t)&&!ot(t))return p(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!ot(e))return e}),r[1]=e,X.apply(null,r)}}),Y[q][P]||C(Y[q],P,Y[q].valueOf),F(Y,H),N[U]=!0},{"../internals/an-object":64,"../internals/array-iteration":73,"../internals/create-non-enumerable-property":92,"../internals/create-property-descriptor":93,"../internals/define-well-known-symbol":97,"../internals/descriptors":98,"../internals/export":106,"../internals/fails":107,"../internals/get-built-in":113,"../internals/global":116,"../internals/has":117,"../internals/hidden-keys":118,"../internals/internal-state":127,"../internals/is-array":129,"../internals/is-object":132,"../internals/is-pure":133,"../internals/native-symbol":145,"../internals/object-create":154,"../internals/object-define-property":156,"../internals/object-get-own-property-descriptor":157,"../internals/object-get-own-property-names":159,"../internals/object-get-own-property-names-external":158,"../internals/object-get-own-property-symbols":160,"../internals/object-keys":163,"../internals/object-property-is-enumerable":164,"../internals/redefine":174,"../internals/set-to-string-tag":183,"../internals/shared":186,"../internals/shared-key":184,"../internals/to-indexed-object":200,"../internals/to-object":203,"../internals/to-primitive":206,"../internals/uid":211,"../internals/use-symbol-as-uid":212,"../internals/well-known-symbol":214,"../internals/well-known-symbol-wrapped":213}],355:[function(t,e,n){t("../internals/define-well-known-symbol")("matchAll")},{"../internals/define-well-known-symbol":97}],356:[function(t,e,n){t("../internals/define-well-known-symbol")("match")},{"../internals/define-well-known-symbol":97}],357:[function(t,e,n){t("../internals/define-well-known-symbol")("replace")},{"../internals/define-well-known-symbol":97}],358:[function(t,e,n){t("../internals/define-well-known-symbol")("search")},{"../internals/define-well-known-symbol":97}],359:[function(t,e,n){t("../internals/define-well-known-symbol")("species")},{"../internals/define-well-known-symbol":97}],360:[function(t,e,n){t("../internals/define-well-known-symbol")("split")},{"../internals/define-well-known-symbol":97}],361:[function(t,e,n){t("../internals/define-well-known-symbol")("toPrimitive")},{"../internals/define-well-known-symbol":97}],362:[function(t,e,n){t("../internals/define-well-known-symbol")("toStringTag")},{"../internals/define-well-known-symbol":97}],363:[function(t,e,n){t("../internals/define-well-known-symbol")("unscopables")},{"../internals/define-well-known-symbol":97}],364:[function(t,e,n){"use strict";var r=t("../internals/array-buffer-view-core"),i=t("../internals/array-copy-within"),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",function(t,e,n){return i.call(o(this),t,e,2<arguments.length?n:void 0)})},{"../internals/array-buffer-view-core":66,"../internals/array-copy-within":68}],365:[function(t,e,n){"use strict";var r=t("../internals/array-buffer-view-core"),i=t("../internals/array-iteration").every,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",function(t,e){return i(o(this),t,1<arguments.length?e:void 0)})},{"../internals/array-buffer-view-core":66,"../internals/array-iteration":73}],366:[function(t,e,n){"use strict";var r=t("../internals/array-buffer-view-core"),i=t("../internals/array-fill"),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",function(){return i.apply(o(this),arguments)})},{"../internals/array-buffer-view-core":66,"../internals/array-fill":69}],367:[function(t,e,n){"use strict";var r=t("../internals/array-buffer-view-core"),a=t("../internals/array-iteration").filter,s=t("../internals/species-constructor"),l=r.aTypedArray,u=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("filter",function(t,e){for(var n=a(l(this),t,1<arguments.length?e:void 0),e=s(this,this.constructor),r=0,i=n.length,o=new(u(e))(i);r<i;)o[r]=n[r++];return o})},{"../internals/array-buffer-view-core":66,"../internals/array-iteration":73,"../internals/species-constructor":187}],368:[function(t,e,n){"use strict";var r=t("../internals/array-buffer-view-core"),i=t("../internals/array-iteration").findIndex,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",function(t,e){return i(o(this),t,1<arguments.length?e:void 0)})},{"../internals/array-buffer-view-core":66,"../internals/array-iteration":73}],369:[function(t,e,n){"use strict";var r=t("../internals/array-buffer-view-core"),i=t("../internals/array-iteration").find,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",function(t,e){return i(o(this),t,1<arguments.length?e:void 0)})},{"../internals/array-buffer-view-core":66,"../internals/array-iteration":73}],370:[function(t,e,n){t("../internals/typed-array-constructor")("Float32",function(r){return function(t,e,n){return r(this,t,e,n)}})},{"../internals/typed-array-constructor":208}],371:[function(t,e,n){t("../internals/typed-array-constructor")("Float64",function(r){return function(t,e,n){return r(this,t,e,n)}})},{"../internals/typed-array-constructor":208}],372:[function(t,e,n){"use strict";var r=t("../internals/array-buffer-view-core"),i=t("../internals/array-iteration").forEach,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",function(t,e){i(o(this),t,1<arguments.length?e:void 0)})},{"../internals/array-buffer-view-core":66,"../internals/array-iteration":73}],373:[function(t,e,n){"use strict";var r=t("../internals/typed-array-constructors-require-wrappers");(0,t("../internals/array-buffer-view-core").exportTypedArrayStaticMethod)("from",t("../internals/typed-array-from"),r)},{"../internals/array-buffer-view-core":66,"../internals/typed-array-constructors-require-wrappers":209,"../internals/typed-array-from":210}],374:[function(t,e,n){"use strict";var r=t("../internals/array-buffer-view-core"),i=t("../internals/array-includes").includes,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",function(t,e){return i(o(this),t,1<arguments.length?e:void 0)})},{"../internals/array-buffer-view-core":66,"../internals/array-includes":72}],375:[function(t,e,n){"use strict";var r=t("../internals/array-buffer-view-core"),i=t("../internals/array-includes").indexOf,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",function(t,e){return i(o(this),t,1<arguments.length?e:void 0)})},{"../internals/array-buffer-view-core":66,"../internals/array-includes":72}],376:[function(t,e,n){t("../internals/typed-array-constructor")("Int16",function(r){return function(t,e,n){return r(this,t,e,n)}})},{"../internals/typed-array-constructor":208}],377:[function(t,e,n){t("../internals/typed-array-constructor")("Int32",function(r){return function(t,e,n){return r(this,t,e,n)}})},{"../internals/typed-array-constructor":208}],378:[function(t,e,n){t("../internals/typed-array-constructor")("Int8",function(r){return function(t,e,n){return r(this,t,e,n)}})},{"../internals/typed-array-constructor":208}],379:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/array-buffer-view-core"),o=t("../modules/es.array.iterator"),t=t("../internals/well-known-symbol")("iterator"),r=r.Uint8Array,a=o.values,s=o.keys,l=o.entries,u=i.aTypedArray,o=i.exportTypedArrayMethod,i=r&&r.prototype[t],r=!!i&&("values"==i.name||null==i.name),i=function(){return a.call(u(this))};o("entries",function(){return l.call(u(this))}),o("keys",function(){return s.call(u(this))}),o("values",i,!r),o(t,i,!r)},{"../internals/array-buffer-view-core":66,"../internals/global":116,"../internals/well-known-symbol":214,"../modules/es.array.iterator":230}],380:[function(t,e,n){"use strict";var t=t("../internals/array-buffer-view-core"),r=t.aTypedArray,t=t.exportTypedArrayMethod,i=[].join;t("join",function(){return i.apply(r(this),arguments)})},{"../internals/array-buffer-view-core":66}],381:[function(t,e,n){"use strict";var r=t("../internals/array-buffer-view-core"),i=t("../internals/array-last-index-of"),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",function(){return i.apply(o(this),arguments)})},{"../internals/array-buffer-view-core":66,"../internals/array-last-index-of":74}],382:[function(t,e,n){"use strict";var r=t("../internals/array-buffer-view-core"),i=t("../internals/array-iteration").map,o=t("../internals/species-constructor"),a=r.aTypedArray,s=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",function(t,e){return i(a(this),t,1<arguments.length?e:void 0,function(t,e){return new(s(o(t,t.constructor)))(e)})})},{"../internals/array-buffer-view-core":66,"../internals/array-iteration":73,"../internals/species-constructor":187}],383:[function(t,e,n){"use strict";var r=t("../internals/array-buffer-view-core"),t=t("../internals/typed-array-constructors-require-wrappers"),i=r.aTypedArrayConstructor;(0,r.exportTypedArrayStaticMethod)("of",function(){for(var t=0,e=arguments.length,n=new(i(this))(e);t<e;)n[t]=arguments[t++];return n},t)},{"../internals/array-buffer-view-core":66,"../internals/typed-array-constructors-require-wrappers":209}],384:[function(t,e,n){"use strict";var r=t("../internals/array-buffer-view-core"),i=t("../internals/array-reduce").right,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",function(t,e){return i(o(this),t,arguments.length,1<arguments.length?e:void 0)})},{"../internals/array-buffer-view-core":66,"../internals/array-reduce":78}],385:[function(t,e,n){"use strict";var r=t("../internals/array-buffer-view-core"),i=t("../internals/array-reduce").left,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",function(t,e){return i(o(this),t,arguments.length,1<arguments.length?e:void 0)})},{"../internals/array-buffer-view-core":66,"../internals/array-reduce":78}],386:[function(t,e,n){"use strict";var t=t("../internals/array-buffer-view-core"),i=t.aTypedArray,t=t.exportTypedArrayMethod,o=Math.floor;t("reverse",function(){for(var t,e=i(this).length,n=o(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this})},{"../internals/array-buffer-view-core":66}],387:[function(t,e,n){"use strict";var r=t("../internals/array-buffer-view-core"),a=t("../internals/to-length"),s=t("../internals/to-offset"),l=t("../internals/to-object"),t=t("../internals/fails"),u=r.aTypedArray;(0,r.exportTypedArrayMethod)("set",function(t,e){u(this);var n=s(1<arguments.length?e:void 0,1),e=this.length,r=l(t),i=a(r.length),o=0;if(e<i+n)throw RangeError("Wrong length");for(;o<i;)this[n+o]=r[o++]},t(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":66,"../internals/fails":107,"../internals/to-length":202,"../internals/to-object":203,"../internals/to-offset":204}],388:[function(t,e,n){"use strict";var r=t("../internals/array-buffer-view-core"),a=t("../internals/species-constructor"),t=t("../internals/fails"),s=r.aTypedArray,l=r.aTypedArrayConstructor,r=r.exportTypedArrayMethod,u=[].slice;r("slice",function(t,e){for(var n=u.call(s(this),t,e),e=a(this,this.constructor),r=0,i=n.length,o=new(l(e))(i);r<i;)o[r]=n[r++];return o},t(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":66,"../internals/fails":107,"../internals/species-constructor":187}],389:[function(t,e,n){"use strict";var r=t("../internals/array-buffer-view-core"),i=t("../internals/array-iteration").some,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",function(t,e){return i(o(this),t,1<arguments.length?e:void 0)})},{"../internals/array-buffer-view-core":66,"../internals/array-iteration":73}],390:[function(t,e,n){"use strict";var t=t("../internals/array-buffer-view-core"),r=t.aTypedArray,t=t.exportTypedArrayMethod,i=[].sort;t("sort",function(t){return i.call(r(this),t)})},{"../internals/array-buffer-view-core":66}],391:[function(t,e,n){"use strict";var r=t("../internals/array-buffer-view-core"),i=t("../internals/to-length"),o=t("../internals/to-absolute-index"),a=t("../internals/species-constructor"),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",function(t,e){var n=s(this),r=n.length,t=o(t,r);return new(a(n,n.constructor))(n.buffer,n.byteOffset+t*n.BYTES_PER_ELEMENT,i((void 0===e?r:o(e,r))-t))})},{"../internals/array-buffer-view-core":66,"../internals/species-constructor":187,"../internals/to-absolute-index":198,"../internals/to-length":202}],392:[function(t,e,n){"use strict";var r=t("../internals/global"),i=t("../internals/array-buffer-view-core"),t=t("../internals/fails"),o=r.Int8Array,a=i.aTypedArray,i=i.exportTypedArrayMethod,s=[].toLocaleString,l=[].slice,u=!!o&&t(function(){s.call(new o(1))});i("toLocaleString",function(){return s.apply(u?l.call(a(this)):a(this),arguments)},t(function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()})||!t(function(){o.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":66,"../internals/fails":107,"../internals/global":116}],393:[function(t,e,n){"use strict";var r=t("../internals/array-buffer-view-core").exportTypedArrayMethod,i=t("../internals/fails"),t=t("../internals/global").Uint8Array,t=t&&t.prototype||{},o=[].toString,a=[].join;i(function(){o.call({})})&&(o=function(){return a.call(this)}),r("toString",o,t.toString!=o)},{"../internals/array-buffer-view-core":66,"../internals/fails":107,"../internals/global":116}],394:[function(t,e,n){t("../internals/typed-array-constructor")("Uint16",function(r){return function(t,e,n){return r(this,t,e,n)}})},{"../internals/typed-array-constructor":208}],395:[function(t,e,n){t("../internals/typed-array-constructor")("Uint32",function(r){return function(t,e,n){return r(this,t,e,n)}})},{"../internals/typed-array-constructor":208}],396:[function(t,e,n){t("../internals/typed-array-constructor")("Uint8",function(r){return function(t,e,n){return r(this,t,e,n)}})},{"../internals/typed-array-constructor":208}],397:[function(t,e,n){t("../internals/typed-array-constructor")("Uint8",function(r){return function(t,e,n){return r(this,t,e,n)}},!0)},{"../internals/typed-array-constructor":208}],398:[function(t,e,n){"use strict";var r,i,o,a,s,l=t("../internals/global"),u=t("../internals/redefine-all"),c=t("../internals/internal-metadata"),f=t("../internals/collection"),h=t("../internals/collection-weak"),d=t("../internals/is-object"),p=t("../internals/internal-state").enforce,g=t("../internals/native-weak-map"),t=!l.ActiveXObject&&"ActiveXObject"in l,m=Object.isExtensible,l=function(e){return function(t){return e(this,arguments.length?t:void 0)}},f=e.exports=f("WeakMap",l,h);g&&t&&(r=h.getConstructor(l,"WeakMap",!0),c.REQUIRED=!0,f=f.prototype,i=f.delete,o=f.has,a=f.get,s=f.set,u(f,{delete:function(t){if(!d(t)||m(t))return i.call(this,t);var e=p(this);return e.frozen||(e.frozen=new r),i.call(this,t)||e.frozen.delete(t)},has:function(t){if(!d(t)||m(t))return o.call(this,t);var e=p(this);return e.frozen||(e.frozen=new r),o.call(this,t)||e.frozen.has(t)},get:function(t){if(!d(t)||m(t))return a.call(this,t);var e=p(this);return e.frozen||(e.frozen=new r),o.call(this,t)?a.call(this,t):e.frozen.get(t)},set:function(t,e){var n;return d(t)&&!m(t)?((n=p(this)).frozen||(n.frozen=new r),o.call(this,t)?s.call(this,t,e):n.frozen.set(t,e)):s.call(this,t,e),this}}))},{"../internals/collection":86,"../internals/collection-weak":85,"../internals/global":116,"../internals/internal-metadata":126,"../internals/internal-state":127,"../internals/is-object":132,"../internals/native-weak-map":147,"../internals/redefine-all":173}],399:[function(t,e,n){"use strict";t("../internals/collection")("WeakSet",function(e){return function(t){return e(this,arguments.length?t:void 0)}},t("../internals/collection-weak"))},{"../internals/collection":86,"../internals/collection-weak":85}],400:[function(t,e,n){var r,i=t("../internals/global"),o=t("../internals/dom-iterables"),a=t("../internals/array-for-each"),s=t("../internals/create-non-enumerable-property");for(r in o){var l=i[r],u=l&&l.prototype;if(u&&u.forEach!==a)try{s(u,"forEach",a)}catch(t){u.forEach=a}}},{"../internals/array-for-each":70,"../internals/create-non-enumerable-property":92,"../internals/dom-iterables":100,"../internals/global":116}],401:[function(t,e,n){var r,i=t("../internals/global"),o=t("../internals/dom-iterables"),a=t("../modules/es.array.iterator"),s=t("../internals/create-non-enumerable-property"),t=t("../internals/well-known-symbol"),l=t("iterator"),u=t("toStringTag"),c=a.values;for(r in o){var f=i[r],h=f&&f.prototype;if(h){if(h[l]!==c)try{s(h,l,c)}catch(t){h[l]=c}if(h[u]||s(h,u,r),o[r])for(var d in a)if(h[d]!==a[d])try{s(h,d,a[d])}catch(t){h[d]=a[d]}}}},{"../internals/create-non-enumerable-property":92,"../internals/dom-iterables":100,"../internals/global":116,"../internals/well-known-symbol":214,"../modules/es.array.iterator":230}],402:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/global"),t=t("../internals/task");r({global:!0,bind:!0,enumerable:!0,forced:!i.setImmediate||!i.clearImmediate},{setImmediate:t.set,clearImmediate:t.clear})},{"../internals/export":106,"../internals/global":116,"../internals/task":196}],403:[function(t,e,n){var r=t("../internals/export"),i=t("../internals/global"),o=t("../internals/microtask"),a=t("../internals/engine-is-node"),s=i.process;r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=a&&s.domain;o(e?e.bind(t):t)}})},{"../internals/engine-is-node":102,"../internals/export":106,"../internals/global":116,"../internals/microtask":143}],404:[function(t,e,n){"use strict";t("../modules/es.array.iterator");function i(e){try{return decodeURIComponent(e)}catch(t){return e}}function o(t){var e,n=t.replace(R," "),r=4;try{return decodeURIComponent(n)}catch(t){for(;r;)n=n.replace((e=r--,D[e-1]||(D[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))),i);return n}}function r(t){return F[t]}function a(t){return encodeURIComponent(t).replace(I,r)}function c(t,e){if(e)for(var n,r=e.split("&"),i=0;i<r.length;)(n=r[i++]).length&&(n=n.split("="),t.push({key:o(n.shift()),value:o(n.join("="))}))}function f(t){this.entries.length=0,c(this.entries,t)}function u(t,e){if(t<e)throw TypeError("Not enough arguments")}var s=t("../internals/export"),l=t("../internals/get-built-in"),h=t("../internals/native-url"),d=t("../internals/redefine"),p=t("../internals/redefine-all"),g=t("../internals/set-to-string-tag"),m=t("../internals/create-iterator-constructor"),y=t("../internals/internal-state"),v=t("../internals/an-instance"),b=t("../internals/has"),x=t("../internals/function-bind-context"),_=t("../internals/classof"),w=t("../internals/an-object"),k=t("../internals/is-object"),T=t("../internals/object-create"),M=t("../internals/create-property-descriptor"),A=t("../internals/get-iterator"),S=t("../internals/get-iterator-method"),t=t("../internals/well-known-symbol"),E=l("fetch"),C=l("Headers"),t=t("iterator"),O="URLSearchParams",j=O+"Iterator",P=y.set,N=y.getterFor(O),L=y.getterFor(j),R=/\+/g,D=Array(4),I=/[!'()~]|%20/g,F={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},z=m(function(t,e){P(this,{type:j,iterator:A(N(t).entries),kind:e})},"Iterator",function(){var t=L(this),e=t.kind,n=t.iterator.next(),t=n.value;return n.done||(n.value="keys"===e?t.key:"values"===e?t.value:[t.key,t.value]),n}),B=function(t){v(this,B,O);var e,n,r,i,o,a,s,l=0<arguments.length?t:void 0,u=[];if(P(this,{type:O,entries:u,updateURL:function(){},updateSearchParams:f}),void 0!==l)if(k(l))if("function"==typeof(t=S(l)))for(n=(e=t.call(l)).next;!(o=n.call(e)).done;){if((o=(i=(r=A(w(o.value))).next).call(r)).done||(a=i.call(r)).done||!i.call(r).done)throw TypeError("Expected sequence with length 2");u.push({key:o.value+"",value:a.value+""})}else for(s in l)b(l,s)&&u.push({key:s,value:l[s]+""});else c(u,"string"==typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},m=B.prototype;p(m,{append:function(t,e){u(arguments.length,2);var n=N(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){u(arguments.length,1);for(var e=N(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){u(arguments.length,1);for(var e=N(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){u(arguments.length,1);for(var e=N(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){u(arguments.length,1);for(var e=N(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){u(arguments.length,1);for(var n,r=N(this),i=r.entries,o=!1,a=t+"",s=e+"",l=0;l<i.length;l++)(n=i[l]).key===a&&(o?i.splice(l--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){for(var t,e,n=N(this),r=n.entries,i=r.slice(),o=r.length=0;o<i.length;o++){for(t=i[o],e=0;e<o;e++)if(r[e].key>t.key){r.splice(e,0,t);break}e===o&&r.push(t)}n.updateURL()},forEach:function(t,e){for(var n,r=N(this).entries,i=x(t,1<arguments.length?e:void 0,3),o=0;o<r.length;)i((n=r[o++]).value,n.key,this)},keys:function(){return new z(this,"keys")},values:function(){return new z(this,"values")},entries:function(){return new z(this,"entries")}},{enumerable:!0}),d(m,t,m.entries),d(m,"toString",function(){for(var t,e=N(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(a(t.key)+"="+a(t.value));return n.join("&")},{enumerable:!0}),g(B,O),s({global:!0,forced:!h},{URLSearchParams:B}),h||"function"!=typeof E||"function"!=typeof C||s({global:!0,enumerable:!0,forced:!0},{fetch:function(t,e){var n,r=[t];return 1<arguments.length&&(k(n=e)&&(t=n.body,_(t)===O&&((e=n.headers?new C(n.headers):new C).has("content-type")||e.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),n=T(n,{body:M(0,String(t)),headers:M(0,e)}))),r.push(n)),E.apply(this,r)}}),e.exports={URLSearchParams:B,getState:N}},{"../internals/an-instance":63,"../internals/an-object":64,"../internals/classof":83,"../internals/create-iterator-constructor":91,"../internals/create-property-descriptor":93,"../internals/export":106,"../internals/function-bind-context":111,"../internals/get-built-in":113,"../internals/get-iterator":115,"../internals/get-iterator-method":114,"../internals/has":117,"../internals/internal-state":127,"../internals/is-object":132,"../internals/native-url":146,"../internals/object-create":154,"../internals/redefine":174,"../internals/redefine-all":173,"../internals/set-to-string-tag":183,"../internals/well-known-symbol":214,"../modules/es.array.iterator":230}],405:[function(t,e,n){"use strict";t("../modules/es.string.iterator");function y(t,e){var n,r,i;if("["==e.charAt(0))return"]"==e.charAt(e.length-1)&&(n=$(e.slice(1,-1)))?void(t.host=n):D;if(rt(t))return e=M(e),G.test(e)||null===(n=Z(e))?D:void(t.host=n);if(W.test(e))return D;for(n="",r=T(e),i=0;i<r.length;i++)n+=et(r[i],Q);t.host=n}function c(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=N(t/256);return e.join(".")}if("object"!=typeof t)return t;for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)0!==t[o]?(n<i&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return n<i&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i=i&&!1,r===n?(e+=n?":":"::",i=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}function v(t){return""!=t.username||""!=t.password}function i(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme}function b(t,e){return 2==t.length&&F.test(t.charAt(0))&&(":"==(t=t.charAt(1))||!e&&"|"==t)}function x(t){var e;return 1<t.length&&b(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)}function _(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&b(e[0],!0)||e.pop()}function s(t,e,n,r){var i,o,a,s,l=n||it,u=0,c="",f=!1,h=!1,d=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(Y,"")),e=e.replace(X,""),i=T(e);u<=i.length;){switch(o=i[u],l){case it:if(!o||!F.test(o)){if(n)return R;l=at;continue}c+=o.toLowerCase(),l=ot;break;case ot:if(o&&(z.test(o)||"+"==o||"-"==o||"."==o))c+=o.toLowerCase();else{if(":"!=o){if(n)return R;c="",l=at,u=0;continue}if(n&&(rt(t)!=k(nt,c)||"file"==c&&(v(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=c,n)return void(rt(t)&&nt[t.scheme]==t.port&&(t.port=null));c="","file"==t.scheme?l=yt:rt(t)&&r&&r.scheme==t.scheme?l=st:rt(t)?l=ft:"/"==i[u+1]?(l=lt,u++):(t.cannotBeABaseURL=!0,t.path.push(""),l=wt)}break;case at:if(!r||r.cannotBeABaseURL&&"#"!=o)return R;if(r.cannotBeABaseURL&&"#"==o){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,l=Tt;break}l="file"==r.scheme?yt:ut;continue;case st:if("/"!=o||"/"!=i[u+1]){l=ut;continue}l=ht,u++;break;case lt:if("/"==o){l=dt;break}l=_t;continue;case ut:if(t.scheme=r.scheme,o==w)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==o||"\\"==o&&rt(t))l=ct;else if("?"==o)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",l=kt;else{if("#"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),l=_t;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",l=Tt}break;case ct:if(!rt(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,l=_t;continue}l=dt}else l=ht;break;case ft:if(l=ht,"/"!=o||"/"!=c.charAt(u+1))continue;u++;break;case ht:if("/"==o||"\\"==o)break;l=dt;continue;case dt:if("@"==o){f&&(c="%40"+c),f=!0,a=T(c);for(var p=0;p<a.length;p++){var g=a[p];":"!=g||d?(g=et(g,tt),d?t.password+=g:t.username+=g):d=!0}c=""}else if(o==w||"/"==o||"?"==o||"#"==o||"\\"==o&&rt(t)){if(f&&""==c)return"Invalid authority";u-=T(c).length+1,c="",l=pt}else c+=o;break;case pt:case gt:if(n&&"file"==t.scheme){l=bt;continue}if(":"!=o||h){if(o==w||"/"==o||"?"==o||"#"==o||"\\"==o&&rt(t)){if(rt(t)&&""==c)return D;if(n&&""==c&&(v(t)||null!==t.port))return;if(s=y(t,c))return s;if(c="",l=xt,n)return;continue}"["==o?h=!0:"]"==o&&(h=!1),c+=o}else{if(""==c)return D;if(s=y(t,c))return s;if(c="",l=mt,n==gt)return}break;case mt:if(!B.test(o)){if(o==w||"/"==o||"?"==o||"#"==o||"\\"==o&&rt(t)||n){if(""!=c){var m=parseInt(c,10);if(65535<m)return I;t.port=rt(t)&&m===nt[t.scheme]?null:m,c=""}if(n)return;l=xt;continue}return I}c+=o;break;case yt:if(t.scheme="file","/"==o||"\\"==o)l=vt;else{if(!r||"file"!=r.scheme){l=_t;continue}if(o==w)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==o)t.host=r.host,t.path=r.path.slice(),t.query="",l=kt;else{if("#"!=o){x(i.slice(u).join(""))||(t.host=r.host,t.path=r.path.slice(),_(t)),l=_t;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",l=Tt}}break;case vt:if("/"==o||"\\"==o){l=bt;break}r&&"file"==r.scheme&&!x(i.slice(u).join(""))&&(b(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),l=_t;continue;case bt:if(o==w||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&b(c))l=_t;else if(""==c){if(t.host="",n)return;l=xt}else{if(s=y(t,c))return s;if("localhost"==t.host&&(t.host=""),n)return;c="",l=xt}continue}c+=o;break;case xt:if(rt(t)){if(l=_t,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=w&&(l=_t,"/"!=o))continue}else t.fragment="",l=Tt;else t.query="",l=kt;break;case _t:if(o==w||"/"==o||"\\"==o&&rt(t)||!n&&("?"==o||"#"==o)){if(".."===(m=(m=c).toLowerCase())||"%2e."===m||".%2e"===m||"%2e%2e"===m?(_(t),"/"==o||"\\"==o&&rt(t)||t.path.push("")):"."===(m=c)||"%2e"===m.toLowerCase()?"/"==o||"\\"==o&&rt(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&b(c)&&(t.host&&(t.host=""),c=c.charAt(0)+":"),t.path.push(c)),c="","file"==t.scheme&&(o==w||"?"==o||"#"==o))for(;1<t.path.length&&""===t.path[0];)t.path.shift();"?"==o?(t.query="",l=kt):"#"==o&&(t.fragment="",l=Tt)}else c+=et(o,J);break;case wt:"?"==o?(t.query="",l=kt):"#"==o?(t.fragment="",l=Tt):o!=w&&(t.path[0]+=et(o,Q));break;case kt:n||"#"!=o?o!=w&&("'"==o&&rt(t)?t.query+="%27":t.query+="#"==o?"%23":et(o,Q)):(t.fragment="",l=Tt);break;case Tt:o!=w&&(t.fragment+=et(o,K))}u++}}var w,r,o,a=t("../internals/export"),l=t("../internals/descriptors"),u=t("../internals/native-url"),f=t("../internals/global"),h=t("../internals/object-define-properties"),d=t("../internals/redefine"),p=t("../internals/an-instance"),k=t("../internals/has"),g=t("../internals/object-assign"),T=t("../internals/array-from"),m=t("../internals/string-multibyte").codeAt,M=t("../internals/string-punycode-to-ascii"),A=t("../internals/set-to-string-tag"),S=t("../modules/web.url-search-params"),t=t("../internals/internal-state"),E=f.URL,C=S.URLSearchParams,O=S.getState,j=t.set,P=t.getterFor("URL"),N=Math.floor,L=Math.pow,R="Invalid scheme",D="Invalid host",I="Invalid port",F=/[A-Za-z]/,z=/[\d+-.A-Za-z]/,B=/\d/,U=/^(0x|0X)/,H=/^[0-7]+$/,q=/^\d+$/,V=/^[\dA-Fa-f]+$/,G=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,W=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Y=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,X=/[\u0009\u000A\u000D]/g,Z=function(t){var e,n,r,i,o,a,s,l=t.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),4<(e=l.length))return t;for(n=[],r=0;r<e;r++){if(""==(i=l[r]))return t;if(o=10,1<i.length&&"0"==i.charAt(0)&&(o=U.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?q:8==o?H:V).test(i))return t;a=parseInt(i,o)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=L(256,5-e))return null}else if(255<a)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*L(256,3-r);return s},$=function(t){function e(){return t.charAt(h)}var n,r,i,o,a,s,l,u=[0,0,0,0,0,0,0,0],c=0,f=null,h=0;if(":"==e()){if(":"!=t.charAt(1))return;h+=2,f=++c}for(;e();){if(8==c)return;if(":"!=e()){for(n=r=0;r<4&&V.test(e());)n=16*n+parseInt(e(),16),h++,r++;if("."==e()){if(0==r)return;if(h-=r,6<c)return;for(i=0;e();){if(o=null,0<i){if(!("."==e()&&i<4))return;h++}if(!B.test(e()))return;for(;B.test(e());){if(a=parseInt(e(),10),null===o)o=a;else{if(0==o)return;o=10*o+a}if(255<o)return;h++}u[c]=256*u[c]+o,2!=++i&&4!=i||c++}if(4!=i)return;break}if(":"==e()){if(h++,!e())return}else if(e())return;u[c++]=n}else{if(null!==f)return;h++,f=++c}}if(null!==f)for(s=c-f,c=7;0!=c&&0<s;)l=u[c],u[c--]=u[f+s-1],u[f+--s]=l;else if(8!=c)return;return u},Q={},K=g({},Q,{" ":1,'"':1,"<":1,">":1,"`":1}),J=g({},K,{"#":1,"?":1,"{":1,"}":1}),tt=g({},J,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),et=function(t,e){var n=m(t,0);return 32<n&&n<127&&!k(e,t)?t:encodeURIComponent(t)},nt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},rt=function(t){return k(nt,t.scheme)},it={},ot={},at={},st={},lt={},ut={},ct={},ft={},ht={},dt={},pt={},gt={},mt={},yt={},vt={},bt={},xt={},_t={},wt={},kt={},Tt={},Mt=function(t,e){var n,r=p(this,Mt,"URL"),e=1<arguments.length?e:void 0,t=String(t),i=j(r,{type:"URL"});if(void 0!==e)if(e instanceof Mt)n=P(e);else if(a=s(n={},String(e)))throw TypeError(a);if(a=s(i,t,null,n))throw TypeError(a);var o=i.searchParams=new C,a=O(o);a.updateSearchParams(i.query),a.updateURL=function(){i.query=String(o)||null},l||(r.href=At.call(r),r.origin=St.call(r),r.protocol=Et.call(r),r.username=Ct.call(r),r.password=Ot.call(r),r.host=jt.call(r),r.hostname=Pt.call(r),r.port=Nt.call(r),r.pathname=Lt.call(r),r.search=Rt.call(r),r.searchParams=Dt.call(r),r.hash=It.call(r))},t=Mt.prototype,At=function(){var t=P(this),e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,a=t.path,s=t.query,l=t.fragment,u=e+":";return null!==i?(u+="//",v(t)&&(u+=n+(r?":"+r:"")+"@"),u+=c(i),null!==o&&(u+=":"+o)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},St=function(){var t=P(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&rt(t)?e+"://"+c(t.host)+(null!==n?":"+n:""):"null"},Et=function(){return P(this).scheme+":"},Ct=function(){return P(this).username},Ot=function(){return P(this).password},jt=function(){var t=P(this),e=t.host,t=t.port;return null===e?"":null===t?c(e):c(e)+":"+t},Pt=function(){var t=P(this).host;return null===t?"":c(t)},Nt=function(){var t=P(this).port;return null===t?"":String(t)},Lt=function(){var t=P(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Rt=function(){var t=P(this).query;return t?"?"+t:""},Dt=function(){return P(this).searchParams},It=function(){var t=P(this).fragment;return t?"#"+t:""},g=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};l&&h(t,{href:g(At,function(t){var e=P(this),t=String(t),t=s(e,t);if(t)throw TypeError(t);O(e.searchParams).updateSearchParams(e.query)}),origin:g(St),protocol:g(Et,function(t){var e=P(this);s(e,String(t)+":",it)}),username:g(Ct,function(t){var e=P(this),n=T(String(t));if(!i(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=et(n[r],tt)}}),password:g(Ot,function(t){var e=P(this),n=T(String(t));if(!i(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=et(n[r],tt)}}),host:g(jt,function(t){var e=P(this);e.cannotBeABaseURL||s(e,String(t),pt)}),hostname:g(Pt,function(t){var e=P(this);e.cannotBeABaseURL||s(e,String(t),gt)}),port:g(Nt,function(t){var e=P(this);i(e)||(""==(t=String(t))?e.port=null:s(e,t,mt))}),pathname:g(Lt,function(t){var e=P(this);e.cannotBeABaseURL||(e.path=[],s(e,t+"",xt))}),search:g(Rt,function(t){var e=P(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",s(e,t,kt)),O(e.searchParams).updateSearchParams(e.query)}),searchParams:g(Dt),hash:g(It,function(t){var e=P(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",s(e,t,Tt)):e.fragment=null})}),d(t,"toJSON",function(){return At.call(this)},{enumerable:!0}),d(t,"toString",function(){return At.call(this)},{enumerable:!0}),E&&(r=E.createObjectURL,o=E.revokeObjectURL,r&&d(Mt,"createObjectURL",function(){return r.apply(E,arguments)}),o&&d(Mt,"revokeObjectURL",function(){return o.apply(E,arguments)})),A(Mt,"URL"),a({global:!0,forced:!u,sham:!l},{URL:Mt})},{"../internals/an-instance":63,"../internals/array-from":71,"../internals/descriptors":98,"../internals/export":106,"../internals/global":116,"../internals/has":117,"../internals/internal-state":127,"../internals/native-url":146,"../internals/object-assign":153,"../internals/object-define-properties":155,"../internals/redefine":174,"../internals/set-to-string-tag":183,"../internals/string-multibyte":189,"../internals/string-punycode-to-ascii":192,"../modules/es.string.iterator":330,"../modules/web.url-search-params":404}],406:[function(t,e,n){"use strict";t("../internals/export")({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},{"../internals/export":106}],407:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i,o){var a=i-1,s=i*i,l=a*a,u=(1+2*i)*l,c=i*l,f=s*(3-2*i),h=s*a;if(t.length){o=o||new Array(t.length);for(var d=t.length-1;0<=d;--d)o[d]=u*t[d]+c*e[d]+f*n[d]+h*r[d];return o}return u*t+c*e+f*n+h*r},e.exports.derivative=function(t,e,n,r,i,o){var a=6*i*i-6*i,s=3*i*i-4*i+1,l=-6*i*i+6*i,u=3*i*i-2*i;if(t.length){o=o||new Array(t.length);for(var c=t.length-1;0<=c;--c)o[c]=a*t[c]+s*e[c]+l*n[c]+u*r[c];return o}return a*t+s*e+l*n[c]+u*r}},{}],408:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=t("./lib/thunk.js");function s(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}e.exports=function(t){var e=new s;e.pre=t.pre,e.body=t.body,e.post=t.post;var n=t.args.slice(0);e.argTypes=n;for(var r=0;r<n.length;++r){var i=n[r];if("array"===i||"object"===o(i)&&i.blockIndices){if(e.argTypes[r]="array",e.arrayArgs.push(r),e.arrayBlockIndices.push(i.blockIndices||0),e.shimArgs.push("array"+r),r<e.pre.args.length&&0<e.pre.args[r].count)throw new Error("cwise: pre() block may not reference array args");if(r<e.post.args.length&&0<e.post.args[r].count)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===i)e.scalarArgs.push(r),e.shimArgs.push("scalar"+r);else if("index"===i){if(e.indexArgs.push(r),r<e.pre.args.length&&0<e.pre.args[r].count)throw new Error("cwise: pre() block may not reference array index");if(r<e.body.args.length&&e.body.args[r].lvalue)throw new Error("cwise: body() block may not write to array index");if(r<e.post.args.length&&0<e.post.args[r].count)throw new Error("cwise: post() block may not reference array index")}else if("shape"===i){if(e.shapeArgs.push(r),r<e.pre.args.length&&e.pre.args[r].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(r<e.body.args.length&&e.body.args[r].lvalue)throw new Error("cwise: body() block may not write to array shape");if(r<e.post.args.length&&e.post.args[r].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!==o(i)||!i.offset)throw new Error("cwise: Unknown argument type "+n[r]);e.argTypes[r]="offset",e.offsetArgs.push({array:i.array,offset:i.offset}),e.offsetArgIndex.push(r)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,a(e)}},{"./lib/thunk.js":410}],409:[function(t,e,n){"use strict";var _=t("uniq");function w(t,e,n){for(var r,i=t.length,o=e.arrayArgs.length,a=0<e.indexArgs.length,s=[],l=[],u=0,c=0,f=0;f<i;++f)l.push(["i",f,"=0"].join(""));for(r=0;r<o;++r)for(f=0;f<i;++f)c=u,u=t[f],0===f?l.push(["d",r,"s",f,"=t",r,"p",u].join("")):l.push(["d",r,"s",f,"=(t",r,"p",u,"-s",c,"*t",r,"p",c,")"].join(""));for(0<l.length&&s.push("var "+l.join(",")),f=i-1;0<=f;--f)u=t[f],s.push(["for(i",f,"=0;i",f,"<s",u,";++i",f,"){"].join(""));for(s.push(n),f=0;f<i;++f){for(c=u,u=t[f],r=0;r<o;++r)s.push(["p",r,"+=d",r,"s",f].join(""));a&&(0<f&&s.push(["index[",c,"]-=s",c].join("")),s.push(["++index[",u,"]"].join(""))),s.push("}")}return s.join("\n")}function k(t,e,n){for(var r=t.body,i=[],o=[],a=0;a<t.args.length;++a){var s=t.args[a];if(!(s.count<=0)){var l=new RegExp(s.name,"g"),u="",c=e.arrayArgs.indexOf(a);switch(e.argTypes[a]){case"offset":var f=e.offsetArgIndex.indexOf(a),c=e.offsetArgs[f].array,u="+q"+f;case"array":u="p"+c+u;var h="l"+a,f="a"+c;if(0===e.arrayBlockIndices[c])1===s.count?"generic"===n[c]?s.lvalue?(i.push(["var ",h,"=",f,".get(",u,")"].join("")),r=r.replace(l,h),o.push([f,".set(",u,",",h,")"].join(""))):r=r.replace(l,[f,".get(",u,")"].join("")):r=r.replace(l,[f,"[",u,"]"].join("")):"generic"===n[c]?(i.push(["var ",h,"=",f,".get(",u,")"].join("")),r=r.replace(l,h),s.lvalue&&o.push([f,".set(",u,",",h,")"].join(""))):(i.push(["var ",h,"=",f,"[",u,"]"].join("")),r=r.replace(l,h),s.lvalue&&o.push([f,"[",u,"]=",h].join("")));else{for(var d=[s.name],p=[u],g=0;g<Math.abs(e.arrayBlockIndices[c]);g++)d.push("\\s*\\[([^\\]]+)\\]"),p.push("$"+(g+1)+"*t"+c+"b"+g);if(l=new RegExp(d.join(""),"g"),u=p.join("+"),"generic"===n[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(l,[f,"[",u,"]"].join(""))}break;case"scalar":r=r.replace(l,"Y"+e.scalarArgs.indexOf(a));break;case"index":r=r.replace(l,"index");break;case"shape":r=r.replace(l,"shape")}}}return[i.join("\n"),r,o.join("\n")].join("\n").trim()}e.exports=function(t,e){for(var n=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,r=new Array(t.arrayArgs.length),i=new Array(t.arrayArgs.length),o=0;o<t.arrayArgs.length;++o)i[o]=e[2*o],r[o]=e[2*o+1];for(var a=[],s=[],l=[],u=[],c=[],o=0;o<t.arrayArgs.length;++o){t.arrayBlockIndices[o]<0?(l.push(0),u.push(n),a.push(n),s.push(n+t.arrayBlockIndices[o])):(l.push(t.arrayBlockIndices[o]),u.push(t.arrayBlockIndices[o]+n),a.push(0),s.push(t.arrayBlockIndices[o]));for(var f=[],h=0;h<r[o].length;h++)l[o]<=r[o][h]&&r[o][h]<u[o]&&f.push(r[o][h]-l[o]);c.push(f)}for(var d=["SS"],p=["'use strict'"],g=[],h=0;h<n;++h)g.push(["s",h,"=SS[",h,"]"].join(""));for(o=0;o<t.arrayArgs.length;++o){d.push("a"+o),d.push("t"+o),d.push("p"+o);for(h=0;h<n;++h)g.push(["t",o,"p",h,"=t",o,"[",l[o]+h,"]"].join(""));for(h=0;h<Math.abs(t.arrayBlockIndices[o]);++h)g.push(["t",o,"b",h,"=t",o,"[",a[o]+h,"]"].join(""))}for(o=0;o<t.scalarArgs.length;++o)d.push("Y"+o);if(0<t.shapeArgs.length&&g.push("shape=SS.slice(0)"),0<t.indexArgs.length){for(var m=new Array(n),o=0;o<n;++o)m[o]="0";g.push(["index=[",m.join(","),"]"].join(""))}for(o=0;o<t.offsetArgs.length;++o){for(var y=t.offsetArgs[o],v=[],h=0;h<y.offset.length;++h)0!==y.offset[h]&&(1===y.offset[h]?v.push(["t",y.array,"p",h].join("")):v.push([y.offset[h],"*t",y.array,"p",h].join("")));0===v.length?g.push("q"+o+"=0"):g.push(["q",o,"=",v.join("+")].join(""))}var b=_([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));for(0<(g=g.concat(b)).length&&p.push("var "+g.join(",")),o=0;o<t.arrayArgs.length;++o)p.push("p"+o+"|=0");3<t.pre.body.length&&p.push(k(t.pre,t,i));var x=k(t.body,t,i);return(b=function(t){for(var e=0,n=t[0].length;e<n;){for(var r=1;r<t.length;++r)if(t[r][e]!==t[0][e])return e;++e}return e}(c))<n?p.push(function(t,e,n,r){for(var i=e.length,o=n.arrayArgs.length,a=n.blockSize,s=0<n.indexArgs.length,l=[],u=0;u<o;++u)l.push(["var offset",u,"=p",u].join(""));for(u=t;u<i;++u)l.push(["for(var j"+u+"=SS[",e[u],"]|0;j",u,">0;){"].join("")),l.push(["if(j",u,"<",a,"){"].join("")),l.push(["s",e[u],"=j",u].join("")),l.push(["j",u,"=0"].join("")),l.push(["}else{s",e[u],"=",a].join("")),l.push(["j",u,"-=",a,"}"].join("")),s&&l.push(["index[",e[u],"]=j",u].join(""));for(u=0;u<o;++u){for(var c=["offset"+u],f=t;f<i;++f)c.push(["j",f,"*t",u,"p",e[f]].join(""));l.push(["p",u,"=(",c.join("+"),")"].join(""))}for(l.push(w(e,n,r)),u=t;u<i;++u)l.push("}");return l.join("\n")}(b,c[0],t,x)):p.push(w(c[0],t,x)),3<t.post.body.length&&p.push(k(t.post,t,i)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+p.join("\n")+"\n----------"),b=[t.funcName||"unnamed","_cwise_loop_",r[0].join("s"),"m",b,function(t){for(var e=new Array(t.length),n=!0,r=0;r<t.length;++r){var i=t[r],o=(o=i.match(/\d+/))?o[0]:"";0===i.charAt(0)?e[r]="u"+i.charAt(1)+o:e[r]=i.charAt(0)+o,0<r&&(n=n&&e[r]===e[r-1])}return n?e[0]:e.join("")}(i)].join(""),new Function(["function ",b,"(",d.join(","),"){",p.join("\n"),"} return ",b].join(""))()}},{uniq:1013}],410:[function(t,e,n){"use strict";var f=t("./compile.js");e.exports=function(t){var e=["'use strict'","var CACHED={}"],n=[],r=t.funcName+"_cwise_thunk";e.push(["return function ",r,"(",t.shimArgs.join(","),"){"].join(""));for(var i=[],o=[],a=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],s=[],l=[],u=0;u<t.arrayArgs.length;++u){var c=t.arrayArgs[u];n.push(["t",c,"=array",c,".dtype,","r",c,"=array",c,".order"].join("")),i.push("t"+c),i.push("r"+c),o.push("t"+c),o.push("r"+c+".join()"),a.push("array"+c+".data"),a.push("array"+c+".stride"),a.push("array"+c+".offset|0"),0<u&&(s.push("array"+t.arrayArgs[0]+".shape.length===array"+c+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[u]))),l.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+c+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[u])+"]"))}for(1<t.arrayArgs.length&&(e.push("if (!("+s.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),e.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}")),u=0;u<t.scalarArgs.length;++u)a.push("scalar"+t.scalarArgs[u]);return n.push(["type=[",o.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),e.push("var "+n.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",a.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------"),new Function("compile",e.join("\n"))(f.bind(void 0,t))}},{"./compile.js":409}],411:[function(t,e,n){"use strict";function X(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function s(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t){var l=regeneratorRuntime.mark(a),i=regeneratorRuntime.mark(F);function h(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function e(n){var r,i=n,o=n;function a(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;o(t[i],e)<0?n=1+i:r=i}return n}return 1===n.length&&(i=function(t,e){return n(t)-e},r=n,o=function(t,e){return h(r(t),e)}),{left:a,center:function(t,e,n,r){return null==n&&(n=0),null==r&&(r=t.length),r=a(t,e,n,r-1),n<r&&i(t[r-1],e)>-i(t[r],e)?r-1:r},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;0<o(t[i],e)?r=i:n=1+i}return n}}}function o(t){return null===t?NaN:+t}function a(e,n){var r,i,o,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==n){t.next=21;break}r=Q(e),t.prev=2,r.s();case 4:if((i=r.n()).done){t.next=11;break}if(null!=(s=i.value)&&(s=+s)>=s)return t.next=9,s;t.next=9;break;case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:t.next=40;break;case 21:o=-1,a=Q(e),t.prev=23,a.s();case 25:if((s=a.n()).done){t.next=32;break}if(s=s.value,null!=(s=n(s,++o,e))&&(s=+s)>=s)return t.next=30,s;t.next=30;break;case 30:t.next=25;break;case 32:t.next=37;break;case 34:t.prev=34,t.t1=t.catch(23),a.e(t.t1);case 37:return t.prev=37,a.f(),t.finish(37);case 40:case"end":return t.stop()}},l,null,[[2,13,16,19],[23,34,37,40]])}var n=e(h),y=n.right,r=n.left,s=e(o).center;function u(t,e){var n=0;if(void 0===e){var r=Q(t);try{for(r.s();!(i=r.n()).done;){var i=i.value;null!=i&&(i=+i)>=i&&++n}}catch(t){r.e(t)}finally{r.f()}}else{var o=-1,a=Q(t);try{for(a.s();!(s=a.n()).done;){var s=s.value;null!=(s=e(s,++o,t))&&(s=+s)>=s&&++n}}catch(t){a.e(t)}finally{a.f()}}return n}function c(t){return 0|t.length}function f(t){return!(0<t)}function d(t){return"object"!==K(t)||"length"in t?t:Array.from(t)}function p(t,e){var n,r=0,i=0,o=0;if(void 0===e){var a=Q(t);try{for(a.s();!(s=a.n()).done;){var s=s.value;null!=s&&(s=+s)>=s&&(o+=(n=s-i)*(s-(i+=n/++r)))}}catch(t){a.e(t)}finally{a.f()}}else{var l=-1,u=Q(t);try{for(u.s();!(c=u.n()).done;){var c=c.value;null!=(c=e(c,++l,t))&&(c=+c)>=c&&(o+=(n=c-i)*(c-(i+=n/++r)))}}catch(t){u.e(t)}finally{u.f()}}if(1<r)return o/(r-1)}function g(t,e){e=p(t,e);return e&&Math.sqrt(e)}function v(t,e){var n,r;if(void 0===e){var i=Q(t);try{for(i.s();!(o=i.n()).done;){var o=o.value;null!=o&&(void 0===n?o<=o&&(n=r=o):(o<n&&(n=o),r<o&&(r=o)))}}catch(t){i.e(t)}finally{i.f()}}else{var a=-1,s=Q(t);try{for(s.s();!(l=s.n()).done;){var l=l.value;null!=(l=e(l,++a,t))&&(void 0===n?l<=l&&(n=r=l):(l<n&&(n=l),r<l&&(r=l)))}}catch(t){s.e(t)}finally{s.f()}}return[n,r]}var m=function(){function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._partials=new Float64Array(32),this._n=0}var t,n,r;return t=e,(n=[{key:"add",value:function(t){for(var e=this._partials,n=0,r=0;r<this._n&&r<32;r++){var i=e[r],o=t+i,i=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);i&&(e[n++]=i),t=o}return e[n]=t,this._n=n+1,this}},{key:"valueOf",value:function(){var t,e,n,r=this._partials,i=this._n,o=0;if(0<i){for(o=r[--i];0<i&&(t=o,!(n=(e=r[--i])-((o=t+e)-t))););0<i&&(n<0&&r[i-1]<0||0<n&&0<r[i-1])&&(e=2*n)==(t=o+e)-o&&(o=t)}return o}}])&&Z(t.prototype,n),r&&Z(t,r),e}();function b(t){return t}function x(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function _(t,d,p,g){return function t(e,n){if(n>=g.length)return p(e);var r=new Map,i=g[n++],o=-1,a=Q(e);try{for(a.s();!(u=a.n()).done;){var s=u.value,l=i(s,++o,e),u=r.get(l);u?u.push(s):r.set(l,[s])}}catch(t){a.e(t)}finally{a.f()}var c=Q(r);try{for(c.s();!(h=c.n()).done;){var f=X(h.value,2),h=f[0],f=f[1];r.set(h,t(f,n))}}catch(t){c.e(t)}finally{c.f()}return d(r)}(t,0)}var w=Array.prototype.slice;function k(t){return function(){return t}}var T=Math.sqrt(50),M=Math.sqrt(10),A=Math.sqrt(2);function S(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=E(t,e,n))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(a=-a,t=Math.ceil(t*a),e=Math.floor(e*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)/a;return r&&o.reverse(),o}function E(t,e,n){t=(e-t)/Math.max(0,n),n=Math.floor(Math.log(t)/Math.LN10),t/=Math.pow(10,n);return 0<=n?(T<=t?10:M<=t?5:A<=t?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(T<=t?10:M<=t?5:A<=t?2:1)}function C(t,e,n){for(var r;;){var i=E(t,e,n);if(i===r||0===i||!isFinite(i))return[t,e];0<i?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function O(t){return Math.ceil(Math.log(u(t))/Math.LN2)+1}function j(){var p=b,g=v,m=O;function e(t){Array.isArray(t)||(t=Array.from(t));for(var e,n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=p(t[i],i,t);var o,a,s=g(r),l=s[0],u=s[1],c=m(r,l,u);Array.isArray(c)||(o=u,a=+c,g===v&&(l=(s=X(C(l,u,a),2))[0],u=s[1]),(c=S(l,u,a))[c.length-1]>=u&&(u<=o&&g===v?(a=E(l,u,a),isFinite(a)&&(0<a?u=(Math.floor(u/a)+1)*a:a<0&&(u=(Math.ceil(u*-a)+1)/-a))):c.pop()));for(var f=c.length;c[0]<=l;)c.shift(),--f;for(;c[f-1]>u;)c.pop(),--f;var h,d=new Array(f+1);for(i=0;i<=f;++i)(h=d[i]=[]).x0=0<i?c[i-1]:l,h.x1=i<f?c[i]:u;for(i=0;i<n;++i)l<=(e=r[i])&&e<=u&&d[y(c,e,0,f)].push(t[i]);return d}return e.value=function(t){return arguments.length?(p="function"==typeof t?t:k(t),e):p},e.domain=function(t){return arguments.length?(g="function"==typeof t?t:k([t[0],t[1]]),e):g},e.thresholds=function(t){return arguments.length?(m="function"==typeof t?t:Array.isArray(t)?k(w.call(t)):k(t),e):m},e}function P(t,e){var n;if(void 0===e){var r=Q(t);try{for(r.s();!(i=r.n()).done;){var i=i.value;null!=i&&(n<i||void 0===n&&i<=i)&&(n=i)}}catch(t){r.e(t)}finally{r.f()}}else{var o=-1,a=Q(t);try{for(a.s();!(s=a.n()).done;){var s=s.value;null!=(s=e(s,++o,t))&&(n<s||void 0===n&&s<=s)&&(n=s)}}catch(t){a.e(t)}finally{a.f()}}return n}function N(t,e){var n;if(void 0===e){var r=Q(t);try{for(r.s();!(i=r.n()).done;){var i=i.value;null!=i&&(i<n||void 0===n&&i<=i)&&(n=i)}}catch(t){r.e(t)}finally{r.f()}}else{var o=-1,a=Q(t);try{for(a.s();!(s=a.n()).done;){var s=s.value;null!=(s=e(s,++o,t))&&(s<n||void 0===n&&s<=s)&&(n=s)}}catch(t){a.e(t)}finally{a.f()}}return n}function L(t,e){for(var n,r,i,o,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:t.length-1,l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:h;a<s;){600<s-a&&(n=s-a+1,r=e-a+1,o=Math.log(n),i=.5*Math.exp(2*o/3),o=.5*Math.sqrt(o*i*(n-i)/n)*(r-n/2<0?-1:1),L(t,e,Math.max(a,Math.floor(e-r*i/n+o)),Math.min(s,Math.floor(e+(n-r)*i/n+o)),l));var u=t[e],c=a,f=s;for(R(t,a,e),0<l(t[s],u)&&R(t,a,s);c<f;){for(R(t,c,f),++c,--f;l(t[c],u)<0;)++c;for(;0<l(t[f],u);)--f}0===l(t[a],u)?R(t,a,f):R(t,++f,s),f<=e&&(a=f+1),e<=f&&(s=f-1)}return t}function R(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function D(t,e,n){if(r=(t=Float64Array.from(a(t,n))).length){if((e=+e)<=0||r<2)return N(t);if(1<=e)return P(t);var n=(r-1)*e,r=Math.floor(n),e=P(L(t,r).subarray(0,r+1));return e+(N(t.subarray(r+1))-e)*(n-r)}}function I(t,e){var n,r=-1,i=-1;if(void 0===e){var o=Q(t);try{for(o.s();!(a=o.n()).done;){var a=a.value;++i,null!=a&&(n<a||void 0===n&&a<=a)&&(n=a,r=i)}}catch(t){o.e(t)}finally{o.f()}}else{var s=Q(t);try{for(s.s();!(l=s.n()).done;){var l=l.value;null!=(l=e(l,++i,t))&&(n<l||void 0===n&&l<=l)&&(n=l,r=i)}}catch(t){s.e(t)}finally{s.f()}}return r}function F(e){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=Q(e),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=8;break}return r=r.value,t.delegateYield(r,"t0",6);case 6:t.next=3;break;case 8:t.next=13;break;case 10:t.prev=10,t.t1=t.catch(1),n.e(t.t1);case 13:return t.prev=13,n.f(),t.finish(13);case 16:case"end":return t.stop()}},i,null,[[1,10,13,16]])}function z(t,e){var n,r=-1,i=-1;if(void 0===e){var o=Q(t);try{for(o.s();!(a=o.n()).done;){var a=a.value;++i,null!=a&&(a<n||void 0===n&&a<=a)&&(n=a,r=i)}}catch(t){o.e(t)}finally{o.f()}}else{var s=Q(t);try{for(s.s();!(l=s.n()).done;){var l=l.value;null!=(l=e(l,++i,t))&&(l<n||void 0===n&&l<=l)&&(n=l,r=i)}}catch(t){s.e(t)}finally{s.f()}}return r}function B(t,e){return[t,e]}function U(e,t){return Array.from(t,function(t){return e[t]})}function H(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;if(1===n.length)return z(t,n);var r=-1,i=-1,o=Q(t);try{for(o.s();!(a=o.n()).done;){var a=a.value;++i,(r<0?0===n(a,a):n(a,e)<0)&&(e=a,r=i)}}catch(t){o.e(t)}finally{o.f()}return r}n=q(Math.random);function q(s){return function(t,e,n){for(var r=1<arguments.length&&void 0!==e?e:0,i=(2<arguments.length&&void 0!==n?n:t.length)-(r=+r);i;){var o=s()*i--|0,a=t[i+r];t[i+r]=t[o+r],t[o+r]=a}return t}}function V(t){if(!(i=t.length))return[];for(var e=-1,n=N(t,G),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function G(t){return t.length}function W(t){return t instanceof Set?t:new Set(t)}function Y(t,e){var n,r=t[Symbol.iterator](),i=new Set,o=Q(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(!i.has(a))for(var s,l,u;s=(u=r.next()).value,l=u.done,u;){if(l)return!1;if(i.add(s),Object.is(a,s))break}}}catch(t){o.e(t)}finally{o.f()}return!0}t.Adder=m,t.ascending=h,t.bin=j,t.bisect=y,t.bisectCenter=s,t.bisectLeft=r,t.bisectRight=y,t.bisector=e,t.count=u,t.cross=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var r,i="function"==typeof n[n.length-1]&&(r=n.pop(),function(t){return r.apply(void 0,$(t))}),o=(n=n.map(d)).map(c),a=n.length-1,s=new Array(1+a).fill(0),l=[];if(a<0||o.some(f))return l;for(;;){l.push(s.map(function(t,e){return n[e][t]}));for(var u=a;++s[u]===o[u];){if(0===u)return i?l.map(i):l;s[u--]=0}}},t.cumsum=function(e,n){var r=0,i=0;return Float64Array.from(e,void 0===n?function(t){return r+=+t||0}:function(t){return r+=+n(t,i++,e)||0})},t.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},t.deviation=g,t.difference=function(t){t=new Set(t);for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=Q(o[i]);try{for(a.s();!(s=a.n()).done;){var s=s.value;t.delete(s)}}catch(t){a.e(t)}finally{a.f()}}return t},t.disjoint=function(t,e){var n,r,i,o,a=e[Symbol.iterator](),s=new Set,l=Q(t);try{for(l.s();!(n=l.n()).done;){var u=n.value;if(s.has(u))return!1;for(;r=(o=a.next()).value,i=o.done,o;){if(i)break;if(Object.is(u,r))return!1;s.add(r)}}}catch(t){l.e(t)}finally{l.f()}return!0},t.every=function(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");var n,r=-1,i=Q(t);try{for(i.s();!(n=i.n()).done;)if(!e(n.value,++r,t))return!1}catch(t){i.e(t)}finally{i.f()}return!0},t.extent=v,t.filter=function(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");var n=[],r=-1,i=Q(t);try{for(i.s();!(o=i.n()).done;){var o=o.value;e(o,++r,t)&&n.push(o)}}catch(t){i.e(t)}finally{i.f()}return n},t.fsum=function(t,e){var n=new m;if(void 0===e){var r=Q(t);try{for(r.s();!(i=r.n()).done;){var i=i.value;(i=+i)&&n.add(i)}}catch(t){r.e(t)}finally{r.f()}}else{var o=-1,a=Q(t);try{for(a.s();!(s=a.n()).done;){var s=s.value;(s=+e(s,++o,t))&&n.add(s)}}catch(t){a.e(t)}finally{a.f()}}return+n},t.greatest=function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h,r=!1;if(1===n.length){var i,o=Q(t);try{for(o.s();!(s=o.n()).done;){var a=s.value,s=n(a);(r?0<h(s,i):0===h(s,s))&&(e=a,i=s,r=!0)}}catch(t){o.e(t)}finally{o.f()}}else{var l=Q(t);try{for(l.s();!(u=l.n()).done;){var u=u.value;(r?0<n(u,e):0===n(u,u))&&(e=u,r=!0)}}catch(t){l.e(t)}finally{l.f()}}return e},t.greatestIndex=function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;if(1===n.length)return I(t,n);var r=-1,i=-1,o=Q(t);try{for(o.s();!(a=o.n()).done;){var a=a.value;++i,(r<0?0===n(a,a):0<n(a,e))&&(e=a,r=i)}}catch(t){o.e(t)}finally{o.f()}return r},t.group=function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return _(t,b,b,n)},t.groups=function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return _(t,Array.from,b,n)},t.histogram=j,t.index=function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return _(t,b,x,n)},t.indexes=function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return _(t,Array.from,x,n)},t.intersection=function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t=new Set(t),n=n.map(W);var i,o=Q(t);try{t:for(o.s();!(i=o.n()).done;){var a,s=i.value,l=Q(n);try{for(l.s();!(a=l.n()).done;)if(!a.value.has(s)){t.delete(s);continue t}}catch(t){l.e(t)}finally{l.f()}}}catch(t){o.e(t)}finally{o.f()}return t},t.least=function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h,r=!1;if(1===n.length){var i,o=Q(t);try{for(o.s();!(s=o.n()).done;){var a=s.value,s=n(a);(r?h(s,i)<0:0===h(s,s))&&(e=a,i=s,r=!0)}}catch(t){o.e(t)}finally{o.f()}}else{var l=Q(t);try{for(l.s();!(u=l.n()).done;){var u=u.value;(r?n(u,e)<0:0===n(u,u))&&(e=u,r=!0)}}catch(t){l.e(t)}finally{l.f()}}return e},t.leastIndex=H,t.map=function(n,r){if("function"!=typeof n[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof r)throw new TypeError("mapper is not a function");return Array.from(n,function(t,e){return r(t,e,n)})},t.max=P,t.maxIndex=I,t.mean=function(t,e){var n=0,r=0;if(void 0===e){var i=Q(t);try{for(i.s();!(o=i.n()).done;){var o=o.value;null!=o&&(o=+o)>=o&&(++n,r+=o)}}catch(t){i.e(t)}finally{i.f()}}else{var a=-1,s=Q(t);try{for(s.s();!(l=s.n()).done;){var l=l.value;null!=(l=e(l,++a,t))&&(l=+l)>=l&&(++n,r+=l)}}catch(t){s.e(t)}finally{s.f()}}if(n)return r/n},t.median=function(t,e){return D(t,.5,e)},t.merge=function(t){return Array.from(F(t))},t.min=N,t.minIndex=z,t.nice=C,t.pairs=function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:B,r=[],i=!1,o=Q(t);try{for(o.s();!(a=o.n()).done;){var a=a.value;i&&r.push(n(e,a)),e=a,i=!0}}catch(t){o.e(t)}finally{o.f()}return r},t.permute=U,t.quantile=D,t.quantileSorted=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:o;if(i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(1<=e)return+n(t[i-1],i-1,t);var r=(i-1)*e,i=Math.floor(r),e=+n(t[i],i,t);return e+(+n(t[i+1],i+1,t)-e)*(r-i)}},t.quickselect=L,t.range=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},t.reduce=function(t,e,n){if("function"!=typeof e)throw new TypeError("reducer is not a function");var r,i=t[Symbol.iterator](),o=-1;if(arguments.length<3){var a=i.next(),s=a.done;if(n=a.value,s)return;++o}for(;s=(r=i.next()).done,r=r.value,!s;)n=e(n,r,++o,t);return n},t.reverse=function(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()},t.rollup=function(t,e){for(var n=arguments.length,r=new Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return _(t,b,e,r)},t.rollups=function(t,e){for(var n=arguments.length,r=new Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return _(t,Array.from,e,r)},t.scan=function(t,e){return(e=H(t,e))<0?void 0:e},t.shuffle=n,t.shuffler=q,t.some=function(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");var n,r=-1,i=Q(t);try{for(i.s();!(n=i.n()).done;)if(e(n.value,++r,t))return!0}catch(t){i.e(t)}finally{i.f()}return!1},t.sort=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return t=Array.from(t),1===n.length?(n=t.map(n),U(t,t.map(function(t,e){return e}).sort(function(t,e){return h(n[t],n[e])}))):t.sort(n)},t.subset=function(t,e){return Y(e,t)},t.sum=function(t,e){var n=0;if(void 0===e){var r=Q(t);try{for(r.s();!(i=r.n()).done;){var i=i.value;(i=+i)&&(n+=i)}}catch(t){r.e(t)}finally{r.f()}}else{var o=-1,a=Q(t);try{for(a.s();!(s=a.n()).done;){var s=s.value;(s=+e(s,++o,t))&&(n+=s)}}catch(t){a.e(t)}finally{a.f()}}return n},t.superset=Y,t.thresholdFreedmanDiaconis=function(t,e,n){return Math.ceil((n-e)/(2*(D(t,.75)-D(t,.25))*Math.pow(u(t),-1/3)))},t.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*g(t)*Math.pow(u(t),-1/3)))},t.thresholdSturges=O,t.tickIncrement=E,t.tickStep=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),n=Math.pow(10,Math.floor(Math.log(r)/Math.LN10));return T<=(r=r/n)?n*=10:M<=r?n*=5:A<=r&&(n*=2),e<t?-n:n},t.ticks=S,t.transpose=V,t.union=function(){for(var t=new Set,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=Q(o[i]);try{for(a.s();!(s=a.n()).done;){var s=s.value;t.add(s)}}catch(t){a.e(t)}finally{a.f()}}return t},t.variance=p,t.zip=function(){return V(arguments)},Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":K(n))&&void 0!==e?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o((i="undefined"!=typeof globalThis?globalThis:i||self).d3=i.d3||{})},{}],412:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t){var n=Array.prototype.slice;function T(t){return t}var M=1,A=2,S=3,E=4,C=1e-6;function r(t){return"translate("+(t+.5)+",0)"}function i(t){return"translate(0,"+(t+.5)+")"}function O(){return!this.__axis}function e(d,p){var g=[],m=null,y=null,v=6,b=6,x=3,_=d===M||d===E?-1:1,w=d===E||d===A?"x":"y",k=d===M||d===S?r:i;function e(t){var e=null==m?p.ticks?p.ticks.apply(p,g):p.domain():m,n=null==y?p.tickFormat?p.tickFormat.apply(p,g):T:y,r=Math.max(v,0)+x,i=p.range(),o=+i[0]+.5,a=+i[i.length-1]+.5,s=(p.bandwidth?function(e){var n=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(n=Math.round(n)),function(t){return+e(t)+n}}:function(e){return function(t){return+e(t)}})(p.copy()),l=t.selection?t.selection():t,u=l.selectAll(".domain").data([null]),c=(h=l.selectAll(".tick").data(e,p).order()).exit(),f=h.enter().append("g").attr("class","tick"),i=h.select("line"),e=h.select("text"),u=u.merge(u.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),h=h.merge(f),i=i.merge(f.append("line").attr("stroke","currentColor").attr(w+"2",_*v)),e=e.merge(f.append("text").attr("fill","currentColor").attr(w,_*r).attr("dy",d===M?"0em":d===S?"0.71em":"0.32em"));t!==l&&(u=u.transition(t),h=h.transition(t),i=i.transition(t),e=e.transition(t),c=c.transition(t).attr("opacity",C).attr("transform",function(t){return isFinite(t=s(t))?k(t):this.getAttribute("transform")}),f.attr("opacity",C).attr("transform",function(t){var e=this.parentNode.__axis;return k(e&&isFinite(e=e(t))?e:s(t))})),c.remove(),u.attr("d",d===E||d==A?b?"M"+_*b+","+o+"H0.5V"+a+"H"+_*b:"M0.5,"+o+"V"+a:b?"M"+o+","+_*b+"V0.5H"+a+"V"+_*b:"M"+o+",0.5H"+a),h.attr("opacity",1).attr("transform",function(t){return k(s(t))}),i.attr(w+"2",_*v),e.attr(w,_*r).text(n),l.filter(O).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",d===A?"start":d===E?"end":"middle"),l.each(function(){this.__axis=s})}return e.scale=function(t){return arguments.length?(p=t,e):p},e.ticks=function(){return g=n.call(arguments),e},e.tickArguments=function(t){return arguments.length?(g=null==t?[]:n.call(t),e):g.slice()},e.tickValues=function(t){return arguments.length?(m=null==t?null:n.call(t),e):m&&m.slice()},e.tickFormat=function(t){return arguments.length?(y=t,e):y},e.tickSize=function(t){return arguments.length?(v=b=+t,e):v},e.tickSizeInner=function(t){return arguments.length?(v=+t,e):v},e.tickSizeOuter=function(t){return arguments.length?(b=+t,e):b},e.tickPadding=function(t){return arguments.length?(x=+t,e):x},e}t.axisBottom=function(t){return e(S,t)},t.axisLeft=function(t){return e(E,t)},t.axisRight=function(t){return e(A,t)},t.axisTop=function(t){return e(M,t)},Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o((i=i||self).d3=i.d3||{})},{}],413:[function(t,e,n){"use strict";function at(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t,f,U,h,H,q){var d=function(t){return function(){return t}};function p(t,e){var n=e.sourceEvent,r=e.target,i=e.selection,o=e.mode,e=e.dispatch;Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:e}})}function V(t){t.preventDefault(),t.stopImmediatePropagation()}var G={name:"drag"},W={name:"space"},Y={name:"handle"},X={name:"center"},Z=Math.abs,$=Math.max,Q=Math.min;function e(t){return[+t[0],+t[1]]}function g(t){return[e(t[0]),e(t[1])]}var K={name:"x",handles:["w","e"].map(m),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},J={name:"y",handles:["n","s"].map(m),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},n={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(m),input:function(t){return null==t?null:g(t)},output:function(t){return t}},tt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},et={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},nt={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},rt={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},it={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function m(t){return{type:t}}function y(t){return!t.ctrlKey&&!t.button}function v(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function b(){return navigator.maxTouchPoints||"ontouchstart"in this}function ot(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function r(R){var D,e=v,I=y,n=b,F=!0,i=f.dispatch("start","brush","end"),r=6;function o(t){var e=t.property("__brush",c).selectAll(".overlay").data([m("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",tt.overlay).merge(e).each(function(){var t=ot(this).extent;H.select(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([m("selection")]).enter().append("rect").attr("class","selection").attr("cursor",tt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");e=t.selectAll(".handle").data(R.handles,function(t){return t.type});e.exit().remove(),e.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return tt[t.type]}),t.each(z).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",s).filter(n).on("touchstart.brush",s).on("touchmove.brush",l).on("touchend.brush touchcancel.brush",u).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function z(){var t=H.select(this),e=ot(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-r/2:e[0][0]-r/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-r/2:e[0][1]-r/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+r:r}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+r:r})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function B(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new a(t,e,n):r}function a(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function s(t){var u,i,o,a,s,l,c,f,h,d,p,g,m,y,v,b,x,_,w,k,T,M,A,S,E,C,e,n,O,j,r;function P(t){var e,n,r=at(t.changedTouches||[t]);try{for(r.s();!(e=r.n()).done;){var i=e.value,o=at(C);try{for(o.s();!(a=o.n()).done;){var a=a.value;a.identifier===i.identifier&&(a.cur=H.pointer(i,u))}}catch(t){o.e(t)}finally{o.f()}}}catch(t){r.e(t)}finally{r.f()}!A||S||E||1!==C.length||(n=C[0],Z(n.cur[0]-n[0])>Z(n.cur[1]-n[1])?E=!0:S=!0);var s=at(C);try{for(s.s();!(l=s.n()).done;){var l=l.value;l.cur&&(l[0]=l.cur[0],l[1]=l.cur[1])}}catch(t){s.e(t)}finally{s.f()}M=!0,V(t),N(t)}function N(t){var e,n=C[0],r=n.point0;switch(k=n[0]-r[0],T=n[1]-r[1],o){case W:case G:a&&(k=$(f-h,Q(y-v,k)),d=h+k,b=v+k),s&&(T=$(p-g,Q(x-_,T)),m=g+T,w=_+T);break;case Y:C[1]?(a&&(d=$(f,Q(y,C[0][0])),b=$(f,Q(y,C[1][0])),a=1),s&&(m=$(p,Q(x,C[0][1])),w=$(p,Q(x,C[1][1])),s=1)):(a<0?(k=$(f-h,Q(y-h,k)),d=h+k,b=v):0<a&&(k=$(f-v,Q(y-v,k)),d=h,b=v+k),s<0?(T=$(p-g,Q(x-g,T)),m=g+T,w=_):0<s&&(T=$(p-_,Q(x-_,T)),m=g,w=_+T));break;case X:a&&(d=$(f,Q(y,h-k*a)),b=$(f,Q(y,v+k*a))),s&&(m=$(p,Q(x,g-T*s)),w=$(p,Q(x,_+T*s)))}b<d&&(a*=-1,e=h,h=v,v=e,e=d,d=b,b=e,i in et&&O.attr("cursor",tt[i=et[i]])),w<m&&(s*=-1,e=g,g=_,_=e,e=m,m=w,w=e,i in nt&&O.attr("cursor",tt[i=nt[i]])),l.selection&&(c=l.selection),S&&(d=c[0][0],b=c[1][0]),E&&(m=c[0][1],w=c[1][1]),c[0][0]===d&&c[0][1]===m&&c[1][0]===b&&c[1][1]===w||(l.selection=[[d,m],[b,w]],z.call(u),j.brush(t,o.name))}function L(t){if(t.stopImmediatePropagation(),t.touches){if(t.touches.length)return;D&&clearTimeout(D),D=setTimeout(function(){D=null},500)}else U.dragEnable(t.view,M),r.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);var e;n.attr("pointer-events","all"),O.attr("cursor",tt.overlay),l.selection&&(c=l.selection),(e=c)[0][0]!==e[1][0]&&e[0][1]!==e[1][1]||(l.selection=null,z.call(u)),j.end(t,o.name)}D&&!t.touches||I.apply(this,arguments)&&(u=this,i=t.target.__data__.type,o="selection"===(F&&t.metaKey?i="overlay":i)?G:F&&t.altKey?X:Y,a=R===J?null:rt[i],s=R===K?null:it[i],e=(l=ot(u)).extent,c=l.selection,f=e[0][0],p=e[0][1],y=e[1][0],x=e[1][1],T=k=0,A=a&&s&&F&&t.shiftKey,C=Array.from(t.touches||[t],function(t){var e=t.identifier;return(t=H.pointer(t,u)).point0=t.slice(),t.identifier=e,t}),"overlay"===i?(c&&(M=!0),e=[C[0],C[1]||C[0]],l.selection=c=[[h=R===J?f:Q(e[0][0],e[1][0]),g=R===K?p:Q(e[0][1],e[1][1])],[v=R===J?y:$(e[0][0],e[1][0]),_=R===K?x:$(e[0][1],e[1][1])]],1<C.length&&N()):(h=c[0][0],g=c[0][1],v=c[1][0],_=c[1][1]),d=h,m=g,b=v,w=_,n=H.select(u).attr("pointer-events","none"),O=n.selectAll(".overlay").attr("cursor",tt[i]),q.interrupt(u),j=B(u,arguments,!0).beforestart(),t.touches?(j.moved=P,j.ended=L):(r=H.select(t.view).on("mousemove.brush",P,!0).on("mouseup.brush",L,!0),F&&r.on("keydown.brush",function(t){switch(t.keyCode){case 16:A=a&&s;break;case 18:o===Y&&(a&&(v=b-k*a,h=d+k*a),s&&(_=w-T*s,g=m+T*s),o=X,N());break;case 32:o!==Y&&o!==X||(a<0?v=b-k:0<a&&(h=d-k),s<0?_=w-T:0<s&&(g=m-T),o=W,O.attr("cursor",tt.selection),N());break;default:return}V(t)},!0).on("keyup.brush",function(t){switch(t.keyCode){case 16:A&&(S=E=A=!1,N());break;case 18:o===X&&(a<0?v=b:0<a&&(h=d),s<0?_=w:0<s&&(g=m),o=Y,N());break;case 32:o===W&&(o=t.altKey?(a&&(v=b-k*a,h=d+k*a),s&&(_=w-T*s,g=m+T*s),X):(a<0?v=b:0<a&&(h=d),s<0?_=w:0<s&&(g=m),Y),O.attr("cursor",tt[i]),N());break;default:return}V(t)},!0),U.dragDisable(t.view)),z.call(u),j.start(t,o.name))}function l(t){B(this,arguments).moved(t)}function u(t){B(this,arguments).ended(t)}function c(){var t=this.__brush||{selection:null};return t.extent=g(e.apply(this,arguments)),t.dim=R,t}return o.move=function(t,s){t.tween?t.on("start.brush",function(t){B(this,arguments).beforestart().start(t)}).on("interrupt.brush end.brush",function(t){B(this,arguments).end(t)}).tween("brush",function(){var e=this,n=e.__brush,r=B(e,arguments),t=n.selection,i=R.input("function"==typeof s?s.apply(this,arguments):s,n.extent),o=h.interpolate(t,i);function a(t){n.selection=1===t&&null===i?null:o(t),z.call(e),r.brush()}return null!==t&&null!==i?a:a(1)}):t.each(function(){var t=arguments,e=this.__brush,n=R.input("function"==typeof s?s.apply(this,t):s,e.extent),t=B(this,t).beforestart();q.interrupt(this),e.selection=null===n?null:n,z.call(this),t.start().brush().end()})},o.clear=function(t){o.move(t,null)},a.prototype={beforestart:function(){return 1==++this.active&&((this.state.emitter=this).starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(t,e,n){var r=H.select(this.that).datum();i.call(t,this.that,new p(t,{sourceEvent:e,target:o,selection:R.output(this.state.selection),mode:n,dispatch:i}),r)}},o.extent=function(t){return arguments.length?(e="function"==typeof t?t:d(g(t)),o):e},o.filter=function(t){return arguments.length?(I="function"==typeof t?t:d(!!t),o):I},o.touchable=function(t){return arguments.length?(n="function"==typeof t?t:d(!!t),o):n},o.handleSize=function(t){return arguments.length?(r=+t,o):r},o.keyModifiers=function(t){return arguments.length?(F=!!t,o):F},o.on=function(){var t=i.on.apply(i,arguments);return t===i?o:t},o}t.brush=function(){return r(n)},t.brushSelection=function(t){return(t=t.__brush)?t.dim.output(t.selection):null},t.brushX=function(){return r(K)},t.brushY=function(){return r(J)},Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n,t("d3-dispatch"),t("d3-drag"),t("d3-interpolate"),t("d3-selection"),t("d3-transition")):"function"==typeof define&&define.amd?define(["exports","d3-dispatch","d3-drag","d3-interpolate","d3-selection","d3-transition"],o):o((i=i||self).d3=i.d3||{},i.d3,i.d3,i.d3,i.d3,i.d3)},{"d3-dispatch":418,"d3-drag":419,"d3-interpolate":427,"d3-selection":434,"d3-transition":438}],414:[function(t,e,n){"use strict";function C(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t,y){var v=Math.abs,b=Math.cos,x=Math.sin,e=Math.PI,_=e/2,w=2*e,k=Math.max,T=1e-12;function M(n,t){return Array.from({length:t-n},function(t,e){return n+e})}function n(y,o){var a=0,s=null,v=null,b=null;function e(l){var u,c=l.length,f=new Array(c),t=M(0,c),h=new Array(c*c),d=new Array(c),p=0;l=Float64Array.from({length:c*c},o?function(t,e){return l[e%c][e/c|0]}:function(t,e){return l[e/c|0][e%c]});for(var e=0;e<c;++e){for(var n=0,r=0;r<c;++r)n+=l[e*c+r]+y*l[r*c+e];p+=f[e]=n}p=k(0,w-a*c)/p,u=p?a:w/c;var g=0;s&&t.sort(function(t,e){return s(f[t],f[e])});var m,i=C(t);try{for(i.s();!(m=i.n()).done;)!function(){var n=m.value,t=g;if(y){var e=M(1+~c,c).filter(function(t){return t<0?l[~t*c+n]:l[n*c+t]});v&&e.sort(function(t,e){return v(t<0?-l[~t*c+n]:l[n*c+t],e<0?-l[~e*c+n]:l[n*c+e])});var r=C(e);try{for(r.s();!(i=r.n()).done;){var i=i.value;i<0?(h[~i*c+n]||(h[~i*c+n]={source:null,target:null})).target={index:n,startAngle:g,endAngle:g+=l[~i*c+n]*p,value:l[~i*c+n]}:(h[n*c+i]||(h[n*c+i]={source:null,target:null})).source={index:n,startAngle:g,endAngle:g+=l[n*c+i]*p,value:l[n*c+i]}}}catch(t){r.e(t)}finally{r.f()}d[n]={index:n,startAngle:t,endAngle:g,value:f[n]}}else{e=M(0,c).filter(function(t){return l[n*c+t]||l[t*c+n]});v&&e.sort(function(t,e){return v(l[n*c+t],l[n*c+e])});var o=C(e);try{for(o.s();!(s=o.n()).done;){var a=s.value,s=void 0;n<a?(s=h[n*c+a]||(h[n*c+a]={source:null,target:null})).source={index:n,startAngle:g,endAngle:g+=l[n*c+a]*p,value:l[n*c+a]}:((s=h[a*c+n]||(h[a*c+n]={source:null,target:null})).target={index:n,startAngle:g,endAngle:g+=l[n*c+a]*p,value:l[n*c+a]},n===a&&(s.source=s.target)),s.source&&s.target&&s.source.value<s.target.value&&(a=s.source,s.source=s.target,s.target=a)}}catch(t){o.e(t)}finally{o.f()}d[n]={index:n,startAngle:t,endAngle:g,value:f[n]}}g+=u}()}catch(t){i.e(t)}finally{i.f()}return(h=Object.values(h)).groups=d,b?h.sort(b):h}return e.padAngle=function(t){return arguments.length?(a=k(0,t),e):a},e.sortGroups=function(t){return arguments.length?(s=t,e):s},e.sortSubgroups=function(t){return arguments.length?(v=t,e):v},e.sortChords=function(t){return arguments.length?(null==t?b=null:(b=function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)})._=n=t,e):b&&b._;var n},e}var A=Array.prototype.slice;function r(t){return function(){return t}}function i(t){return t.source}function o(t){return t.target}function a(t){return t.radius}function s(t){return t.startAngle}function S(t){return t.endAngle}function E(){return 0}function l(){return 10}function u(l){var u=i,c=o,f=a,h=a,d=s,p=S,g=E,m=null;function e(){var t,e=u.apply(this,arguments),n=c.apply(this,arguments),r=g.apply(this,arguments)/2,i=A.call(arguments),o=+f.apply(this,(i[0]=e,i)),a=d.apply(this,i)-_,s=p.apply(this,i)-_,e=+h.apply(this,(i[0]=n,i)),n=d.apply(this,i)-_,i=p.apply(this,i)-_;if(m=m||(t=y.path()),T<r&&(v(s-a)>2*r+T?a<s?(a+=r,s-=r):(a-=r,s+=r):a=s=(a+s)/2,v(i-n)>2*r+T?n<i?(n+=r,i-=r):(n-=r,i+=r):n=i=(n+i)/2),m.moveTo(o*b(a),o*x(a)),m.arc(0,0,o,a,s),a===n&&s===i||(l?(r=e-+l.apply(this,arguments),s=(n+i)/2,m.quadraticCurveTo(0,0,r*b(n),r*x(n)),m.lineTo(e*b(s),e*x(s)),m.lineTo(r*b(i),r*x(i))):(m.quadraticCurveTo(0,0,e*b(n),e*x(n)),m.arc(0,0,e,n,i))),m.quadraticCurveTo(0,0,o*b(a),o*x(a)),m.closePath(),t)return m=null,t+""||null}return l&&(e.headRadius=function(t){return arguments.length?(l="function"==typeof t?t:r(+t),e):l}),e.radius=function(t){return arguments.length?(f=h="function"==typeof t?t:r(+t),e):f},e.sourceRadius=function(t){return arguments.length?(f="function"==typeof t?t:r(+t),e):f},e.targetRadius=function(t){return arguments.length?(h="function"==typeof t?t:r(+t),e):h},e.startAngle=function(t){return arguments.length?(d="function"==typeof t?t:r(+t),e):d},e.endAngle=function(t){return arguments.length?(p="function"==typeof t?t:r(+t),e):p},e.padAngle=function(t){return arguments.length?(g="function"==typeof t?t:r(+t),e):g},e.source=function(t){return arguments.length?(u=t,e):u},e.target=function(t){return arguments.length?(c=t,e):c},e.context=function(t){return arguments.length?(m=null==t?null:t,e):m},e}t.chord=function(){return n(!1,!1)},t.chordDirected=function(){return n(!0,!1)},t.chordTranspose=function(){return n(!1,!0)},t.ribbon=function(){return u()},t.ribbonArrow=function(){return u(l)},Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n,t("d3-path")):"function"==typeof define&&define.amd?define(["exports","d3-path"],o):o((i=i||self).d3=i.d3||{},i.d3)},{"d3-path":428}],415:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t){function e(t,e,n){(t.prototype=e.prototype=n).constructor=t}function n(t,e){var n,r=Object.create(t.prototype);for(n in e)r[n]=e[n];return r}function u(){}var r="\\s*([+-]?\\d+)\\s*",i="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",o="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",a=/^#([0-9a-f]{3,8})$/,s=new RegExp("^rgb\\("+[r,r,r]+"\\)$"),l=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),c=new RegExp("^rgba\\("+[r,r,r,i]+"\\)$"),f=new RegExp("^rgba\\("+[o,o,o,i]+"\\)$"),h=new RegExp("^hsl\\("+[i,o,o]+"\\)$"),d=new RegExp("^hsla\\("+[i,o,o,i]+"\\)$"),p={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function g(){return this.rgb().formatHex()}function m(){return this.rgb().formatRgb()}function y(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=a.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?v(e):3===n?new w(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?b(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?b(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=s.exec(t))?new w(e[1],e[2],e[3],1):(e=l.exec(t))?new w(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=c.exec(t))?b(e[1],e[2],e[3],e[4]):(e=f.exec(t))?b(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=h.exec(t))?A(e[1],e[2]/100,e[3]/100,1):(e=d.exec(t))?A(e[1],e[2]/100,e[3]/100,e[4]):p.hasOwnProperty(t)?v(p[t]):"transparent"===t?new w(NaN,NaN,NaN,0):null}function v(t){return new w(t>>16&255,t>>8&255,255&t,1)}function b(t,e,n,r){return r<=0&&(t=e=n=NaN),new w(t,e,n,r)}function x(t){return t instanceof u||(t=y(t)),t?new w((t=t.rgb()).r,t.g,t.b,t.opacity):new w}function _(t,e,n,r){return 1===arguments.length?x(t):new w(t,e,n,null==r?1:r)}function w(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function k(){return"#"+M(this.r)+M(this.g)+M(this.b)}function T(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function M(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function A(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new C(t,e,n,r)}function S(t){if(t instanceof C)return new C(t.h,t.s,t.l,t.opacity);if(t instanceof u||(t=y(t)),!t)return new C;if(t instanceof C)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=0<l&&l<1?0:a,new C(a,s,l,t.opacity)}function E(t,e,n,r){return 1===arguments.length?S(t):new C(t,e,n,null==r?1:r)}function C(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function O(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}e(u,y,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:g,formatHex:g,formatHsl:function(){return S(this).formatHsl()},formatRgb:m,toString:m}),e(w,_,n(u,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new w(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new w(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k,formatHex:k,formatRgb:T,toString:T})),e(C,E,n(u,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new C(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new C(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,e=n+(n<.5?n:1-n)*e,n=2*n-e;return new w(O(240<=t?t-240:120+t,n,e),O(t,n,e),O(t<120?240+t:t-120,n,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var j=Math.PI/180,P=180/Math.PI,N=.96422,L=1,R=.82521,D=4/29,I=6/29*3*(6/29),F=6/29*(6/29)*(6/29);function z(t){if(t instanceof U)return new U(t.l,t.a,t.b,t.opacity);if(t instanceof X)return Z(t);t instanceof w||(t=x(t));var e,n,r=G(t.r),i=G(t.g),o=G(t.b),a=H((.2225045*r+.7168786*i+.0606169*o)/L);return r===i&&i===o?e=n=a:(e=H((.4360747*r+.3850649*i+.1430804*o)/N),n=H((.0139322*r+.0971045*i+.7141733*o)/R)),new U(116*a-16,500*(e-a),200*(a-n),t.opacity)}function B(t,e,n,r){return 1===arguments.length?z(t):new U(t,e,n,null==r?1:r)}function U(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function H(t){return F<t?Math.pow(t,1/3):t/I+D}function q(t){return 6/29<t?t*t*t:I*(t-D)}function V(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function G(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function W(t){if(t instanceof X)return new X(t.h,t.c,t.l,t.opacity);if(t instanceof U||(t=z(t)),0===t.a&&0===t.b)return new X(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*P;return new X(e<0?360+e:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Y(t,e,n,r){return 1===arguments.length?W(t):new X(t,e,n,null==r?1:r)}function X(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Z(t){if(isNaN(t.h))return new U(t.l,0,0,t.opacity);var e=t.h*j;return new U(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}e(U,B,n(u,{brighter:function(t){return new U(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new U(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new w(V(3.1338561*(e=N*q(e))-1.6168667*(t=L*q(t))-.4906146*(n=R*q(n))),V(-.9787684*e+1.9161415*t+.033454*n),V(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),e(X,Y,n(u,{brighter:function(t){return new X(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new X(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Z(this).rgb()}}));var $=-.29227,Q=-.90649,K=1.97294,J=K*Q,tt=1.78277*K,et=1.78277*$- -.14861*Q;function nt(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof rt)return new rt(t.h,t.s,t.l,t.opacity);t instanceof w||(t=x(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(et*r+J*e-tt*n)/(et+J-tt),r=(K*(n-i)-$*(e=r-i))/Q,n=Math.sqrt(r*r+e*e)/(K*i*(1-i));return new rt((e=n?Math.atan2(r,e)*P-120:NaN)<0?e+360:e,n,i,t.opacity)}(t):new rt(t,e,n,null==r?1:r)}function rt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}e(rt,nt,n(u,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new rt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new rt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*j,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),t=Math.sin(t);return new w(255*(e+n*(-.14861*r+1.78277*t)),255*(e+n*($*r+Q*t)),255*(e+K*r*n),this.opacity)}})),t.color=y,t.cubehelix=nt,t.gray=function(t,e){return new U(t,0,0,null==e?1:e)},t.hcl=Y,t.hsl=E,t.lab=B,t.lch=function(t,e,n,r){return 1===arguments.length?W(t):new X(n,e,t,null==r?1:r)},t.rgb=_,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o((i=i||self).d3=i.d3||{})},{}],416:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t,v){var b=Array.prototype.slice;function s(t,e){return t-e}var x=function(t){return function(){return t}};function l(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=function(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var l=t[o],u=l[0],c=l[1],f=t[s],h=f[0],d=f[1];if(function(t,e,n){return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&function(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}(t[t=+(t[0]===e[0])],n[t],e[t])}(l,f,e))return 0;r<c!=r<d&&n<(h-u)*(r-c)/(d-c)+u&&(i=-i)}return i}(t,e[r]))return n;return 0}function r(){}var g=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function _(){var h=1,d=1,i=v.thresholdSturges,o=e;function n(e){var t,n,r=i(e);return(r=Array.isArray(r)?r.slice().sort(s):(t=(n=v.extent(e))[0],n=n[1],r=v.tickStep(t,n,r),v.range(Math.floor(t/r)*r,Math.floor(n/r)*r,r))).map(function(t){return a(e,t)})}function a(e,n){var i=[],r=[];return function(t,e,a){var s,l,n,r,i,o,u=new Array,c=new Array;for(s=l=-1,r=t[0]>=e,g[r<<1].forEach(f);++s<h-1;)n=r,r=t[s+1]>=e,g[n|r<<1].forEach(f);for(g[r<<0].forEach(f);++l<d-1;){for(s=-1,r=t[l*h+h]>=e,i=t[l*h]>=e,g[r<<1|i<<2].forEach(f);++s<h-1;)n=r,r=t[l*h+h+s+1]>=e,o=i,i=t[l*h+s+1]>=e,g[n|r<<1|i<<2|o<<3].forEach(f);g[r|i<<3].forEach(f)}for(s=-1,i=t[l*h]>=e,g[i<<2].forEach(f);++s<h-1;)o=i,i=t[l*h+s+1]>=e,g[i<<2|o<<3].forEach(f);function f(t){var e,n=[t[0][0]+s,t[0][1]+l],r=[t[1][0]+s,t[1][1]+l],i=p(n),o=p(r);(t=c[i])?(e=u[o])?(delete c[t.end],delete u[e.start],t===e?(t.ring.push(r),a(t.ring)):u[t.start]=c[e.end]={start:t.start,end:e.end,ring:t.ring.concat(e.ring)}):(delete c[t.end],t.ring.push(r),c[t.end=o]=t):(t=u[o])?(e=c[i])?(delete u[t.start],delete c[e.end],t===e?(t.ring.push(r),a(t.ring)):u[e.start]=c[t.end]={start:e.start,end:t.end,ring:e.ring.concat(t.ring)}):(delete u[t.start],t.ring.unshift(n),u[t.start=i]=t):u[i]=c[o]={start:i,end:o,ring:[n,r]}}g[i<<3].forEach(f)}(e,n,function(t){o(t,e,n),0<function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)?i.push([t]):r.push(t)}),r.forEach(function(t){for(var e,n=0,r=i.length;n<r;++n)if(-1!==l((e=i[n])[0],t))return void e.push(t)}),{type:"MultiPolygon",value:n,coordinates:i}}function p(t){return 2*t[0]+t[1]*(h+1)*4}function e(t,s,l){t.forEach(function(t){var e,n=t[0],r=t[1],i=0|n,o=0|r,a=s[o*h+i];0<n&&n<h&&i===n&&(e=s[o*h+i-1],t[0]=n+(l-e)/(a-e)-.5),0<r&&r<d&&o===r&&(e=s[(o-1)*h+i],t[1]=r+(l-e)/(a-e)-.5)})}return n.contour=a,n.size=function(t){if(!arguments.length)return[h,d];var e=Math.floor(t[0]),t=Math.floor(t[1]);if(!(0<=e&&0<=t))throw new Error("invalid size");return h=e,d=t,n},n.thresholds=function(t){return arguments.length?(i="function"==typeof t?t:Array.isArray(t)?x(b.call(t)):x(t),n):i},n.smooth=function(t){return arguments.length?(o=t?e:r,n):o===e},n}function w(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<i;++a)for(var s=0,l=0;s<r+n;++s)s<r&&(l+=t.data[s+a*r]),n<=s&&(o<=s&&(l-=t.data[s-o+a*r]),e.data[s-n+a*r]=l/Math.min(s+1,r-1+o-s,o))}function k(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<r;++a)for(var s=0,l=0;s<i+n;++s)s<i&&(l+=t.data[a+s*r]),n<=s&&(o<=s&&(l-=t.data[a+(s-o)*r]),e.data[a+(s-n)*r]=l/Math.min(s+1,i-1+o-s,o))}function T(t){return t[0]}function M(t){return t[1]}function A(){return 1}t.contourDensity=function(){var a=T,s=M,l=A,n=960,r=500,i=20,u=2,c=3*i,f=n+2*c>>u,h=r+2*c>>u,d=x(20);function e(t){var o=new Float32Array(f*h),e=new Float32Array(f*h);t.forEach(function(t,e,n){var r=+a(t,e,n)+c>>u,i=+s(t,e,n)+c>>u,n=+l(t,e,n);0<=r&&r<f&&0<=i&&i<h&&(o[r+i*f]+=n)}),w({width:f,height:h,data:o},{width:f,height:h,data:e},i>>u),k({width:f,height:h,data:e},{width:f,height:h,data:o},i>>u),w({width:f,height:h,data:o},{width:f,height:h,data:e},i>>u),k({width:f,height:h,data:e},{width:f,height:h,data:o},i>>u),w({width:f,height:h,data:o},{width:f,height:h,data:e},i>>u),k({width:f,height:h,data:e},{width:f,height:h,data:o},i>>u);t=d(o);return Array.isArray(t)||(e=v.max(o),t=v.tickStep(0,e,t),(t=v.range(0,Math.floor(e/t)*t,t)).shift()),_().thresholds(t).size([f,h])(o).map(p)}function p(t){return t.value*=Math.pow(2,-2*u),t.coordinates.forEach(o),t}function o(t){t.forEach(g)}function g(t){t.forEach(m)}function m(t){t[0]=t[0]*Math.pow(2,u)-c,t[1]=t[1]*Math.pow(2,u)-c}function y(){return f=n+2*(c=3*i)>>u,h=r+2*c>>u,e}return e.x=function(t){return arguments.length?(a="function"==typeof t?t:x(+t),e):a},e.y=function(t){return arguments.length?(s="function"==typeof t?t:x(+t),e):s},e.weight=function(t){return arguments.length?(l="function"==typeof t?t:x(+t),e):l},e.size=function(t){if(!arguments.length)return[n,r];var e=+t[0],t=+t[1];if(!(0<=e&&0<=t))throw new Error("invalid size");return n=e,r=t,y()},e.cellSize=function(t){if(!arguments.length)return 1<<u;if(!(1<=(t=+t)))throw new Error("invalid cell size");return u=Math.floor(Math.log(t)/Math.LN2),y()},e.thresholds=function(t){return arguments.length?(d="function"==typeof t?t:Array.isArray(t)?x(b.call(t)):x(t),e):d},e.bandwidth=function(t){if(!arguments.length)return Math.sqrt(i*(i+1));if(!(0<=(t=+t)))throw new Error("invalid bandwidth");return i=Math.round((Math.sqrt(4*t*t+1)-1)/2),y()},e},t.contours=_,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n,t("d3-array")):"function"==typeof define&&define.amd?define(["exports","d3-array"],o):o((i=i||self).d3=i.d3||{},i.d3)},{"d3-array":411}],417:[function(t,e,n){"use strict";function m(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function _(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a,l;l=function(t){var u=regeneratorRuntime.mark(d),mt=Math.pow(2,-52),p=new Uint32Array(512),b=function(){function u(t){y(this,u);var e=t.length>>1;if(0<e&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;t=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*t),this._halfedges=new Int32Array(3*t),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}return v(u,null,[{key:"from",value:function(t,e,n){for(var r=1<arguments.length&&void 0!==e?e:c,i=2<arguments.length&&void 0!==n?n:f,o=t.length,a=new Float64Array(2*o),s=0;s<o;s++){var l=t[s];a[2*s]=r(l),a[2*s+1]=i(l)}return new u(a)}}]),v(u,[{key:"update",value:function(){for(var t=this.coords,e=this._hullPrev,n=this._hullNext,r=this._hullTri,i=this._hullHash,o=t.length>>1,a=1/0,s=1/0,l=-1/0,u=-1/0,c=0;c<o;c++){var f=t[2*c],h=t[2*c+1];f<a&&(a=f),h<s&&(s=h),l<f&&(l=f),u<h&&(u=h),this._ids[c]=c}for(var d,p=(a+l)/2,g=(s+u)/2,m=1/0,y=0;y<o;y++){var v=yt(p,g,t[2*y],t[2*y+1]);v<m&&(d=y,m=v)}for(var b,x=t[2*d],_=t[2*d+1],m=1/0,w=0;w<o;w++)w!==d&&((b=yt(x,_,t[2*w],t[2*w+1]))<m&&0<b&&(L=w,m=b));for(var k,T,M,A,S,E,C,O=t[2*L],j=t[2*L+1],P=1/0,N=0;N<o;N++)N!==d&&N!==L&&(k=x,T=_,M=O,A=j,S=t[2*N],E=t[2*N+1],C=void 0,C=M-k,M=A-T,A=S-k,(T=(M=((S=E-T)*(k=C*C+M*M)-M*(E=A*A+S*S))*(T=.5/(C*S-M*A)))*M+(T*=C*E-A*k)*T)<P&&(R=N,P=T));var L,R,D=t[2*R],I=t[2*R+1];if(P===1/0){for(var F=0;F<o;F++)this._dists[F]=t[2*F]-t[0]||t[2*F+1]-t[1];bt(this._ids,this._dists,0,o-1);for(var z=new Uint32Array(o),B=0,U=0,H=-1/0;U<o;U++){var q=this._ids[U];this._dists[q]>H&&(z[B++]=q,H=this._dists[q])}return this.hull=z.subarray(0,B),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}vt(x,_,O,j,D,I)&&(W=L,$=O,Y=j,L=R,O=D,j=I,R=W,D=$,I=Y);var V,G,W,Y,X,Z,$,Q,K=(Z=(G=O)-(Q=x),{x:Q+((G=(X=I)-(V=_))*(W=Z*Z+($=(W=j)-V)*$)-$*(Y=(Q=(Y=D)-Q)*Q+G*G))*(X=.5/(Z*G-$*Q)),y:V+(Z*Y-Q*W)*X});this._cx=K.x,this._cy=K.y;for(var J=0;J<o;J++)this._dists[J]=yt(t[2*J],t[2*J+1],K.x,K.y);bt(this._ids,this._dists,0,o-1);var tt=3;n[this._hullStart=d]=e[R]=L,n[L]=e[d]=R,r[n[R]=e[L]=d]=0,r[L]=1,r[R]=2,i.fill(-1),i[this._hashKey(x,_)]=d,i[this._hashKey(O,j)]=L,i[this._hashKey(D,I)]=R,this.trianglesLen=0,this._addTriangle(d,L,R,-1,-1,-1);for(var et,nt,rt=0;rt<this._ids.length;rt++){var it=this._ids[rt],ot=t[2*it],at=t[2*it+1];if(!(0<rt&&Math.abs(ot-et)<=mt&&Math.abs(at-nt)<=mt)&&(et=ot,nt=at,it!==d&&it!==L&&it!==R)){for(var st=0,lt=0,ut=this._hashKey(ot,at);lt<this._hashSize&&(-1===(st=i[(ut+lt)%this._hashSize])||st===n[st]);lt++);for(var ct=st=e[st],ft=void 0;ft=n[ct],!vt(ot,at,t[2*ct],t[2*ct+1],t[2*ft],t[2*ft+1]);)if((ct=ft)===st){ct=-1;break}if(-1!==ct){var ht=this._addTriangle(ct,it,n[ct],-1,-1,r[ct]);r[it]=this._legalize(ht+2),r[ct]=ht,tt++;for(var dt=n[ct];ft=n[dt],vt(ot,at,t[2*dt],t[2*dt+1],t[2*ft],t[2*ft+1]);)ht=this._addTriangle(dt,it,ft,r[it],-1,r[dt]),r[it]=this._legalize(ht+2),n[dt]=dt,tt--,dt=ft;if(ct===st)for(;vt(ot,at,t[2*(ft=e[ct])],t[2*ft+1],t[2*ct],t[2*ct+1]);)ht=this._addTriangle(ft,it,ct,-1,r[ct],r[ft]),this._legalize(ht+2),r[ft]=ht,n[ct]=ct,tt--,ct=ft;n[this._hullStart=e[it]=ct]=e[dt]=it,n[it]=dt,i[this._hashKey(ot,at)]=it,i[this._hashKey(t[2*ct],t[2*ct+1])]=ct}}}this.hull=new Uint32Array(tt);for(var pt=0,gt=this._hullStart;pt<tt;pt++)gt=n[this.hull[pt]=gt];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(t,e){return Math.floor(function(t,e){t/=Math.abs(t)+Math.abs(e);return(0<e?3-t:1+t)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(t){for(var e=this._triangles,n=this._halfedges,r=this.coords,i=0,o=0;;){var a=n[t],s=t-t%3,o=s+(t+2)%3;if(-1!==a){var l=a-a%3,u=s+(t+1)%3,c=l+(a+2)%3,f=e[o],h=e[t],s=e[u],u=e[c];if(function(t,e,n,r,i,o,a,s){t-=a,e-=s,n-=a,r-=s,i-=a,a=o-s,o=n*n+r*r,s=i*i+a*a;return t*(r*s-o*a)-e*(n*s-o*i)+(t*t+e*e)*(n*a-r*i)<0}(r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*s],r[2*s+1],r[2*u],r[2*u+1])){e[t]=u,e[a]=f;f=n[c];if(-1===f){var d=this._hullStart;do{if(this._hullTri[d]===c){this._hullTri[d]=t;break}}while((d=this._hullPrev[d])!==this._hullStart)}this._link(t,f),this._link(a,n[o]),this._link(o,c);a=l+(a+1)%3;i<p.length&&(p[i++]=a)}else{if(0===i)break;t=p[--i]}}else{if(0===i)break;t=p[--i]}}return o}},{key:"_link",value:function(t,e){-1!==(this._halfedges[t]=e)&&(this._halfedges[e]=t)}},{key:"_addTriangle",value:function(t,e,n,r,i,o){var a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}]),u}();function yt(t,e,n,r){n=t-n,r=e-r;return n*n+r*r}function a(t,e,n,r,i,o){i=(r-e)*(i-t),e=(n-t)*(o-e);return Math.abs(i-e)>=33306690738754716e-32*Math.abs(i+e)?i-e:0}function vt(t,e,n,r,i,o){return(a(i,o,t,e,n,r)||a(t,e,n,r,i,o)||a(n,r,i,o,t,e))<0}function bt(t,e,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){for(var o=t[i],a=e[o],s=i-1;n<=s&&e[t[s]]>a;)t[s+1]=t[s--];t[s+1]=o}else{var l=n+1,u=r;h(t,n+r>>1,l),e[t[n]]>e[t[r]]&&h(t,n,r),e[t[l]]>e[t[r]]&&h(t,l,r),e[t[n]]>e[t[l]]&&h(t,n,l);for(var c=t[l],f=e[c];;){for(;l++,e[t[l]]<f;);for(;u--,e[t[u]]>f;);if(u<l)break;h(t,l,u)}t[n+1]=t[u],t[u]=c,u-n<=r-l+1?(bt(t,e,l,r),bt(t,e,n,u-1)):(bt(t,e,n,u-1),bt(t,e,l,r))}}function h(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function c(t){return t[0]}function f(t){return t[1]}var x=function(){function t(){y(this,t),this._x0=this._y0=this._x1=this._y1=null,this._=""}return v(t,[{key:"moveTo",value:function(t,e){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(t,e){this._+="L".concat(this._x1=+t,",").concat(this._y1=+e)}},{key:"arc",value:function(t,e,n){var r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(1e-6<Math.abs(this._x1-r)||1e-6<Math.abs(this._y1-i))&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(t-n,",").concat(e,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}},{key:"rect",value:function(t,e,n,r){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),t}(),n=function(){function t(){y(this,t),this._=[]}return v(t,[{key:"moveTo",value:function(t,e){this._.push([t,e])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(t,e){this._.push([t,e])}},{key:"value",value:function(){return this._.length?this._:null}}]),t}(),e=function(){function o(t){var e=_(1<arguments.length&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],4),n=e[0],r=e[1],i=e[2],e=e[3];if(y(this,o),!((i=+i)>=(n=+n)&&(e=+e)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=i,this.xmin=n,this.ymax=e,this.ymin=r,this._init()}return v(o,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var t=this.delaunay,e=t.points,n=t.hull,r=t.triangles,i=this.vectors,o=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2),a=0,s=0,l=r.length;a<l;a+=3,s+=2){var u,c=2*r[a],f=2*r[a+1],h=2*r[a+2],d=e[c],p=e[1+c],g=e[f],m=e[1+f],y=e[h],v=e[1+h],b=g-d,x=m-p,c=y-d,f=v-p,h=b*b+x*x,g=c*c+f*f,m=2*(b*f-x*c);c=m?Math.abs(m)<1e-8?(u=(d+y)/2,(p+v)/2):(u=d+(f*h-x*g)*(m=1/m),p+(b*g-c*h)*m):(u=(d+y)/2-1e8*f,(p+v)/2+1e8*c),o[s]=u,o[s+1]=c}var _,w,k,T=n[n.length-1],M=4*T,A=e[2*T],S=e[2*T+1];i.fill(0);for(var E=0;E<n.length;++E)_=M,w=A,k=S,M=4*(T=n[E]),A=e[2*T],S=e[2*T+1],i[_+2]=i[M]=k-S,i[_+3]=i[M+1]=A-w}},{key:"render",value:function(t){var e=null==t?t=new x:void 0,n=this.delaunay,r=n.halfedges,i=n.inedges,o=n.hull,a=this.circumcenters,s=this.vectors;if(o.length<=1)return null;for(var l=0,u=r.length;l<u;++l){var c,f,h,d=r[l];d<l||(f=2*Math.floor(l/3),h=2*Math.floor(d/3),c=a[f],d=a[1+f],f=a[h],h=a[1+h],this._renderSegment(c,d,f,h,t))}for(var p=o[o.length-1],g=0;g<o.length;++g){v=p,p=o[g];var m=2*Math.floor(i[p]/3),y=a[m],m=a[1+m],v=4*v,v=this._project(y,m,s[2+v],s[3+v]);v&&this._renderSegment(y,m,v[0],v[1],t)}return e&&e.value()}},{key:"renderBounds",value:function(t){var e=null==t?t=new x:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}},{key:"renderCell",value:function(t,e){var n=null==e?e=new x:void 0,r=this._clip(t);if(null!==r&&r.length){e.moveTo(r[0],r[1]);for(var i=r.length;r[0]===r[i-2]&&r[1]===r[i-1]&&1<i;)i-=2;for(var o=2;o<i;o+=2)r[o]===r[o-2]&&r[o+1]===r[o-1]||e.lineTo(r[o],r[o+1]);return e.closePath(),n&&n.value()}}},{key:"cellPolygons",value:regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=this.delaunay.points,e=0,n=r.length/2;case 2:if(!(e<n)){t.next=11;break}if(r=this.cellPolygon(e))return r.index=e,t.next=8,r;t.next=8;break;case 8:++e,t.next=2;break;case 11:case"end":return t.stop()}},t,this)})},{key:"cellPolygon",value:function(t){var e=new n;return this.renderCell(t,e),e.value()}},{key:"_renderSegment",value:function(t,e,n,r,i){var o=this._regioncode(t,e),a=this._regioncode(n,r);0===o&&0===a?(i.moveTo(t,e),i.lineTo(n,r)):(a=this._clipSegment(t,e,n,r,o,a))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}},{key:"contains",value:function(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}},{key:"neighbors",value:regeneratorRuntime.mark(function t(e){var n,r,i,o,a,s,l,u,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=this._clip(e))){t.next=33;break}r=m(this.delaunay.neighbors(e)),t.prev=3,r.s();case 5:if((i=r.n()).done){t.next=25;break}if(o=i.value,!(a=this._clip(o))){t.next=23;break}s=0,l=n.length;case 10:if(!(s<l)){t.next=23;break}u=0,c=a.length;case 12:if(!(u<c)){t.next=20;break}if(n[s]==a[u]&&n[s+1]==a[u+1]&&n[(s+2)%l]==a[(u+c-2)%c]&&n[(s+3)%l]==a[(u+c-1)%c])return t.next=16,o;t.next=17;break;case 16:return t.abrupt("break",23);case 17:u+=2,t.next=12;break;case 20:s+=2,t.next=10;break;case 23:t.next=5;break;case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(3),r.e(t.t0);case 30:return t.prev=30,r.f(),t.finish(30);case 33:case"end":return t.stop()}},t,this,[[3,27,30,33]])})},{key:"_cell",value:function(t){var e=this.circumcenters,n=this.delaunay,r=n.inedges,i=n.halfedges,o=n.triangles,a=r[t];if(-1===a)return null;var s=[],l=a;do{var u=Math.floor(l/3)}while((s.push(e[2*u],e[2*u+1]),o[l=l%3==2?l-2:l+1]===t)&&((l=i[l])!==a&&-1!==l));return s}},{key:"_clip",value:function(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var e=this._cell(t);if(null===e)return null;var n=this.vectors,r=4*t;return n[r]||n[1+r]?this._clipInfinite(t,e,n[r],n[1+r],n[2+r],n[3+r]):this._clipFinite(t,e)}},{key:"_clipFinite",value:function(t,e){for(var n,r,i,o,a,s=e.length,l=null,u=e[s-2],c=e[s-1],f=this._regioncode(u,c),h=0;h<s;h+=2)if(n=u,r=c,u=e[h],c=e[h+1],i=f,f=this._regioncode(u,c),0===i&&0===f)o=a,a=0,l?l.push(u,c):l=[u,c];else{var d=void 0,p=void 0,g=void 0,m=void 0,y=void 0;if(0===i){if(null===(d=this._clipSegment(n,r,u,c,i,f)))continue;var v=_(d,4),p=v[0],g=v[1],m=v[2],y=v[3]}else{if(null===(d=this._clipSegment(u,c,n,r,f,i)))continue;d=_(d,4);m=d[0],y=d[1],p=d[2],g=d[3],o=a,a=this._edgecode(p,g),o&&a&&this._edge(t,o,a,l,l.length),l?l.push(p,g):l=[p,g]}o=a,a=this._edgecode(m,y),o&&a&&this._edge(t,o,a,l,l.length),l?l.push(m,y):l=[m,y]}if(l)o=a,a=this._edgecode(l[0],l[1]),o&&a&&this._edge(t,o,a,l,l.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}},{key:"_clipSegment",value:function(t,e,n,r,i,o){for(;;){if(0===i&&0===o)return[t,e,n,r];if(i&o)return null;var a=void 0,s=void 0,l=i||o;8&l?(a=t+(n-t)*(this.ymax-e)/(r-e),s=this.ymax):4&l?(a=t+(n-t)*(this.ymin-e)/(r-e),s=this.ymin):a=2&l?(s=e+(r-e)*(this.xmax-t)/(n-t),this.xmax):(s=e+(r-e)*(this.xmin-t)/(n-t),this.xmin),i?(t=a,e=s,i=this._regioncode(t,e)):(n=a,r=s,o=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(t,e,n,r,i,o){var a=Array.from(e);if((r=this._project(a[0],a[1],n,r))&&a.unshift(r[0],r[1]),(r=this._project(a[a.length-2],a[a.length-1],i,o))&&a.push(r[0],r[1]),a=this._clipFinite(t,a))for(var s,l=0,u=a.length,c=this._edgecode(a[u-2],a[u-1]);l<u;l+=2)s=c,c=this._edgecode(a[l],a[l+1]),s&&c&&(l=this._edge(t,s,c,a,l),u=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}},{key:"_edge",value:function(t,e,n,r,i){for(;e!==n;){var o=void 0,a=void 0;switch(e){case 5:e=4;continue;case 4:e=6,o=this.xmax,a=this.ymin;break;case 6:e=2;continue;case 2:e=10,o=this.xmax,a=this.ymax;break;case 10:e=8;continue;case 8:e=9,o=this.xmin,a=this.ymax;break;case 9:e=1;continue;case 1:e=5,o=this.xmin,a=this.ymin}r[i]===o&&r[i+1]===a||!this.contains(t,o,a)||(r.splice(i,0,o,a),i+=2)}if(4<r.length)for(var s=0;s<r.length;s+=2){var l=(s+2)%r.length,u=(s+4)%r.length;(r[s]===r[l]&&r[l]===r[u]||r[s+1]===r[1+l]&&r[1+l]===r[1+u])&&(r.splice(l,2),s-=2)}return i}},{key:"_project",value:function(t,e,n,r){var i,o,a,s=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<s&&(a=this.ymin,o=t+(s=i)*n)}else if(0<r){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<s&&(a=this.ymax,o=t+(s=i)*n)}if(0<n){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<s&&(o=this.xmax,a=e+(s=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<s&&(o=this.xmin,a=e+(s=i)*r)}return[o,a]}},{key:"_edgecode",value:function(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}},{key:"_regioncode",value:function(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}]),o}(),l=2*Math.PI,g=Math.pow;function o(t){return t[0]}function s(t){return t[1]}var r=function(){function i(t){y(this,i),this._delaunator=new b(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}return v(i,null,[{key:"from",value:function(t,e,n,r){e=1<arguments.length&&void 0!==e?e:o,n=2<arguments.length&&void 0!==n?n:s,r=3<arguments.length?r:void 0;return new i("length"in t?function(t,e,n,r){for(var i=t.length,o=new Float64Array(2*i),a=0;a<i;++a){var s=t[a];o[2*a]=e.call(r,s,a,t),o[2*a+1]=n.call(r,s,a,t)}return o}(t,e,n,r):Float64Array.from(d(t,e,n,r)))}}]),v(i,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var t,e,n=this._delaunator,r=this.points;if(n.hull&&2<n.hull.length&&function(t){for(var e=t.triangles,n=t.coords,r=0;r<e.length;r+=3){var i=2*e[r],o=2*e[r+1],a=2*e[r+2];if(1e-10<(n[a]-n[i])*(n[1+o]-n[1+i])-(n[o]-n[i])*(n[1+a]-n[1+i]))return}return 1}(n)){this.collinear=Int32Array.from({length:r.length/2},function(t,e){return e}).sort(function(t,e){return r[2*t]-r[2*e]||r[2*t+1]-r[2*e+1]});for(var i=this.collinear[0],n=this.collinear[this.collinear.length-1],n=[r[2*i],r[2*i+1],r[2*n],r[2*n+1]],o=1e-8*Math.hypot(n[3]-n[1],n[2]-n[0]),a=0,s=r.length/2;a<s;++a){var l=(t=r[2*a],e=r[2*a+1],l=o,[t+Math.sin(t+e)*l,e+Math.cos(t-e)*l]);r[2*a]=l[0],r[2*a+1]=l[1]}this._delaunator=new b(r)}else delete this.collinear;for(var u=this.halfedges=this._delaunator.halfedges,c=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,h=this.inedges.fill(-1),d=this._hullIndex.fill(-1),p=0,g=u.length;p<g;++p){var m=f[p%3==2?p-2:p+1];-1!==u[p]&&-1!==h[m]||(h[m]=p)}for(var y=0,v=c.length;y<v;++y)d[c[y]]=y;c.length<=2&&0<c.length&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=c[0],this.triangles[1]=c[1],this.triangles[2]=c[1],h[c[0]]=1,2===c.length&&(h[c[1]]=0))}},{key:"voronoi",value:function(t){return new e(this,t)}},{key:"neighbors",value:regeneratorRuntime.mark(function t(e){var n,r,i,o,a,s,l,u,c,f,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.inedges,r=this.hull,i=this._hullIndex,o=this.halfedges,a=this.triangles,!(s=this.collinear)){t.next=10;break}if(0<(l=s.indexOf(e)))return t.next=6,s[l-1];t.next=6;break;case 6:if(l<s.length-1)return t.next=9,s[l+1];t.next=9;break;case 9:return t.abrupt("return");case 10:if(-1===(u=n[e]))return t.abrupt("return");t.next=13;break;case 13:c=u,f=-1;case 14:return t.next=16,f=a[c];case 16:if(a[c=c%3==2?c-2:c+1]!==e)return t.abrupt("return");t.next=19;break;case 19:if(-1!==(c=o[c])){t.next=26;break}if((h=r[(i[e]+1)%r.length])!==f)return t.next=25,h;t.next=25;break;case 25:return t.abrupt("return");case 26:if(c!==u){t.next=14;break}case 27:case"end":return t.stop()}},t,this)})},{key:"find",value:function(t,e,n){var r=2<arguments.length&&void 0!==n?n:0;if((t=+t)!=t||(e=+e)!=e)return-1;for(var i,o=r;0<=(i=this._step(r,t,e))&&i!==r&&i!==o;)r=i;return i}},{key:"_step",value:function(t,e,n){var r=this.inedges,i=this.hull,o=this._hullIndex,a=this.halfedges,s=this.triangles,l=this.points;if(-1===r[t]||!l.length)return(t+1)%(l.length>>1);var u=t,c=g(e-l[2*t],2)+g(n-l[2*t+1],2),f=r[t],h=f;do{var d=s[h],p=g(e-l[2*d],2)+g(n-l[2*d+1],2);if(p<c&&(c=p,u=d),s[h=h%3==2?h-2:h+1]!==t)break;if(-1===(h=a[h])){if(h=i[(o[t]+1)%i.length],h!==d&&g(e-l[2*h],2)+g(n-l[2*h+1],2)<c)return h;break}}while(h!==f);return u}},{key:"render",value:function(t){for(var e=null==t?t=new x:void 0,n=this.points,r=this.halfedges,i=this.triangles,o=0,a=r.length;o<a;++o){var s,l=r[o];l<o||(s=2*i[o],l=2*i[l],t.moveTo(n[s],n[1+s]),t.lineTo(n[l],n[1+l]))}return this.renderHull(t),e&&e.value()}},{key:"renderPoints",value:function(t,e){for(var n=1<arguments.length&&void 0!==e?e:2,e=null==t?t=new x:void 0,r=this.points,i=0,o=r.length;i<o;i+=2){var a=r[i],s=r[i+1];t.moveTo(a+n,s),t.arc(a,s,n,0,l)}return e&&e.value()}},{key:"renderHull",value:function(t){var e=null==t?t=new x:void 0,n=this.hull,r=this.points,i=2*n[0],o=n.length;t.moveTo(r[i],r[1+i]);for(var a=1;a<o;++a){var s=2*n[a];t.lineTo(r[s],r[1+s])}return t.closePath(),e&&e.value()}},{key:"hullPolygon",value:function(){var t=new n;return this.renderHull(t),t.value()}},{key:"renderTriangle",value:function(t,e){var n=null==e?e=new x:void 0,r=this.points,i=this.triangles,o=2*i[t*=3],a=2*i[t+1],t=2*i[t+2];return e.moveTo(r[o],r[1+o]),e.lineTo(r[a],r[1+a]),e.lineTo(r[t],r[1+t]),e.closePath(),n&&n.value()}},{key:"trianglePolygons",value:regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.triangles,e=0,n=n.length/3;case 2:if(e<n)return t.next=5,this.trianglePolygon(e);t.next=8;break;case 5:++e,t.next=2;break;case 8:case"end":return t.stop()}},t,this)})},{key:"trianglePolygon",value:function(t){var e=new n;return this.renderTriangle(t,e),e.value()}}]),i}();function d(e,n,r,i){var o,a,s,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=0,a=m(e),t.prev=2,a.s();case 4:if((s=a.n()).done){t.next=13;break}return l=s.value,t.next=8,n.call(i,l,o,e);case 8:return t.next=10,r.call(i,l,o,e);case 10:++o;case 11:t.next=4;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),a.e(t.t0);case 18:return t.prev=18,a.f(),t.finish(18);case 21:case"end":return t.stop()}},u,null,[[2,15,18,21]])}t.Delaunay=r,t.Voronoi=e,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((a=void 0)===n?"undefined":o(n))&&void 0!==e?l(n):"function"==typeof define&&define.amd?define(["exports"],l):l((a=a||self).d3=a.d3||{})},{}],418:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t){var o={value:function(){}};function e(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function l(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=o,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}i.prototype=e.prototype={constructor:i,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=l(i[n],t.name,e);else if(null==e)for(n in i)i[n]=l(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=function(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}(i[n],t.name)))return n},copy:function(){var t,e={},n=this._;for(t in n)e[t]=n[t].slice();return new i(e)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},t.dispatch=e,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o((i=i||self).d3=i.d3||{})},{}],419:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t,_,w){function k(t){t.stopImmediatePropagation()}function T(t){t.preventDefault(),t.stopImmediatePropagation()}function M(t){var e=t.document.documentElement,t=w.select(t).on("dragstart.drag",T,!0);"onselectstart"in e?t.on("selectstart.drag",T,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function A(t,e){var n=t.document.documentElement,r=w.select(t).on("dragstart.drag",null);e&&(r.on("click.drag",T,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function S(t){return function(){return t}}function E(t,e){var n=e.sourceEvent,r=e.subject,i=e.target,o=e.identifier,a=e.active,s=e.x,l=e.y,u=e.dx,c=e.dy,e=e.dispatch;Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:e}})}function C(t){return!t.ctrlKey&&!t.button}function O(){return this.parentNode}function j(t,e){return null==e?{x:t.x,y:t.y}:e}function P(){return navigator.maxTouchPoints||"ontouchstart"in this}E.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t},t.drag=function(){var r,i,o,a,s=C,l=O,n=j,e=P,g={},m=_.dispatch("start","drag","end"),y=0,u=0;function v(t){t.on("mousedown.drag",c).filter(e).on("touchstart.drag",d).on("touchmove.drag",p).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(t,e){a||!s.call(this,t,e)||(e=x(this,l.call(this,t,e),t,e,"mouse"))&&(w.select(t.view).on("mousemove.drag",f,!0).on("mouseup.drag",h,!0),M(t.view),k(t),o=!1,r=t.clientX,i=t.clientY,e("start",t))}function f(t){var e,n;T(t),o||(e=t.clientX-r,n=t.clientY-i,o=u<e*e+n*n),g.mouse("drag",t)}function h(t){w.select(t.view).on("mousemove.drag mouseup.drag",null),A(t.view,o),T(t),g.mouse("end",t)}function d(t,e){if(s.call(this,t,e))for(var n,r=t.changedTouches,i=l.call(this,t,e),o=r.length,a=0;a<o;++a)(n=x(this,i,t,e,r[a].identifier,r[a]))&&(k(t),n("start",t,r[a]))}function p(t){for(var e,n=t.changedTouches,r=n.length,i=0;i<r;++i)(e=g[n[i].identifier])&&(T(t),e("drag",t,n[i]))}function b(t){var e,n,r=t.changedTouches,i=r.length;for(a&&clearTimeout(a),a=setTimeout(function(){a=null},500),e=0;e<i;++e)(n=g[r[e].identifier])&&(k(t),n("end",t,r[e]))}function x(a,s,t,l,u,e){var c,f,h,d=m.copy(),p=w.pointer(e||t,s);if(null!=(h=n.call(a,new E("beforestart",{sourceEvent:t,target:v,identifier:u,active:y,x:p[0],y:p[1],dx:0,dy:0,dispatch:d}),l)))return c=h.x-p[0]||0,f=h.y-p[1]||0,function t(e,n,r){var i,o=p;switch(e){case"start":g[u]=t,i=y++;break;case"end":delete g[u],--y;case"drag":p=w.pointer(r||n,s),i=y}d.call(e,a,new E(e,{sourceEvent:n,subject:h,target:v,identifier:u,active:i,x:p[0]+c,y:p[1]+f,dx:p[0]-o[0],dy:p[1]-o[1],dispatch:d}),l)}}return v.filter=function(t){return arguments.length?(s="function"==typeof t?t:S(!!t),v):s},v.container=function(t){return arguments.length?(l="function"==typeof t?t:S(t),v):l},v.subject=function(t){return arguments.length?(n="function"==typeof t?t:S(t),v):n},v.touchable=function(t){return arguments.length?(e="function"==typeof t?t:S(!!t),v):e},v.on=function(){var t=m.on.apply(m,arguments);return t===m?v:t},v.clickDistance=function(t){return arguments.length?(u=(t=+t)*t,v):Math.sqrt(u)},v},t.dragDisable=M,t.dragEnable=A,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n,t("d3-dispatch"),t("d3-selection")):"function"==typeof define&&define.amd?define(["exports","d3-dispatch","d3-selection"],o):o((i=i||self).d3=i.d3||{},i.d3,i.d3)},{"d3-dispatch":418,"d3-selection":434}],420:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t){var h={},d={};function l(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function s(t){var n=Object.create(null),r=[];return t.forEach(function(t){for(var e in t)e in n||r.push(n[e]=e)}),r}function a(t,e){var n=t+"",t=n.length;return t<e?new Array(e-t+1).join(0)+n:n}function u(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+a(-e,6):9999<e?"+"+a(e,6):a(e,4))+"-"+a(t.getUTCMonth()+1,2)+"-"+a(t.getUTCDate(),2)+(o?"T"+a(n,2)+":"+a(r,2)+":"+a(i,2)+"."+a(o,3)+"Z":i?"T"+a(n,2)+":"+a(r,2)+":"+a(i,2)+"Z":r||n?"T"+a(n,2)+":"+a(r,2)+"Z":"")}function e(r){var e=new RegExp('["'+r+"\n\r]"),f=r.charCodeAt(0);function n(r,t){var e,n=[],i=r.length,o=0,a=0,s=i<=0,l=!1;function u(){if(s)return d;if(l)return l=!1,h;var t,e,n=o;if(34===r.charCodeAt(n)){for(;o++<i&&34!==r.charCodeAt(o)||34===r.charCodeAt(++o););return(t=o)>=i?s=!0:10===(e=r.charCodeAt(o++))?l=!0:13===e&&(l=!0,10===r.charCodeAt(o)&&++o),r.slice(n+1,t-1).replace(/""/g,'"')}for(;o<i;){if(10===(e=r.charCodeAt(t=o++)))l=!0;else if(13===e)l=!0,10===r.charCodeAt(o)&&++o;else if(e!==f)continue;return r.slice(n,t)}return s=!0,r.slice(n,i)}for(10===r.charCodeAt(i-1)&&--i,13===r.charCodeAt(i-1)&&--i;(e=u())!==d;){for(var c=[];e!==h&&e!==d;)c.push(e),e=u();t&&null==(c=t(c,a++))||n.push(c)}return n}function i(t,n){return t.map(function(e){return n.map(function(t){return a(e[t])}).join(r)})}function o(t){return t.map(a).join(r)}function a(t){return null==t?"":t instanceof Date?u(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,o){var a,s;return(t=n(t,function(t,e){return a?a(t,e-1):(s=t,void(a=o?(r=o,i=l(n=t),function(t,e){return r(i(t),e,n)}):l(t)));var n,r,i})).columns=s||[],t},parseRows:n,format:function(t,e){return null==e&&(e=s(t)),[e.map(a).join(r)].concat(i(t,e)).join("\n")},formatBody:function(t,e){return null==e&&(e=s(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}var n=e(","),r=n.parse,i=n.parseRows,o=n.format,c=n.formatBody,f=n.formatRows,p=n.formatRow,g=n.formatValue,m=e("\t"),y=m.parse,v=m.parseRows,b=m.format,x=m.formatBody,_=m.formatRows,n=m.formatRow,m=m.formatValue;var w=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();t.autoType=function(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;w&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t},t.csvFormat=o,t.csvFormatBody=c,t.csvFormatRow=p,t.csvFormatRows=f,t.csvFormatValue=g,t.csvParse=r,t.csvParseRows=i,t.dsvFormat=e,t.tsvFormat=b,t.tsvFormatBody=x,t.tsvFormatRow=n,t.tsvFormatRows=_,t.tsvFormatValue=m,t.tsvParse=y,t.tsvParseRows=v,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o((i=i||self).d3=i.d3||{})},{}],421:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t){function e(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function n(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var r=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),i=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),o=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),a=Math.PI,s=a/2;function l(t){return(1-Math.cos(a*t))/2}function u(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function c(t){return((t*=2)<=1?u(1-t):2-u(t-1))/2}function f(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var h=4/11,d=6/11,p=8/11,g=.75,m=9/11,y=10/11,v=.9375,b=21/22,x=63/64,_=1/h/h;function w(t){return(t=+t)<h?_*t*t:t<p?_*(t-=d)*t+g:t<y?_*(t-=m)*t+v:_*(t-=b)*t+x}var k=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(1.70158),T=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(1.70158),M=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),A=2*Math.PI,S=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=A);function t(t){return n*u(- --t)*Math.sin((i-t)/r)}return t.amplitude=function(t){return e(t,r*A)},t.period=function(t){return e(n,t)},t}(1,.3),E=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=A);function t(t){return 1-n*u(t=+t)*Math.sin((t+i)/r)}return t.amplitude=function(t){return e(t,r*A)},t.period=function(t){return e(n,t)},t}(1,.3),C=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=A);function t(t){return((t=2*t-1)<0?n*u(-t)*Math.sin((i-t)/r):2-n*u(t)*Math.sin((i+t)/r))/2}return t.amplitude=function(t){return e(t,r*A)},t.period=function(t){return e(n,t)},t}(1,.3);t.easeBack=M,t.easeBackIn=k,t.easeBackInOut=M,t.easeBackOut=T,t.easeBounce=w,t.easeBounceIn=function(t){return 1-w(1-t)},t.easeBounceInOut=function(t){return((t*=2)<=1?1-w(1-t):w(t-1)+1)/2},t.easeBounceOut=w,t.easeCircle=f,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleInOut=f,t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCubic=n,t.easeCubicIn=function(t){return t*t*t},t.easeCubicInOut=n,t.easeCubicOut=function(t){return--t*t*t+1},t.easeElastic=E,t.easeElasticIn=S,t.easeElasticInOut=C,t.easeElasticOut=E,t.easeExp=c,t.easeExpIn=function(t){return u(1-+t)},t.easeExpInOut=c,t.easeExpOut=function(t){return 1-u(t)},t.easeLinear=function(t){return+t},t.easePoly=o,t.easePolyIn=r,t.easePolyInOut=o,t.easePolyOut=i,t.easeQuad=e,t.easeQuadIn=function(t){return t*t},t.easeQuadInOut=e,t.easeQuadOut=function(t){return t*(2-t)},t.easeSin=l,t.easeSinIn=function(t){return 1==+t?1:1-Math.cos(t*s)},t.easeSinInOut=l,t.easeSinOut=function(t){return Math.sin(t*s)},Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o((i=i||self).d3=i.d3||{})},{}],422:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t,o){function n(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function r(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function i(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function a(t,e){return fetch(t,e).then(i)}function e(r){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),a(t,e).then(function(t){return r(t,n)})}}var s=e(o.csvParse),l=e(o.tsvParse);function u(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function c(n){return function(t,e){return a(t,e).then(function(t){return(new DOMParser).parseFromString(t,n)})}}var f=c("application/xml"),h=c("text/html"),d=c("image/svg+xml");t.blob=function(t,e){return fetch(t,e).then(n)},t.buffer=function(t,e){return fetch(t,e).then(r)},t.csv=s,t.dsv=function(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=o.dsvFormat(t);return a(e,n).then(function(t){return i.parse(t,r)})},t.html=h,t.image=function(i,o){return new Promise(function(t,e){var n,r=new Image;for(n in o)r[n]=o[n];r.onerror=e,r.onload=function(){t(r)},r.src=i})},t.json=function(t,e){return fetch(t,e).then(u)},t.svg=d,t.text=a,t.tsv=l,t.xml=f,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n,t("d3-dsv")):"function"==typeof define&&define.amd?define(["exports","d3-dsv"],o):o((i=i||self).d3=i.d3||{},i.d3)},{"d3-dsv":420}],423:[function(t,e,n){"use strict";function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r,i;i=function(t,m,y,v){function b(t){return function(){return t}}function x(t){return 1e-6*(t()-.5)}function _(t){return t.x+t.vx}function w(t){return t.y+t.vy}function k(t){return t.index}function T(t,e){t=t.get(e);if(!t)throw new Error("node not found: "+e);return t}var M=1664525,A=1013904223,S=4294967296;function s(t){return t.x}function g(t){return t.y}var E=Math.PI*(3-Math.sqrt(5));t.forceCenter=function(o,a){var s,l=1;function e(){for(var t,e=s.length,n=0,r=0,i=0;i<e;++i)n+=(t=s[i]).x,r+=t.y;for(n=(n/e-o)*l,r=(r/e-a)*l,i=0;i<e;++i)(t=s[i]).x-=n,t.y-=r}return null==o&&(o=0),null==a&&(a=0),e.initialize=function(t){s=t},e.x=function(t){return arguments.length?(o=+t,e):o},e.y=function(t){return arguments.length?(a=+t,e):a},e.strength=function(t){return arguments.length?(l=+t,e):l},e},t.forceCollide=function(r){var o,a,h,d=1,p=1;function e(){for(var t,e,s,l,u,c,f,n=o.length,r=0;r<p;++r)for(e=m.quadtree(o,_,w).visitAfter(g),t=0;t<n;++t)s=o[t],c=a[s.index],f=c*c,l=s.x+s.vx,u=s.y+s.vy,e.visit(i);function i(t,e,n,r,i){var o=t.data,a=t.r,t=c+a;if(!o)return l+t<e||r<l-t||u+t<n||i<u-t;o.index>s.index&&((i=(r=l-o.x-o.vx)*r+(n=u-o.y-o.vy)*n)<t*t&&(0===r&&(i+=(r=x(h))*r),0===n&&(i+=(n=x(h))*n),i=(t-(i=Math.sqrt(i)))/i*d,s.vx+=(r*=i)*(t=(a*=a)/(f+a)),s.vy+=(n*=i)*t,o.vx-=r*(t=1-t),o.vy-=n*t))}}function g(t){if(t.data)return t.r=a[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function n(){if(o){var t,e,n=o.length;for(a=new Array(n),t=0;t<n;++t)e=o[t],a[e.index]=+r(e,t,o)}}return"function"!=typeof r&&(r=b(null==r?1:+r)),e.initialize=function(t,e){o=t,h=e,n()},e.iterations=function(t){return arguments.length?(p=+t,e):p},e.strength=function(t){return arguments.length?(d=+t,e):d},e.radius=function(t){return arguments.length?(r="function"==typeof t?t:b(+t),n(),e):r},e},t.forceLink=function(u){var c,f,o,a,h,d,s=k,n=function(t){return 1/Math.min(a[t.source.index],a[t.target.index])},r=b(30),p=1;function e(t){for(var e=0,n=u.length;e<p;++e)for(var r,i,o,a,s,l=0;l<n;++l)r=(s=u[l]).source,o=(i=s.target).x+i.vx-r.x-r.vx||x(d),a=i.y+i.vy-r.y-r.vy||x(d),o*=s=((s=Math.sqrt(o*o+a*a))-f[l])/s*t*c[l],a*=s,i.vx-=o*(s=h[l]),i.vy-=a*s,r.vx+=o*(s=1-s),r.vy+=a*s}function i(){if(o){var t,e=o.length,n=u.length,r=new Map(o.map(function(t,e){return[s(t,e,o),t]})),i=0;for(a=new Array(e);i<n;++i)(t=u[i]).index=i,"object"!==C(t.source)&&(t.source=T(r,t.source)),"object"!==C(t.target)&&(t.target=T(r,t.target)),a[t.source.index]=(a[t.source.index]||0)+1,a[t.target.index]=(a[t.target.index]||0)+1;for(i=0,h=new Array(n);i<n;++i)t=u[i],h[i]=a[t.source.index]/(a[t.source.index]+a[t.target.index]);c=new Array(n),l(),f=new Array(n),g()}}function l(){if(o)for(var t=0,e=u.length;t<e;++t)c[t]=+n(u[t],t,u)}function g(){if(o)for(var t=0,e=u.length;t<e;++t)f[t]=+r(u[t],t,u)}return null==u&&(u=[]),e.initialize=function(t,e){o=t,d=e,i()},e.links=function(t){return arguments.length?(u=t,i(),e):u},e.id=function(t){return arguments.length?(s=t,e):s},e.iterations=function(t){return arguments.length?(p=+t,e):p},e.strength=function(t){return arguments.length?(n="function"==typeof t?t:b(+t),l(),e):n},e.distance=function(t){return arguments.length?(r="function"==typeof t?t:b(+t),g(),e):r},e},t.forceManyBody=function(){var i,l,u,c,f,r=b(-30),h=1,d=1/0,p=.81;function e(t){var e,n=i.length,r=m.quadtree(i,s,g).visitAfter(o);for(c=t,e=0;e<n;++e)l=i[e],r.visit(a)}function n(){if(i){var t,e,n=i.length;for(f=new Array(n),t=0;t<n;++t)e=i[t],f[e.index]=+r(e,t,i)}}function o(t){var e,n,r,i,o,a=0,s=0;if(t.length){for(r=i=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(a+=e.value,s+=n,r+=n*e.x,i+=n*e.y);t.x=r/s,t.y=i/s}else for(e=t,e.x=e.data.x,e.y=e.data.y;a+=f[e.data.index],e=e.next;);t.value=a}function a(t,e,n,r){if(!t.value)return!0;var i=t.x-l.x,o=t.y-l.y,a=r-e,s=i*i+o*o;if(a*a/p<s)return s<d&&(0===i&&(s+=(i=x(u))*i),0===o&&(s+=(o=x(u))*o),s<h&&(s=Math.sqrt(h*s)),l.vx+=i*t.value*c/s,l.vy+=o*t.value*c/s),!0;if(!(t.length||d<=s))for(t.data===l&&!t.next||(0===i&&(s+=(i=x(u))*i),0===o&&(s+=(o=x(u))*o),s<h&&(s=Math.sqrt(h*s)));t.data!==l&&(a=f[t.data.index]*c/s,l.vx+=i*a,l.vy+=o*a),t=t.next;);}return e.initialize=function(t,e){i=t,u=e,n()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:b(+t),n(),e):r},e.distanceMin=function(t){return arguments.length?(h=t*t,e):Math.sqrt(h)},e.distanceMax=function(t){return arguments.length?(d=t*t,e):Math.sqrt(d)},e.theta=function(t){return arguments.length?(p=t*t,e):Math.sqrt(p)},e},t.forceRadial=function(n,s,l){var u,c,f,r=b(.1);function e(t){for(var e=0,n=u.length;e<n;++e){var r=u[e],i=r.x-s||1e-6,o=r.y-l||1e-6,a=Math.sqrt(i*i+o*o),a=(f[e]-a)*c[e]*t/a;r.vx+=i*a,r.vy+=o*a}}function i(){if(u){var t,e=u.length;for(c=new Array(e),f=new Array(e),t=0;t<e;++t)f[t]=+n(u[t],t,u),c[t]=isNaN(f[t])?0:+r(u[t],t,u)}}return"function"!=typeof n&&(n=b(+n)),null==s&&(s=0),null==l&&(l=0),e.initialize=function(t){u=t,i()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:b(+t),i(),e):r},e.radius=function(t){return arguments.length?(n="function"==typeof t?t:b(+t),i(),e):n},e.x=function(t){return arguments.length?(s=+t,e):s},e.y=function(t){return arguments.length?(l=+t,e):l},e},t.forceSimulation=function(l){var o,t,a=1,e=.001,s=1-Math.pow(e,1/300),u=0,c=.6,f=new Map,n=v.timer(h),r=y.dispatch("tick","end"),i=(t=1,function(){return(t=(M*t+A)%S)/S});function h(){d(),r.call("tick",o),a<e&&(n.stop(),r.call("end",o))}function d(t){var e,n,r=l.length;void 0===t&&(t=1);for(var i=0;i<t;++i)for(a+=(u-a)*s,f.forEach(function(t){t(a)}),e=0;e<r;++e)null==(n=l[e]).fx?n.x+=n.vx*=c:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=c:(n.y=n.fy,n.vy=0);return o}function p(){for(var t,e,n,r=0,i=l.length;r<i;++r)(n=l[r]).index=r,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),(isNaN(n.x)||isNaN(n.y))&&(t=10*Math.sqrt(.5+r),e=r*E,n.x=t*Math.cos(e),n.y=t*Math.sin(e)),(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}function g(t){return t.initialize&&t.initialize(l,i),t}return null==l&&(l=[]),p(),o={tick:d,restart:function(){return n.restart(h),o},stop:function(){return n.stop(),o},nodes:function(t){return arguments.length?(l=t,p(),f.forEach(g),o):l},alpha:function(t){return arguments.length?(a=+t,o):a},alphaMin:function(t){return arguments.length?(e=+t,o):e},alphaDecay:function(t){return arguments.length?(s=+t,o):+s},alphaTarget:function(t){return arguments.length?(u=+t,o):u},velocityDecay:function(t){return arguments.length?(c=1-t,o):1-c},randomSource:function(t){return arguments.length?(i=t,f.forEach(g),o):i},force:function(t,e){return 1<arguments.length?(null==e?f.delete(t):f.set(t,g(e)),o):f.get(t)},find:function(t,e,n){var r,i,o,a=0,s=l.length;for(null==n?n=1/0:n*=n,a=0;a<s;++a)(r=(r=t-(i=l[a]).x)*r+(r=e-i.y)*r)<n&&(o=i,n=r);return o},on:function(t,e){return 1<arguments.length?(r.on(t,e),o):r.on(t)}}},t.forceX=function(n){var i,o,a,r=b(.1);function e(t){for(var e,n=0,r=i.length;n<r;++n)(e=i[n]).vx+=(a[n]-e.x)*o[n]*t}function s(){if(i){var t,e=i.length;for(o=new Array(e),a=new Array(e),t=0;t<e;++t)o[t]=isNaN(a[t]=+n(i[t],t,i))?0:+r(i[t],t,i)}}return"function"!=typeof n&&(n=b(null==n?0:+n)),e.initialize=function(t){i=t,s()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:b(+t),s(),e):r},e.x=function(t){return arguments.length?(n="function"==typeof t?t:b(+t),s(),e):n},e},t.forceY=function(n){var i,o,a,r=b(.1);function e(t){for(var e,n=0,r=i.length;n<r;++n)(e=i[n]).vy+=(a[n]-e.y)*o[n]*t}function s(){if(i){var t,e=i.length;for(o=new Array(e),a=new Array(e),t=0;t<e;++t)o[t]=isNaN(a[t]=+n(i[t],t,i))?0:+r(i[t],t,i)}}return"function"!=typeof n&&(n=b(null==n?0:+n)),e.initialize=function(t){i=t,s()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:b(+t),s(),e):r},e.y=function(t){return arguments.length?(n="function"==typeof t?t:b(+t),s(),e):n},e},Object.defineProperty(t,"__esModule",{value:!0})},"object"===((r=void 0)===n?"undefined":C(n))&&void 0!==e?i(n,t("d3-quadtree"),t("d3-dispatch"),t("d3-timer")):"function"==typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],i):i((r=r||self).d3=r.d3||{},r.d3,r.d3,r.d3)},{"d3-dispatch":418,"d3-quadtree":430,"d3-timer":437}],424:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(e){function o(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,e=t.slice(0,n);return[1<e.length?e[0]+e.slice(2):e,+t.slice(n+1)]}function u(t){return(t=o(Math.abs(t)))?t[1]:NaN}var S,n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function E(t){if(!(e=n.exec(t)))throw new Error("invalid format: "+t);var e;return new r({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function r(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function i(t,e){e=o(t,e);if(!e)return t+"";t=e[0],e=e[1];return e<0?"0."+new Array(-e).join("0")+t:t.length>e+1?t.slice(0,e+1)+"."+t.slice(e+1):t+new Array(e-t.length+2).join("0")}E.prototype=r.prototype,r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var C={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return 1e21<=Math.abs(t=Math.round(t))?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return i(100*t,e)},r:i,s:function(t,e){if(!(r=o(t,e)))return t+"";var n=r[0],r=(i=r[1])-(S=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,i=n.length;return r===i?n:i<r?n+new Array(r-i+1).join("0"):0<r?n.slice(0,r)+"."+n.slice(r):"0."+new Array(1-r).join("0")+o(t,Math.max(0,e+r-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function c(t){return t}var a,f=Array.prototype.map,O=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function s(t){var e,s,l,w=void 0===t.grouping||void 0===t.thousands?c:(s=f.call(t.grouping,Number),l=t.thousands+"",function(t,e){for(var n=t.length,r=[],i=0,o=s[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),r.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=s[i=(i+1)%s.length];return r.reverse().join(l)}),r=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",k=void 0===t.decimal?".":t.decimal+"",T=void 0===t.numerals?c:(e=f.call(t.numerals,String),function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}),o=void 0===t.percent?"%":t.percent+"",M=void 0===t.minus?"−":t.minus+"",A=void 0===t.nan?"NaN":t.nan+"";function a(t){var u=(t=E(t)).fill,c=t.align,f=t.sign,e=t.symbol,h=t.zero,d=t.width,p=t.comma,g=t.precision,m=t.trim,y=t.type;"n"===y?(p=!0,y="g"):C[y]||(void 0===g&&(g=12),m=!0,y="g"),(h||"0"===u&&"="===c)&&(h=!0,u="0",c="=");var v="$"===e?r:"#"===e&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===e?i:/[%p]/.test(y)?o:"",x=C[y],_=/[defgprs%]/.test(y);function n(t){var e,n,r,i=v,o=b;if("c"===y)o=x(t)+o,t="";else{var a=(t=+t)<0||1/t<0;if(t=isNaN(t)?A:x(Math.abs(t),g),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;0<i&&(i=0)}return 0<i?t.slice(0,i)+t.slice(e+1):t}(t)),a&&0==+t&&"+"!==f&&(a=!1),i=(a?"("===f?f:M:"-"===f||"("===f?"":f)+i,o=("s"===y?O[8+S/3]:"")+o+(a&&"("===f?")":""),_)for(e=-1,n=t.length;++e<n;)if((r=t.charCodeAt(e))<48||57<r){o=(46===r?k+t.slice(e+1):t.slice(e))+o,t=t.slice(0,e);break}}p&&!h&&(t=w(t,1/0));var s=i.length+t.length+o.length,l=s<d?new Array(d-s+1).join(u):"";switch(p&&h&&(t=w(l+t,l.length?d-o.length:1/0),l=""),c){case"<":t=i+t+o+l;break;case"=":t=i+l+t+o;break;case"^":t=l.slice(0,s=l.length>>1)+i+t+o+l.slice(s);break;default:t=l+i+t+o}return T(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),n.toString=function(){return t+""},n}return{format:a,formatPrefix:function(t,e){var n=a(((t=E(t)).type="f",t)),e=3*Math.max(-8,Math.min(8,Math.floor(u(e)/3))),r=Math.pow(10,-e),i=O[8+e/3];return function(t){return n(r*t)+i}}}}function t(t){return a=s(t),e.format=a.format,e.formatPrefix=a.formatPrefix,a}t({thousands:",",grouping:[3],currency:["$",""]}),e.FormatSpecifier=r,e.formatDefaultLocale=t,e.formatLocale=s,e.formatSpecifier=E,e.precisionFixed=function(t){return Math.max(0,-u(Math.abs(t)))},e.precisionPrefix=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(u(e)/3)))-u(Math.abs(t)))},e.precisionRound=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,u(e)-u(t))+1},Object.defineProperty(e,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o((i="undefined"!=typeof globalThis?globalThis:i||self).d3=i.d3||{})},{}],425:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t,S){var O=1e-6,E=1e-12,C=Math.PI,j=C/2,P=C/4,N=2*C,L=180/C,R=C/180,D=Math.abs,p=Math.atan,I=Math.atan2,F=Math.cos,b=Math.ceil,n=Math.exp,l=Math.hypot,a=Math.log,s=Math.pow,z=Math.sin,u=Math.sign||function(t){return 0<t?1:t<0?-1:0},B=Math.sqrt,r=Math.tan;function i(t){return 1<t?0:t<-1?C:Math.acos(t)}function U(t){return 1<t?j:t<-1?-j:Math.asin(t)}function g(t){return(t=z(t/2))*t}function o(){}function c(t,e){t&&h.hasOwnProperty(t.type)&&h[t.type](t,e)}var f={Feature:function(t,e){c(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)c(n[r].geometry,e)}},h={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){d(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)d(n[r],e,0)},Polygon:function(t,e){m(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)m(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)c(n[r],e)}};function d(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function m(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)d(t[n],e,1);e.polygonEnd()}function y(t,e){t&&f.hasOwnProperty(t.type)?f[t.type](t,e):c(t,e)}var v,x,_,w,k,T,M,A,H,q,V,G,W,Y,X,Z,$=new S.Adder,e=new S.Adder,Q={point:o,lineStart:o,lineEnd:o,polygonStart:function(){$=new S.Adder,Q.lineStart=K,Q.lineEnd=J},polygonEnd:function(){var t=+$;e.add(t<0?N+t:t),this.lineStart=this.lineEnd=this.point=o},sphere:function(){e.add(N)}};function K(){Q.point=tt}function J(){et(v,x)}function tt(t,e){Q.point=et,v=t,x=e,_=t*=R,w=F(e=(e*=R)/2+P),k=z(e)}function et(t,e){var n=(t*=R)-_,r=0<=n?1:-1,i=r*n,o=F(e=(e*=R)/2+P),a=z(e),n=k*a,e=w*o+n*F(i),i=n*r*z(i);$.add(I(i,e)),_=t,w=o,k=a}function nt(t){return[I(t[1],t[0]),U(t[2])]}function rt(t){var e=t[0],n=t[1],t=F(n);return[t*F(e),t*z(e),z(n)]}function it(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ot(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function at(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function st(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function lt(t){var e=B(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var ut,ct,ft,ht,dt,pt,gt,mt,yt,vt,bt,xt,_t,wt,kt,Tt,Mt={point:At,lineStart:Et,lineEnd:Ct,polygonStart:function(){Mt.point=Ot,Mt.lineStart=jt,Mt.lineEnd=Pt,Y=new S.Adder,Q.polygonStart()},polygonEnd:function(){Q.polygonEnd(),Mt.point=At,Mt.lineStart=Et,Mt.lineEnd=Ct,$<0?(T=-(A=180),M=-(H=90)):O<Y?H=90:Y<-O&&(M=-90),Z[0]=T,Z[1]=A},sphere:function(){T=-(A=180),M=-(H=90)}};function At(t,e){X.push(Z=[T=t,A=t]),e<M&&(M=e),H<e&&(H=e)}function St(t,e){var n,r,i,o,a,s=rt([t*R,e*R]);W?(i=ot(W,s),lt(n=ot([i[1],-i[0],0],i)),n=nt(n),r=0<(a=t-q)?1:-1,i=n[0]*L*r,(a=180<D(a))^(r*q<i&&i<r*t)?(o=n[1]*L,H<o&&(H=o)):a^(r*q<(i=(i+360)%360-180)&&i<r*t)?(o=-n[1]*L)<M&&(M=o):(e<M&&(M=e),H<e&&(H=e)),a?t<q?Nt(T,t)>Nt(T,A)&&(A=t):Nt(t,A)>Nt(T,A)&&(T=t):T<=A?(t<T&&(T=t),A<t&&(A=t)):q<t?Nt(T,t)>Nt(T,A)&&(A=t):Nt(t,A)>Nt(T,A)&&(T=t)):X.push(Z=[T=t,A=t]),e<M&&(M=e),H<e&&(H=e),W=s,q=t}function Et(){Mt.point=St}function Ct(){Z[0]=T,Z[1]=A,Mt.point=At,W=null}function Ot(t,e){var n;W?(n=t-q,Y.add(180<D(n)?n+(0<n?360:-360):n)):(V=t,G=e),Q.point(t,e),St(t,e)}function jt(){Q.lineStart()}function Pt(){Ot(V,G),Q.lineEnd(),D(Y)>O&&(T=-(A=180)),Z[0]=T,Z[1]=A,W=null}function Nt(t,e){return(e-=t)<0?e+360:e}function Lt(t,e){return t[0]-e[0]}function Rt(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Dt={sphere:o,point:It,lineStart:zt,lineEnd:Ht,polygonStart:function(){Dt.lineStart=qt,Dt.lineEnd=Vt},polygonEnd:function(){Dt.lineStart=zt,Dt.lineEnd=Ht}};function It(t,e){t*=R;var n=F(e*=R);Ft(n*F(t),n*z(t),z(e))}function Ft(t,e,n){ft+=(t-ft)/++ut,ht+=(e-ht)/ut,dt+=(n-dt)/ut}function zt(){Dt.point=Bt}function Bt(t,e){t*=R;var n=F(e*=R);wt=n*F(t),kt=n*z(t),Tt=z(e),Dt.point=Ut,Ft(wt,kt,Tt)}function Ut(t,e){t*=R;var n=F(e*=R),r=n*F(t),n=n*z(t),t=z(e),e=I(B((e=kt*t-Tt*n)*e+(e=Tt*r-wt*t)*e+(e=wt*n-kt*r)*e),wt*r+kt*n+Tt*t);ct+=e,pt+=e*(wt+(wt=r)),gt+=e*(kt+(kt=n)),mt+=e*(Tt+(Tt=t)),Ft(wt,kt,Tt)}function Ht(){Dt.point=It}function qt(){Dt.point=Gt}function Vt(){Wt(xt,_t),Dt.point=It}function Gt(t,e){xt=t,_t=e,t*=R,e*=R,Dt.point=Wt;var n=F(e);wt=n*F(t),kt=n*z(t),Tt=z(e),Ft(wt,kt,Tt)}function Wt(t,e){t*=R;var n=F(e*=R),r=n*F(t),i=n*z(t),o=z(e),a=kt*o-Tt*i,s=Tt*r-wt*o,n=wt*i-kt*r,t=l(a,s,n),e=U(t),t=t&&-e/t;yt.add(t*a),vt.add(t*s),bt.add(t*n),ct+=e,pt+=e*(wt+(wt=r)),gt+=e*(kt+(kt=i)),mt+=e*(Tt+(Tt=o)),Ft(wt,kt,Tt)}function Yt(t){return function(){return t}}function Xt(n,r){function t(t,e){return t=n(t,e),r(t[0],t[1])}return n.invert&&r.invert&&(t.invert=function(t,e){return(t=r.invert(t,e))&&n.invert(t[0],t[1])}),t}function Zt(t,e){return[D(t)>C?t+Math.round(-t/N)*N:t,e]}function $t(t,e,n){return(t%=N)?e||n?Xt(Kt(t),Jt(e,n)):Kt(t):e||n?Jt(e,n):Zt}function Qt(n){return function(t,e){return[C<(t+=n)?t-N:t<-C?t+N:t,e]}}function Kt(t){var e=Qt(t);return e.invert=Qt(-t),e}function Jt(t,e){var i=F(t),o=z(t),a=F(e),s=z(e);function n(t,e){var n=F(e),r=F(t)*n,t=z(t)*n,n=z(e),e=n*i+r*o;return[I(t*a-e*s,r*i-n*o),U(e*a+t*s)]}return n.invert=function(t,e){var n=F(e),r=F(t)*n,t=z(t)*n,n=z(e),e=n*a-t*s;return[I(t*a+n*s,r*i+e*o),U(e*i-r*o)]},n}function te(e){function t(t){return(t=e(t[0]*R,t[1]*R))[0]*=L,t[1]*=L,t}return e=$t(e[0]*R,e[1]*R,2<e.length?e[2]*R:0),t.invert=function(t){return(t=e.invert(t[0]*R,t[1]*R))[0]*=L,t[1]*=L,t},t}function ee(t,e,n,r,i,o){if(n){var a=F(e),s=z(e),l=r*n;null==i?(i=e+r*N,o=e-l/2):(i=ne(a,i),o=ne(a,o),(0<r?i<o:o<i)&&(i+=r*N));for(var u,c=i;0<r?o<c:c<o;c-=l)u=nt([a,-s*F(c),-s*z(c)]),t.point(u[0],u[1])}}function ne(t,e){(e=rt(e))[0]-=t,lt(e);t=i(-e[1]);return((-e[2]<0?-t:t)+N-O)%N}function re(){var r,e=[];return{point:function(t,e,n){r.push([t,e,n])},lineStart:function(){e.push(r=[])},lineEnd:o,rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],r=null,t}}}function ie(t,e){return D(t[0]-e[0])<O&&D(t[1]-e[1])<O}function oe(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ae(t,e,n,r,o){var a,i,s=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],i=t[e];if(ie(r,i)){if(!r[2]&&!i[2]){for(o.lineStart(),a=0;a<e;++a)o.point((r=t[a])[0],r[1]);return void o.lineEnd()}i[0]+=2*O}s.push(n=new oe(r,t,null,!0)),l.push(n.o=new oe(r,null,n,!1)),s.push(n=new oe(i,t,null,!1)),l.push(n.o=new oe(i,null,n,!0))}}),s.length){for(l.sort(e),se(s),se(l),a=0,i=l.length;a<i;++a)l[a].e=n=!n;for(var u,c,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;u=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(a=0,i=u.length;a<i;++a)o.point((c=u[a])[0],c[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(d)for(u=h.p.z,a=u.length-1;0<=a;--a)o.point((c=u[a])[0],c[1]);else r(h.x,h.p.x,-1,o);h=h.p}}while(u=(h=h.o).z,d=!d,!h.v);o.lineEnd()}}}function se(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function le(t){return D(t[0])<=C?t[0]:u(t[0])*((D(t[0])+C)%N-C)}function ue(t,e){var n=le(e),r=e[1],e=z(r),i=[z(n),-F(n),0],o=0,a=0,s=new S.Adder;1===e?r=j+O:-1===e&&(r=-j-O);for(var l=0,u=t.length;l<u;++l)if(f=(c=t[l]).length)for(var c,f,h=c[f-1],d=le(h),p=h[1]/2+P,g=z(p),m=F(p),y=0;y<f;++y,d=b,g=_,m=w,h=v){var v=c[y],b=le(v),x=v[1]/2+P,_=z(x),w=F(x),k=b-d,T=0<=k?1:-1,M=T*k,A=C<M,x=g*_;s.add(I(x*T*z(M),m*w+x*F(M))),o+=A?k+T*N:k,A^n<=d^n<=b&&(lt(M=ot(rt(h),rt(v))),lt(T=ot(i,M)),((T=(A^0<=k?-1:1)*U(T[2]))<r||r===T&&(M[0]||M[1]))&&(a+=A^0<=k?1:-1))}return(o<-O||o<O&&s<-E)^1&a}function ce(m,y,v,b){return function(s){var l,u,c,n=y(s),f=re(),h=y(f),d=!1,e={point:r,lineStart:i,lineEnd:o,polygonStart:function(){e.point=p,e.lineStart=a,e.lineEnd=g,u=[],l=[]},polygonEnd:function(){e.point=r,e.lineStart=i,e.lineEnd=o,u=S.merge(u);var t=ue(l,b);u.length?(d||(s.polygonStart(),d=!0),ae(u,he,t,v,s)):t&&(d||(s.polygonStart(),d=!0),s.lineStart(),v(null,null,1,s),s.lineEnd()),d&&(s.polygonEnd(),d=!1),u=l=null},sphere:function(){s.polygonStart(),s.lineStart(),v(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function r(t,e){m(t,e)&&s.point(t,e)}function t(t,e){n.point(t,e)}function i(){e.point=t,n.lineStart()}function o(){e.point=r,n.lineEnd()}function p(t,e){c.push([t,e]),h.point(t,e)}function a(){h.lineStart(),c=[]}function g(){p(c[0][0],c[0][1]),h.lineEnd();var t,e,n,r,i=h.clean(),o=f.result(),a=o.length;if(c.pop(),l.push(c),c=null,a)if(1&i){if(0<(e=(n=o[0]).length-1)){for(d||(s.polygonStart(),d=!0),s.lineStart(),t=0;t<e;++t)s.point((r=n[t])[0],r[1]);s.lineEnd()}}else 1<a&&2&i&&o.push(o.pop().concat(o.shift())),u.push(o.filter(fe))}return e}}function fe(t){return 1<t.length}function he(t,e){return((t=t.x)[0]<0?t[1]-j-O:j-t[1])-((e=e.x)[0]<0?e[1]-j-O:j-e[1])}Zt.invert=Zt;var de=ce(function(){return 1},function(u){var c,f=NaN,h=NaN,d=NaN;return{lineStart:function(){u.lineStart(),c=1},point:function(t,e){var n,r,i,o,a,s=0<t?C:-C,l=D(t-f);D(l-C)<O?(u.point(f,h=0<(h+e)/2?j:-j),u.point(d,h),u.lineEnd(),u.lineStart(),u.point(s,h),u.point(t,h),c=0):d!==s&&C<=l&&(D(f-d)<O&&(f-=d*O),D(t-s)<O&&(t-=s*O),r=h,o=e,a=z((n=f)-(i=t)),h=D(a)>O?p((z(r)*(l=F(o))*z(i)-z(o)*(i=F(r))*z(n))/(i*l*a)):(r+o)/2,u.point(d,h),u.lineEnd(),u.lineStart(),u.point(s,h),c=0),u.point(f=t,h=e),d=s},lineEnd:function(){u.lineEnd(),f=h=NaN},clean:function(){return 2-c}}},function(t,e,n,r){var i;null==t?(i=n*j,r.point(-C,i),r.point(0,i),r.point(C,i),r.point(C,0),r.point(C,-i),r.point(0,-i),r.point(-C,-i),r.point(-C,0),r.point(-C,i)):D(t[0]-e[0])>O?(t=t[0]<e[0]?C:-C,i=n*t/2,r.point(-t,i),r.point(0,i),r.point(t,i)):r.point(e[0],e[1])},[-C,-j]);function pe(i){var d=F(i),o=6*R,h=0<d,p=D(d)>O;function g(t,e){return F(t)*F(e)>d}function m(t,e,n){var r=[1,0,0],i=ot(rt(t),rt(e)),o=it(i,i),a=i[0],s=o-a*a;if(!s)return!n&&t;var l=d*o/s,u=-d*a/s,c=ot(r,i),f=st(r,l);at(f,st(i,u));o=c,a=it(f,o),s=it(o,o),r=a*a-s*(it(f,f)-1);if(!(r<0)){l=B(r),i=st(o,(-a-l)/s);if(at(i,f),i=nt(i),!n)return i;var h,u=t[0],c=e[0],r=t[1],n=e[1];c<u&&(h=u,u=c,c=h);t=c-u,e=D(t-C)<O;if(!e&&n<r&&(h=r,r=n,n=h),e||t<O?e?0<r+n^i[1]<(D(i[0]-u)<O?r:n):r<=i[1]&&i[1]<=n:C<t^(u<=i[0]&&i[0]<=c)){s=st(o,(-a+l)/s);return at(s,f),[i,nt(s)]}}}function y(t,e){var n=h?i:C-i,r=0;return t<-n?r|=1:n<t&&(r|=2),e<-n?r|=4:n<e&&(r|=8),r}return ce(g,function(a){var s,l,u,c,f;return{lineStart:function(){c=u=!1,f=1},point:function(t,e){var n,r,i=[t,e],o=g(t,e),e=h?o?0:y(t,e):o?y(t+(t<0?C:-C),e):0;!s&&(c=u=o)&&a.lineStart(),o!==u&&((n=m(s,i))&&!ie(s,n)&&!ie(i,n)||(i[2]=1)),o!==u?(f=0,o?(a.lineStart(),n=m(i,s),a.point(n[0],n[1])):(n=m(s,i),a.point(n[0],n[1],2),a.lineEnd()),s=n):p&&s&&h^o&&(e&l||!(r=m(i,s,!0))||(f=0,h?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1],3)))),!o||s&&ie(s,i)||a.point(i[0],i[1]),s=i,u=o,l=e},lineEnd:function(){u&&a.lineEnd(),s=null},clean:function(){return f|(c&&u)<<1}}},function(t,e,n,r){ee(r,i,o,n,t,e)},h?[0,-i]:[-C,i-C])}var ge,me,ye,ve,be=1e9,xe=-be;function _e(y,v,b,x){function _(t,e){return y<=t&&t<=b&&v<=e&&e<=x}function w(t,e,n,r){var i=0,o=0;if(null==t||(i=a(t,n))!==(o=a(e,n))||s(t,e)<0^0<n)for(;r.point(0===i||3===i?y:b,1<i?x:v),(i=(i+n+4)%4)!==o;);else r.point(e[0],e[1])}function a(t,e){return D(t[0]-y)<O?0<e?0:3:D(t[0]-b)<O?0<e?2:1:D(t[1]-v)<O?0<e?1:0:0<e?3:2}function k(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){var i,f,o,a,s,l,u,c,h,d,p,g=r,t=re(),e={point:n,lineStart:function(){e.point=m,f&&f.push(o=[]);d=!0,h=!1,u=c=NaN},lineEnd:function(){i&&(m(a,s),l&&h&&t.rejoin(),i.push(t.result()));e.point=n,h&&g.lineEnd()},polygonStart:function(){g=t,i=[],f=[],p=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,n=f.length;e<n;++e)for(var r,i,o=f[e],a=1,s=o.length,l=o[0],u=l[0],c=l[1];a<s;++a)r=u,i=c,l=o[a],u=l[0],c=l[1],i<=x?x<c&&(c-i)*(y-r)<(u-r)*(x-i)&&++t:c<=x&&(u-r)*(x-i)<(c-i)*(y-r)&&--t;return t}(),e=p&&t,n=(i=S.merge(i)).length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),w(null,null,1,r),r.lineEnd()),n&&ae(i,k,t,w,r),r.polygonEnd());g=r,i=f=o=null}};function n(t,e){_(t,e)&&g.point(t,e)}function m(t,e){var n,r,i=_(t,e);f&&o.push([t,e]),d?(a=t,s=e,d=!1,(l=i)&&(g.lineStart(),g.point(t,e))):i&&h?g.point(t,e):!function(t,e,n,r,i,o){var a=t[0],s=t[1],l=0,u=1,c=e[0]-a,f=e[1]-s,n=n-a;if(c||!(0<n)){if(n/=c,c<0){if(n<l)return;n<u&&(u=n)}else if(0<c){if(u<n)return;l<n&&(l=n)}if(n=i-a,c||!(n<0)){if(n/=c,c<0){if(u<n)return;l<n&&(l=n)}else if(0<c){if(n<l)return;n<u&&(u=n)}if(n=r-s,f||!(0<n)){if(n/=f,f<0){if(n<l)return;n<u&&(u=n)}else if(0<f){if(u<n)return;l<n&&(l=n)}if(n=o-s,f||!(n<0)){if(n/=f,f<0){if(u<n)return;l<n&&(l=n)}else if(0<f){if(n<l)return;n<u&&(u=n)}return 0<l&&(t[0]=a+l*c,t[1]=s+l*f),u<1&&(e[0]=a+u*c,e[1]=s+u*f),1}}}}}(n=[u=Math.max(xe,Math.min(be,u)),c=Math.max(xe,Math.min(be,c))],r=[t=Math.max(xe,Math.min(be,t)),e=Math.max(xe,Math.min(be,e))],y,v,b,x)?i&&(g.lineStart(),g.point(t,e),p=!1):(h||(g.lineStart(),g.point(n[0],n[1])),g.point(r[0],r[1]),i||g.lineEnd(),p=!1),u=t,c=e,h=i}return e}}var we={sphere:o,point:o,lineStart:function(){we.point=Te,we.lineEnd=ke},lineEnd:o,polygonStart:o,polygonEnd:o};function ke(){we.point=we.lineEnd=o}function Te(t,e){me=t*=R,ye=z(e*=R),ve=F(e),we.point=Me}function Me(t,e){t*=R;var n=z(e*=R),r=F(e),i=D(t-me),o=F(i),e=r*z(i),i=ve*n-ye*r*o,o=ye*n+ve*r*o;ge.add(I(B(e*e+i*i),o)),me=t,ye=n,ve=r}function Ae(t){return ge=new S.Adder,y(t,we),+ge}var Se=[null,null],Ee={type:"LineString",coordinates:Se};function Ce(t,e){return Se[0]=t,Se[1]=e,Ae(Ee)}var Oe={Feature:function(t,e){return Pe(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Pe(n[r].geometry,e))return!0;return!1}},je={Sphere:function(){return!0},Point:function(t,e){return Ne(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Ne(n[r],e))return!0;return!1},LineString:function(t,e){return Le(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Le(n[r],e))return!0;return!1},Polygon:function(t,e){return Re(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Re(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Pe(n[r],e))return!0;return!1}};function Pe(t,e){return!(!t||!je.hasOwnProperty(t.type))&&je[t.type](t,e)}function Ne(t,e){return 0===Ce(t,e)}function Le(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(0===(r=Ce(t[o],e)))return!0;if(0<o&&0<(i=Ce(t[o],t[o-1]))&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<E*i)return!0;n=r}return!1}function Re(t,e){return!!ue(t.map(De),Ie(e))}function De(t){return(t=t.map(Ie)).pop(),t}function Ie(t){return[t[0]*R,t[1]*R]}function Fe(t,e,n){var r=S.range(t,e-O,n).concat(e);return function(e){return r.map(function(t){return[e,t]})}}function ze(t,e,n){var r=S.range(t,e-O,n).concat(e);return function(e){return r.map(function(t){return[t,e]})}}function Be(){var e,n,r,i,o,a,s,l,u,c,f,h,d=10,p=d,g=90,m=360,y=2.5;function v(){return{type:"MultiLineString",coordinates:t()}}function t(){return S.range(b(i/g)*g,r,g).map(f).concat(S.range(b(l/m)*m,s,m).map(h)).concat(S.range(b(n/d)*d,e,d).filter(function(t){return D(t%g)>O}).map(u)).concat(S.range(b(a/p)*p,o,p).filter(function(t){return D(t%m)>O}).map(c))}return v.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},v.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(h(s).slice(1),f(r).reverse().slice(1),h(l).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.extentMajor(t).extentMinor(t):v.extentMinor()},v.extentMajor=function(t){return arguments.length?(i=+t[0][0],r=+t[1][0],l=+t[0][1],s=+t[1][1],r<i&&(t=i,i=r,r=t),s<l&&(t=l,l=s,s=t),v.precision(y)):[[i,l],[r,s]]},v.extentMinor=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],e<n&&(t=n,n=e,e=t),o<a&&(t=a,a=o,o=t),v.precision(y)):[[n,a],[e,o]]},v.step=function(t){return arguments.length?v.stepMajor(t).stepMinor(t):v.stepMinor()},v.stepMajor=function(t){return arguments.length?(g=+t[0],m=+t[1],v):[g,m]},v.stepMinor=function(t){return arguments.length?(d=+t[0],p=+t[1],v):[d,p]},v.precision=function(t){return arguments.length?(y=+t,u=Fe(a,o,90),c=ze(n,e,y),f=Fe(l,s,90),h=ze(i,r,y),v):y},v.extentMajor([[-180,-90+O],[180,90-O]]).extentMinor([[-180,-80-O],[180,80+O]])}var Ue,He,qe,Ve,Ge=function(t){return t},We=new S.Adder,Ye=new S.Adder,Xe={point:o,lineStart:o,lineEnd:o,polygonStart:function(){Xe.lineStart=Ze,Xe.lineEnd=Ke},polygonEnd:function(){Xe.lineStart=Xe.lineEnd=Xe.point=o,We.add(D(Ye)),Ye=new S.Adder},result:function(){var t=We/2;return We=new S.Adder,t}};function Ze(){Xe.point=$e}function $e(t,e){Xe.point=Qe,Ue=qe=t,He=Ve=e}function Qe(t,e){Ye.add(Ve*t-qe*e),qe=t,Ve=e}function Ke(){Qe(Ue,He)}var Je=1/0,tn=Je,en=-Je,nn=en,rn={point:function(t,e){t<Je&&(Je=t);en<t&&(en=t);e<tn&&(tn=e);nn<e&&(nn=e)},lineStart:o,lineEnd:o,polygonStart:o,polygonEnd:o,result:function(){var t=[[Je,tn],[en,nn]];return en=nn=-(tn=Je=1/0),t}};var on,an,sn,ln,un=0,cn=0,fn=0,hn=0,dn=0,pn=0,gn=0,mn=0,yn=0,vn={point:bn,lineStart:xn,lineEnd:kn,polygonStart:function(){vn.lineStart=Tn,vn.lineEnd=Mn},polygonEnd:function(){vn.point=bn,vn.lineStart=xn,vn.lineEnd=kn},result:function(){var t=yn?[gn/yn,mn/yn]:pn?[hn/pn,dn/pn]:fn?[un/fn,cn/fn]:[NaN,NaN];return un=cn=fn=hn=dn=pn=gn=mn=yn=0,t}};function bn(t,e){un+=t,cn+=e,++fn}function xn(){vn.point=_n}function _n(t,e){vn.point=wn,bn(sn=t,ln=e)}function wn(t,e){var n=t-sn,r=e-ln,r=B(n*n+r*r);hn+=r*(sn+t)/2,dn+=r*(ln+e)/2,pn+=r,bn(sn=t,ln=e)}function kn(){vn.point=bn}function Tn(){vn.point=An}function Mn(){Sn(on,an)}function An(t,e){vn.point=Sn,bn(on=sn=t,an=ln=e)}function Sn(t,e){var n=t-sn,r=e-ln,r=B(n*n+r*r);hn+=r*(sn+t)/2,dn+=r*(ln+e)/2,pn+=r,gn+=(r=ln*t-sn*e)*(sn+t),mn+=r*(ln+e),yn+=3*r,bn(sn=t,ln=e)}function En(t){this._context=t}En.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,N)}},result:o};var Cn,On,jn,Pn,Nn,Ln=new S.Adder,Rn={point:o,lineStart:function(){Rn.point=Dn},lineEnd:function(){Cn&&In(On,jn),Rn.point=o},polygonStart:function(){Cn=!0},polygonEnd:function(){Cn=null},result:function(){var t=+Ln;return Ln=new S.Adder,t}};function Dn(t,e){Rn.point=In,On=Pn=t,jn=Nn=e}function In(t,e){Pn-=t,Nn-=e,Ln.add(B(Pn*Pn+Nn*Nn)),Pn=t,Nn=e}function Fn(){this._string=[]}function zn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Bn(r){return function(t){var e,n=new Un;for(e in r)n[e]=r[e];return n.stream=t,n}}function Un(){}function Hn(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),y(n,t.stream(rn)),e(rn.result()),null!=r&&t.clipExtent(r),t}function qn(i,o,t){return Hn(i,function(t){var e=o[1][0]-o[0][0],n=o[1][1]-o[0][1],r=Math.min(e/(t[1][0]-t[0][0]),n/(t[1][1]-t[0][1])),e=+o[0][0]+(e-r*(t[1][0]+t[0][0]))/2,t=+o[0][1]+(n-r*(t[1][1]+t[0][1]))/2;i.scale(150*r).translate([e,t])},t)}function Vn(t,e,n){return qn(t,[[0,0],e],n)}function Gn(r,i,t){return Hn(r,function(t){var e=+i,n=e/(t[1][0]-t[0][0]),e=(e-n*(t[1][0]+t[0][0]))/2,t=-n*t[0][1];r.scale(150*n).translate([e,t])},t)}function Wn(i,o,t){return Hn(i,function(t){var e=+o,n=e/(t[1][1]-t[0][1]),r=-n*t[0][0],t=(e-n*(t[1][1]+t[0][1]))/2;i.scale(150*n).translate([r,t])},t)}Fn.prototype={_radius:4.5,_circle:zn(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=zn(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Un.prototype={constructor:Un,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Yn=16,Xn=F(30*R);function Zn(t,e){return+e?(S=t,E=e,function(r){var n,i,o,a,s,l,u,c,f,h,d,p,g={point:t,lineStart:e,lineEnd:y,polygonStart:function(){r.polygonStart(),g.lineStart=v},polygonEnd:function(){r.polygonEnd(),g.lineStart=e}};function t(t,e){t=S(t,e),r.point(t[0],t[1])}function e(){c=NaN,g.point=m,r.lineStart()}function m(t,e){var n=rt([t,e]),e=S(t,e);C(c,f,u,h,d,p,c=e[0],f=e[1],u=t,h=n[0],d=n[1],p=n[2],Yn,r),r.point(c,f)}function y(){g.point=t,r.lineEnd()}function v(){e(),g.point=b,g.lineEnd=x}function b(t,e){m(n=t,e),i=c,o=f,a=h,s=d,l=p,g.point=m}function x(){C(c,f,u,h,d,p,i,o,n,a,s,l,Yn,r),g.lineEnd=y,y()}return g}):(n=t,Bn({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}}));var n,S,E;function C(t,e,n,r,i,o,a,s,l,u,c,f,h,d){var p,g,m,y,v,b,x,_,w,k,T=a-t,M=s-e,A=T*T+M*M;4*E<A&&h--&&(m=o+f,w=U(m/=y=B((p=r+u)*p+(g=i+c)*g+m*m)),v=D(D(m)-1)<O||D(n-l)<O?(n+l)/2:I(g,p),b=(k=S(v,w))[0],x=k[1],(E<(k=M*(_=b-t)-T*(w=x-e))*k/A||.3<D((T*_+M*w)/A-.5)||r*u+i*c+o*f<Xn)&&(C(t,e,n,r,i,o,b,x,v,p/=y,g/=y,m,h,d),d.point(b,x),C(b,x,v,p,g,m,a,s,l,u,c,f,h,d)))}}var $n=Bn({point:function(t,e){this.stream.point(t*R,e*R)}});function Qn(t,n,r,i,o,e){if(!e)return s=t,l=n,u=r,c=i,f=o,a.invert=function(t,e){return[(t-l)/s*c,(u-e)/s*f]},a;function a(t,e){return[l+s*(t*=c),u-s*(e*=f)]}var s,l,u,c,f,h=F(e),e=z(e),d=h*t,p=e*t,g=h/t,m=e/t,y=(e*r-h*n)/t,v=(e*n+h*r)/t;function b(t,e){return[d*(t*=i)-p*(e*=o)+n,r-p*t-d*e]}return b.invert=function(t,e){return[i*(g*t-m*e+y),o*(v-m*t-g*e)]},b}function Kn(t){return Jn(function(){return t})()}function Jn(t){var e,r,n,i,o,a,s,l,u,c,f=150,h=480,d=250,p=0,g=0,m=0,y=0,v=0,b=0,x=1,_=1,w=null,k=de,T=null,M=Ge,A=.5;function S(t){return l(t[0]*R,t[1]*R)}function E(t){return(t=l.invert(t[0],t[1]))&&[t[0]*L,t[1]*L]}function C(){var t=Qn(f,0,0,x,_,b).apply(null,e(p,g)),t=Qn(f,h-t[0],d-t[1],x,_,b);return r=$t(m,y,v),s=Xt(e,t),l=Xt(r,s),a=Zn(s,A),O()}function O(){return u=c=null,S}return S.stream=function(t){return u&&c===t?u:u=$n((n=r,Bn({point:function(t,e){e=n(t,e);return this.stream.point(e[0],e[1])}})(k(a(M(c=t))))));var n},S.preclip=function(t){return arguments.length?(k=t,w=void 0,O()):k},S.postclip=function(t){return arguments.length?(M=t,T=n=i=o=null,O()):M},S.clipAngle=function(t){return arguments.length?(k=+t?pe(w=t*R):(w=null,de),O()):w*L},S.clipExtent=function(t){return arguments.length?(M=null==t?(T=n=i=o=null,Ge):_e(T=+t[0][0],n=+t[0][1],i=+t[1][0],o=+t[1][1]),O()):null==T?null:[[T,n],[i,o]]},S.scale=function(t){return arguments.length?(f=+t,C()):f},S.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],C()):[h,d]},S.center=function(t){return arguments.length?(p=t[0]%360*R,g=t[1]%360*R,C()):[p*L,g*L]},S.rotate=function(t){return arguments.length?(m=t[0]%360*R,y=t[1]%360*R,v=2<t.length?t[2]%360*R:0,C()):[m*L,y*L,v*L]},S.angle=function(t){return arguments.length?(b=t%360*R,C()):b*L},S.reflectX=function(t){return arguments.length?(x=t?-1:1,C()):x<0},S.reflectY=function(t){return arguments.length?(_=t?-1:1,C()):_<0},S.precision=function(t){return arguments.length?(a=Zn(s,A=t*t),O()):B(A)},S.fitExtent=function(t,e){return qn(S,t,e)},S.fitSize=function(t,e){return Vn(S,t,e)},S.fitWidth=function(t,e){return Gn(S,t,e)},S.fitHeight=function(t,e){return Wn(S,t,e)},function(){return e=t.apply(this,arguments),S.invert=e.invert&&E,C()}}function tr(t){var e=0,n=C/3,r=Jn(t),t=r(e,n);return t.parallels=function(t){return arguments.length?r(e=t[0]*R,n=t[1]*R):[e*L,n*L]},t}function er(t,e){var n,r=z(t),i=(r+z(e))/2;if(D(i)<O)return n=F(t),o.invert=function(t,e){return[t/n,U(e*n)]},o;function o(t,e){return[t*n,z(e)/n]}var a=1+r*(2*i-r),s=B(a)/i;function l(t,e){e=B(a-2*i*z(e))/i;return[e*z(t*=i),s-e*F(t)]}return l.invert=function(t,e){var n=s-e,e=I(t,D(n))*u(n);return n*i<0&&(e-=C*u(t)*u(n)),[e/i,U((a-(t*t+n*n)*i*i)/(2*i))]},l}function nr(){return tr(er).scale(155.424).center([0,33.6442])}function rr(){return nr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ir(i){return function(t,e){var n=F(t),r=F(e),n=i(n*r);return n===1/0?[2,0]:[n*r*z(t),n*z(e)]}}function or(o){return function(t,e){var n=B(t*t+e*e),r=o(n),i=z(r),r=F(r);return[I(t*i,n*r),U(n&&e*i/n)]}}var ar=ir(function(t){return B(2/(1+t))});ar.invert=or(function(t){return 2*U(t/2)});var sr=ir(function(t){return(t=i(t))&&t/z(t)});function lr(t,e){return[t,a(r((j+e)/2))]}function ur(n){var r,i,o,a=Kn(n),e=a.center,s=a.scale,l=a.translate,u=a.clipExtent,c=null;function f(){var t=C*s(),e=a(te(a.rotate()).invert([0,0]));return u(null==c?[[e[0]-t,e[1]-t],[e[0]+t,e[1]+t]]:n===lr?[[Math.max(e[0]-t,c),r],[Math.min(e[0]+t,i),o]]:[[c,Math.max(e[1]-t,r)],[i,Math.min(e[1]+t,o)]])}return a.scale=function(t){return arguments.length?(s(t),f()):s()},a.translate=function(t){return arguments.length?(l(t),f()):l()},a.center=function(t){return arguments.length?(e(t),f()):e()},a.clipExtent=function(t){return arguments.length?(null==t?c=r=i=o=null:(c=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),f()):null==c?null:[[c,r],[i,o]]},f()}function cr(t){return r((j+t)/2)}function fr(t,e){var n=F(t),i=t===e?z(t):a(n/F(e))/a(cr(e)/cr(t)),o=n*s(cr(t),i)/i;return i?(r.invert=function(t,e){var n=o-e,r=u(i)*B(t*t+n*n),e=I(t,D(n))*u(n);return n*i<0&&(e-=C*u(t)*u(n)),[e/i,2*p(s(o/r,1/i))-j]},r):lr;function r(t,e){0<o?e<-j+O&&(e=-j+O):j-O<e&&(e=j-O);e=o/s(cr(e),i);return[e*z(i*t),o-e*F(i*t)]}}function hr(t,e){return[t,e]}function dr(t,e){var n=F(t),r=t===e?z(t):(n-F(e))/(e-t),i=n/r+t;return D(r)<O?hr:(o.invert=function(t,e){var n=i-e,e=I(t,D(n))*u(n);return n*r<0&&(e-=C*u(t)*u(n)),[e/r,i-u(r)*B(t*t+n*n)]},o);function o(t,e){e=i-e,t*=r;return[e*z(t),i-e*F(t)]}}sr.invert=or(function(t){return t}),lr.invert=function(t,e){return[t,2*p(n(e))-j]},hr.invert=hr;var pr=1.340264,gr=-.081106,mr=893e-6,yr=.003796,vr=B(3)/2;function br(t,e){var n=U(vr*z(e)),r=n*n,e=r*r*r;return[t*F(n)/(vr*(pr+3*gr*r+e*(7*mr+9*yr*r))),n*(pr+gr*r+e*(mr+yr*r))]}function xr(t,e){var n=F(e),r=F(t)*n;return[n*z(t)/r,z(e)/r]}function _r(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function wr(t,e){return[F(e)*z(t),z(e)]}function kr(t,e){var n=F(e),r=1+F(t)*n;return[n*z(t)/r,z(e)/r]}function Tr(t,e){return[a(r((j+e)/2)),-t]}br.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(pr+gr*i+o*(mr+yr*i))-e)/(pr+3*gr*i+o*(7*mr+9*yr*i)))*r)*i*i,!(D(n)<E));++a);return[vr*t*(pr+3*gr*i+o*(7*mr+9*yr*i))/F(r),U(z(r)/vr)]},xr.invert=or(p),_r.invert=function(t,e){var n=e,r=25;do{var i=n*n,o=i*i}while(n-=o=(n*(1.007226+i*(.015085+o*(.028874*i-.044475-.005916*o)))-e)/(1.007226+i*(.045255+o*(.259866*i-.311325-.005916*11*o))),D(o)>O&&0<--r);return[t/(.8707+(i=n*n)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),n]},wr.invert=or(U),kr.invert=or(function(t){return 2*p(t)}),Tr.invert=function(t,e){return[-e,2*p(n(t))-j]},t.geoAlbers=rr,t.geoAlbersUsa=function(){var e,n,i,o,a,r,s=rr(),l=nr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=nr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){r=[t,e]}};function f(t){var e=t[0],t=t[1];return r=null,i.point(e,t),r||(o.point(e,t),r)||(a.point(e,t),r)}function h(){return e=n=null,f}return f.invert=function(t){var e=s.scale(),n=s.translate(),r=(t[0]-n[0])/e,e=(t[1]-n[1])/e;return(.12<=e&&e<.234&&-.425<=r&&r<-.214?l:.166<=e&&e<.234&&-.214<=r&&r<-.115?u:s).invert(t)},f.stream=function(t){return e&&n===t?e:(r=[s.stream(n=t),l.stream(t),u.stream(t)],i=r.length,e={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},f.precision=function(t){return arguments.length?(s.precision(t),l.precision(t),u.precision(t),h()):s.precision()},f.scale=function(t){return arguments.length?(s.scale(t),l.scale(.35*t),u.scale(t),f.translate(s.translate())):s.scale()},f.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),n=+t[0],r=+t[1];return i=s.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(c),o=l.translate([n-.307*e,r+.201*e]).clipExtent([[n-.425*e+O,r+.12*e+O],[n-.214*e-O,r+.234*e-O]]).stream(c),a=u.translate([n-.205*e,r+.212*e]).clipExtent([[n-.214*e+O,r+.166*e+O],[n-.115*e-O,r+.234*e-O]]).stream(c),h()},f.fitExtent=function(t,e){return qn(f,t,e)},f.fitSize=function(t,e){return Vn(f,t,e)},f.fitWidth=function(t,e){return Gn(f,t,e)},f.fitHeight=function(t,e){return Wn(f,t,e)},f.scale(1070)},t.geoArea=function(t){return e=new S.Adder,y(t,Q),2*e},t.geoAzimuthalEqualArea=function(){return Kn(ar).scale(124.75).clipAngle(179.999)},t.geoAzimuthalEqualAreaRaw=ar,t.geoAzimuthalEquidistant=function(){return Kn(sr).scale(79.4188).clipAngle(179.999)},t.geoAzimuthalEquidistantRaw=sr,t.geoBounds=function(t){var e,n,r,i,o,a,s;if(H=A=-(T=M=1/0),X=[],y(t,Mt),n=X.length){for(X.sort(Lt),e=1,o=[r=X[0]];e<n;++e)Rt(r,(i=X[e])[0])||Rt(r,i[1])?(Nt(r[0],i[1])>Nt(r[0],r[1])&&(r[1]=i[1]),Nt(i[0],r[1])>Nt(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=Nt(r[1],i[0]))>a&&(a=s,T=i[0],A=r[1])}return X=Z=null,T===1/0||M===1/0?[[NaN,NaN],[NaN,NaN]]:[[T,M],[A,H]]},t.geoCentroid=function(t){ut=ct=ft=ht=dt=pt=gt=mt=0,yt=new S.Adder,vt=new S.Adder,bt=new S.Adder,y(t,Dt);var e=+yt,n=+vt,r=+bt;return(t=l(e,n,r))<E&&(e=pt,n=gt,r=mt,ct<O&&(e=ft,n=ht,r=dt),(t=l(e,n,r))<E)?[NaN,NaN]:[I(n,e)*L,U(r/t)*L]},t.geoCircle=function(){var r,i,o=Yt([0,0]),a=Yt(90),s=Yt(6),l={point:function(t,e){r.push(t=i(t,e)),t[0]*=L,t[1]*=L}};function e(){var t=o.apply(this,arguments),e=a.apply(this,arguments)*R,n=s.apply(this,arguments)*R;return r=[],i=$t(-t[0]*R,-t[1]*R,0).invert,ee(l,e,n,1),t={type:"Polygon",coordinates:[r]},r=i=null,t}return e.center=function(t){return arguments.length?(o="function"==typeof t?t:Yt([+t[0],+t[1]]),e):o},e.radius=function(t){return arguments.length?(a="function"==typeof t?t:Yt(+t),e):a},e.precision=function(t){return arguments.length?(s="function"==typeof t?t:Yt(+t),e):s},e},t.geoClipAntimeridian=de,t.geoClipCircle=pe,t.geoClipExtent=function(){var e,n,r,i=0,o=0,a=960,s=500;return r={stream:function(t){return e&&n===t?e:e=_e(i,o,a,s)(n=t)},extent:function(t){return arguments.length?(i=+t[0][0],o=+t[0][1],a=+t[1][0],s=+t[1][1],e=n=null,r):[[i,o],[a,s]]}}},t.geoClipRectangle=_e,t.geoConicConformal=function(){return tr(fr).scale(109.5).parallels([30,30])},t.geoConicConformalRaw=fr,t.geoConicEqualArea=nr,t.geoConicEqualAreaRaw=er,t.geoConicEquidistant=function(){return tr(dr).scale(131.154).center([0,13.9389])},t.geoConicEquidistantRaw=dr,t.geoContains=function(t,e){return(t&&Oe.hasOwnProperty(t.type)?Oe[t.type]:Pe)(t,e)},t.geoDistance=Ce,t.geoEqualEarth=function(){return Kn(br).scale(177.158)},t.geoEqualEarthRaw=br,t.geoEquirectangular=function(){return Kn(hr).scale(152.63)},t.geoEquirectangularRaw=hr,t.geoGnomonic=function(){return Kn(xr).scale(144.049).clipAngle(60)},t.geoGnomonicRaw=xr,t.geoGraticule=Be,t.geoGraticule10=function(){return Be()()},t.geoIdentity=function(){var r,i,e,n,o,a,s,l=1,u=0,c=0,f=1,h=1,d=0,p=null,g=1,m=1,y=Bn({point:function(t,e){e=x([t,e]);this.stream.point(e[0],e[1])}}),v=Ge;function b(){return g=l*f,m=l*h,a=s=null,x}function x(t){var e=t[0]*g,n=t[1]*m;return d&&(t=n*r-e*i,e=e*r+n*i,n=t),[e+u,n+c]}return x.invert=function(t){var e=t[0]-u,n=t[1]-c;return d&&(t=n*r+e*i,e=e*r-n*i,n=t),[e/g,n/m]},x.stream=function(t){return a&&s===t?a:a=y(v(s=t))},x.postclip=function(t){return arguments.length?(v=t,p=e=n=o=null,b()):v},x.clipExtent=function(t){return arguments.length?(v=null==t?(p=e=n=o=null,Ge):_e(p=+t[0][0],e=+t[0][1],n=+t[1][0],o=+t[1][1]),b()):null==p?null:[[p,e],[n,o]]},x.scale=function(t){return arguments.length?(l=+t,b()):l},x.translate=function(t){return arguments.length?(u=+t[0],c=+t[1],b()):[u,c]},x.angle=function(t){return arguments.length?(i=z(d=t%360*R),r=F(d),b()):d*L},x.reflectX=function(t){return arguments.length?(f=t?-1:1,b()):f<0},x.reflectY=function(t){return arguments.length?(h=t?-1:1,b()):h<0},x.fitExtent=function(t,e){return qn(x,t,e)},x.fitSize=function(t,e){return Vn(x,t,e)},x.fitWidth=function(t,e){return Gn(x,t,e)},x.fitHeight=function(t,e){return Wn(x,t,e)},x},t.geoInterpolate=function(t,e){var n=t[0]*R,r=t[1]*R,i=e[0]*R,o=e[1]*R,t=F(r),a=z(r),e=F(o),s=z(o),l=t*F(n),u=t*z(n),c=e*F(i),f=e*z(i),h=2*U(B(g(o-r)+t*e*g(i-n))),d=z(h);return(i=h?function(t){var e=z(t*=h)/d,n=z(h-t)/d,r=n*l+e*c,t=n*u+e*f,e=n*a+e*s;return[I(t,r)*L,I(e,B(r*r+t*t))*L]}:function(){return[n*L,r*L]}).distance=h,i},t.geoLength=Ae,t.geoMercator=function(){return ur(lr).scale(961/N)},t.geoMercatorRaw=lr,t.geoNaturalEarth1=function(){return Kn(_r).scale(175.295)},t.geoNaturalEarth1Raw=_r,t.geoOrthographic=function(){return Kn(wr).scale(249.5).clipAngle(90+O)},t.geoOrthographicRaw=wr,t.geoPath=function(e,n){var r,i,o=4.5;function a(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),y(t,r(i))),i.result()}return a.area=function(t){return y(t,r(Xe)),Xe.result()},a.measure=function(t){return y(t,r(Rn)),Rn.result()},a.bounds=function(t){return y(t,r(rn)),rn.result()},a.centroid=function(t){return y(t,r(vn)),vn.result()},a.projection=function(t){return arguments.length?(r=null==t?(e=null,Ge):(e=t).stream,a):e},a.context=function(t){return arguments.length?(i=null==t?(n=null,new Fn):new En(n=t),"function"!=typeof o&&i.pointRadius(o),a):n},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),a):o},a.projection(e).context(n)},t.geoProjection=Kn,t.geoProjectionMutator=Jn,t.geoRotation=te,t.geoStereographic=function(){return Kn(kr).scale(250).clipAngle(142)},t.geoStereographicRaw=kr,t.geoStream=y,t.geoTransform=function(t){return{stream:Bn(t)}},t.geoTransverseMercator=function(){var t=ur(Tr),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},t.geoTransverseMercatorRaw=Tr,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n,t("d3-array")):"function"==typeof define&&define.amd?define(["exports","d3-array"],o):o((i=i||self).d3=i.d3||{},i.d3)},{"d3-array":411}],426:[function(t,e,n){"use strict";function Y(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r,i;i=function(t){var e,n,s=regeneratorRuntime.mark(o);function r(t,e){return t.parent===e.parent?1:2}function f(t,e){return t+e.x}function h(t,e){return Math.max(t,e.y)}function i(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;0<=--r;)e+=n[r].value;else e=1;t.value=e}function o(){var e,n,r,i,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[e=this];case 1:n=r.reverse(),r=[];case 2:if(e=n.pop())return t.next=5,e;t.next=8;break;case 5:if(i=e.children)for(o=0,a=i.length;o<a;++o)r.push(i[o]);t.next=2;break;case 8:if(r.length){t.next=1;break}case 9:case"end":return t.stop()}},s,this)}function a(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=u)):void 0===e&&(e=l);for(var n,r,i,o,a,t=new p(t),s=[t];n=s.pop();)if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;0<=o;--o)s.push(r=i[o]=new p(i[o])),r.parent=n,r.depth=n.depth+1;return t.eachBefore(d)}function l(t){return t.children}function u(t){return Array.isArray(t)?t[1]:null}function c(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function d(t){for(var e=0;t.height=e,(t=t.parent)&&t.height<++e;);}function p(t){this.data=t,this.depth=this.height=0,this.parent=null}function g(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Array.from(t))).length,o=[];r<i;)e=t[r],n&&y(n,e)?++r:(n=function(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return b(t[0],t[1]);case 3:return x(t[0],t[1],t[2])}}(o=function(t,e){var n,r;if(v(e,t))return[e];for(n=0;n<t.length;++n)if(m(e,t[n])&&v(b(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(m(b(t[n],t[r]),e)&&m(b(t[n],e),t[r])&&m(b(t[r],e),t[n])&&v(x(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}(o,e)),r=0);return n}function m(t,e){var n=t.r-e.r,r=e.x-t.x,t=e.y-t.y;return n<0||n*n<r*r+t*t}function y(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,t=e.y-t.y;return 0<n&&r*r+t*t<n*n}function v(t,e){for(var n=0;n<e.length;++n)if(!y(t,e[n]))return;return 1}function b(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,l=o-n,u=a-r,t=s-i,e=Math.sqrt(l*l+u*u);return{x:(n+o+l/e*t)/2,y:(r+a+u/e*t)/2,r:(e+i+s)/2}}function x(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,l=e.r,u=n.x,c=n.y,f=n.r,h=r-a,d=r-u,p=i-s,g=i-c,t=l-o,e=f-o,n=r*r+i*i-o*o,l=n-a*a-s*s+l*l,u=n-u*u-c*c+f*f,c=d*p-h*g,f=(p*u-g*l)/(2*c)-r,p=(g*t-p*e)/c,u=(d*l-h*u)/(2*c)-i,d=(h*e-d*t)/c,t=p*p+d*d-1,c=2*(o+f*p+u*d),o=f*f+u*u-o*o,c=-(t?(c+Math.sqrt(c*c-4*t*o))/(2*t):o/c);return{x:r+f+p*c,y:i+u+d*c,r:c}}function _(t,e,n){var r,i,o,a,s=t.x-e.x,l=t.y-e.y,u=s*s+l*l;u?(i=e.r+n.r,i*=i,a=t.r+n.r,(a*=a)<i?(r=(u+a-i)/(2*u),o=Math.sqrt(Math.max(0,a/u-r*r)),n.x=t.x-r*s-o*l,n.y=t.y-r*l+o*s):(r=(u+i-a)/(2*u),o=Math.sqrt(Math.max(0,i/u-r*r)),n.x=e.x+r*s-o*l,n.y=e.y+r*l+o*s)):(n.x=e.x+n.r,n.y=e.y)}function w(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,t=e.y-t.y;return 0<n&&r*r+t*t<n*n}function k(t){var e=t._,n=t.next._,r=e.r+n.r,t=(e.x*n.r+n.x*e.r)/r,r=(e.y*n.r+n.y*e.r)/r;return t*t+r*r}function T(t){this._=t,this.next=null,this.previous=null}function M(t){if(!(i=(t="object"===X(e=t)&&"length"in e?e:Array.from(e)).length))return 0;var e,n,r,i,o,a,s,l,u,c,f,h=t[0];if(h.x=0,h.y=0,!(1<i))return h.r;if(n=t[1],h.x=-n.r,n.x=h.r,n.y=0,!(2<i))return h.r+n.r;_(n,h,r=t[2]),h=new T(h),n=new T(n),r=new T(r),((h.next=r.previous=n).next=h.previous=r).next=n.previous=h;t:for(s=3;s<i;++s){_(h._,n._,r=t[s]),r=new T(r),l=n.next,u=h.previous,c=n._.r,f=h._.r;do{if(c<=f){if(w(l._,r._)){n=l,(h.next=n).previous=h,--s;continue t}c+=l._.r,l=l.next}else{if(w(u._,r._)){((h=u).next=n).previous=h,--s;continue t}f+=u._.r,u=u.previous}}while(l!==u.next);for(r.previous=h,r.next=n,h.next=n.previous=n=r,o=k(h);(r=r.next)!==n;)(a=k(r))<o&&(h=r,o=a);n=h.next}for(h=[n._],r=n;(r=r.next)!==n;)h.push(r._);for(r=g(h),s=0;s<i;++s)(h=t[s]).x-=r.x,h.y-=r.y;return r.r}function A(t){if("function"!=typeof t)throw new Error;return t}function S(){return 0}function E(t){return function(){return t}}function C(t){return Math.sqrt(t.value)}function O(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function j(a,s){return function(t){if(e=t.children){var e,n,r,i=e.length,o=a(t)*s||0;if(o)for(n=0;n<i;++n)e[n].r+=o;if(r=M(e),o)for(n=0;n<i;++n)e[n].r-=o;t.r=r+o}}}function P(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function N(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function L(t,e,n,r,i){for(var o,a=t.children,s=-1,l=a.length,u=t.value&&(r-e)/t.value;++s<l;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*u}p.prototype=a.prototype=(V={constructor:p,count:function(){return this.eachAfter(i)},each:function(t,e){var n=-1,r=Y(this);try{for(r.s();!(i=r.n()).done;){var i=i.value;t.call(e,i,++n,this)}}catch(t){r.e(t)}finally{r.f()}return this},eachAfter:function(t,e){for(var n,r,i,o=this,a=[o],s=[],l=-1;o=a.pop();)if(s.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=s.pop();)t.call(e,o,++l,this);return this},eachBefore:function(t,e){for(var n,r,i,o=[this],a=-1;n=o.pop();)if(t.call(e,n,++a,this),r=n.children)for(i=r.length-1;0<=i;--i)o.push(r[i]);return this},find:function(t,e){var n=-1,r=Y(this);try{for(r.s();!(i=r.n()).done;){var i=i.value;if(t.call(e,i,++n,this))return i}}catch(t){r.e(t)}finally{r.f()}},sum:function(i){return this.eachAfter(function(t){for(var e=+i(t.data)||0,n=t.children,r=n&&n.length;0<=--r;)e+=n[r].value;t.value=e})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n},copy:function(){return a(this).eachBefore(c)}},e=Symbol.iterator,n=o,e in V?Object.defineProperty(V,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):V[e]=n,V);var R={depth:-1},D={};function I(t){return t.id}function F(t){return t.parentId}function z(t,e){return t.parent===e.parent?1:2}function B(t){var e=t.children;return e?e[0]:t.t}function U(t){var e=t.children;return e?e[e.length-1]:t.t}function H(t,e){this._=t,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function q(t,e,n,r,i){for(var o,a=t.children,s=-1,l=a.length,u=t.value&&(i-n)/t.value;++s<l;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*u}H.prototype=Object.create(p.prototype);var V=(1+Math.sqrt(5))/2;function G(t,e,n,r,i,o){for(var a,s,l,u,c,f,h,d,p,g,m,y=[],v=e.children,b=0,x=0,_=v.length,w=e.value;b<_;){for(l=i-n,u=o-r;c=v[x++].value,!c&&x<_;);for(m=(f=h=c)*c*(g=Math.max(u/l,l/u)/(w*t)),p=Math.max(h/m,m/f);x<_;++x){if(c+=s=v[x].value,s<f&&(f=s),h<s&&(h=s),m=c*c*g,p<(d=Math.max(h/m,m/f))){c-=s;break}p=d}y.push(a={value:c,dice:l<u,children:v.slice(b,x)}),a.dice?L(a,n,r,i,w?r+=u*c/w:o):q(a,n,r,w?n+=l*c/w:i,o),w-=c,b=x}return y}var W=function e(o){function t(t,e,n,r,i){G(o,t,e,n,r,i)}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(V);V=function e(d){function t(t,e,n,r,i){if((o=t._squarify)&&o.ratio===d)for(var o,a,s,l,u,c=-1,f=o.length,h=t.value;++c<f;){for(s=(a=o[c]).children,l=a.value=0,u=s.length;l<u;++l)a.value+=s[l].value;a.dice?L(a,e,n,r,h?n+=(i-n)*a.value/h:i):q(a,e,n,h?e+=(r-e)*a.value/h:r,i),h-=a.value}else t._squarify=o=G(d,t,e,n,r,i),o.ratio=d}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(V);t.cluster=function(){var s=r,l=1,u=1,c=!1;function e(e){var r,i=0;e.eachAfter(function(t){var e,n=t.children;n?(t.x=(e=n).reduce(f,0)/e.length,t.y=1+n.reduce(h,0)):(t.x=r?i+=s(t,r):0,t.y=0,r=t)});var t=function(t){for(var e;e=t.children;)t=e[0];return t}(e),n=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(e),o=t.x-s(t,n)/2,a=n.x+s(n,t)/2;return e.eachAfter(c?function(t){t.x=(t.x-e.x)*l,t.y=(e.y-t.y)*u}:function(t){t.x=(t.x-o)/(a-o)*l,t.y=(1-(e.y?t.y/e.y:1))*u})}return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(c=!1,l=+t[0],u=+t[1],e):c?null:[l,u]},e.nodeSize=function(t){return arguments.length?(c=!0,l=+t[0],u=+t[1],e):c?[l,u]:null},e},t.hierarchy=a,t.pack=function(){var e=null,n=1,r=1,i=S;function o(t){return t.x=n/2,t.y=r/2,e?t.eachBefore(O(e)).eachAfter(j(i,.5)).eachBefore(P(1)):t.eachBefore(O(C)).eachAfter(j(S,1)).eachAfter(j(i,t.r/Math.min(n,r))).eachBefore(P(Math.min(n,r)/(2*t.r))),t}return o.radius=function(t){return arguments.length?(e=null==(t=t)?null:A(t),o):e},o.size=function(t){return arguments.length?(n=+t[0],r=+t[1],o):[n,r]},o.padding=function(t){return arguments.length?(i="function"==typeof t?t:E(+t),o):i},o},t.packEnclose=g,t.packSiblings=function(t){return M(t),t},t.partition=function(){var n=1,r=1,s=0,i=!1;function e(t){var o,a,e=t.height+1;return t.x0=t.y0=s,t.x1=n,t.y1=r/e,t.eachBefore((o=r,a=e,function(t){t.children&&L(t,t.x0,o*(t.depth+1)/a,t.x1,o*(t.depth+2)/a);var e=t.x0,n=t.y0,r=t.x1-s,i=t.y1-s;r<e&&(e=r=(e+r)/2),i<n&&(n=i=(n+i)/2),t.x0=e,t.y0=n,t.x1=r,t.y1=i})),i&&t.eachBefore(N),t}return e.round=function(t){return arguments.length?(i=!!t,e):i},e.size=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.padding=function(t){return arguments.length?(s=+t,e):s},e},t.stratify=function(){var f=I,h=F;function e(t){for(var e,n,r,i,o,a,s=Array.from(t),l=s.length,u=new Map,c=0;c<l;++c)e=s[c],i=s[c]=new p(e),null!=(o=f(e,c,t))&&(o+="")&&(a=i.id=o,u.set(a,u.has(a)?D:i)),null!=(o=h(e,c,t))&&(o+="")&&(i.parent=o);for(c=0;c<l;++c)if(o=(i=s[c]).parent){if(!(r=u.get(o)))throw new Error("missing: "+o);if(r===D)throw new Error("ambiguous: "+o);r.children?r.children.push(i):r.children=[i],i.parent=r}else{if(n)throw new Error("multiple roots");n=i}if(!n)throw new Error("no root");if(n.parent=R,n.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(d),n.parent=null,0<l)throw new Error("cycle");return n}return e.id=function(t){return arguments.length?(f=A(t),e):f},e.parentId=function(t){return arguments.length?(h=A(t),e):h},e},t.tree=function(){var h=z,l=1,u=1,c=null;function e(t){var e,n,r,i,o,a,s=function(t){for(var e,n,r,i,o,a=[t=new H(t,0)];e=a.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;0<=i;--i)a.push(n=e.children[i]=new H(r[i],i)),n.parent=e;return(t.parent=new H(null,0)).children=[t],t}(t);return s.eachAfter(f),s.parent.m=-s.z,s.eachBefore(d),c?t.eachBefore(p):((r=n=e=t).eachBefore(function(t){t.x<e.x&&(e=t),t.x>n.x&&(n=t),t.depth>r.depth&&(r=t)}),s=e===n?1:h(e,n)/2,i=s-e.x,o=l/(n.x+s+i),a=u/(r.depth||1),t.eachBefore(function(t){t.x=(t.x+i)*o,t.y=t.depth*a})),t}function f(o){var t=o.children,e=o.parent.children,n=o.i?e[o.i-1]:null;t?(function(){for(var t,e=0,n=0,r=o.children,i=r.length;0<=--i;)(t=r[i]).z+=e,t.m+=e,e+=t.s+(n+=t.c)}(),t=(t[0].z+t[t.length-1].z)/2,n?(o.z=n.z+h(o._,n._),o.m=o.z-t):o.z=t):n&&(o.z=n.z+h(o._,n._)),o.parent.A=function(t,e,n){if(e){for(var r,i=t,o=t,a=e,s=i.parent.children[0],l=i.m,u=o.m,c=a.m,f=s.m;a=U(a),i=B(i),a&&i;)s=B(s),(o=U(o)).a=t,0<(r=a.z+c-i.z-l+h(a._,i._))&&(function(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}(function(t,e,n){return t.a.parent===e.parent?t.a:n}(a,t,n),t,r),l+=r,u+=r),c+=a.m,l+=i.m,f+=s.m,u+=o.m;a&&!U(o)&&(o.t=a,o.m+=c-u),i&&!B(s)&&(s.t=i,s.m+=l-f,n=t)}return n}(o,n,o.parent.A||e[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function p(t){t.x*=l,t.y=t.depth*u}return e.separation=function(t){return arguments.length?(h=t,e):h},e.size=function(t){return arguments.length?(c=!1,l=+t[0],u=+t[1],e):c?null:[l,u]},e.nodeSize=function(t){return arguments.length?(c=!0,l=+t[0],u=+t[1],e):c?[l,u]:null},e},t.treemap=function(){var a=W,e=!1,n=1,r=1,s=[0],l=S,u=S,c=S,f=S,h=S;function i(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(o),s=[0],e&&t.eachBefore(N),t}function o(t){var e=s[t.depth],n=t.x0+e,r=t.y0+e,i=t.x1-e,o=t.y1-e;i<n&&(n=i=(n+i)/2),o<r&&(r=o=(r+o)/2),t.x0=n,t.y0=r,t.x1=i,t.y1=o,t.children&&(e=s[t.depth+1]=l(t)/2,n+=h(t)-e,r+=u(t)-e,(i-=c(t)-e)<n&&(n=i=(n+i)/2),(o-=f(t)-e)<r&&(r=o=(r+o)/2),a(t,n,r,i,o))}return i.round=function(t){return arguments.length?(e=!!t,i):e},i.size=function(t){return arguments.length?(n=+t[0],r=+t[1],i):[n,r]},i.tile=function(t){return arguments.length?(a=A(t),i):a},i.padding=function(t){return arguments.length?i.paddingInner(t).paddingOuter(t):i.paddingInner()},i.paddingInner=function(t){return arguments.length?(l="function"==typeof t?t:E(+t),i):l},i.paddingOuter=function(t){return arguments.length?i.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):i.paddingTop()},i.paddingTop=function(t){return arguments.length?(u="function"==typeof t?t:E(+t),i):u},i.paddingRight=function(t){return arguments.length?(c="function"==typeof t?t:E(+t),i):c},i.paddingBottom=function(t){return arguments.length?(f="function"==typeof t?t:E(+t),i):f},i.paddingLeft=function(t){return arguments.length?(h="function"==typeof t?t:E(+t),i):h},i},t.treemapBinary=function(t,e,n,r,i){var o,a,g=t.children,s=g.length,m=new Array(s+1);for(m[0]=a=o=0;o<s;++o)m[o+1]=a+=g[o].value;!function t(e,n,r,i,o,a,s){if(n-1<=e){var l=g[e];return l.x0=i,l.y0=o,l.x1=a,void(l.y1=s)}var u=m[e],c=r/2+u,f=e+1,h=n-1;for(;f<h;){var d=f+h>>>1;m[d]<c?f=1+d:h=d}c-m[f-1]<m[f]-c&&e+1<f&&--f;var p=m[f]-u,l=r-p;s-o<a-i?(t(e,f,p,i,o,u=r?(i*l+a*p)/r:a,s),t(f,n,l,u,o,a,s)):(t(e,f,p,i,o,a,r=r?(o*l+s*p)/r:s),t(f,n,l,i,r,a,s))}(0,s,t.value,e,n,r,i)},t.treemapDice=L,t.treemapResquarify=V,t.treemapSlice=q,t.treemapSliceDice=function(t,e,n,r,i){(1&t.depth?q:L)(t,e,n,r,i)},t.treemapSquarify=W,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((r=void 0)===n?"undefined":X(n))&&void 0!==e?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i((r=r||self).d3=r.d3||{})},{}],427:[function(t,e,n){"use strict";function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r,i;i=function(t,l){function u(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function e(a){var s=a.length-1;return function(t){var e=t<=0?t=0:1<=t?s-(t=1):Math.floor(t*s),n=a[e],r=a[e+1],i=0<e?a[e-1]:2*n-r,o=e<s-1?a[e+2]:2*r-n;return u((t-e/s)*s,i,n,r,o)}}function n(a){var s=a.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*s),n=a[(e+s-1)%s],r=a[e%s],i=a[(e+1)%s],o=a[(e+2)%s];return u((t-e/s)*s,n,r,i,o)}}var a=function(t){return function(){return t}};function r(e,n){return function(t){return e+t*n}}function i(t,e){var n=e-t;return n?r(t,180<n||n<-180?n-360*Math.round(n/360):n):a(isNaN(t)?e:t)}function o(o){return 1==(o=+o)?c:function(t,e){return e-t?(n=t,r=e,i=o,n=Math.pow(n,i),r=Math.pow(r,i)-n,i=1/i,function(t){return Math.pow(n+t*r,i)}):a(isNaN(t)?e:t);var n,r,i}}function c(t,e){var n=e-t;return n?r(t,n):a(isNaN(t)?e:t)}var s=function t(e){var a=o(e);function n(e,t){var n=a((e=l.rgb(e)).r,(t=l.rgb(t)).r),r=a(e.g,t.g),i=a(e.b,t.b),o=c(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=t,n}(1);function f(s){return function(t){for(var e,n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a=0;a<n;++a)e=l.rgb(t[a]),r[a]=e.r||0,i[a]=e.g||0,o[a]=e.b||0;return r=s(r),i=s(i),o=s(o),e.opacity=1,function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e+""}}}var h=f(e),d=f(n);function p(e,n){n=n||[];var r,i=e?Math.min(n.length,e.length):0,o=n.slice();return function(t){for(r=0;r<i;++r)o[r]=e[r]*(1-t)+n[r]*t;return o}}function g(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function m(t,e){for(var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a=0;a<r;++a)i[a]=k(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(t){for(a=0;a<r;++a)o[a]=i[a](t);return o}}function y(e,n){var r=new Date;return e=+e,n=+n,function(t){return r.setTime(e*(1-t)+n*t),r}}function v(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function b(t,e){var n,r={},i={};for(n in null!==t&&"object"===H(t)||(t={}),null!==e&&"object"===H(e)||(e={}),e)n in t?r[n]=k(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var x=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_=new RegExp(x.source,"g");function w(t,r){var e,n,i,o,a,s=x.lastIndex=_.lastIndex=0,l=-1,u=[],c=[];for(t+="",r+="";(e=x.exec(t))&&(n=_.exec(r));)(i=n.index)>s&&(i=r.slice(s,i),u[l]?u[l]+=i:u[++l]=i),(e=e[0])===(n=n[0])?u[l]?u[l]+=n:u[++l]=n:(u[++l]=null,c.push({i:l,x:v(e,n)})),s=_.lastIndex;return s<r.length&&(i=r.slice(s),u[l]?u[l]+=i:u[++l]=i),u.length<2?c[0]?(a=c[0].x,function(t){return a(t)+""}):(o=r,function(){return o}):(r=c.length,function(t){for(var e,n=0;n<r;++n)u[(e=c[n]).i]=e.x(t);return u.join("")})}function k(t,e){var n=H(e);return null==e||"boolean"===n?a(e):("number"===n?v:"string"===n?(n=l.color(e))?(e=n,s):w:e instanceof l.color?s:e instanceof Date?y:g(e)?p:Array.isArray(e)?m:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?b:v)(t,e)}var T,M=180/Math.PI,A={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function S(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*M,skewX:Math.atan(l)*M,scaleX:a,scaleY:s}}function E(f,h,d,p){function g(t){return t.length?t.pop()+" ":""}return function(t,e){var n,r,i,o,a,s,l,u=[],c=[];return t=f(t),e=f(e),i=t.translateX,o=t.translateY,l=e.translateX,s=e.translateY,a=u,n=c,i!==l||o!==s?(r=a.push("translate(",null,h,null,d),n.push({i:r-4,x:v(i,l)},{i:r-2,x:v(o,s)})):(l||s)&&a.push("translate("+l+h+s+d),n=t.rotate,i=e.rotate,r=u,o=c,n!==i?(180<n-i?i+=360:180<i-n&&(n+=360),o.push({i:r.push(g(r)+"rotate(",null,p)-2,x:v(n,i)})):i&&r.push(g(r)+"rotate("+i+p),a=t.skewX,l=e.skewX,s=u,o=c,a!==l?o.push({i:s.push(g(s)+"skewX(",null,p)-2,x:v(a,l)}):l&&s.push(g(s)+"skewX("+l+p),n=t.scaleX,r=t.scaleY,i=e.scaleX,o=e.scaleY,a=u,s=c,n!==i||r!==o?(l=a.push(g(a)+"scale(",null,",",null,")"),s.push({i:l-4,x:v(n,i)},{i:l-2,x:v(r,o)})):1===i&&1===o||a.push(g(a)+"scale("+i+","+o+")"),t=e=null,function(t){for(var e,n=-1,r=c.length;++n<r;)u[(e=c[n]).i]=e.x(t);return u.join("")}}}var C=E(function(t){return(t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"")).isIdentity?A:S(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),O=E(function(t){return null==t?A:((T=T||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=T.transform.baseVal.consolidate())?S((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):A)},", ",")",")");function j(t){return((t=Math.exp(t))+1/t)/2}var P=function n(h,d,p){function t(t,e){var r,i,o,n,a=t[0],s=t[1],l=t[2],u=e[0],t=e[1],e=e[2],c=u-a,f=t-s,u=c*c+f*f;return(n=u<1e-12?(o=Math.log(e/l)/h,function(t){return[a+t*c,s+t*f,l*Math.exp(h*t*o)]}):(r=Math.sqrt(u),t=(e*e-l*l+p*u)/(2*l*d*r),n=(e*e-l*l-p*u)/(2*e*d*r),i=Math.log(Math.sqrt(t*t+1)-t),o=(Math.log(Math.sqrt(n*n+1)-n)-i)/h,function(t){var e=t*o,n=j(i),t=l/(d*r)*(n*(t=h*e+i,((t=Math.exp(2*t))-1)/(t+1))-(t=i,((t=Math.exp(t))-1/t)/2));return[a+t*c,s+t*f,l*n/j(h*e+i)]})).duration=1e3*o*h/Math.SQRT2,n}return t.rho=function(t){var e=Math.max(.001,+t),t=e*e;return n(e,t,t*t)},t}(Math.SQRT2,2,4);function N(a){return function(e,t){var n=a((e=l.hsl(e)).h,(t=l.hsl(t)).h),r=c(e.s,t.s),i=c(e.l,t.l),o=c(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(t),e.opacity=o(t),e+""}}}var L=N(i),R=N(c);function D(a){return function(e,t){var n=a((e=l.hcl(e)).h,(t=l.hcl(t)).h),r=c(e.c,t.c),i=c(e.l,t.l),o=c(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=r(t),e.l=i(t),e.opacity=o(t),e+""}}}var I=D(i),F=D(c);function z(s){return function t(a){function e(e,t){var n=s((e=l.cubehelix(e)).h,(t=l.cubehelix(t)).h),r=c(e.s,t.s),i=c(e.l,t.l),o=c(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(Math.pow(t,a)),e.opacity=o(t),e+""}}return a=+a,e.gamma=t,e}(1)}var B=z(i),U=z(c);t.interpolate=k,t.interpolateArray=function(t,e){return(g(e)?p:m)(t,e)},t.interpolateBasis=e,t.interpolateBasisClosed=n,t.interpolateCubehelix=B,t.interpolateCubehelixLong=U,t.interpolateDate=y,t.interpolateDiscrete=function(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}},t.interpolateHcl=I,t.interpolateHclLong=F,t.interpolateHsl=L,t.interpolateHslLong=R,t.interpolateHue=function(t,e){var n=i(+t,+e);return function(t){t=n(t);return t-360*Math.floor(t/360)}},t.interpolateLab=function(e,t){var n=c((e=l.lab(e)).l,(t=l.lab(t)).l),r=c(e.a,t.a),i=c(e.b,t.b),o=c(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}},t.interpolateNumber=v,t.interpolateNumberArray=p,t.interpolateObject=b,t.interpolateRgb=s,t.interpolateRgbBasis=h,t.interpolateRgbBasisClosed=d,t.interpolateRound=function(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}},t.interpolateString=w,t.interpolateTransformCss=C,t.interpolateTransformSvg=O,t.interpolateZoom=P,t.piecewise=function(t,e){void 0===e&&(e=t,t=k);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}},t.quantize=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},Object.defineProperty(t,"__esModule",{value:!0})},"object"===((r=void 0)===n?"undefined":H(n))&&void 0!==e?i(n,t("d3-color")):"function"==typeof define&&define.amd?define(["exports","d3-color"],i):i((r=r||self).d3=r.d3||{},r.d3)},{"d3-color":415}],428:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t){var p=Math.PI,f=2*p,h=f-1e-6;function e(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function n(){return new e}e.prototype=n.prototype={constructor:e,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o,a,s=this._x1,l=this._y1,u=n-t,c=r-e,f=s-t,h=l-e,d=f*f+h*h;if(i<0)throw new Error("negative radius: "+i);null===this._x1?this._+="M"+(this._x1=t)+","+(this._y1=e):1e-6<d&&(1e-6<Math.abs(h*u-c*f)&&i?(a=u*u+c*c,s=(o=n-s)*o+(n=r-l)*n,r=Math.sqrt(a),l=Math.sqrt(d),l=(s=i*Math.tan((p-Math.acos((a+d-s)/(2*r*l)))/2))/l,r=s/r,1e-6<Math.abs(l-1)&&(this._+="L"+(t+l*f)+","+(e+l*h)),this._+="A"+i+","+i+",0,0,"+ +(f*n<h*o)+","+(this._x1=t+r*u)+","+(this._y1=e+r*c)):this._+="L"+(this._x1=t)+","+(this._y1=e))},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+a,u=e+s,c=1^o,r=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(1e-6<Math.abs(this._x1-l)||1e-6<Math.abs(this._y1-u))&&(this._+="L"+l+","+u),n&&(r<0&&(r=r%f+f),h<r?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):1e-6<r&&(this._+="A"+n+","+n+",0,"+ +(p<=r)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},t.path=n,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o((i=i||self).d3=i.d3||{})},{}],429:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t){function c(t,e){return t[0]-e[0]||t[1]-e[1]}function f(t){for(var e,n,r,i=t.length,o=[0,1],a=2,s=2;s<i;++s){for(;1<a&&(e=t[o[a-2]],n=t[o[a-1]],r=t[s],(n[0]-e[0])*(r[1]-e[1])-(n[1]-e[1])*(r[0]-e[0])<=0);)--a;o[a++]=s}return o.slice(0,a)}t.polygonArea=function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2},t.polygonCentroid=function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],l=0;++r<i;)e=s,s=t[r],l+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(l*=3),a/l]},t.polygonContains=function(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],l=o[0],u=o[1],c=!1,f=0;f<i;++f)n=(o=t[f])[0],s<(r=o[1])!=s<u&&a<(l-n)*(s-r)/(u-r)+n&&(c=!c),l=n,u=r;return c},t.polygonHull=function(t){if((e=t.length)<3)return null;for(var e,n=new Array(e),r=new Array(e),i=0;i<e;++i)n[i]=[+t[i][0],+t[i][1],i];for(n.sort(c),i=0;i<e;++i)r[i]=[n[i][0],-n[i][1]];var o=f(n),a=f(r),s=a[0]===o[0],l=a[a.length-1]===o[o.length-1],u=[];for(i=o.length-1;0<=i;--i)u.push(t[n[o[i]][2]]);for(i=+s;i<a.length-l;++i)u.push(t[n[a[i]][2]]);return u},t.polygonLength=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],l=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],l+=Math.hypot(e,n);return l},Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o((i=i||self).d3=i.d3||{})},{}],430:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t){function h(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,l,u,c,f,h,d=t._root,p={data:r},g=t._x0,m=t._y0,y=t._x1,v=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((u=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(a=(m+v)/2))?m=a:v=a,!(d=(i=d)[f=c<<1|u]))return i[f]=p,t;if(s=+t._x.call(null,d.data),l=+t._y.call(null,d.data),e===s&&n===l)return p.next=d,i?i[f]=p:t._root=p,t;for(;i=i?i[f]=new Array(4):t._root=new Array(4),(u=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(a=(m+v)/2))?m=a:v=a,(f=c<<1|u)==(h=(a<=l)<<1|o<=s););return i[h]=d,i[f]=p,t}function y(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function r(t){return t[0]}function i(t){return t[1]}function e(t,e,n){n=new o(null==e?r:e,null==n?i:n,NaN,NaN,NaN,NaN);return null==t?n:n.addAll(t)}function o(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function a(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var n=e.prototype=o.prototype;n.copy=function(){var t,e,n=new o(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=a(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=a(e));return n},n.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return h(this.cover(e,n),e,n,t)},n.addAll=function(t){for(var e,n,r,i=t.length,o=new Array(i),a=new Array(i),s=1/0,l=1/0,u=-1/0,c=-1/0,f=0;f<i;++f)isNaN(n=+this._x.call(null,e=t[f]))||isNaN(r=+this._y.call(null,e))||((o[f]=n)<s&&(s=n),u<n&&(u=n),(a[f]=r)<l&&(l=r),c<r&&(c=r));if(u<s||c<l)return this;for(this.cover(s,l).cover(u,c),f=0;f<i;++f)h(this,o[f],a[f],t[f]);return this},n.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,l=i-n||1,u=this._root;t<n||i<=t||e<r||o<=e;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=u,u=a,l*=2,s){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},n.data=function(){var e=[];return this.visit(function(t){if(!t.length)for(;e.push(t.data),t=t.next;);}),e},n.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},n.find=function(t,e,n){var r,i,o,a,s,l,u,c,f=this._x0,h=this._y0,d=this._x1,p=this._y1,g=[],m=this._root;for(m&&g.push(new y(m,f,h,d,p)),null==n?n=1/0:(f=t-n,h=e-n,d=t+n,p=e+n,n*=n);u=g.pop();)!(m=u.node)||(r=u.x0)>d||(i=u.y0)>p||(o=u.x1)<f||(a=u.y1)<h||(m.length?(s=(r+o)/2,l=(i+a)/2,g.push(new y(m[3],s,l,o,a),new y(m[2],r,l,s,a),new y(m[1],s,i,o,l),new y(m[0],r,i,s,l)),(s=(l<=e)<<1|s<=t)&&(u=g[g.length-1],g[g.length-1]=g[g.length-1-s],g[g.length-1-s]=u)):(u=(u=t-+this._x.call(null,m.data))*u+(u=e-+this._y.call(null,m.data))*u)<n&&(f=t-(u=Math.sqrt(n=u)),h=e-u,d=t+u,p=e+u,c=m.data));return c},n.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,l,u,c,f,h=this._root,d=this._x0,p=this._y0,g=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((l=o>=(u=(d+g)/2))?d=u:g=u,(u=a>=(s=(p+m)/2))?p=s:m=s,!(h=(e=h)[c=u<<1|l]))return this;if(!h.length)break;(e[c+1&3]||e[c+2&3]||e[c+3&3])&&(n=e,f=c)}for(;h.data!==t;)if(!(h=(r=h).next))return this;return(i=h.next)&&delete h.next,r?i?r.next=i:delete r.next:e?(i?e[c]=i:delete e[c],(h=e[0]||e[1]||e[2]||e[3])&&h===(e[3]||e[2]||e[1]||e[0])&&!h.length&&(n?n[f]=h:this._root=h)):this._root=i,this},n.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},n.root=function(){return this._root},n.size=function(){var e=0;return this.visit(function(t){if(!t.length)for(;++e,t=t.next;);}),e},n.visit=function(t){var e,n,r,i,o,a,s,l=[],u=this._root;for(u&&l.push(new y(u,this._x0,this._y0,this._x1,this._y1));e=l.pop();)!t(u=e.node,n=e.x0,r=e.y0,i=e.x1,o=e.y1)&&u.length&&(a=(n+i)/2,s=(r+o)/2,(e=u[3])&&l.push(new y(e,a,s,i,o)),(e=u[2])&&l.push(new y(e,n,s,a,o)),(e=u[1])&&l.push(new y(e,a,r,i,s)),(e=u[0])&&l.push(new y(e,n,r,a,s)));return this},n.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new y(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i,o,a,s,l,u,c,f=e.node;f.length&&(o=e.x0,a=e.y0,u=(o+(s=e.x1))/2,c=(a+(l=e.y1))/2,(i=f[0])&&n.push(new y(i,o,a,u,c)),(i=f[1])&&n.push(new y(i,u,a,s,c)),(i=f[2])&&n.push(new y(i,o,c,u,l)),(i=f[3])&&n.push(new y(i,u,c,s,l))),r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},n.x=function(t){return arguments.length?(this._x=t,this):this._x},n.y=function(t){return arguments.length?(this._y=t,this):this._y},t.quadtree=e,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o((i=i||self).d3=i.d3||{})},{}],431:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t){var e=Math.random,n=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(e),r=function t(n){function e(t,e){return arguments.length<2&&(e=t,t=0),t=Math.floor(t),e=Math.floor(e)-t,function(){return Math.floor(n()*e+t)}}return e.source=t,e}(e),i=function t(o){function e(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var t;if(null!=r)t=r,r=null;else for(;r=2*o()-1,t=2*o()-1,i=r*r+t*t,!i||1<i;);return e+n*t*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(e),o=function t(e){var n=i.source(e);function r(){var t=n.apply(this,arguments);return function(){return Math.exp(t())}}return r.source=t,r}(e),a=function t(r){function e(n){return(n=+n)<=0?function(){return 0}:function(){for(var t=0,e=n;1<e;--e)t+=r();return t+e*r()}}return e.source=t,e}(e),s=function t(n){var r=a.source(n);function e(t){if(0==(t=+t))return n;var e=r(t);return function(){return e()/t}}return e.source=t,e}(e),l=function t(e){function n(t){return function(){return-Math.log1p(-e())/t}}return n.source=t,n}(e),u=function t(e){function n(t){if((t=+t)<0)throw new RangeError("invalid alpha");return t=1/-t,function(){return Math.pow(1-e(),t)}}return n.source=t,n}(e),c=function t(e){function n(t){if((t=+t)<0||1<t)throw new RangeError("invalid p");return function(){return Math.floor(e()+t)}}return n.source=t,n}(e),d=function t(e){function n(t){if((t=+t)<0||1<t)throw new RangeError("invalid p");return 0===t?function(){return 1/0}:1===t?function(){return 1}:(t=Math.log1p(-t),function(){return 1+Math.floor(Math.log1p(-e())/t)})}return n.source=t,n}(e),f=function t(s){var l=i.source(s)();function e(t,r){if((t=+t)<0)throw new RangeError("invalid k");if(0===t)return function(){return 0};if(r=null==r?1:+r,1===t)return function(){return-Math.log1p(-s())*r};var i=(t<1?t+1:t)-1/3,o=1/(3*Math.sqrt(i)),a=t<1?function(){return Math.pow(s(),1/t)}:function(){return 1};return function(){do{do{var t=l(),e=1+o*t}while(e<=0);e*=e*e;var n=1-s()}while(1-.0331*t*t*t*t<=n&&Math.log(n)>=.5*t*t+i*(1-e+Math.log(e)));return i*e*a()*r}}return e.source=t,e}(e),p=function t(e){var i=f.source(e);function n(t,e){var n=i(t),r=i(e);return function(){var t=n();return 0===t?0:t/(t+r())}}return n.source=t,n}(e),h=function t(e){var f=d.source(e),h=p.source(e);function n(u,c){return u=+u,1<=(c=+c)?function(){return u}:c<=0?function(){return 0}:function(){for(var t=0,e=u,n=c;16<e*n&&16<e*(1-n);){var r=Math.floor((e+1)*n),i=h(r,e-r+1)();i<=n?(t+=r,e-=r,n=(n-i)/(1-i)):(e=r-1,n/=i)}for(var o=n<.5,a=f(o?n:1-n),s=a(),l=0;s<=e;++l)s+=a();return t+(o?l:e-l)}}return n.source=t,n}(e),g=function t(i){function e(e,t,n){var r=0==(e=+e)?function(t){return-Math.log(t)}:(e=1/e,function(t){return Math.pow(t,e)});return t=null==t?0:+t,n=null==n?1:+n,function(){return t+n*r(-Math.log1p(-i()))}}return e.source=t,e}(e),m=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,function(){return t+e*Math.tan(Math.PI*n())}}return e.source=t,e}(e),y=function t(r){function e(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){var t=r();return e+n*Math.log(t/(1-t))}}return e.source=t,e}(e),e=function t(s){var l=f.source(s),u=h.source(s);function e(a){return function(){for(var t=0,e=a;16<e;){var n=Math.floor(.875*e),r=l(n)();if(e<r)return t+u(n-1,e/r)();t+=n,e-=r}for(var i=-Math.log1p(-s()),o=0;i<=e;++o)i-=Math.log1p(-s());return t+o}}return e.source=t,e}(e),v=1/4294967296;t.randomBates=s,t.randomBernoulli=c,t.randomBeta=p,t.randomBinomial=h,t.randomCauchy=m,t.randomExponential=l,t.randomGamma=f,t.randomGeometric=d,t.randomInt=r,t.randomIrwinHall=a,t.randomLcg=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Math.random(),e=0|(0<=t&&t<1?t/v:Math.abs(t));return function(){return v*((e=1664525*e+1013904223|0)>>>0)}},t.randomLogNormal=o,t.randomLogistic=y,t.randomNormal=i,t.randomPareto=u,t.randomPoisson=e,t.randomUniform=n,t.randomWeibull=g,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o((i="undefined"!=typeof globalThis?globalThis:i||self).d3=i.d3||{})},{}],432:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t,e,n){function r(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}var i=r("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),o=r("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),a=r("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),s=r("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),l=r("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),u=r("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),c=r("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),f=r("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),h=r("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),d=r("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),p=function(t){return e.interpolateRgbBasis(t[t.length-1])},g=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(r),m=p(g),y=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(r),v=p(y),b=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(r),x=p(b),_=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(r),w=p(_),k=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(r),T=p(k),M=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(r),A=p(M),S=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(r),E=p(S),C=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(r),O=p(C),j=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(r),P=p(j),N=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(r),L=p(N),R=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(r),D=p(R),I=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(r),F=p(I),z=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(r),B=p(z),U=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(r),H=p(U),q=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(r),V=p(q),G=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(r),W=p(G),Y=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(r),X=p(Y),Z=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(r),$=p(Z),Q=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(r),K=p(Q),J=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(r),tt=p(J),et=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(r),nt=p(et),rt=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(r),it=p(rt),ot=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(r),at=p(ot),st=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(r),lt=p(st),ut=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(r),ct=p(ut),ft=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(r),ht=p(ft),dt=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(r),pt=p(dt);var gt=e.interpolateCubehelixLong(n.cubehelix(300,.5,0),n.cubehelix(-240,.5,1)),mt=e.interpolateCubehelixLong(n.cubehelix(-100,.75,.35),n.cubehelix(80,1.5,.8)),yt=e.interpolateCubehelixLong(n.cubehelix(260,.75,.35),n.cubehelix(80,1.5,.8)),vt=n.cubehelix();var bt=n.rgb(),xt=Math.PI/3,_t=2*Math.PI/3;function wt(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}var kt=wt(r("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Tt=wt(r("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),p=wt(r("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),n=wt(r("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));t.interpolateBlues=it,t.interpolateBrBG=m,t.interpolateBuGn=L,t.interpolateBuPu=D,t.interpolateCividis=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},t.interpolateCool=yt,t.interpolateCubehelixDefault=gt,t.interpolateGnBu=F,t.interpolateGreens=at,t.interpolateGreys=lt,t.interpolateInferno=p,t.interpolateMagma=Tt,t.interpolateOrRd=B,t.interpolateOranges=pt,t.interpolatePRGn=v,t.interpolatePiYG=x,t.interpolatePlasma=n,t.interpolatePuBu=V,t.interpolatePuBuGn=H,t.interpolatePuOr=w,t.interpolatePuRd=W,t.interpolatePurples=ct,t.interpolateRainbow=function(t){(t<0||1<t)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return vt.h=360*t-100,vt.s=1.5-1.5*e,vt.l=.8-.9*e,vt+""},t.interpolateRdBu=T,t.interpolateRdGy=A,t.interpolateRdPu=X,t.interpolateRdYlBu=E,t.interpolateRdYlGn=O,t.interpolateReds=ht,t.interpolateSinebow=function(t){var e;return t=(.5-t)*Math.PI,bt.r=255*(e=Math.sin(t))*e,bt.g=255*(e=Math.sin(t+xt))*e,bt.b=255*(e=Math.sin(t+_t))*e,bt+""},t.interpolateSpectral=P,t.interpolateTurbo=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"},t.interpolateViridis=kt,t.interpolateWarm=mt,t.interpolateYlGn=K,t.interpolateYlGnBu=$,t.interpolateYlOrBr=tt,t.interpolateYlOrRd=nt,t.schemeAccent=o,t.schemeBlues=rt,t.schemeBrBG=g,t.schemeBuGn=N,t.schemeBuPu=R,t.schemeCategory10=i,t.schemeDark2=a,t.schemeGnBu=I,t.schemeGreens=ot,t.schemeGreys=st,t.schemeOrRd=z,t.schemeOranges=dt,t.schemePRGn=y,t.schemePaired=s,t.schemePastel1=l,t.schemePastel2=u,t.schemePiYG=b,t.schemePuBu=q,t.schemePuBuGn=U,t.schemePuOr=_,t.schemePuRd=G,t.schemePurples=ut,t.schemeRdBu=k,t.schemeRdGy=M,t.schemeRdPu=Y,t.schemeRdYlBu=S,t.schemeRdYlGn=C,t.schemeReds=ft,t.schemeSet1=c,t.schemeSet2=f,t.schemeSet3=h,t.schemeSpectral=j,t.schemeTableau10=d,t.schemeYlGn=Q,t.schemeYlGnBu=Z,t.schemeYlOrBr=J,t.schemeYlOrRd=et,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n,t("d3-interpolate"),t("d3-color")):"function"==typeof define&&define.amd?define(["exports","d3-interpolate","d3-color"],o):o((i=i||self).d3=i.d3||{},i.d3,i.d3)},{"d3-color":415,"d3-interpolate":427}],433:[function(t,e,n){"use strict";function tt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function s(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,a;a=function(t,T,g,s,e,n){function p(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function o(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}var l=Symbol("implicit");function m(){var i=new Map,o=[],r=[],a=l;function s(t){var e=t+"",n=i.get(e);if(!n){if(a!==l)return a;i.set(e,n=o.push(t))}return r[(n-1)%r.length]}return s.domain=function(t){if(!arguments.length)return o.slice();o=[],i=new Map;var e=et(t);try{for(e.s();!(r=e.n()).done;){var n=r.value,r=n+"";i.has(r)||i.set(r,o.push(n))}}catch(t){e.e(t)}finally{e.f()}return s},s.range=function(t){return arguments.length?(r=Array.from(t),s):r.slice()},s.unknown=function(t){return arguments.length?(a=t,s):a},s.copy=function(){return m(o,r).unknown(a)},p.apply(s,arguments),s}function r(){var i,o,t=m().unknown(void 0),a=t.domain,s=t.range,l=0,u=1,c=!1,f=0,h=0,d=.5;function e(){var t=a().length,e=u<l,n=e?u:l,r=e?l:u;i=(r-n)/Math.max(1,t-f+2*h),c&&(i=Math.floor(i)),n+=(r-n-i*(t-f))*d,o=i*(1-f),c&&(n=Math.round(n),o=Math.round(o));t=T.range(t).map(function(t){return n+i*t});return s(e?t.reverse():t)}return delete t.unknown,t.domain=function(t){return arguments.length?(a(t),e()):a()},t.range=function(t){return arguments.length?(t=tt(t,2),l=t[0],u=t[1],l=+l,u=+u,e()):[l,u]},t.rangeRound=function(t){var t=t,t=tt(t,2);return l=t[0],u=t[1],l=+l,u=+u,c=!0,e()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(t){return arguments.length?(c=!!t,e()):c},t.padding=function(t){return arguments.length?(f=Math.min(1,h=+t),e()):f},t.paddingInner=function(t){return arguments.length?(f=Math.min(1,t),e()):f},t.paddingOuter=function(t){return arguments.length?(h=+t,e()):h},t.align=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},t.copy=function(){return r(a(),[l,u]).round(c).paddingInner(f).paddingOuter(h).align(d)},p.apply(e(),arguments)}function d(t){return+t}var y=[0,1];function v(t){return t}function u(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:(t=isNaN(n)?NaN:.5,function(){return t});var t}function b(t,e,n){var r=t[0],t=t[1],i=e[0],e=e[1],i=t<r?(r=u(t,r),n(e,i)):(r=u(r,t),n(i,e));return function(t){return i(r(t))}}function x(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=u(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(t){var e=T.bisect(n,t,1,r)-1;return o[e](i[e](t))}}function M(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function i(){var n,r,e,i,o,a,s=y,l=y,u=g.interpolate,c=v;function f(){var e,n,t,r=Math.min(s.length,l.length);return c!==v&&(e=s[0],(n=s[r-1])<e&&(t=e,e=n,n=t),c=function(t){return Math.max(e,Math.min(n,t))}),i=2<r?x:b,o=a=null,h}function h(t){return isNaN(t=+t)?e:(o=o||i(s.map(n),l,u))(n(c(t)))}return h.invert=function(t){return c(r((a=a||i(l,s.map(n),g.interpolateNumber))(t)))},h.domain=function(t){return arguments.length?(s=Array.from(t,d),f()):s.slice()},h.range=function(t){return arguments.length?(l=Array.from(t),f()):l.slice()},h.rangeRound=function(t){return l=Array.from(t),u=g.interpolateRound,f()},h.clamp=function(t){return arguments.length?(c=!!t||v,f()):c!==v},h.interpolate=function(t){return arguments.length?(u=t,f()):u},h.unknown=function(t){return arguments.length?(e=t,h):e},function(t,e){return n=t,r=e,f()}}function A(){return i()(v,v)}function a(t,e,n,r){var i,o=T.tickStep(t,e,n);switch((r=s.formatSpecifier(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=s.precisionPrefix(o,a))||(r.precision=i),s.formatPrefix(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=s.precisionRound(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=s.precisionFixed(o))||(r.precision=i-2*("%"===r.type))}return s.format(r)}function c(u){var c=u.domain;return u.ticks=function(t){var e=c();return T.ticks(e[0],e[e.length-1],null==t?10:t)},u.tickFormat=function(t,e){var n=c();return a(n[0],n[n.length-1],null==t?10:t,e)},u.nice=function(t){null==t&&(t=10);var e,n,r=c(),i=0,o=r.length-1,a=r[i],s=r[o],l=10;for(s<a&&(n=a,a=s,s=n,n=i,i=o,o=n);0<l--;){if((n=T.tickIncrement(a,s,t))===e)return r[i]=a,r[o]=s,c(r);if(0<n)a=Math.floor(a/n)*n,s=Math.ceil(s/n)*n;else{if(!(n<0))break;a=Math.ceil(a*n)/n,s=Math.floor(s*n)/n}e=n}return u},u}function S(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function _(t){return Math.log(t)}function w(t){return Math.exp(t)}function k(t){return-Math.log(-t)}function E(t){return-Math.exp(-t)}function C(t){return isFinite(t)?+("1e"+t):t<0?0:t}function O(e){return function(t){return-e(-t)}}function f(t){var c,f,i=t(_,w),h=i.domain,d=10;function e(){var e,n;return c=(n=d)===Math.E?Math.log:10===n&&Math.log10||2===n&&Math.log2||(n=Math.log(n),function(t){return Math.log(t)/n}),f=10===(e=d)?C:e===Math.E?Math.exp:function(t){return Math.pow(e,t)},h()[0]<0?(c=O(c),f=O(f),t(k,E)):t(_,w),i}return i.base=function(t){return arguments.length?(d=+t,e()):d},i.domain=function(t){return arguments.length?(h(t),e()):h()},i.ticks=function(t){var e=h(),n=e[0],r=e[e.length-1];(e=r<n)&&(s=n,n=r,r=s);var i,o,a,s=c(n),l=c(r),t=null==t?10:+t,u=[];if(!(d%1)&&l-s<t){if(s=Math.floor(s),l=Math.ceil(l),0<n){for(;s<=l;++s)for(o=1,i=f(s);o<d;++o)if(!((a=i*o)<n)){if(r<a)break;u.push(a)}}else for(;s<=l;++s)for(o=d-1,i=f(s);1<=o;--o)if(!((a=i*o)<n)){if(r<a)break;u.push(a)}2*u.length<t&&(u=T.ticks(n,r,t))}else u=T.ticks(s,l,Math.min(l-s,t)).map(f);return e?u.reverse():u},i.tickFormat=function(t,n){if(null==n&&(n=10===d?".0e":","),"function"!=typeof n&&(n=s.format(n)),t===1/0)return n;null==t&&(t=10);var r=Math.max(1,d*t/i.ticks().length);return function(t){var e=t/f(Math.round(c(t)));return e*d<d-.5&&(e*=d),e<=r?n(t):""}},i.nice=function(){return h(S(h(),{floor:function(t){return f(Math.floor(c(t)))},ceil:function(t){return f(Math.ceil(c(t)))}}))},i}function h(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function j(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function P(e){var n=1,t=e(h(n),j(n));return t.constant=function(t){return arguments.length?e(h(n=+t),j(n)):n},c(t)}function N(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function L(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function R(t){return t<0?-t*t:t*t}function D(e){var t=e(v,v),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(v,v):.5===n?e(L,R):e(N(n),N(1/n)):n},c(t)}function I(){var t=D(i());return t.copy=function(){return M(t,I()).exponent(t.exponent())},p.apply(t,arguments),t}function F(t){return Math.sign(t)*t*t}var z=1e3,B=60*z,U=60*B,H=24*U,q=7*H,V=30*H,G=365*H;function W(t){return new Date(t)}function Y(t){return t instanceof Date?+t:+new Date(+t)}function X(a,e,n,r,i,o,s,l,u){var c=A(),f=c.invert,h=c.domain,d=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),x=u("%Y"),_=[[s,1,z],[s,5,5*z],[s,15,15*z],[s,30,30*z],[o,1,B],[o,5,5*B],[o,15,15*B],[o,30,30*B],[i,1,U],[i,3,3*U],[i,6,6*U],[i,12,12*U],[r,1,H],[r,2,2*H],[n,1,q],[e,1,V],[e,3,3*V],[a,1,G]];function w(t){return(s(t)<t?d:o(t)<t?p:i(t)<t?g:r(t)<t?m:e(t)<t?n(t)<t?y:v:a(t)<t?b:x)(t)}function k(t,e,n){if(null==t&&(t=10),"number"!=typeof t)return t;var r,i=Math.abs(n-e)/t,o=T.bisector(function(t){return t[2]}).right(_,i);return(t=o===_.length?(r=T.tickStep(e/G,n/G,t),a):o?(r=(o=_[i/_[o-1][2]<_[o][2]/i?o-1:o])[1],o[0]):(r=Math.max(T.tickStep(e,n,t),1),l)).every(r)}return c.invert=function(t){return new Date(f(t))},c.domain=function(t){return arguments.length?h(Array.from(t,Y)):h().map(W)},c.ticks=function(t){var e,n=h(),r=n[0],i=n[n.length-1],n=i<r;return n&&(e=r,r=i,i=e),e=(e=k(t,r,i))?e.range(r,i+1):[],n?e.reverse():e},c.tickFormat=function(t,e){return null==e?w:u(e)},c.nice=function(t){var e=h();return(t=k(t,e[0],e[e.length-1]))?h(S(e,t)):c},c.copy=function(){return M(c,X(a,e,n,r,i,o,s,l,u))},c}function Z(){var e,n,r,i,o,a=0,s=1,l=v,u=!1;function c(t){return isNaN(t=+t)?o:l(0===r?.5:(t=(i(t)-e)*r,u?Math.max(0,Math.min(1,t)):t))}function t(n){return function(t){var e;return arguments.length?(t=(e=tt(t,2))[0],e=e[1],l=n(t,e),c):[l(0),l(1)]}}return c.domain=function(t){return arguments.length?(t=tt(t,2),a=t[0],s=t[1],e=i(a=+a),n=i(s=+s),r=e===n?0:1/(n-e),c):[a,s]},c.clamp=function(t){return arguments.length?(u=!!t,c):u},c.interpolator=function(t){return arguments.length?(l=t,c):l},c.range=t(g.interpolate),c.rangeRound=t(g.interpolateRound),c.unknown=function(t){return arguments.length?(o=t,c):o},function(t){return e=(i=t)(a),n=t(s),r=e===n?0:1/(n-e),c}}function $(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Q(){var t=D(Z());return t.copy=function(){return $(t,Q()).exponent(t.exponent())},o.apply(t,arguments)}function K(){var e,n,r,i,o,a,s,l=0,u=.5,c=1,f=1,h=v,d=!1;function p(t){return isNaN(t=+t)?s:(t=.5+((t=+a(t))-n)*(f*t<f*n?i:o),h(d?Math.max(0,Math.min(1,t)):t))}function t(r){return function(t){var e,n;return arguments.length?(e=(n=tt(t,3))[0],t=n[1],n=n[2],h=g.piecewise(r,[e,t,n]),p):[h(0),h(.5),h(1)]}}return p.domain=function(t){return arguments.length?(t=tt(t,3),l=t[0],u=t[1],c=t[2],e=a(l=+l),n=a(u=+u),r=a(c=+c),i=e===n?0:.5/(n-e),o=n===r?0:.5/(r-n),f=n<e?-1:1,p):[l,u,c]},p.clamp=function(t){return arguments.length?(d=!!t,p):d},p.interpolator=function(t){return arguments.length?(h=t,p):h},p.range=t(g.interpolate),p.rangeRound=t(g.interpolateRound),p.unknown=function(t){return arguments.length?(s=t,p):s},function(t){return e=(a=t)(l),n=t(u),r=t(c),i=e===n?0:.5/(n-e),o=n===r?0:.5/(r-n),f=n<e?-1:1,p}}function J(){var t=D(K());return t.copy=function(){return $(t,J()).exponent(t.exponent())},o.apply(t,arguments)}t.scaleBand=r,t.scaleDiverging=function t(){var e=c(K()(v));return e.copy=function(){return $(e,t())},o.apply(e,arguments)},t.scaleDivergingLog=function t(){var e=f(K()).domain([.1,1,10]);return e.copy=function(){return $(e,t()).base(e.base())},o.apply(e,arguments)},t.scaleDivergingPow=J,t.scaleDivergingSqrt=function(){return J.apply(null,arguments).exponent(.5)},t.scaleDivergingSymlog=function t(){var e=P(K());return e.copy=function(){return $(e,t()).constant(e.constant())},o.apply(e,arguments)},t.scaleIdentity=function t(e){var n;function r(t){return isNaN(t=+t)?n:t}return(r.invert=r).domain=r.range=function(t){return arguments.length?(e=Array.from(t,d),r):e.slice()},r.unknown=function(t){return arguments.length?(n=t,r):n},r.copy=function(){return t(e).unknown(n)},e=arguments.length?Array.from(e,d):[0,1],c(r)},t.scaleImplicit=l,t.scaleLinear=function t(){var e=A();return e.copy=function(){return M(e,t())},p.apply(e,arguments),c(e)},t.scaleLog=function t(){var e=f(i()).domain([1,10]);return e.copy=function(){return M(e,t()).base(e.base())},p.apply(e,arguments),e},t.scaleOrdinal=m,t.scalePoint=function(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(r.apply(null,arguments).paddingInner(1))},t.scalePow=I,t.scaleQuantile=function t(){var e,r=[],n=[],i=[];function o(){var t=0,e=Math.max(1,n.length);for(i=new Array(e-1);++t<e;)i[t-1]=T.quantileSorted(r,t/e);return a}function a(t){return isNaN(t=+t)?e:n[T.bisect(i,t)]}return a.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[0<t?i[t-1]:r[0],t<i.length?i[t]:r[r.length-1]]},a.domain=function(t){if(!arguments.length)return r.slice();r=[];var e=et(t);try{for(e.s();!(n=e.n()).done;){var n=n.value;null==n||isNaN(n=+n)||r.push(n)}}catch(t){e.e(t)}finally{e.f()}return r.sort(T.ascending),o()},a.range=function(t){return arguments.length?(n=Array.from(t),o()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return i.slice()},a.copy=function(){return t().domain(r).range(n).unknown(e)},p.apply(a,arguments)},t.scaleQuantize=function t(){var e,n=0,r=1,i=1,o=[.5],a=[0,1];function s(t){return t<=t?a[T.bisect(o,t,0,i)]:e}function l(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*n)/(i+1);return s}return s.domain=function(t){return arguments.length?(t=tt(t,2),n=t[0],r=t[1],n=+n,r=+r,l()):[n,r]},s.range=function(t){return arguments.length?(i=(a=Array.from(t)).length-1,l()):a.slice()},s.invertExtent=function(t){return(t=a.indexOf(t))<0?[NaN,NaN]:t<1?[n,o[0]]:i<=t?[o[i-1],r]:[o[t-1],o[t]]},s.unknown=function(t){return arguments.length&&(e=t),s},s.thresholds=function(){return o.slice()},s.copy=function(){return t().domain([n,r]).range(a).unknown(e)},p.apply(c(s),arguments)},t.scaleRadial=function t(){var e,n=A(),r=[0,1],i=!1;function o(t){return t=n(t),t=Math.sign(t)*Math.sqrt(Math.abs(t)),isNaN(t)?e:i?Math.round(t):t}return o.invert=function(t){return n.invert(F(t))},o.domain=function(t){return arguments.length?(n.domain(t),o):n.domain()},o.range=function(t){return arguments.length?(n.range((r=Array.from(t,d)).map(F)),o):r.slice()},o.rangeRound=function(t){return o.range(t).round(!0)},o.round=function(t){return arguments.length?(i=!!t,o):i},o.clamp=function(t){return arguments.length?(n.clamp(t),o):n.clamp()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t(n.domain(),r).round(i).clamp(n.clamp()).unknown(e)},p.apply(o,arguments),c(o)},t.scaleSequential=function t(){var e=c(Z()(v));return e.copy=function(){return $(e,t())},o.apply(e,arguments)},t.scaleSequentialLog=function t(){var e=f(Z()).domain([1,10]);return e.copy=function(){return $(e,t()).base(e.base())},o.apply(e,arguments)},t.scaleSequentialPow=Q,t.scaleSequentialQuantile=function t(){var r=[],n=v;function i(t){if(!isNaN(t=+t))return n((T.bisect(r,t,1)-1)/(r.length-1))}return i.domain=function(t){if(!arguments.length)return r.slice();r=[];var e=et(t);try{for(e.s();!(n=e.n()).done;){var n=n.value;null==n||isNaN(n=+n)||r.push(n)}}catch(t){e.e(t)}finally{e.f()}return r.sort(T.ascending),i},i.interpolator=function(t){return arguments.length?(n=t,i):n},i.range=function(){return r.map(function(t,e){return n(e/(r.length-1))})},i.quantiles=function(n){return Array.from({length:n+1},function(t,e){return T.quantile(r,e/n)})},i.copy=function(){return t(n).domain(r)},o.apply(i,arguments)},t.scaleSequentialSqrt=function(){return Q.apply(null,arguments).exponent(.5)},t.scaleSequentialSymlog=function t(){var e=P(Z());return e.copy=function(){return $(e,t()).constant(e.constant())},o.apply(e,arguments)},t.scaleSqrt=function(){return I.apply(null,arguments).exponent(.5)},t.scaleSymlog=function t(){var e=P(i());return e.copy=function(){return M(e,t()).constant(e.constant())},p.apply(e,arguments)},t.scaleThreshold=function t(){var e,n=[.5],r=[0,1],i=1;function o(t){return t<=t?r[T.bisect(n,t,0,i)]:e}return o.domain=function(t){return arguments.length?(n=Array.from(t),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(t){return arguments.length?(r=Array.from(t),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(t){return t=r.indexOf(t),[n[t-1],n[t]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t().domain(n).range(r).unknown(e)},p.apply(o,arguments)},t.scaleTime=function(){return p.apply(X(e.timeYear,e.timeMonth,e.timeWeek,e.timeDay,e.timeHour,e.timeMinute,e.timeSecond,e.timeMillisecond,n.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},t.scaleUtc=function(){return p.apply(X(e.utcYear,e.utcMonth,e.utcWeek,e.utcDay,e.utcHour,e.utcMinute,e.utcSecond,e.utcMillisecond,n.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},t.tickFormat=a,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((o=void 0)===n?"undefined":i(n))&&void 0!==e?a(n,t("d3-array"),t("d3-interpolate"),t("d3-format"),t("d3-time"),t("d3-time-format")):"function"==typeof define&&define.amd?define(["exports","d3-array","d3-interpolate","d3-format","d3-time","d3-time-format"],a):a((o=o||self).d3=o.d3||{},o.d3,o.d3,o.d3,o.d3,o.d3)},{"d3-array":411,"d3-format":424,"d3-interpolate":427,"d3-time":436,"d3-time-format":435}],434:[function(t,e,n){"use strict";function tt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r,i;i=function(t){var l=regeneratorRuntime.mark(U),r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function o(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),i.hasOwnProperty(e)?{space:i[e],local:t}:t}function a(t){t=o(t);return(t.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===r&&t.documentElement.namespaceURI===r?t.createElement(n):t.createElementNS(e,n)}})(t)}function e(){}function f(t){return null==t?e:function(){return this.querySelector(t)}}function w(t){return"object"===et(t)&&"length"in t?t:Array.from(t)}function n(){return[]}function h(t){return null==t?n:function(){return this.querySelectorAll(t)}}function c(t){return function(){return this.matches(t)}}function s(e){return function(t){return t.matches(e)}}var u=Array.prototype.find;function d(){return this.firstElementChild}var p=Array.prototype.filter;function g(){return this.children}function m(t){return new Array(t.length)}function y(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function k(t,e,n,r,i,o){for(var a,s=0,l=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new y(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function T(t,e,n,r,i,o,a){for(var s,l,u=new Map,c=e.length,f=o.length,h=new Array(c),d=0;d<c;++d)(s=e[d])&&(h[d]=l=a.call(s,s.__data__,d,e)+"",u.has(l)?i[d]=s:u.set(l,s));for(d=0;d<f;++d)l=a.call(t,o[d],d,o)+"",(s=u.get(l))?((r[d]=s).__data__=o[d],u.delete(l)):n[d]=new y(t,o[d]);for(d=0;d<c;++d)(s=e[d])&&u.get(h[d])===s&&(i[d]=s)}function M(t){return t.__data__}function v(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function b(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function x(t,e){return t.style.getPropertyValue(e)||b(t).getComputedStyle(t,null).getPropertyValue(e)}function _(t){return t.trim().split(/^|\s+/)}function A(t){return t.classList||new S(t)}function S(t){this._node=t,this._names=_(t.getAttribute("class")||"")}function E(t,e){for(var n=A(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function C(t,e){for(var n=A(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function O(){this.textContent=""}function j(){this.innerHTML=""}function P(){this.nextSibling&&this.parentNode.appendChild(this)}function N(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function L(){return null}function R(){var t=this.parentNode;t&&t.removeChild(this)}function D(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function I(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function F(o){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,i=t.length;n<i;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.options);++r?t.length=r:delete this.__on}}}function z(a,s,l){return function(){var t,e,n=this.__on,r=(e=s,function(t){e.call(this,t,this.__data__)});if(n)for(var i=0,o=n.length;i<o;++i)if((t=n[i]).type===a.type&&t.name===a.name)return this.removeEventListener(t.type,t.listener,t.options),this.addEventListener(t.type,t.listener=r,t.options=l),void(t.value=s);this.addEventListener(a.type,r,l),t={type:a.type,name:a.name,value:s,listener:r,options:l},n?n.push(t):this.__on=[t]}}function B(t,e,n){var r=b(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function U(){var e,n,r,i,o,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this._groups,n=0,r=e.length;case 1:if(!(n<r)){t.next=13;break}i=e[n],o=0,a=i.length;case 3:if(!(o<a)){t.next=10;break}if(s=i[o])return t.next=7,s;t.next=7;break;case 7:++o,t.next=3;break;case 10:++n,t.next=1;break;case 13:case"end":return t.stop()}},l,this)}y.prototype={constructor:y,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},S.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){t=this._names.indexOf(t);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var H,q,V,G=[null];function W(t,e){this._groups=t,this._parents=e}function Y(){return new W([[document.documentElement]],G)}function X(t){return"string"==typeof t?new W([[document.querySelector(t)]],[document.documentElement]):new W([[t]],G)}W.prototype=Y.prototype=(H={constructor:W,select:function(t){"function"!=typeof t&&(t=f(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,u=r[i]=new Array(l),c=0;c<l;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),u[c]=a);return new W(r,this._parents)},selectAll:function(t){var e;t="function"==typeof t?(e=t,function(){var t=e.apply(this,arguments);return null==t?[]:w(t)}):h(t);for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var s,l=n[a],u=l.length,c=0;c<u;++c)(s=l[c])&&(i.push(t.call(s,s.__data__,c,l)),o.push(s));return new W(i,o)},selectChild:function(t){return this.select(null==t?d:(e="function"==typeof t?t:s(t),function(){return u.call(this.children,e)}));var e},selectChildren:function(t){return this.selectAll(null==t?g:(e="function"==typeof t?t:s(t),function(){return p.call(this.children,e)}));var e},filter:function(t){"function"!=typeof t&&(t=c(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&l.push(o);return new W(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,M);var n,r=e?T:k,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;++c){var f=i[c],h=o[c],d=h.length,p=w(t.call(f,f&&f.__data__,c,i)),g=p.length,m=l[c]=new Array(g),y=s[c]=new Array(g);r(f,h,m,y,u[c]=new Array(d),p,e);for(var v,b,x=0,_=0;x<g;++x)if(v=m[x]){for(_<=x&&(_=x+1);!(b=y[_])&&++_<g;);v._next=b||null}}return(s=new W(s,i))._enter=l,s._exit=u,s},enter:function(){return new W(this._enter||this._groups.map(m),this._parents)},exit:function(){return new W(this._exit||this._groups.map(m),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit(),r="function"==typeof t?t(r):r.append(t+"");return null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof W))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,t=n.length,i=Math.min(r,t),o=new Array(r),a=0;a<i;++a)for(var s,l=e[a],u=n[a],c=l.length,f=o[a]=new Array(c),h=0;h<c;++h)(s=l[h]||u[h])&&(f[h]=s);for(;a<r;++a)o[a]=e[a];return new W(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||v;for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,s=e[o],l=s.length,u=i[o]=new Array(l),c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(t)}return new W(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t,e=0,n=tt(this);try{for(n.s();!(t=n.n()).done;){t.value;++e}}catch(t){n.e(t)}finally{n.f()}return e},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=o(t);if(arguments.length<2){t=this.node();return n.local?t.getAttributeNS(n.space,n.local):t.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):x(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=_(t+"");if(arguments.length<2){for(var r=A(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?E:C)(this,t)}}:e?function(t){return function(){E(this,t)}}:function(t){return function(){C(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?O:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?j:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(P)},lower:function(){return this.each(N)},append:function(t){var e="function"==typeof t?t:a(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:a(t),r=null==e?L:"function"==typeof e?e:f(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(R)},clone:function(t){return this.select(t?I:D)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=o.length;if(!(arguments.length<2)){for(s=e?z:F,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(r=0,l=s[u];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return B(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return B(this,t,e)}})(t,e))}},q=Symbol.iterator,V=U,q in H?Object.defineProperty(H,q,{value:V,enumerable:!0,configurable:!0,writable:!0}):H[q]=V,H);var Z=0;function $(){return new Q}function Q(){this._="@"+(++Z).toString(36)}function K(t){for(var e;e=t.sourceEvent;)t=e;return t}function J(t,e){if(t=K(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}Q.prototype=$.prototype={constructor:Q,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},t.create=function(t){return X(a(t).call(document.documentElement))},t.creator=a,t.local=$,t.matcher=c,t.namespace=o,t.namespaces=i,t.pointer=J,t.pointers=function(t,e){return t.target&&(t=K(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,function(t){return J(t,e)})},t.select=X,t.selectAll=function(t){return"string"==typeof t?new W([document.querySelectorAll(t)],[document.documentElement]):new W([null==t?[]:w(t)],G)},t.selection=Y,t.selector=f,t.selectorAll=h,t.style=x,t.window=b,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((r=void 0)===n?"undefined":et(n))&&void 0!==e?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i((r=r||self).d3=r.d3||{})},{}],435:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(e,M){function A(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function S(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function E(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function n(t){var r=t.dateTime,i=t.date,o=t.time,e=t.periods,n=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=O(e),c=j(e),f=O(n),h=j(n),d=O(a),p=j(a),g=O(s),m=j(s),y=O(l),v=j(l),b={a:function(t){return a[t.getDay()]},A:function(t){return n[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:K,e:K,f:rt,g:dt,G:gt,H:J,I:tt,j:et,L:nt,m:it,M:ot,p:function(t){return e[+(12<=t.getHours())]},q:function(t){return 1+~~(t.getMonth()/3)},Q:It,s:Ft,S:at,u:st,U:lt,V:ut,w:ct,W:ft,x:null,X:null,y:ht,Y:pt,Z:mt,"%":Dt},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return n[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:yt,e:yt,f:wt,g:Pt,G:Lt,H:vt,I:bt,j:xt,L:_t,m:kt,M:Tt,p:function(t){return e[+(12<=t.getUTCHours())]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:It,s:Ft,S:Mt,u:At,U:St,V:Et,w:Ct,W:Ot,x:null,X:null,y:jt,Y:Nt,Z:Rt,"%":Dt},_={a:function(t,e,n){e=d.exec(e.slice(n));return e?(t.w=p.get(e[0].toLowerCase()),n+e[0].length):-1},A:function(t,e,n){e=f.exec(e.slice(n));return e?(t.w=h.get(e[0].toLowerCase()),n+e[0].length):-1},b:function(t,e,n){e=y.exec(e.slice(n));return e?(t.m=v.get(e[0].toLowerCase()),n+e[0].length):-1},B:function(t,e,n){e=g.exec(e.slice(n));return e?(t.m=m.get(e[0].toLowerCase()),n+e[0].length):-1},c:function(t,e,n){return T(t,r,e,n)},d:H,e:H,f:X,g:F,G:I,H:V,I:V,j:q,L:Y,m:U,M:G,p:function(t,e,n){e=u.exec(e.slice(n));return e?(t.p=c.get(e[0].toLowerCase()),n+e[0].length):-1},q:B,Q:$,s:Q,S:W,u:N,U:L,V:R,w:P,W:D,x:function(t,e,n){return T(t,i,e,n)},X:function(t,e,n){return T(t,o,e,n)},y:F,Y:I,Z:z,"%":Z};function w(l,u){return function(t){var e,n,r,i=[],o=-1,a=0,s=l.length;for(t instanceof Date||(t=new Date(+t));++o<s;)37===l.charCodeAt(o)&&(i.push(l.slice(a,o)),null!=(n=C[e=l.charAt(++o)])?e=l.charAt(++o):n="e"===e?" ":"0",(r=u[e])&&(e=r(t,n)),i.push(e),a=o+1);return i.push(l.slice(a,o)),i.join("")}}function k(i,o){return function(t){var e,n,r=E(1900,void 0,1);if(T(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("s"in r)return new Date(1e3*r.s+("L"in r?r.L:0));if(!o||"Z"in r||(r.Z=0),"p"in r&&(r.H=r.H%12+12*r.p),void 0===r.m&&(r.m="q"in r?r.q:0),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(e=4<(n=(e=S(E(r.y,0,1))).getUTCDay())||0===n?M.utcMonday.ceil(e):M.utcMonday(e),e=M.utcDay.offset(e,7*(r.V-1)),r.y=e.getUTCFullYear(),r.m=e.getUTCMonth(),r.d=e.getUTCDate()+(r.w+6)%7):(e=4<(n=(e=A(E(r.y,0,1))).getDay())||0===n?M.timeMonday.ceil(e):M.timeMonday(e),e=M.timeDay.offset(e,7*(r.V-1)),r.y=e.getFullYear(),r.m=e.getMonth(),r.d=e.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),n="Z"in r?S(E(r.y,0,1)).getUTCDay():A(E(r.y,0,1)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(n+5)%7:r.w+7*r.U-(n+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,S(r)):A(r)}}function T(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(l<=r)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=_[i in C?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(i,b),b.X=w(o,b),b.c=w(r,b),x.x=w(i,x),x.X=w(o,x),x.c=w(r,x),{format:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}var r,C={"-":"",_:" ",0:"0"},i=/^\s*\d+/,o=/^%/,a=/[\\^$*+?|[\]().{}]/g;function s(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",t=i.length;return r+(t<n?new Array(n-t+1).join(e)+i:i)}function l(t){return t.replace(a,"\\$&")}function O(t){return new RegExp("^(?:"+t.map(l).join("|")+")","i")}function j(t){return new Map(t.map(function(t,e){return[t.toLowerCase(),e]}))}function P(t,e,n){e=i.exec(e.slice(n,n+1));return e?(t.w=+e[0],n+e[0].length):-1}function N(t,e,n){e=i.exec(e.slice(n,n+1));return e?(t.u=+e[0],n+e[0].length):-1}function L(t,e,n){e=i.exec(e.slice(n,n+2));return e?(t.U=+e[0],n+e[0].length):-1}function R(t,e,n){e=i.exec(e.slice(n,n+2));return e?(t.V=+e[0],n+e[0].length):-1}function D(t,e,n){e=i.exec(e.slice(n,n+2));return e?(t.W=+e[0],n+e[0].length):-1}function I(t,e,n){e=i.exec(e.slice(n,n+4));return e?(t.y=+e[0],n+e[0].length):-1}function F(t,e,n){e=i.exec(e.slice(n,n+2));return e?(t.y=+e[0]+(68<+e[0]?1900:2e3),n+e[0].length):-1}function z(t,e,n){e=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return e?(t.Z=e[1]?0:-(e[2]+(e[3]||"00")),n+e[0].length):-1}function B(t,e,n){e=i.exec(e.slice(n,n+1));return e?(t.q=3*e[0]-3,n+e[0].length):-1}function U(t,e,n){e=i.exec(e.slice(n,n+2));return e?(t.m=e[0]-1,n+e[0].length):-1}function H(t,e,n){e=i.exec(e.slice(n,n+2));return e?(t.d=+e[0],n+e[0].length):-1}function q(t,e,n){e=i.exec(e.slice(n,n+3));return e?(t.m=0,t.d=+e[0],n+e[0].length):-1}function V(t,e,n){e=i.exec(e.slice(n,n+2));return e?(t.H=+e[0],n+e[0].length):-1}function G(t,e,n){e=i.exec(e.slice(n,n+2));return e?(t.M=+e[0],n+e[0].length):-1}function W(t,e,n){e=i.exec(e.slice(n,n+2));return e?(t.S=+e[0],n+e[0].length):-1}function Y(t,e,n){e=i.exec(e.slice(n,n+3));return e?(t.L=+e[0],n+e[0].length):-1}function X(t,e,n){e=i.exec(e.slice(n,n+6));return e?(t.L=Math.floor(e[0]/1e3),n+e[0].length):-1}function Z(t,e,n){e=o.exec(e.slice(n,n+1));return e?n+e[0].length:-1}function $(t,e,n){e=i.exec(e.slice(n));return e?(t.Q=+e[0],n+e[0].length):-1}function Q(t,e,n){e=i.exec(e.slice(n));return e?(t.s=+e[0],n+e[0].length):-1}function K(t,e){return s(t.getDate(),e,2)}function J(t,e){return s(t.getHours(),e,2)}function tt(t,e){return s(t.getHours()%12||12,e,2)}function et(t,e){return s(1+M.timeDay.count(M.timeYear(t),t),e,3)}function nt(t,e){return s(t.getMilliseconds(),e,3)}function rt(t,e){return nt(t,e)+"000"}function it(t,e){return s(t.getMonth()+1,e,2)}function ot(t,e){return s(t.getMinutes(),e,2)}function at(t,e){return s(t.getSeconds(),e,2)}function st(t){t=t.getDay();return 0===t?7:t}function lt(t,e){return s(M.timeSunday.count(M.timeYear(t)-1,t),e,2)}function u(t){var e=t.getDay();return 4<=e||0===e?M.timeThursday(t):M.timeThursday.ceil(t)}function ut(t,e){return t=u(t),s(M.timeThursday.count(M.timeYear(t),t)+(4===M.timeYear(t).getDay()),e,2)}function ct(t){return t.getDay()}function ft(t,e){return s(M.timeMonday.count(M.timeYear(t)-1,t),e,2)}function ht(t,e){return s(t.getFullYear()%100,e,2)}function dt(t,e){return s((t=u(t)).getFullYear()%100,e,2)}function pt(t,e){return s(t.getFullYear()%1e4,e,4)}function gt(t,e){var n=t.getDay();return s((t=4<=n||0===n?M.timeThursday(t):M.timeThursday.ceil(t)).getFullYear()%1e4,e,4)}function mt(t){t=t.getTimezoneOffset();return(0<t?"-":(t*=-1,"+"))+s(t/60|0,"0",2)+s(t%60,"0",2)}function yt(t,e){return s(t.getUTCDate(),e,2)}function vt(t,e){return s(t.getUTCHours(),e,2)}function bt(t,e){return s(t.getUTCHours()%12||12,e,2)}function xt(t,e){return s(1+M.utcDay.count(M.utcYear(t),t),e,3)}function _t(t,e){return s(t.getUTCMilliseconds(),e,3)}function wt(t,e){return _t(t,e)+"000"}function kt(t,e){return s(t.getUTCMonth()+1,e,2)}function Tt(t,e){return s(t.getUTCMinutes(),e,2)}function Mt(t,e){return s(t.getUTCSeconds(),e,2)}function At(t){t=t.getUTCDay();return 0===t?7:t}function St(t,e){return s(M.utcSunday.count(M.utcYear(t)-1,t),e,2)}function c(t){var e=t.getUTCDay();return 4<=e||0===e?M.utcThursday(t):M.utcThursday.ceil(t)}function Et(t,e){return t=c(t),s(M.utcThursday.count(M.utcYear(t),t)+(4===M.utcYear(t).getUTCDay()),e,2)}function Ct(t){return t.getUTCDay()}function Ot(t,e){return s(M.utcMonday.count(M.utcYear(t)-1,t),e,2)}function jt(t,e){return s(t.getUTCFullYear()%100,e,2)}function Pt(t,e){return s((t=c(t)).getUTCFullYear()%100,e,2)}function Nt(t,e){return s(t.getUTCFullYear()%1e4,e,4)}function Lt(t,e){var n=t.getUTCDay();return s((t=4<=n||0===n?M.utcThursday(t):M.utcThursday.ceil(t)).getUTCFullYear()%1e4,e,4)}function Rt(){return"+0000"}function Dt(){return"%"}function It(t){return+t}function Ft(t){return Math.floor(+t/1e3)}function t(t){return r=n(t),e.timeFormat=r.format,e.timeParse=r.parse,e.utcFormat=r.utcFormat,e.utcParse=r.utcParse,r}t({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var f="%Y-%m-%dT%H:%M:%S.%LZ";var h=Date.prototype.toISOString?function(t){return t.toISOString()}:e.utcFormat(f);f=+new Date("2000-01-01T00:00:00.000Z")?function(t){return t=new Date(t),isNaN(t)?null:t}:e.utcParse(f);e.isoFormat=h,e.isoParse=f,e.timeFormatDefaultLocale=t,e.timeFormatLocale=n,Object.defineProperty(e,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n,t("d3-time")):"function"==typeof define&&define.amd?define(["exports","d3-time"],o):o((i=i||self).d3=i.d3||{},i.d3)},{"d3-time":436}],436:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t){var i=new Date,l=new Date;function u(o,a,n,r){function s(t){return o(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return o(t=new Date(+t)),t},s.ceil=function(t){return o(t=new Date(t-1)),a(t,1),o(t),t},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return a(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(t,e,n){var r,i=[];if(t=s.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return i;for(;i.push(r=new Date(+t)),a(t,n),o(t),r<t&&t<e;);return i},s.filter=function(n){return u(function(t){if(t<=t)for(;o(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;a(t,-1),!n(t););else for(;0<=--e;)for(;a(t,1),!n(t););})},n&&(s.count=function(t,e){return i.setTime(+t),l.setTime(+e),o(i),o(l),Math.floor(n(i,l))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?s.filter(r?function(t){return r(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var e=u(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});e.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?u(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):e:null};var n=e.range,r=u(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),o=r.range,a=u(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getMinutes()}),s=a.range,c=u(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),f=c.range,h=u(function(t){return t.setHours(0,0,0,0)},function(t,e){return t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1}),d=h.range;function p(e){return u(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}var g=p(0),m=p(1),y=p(2),v=p(3),b=p(4),x=p(5),_=p(6),w=g.range,k=m.range,T=y.range,M=v.range,A=b.range,S=x.range,E=_.range,C=u(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),O=C.range,j=u(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});j.every=function(n){return isFinite(n=Math.floor(n))&&0<n?u(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var P=j.range,N=u(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getUTCMinutes()}),L=N.range,R=u(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),D=R.range,I=u(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),F=I.range;function z(e){return u(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var B=z(0),U=z(1),H=z(2),q=z(3),V=z(4),G=z(5),W=z(6),Y=B.range,X=U.range,Z=H.range,$=q.range,Q=V.range,K=G.range,J=W.range,tt=u(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),et=tt.range,nt=u(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});nt.every=function(n){return isFinite(n=Math.floor(n))&&0<n?u(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var rt=nt.range;t.timeDay=h,t.timeDays=d,t.timeFriday=x,t.timeFridays=S,t.timeHour=c,t.timeHours=f,t.timeInterval=u,t.timeMillisecond=e,t.timeMilliseconds=n,t.timeMinute=a,t.timeMinutes=s,t.timeMonday=m,t.timeMondays=k,t.timeMonth=C,t.timeMonths=O,t.timeSaturday=_,t.timeSaturdays=E,t.timeSecond=r,t.timeSeconds=o,t.timeSunday=g,t.timeSundays=w,t.timeThursday=b,t.timeThursdays=A,t.timeTuesday=y,t.timeTuesdays=T,t.timeWednesday=v,t.timeWednesdays=M,t.timeWeek=g,t.timeWeeks=w,t.timeYear=j,t.timeYears=P,t.utcDay=I,t.utcDays=F,t.utcFriday=G,t.utcFridays=K,t.utcHour=R,t.utcHours=D,t.utcMillisecond=e,t.utcMilliseconds=n,t.utcMinute=N,t.utcMinutes=L,t.utcMonday=U,t.utcMondays=X,t.utcMonth=tt,t.utcMonths=et,t.utcSaturday=W,t.utcSaturdays=J,t.utcSecond=r,t.utcSeconds=o,t.utcSunday=B,t.utcSundays=Y,t.utcThursday=V,t.utcThursdays=Q,t.utcTuesday=H,t.utcTuesdays=Z,t.utcWednesday=q,t.utcWednesdays=$,t.utcWeek=B,t.utcWeeks=Y,t.utcYear=nt,t.utcYears=rt,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o((i=i||self).d3=i.d3||{})},{}],437:[function(t,e,n){"use strict";function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r,i;i=function(t){var i,o,n=0,e=0,r=0,a=1e3,s=0,l=0,u=0,c="object"===("undefined"==typeof performance?"undefined":x(performance))&&performance.now?performance:Date,f="object"===("undefined"==typeof window?"undefined":x(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function h(){return l||(f(d),l=c.now()+u)}function d(){l=0}function p(){this._call=this._time=this._next=null}function g(t,e,n){var r=new p;return r.restart(t,e,n),r}function m(){h(),++n;for(var t,e=i;e;)0<=(t=l-e._time)&&e._call.call(null,t),e=e._next;--n}function y(){l=(s=c.now())+u,n=e=0;try{m()}finally{n=0,function(){for(var t,e,n=i,r=1/0;n;)n=n._call?(r>n._time&&(r=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:i=e);o=t,b(r)}(),l=0}}function v(){var t=c.now(),e=t-s;a<e&&(u-=e,s=t)}function b(t){n||(e=e&&clearTimeout(e),24<t-l?(t<1/0&&(e=setTimeout(y,t-c.now()-u)),r=r&&clearInterval(r)):(r||(s=c.now(),r=setInterval(v,a)),n=1,f(y)))}p.prototype=g.prototype={constructor:p,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?h():+n)+(null==e?0:+e),this._next||o===this||(o?o._next=this:i=this,o=this),this._call=t,this._time=n,b()},stop:function(){this._call&&(this._call=null,this._time=1/0,b())}},t.interval=function(t,e,n){var o=new p,a=e;return null==e||(o._restart=o.restart,o.restart=function(n,r,i){r=+r,i=null==i?h():+i,o._restart(function t(e){e+=a,o._restart(t,a+=r,i),n(e)},r,i)}),o.restart(t,e,n),o},t.now=h,t.timeout=function(e,n,t){var r=new p;return n=null==n?0:+n,r.restart(function(t){r.stop(),e(t+n)},n,t),r},t.timer=g,t.timerFlush=m,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((r=void 0)===n?"undefined":x(n))&&void 0!==e?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i((r=r||self).d3=r.d3||{})},{}],438:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t,C,e,g,O,r,n){var m=e.dispatch("start","end","cancel","interrupt"),y=[],v=0,b=1,x=2,_=3,w=4,k=5,T=6;function M(t,e,n,r,i,o){var a,s,l,u,c,f=t.__transition;if(f){if(n in f)return}else t.__transition={};function h(t){var e,n,r,i;if(l.state!==b)return p();for(e in c)if((i=c[e]).name===l.name){if(i.state===_)return g.timeout(h);i.state===w?(i.state=T,i.timer.stop(),i.on.call("interrupt",a,a.__data__,i.index,i.group),delete c[e]):+e<s&&(i.state=T,i.timer.stop(),i.on.call("cancel",a,a.__data__,i.index,i.group),delete c[e])}if(g.timeout(function(){l.state===_&&(l.state=w,l.timer.restart(d,l.delay,l.time),d(t))}),l.state=x,l.on.call("start",a,a.__data__,l.index,l.group),l.state===x){for(l.state=_,u=new Array(r=l.tween.length),e=0,n=-1;e<r;++e)(i=l.tween[e].value.call(a,a.__data__,l.index,l.group))&&(u[++n]=i);u.length=n+1}}function d(t){for(var e=t<l.duration?l.ease.call(null,t/l.duration):(l.timer.restart(p),l.state=k,1),n=-1,r=u.length;++n<r;)u[n].call(a,e);l.state===k&&(l.on.call("end",a,a.__data__,l.index,l.group),p())}function p(){for(var t in l.state=T,l.timer.stop(),delete c[s],c)return;delete a.__transition}a=t,s=n,l={name:e,index:r,group:i,on:m,tween:y,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:v},((c=a.__transition)[s]=l).timer=g.timer(function(t){l.state=b,l.timer.restart(h,l.delay,l.time),l.delay<=t&&h(t-l.delay)},0,l.time)}function u(t,e){e=A(t,e);if(e.state>v)throw new Error("too late; already scheduled");return e}function j(t,e){e=A(t,e);if(e.state>_)throw new Error("too late; already running");return e}function A(t,e){t=t.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function i(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>x&&n.state<k,n.state=T,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function P(t,e,n){var r=t._id;return t.each(function(){var t=j(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return A(t,r).value[e]}}function N(t,e){var n;return("number"==typeof e?O.interpolateNumber:e instanceof r.color?O.interpolateRgb:(n=r.color(e))?(e=n,O.interpolateRgb):O.interpolateString)(t,e)}function o(r,i){var o,a;function t(){var e,n,t=i.apply(this,arguments);return t!==a&&(o=(a=t)&&(e=r,n=t,function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))})),o}return t._value=i,t}function a(r,i){var o,a;function t(){var e,n,t=i.apply(this,arguments);return t!==a&&(o=(a=t)&&(e=r,n=t,function(t){this.setAttribute(e,n.call(this,t))})),o}return t._value=i,t}var s=C.selection.prototype.constructor;function L(t){return function(){this.style.removeProperty(t)}}function l(i,o,a){var s,l;function t(){var e,n,r,t=o.apply(this,arguments);return t!==l&&(s=(l=t)&&(e=i,n=t,r=a,function(t){this.style.setProperty(e,n.call(this,t),r)})),s}return t._value=o,t}function c(n){var r,i;function t(){var e,t=n.apply(this,arguments);return t!==i&&(r=(i=t)&&(e=t,function(t){this.textContent=e.call(this,t)})),r}return t._value=n,t}var f=0;function S(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function h(t){return C.selection().transition(t)}var d,p=C.selection.prototype;S.prototype=h.prototype=(d={constructor:S,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=C.selector(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,u=r[a],c=u.length,f=o[a]=new Array(c),h=0;h<c;++h)(s=u[h])&&(l=t.call(s,s.__data__,h,u))&&("__data__"in s&&(l.__data__=s.__data__),f[h]=l,M(f[h],e,n,h,f,A(s,n)));return new S(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=C.selectorAll(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,u=r[s],c=u.length,f=0;f<c;++f)if(l=u[f]){for(var h,d=t.call(l,l.__data__,f,u),p=A(l,n),g=0,m=d.length;g<m;++g)(h=d[g])&&M(h,e,n,g,d,p);o.push(d),a.push(l)}return new S(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=C.matcher(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&l.push(o);return new S(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,t=n.length,i=Math.min(r,t),o=new Array(r),a=0;a<i;++a)for(var s,l=e[a],u=n[a],c=l.length,f=o[a]=new Array(c),h=0;h<c;++h)(s=l[h]||u[h])&&(f[h]=s);for(;a<r;++a)o[a]=e[a];return new S(o,this._parents,this._name,this._id)},selection:function(){return new s(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=++f,r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)(a=s[u])&&M(a,t,n,u,s,{time:(a=A(a,e)).time+a.delay+a.duration,delay:0,duration:a.duration,ease:a.ease});return new S(r,this._parents,t,n)},call:p.call,nodes:p.nodes,node:p.node,size:p.size,empty:p.empty,each:p.each,on:function(t,e){var n,r,i,o,a,s,l=this._id;return arguments.length<2?A(this.node(),l).on.on(t):this.each((n=l,i=e,s=((r=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})?u:j,function(){var t=s(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(r,i),t.on=a}))},attr:function(t,e){var n=C.namespace(t),r="transform"===n?O.interpolateTransformSvg:N;return this.attrTween(t,"function"==typeof e?(n.local?function(r,i,o){var a,s,l;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttributeNS(r.space,r.local))===(e=n+"")?null:t===a&&e===s?l:(s=e,l=i(a=t,n));this.removeAttributeNS(r.space,r.local)}}:function(r,i,o){var a,s,l;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttribute(r))===(e=n+"")?null:t===a&&e===s?l:(s=e,l=i(a=t,n));this.removeAttribute(r)}})(n,r,P(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttributeNS(e.space,e.local);return t===a?null:t===i?o:o=n(i=t,r)}}:function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttribute(e);return t===a?null:t===i?o:o=n(i=t,r)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return t=C.namespace(t),this.tween(n,(t.local?o:a)(t,e))},style:function(t,e,n){var r,i,o,a,s,l,u,c,f,h,d,p,g,m,y,v,b,x,_,w,k,T,M,A,S,E="transform"==(t+="")?O.interpolateTransformCss:N;return null==e?this.styleTween(t,(k=t,T=E,function(){var t=C.style(this,k),e=(this.style.removeProperty(k),C.style(this,k));return t===e?null:t===M&&e===A?S:S=T(M=t,A=e)})).on("end.style."+t,L(t)):"function"==typeof e?this.styleTween(t,(v=E,b=P(this,"style."+(y=t),e),function(){var t=C.style(this,y),e=b(this),n=e+"";return null==e&&(this.style.removeProperty(y),n=e=C.style(this,y)),t===n?null:t===x&&n===_?w:(_=n,w=v(x=t,e))})).each((u=this._id,m="end."+(g="style."+(c=t)),function(){var t=j(this,u),e=t.on,n=null==t.value[g]?p=p||L(c):void 0;e===f&&d===n||(h=(f=e).copy()).on(m,d=n),t.on=h})):this.styleTween(t,(r=t,i=E,l=(o=e)+"",function(){var t=C.style(this,r);return t===l?null:t===a?s:s=i(a=t,o)}),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,l(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?(n=P(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,c(t))},remove:function(){return this.on("end.remove",(n=this._id,function(){var t,e=this.parentNode;for(t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}));var n},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=A(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(i,o){var a,s;return function(){var t=j(this,i),e=t.tween;if(e!==a)for(var n=0,r=(s=a=e).length;n<r;++n)if(s[n].name===o){(s=s.slice()).splice(n,1);break}t.tween=s}}:function(o,a,s){var l,u;if("function"!=typeof s)throw new Error;return function(){var t=j(this,o),e=t.tween;if(e!==l){u=(l=e).slice();for(var n={name:a,value:s},r=0,i=u.length;r<i;++r)if(u[r].name===a){u[r]=n;break}r===i&&u.push(n)}t.tween=u}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){u(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){u(this,t).delay=e}})(e,t)):A(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){j(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){j(this,t).duration=e}})(e,t)):A(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){j(this,t).ease=e}}(e,t)):A(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each((e=this._id,n=t,function(){var t=n.apply(this,arguments);if("function"!=typeof t)throw new Error;j(this,e).ease=t}));var e,n},end:function(){var i,o,a=this,s=a._id,l=a.size();return new Promise(function(t,e){var n={value:e},r={value:function(){0==--l&&t()}};a.each(function(){var t=j(this,s),e=t.on;e!==i&&((o=(i=e).copy())._.cancel.push(n),o._.interrupt.push(n),o._.end.push(r)),t.on=o}),0===l&&t()})}},e=Symbol.iterator,p=p[Symbol.iterator],e in d?Object.defineProperty(d,e,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[e]=p,d);var E={time:null,delay:0,duration:250,ease:n.easeCubicInOut};C.selection.prototype.interrupt=function(t){return this.each(function(){i(this,t)})},C.selection.prototype.transition=function(t){var e,n;t=t instanceof S?(e=t._id,t._name):(e=++f,(n=E).time=g.now(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)(a=s[u])&&M(a,t,e,u,s,n||function(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error("transition ".concat(e," not found"));return n}(a,e));return new S(r,this._parents,t,e)};var R=[null];t.active=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>b&&n.name===e)return new S([[t]],R,e,+r);return null},t.interrupt=i,t.transition=h,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n,t("d3-selection"),t("d3-dispatch"),t("d3-timer"),t("d3-interpolate"),t("d3-color"),t("d3-ease")):"function"==typeof define&&define.amd?define(["exports","d3-selection","d3-dispatch","d3-timer","d3-interpolate","d3-color","d3-ease"],o):o((i=i||self).d3=i.d3||{},i.d3,i.d3,i.d3,i.d3,i.d3,i.d3)},{"d3-color":415,"d3-dispatch":418,"d3-ease":421,"d3-interpolate":427,"d3-selection":434,"d3-timer":437}],439:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;o=function(t,j,P,N,L,R){function D(t){return function(){return t}}function I(t,e){var n=e.sourceEvent,r=e.target,i=e.transform,e=e.dispatch;Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:e}})}function F(t,e,n){this.k=t,this.x=e,this.y=n}F.prototype={constructor:F,scale:function(t){return 1===t?this:new F(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new F(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var z=new F(1,0,0);function e(t){for(;!t.__zoom;)if(!(t=t.parentNode))return z;return t.__zoom}function B(t){t.stopImmediatePropagation()}function U(t){t.preventDefault(),t.stopImmediatePropagation()}function H(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function q(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function V(){return this.__zoom||z}function G(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function W(){return navigator.maxTouchPoints||"ontouchstart"in this}function Y(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],n=t.invertY(e[1][1])-n[1][1];return t.translate(r<i?(r+i)/2:Math.min(0,r)||Math.max(0,i),o<n?(o+n)/2:Math.min(0,o)||Math.max(0,n))}e.prototype=F.prototype,t.zoom=function(){var f,h,c,d=H,p=q,g=Y,l=G,e=W,u=[0,1/0],m=[[-1/0,-1/0],[1/0,1/0]],y=250,v=N.interpolateZoom,n=j.dispatch("start","zoom","end"),b=500,x=150,_=0,w=10;function k(t){t.property("__zoom",V).on("wheel.zoom",i).on("mousedown.zoom",o).on("dblclick.zoom",a).filter(e).on("touchstart.zoom",s).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function T(t,e){return(e=Math.max(u[0],Math.min(u[1],e)))===t.k?t:new F(e,t.x,t.y)}function M(t,e,n){var r=e[0]-n[0]*t.k,n=e[1]-n[1]*t.k;return r===t.x&&n===t.y?t:new F(t.k,r,n)}function A(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function S(t,n,l,u){t.on("start.zoom",function(){E(this,arguments).event(u).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(u).end()}).tween("zoom",function(){var t=arguments,r=E(this,t).event(u),e=p.apply(this,t),i=null==l?A(e):"function"==typeof l?l.apply(this,t):l,o=Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]),e=this.__zoom,a="function"==typeof n?n.apply(this,t):n,s=v(e.invert(i).concat(o/e.k),a.invert(i).concat(o/a.k));return function(t){var e,n;t=1===t?a:(e=s(t),new F(n=o/e[2],i[0]-e[0]*n,i[1]-e[1]*n)),r.zoom(null,t)}})}function E(t,e,n){return!n&&t.__zooming||new r(t,e)}function r(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=p.apply(t,e),this.taps=0}function i(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(d.apply(this,arguments)){var i=E(this,n).event(t),o=this.__zoom,a=Math.max(u[0],Math.min(u[1],o.k*Math.pow(2,l.apply(this,arguments)))),s=L.pointer(t);if(i.wheel)i.mouse[0][0]===s[0]&&i.mouse[0][1]===s[1]||(i.mouse[1]=o.invert(i.mouse[0]=s)),clearTimeout(i.wheel);else{if(o.k===a)return;i.mouse=[s,o.invert(s)],R.interrupt(this),i.start()}U(t),i.wheel=setTimeout(function(){i.wheel=null,i.end()},x),i.zoom("mouse",g(M(T(o,a),i.mouse[0],i.mouse[1]),i.extent,m))}}function o(t){for(var r,e,n,i,o,a,s=arguments.length,l=new Array(1<s?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];!c&&d.apply(this,arguments)&&(r=E(this,l,!0).event(t),e=L.select(t.view).on("mousemove.zoom",function(t){{var e,n;U(t),r.moved||(e=t.clientX-o,n=t.clientY-a,r.moved=_<e*e+n*n)}r.event(t).zoom("mouse",g(M(r.that.__zoom,r.mouse[0]=L.pointer(t,i),r.mouse[1]),r.extent,m))},!0).on("mouseup.zoom",function(t){e.on("mousemove.zoom mouseup.zoom",null),P.dragEnable(t.view,r.moved),U(t),r.event(t).end()},!0),n=L.pointer(t,i),i=t.currentTarget,o=t.clientX,a=t.clientY,P.dragDisable(t.view),B(t),r.mouse=[n,this.__zoom.invert(n)],R.interrupt(this),r.start())}function a(t){for(var e,n,r,i,o=arguments.length,a=new Array(1<o?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];d.apply(this,arguments)&&(e=this.__zoom,n=L.pointer(t.changedTouches?t.changedTouches[0]:t,this),i=e.invert(n),r=e.k*(t.shiftKey?.5:2),i=g(M(T(e,r),n,i),p.apply(this,a),m),U(t),0<y?L.select(this).transition().duration(y).call(S,i,n,t):L.select(this).call(k.transform,i,n,t))}function s(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(d.apply(this,arguments)){var i,o,a,s,l=t.touches,u=l.length,c=E(this,n,t.changedTouches.length===u).event(t);for(B(t),o=0;o<u;++o)a=l[o],s=[s=L.pointer(a,this),this.__zoom.invert(s),a.identifier],c.touch0?c.touch1||c.touch0[2]===s[2]||(c.touch1=s,c.taps=0):(c.touch0=s,i=!0,c.taps=1+!!f);f=f&&clearTimeout(f),i&&(c.taps<2&&(h=s[0],f=setTimeout(function(){f=null},b)),R.interrupt(this),c.start())}}function C(t){if(this.__zooming){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i,o=E(this,n).event(t),a=t.changedTouches,s=a.length;for(U(t),i=0;i<s;++i)d=a[i],p=L.pointer(d,this),o.touch0&&o.touch0[2]===d.identifier?o.touch0[0]=p:o.touch1&&o.touch1[2]===d.identifier&&(o.touch1[0]=p);if(d=o.that.__zoom,o.touch1)var l=o.touch0[0],u=o.touch0[1],c=o.touch1[0],f=o.touch1[1],h=(h=c[0]-l[0])*h+(h=c[1]-l[1])*h,t=(t=f[0]-u[0])*t+(t=f[1]-u[1])*t,d=T(d,Math.sqrt(h/t)),p=[(l[0]+c[0])/2,(l[1]+c[1])/2],f=[(u[0]+f[0])/2,(u[1]+f[1])/2];else{if(!o.touch0)return;p=o.touch0[0],f=o.touch0[1]}o.zoom("touch",g(M(d,p,f),o.extent,m))}}function O(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(this.__zooming){var i,o,a=E(this,n).event(t),s=t.changedTouches,l=s.length;for(B(t),c&&clearTimeout(c),c=setTimeout(function(){c=null},b),i=0;i<l;++i)o=s[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0?a.touch0[1]=this.__zoom.invert(a.touch0[0]):(a.end(),2===a.taps&&(o=L.pointer(o,this),Math.hypot(h[0]-o[0],h[1]-o[1])<w&&((t=L.select(this).on("dblclick.zoom"))&&t.apply(this,arguments))))}}return k.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",V),t!==i?S(t,e,n,r):i.interrupt().each(function(){E(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},k.scaleBy=function(t,e,n,r){k.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)},n,r)},k.scaleTo=function(t,o,a,e){k.transform(t,function(){var t=p.apply(this,arguments),e=this.__zoom,n=null==a?A(t):"function"==typeof a?a.apply(this,arguments):a,r=e.invert(n),i="function"==typeof o?o.apply(this,arguments):o;return g(M(T(e,i),n,r),t,m)},a,e)},k.translateBy=function(t,e,n,r){k.transform(t,function(){return g(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),p.apply(this,arguments),m)},null,r)},k.translateTo=function(t,r,i,o,e){k.transform(t,function(){var t=p.apply(this,arguments),e=this.__zoom,n=null==o?A(t):"function"==typeof o?o.apply(this,arguments):o;return g(z.translate(n[0],n[1]).scale(e.k).translate("function"==typeof r?-r.apply(this,arguments):-r,"function"==typeof i?-i.apply(this,arguments):-i),t,m)},o,e)},r.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this).emit("start"),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=L.select(this.that).datum();n.call(t,this.that,new I(t,{sourceEvent:this.sourceEvent,target:k,type:t,transform:this.that.__zoom,dispatch:n}),e)}},k.wheelDelta=function(t){return arguments.length?(l="function"==typeof t?t:D(+t),k):l},k.filter=function(t){return arguments.length?(d="function"==typeof t?t:D(!!t),k):d},k.touchable=function(t){return arguments.length?(e="function"==typeof t?t:D(!!t),k):e},k.extent=function(t){return arguments.length?(p="function"==typeof t?t:D([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),k):p},k.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],k):[u[0],u[1]]},k.translateExtent=function(t){return arguments.length?(m[0][0]=+t[0][0],m[1][0]=+t[1][0],m[0][1]=+t[0][1],m[1][1]=+t[1][1],k):[[m[0][0],m[0][1]],[m[1][0],m[1][1]]]},k.constrain=function(t){return arguments.length?(g=t,k):g},k.duration=function(t){return arguments.length?(y=+t,k):y},k.interpolate=function(t){return arguments.length?(v=t,k):v},k.on=function(){var t=n.on.apply(n,arguments);return t===n?k:t},k.clickDistance=function(t){return arguments.length?(_=(t=+t)*t,k):Math.sqrt(_)},k.tapDistance=function(t){return arguments.length?(w=+t,k):w},k},t.zoomIdentity=z,t.zoomTransform=e,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((i=void 0)===n?"undefined":r(n))&&void 0!==e?o(n,t("d3-dispatch"),t("d3-drag"),t("d3-interpolate"),t("d3-selection"),t("d3-transition")):"function"==typeof define&&define.amd?define(["exports","d3-dispatch","d3-drag","d3-interpolate","d3-selection","d3-transition"],o):o((i=i||self).d3=i.d3||{},i.d3,i.d3,i.d3,i.d3,i.d3)},{"d3-dispatch":418,"d3-drag":419,"d3-interpolate":427,"d3-selection":434,"d3-transition":438}],440:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("d3-array"),i=t("d3-axis"),o=t("d3-brush"),a=t("d3-chord"),s=t("d3-color"),l=t("d3-contour"),u=t("d3-delaunay"),c=t("d3-dispatch"),f=t("d3-drag"),h=t("d3-dsv"),d=t("d3-ease"),p=t("d3-fetch"),g=t("d3-force"),m=t("d3-format"),y=t("d3-geo"),v=t("d3-hierarchy"),b=t("d3-interpolate"),x=t("d3-path"),_=t("d3-polygon"),w=t("d3-quadtree"),k=t("d3-random"),T=t("d3-scale"),M=t("d3-scale-chromatic"),A=t("d3-selection"),S=t("d3-shape"),E=t("d3-time"),C=t("d3-time-format"),O=t("d3-timer"),j=t("d3-transition"),P=t("d3-zoom");Object.keys(r).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})}),Object.keys(i).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})}),Object.keys(o).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})}),Object.keys(a).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}})}),Object.keys(s).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}})}),Object.keys(l).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return l[t]}})}),Object.keys(u).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}})}),Object.keys(c).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return c[t]}})}),Object.keys(f).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return f[t]}})}),Object.keys(h).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return h[t]}})}),Object.keys(d).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return d[t]}})}),Object.keys(p).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return p[t]}})}),Object.keys(g).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return g[t]}})}),Object.keys(m).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return m[t]}})}),Object.keys(y).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return y[t]}})}),Object.keys(v).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return v[t]}})}),Object.keys(b).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return b[t]}})}),Object.keys(x).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return x[t]}})}),Object.keys(_).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return _[t]}})}),Object.keys(w).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return w[t]}})}),Object.keys(k).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return k[t]}})}),Object.keys(T).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return T[t]}})}),Object.keys(M).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return M[t]}})}),Object.keys(A).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return A[t]}})}),Object.keys(S).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return S[t]}})}),Object.keys(E).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return E[t]}})}),Object.keys(C).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return C[t]}})}),Object.keys(O).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return O[t]}})}),Object.keys(j).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return j[t]}})}),Object.keys(P).forEach(function(t){"default"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return P[t]}})}),n.version="6.3.1"},{"d3-array":411,"d3-axis":412,"d3-brush":413,"d3-chord":414,"d3-color":415,"d3-contour":416,"d3-delaunay":417,"d3-dispatch":418,"d3-drag":419,"d3-dsv":420,"d3-ease":421,"d3-fetch":422,"d3-force":423,"d3-format":424,"d3-geo":425,"d3-hierarchy":426,"d3-interpolate":427,"d3-path":428,"d3-polygon":429,"d3-quadtree":430,"d3-random":431,"d3-scale":433,"d3-scale-chromatic":432,"d3-selection":434,"d3-shape":441,"d3-time":436,"d3-time-format":435,"d3-timer":437,"d3-transition":438,"d3-zoom":439}],441:[function(t,e,n){"use strict";function Wt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yt(t){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r,i;i=function(t,D){function x(t){return function(){return t}}var I=Math.abs,F=Math.atan2,z=Math.cos,p=Math.max,B=Math.min,U=Math.sin,H=Math.sqrt,q=1e-12,V=Math.PI,G=V/2,W=2*V;function Y(t){return 1<=t?G:t<=-1?-G:Math.asin(t)}function n(t){return t.innerRadius}function r(t){return t.outerRadius}function i(t){return t.startAngle}function o(t){return t.endAngle}function a(t){return t&&t.padAngle}function X(t,e,n,r,i,o,a){var s=t-n,l=e-r,u=(a?o:-o)/H(s*s+l*l),c=u*l,f=-u*s,h=t+c,d=e+f,a=n+c,l=r+f,u=(h+a)/2,s=(d+l)/2,t=a-h,e=l-d,n=t*t+e*e,r=i-o,o=h*l-a*d,h=(e<0?-1:1)*H(p(0,r*r*n-o*o)),l=(o*e-t*h)/n,a=(-o*t-e*h)/n,d=(o*e+t*h)/n,e=(-o*t+e*h)/n,h=l-u,n=a-s,u=d-u,s=e-s;return u*u+s*s<h*h+n*n&&(l=d,a=e),{cx:l,cy:a,x01:-c,y01:-f,x11:l*(i/r-1),y11:a*(i/r-1)}}var c=Array.prototype.slice;function _(t){return"object"===Yt(t)&&"length"in t?t:Array.from(t)}function e(t){this._context=t}function v(t){return new e(t)}function b(t){return t[0]}function w(t){return t[1]}function s(a,s){var l=x(!0),u=null,c=v,f=null;function e(t){var e,n,r,i=(t=_(t)).length,o=!1;for(null==u&&(f=c(r=D.path())),e=0;e<=i;++e)!(e<i&&l(n=t[e],e,t))===o&&((o=!o)?f.lineStart():f.lineEnd()),o&&f.point(+a(n,e,t),+s(n,e,t));if(r)return f=null,r+""||null}return a="function"==typeof a?a:void 0===a?b:x(a),s="function"==typeof s?s:void 0===s?w:x(s),e.x=function(t){return arguments.length?(a="function"==typeof t?t:x(+t),e):a},e.y=function(t){return arguments.length?(s="function"==typeof t?t:x(+t),e):s},e.defined=function(t){return arguments.length?(l="function"==typeof t?t:x(!!t),e):l},e.curve=function(t){return arguments.length?(c=t,null!=u&&(f=c(u)),e):c},e.context=function(t){return arguments.length?(null==t?u=f=null:f=c(u=t),e):u},e}function l(c,f,h){var d=null,p=x(!0),g=null,m=v,y=null;function e(t){var e,n,r,i,o,a=(t=_(t)).length,s=!1,l=new Array(a),u=new Array(a);for(null==g&&(y=m(o=D.path())),e=0;e<=a;++e){if(!(e<a&&p(i=t[e],e,t))===s)if(s=!s)n=e,y.areaStart(),y.lineStart();else{for(y.lineEnd(),y.lineStart(),r=e-1;n<=r;--r)y.point(l[r],u[r]);y.lineEnd(),y.areaEnd()}s&&(l[e]=+c(i,e,t),u[e]=+f(i,e,t),y.point(d?+d(i,e,t):l[e],h?+h(i,e,t):u[e]))}if(o)return y=null,o+""||null}function t(){return s().defined(p).curve(m).context(g)}return c="function"==typeof c?c:void 0===c?b:x(+c),f="function"==typeof f?f:x(void 0===f?0:+f),h="function"==typeof h?h:void 0===h?w:x(+h),e.x=function(t){return arguments.length?(c="function"==typeof t?t:x(+t),d=null,e):c},e.x0=function(t){return arguments.length?(c="function"==typeof t?t:x(+t),e):c},e.x1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:x(+t),e):d},e.y=function(t){return arguments.length?(f="function"==typeof t?t:x(+t),h=null,e):f},e.y0=function(t){return arguments.length?(f="function"==typeof t?t:x(+t),e):f},e.y1=function(t){return arguments.length?(h=null==t?null:"function"==typeof t?t:x(+t),e):h},e.lineX0=e.lineY0=function(){return t().x(c).y(f)},e.lineY1=function(){return t().x(c).y(h)},e.lineX1=function(){return t().x(d).y(f)},e.defined=function(t){return arguments.length?(p="function"==typeof t?t:x(!!t),e):p},e.curve=function(t){return arguments.length?(m=t,null!=g&&(y=m(g)),e):m},e.context=function(t){return arguments.length?(null==t?g=y=null:y=m(g=t),e):g},e}function u(t,e){return e<t?-1:t<e?1:t<=e?0:NaN}function f(t){return t}e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var h=g(v);function d(t){this._curve=t}function g(e){function t(t){return new d(e(t))}return t._curve=e,t}function m(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(g(t)):e()._curve},t}function y(){return m(s().curve(h))}function k(){var t=l().curve(h),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return m(n())},delete t.lineX0,t.lineEndAngle=function(){return m(r())},delete t.lineX1,t.lineInnerRadius=function(){return m(i())},delete t.lineY0,t.lineOuterRadius=function(){return m(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(g(t)):e()._curve},t}function T(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}function M(t){return t.source}function A(t){return t.target}function S(i){var o=M,a=A,s=b,l=w,u=null;function e(){var t,e=c.call(arguments),n=o.apply(this,e),r=a.apply(this,e);if(u=u||(t=D.path()),i(u,+s.apply(this,(e[0]=n,e)),+l.apply(this,e),+s.apply(this,(e[0]=r,e)),+l.apply(this,e)),t)return u=null,t+""||null}return e.source=function(t){return arguments.length?(o=t,e):o},e.target=function(t){return arguments.length?(a=t,e):a},e.x=function(t){return arguments.length?(s="function"==typeof t?t:x(+t),e):s},e.y=function(t){return arguments.length?(l="function"==typeof t?t:x(+t),e):l},e.context=function(t){return arguments.length?(u=null==t?null:t,e):u},e}function E(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function C(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function O(t,e,n,r,i){var o=T(e,n),e=T(e,n=(n+i)/2),n=T(r,n),i=T(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(e[0],e[1],n[0],n[1],i[0],i[1])}d.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var j={draw:function(t,e){e=Math.sqrt(e/V);t.moveTo(e,0),t.arc(0,0,e,0,W)}},P={draw:function(t,e){e=Math.sqrt(e/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},N=Math.sqrt(1/3),L=2*N,R={draw:function(t,e){var n=Math.sqrt(e/L),e=n*N;t.moveTo(0,-n),t.lineTo(e,0),t.lineTo(0,n),t.lineTo(-e,0),t.closePath()}},Z=Math.sin(V/10)/Math.sin(7*V/10),$=Math.sin(W/10)*Z,Q=-Math.cos(W/10)*Z,K={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=$*n,i=Q*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=W*o/5,s=Math.cos(a),a=Math.sin(a);t.lineTo(a*n,-s*n),t.lineTo(s*r-a*i,a*r+s*i)}t.closePath()}},J={draw:function(t,e){var n=Math.sqrt(e),e=-n/2;t.rect(e,e,n,n)}},tt=Math.sqrt(3),et={draw:function(t,e){e=-Math.sqrt(e/(3*tt));t.moveTo(0,2*e),t.lineTo(-tt*e,-e),t.lineTo(tt*e,-e),t.closePath()}},nt=Math.sqrt(3)/2,rt=1/Math.sqrt(12),it=3*(rt/2+1),ot={draw:function(t,e){var n=Math.sqrt(e/it),r=n/2,i=n*rt,o=r,a=n*rt+n,e=-o,n=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(e,n),t.lineTo(-.5*r-nt*i,nt*r+-.5*i),t.lineTo(-.5*o-nt*a,nt*o+-.5*a),t.lineTo(-.5*e-nt*n,nt*e+-.5*n),t.lineTo(-.5*r+nt*i,-.5*i-nt*r),t.lineTo(-.5*o+nt*a,-.5*a-nt*o),t.lineTo(-.5*e+nt*n,-.5*n-nt*e),t.closePath()}},at=[j,P,R,J,K,et,ot];function st(){}function lt(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ut(t){this._context=t}function ct(t){this._context=t}function ft(t){this._context=t}function ht(t,e){this._basis=new ut(t),this._beta=e}ut.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},ct.prototype={areaStart:st,areaEnd:st,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},ft.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},ht.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(0<n)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(i+r*a),this._beta*e[l]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var dt=function e(n){function t(t){return 1===n?new ut(t):new ht(t,n)}return t.beta=function(t){return e(+t)},t}(.85);function pt(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function gt(t,e){this._context=t,this._k=(1-e)/6}gt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:pt(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:pt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var mt=function e(n){function t(t){return new gt(t,n)}return t.tension=function(t){return e(+t)},t}(0);function yt(t,e){this._context=t,this._k=(1-e)/6}yt.prototype={areaStart:st,areaEnd:st,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:pt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var vt=function e(n){function t(t){return new yt(t,n)}return t.tension=function(t){return e(+t)},t}(0);function bt(t,e){this._context=t,this._k=(1-e)/6}bt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:pt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var xt=function e(n){function t(t){return new bt(t,n)}return t.tension=function(t){return e(+t)},t}(0);function _t(t,e,n){var r,i,o=t._x1,a=t._y1,s=t._x2,l=t._y2;t._l01_a>q&&(r=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,i=3*t._l01_a*(t._l01_a+t._l12_a),o=(o*r-t._x0*t._l12_2a+t._x2*t._l01_2a)/i,a=(a*r-t._y0*t._l12_2a+t._y2*t._l01_2a)/i),t._l23_a>q&&(r=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,i=3*t._l23_a*(t._l23_a+t._l12_a),s=(s*r+t._x1*t._l23_2a-e*t._l12_2a)/i,l=(l*r+t._y1*t._l23_2a-n*t._l12_2a)/i),t._context.bezierCurveTo(o,a,s,l,t._x2,t._y2)}function wt(t,e){this._context=t,this._alpha=e}wt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n,r;switch(t=+t,e=+e,this._point&&(n=this._x2-t,r=this._y2-e,this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))),this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:_t(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var kt=function e(n){function t(t){return n?new wt(t,n):new gt(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Tt(t,e){this._context=t,this._alpha=e}Tt.prototype={areaStart:st,areaEnd:st,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){var n,r;switch(t=+t,e=+e,this._point&&(n=this._x2-t,r=this._y2-e,this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))),this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:_t(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Mt=function e(n){function t(t){return n?new Tt(t,n):new yt(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function At(t,e){this._context=t,this._alpha=e}At.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n,r;switch(t=+t,e=+e,this._point&&(n=this._x2-t,r=this._y2-e,this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))),this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:_t(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};Z=function e(n){function t(t){return n?new At(t,n):new bt(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function St(t){this._context=t}function Et(t){return t<0?-1:1}function Ct(t,e,n){var r=t._x1-t._x0,i=e-t._x1,e=(t._y1-t._y0)/(r||i<0&&-0),t=(n-t._y1)/(i||r<0&&-0),i=(e*i+t*r)/(r+i);return(Et(e)+Et(t))*Math.min(Math.abs(e),Math.abs(t),.5*Math.abs(i))||0}function Ot(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function jt(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Pt(t){this._context=t}function Nt(t){this._context=new Lt(t)}function Lt(t){this._context=t}function Rt(t){this._context=t}function Dt(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(o[i[0]=0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;0<=e;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function It(t,e){this._context=t,this._t=e}function Ft(t,e){if(1<(i=t.length))for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function zt(t){for(var e=t.length,n=new Array(e);0<=--e;)n[e]=e;return n}function Bt(t,e){return t[e]}function Ut(t){var e=[];return e.key=t,e}function Ht(t){var n=t.map(qt);return zt(t).sort(function(t,e){return n[t]-n[e]})}function qt(t){for(var e,n=-1,r=0,i=t.length,o=-1/0;++n<i;)(e=+t[n][1])>o&&(o=e,r=n);return r}function Vt(t){var n=t.map(Gt);return zt(t).sort(function(t,e){return n[t]-n[e]})}function Gt(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}St.prototype={areaStart:st,areaEnd:st,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},Pt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jt(this,this._t0,Ot(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,jt(this,Ot(this,n=Ct(this,t,e)),n);break;default:jt(this,this._t0,n=Ct(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Nt.prototype=Object.create(Pt.prototype)).point=function(t,e){Pt.prototype.point.call(this,e,t)},Lt.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},Rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Dt(t),i=Dt(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},It.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:var n;this._t<=0?(this._context.lineTo(this._x,e),this._context.lineTo(t,e)):(n=this._x*(1-this._t)+t*this._t,this._context.lineTo(n,this._y),this._context.lineTo(n,e))}this._x=t,this._y=e}},t.arc=function(){var E=n,C=r,O=x(0),j=null,P=i,N=o,L=a,R=null;function e(){var t,e,n,r,i,o,a,s,l,u,c,f,h,d,p,g,m,y,v,b,x,_,w=+E.apply(this,arguments),k=+C.apply(this,arguments),T=P.apply(this,arguments)-G,M=N.apply(this,arguments)-G,A=I(M-T),S=T<M;if(R=R||(t=D.path()),k<w&&(c=k,k=w,w=c),q<k?W-q<A?(R.moveTo(k*z(T),k*U(T)),R.arc(0,0,k,T,M,!S),q<w&&(R.moveTo(w*z(M),w*U(M)),R.arc(0,0,w,M,T,S))):(r=e=T,i=n=M,a=o=A,h=L.apply(this,arguments)/2,f=q<h&&(j?+j.apply(this,arguments):H(w*w+k*k)),_=x=s=B(I(k-w)/2,+O.apply(this,arguments)),q<f&&(d=Y(f/w*U(h)),v=Y(f/k*U(h)),(o-=2*d)>q?(r+=d*=S?1:-1,i-=d):(o=0,r=i=(T+M)/2),(a-=2*v)>q?(e+=v*=S?1:-1,n-=v):(a=0,e=n=(T+M)/2)),c=k*z(e),f=k*U(e),h=w*z(i),d=w*U(i),q<s&&(p=k*z(n),g=k*U(n),m=w*z(r),y=w*U(r),A<V&&(b=function(t,e,n,r,i,o,a,s){var l=n-t,n=r-e,r=a-i;if(!((s=(a=s-o)*l-r*n)*s<q))return[t+(s=(r*(e-o)-a*(t-i))/s)*l,e+s*n]}(c,f,m,y,p,g,h,d))&&(v=c-b[0],T=f-b[1],M=p-b[0],A=g-b[1],A=1/U((1<(A=(v*M+T*A)/(H(v*v+T*T)*H(M*M+A*A)))?0:A<-1?V:Math.acos(A))/2),b=H(b[0]*b[0]+b[1]*b[1]),x=B(s,(w-b)/(A-1)),_=B(s,(k-b)/(1+A)))),q<a?q<_?(l=X(m,y,c,f,k,_,S),u=X(p,g,h,d,k,_,S),R.moveTo(l.cx+l.x01,l.cy+l.y01),_<s?R.arc(l.cx,l.cy,_,F(l.y01,l.x01),F(u.y01,u.x01),!S):(R.arc(l.cx,l.cy,_,F(l.y01,l.x01),F(l.y11,l.x11),!S),R.arc(0,0,k,F(l.cy+l.y11,l.cx+l.x11),F(u.cy+u.y11,u.cx+u.x11),!S),R.arc(u.cx,u.cy,_,F(u.y11,u.x11),F(u.y01,u.x01),!S))):(R.moveTo(c,f),R.arc(0,0,k,e,n,!S)):R.moveTo(c,f),q<w&&q<o?q<x?(l=X(h,d,p,g,w,-x,S),u=X(c,f,m,y,w,-x,S),R.lineTo(l.cx+l.x01,l.cy+l.y01),x<s?R.arc(l.cx,l.cy,x,F(l.y01,l.x01),F(u.y01,u.x01),!S):(R.arc(l.cx,l.cy,x,F(l.y01,l.x01),F(l.y11,l.x11),!S),R.arc(0,0,w,F(l.cy+l.y11,l.cx+l.x11),F(u.cy+u.y11,u.cx+u.x11),S),R.arc(u.cx,u.cy,x,F(u.y11,u.x11),F(u.y01,u.x01),!S))):R.arc(0,0,w,i,r,S):R.lineTo(h,d)):R.moveTo(0,0),R.closePath(),t)return R=null,t+""||null}return e.centroid=function(){var t=(+E.apply(this,arguments)+ +C.apply(this,arguments))/2,e=(+P.apply(this,arguments)+ +N.apply(this,arguments))/2-V/2;return[z(e)*t,U(e)*t]},e.innerRadius=function(t){return arguments.length?(E="function"==typeof t?t:x(+t),e):E},e.outerRadius=function(t){return arguments.length?(C="function"==typeof t?t:x(+t),e):C},e.cornerRadius=function(t){return arguments.length?(O="function"==typeof t?t:x(+t),e):O},e.padRadius=function(t){return arguments.length?(j=null==t?null:"function"==typeof t?t:x(+t),e):j},e.startAngle=function(t){return arguments.length?(P="function"==typeof t?t:x(+t),e):P},e.endAngle=function(t){return arguments.length?(N="function"==typeof t?t:x(+t),e):N},e.padAngle=function(t){return arguments.length?(L="function"==typeof t?t:x(+t),e):L},e.context=function(t){return arguments.length?(R=null==t?null:t,e):R},e},t.area=l,t.areaRadial=k,t.curveBasis=function(t){return new ut(t)},t.curveBasisClosed=function(t){return new ct(t)},t.curveBasisOpen=function(t){return new ft(t)},t.curveBundle=dt,t.curveCardinal=mt,t.curveCardinalClosed=vt,t.curveCardinalOpen=xt,t.curveCatmullRom=kt,t.curveCatmullRomClosed=Mt,t.curveCatmullRomOpen=Z,t.curveLinear=v,t.curveLinearClosed=function(t){return new St(t)},t.curveMonotoneX=function(t){return new Pt(t)},t.curveMonotoneY=function(t){return new Nt(t)},t.curveNatural=function(t){return new Rt(t)},t.curveStep=function(t){return new It(t,.5)},t.curveStepAfter=function(t){return new It(t,1)},t.curveStepBefore=function(t){return new It(t,0)},t.line=s,t.lineRadial=y,t.linkHorizontal=function(){return S(E)},t.linkRadial=function(){var t=S(O);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.linkVertical=function(){return S(C)},t.pie=function(){var p=f,g=u,m=null,y=x(0),v=x(W),b=x(0);function e(n){for(var t,e,r,i,o=(n=_(n)).length,a=0,s=new Array(o),l=new Array(o),u=+y.apply(this,arguments),c=Math.min(W,Math.max(-W,v.apply(this,arguments)-u)),f=Math.min(Math.abs(c)/o,b.apply(this,arguments)),h=f*(c<0?-1:1),d=0;d<o;++d)0<(i=l[s[d]=d]=+p(n[d],d,n))&&(a+=i);for(null!=g?s.sort(function(t,e){return g(l[t],l[e])}):null!=m&&s.sort(function(t,e){return m(n[t],n[e])}),d=0,e=a?(c-o*h)/a:0;d<o;++d,u=r)t=s[d],r=u+(0<(i=l[t])?i*e:0)+h,l[t]={data:n[t],index:d,value:i,startAngle:u,endAngle:r,padAngle:f};return l}return e.value=function(t){return arguments.length?(p="function"==typeof t?t:x(+t),e):p},e.sortValues=function(t){return arguments.length?(g=t,m=null,e):g},e.sort=function(t){return arguments.length?(m=t,g=null,e):m},e.startAngle=function(t){return arguments.length?(y="function"==typeof t?t:x(+t),e):y},e.endAngle=function(t){return arguments.length?(v="function"==typeof t?t:x(+t),e):v},e.padAngle=function(t){return arguments.length?(b="function"==typeof t?t:x(+t),e):b},e},t.pointRadial=T,t.radialArea=k,t.radialLine=y,t.stack=function(){var u=x([]),c=zt,f=Ft,h=Bt;function e(t){var e,n,r=Array.from(u.apply(this,arguments),Ut),i=r.length,o=-1,a=Wt(t);try{for(a.s();!(n=a.n()).done;){var s=n.value,l=0;for(++o;l<i;++l)(r[l][o]=[0,+h(s,r[l].key,o,t)]).data=s}}catch(t){a.e(t)}finally{a.f()}for(l=0,e=_(c(r));l<i;++l)r[e[l]].index=l;return f(r,e),r}return e.keys=function(t){return arguments.length?(u="function"==typeof t?t:x(Array.from(t)),e):u},e.value=function(t){return arguments.length?(h="function"==typeof t?t:x(+t),e):h},e.order=function(t){return arguments.length?(c=null==t?zt:"function"==typeof t?t:x(Array.from(t)),e):c},e.offset=function(t){return arguments.length?(f=null==t?Ft:t,e):f},e},t.stackOffsetDiverging=function(t,e){if(0<(s=t.length))for(var n,r,i,o,a,s,l=0,u=t[e[0]].length;l<u;++l)for(n=o=a=0;n<s;++n)0<(i=(r=t[e[n]][l])[1]-r[0])?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)},t.stackOffsetExpand=function(t,e){if(0<(r=t.length)){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}Ft(t,e)}},t.stackOffsetNone=Ft,t.stackOffsetSilhouette=function(t,e){if(0<(n=t.length)){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}Ft(t,e)}},t.stackOffsetWiggle=function(t,e){if(0<(i=t.length)&&0<(r=(n=t[e[0]]).length)){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,u=0;s<i;++s){for(var c=t[e[s]],f=c[a][1]||0,h=(f-(c[a-1][1]||0))/2,d=0;d<s;++d){var p=t[e[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}l+=f,u+=h*f}n[a-1][1]+=n[a-1][0]=o,l&&(o-=u/l)}n[a-1][1]+=n[a-1][0]=o,Ft(t,e)}},t.stackOrderAppearance=Ht,t.stackOrderAscending=Vt,t.stackOrderDescending=function(t){return Vt(t).reverse()},t.stackOrderInsideOut=function(t){for(var e,n=t.length,r=t.map(Gt),i=Ht(t),o=0,a=0,s=[],l=[],u=0;u<n;++u)e=i[u],o<a?(o+=r[e],s.push(e)):(a+=r[e],l.push(e));return l.reverse().concat(s)},t.stackOrderNone=zt,t.stackOrderReverse=function(t){return zt(t).reverse()},t.symbol=function(e,n){var r=null;function i(){var t;if(r=r||(t=D.path()),e.apply(this,arguments).draw(r,+n.apply(this,arguments)),t)return r=null,t+""||null}return e="function"==typeof e?e:x(e||j),n="function"==typeof n?n:x(void 0===n?64:+n),i.type=function(t){return arguments.length?(e="function"==typeof t?t:x(t),i):e},i.size=function(t){return arguments.length?(n="function"==typeof t?t:x(+t),i):n},i.context=function(t){return arguments.length?(r=null==t?null:t,i):r},i},t.symbolCircle=j,t.symbolCross=P,t.symbolDiamond=R,t.symbolSquare=J,t.symbolStar=K,t.symbolTriangle=et,t.symbolWye=ot,t.symbols=at,Object.defineProperty(t,"__esModule",{value:!0})},"object"===((r=void 0)===n?"undefined":Yt(n))&&void 0!==e?i(n,t("d3-path")):"function"==typeof define&&define.amd?define(["exports","d3-path"],i):i((r=r||self).d3=r.d3||{},r.d3)},{"d3-path":428}],442:[function(t,e,n){"use strict";var v=t("incremental-convex-hull"),b=t("uniq");function x(t,e){this.point=t,this.index=e}function _(t,e){for(var n=t.point,r=e.point,i=n.length,o=0;o<i;++o){var a=r[o]-n[o];if(a)return a}return 0}e.exports=function(t,e){var n=t.length;if(0===n)return[];var i=t[0].length;if(i<1)return[];if(1===i)return function(t,e,n){if(1===t)return n?[[-1,0]]:[];var r=e.map(function(t,e){return[t[0],e]});r.sort(function(t,e){return t[0]-e[0]});for(var i=new Array(t-1),o=1;o<t;++o){var a=r[o-1],s=r[o];i[o-1]=[a[1],s[1]]}n&&i.push([-1,i[0][1]],[i[t-1][1],-1]);return i}(n,t,e);for(var r=new Array(n),o=1,a=0;a<n;++a){for(var s=t[a],l=new Array(i+1),u=0,c=0;c<i;++c){var f=s[c];l[c]=f,u+=f*f}l[i]=u,r[a]=new x(l,a),o=Math.max(u,o)}b(r,_),n=r.length;for(var h=new Array(n+i+1),d=new Array(n+i+1),p=(i+1)*(i+1)*o,g=new Array(i+1),a=0;a<=i;++a)g[a]=0;g[i]=p,h[0]=g.slice(),d[0]=-1;for(a=0;a<=i;++a)(l=g.slice())[a]=1,h[a+1]=l,d[a+1]=-1;for(a=0;a<n;++a){var m=r[a];h[a+i+1]=m.point,d[a+i+1]=m.index}var y=v(h,!1);y=e?y.filter(function(t){for(var e=0,n=0;n<=i;++n){var r=d[t[n]];if(r<0&&2<=++e)return!1;t[n]=r}return!0}):y.filter(function(t){for(var e=0;e<=i;++e){var n=d[t[e]];if(n<0)return!1;t[e]=n}return!0});if(1&i)for(a=0;a<y.length;++a){l=(m=y[a])[0];m[0]=m[1],m[1]=l}return y}},{"incremental-convex-hull":549,uniq:1013}],443:[function(t,o,e){(function(e){(function(){"use strict";var n,r,i,t=!1;"undefined"!=typeof Float64Array&&(n=new Float64Array(1),r=new Uint32Array(n.buffer),n[0]=1,t=!0,1072693248===r[1]?(o.exports=function(t){return n[0]=t,[r[0],r[1]]},o.exports.pack=function(t,e){return r[0]=t,r[1]=e,n[0]},o.exports.lo=function(t){return n[0]=t,r[0]},o.exports.hi=function(t){return n[0]=t,r[1]}):1072693248===r[0]?(o.exports=function(t){return n[0]=t,[r[1],r[0]]},o.exports.pack=function(t,e){return r[1]=t,r[0]=e,n[0]},o.exports.lo=function(t){return n[0]=t,r[1]},o.exports.hi=function(t){return n[0]=t,r[0]}):t=!1),t||(i=new e(8),o.exports=function(t){return i.writeDoubleLE(t,0,!0),[i.readUInt32LE(0,!0),i.readUInt32LE(4,!0)]},o.exports.pack=function(t,e){return i.writeUInt32LE(t,0,!0),i.writeUInt32LE(e,4,!0),i.readDoubleLE(0,!0)},o.exports.lo=function(t){return i.writeDoubleLE(t,0,!0),i.readUInt32LE(0,!0)},o.exports.hi=function(t){return i.writeDoubleLE(t,0,!0),i.readUInt32LE(4,!0)}),o.exports.sign=function(t){return o.exports.hi(t)>>>31},o.exports.exponent=function(t){return(o.exports.hi(t)<<1>>>21)-1023},o.exports.fraction=function(t){var e=o.exports.lo(t),n=o.exports.hi(t),t=1048575&n;return 2146435072&n&&(t+=1<<20),[e,t]},o.exports.denormalized=function(t){return!(2146435072&o.exports.hi(t))}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:39}],444:[function(t,e,n){"use strict";e.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},{}],445:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.exports=function(t,e){switch(void 0===e&&(e=0),r(t)){case"number":if(0<t)return function(t,e){for(var n=new Array(t),r=0;r<t;++r)n[r]=e;return n}(0|t,e);break;case"object":if("number"==typeof t.length)return function t(e,n,r){var i=0|e[r];if(i<=0)return[];var o,a=new Array(i);if(r===e.length-1)for(o=0;o<i;++o)a[o]=n;else for(o=0;o<i;++o)a[o]=t(e,n,r+1);return a}(t,e,0)}return[]}},{}],446:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.length;if("number"!=typeof e){for(var r=e=0;r<n;++r){var i=t[r];e=Math.max(e,i[0],i[1])}e=1+(0|e)}e|=0;for(var o=new Array(e),r=0;r<e;++r)o[r]=[];for(r=0;r<n;++r){i=t[r];o[i[0]].push(i[1]),o[i[1]].push(i[0])}for(var a=0;a<e;++a)s(o[a],function(t,e){return t-e});return o};var s=t("uniq")},{uniq:1013}],447:[function(q,e,n){(function(U,H){(function(){"use strict";function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var t;t=function(){function l(t){return"function"==typeof t}var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=0,e=void 0,i=void 0,a=function(t,e){f[r]=t,f[r+1]=e,2===(r+=2)&&(i?i(h):y())};var t="undefined"!=typeof window?window:void 0,o=t||{},s=o.MutationObserver||o.WebKitMutationObserver,u="undefined"==typeof self&&void 0!==U&&"[object process]"==={}.toString.call(U),o="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function c(){var t=setTimeout;return function(){return t(h,1)}}var f=new Array(1e3);function h(){for(var t=0;t<r;t+=2)(0,f[t])(f[t+1]),f[t]=void 0,f[t+1]=void 0;r=0}var d,p,g,m,y=void 0;function v(t,e){var n=this,r=new this.constructor(_);void 0===r[x]&&R(r);var i,o=n._state;return o?(i=arguments[o-1],a(function(){return N(o,r,i,n._result)})):j(n,r,t,e),r}function b(t){if(t&&"object"===B(t)&&t.constructor===this)return t;var e=new this(_);return S(e,t),e}y=u?function(){return U.nextTick(h)}:s?(p=0,g=new s(h),m=document.createTextNode(""),g.observe(m,{characterData:!0}),function(){m.data=p=++p%2}):o?((d=new MessageChannel).port1.onmessage=h,function(){return d.port2.postMessage(0)}):(void 0===t&&"function"==typeof q?function(){try{var t=Function("return this")().require("vertx");return void 0!==(e=t.runOnLoop||t.runOnContext)?function(){e(h)}:c()}catch(t){return c()}}:c)();var x=Math.random().toString(36).substring(2);function _(){}var w=void 0,k=1,T=2;function M(t,r,i){a(function(e){var n=!1,t=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(i,r,function(t){n||(n=!0,(r!==t?S:C)(e,t))},function(t){n||(n=!0,O(e,t))},e._label);!n&&t&&(n=!0,O(e,t))},t)}function A(t,e,n){var r,i;e.constructor===t.constructor&&n===v&&e.constructor.resolve===b?(r=t,(i=e)._state===k?C(r,i._result):i._state===T?O(r,i._result):j(i,void 0,function(t){return S(r,t)},function(t){return O(r,t)})):void 0!==n&&l(n)?M(t,e,n):C(t,e)}function S(e,t){if(e===t)O(e,new TypeError("You cannot resolve a promise with itself"));else if(i=B(r=t),null===r||"object"!==i&&"function"!==i)C(e,t);else{var n=void 0;try{n=t.then}catch(t){return void O(e,t)}A(e,t,n)}var r,i}function E(t){t._onerror&&t._onerror(t._result),P(t)}function C(t,e){t._state===w&&(t._result=e,t._state=k,0!==t._subscribers.length&&a(P,t))}function O(t,e){t._state===w&&(t._state=T,t._result=e,a(E,t))}function j(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+k]=n,i[o+T]=r,0===o&&t._state&&a(P,t)}function P(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,i=void 0,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?N(n,r,i,o):i(o);t._subscribers.length=0}}function N(t,e,n,r){var i=l(n),o=void 0,a=void 0,s=!0;if(i){try{o=n(r)}catch(t){s=!1,a=t}if(e===o)return void O(e,new TypeError("A promises callback cannot return that same promise."))}else o=r;e._state!==w||(i&&s?S(e,o):!1===s?O(e,a):t===k?C(e,o):t===T&&O(e,o))}var L=0;function R(t){t[x]=L++,t._state=void 0,t._result=void 0,t._subscribers=[]}var D=(I.prototype._enumerate=function(t){for(var e=0;this._state===w&&e<t.length;e++)this._eachEntry(t[e],e)},I.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===b){var i,o=void 0,a=void 0,s=!1;try{o=e.then}catch(t){s=!0,a=t}o===v&&e._state!==w?this._settledAt(e._state,t,e._result):"function"!=typeof o?(this._remaining--,this._result[t]=e):n===F?(i=new n(_),s?O(i,a):A(i,e,o),this._willSettleAt(i,t)):this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},I.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===w&&(this._remaining--,t===T?O(r,n):this._result[e]=n),0===this._remaining&&C(r,this._result)},I.prototype._willSettleAt=function(t,e){var n=this;j(t,void 0,function(t){return n._settledAt(k,e,t)},function(t){return n._settledAt(T,e,t)})},I);function I(t,e){this._instanceConstructor=t,this.promise=new t(_),this.promise[x]||R(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&C(this.promise,this._result))):O(this.promise,new Error("Array Methods must be provided an Array"))}var F=(z.prototype.catch=function(t){return this.then(null,t)},z.prototype.finally=function(e){var n=this.constructor;return l(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},z);function z(t){this[x]=L++,this._result=this._state=void 0,this._subscribers=[],_!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof z?function(e,t){try{t(function(t){S(e,t)},function(t){O(e,t)})}catch(t){O(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return F.prototype.then=v,F.all=function(t){return new D(this,t).promise},F.race=function(i){var o=this;return n(i)?new o(function(t,e){for(var n=i.length,r=0;r<n;r++)o.resolve(i[r]).then(t,e)}):new o(function(t,e){return e(new TypeError("You must pass an array to race."))})},F.resolve=b,F.reject=function(t){var e=new this(_);return O(e,t),e},F._setScheduler=function(t){i=t},F._setAsap=function(t){a=t},F._asap=a,F.polyfill=function(){var t=void 0;if(void 0!==H)t=H;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=F},F.Promise=F},"object"===(void 0===n?"undefined":B(n))&&void 0!==e?e.exports=t():"function"==typeof define&&define.amd?define(t):(void 0).ES6Promise=t()}).call(this)}).call(this,q("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:972}],448:[function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=Object.create||function(t){function e(){}return e.prototype=t,new e},l=Object.keys||function(t){var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return e},r=Function.prototype.bind||function(t){var e=this;return function(){return e.apply(t,arguments)}};function i(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=s(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((e.exports=i).EventEmitter=i).prototype._events=void 0,i.prototype._maxListeners=void 0;var o,u=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),o=0===c.x}catch(t){o=!1}function f(t){return void 0===t._maxListeners?i.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var i,o;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');return(i=t._events)?(i.newListener&&(t.emit("newListener",e,n.listener||n),i=t._events),o=i[e]):(i=t._events=s(null),t._eventsCount=0),o?("function"==typeof o?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),o.warned||(r=f(t))&&0<r&&o.length>r&&(o.warned=!0,(r=new Error("Possible EventEmitter memory leak detected. "+o.length+' "'+String(e)+'" listeners added. Use emitter.setMaxListeners() to increase limit.')).name="MaxListenersExceededWarning",r.emitter=t,r.type=e,r.count=o.length,"object"===("undefined"==typeof console?"undefined":a(console))&&console.warn&&console.warn("%s: %s",r.name,r.message))):(o=i[e]=n,++t._eventsCount),t}function d(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];this.listener.apply(this.target,t)}}function p(t,e,n){t={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},e=r.call(d,t);return e.listener=n,t.wrapFn=e}function g(t,e,n){t=t._events;if(!t)return[];e=t[e];return e?"function"==typeof e?n?[e.listener||e]:[e]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(e):y(e,e.length):[]}function m(t){var e=this._events;if(e){t=e[t];if("function"==typeof t)return 1;if(t)return t.length}return 0}function y(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}o?Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||t!=t)throw new TypeError('"defaultMaxListeners" must be a positive number');u=t}}):i.defaultMaxListeners=u,i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},i.prototype.getMaxListeners=function(){return f(this)},i.prototype.emit=function(t,e,n,r){var i,o,a,s,l="error"===t,u=this._events;if(u)l=l&&null==u.error;else if(!l)return!1;if(l){if(1<arguments.length&&(i=e),i instanceof Error)throw i;l=new Error('Unhandled "error" event. ('+i+")");throw l.context=i,l}if(!(o=u[t]))return!1;var c,f="function"==typeof o;switch(c=arguments.length){case 1:!function(t,e){if(f)t.call(e);else for(var n=t.length,r=y(t,n),i=0;i<n;++i)r[i].call(e)}(o,this);break;case 2:!function(t,e,n){if(f)t.call(e,n);else for(var r=t.length,i=y(t,r),o=0;o<r;++o)i[o].call(e,n)}(o,this,e);break;case 3:!function(t,e,n,r){if(f)t.call(e,n,r);else for(var i=t.length,o=y(t,i),a=0;a<i;++a)o[a].call(e,n,r)}(o,this,e,n);break;case 4:!function(t,e,n,r,i){if(f)t.call(e,n,r,i);else for(var o=t.length,a=y(t,o),s=0;s<o;++s)a[s].call(e,n,r,i)}(o,this,e,n,r);break;default:for(a=new Array(c-1),s=1;s<c;s++)a[s-1]=arguments[s];!function(t,e,n){if(f)t.apply(e,n);else for(var r=t.length,i=y(t,r),o=0;o<r;++o)i[o].apply(e,n)}(o,this,a)}return!0},i.prototype.on=i.prototype.addListener=function(t,e){return h(this,t,e,!1)},i.prototype.prependListener=function(t,e){return h(this,t,e,!0)},i.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,p(this,t,e)),this},i.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,p(this,t,e)),this},i.prototype.removeListener=function(t,e){var n,r,i,o,a;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=s(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;0<=o;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t){for(var e=i,n=e+1,r=t.length;n<r;e+=1,n+=1)t[e]=t[n];t.pop()}(n),1===n.length&&(r[t]=n[0]),r.removeListener&&this.emit("removeListener",t,a||e)}return this},i.prototype.removeAllListeners=function(t){var e,n=this._events;if(!n)return this;if(!n.removeListener)return 0===arguments.length?(this._events=s(null),this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=s(null):delete n[t]),this;if(0===arguments.length){for(var r,i=l(n),o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=s(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)for(o=e.length-1;0<=o;o--)this.removeListener(t,e[o]);return this},i.prototype.listeners=function(t){return g(this,t,!0)},i.prototype.rawListeners=function(t){return g(this,t,!1)},i.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):m.call(t,e)},i.prototype.listenerCount=m,i.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],449:[function(t,e,n){"use strict";e.exports=function(t,e,n){e=e||0,n=n||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[e*t[12]+t[8],e*t[13]+t[9],e*t[14]+t[10],e*t[15]+t[11]],[n*t[12]-t[8],n*t[13]-t[9],n*t[14]-t[10],n*t[15]-t[11]]]}},{}],450:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=t("is-string-blank");e.exports=function(t){var e=r(t);if("string"===e){var n=t;if(0===(t=+t)&&i(n))return!1}else if("number"!==e)return!1;return t-t<1}},{"is-string-blank":557}],451:[function(t,e,n){"use strict";e.exports=function(t,e,n){switch(arguments.length){case 0:return new i([0],[0],0);case 1:return"number"!=typeof t?new i(t,o(t.length),0):new i(r=o(t),r,0);case 2:if("number"==typeof e){var r=o(t.length);return new i(t,r,+e)}n=0;case 3:if(t.length!==e.length)throw new Error("state and velocity lengths must match");return new i(t,e,n)}};var x=t("cubic-hermite"),_=t("binary-search-bounds");function w(t,e,n){return Math.min(e,Math.max(t,n))}function i(t,e,n){this.dimension=t.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var r=0;r<this.dimension;++r)this.bounds[0][r]=-1/0,this.bounds[1][r]=1/0;this._state=t.slice().reverse(),this._velocity=e.slice().reverse(),this._time=[n],this._scratch=[t.slice(),t.slice(),t.slice(),t.slice(),t.slice()]}t=i.prototype;function o(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}t.flush=function(t){t=_.gt(this._time,t)-1;t<=0||(this._time.splice(0,t),this._state.splice(0,t*this.dimension),this._velocity.splice(0,t*this.dimension))},t.curve=function(t){var e=this._time,n=e.length,r=_.le(e,t),i=this._scratch[0],o=this._state,a=this._velocity,s=this.dimension,l=this.bounds;if(r<0)for(var u=s-1,c=0;c<s;++c,--u)i[c]=o[u];else if(n-1<=r)for(var u=o.length-1,f=t-e[n-1],c=0;c<s;++c,--u)i[c]=o[u]+f*a[u];else{for(var u=s*(r+1)-1,n=e[r],h=e[r+1]-n||1,d=this._scratch[1],p=this._scratch[2],g=this._scratch[3],m=this._scratch[4],y=!0,c=0;c<s;++c,--u)d[c]=o[u],g[c]=a[u]*h,p[c]=o[u+s],m[c]=a[u+s]*h,y=y&&d[c]===p[c]&&g[c]===m[c]&&0===g[c];if(y)for(c=0;c<s;++c)i[c]=d[c];else x(d,g,p,m,(t-n)/h,i)}for(var v=l[0],b=l[1],c=0;c<s;++c)i[c]=w(v[c],b[c],i[c]);return i},t.dcurve=function(t){var e=this._time,n=e.length,r=_.le(e,t),i=this._scratch[0],o=this._state,a=this._velocity,s=this.dimension;if(n-1<=r)for(var l=o.length-1,u=(e[n-1],0);u<s;++u,--l)i[u]=a[l];else{for(var l=s*(r+1)-1,n=e[r],c=e[r+1]-n||1,f=this._scratch[1],h=this._scratch[2],d=this._scratch[3],p=this._scratch[4],g=!0,u=0;u<s;++u,--l)f[u]=o[l],d[u]=a[l]*c,h[u]=o[l+s],p[u]=a[l+s]*c,g=g&&f[u]===h[u]&&d[u]===p[u]&&0===d[u];if(g)for(u=0;u<s;++u)i[u]=0;else{x.derivative(f,d,h,p,(t-n)/c,i);for(u=0;u<s;++u)i[u]/=c}}return i},t.lastT=function(){var t=this._time;return t[t.length-1]},t.stable=function(){for(var t=this._velocity,e=t.length,n=this.dimension-1;0<=n;--n)if(t[--e])return!1;return!0},t.jump=function(t){var e=this.lastT(),n=this.dimension;if(!(t<e||arguments.length!==n+1)){var r=this._state,i=this._velocity,o=r.length-this.dimension,a=this.bounds,s=a[0],l=a[1];this._time.push(e,t);for(var u=0;u<2;++u)for(var c=0;c<n;++c)r.push(r[o++]),i.push(0);this._time.push(t);for(c=n;0<c;--c)r.push(w(s[c-1],l[c-1],arguments[c])),i.push(0)}},t.push=function(t){var e=this.lastT(),n=this.dimension;if(!(t<e||arguments.length!==n+1)){var r=this._state,i=this._velocity,o=r.length-this.dimension,a=t-e,e=this.bounds,s=e[0],l=e[1],u=1e-6<a?1/a:0;this._time.push(t);for(var c=n;0<c;--c){var f=w(s[c-1],l[c-1],arguments[c]);r.push(f),i.push((f-r[o++])*u)}}},t.set=function(t){var e=this.dimension;if(!(t<this.lastT()||arguments.length!==e+1)){var n=this._state,r=this._velocity,i=this.bounds,o=i[0],a=i[1];this._time.push(t);for(var s=e;0<s;--s)n.push(w(o[s-1],a[s-1],arguments[s])),r.push(0)}},t.move=function(t){var e=this.lastT(),n=this.dimension;if(!(t<=e||arguments.length!==n+1)){var r=this._state,i=this._velocity,o=r.length-this.dimension,a=this.bounds,s=a[0],l=a[1],e=t-e,u=1e-6<e?1/e:0;this._time.push(t);for(var c=n;0<c;--c){var f=arguments[c];r.push(w(s[c-1],l[c-1],r[o++]+f)),i.push(f*u)}}},t.idle=function(t){var e=this.lastT();if(!(t<e)){var n=this.dimension,r=this._state,i=this._velocity,o=r.length-n,a=this.bounds,s=a[0],l=a[1],u=t-e;this._time.push(t);for(var c=n-1;0<=c;--c)r.push(w(s[c],l[c],r[o]+u*i[o])),i.push(0),o+=1}}},{"binary-search-bounds":452,"cubic-hermite":407}],452:[function(t,e,n){"use strict";function i(t,e,n,r,i,o){i=["function ",t,"(a,l,h,",r.join(","),"){",o?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",i?".get(m)":"[m]"];return o?e.indexOf("c")<0?i.push(";if(x===y){return m}else if(x<=y){"):i.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):i.push(";if(",e,"){i=m;"),n?i.push("l=m+1}else{h=m-1}"):i.push("h=m-1}else{l=m+1}"),i.push("}"),o?i.push("return -1};"):i.push("return i};"),i.join("")}function r(t,e,n,r){return new Function([i("A","x"+t+"y",e,["y"],!1,r),i("B","x"+t+"y",e,["y"],!0,r),i("P","c(x,y)"+t+"0",e,["y","c"],!1,r),i("Q","c(x,y)"+t+"0",e,["y","c"],!0,r),"function dispatchBsearch",n,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",n].join(""))()}e.exports={ge:r(">=",!1,"GE"),gt:r(">",!1,"GT"),lt:r("<",!0,"LT"),le:r("<=",!0,"LE"),eq:r("-",!0,"EQ",!0)}},{}],453:[function(t,e,n){"use strict";e.exports=function(t){return new g(t||r,null)};function h(t,e,n,r,i,o){this._color=t,this.key=e,this.value=n,this.left=r,this.right=i,this._count=o}function s(t){return new h(t._color,t.key,t.value,t.left,t.right,t._count)}function d(t,e){return new h(t,e.key,e.value,e.left,e.right,e._count)}function p(t){t._count=1+(t.left?t.left._count:0)+(t.right?t.right._count:0)}function g(t,e){this._compare=t,this.root=e}e=g.prototype;function a(t,e){this.tree=t,this._stack=e}Object.defineProperty(e,"keys",{get:function(){var n=[];return this.forEach(function(t,e){n.push(t)}),n}}),Object.defineProperty(e,"values",{get:function(){var n=[];return this.forEach(function(t,e){n.push(e)}),n}}),Object.defineProperty(e,"length",{get:function(){return this.root?this.root._count:0}}),e.insert=function(t,e){for(var n=this._compare,r=this.root,i=[],o=[];r;){var a=n(t,r.key);i.push(r),o.push(a),r=a<=0?r.left:r.right}i.push(new h(0,t,e,null,null,1));for(var s=i.length-2;0<=s;--s){r=i[s];o[s]<=0?i[s]=new h(r._color,r.key,r.value,i[s+1],r.right,r._count+1):i[s]=new h(r._color,r.key,r.value,r.left,i[s+1],r._count+1)}for(s=i.length-1;1<s;--s){var l=i[s-1],r=i[s];if(1===l._color||1===r._color)break;var u,c,f=i[s-2];if(f.left===l)if(l.left===r){if(!(u=f.right)||0!==u._color){f._color=0,f.left=l.right,l._color=1,l.right=f,i[s-2]=l,i[s-1]=r,p(f),p(l),3<=s&&((c=i[s-3]).left===f?c.left=l:c.right=l);break}l._color=1,f.right=d(1,u),f._color=0,--s}else{if(!(u=f.right)||0!==u._color){l.right=r.left,f._color=0,f.left=r.right,r._color=1,r.left=l,r.right=f,i[s-2]=r,i[s-1]=l,p(f),p(l),p(r),3<=s&&((c=i[s-3]).left===f?c.left=r:c.right=r);break}l._color=1,f.right=d(1,u),f._color=0,--s}else if(l.right===r){if(!(u=f.left)||0!==u._color){f._color=0,f.right=l.left,l._color=1,l.left=f,i[s-2]=l,i[s-1]=r,p(f),p(l),3<=s&&((c=i[s-3]).right===f?c.right=l:c.left=l);break}l._color=1,f.left=d(1,u),f._color=0,--s}else{if(!(u=f.left)||0!==u._color){l.left=r.right,f._color=0,f.right=r.left,r._color=1,r.right=l,r.left=f,i[s-2]=r,i[s-1]=l,p(f),p(l),p(r),3<=s&&((c=i[s-3]).right===f?c.right=r:c.left=r);break}l._color=1,f.left=d(1,u),f._color=0,--s}}return i[0]._color=1,new g(n,i[0])},e.forEach=function(t,e,n){if(this.root)switch(arguments.length){case 1:return function t(e,n){var r;if(n.left&&(r=t(e,n.left)))return r;return(r=e(n.key,n.value))?r:n.right?t(e,n.right):void 0}(t,this.root);case 2:return function t(e,n,r,i){var o;if(n(e,i.key)<=0){if(i.left&&(o=t(e,n,r,i.left)))return o;if(o=r(i.key,i.value))return o}if(i.right)return t(e,n,r,i.right)}(e,this._compare,t,this.root);case 3:return 0<=this._compare(e,n)?void 0:function t(e,n,r,i,o){var a,s=r(e,o.key),l=r(n,o.key);if(s<=0){if(o.left&&(a=t(e,n,r,i,o.left)))return a;if(0<l&&(a=i(o.key,o.value)))return a}if(0<l&&o.right)return t(e,n,r,i,o.right)}(e,n,this._compare,t,this.root)}},Object.defineProperty(e,"begin",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.left;return new a(this,t)}}),Object.defineProperty(e,"end",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.right;return new a(this,t)}}),e.at=function(t){if(t<0)return new a(this,[]);for(var e=this.root,n=[];;){if(n.push(e),e.left){if(t<e.left._count){e=e.left;continue}t-=e.left._count}if(!t)return new a(this,n);if(--t,!e.right)break;if(t>=e.right._count)break;e=e.right}return new a(this,[])},e.ge=function(t){for(var e=this._compare,n=this.root,r=[],i=0;n;){var o=e(t,n.key);r.push(n),o<=0&&(i=r.length),n=o<=0?n.left:n.right}return r.length=i,new a(this,r)},e.gt=function(t){for(var e=this._compare,n=this.root,r=[],i=0;n;){var o=e(t,n.key);r.push(n),o<0&&(i=r.length),n=o<0?n.left:n.right}return r.length=i,new a(this,r)},e.lt=function(t){for(var e=this._compare,n=this.root,r=[],i=0;n;){var o=e(t,n.key);r.push(n),0<o&&(i=r.length),n=o<=0?n.left:n.right}return r.length=i,new a(this,r)},e.le=function(t){for(var e=this._compare,n=this.root,r=[],i=0;n;){var o=e(t,n.key);r.push(n),0<=o&&(i=r.length),n=o<0?n.left:n.right}return r.length=i,new a(this,r)},e.find=function(t){for(var e=this._compare,n=this.root,r=[];n;){var i=e(t,n.key);if(r.push(n),0===i)return new a(this,r);n=i<=0?n.left:n.right}return new a(this,[])},e.remove=function(t){t=this.find(t);return t?t.remove():this},e.get=function(t){for(var e=this._compare,n=this.root;n;){var r=e(t,n.key);if(0===r)return n.value;n=r<=0?n.left:n.right}};e=a.prototype;function l(t,e){t.key=e.key,t.value=e.value,t.left=e.left,t.right=e.right,t._color=e._color,t._count=e._count}function r(t,e){return t<e?-1:e<t?1:0}Object.defineProperty(e,"valid",{get:function(){return 0<this._stack.length}}),Object.defineProperty(e,"node",{get:function(){return 0<this._stack.length?this._stack[this._stack.length-1]:null},enumerable:!0}),e.clone=function(){return new a(this.tree,this._stack.slice())},e.remove=function(){var t=this._stack;if(0===t.length)return this.tree;var e=new Array(t.length),n=t[t.length-1];e[e.length-1]=new h(n._color,n.key,n.value,n.left,n.right,n._count);for(var r=t.length-2;0<=r;--r)(n=t[r]).left===t[r+1]?e[r]=new h(n._color,n.key,n.value,e[r+1],n.right,n._count):e[r]=new h(n._color,n.key,n.value,n.left,e[r+1],n._count);if((n=e[e.length-1]).left&&n.right){var i=e.length;for(n=n.left;n.right;)e.push(n),n=n.right;var o=e[i-1];e.push(new h(n._color,o.key,o.value,n.left,n.right,n._count)),e[i-1].key=n.key,e[i-1].value=n.value;for(r=e.length-2;i<=r;--r)n=e[r],e[r]=new h(n._color,n.key,n.value,n.left,e[r+1],n._count);e[i-1].left=e[i]}if(0===(n=e[e.length-1])._color){var a=e[e.length-2];a.left===n?a.left=null:a.right===n&&(a.right=null),e.pop();for(r=0;r<e.length;++r)e[r]._count--;return new g(this.tree._compare,e[0])}if(n.left||n.right){n.left?l(n,n.left):n.right&&l(n,n.right),n._color=1;for(r=0;r<e.length-1;++r)e[r]._count--;return new g(this.tree._compare,e[0])}if(1===e.length)return new g(this.tree._compare,null);for(r=0;r<e.length;++r)e[r]._count--;a=e[e.length-2];return function(t){for(var e,n,r=t.length-1;0<=r;--r){if(e=t[r],0===r)return e._color=1;if((n=t[r-1]).left===e){if((o=n.right).right&&0===o.right._color){var i,o,a=(o=n.right=s(o)).right=s(o.right);return n.right=o.left,o.left=n,o.right=a,o._color=n._color,e._color=1,n._color=1,a._color=1,p(n),p(o),1<r&&((i=t[r-2]).left===n?i.left=o:i.right=o),t[r-1]=o}if(o.left&&0===o.left._color)return a=(o=n.right=s(o)).left=s(o.left),n.right=a.left,o.left=a.right,a.left=n,a.right=o,a._color=n._color,n._color=1,o._color=1,e._color=1,p(n),p(o),p(a),1<r&&((i=t[r-2]).left===n?i.left=a:i.right=a),t[r-1]=a;if(1!==o._color)o=s(o),n.right=o.left,o.left=n,o._color=n._color,n._color=0,p(n),p(o),1<r&&((i=t[r-2]).left===n?i.left=o:i.right=o),t[r-1]=o,t[r]=n,r+1<t.length?t[r+1]=e:t.push(e),r+=2;else{if(0===n._color)return n._color=1,n.right=d(0,o);n.right=d(0,o)}}else{if(o=n.left,o.left&&0===o.left._color)return a=(o=n.left=s(o)).left=s(o.left),n.left=o.right,o.right=n,o.left=a,o._color=n._color,e._color=1,n._color=1,a._color=1,p(n),p(o),1<r&&((i=t[r-2]).right===n?i.right=o:i.left=o),t[r-1]=o;if(o.right&&0===o.right._color)return a=(o=n.left=s(o)).right=s(o.right),n.left=a.right,o.right=a.left,a.right=n,a.left=o,a._color=n._color,n._color=1,o._color=1,e._color=1,p(n),p(o),p(a),1<r&&((i=t[r-2]).right===n?i.right=a:i.left=a),t[r-1]=a;if(1!==o._color)o=s(o),n.left=o.right,o.right=n,o._color=n._color,n._color=0,p(n),p(o),1<r&&((i=t[r-2]).right===n?i.right=o:i.left=o),t[r-1]=o,t[r]=n,r+1<t.length?t[r+1]=e:t.push(e),r+=2;else{if(0===n._color)return n._color=1,n.left=d(0,o);n.left=d(0,o)}}}}(e),a.left===n?a.left=null:a.right=null,new g(this.tree._compare,e[0])},Object.defineProperty(e,"key",{get:function(){if(0<this._stack.length)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(e,"value",{get:function(){if(0<this._stack.length)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(e,"index",{get:function(){var t=0,e=this._stack;if(0===e.length){var n=this.tree.root;return n?n._count:0}e[e.length-1].left&&(t=e[e.length-1].left._count);for(var r=e.length-2;0<=r;--r)e[r+1]===e[r].right&&(++t,e[r].left&&(t+=e[r].left._count));return t},enumerable:!0}),e.next=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.right)for(e=e.right;e;)t.push(e),e=e.left;else for(t.pop();0<t.length&&t[t.length-1].right===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(e,"hasNext",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].right)return!0;for(var e=t.length-1;0<e;--e)if(t[e-1].left===t[e])return!0;return!1}}),e.update=function(t){var e=this._stack;if(0===e.length)throw new Error("Can't update empty node!");var n=new Array(e.length),r=e[e.length-1];n[n.length-1]=new h(r._color,r.key,t,r.left,r.right,r._count);for(var i=e.length-2;0<=i;--i)(r=e[i]).left===e[i+1]?n[i]=new h(r._color,r.key,r.value,n[i+1],r.right,r._count):n[i]=new h(r._color,r.key,r.value,r.left,n[i+1],r._count);return new g(this.tree._compare,n[0])},e.prev=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.left)for(e=e.left;e;)t.push(e),e=e.right;else for(t.pop();0<t.length&&t[t.length-1].left===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(e,"hasPrev",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].left)return!0;for(var e=t.length-1;0<e;--e)if(t[e-1].right===t[e])return!0;return!1}})},{}],454:[function(t,e,n){"use strict";var o=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],i=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function a(t){if(t<0)return Number("0/0");for(var e=i[0],n=i.length-1;0<n;--n)e+=i[n]/(t+n);var r=t+607/128+.5;return.5*Math.log(2*Math.PI)+(t+.5)*Math.log(r)-r+Math.log(e)-Math.log(t)}e.exports=function t(e){if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*t(1-e));if(100<e)return Math.exp(a(e));--e;for(var n=o[0],r=1;r<9;r++)n+=o[r]/(e+r);var i=e+7+.5;return Math.sqrt(2*Math.PI)*Math.pow(i,e+.5)*Math.exp(-i)*n},e.exports.log=a},{}],455:[function(t,e,n){"use strict";e.exports=function(t,e){if("string"!=typeof t)throw new TypeError("must specify type string");if(e=e||{},"undefined"==typeof document&&!e.canvas)return null;var n=e.canvas||document.createElement("canvas");"number"==typeof e.width&&(n.width=e.width);"number"==typeof e.height&&(n.height=e.height);var r,i=e;try{var o=[t];0===t.indexOf("webgl")&&o.push("experimental-"+t);for(var a=0;a<o.length;a++)if(r=n.getContext(o[a],i))return r}catch(t){r=null}return r||null}},{}],456:[function(t,e,n){"use strict";e.exports=function(t,e){t=new i(t);return t.update(e),t};var d=t("./lib/text.js"),p=t("./lib/lines.js"),r=t("./lib/background.js"),F=t("./lib/cube.js"),g=t("./lib/ticks.js"),z=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function B(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function i(t){this.gl=t,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=r(t)}t=i.prototype;function o(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}t.update=function(s){function t(t,e,n){if(n in s){var r,i=s[n],o=this[n];(t?Array.isArray(i)&&Array.isArray(i[0]):Array.isArray(i))?this[n]=r=[e(i[0]),e(i[1]),e(i[2])]:this[n]=r=[e(i),e(i),e(i)];for(var a=0;a<3;++a)if(r[a]!==o[a])return!0}return!1}s=s||{};var e,n=t.bind(this,!1,Number),r=t.bind(this,!1,Boolean),i=t.bind(this,!1,String),o=t.bind(this,!0,function(t){if(Array.isArray(t)){if(3===t.length)return[+t[0],+t[1],+t[2],1];if(4===t.length)return[+t[0],+t[1],+t[2],+t[3]]}return[0,0,0,1]}),a=!1,l=!1;if("bounds"in s)for(var u=s.bounds,c=0;c<2;++c)for(var f=0;f<3;++f)u[c][f]!==this.bounds[c][f]&&(l=!0),this.bounds[c][f]=u[c][f];if("ticks"in s){e=s.ticks,a=!0,this.autoTicks=!1;for(c=0;c<3;++c)this.tickSpacing[c]=0}else n("tickSpacing")&&(l=this.autoTicks=!0);if(this._firstInit&&("ticks"in s||"tickSpacing"in s||(this.autoTicks=!0),a=l=!0,this._firstInit=!1),l&&this.autoTicks&&(e=g.create(this.bounds,this.tickSpacing),a=!0),a){for(c=0;c<3;++c)e[c].sort(function(t,e){return t.x-e.x});g.equal(e,this.ticks)?a=!1:this.ticks=e}r("tickEnable"),i("tickFont")&&(a=!0),n("tickSize"),n("tickAngle"),n("tickPad"),o("tickColor");var h=i("labels");i("labelFont")&&(h=!0),r("labelEnable"),n("labelSize"),n("labelPad"),o("labelColor"),r("lineEnable"),r("lineMirror"),n("lineWidth"),o("lineColor"),r("lineTickEnable"),r("lineTickMirror"),n("lineTickLength"),n("lineTickWidth"),o("lineTickColor"),r("gridEnable"),n("gridWidth"),o("gridColor"),r("zeroEnable"),o("zeroLineColor"),n("zeroLineWidth"),r("backgroundEnable"),o("backgroundColor"),this._text?this._text&&(h||a)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=d(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&a&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=p(this.gl,this.bounds,this.ticks))};var U=[new o,new o,new o];var H=[0,0,0],q={model:z,view:z,projection:z,_ortho:!1};t.isOpaque=function(){return!0},t.isTransparent=function(){return!1},t.drawTransparent=function(t){};var V=[0,0,0],G=[0,0,0],W=[0,0,0];t.draw=function(t){t=t||q;for(var e=this.gl,n=t.model||z,r=t.view||z,i=t.projection||z,o=this.bounds,a=t._ortho||!1,s=F(n,r,i,o,a),p=s.cubeEdges,l=s.axis,u=r[12],c=r[13],t=r[14],s=r[15],f=(a?2:1)*this.pixelRatio*(i[3]*u+i[7]*c+i[11]*t+i[15]*s)/e.drawingBufferHeight,h=0;h<3;++h)this.lastCubeProps.cubeEdges[h]=p[h],this.lastCubeProps.axis[h]=l[h];for(var d=U,h=0;h<3;++h)!function(t,e,n,r){for(var i,o,a,s,l=t.primalOffset,u=t.primalMinor,c=t.mirrorOffset,f=t.mirrorMinor,h=p[e],d=0;d<3;++d)e!==d&&(i=l,o=c,a=u,s=f,h&1<<d&&(i=c,o=l,a=f,s=u),i[d]=n[0][d],o[d]=n[1][d],0<r[d]?(a[d]=-1,s[d]=0):(a[d]=0,s[d]=1))}(U[h],h,this.bounds,l);for(var e=this.gl,g=H,h=0;h<3;++h)this.backgroundEnable[h]?g[h]=l[h]:g[h]=0;this._background.draw(n,r,i,o,g,this.backgroundColor),this._lines.bind(n,r,i,this);for(h=0;h<3;++h){var m=[0,0,0];0<l[h]?m[h]=o[1][h]:m[h]=o[0][h];for(var y=0;y<2;++y){var v=(h+1+y)%3,b=(h+1+(1^y))%3;this.gridEnable[v]&&this._lines.drawGrid(v,b,this.bounds,m,this.gridColor[v],this.gridWidth[v]*this.pixelRatio)}for(y=0;y<2;++y){v=(h+1+y)%3,b=(h+1+(1^y))%3;this.zeroEnable[b]&&Math.min(o[0][b],o[1][b])<=0&&0<=Math.max(o[0][b],o[1][b])&&this._lines.drawZero(v,b,this.bounds,m,this.zeroLineColor[b],this.zeroLineWidth[b]*this.pixelRatio)}}for(var x,h=0;h<3;++h){this.lineEnable[h]&&this._lines.drawAxisLine(h,this.bounds,d[h].primalOffset,this.lineColor[h],this.lineWidth[h]*this.pixelRatio),this.lineMirror[h]&&this._lines.drawAxisLine(h,this.bounds,d[h].mirrorOffset,this.lineColor[h],this.lineWidth[h]*this.pixelRatio);for(var _=B(V,d[h].primalMinor),w=B(G,d[h].mirrorMinor),k=this.lineTickLength,y=0;y<3;++y){var T=f/n[5*y];_[y]*=k[y]*T,w[y]*=k[y]*T}this.lineTickEnable[h]&&this._lines.drawAxisTicks(h,d[h].primalOffset,_,this.lineTickColor[h],this.lineTickWidth[h]*this.pixelRatio),this.lineTickMirror[h]&&this._lines.drawAxisTicks(h,d[h].mirrorOffset,w,this.lineTickColor[h],this.lineTickWidth[h]*this.pixelRatio)}this._lines.unbind(),this._text.bind(n,r,i,this.pixelRatio);var M,A;function S(t){(A=[0,0,0])[t]=1}for(var E,C,O,j,P,N,h=0;h<3;++h){for(var L=d[h].primalMinor,R=d[h].mirrorMinor,D=B(W,d[h].primalOffset),y=0;y<3;++y)this.lineTickEnable[h]&&(D[y]+=f*L[y]*Math.max(this.lineTickLength[y],0)/n[5*y]);var I=[0,0,0];if(I[h]=1,this.tickEnable[h]){-3600===this.tickAngle[h]?(this.tickAngle[h]=0,this.tickAlign[h]="auto"):this.tickAlign[h]=-1,M=1,"auto"===(x=[this.tickAlign[h],.5,M])[0]?x[0]=0:x[0]=parseInt(""+x[0]),A=[0,0,0],O=R,N=P=j=void 0,P=((E=h)+2)%3,N=(C=L)[j=(E+1)%3],E=C[P],C=O[j],O=O[P],0<N&&0<O||0<N&&O<0||N<0&&0<O||N<0&&O<0?S(j):(0<E&&0<C||0<E&&C<0||E<0&&0<C||E<0&&C<0)&&S(P);for(y=0;y<3;++y)D[y]+=f*L[y]*this.tickPad[y]/n[5*y];this._text.drawTicks(h,this.tickSize[h],this.tickAngle[h],D,this.tickColor[h],I,A,x)}if(this.labelEnable[h]){A=[M=0,0,0],4<this.labels[h].length&&(S(h),M=1),"auto"===(x=[this.labelAlign[h],.5,M])[0]?x[0]=0:x[0]=parseInt(""+x[0]);for(y=0;y<3;++y)D[y]+=f*L[y]*this.labelPad[y]/n[5*y];D[h]+=.5*(o[0][h]+o[1][h]),this._text.drawLabel(h,this.labelSize[h],this.labelAngle[h],D,this.labelColor[h],[0,0,0],A,x)}}this._text.unbind()},t.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},{"./lib/background.js":457,"./lib/cube.js":458,"./lib/lines.js":459,"./lib/text.js":461,"./lib/ticks.js":462}],457:[function(t,e,n){"use strict";e.exports=function(t){for(var e=[],n=[],r=0,i=0;i<3;++i)for(var o=(i+1)%3,a=(i+2)%3,s=[0,0,0],l=[0,0,0],u=-1;u<=1;u+=2){n.push(r,r+2,r+1,r+1,r+2,r+3),s[i]=u,l[i]=u;for(var c=-1;c<=1;c+=2){s[o]=c;for(var f=-1;f<=1;f+=2)s[a]=f,e.push(s[0],s[1],s[2],l[0],l[1],l[2]),r+=1}var h=o;o=a,a=h}var d=m(t,new Float32Array(e)),p=m(t,new Uint16Array(n),t.ELEMENT_ARRAY_BUFFER),g=y(t,[{buffer:d,type:t.FLOAT,size:3,offset:0,stride:24},{buffer:d,type:t.FLOAT,size:3,offset:12,stride:24}],p),p=v(t);return p.attributes.position.location=0,p.attributes.normal.location=1,new b(t,d,g,p)};var m=t("gl-buffer"),y=t("gl-vao"),v=t("./shaders").bg;function b(t,e,n,r){this.gl=t,this.buffer=e,this.vao=n,this.shader=r}t=b.prototype;t.draw=function(t,e,n,r,i,o){for(var a,s=!1,l=0;l<3;++l)s=s||i[l];s&&((a=this.gl).enable(a.POLYGON_OFFSET_FILL),a.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:t,view:e,projection:n,bounds:r,enable:i,colors:o},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),a.disable(a.POLYGON_OFFSET_FILL))},t.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},{"./shaders":460,"gl-buffer":464,"gl-vao":529}],458:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i){O(N,e,t),O(N,n,N);for(var o=0,a=0;a<2;++a){D[2]=r[a][2];for(var s=0;s<2;++s){D[1]=r[s][1];for(var l=0;l<2;++l)D[0]=r[l][0],function(t,e,n){for(var r=0;r<4;++r){t[r]=n[12+r];for(var i=0;i<3;++i)t[r]+=e[i]*n[4*i+r]}}(L[o],D,N),o+=1}}for(var u=-1,a=0;a<8;++a){for(var c=L[a][3],f=0;f<3;++f)R[a][f]=L[a][f]/c;i&&(R[a][2]*=-1),c<0&&(u<0||R[a][2]<R[u][2])&&(u=a)}if(u<0)for(var h=u=0;h<3;++h){for(var d=(h+2)%3,p=(h+1)%3,g=-1,m=-1,y=0;y<2;++y){var v=(x=y<<h)+(y<<d)+(1-y<<p),b=x+(1-y<<d)+(y<<p);P(R[x],R[v],R[b],I)<0||(y?g=1:m=1)}if(g<0||m<0)g<m&&(u|=1<<h);else{for(y=0;y<2;++y){var x,v=(x=y<<h)+(y<<d)+(1-y<<p),b=x+(1-y<<d)+(y<<p),_=function(t){for(var e=0;e<F.length;++e)if((t=j.positive(t,F[e])).length<3)return 0;for(var n=t[0],r=n[0]/n[3],i=n[1]/n[3],o=0,e=1;e+1<t.length;++e){var a=t[e],s=t[e+1],l=a[0]/a[3],u=a[1]/a[3],a=s[0]/s[3],s=s[1]/s[3],l=l-r,u=u-i,a=a-r,s=s-i;o+=Math.abs(l*s-u*a)}return o}([L[x],L[v],L[b],L[x+(1<<d)+(1<<p)]]);y?g=_:m=_}g<m&&(u|=1<<h)}}for(var w=7^u,k=-1,a=0;a<8;++a)a!==u&&a!==w&&(k<0||R[k][1]>R[a][1])&&(k=a);for(var T=-1,a=0;a<3;++a)(A=k^1<<a)!==u&&A!==w&&(T<0&&(T=A),(p=R[A])[0]<R[T][0]&&(T=A));for(var M=-1,a=0;a<3;++a){var A;(A=k^1<<a)!==u&&A!==w&&A!==T&&(M<0&&(M=A),(p=R[A])[0]>R[M][0]&&(M=A))}t=z;t[0]=t[1]=t[2]=0,t[C.log2(T^k)]=k&T,t[C.log2(k^M)]=k&M;n=7^M;n===u||n===w?(n=7^T,t[C.log2(M^n)]=n&M):t[C.log2(T^n)]=n&T;for(var S=B,E=u,h=0;h<3;++h)S[h]=E&1<<h?-1:1;return U};var C=t("bit-twiddle"),O=t("gl-mat4/multiply"),j=t("split-polygon"),P=t("robust-orientation"),N=new Array(16),L=new Array(8),R=new Array(8),D=new Array(3),I=[0,0,0];!function(){for(var t=0;t<8;++t)L[t]=[1,1,1,1],R[t]=[1,1,1]}();var F=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];var z=[1,1,1],B=[0,0,0],U={cubeEdges:z,axis:B}},{"bit-twiddle":28,"gl-mat4/multiply":492,"robust-orientation":986,"split-polygon":1002}],459:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=[],i=[0,0,0],o=[0,0,0],a=[0,0,0],s=[0,0,0];r.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var l=0;l<3;++l){for(var u=r.length/3|0,c=0;c<n[l].length;++c){var f=+n[l][c].x;r.push(f,0,1,f,1,1,f,0,-1,f,0,-1,f,1,1,f,1,-1)}var h=r.length/3|0;i[l]=u,o[l]=h-u;for(var u=r.length/3|0,d=0;d<n[l].length;++d){f=+n[l][d].x;r.push(f,0,1,f,1,1,f,0,-1,f,0,-1,f,1,1,f,1,-1)}h=r.length/3|0;a[l]=u,s[l]=h-u}var p=y(t,new Float32Array(r)),g=v(t,[{buffer:p,type:t.FLOAT,size:3,stride:0,offset:0}]),m=b(t);return m.attributes.position.location=0,new x(t,p,g,m,o,i,s,a)};var y=t("gl-buffer"),v=t("gl-vao"),b=t("./shaders").line,s=[0,0,0],l=[0,0,0],u=[0,0,0],c=[0,0,0],r=[1,1];function f(t){return t[0]=t[1]=t[2]=0,t}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function x(t,e,n,r,i,o,a,s){this.gl=t,this.vertBuffer=e,this.vao=n,this.shader=r,this.tickCount=i,this.tickOffset=o,this.gridCount=a,this.gridOffset=s}t=x.prototype;t.bind=function(t,e,n){this.shader.bind(),this.shader.uniforms.model=t,this.shader.uniforms.view=e,this.shader.uniforms.projection=n,r[0]=this.gl.drawingBufferWidth,r[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=r,this.vao.bind()},t.unbind=function(){this.vao.unbind()},t.drawAxisLine=function(t,e,n,r,i){var o=f(l);this.shader.uniforms.majorAxis=l,o[t]=e[1][t]-e[0][t],this.shader.uniforms.minorAxis=o;n=h(c,n);n[t]+=e[0][t],this.shader.uniforms.offset=n,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=r;r=f(u);r[(t+2)%3]=1,this.shader.uniforms.screenAxis=r,this.vao.draw(this.gl.TRIANGLES,6),(r=f(u))[(t+1)%3]=1,this.shader.uniforms.screenAxis=r,this.vao.draw(this.gl.TRIANGLES,6)},t.drawAxisTicks=function(t,e,n,r,i){var o;this.tickCount[t]&&((o=f(s))[t]=1,this.shader.uniforms.majorAxis=o,this.shader.uniforms.offset=e,this.shader.uniforms.minorAxis=n,this.shader.uniforms.color=r,this.shader.uniforms.lineWidth=i,(i=f(u))[t]=1,this.shader.uniforms.screenAxis=i,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t]))},t.drawGrid=function(t,e,n,r,i,o){var a;this.gridCount[t]&&((a=f(l))[e]=n[1][e]-n[0][e],this.shader.uniforms.minorAxis=a,(r=h(c,r))[e]+=n[0][e],this.shader.uniforms.offset=r,(r=f(s))[t]=1,this.shader.uniforms.majorAxis=r,(r=f(u))[t]=1,this.shader.uniforms.screenAxis=r,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=i,this.vao.draw(this.gl.TRIANGLES,this.gridCount[t],this.gridOffset[t]))},t.drawZero=function(t,e,n,r,i,o){var a=f(l);(this.shader.uniforms.majorAxis=a)[t]=n[1][t]-n[0][t],this.shader.uniforms.minorAxis=a;r=h(c,r);r[t]+=n[0][t],this.shader.uniforms.offset=r;r=f(u);r[e]=1,this.shader.uniforms.screenAxis=r,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=i,this.vao.draw(this.gl.TRIANGLES,6)},t.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},{"./shaders":460,"gl-buffer":464,"gl-vao":529}],460:[function(t,e,n){"use strict";var r=t("glslify"),i=t("gl-shader"),o=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),a=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);n.line=function(t){return i(t,o,a,null,[{name:"position",type:"vec3"}])};var s=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),l=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);n.text=function(t){return i(t,s,l,null,[{name:"position",type:"vec3"}])};var u=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),c=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);n.bg=function(t){return i(t,u,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},{"gl-shader":516,glslify:545}],461:[function(n,r,t){(function(e){(function(){"use strict";r.exports=function(t,e,n,r,i,o){var a=u(t),s=c(t,[{buffer:a,size:3}]),l=f(t);l.attributes.position.location=0;s=new h(t,l,a,s);return s.update(e,n,r,i,o),s};var u=n("gl-buffer"),c=n("gl-vao"),y=n("vectorize-text"),f=n("./shaders").text,t=window||e.global||{},v=t.__TEXT_CACHE||{};t.__TEXT_CACHE={};function h(t,e,n,r){this.gl=t,this.shader=e,this.buffer=n,this.vao=r,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var t=h.prototype,o=[0,0];t.bind=function(t,e,n,r){this.vao.bind(),this.shader.bind();var i=this.shader.uniforms;i.model=t,i.view=e,i.projection=n,i.pixelScale=r,o[0]=this.gl.drawingBufferWidth,o[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=o},t.unbind=function(){this.vao.unbind()},t.update=function(t,e,n,r,i){var m=[];function o(t,e,n,r,i,o){for(var a=v[n],s=(a=a||(v[n]={}))[e],l=(r||12)/12,u=(s=s||(a[e]=function(e,t){try{return y(e,t)}catch(t){return console.warn('error vectorizing text:"'+e+'" error:',t),{cells:[],positions:[]}}}(e,{triangles:!0,font:n,textAlign:"center",textBaseline:"middle",lineSpacing:i,styletags:o}))).positions,c=s.cells,f=0,h=c.length;f<h;++f)for(var d=c[f],p=2;0<=p;--p){var g=u[d[p]];m.push(l*g[0],-l*g[1],t)}}for(var a=[0,0,0],s=[0,0,0],l=[0,0,0],u=[0,0,0],c={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},f=0;f<3;++f){l[f]=m.length/3|0,o(.5*(t[0][f]+t[1][f]),e[f],n[f],12,1.25,c),u[f]=(m.length/3|0)-l[f],a[f]=m.length/3|0;for(var h=0;h<r[f].length;++h)r[f][h].text&&o(r[f][h].x,r[f][h].text,r[f][h].font||i,r[f][h].fontSize||12,1.25,c);s[f]=(m.length/3|0)-a[f]}this.buffer.update(m),this.tickOffset=a,this.tickCount=s,this.labelOffset=l,this.labelCount=u},t.drawTicks=function(t,e,n,r,i,o,a,s){this.tickCount[t]&&(this.shader.uniforms.axis=o,this.shader.uniforms.color=i,this.shader.uniforms.angle=n,this.shader.uniforms.scale=e,this.shader.uniforms.offset=r,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=s,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t]))},t.drawLabel=function(t,e,n,r,i,o,a,s){this.labelCount[t]&&(this.shader.uniforms.axis=o,this.shader.uniforms.color=i,this.shader.uniforms.angle=n,this.shader.uniforms.scale=e,this.shader.uniforms.offset=r,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=s,this.vao.draw(this.gl.TRIANGLES,this.labelCount[t],this.labelOffset[t]))},t.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}}).call(this)}).call(this,n("_process"))},{"./shaders":460,_process:972,"gl-buffer":464,"gl-vao":529,"vectorize-text":1014}],462:[function(t,e,n){"use strict";function a(t,e){var n=t+"",r=n.indexOf("."),i=0;0<=r&&(i=n.length-r-1);r=Math.pow(10,i),t=Math.round(t*e*r),e=t+"";if(0<=e.indexOf("e"))return e;e=t/r,r=t%r;t<0?(e=0|-Math.ceil(e),r=0|-r):(e=0|Math.floor(e),r|=0);e=""+e;if(t<0&&(e="-"+e),i){for(var o=""+r;o.length<i;)o="0"+o;return e+"."+o}return e}n.create=function(t,e){for(var n=[],r=0;r<3;++r){for(var i=[],o=(t[0][r],t[1][r],0);o*e[r]<=t[1][r];++o)i.push({x:o*e[r],text:a(e[r],o)});for(o=-1;o*e[r]>=t[0][r];--o)i.push({x:o*e[r],text:a(e[r],o)});n.push(i)}return n},n.equal=function(t,e){for(var n=0;n<3;++n){if(t[n].length!==e[n].length)return!1;for(var r=0;r<t[n].length;++r){var i=t[n][r],o=e[n][r];if(i.x!==o.x||i.text!==o.text||i.font!==o.font||i.fontColor!==o.fontColor||i.fontSize!==o.fontSize||i.dx!==o.dx||i.dy!==o.dy)return!1}}return!0}},{}],463:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i){var o=e.model||C,a=e.view||C,s=e.projection||C,l=e._ortho||!1,u=t.bounds,c=(i=i||M(o,a,s,u,l)).axis;A(O,a,o),A(O,s,O);for(var f=N,h=0;h<3;++h)f[h].lo=1/0,f[h].hi=-1/0,f[h].pixelsPerDataUnit=1/0;var d=k(S(O,O));S(O,O);for(var p=0;p<3;++p){var g=(p+1)%3,m=(p+2)%3,y=L;t:for(h=0;h<2;++h){var v=[];if(c[p]<0!=!!h){y[p]=u[h][p];for(var b=0;b<2;++b){y[g]=u[b^h][g];for(var x=0;x<2;++x)y[m]=u[x^b^h][m],v.push(y.slice())}for(var _=l?5:4,b=_;b===_;++b){if(0===v.length)continue t;v=T.positive(v,d[b])}for(b=0;b<v.length;++b)for(var m=v[b],w=function(t,e,n,r,i){for(var o=0;o<3;++o){for(var a=j,s=P,l=0;l<3;++l)s[l]=a[l]=n[l];s[3]=a[3]=1,s[o]+=1,E(s,s,e),s[3]<0&&(t[o]=1/0),--a[o],E(a,a,e),a[3]<0&&(t[o]=1/0);var u=(a[0]/a[3]-s[0]/s[3])*r,c=(a[1]/a[3]-s[1]/s[3])*i;t[o]=.25*Math.sqrt(u*u+c*c)}return t}(L,O,m,n,r),x=0;x<3;++x)f[x].lo=Math.min(f[x].lo,m[x]),f[x].hi=Math.max(f[x].hi,m[x]),x!==p&&(f[x].pixelsPerDataUnit=Math.min(f[x].pixelsPerDataUnit,Math.abs(w[x])))}}}return f};var k=t("extract-frustum-planes"),T=t("split-polygon"),M=t("./lib/cube.js"),A=t("gl-mat4/multiply"),S=t("gl-mat4/transpose"),E=t("gl-vec4/transformMat4"),C=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),O=new Float32Array(16);function r(t,e,n){this.lo=t,this.hi=e,this.pixelsPerDataUnit=n}var j=[0,0,0,1],P=[0,0,0,1];var N=[new r(1/0,-1/0,1/0),new r(1/0,-1/0,1/0),new r(1/0,-1/0,1/0)],L=[0,0,0]},{"./lib/cube.js":458,"extract-frustum-planes":449,"gl-mat4/multiply":492,"gl-mat4/transpose":503,"gl-vec4/transformMat4":535,"split-polygon":1002}],464:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=t("typedarray-pool"),a=t("ndarray-ops"),s=t("ndarray"),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function u(t,e,n,r,i){this.gl=t,this.type=e,this.handle=n,this.length=r,this.usage=i}t=u.prototype;function c(t,e,n,r,i,o){var a=i.length*i.BYTES_PER_ELEMENT;if(o<0)return t.bufferData(e,i,r),a;if(n<a+o)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(e,o,i),n}function f(t,e){for(var n=o.malloc(t.length,e),r=t.length,i=0;i<r;++i)n[i]=t[i];return n}t.bind=function(){this.gl.bindBuffer(this.type,this.handle)},t.unbind=function(){this.gl.bindBuffer(this.type,null)},t.dispose=function(){this.gl.deleteBuffer(this.handle)},t.update=function(t,e){if("number"!=typeof e&&(e=-1),this.bind(),"object"===i(t)&&void 0!==t.shape){var n=t.dtype;l.indexOf(n)<0&&(n="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(n=gl.getExtension("OES_element_index_uint")&&"uint16"!==n?"uint32":"uint16"),n===t.dtype&&function(t,e){for(var n=1,r=e.length-1;0<=r;--r){if(e[r]!==n)return;n*=t[r]}return 1}(t.shape,t.stride)?0===t.offset&&t.data.length===t.shape[0]?this.length=c(this.gl,this.type,this.length,this.usage,t.data,e):this.length=c(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),e):(r=o.malloc(t.size,n),n=s(r,t.shape),a.assign(n,t),this.length=c(this.gl,this.type,this.length,this.usage,e<0?r:r.subarray(0,t.size),e),o.free(r))}else if(Array.isArray(t)){var r=this.type===this.gl.ELEMENT_ARRAY_BUFFER?f(t,"uint16"):f(t,"float32");this.length=c(this.gl,this.type,this.length,this.usage,e<0?r:r.subarray(0,t.length),e),o.free(r)}else if("object"===i(t)&&"number"==typeof t.length)this.length=c(this.gl,this.type,this.length,this.usage,t,e);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(0<=e)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(t|=0)<=0&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},e.exports=function(t,e,n,r){if(n=n||t.ARRAY_BUFFER,r=r||t.DYNAMIC_DRAW,n!==t.ARRAY_BUFFER&&n!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(r!==t.DYNAMIC_DRAW&&r!==t.STATIC_DRAW&&r!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var i=t.createBuffer();return(r=new u(t,n,i,0,r)).update(e),r}},{ndarray:606,"ndarray-ops":603,"typedarray-pool":1011}],465:[function(t,e,n){"use strict";e.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},{}],466:[function(t,e,n){"use strict";var r=t("./1.0/numbers");e.exports=function(t){return r[t]}},{"./1.0/numbers":465}],467:[function(t,e,n){"use strict";e.exports=function(t){var e=t.gl,n=o(e),r=a(e,[{buffer:n,type:e.FLOAT,size:3,offset:0,stride:40},{buffer:n,type:e.FLOAT,size:4,offset:12,stride:40},{buffer:n,type:e.FLOAT,size:3,offset:28,stride:40}]),i=s(e);i.attributes.position.location=0,i.attributes.color.location=1,i.attributes.offset.location=2;i=new l(e,n,r,i);return i.update(t),i};var o=t("gl-buffer"),a=t("gl-vao"),s=t("./shaders/index"),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function l(t,e,n,r){this.gl=t,this.shader=r,this.buffer=e,this.vao=n,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}t=l.prototype;function p(t,e){for(var n=0;n<3;++n)t[0][n]=Math.min(t[0][n],e[n]),t[1][n]=Math.max(t[1][n],e[n])}t.isOpaque=function(){return!this.hasAlpha},t.isTransparent=function(){return this.hasAlpha},t.drawTransparent=t.draw=function(t){var e=this.gl,n=this.shader.uniforms;this.shader.bind();var r=n.view=t.view||c,i=n.projection=t.projection||c;n.model=t.model||c,n.clipBounds=this.clipBounds,n.opacity=this.opacity;var o=r[12],a=r[13],s=r[14],r=r[15],l=(t._ortho||!1?2:1)*this.pixelRatio*(i[3]*o+i[7]*a+i[11]*s+i[15]*r)/e.drawingBufferHeight;this.vao.bind();for(var u=0;u<3;++u)e.lineWidth(this.lineWidth[u]*this.pixelRatio),n.capSize=this.capSize[u]*l,this.lineCount[u]&&e.drawArrays(e.LINES,this.lineOffset[u],this.lineCount[u]);this.vao.unbind()};var u=function(){for(var t=new Array(3),e=0;e<3;++e){for(var n=[],r=1;r<=2;++r)for(var i=-1;i<=1;i+=2){var o=[0,0,0];o[(r+e)%3]=i,n.push(o)}t[e]=n}return t}();function g(t,e,n,r){for(var i=u[r],o=0;o<i.length;++o){var a=i[o];t.push(e[0],e[1],e[2],n[0],n[1],n[2],n[3],a[0],a[1],a[2])}return i.length}t.update=function(t){"lineWidth"in(t=t||{})&&(this.lineWidth=t.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in t&&(this.capSize=t.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in t&&(this.opacity=+t.opacity,this.opacity<1&&(this.hasAlpha=!0));var e=t.color||[[0,0,0],[0,0,0],[0,0,0]],n=t.position,r=t.error;if(Array.isArray(e[0])||(e=[e,e,e]),n&&r){var i=[],o=n.length,a=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var s=0;s<3;++s){this.lineOffset[s]=a;t:for(var l=0;l<o;++l){for(var u=n[l],c=0;c<3;++c)if(isNaN(u[c])||!isFinite(u[c]))continue t;var f,h=r[l],d=e[s];Array.isArray(d[0])&&(d=e[l]),3===d.length?d=[d[0],d[1],d[2],1]:4===d.length&&(d=[d[0],d[1],d[2],d[3]],!this.hasAlpha&&d[3]<1&&(this.hasAlpha=!0)),isNaN(h[0][s])||isNaN(h[1][s])||(h[0][s]<0&&((f=u.slice())[s]+=h[0][s],i.push(u[0],u[1],u[2],d[0],d[1],d[2],d[3],0,0,0,f[0],f[1],f[2],d[0],d[1],d[2],d[3],0,0,0),p(this.bounds,f),a+=2+g(i,f,d,s)),0<h[1][s]&&((f=u.slice())[s]+=h[1][s],i.push(u[0],u[1],u[2],d[0],d[1],d[2],d[3],0,0,0,f[0],f[1],f[2],d[0],d[1],d[2],d[3],0,0,0),p(this.bounds,f),a+=2+g(i,f,d,s)))}this.lineCount[s]=a-this.lineOffset[s]}this.buffer.update(i)}},t.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},{"./shaders/index":468,"gl-buffer":464,"gl-vao":529}],468:[function(t,e,n){"use strict";var r=t("glslify"),i=t("gl-shader"),o=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),a=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);e.exports=function(t){return i(t,o,a,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},{"gl-shader":516,glslify:545}],469:[function(t,e,n){"use strict";var a=t("gl-texture2d");e.exports=function(t,e,n,r){u||(u=t.FRAMEBUFFER_UNSUPPORTED,c=t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,f=t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,h=t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var o=t.getExtension("WEBGL_draw_buffers");!d&&o&&function(t){var e=t.getParameter(o.MAX_COLOR_ATTACHMENTS_WEBGL);d=new Array(e+1);for(var n=0;n<=e;++n){for(var r=new Array(e),i=0;i<n;++i)r[i]=t.COLOR_ATTACHMENT0+i;for(i=n;i<e;++i)r[i]=t.NONE;d[n]=r}}(t);Array.isArray(e)&&(r=n,n=0|e[1],e=0|e[0]);if("number"!=typeof e)throw new Error("gl-fbo: Missing shape parameter");var i=t.getParameter(t.MAX_RENDERBUFFER_SIZE);if(e<0||i<e||n<0||i<n)throw new Error("gl-fbo: Parameters are too large for FBO");var a=1;if("color"in(r=r||{})){if((a=Math.max(0|r.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(1<a){if(!o)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(a>t.getParameter(o.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+a+" draw buffers")}}var s=t.UNSIGNED_BYTE,l=t.getExtension("OES_texture_float");if(r.float&&0<a){if(!l)throw new Error("gl-fbo: Context does not support floating point textures");s=t.FLOAT}else r.preferFloat&&0<a&&l&&(s=t.FLOAT);i=!0;"depth"in r&&(i=!!r.depth);l=!1;"stencil"in r&&(l=!!r.stencil);return new b(t,e,n,s,a,i,l,o)};var u,c,f,h,d=null;function p(t){return[t.getParameter(t.FRAMEBUFFER_BINDING),t.getParameter(t.RENDERBUFFER_BINDING),t.getParameter(t.TEXTURE_BINDING_2D)]}function g(t,e){t.bindFramebuffer(t.FRAMEBUFFER,e[0]),t.bindRenderbuffer(t.RENDERBUFFER,e[1]),t.bindTexture(t.TEXTURE_2D,e[2])}function m(t){switch(t){case u:throw new Error("gl-fbo: Framebuffer unsupported");case c:throw new Error("gl-fbo: Framebuffer incomplete attachment");case f:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case h:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function y(t,e,n,r,i,o){if(!r)return null;r=a(t,e,n,i,r);return r.magFilter=t.NEAREST,r.minFilter=t.NEAREST,r.mipSamples=1,r.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,o,t.TEXTURE_2D,r.handle,0),r}function v(t,e,n,r,i){var o=t.createRenderbuffer();return t.bindRenderbuffer(t.RENDERBUFFER,o),t.renderbufferStorage(t.RENDERBUFFER,r,e,n),t.framebufferRenderbuffer(t.FRAMEBUFFER,i,t.RENDERBUFFER,o),o}function b(t,e,n,r,i,o,a,s){this.gl=t,this._shape=[0|e,0|n],this._destroyed=!1,this._ext=s,this.color=new Array(i);for(var l=0;l<i;++l)this.color[l]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=r,this._useDepth=o,this._useStencil=a;var u=this,n=[0|e,0|n];Object.defineProperties(n,{0:{get:function(){return u._shape[0]},set:function(t){return u.width=t}},1:{get:function(){return u._shape[1]},set:function(t){return u.height=t}}}),this._shapeVector=n,function(t){var e=p(t.gl),n=t.gl,r=t.handle=n.createFramebuffer(),i=t._shape[0],o=t._shape[1],a=t.color.length,s=t._ext,l=t._useStencil,u=t._useDepth,c=t._colorType;n.bindFramebuffer(n.FRAMEBUFFER,r);for(var f=0;f<a;++f)t.color[f]=y(n,i,o,c,n.RGBA,n.COLOR_ATTACHMENT0+f);if(0===a?(t._color_rb=v(n,i,o,n.RGBA4,n.COLOR_ATTACHMENT0),s&&s.drawBuffersWEBGL(d[0])):1<a&&s.drawBuffersWEBGL(d[a]),(s=n.getExtension("WEBGL_depth_texture"))?l?t.depth=y(n,i,o,s.UNSIGNED_INT_24_8_WEBGL,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):u&&(t.depth=y(n,i,o,n.UNSIGNED_SHORT,n.DEPTH_COMPONENT,n.DEPTH_ATTACHMENT)):u&&l?t._depth_rb=v(n,i,o,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):u?t._depth_rb=v(n,i,o,n.DEPTH_COMPONENT16,n.DEPTH_ATTACHMENT):l&&(t._depth_rb=v(n,i,o,n.STENCIL_INDEX,n.STENCIL_ATTACHMENT)),(l=n.checkFramebufferStatus(n.FRAMEBUFFER))!==n.FRAMEBUFFER_COMPLETE){t._destroyed=!0,n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteFramebuffer(t.handle),t.handle=null,t.depth&&(t.depth.dispose(),t.depth=null),t._depth_rb&&(n.deleteRenderbuffer(t._depth_rb),t._depth_rb=null);for(f=0;f<t.color.length;++f)t.color[f].dispose(),t.color[f]=null;t._color_rb&&(n.deleteRenderbuffer(t._color_rb),t._color_rb=null),g(n,e),m(l)}g(n,e)}(this)}e=b.prototype;function r(t,e,n){if(t._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(t._shape[0]!==e||t._shape[1]!==n){var r=t.gl,i=r.getParameter(r.MAX_RENDERBUFFER_SIZE);if(e<0||i<e||n<0||i<n)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");t._shape[0]=e,t._shape[1]=n;for(var e=p(r),o=0;o<t.color.length;++o)t.color[o].shape=t._shape;t._color_rb&&(r.bindRenderbuffer(r.RENDERBUFFER,t._color_rb),r.renderbufferStorage(r.RENDERBUFFER,r.RGBA4,t._shape[0],t._shape[1])),t.depth&&(t.depth.shape=t._shape),t._depth_rb&&(r.bindRenderbuffer(r.RENDERBUFFER,t._depth_rb),t._useDepth&&t._useStencil?r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t._shape[0],t._shape[1]):t._useDepth?r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_COMPONENT16,t._shape[0],t._shape[1]):t._useStencil&&r.renderbufferStorage(r.RENDERBUFFER,r.STENCIL_INDEX,t._shape[0],t._shape[1])),r.bindFramebuffer(r.FRAMEBUFFER,t.handle);n=r.checkFramebufferStatus(r.FRAMEBUFFER);n!==r.FRAMEBUFFER_COMPLETE&&(t.dispose(),g(r,e),m(n)),g(r,e)}}Object.defineProperties(e,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(t){if(Array.isArray(t)||(t=[0|t,0|t]),2!==t.length)throw new Error("gl-fbo: Shape vector must be length 2");var e=0|t[0],t=0|t[1];return r(this,e,t),[e,t]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(t){return r(this,t|=0,this._shape[1]),t},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(t){return t|=0,r(this,this._shape[0],t),t},enumerable:!1}}),e.bind=function(){var t;this._destroyed||((t=this.gl).bindFramebuffer(t.FRAMEBUFFER,this.handle),t.viewport(0,0,this._shape[0],this._shape[1]))},e.dispose=function(){if(!this._destroyed){this._destroyed=!0;var t=this.gl;t.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(t.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var e=0;e<this.color.length;++e)this.color[e].dispose(),this.color[e]=null;this._color_rb&&(t.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},{"gl-texture2d":525}],470:[function(t,e,n){"use strict";var d=t("sprintf-js").sprintf,p=t("gl-constants/lookup"),g=t("glsl-shader-name"),m=t("add-line-numbers");e.exports=function(t,e,n){var r=g(e)||"of unknown name (see npm glsl-shader-name)",i="unknown type";void 0!==n&&(i=n===p.FRAGMENT_SHADER?"fragment":"vertex");for(var o=d("Error compiling %s shader %s:\n",i,r),r=d("%s%s",o,t),a=t.split("\n"),s={},l=0;l<a.length;l++){var u=a[l];if(""!==u&&"\0"!==u){var c=parseInt(u.split(":")[2]);if(isNaN(c))throw new Error(d("Could not parse error: %s",u));s[c]=u}}for(var f=m(e).split("\n"),l=0;l<f.length;l++){var h;(s[l+3]||s[l+2]||s[l+1])&&(h=f[l],o+=h+"\n",s[l+1]&&(h=(h=s[l+1]).substr(h.split(":",3).join(":").length+1).trim(),o+=d("^^^ %s\n\n",h)))}return{long:o.trim(),short:r.trim()}}},{"add-line-numbers":5,"gl-constants/lookup":466,"glsl-shader-name":536,"sprintf-js":471}],471:[function(t,e,n){"use strict";function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t){return function(t,e){var n,r,i,o,a,s,l,u,c=1,f=t.length,h="";for(r=0;r<f;r++)if("string"==typeof t[r])h+=t[r];else if("object"===d(t[r])){if((o=t[r]).keys)for(n=e[c],i=0;i<o.keys.length;i++){if(null==n)throw new Error(p('[sprintf] Cannot access property "%s" of undefined value "%s"',o.keys[i],o.keys[i-1]));n=n[o.keys[i]]}else n=o.param_no?e[o.param_no]:e[c++];if(g.not_type.test(o.type)&&g.not_primitive.test(o.type)&&n instanceof Function&&(n=n()),g.numeric_arg.test(o.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(p("[sprintf] expecting number but found %T",n));switch(g.number.test(o.type)&&(l=0<=n),o.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,o.width?parseInt(o.width):0);break;case"e":n=o.precision?parseFloat(n).toExponential(o.precision):parseFloat(n).toExponential();break;case"f":n=o.precision?parseFloat(n).toFixed(o.precision):parseFloat(n);break;case"g":n=o.precision?String(Number(n.toPrecision(o.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=o.precision?n.substring(0,o.precision):n;break;case"t":n=String(!!n),n=o.precision?n.substring(0,o.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=o.precision?n.substring(0,o.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=o.precision?n.substring(0,o.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}g.json.test(o.type)?h+=n:(!g.number.test(o.type)||l&&!o.sign?u="":(u=l?"+":"-",n=n.toString().replace(g.sign,"")),a=o.pad_char?"0"===o.pad_char?"0":o.pad_char.charAt(1):" ",s=o.width-(u+n).length,s=o.width&&0<s?a.repeat(s):"",h+=o.align?u+n+s:"0"===a?u+s+n:s+u+n)}return h}(function(t){if(l[t])return l[t];var e,n=t,r=[],i=0;for(;n;){if(null!==(e=g.text.exec(n)))r.push(e[0]);else if(null!==(e=g.modulo.exec(n)))r.push("%");else{if(null===(e=g.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){i|=1;var o=[],a=e[2],s=[];if(null===(s=g.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(s[1]);""!==(a=a.substring(s[0].length));)if(null!==(s=g.key_access.exec(a)))o.push(s[1]);else{if(null===(s=g.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(s[1])}e[2]=o}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}n=n.substring(e[0].length)}return l[t]=r}(t),arguments)}function r(t,e){return p.apply(null,[t].concat(e||[]))}var g,l;g={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/},l=Object.create(null),void 0!==n&&(n.sprintf=p,n.vsprintf=r),"undefined"!=typeof window&&(window.sprintf=p,window.vsprintf=r,"function"==typeof define&&define.amd&&define(function(){return{sprintf:p,vsprintf:r}}))},{}],472:[function(t,e,n){"use strict";var r=t("glslify"),i=t("gl-shader"),o=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),a=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];n.createShader=function(t){return i(t,o,a,null,l)},n.createPickShader=function(t){return i(t,o,s,null,l)}},{"gl-shader":516,glslify:545}],473:[function(t,e,n){"use strict";e.exports=function(t){var e=t.gl||t.scene&&t.scene.gl,n=p(e);n.attributes.position.location=0,n.attributes.nextPosition.location=1,n.attributes.arcLength.location=2,n.attributes.lineWidth.location=3,n.attributes.color.location=4;var r=g(e);r.attributes.position.location=0,r.attributes.nextPosition.location=1,r.attributes.arcLength.location=2,r.attributes.lineWidth.location=3,r.attributes.color.location=4;for(var i=u(e),o=c(e,[{buffer:i,size:3,offset:0,stride:48},{buffer:i,size:3,offset:12,stride:48},{buffer:i,size:1,offset:24,stride:48},{buffer:i,size:1,offset:28,stride:48},{buffer:i,size:4,offset:32,stride:48}]),a=T(new Array(1024),[256,1,4]),s=0;s<1024;++s)a.data[s]=255;var l=f(e,a);l.wrap=e.REPEAT;l=new y(e,n,r,i,o,l);return l.update(t),l};var u=t("gl-buffer"),c=t("gl-vao"),f=t("gl-texture2d"),h=new Uint8Array(4),d=new Float32Array(h.buffer);var k=t("binary-search-bounds"),T=t("ndarray"),t=t("./lib/shaders"),p=t.createShader,g=t.createPickShader,i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function o(t){for(var e=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],n=0;n<3;++n)e[0][n]=Math.max(t[0][n],e[0][n]),e[1][n]=Math.min(t[1][n],e[1][n]);return e}function m(t,e,n,r){this.arcLength=t,this.position=e,this.index=n,this.dataCoordinate=r}function y(t,e,n,r,i,o){this.gl=t,this.shader=e,this.pickShader=n,this.buffer=r,this.vao=i,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=o,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}t=y.prototype;t.isTransparent=function(){return this.hasAlpha},t.isOpaque=function(){return!this.hasAlpha},t.pickSlots=1,t.setPickBase=function(t){this.pickId=t},t.drawTransparent=t.draw=function(t){var e,n,r;this.vertexCount&&(e=this.gl,n=this.shader,r=this.vao,n.bind(),n.uniforms={model:t.model||i,view:t.view||i,projection:t.projection||i,clipBounds:o(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[e.drawingBufferWidth,e.drawingBufferHeight],pixelRatio:this.pixelRatio},r.bind(),r.draw(e.TRIANGLE_STRIP,this.vertexCount),r.unbind())},t.drawPick=function(t){var e,n,r;this.vertexCount&&(e=this.gl,n=this.pickShader,r=this.vao,n.bind(),n.uniforms={model:t.model||i,view:t.view||i,projection:t.projection||i,pickId:this.pickId,clipBounds:o(this.clipBounds),screenShape:[e.drawingBufferWidth,e.drawingBufferHeight],pixelRatio:this.pixelRatio},r.bind(),r.draw(e.TRIANGLE_STRIP,this.vertexCount),r.unbind())},t.update=function(t){var e;this.dirty=!0;var n=!!t.connectGaps;"dashScale"in t&&(this.dashScale=t.dashScale),this.hasAlpha=!1,"opacity"in t&&(this.opacity=+t.opacity,this.opacity<1&&(this.hasAlpha=!0));var r=[],i=[],o=[],a=0,s=0,l=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],u=t.position||t.positions;if(u){var c=t.color||t.colors||[0,0,0,1],f=t.lineWidth||1,h=!1;t:for(w=1;w<u.length;++w){var d,p,g,m=u[w-1],y=u[w];for(i.push(a),o.push(m.slice()),e=0;e<3;++e){if(isNaN(m[e])||isNaN(y[e])||!isFinite(m[e])||!isFinite(y[e])){if(!n&&0<r.length){for(var v=0;v<24;++v)r.push(r[r.length-12]);s+=2,h=!0}continue t}l[0][e]=Math.min(l[0][e],m[e],y[e]),l[1][e]=Math.max(l[1][e],m[e],y[e])}Array.isArray(c[0])?(d=w-1<c.length?c[w-1]:0<c.length?c[c.length-1]:[0,0,0,1],p=w<c.length?c[w]:0<c.length?c[c.length-1]:[0,0,0,1]):d=p=c,3===d.length&&(d=[d[0],d[1],d[2],1]),3===p.length&&(p=[p[0],p[1],p[2],1]),!this.hasAlpha&&d[3]<1&&(this.hasAlpha=!0),g=Array.isArray(f)?w-1<f.length?f[w-1]:0<f.length?f[f.length-1]:[0,0,0,1]:f;var b=a;if(a+=function(t,e){for(var n=0,r=0;r<3;++r){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)}(m,y),h){for(e=0;e<2;++e)r.push(m[0],m[1],m[2],y[0],y[1],y[2],b,g,d[0],d[1],d[2],d[3]);s+=2,h=!1}r.push(m[0],m[1],m[2],y[0],y[1],y[2],b,g,d[0],d[1],d[2],d[3],m[0],m[1],m[2],y[0],y[1],y[2],b,-g,d[0],d[1],d[2],d[3],y[0],y[1],y[2],m[0],m[1],m[2],a,-g,p[0],p[1],p[2],p[3],y[0],y[1],y[2],m[0],m[1],m[2],a,g,p[0],p[1],p[2],p[3]),s+=4}}if(this.buffer.update(r),i.push(a),o.push(u[u.length-1].slice()),this.bounds=l,this.vertexCount=s,this.points=o,this.arcLength=i,"dashes"in t){var x=t.dashes.slice();for(x.unshift(0),w=1;w<x.length;++w)x[w]=x[w-1]+x[w];for(var _=T(new Array(1024),[256,1,4]),w=0;w<256;++w){for(e=0;e<4;++e)_.set(w,0,e,0);1&k.le(x,x[x.length-1]*w/255)?_.set(w,0,0,0):_.set(w,0,0,255)}this.texture.setPixels(_)}},t.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},t.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e,n,e=(r=t.value[0],e=t.value[1],n=t.value[2],h[t=0]=t,h[1]=n,h[2]=e,h[3]=r,d[0]),r=k.le(this.arcLength,e);if(r<0)return null;if(r===this.arcLength.length-1)return new m(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),r);for(var i=this.points[r],o=this.points[Math.min(r+1,this.points.length-1)],a=(e-this.arcLength[r])/(this.arcLength[r+1]-this.arcLength[r]),s=1-a,l=[0,0,0],u=0;u<3;++u)l[u]=s*i[u]+a*o[u];r=Math.min(a<.5?r:r+1,this.points.length-1);return new m(e,l,r,this.points[r])}},{"./lib/shaders":472,"binary-search-bounds":27,"gl-buffer":464,"gl-texture2d":525,"gl-vao":529,ndarray:606}],474:[function(t,e,n){"use strict";e.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],g=e[13],m=e[14],e=e[15];return t[0]=s*(h*e-d*m)-f*(l*e-u*m)+g*(l*d-u*h),t[1]=-(r*(h*e-d*m)-f*(i*e-o*m)+g*(i*d-o*h)),t[2]=r*(l*e-u*m)-s*(i*e-o*m)+g*(i*u-o*l),t[3]=-(r*(l*d-u*h)-s*(i*d-o*h)+f*(i*u-o*l)),t[4]=-(a*(h*e-d*m)-c*(l*e-u*m)+p*(l*d-u*h)),t[5]=n*(h*e-d*m)-c*(i*e-o*m)+p*(i*d-o*h),t[6]=-(n*(l*e-u*m)-a*(i*e-o*m)+p*(i*u-o*l)),t[7]=n*(l*d-u*h)-a*(i*d-o*h)+c*(i*u-o*l),t[8]=a*(f*e-d*g)-c*(s*e-u*g)+p*(s*d-u*f),t[9]=-(n*(f*e-d*g)-c*(r*e-o*g)+p*(r*d-o*f)),t[10]=n*(s*e-u*g)-a*(r*e-o*g)+p*(r*u-o*s),t[11]=-(n*(s*d-u*f)-a*(r*d-o*f)+c*(r*u-o*s)),t[12]=-(a*(f*m-h*g)-c*(s*m-l*g)+p*(s*h-l*f)),t[13]=n*(f*m-h*g)-c*(r*m-i*g)+p*(r*h-i*f),t[14]=-(n*(s*m-l*g)-a*(r*m-i*g)+p*(r*l-i*s)),t[15]=n*(s*h-l*f)-a*(r*h-i*f)+c*(r*l-i*s),t}},{}],475:[function(t,e,n){"use strict";e.exports=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},{}],476:[function(t,e,n){"use strict";e.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},{}],477:[function(t,e,n){"use strict";e.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],478:[function(t,e,n){"use strict";e.exports=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],h=t[11],d=t[12],p=t[13],g=t[14],t=t[15];return(e*a-n*o)*(f*t-h*g)-(e*s-r*o)*(c*t-h*p)+(e*l-i*o)*(c*g-f*p)+(n*s-r*a)*(u*t-h*d)-(n*l-i*a)*(u*g-f*d)+(r*l-i*s)*(u*p-c*d)}},{}],479:[function(t,e,n){"use strict";e.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,e=r*s,n=i*a,r=i*s,i=i*l,a=o*a,s=o*s,l=o*l;return t[0]=1-e-i,t[1]=c+l,t[2]=n-s,t[3]=0,t[4]=c-l,t[5]=1-u-i,t[6]=r+a,t[7]=0,t[8]=n+s,t[9]=r-a,t[10]=1-u-e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],480:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=n[0],i=n[1],o=n[2],a=Math.sqrt(r*r+i*i+o*o);if(Math.abs(a)<1e-6)return null;return r*=a=1/a,i*=a,o*=a,n=Math.sin(e),a=Math.cos(e),e=1-a,t[0]=r*r*e+a,t[1]=i*r*e+o*n,t[2]=o*r*e-i*n,t[3]=0,t[4]=r*i*e-o*n,t[5]=i*i*e+a,t[6]=o*i*e+r*n,t[7]=0,t[8]=r*o*e+i*n,t[9]=i*o*e-r*n,t[10]=o*o*e+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],481:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,l=i+i,u=o+o,c=r*s,f=r*l,e=r*u,r=i*l,i=i*u,o=o*u,s=a*s,l=a*l,u=a*u;return t[0]=1-(r+o),t[1]=f+u,t[2]=e-l,t[3]=0,t[4]=f-u,t[5]=1-(c+o),t[6]=i+s,t[7]=0,t[8]=e+l,t[9]=i-s,t[10]=1-(c+r),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}},{}],482:[function(t,e,n){"use strict";e.exports=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],483:[function(t,e,n){"use strict";e.exports=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}},{}],484:[function(t,e,n){"use strict";e.exports=function(t,e){var n=Math.sin(e),e=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],485:[function(t,e,n){"use strict";e.exports=function(t,e){var n=Math.sin(e),e=Math.cos(e);return t[0]=e,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],486:[function(t,e,n){"use strict";e.exports=function(t,e){var n=Math.sin(e),e=Math.cos(e);return t[0]=e,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],487:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i,o,a){var s=1/(n-e),l=1/(i-r),u=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*l,t[10]=(a+o)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*u,t[15]=0,t}},{}],488:[function(t,e,n){"use strict";e.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],489:[function(t,e,n){"use strict";e.exports={create:t("./create"),clone:t("./clone"),copy:t("./copy"),identity:t("./identity"),transpose:t("./transpose"),invert:t("./invert"),adjoint:t("./adjoint"),determinant:t("./determinant"),multiply:t("./multiply"),translate:t("./translate"),scale:t("./scale"),rotate:t("./rotate"),rotateX:t("./rotateX"),rotateY:t("./rotateY"),rotateZ:t("./rotateZ"),fromRotation:t("./fromRotation"),fromRotationTranslation:t("./fromRotationTranslation"),fromScaling:t("./fromScaling"),fromTranslation:t("./fromTranslation"),fromXRotation:t("./fromXRotation"),fromYRotation:t("./fromYRotation"),fromZRotation:t("./fromZRotation"),fromQuat:t("./fromQuat"),frustum:t("./frustum"),perspective:t("./perspective"),perspectiveFromFieldOfView:t("./perspectiveFromFieldOfView"),ortho:t("./ortho"),lookAt:t("./lookAt"),str:t("./str")}},{"./adjoint":474,"./clone":475,"./copy":476,"./create":477,"./determinant":478,"./fromQuat":479,"./fromRotation":480,"./fromRotationTranslation":481,"./fromScaling":482,"./fromTranslation":483,"./fromXRotation":484,"./fromYRotation":485,"./fromZRotation":486,"./frustum":487,"./identity":488,"./invert":490,"./lookAt":491,"./multiply":492,"./ortho":493,"./perspective":494,"./perspectiveFromFieldOfView":495,"./rotate":496,"./rotateX":497,"./rotateY":498,"./rotateZ":499,"./scale":500,"./str":501,"./translate":502,"./transpose":503}],490:[function(t,e,n){"use strict";e.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],g=e[13],m=e[14],y=e[15],v=n*s-r*a,b=n*l-i*a,x=n*u-o*a,_=r*l-i*s,w=r*u-o*s,k=i*u-o*l,T=c*g-f*p,M=c*m-h*p,A=c*y-d*p,S=f*m-h*g,E=f*y-d*g,C=h*y-d*m,e=v*C-b*E+x*S+_*A-w*M+k*T;return e?(e=1/e,t[0]=(s*C-l*E+u*S)*e,t[1]=(i*E-r*C-o*S)*e,t[2]=(g*k-m*w+y*_)*e,t[3]=(h*w-f*k-d*_)*e,t[4]=(l*A-a*C-u*M)*e,t[5]=(n*C-i*A+o*M)*e,t[6]=(m*x-p*k-y*b)*e,t[7]=(c*k-h*x+d*b)*e,t[8]=(a*E-s*A+u*T)*e,t[9]=(r*A-n*E-o*T)*e,t[10]=(p*w-g*x+y*v)*e,t[11]=(f*x-c*w-d*v)*e,t[12]=(s*M-a*S-l*T)*e,t[13]=(n*S-r*M+i*T)*e,t[14]=(g*b-p*_-m*v)*e,t[15]=(c*_-f*b+h*v)*e,t):null}},{}],491:[function(t,e,n){"use strict";var p=t("./identity");e.exports=function(t,e,n,r){var i,o=e[0],a=e[1],s=e[2],l=r[0],u=r[1],c=r[2],f=n[0],h=n[1],d=n[2];if(Math.abs(o-f)<1e-6&&Math.abs(a-h)<1e-6&&Math.abs(s-d)<1e-6)return p(t);i=o-f,e=a-h,r=s-d,n=1/Math.sqrt(i*i+e*e+r*r),f=u*(r*=n)-c*(e*=n),h=c*(i*=n)-l*r,d=l*e-u*i,(n=Math.sqrt(f*f+h*h+d*d))?(f*=n=1/n,h*=n,d*=n):d=h=f=0;c=e*d-r*h,l=r*f-i*d,u=i*h-e*f,(n=Math.sqrt(c*c+l*l+u*u))?(c*=n=1/n,l*=n,u*=n):u=l=c=0;return t[0]=f,t[1]=c,t[2]=i,t[3]=0,t[4]=h,t[5]=l,t[6]=e,t[7]=0,t[8]=d,t[9]=u,t[10]=r,t[11]=0,t[12]=-(f*o+h*a+d*s),t[13]=-(c*o+l*a+u*s),t[14]=-(i*o+e*a+r*s),t[15]=1,t}},{"./identity":488}],492:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=e[9],d=e[10],p=e[11],g=e[12],m=e[13],y=e[14],v=e[15],b=n[0],x=n[1],_=n[2],e=n[3];return t[0]=b*r+x*s+_*f+e*g,t[1]=b*i+x*l+_*h+e*m,t[2]=b*o+x*u+_*d+e*y,t[3]=b*a+x*c+_*p+e*v,b=n[4],x=n[5],_=n[6],e=n[7],t[4]=b*r+x*s+_*f+e*g,t[5]=b*i+x*l+_*h+e*m,t[6]=b*o+x*u+_*d+e*y,t[7]=b*a+x*c+_*p+e*v,b=n[8],x=n[9],_=n[10],e=n[11],t[8]=b*r+x*s+_*f+e*g,t[9]=b*i+x*l+_*h+e*m,t[10]=b*o+x*u+_*d+e*y,t[11]=b*a+x*c+_*p+e*v,b=n[12],x=n[13],_=n[14],e=n[15],t[12]=b*r+x*s+_*f+e*g,t[13]=b*i+x*l+_*h+e*m,t[14]=b*o+x*u+_*d+e*y,t[15]=b*a+x*c+_*p+e*v,t}},{}],493:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*u,t[15]=1,t}},{}],494:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i){var o=1/Math.tan(e/2),e=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*e,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*e,t[15]=0,t}},{}],495:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+s),e=2/(i+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=-(a-s)*l*.5,t[9]=(i-o)*e*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}},{}],496:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i,o,a,s,l,u,c,f,h,d,p,g,m,y,v,b,x,_,w,k=r[0],T=r[1],M=r[2],A=Math.sqrt(k*k+T*T+M*M);if(Math.abs(A)<1e-6)return null;k*=A=1/A,T*=A,M*=A,_=Math.sin(n),w=Math.cos(n),i=1-w,o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],f=e[6],h=e[7],d=e[8],p=e[9],g=e[10],m=e[11],y=k*k*i+w,v=T*k*i+M*_,b=M*k*i-T*_,x=k*T*i-M*_,r=T*T*i+w,A=M*T*i+k*_,n=k*M*i+T*_,_=T*M*i-k*_,w=M*M*i+w,t[0]=o*y+u*v+d*b,t[1]=a*y+c*v+p*b,t[2]=s*y+f*v+g*b,t[3]=l*y+h*v+m*b,t[4]=o*x+u*r+d*A,t[5]=a*x+c*r+p*A,t[6]=s*x+f*r+g*A,t[7]=l*x+h*r+m*A,t[8]=o*n+u*_+d*w,t[9]=a*n+c*_+p*w,t[10]=s*n+f*_+g*w,t[11]=l*n+h*_+m*w,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t}},{}],497:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],n=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[4]=o*i+u*r,t[5]=a*i+c*r,t[6]=s*i+f*r,t[7]=l*i+n*r,t[8]=u*i-o*r,t[9]=c*i-a*r,t[10]=f*i-s*r,t[11]=n*i-l*r,t}},{}],498:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[8],c=e[9],f=e[10],n=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*i-u*r,t[1]=a*i-c*r,t[2]=s*i-f*r,t[3]=l*i-n*r,t[8]=o*r+u*i,t[9]=a*r+c*i,t[10]=s*r+f*i,t[11]=l*r+n*i,t}},{}],499:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],f=e[6],n=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*i+u*r,t[1]=a*i+c*r,t[2]=s*i+f*r,t[3]=l*i+n*r,t[4]=u*i-o*r,t[5]=c*i-a*r,t[6]=f*i-s*r,t[7]=n*i-l*r,t}},{}],500:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=n[0],i=n[1],n=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},{}],501:[function(t,e,n){"use strict";e.exports=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}},{}],502:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r,i,o,a,s,l,u,c,f,h,d,p=n[0],g=n[1],m=n[2];e===t?(t[12]=e[0]*p+e[4]*g+e[8]*m+e[12],t[13]=e[1]*p+e[5]*g+e[9]*m+e[13],t[14]=e[2]*p+e[6]*g+e[10]*m+e[14],t[15]=e[3]*p+e[7]*g+e[11]*m+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=e[9],d=e[10],n=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=f,t[9]=h,t[10]=d,t[11]=n,t[12]=r*p+s*g+f*m+e[12],t[13]=i*p+l*g+h*m+e[13],t[14]=o*p+u*g+d*m+e[14],t[15]=a*p+c*g+n*m+e[15]);return t}},{}],503:[function(t,e,n){"use strict";e.exports=function(t,e){{var n,r,i,o,a,s;t===e?(n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s):(t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15])}return t}},{}],504:[function(t,e,n){"use strict";var p=t("barycentric"),g=t("polytope-closest-point/lib/closest_point_2d.js");function m(t,e){for(var n=[0,0,0,0],r=0;r<4;++r)for(var i=0;i<4;++i)n[i]+=t[4*r+i]*e[r];return n}e.exports=function(t,e,n,r,i,o){if(1===t.length)return[0,t[0].slice()];for(var a=new Array(t.length),s=0;s<t.length;++s)a[s]=function(t,e,n,r,i){for(var o=m(r,m(n,m(e,[t[0],t[1],t[2],1]))),a=0;a<3;++a)o[a]/=o[3];return[.5*i[0]*(1+o[0]),.5*i[1]*(1-o[1])]}(t[s],n,r,i,o);for(var l=0,u=1/0,s=0;s<a.length;++s){for(var c=0,f=0;f<2;++f)c+=Math.pow(a[s][f]-e[f],2);c<u&&(u=c,l=s)}for(var h=function(t,e){{if(2===t.length){for(var n=0,r=0,i=0;i<2;++i)n+=Math.pow(e[i]-t[0][i],2),r+=Math.pow(e[i]-t[1][i],2);return n=Math.sqrt(n),r=Math.sqrt(r),n+r<1e-6?[1,0]:[r/(n+r),n/(r+n)]}if(3===t.length){var o=[0,0];return g(t[0],t[1],t[2],e,o),p(t,o)}}return[]}(a,e),d=0,s=0;s<3;++s){if(h[s]<-.001||1.0001<h[s])return null;d+=h[s]}if(.001<Math.abs(d-1))return null;return[l,function(t,e){for(var n=[0,0,0],r=0;r<t.length;++r)for(var i=t[r],o=e[r],a=0;a<3;++a)n[a]+=o*i[a];return n}(t,h),h]}},{barycentric:7,"polytope-closest-point/lib/closest_point_2d.js":970}],505:[function(t,e,n){"use strict";var r=t("glslify"),i=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),o=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),a=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),l=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),u=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),c=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),f=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),h=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),t=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),r=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);n.meshShader={vertex:i,fragment:o,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},n.wireShader={vertex:a,fragment:s,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},n.pointShader={vertex:l,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},n.pickShader={vertex:c,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},n.pointPickShader={vertex:h,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},n.contourShader={vertex:t,fragment:r,attributes:[{name:"position",type:"vec3"}]}},{glslify:545}],506:[function(t,e,n){"use strict";var S=t("gl-shader"),E=t("gl-buffer"),C=t("gl-vao"),G=t("gl-texture2d"),W=t("normals"),h=t("gl-mat4/multiply"),d=t("gl-mat4/invert"),Y=t("ndarray"),X=t("colormap"),v=t("simplicial-complex-contour"),b=t("typedarray-pool"),r=t("./lib/shaders"),p=t("./lib/closest-point"),O=r.meshShader,j=r.wireShader,P=r.pointShader,N=r.pickShader,L=r.pointPickShader,R=r.contourShader,D=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function I(t,e,n,r,i,o,a,s,l,u,c,f,h,d,p,g,m,y,v,b,x,_,w,k,T,M,A){this.gl=t,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=e,this.dirty=!0,this.triShader=n,this.lineShader=r,this.pointShader=i,this.pickShader=o,this.pointPickShader=a,this.contourShader=s,this.trianglePositions=l,this.triangleColors=c,this.triangleNormals=h,this.triangleUVs=f,this.triangleIds=u,this.triangleVAO=d,this.triangleCount=0,this.lineWidth=1,this.edgePositions=p,this.edgeColors=m,this.edgeUVs=y,this.edgeIds=g,this.edgeVAO=v,this.edgeCount=0,this.pointPositions=b,this.pointColors=_,this.pointUVs=w,this.pointSizes=k,this.pointIds=x,this.pointVAO=T,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=M,this.contourVAO=A,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=D,this._view=D,this._projection=D,this._resolution=[1,1]}r=I.prototype;function Z(t,e){if(!e)return 1;if(!e.length)return 1;for(var n=0;n<e.length;++n){if(e.length<2)return 1;if(e[n][0]===t)return e[n][1];if(e[n][0]>t&&0<n){var r=(e[n][0]-t)/(e[n][0]-e[n-1][0]);return e[n][1]*(1-r)+r*e[n-1][1]}}return 1}r.isOpaque=function(){return!this.hasAlpha},r.isTransparent=function(){return this.hasAlpha},r.pickSlots=1,r.setPickBase=function(t){this.pickId=t},r.highlight=function(t){if(t&&this.contourEnable){for(var t=v(this.cells,this.intensity,t.intensity),e=t.cells,n=t.vertexIds,r=t.vertexWeights,i=e.length,o=b.mallocFloat32(6*i),a=0,s=0;s<i;++s)for(var l=e[s],u=0;u<2;++u){var c=l[0];2===l.length&&(c=l[u]);for(var f=n[c][0],h=n[c][1],d=r[c],p=1-d,g=this.positions[f],m=this.positions[h],y=0;y<3;++y)o[a++]=d*g[y]+p*m[y]}this.contourCount=a/3|0,this.contourPositions.update(o.subarray(0,a)),b.free(o)}else this.contourCount=0},r.update=function(t){t=t||{};var e=this.gl;this.dirty=!0,"contourEnable"in t&&(this.contourEnable=t.contourEnable),"contourColor"in t&&(this.contourColor=t.contourColor),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"lightPosition"in t&&(this.lightPosition=t.lightPosition),this.hasAlpha=!1,"opacity"in t&&(this.opacity=t.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in t&&(this.opacityscale=t.opacityscale,this.hasAlpha=!0),"ambient"in t&&(this.ambientLight=t.ambient),"diffuse"in t&&(this.diffuseLight=t.diffuse),"specular"in t&&(this.specularLight=t.specular),"roughness"in t&&(this.roughness=t.roughness),"fresnel"in t&&(this.fresnel=t.fresnel),t.texture?(this.texture.dispose(),this.texture=G(e,t.texture)):t.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=e.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=e.LINEAR,this.texture.setPixels(function(t,e){for(var n=X({colormap:t,nshades:256,format:"rgba"}),r=new Uint8Array(1024),i=0;i<256;++i){for(var o=n[i],a=0;a<3;++a)r[4*i+a]=o[a];r[4*i+3]=e?255*Z(i/255,e):255*o[3]}return Y(r,[256,256,4],[4,0,1])}(t.colormap,this.opacityscale)),this.texture.generateMipmap());var n=t.cells,r=t.positions;if(r&&n){var i=[],o=[],a=[],s=[],l=[],u=[],c=[],f=[],h=[],d=[],p=[],g=[],m=[],y=[];this.cells=n,this.positions=r;var v=t.vertexNormals,b=t.cellNormals,x=void 0===t.vertexNormalsEpsilon?1e-6:t.vertexNormalsEpsilon,e=void 0===t.faceNormalsEpsilon?1e-6:t.faceNormalsEpsilon;t.useFacetNormals&&!b&&(b=W.faceNormals(n,r,e)),b||v||(v=W.vertexNormals(n,r,x));var _=t.vertexColors,w=t.cellColors,k=t.meshColor||[1,1,1,1],T=t.vertexUVs,M=t.vertexIntensity,A=t.cellUVs,S=t.cellIntensity,E=1/0,C=-1/0;if(!T&&!A)if(M)if(t.vertexIntensityBounds)E=+t.vertexIntensityBounds[0],C=+t.vertexIntensityBounds[1];else for(var O=0;O<M.length;++O)var j=M[O],E=Math.min(E,j),C=Math.max(C,j);else if(S)if(t.cellIntensityBounds)E=+t.cellIntensityBounds[0],C=+t.cellIntensityBounds[1];else for(O=0;O<S.length;++O){j=S[O];E=Math.min(E,j),C=Math.max(C,j)}else for(O=0;O<r.length;++O){j=r[O][2];E=Math.min(E,j),C=Math.max(C,j)}this.intensity=M||S||function(t){for(var e=t.length,n=new Array(e),r=0;r<e;++r)n[r]=t[r][2];return n}(r),this.pickVertex=!(S||w);var P=t.pointSizes,N=t.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(O=0;O<r.length;++O)for(var L=r[O],R=0;R<3;++R)!isNaN(L[R])&&isFinite(L[R])&&(this.bounds[0][R]=Math.min(this.bounds[0][R],L[R]),this.bounds[1][R]=Math.max(this.bounds[1][R],L[R]));var D=0,I=0,F=0;t:for(O=0;O<n.length;++O){var z=n[O];switch(z.length){case 1:for(L=r[U=z[0]],R=0;R<3;++R)if(isNaN(L[R])||!isFinite(L[R]))continue t;d.push(L[0],L[1],L[2]),H=_?_[U]:w?w[O]:k,this.opacityscale&&M?o.push(H[0],H[1],H[2],this.opacity*Z((M[U]-E)/(C-E),this.opacityscale)):3===H.length?p.push(H[0],H[1],H[2],this.opacity):(p.push(H[0],H[1],H[2],H[3]*this.opacity),H[3]<1&&(this.hasAlpha=!0)),q=T?T[U]:M?[(M[U]-E)/(C-E),0]:A?A[O]:S?[(S[O]-E)/(C-E),0]:[(L[2]-E)/(C-E),0],g.push(q[0],q[1]),P?m.push(P[U]):m.push(N),y.push(O),F+=1;break;case 2:for(R=0;R<2;++R)for(var L=r[U=z[R]],B=0;B<3;++B)if(isNaN(L[B])||!isFinite(L[B]))continue t;for(R=0;R<2;++R){L=r[U=z[R]];u.push(L[0],L[1],L[2]),H=_?_[U]:w?w[O]:k,this.opacityscale&&M?o.push(H[0],H[1],H[2],this.opacity*Z((M[U]-E)/(C-E),this.opacityscale)):3===H.length?c.push(H[0],H[1],H[2],this.opacity):(c.push(H[0],H[1],H[2],H[3]*this.opacity),H[3]<1&&(this.hasAlpha=!0)),q=T?T[U]:M?[(M[U]-E)/(C-E),0]:A?A[O]:S?[(S[O]-E)/(C-E),0]:[(L[2]-E)/(C-E),0],f.push(q[0],q[1]),h.push(O)}I+=1;break;case 3:for(R=0;R<3;++R)for(L=r[U=z[R]],B=0;B<3;++B)if(isNaN(L[B])||!isFinite(L[B]))continue t;for(R=0;R<3;++R){var U,H,q,V,L=r[U=z[2-R]];i.push(L[0],L[1],L[2]),(H=_?_[U]:w?w[O]:k)?this.opacityscale&&M?o.push(H[0],H[1],H[2],this.opacity*Z((M[U]-E)/(C-E),this.opacityscale)):3===H.length?o.push(H[0],H[1],H[2],this.opacity):(o.push(H[0],H[1],H[2],H[3]*this.opacity),H[3]<1&&(this.hasAlpha=!0)):o.push(.5,.5,.5,1),q=T?T[U]:M?[(M[U]-E)/(C-E),0]:A?A[O]:S?[(S[O]-E)/(C-E),0]:[(L[2]-E)/(C-E),0],s.push(q[0],q[1]),V=v?v[U]:b[O],a.push(V[0],V[1],V[2]),l.push(O)}D+=1}}this.pointCount=F,this.edgeCount=I,this.triangleCount=D,this.pointPositions.update(d),this.pointColors.update(p),this.pointUVs.update(g),this.pointSizes.update(m),this.pointIds.update(new Uint32Array(y)),this.edgePositions.update(u),this.edgeColors.update(c),this.edgeUVs.update(f),this.edgeIds.update(new Uint32Array(h)),this.trianglePositions.update(i),this.triangleColors.update(o),this.triangleUVs.update(s),this.triangleNormals.update(a),this.triangleIds.update(new Uint32Array(l))}},r.drawTransparent=r.draw=function(t){t=t||{};for(var e=this.gl,n=t.model||D,r=t.view||D,t=t.projection||D,i=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o<3;++o)i[0][o]=Math.max(i[0][o],this.clipBounds[0][o]),i[1][o]=Math.min(i[1][o],this.clipBounds[1][o]);var a={model:n,view:r,projection:t,inverseModel:D.slice(),clipBounds:i,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};a.inverseModel=d(a.inverseModel,a.model),e.disable(e.CULL_FACE),this.texture.bind(0);var s=new Array(16);h(s,a.view,a.model),h(s,a.projection,s),d(s,s);for(o=0;o<3;++o)a.eyePosition[o]=s[12+o]/s[15];for(var l=s[15],o=0;o<3;++o)l+=this.lightPosition[o]*s[4*o+3];for(var u,o=0;o<3;++o){for(var c=s[12+o],f=0;f<3;++f)c+=s[4*f+o]*this.lightPosition[f];a.lightPosition[o]=c/l}0<this.triangleCount&&((u=this.triShader).bind(),u.uniforms=a,this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),0<this.edgeCount&&0<this.lineWidth&&((u=this.lineShader).bind(),u.uniforms=a,this.edgeVAO.bind(),e.lineWidth(this.lineWidth*this.pixelRatio),e.drawArrays(e.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),0<this.pointCount&&((u=this.pointShader).bind(),u.uniforms=a,this.pointVAO.bind(),e.drawArrays(e.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&0<this.contourCount&&0<this.contourLineWidth&&((u=this.contourShader).bind(),u.uniforms=a,this.contourVAO.bind(),e.drawArrays(e.LINES,0,this.contourCount),this.contourVAO.unbind())},r.drawPick=function(t){t=t||{};for(var e=this.gl,n=t.model||D,r=t.view||D,t=t.projection||D,i=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o<3;++o)i[0][o]=Math.max(i[0][o],this.clipBounds[0][o]),i[1][o]=Math.min(i[1][o],this.clipBounds[1][o]);this._model=[].slice.call(n),this._view=[].slice.call(r),this._projection=[].slice.call(t),this._resolution=[e.drawingBufferWidth,e.drawingBufferHeight];r={model:n,view:r,projection:t,clipBounds:i,pickId:this.pickId/255},t=this.pickShader;t.bind(),t.uniforms=r,0<this.triangleCount&&(this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),0<this.edgeCount&&(this.edgeVAO.bind(),e.lineWidth(this.lineWidth*this.pixelRatio),e.drawArrays(e.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),0<this.pointCount&&((t=this.pointPickShader).bind(),t.uniforms=r,this.pointVAO.bind(),e.drawArrays(e.POINTS,0,this.pointCount),this.pointVAO.unbind())},r.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;for(var e=t.value[0]+256*t.value[1]+65536*t.value[2],n=this.cells[e],r=this.positions,i=new Array(n.length),o=0;o<n.length;++o)i[o]=r[n[o]];var a=t.coord[0],s=t.coord[1];if(!this.pickVertex){var l=this.positions[n[0]],u=this.positions[n[1]],t=this.positions[n[2]],t=[(l[0]+u[0]+t[0])/3,(l[1]+u[1]+t[1])/3,(l[2]+u[2]+t[2])/3];return{_cellCenter:!0,position:[a,s],index:e,cell:n,cellId:e,intensity:this.intensity[e],dataCoordinate:t}}s=p(i,[a*this.pixelRatio,this._resolution[1]-s*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!s)return null;for(var c=s[2],f=0,o=0;o<n.length;++o)f+=c[o]*this.intensity[n[o]];return{position:s[1],index:n[s[0]],cell:n,cellId:e,intensity:f,dataCoordinate:this.positions[n[s[0]]]}},r.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},e.exports=function(t,e){if(1===arguments.length&&(t=(e=t).gl),!(t.getExtension("OES_standard_derivatives")||t.getExtension("MOZ_OES_standard_derivatives")||t.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var n=((_=S(_=t,O.vertex,O.fragment)).attributes.position.location=0,_.attributes.color.location=2,_.attributes.uv.location=3,_.attributes.normal.location=4,_),r=((w=S(w=t,j.vertex,j.fragment)).attributes.position.location=0,w.attributes.color.location=2,w.attributes.uv.location=3,w),i=((k=S(k=t,P.vertex,P.fragment)).attributes.position.location=0,k.attributes.color.location=2,k.attributes.uv.location=3,k.attributes.pointSize.location=4,k),o=((T=S(T=t,N.vertex,N.fragment)).attributes.position.location=0,T.attributes.id.location=1,T),a=((M=S(M=t,L.vertex,L.fragment)).attributes.position.location=0,M.attributes.id.location=1,M.attributes.pointSize.location=4,M),s=((A=S(A=t,R.vertex,R.fragment)).attributes.position.location=0,A),l=G(t,Y(new Uint8Array([255,255,255,255]),[1,1,4]));l.generateMipmap(),l.minFilter=t.LINEAR_MIPMAP_LINEAR,l.magFilter=t.LINEAR;var u=E(t),c=E(t),f=E(t),h=E(t),d=E(t),p=C(t,[{buffer:u,type:t.FLOAT,size:3},{buffer:d,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:c,type:t.FLOAT,size:4},{buffer:f,type:t.FLOAT,size:2},{buffer:h,type:t.FLOAT,size:3}]),g=E(t),m=E(t),y=E(t),v=E(t),b=C(t,[{buffer:g,type:t.FLOAT,size:3},{buffer:v,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:m,type:t.FLOAT,size:4},{buffer:y,type:t.FLOAT,size:2}]),x=E(t),_=E(t),w=E(t),k=E(t),T=E(t),M=C(t,[{buffer:x,type:t.FLOAT,size:3},{buffer:T,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:_,type:t.FLOAT,size:4},{buffer:w,type:t.FLOAT,size:2},{buffer:k,type:t.FLOAT,size:1}]),A=E(t);return(t=new I(t,l,n,r,i,o,a,s,u,d,c,f,h,p,g,v,m,y,b,x,T,_,w,k,M,A,C(t,[{buffer:A,type:t.FLOAT,size:3}]))).update(e),t}},{"./lib/closest-point":504,"./lib/shaders":505,colormap:52,"gl-buffer":464,"gl-mat4/invert":490,"gl-mat4/multiply":492,"gl-shader":516,"gl-texture2d":525,"gl-vao":529,ndarray:606,normals:608,"simplicial-complex-contour":992,"typedarray-pool":1011}],507:[function(t,e,n){"use strict";e.exports=function(v,t){v=v||document.body,t=t||{};var e=[.01,1/0];"distanceLimits"in t&&(e[0]=t.distanceLimits[0],e[1]=t.distanceLimits[1]);"zoomMin"in t&&(e[0]=t.zoomMin);"zoomMax"in t&&(e[1]=t.zoomMax);var b=r({center:t.center||[0,0,0],up:t.up||[0,1,0],eye:t.eye||[0,0,10],mode:t.mode||"orbit",distanceLimits:e}),a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0,s=v.clientWidth,l=v.clientHeight,_={keyBindingMode:"rotate",enableWheel:!0,view:b,element:v,delay:t.delay||16,rotateSpeed:t.rotateSpeed||1,zoomSpeed:t.zoomSpeed||1,translateSpeed:t.translateSpeed||1,flipX:!!t.flipX,flipY:!!t.flipY,modes:b.modes,_ortho:t._ortho||t.projection&&"orthographic"===t.projection.type||!1,tick:function(){var t=w(),e=this.delay,n=t-2*e;b.idle(t-e),b.recalcMatrix(n),b.flush(t-(100+2*e));for(var r=!0,i=b.computedMatrix,o=0;o<16;++o)r=r&&a[o]===i[o],a[o]=i[o];e=v.clientWidth===s&&v.clientHeight===l;return s=v.clientWidth,l=v.clientHeight,r?!e:(x=Math.exp(b.computedRadius[0]),!0)},lookAt:function(t,e,n){b.lookAt(b.lastT(),t,e,n)},rotate:function(t,e,n){b.rotate(b.lastT(),t,e,n)},pan:function(t,e,n){b.pan(b.lastT(),t,e,n)},translate:function(t,e,n){b.translate(b.lastT(),t,e,n)}};return Object.defineProperties(_,{matrix:{get:function(){return b.computedMatrix},set:function(t){return b.setMatrix(b.lastT(),t),b.computedMatrix},enumerable:!0},mode:{get:function(){return b.getMode()},set:function(t){var e=b.computedUp.slice(),n=b.computedEye.slice(),r=b.computedCenter.slice();return b.setMode(t),"turntable"===t&&(t=w(),b._active.lookAt(t,n,r,e),b._active.lookAt(t+500,n,r,[0,0,1]),b._active.flush(t)),b.getMode()},enumerable:!0},center:{get:function(){return b.computedCenter},set:function(t){return b.lookAt(b.lastT(),null,t),b.computedCenter},enumerable:!0},eye:{get:function(){return b.computedEye},set:function(t){return b.lookAt(b.lastT(),t),b.computedEye},enumerable:!0},up:{get:function(){return b.computedUp},set:function(t){return b.lookAt(b.lastT(),null,null,t),b.computedUp},enumerable:!0},distance:{get:function(){return x},set:function(t){return b.setDistance(b.lastT(),t),t},enumerable:!0},distanceLimits:{get:function(){return b.getDistanceLimits(e)},set:function(t){return b.setDistanceLimits(t),t},enumerable:!0}}),v.addEventListener("contextmenu",function(t){return t.preventDefault(),!1}),_._lastX=-1,_._lastY=-1,_._lastMods={shift:!1,control:!1,alt:!1,meta:!1},_.enableMouseListeners=function(){function n(t,e,n,r){var i=_.keyBindingMode;if(!1!==i){var o="rotate"===i,a="pan"===i,s="zoom"===i,l=!!r.control,u=!!r.alt,c=!!r.shift,f=!!(1&t),h=!!(2&t),d=!!(4&t),p=1/v.clientHeight,g=p*(e-_._lastX),m=p*(n-_._lastY),y=_.flipX?1:-1,i=_.flipY?1:-1,t=Math.PI*_.rotateSpeed,p=w();return-1!==_._lastX&&-1!==_._lastY&&((o&&f&&!l&&!u&&!c||f&&!l&&!u&&c)&&b.rotate(p,y*t*g,-i*t*m,0),(a&&f&&!l&&!u&&!c||h||f&&l&&!u&&!c)&&b.pan(p,-_.translateSpeed*g*x,_.translateSpeed*m*x,0),(s&&f&&!l&&!u&&!c||d||f&&!l&&u&&!c)&&(m=-_.zoomSpeed*m/window.innerHeight*(p-b.lastT())*100,b.pan(p,0,0,x*(Math.exp(m)-1)))),_._lastX=e,_._lastY=n,_._lastMods=r,!0}}_.mouseListener=i(v,n),v.addEventListener("touchstart",function(t){t=u(t.changedTouches[0],v);n(0,t[0],t[1],_._lastMods),n(1,t[0],t[1],_._lastMods)},!!c&&{passive:!0}),v.addEventListener("touchmove",function(t){var e=u(t.changedTouches[0],v);n(1,e[0],e[1],_._lastMods),t.preventDefault()},!!c&&{passive:!1}),v.addEventListener("touchend",function(t){n(0,_._lastX,_._lastY,_._lastMods)},!!c&&{passive:!0}),_.wheelListener=o(v,function(t,e){var n,r,i;!1!==_.keyBindingMode&&_.enableWheel&&(n=_.flipX?1:-1,r=_.flipY?1:-1,i=w(),Math.abs(t)>Math.abs(e)?b.rotate(i,0,0,-t*n*Math.PI*_.rotateSpeed/window.innerWidth):_._ortho||(e=-_.zoomSpeed*r*e/window.innerHeight*(i-b.lastT())/20,b.pan(i,0,0,x*(Math.exp(e)-1))))},!0)},_.enableMouseListeners(),_};var w=t("right-now"),r=t("3d-view"),i=t("mouse-change"),o=t("mouse-wheel"),u=t("mouse-event-offset"),c=t("has-passive-events")},{"3d-view":1,"has-passive-events":547,"mouse-change":598,"mouse-event-offset":599,"mouse-wheel":601,"right-now":980}],508:[function(t,e,n){"use strict";var r=t("glslify"),i=t("gl-shader"),o=r(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),a=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);e.exports=function(t){return i(t,o,a,null,[{name:"position",type:"vec2"}])}},{"gl-shader":516,glslify:545}],509:[function(t,e,n){"use strict";var u=t("./camera.js"),c=t("gl-axes3d"),D=t("gl-axes3d/properties"),f=t("gl-spikes3d"),h=t("gl-select-static"),d=t("gl-fbo"),I=t("a-big-triangle"),p=t("mouse-change"),F=t("gl-mat4/perspective"),z=t("gl-mat4/ortho"),g=t("./lib/shader"),B=t("is-mobile")({tablet:!0,featureDetect:!0});function U(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function H(t){return"boolean"!=typeof t||t}e.exports={createScene:function(t){(t=t||{}).camera=t.camera||{};var i=t.canvas;i||(i=document.createElement("canvas"),(t.container||document.body).appendChild(i));var m=t.gl;m||(t.glOptions&&(B=!!t.glOptions.preserveDrawingBuffer),m=function(t,e){var n=null;try{n=(n=t.getContext("webgl",e))||t.getContext("experimental-webgl",e)}catch(t){return null}return n}(i,t.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:B}));if(!m)throw new Error("webgl not supported");var e=t.bounds||[[-10,-10,-10],[10,10,10]],y=new U,v=d(m,m.drawingBufferWidth,m.drawingBufferHeight,{preferFloat:!B}),b=g(m),x=t.cameraObject&&!0===t.cameraObject._ortho||t.camera.projection&&"orthographic"===t.camera.projection.type||!1,n={eye:t.camera.eye||[2,0,0],center:t.camera.center||[0,0,0],up:t.camera.up||[0,1,0],zoomMin:t.camera.zoomMax||.1,zoomMax:t.camera.zoomMin||100,mode:t.camera.mode||"turntable",_ortho:x},r=t.axes||{},_=c(m,r);_.enable=!r.disable;var o=t.spikes||{},w=f(m,o),k=[],T=[],s=[],M=[],A=!0,S=!0,r=new Array(16),o=new Array(16),E={view:null,projection:r,model:o,_ortho:!1},S=!0,C=[m.drawingBufferWidth,m.drawingBufferHeight],n=t.cameraObject||u(i,n),O={gl:m,contextLost:!1,pixelRatio:t.pixelRatio||1,canvas:i,selection:y,camera:n,axes:_,axesPixels:null,spikes:w,bounds:e,objects:k,shape:C,aspect:t.aspectRatio||[1,1,1],pickRadius:t.pickRadius||10,zNear:t.zNear||.01,zFar:t.zFar||1e3,fovy:t.fovy||Math.PI/4,clearColor:t.clearColor||[0,0,0,0],autoResize:H(t.autoResize),autoBounds:H(t.autoBounds),autoScale:!!t.autoScale,autoCenter:H(t.autoCenter),clipToBounds:H(t.clipToBounds),snapToData:!!t.snapToData,onselect:t.onselect||null,onrender:t.onrender||null,onclick:t.onclick||null,cameraParams:E,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(t){this.aspect[0]=t.x,this.aspect[1]=t.y,this.aspect[2]=t.z,S=!0},setBounds:function(t,e){this.bounds[0][t]=e.min,this.bounds[1][t]=e.max},setClearColor:function(t){this.clearColor=t},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},j=[m.drawingBufferWidth/O.pixelRatio|0,m.drawingBufferHeight/O.pixelRatio|0];function P(){var t,e,n,r;O._stopped||O.autoResize&&(e=t=1,e=(r=i.parentNode)&&r!==document.body?(t=r.clientWidth,r.clientHeight):(t=window.innerWidth,window.innerHeight),n=0|Math.ceil(t*O.pixelRatio),r=0|Math.ceil(e*O.pixelRatio),n===i.width&&r===i.height||(i.width=n,i.height=r,(r=i.style).position=r.position||"absolute",r.left="0px",r.top="0px",r.width=t+"px",r.height=e+"px",A=!0))}O.autoResize&&P();function a(){for(var t=k.length,e=M.length,n=0;n<e;++n)s[n]=0;t:for(n=0;n<t;++n){var r=k[n],i=r.pickSlots;if(i){for(var o=0;o<e;++o)if(s[o]+i<255){T[n]=o,r.setPickBase(s[o]+1),s[o]+=i;continue t}var a=h(m,C);T[n]=e,M.push(a),s.push(i),r.setPickBase(1),e+=1}else T[n]=-1}for(;0<e&&0===s[e-1];)s.pop(),M.pop().dispose()}function N(){if(O.contextLost)return!0;m.isContextLost()&&(O.contextLost=!0,O.mouseListener.enabled=!1,O.selection.object=null,O.oncontextloss&&O.oncontextloss())}window.addEventListener("resize",P),O.update=function(t){O._stopped||(S=A=!0)},O.add=function(t){O._stopped||(t.axes=_,k.push(t),T.push(-1),S=A=!0,a())},O.remove=function(t){O._stopped||((t=k.indexOf(t))<0||(k.splice(t,1),T.pop(),S=A=!0,a()))},O.dispose=function(){if(!O._stopped&&(O._stopped=!0,window.removeEventListener("resize",P),i.removeEventListener("webglcontextlost",N),O.mouseListener.enabled=!1,!O.contextLost)){_.dispose(),w.dispose();for(var t=0;t<k.length;++t)k[t].dispose();v.dispose();for(t=0;t<M.length;++t)M[t].dispose();b.dispose(),w=_=m=null,k=[]}},O._mouseRotating=!1,O._prevButtons=0,O.enableMouseListeners=function(){O.mouseListener=p(i,function(t,e,n){if(!O._stopped){var r=M.length,i=k.length,o=y.object;y.distance=1/0,y.mouse[0]=e,y.mouse[1]=n,y.object=null,y.screen=null,y.dataCoordinate=y.dataPosition=null;var a=!1;if(t&&O._prevButtons)O._mouseRotating=!0;else{O._mouseRotating&&(S=!0),O._mouseRotating=!1;for(var s=0;s<r;++s){var l=M[s].query(e,j[1]-n-1,O.pickRadius);if(l&&!(l.distance>y.distance))for(var u=0;u<i;++u){var c,f=k[u];T[u]===s&&((c=f.pick(l))&&(y.buttons=t,y.screen=l.coord,y.distance=l.distance,y.object=f,y.index=c.distance,y.dataPosition=c.position,y.dataCoordinate=c.dataCoordinate,y.data=c,a=!0))}}}o&&o!==y.object&&(o.highlight&&o.highlight(null),A=!0),y.object&&(y.object.highlight&&y.object.highlight(y.data),A=!0),(a=a||y.object!==o)&&O.onselect&&O.onselect(y),1&t&&!(1&O._prevButtons)&&O.onclick&&O.onclick(y),O._prevButtons=t}})},i.addEventListener("webglcontextlost",N);var L=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],R=[L[0].slice(),L[1].slice()];function l(){if(!N()){P();var t=O.camera.tick();E.view=O.camera.matrix,A=A||t,S=S||t,_.pixelRatio=O.pixelRatio,w.pixelRatio=O.pixelRatio;var e=k.length,n=L[0],r=L[1];n[0]=n[1]=n[2]=1/0,r[0]=r[1]=r[2]=-1/0;for(var i=0;i<e;++i){(g=k[i]).pixelRatio=O.pixelRatio,g.axes=O.axes,A=A||!!g.dirty,S=S||!!g.dirty;var o=g.bounds;if(o)for(var a=o[0],s=o[1],l=0;l<3;++l)n[l]=Math.min(n[l],a[l]),r[l]=Math.max(r[l],s[l])}var u=O.bounds;if(O.autoBounds)for(var c,l=0;l<3;++l)r[l]<n[l]?(n[l]=-1,r[l]=1):(n[l]===r[l]&&(--n[l],r[l]+=1),c=.05*(r[l]-n[l]),n[l]=n[l]-c,r[l]=r[l]+c),u[0][l]=n[l],u[1][l]=r[l];for(var f=!1,l=0;l<3;++l)f=f||R[0][l]!==u[0][l]||R[1][l]!==u[1][l],R[0][l]=u[0][l],R[1][l]=u[1][l];if(S=S||f,A=A||f){if(f){for(var h=[0,0,0],i=0;i<3;++i)h[i]=function(t){var e=Math.round(Math.log(Math.abs(t))/Math.log(10));{if(e<0){var n=Math.round(Math.pow(10,-e));return Math.ceil(t*n)/n}if(0<e){n=Math.round(Math.pow(10,e));return Math.ceil(t/n)*n}}return Math.ceil(t)}((u[1][i]-u[0][i])/10);_.autoTicks?_.update({bounds:u,tickSpacing:h}):_.update({bounds:u})}var d=m.drawingBufferWidth,t=m.drawingBufferHeight;C[0]=d,C[1]=t,j[0]=0|Math.max(d/O.pixelRatio,1),j[1]=0|Math.max(t/O.pixelRatio,1),function(t){var e=t.bounds,n=t.cameraParams,r=n.projection,i=n.model,o=t.gl.drawingBufferWidth,a=t.gl.drawingBufferHeight,s=t.zNear,l=t.zFar,u=t.fovy,a=o/a;x?(z(r,-a,a,-1,1,s,l),n._ortho=!0):(F(r,u,a,s,l),n._ortho=!1);for(var c=0;c<16;++c)i[c]=0;i[15]=1;for(var f=0,c=0;c<3;++c)f=Math.max(f,e[1][c]-e[0][c]);for(c=0;c<3;++c)t.autoScale?i[5*c]=t.aspect[c]/(e[1][c]-e[0][c]):i[5*c]=1/f,t.autoCenter&&(i[12+c]=.5*-i[5*c]*(e[0][c]+e[1][c]))}(O);for(i=0;i<e;++i)(g=k[i]).axesBounds=u,O.clipToBounds&&(g.clipBounds=u);y.object&&(O.snapToData?w.position=y.dataCoordinate:w.position=y.dataPosition,w.bounds=u),S&&(S=!1,function(){if(!N()){m.colorMask(!0,!0,!0,!0),m.depthMask(!0),m.disable(m.BLEND),m.enable(m.DEPTH_TEST),m.depthFunc(m.LEQUAL);for(var t=k.length,e=M.length,n=0;n<e;++n){var r=M[n];r.shape=j,r.begin();for(var i,o=0;o<t;++o)T[o]===n&&((i=k[o]).drawPick&&(i.pixelRatio=1,i.drawPick(E)));r.end()}}}()),O.axesPixels=D(O.axes,E,d,t),O.onrender&&O.onrender(),m.bindFramebuffer(m.FRAMEBUFFER,null),m.viewport(0,0,d,t),O.clearRGBA(),m.depthMask(!0),m.colorMask(!0,!0,!0,!0),m.enable(m.DEPTH_TEST),m.depthFunc(m.LEQUAL),m.disable(m.BLEND),m.disable(m.CULL_FACE);var p=!1;_.enable&&(p=p||_.isTransparent(),_.draw(E)),w.axes=_,y.object&&w.draw(E),m.disable(m.CULL_FACE);for(i=0;i<e;++i)(g=k[i]).axes=_,g.pixelRatio=O.pixelRatio,g.isOpaque&&g.isOpaque()&&g.draw(E),g.isTransparent&&g.isTransparent()&&(p=!0);if(p){v.shape=C,v.bind(),m.clear(m.DEPTH_BUFFER_BIT),m.colorMask(!1,!1,!1,!1),m.depthMask(!0),m.depthFunc(m.LESS),_.enable&&_.isTransparent()&&_.drawTransparent(E);for(i=0;i<e;++i)(g=k[i]).isOpaque&&g.isOpaque()&&g.draw(E);m.enable(m.BLEND),m.blendEquation(m.FUNC_ADD),m.blendFunc(m.ONE,m.ONE_MINUS_SRC_ALPHA),m.colorMask(!0,!0,!0,!0),m.depthMask(!1),m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT),_.isTransparent()&&_.drawTransparent(E);for(var g,i=0;i<e;++i)(g=k[i]).isTransparent&&g.isTransparent()&&g.drawTransparent(E);m.bindFramebuffer(m.FRAMEBUFFER,null),m.blendFunc(m.ONE,m.ONE_MINUS_SRC_ALPHA),m.disable(m.DEPTH_TEST),b.bind(),v.color[0].bind(0),b.uniforms.accumBuffer=0,I(m),m.disable(m.BLEND)}A=!1;for(i=0;i<e;++i)k[i].dirty=!1}}}return O.enableMouseListeners(),function t(){if(O._stopped||O.contextLost)return;l();requestAnimationFrame(t)}(),O.redraw=function(){O._stopped||(A=!0,l())},O},createCamera:u}},{"./camera.js":507,"./lib/shader":508,"a-big-triangle":4,"gl-axes3d":456,"gl-axes3d/properties":463,"gl-fbo":469,"gl-mat4/ortho":493,"gl-mat4/perspective":494,"gl-select-static":515,"gl-spikes3d":524,"is-mobile":556,"mouse-change":598}],510:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i,o=e[0],a=e[1],s=e[2],l=e[3],u=n[0],c=n[1],f=n[2],h=n[3];(e=o*u+a*c+s*f+l*h)<0&&(e=-e,u=-u,c=-c,f=-f,h=-h);r=1e-6<1-e?(n=Math.acos(e),e=Math.sin(n),i=Math.sin((1-r)*n)/e,Math.sin(r*n)/e):(i=1-r,r);return t[0]=i*o+r*u,t[1]=i*a+r*c,t[2]=i*s+r*f,t[3]=i*l+r*h,t}},{}],511:[function(t,e,n){"use strict";e.exports=function(t){return t||0===t?t.toString():""}},{}],512:[function(t,e,n){"use strict";var f=t("vectorize-text");e.exports=function(t,e,n){var r=h[e];r=r||(h[e]={});if(t in r)return r[t];var e={textAlign:"center",textBaseline:"middle",lineHeight:1,font:e,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},i=f(t,e);e.triangles=!1;var o,a,s=f(t,e);if(n&&1!==n){for(o=0;o<i.positions.length;++o)for(a=0;a<i.positions[o].length;++a)i.positions[o][a]/=n;for(o=0;o<s.positions.length;++o)for(a=0;a<s.positions[o].length;++a)s.positions[o][a]/=n}var l=[[1/0,1/0],[-1/0,-1/0]],u=s.positions.length;for(o=0;o<u;++o){var c=s.positions[o];for(a=0;a<2;++a)l[0][a]=Math.min(l[0][a],c[a]),l[1][a]=Math.max(l[1][a],c[a])}return r[t]=[i,s,l]};var h={}},{"vectorize-text":1014}],513:[function(t,e,n){"use strict";var r=t("gl-shader"),i=t("glslify"),o=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),a=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),s=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),l=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),t=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),i=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],u={vertex:o,fragment:l,attributes:i},c={vertex:a,fragment:l,attributes:i},f={vertex:s,fragment:l,attributes:i},h={vertex:o,fragment:t,attributes:i},d={vertex:a,fragment:t,attributes:i},p={vertex:s,fragment:t,attributes:i};function g(t,e){t=r(t,e),e=t.attributes;return e.position.location=0,e.color.location=1,e.glyph.location=2,e.id.location=3,t}n.createPerspective=function(t){return g(t,u)},n.createOrtho=function(t){return g(t,c)},n.createProject=function(t){return g(t,f)},n.createPickPerspective=function(t){return g(t,h)},n.createPickOrtho=function(t){return g(t,d)},n.createPickProject=function(t){return g(t,p)}},{"gl-shader":516,glslify:545}],514:[function(t,e,n){"use strict";var i=t("is-string-blank"),d=t("gl-buffer"),p=t("gl-vao"),Z=t("typedarray-pool"),T=t("gl-mat4/multiply"),g=t("./lib/shaders"),o=t("./lib/glyphs"),a=t("./lib/get-simple-string"),M=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];return t[0]=e[0]*n+e[4]*r+e[8]*i+e[12]*o,t[1]=e[1]*n+e[5]*r+e[9]*i+e[13]*o,t[2]=e[2]*n+e[6]*r+e[10]*i+e[14]*o,t[3]=e[3]*n+e[7]*r+e[11]*i+e[15]*o,t}function A(t,e,n,r){return s(r,r),s(r,r),s(r,r)}function h(t,e){this.index=t,this.dataCoordinate=this.position=e}function $(t){return!0===t||1<t?1:t}function m(t,e,n,r,i,o,a,s,l,u,c,f){this.gl=t,this.pixelRatio=1,this.shader=e,this.orthoShader=n,this.projectShader=r,this.pointBuffer=i,this.colorBuffer=o,this.glyphBuffer=a,this.idBuffer=s,this.vao=l,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[2/3,2/3,2/3],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=u,this.pickOrthoShader=c,this.pickProjectShader=f,this.points=[],this._selectResult=new h(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}e.exports=function(t){var e=t.gl,n=g.createPerspective(e),r=g.createOrtho(e),i=g.createProject(e),o=g.createPickPerspective(e),a=g.createPickOrtho(e),s=g.createPickProject(e),l=d(e),u=d(e),c=d(e),f=d(e),h=p(e,[{buffer:l,size:3,type:e.FLOAT},{buffer:u,size:4,type:e.FLOAT},{buffer:c,size:2,type:e.FLOAT},{buffer:f,size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),s=new m(e,n,r,i,l,u,c,f,h,o,a,s);return s.update(t),s};e=m.prototype;e.pickSlots=1,e.setPickBase=function(t){this.pickId=t},e.isTransparent=function(){if(this.hasAlpha)return!0;for(var t=0;t<3;++t)if(this.axesProject[t]&&this.projectHasAlpha)return!0;return!1},e.isOpaque=function(){if(!this.hasAlpha)return!0;for(var t=0;t<3;++t)if(this.axesProject[t]&&!this.projectHasAlpha)return!0;return!1};var S=[0,0],E=[0,0,0],C=[0,0,0],O=[0,0,0,1],j=[0,0,0,1],P=M.slice(),N=[0,0,0],L=[[0,0,0],[0,0,0]];function R(t){return t[0]=t[1]=t[2]=0,t}function D(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=1,t}function I(t,e,n,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[n]=r,t}function l(t,e,n,r){var i=e.axesProject,o=e.gl,a=t.uniforms,s=n.model||M,l=n.view||M,n=n.projection||M,u=e.axesBounds,c=function(t){for(var e=L,n=0;n<2;++n)for(var r=0;r<3;++r)e[n][r]=Math.max(Math.min(t[n][r],1e8),-1e8);return e}(e.clipBounds),f=e.axes&&e.axes.lastCubeProps?e.axes.lastCubeProps.axis:[1,1,1];S[0]=2/o.drawingBufferWidth,S[1]=2/o.drawingBufferHeight,t.bind(),a.view=l,a.projection=n,a.screenSize=S,a.highlightId=e.highlightId,a.highlightScale=e.highlightScale,a.clipBounds=c,a.pickGroup=e.pickId/255,a.pixelRatio=r;for(var h=0;h<3;++h)if(i[h]){a.scale=e.projectScale[h],a.opacity=e.projectOpacity[h];for(var d=P,p=0;p<16;++p)d[p]=0;for(p=0;p<4;++p)d[5*p]=1;d[5*h]=0,f[h]<0?d[12+h]=u[0][h]:d[12+h]=u[1][h],T(d,s,d),a.model=d;var g=(h+1)%3,m=(h+2)%3,y=R(E),v=R(C);y[g]=1,v[m]=1;var b,x=A(0,0,0,D(O,y)),_=A(0,0,0,D(j,v));Math.abs(x[1])>Math.abs(_[1])&&(b=x,x=_,_=b,b=y,y=v,v=b,b=g,g=m,m=b),x[0]<0&&(y[g]=-1),0<_[1]&&(v[m]=-1);for(var w=0,k=0,p=0;p<4;++p)w+=Math.pow(s[4*g+p],2),k+=Math.pow(s[4*m+p],2);y[g]/=Math.sqrt(w),v[m]/=Math.sqrt(k),a.axes[0]=y,a.axes[1]=v,a.fragClipBounds[0]=I(N,c[0],h,-1e8),a.fragClipBounds[1]=I(N,c[1],h,1e8),e.vao.bind(),e.vao.draw(o.TRIANGLES,e.vertexCount),0<e.lineWidth&&(o.lineWidth(e.lineWidth*r),e.vao.draw(o.LINES,e.lineVertexCount,e.vertexCount)),e.vao.unbind()}}var u=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function r(t,e,n,r,i,o,a){var s=n.gl;o!==n.projectHasAlpha&&!a||l(e,n,r,i),o!==n.hasAlpha&&!a||(t.bind(),(t=t.uniforms).model=r.model||M,t.view=r.view||M,t.projection=r.projection||M,S[0]=2/s.drawingBufferWidth,S[1]=2/s.drawingBufferHeight,t.screenSize=S,t.highlightId=n.highlightId,t.highlightScale=n.highlightScale,t.fragClipBounds=u,t.clipBounds=n.axes.bounds,t.opacity=n.opacity,t.pickGroup=n.pickId/255,t.pixelRatio=i,n.vao.bind(),n.vao.draw(s.TRIANGLES,n.vertexCount),0<n.lineWidth&&(s.lineWidth(n.lineWidth*i),n.vao.draw(s.LINES,n.lineVertexCount,n.vertexCount)),n.vao.unbind())}function Q(t,e,n,r){e=Array.isArray(t)?e<t.length?t[e]:void 0:t;e=a(e);t=!0;i(e)&&(t=!(e="▼"));r=o(e,n,r);return{mesh:r[0],lines:r[1],bounds:r[2],visible:t}}e.draw=function(t){r(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,t,this.pixelRatio,!1,!1)},e.drawTransparent=function(t){r(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,t,this.pixelRatio,!0,!1)},e.drawPick=function(t){r(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,t,1,!0,!0)},e.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;t=t.value[2]+(t.value[1]<<8)+(t.value[0]<<16);if(t>=this.pointCount||t<0)return null;var e=this.points[t],n=this._selectResult;n.index=t;for(var r=0;r<3;++r)n.position[r]=n.dataCoordinate[r]=e[r];return n},e.highlight=function(t){var e,n;t?(e=255&(n=t.index),t=n>>8&255,n=n>>16&255,this.highlightId=[e/255,t/255,n/255,0]):this.highlightId=[1,1,1,1]},e.update=function(t){var e,n;if("perspective"in(t=t||{})&&(this.useOrtho=!t.perspective),"orthographic"in t&&(this.useOrtho=!!t.orthographic),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"project"in t&&(Array.isArray(t.project)?this.axesProject=t.project:(e=!!t.project,this.axesProject=[e,e,e])),"projectScale"in t&&(Array.isArray(t.projectScale)?this.projectScale=t.projectScale.slice():(n=+t.projectScale,this.projectScale=[n,n,n])),this.projectHasAlpha=!1,"projectOpacity"in t){Array.isArray(t.projectOpacity)?this.projectOpacity=t.projectOpacity.slice():(n=+t.projectOpacity,this.projectOpacity=[n,n,n]);for(var r=0;r<3;++r)this.projectOpacity[r]=$(this.projectOpacity[r]),this.projectOpacity[r]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in t&&(this.opacity=$(t.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var i,o,a=t.position,s=t.font||"normal",l=t.alignment||[0,0];if(2===l.length)i=l[0],o=l[1];else{i=[],o=[];for(r=0;r<l.length;++r)i[r]=l[r][0],o[r]=l[r][1]}var u=[1/0,1/0,1/0],c=[-1/0,-1/0,-1/0],f=t.glyph,h=t.color,d=t.size,p=t.angle,g=t.lineColor,m=-1,y=0,v=0,b=0;if(a.length){b=a.length;t:for(r=0;r<b;++r){for(var x=a[r],_=0;_<3;++_)if(isNaN(x[_])||!isFinite(x[_]))continue t;var w=(R=Q(f,r,s,this.pixelRatio)).mesh,k=R.lines,T=R.bounds;y+=3*w.cells.length,v+=2*k.edges.length}}var t=y+v,M=Z.mallocFloat(3*t),A=Z.mallocFloat(4*t),S=Z.mallocFloat(2*t),E=Z.mallocUint32(t);if(0<t){var C=0,O=y,j=[0,0,0,1],P=[0,0,0,1],N=Array.isArray(h)&&Array.isArray(h[0]),L=Array.isArray(g)&&Array.isArray(g[0]);t:for(r=0;r<b;++r){m+=1;for(x=a[r],_=0;_<3;++_){if(isNaN(x[_])||!isFinite(x[_]))continue t;c[_]=Math.max(c[_],x[_]),u[_]=Math.min(u[_],x[_])}var R,D,w=(R=Q(f,r,s,this.pixelRatio)).mesh,k=R.lines,T=R.bounds,I=R.visible;if(I)if(Array.isArray(h)){if(3===(D=N?r<h.length?h[r]:[0,0,0,0]:h).length){for(_=0;_<3;++_)j[_]=D[_];j[3]=1}else if(4===D.length){for(_=0;_<4;++_)j[_]=D[_];!this.hasAlpha&&D[3]<1&&(this.hasAlpha=!0)}}else j[0]=j[1]=j[2]=0,j[3]=1;else j=[1,1,1,0];if(I)if(Array.isArray(g)){if(3===(D=L?r<g.length?g[r]:[0,0,0,0]:g).length){for(_=0;_<3;++_)P[_]=D[_];P[_]=1}else if(4===D.length){for(_=0;_<4;++_)P[_]=D[_];!this.hasAlpha&&D[3]<1&&(this.hasAlpha=!0)}}else P[0]=P[1]=P[2]=0,P[3]=1;else P=[1,1,1,0];var F=.5;I?Array.isArray(d)?F=r<d.length?+d[r]:12:d?F=+d:this.useOrtho&&(F=12):F=0;var z=0;Array.isArray(p)?z=r<p.length?+p[r]:0:p&&(z=+p);for(var B=Math.cos(z),U=Math.sin(z),x=a[r],_=0;_<3;++_)c[_]=Math.max(c[_],x[_]),u[_]=Math.min(u[_],x[_]);I=i,z=o,I=0;Array.isArray(i)?I=r<i.length?i[r]:0:i&&(I=i);z=0;Array.isArray(o)?z=r<o.length?o[r]:0:o&&(z=o);for(var H=[I*=0<I?1-T[0][0]:I<0?1+T[1][0]:1,z*=0<z?1-T[0][1]:z<0?1+T[1][1]:1],q=w.cells||[],V=w.positions||[],_=0;_<q.length;++_)for(var G=q[_],W=0;W<3;++W){for(var Y=0;Y<3;++Y)M[3*C+Y]=x[Y];for(Y=0;Y<4;++Y)A[4*C+Y]=j[Y];E[C]=m;var X=V[G[W]];S[2*C]=F*(B*X[0]-U*X[1]+H[0]),S[2*C+1]=F*(U*X[0]+B*X[1]+H[1]),C+=1}for(q=k.edges,V=k.positions,_=0;_<q.length;++_)for(G=q[_],W=0;W<2;++W){for(Y=0;Y<3;++Y)M[3*O+Y]=x[Y];for(Y=0;Y<4;++Y)A[4*O+Y]=P[Y];E[O]=m;X=V[G[W]];S[2*O]=F*(B*X[0]-U*X[1]+H[0]),S[2*O+1]=F*(U*X[0]+B*X[1]+H[1]),O+=1}}}this.bounds=[u,c],this.points=a,this.pointCount=a.length,this.vertexCount=y,this.lineVertexCount=v,this.pointBuffer.update(M),this.colorBuffer.update(A),this.glyphBuffer.update(S),this.idBuffer.update(E),Z.free(M),Z.free(A),Z.free(S),Z.free(E)},e.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},{"./lib/get-simple-string":511,"./lib/glyphs":512,"./lib/shaders":513,"gl-buffer":464,"gl-mat4/multiply":492,"gl-vao":529,"is-string-blank":557,"typedarray-pool":1011}],515:[function(t,e,n){"use strict";e.exports=function(t,e){var n=e[0],r=e[1],e=i(t,n,r,{}),r=o.mallocUint8(n*r*4);return new u(t,e,r)};var i=t("gl-fbo"),o=t("typedarray-pool"),a=t("ndarray"),s=t("bit-twiddle").nextPow2;function l(t,e,n,r,i){this.coord=[t,e],this.id=n,this.value=r,this.distance=i}function u(t,e,n){this.gl=t,this.fbo=e,this.buffer=n,this._readTimeout=null;var r=this;this._readCallback=function(){r.gl&&(e.bind(),t.readPixels(0,0,e.shape[0],e.shape[1],t.RGBA,t.UNSIGNED_BYTE,r.buffer),r._readTimeout=null)}}t=u.prototype;Object.defineProperty(t,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(t){if(this.gl){this.fbo.shape=t;var e=this.fbo.shape[0],n=this.fbo.shape[1];if(n*e*4>this.buffer.length){o.free(this.buffer);for(var r=this.buffer=o.mallocUint8(s(n*e*4)),i=0;i<n*e*4;++i)r[i]=255}return t}}}),t.begin=function(){var t=this.gl;this.shape;t&&(this.fbo.bind(),t.clearColor(1,1,1,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT))},t.end=function(){var t=this.gl;t&&(t.bindFramebuffer(t.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},t.query=function(t,e,n){if(!this.gl)return null;var r=this.fbo.shape.slice();t|=0,e|=0,"number"!=typeof n&&(n=1);var i=0|Math.min(Math.max(t-n,0),r[0]),o=0|Math.min(Math.max(t+n,0),r[0]),t=0|Math.min(Math.max(e-n,0),r[1]),e=0|Math.min(Math.max(e+n,0),r[1]);if(o<=i||e<=t)return null;o=[o-i,e-t],e=a(this.buffer,[o[0],o[1],4],[4,4*r[0],1],4*(i+r[0]*t)),r=function(t,e,n){for(var r=1e8,i=-1,o=-1,a=t.shape[0],s=t.shape[1],l=0;l<a;l++)for(var u=0;u<s;u++){var c=t.get(l,u,0),f=t.get(l,u,1),h=t.get(l,u,2),d=t.get(l,u,3);!(c<255||f<255||h<255||d<255)||(d=(d=e-l)*d+(d=n-u)*d)<r&&(r=d,i=l,o=u)}return[i,o,r]}(e.hi(o[0],o[1],1),n,n),o=r[0],n=r[1];return o<0||Math.pow(this.radius,2)<r[2]?null:new l(o+i|0,n+t|0,e.get(o,n,0),[e.get(o,n,1),e.get(o,n,2),e.get(o,n,3)],Math.sqrt(r[2]))},t.dispose=function(){this.gl&&(this.fbo.dispose(),o.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},{"bit-twiddle":28,"gl-fbo":469,ndarray:606,"typedarray-pool":1011}],516:[function(t,e,n){"use strict";var v=t("./lib/create-uniforms"),b=t("./lib/create-attributes"),x=t("./lib/reflect"),_=t("./lib/shader-cache"),w=t("./lib/runtime-reflect"),k=t("./lib/GLError");function o(t){this.gl=t,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}t=o.prototype;function T(t,e){return t.name<e.name?-1:1}t.bind=function(){var t;this.program||this._relink();var e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),n=this.gl.lastAttribCount;if(n<e)for(t=n;t<e;t++)this.gl.enableVertexAttribArray(t);else if(e<n)for(t=e;t<n;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=e,this.gl.useProgram(this.program)},t.dispose=function(){for(var t=this.gl.lastAttribCount,e=0;e<t;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},t.update=function(t,e,n,r){e&&1!==arguments.length||(t=(a=t).vertex,e=a.fragment,n=a.uniforms,r=a.attributes);var i=this,o=i.gl,a=i._vref;i._vref=_.shader(o,o.VERTEX_SHADER,t),a&&a.dispose(),i.vertShader=i._vref.shader;a=this._fref;if(i._fref=_.shader(o,o.FRAGMENT_SHADER,e),a&&a.dispose(),i.fragShader=i._fref.shader,!n||!r){e=o.createProgram();if(o.attachShader(e,i.fragShader),o.attachShader(e,i.vertShader),o.linkProgram(e),!o.getProgramParameter(e,o.LINK_STATUS)){a=o.getProgramInfoLog(e);throw new k(a,"Error linking program:"+a)}n=n||w.uniforms(o,e),r=r||w.attributes(o,e),o.deleteProgram(e)}(r=r.slice()).sort(T);for(var s=[],l=[],u=[],c=0;c<r.length;++c){var f=r[c];if(0<=f.type.indexOf("mat")){for(var h=0|f.type.charAt(f.type.length-1),d=new Array(h),p=0;p<h;++p)d[p]=u.length,l.push(f.name+"["+p+"]"),"number"==typeof f.location?u.push(f.location+p):Array.isArray(f.location)&&f.location.length===h&&"number"==typeof f.location[p]?u.push(0|f.location[p]):u.push(-1);s.push({name:f.name,type:f.type,locations:d})}else s.push({name:f.name,type:f.type,locations:[u.length]}),l.push(f.name),"number"==typeof f.location?u.push(0|f.location):u.push(-1)}var g=0;for(c=0;c<u.length;++c)if(u[c]<0){for(;0<=u.indexOf(g);)g+=1;u[c]=g}var m=new Array(n.length);function y(){i.program=_.program(o,i._vref,i._fref,l,u);for(var t=0;t<n.length;++t)m[t]=o.getUniformLocation(i.program,n[t].name)}y(),i._relink=y,i.types={uniforms:x(n),attributes:x(r)},i.attributes=b(o,i,s,u),Object.defineProperty(i,"uniforms",v(o,i,n,m))},e.exports=function(t,e,n,r,i){return(t=new o(t)).update(e,n,r,i),t}},{"./lib/GLError":517,"./lib/create-attributes":518,"./lib/create-uniforms":519,"./lib/reflect":520,"./lib/runtime-reflect":521,"./lib/shader-cache":522}],517:[function(t,e,n){"use strict";function r(t,e,n){this.shortMessage=e||"",this.longMessage=n||"",this.rawError=t||"",this.message="gl-shader: "+(e||t||"")+(n?"\n"+n:""),this.stack=(new Error).stack}(r.prototype=new Error).name="GLError",r.prototype.constructor=r,e.exports=r},{}],518:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){for(var i={},o=0,a=n.length;o<a;++o){var s,l=n[o],u=l.name,c=l.type,f=l.locations;switch(c){case"bool":case"int":case"float":p(t,e,f[0],r,1,i,u);break;default:if(0<=c.indexOf("vec")){if((s=c.charCodeAt(c.length-1)-48)<2||4<s)throw new h("","Invalid data type for attribute "+u+": "+c);p(t,e,f[0],r,s,i,u)}else{if(!(0<=c.indexOf("mat")))throw new h("","Unknown data type for attribute "+u+": "+c);if((s=c.charCodeAt(c.length-1)-48)<2||4<s)throw new h("","Invalid data type for attribute "+u+": "+c);!function(a,t,s,l,u,e,n){for(var r=new Array(u),i=new Array(u),o=0;o<u;++o)p(a,t,s[o],l,u,r,o),i[o]=r[o];Object.defineProperty(r,"location",{set:function(t){if(Array.isArray(t))for(var e=0;e<u;++e)i[e].location=t[e];else for(e=0;e<u;++e)i[e].location=t+e;return t},get:function(){for(var t=new Array(u),e=0;e<u;++e)t[e]=l[s[e]];return t},enumerable:!0}),r.pointer=function(t,e,n,r){t=t||a.FLOAT,e=!!e,n=n||u*u,r=r||0;for(var i=0;i<u;++i){var o=l[s[i]];a.vertexAttribPointer(o,u,t,e,n,r+i*u),a.enableVertexAttribArray(o)}};var c=new Array(u),f=a["vertexAttrib"+u+"fv"];Object.defineProperty(e,n,{set:function(t){for(var e=0;e<u;++e){var n=l[s[e]];if(a.disableVertexAttribArray(n),Array.isArray(t[0]))f.call(a,n,t[e]);else{for(var r=0;r<u;++r)c[r]=t[u*e+r];f.call(a,n,c)}}return t},get:function(){return r},enumerable:!0})}(t,e,f,r,s,i,u)}}}return i};var h=t("./GLError");function d(t,e,n,r,i,o){this._gl=t,this._wrapper=e,this._index=n,this._locations=r,this._dimension=i,this._constFunc=o}t=d.prototype;function p(e,t,n,r,i,o,a){for(var s=["gl","v"],l=[],u=0;u<i;++u)s.push("x"+u),l.push("x"+u);s.push("if(x0.length===void 0){return gl.vertexAttrib"+i+"f(v,"+l.join()+")}else{return gl.vertexAttrib"+i+"fv(v,x0)}");var c=Function.apply(null,s),f=new d(e,t,n,r,i,c);Object.defineProperty(o,a,{set:function(t){return e.disableVertexAttribArray(r[n]),c(e,r[n],t),t},get:function(){return f},enumerable:!0})}t.pointer=function(t,e,n,r){var i=this._gl,o=this._locations[this._index];i.vertexAttribPointer(o,this._dimension,t||i.FLOAT,!!e,n||0,r||0),i.enableVertexAttribArray(o)},t.set=function(t,e,n,r){return this._constFunc(this._locations[this._index],t,e,n,r)},Object.defineProperty(t,"location",{get:function(){return this._locations[this._index]},set:function(t){return t!==this._locations[this._index]&&(this._locations[this._index]=0|t,this._wrapper.program=null),0|t}})},{"./GLError":517}],519:[function(t,e,n){"use strict";function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=t("./reflect"),h=t("./GLError");function d(t){return new Function("y","return function(){return y}")(t)}function p(t,e){for(var n=new Array(t),r=0;r<t;++r)n[r]=e;return n}e.exports=function(a,i,s,l){function o(t){for(var e=["return function updateProperty(obj){"],n=function t(e,n){if("object"!==f(n))return[[e,n]];var r,i=[];for(r in n){var o=n[r],a=e;parseInt(r)+""===r?a+="["+r+"]":a+="."+r,"object"===f(o)?i.push.apply(i,t(a,o)):i.push([a,o])}return i}("",t),r=0;r<n.length;++r){var i=n[r],o=i[0],i=i[1];l[i]&&e.push(function(t,e,n){switch(n){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+e+"],obj"+t+")";case"float":return"gl.uniform1f(locations["+e+"],obj"+t+")";default:var r,i=n.indexOf("vec");if(!(0<=i&&i<=1&&n.length===4+i)){if(0!==n.indexOf("mat")||4!==n.length)throw new h("","Unknown uniform data type for "+name+": "+n);if((r=n.charCodeAt(n.length-1)-48)<2||4<r)throw new h("","Invalid uniform dimension type for matrix "+name+": "+n);return"gl.uniformMatrix"+r+"fv(locations["+e+"],false,obj"+t+")"}if((r=n.charCodeAt(n.length-1)-48)<2||4<r)throw new h("","Invalid data type");switch(n.charAt(0)){case"b":case"i":return"gl.uniform"+r+"iv(locations["+e+"],obj"+t+")";case"v":return"gl.uniform"+r+"fv(locations["+e+"],obj"+t+")";default:throw new h("","Unrecognized data type for vector "+name+": "+n)}}}(o,i,s[i].type))}return e.push("return obj}"),new Function("gl","locations",e.join("\n"))(a,l)}function u(t,e,n){var r;"object"===f(n)?(r=c(n),Object.defineProperty(t,e,{get:d(r),set:o(n),enumerable:!0,configurable:!1})):l[n]?Object.defineProperty(t,e,{get:new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+n+"])}")(a,i,l),set:o(n),enumerable:!0,configurable:!1}):t[e]=function(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var e,n=t.indexOf("vec");if(0<=n&&n<=1&&t.length===4+n){if((e=t.charCodeAt(t.length-1)-48)<2||4<e)throw new h("","Invalid data type");return"b"===t.charAt(0)?p(e,!1):p(e,0)}if(0!==t.indexOf("mat")||4!==t.length)throw new h("","Unknown uniform data type for "+name+": "+t);if((e=t.charCodeAt(t.length-1)-48)<2||4<e)throw new h("","Invalid uniform dimension type for matrix "+name+": "+t);return p(e*e,0)}}(s[n].type)}function c(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var n=0;n<t.length;++n)u(e,n,t[n])}else for(var r in e={},t)u(e,r,t[r]);return e}var t=r(s,!0);return{get:d(c(t)),set:o(t),enumerable:!0,configurable:!0}}},{"./GLError":517,"./reflect":520}],520:[function(t,e,n){"use strict";e.exports=function(t,e){for(var n={},r=0;r<t.length;++r)for(var i=t[r].name.split("."),o=n,a=0;a<i.length;++a){var s=i[a].split("[");if(1<s.length){s[0]in o||(o[s[0]]=[]),o=o[s[0]];for(var l=1;l<s.length;++l){var u=parseInt(s[l]);l<s.length-1||a<i.length-1?(u in o||(l<s.length-1?o[u]=[]:o[u]={}),o=o[u]):o[u]=e?r:t[r].type}}else a<i.length-1?(s[0]in o||(o[s[0]]={}),o=o[s[0]]):o[s[0]]=e?r:t[r].type}return n}},{}],521:[function(t,e,n){"use strict";n.uniforms=function(t,e){for(var n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),r=[],i=0;i<n;++i){var o=t.getActiveUniform(e,i);if(o){var a=l(t,o.type);if(1<o.size)for(var s=0;s<o.size;++s)r.push({name:o.name.replace("[0]","["+s+"]"),type:a});else r.push({name:o.name,type:a})}}return r},n.attributes=function(t,e){for(var n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),r=[],i=0;i<n;++i){var o=t.getActiveAttrib(e,i);o&&r.push({name:o.name,type:l(t,o.type)})}return r};var o={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},a=null;function l(t,e){if(!a){var n=Object.keys(o);a={};for(var r=0;r<n.length;++r){var i=n[r];a[t[i]]=o[i]}}return a[e]}},{}],522:[function(t,e,n){"use strict";n.shader=function(t,e,n){return u(t).getShaderReference(e,n)},n.program=function(t,e,n,r,i){return u(t).getProgram(e,n,r,i)};var s=t("./GLError"),a=t("gl-format-compiler-error"),r=new("undefined"==typeof WeakMap?t("weakmap-shim"):WeakMap),o=0;function l(t,e,n,r,i,o,a){this.id=t,this.src=e,this.type=n,this.shader=r,this.count=o,this.programs=[],this.cache=a}function i(t){this.gl=t,this.shaders=[{},{}],this.programs={}}l.prototype.dispose=function(){if(0==--this.count){for(var t=this.cache,e=t.gl,n=this.programs,r=0,i=n.length;r<i;++r){var o=t.programs[n[r]];o&&(delete t.programs[r],e.deleteProgram(o))}e.deleteShader(this.shader),delete t.shaders[this.type===e.FRAGMENT_SHADER|0][this.src]}};t=i.prototype;function u(t){var e=r.get(t);return e||(e=new i(t),r.set(t,e)),e}t.getShaderReference=function(t,e){var n=this.gl,r=this.shaders[t===n.FRAGMENT_SHADER|0],i=r[e];return i&&n.isShader(i.shader)?i.count+=1:(n=function(t,e,n){var r=t.createShader(e);if(t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))return r;var i=t.getShaderInfoLog(r);try{var o=a(i,n,e)}catch(t){throw console.warn("Failed to format compiler error: "+t),new s(i,"Error compiling shader:\n"+i)}throw new s(i,o.short,o.long)}(n,t,e),i=r[e]=new l(o++,e,t,n,0,1,this)),i},t.getProgram=function(t,e,n,r){var i=[t.id,e.id,n.join(":"),r.join(":")].join("@"),o=this.programs[i];return o&&this.gl.isProgram(o)||(this.programs[i]=o=function(t,e,n,r,i){var o=t.createProgram();t.attachShader(o,e),t.attachShader(o,n);for(var a=0;a<r.length;++a)t.bindAttribLocation(o,i[a],r[a]);if(t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS))return o;throw n=t.getProgramInfoLog(o),new s(n,"Error linking program: "+n)}(this.gl,t.shader,e.shader,n,r),t.programs.push(i),e.programs.push(i)),o}},{"./GLError":517,"gl-format-compiler-error":470,"weakmap-shim":1019}],523:[function(t,e,n){"use strict";var r=t("glslify"),i=t("gl-shader"),o=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),a=r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);e.exports=function(t){return i(t,o,a,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},{"gl-shader":516,glslify:545}],524:[function(t,e,n){"use strict";var s=t("gl-buffer"),l=t("gl-vao"),u=t("./shaders/index");e.exports=function(t,e){var a=[];function n(t,e,n,r,i,o){n=[t,e,n,0,0,0,1];n[r+3]=1,n[r]=i,a.push.apply(a,n),n[6]=-1,a.push.apply(a,n),n[r]=o,a.push.apply(a,n),a.push.apply(a,n),n[6]=1,a.push.apply(a,n),n[r]=i,a.push.apply(a,n)}n(0,0,0,0,0,1),n(0,0,0,1,0,1),n(0,0,0,2,0,1),n(1,0,0,1,-1,1),n(1,0,0,2,-1,1),n(0,1,0,0,-1,1),n(0,1,0,2,-1,1),n(0,0,1,0,-1,1),n(0,0,1,1,-1,1);var r=s(t,a),i=l(t,[{type:t.FLOAT,buffer:r,size:3,offset:0,stride:28},{type:t.FLOAT,buffer:r,size:3,offset:12,stride:28},{type:t.FLOAT,buffer:r,size:1,offset:24,stride:28}]),o=u(t);o.attributes.position.location=0,o.attributes.color.location=1,o.attributes.weight.location=2;o=new f(t,r,i,o);return o.update(e),o};var c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(t,e,n,r){this.gl=t,this.buffer=e,this.vao=n,this.shader=r,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var e=f.prototype,h=[0,0,0],d=[0,0,0],p=[0,0];e.isTransparent=function(){return!1},e.drawTransparent=function(t){},e.draw=function(t){var e=this.gl,n=this.vao,r=this.shader;n.bind(),r.bind();var i,o=t.model||c,a=t.view||c,t=t.projection||c;this.axes&&(i=this.axes.lastCubeProps.axis);for(var s=h,l=d,u=0;u<3;++u)i&&i[u]<0?(s[u]=this.bounds[0][u],l[u]=this.bounds[1][u]):(s[u]=this.bounds[1][u],l[u]=this.bounds[0][u]);p[0]=e.drawingBufferWidth,p[1]=e.drawingBufferHeight,r.uniforms.model=o,r.uniforms.view=a,r.uniforms.projection=t,r.uniforms.coordinates=[this.position,s,l],r.uniforms.colors=this.colors,r.uniforms.screenShape=p;for(u=0;u<3;++u)r.uniforms.lineWidth=this.lineWidth[u]*this.pixelRatio,this.enabled[u]&&(n.draw(e.TRIANGLES,6,6*u),this.drawSides[u]&&n.draw(e.TRIANGLES,12,18+12*u));n.unbind()},e.update=function(t){t&&("bounds"in t&&(this.bounds=t.bounds),"position"in t&&(this.position=t.position),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"colors"in t&&(this.colors=t.colors),"enabled"in t&&(this.enabled=t.enabled),"drawSides"in t&&(this.drawSides=t.drawSides))},e.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},{"./shaders/index":523,"gl-buffer":464,"gl-vao":529}],525:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d=t("ndarray"),p=t("ndarray-ops"),g=t("typedarray-pool");e.exports=function(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");i||(i=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],o=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],a=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]);if("number"==typeof arguments[1])return u(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return u(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"===r(arguments[1])){var e=arguments[1],n=s(e)?e:e.raw;if(n)return function(t,e,n,r,i,o){var a=f(t);return t.texImage2D(t.TEXTURE_2D,0,i,i,o,e),new c(t,a,n,r,i,o)}(t,n,0|e.width,0|e.height,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return function(t,e){var n=e.dtype,r=e.shape.slice(),i=t.getParameter(t.MAX_TEXTURE_SIZE);if(r[0]<0||r[0]>i||r[1]<0||r[1]>i)throw new Error("gl-texture2d: Invalid texture size");var o=y(r,e.stride.slice()),a=0;"float32"===n?a=t.FLOAT:"float64"===n?(a=t.FLOAT,o=!1,n="float32"):"uint8"===n?a=t.UNSIGNED_BYTE:(a=t.UNSIGNED_BYTE,o=!1,n="uint8");var s,l=0;if(2===r.length)l=t.LUMINANCE,r=[r[0],r[1],1],e=d(e.data,r,[e.stride[0],e.stride[1],1],e.offset);else{if(3!==r.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===r[2])l=t.ALPHA;else if(2===r[2])l=t.LUMINANCE_ALPHA;else if(3===r[2])l=t.RGB;else{if(4!==r[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");l=t.RGBA}}a!==t.FLOAT||t.getExtension("OES_texture_float")||(a=t.UNSIGNED_BYTE,o=!1);var u=e.size;e=o?0===e.offset&&e.data.length===u?e.data:e.data.subarray(e.offset,e.offset+u):(i=[r[2],r[2]*r[0],1],s=g.malloc(u,n),i=d(s,r,i,0),"float32"!==n&&"float64"!==n||a!==t.UNSIGNED_BYTE?p.assign(i,e):m(i,e),s.subarray(0,u));u=f(t);t.texImage2D(t.TEXTURE_2D,0,l,r[0],r[1],0,l,a,e),o||g.free(s);return new c(t,u,r[0],r[1],l,a)}(t,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var i=null,o=null,a=null;function s(t){return"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&t instanceof ImageData}var m=function(t,e){p.muls(t,e,255)};function l(t,e,n){var r=t.gl,i=r.getParameter(r.MAX_TEXTURE_SIZE);if(e<0||i<e||n<0||i<n)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[e,n],t.bind(),r.texImage2D(r.TEXTURE_2D,0,t.format,e,n,0,t.format,t.type,null),t._mipLevels=[0],t}function c(t,e,n,r,i,o){this.gl=t,this.handle=e,this.format=i,this.type=o,this._shape=[n,r],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var a=this,t=[this._wrapS,this._wrapT];Object.defineProperties(t,[{get:function(){return a._wrapS},set:function(t){return a.wrapS=t}},{get:function(){return a._wrapT},set:function(t){return a.wrapT=t}}]),this._wrapVector=t;t=[this._shape[0],this._shape[1]];Object.defineProperties(t,[{get:function(){return a._shape[0]},set:function(t){return a.width=t}},{get:function(){return a._shape[1]},set:function(t){return a.height=t}}]),this._shapeVector=t}e=c.prototype;function y(t,e){return 3===t.length?1===e[2]&&e[1]===t[0]*t[2]&&e[0]===t[2]:1===e[0]&&e[1]===t[0]}function f(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e}function u(t,e,n,r,i){var o=t.getParameter(t.MAX_TEXTURE_SIZE);if(e<0||o<e||n<0||o<n)throw new Error("gl-texture2d: Invalid texture shape");if(i===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");o=f(t);return t.texImage2D(t.TEXTURE_2D,0,r,e,n,0,r,i,null),new c(t,o,e,n,r,i)}Object.defineProperties(e,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&0<=i.indexOf(t)&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),o.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&0<=i.indexOf(t)&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),o.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var e=this._anisoSamples;return this._anisoSamples=0|Math.max(t,1),e===this._anisoSamples||(e=this.gl.getExtension("EXT_texture_filter_anisotropic"))&&this.gl.texParameterf(this.gl.TEXTURE_2D,e.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples),this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),a.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),a.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var e=0;e<2;++e)if(a.indexOf(t[e])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var n=this.gl;return this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this._wrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return l(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return l(this,t|=0,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t|=0,l(this,this._shape[0],t),t}}}),e.bind=function(t){var e=this.gl;return void 0!==t&&e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(e.TEXTURE_2D,this.handle),void 0!==t?0|t:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},e.dispose=function(){this.gl.deleteTexture(this.handle)},e.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),e=0;0<t;++e,t>>>=1)this._mipLevels.indexOf(e)<0&&this._mipLevels.push(e)},e.setPixels=function(t,e,n,r){var i=this.gl;this.bind(),Array.isArray(e)?(r=n,n=0|e[1],e=0|e[0]):(e=e||0,n=n||0),r=r||0;var o=s(t)?t:t.raw;if(o)this._mipLevels.indexOf(r)<0?(i.texImage2D(i.TEXTURE_2D,0,this.format,this.format,this.type,o),this._mipLevels.push(r)):i.texSubImage2D(i.TEXTURE_2D,r,e,n,this.format,this.type,o);else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||e+t.shape[1]>this._shape[1]>>>r||n+t.shape[0]>this._shape[0]>>>r||e<0||n<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(t,e,n,r,i,o,a,s){var l=s.dtype,u=s.shape.slice();if(u.length<2||3<u.length)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var c=0,f=0,h=y(u,s.stride.slice());if("float32"===l?c=t.FLOAT:"float64"===l?(c=t.FLOAT,h=!1,l="float32"):"uint8"===l?c=t.UNSIGNED_BYTE:(c=t.UNSIGNED_BYTE,h=!1,l="uint8"),2===u.length)f=t.LUMINANCE,u=[u[0],u[1],1],s=d(s.data,u,[s.stride[0],s.stride[1],1],s.offset);else{if(3!==u.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===u[2])f=t.ALPHA;else if(2===u[2])f=t.LUMINANCE_ALPHA;else if(3===u[2])f=t.RGB;else{if(4!==u[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");f=t.RGBA}u[2]}if(f!==t.LUMINANCE&&f!==t.ALPHA||i!==t.LUMINANCE&&i!==t.ALPHA||(f=i),f!==i)throw new Error("gl-texture2d: Incompatible texture format for setPixels");l=s.size,(f=a.indexOf(r)<0)&&a.push(r),c===o&&h?0===s.offset&&s.data.length===l?f?t.texImage2D(t.TEXTURE_2D,r,i,u[0],u[1],0,i,o,s.data):t.texSubImage2D(t.TEXTURE_2D,r,e,n,u[0],u[1],i,o,s.data):f?t.texImage2D(t.TEXTURE_2D,r,i,u[0],u[1],0,i,o,s.data.subarray(s.offset,s.offset+l)):t.texSubImage2D(t.TEXTURE_2D,r,e,n,u[0],u[1],i,o,s.data.subarray(s.offset,s.offset+l)):(a=o===t.FLOAT?g.mallocFloat32(l):g.mallocUint8(l),h=d(a,u,[u[2],u[2]*u[0],1]),c===t.FLOAT&&o===t.UNSIGNED_BYTE?m(h,s):p.assign(h,s),f?t.texImage2D(t.TEXTURE_2D,r,i,u[0],u[1],0,i,o,a.subarray(0,l)):t.texSubImage2D(t.TEXTURE_2D,r,e,n,u[0],u[1],i,o,a.subarray(0,l)),o===t.FLOAT?g.freeFloat32(a):g.freeUint8(a))}(i,e,n,r,this.format,this.type,this._mipLevels,t)}}},{ndarray:606,"ndarray-ops":603,"typedarray-pool":1011}],526:[function(t,e,n){"use strict";e.exports=function(t,e,n){e?e.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var r=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(n){if(n.length>r)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<n.length;++i){var o=n[i];if(o.buffer){var a=o.buffer,s=o.size||4,l=o.type||t.FLOAT,u=!!o.normalized,c=o.stride||0,f=o.offset||0;a.bind(),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,s,l,u,c,f)}else{if("number"==typeof o)t.vertexAttrib1f(i,o);else if(1===o.length)t.vertexAttrib1f(i,o[0]);else if(2===o.length)t.vertexAttrib2f(i,o[0],o[1]);else if(3===o.length)t.vertexAttrib3f(i,o[0],o[1],o[2]);else{if(4!==o.length)throw new Error("gl-vao: Invalid vertex attribute");t.vertexAttrib4f(i,o[0],o[1],o[2],o[3])}t.disableVertexAttribArray(i)}}for(;i<r;++i)t.disableVertexAttribArray(i)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(i=0;i<r;++i)t.disableVertexAttribArray(i)}}},{}],527:[function(t,e,n){"use strict";var r=t("./do-bind.js");function i(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}i.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},i.prototype.update=function(t,e,n){this._elements=e,this._attributes=t,this._elementsType=n||this.gl.UNSIGNED_SHORT},i.prototype.dispose=function(){},i.prototype.unbind=function(){},i.prototype.draw=function(t,e,n){n=n||0;var r=this.gl;this._elements?r.drawElements(t,e,this._elementsType,n):r.drawArrays(t,n,e)},e.exports=function(t){return new i(t)}},{"./do-bind.js":526}],528:[function(t,e,n){"use strict";var o=t("./do-bind.js");function a(t,e,n,r,i,o){this.location=t,this.dimension=e,this.a=n,this.b=r,this.c=i,this.d=o}function r(t,e,n){this.gl=t,this._ext=e,this.handle=n,this._attribs=[],this._useElements=!1,this._elementsType=t.UNSIGNED_SHORT}a.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},r.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var t=0;t<this._attribs.length;++t)this._attribs[t].bind(this.gl)},r.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},r.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},r.prototype.update=function(t,e,n){if(this.bind(),o(this.gl,e,t),this.unbind(),this._attribs.length=0,t)for(var r=0;r<t.length;++r){var i=t[r];"number"==typeof i?this._attribs.push(new a(r,1,i)):Array.isArray(i)&&this._attribs.push(new a(r,i.length,i[0],i[1],i[2],i[3]))}this._useElements=!!e,this._elementsType=n||this.gl.UNSIGNED_SHORT},r.prototype.draw=function(t,e,n){n=n||0;var r=this.gl;this._useElements?r.drawElements(t,e,this._elementsType,n):r.drawArrays(t,n,e)},e.exports=function(t,e){return new r(t,e,e.createVertexArrayOES())}},{"./do-bind.js":526}],529:[function(t,e,n){"use strict";var o=t("./lib/vao-native.js"),a=t("./lib/vao-emulated.js");function s(t){this.bindVertexArrayOES=t.bindVertexArray.bind(t),this.createVertexArrayOES=t.createVertexArray.bind(t),this.deleteVertexArrayOES=t.deleteVertexArray.bind(t)}e.exports=function(t,e,n,r){var i=t.createVertexArray?new s(t):t.getExtension("OES_vertex_array_object");return(t=i?o(t,i):a(t)).update(e,n,r),t}},{"./lib/vao-emulated.js":527,"./lib/vao-native.js":528}],530:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],e=n[1],n=n[2];return t[0]=i*n-o*e,t[1]=o*a-r*n,t[2]=r*e-i*a,t}},{}],531:[function(t,e,n){"use strict";e.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},{}],532:[function(t,e,n){"use strict";e.exports=function(t){var e=t[0],n=t[1],t=t[2];return Math.sqrt(e*e+n*n+t*t)}},{}],533:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=e[0],o=e[1],e=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=e+r*(n[2]-e),t}},{}],534:[function(t,e,n){"use strict";e.exports=function(t,e){var n=e[0],r=e[1],i=e[2],i=n*n+r*r+i*i;0<i&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i);return t}},{}],535:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],e=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*e,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*e,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*e,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*e,t}},{}],536:[function(t,e,n){"use strict";var o=t("glsl-tokenizer"),a=t("atob-lite");e.exports=function(t){for(var e=Array.isArray(t)?t:o(t),n=0;n<e.length;n++){var r=e[n];if("preprocessor"===r.type){var i=r.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(i&&i[2]){r=i[1],i=i[2];return(r?a(i):i).trim()}}}}},{"atob-lite":537,"glsl-tokenizer":544}],537:[function(t,e,n){"use strict";e.exports=function(t){return atob(t)}},{}],538:[function(t,e,n){"use strict";e.exports=function(t){var n,r,i,o=0,a=0,s=S,l=[],u=[],c=1,f=0,h=0,d=!1,p=!1,g="",e=T,m=w;"300 es"===(t=t||{}).version&&(e=A,m=M);for(var y={},v={},o=0;o<e.length;o++)y[e[o]]=!0;for(o=0;o<m.length;o++)v[m[o]]=!0;return function(t){return u=[],null!==t?function(t){o=0,t.toString&&(t=t.toString());var e;g+=t.replace(/\r\n/g,"\n"),i=g.length;for(;n=g[o],o<i;){switch(e=o,s){case C:"/"!==n||"*"!==r?(l.push(n),r=n):(l.push(n),b(l.join("")),s=S),o+=1;break;case O:case j:o=x();break;case P:o=function(){if("."===r&&/\d/.test(n))return s=L,o;if("/"===r&&"*"===n)return s=C,o;if("/"===r&&"/"===n)return s=O,o;if("."===n&&l.length){for(;_(l););return s=L,o}if(";"===n||")"===n||"("===n){if(l.length)for(;_(l););return b(n),s=S,o+1}var t=2===l.length&&"="!==n;if(/[\w_\d\s]/.test(n)||t){for(;_(l););return s=S,o}return l.push(n),r=n,o+1}();break;case N:o=function(){if("."===n)return l.push(n),s=L,r=n,o+1;if(/[eE]/.test(n))return l.push(n),s=L,r=n,o+1;if("x"===n&&1===l.length&&"0"===l[0])return s=B,l.push(n),r=n,o+1;if(/[^\d]/.test(n))return b(l.join("")),s=S,o;return l.push(n),r=n,o+1}();break;case B:o=function(){if(/[^a-fA-F0-9]/.test(n))return b(l.join("")),s=S,o;return l.push(n),r=n,o+1}();break;case L:o=function(){"f"===n&&(l.push(n),r=n,o+=1);if(/[eE]/.test(n))return l.push(n),r=n,o+1;if(("-"===n||"+"===n)&&/[eE]/.test(r))return l.push(n),r=n,o+1;if(/[^\d]/.test(n))return b(l.join("")),s=S,o;return l.push(n),r=n,o+1}();break;case E:o=function(){if(/[^\d\w_]/.test(n)){var t=l.join("");return s=v[t]?I:y[t]?D:R,b(l.join("")),s=S,o}return l.push(n),r=n,o+1}();break;case F:o=function(){if(/[^\s]/g.test(n))return b(l.join("")),s=S,o;return l.push(n),r=n,o+1}();break;case S:o=function(){if(l=l.length?[]:l,"/"===r&&"*"===n)return h=a+o-1,s=C,r=n,o+1;if("/"===r&&"/"===n)return h=a+o-1,s=O,r=n,o+1;if("#"===n)return s=j,h=a+o,o;if(/\s/.test(n))return s=F,h=a+o,o;return d=/\d/.test(n),p=/[^\w_]/.test(n),h=a+o,s=d?N:p?P:E,o}()}e!==o&&("\n"===g[e]?(f=0,++c):++f)}return a+=o,g=g.slice(o),u}(t):function(){l.length&&b(l.join(""));return s=z,b("(eof)"),u}()};function b(t){t.length&&u.push({type:U[s],data:t,position:h,line:c,column:f})}function x(){return"\r"!==n&&"\n"!==n||"\\"===r?(l.push(n),r=n,o+1):(b(l.join("")),s=S,o)}function _(t){var e,n,r=0;do{if(e=k.indexOf(t.slice(0,t.length+r).join("")),n=k[e],-1===e){if(0<r--+t.length)continue;n=t.slice(0,1).join("")}return b(n),h+=n.length,(l=l.slice(n.length)).length}while(1)}};var w=t("./lib/literals"),k=t("./lib/operators"),T=t("./lib/builtins"),M=t("./lib/literals-300es"),A=t("./lib/builtins-300es"),S=999,E=9999,C=0,O=1,j=2,P=3,N=4,L=5,R=6,D=7,I=8,F=9,z=10,B=11,U=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},{"./lib/builtins":540,"./lib/builtins-300es":539,"./lib/literals":542,"./lib/literals-300es":541,"./lib/operators":543}],539:[function(t,e,n){"use strict";t=(t=t("./builtins")).slice().filter(function(t){return!/^(gl\_|texture)/.test(t)});e.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},{"./builtins":540}],540:[function(t,e,n){"use strict";e.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},{}],541:[function(t,e,n){"use strict";t=t("./literals");e.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},{"./literals":542}],542:[function(t,e,n){"use strict";e.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},{}],543:[function(t,e,n){"use strict";e.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},{}],544:[function(t,e,n){"use strict";var r=t("./index");e.exports=function(t,e){var n=r(e),e=[];return e=(e=e.concat(n(t))).concat(n(null))}},{"./index":538}],545:[function(t,e,n){"use strict";e.exports=function(t){"string"==typeof t&&(t=[t]);for(var e=[].slice.call(arguments,1),n=[],r=0;r<t.length-1;r++)n.push(t[r],e[r]||"");return n.push(t[r]),n.join("")}},{}],546:[function(n,r,t){(function(e){(function(){"use strict";var t=n("is-browser"),t="function"==typeof e.matchMedia?!e.matchMedia("(hover: none)").matches:t;r.exports=t}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"is-browser":554}],547:[function(t,e,n){"use strict";t=t("is-browser");e.exports=t&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return e}()},{"is-browser":554}],548:[function(t,e,n){"use strict";n.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,h=n?-1:1,n=t[e+f];for(f+=h,o=n&(1<<-c)-1,n>>=-c,c+=s;0<c;o=256*o+t[e+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;0<c;a=256*a+t[e+f],f+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(n?-1:1);a+=Math.pow(2,r),o-=u}return(n?-1:1)*a*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var a,s,l=8*o-i-1,u=(1<<l)-1,c=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,d=r?1:-1,o=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(r=Math.pow(2,-a))<1&&(a--,r*=2),2<=(e+=1<=a+c?f/r:f*Math.pow(2,1-c))*r&&(a++,r/=2),u<=a+c?(s=0,a=u):1<=a+c?(s=(e*r-1)*Math.pow(2,i),a+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,i),a=0));8<=i;t[n+h]=255&s,h+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;0<l;t[n+h]=255&a,h+=d,a/=256,l-=8);t[n+h-d]|=128*o}},{}],549:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.length;if(0===n)throw new Error("Must have at least d+1 points");var r=t[0].length;if(n<=r)throw new Error("Must input at least d+1 points");var i=t.slice(0,r+1),o=b.apply(void 0,i);if(0===o)throw new Error("Input not in general position");for(var a=new Array(r+1),s=0;s<=r;++s)a[s]=s;o<0&&(a[0]=1,a[1]=0);for(var l=new P(a,new Array(r+1),!1),u=l.adjacent,c=new Array(r+2),s=0;s<=r;++s){for(var f=a.slice(),h=0;h<=r;++h)h===s&&(f[h]=-1);var d=f[0];f[0]=f[1],f[1]=d;d=new P(f,new Array(r+1),!0);u[s]=d,c[s]=d}c[r+1]=l;for(s=0;s<=r;++s)for(var f=u[s].vertices,p=u[s].adjacent,h=0;h<=r;++h){var g=f[h];if(g<0)p[h]=l;else for(var m=0;m<=r;++m)u[m].vertices.indexOf(g)<0&&(p[h]=u[m])}for(var y=new x(r,i,c),v=!!e,s=r+1;s<n;++s)y.insert(t[s],v);return y.boundary()};var b=t("robust-orientation"),r=t("simplicial-complex").compareCells;function P(t,e,n){this.vertices=t,this.adjacent=e,this.boundary=n,this.lastVisited=-1}function N(t,e,n){this.vertices=t,this.cell=e,this.index=n}function L(t,e){return r(t.vertices,e.vertices)}P.prototype.flip=function(){var t=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=t;t=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=t};var i=[];function x(t,e,n){this.dimension=t,this.vertices=e,this.simplices=n,this.interior=n.filter(function(t){return!t.boundary}),this.tuple=new Array(t+1);for(var r=0;r<=t;++r)this.tuple[r]=this.vertices[r];n=(n=i[t])||(i[t]=function(t){for(var e=["function orient(){var tuple=this.tuple;return test("],n=0;n<=t;++n)0<n&&e.push(","),e.push("tuple[",n,"]");return e.push(")}return orient"),new Function("test",e.join(""))(b[t+1]||b)}(t));this.orient=n}t=x.prototype;t.handleBoundaryDegeneracy=function(t,e){var n=this.dimension,r=this.vertices.length-1,i=this.tuple,o=this.vertices,a=[t];for(t.lastVisited=-r;0<a.length;){(t=a.pop()).vertices;for(var s=t.adjacent,l=0;l<=n;++l){var u=s[l];if(u.boundary&&!(u.lastVisited<=-r)){for(var c=u.vertices,f=0;f<=n;++f){var h=c[f];i[f]=h<0?e:o[h]}var d=this.orient();if(0<d)return u;u.lastVisited=-r,0===d&&a.push(u)}}}return null},t.walk=function(t,e){var n=this.vertices.length-1,r=this.dimension,i=this.vertices,o=this.tuple,e=e?this.interior.length*Math.random()|0:this.interior.length-1,a=this.interior[e];t:for(;!a.boundary;){for(var s=a.vertices,l=a.adjacent,u=0;u<=r;++u)o[u]=i[s[u]];a.lastVisited=n;for(u=0;u<=r;++u){var c=l[u];if(!(c.lastVisited>=n)){var f=o[u];o[u]=t;var h=this.orient();if(o[u]=f,h<0){a=c;continue t}c.boundary?c.lastVisited=-n:c.lastVisited=n}}return}return a},t.addPeaks=function(t,e){var n=this.vertices.length-1,r=this.dimension,i=this.vertices,o=this.tuple,a=this.interior,s=this.simplices,l=[e];e.lastVisited=n,e.vertices[e.vertices.indexOf(-1)]=n,e.boundary=!1,a.push(e);for(var u=[];0<l.length;){var c=(e=l.pop()).vertices,f=e.adjacent,h=c.indexOf(n);if(!(h<0))for(var d=0;d<=r;++d)if(d!==h){var p=f[d];if(p.boundary&&!(p.lastVisited>=n)){var g=p.vertices;if(p.lastVisited!==-n){for(var m=0,y=0;y<=r;++y)g[y]<0?o[m=y]=t:o[y]=i[g[y]];if(0<this.orient()){g[m]=n,p.boundary=!1,a.push(p),l.push(p),p.lastVisited=n;continue}p.lastVisited=-n}var v=p.adjacent,b=c.slice(),x=f.slice(),_=new P(b,x,!0);s.push(_);var w=v.indexOf(e);if(!(w<0)){v[w]=_,x[h]=p,b[d]=-1,x[d]=e,(f[d]=_).flip();for(y=0;y<=r;++y){var k=b[y];if(!(k<0||k===n)){for(var T=new Array(r-1),M=0,A=0;A<=r;++A){var S=b[A];S<0||A===y||(T[M++]=S)}u.push(new N(T,_,y))}}}}}}u.sort(L);for(d=0;d+1<u.length;d+=2){var E=u[d],C=u[d+1],O=E.index,j=C.index;O<0||j<0||(E.cell.adjacent[E.index]=C.cell,C.cell.adjacent[C.index]=E.cell)}},t.insert=function(t,e){var n=this.vertices;n.push(t);var r=this.walk(t,e);if(r){for(var i=this.dimension,o=this.tuple,a=0;a<=i;++a){var s=r.vertices[a];o[a]=s<0?t:n[s]}e=this.orient(o);e<0||0===e&&!(r=this.handleBoundaryDegeneracy(r,t))||this.addPeaks(t,r)}},t.boundary=function(){for(var t=this.dimension,e=[],n=this.simplices,r=n.length,i=0;i<r;++i){var o=n[i];if(o.boundary){for(var a=new Array(t),s=o.vertices,l=0,u=0,c=0;c<=t;++c)0<=s[c]?a[l++]=s[c]:u=1&c;u===(1&t)&&(o=a[0],a[0]=a[1],a[1]=o),e.push(a)}}return e}},{"robust-orientation":986,"simplicial-complex":994}],550:[function(t,e,n){"use strict";var a=t("binary-search-bounds");function c(t,e,n,r,i){this.mid=t,this.left=e,this.right=n,this.leftPoints=r,this.rightPoints=i,this.count=(e?e.count:0)+(n?n.count:0)+r.length}e.exports=function(t){return t&&0!==t.length?new m(g(t)):new m(null)};e=c.prototype;function s(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function r(t,e){e=g(e);t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function i(t,e){var n=t.intervals([]);n.push(e),r(t,n)}function l(t,e){var n=t.intervals([]),e=n.indexOf(e);return e<0?0:(n.splice(e,1),r(t,n),1)}function o(t,e,n){for(var r=0;r<t.length&&t[r][0]<=e;++r){var i=n(t[r]);if(i)return i}}function u(t,e,n){for(var r=t.length-1;0<=r&&t[r][1]>=e;--r){var i=n(t[r]);if(i)return i}}function f(t,e){for(var n=0;n<t.length;++n){var r=e(t[n]);if(r)return r}}function h(t,e){return t-e}function d(t,e){var n=t[0]-e[0];return n||t[1]-e[1]}function p(t,e){var n=t[1]-e[1];return n||t[0]-e[0]}function g(t){if(0===t.length)return null;for(var e=[],n=0;n<t.length;++n)e.push(t[n][0],t[n][1]);e.sort(h);for(var r=e[e.length>>1],i=[],o=[],a=[],n=0;n<t.length;++n){var s=t[n];(s[1]<r?i:r<s[0]?o:a).push(s)}var l=a,u=a.slice();return l.sort(d),u.sort(p),new c(r,g(i),g(o),l,u)}function m(t){this.root=t}e.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t},e.insert=function(t){var e,n=this.count-this.leftPoints.length;this.count+=1,t[1]<this.mid?this.left?4*(this.left.count+1)>3*(1+n)?i(this,t):this.left.insert(t):this.left=g([t]):t[0]>this.mid?this.right?4*(this.right.count+1)>3*(1+n)?i(this,t):this.right.insert(t):this.right=g([t]):(e=a.ge(this.leftPoints,t,d),n=a.ge(this.rightPoints,t,p),this.leftPoints.splice(e,0,t),this.rightPoints.splice(n,0,t))},e.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid)return this.left?3*(e-1)<4*(this.right?this.right.count:0)?l(this,t):2===(o=this.left.remove(t))?(this.left=null,--this.count,1):(1===o&&--this.count,o):0;if(t[0]>this.mid)return this.right?3*(e-1)<4*(this.left?this.left.count:0)?l(this,t):2===(o=this.right.remove(t))?(this.right=null,--this.count,1):(1===o&&--this.count,o):0;if(1===this.count)return this.leftPoints[0]===t?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===t){if(this.left&&this.right){for(var n=this,r=this.left;r.right;)r=(n=r).right;n===this?r.right=this.right:(i=this.left,o=this.right,n.count-=r.count,n.right=r.left,r.left=i,r.right=o),s(this,r),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?s(this,this.left):s(this,this.right);return 1}for(var i=a.ge(this.leftPoints,t,d);i<this.leftPoints.length&&this.leftPoints[i][0]===t[0];++i)if(this.leftPoints[i]===t){--this.count,this.leftPoints.splice(i,1);for(var o=a.ge(this.rightPoints,t,p);o<this.rightPoints.length&&this.rightPoints[o][1]===t[1];++o)if(this.rightPoints[o]===t)return this.rightPoints.splice(o,1),1}return 0},e.queryPoint=function(t,e){if(t<this.mid){if(this.left)if(n=this.left.queryPoint(t,e))return n;return o(this.leftPoints,t,e)}if(t>this.mid){var n;if(this.right)if(n=this.right.queryPoint(t,e))return n;return u(this.rightPoints,t,e)}return f(this.leftPoints,e)},e.queryInterval=function(t,e,n){var r;if(t<this.mid&&this.left&&(r=this.left.queryInterval(t,e,n)))return r;if(e>this.mid&&this.right&&(r=this.right.queryInterval(t,e,n)))return r;return e<this.mid?o(this.leftPoints,e,n):t>this.mid?u(this.rightPoints,t,n):f(this.leftPoints,n)};e=m.prototype;e.insert=function(t){this.root?this.root.insert(t):this.root=new c(t[0],null,null,[t],[t])},e.remove=function(t){if(this.root){t=this.root.remove(t);return 2===t&&(this.root=null),0!==t}return!1},e.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)},e.queryInterval=function(t,e,n){if(t<=e&&this.root)return this.root.queryInterval(t,e,n)},Object.defineProperty(e,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(e,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},{"binary-search-bounds":551}],551:[function(t,e,n){arguments[4][452][0].apply(n,arguments)},{dup:452}],552:[function(t,e,n){"use strict";e.exports=function(t,e){e=e||new Array(t.length);for(var n=0;n<t.length;++n)e[t[n]]=n;return e}},{}],553:[function(t,e,n){"use strict";e.exports=function(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return e}},{}],554:[function(t,e,n){"use strict";e.exports=!0},{}],555:[function(t,e,n){"use strict";function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}e.exports=function(t){return null!=t&&(r(t)||"function"==typeof(e=t).readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))||!!t._isBuffer);var e}},{}],556:[function(t,e,n){"use strict";e.exports=o,e.exports.isMobile=o,e.exports.default=o;var r=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function o(t){var e=(t=t||{}).ua;if(e||"undefined"==typeof navigator||(e=navigator.userAgent),e&&e.headers&&"string"==typeof e.headers["user-agent"]&&(e=e.headers["user-agent"]),"string"!=typeof e)return!1;var n=(t.tablet?i:r).test(e);return!n&&t.tablet&&t.featureDetect&&navigator&&1<navigator.maxTouchPoints&&-1!==e.indexOf("Macintosh")&&-1!==e.indexOf("Safari")&&(n=!0),n}},{}],557:[function(t,e,n){"use strict";e.exports=function(t){for(var e,n=t.length,r=0;r<n;r++)if(((e=t.charCodeAt(r))<9||13<e)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||8205<e)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0}},{}],558:[function(t,e,n){"use strict";function en(t){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r,i;r="undefined"!=typeof window?window:void 0,i=function(w,t){function g(t){return null!=t&&t===t.window}var e=[],n=Object.getPrototypeOf,s=e.slice,m=e.flat?function(t){return e.flat.call(t)}:function(t){return e.concat.apply([],t)},l=e.push,i=e.indexOf,r={},o=r.toString,y=r.hasOwnProperty,a=y.toString,u=a.call(Object),v={},b=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},k=w.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,n){var r,i,o=(n=n||k).createElement("script");if(o.text=t,e)for(r in c)(i=e[r]||e.getAttribute&&e.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function p(t){return null==t?t+"":"object"===en(t)||"function"==typeof t?r[o.call(t)]||"object":en(t)}var T=function t(e,n){return new t.fn.init(e,n)};function f(t){var e=!!t&&"length"in t&&t.length,n=p(t);return!b(t)&&!g(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}T.fn=T.prototype={jquery:"3.5.1",constructor:T,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){t=T.merge(this.constructor(),t);return t.prevObject=this,t},each:function(t){return T.each(this,t)},map:function(n){return this.pushStack(T.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(T.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(T.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,t=+t+(t<0?e:0);return this.pushStack(0<=t&&t<e?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:e.sort,splice:e.splice},T.extend=T.fn.extend=function(){var t,e,n,r,i,o=arguments[0]||{},a=1,s=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[a]||{},a++),"object"===en(o)||b(o)||(o={}),a===s&&(o=this,a--);a<s;a++)if(null!=(t=arguments[a]))for(e in t)n=t[e],"__proto__"!==e&&o!==n&&(l&&n&&(T.isPlainObject(n)||(r=Array.isArray(n)))?(i=o[e],i=r&&!Array.isArray(i)?[]:r||T.isPlainObject(i)?i:{},r=!1,o[e]=T.extend(l,i,n)):void 0!==n&&(o[e]=n));return o},T.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){return!(!t||"[object Object]"!==o.call(t))&&(!(t=n(t))||"function"==typeof(t=y.call(t,"constructor")&&t.constructor)&&a.call(t)===u)},isEmptyObject:function(t){for(var e in t)return!1;return!0},globalEval:function(t,e,n){x(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,r=0;if(f(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},makeArray:function(t,e){e=e||[];return null!=t&&(f(Object(t))?T.merge(e,"string"==typeof t?[t]:t):l.call(e,t)),e},inArray:function(t,e,n){return null==e?-1:i.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!=a&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,a=[];if(f(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return m(a)},guid:1,support:v}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=e[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){r["[object "+e+"]"]=e.toLowerCase()});var h=function(n){function f(t,e){return t="0x"+t.slice(1)-65536,e||(t<0?String.fromCharCode(65536+t):String.fromCharCode(t>>10|55296,1023&t|56320))}function r(){w()}var t,d,x,o,i,p,h,g,_,l,u,w,k,a,T,m,s,c,y,M="sizzle"+ +new Date,v=n.document,A=0,b=0,S=lt(),E=lt(),C=lt(),O=lt(),j=function(t,e){return t===e&&(u=!0),0},P={}.hasOwnProperty,e=[],N=e.pop,L=e.push,R=e.push,D=e.slice,I=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",z="[\\x20\\t\\r\\n\\f]",B="(?:\\\\[\\da-fA-F]{1,6}"+z+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",U="\\["+z+"*("+B+")(?:"+z+"*([*^$|!~]?=)"+z+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+z+"*\\]",H=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",q=new RegExp(z+"+","g"),V=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g"),G=new RegExp("^"+z+"*,"+z+"*"),W=new RegExp("^"+z+"*([>+~]|"+z+")"+z+"*"),Y=new RegExp(z+"|>"),X=new RegExp(H),Z=new RegExp("^"+B+"$"),$={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,tt=/^[^{]+\{\s*\[native \w/,et=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,nt=/[+~]/,rt=new RegExp("\\\\[\\da-fA-F]{1,6}"+z+"?|\\\\([^\\r\\n\\f])","g"),it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ot=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},at=vt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{R.apply(e=D.call(v.childNodes),v.childNodes),e[v.childNodes.length].nodeType}catch(t){R={apply:e.length?function(t,e){L.apply(t,D.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function st(e,t,n,r){var i,o,a,s,l,u,c,f=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!r&&(w(t),t=t||k,T)){if(11!==h&&(l=et.exec(e)))if(i=l[1]){if(9===h){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(t,a)&&a.id===i)return n.push(a),n}else{if(l[2])return R.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&d.getElementsByClassName&&t.getElementsByClassName)return R.apply(n,t.getElementsByClassName(i)),n}if(d.qsa&&!O[e+" "]&&(!m||!m.test(e))&&(1!==h||"object"!==t.nodeName.toLowerCase())){if(c=e,f=t,1===h&&(Y.test(e)||W.test(e))){for((f=nt.test(e)&&gt(t.parentNode)||t)===t&&d.scope||((s=t.getAttribute("id"))?s=s.replace(it,ot):t.setAttribute("id",s=M)),o=(u=p(e)).length;o--;)u[o]=(s?"#"+s:":scope")+" "+yt(u[o]);c=u.join(",")}try{return R.apply(n,f.querySelectorAll(c)),n}catch(t){O(e,!0)}finally{s===M&&t.removeAttribute("id")}}}return g(e.replace(V,"$1"),t,n,r)}function lt(){var n=[];function r(t,e){return n.push(t+" ")>x.cacheLength&&delete r[n.shift()],r[t+" "]=e}return r}function ut(t){return t[M]=!0,t}function ct(t){var e=k.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ft(t,e){for(var n=t.split("|"),r=n.length;r--;)x.attrHandle[n[r]]=e}function ht(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function dt(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&at(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pt(a){return ut(function(o){return o=+o,ut(function(t,e){for(var n,r=a([],t.length,o),i=r.length;i--;)t[n=r[i]]&&(t[n]=!(e[n]=t[n]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in d=st.support={},i=st.isXML=function(t){var e=t.namespaceURI,t=(t.ownerDocument||t).documentElement;return!Q.test(e||t&&t.nodeName||"HTML")},w=st.setDocument=function(t){var e,t=t?t.ownerDocument||t:v;return t!=k&&9===t.nodeType&&t.documentElement&&(a=(k=t).documentElement,T=!i(k),v!=k&&(e=k.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",r,!1):e.attachEvent&&e.attachEvent("onunload",r)),d.scope=ct(function(t){return a.appendChild(t).appendChild(k.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),d.attributes=ct(function(t){return t.className="i",!t.getAttribute("className")}),d.getElementsByTagName=ct(function(t){return t.appendChild(k.createComment("")),!t.getElementsByTagName("*").length}),d.getElementsByClassName=tt.test(k.getElementsByClassName),d.getById=ct(function(t){return a.appendChild(t).id=M,!k.getElementsByName||!k.getElementsByName(M).length}),d.getById?(x.filter.ID=function(t){var e=t.replace(rt,f);return function(t){return t.getAttribute("id")===e}},x.find.ID=function(t,e){if(void 0!==e.getElementById&&T){t=e.getElementById(t);return t?[t]:[]}}):(x.filter.ID=function(t){var e=t.replace(rt,f);return function(t){t=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return t&&t.value===e}},x.find.ID=function(t,e){if(void 0!==e.getElementById&&T){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),x.find.TAG=d.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):d.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},x.find.CLASS=d.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&T)return e.getElementsByClassName(t)},s=[],m=[],(d.qsa=tt.test(k.querySelectorAll))&&(ct(function(t){var e;a.appendChild(t).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+z+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+z+"*(?:value|"+F+")"),t.querySelectorAll("[id~="+M+"-]").length||m.push("~="),(e=k.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||m.push("\\["+z+"*name"+z+"*="+z+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+M+"+*").length||m.push(".#.+[+~]"),t.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")}),ct(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=k.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+z+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),a.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(d.matchesSelector=tt.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ct(function(t){d.disconnectedMatch=c.call(t,"*"),c.call(t,"[s!='']:x"),s.push("!=",H)}),m=m.length&&new RegExp(m.join("|")),s=s.length&&new RegExp(s.join("|")),e=tt.test(a.compareDocumentPosition),y=e||tt.test(a.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,e=e&&e.parentNode;return t===e||!(!e||1!==e.nodeType||!(n.contains?n.contains(e):t.compareDocumentPosition&&16&t.compareDocumentPosition(e)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},j=e?function(t,e){if(t===e)return u=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!d.sortDetached&&e.compareDocumentPosition(t)===n?t==k||t.ownerDocument==v&&y(v,t)?-1:e==k||e.ownerDocument==v&&y(v,e)?1:l?I(l,t)-I(l,e):0:4&n?-1:1)}:function(t,e){if(t===e)return u=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!i||!o)return t==k?-1:e==k?1:i?-1:o?1:l?I(l,t)-I(l,e):0;if(i===o)return ht(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ht(a[r],s[r]):a[r]==v?-1:s[r]==v?1:0}),k},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if(w(t),d.matchesSelector&&T&&!O[e+" "]&&(!s||!s.test(e))&&(!m||!m.test(e)))try{var n=c.call(t,e);if(n||d.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){O(e,!0)}return 0<st(e,k,null,[t]).length},st.contains=function(t,e){return(t.ownerDocument||t)!=k&&w(t),y(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!=k&&w(t);var n=x.attrHandle[e.toLowerCase()],n=n&&P.call(x.attrHandle,e.toLowerCase())?n(t,e,!T):void 0;return void 0!==n?n:d.attributes||!T?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},st.escape=function(t){return(t+"").replace(it,ot)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,n=[],r=0,i=0;if(u=!d.detectDuplicates,l=!d.sortStable&&t.slice(0),t.sort(j),u){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return l=null,t},o=st.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=o(e);return n},(x=st.selectors={cacheLength:50,createPseudo:ut,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(rt,f),t[3]=(t[3]||t[4]||t[5]||"").replace(rt,f),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return $.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&X.test(n)&&(e=p(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(rt,f).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+z+")"+t+"("+z+"|$)"))&&S(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(t){t=st.attr(t,e);return null==t?"!="===n:!n||(t+="","="===n?t===r:"!="===n?t!==r:"^="===n?r&&0===t.indexOf(r):"*="===n?r&&-1<t.indexOf(r):"$="===n?r&&t.slice(-r.length)===r:"~="===n?-1<(" "+t.replace(q," ")+" ").indexOf(r):"|="===n&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,t,e,g,m){var y="nth"!==p.slice(0,3),v="last"!==p.slice(-4),b="of-type"===t;return 1===g&&0===m?function(t){return!!t.parentNode}:function(t,e,n){var r,i,o,a,s,l,u=y!=v?"nextSibling":"previousSibling",c=t.parentNode,f=b&&t.nodeName.toLowerCase(),h=!n&&!b,d=!1;if(c){if(y){for(;u;){for(a=t;a=a[u];)if(b?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;l=u="only"===p&&!l&&"nextSibling"}return!0}if(l=[v?c.firstChild:c.lastChild],v&&h){for(d=(s=(r=(i=(o=(a=c)[M]||(a[M]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===A&&r[1])&&r[2],a=s&&c.childNodes[s];a=++s&&a&&a[u]||(d=s=0)||l.pop();)if(1===a.nodeType&&++d&&a===t){i[p]=[A,s,d];break}}else if(h&&(d=s=(r=(i=(o=(a=t)[M]||(a[M]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===A&&r[1]),!1===d)for(;(a=++s&&a&&a[u]||(d=s=0)||l.pop())&&((b?a.nodeName.toLowerCase()!==f:1!==a.nodeType)||!++d||(h&&((i=(o=a[M]||(a[M]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]=[A,d]),a!==t)););return(d-=m)===g||d%g==0&&0<=d/g}}},PSEUDO:function(t,o){var e,a=x.pseudos[t]||x.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return a[M]?a(o):1<a.length?(e=[t,t,"",o],x.setFilters.hasOwnProperty(t.toLowerCase())?ut(function(t,e){for(var n,r=a(t,o),i=r.length;i--;)t[n=I(t,r[i])]=!(e[n]=r[i])}):function(t){return a(t,0,e)}):a}},pseudos:{not:ut(function(t){var r=[],i=[],s=h(t.replace(V,"$1"));return s[M]?ut(function(t,e,n,r){for(var i,o=s(t,null,r,[]),a=t.length;a--;)(i=o[a])&&(t[a]=!(e[a]=i))}):function(t,e,n){return r[0]=t,s(r,null,n,i),r[0]=null,!i.pop()}}),has:ut(function(e){return function(t){return 0<st(e,t).length}}),contains:ut(function(e){return e=e.replace(rt,f),function(t){return-1<(t.textContent||o(t)).indexOf(e)}}),lang:ut(function(n){return Z.test(n||"")||st.error("unsupported lang: "+n),n=n.replace(rt,f).toLowerCase(),function(t){var e;do{if(e=T?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===a},focus:function(t){return t===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return J.test(t.nodeName)},input:function(t){return K.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(t=t.getAttribute("type"))||"text"===t.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,n){return[n<0?n+e:n]}),even:pt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:pt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:pt(function(t,e,n){for(var r=n<0?n+e:e<n?e:n;0<=--r;)t.push(r);return t}),gt:pt(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[t]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(t);for(t in{submit:!0,reset:!0})x.pseudos[t]=function(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}(t);function mt(){}function yt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function vt(a,t,e){var s=t.dir,l=t.next,u=l||s,c=e&&"parentNode"===u,f=b++;return t.first?function(t,e,n){for(;t=t[s];)if(1===t.nodeType||c)return a(t,e,n);return!1}:function(t,e,n){var r,i,o=[A,f];if(n){for(;t=t[s];)if((1===t.nodeType||c)&&a(t,e,n))return!0}else for(;t=t[s];)if(1===t.nodeType||c)if(r=(i=t[M]||(t[M]={}))[t.uniqueID]||(i[t.uniqueID]={}),l&&l===t.nodeName.toLowerCase())t=t[s]||t;else{if((i=r[u])&&i[0]===A&&i[1]===f)return o[2]=i[2];if((r[u]=o)[2]=a(t,e,n))return!0}return!1}}function bt(i){return 1<i.length?function(t,e,n){for(var r=i.length;r--;)if(!i[r](t,e,n))return!1;return!0}:i[0]}function xt(t,e,n,r,i){for(var o,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),u&&e.push(s)));return a}function _t(d,p,g,m,y,t){return m&&!m[M]&&(m=_t(m)),y&&!y[M]&&(y=_t(y,t)),ut(function(t,e,n,r){var i,o,a,s=[],l=[],u=e.length,c=t||function(t,e,n){for(var r=0,i=e.length;r<i;r++)st(t,e[r],n);return n}(p||"*",n.nodeType?[n]:n,[]),f=!d||!t&&p?c:xt(c,s,d,n,r),h=g?y||(t?d:u||m)?[]:e:f;if(g&&g(f,h,n,r),m)for(i=xt(h,l),m(i,[],n,r),o=i.length;o--;)(a=i[o])&&(h[l[o]]=!(f[l[o]]=a));if(t){if(y||d){if(y){for(i=[],o=h.length;o--;)(a=h[o])&&i.push(f[o]=a);y(null,h=[],i,r)}for(o=h.length;o--;)(a=h[o])&&-1<(i=y?I(t,a):s[o])&&(t[i]=!(e[i]=a))}}else h=xt(h===e?h.splice(u,h.length):h),y?y(null,e,h,r):R.apply(e,h)})}function wt(m,y){function t(t,e,n,r,i){var o,a,s,l=0,u="0",c=t&&[],f=[],h=_,d=t||b&&x.find.TAG("*",i),p=A+=null==h?1:Math.random()||.1,g=d.length;for(i&&(_=e==k||e||i);u!==g&&null!=(o=d[u]);u++){if(b&&o){for(a=0,e||o.ownerDocument==k||(w(o),n=!T);s=m[a++];)if(s(o,e||k,n)){r.push(o);break}i&&(A=p)}v&&((o=!s&&o)&&l--,t&&c.push(o))}if(l+=u,v&&u!==l){for(a=0;s=y[a++];)s(c,f,e,n);if(t){if(0<l)for(;u--;)c[u]||f[u]||(f[u]=N.call(r));f=xt(f)}R.apply(r,f),i&&!t&&0<f.length&&1<l+y.length&&st.uniqueSort(r)}return i&&(A=p,_=h),c}var v=0<y.length,b=0<m.length;return v?ut(t):t}return mt.prototype=x.filters=x.pseudos,x.setFilters=new mt,p=st.tokenize=function(t,e){var n,r,i,o,a,s,l,u=E[t+" "];if(u)return e?0:u.slice(0);for(a=t,s=[],l=x.preFilter;a;){for(o in n&&!(r=G.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=W.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(V," ")}),a=a.slice(n.length)),x.filter)!(r=$[o].exec(a))||l[o]&&!(r=l[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?st.error(t):E(t,s).slice(0)},h=st.compile=function(t,e){var n,r=[],i=[],o=C[t+" "];if(!o){for(n=(e=e||p(t)).length;n--;)((o=function t(e){for(var r,n,i,o=e.length,a=x.relative[e[0].type],s=a||x.relative[" "],l=a?1:0,u=vt(function(t){return t===r},s,!0),c=vt(function(t){return-1<I(r,t)},s,!0),f=[function(t,e,n){return n=!a&&(n||e!==_)||((r=e).nodeType?u:c)(t,e,n),r=null,n}];l<o;l++)if(n=x.relative[e[l].type])f=[vt(bt(f),n)];else{if((n=x.filter[e[l].type].apply(null,e[l].matches))[M]){for(i=++l;i<o&&!x.relative[e[i].type];i++);return _t(1<l&&bt(f),1<l&&yt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(V,"$1"),n,l<i&&t(e.slice(l,i)),i<o&&t(e=e.slice(i)),i<o&&yt(e))}f.push(n)}return bt(f)}(e[n]))[M]?r:i).push(o);(o=C(t,wt(i,r))).selector=t}return o},g=st.select=function(t,e,n,r){var i,o,a,s,l,u="function"==typeof t&&t,c=!r&&p(t=u.selector||t);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===e.nodeType&&T&&x.relative[o[1].type]){if(!(e=(x.find.ID(a.matches[0].replace(rt,f),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=$.needsContext.test(t)?0:o.length;i--&&(a=o[i],!x.relative[s=a.type]);)if((l=x.find[s])&&(r=l(a.matches[0].replace(rt,f),nt.test(o[0].type)&&gt(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&yt(o)))return R.apply(n,r),n;break}}return(u||h(t,c))(r,e,!T,n,!e||nt.test(t)&&gt(e.parentNode)||e),n},d.sortStable=M.split("").sort(j).join("")===M,d.detectDuplicates=!!u,w(),d.sortDetached=ct(function(t){return 1&t.compareDocumentPosition(k.createElement("fieldset"))}),ct(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ft("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),d.attributes&&ct(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ft("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ct(function(t){return null==t.getAttribute("disabled")})||ft(F,function(t,e,n){if(!n)return!0===t[e]?e.toLowerCase():(e=t.getAttributeNode(e))&&e.specified?e.value:null}),st}(w);T.find=h,T.expr=h.selectors,T.expr[":"]=T.expr.pseudos,T.uniqueSort=T.unique=h.uniqueSort,T.text=h.getText,T.isXMLDoc=h.isXML,T.contains=h.contains,T.escapeSelector=h.escape;function d(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&T(t).is(n))break;r.push(t)}return r}function _(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}var M=T.expr.match.needsContext;function A(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var S=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function E(t,n,r){return b(n)?T.grep(t,function(t,e){return!!n.call(t,e,t)!==r}):n.nodeType?T.grep(t,function(t){return t===n!==r}):"string"!=typeof n?T.grep(t,function(t){return-1<i.call(n,t)!==r}):T.filter(n,t,r)}T.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?T.find.matchesSelector(r,t)?[r]:[]:T.find.matches(t,T.grep(e,function(t){return 1===t.nodeType}))},T.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(T(t).filter(function(){for(e=0;e<r;e++)if(T.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)T.find(t,i[e],n);return 1<r?T.uniqueSort(n):n},filter:function(t){return this.pushStack(E(this,t||[],!1))},not:function(t){return this.pushStack(E(this,t||[],!0))},is:function(t){return!!E(this,"string"==typeof t&&M.test(t)?T(t):t||[],!1).length}});var C,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(t,e,n){if(!t)return this;if(n=n||C,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):b(t)?void 0!==n.ready?n.ready(t):t(T):T.makeArray(t,this);if(!(r="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:O.exec(t))||!r[1]&&e)return(!e||e.jquery?e||n:this.constructor(e)).find(t);if(r[1]){if(e=e instanceof T?e[0]:e,T.merge(this,T.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:k,!0)),S.test(r[1])&&T.isPlainObject(e))for(var r in e)b(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(t=k.getElementById(r[2]))&&(this[0]=t,this.length=1),this}).prototype=T.fn,C=T(k);var j=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function N(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}T.fn.extend({has:function(t){var e=T(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(T.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],a="string"!=typeof t&&T(t);if(!M.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&T.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?T.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?i.call(T(t),this[0]):i.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),T.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return d(t,"parentNode")},parentsUntil:function(t,e,n){return d(t,"parentNode",n)},next:function(t){return N(t,"nextSibling")},prev:function(t){return N(t,"previousSibling")},nextAll:function(t){return d(t,"nextSibling")},prevAll:function(t){return d(t,"previousSibling")},nextUntil:function(t,e,n){return d(t,"nextSibling",n)},prevUntil:function(t,e,n){return d(t,"previousSibling",n)},siblings:function(t){return _((t.parentNode||{}).firstChild,t)},children:function(t){return _(t.firstChild)},contents:function(t){return null!=t.contentDocument&&n(t.contentDocument)?t.contentDocument:(A(t,"template")&&(t=t.content||t),T.merge([],t.childNodes))}},function(r,i){T.fn[r]=function(t,e){var n=T.map(this,i,t);return"Until"!==r.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=T.filter(e,n)),1<this.length&&(P[r]||T.uniqueSort(n),j.test(r)&&n.reverse()),this.pushStack(n)}});var L=/[^\x20\t\r\n\f]+/g;function R(t){return t}function D(t){throw t}function I(t,e,n,r){var i;try{t&&b(i=t.promise)?i.call(t).done(e).fail(n):t&&b(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}T.Callbacks=function(r){var t,n;r="string"==typeof r?(t=r,n={},T.each(t.match(L)||[],function(t,e){n[e]=!0}),n):T.extend({},r);function i(){for(s=s||r.once,a=o=!0;u.length;c=-1)for(e=u.shift();++c<l.length;)!1===l[c].apply(e[0],e[1])&&r.stopOnFalse&&(c=l.length,e=!1);r.memory||(e=!1),o=!1,s&&(l=e?[]:"")}var o,e,a,s,l=[],u=[],c=-1,f={add:function(){return l&&(e&&!o&&(c=l.length-1,u.push(e)),function n(t){T.each(t,function(t,e){b(e)?r.unique&&f.has(e)||l.push(e):e&&e.length&&"string"!==p(e)&&n(e)})}(arguments),e&&!o&&i()),this},remove:function(){return T.each(arguments,function(t,e){for(var n;-1<(n=T.inArray(e,l,n));)l.splice(n,1),n<=c&&c--}),this},has:function(t){return t?-1<T.inArray(t,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return s=u=[],l=e="",this},disabled:function(){return!l},lock:function(){return s=u=[],e||o||(l=e=""),this},locked:function(){return!!s},fireWith:function(t,e){return s||(e=[t,(e=e||[]).slice?e.slice():e],u.push(e),o||i()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!a}};return f},T.extend({Deferred:function(t){var o=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return a.then(null,t)},pipe:function(){var i=arguments;return T.Deferred(function(r){T.each(o,function(t,e){var n=b(i[e[4]])&&i[e[4]];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&b(t.promise)?t.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[e[0]+"With"](this,n?[t]:arguments)})}),i=null}).promise()},then:function(e,n,r){var l=0;function u(i,o,a,s){return function(){function t(){var t,e;if(!(i<l)){if((t=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"===en(t)||"function"==typeof t)&&t.then,b(e)?s?e.call(t,u(l,o,R,s),u(l,o,D,s)):(l++,e.call(t,u(l,o,R,s),u(l,o,D,s),u(l,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[t]),(s||o.resolveWith)(n,r))}}var n=this,r=arguments,e=s?t:function(){try{t()}catch(t){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(t,e.stackTrace),l<=i+1&&(a!==D&&(n=void 0,r=[t]),o.rejectWith(n,r))}};i?e():(T.Deferred.getStackHook&&(e.stackTrace=T.Deferred.getStackHook()),w.setTimeout(e))}}return T.Deferred(function(t){o[0][3].add(u(0,t,b(r)?r:R,t.notifyWith)),o[1][3].add(u(0,t,b(e)?e:R)),o[2][3].add(u(0,t,b(n)?n:D))}).promise()},promise:function(t){return null!=t?T.extend(t,a):a}},s={};return T.each(o,function(t,e){var n=e[2],r=e[5];a[e[1]]=n.add,r&&n.add(function(){i=r},o[3-t][2].disable,o[3-t][3].disable,o[0][2].lock,o[0][3].lock),n.add(e[3].fire),s[e[0]]=function(){return s[e[0]+"With"](this===s?void 0:this,arguments),this},s[e[0]+"With"]=n.fireWith}),a.promise(s),t&&t.call(s,s),s},when:function(t){function e(e){return function(t){i[e]=this,o[e]=1<arguments.length?s.call(arguments):t,--n||a.resolveWith(i,o)}}var n=arguments.length,r=n,i=Array(r),o=s.call(arguments),a=T.Deferred();if(n<=1&&(I(t,a.done(e(r)).resolve,a.reject,!n),"pending"===a.state()||b(o[r]&&o[r].then)))return a.then();for(;r--;)I(o[r],e(r),a.reject);return a.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(t,e){w.console&&w.console.warn&&t&&F.test(t.name)&&w.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},T.readyException=function(t){w.setTimeout(function(){throw t})};var z=T.Deferred();function B(){k.removeEventListener("DOMContentLoaded",B),w.removeEventListener("load",B),T.ready()}T.fn.ready=function(t){return z.then(t).catch(function(t){T.readyException(t)}),this},T.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--T.readyWait:T.isReady)||(T.isReady=!0)!==t&&0<--T.readyWait||z.resolveWith(k,[T])}}),T.ready.then=z.then,"complete"===k.readyState||"loading"!==k.readyState&&!k.documentElement.doScroll?w.setTimeout(T.ready):(k.addEventListener("DOMContentLoaded",B),w.addEventListener("load",B));function U(t,e,n,r,i,o,a){var s=0,l=t.length,u=null==n;if("object"===p(n))for(s in i=!0,n)U(t,e,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,b(r)||(a=!0),u&&(e=a?(e.call(t,r),null):(u=e,function(t,e,n){return u.call(T(t),n)})),e))for(;s<l;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:u?e.call(t):l?e(t[0],n):o}var H=/^-ms-/,q=/-([a-z])/g;function V(t,e){return e.toUpperCase()}function G(t){return t.replace(H,"ms-").replace(q,V)}function W(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function Y(){this.expando=T.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(t){var e=t[this.expando];return e||(e={},W(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[G(e)]=n;else for(r in e)i[G(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][G(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(G):(e=G(e))in r?[e]:e.match(L)||[]).length;for(;n--;)delete r[e[n]]}void 0!==e&&!T.isEmptyObject(r)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){t=t[this.expando];return void 0!==t&&!T.isEmptyObject(t)}};var X=new Y,Z=new Y,$=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function K(t,e,n){var r,i;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:$.test(i)?JSON.parse(i):i)}catch(t){}Z.set(t,e,n)}else n=void 0;return n}T.extend({hasData:function(t){return Z.hasData(t)||X.hasData(t)},data:function(t,e,n){return Z.access(t,e,n)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,n){return X.access(t,e,n)},_removeData:function(t,e){X.remove(t,e)}}),T.fn.extend({data:function(n,t){var e,r,i,o=this[0],a=o&&o.attributes;if(void 0!==n)return"object"===en(n)?this.each(function(){Z.set(this,n)}):U(this,function(t){var e;return o&&void 0===t?void 0!==(e=Z.get(o,n))||void 0!==(e=K(o,n))?e:void 0:void this.each(function(){Z.set(this,n,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(i=Z.get(o),1===o.nodeType&&!X.get(o,"hasDataAttrs"))){for(e=a.length;e--;)a[e]&&0===(r=a[e].name).indexOf("data-")&&(r=G(r.slice(5)),K(o,r,i[r]));X.set(o,"hasDataAttrs",!0)}return i},removeData:function(t){return this.each(function(){Z.remove(this,t)})}}),T.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=X.get(t,e),n&&(!r||Array.isArray(n)?r=X.access(t,e,T.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=T.queue(t,e),r=n.length,i=n.shift(),o=T._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,function(){T.dequeue(t,e)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return X.get(t,n)||X.access(t,n,{empty:T.Callbacks("once memory").add(function(){X.remove(t,[e+"queue",n])})})}}),T.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?T.queue(this[0],e):void 0===n?this:this.each(function(){var t=T.queue(this,e,n);T._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&T.dequeue(this,e)})},dequeue:function(t){return this.each(function(){T.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function n(){--i||o.resolveWith(a,[a])}var r,i=1,o=T.Deferred(),a=this,s=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(r=X.get(a[s],t+"queueHooks"))&&r.empty&&(i++,r.empty.add(n));return n(),o.promise(e)}});var J=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,tt=new RegExp("^(?:([+-])=|)("+J+")([a-z%]*)$","i"),et=["Top","Right","Bottom","Left"],nt=k.documentElement,rt=function(t){return T.contains(t.ownerDocument,t)},it={composed:!0};nt.getRootNode&&(rt=function(t){return T.contains(t.ownerDocument,t)||t.getRootNode(it)===t.ownerDocument});var ot=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&rt(t)&&"none"===T.css(t,"display")};function at(t,e,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return T.css(t,e,"")},l=s(),u=n&&n[3]||(T.cssNumber[e]?"":"px"),c=t.nodeType&&(T.cssNumber[e]||"px"!==u&&+l)&&tt.exec(T.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;a--;)T.style(t,e,c+u),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),c/=o;c*=2,T.style(t,e,c+u),n=n||[]}return n&&(c=+c||+l||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}var st={};function lt(t,e){for(var n,r,i,o,a,s=[],l=0,u=t.length;l<u;l++)(r=t[l]).style&&(n=r.style.display,e?("none"===n&&(s[l]=X.get(r,"display")||null,s[l]||(r.style.display="")),""===r.style.display&&ot(r)&&(s[l]=(a=o=void 0,o=(i=r).ownerDocument,a=i.nodeName,(i=st[a])||(o=o.body.appendChild(o.createElement(a)),i=T.css(o,"display"),o.parentNode.removeChild(o),"none"===i&&(i="block"),st[a]=i)))):"none"!==n&&(s[l]="none",X.set(r,"display",n)));for(l=0;l<u;l++)null!=s[l]&&(t[l].style.display=s[l]);return t}T.fn.extend({show:function(){return lt(this,!0)},hide:function(){return lt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ot(this)?T(this).show():T(this).hide()})}});var ut=/^(?:checkbox|radio)$/i,ct=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ft=/^$|^module$|\/(?:java|ecma)script/i;Ze=k.createDocumentFragment().appendChild(k.createElement("div")),(h=k.createElement("input")).setAttribute("type","radio"),h.setAttribute("checked","checked"),h.setAttribute("name","t"),Ze.appendChild(h),v.checkClone=Ze.cloneNode(!0).cloneNode(!0).lastChild.checked,Ze.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!Ze.cloneNode(!0).lastChild.defaultValue,Ze.innerHTML="<option></option>",v.option=!!Ze.lastChild;var ht={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function dt(t,e){var n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&A(t,e)?T.merge([t],n):n}function pt(t,e){for(var n=0,r=t.length;n<r;n++)X.set(t[n],"globalEval",!e||X.get(e[n],"globalEval"))}ht.tbody=ht.tfoot=ht.colgroup=ht.caption=ht.thead,ht.th=ht.td,v.option||(ht.optgroup=ht.option=[1,"<select multiple='multiple'>","</select>"]);var gt=/<|&#?\w+;/;function mt(t,e,n,r,i){for(var o,a,s,l,u,c=e.createDocumentFragment(),f=[],h=0,d=t.length;h<d;h++)if((o=t[h])||0===o)if("object"===p(o))T.merge(f,o.nodeType?[o]:o);else if(gt.test(o)){for(a=a||c.appendChild(e.createElement("div")),s=(ct.exec(o)||["",""])[1].toLowerCase(),s=ht[s]||ht._default,a.innerHTML=s[1]+T.htmlPrefilter(o)+s[2],u=s[0];u--;)a=a.lastChild;T.merge(f,a.childNodes),(a=c.firstChild).textContent=""}else f.push(e.createTextNode(o));for(c.textContent="",h=0;o=f[h++];)if(r&&-1<T.inArray(o,r))i&&i.push(o);else if(l=rt(o),a=dt(c.appendChild(o),"script"),l&&pt(a),n)for(u=0;o=a[u++];)ft.test(o.type||"")&&n.push(o);return c}var yt=/^key/,vt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,bt=/^([^.]*)(?:\.(.+)|)/;function xt(){return!0}function _t(){return!1}function wt(t,e){return t===function(){try{return k.activeElement}catch(t){}}()==("focus"===e)}function kt(t,e,n,r,i,o){var a,s;if("object"===en(e)){for(s in"string"!=typeof n&&(r=r||n,n=void 0),e)kt(t,s,n,r,e[s],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=_t;else if(!i)return t;return 1===o&&(a=i,(i=function(t){return T().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=T.guid++)),t.each(function(){T.event.add(this,e,i,r,n)})}function Tt(t,i,o){o?(X.set(t,i,!1),T.event.add(t,i,{namespace:!1,handler:function(t){var e,n,r=X.get(this,i);if(1&t.isTrigger&&this[i]){if(r.length)(T.event.special[i]||{}).delegateType&&t.stopPropagation();else if(r=s.call(arguments),X.set(this,i,r),e=o(this,i),this[i](),r!==(n=X.get(this,i))||e?X.set(this,i,!1):n={},r!==n)return t.stopImmediatePropagation(),t.preventDefault(),n.value}else r.length&&(X.set(this,i,{value:T.event.trigger(T.extend(r[0],T.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===X.get(t,i)&&T.event.add(t,i,xt)}T.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,f,h,d,p=X.get(e);if(W(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&T.find.matchesSelector(nt,i),n.guid||(n.guid=T.guid++),(s=p.events)||(s=p.events=Object.create(null)),(a=p.handle)||(a=p.handle=function(t){return void 0!==T&&T.event.triggered!==t.type?T.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(L)||[""]).length;l--;)f=d=(u=bt.exec(t[l])||[])[1],h=(u[2]||"").split(".").sort(),f&&(c=T.event.special[f]||{},f=(i?c.delegateType:c.bindType)||f,c=T.event.special[f]||{},u=T.extend({type:f,origType:d,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&T.expr.match.needsContext.test(i),namespace:h.join(".")},o),(d=s[f])||((d=s[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(f,a)),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,u):d.push(u),T.event.global[f]=!0)},remove:function(t,e,n,r,i){var o,a,s,l,u,c,f,h,d,p,g,m=X.hasData(t)&&X.get(t);if(m&&(l=m.events)){for(u=(e=(e||"").match(L)||[""]).length;u--;)if(d=g=(s=bt.exec(e[u])||[])[1],p=(s[2]||"").split(".").sort(),d){for(f=T.event.special[d]||{},h=l[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,f.remove&&f.remove.call(t,c));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(t,p,m.handle)||T.removeEvent(t,d,m.handle),delete l[d])}else for(d in l)T.event.remove(t,d+e[u],n,r,!0);T.isEmptyObject(l)&&X.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a=new Array(arguments.length),s=T.event.fix(t),l=(X.get(this,"events")||Object.create(null))[s.type]||[],t=T.event.special[s.type]||{};for(a[0]=s,e=1;e<arguments.length;e++)a[e]=arguments[e];if(s.delegateTarget=this,!t.preDispatch||!1!==t.preDispatch.call(this,s)){for(o=T.event.handlers.call(this,s,l),e=0;(r=o[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(i=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==i.namespace&&!s.rnamespace.test(i.namespace)||(s.handleObj=i,s.data=i.data,void 0!==(i=((T.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,a))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return t.postDispatch&&t.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,r,i,o,a,s=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&1<=t.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],a={},n=0;n<l;n++)void 0===a[i=(r=e[n]).selector+" "]&&(a[i]=r.needsContext?-1<T(i,this).index(u):T.find(i,this,null,[u]).length),a[i]&&o.push(r);o.length&&s.push({elem:u,handlers:o})}return u=this,l<e.length&&s.push({elem:u,handlers:e.slice(l)}),s},addProp:function(e,t){Object.defineProperty(T.Event.prototype,e,{enumerable:!0,configurable:!0,get:b(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[T.expando]?t:new T.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){t=this||t;return ut.test(t.type)&&t.click&&A(t,"input")&&Tt(t,"click",xt),!1},trigger:function(t){t=this||t;return ut.test(t.type)&&t.click&&A(t,"input")&&Tt(t,"click"),!0},_default:function(t){t=t.target;return ut.test(t.type)&&t.click&&A(t,"input")&&X.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},T.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},T.Event=function(t,e){if(!(this instanceof T.Event))return new T.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?xt:_t,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&T.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:_t,isPropagationStopped:_t,isImmediatePropagationStopped:_t,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=xt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=xt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=xt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&yt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&vt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},function(t,e){T.event.special[t]={setup:function(){return Tt(this,t,wt),!1},trigger:function(){return Tt(this,t),!0},delegateType:e}}),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,i){T.event.special[t]={delegateType:i,bindType:i,handle:function(t){var e,n=t.relatedTarget,r=t.handleObj;return n&&(n===this||T.contains(this,n))||(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=i),e}}}),T.fn.extend({on:function(t,e,n,r){return kt(this,t,e,n,r)},one:function(t,e,n,r){return kt(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,T(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!==en(t))return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=_t),this.each(function(){T.event.remove(this,t,n,e)});for(i in t)this.off(i,e,t[i]);return this}});var Mt=/<script|<style|<link/i,At=/checked\s*(?:[^=]|=\s*.checked.)/i,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Et(t,e){return A(t,"table")&&A(11!==e.nodeType?e:e.firstChild,"tr")&&T(t).children("tbody")[0]||t}function Ct(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ot(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function jt(t,e){var n,r,i,o;if(1===e.nodeType){if(X.hasData(t)&&(o=X.get(t).events))for(i in X.remove(e,"handle events"),o)for(n=0,r=o[i].length;n<r;n++)T.event.add(e,i,o[i][n]);Z.hasData(t)&&(t=Z.access(t),t=T.extend({},t),Z.set(e,t))}}function Pt(n,r,i,o){r=m(r);var t,e,a,s,l,u,c=0,f=n.length,h=f-1,d=r[0],p=b(d);if(p||1<f&&"string"==typeof d&&!v.checkClone&&At.test(d))return n.each(function(t){var e=n.eq(t);p&&(r[0]=d.call(this,t,e.html())),Pt(e,r,i,o)});if(f&&(e=(t=mt(r,n[0].ownerDocument,!1,n,o)).firstChild,1===t.childNodes.length&&(t=e),e||o)){for(s=(a=T.map(dt(t,"script"),Ct)).length;c<f;c++)l=t,c!==h&&(l=T.clone(l,!0,!0),s&&T.merge(a,dt(l,"script"))),i.call(n[c],l,c);if(s)for(u=a[a.length-1].ownerDocument,T.map(a,Ot),c=0;c<s;c++)l=a[c],ft.test(l.type||"")&&!X.access(l,"globalEval")&&T.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?T._evalUrl&&!l.noModule&&T._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):x(l.textContent.replace(St,""),l,u))}return n}function Nt(t,e,n){for(var r,i=e?T.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||T.cleanData(dt(r)),r.parentNode&&(n&&rt(r)&&pt(dt(r,"script")),r.parentNode.removeChild(r));return t}T.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var r,i,o,a,s,l,u,c=t.cloneNode(!0),f=rt(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||T.isXMLDoc(t)))for(a=dt(c),r=0,i=(o=dt(t)).length;r<i;r++)s=o[r],l=a[r],u=void 0,"input"===(u=l.nodeName.toLowerCase())&&ut.test(s.type)?l.checked=s.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=s.defaultValue);if(e)if(n)for(o=o||dt(t),a=a||dt(c),r=0,i=o.length;r<i;r++)jt(o[r],a[r]);else jt(t,c);return 0<(a=dt(c,"script")).length&&pt(a,!f&&dt(t,"script")),c},cleanData:function(t){for(var e,n,r,i=T.event.special,o=0;void 0!==(n=t[o]);o++)if(W(n)){if(e=n[X.expando]){if(e.events)for(r in e.events)i[r]?T.event.remove(n,r):T.removeEvent(n,r,e.handle);n[X.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),T.fn.extend({detach:function(t){return Nt(this,t,!0)},remove:function(t){return Nt(this,t)},text:function(t){return U(this,function(t){return void 0===t?T.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Pt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Et(this,t).appendChild(t)})},prepend:function(){return Pt(this,arguments,function(t){var e;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(e=Et(this,t)).insertBefore(t,e.firstChild)})},before:function(){return Pt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Pt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(T.cleanData(dt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return T.clone(this,t,e)})},html:function(t){return U(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Mt.test(t)&&!ht[(ct.exec(t)||["",""])[1].toLowerCase()]){t=T.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(T.cleanData(dt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return Pt(this,arguments,function(t){var e=this.parentNode;T.inArray(this,n)<0&&(T.cleanData(dt(this)),e&&e.replaceChild(t,this))},n)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,a){T.fn[t]=function(t){for(var e,n=[],r=T(t),i=r.length-1,o=0;o<=i;o++)e=o===i?this:this.clone(!0),T(r[o])[a](e),l.apply(n,e.get());return this.pushStack(n)}});function Lt(t,e,n){var r,i={};for(r in e)i[r]=t.style[r],t.style[r]=e[r];for(r in n=n.call(t),e)t.style[r]=i[r];return n}var Rt,Dt,It,Ft,zt,Bt,Ut,Ht,qt=new RegExp("^("+J+")(?!px)[a-z%]+$","i"),Vt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=w),e.getComputedStyle(t)},Gt=new RegExp(et.join("|"),"i");function Wt(){var t;Ht&&(Ut.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ht.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nt.appendChild(Ut).appendChild(Ht),t=w.getComputedStyle(Ht),Rt="1%"!==t.top,Bt=12===Yt(t.marginLeft),Ht.style.right="60%",Ft=36===Yt(t.right),Dt=36===Yt(t.width),Ht.style.position="absolute",It=12===Yt(Ht.offsetWidth/3),nt.removeChild(Ut),Ht=null)}function Yt(t){return Math.round(parseFloat(t))}function Xt(t,e,n){var r,i,o=t.style;return(n=n||Vt(t))&&(""!==(i=n.getPropertyValue(e)||n[e])||rt(t)||(i=T.style(t,e)),!v.pixelBoxStyles()&&qt.test(i)&&Gt.test(e)&&(r=o.width,t=o.minWidth,e=o.maxWidth,o.minWidth=o.maxWidth=o.width=i,i=n.width,o.width=r,o.minWidth=t,o.maxWidth=e)),void 0!==i?i+"":i}function Zt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}Ut=k.createElement("div"),(Ht=k.createElement("div")).style&&(Ht.style.backgroundClip="content-box",Ht.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===Ht.style.backgroundClip,T.extend(v,{boxSizingReliable:function(){return Wt(),Dt},pixelBoxStyles:function(){return Wt(),Ft},pixelPosition:function(){return Wt(),Rt},reliableMarginLeft:function(){return Wt(),Bt},scrollboxSize:function(){return Wt(),It},reliableTrDimensions:function(){var t,e,n;return null==zt&&(t=k.createElement("table"),n=k.createElement("tr"),e=k.createElement("div"),t.style.cssText="position:absolute;left:-11111px",n.style.height="1px",e.style.height="9px",nt.appendChild(t).appendChild(n).appendChild(e),n=w.getComputedStyle(n),zt=3<parseInt(n.height),nt.removeChild(t)),zt}}));var $t=["Webkit","Moz","ms"],Qt=k.createElement("div").style,Kt={};function Jt(t){var e=T.cssProps[t]||Kt[t];return e||(t in Qt?t:Kt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=$t.length;n--;)if((t=$t[n]+e)in Qt)return t}(t)||t)}var te=/^(none|table(?!-c[ea]).+)/,ee=/^--/,ne={position:"absolute",visibility:"hidden",display:"block"},re={letterSpacing:"0",fontWeight:"400"};function ie(t,e,n){var r=tt.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function oe(t,e,n,r,i,o){var a="width"===e?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=T.css(t,n+et[a],!0,i)),r?("content"===n&&(l-=T.css(t,"padding"+et[a],!0,i)),"margin"!==n&&(l-=T.css(t,"border"+et[a]+"Width",!0,i))):(l+=T.css(t,"padding"+et[a],!0,i),"padding"!==n?l+=T.css(t,"border"+et[a]+"Width",!0,i):s+=T.css(t,"border"+et[a]+"Width",!0,i));return!r&&0<=o&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-s-.5))||0),l}function ae(t,e,n){var r=Vt(t),i=(!v.boxSizingReliable()||n)&&"border-box"===T.css(t,"boxSizing",!1,r),o=i,a=Xt(t,e,r),s="offset"+e[0].toUpperCase()+e.slice(1);if(qt.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&i||!v.reliableTrDimensions()&&A(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===T.css(t,"display",!1,r))&&t.getClientRects().length&&(i="border-box"===T.css(t,"boxSizing",!1,r),(o=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+oe(t,e,n||(i?"border":"content"),o,r,a)+"px"}function se(t,e,n,r,i){return new se.prototype.init(t,e,n,r,i)}T.extend({cssHooks:{opacity:{get:function(t,e){if(e){t=Xt(t,"opacity");return""===t?"1":t}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=G(e),l=ee.test(e),u=t.style;if(l||(e=Jt(s)),a=T.cssHooks[e]||T.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:u[e];"string"===(o=en(n))&&(i=tt.exec(n))&&i[1]&&(n=at(t,e,i),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=i&&i[3]||(T.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,r){var i,o=G(e);return ee.test(e)||(e=Jt(o)),(o=T.cssHooks[e]||T.cssHooks[o])&&"get"in o&&(i=o.get(t,!0,n)),void 0===i&&(i=Xt(t,e,r)),"normal"===i&&e in re&&(i=re[e]),""===n||n?(e=parseFloat(i),!0===n||isFinite(e)?e||0:i):i}}),T.each(["height","width"],function(t,s){T.cssHooks[s]={get:function(t,e,n){if(e)return!te.test(T.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ae(t,s,n):Lt(t,ne,function(){return ae(t,s,n)})},set:function(t,e,n){var r,i=Vt(t),o=!v.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===T.css(t,"boxSizing",!1,i),n=n?oe(t,s,n,a,i):0;return a&&o&&(n-=Math.ceil(t["offset"+s[0].toUpperCase()+s.slice(1)]-parseFloat(i[s])-oe(t,s,"border",!1,i)-.5)),n&&(r=tt.exec(e))&&"px"!==(r[3]||"px")&&(t.style[s]=e,e=T.css(t,s)),ie(0,e,n)}}}),T.cssHooks.marginLeft=Zt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Xt(t,"marginLeft"))||t.getBoundingClientRect().left-Lt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),T.each({margin:"",padding:"",border:"Width"},function(i,o){T.cssHooks[i+o]={expand:function(t){for(var e=0,n={},r="string"==typeof t?t.split(" "):[t];e<4;e++)n[i+et[e]+o]=r[e]||r[e-2]||r[0];return n}},"margin"!==i&&(T.cssHooks[i+o].set=ie)}),T.fn.extend({css:function(t,e){return U(this,function(t,e,n){var r,i,o={},a=0;if(Array.isArray(e)){for(r=Vt(t),i=e.length;a<i;a++)o[e[a]]=T.css(t,e[a],!1,r);return o}return void 0!==n?T.style(t,e,n):T.css(t,e)},t,e,1<arguments.length)}}),(T.Tween=se).prototype={constructor:se,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||T.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(T.cssNumber[n]?"":"px")},cur:function(){var t=se.propHooks[this.prop];return(t&&t.get?t:se.propHooks._default).get(this)},run:function(t){var e,n=se.propHooks[this.prop];return this.options.duration?this.pos=e=T.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:se.propHooks._default).set(this),this}},se.prototype.init.prototype=se.prototype,se.propHooks={_default:{get:function(t){return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(t=T.css(t.elem,t.prop,""))&&"auto"!==t?t:0},set:function(t){T.fx.step[t.prop]?T.fx.step[t.prop](t):1!==t.elem.nodeType||!T.cssHooks[t.prop]&&null==t.elem.style[Jt(t.prop)]?t.elem[t.prop]=t.now:T.style(t.elem,t.prop,t.now+t.unit)}}},se.propHooks.scrollTop=se.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},T.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},T.fx=se.prototype.init,T.fx.step={};var le,ue,ce=/^(?:toggle|show|hide)$/,fe=/queueHooks$/;function he(){ue&&(!1===k.hidden&&w.requestAnimationFrame?w.requestAnimationFrame(he):w.setTimeout(he,T.fx.interval),T.fx.tick())}function de(){return w.setTimeout(function(){le=void 0}),le=Date.now()}function pe(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=et[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function ge(t,e,n){for(var r,i=(me.tweeners[e]||[]).concat(me.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function me(i,t,e){var n,o,r=0,a=me.prefilters.length,s=T.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=le||de(),t=Math.max(0,u.startTime+u.duration-t),e=1-(t/u.duration||0),n=0,r=u.tweens.length;n<r;n++)u.tweens[n].run(e);return s.notifyWith(i,[u,e,t]),e<1&&r?t:(r||s.notifyWith(i,[u,1,0]),s.resolveWith(i,[u]),!1)},u=s.promise({elem:i,props:T.extend({},t),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},e),originalProperties:t,originalOptions:e,startTime:le||de(),duration:e.duration,tweens:[],createTween:function(t,e){t=T.Tween(i,u.opts,t,e,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(t),t},stop:function(t){var e=0,n=t?u.tweens.length:0;if(o)return this;for(o=!0;e<n;e++)u.tweens[e].run(1);return t?(s.notifyWith(i,[u,1,0]),s.resolveWith(i,[u,t])):s.rejectWith(i,[u,t]),this}}),c=u.props;for(!function(t,e){var n,r,i,o,a;for(n in t)if(i=e[r=G(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=T.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(c,u.opts.specialEasing);r<a;r++)if(n=me.prefilters[r].call(u,i,c,u.opts))return b(n.stop)&&(T._queueHooks(u.elem,u.opts.queue).stop=n.stop.bind(n)),n;return T.map(c,ge,u),b(u.opts.start)&&u.opts.start.call(i,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),T.fx.timer(T.extend(l,{elem:i,anim:u,queue:u.opts.queue})),u}T.Animation=T.extend(me,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return at(n.elem,t,tt.exec(e),n),n}]},tweener:function(t,e){for(var n,r=0,i=(t=b(t)?(e=t,["*"]):t.match(L)).length;r<i;r++)n=t[r],me.tweeners[n]=me.tweeners[n]||[],me.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,i,o,a,s,l,u,c="width"in e||"height"in e,f=this,h={},d=t.style,p=t.nodeType&&ot(t),g=X.get(t,"fxshow");for(r in n.queue||(null==(a=T._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,T.queue(t,"fx").length||a.empty.fire()})})),e)if(i=e[r],ce.test(i)){if(delete e[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}h[r]=g&&g[r]||T.style(t,r)}if((l=!T.isEmptyObject(e))||!T.isEmptyObject(h))for(r in c&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(u=g&&g.display)&&(u=X.get(t,"display")),"none"===(c=T.css(t,"display"))&&(u?c=u:(lt([t],!0),u=t.style.display||u,c=T.css(t,"display"),lt([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===T.css(t,"float")&&(l||(f.done(function(){d.display=u}),null==u&&(c=d.display,u="none"===c?"":c)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),l=!1,h)l||(g?"hidden"in g&&(p=g.hidden):g=X.access(t,"fxshow",{display:u}),o&&(g.hidden=!p),p&&lt([t],!0),f.done(function(){for(r in p||lt([t]),X.remove(t,"fxshow"),h)T.style(t,r,h[r])})),l=ge(p?g[r]:0,r,f),r in g||(g[r]=l.start,p&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?me.prefilters.unshift(t):me.prefilters.push(t)}}),T.speed=function(t,e,n){var r=t&&"object"===en(t)?T.extend({},t):{complete:n||!n&&e||b(t)&&t,duration:t,easing:n&&e||e&&!b(e)&&e};return T.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in T.fx.speeds?r.duration=T.fx.speeds[r.duration]:r.duration=T.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){b(r.old)&&r.old.call(this),r.queue&&T.dequeue(this,r.queue)},r},T.fn.extend({fadeTo:function(t,e,n,r){return this.filter(ot).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(e,t,n,r){var i=T.isEmptyObject(e),o=T.speed(t,n,r),r=function(){var t=me(this,T.extend({},e),o);(i||X.get(this,"finish"))&&t.stop(!0)};return r.finish=r,i||!1===o.queue?this.each(r):this.queue(o.queue,r)},stop:function(i,t,o){function a(t){var e=t.stop;delete t.stop,e(o)}return"string"!=typeof i&&(o=t,t=i,i=void 0),t&&this.queue(i||"fx",[]),this.each(function(){var t=!0,e=null!=i&&i+"queueHooks",n=T.timers,r=X.get(this);if(e)r[e]&&r[e].stop&&a(r[e]);else for(e in r)r[e]&&r[e].stop&&fe.test(e)&&a(r[e]);for(e=n.length;e--;)n[e].elem!==this||null!=i&&n[e].queue!==i||(n[e].anim.stop(o),t=!1,n.splice(e,1));!t&&o||T.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var t,e=X.get(this),n=e[a+"queue"],r=e[a+"queueHooks"],i=T.timers,o=n?n.length:0;for(e.finish=!0,T.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===a&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),T.each(["toggle","show","hide"],function(t,r){var i=T.fn[r];T.fn[r]=function(t,e,n){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(pe(r,!0),t,e,n)}}),T.each({slideDown:pe("show"),slideUp:pe("hide"),slideToggle:pe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,r){T.fn[t]=function(t,e,n){return this.animate(r,t,e,n)}}),T.timers=[],T.fx.tick=function(){var t,e=0,n=T.timers;for(le=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||T.fx.stop(),le=void 0},T.fx.timer=function(t){T.timers.push(t),T.fx.start()},T.fx.interval=13,T.fx.start=function(){ue||(ue=!0,he())},T.fx.stop=function(){ue=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(r,t){return r=T.fx&&T.fx.speeds[r]||r,t=t||"fx",this.queue(t,function(t,e){var n=w.setTimeout(t,r);e.stop=function(){w.clearTimeout(n)}})},Ze=k.createElement("input"),J=k.createElement("select").appendChild(k.createElement("option")),Ze.type="checkbox",v.checkOn=""!==Ze.value,v.optSelected=J.selected,(Ze=k.createElement("input")).value="t",Ze.type="radio",v.radioValue="t"===Ze.value;var ye,ve=T.expr.attrHandle;T.fn.extend({attr:function(t,e){return U(this,T.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){T.removeAttr(this,t)})}}),T.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?T.prop(t,e,n):(1===o&&T.isXMLDoc(t)||(i=T.attrHooks[e.toLowerCase()]||(T.expr.match.bool.test(e)?ye:void 0)),void 0!==n?null===n?void T.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):!(i&&"get"in i&&null!==(r=i.get(t,e)))&&null==(r=T.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&A(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(L);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),ye={set:function(t,e,n){return!1===e?T.removeAttr(t,n):t.setAttribute(n,n),n}},T.each(T.expr.match.bool.source.match(/\w+/g),function(t,e){var a=ve[e]||T.find.attr;ve[e]=function(t,e,n){var r,i,o=e.toLowerCase();return n||(i=ve[o],ve[o]=r,r=null!=a(t,e,n)?o:null,ve[o]=i),r}});var be=/^(?:input|select|textarea|button)$/i,xe=/^(?:a|area)$/i;function _e(t){return(t.match(L)||[]).join(" ")}function we(t){return t.getAttribute&&t.getAttribute("class")||""}function ke(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(L)||[]}T.fn.extend({prop:function(t,e){return U(this,T.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[T.propFix[t]||t]})}}),T.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&T.isXMLDoc(t)||(e=T.propFix[e]||e,i=T.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=T.find.attr(t,"tabindex");return e?parseInt(e,10):be.test(t.nodeName)||xe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(T.propHooks.selected={get:function(t){t=t.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(t){t=t.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){T.propFix[this.toLowerCase()]=this}),T.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0;if(b(e))return this.each(function(t){T(this).addClass(e.call(this,t,we(this)))});if((t=ke(e)).length)for(;n=this[s++];)if(a=we(n),r=1===n.nodeType&&" "+_e(a)+" "){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a!==(a=_e(r))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0;if(b(e))return this.each(function(t){T(this).removeClass(e.call(this,t,we(this)))});if(!arguments.length)return this.attr("class","");if((t=ke(e)).length)for(;n=this[s++];)if(a=we(n),r=1===n.nodeType&&" "+_e(a)+" "){for(o=0;i=t[o++];)for(;-1<r.indexOf(" "+i+" ");)r=r.replace(" "+i+" "," ");a!==(a=_e(r))&&n.setAttribute("class",a)}return this},toggleClass:function(i,e){var o=en(i),a="string"===o||Array.isArray(i);return"boolean"==typeof e&&a?e?this.addClass(i):this.removeClass(i):b(i)?this.each(function(t){T(this).toggleClass(i.call(this,t,we(this),e),e)}):this.each(function(){var t,e,n,r;if(a)for(e=0,n=T(this),r=ke(i);t=r[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else void 0!==i&&"boolean"!==o||((t=we(this))&&X.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",!t&&!1!==i&&X.get(this,"__className__")||""))})},hasClass:function(t){for(var e,n=0,r=" "+t+" ";e=this[n++];)if(1===e.nodeType&&-1<(" "+_e(we(e))+" ").indexOf(r))return!0;return!1}});var Te=/\r/g;T.fn.extend({val:function(e){var n,t,r,i=this[0];return arguments.length?(r=b(e),this.each(function(t){1===this.nodeType&&(null==(t=r?e.call(this,t,T(this).val()):e)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=T.map(t,function(t){return null==t?"":t+""})),(n=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,t,"value")||(this.value=t))})):i?(n=T.valHooks[i.type]||T.valHooks[i.nodeName.toLowerCase()])&&"get"in n&&void 0!==(t=n.get(i,"value"))?t:"string"==typeof(t=i.value)?t.replace(Te,""):null==t?"":t:void 0}}),T.extend({valHooks:{option:{get:function(t){var e=T.find.attr(t,"value");return null!=e?e:_e(T.text(t))}},select:{get:function(t){for(var e,n=t.options,r=t.selectedIndex,i="select-one"===t.type,o=i?null:[],a=i?r+1:n.length,s=r<0?a:i?r:0;s<a;s++)if(((e=n[s]).selected||s===r)&&!e.disabled&&(!e.parentNode.disabled||!A(e.parentNode,"optgroup"))){if(e=T(e).val(),i)return e;o.push(e)}return o},set:function(t,e){for(var n,r,i=t.options,o=T.makeArray(e),a=i.length;a--;)((r=i[a]).selected=-1<T.inArray(T.valHooks.option.get(r),o))&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),T.each(["radio","checkbox"],function(){T.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<T.inArray(T(t).val(),e)}},v.checkOn||(T.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in w;function Me(t){t.stopPropagation()}var Ae=/^(?:focusinfocus|focusoutblur)$/;T.extend(T.event,{trigger:function(t,e,n,r){var i,o,a,s,l,u,c,f=[n||k],h=y.call(t,"type")?t.type:t,d=y.call(t,"namespace")?t.namespace.split("."):[],p=c=o=n=n||k;if(3!==n.nodeType&&8!==n.nodeType&&!Ae.test(h+T.event.triggered)&&(-1<h.indexOf(".")&&(h=(d=h.split(".")).shift(),d.sort()),s=h.indexOf(":")<0&&"on"+h,(t=t[T.expando]?t:new T.Event(h,"object"===en(t)&&t)).isTrigger=r?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:T.makeArray(e,[t]),u=T.event.special[h]||{},r||!u.trigger||!1!==u.trigger.apply(n,e))){if(!r&&!u.noBubble&&!g(n)){for(a=u.delegateType||h,Ae.test(a+h)||(p=p.parentNode);p;p=p.parentNode)f.push(p),o=p;o===(n.ownerDocument||k)&&f.push(o.defaultView||o.parentWindow||w)}for(i=0;(p=f[i++])&&!t.isPropagationStopped();)c=p,t.type=1<i?a:u.bindType||h,(l=(X.get(p,"events")||Object.create(null))[t.type]&&X.get(p,"handle"))&&l.apply(p,e),(l=s&&p[s])&&l.apply&&W(p)&&(t.result=l.apply(p,e),!1===t.result&&t.preventDefault());return t.type=h,r||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(f.pop(),e)||!W(n)||s&&b(n[h])&&!g(n)&&((o=n[s])&&(n[s]=null),T.event.triggered=h,t.isPropagationStopped()&&c.addEventListener(h,Me),n[h](),t.isPropagationStopped()&&c.removeEventListener(h,Me),T.event.triggered=void 0,o&&(n[s]=o)),t.result}},simulate:function(t,e,n){t=T.extend(new T.Event,n,{type:t,isSimulated:!0});T.event.trigger(t,null,e)}}),T.fn.extend({trigger:function(t,e){return this.each(function(){T.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return T.event.trigger(t,e,n,!0)}}),v.focusin||T.each({focus:"focusin",blur:"focusout"},function(n,r){function i(t){T.event.simulate(r,t.target,T.event.fix(t))}T.event.special[r]={setup:function(){var t=this.ownerDocument||this.document||this,e=X.access(t,r);e||t.addEventListener(n,i,!0),X.access(t,r,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this.document||this,e=X.access(t,r)-1;e?X.access(t,r,e):(t.removeEventListener(n,i,!0),X.remove(t,r))}}});var Se=w.location,Ee={guid:Date.now()},Ce=/\?/;T.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new w.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||T.error("Invalid XML: "+t),e};var Oe=/\[\]$/,je=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,Ne=/^(?:input|select|textarea|keygen)/i;T.param=function(t,e){function n(t,e){e=b(e)?e():e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==e?"":e)}var r,i=[];if(null==t)return"";if(Array.isArray(t)||t.jquery&&!T.isPlainObject(t))T.each(t,function(){n(this.name,this.value)});else for(r in t)!function n(r,t,i,o){if(Array.isArray(t))T.each(t,function(t,e){i||Oe.test(r)?o(r,e):n(r+"["+("object"===en(e)&&null!=e?t:"")+"]",e,i,o)});else if(i||"object"!==p(t))o(r,t);else for(var e in t)n(r+"["+e+"]",t[e],i,o)}(r,t[r],e,n);return i.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=T.prop(this,"elements");return t?T.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!T(this).is(":disabled")&&Ne.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!ut.test(t))}).map(function(t,e){var n=T(this).val();return null==n?null:Array.isArray(n)?T.map(n,function(t){return{name:e.name,value:t.replace(je,"\r\n")}}):{name:e.name,value:n.replace(je,"\r\n")}}).get()}});var Le=/%20/g,Re=/#.*$/,De=/([?&])_=[^&]*/,Ie=/^(.*?):[ \t]*([^\r\n]*)$/gm,Fe=/^(?:GET|HEAD)$/,ze=/^\/\//,Be={},Ue={},He="*/".concat("*"),qe=k.createElement("a");function Ve(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,r=0,i=t.toLowerCase().match(L)||[];if(b(e))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function Ge(e,r,i,o){var a={},s=e===Ue;function l(t){var n;return a[t]=!0,T.each(e[t]||[],function(t,e){e=e(r,i,o);return"string"!=typeof e||s||a[e]?s?!(n=e):void 0:(r.dataTypes.unshift(e),l(e),!1)}),n}return l(r.dataTypes[0])||!a["*"]&&l("*")}function We(t,e){var n,r,i=T.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r=r||{})[n]=e[n]);return r&&T.extend(!0,t,r),t}qe.href=Se.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Se.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Se.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":He,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?We(We(t,T.ajaxSettings),e):We(T.ajaxSettings,t)},ajaxPrefilter:Ve(Be),ajaxTransport:Ve(Ue),ajax:function(t,e){"object"===en(t)&&(e=t,t=void 0),e=e||{};var l,u,c,n,f,r,h,d,i,p=T.ajaxSetup({},e),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?T(g):T.event,y=T.Deferred(),v=T.Callbacks("once memory"),b=p.statusCode||{},o={},a={},s="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(h){if(!n)for(n={};e=Ie.exec(c);)n[e[1].toLowerCase()+" "]=(n[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=n[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return h?c:null},setRequestHeader:function(t,e){return null==h&&(t=a[t.toLowerCase()]=a[t.toLowerCase()]||t,o[t]=e),this},overrideMimeType:function(t){return null==h&&(p.mimeType=t),this},statusCode:function(t){if(t)if(h)x.always(t[x.status]);else for(var e in t)b[e]=[b[e],t[e]];return this},abort:function(t){t=t||s;return l&&l.abort(t),_(0,t),this}};if(y.promise(x),p.url=((t||p.url||Se.href)+"").replace(ze,Se.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(L)||[""],null==p.crossDomain){r=k.createElement("a");try{r.href=p.url,r.href=r.href,p.crossDomain=qe.protocol+"//"+qe.host!=r.protocol+"//"+r.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=T.param(p.data,p.traditional)),Ge(Be,p,e,x),h)return x;for(i in(d=T.event&&p.global)&&0==T.active++&&T.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Fe.test(p.type),u=p.url.replace(Re,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Le,"+")):(t=p.url.slice(u.length),p.data&&(p.processData||"string"==typeof p.data)&&(u+=(Ce.test(u)?"&":"?")+p.data,delete p.data),!1===p.cache&&(u=u.replace(De,"$1"),t=(Ce.test(u)?"&":"?")+"_="+Ee.guid+++t),p.url=u+t),p.ifModified&&(T.lastModified[u]&&x.setRequestHeader("If-Modified-Since",T.lastModified[u]),T.etag[u]&&x.setRequestHeader("If-None-Match",T.etag[u])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+He+"; q=0.01":""):p.accepts["*"]),p.headers)x.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(!1===p.beforeSend.call(g,x,p)||h))return x.abort();if(s="abort",v.add(p.complete),x.done(p.success),x.fail(p.error),l=Ge(Ue,p,e,x)){if(x.readyState=1,d&&m.trigger("ajaxSend",[x,p]),h)return x;p.async&&0<p.timeout&&(f=w.setTimeout(function(){x.abort("timeout")},p.timeout));try{h=!1,l.send(o,_)}catch(t){if(h)throw t;_(-1,t)}}else _(-1,"No Transport");function _(t,e,n,r){var i,o,a,s=e;h||(h=!0,f&&w.clearTimeout(f),l=void 0,c=r||"",x.readyState=0<t?4:0,r=200<=t&&t<300||304===t,n&&(a=function(t,e,n){for(var r,i,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||t.converters[i+" "+l[0]]){o=i;break}a=a||i}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,x,n)),!r&&-1<T.inArray("script",p.dataTypes)&&(p.converters["text script"]=function(){}),a=function(t,e,n,r){var i,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(p,a,x,r),r?(p.ifModified&&((n=x.getResponseHeader("Last-Modified"))&&(T.lastModified[u]=n),(n=x.getResponseHeader("etag"))&&(T.etag[u]=n)),204===t||"HEAD"===p.type?s="nocontent":304===t?s="notmodified":(s=a.state,i=a.data,r=!(o=a.error))):(o=s,!t&&s||(s="error",t<0&&(t=0))),x.status=t,x.statusText=(e||s)+"",r?y.resolveWith(g,[i,s,x]):y.rejectWith(g,[x,s,o]),x.statusCode(b),b=void 0,d&&m.trigger(r?"ajaxSuccess":"ajaxError",[x,p,r?i:o]),v.fireWith(g,[x,s]),d&&(m.trigger("ajaxComplete",[x,p]),--T.active||T.event.trigger("ajaxStop")))}return x},getJSON:function(t,e,n){return T.get(t,e,n,"json")},getScript:function(t,e){return T.get(t,void 0,e,"script")}}),T.each(["get","post"],function(t,i){T[i]=function(t,e,n,r){return b(e)&&(r=r||n,n=e,e=void 0),T.ajax(T.extend({url:t,type:i,dataType:r,data:e,success:n},T.isPlainObject(t)&&t))}}),T.ajaxPrefilter(function(t){for(var e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),T._evalUrl=function(t,e,n){return T.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){T.globalEval(t,e,n)}})},T.fn.extend({wrapAll:function(t){return this[0]&&(b(t)&&(t=t.call(this[0])),t=T(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(n){return b(n)?this.each(function(t){T(this).wrapInner(n.call(this,t))}):this.each(function(){var t=T(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=b(e);return this.each(function(t){T(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){T(this).replaceWith(this.childNodes)}),this}}),T.expr.pseudos.hidden=function(t){return!T.expr.pseudos.visible(t)},T.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new w.XMLHttpRequest}catch(t){}};var Ye={0:200,1223:204},Xe=T.ajaxSettings.xhr();v.cors=!!Xe&&"withCredentials"in Xe,v.ajax=Xe=!!Xe,T.ajaxTransport(function(i){var o,a;if(v.cors||Xe&&!i.crossDomain)return{send:function(t,e){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)r.setRequestHeader(n,t[n]);o=function(t){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===t?r.abort():"error"===t?"number"!=typeof r.status?e(0,"error"):e(r.status,r.statusText):e(Ye[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&w.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(t){if(o)throw t}},abort:function(){o&&o()}}}),T.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return T.globalEval(t),t}}}),T.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),T.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(t,e){r=T("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(t){r.remove(),i=null,t&&e("error"===t.type?404:200,t.type)}),k.head.appendChild(r[0])},abort:function(){i&&i()}}});var Ze,$e=[],Qe=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=$e.pop()||T.expando+"_"+Ee.guid++;return this[t]=!0,t}}),T.ajaxPrefilter("json jsonp",function(t,e,n){var r,i,o,a=!1!==t.jsonp&&(Qe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qe.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=b(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Qe,"$1"+r):!1!==t.jsonp&&(t.url+=(Ce.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||T.error(r+" was not called"),o[0]},t.dataTypes[0]="json",i=w[r],w[r]=function(){o=arguments},n.always(function(){void 0===i?T(w).removeProp(r):w[r]=i,t[r]&&(t.jsonpCallback=e.jsonpCallback,$e.push(r)),o&&b(i)&&i(o[0]),o=i=void 0}),"script"}),v.createHTMLDocument=((Ze=k.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ze.childNodes.length),T.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((r=(e=k.implementation.createHTMLDocument("")).createElement("base")).href=k.location.href,e.head.appendChild(r)):e=k),r=!n&&[],(n=S.exec(t))?[e.createElement(n[1])]:(n=mt([t],e,r),r&&r.length&&T(r).remove(),T.merge([],n.childNodes)));var r},T.fn.load=function(t,e,n){var r,i,o,a=this,s=t.indexOf(" ");return-1<s&&(r=_e(t.slice(s)),t=t.slice(0,s)),b(e)?(n=e,e=void 0):e&&"object"===en(e)&&(i="POST"),0<a.length&&T.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?T("<div>").append(T.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},T.expr.pseudos.animated=function(e){return T.grep(T.timers,function(t){return e===t.elem}).length},T.offset={setOffset:function(t,e,n){var r,i,o,a,s=T.css(t,"position"),l=T(t),u={};"static"===s&&(t.style.position="relative"),o=l.offset(),r=T.css(t,"top"),a=T.css(t,"left"),a=("absolute"===s||"fixed"===s)&&-1<(r+a).indexOf("auto")?(i=(s=l.position()).top,s.left):(i=parseFloat(r)||0,parseFloat(a)||0),b(e)&&(e=e.call(t,n,T.extend({},o))),null!=e.top&&(u.top=e.top-o.top+i),null!=e.left&&(u.left=e.left-o.left+a),"using"in e?e.using.call(t,u):("number"==typeof u.top&&(u.top+="px"),"number"==typeof u.left&&(u.left+="px"),l.css(u))}},T.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){T.offset.setOffset(this,e,t)});var t,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===T.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===T.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=T(t).offset()).top+=T.css(t,"borderTopWidth",!0),i.left+=T.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-T.css(r,"marginTop",!0),left:e.left-i.left-T.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===T.css(t,"position");)t=t.offsetParent;return t||nt})}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var o="pageYOffset"===i;T.fn[e]=function(t){return U(this,function(t,e,n){var r;return g(t)?r=t:9===t.nodeType&&(r=t.defaultView),void 0===n?r?r[i]:t[e]:void(r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):t[e]=n)},e,t,arguments.length)}}),T.each(["top","left"],function(t,n){T.cssHooks[n]=Zt(v.pixelPosition,function(t,e){if(e)return e=Xt(t,n),qt.test(e)?T(t).position()[n]+"px":e})}),T.each({Height:"height",Width:"width"},function(a,s){T.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){T.fn[o]=function(t,e){var n=arguments.length&&(r||"boolean"!=typeof t),i=r||(!0===t||!0===e?"margin":"border");return U(this,function(t,e,n){var r;return g(t)?0===o.indexOf("outer")?t["inner"+a]:t.document.documentElement["client"+a]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+a],r["scroll"+a],t.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?T.css(t,e,i):T.style(t,e,n,i)},s,n?t:void 0,n)}})}),T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){T.fn[e]=function(t){return this.on(e,t)}}),T.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,n){T.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}});var Ke=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;T.proxy=function(t,e){var n,r;if("string"==typeof e&&(r=t[e],e=t,t=r),b(t))return n=s.call(arguments,2),(r=function(){return t.apply(e||this,n.concat(s.call(arguments)))}).guid=t.guid=t.guid||T.guid++,r},T.holdReady=function(t){t?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=A,T.isFunction=b,T.isWindow=g,T.camelCase=G,T.type=p,T.now=Date.now,T.isNumeric=function(t){var e=T.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},T.trim=function(t){return null==t?"":(t+"").replace(Ke,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return T});var Je=w.jQuery,tn=w.$;return T.noConflict=function(t){return w.$===T&&(w.$=tn),t&&w.jQuery===T&&(w.jQuery=Je),T},void 0===t&&(w.jQuery=w.$=T),T},"object"===(void 0===e?"undefined":en(e))&&"object"===en(e.exports)?e.exports=r.document?i(r,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(r)},{}],559:[function(t,e,n){"use strict";e.exports=function(t,e,n){return t*(1-n)+e*n}},{}],560:[function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.css=n.unsafeCSS=n.CSSResult=n.supportsAdoptingStyleSheets=void 0;var o=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype;n.supportsAdoptingStyleSheets=o;var a=Symbol(),s=function(){function n(t,e){if(!function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),e!==a)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}var t,e,r;return t=n,(e=[{key:"toString",value:function(){return this.cssText}},{key:"styleSheet",get:function(){return void 0===this._styleSheet&&(o?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}}])&&i(t.prototype,e),r&&i(t,r),n}();n.CSSResult=s;n.unsafeCSS=function(t){return new s(String(t),a)};n.css=function(r){for(var t=arguments.length,e=new Array(1<t?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var i=e.reduce(function(t,e,n){return t+function(t){if(t instanceof s)return t.cssText;if("number"==typeof t)return t;throw new Error("Value passed to 'css' function must be a 'css' function result: ".concat(t,". Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security."))}(e)+r[n+1]},r[0]);return new s(i,a)}},{}],561:[function(t,e,n){"use strict";function l(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.property=o,n.internalProperty=function(t){return o({attribute:!1,hasChanged:null==t?void 0:t.hasChanged})},n.query=function(i,o){return function(t,e){var n,r={get:function(){return this.renderRoot.querySelector(i)},enumerable:!0,configurable:!0};return o&&(n="symbol"===a(e)?Symbol():"__".concat(e),r.get=function(){return void 0===this[n]&&(this[n]=this.renderRoot.querySelector(i)),this[n]}),void 0!==e?s(r,t,e):u(r,t)}},n.queryAsync=function(r){return function(t,e){var n={get:function(){var s,e=this;return s=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateComplete;case 2:return t.abrupt("return",e.renderRoot.querySelector(r));case 3:case"end":return t.stop()}},t)}),function(){var t=this,a=arguments;return new Promise(function(e,n){var r=s.apply(t,a);function i(t){l(r,e,n,i,o,"next",t)}function o(t){l(r,e,n,i,o,"throw",t)}i(void 0)})}()},enumerable:!0,configurable:!0};return void 0!==e?s(n,t,e):u(n,t)}},n.queryAll=function(r){return function(t,e){var n={get:function(){return this.renderRoot.querySelectorAll(r)},enumerable:!0,configurable:!0};return void 0!==e?s(n,t,e):u(n,t)}},n.eventOptions=function(n){return function(t,e){return void 0!==e?f(n,t,e):c(n,t)}},n.queryAssignedNodes=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",i=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return function(t,e){var n={get:function(){var t="slot".concat(r?"[name=".concat(r,"]"):":not([name])"),t=this.renderRoot.querySelector(t),t=t&&t.assignedNodes({flatten:i});return t&&o&&(t=t.filter(function(t){return t.nodeType===Node.ELEMENT_NODE&&t.matches?t.matches(o):h.call(t,o)})),t},enumerable:!0,configurable:!0};return void 0!==e?s(n,t,e):u(n,t)}},n.customElement=void 0;n.customElement=function(i){return function(t){return"function"==typeof t?(n=i,r=t,window.customElements.define(n,r),r):(e=i,{kind:(t=t).kind,elements:t.elements,finisher:function(t){window.customElements.define(e,t)}});var e,n,r}};var r=function(e,n){return"method"!==n.kind||!n.descriptor||"value"in n.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer:function(){"function"==typeof n.initializer&&(this[n.key]=n.initializer.call(this))},finisher:function(t){t.createProperty(n.key,e)}}:Object.assign(Object.assign({},n),{finisher:function(t){t.createProperty(n.key,e)}})},i=function(t,e,n){e.constructor.createProperty(n,t)};function o(n){return function(t,e){return void 0!==e?i(n,t,e):r(n,t)}}var s=function(t,e,n){Object.defineProperty(e,n,t)},u=function(t,e){return{kind:"method",placement:"prototype",key:e.key,descriptor:t}},c=function(e,n){return Object.assign(Object.assign({},n),{finisher:function(t){Object.assign(t.prototype[n.key],e)}})},f=function(t,e,n){Object.assign(e[n],t)};var n=Element.prototype,h=n.msMatchesSelector||n.webkitMatchesSelector},{}],562:[function(t,e,n){"use strict";function a(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(n){var r=o();return function(){var t,e=s(n);return t=r?(t=s(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==u(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function d(t){var r="function"==typeof Map?new Map:void 0;return(d=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,n)}function n(){return i(t,arguments,s(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,t)})(t)}function i(t,e,n){return(i=o()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);r=new(Function.bind.apply(t,r));return n&&p(r,n.prototype),r}).apply(null,arguments)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.UpdatingElement=n.notEqual=n.defaultConverter=void 0,window.JSCompiler_renameProperty=function(t,e){return t};var g={toAttribute:function(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute:function(t,e){switch(e){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}};n.defaultConverter=g;function m(t,e){return e!==t&&(e==e||t==t)}n.notEqual=m;var y={attribute:!0,type:String,converter:g,reflect:!1,hasChanged:m},v="finalized",b=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(o,d(HTMLElement));var t,e,n,s,r,i=h(o);function o(){var t;return function(t){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(t=i.call(this)).initialize(),t}return t=o,e=[{key:"initialize",value:function(){var e=this;this._updateState=0,this._updatePromise=new Promise(function(t){return e._enableUpdatingResolver=t}),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}},{key:"_saveInstanceProperties",value:function(){var r=this;this.constructor._classProperties.forEach(function(t,e){var n;r.hasOwnProperty(e)&&(n=r[e],delete r[e],r._instanceProperties||(r._instanceProperties=new Map),r._instanceProperties.set(e,n))})}},{key:"_applyInstanceProperties",value:function(){var n=this;this._instanceProperties.forEach(function(t,e){return n[e]=t}),this._instanceProperties=void 0}},{key:"connectedCallback",value:function(){this.enableUpdating()}},{key:"enableUpdating",value:function(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(t,e,n){e!==n&&this._attributeToProperty(t,n)}},{key:"_propertyToAttribute",value:function(t,e,n){var r=2<arguments.length&&void 0!==n?n:y,n=this.constructor,t=n._attributeNameForProperty(t,r);void 0===t||void 0!==(r=n._propertyValueToAttribute(e,r))&&(this._updateState=8|this._updateState,null==r?this.removeAttribute(t):this.setAttribute(t,r),this._updateState=-9&this._updateState)}},{key:"_attributeToProperty",value:function(t,e){var n,r;8&this._updateState||void 0!==(r=(n=this.constructor)._attributeToPropertyMap.get(t))&&(t=n.getPropertyOptions(r),this._updateState=16|this._updateState,this[r]=n._propertyValueFromAttribute(e,t),this._updateState=-17&this._updateState)}},{key:"requestUpdateInternal",value:function(t,e,n){var r,i=!0;void 0!==t&&(r=this.constructor,n=n||r.getPropertyOptions(t),r._valueHasChanged(this[t],e,n.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,e),!0!==n.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,n))):i=!1),!this._hasRequestedUpdate&&i&&(this._updatePromise=this._enqueueUpdate())}},{key:"requestUpdate",value:function(t,e){return this.requestUpdateInternal(t,e),this.updateComplete}},{key:"_enqueueUpdate",value:(s=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._updateState=4|this._updateState,t.prev=1,t.next=4,this._updatePromise;case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:if(null!=(e=this.performUpdate()))return t.next=12,e;t.next=12;break;case 12:return t.abrupt("return",!this._hasRequestedUpdate);case 13:case"end":return t.stop()}},t,this,[[1,6]])}),r=function(){var t=this,a=arguments;return new Promise(function(e,n){var r=s.apply(t,a);function i(t){c(r,e,n,i,o,"next",t)}function o(t){c(r,e,n,i,o,"throw",t)}i(void 0)})},function(){return r.apply(this,arguments)})},{key:"performUpdate",value:function(){if(this._hasRequestedUpdate){this._instanceProperties&&this._applyInstanceProperties();var e=!1,t=this._changedProperties;try{(e=this.shouldUpdate(t))?this.update(t):this._markUpdated()}catch(t){throw e=!1,this._markUpdated(),t}e&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}}},{key:"_markUpdated",value:function(){this._changedProperties=new Map,this._updateState=-5&this._updateState}},{key:"_getUpdateComplete",value:function(){return this._updatePromise}},{key:"shouldUpdate",value:function(){return!0}},{key:"update",value:function(){var n=this;void 0!==this._reflectingProperties&&0<this._reflectingProperties.size&&(this._reflectingProperties.forEach(function(t,e){return n._propertyToAttribute(e,n[e],t)}),this._reflectingProperties=void 0),this._markUpdated()}},{key:"updated",value:function(){}},{key:"firstUpdated",value:function(){}},{key:"_hasRequestedUpdate",get:function(){return 4&this._updateState}},{key:"hasUpdated",get:function(){return 1&this._updateState}},{key:"updateComplete",get:function(){return this._getUpdateComplete()}}],n=[{key:"_ensureClassProperties",value:function(){var t,n=this;this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))||(this._classProperties=new Map,void 0!==(t=Object.getPrototypeOf(this)._classProperties)&&t.forEach(function(t,e){return n._classProperties.set(e,t)}))}},{key:"createProperty",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:y;this._ensureClassProperties(),this._classProperties.set(t,n),n.noAccessor||this.prototype.hasOwnProperty(t)||(e="symbol"===u(t)?Symbol():"__".concat(t),void 0!==(n=this.getPropertyDescriptor(t,e,n))&&Object.defineProperty(this.prototype,t,n))}},{key:"getPropertyDescriptor",value:function(n,r,i){return{get:function(){return this[r]},set:function(t){var e=this[n];this[r]=t,this.requestUpdateInternal(n,e,i)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(t){return this._classProperties&&this._classProperties.get(t)||y}},{key:"finalize",value:function(){var t=Object.getPrototypeOf(this);if(t.hasOwnProperty(v)||t.finalize(),this[v]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){var e=this.properties,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}([].concat(a(Object.getOwnPropertyNames(e)),a("function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[])));try{for(n.s();!(r=n.n()).done;){var r=r.value;this.createProperty(r,e[r])}}catch(t){n.e(t)}finally{n.f()}}}},{key:"_attributeNameForProperty",value:function(t,e){e=e.attribute;return!1===e?void 0:"string"==typeof e?e:"string"==typeof t?t.toLowerCase():void 0}},{key:"_valueHasChanged",value:function(t,e,n){return(2<arguments.length&&void 0!==n?n:m)(t,e)}},{key:"_propertyValueFromAttribute",value:function(t,e){var n=e.type,e=e.converter||g,e="function"==typeof e?e:e.fromAttribute;return e?e(t,n):t}},{key:"_propertyValueToAttribute",value:function(t,e){if(void 0!==e.reflect){var n=e.type,e=e.converter;return(e&&e.toAttribute||g.toAttribute)(t,n)}}},{key:"observedAttributes",get:function(){var n=this;this.finalize();var r=[];return this._classProperties.forEach(function(t,e){t=n._attributeNameForProperty(e,t);void 0!==t&&(n._attributeToPropertyMap.set(t,e),r.push(t))}),r}}],e&&f(t.prototype,e),n&&f(t,n),o}();n.UpdatingElement=b,b.finalized=!0},{}],563:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0});var r={LitElement:!0,html:!0,svg:!0,TemplateResult:!0,SVGTemplateResult:!0};Object.defineProperty(n,"html",{enumerable:!0,get:function(){return l.html}}),Object.defineProperty(n,"svg",{enumerable:!0,get:function(){return l.svg}}),Object.defineProperty(n,"TemplateResult",{enumerable:!0,get:function(){return l.TemplateResult}}),Object.defineProperty(n,"SVGTemplateResult",{enumerable:!0,get:function(){return l.SVGTemplateResult}}),n.LitElement=void 0;var o=t("lit-html/lib/shady-render.js"),a=t("./lib/updating-element.js");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===a[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}}))});var s=t("./lib/decorators.js");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===s[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}}))});var l=t("lit-html/lit-html.js"),u=t("./lib/css-tag.js");function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=p(n);return t=r?(t=p(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===u[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}}))}),(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");var g={},t=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(i,a.UpdatingElement);var t,e,n,r=d(i);function i(){return function(t){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),r.apply(this,arguments)}return t=i,n=[{key:"getStyles",value:function(){return this.styles}},{key:"_getUniqueStyles",value:function(){var t,e,n;this.hasOwnProperty(JSCompiler_renameProperty("_styles",this))||(t=this.getStyles(),Array.isArray(t)?(e=function n(t,e){return t.reduceRight(function(t,e){return Array.isArray(e)?n(e,t):(t.add(e),t)},e)}(t,new Set),n=[],e.forEach(function(t){return n.unshift(t)}),this._styles=n):this._styles=void 0===t?[]:[t],this._styles=this._styles.map(function(t){if(t instanceof CSSStyleSheet&&!u.supportsAdoptingStyleSheets){var e=Array.prototype.slice.call(t.cssRules).reduce(function(t,e){return t+e.cssText},"");return(0,u.unsafeCSS)(e)}return t}))}}],(e=[{key:"initialize",value:function(){f(p(i.prototype),"initialize",this).call(this),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}},{key:"createRenderRoot",value:function(){return this.attachShadow({mode:"open"})}},{key:"adoptStyles",value:function(){var t=this.constructor._styles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?u.supportsAdoptingStyleSheets?this.renderRoot.adoptedStyleSheets=t.map(function(t){return t instanceof CSSStyleSheet?t:t.styleSheet}):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map(function(t){return t.cssText}),this.localName))}},{key:"connectedCallback",value:function(){f(p(i.prototype),"connectedCallback",this).call(this),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}},{key:"update",value:function(t){var n=this,e=this.render();f(p(i.prototype),"update",this).call(this,t),e!==g&&this.constructor.render(e,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(function(t){var e=document.createElement("style");e.textContent=t.cssText,n.renderRoot.appendChild(e)}))}},{key:"render",value:function(){return g}}])&&c(t.prototype,e),n&&c(t,n),i}();(n.LitElement=t).finalized=!0,t.render=o.render},{"./lib/css-tag.js":560,"./lib/decorators.js":561,"./lib/updating-element.js":562,"lit-html/lib/shady-render.js":572,"lit-html/lit-html.js":577}],564:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ifDefined=void 0;var i=t("../lit-html.js"),o=new WeakMap,t=(0,i.directive)(function(r){return function(t){var e,n=o.get(t);void 0===r&&t instanceof i.AttributePart?void 0===n&&o.has(t)||(e=t.committer.name,t.committer.element.removeAttribute(e)):r!==n&&t.setValue(r),o.set(t,r)}});n.ifDefined=t},{"../lit-html.js":577}],565:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.defaultTemplateProcessor=n.DefaultTemplateProcessor=void 0;var o=t("./parts.js");function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t=function(){function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}var t,n,r;return t=e,(n=[{key:"handleAttributeExpressions",value:function(t,e,n,r){var i=e[0];return"."===i?new o.PropertyCommitter(t,e.slice(1),n).parts:"@"===i?[new o.EventPart(t,e.slice(1),r.eventContext)]:"?"===i?[new o.BooleanAttributePart(t,e.slice(1),n)]:new o.AttributeCommitter(t,e,n).parts}},{key:"handleTextExpression",value:function(t){return new o.NodePart(t)}}])&&i(t.prototype,n),r&&i(t,r),e}(),t=new(n.DefaultTemplateProcessor=t);n.defaultTemplateProcessor=t},{"./parts.js":570}],566:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isDirective=n.directive=void 0;var r=new WeakMap;n.directive=function(e){return function(){var t=e.apply(void 0,arguments);return r.set(t,!0),t}};n.isDirective=function(t){return"function"==typeof t&&r.has(t)}},{}],567:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.removeNodes=n.reparentNodes=n.isCEPolyfill=void 0;var r="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback;n.isCEPolyfill=r;n.reparentNodes=function(t,e,n,r){for(var i=2<arguments.length&&void 0!==n?n:null,o=3<arguments.length&&void 0!==r?r:null;e!==i;){var a=e.nextSibling;t.insertBefore(e,o),e=a}};n.removeNodes=function(t,e,n){for(var r=2<arguments.length&&void 0!==n?n:null;e!==r;){var i=e.nextSibling;t.removeChild(e),e=i}}},{}],568:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.removeNodesFromTemplate=function(t,e){var n=t.element.content,r=t.parts,i=document.createTreeWalker(n,h,null,!1),o=d(r),a=r[o],s=-1,l=0,u=[],c=null;for(;i.nextNode();){s++;var f=i.currentNode;for(f.previousSibling===c&&(c=null),e.has(f)&&(u.push(f),null===c&&(c=f)),null!==c&&l++;void 0!==a&&a.index===s;)a.index=null!==c?-1:a.index-l,o=d(r,o),a=r[o]}u.forEach(function(t){return t.parentNode.removeChild(t)})},n.insertNodeIntoTemplate=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=t.element.content,i=t.parts;if(null==n)return void r.appendChild(e);var o=document.createTreeWalker(r,h,null,!1),a=d(i),s=0,l=-1;for(;o.nextNode();)for(l++,o.currentNode===n&&(s=u(e),n.parentNode.insertBefore(e,n));-1!==a&&i[a].index===l;){if(0<s){for(;-1!==a;)i[a].index+=s,a=d(i,a);return}a=d(i,a)}};var i=t("./template.js"),h=133;var u=function(t){for(var e=11===t.nodeType?0:1,n=document.createTreeWalker(t,h,null,!1);n.nextNode();)e++;return e},d=function(t,e){for(var n=(1<arguments.length&&void 0!==e?e:-1)+1;n<t.length;n++){var r=t[n];if((0,i.isTemplatePartActive)(r))return n}return-1}},{"./template.js":576}],569:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.nothing=n.noChange=void 0;n.noChange={};n.nothing={}},{}],570:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EventPart=n.PropertyPart=n.PropertyCommitter=n.BooleanAttributePart=n.NodePart=n.AttributePart=n.AttributeCommitter=n.isIterable=n.isPrimitive=void 0;var o=t("./directive.js"),r=t("./dom.js"),s=t("./part.js"),i=t("./template-instance.js"),l=t("./template-result.js"),u=t("./template.js");function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=d(n);return t=r?(t=d(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==b(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t}function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t){return null===t||!("object"===b(t)||"function"==typeof t)}n.isPrimitive=x;function _(t){return Array.isArray(t)||!(!t||!t[Symbol.iterator])}n.isIterable=_;var w=function(){function i(t,e,n){m(this,i),this.dirty=!0,this.element=t,this.name=e,this.strings=n,this.parts=[];for(var r=0;r<n.length-1;r++)this.parts[r]=this._createPart()}return v(i,[{key:"_createPart",value:function(){return new k(this)}},{key:"_getValue",value:function(){var t=this.strings,e=t.length-1,n=this.parts;if(1==e&&""===t[0]&&""===t[1]){var r=n[0].value;if("symbol"===b(r))return String(r);if("string"==typeof r||!_(r))return r}for(var i="",o=0;o<e;o++){i+=t[o];var a=n[o];if(void 0!==a){a=a.value;if(x(a)||!_(a))i+="string"==typeof a?a:String(a);else{var s=p(a);try{for(s.s();!(l=s.n()).done;){var l=l.value;i+="string"==typeof l?l:String(l)}}catch(t){s.e(t)}finally{s.f()}}}}return i+=t[e]}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}]),i}();n.AttributeCommitter=w;var k=function(){function e(t){m(this,e),this.value=void 0,this.committer=t}return v(e,[{key:"setValue",value:function(t){t===s.noChange||x(t)&&t===this.value||(this.value=t,(0,o.isDirective)(t)||(this.committer.dirty=!0))}},{key:"commit",value:function(){for(;(0,o.isDirective)(this.value);){var t=this.value;this.value=s.noChange,t(this)}this.value!==s.noChange&&this.committer.commit()}}]),e}();n.AttributePart=k;t=function(){function a(t){m(this,a),this.value=void 0,this.__pendingValue=void 0,this.options=t}return v(a,[{key:"appendInto",value:function(t){this.startNode=t.appendChild((0,u.createMarker)()),this.endNode=t.appendChild((0,u.createMarker)())}},{key:"insertAfterNode",value:function(t){this.startNode=t,this.endNode=t.nextSibling}},{key:"appendIntoPart",value:function(t){t.__insert(this.startNode=(0,u.createMarker)()),t.__insert(this.endNode=(0,u.createMarker)())}},{key:"insertAfterPart",value:function(t){t.__insert(this.startNode=(0,u.createMarker)()),this.endNode=t.endNode,t.endNode=this.startNode}},{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){if(null!==this.startNode.parentNode){for(;(0,o.isDirective)(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=s.noChange,t(this)}var e=this.__pendingValue;e!==s.noChange&&(x(e)?e!==this.value&&this.__commitText(e):e instanceof l.TemplateResult?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):_(e)?this.__commitIterable(e):e===s.nothing?(this.value=s.nothing,this.clear()):this.__commitText(e))}}},{key:"__insert",value:function(t){this.endNode.parentNode.insertBefore(t,this.endNode)}},{key:"__commitNode",value:function(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}},{key:"__commitText",value:function(t){var e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}},{key:"__commitTemplateResult",value:function(t){var e,n=this.options.templateFactory(t);this.value instanceof i.TemplateInstance&&this.value.template===n?this.value.update(t.values):(n=(e=new i.TemplateInstance(n,t.processor,this.options))._clone(),e.update(t.values),this.__commitNode(n),this.value=e)}},{key:"__commitIterable",value:function(t){Array.isArray(this.value)||(this.value=[],this.clear());var e=this.value,n=0,r=p(t);try{for(r.s();!(o=r.n()).done;){var i,o=o.value;void 0===(i=e[n])&&(i=new a(this.options),e.push(i),0===n?i.appendIntoPart(this):i.insertAfterPart(e[n-1])),i.setValue(o),i.commit(),n++}}catch(t){r.e(t)}finally{r.f()}n<e.length&&(e.length=n,this.clear(i&&i.endNode))}},{key:"clear",value:function(t){t=0<arguments.length&&void 0!==t?t:this.startNode;(0,r.removeNodes)(this.startNode.parentNode,t.nextSibling,this.endNode)}}]),a}();n.NodePart=t;t=function(){function r(t,e,n){if(m(this,r),this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=n}return v(r,[{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;(0,o.isDirective)(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=s.noChange,t(this)}var e;this.__pendingValue!==s.noChange&&(e=!!this.__pendingValue,this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=s.noChange)}}]),r}();n.BooleanAttributePart=t;t=function(){c(i,w);var r=h(i);function i(t,e,n){return m(this,i),(e=r.call(this,t,e,n)).single=2===n.length&&""===n[0]&&""===n[1],e}return v(i,[{key:"_createPart",value:function(){return new T(this)}},{key:"_getValue",value:function(){return this.single?this.parts[0].value:a(d(i.prototype),"_getValue",this).call(this)}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}]),i}();n.PropertyCommitter=t;var T=function(){c(e,k);var t=h(e);function e(){return m(this,e),t.apply(this,arguments)}return e}();n.PropertyPart=T;var M=!1;!function(){try{var t={get capture(){return!(M=!0)}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}}();t=function(){function i(t,e,n){var r=this;m(this,i),this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=n,this.__boundHandleEvent=function(t){return r.handleEvent(t)}}return v(i,[{key:"setValue",value:function(t){this.__pendingValue=t}},{key:"commit",value:function(){for(;(0,o.isDirective)(this.__pendingValue);){var t=this.__pendingValue;this.__pendingValue=s.noChange,t(this)}var e,n,r;this.__pendingValue!==s.noChange&&(e=this.__pendingValue,r=this.value,n=null==e||null!=r&&(e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive),r=null!=e&&(null==r||n),n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=A(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=s.noChange)}},{key:"handleEvent",value:function(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}]),i}();n.EventPart=t;var A=function(t){return t&&(M?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)}},{"./directive.js":566,"./dom.js":567,"./part.js":569,"./template-instance.js":574,"./template-result.js":575,"./template.js":576}],571:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.render=n.parts=void 0;var i=t("./dom.js"),o=t("./parts.js"),a=t("./template-factory.js"),s=new WeakMap;n.parts=s;n.render=function(t,e,n){var r=s.get(e);void 0===r&&((0,i.removeNodes)(e,e.firstChild),s.set(e,r=new o.NodePart(Object.assign({templateFactory:a.templateFactory},n))),r.appendInto(e)),r.setValue(t),r.commit()}},{"./dom.js":567,"./parts.js":570,"./template-factory.js":573}],572:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"html",{enumerable:!0,get:function(){return r.html}}),Object.defineProperty(n,"svg",{enumerable:!0,get:function(){return r.svg}}),Object.defineProperty(n,"TemplateResult",{enumerable:!0,get:function(){return r.TemplateResult}}),n.render=n.shadyTemplateFactory=void 0;var l=t("./dom.js"),h=t("./modify-template.js"),u=t("./render.js"),d=t("./template-factory.js"),c=t("./template-instance.js"),a=t("./template.js"),r=t("../lit-html.js");function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){return"".concat(t,"--").concat(e)}var g=!0;void 0===window.ShadyCSS?g=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),g=!1);function m(o){return function(t){var e=p(t.type,o),n=d.templateCaches.get(e);void 0===n&&(n={stringsArray:new WeakMap,keyString:new Map},d.templateCaches.set(e,n));var r=n.stringsArray.get(t.strings);if(void 0!==r)return r;var i=t.strings.join(a.marker);return void 0===(r=n.keyString.get(i))&&(e=t.getTemplateElement(),g&&window.ShadyCSS.prepareTemplateDom(e,o),r=new a.Template(t,e),n.keyString.set(i,r)),n.stringsArray.set(t.strings,r),r}}n.shadyTemplateFactory=m;function y(t,e,n){b.add(t);var r=n?n.element:document.createElement("template"),i=e.querySelectorAll("style"),o=i.length;if(0!==o){for(var a,s=document.createElement("style"),l=0;l<o;l++){var u=i[l];u.parentNode.removeChild(u),s.textContent+=u.textContent}a=t,v.forEach(function(t){t=d.templateCaches.get(p(t,a));void 0!==t&&t.keyString.forEach(function(t){var e=t.element.content,n=new Set;Array.from(e.querySelectorAll("style")).forEach(function(t){n.add(t)}),(0,h.removeNodesFromTemplate)(t,n)})});var c=r.content;n?(0,h.insertNodeIntoTemplate)(n,s,c.firstChild):c.insertBefore(s,c.firstChild),window.ShadyCSS.prepareTemplateStyles(r,t);var f=c.querySelector("style");window.ShadyCSS.nativeShadow&&null!==f?e.insertBefore(f.cloneNode(!0),e.firstChild):n&&(c.insertBefore(s,c.firstChild),(c=new Set).add(s),(0,h.removeNodesFromTemplate)(n,c))}else window.ShadyCSS.prepareTemplateStyles(r,t)}var v=["html","svg"],b=new Set;n.render=function(t,e,n){if(!n||"object"!==f(n)||!n.scopeName)throw new Error("The `scopeName` option is required.");var r=n.scopeName,i=u.parts.has(e),o=g&&11===e.nodeType&&!!e.host,a=o&&!b.has(r),s=a?document.createDocumentFragment():e;(0,u.render)(t,s,Object.assign({templateFactory:m(r)},n)),a&&(n=u.parts.get(s),u.parts.delete(s),a=n.value instanceof c.TemplateInstance?n.value.template:void 0,y(r,s,a),(0,l.removeNodes)(e,e.firstChild),e.appendChild(s),u.parts.set(e,n)),!i&&o&&window.ShadyCSS.styleElement(e.host)}},{"../lit-html.js":577,"./dom.js":567,"./modify-template.js":568,"./render.js":571,"./template-factory.js":573,"./template-instance.js":574,"./template.js":576}],573:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.templateFactory=function(t){var e=o.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},o.set(t.type,e));var n=e.stringsArray.get(t.strings);if(void 0!==n)return n;var r=t.strings.join(i.marker);void 0===(n=e.keyString.get(r))&&(n=new i.Template(t,t.getTemplateElement()),e.keyString.set(r,n));return e.stringsArray.set(t.strings,n),n},n.templateCaches=void 0;var i=t("./template.js");var o=new Map;n.templateCaches=o},{"./template.js":576}],574:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TemplateInstance=void 0;var u=t("./dom.js"),c=t("./template.js");function f(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function s(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t=function(){function r(t,e,n){!function(t){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this),this.__parts=[],this.template=t,this.processor=e,this.options=n}var t,e,n;return t=r,(e=[{key:"update",value:function(t){var e=0,n=a(this.__parts);try{for(n.s();!(r=n.n()).done;){var r=r.value;void 0!==r&&r.setValue(t[e]),e++}}catch(t){n.e(t)}finally{n.f()}var i=a(this.__parts);try{for(i.s();!(o=i.n()).done;){var o=o.value;void 0!==o&&o.commit()}}catch(t){i.e(t)}finally{i.f()}}},{key:"_clone",value:function(){for(var t,e,n=u.isCEPolyfill?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),r=[],i=this.template.parts,o=document.createTreeWalker(n,133,null,!1),a=0,s=0,l=o.nextNode();a<i.length;)if(t=i[a],(0,c.isTemplatePartActive)(t)){for(;s<t.index;)s++,"TEMPLATE"===l.nodeName&&(r.push(l),o.currentNode=l.content),null===(l=o.nextNode())&&(o.currentNode=r.pop(),l=o.nextNode());"node"===t.type?((e=this.processor.handleTextExpression(this.options)).insertAfterNode(l.previousSibling),this.__parts.push(e)):(e=this.__parts).push.apply(e,f(this.processor.handleAttributeExpressions(l,t.name,t.strings,this.options))),a++}else this.__parts.push(void 0),a++;return u.isCEPolyfill&&(document.adoptNode(n),customElements.upgrade(n)),n}}])&&i(t.prototype,e),n&&i(t,n),r}();n.TemplateInstance=t},{"./dom.js":567,"./template.js":576}],575:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.SVGTemplateResult=n.TemplateResult=void 0;var o=t("./dom.js"),a=t("./template.js");function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=c(n);return t=r?(t=c(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var d=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:function(t){return t}}),p=" ".concat(a.marker," "),g=function(){function i(t,e,n,r){f(this,i),this.strings=t,this.values=e,this.type=n,this.processor=r}return h(i,[{key:"getHTML",value:function(){for(var t=this.strings.length-1,e="",n=!1,r=0;r<t;r++){var i=this.strings[r],o=i.lastIndexOf("\x3c!--"),n=(-1<o||n)&&-1===i.indexOf("--\x3e",o+1),o=a.lastAttributeNameRegex.exec(i);e+=null===o?i+(n?p:a.nodeMarker):i.substr(0,o.index)+o[1]+o[2]+a.boundAttributeSuffix+o[3]+a.marker}return e+=this.strings[t]}},{key:"getTemplateElement",value:function(){var t=document.createElement("template"),e=this.getHTML();return void 0!==d&&(e=d.createHTML(e)),t.innerHTML=e,t}}]),i}();n.TemplateResult=g;t=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(r,g);var t=u(r);function r(){return f(this,r),t.apply(this,arguments)}return h(r,[{key:"getHTML",value:function(){return"<svg>".concat(s(c(r.prototype),"getHTML",this).call(this),"</svg>")}},{key:"getTemplateElement",value:function(){var t=s(c(r.prototype),"getTemplateElement",this).call(this),e=t.content,n=e.firstChild;return e.removeChild(n),(0,o.reparentNodes)(e,n.firstChild),t}}]),r}();n.SVGTemplateResult=t},{"./dom.js":567,"./template.js":576}],576:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.lastAttributeNameRegex=n.createMarker=n.isTemplatePartActive=n.Template=n.boundAttributeSuffix=n.markerRegex=n.nodeMarker=n.marker=void 0;var j="{{lit-".concat(String(Math.random()).slice(2),"}}");n.marker=j;var r="\x3c!--".concat(j,"--\x3e");n.nodeMarker=r;var P=new RegExp("".concat(j,"|").concat(r));n.markerRegex=P;var N="$lit$";n.boundAttributeSuffix=N;r=function e(t,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.parts=[],this.element=n;for(var r=[],i=[],o=document.createTreeWalker(n.content,133,null,!1),a=0,s=-1,l=0,u=t.strings,c=t.values.length;l<c;){var f=o.nextNode();if(null!==f){if(s++,1===f.nodeType){if(f.hasAttributes()){for(var h=f.attributes,d=h.length,p=0,g=0;g<d;g++)L(h[g].name,N)&&p++;for(;0<p--;){var m=u[l],y=D.exec(m)[2],v=y.toLowerCase()+N,m=f.getAttribute(v);f.removeAttribute(v);m=m.split(P);this.parts.push({type:"attribute",index:s,name:y,strings:m}),l+=m.length-1}}"TEMPLATE"===f.tagName&&(i.push(f),o.currentNode=f.content)}else if(3===f.nodeType){var b=f.data;if(0<=b.indexOf(j)){for(var x=f.parentNode,_=b.split(P),w=_.length-1,k=0;k<w;k++){var T,M=void 0,A=_[k],M=""===A?R():(null!==(T=D.exec(A))&&L(T[2],N)&&(A=A.slice(0,T.index)+T[1]+T[2].slice(0,-N.length)+T[3]),document.createTextNode(A));x.insertBefore(M,f),this.parts.push({type:"node",index:++s})}""===_[w]?(x.insertBefore(R(),f),r.push(f)):f.data=_[w],l+=w}}else if(8===f.nodeType)if(f.data===j){b=f.parentNode;null!==f.previousSibling&&s!==a||(s++,b.insertBefore(R(),f)),a=s,this.parts.push({type:"node",index:s}),null===f.nextSibling?f.data="":(r.push(f),s--),l++}else for(var S=-1;-1!==(S=f.data.indexOf(j,S+1));)this.parts.push({type:"node",index:-1}),l++}else o.currentNode=i.pop()}for(var E=0,C=r;E<C.length;E++){var O=C[E];O.parentNode.removeChild(O)}};n.Template=r;var L=function(t,e){var n=t.length-e.length;return 0<=n&&t.slice(n)===e};n.isTemplatePartActive=function(t){return-1!==t.index};var R=function(){return document.createComment("")};n.createMarker=R;var D=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;n.lastAttributeNameRegex=D},{}],577:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DefaultTemplateProcessor",{enumerable:!0,get:function(){return i.DefaultTemplateProcessor}}),Object.defineProperty(n,"defaultTemplateProcessor",{enumerable:!0,get:function(){return i.defaultTemplateProcessor}}),Object.defineProperty(n,"SVGTemplateResult",{enumerable:!0,get:function(){return o.SVGTemplateResult}}),Object.defineProperty(n,"TemplateResult",{enumerable:!0,get:function(){return o.TemplateResult}}),Object.defineProperty(n,"directive",{enumerable:!0,get:function(){return r.directive}}),Object.defineProperty(n,"isDirective",{enumerable:!0,get:function(){return r.isDirective}}),Object.defineProperty(n,"removeNodes",{enumerable:!0,get:function(){return a.removeNodes}}),Object.defineProperty(n,"reparentNodes",{enumerable:!0,get:function(){return a.reparentNodes}}),Object.defineProperty(n,"noChange",{enumerable:!0,get:function(){return s.noChange}}),Object.defineProperty(n,"nothing",{enumerable:!0,get:function(){return s.nothing}}),Object.defineProperty(n,"AttributeCommitter",{enumerable:!0,get:function(){return l.AttributeCommitter}}),Object.defineProperty(n,"AttributePart",{enumerable:!0,get:function(){return l.AttributePart}}),Object.defineProperty(n,"BooleanAttributePart",{enumerable:!0,get:function(){return l.BooleanAttributePart}}),Object.defineProperty(n,"EventPart",{enumerable:!0,get:function(){return l.EventPart}}),Object.defineProperty(n,"isIterable",{enumerable:!0,get:function(){return l.isIterable}}),Object.defineProperty(n,"isPrimitive",{enumerable:!0,get:function(){return l.isPrimitive}}),Object.defineProperty(n,"NodePart",{enumerable:!0,get:function(){return l.NodePart}}),Object.defineProperty(n,"PropertyCommitter",{enumerable:!0,get:function(){return l.PropertyCommitter}}),Object.defineProperty(n,"PropertyPart",{enumerable:!0,get:function(){return l.PropertyPart}}),Object.defineProperty(n,"parts",{enumerable:!0,get:function(){return u.parts}}),Object.defineProperty(n,"render",{enumerable:!0,get:function(){return u.render}}),Object.defineProperty(n,"templateCaches",{enumerable:!0,get:function(){return c.templateCaches}}),Object.defineProperty(n,"templateFactory",{enumerable:!0,get:function(){return c.templateFactory}}),Object.defineProperty(n,"TemplateInstance",{enumerable:!0,get:function(){return f.TemplateInstance}}),Object.defineProperty(n,"createMarker",{enumerable:!0,get:function(){return h.createMarker}}),Object.defineProperty(n,"isTemplatePartActive",{enumerable:!0,get:function(){return h.isTemplatePartActive}}),Object.defineProperty(n,"Template",{enumerable:!0,get:function(){return h.Template}}),n.svg=n.html=void 0;var i=t("./lib/default-template-processor.js"),o=t("./lib/template-result.js"),r=t("./lib/directive.js"),a=t("./lib/dom.js"),s=t("./lib/part.js"),l=t("./lib/parts.js"),u=t("./lib/render.js"),c=t("./lib/template-factory.js"),f=t("./lib/template-instance.js"),h=t("./lib/template.js");"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");n.html=function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new o.TemplateResult(t,n,"html",i.defaultTemplateProcessor)};n.svg=function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new o.SVGTemplateResult(t,n,"svg",i.defaultTemplateProcessor)}},{"./lib/default-template-processor.js":565,"./lib/directive.js":566,"./lib/dom.js":567,"./lib/part.js":569,"./lib/parts.js":570,"./lib/render.js":571,"./lib/template-factory.js":573,"./lib/template-instance.js":574,"./lib/template-result.js":575,"./lib/template.js":576}],578:[function(t,e,n){"use strict";function i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){return!a&&t.classList||new r(t)},n.setForceClassList=function(t){a=t};var r=function(){function r(t){!function(t){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this),this.classes=new Set;var e=i(((this.element=t).getAttribute("class")||"").split(/\s+/));try{for(e.s();!(n=e.n()).done;){var n=n.value;this.classes.add(n)}}catch(t){e.e(t)}finally{e.f()}}var t,e,n;return t=r,(e=[{key:"add",value:function(t){this.classes.add(t),this.commit()}},{key:"remove",value:function(t){this.classes.delete(t),this.commit()}},{key:"commit",value:function(){var e="";this.classes.forEach(function(t){return e+=t+" "}),this.element.setAttribute("class",e)}}])&&o(t.prototype,e),n&&o(t,n),r}(),a=!1},{}],579:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.transitionBase=function(_){return function(b,x){return function(){var e=A(regeneratorRuntime.mark(function t(n){var e,r,i,o,a,s,l,u,c,f,h,d,p,g,m,y,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m=function(){return(m=A(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=a,t.t0)return t.next=4,a();t.next=4;break;case 4:if(t.t1=i,t.t1)return t.next=8,_.transition(e,i,x);t.next=8;break;case 8:if(h(e),t.t2=l,t.t2)return t.next=13,l();t.next=13;break;case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)},g=function(){return m.apply(this,arguments)},p=function(){return(p=A(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=o,t.t0)return t.next=4,o();t.next=4;break;case 4:if(t.t1=r,t.t1)return t.next=8,_.transition(e,r,x);t.next=8;break;case 8:if(t.t2=s,t.t2)return t.next=12,s();t.next=12;break;case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)},d=function(){return p.apply(this,arguments)},h=function(t){var e=t.startNode,n=t.endNode;try{e&&t.clear()}catch(n){}e&&e.parentNode&&e.parentNode.removeChild(e),n&&n.parentNode&&n.parentNode.removeChild(n)},f=function(t){var e=new w.NodePart(n.options);return e.appendIntoPart(n),e.setValue(t),e.commit(),e},n instanceof w.NodePart){t.next=8;break}throw new Error("The `transition` directive can only be used on nodes");case 8:if("string"!=typeof(b=b||(0,w.html)(M()))&&"number"!=typeof b||(b=(0,w.html)(T(),b)),e=(0,k.marked)(b),r=x.enter,i=x.leave,o=x.onEnter,a=x.onLeave,s=x.onAfterEnter,l=x.onAfterLeave,v=x.mode,u=void 0===v?"in-out":v,c=S.get(n),(0,k.pageVisible)()){t.next=33;break}if(c&&c.last&&h(c.last),t.t0=a,t.t0)return t.next=19,a();t.next=19;break;case 19:if(t.t1=l,t.t1)return t.next=23,l();t.next=23;break;case 23:if(t.t2=o,t.t2)return t.next=27,o();t.next=27;break;case 27:if(c&&(c.last=f(b)),t.t3=s,t.t3)return t.next=32,s();t.next=32;break;case 32:return t.abrupt("return");case 33:if(c||S.set(n,c={children:new Map,styles:new Map,transition:x}),_.init&&_.init({transition:x,data:c,add:f,remove:h}),!c.last||!e||e!==c.name){t.next=40;break}c.last.setValue(b),c.last.commit(),t.next=64;break;case 40:if(c.name=e,"in-out"===u)return y=c.last,t.next=45,d(c.last=f(b));t.next=51;break;case 45:if(t.t4=y,t.t4)return t.next=49,g(y);t.next=49;break;case 49:t.next=64;break;case 51:if("out-in"!==u){t.next=61;break}if(v=c.last,t.t5=v,t.t5)return t.next=57,g(v);t.next=57;break;case 57:return t.next=59,d(c.last=f(b));case 59:t.next=64;break;case 61:return c.last&&g(c.last),t.next=64,d(c.last=f(b));case 64:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}()}};var w=t("lit-html"),k=t("./utils");function T(){var t=r(['<div style="display: inline-block">',"</div>"]);return T=function(){return t},t}function M(){var t=r(["<div></div>"]);return M=function(){return t},t}function r(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function l(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function A(s){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=s.apply(t,a);function i(t){l(r,e,n,i,o,"next",t)}function o(t){l(r,e,n,i,o,"throw",t)}i(void 0)})}}var S=new WeakMap},{"./utils":580,"lit-html":577}],580:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.nextFrame=a,n.classChanged=function(t,r){var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return new Promise(function(e){var n=new MutationObserver(o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.disconnect(),t.t0=i,t.t0)return t.next=5,a();t.next=5;break;case 5:e();case 6:case"end":return t.stop()}},t)})));n.observe(t,{attributes:!0,attributeFilter:["class"]}),r&&r()})},n.partDomSingle=function(t){t=function(t){var e=[],n=t.startNode.nextSibling;for(;n!==t.endNode;)e.push(n),n=n.nextSibling;return e}(t).filter(function(t){return!("#text"===(t=t).nodeName&&!(null!==(t=t.nodeValue)&&void 0!==t&&t.trim()))});if(1==t.length)return t[0];throw new Error("lit-transition directive expects exactly one child node,\n      but was passed ".concat(t.map(function(t){return t.nodeName}).join(", ")))},n.mark=function(t,e){return c.set(t,e),t},n.marked=function(t){return c.get(t)},n.needsLock=function(t,o){var a=u(t);if(a){t=function(){var t,e=document.createElement("div"),n=(0,s.default)(e),r=a.shadowRoot||a;t=o,Array.isArray(t)?t.forEach(function(t){return n.add(t)}):n.add(t),r.appendChild(e);var i=window.getComputedStyle(e).position;return r.removeChild(e),i}();if("absolute"===t)return"relative"===window.getComputedStyle(a).position}return!1},n.recordExtents=function(t){var e=t.getBoundingClientRect(),n=0,r=0,i=t.offsetParent;for(;t&&t!==document&&!(t instanceof DocumentFragment)&&t!==i;)n+=t.offsetTop-(t.scrollTop||0),r+=t.offsetLeft-(t.scrollLeft||0),t=u(t);return{left:r,top:n,width:e.width,height:e.height}},n.applyExtents=function(t,e){t.style.marginLeft="0px",t.style.marginTop="0px",t.style.left=e.left+"px",t.style.top=e.top+"px",t.style.width=e.width+"px",t.style.height=e.height+"px"},n.pageVisible=function(){return i};var r,s=(r=t("./class-list"))&&r.__esModule?r:{default:r};function l(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function o(s){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=s.apply(t,a);function i(t){l(r,e,n,i,o,"next",t)}function o(t){l(r,e,n,i,o,"throw",t)}i(void 0)})}}function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return new Promise(function(t){return 0==--e?requestAnimationFrame(function(){return t()}):t(a(e))})}function u(t){for(var e=t;e=e.parentNode||e.host;)if(e instanceof HTMLElement)return e;return null}var i,c=new WeakMap;function f(t){t=0<arguments.length&&void 0!==t?t:!document.hidden;i=t}f(),document.addEventListener("visibilitychange",function(){return f()},!1)},{"./class-list":578}],581:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.flow=void 0;var r,i=t("lit-html"),d=(r=t("../core/class-list"))&&r.__esModule?r:{default:r},p=t("../core/utils"),o=t("./interfaces");function a(){var t=function(t,e){e=e||t.slice(0);return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["<style>","</style>"]);return a=function(){return t},t}function l(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function g(s){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=s.apply(t,a);function i(t){l(r,e,n,i,o,"next",t)}function o(t){l(r,e,n,i,o,"throw",t)}i(void 0)})}}var s={transition:function(n,r,i){return g(regeneratorRuntime.mark(function t(){var s,l,u,c,e,f,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.duration,s=void 0===e?i.duration:e,l=r.active,u=r.from,c=r.to,e=r.lock,f=(0,p.partDomSingle)(n)){t.next=4;break}return t.abrupt("return");case 4:return e&&(e!==o.GeometryLockMode.Auto||l&&(0,p.needsLock)(f,l))&&(h=(0,p.recordExtents)(f)),t.next=7,new Promise(function(){var e=g(regeneratorRuntime.mark(function t(n){var e,r,i,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=function(e){if(e){if(e.target!==f)return;e.preventDefault(),e.stopPropagation()}["transitionend","transitioncancel","animationend","animationcancel"].filter(function(t){return!e||t!==e.type}).forEach(function(t){return f.removeEventListener(t,o)}),l&&i(l),u&&i(u),c&&i(c),n()},e=(0,d.default)(f),r=function(t){return Array.isArray(t)?t.forEach(function(t){return e.add(t)}):e.add(t)},i=function(t){return Array.isArray(t)?t.forEach(function(t){return e.remove(t)}):e.remove(t)},h&&(0,p.applyExtents)(f,h),a={once:!0},s?setTimeout(o,s):(f.addEventListener("transitionrun",function(){f.addEventListener("transitionend",o,a),f.addEventListener("transitioncancel",o,a)},a),f.addEventListener("animationstart",function(){f.addEventListener("animationend",o,a),f.addEventListener("animationcancel",o,a)},a)),t.t0=u,t.t0)return t.next=11,(0,p.classChanged)(f,function(){return r(u)});t.next=11;break;case 11:if(t.t1=l,t.t1)return t.next=15,(0,p.classChanged)(f,function(){return r(l)});t.next=15;break;case 15:u&&i(u),c&&r(c);case 17:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return t.stop()}},t)}))()},init:function(t){var e=t.data,n=t.remove,r=t.add,t=t.transition;e._cssSource!==t.css&&(e.css&&n(e.css),t.css&&(e._cssSource=t.css,t="string"==typeof(t=t.css)?(0,i.html)(a(),t):t,e.css=r(t)))}};n.flow=s},{"../core/class-list":578,"../core/utils":580,"./interfaces":583,"lit-html":577}],582:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={transition:!0,mark:!0};Object.defineProperty(n,"mark",{enumerable:!0,get:function(){return f.mark}}),n.transition=void 0;var i=t("lit-html"),o=t("../core/transition-base"),a=t("./transitions/fade"),s=t("./utils"),l=t("./flow"),u=t("./interfaces");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===u[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}}))});var c=t("./transitions");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===c[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return c[t]}}))});var f=t("../core/utils"),i=(0,i.directive)(function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.fade;return"function"==typeof e&&(e=e()),(0,o.transitionBase)(l.flow)(t,(0,s.normalizeCSSTransitionOptions)(e))});n.transition=i},{"../core/transition-base":579,"../core/utils":580,"./flow":581,"./interfaces":583,"./transitions":585,"./transitions/fade":584,"./utils":588,"lit-html":577}],583:[function(t,e,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.GeometryLockMode=n.TransitionMode=void 0,n.TransitionMode=void 0,(r=n.TransitionMode={}).InOut="in-out",r.OutIn="out-in",r.Both="both",n.GeometryLockMode=void 0,(n=n.GeometryLockMode={})[n.None=0]="None",n[n.Lock=1]="Lock",n.Auto="auto"},{}],584:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fade=void 0;var i=t("../utils"),t=(0,i.instantiateDefault)("fade",function(t){var e=0<arguments.length&&void 0!==t?t:{},n=e.duration,r=void 0===n?500:n,t=e.ease,n=void 0===t?"ease-out":t,t=e.opacity,t=void 0===t?0:t;return(0,i.mergeObjects)({enter:{active:"fade-enter-active",from:"fade-enter-from",to:"fade-enter-to"},leave:{active:"fade-leave-active",from:"fade-leave-from",to:"fade-leave-to",lock:!0},css:"\n    .fade-leave-active {\n      position: fixed;\n      transition: opacity ".concat(r,"ms ").concat(n,", transform ").concat(r,"ms ").concat(n,";\n    }\n    .fade-enter-active {\n      transition: opacity ").concat(r,"ms ").concat(n,", transform ").concat(r,"ms ").concat(n,";\n    }\n  .fade-enter-from, .fade-leave-to {\n    opacity: ").concat(t,";\n  }\n  .fade-enter-to, .fade-leave-from {\n    opacity: 1;\n  }\n  ")},e)});n.fade=t},{"../utils":588}],585:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./fade");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in n&&n[t]===r[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}}))});var i=t("./land");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in n&&n[t]===i[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}}))});var o=t("./slide");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in n&&n[t]===o[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}}))})},{"./fade":584,"./land":586,"./slide":587}],586:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.land=void 0;var i=t("../utils"),t=(0,i.instantiateDefault)("land",function(t){var e=0<arguments.length&&void 0!==t?t:{},n=e.duration,r=void 0===n?500:n,t=e.ease,n=void 0===t?"ease-out":t,t=e.opacity,t=void 0===t?0:t;return(0,i.mergeObjects)({enter:{active:"land1-enter-active",from:"land1-enter-from",to:"land1-enter-to"},leave:{active:"land1-leave-active",from:"land1-leave-from",to:"land1-leave-to"},mode:"both",css:"\n      .land1-enter-active {\n        transform-origin: 50% 50%;\n        transition: transform ".concat(r,"ms ").concat(n,", opacity ").concat(r,"ms ").concat(n,";\n      }\n      .land1-leave-active {\n        transform-origin: 50% 50%;\n        position: absolute;\n        transition: transform ").concat(r,"ms ").concat(n,", opacity ").concat(r,"ms ").concat(n,";\n      }\n      .land1-enter-from {\n        opacity: ").concat(t,";\n        transform: translate(0px, 0px) scale(3);\n      }\n      .land1-leave-to {\n        transform: translate(0px, 100px);\n        opacity: ").concat(t,";\n      }")},e)});n.land=t},{"../utils":588}],587:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.slide=void 0;var c=t("../interfaces"),f=t("../utils"),t=(0,f.instantiateDefault)("slide",function(t){var e=0<arguments.length&&void 0!==t?t:{},n=e.left,r=e.right,i=e.up,o=e.down?{y:"-100%",y1:"100%"}:i?{y:"100%",y1:"-100%"}:r?{x:"100%",x1:"-100%"}:n?{x:"-100%",x1:"100%"}:{},a=Object.assign(Object.assign({},o),e),s=a.mode,l=a.duration,u=void 0===l?500:l,t=a.x,i=void 0===t?"100%":t,r=a.y,n=void 0===r?"0%":r,o=a.x1,l=void 0===o?"":o,t=a.y1,r=void 0===t?"":t,o=a.ease,t=void 0===o?"ease-out":o,o=a.leavePosition,o=void 0===o?"":o,a=a.opacity,a=void 0===a?0:a,l=l||i,r=r||n;return(0,f.mergeObjects)({enter:{active:"slide-enter-active",from:"slide-enter-from"},leave:{active:"slide-leave-active",to:"slide-leave-to",lock:c.GeometryLockMode.Auto},css:"\n    .slide-enter-active {\n      transition: transform ".concat(u,"ms ").concat(t,", opacity ").concat(u,"ms ").concat(t,";\n    }\n    .slide-leave-active {\n      position: ").concat(o||(s!==c.TransitionMode.OutIn?"absolute":"initial"),";\n      transition: transform ").concat(u,"ms ").concat(t,", opacity ").concat(u,"ms ").concat(t,";\n    }\n    .slide-leave-to {\n      opacity: ").concat(a,";\n      transform: translate(").concat(i,", ").concat(n,");\n    }\n    .slide-enter-from {\n      opacity: ").concat(a,";\n      transform: translate(").concat(l,", ").concat(r,");\n    }"),mode:s},e)});n.slide=t},{"../interfaces":583,"../utils":588}],588:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.normalizeCSSTransitionOptions=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.css,n=t.duration,r=t.enter,i=void 0===r?{}:r,o=t.leave,a=void 0===o?{}:o,s=t.mode,l=void 0===s?f.TransitionMode.Both:s,u=t.onAfterEnter,r=t.onAfterLeave,o=t.onEnter,s=t.onLeave,t=t.skipHidden;return{duration:n,skipHidden:void 0===t||t,css:(0,c.html)(h(),e),enter:0!=i&&(Array.isArray(i)||"string"==typeof i?{active:i}:Object.assign({active:"enter-active",from:"enter-from",to:"enter-to"},i)),leave:0!=a&&(Array.isArray(a)||"string"==typeof a?{active:a,lock:!1}:Object.assign({active:"leave-active",from:"leave-from",to:"leave-to",lock:!1},a)),onEnter:o,onLeave:s,onAfterEnter:u,onAfterLeave:r,mode:l}},n.instantiateDefault=function(t,e){var n,r=e();for(n in r)e[n]=r[n];return Object.defineProperty(e,"name",{get:function(){return t}}),e},n.mergeObjects=function t(e,n){for(var r in n)try{n[r].constructor==Object?e[r]=t(e[r],n[r]):e[r]=n[r]}catch(t){e[r]=n[r]}return e};var c=t("lit-html"),f=t("./interfaces");function h(){var t=function(t,e){e=e||t.slice(0);return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["<style>","</style>"]);return h=function(){return t},t}},{"./interfaces":583,"lit-html":577}],589:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./css/index");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in n&&n[t]===r[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}}))})},{"./css/index":582}],590:[function(t,e,n){"use strict";e.exports=function(t){for(var e=1<<t+1,n=new Array(e),r=0;r<e;++r)n[r]=function(t,e){if(0===e||e===(1<<t+1)-1)return[];for(var n=[],r=[],i=0;i<=t;++i)if(e&1<<i){n.push(f(t,i-1,i-1)),r.push(null);for(var o=0;o<=t;++o)~e&1<<o&&(n.push(f(t,i-1,o-1)),r.push([i,o]))}var a=c(n),s=[];t:for(i=0;i<a.length;++i){for(var l=a[i],u=[],o=0;o<l.length;++o){if(!r[l[o]])continue t;u.push(r[l[o]].slice())}s.push(u)}return s}(t,r);return n};var c=t("convex-hull");function f(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=0,i===e&&(r[i]+=.5),i===n&&(r[i]+=.5);return r}},{"convex-hull":55}],591:[function(t,e,n){"use strict";var g=t("./normalize"),r=t("gl-mat4/create"),m=t("gl-mat4/clone"),y=t("gl-mat4/determinant"),v=t("gl-mat4/invert"),b=t("gl-mat4/transpose"),x={length:t("gl-vec3/length"),normalize:t("gl-vec3/normalize"),dot:t("gl-vec3/dot"),cross:t("gl-vec3/cross")},_=r(),w=r(),k=[0,0,0,0],T=[[0,0,0],[0,0,0],[0,0,0]],M=[0,0,0];function A(t,e,n,r,i){t[0]=e[0]*r+n[0]*i,t[1]=e[1]*r+n[1]*i,t[2]=e[2]*r+n[2]*i}e.exports=function(t,e,n,r,i,o){if(e=e||[0,0,0],n=n||[0,0,0],r=r||[0,0,0],i=i||[0,0,0,1],o=o||[0,0,0,1],!g(_,t))return!1;if(m(w,_),w[3]=0,w[7]=0,w[11]=0,w[15]=1,Math.abs(y(w)<1e-8))return!1;var a,s=_[3],l=_[7],u=_[11],c=_[12],f=_[13],h=_[14],d=_[15];if(0!==s||0!==l||0!==u){if(k[0]=s,k[1]=l,k[2]=u,k[3]=d,!v(w,w))return!1;b(w,w),a=i,t=w,l=(s=k)[0],u=s[1],d=s[2],s=s[3],a[0]=t[0]*l+t[4]*u+t[8]*d+t[12]*s,a[1]=t[1]*l+t[5]*u+t[9]*d+t[13]*s,a[2]=t[2]*l+t[6]*u+t[10]*d+t[14]*s,a[3]=t[3]*l+t[7]*u+t[11]*d+t[15]*s}else i[0]=i[1]=i[2]=0,i[3]=1;if(e[0]=c,e[1]=f,e[2]=h,e=_,(h=T)[0][0]=e[0],h[0][1]=e[1],h[0][2]=e[2],h[1][0]=e[4],h[1][1]=e[5],h[1][2]=e[6],h[2][0]=e[8],h[2][1]=e[9],h[2][2]=e[10],n[0]=x.length(T[0]),x.normalize(T[0],T[0]),r[0]=x.dot(T[0],T[1]),A(T[1],T[1],T[0],1,-r[0]),n[1]=x.length(T[1]),x.normalize(T[1],T[1]),r[0]/=n[1],r[1]=x.dot(T[0],T[2]),A(T[2],T[2],T[0],1,-r[1]),r[2]=x.dot(T[1],T[2]),A(T[2],T[2],T[1],1,-r[2]),n[2]=x.length(T[2]),x.normalize(T[2],T[2]),r[1]/=n[2],r[2]/=n[2],x.cross(M,T[1],T[2]),x.dot(T[0],M)<0)for(var p=0;p<3;p++)n[p]*=-1,T[p][0]*=-1,T[p][1]*=-1,T[p][2]*=-1;return o[0]=.5*Math.sqrt(Math.max(1+T[0][0]-T[1][1]-T[2][2],0)),o[1]=.5*Math.sqrt(Math.max(1-T[0][0]+T[1][1]-T[2][2],0)),o[2]=.5*Math.sqrt(Math.max(1-T[0][0]-T[1][1]+T[2][2],0)),o[3]=.5*Math.sqrt(Math.max(1+T[0][0]+T[1][1]+T[2][2],0)),T[2][1]>T[1][2]&&(o[0]=-o[0]),T[0][2]>T[2][0]&&(o[1]=-o[1]),T[1][0]>T[0][1]&&(o[2]=-o[2]),!0}},{"./normalize":592,"gl-mat4/clone":475,"gl-mat4/create":477,"gl-mat4/determinant":478,"gl-mat4/invert":490,"gl-mat4/transpose":503,"gl-vec3/cross":530,"gl-vec3/dot":531,"gl-vec3/length":532,"gl-vec3/normalize":534}],592:[function(t,e,n){"use strict";e.exports=function(t,e){var n=e[15];if(0===n)return!1;for(var r=1/n,i=0;i<16;i++)t[i]=e[i]*r;return!0}},{}],593:[function(t,e,n){"use strict";var i=t("gl-vec3/lerp"),o=t("mat4-recompose"),a=t("mat4-decompose"),s=t("gl-mat4/determinant"),l=t("quat-slerp"),u=r(),c=r(),f=r();function r(){return{translate:h(),scale:h(1),skew:h(),perspective:d(),quaternion:d()}}function h(t){return[t||0,t||0,t||0]}function d(){return[0,0,0,1]}e.exports=function(t,e,n,r){if(0===s(e)||0===s(n))return!1;e=a(e,u.translate,u.scale,u.skew,u.perspective,u.quaternion),n=a(n,c.translate,c.scale,c.skew,c.perspective,c.quaternion);return!(!e||!n)&&(i(f.translate,u.translate,c.translate,r),i(f.skew,u.skew,c.skew,r),i(f.scale,u.scale,c.scale,r),i(f.perspective,u.perspective,c.perspective,r),l(f.quaternion,u.quaternion,c.quaternion,r),o(t,f.translate,f.scale,f.skew,f.perspective,f.quaternion),!0)}},{"gl-mat4/determinant":478,"gl-vec3/lerp":533,"mat4-decompose":591,"mat4-recompose":594,"quat-slerp":973}],594:[function(t,e,n){"use strict";var a={identity:t("gl-mat4/identity"),translate:t("gl-mat4/translate"),multiply:t("gl-mat4/multiply"),create:t("gl-mat4/create"),scale:t("gl-mat4/scale"),fromRotationTranslation:t("gl-mat4/fromRotationTranslation")},s=(a.create(),a.create());e.exports=function(t,e,n,r,i,o){return a.identity(t),a.fromRotationTranslation(t,o,e),t[3]=i[0],t[7]=i[1],t[11]=i[2],t[15]=i[3],a.identity(s),0!==r[2]&&(s[9]=r[2],a.multiply(t,t,s)),0!==r[1]&&(s[9]=0,s[8]=r[1],a.multiply(t,t,s)),0!==r[0]&&(s[8]=0,s[4]=r[0],a.multiply(t,t,s)),a.scale(t,t,n),t}},{"gl-mat4/create":477,"gl-mat4/fromRotationTranslation":481,"gl-mat4/identity":488,"gl-mat4/multiply":492,"gl-mat4/scale":500,"gl-mat4/translate":502}],595:[function(t,e,n){"use strict";var p=t("binary-search-bounds"),g=t("mat4-interpolate"),m=t("gl-mat4/invert"),o=t("gl-mat4/rotateX"),a=t("gl-mat4/rotateY"),s=t("gl-mat4/rotateZ"),l=t("gl-mat4/lookAt"),i=t("gl-mat4/translate"),y=(t("gl-mat4/scale"),t("gl-vec3/normalize")),u=[0,0,0];function r(t){this._components=t.slice(),this._time=[0],this.prevMatrix=t.slice(),this.nextMatrix=t.slice(),this.computedMatrix=t.slice(),this.computedInverse=t.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}e.exports=function(t){return new r((t=t||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};e=r.prototype;e.recalcMatrix=function(t){var e=this._time,n=p.le(e,t),r=this.computedMatrix;if(!(n<0)){var i=this._components;if(n===e.length-1)for(var o=16*n,a=0;a<16;++a)r[a]=i[o++];else{for(var s=e[n+1]-e[n],o=16*n,l=this.prevMatrix,u=!0,a=0;a<16;++a)l[a]=i[o++];for(var c=this.nextMatrix,a=0;a<16;++a)c[a]=i[o++],u=u&&l[a]===c[a];if(s<1e-6||u)for(a=0;a<16;++a)r[a]=l[a];else g(r,l,c,(t-e[n])/s)}n=this.computedUp;n[0]=r[1],n[1]=r[5],n[2]=r[9],y(n,n);s=this.computedInverse;m(s,r);var f=this.computedEye,n=s[15];f[0]=s[12]/n,f[1]=s[13]/n,f[2]=s[14]/n;for(var h=this.computedCenter,d=Math.exp(this.computedRadius[0]),a=0;a<3;++a)h[a]=f[a]-r[2+4*a]*d}},e.idle=function(t){if(!(t<this.lastT())){for(var e=this._components,n=e.length-16,r=0;r<16;++r)e.push(e[n++]);this._time.push(t)}},e.flush=function(t){t=p.gt(this._time,t)-2;t<0||(this._time.splice(0,t),this._components.splice(0,16*t))},e.lastT=function(){return this._time[this._time.length-1]},e.lookAt=function(t,e,n,r){this.recalcMatrix(t),e=e||this.computedEye,n=n||u,r=r||this.computedUp,this.setMatrix(t,l(this.computedMatrix,e,n,r));for(var i=0,o=0;o<3;++o)i+=Math.pow(n[o]-e[o],2);i=Math.log(Math.sqrt(i)),this.computedRadius[0]=i},e.rotate=function(t,e,n,r){this.recalcMatrix(t);var i=this.computedInverse;e&&a(i,i,e),n&&o(i,i,n),r&&s(i,i,r),this.setMatrix(t,m(this.computedMatrix,i))};var c=[0,0,0];e.pan=function(t,e,n,r){c[0]=-(e||0),c[1]=-(n||0),c[2]=-(r||0),this.recalcMatrix(t);r=this.computedInverse;i(r,r,c),this.setMatrix(t,m(r,r))},e.translate=function(t,e,n,r){c[0]=e||0,c[1]=n||0,c[2]=r||0,this.recalcMatrix(t);r=this.computedMatrix;i(r,r,c),this.setMatrix(t,r)},e.setMatrix=function(t,e){if(!(t<this.lastT())){this._time.push(t);for(var n=0;n<16;++n)this._components.push(e[n])}},e.setDistance=function(t,e){this.computedRadius[0]=e},e.setDistanceLimits=function(t,e){var n=this._limits;n[0]=t,n[1]=e},e.getDistanceLimits=function(t){var e=this._limits;return t?(t[0]=e[0],t[1]=e[1],t):e}},{"binary-search-bounds":596,"gl-mat4/invert":490,"gl-mat4/lookAt":491,"gl-mat4/rotateX":497,"gl-mat4/rotateY":498,"gl-mat4/rotateZ":499,"gl-mat4/scale":500,"gl-mat4/translate":502,"gl-vec3/normalize":534,"mat4-interpolate":593}],596:[function(t,e,n){arguments[4][452][0].apply(n,arguments)},{dup:452}],597:[function(t,e,n){"use strict";e.exports=function(r){var t=r.length;if(t<3){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return 2===t&&r[0][0]===r[1][0]&&r[0][1]===r[1][1]?[0]:e}for(var i=new Array(t),n=0;n<t;++n)i[n]=n;i.sort(function(t,e){var n=r[t][0]-r[e][0];return n||r[t][1]-r[e][1]});for(var o=[i[0],i[1]],a=[i[0],i[1]],n=2;n<t;++n){for(var s=i[n],l=r[s],u=o.length;1<u&&d(r[o[u-2]],r[o[u-1]],l)<=0;)--u,o.pop();for(o.push(s),u=a.length;1<u&&0<=d(r[a[u-2]],r[a[u-1]],l);)--u,a.pop();a.push(s)}for(var e=new Array(a.length+o.length-2),c=0,n=0,f=o.length;n<f;++n)e[c++]=o[n];for(var h=a.length-2;0<h;--h)e[c++]=a[h];return e};var d=t("robust-orientation")[3]},{"robust-orientation":986}],598:[function(t,e,n){"use strict";e.exports=function(e,i){i||(i=e,e=window);var o=0,a=0,s=0,l={shift:!1,alt:!1,control:!1,meta:!1},n=!1;function u(t){var e=!1;return"altKey"in t&&(e=e||t.altKey!==l.alt,l.alt=!!t.altKey),"shiftKey"in t&&(e=e||t.shiftKey!==l.shift,l.shift=!!t.shiftKey),"ctrlKey"in t&&(e=e||t.ctrlKey!==l.control,l.control=!!t.ctrlKey),"metaKey"in t&&(e=e||t.metaKey!==l.meta,l.meta=!!t.metaKey),e}function r(t,e){var n=y.x(e),r=y.y(e);"buttons"in e&&(t=0|e.buttons),t===o&&n===a&&r===s&&!u(e)||(o=0|t,a=n||0,s=r||0,i&&i(o,a,s,l))}function c(t){r(0,t)}function f(){(o||a||s||l.shift||l.alt||l.meta||l.control)&&(a=s=0,o=0,l.shift=l.alt=l.control=l.meta=!1,i&&i(0,0,0,l))}function h(t){u(t)&&i&&i(o,a,s,l)}function d(t){0===y.buttons(t)?r(0,t):r(o,t)}function p(t){r(o|y.buttons(t),t)}function g(t){r(o&~y.buttons(t),t)}function m(){n||(n=!0,e.addEventListener("mousemove",d),e.addEventListener("mousedown",p),e.addEventListener("mouseup",g),e.addEventListener("mouseleave",c),e.addEventListener("mouseenter",c),e.addEventListener("mouseout",c),e.addEventListener("mouseover",c),e.addEventListener("blur",f),e.addEventListener("keyup",h),e.addEventListener("keydown",h),e.addEventListener("keypress",h),e!==window&&(window.addEventListener("blur",f),window.addEventListener("keyup",h),window.addEventListener("keydown",h),window.addEventListener("keypress",h)))}m();var t={element:e};return Object.defineProperties(t,{enabled:{get:function(){return n},set:function(t){t?m():n&&(n=!1,e.removeEventListener("mousemove",d),e.removeEventListener("mousedown",p),e.removeEventListener("mouseup",g),e.removeEventListener("mouseleave",c),e.removeEventListener("mouseenter",c),e.removeEventListener("mouseout",c),e.removeEventListener("mouseover",c),e.removeEventListener("blur",f),e.removeEventListener("keyup",h),e.removeEventListener("keydown",h),e.removeEventListener("keypress",h),e!==window&&(window.removeEventListener("blur",f),window.removeEventListener("keyup",h),window.removeEventListener("keydown",h),window.removeEventListener("keypress",h)))},enumerable:!0},buttons:{get:function(){return o},enumerable:!0},x:{get:function(){return a},enumerable:!0},y:{get:function(){return s},enumerable:!0},mods:{get:function(){return l},enumerable:!0}}),t};var y=t("mouse-event")},{"mouse-event":600}],599:[function(t,e,n){"use strict";var i={left:0,top:0};e.exports=function(t,e,n){e=e||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var r=t.clientX||0,t=t.clientY||0,e=function(t){return t===window||t===document||t===document.body?i:t.getBoundingClientRect()}(e);return n[0]=r-e.left,n[1]=t-e.top,n}},{}],600:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return t.target||t.srcElement||window}n.buttons=function(t){if("object"===r(t)){if("buttons"in t)return t.buttons;if("which"in t){if(2===(e=t.which))return 4;if(3===e)return 2;if(0<e)return 1<<e-1}else if("button"in t){var e;if(1===(e=t.button))return 4;if(2===e)return 2;if(0<=e)return 1<<e}}return 0},n.element=i,n.x=function(t){if("object"!==r(t))return 0;if("offsetX"in t)return t.offsetX;var e=i(t).getBoundingClientRect();return t.clientX-e.left},n.y=function(t){if("object"!==r(t))return 0;if("offsetY"in t)return t.offsetY;var e=i(t).getBoundingClientRect();return t.clientY-e.top}},{}],601:[function(t,e,n){"use strict";var r=t("to-px");e.exports=function(t,o,a){"function"==typeof t&&(a=!!o,o=t,t=window);function e(t){a&&t.preventDefault();var e=t.deltaX||0,n=t.deltaY||0,r=t.deltaZ||0,i=1;switch(t.deltaMode){case 1:i=s;break;case 2:i=window.innerHeight}if(n*=i,r*=i,(e*=i)||n||r)return o(e,n,r,t)}var s=r("ex",t);return t.addEventListener("wheel",e),e}},{"to-px":1006}],602:[function(t,e,n){"use strict";function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var M=t("typedarray-pool");function A(t,e){return"c"+t+"_"+e}function S(t,e){return"t"+t+"_"+e}function E(t,e){return"d"+t+"_"+e}function C(t,e){return"u"+t+"_"+e}e.exports=function(t){function e(t){throw new Error("ndarray-extract-contour: "+t)}"object"!==l(t)&&e("Must specify arguments");var n=t.order;Array.isArray(n)||e("Must specify order");var r=t.arrayArguments||1;r<1&&e("Must have at least one array argument");var i=t.scalarArguments||0;i<0&&e("Scalar arg count must be > 0");"function"!=typeof t.vertex&&e("Must specify vertex creation function");"function"!=typeof t.cell&&e("Must specify cell creation function");"function"!=typeof t.phase&&e("Must specify phase function");for(var o=t.getters||[],a=new Array(r),s=0;s<r;++s)0<=o.indexOf(s)?a[s]=!0:a[s]=!1;return function(t,e,n,h,i,d){var p=d.length,g=i.length;if(g<2)throw new Error("ndarray-extract-contour: Dimension must be at least 2");for(var r="extractContour"+i.join("_"),m=[],o=[],a=[],s=0;s<p;++s)a.push("a"+s);for(s=0;s<h;++s)a.push("x"+s);for(s=0;s<g;++s)o.push("s"+s+"=a0.shape["+s+"]|0");for(s=0;s<p;++s){o.push("d"+s+"=a"+s+".data","o"+s+"=a"+s+".offset|0");for(var l=0;l<g;++l)o.push(S(s,l)+"=a"+s+".stride["+l+"]|0")}for(s=0;s<p;++s){o.push("p"+s+"=o"+s),o.push(A(s,0));for(l=1;l<1<<g;++l){for(var u=[],c=0;c<g;++c)l&1<<c&&u.push("-"+S(s,c));o.push(E(s,l)+"=("+u.join("")+")|0"),o.push(A(s,l)+"=0")}}for(s=0;s<p;++s)for(l=0;l<g;++l){var f=[S(s,i[l])];0<l&&f.push(S(s,i[l-1])+"*s"+i[l-1]),o.push(C(s,i[l])+"=("+f.join("-")+")|0")}for(s=0;s<g;++s)o.push("i"+s+"=0");o.push(P+"=0");for(var y=["2"],s=g-2;0<=s;--s)y.push("s"+i[s]);o.push(N+"=("+y.join("*")+")|0",j+"=mallocUint32("+N+")",O+"=mallocUint32("+N+")",L+"=0"),o.push("b0=0");for(l=1;l<1<<g;++l){for(var v=[],b=[],c=0;c<g;++c)l&1<<c&&(0===b.length?v.push("1"):v.unshift(b.join("*"))),b.push("s"+i[c]);var x="";v[0].indexOf("s"+i[g-2])<0&&(x="-");var _=function(t,e,n){for(var r=0,i=0;i<t;++i)e&1<<i&&(r|=1<<n[i]);return r}(g,l,i);o.push("e"+_+"=(-"+v.join("-")+")|0","y"+_+"=("+x+v.join("-")+")|0","b"+_+"=0")}function w(t,e){m.push("for(","i"+i[t],"=",e,";","i"+i[t],"<","s"+i[t],";","++","i"+i[t],"){")}function k(t){for(var e=0;e<p;++e)m.push("p"+e,"+=",C(e,i[t]),";");m.push("}")}function T(){for(var t=1;t<1<<g;++t)m.push(R,"=","e"+t,";","e"+t,"=","y"+t,";","y"+t,"=",R,";")}o.push("v0=0",R+"=0"),function t(e,n){if(e<0)!function(t){for(var e=0;e<p;++e)d[e]?m.push(A(e,0),"=","d"+e,".get(","p"+e,");"):m.push(A(e,0),"=","d"+e,"[","p"+e,"];");for(var n=[],e=0;e<p;++e)n.push(A(e,0));for(e=0;e<h;++e)n.push("x"+e);m.push("b0","=",j,"[",L,"]=phase(",n.join(),");");for(var r=1;r<1<<g;++r)m.push("b"+r,"=",j,"[",L,"+","e"+r,"];");for(var i=[],r=1;r<1<<g;++r)i.push("(b0!==b"+r+")");m.push("if(",i.join("||"),"){");for(var o=[],e=0;e<g;++e)o.push("i"+e);for(e=0;e<p;++e)for(o.push(A(e,0)),r=1;r<1<<g;++r)d[e]?m.push(A(e,r),"=","d"+e,".get(","p"+e,"+",E(e,r),");"):m.push(A(e,r),"=","d"+e,"[","p"+e,"+",E(e,r),"];"),o.push(A(e,r));for(e=0;e<1<<g;++e)o.push("b"+e);for(e=0;e<h;++e)o.push("x"+e);m.push("vertex(",o.join(),");","v0","=",O,"[",L,"]=",P,"++;");for(var a=(1<<g)-1,s="b"+a,r=0;r<g;++r)if(0==(t&~(1<<r))){for(var l=a^1<<r,u="b"+l,c=[],f=l;0<f;f=f-1&l)c.push(O+"["+L+"+e"+f+"]");for(c.push("v0"),f=0;f<p;++f)1&r?c.push(A(f,a),A(f,l)):c.push(A(f,l),A(f,a));for(1&r?c.push(s,u):c.push(u,s),f=0;f<h;++f)c.push("x"+f);m.push("if(",s,"!==",u,"){","face(",c.join(),")}")}m.push("}",L,"+=1;")}(n);else{!function(t){for(var e=t-1;0<=e;--e)w(e,0);for(var n=[],e=0;e<p;++e)d[e]?n.push("d"+e+".get(p"+e+")"):n.push("d"+e+"[p"+e+"]");for(e=0;e<h;++e)n.push("x"+e);for(m.push(j,"[",L,"++]=phase(",n.join(),");"),e=0;e<t;++e)k(e);for(var r=0;r<p;++r)m.push("p"+r,"+=",C(r,i[t]),";")}(e),m.push("if(","s"+i[e],">0){","i"+i[e],"=1;"),t(e-1,n|1<<i[e]);for(var r=0;r<p;++r)m.push("p"+r,"+=",C(r,i[e]),";");e===g-1&&(m.push(L,"=0;"),T()),w(e,2),t(e-1,n),e===g-1&&(m.push("if(","i"+i[g-1],"&1){",L,"=0;}"),T()),k(e),m.push("}")}}(g-1,0),m.push("freeUint32(",O,");freeUint32(",j,");");r=["'use strict';","function ",r,"(",a.join(),"){","var ",o.join(),";",m.join(""),"}","return ",r].join("");return new Function("vertex","face","phase","mallocUint32","freeUint32",r)(t,e,n,M.mallocUint32,M.freeUint32)}(t.vertex,t.cell,t.phase,i,n,a)};var O="V",j="P",P="N",N="Q",L="X",R="T"},{"typedarray-pool":1011}],603:[function(t,e,n){"use strict";var i=t("cwise-compiler"),r={body:"",args:[],thisVars:[],localVars:[]};function o(t){if(!t)return r;for(var e=0;e<t.args.length;++e){var n=t.args[e];t.args[e]=0===e?{name:n,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function a(t){for(var e,n=[],r=0;r<t.args.length;++r)n.push("a"+r);return new Function("P",["return function ",t.funcName,"_ndarrayops(",n.join(","),") {P(",n.join(","),");return a0}"].join(""))(i({args:(e=t).args,pre:o(e.pre),body:o(e.body),post:o(e.proc),funcName:e.funcName}))}var s={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in s){var e=s[t];n[t]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),n[t+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+e+"=b"},rvalue:!0,funcName:t+"eq"}),n[t+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),n[t+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+e+"=s"},rvalue:!0,funcName:t+"seq"})}}();var l={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in l){var e=l[t];n[t]=a({args:["array","array"],body:{args:["a","b"],body:"a="+e+"b"},funcName:t}),n[t+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+e+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var u={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in u){var e=u[t];n[t]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),n[t+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),n[t+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+e+"b"},rvalue:!0,count:2,funcName:t+"eq"}),n[t+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+e+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<c.length;++t){var e=c[t];n[e]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:e}),n[e+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"})}}();var f=["max","min","atan2","pow"];!function(){for(var t=0;t<f.length;++t){var e=f[t];n[e]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e}),n[e+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e+"s"}),n[e+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"}),n[e+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"seq"})}}();var h=["atan2","pow"];!function(){for(var t=0;t<h.length;++t){var e=h[t];n[e+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"op"}),n[e+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"ops"}),n[e+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opeq"}),n[e+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opseq"})}}(),n.any=i({args:["array"],pre:r,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),n.all=i({args:["array"],pre:r,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),n.sum=i({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),n.prod=i({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),n.norm2squared=i({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),n.norm2=i({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),n.norminf=i({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),n.norm1=i({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),n.sup=i({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.inf=i({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.argmin=i({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.argmax=i({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),n.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),n.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),n.equals=i({args:["array","array"],pre:r,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":408}],604:[function(t,e,n){"use strict";var r=t("typedarray-pool"),A=32;function S(t){switch(t){case"uint8":return[r.mallocUint8,r.freeUint8];case"uint16":return[r.mallocUint16,r.freeUint16];case"uint32":return[r.mallocUint32,r.freeUint32];case"int8":return[r.mallocInt8,r.freeInt8];case"int16":return[r.mallocInt16,r.freeInt16];case"int32":return[r.mallocInt32,r.freeInt32];case"float32":return[r.mallocFloat,r.freeFloat];case"float64":return[r.mallocDouble,r.freeDouble];default:return null}}function E(t){for(var e=[],n=0;n<t;++n)e.push("s"+n);for(n=0;n<t;++n)e.push("n"+n);for(n=1;n<t;++n)e.push("d"+n);for(n=1;n<t;++n)e.push("e"+n);for(n=1;n<t;++n)e.push("f"+n);return e}e.exports=function(t,e){var n=["'use strict'"],r=["ndarraySortWrapper",t.join("d"),e].join("");n.push(["function ",r,"(",["array"].join(","),"){"].join(""));for(var i=["data=array.data,offset=array.offset|0,shape=array.shape,stride=array.stride"],o=0;o<t.length;++o)i.push(["s",o,"=stride[",o,"]|0,n",o,"=shape[",o,"]|0"].join(""));for(var a=new Array(t.length),s=[],o=0;o<t.length;++o)0!==(c=t[o])&&(0===s.length?a[c]="1":a[c]=s.join("*"),s.push("n"+c));for(var l=-1,u=-1,o=0;o<t.length;++o){var c,f=t[o];0!==f&&(0<l?i.push(["d",f,"=s",f,"-d",l,"*n",l].join("")):i.push(["d",f,"=s",f].join("")),l=f),0!==(c=t.length-1-o)&&(0<u?i.push(["e",c,"=s",c,"-e",u,"*n",u,",f",c,"=",a[c],"-f",u,"*n",u].join("")):i.push(["e",c,"=s",c,",f",c,"=",a[c]].join("")),u=c)}n.push("var "+i.join(","));var h=["0","n0-1","data","offset"].concat(E(t.length));return n.push(["if(n0<=",A,"){","insertionSort(",h.join(","),")}else{","quickSort(",h.join(","),")}"].join("")),n.push("}return "+r),r=new Function("insertionSort","quickSort",n.join("\n")),n=function(t,n){var e=["'use strict'"],r=["ndarrayInsertionSort",t.join("d"),n].join(""),i=["left","right","data","offset"].concat(E(t.length)),o=S(n),a=["i,j,cptr,ptr=left*s0+offset"];if(1<t.length){for(var s=[],l=1;l<t.length;++l)a.push("i"+l),s.push("n"+l);o?a.push("scratch=malloc("+s.join("*")+")"):a.push("scratch=new Array("+s.join("*")+")"),a.push("dptr","sptr","a","b")}else a.push("scratch");function u(t){return("generic"===n?["data.get(",t,")"]:["data[",t,"]"]).join("")}function c(t,e){return("generic"===n?["data.set(",t,",",e,")"]:["data[",t,"]=",e]).join("")}if(e.push(["function ",r,"(",i.join(","),"){var ",a.join(",")].join(""),"for(i=left+1;i<=right;++i){","j=i;ptr+=s0","cptr=ptr"),1<t.length){e.push("dptr=0;sptr=ptr");for(l=t.length-1;0<=l;--l)0!==(f=t[l])&&e.push(["for(i",f,"=0;i",f,"<n",f,";++i",f,"){"].join(""));e.push("scratch[dptr++]=",u("sptr"));for(l=0;l<t.length;++l)0!==(f=t[l])&&e.push("sptr+=d"+f,"}");e.push("__g:while(j--\x3eleft){","dptr=0","sptr=cptr-s0");for(l=1;l<t.length;++l)1===l&&e.push("__l:"),e.push(["for(i",l,"=0;i",l,"<n",l,";++i",l,"){"].join(""));e.push(["a=",u("sptr"),"\nb=scratch[dptr]\nif(a<b){break __g}\nif(a>b){break __l}"].join(""));for(l=t.length-1;1<=l;--l)e.push("sptr+=e"+l,"dptr+=f"+l,"}");e.push("dptr=cptr;sptr=cptr-s0");for(l=t.length-1;0<=l;--l)0!==(f=t[l])&&e.push(["for(i",f,"=0;i",f,"<n",f,";++i",f,"){"].join(""));e.push(c("dptr",u("sptr")));for(l=0;l<t.length;++l)0!==(f=t[l])&&e.push(["dptr+=d",f,";sptr+=d",f].join(""),"}");e.push("cptr-=s0\n}"),e.push("dptr=cptr;sptr=0");for(l=t.length-1;0<=l;--l)0!==(f=t[l])&&e.push(["for(i",f,"=0;i",f,"<n",f,";++i",f,"){"].join(""));e.push(c("dptr","scratch[sptr++]"));for(var f,l=0;l<t.length;++l)0!==(f=t[l])&&e.push("dptr+=d"+f,"}")}else e.push("scratch="+u("ptr"),"while((j--\x3eleft)&&("+u("cptr-s0")+">scratch)){",c("cptr",u("cptr-s0")),"cptr-=s0","}",c("cptr","scratch"));return e.push("}"),1<t.length&&o&&e.push("free(scratch)"),e.push("} return "+r),o?new Function("malloc","free",e.join("\n"))(o[0],o[1]):new Function(e.join("\n"))()}(t,e),r(n,function(o,n,t){var a=["'use strict'"],r=["ndarrayQuickSort",o.join("d"),n].join(""),e=["left","right","data","offset"].concat(E(o.length)),i=S(n),s=0;a.push(["function ",r,"(",e.join(","),"){"].join(""));var l=["sixth=((right-left+1)/6)|0","index1=left+sixth","index5=right-sixth","index3=(left+right)>>1","index2=index3-sixth","index4=index3+sixth","el1=index1","el2=index2","el3=index3","el4=index4","el5=index5","less=left+1","great=right-1","pivots_are_equal=true","tmp","tmp0","x","y","z","k","ptr0","ptr1","ptr2","comp_pivot1=0","comp_pivot2=0","comp=0"];if(1<o.length){for(var u=[],c=1;c<o.length;++c)u.push("n"+c),l.push("i"+c);for(c=0;c<8;++c)l.push("b_ptr"+c);l.push("ptr3","ptr4","ptr5","ptr6","ptr7","pivot_ptr","ptr_shift","elementSize="+u.join("*")),i?l.push("pivot1=malloc(elementSize)","pivot2=malloc(elementSize)"):l.push("pivot1=new Array(elementSize),pivot2=new Array(elementSize)")}else l.push("pivot1","pivot2");function f(t){return["(offset+",t,"*s0)"].join("")}function h(t){return("generic"===n?["data.get(",t,")"]:["data[",t,"]"]).join("")}function d(t,e){return("generic"===n?["data.set(",t,",",e,")"]:["data[",t,"]=",e]).join("")}function p(t,e,n){if(1===t.length)a.push("ptr0="+f(t[0]));else for(var r=0;r<t.length;++r)a.push(["b_ptr",r,"=s0*",t[r]].join(""));e&&a.push("pivot_ptr=0"),a.push("ptr_shift=offset");for(r=o.length-1;0<=r;--r)0!==(i=o[r])&&a.push(["for(i",i,"=0;i",i,"<n",i,";++i",i,"){"].join(""));if(1<t.length)for(r=0;r<t.length;++r)a.push(["ptr",r,"=b_ptr",r,"+ptr_shift"].join(""));a.push(n),e&&a.push("++pivot_ptr");for(var i,r=0;r<o.length;++r)0!==(i=o[r])&&(1<t.length?a.push("ptr_shift+=d"+i):a.push("ptr0+=d"+i),a.push("}"))}function g(t,e,n,r){if(1===e.length)a.push("ptr0="+f(e[0]));else{for(var i=0;i<e.length;++i)a.push(["b_ptr",i,"=s0*",e[i]].join(""));a.push("ptr_shift=offset")}n&&a.push("pivot_ptr=0"),t&&a.push(t+":");for(i=1;i<o.length;++i)a.push(["for(i",i,"=0;i",i,"<n",i,";++i",i,"){"].join(""));if(1<e.length)for(i=0;i<e.length;++i)a.push(["ptr",i,"=b_ptr",i,"+ptr_shift"].join(""));a.push(r);for(i=o.length-1;1<=i;--i)n&&a.push("pivot_ptr+=f"+i),1<e.length?a.push("ptr_shift+=e"+i):a.push("ptr0+=e"+i),a.push("}")}function m(){1<o.length&&i&&a.push("free(pivot1)","free(pivot2)")}function y(t,e){var n="el"+t,t="el"+e;1<o.length?g(e="__l"+ ++s,[n,t],!1,["comp=",h("ptr0"),"-",h("ptr1"),"\n","if(comp>0){tmp0=",n,";",n,"=",t,";",t,"=tmp0;break ",e,"}\n","if(comp<0){break ",e,"}"].join("")):a.push(["if(",h(f(n)),">",h(f(t)),"){tmp0=",n,";",n,"=",t,";",t,"=tmp0}"].join(""))}function v(t,e){1<o.length?p([t,e],!1,d("ptr0",h("ptr1"))):a.push(d(f(t),h(f(e))))}function b(t,e,n){var r;1<o.length?g(r="__l"+ ++s,[e],!0,[t,"=",h("ptr0"),"-pivot",n,"[pivot_ptr]\n","if(",t,"!==0){break ",r,"}"].join("")):a.push([t,"=",h(f(e)),"-pivot",n].join(""))}function x(t,e){1<o.length?p([t,e],!1,["tmp=",h("ptr0"),"\n",d("ptr0",h("ptr1")),"\n",d("ptr1","tmp")].join("")):a.push(["ptr0=",f(t),"\n","ptr1=",f(e),"\n","tmp=",h("ptr0"),"\n",d("ptr0",h("ptr1")),"\n",d("ptr1","tmp")].join(""))}function _(t,e,n){1<o.length?(p([t,e,n],!1,["tmp=",h("ptr0"),"\n",d("ptr0",h("ptr1")),"\n",d("ptr1",h("ptr2")),"\n",d("ptr2","tmp")].join("")),a.push("++"+e,"--"+n)):a.push(["ptr0=",f(t),"\n","ptr1=",f(e),"\n","ptr2=",f(n),"\n","++",e,"\n","--",n,"\n","tmp=",h("ptr0"),"\n",d("ptr0",h("ptr1")),"\n",d("ptr1",h("ptr2")),"\n",d("ptr2","tmp")].join(""))}function w(t,e){x(t,e),a.push("--"+e)}function k(t,e,n){1<o.length?p([t,e],!0,[d("ptr0",h("ptr1")),"\n",d("ptr1",["pivot",n,"[pivot_ptr]"].join(""))].join("")):a.push(d(f(t),h(f(e))),d(f(e),"pivot"+n))}function T(t,e){a.push(["if((",e,"-",t,")<=",A,"){\n","insertionSort(",t,",",e,",data,offset,",E(o.length).join(","),")\n","}else{\n",r,"(",t,",",e,",data,offset,",E(o.length).join(","),")\n","}"].join(""))}function M(t,e,n){1<o.length?(a.push(["__l",++s,":while(true){"].join("")),p([t],!0,["if(",h("ptr0"),"!==pivot",e,"[pivot_ptr]){break __l",s,"}"].join("")),a.push(n,"}")):a.push(["while(",h(f(t)),"===pivot",e,"){",n,"}"].join(""))}return a.push("var "+l.join(",")),y(1,2),y(4,5),y(1,3),y(2,3),y(1,4),y(3,4),y(2,5),y(2,3),y(4,5),1<o.length?p(["el1","el2","el3","el4","el5","index1","index3","index5"],!0,["pivot1[pivot_ptr]=",h("ptr1"),"\n","pivot2[pivot_ptr]=",h("ptr3"),"\n","pivots_are_equal=pivots_are_equal&&(pivot1[pivot_ptr]===pivot2[pivot_ptr])\n","x=",h("ptr0"),"\n","y=",h("ptr2"),"\n","z=",h("ptr4"),"\n",d("ptr5","x"),"\n",d("ptr6","y"),"\n",d("ptr7","z")].join("")):a.push(["pivot1=",h(f("el2")),"\n","pivot2=",h(f("el4")),"\n","pivots_are_equal=pivot1===pivot2\n","x=",h(f("el1")),"\n","y=",h(f("el3")),"\n","z=",h(f("el5")),"\n",d(f("index1"),"x"),"\n",d(f("index3"),"y"),"\n",d(f("index5"),"z")].join("")),v("index2","left"),v("index4","right"),a.push("if(pivots_are_equal){"),a.push("for(k=less;k<=great;++k){"),b("comp","k",1),a.push("if(comp===0){continue}"),a.push("if(comp<0){"),a.push("if(k!==less){"),x("k","less"),a.push("}"),a.push("++less"),a.push("}else{"),a.push("while(true){"),b("comp","great",1),a.push("if(comp>0){"),a.push("great--"),a.push("}else if(comp<0){"),_("k","less","great"),a.push("break"),a.push("}else{"),w("k","great"),a.push("break"),a.push("}"),a.push("}"),a.push("}"),a.push("}"),a.push("}else{"),a.push("for(k=less;k<=great;++k){"),b("comp_pivot1","k",1),a.push("if(comp_pivot1<0){"),a.push("if(k!==less){"),x("k","less"),a.push("}"),a.push("++less"),a.push("}else{"),b("comp_pivot2","k",2),a.push("if(comp_pivot2>0){"),a.push("while(true){"),b("comp","great",2),a.push("if(comp>0){"),a.push("if(--great<k){break}"),a.push("continue"),a.push("}else{"),b("comp","great",1),a.push("if(comp<0){"),_("k","less","great"),a.push("}else{"),w("k","great"),a.push("}"),a.push("break"),a.push("}"),a.push("}"),a.push("}"),a.push("}"),a.push("}"),a.push("}"),k("left","(less-1)",1),k("right","(great+1)",2),T("left","(less-2)"),T("(great+2)","right"),a.push("if(pivots_are_equal){"),m(),a.push("return"),a.push("}"),a.push("if(less<index1&&great>index5){"),M("less",1,"++less"),M("great",2,"--great"),a.push("for(k=less;k<=great;++k){"),b("comp_pivot1","k",1),a.push("if(comp_pivot1===0){"),a.push("if(k!==less){"),x("k","less"),a.push("}"),a.push("++less"),a.push("}else{"),b("comp_pivot2","k",2),a.push("if(comp_pivot2===0){"),a.push("while(true){"),b("comp","great",2),a.push("if(comp===0){"),a.push("if(--great<k){break}"),a.push("continue"),a.push("}else{"),b("comp","great",1),a.push("if(comp<0){"),_("k","less","great"),a.push("}else{"),w("k","great"),a.push("}"),a.push("break"),a.push("}"),a.push("}"),a.push("}"),a.push("}"),a.push("}"),a.push("}"),m(),T("less","great"),a.push("}return "+r),1<o.length&&i?new Function("insertionSort","malloc","free",a.join("\n"))(t,i[0],i[1]):new Function("insertionSort",a.join("\n"))(t)}(t,e,n))}},{"typedarray-pool":1011}],605:[function(t,e,n){"use strict";var o=t("./lib/compile_sort.js"),a={};e.exports=function(t){var e=t.order,n=t.dtype,r=[e,n].join(":"),i=a[r];return i||(a[r]=i=o(e,n)),i(t),t}},{"./lib/compile_sort.js":604}],606:[function(t,e,n){"use strict";var d=t("iota-array"),u=t("is-buffer"),c="undefined"!=typeof Float64Array;function i(t,e){return t[0]-e[0]}function p(){for(var t=this.stride,e=new Array(t.length),n=0;n<e.length;++n)e[n]=[Math.abs(t[n]),n];e.sort(i);var r=new Array(e.length);for(n=0;n<r.length;++n)r[n]=e[n][1];return r}function f(t,e){var n=["View",e,"d",t].join("");e<0&&(n="View_Nil"+t);var r="generic"===t;if(-1===e){var i="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(i)()}if(0===e){i="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(r?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(r?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}";return new Function("TrivialArray",i)(g[t][0])}var i=["'use strict'"],o=d(e),a=o.map(function(t){return"i"+t}),s="this.offset+"+o.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),l=o.map(function(t){return"b"+t}).join(","),u=o.map(function(t){return"c"+t}).join(",");i.push("function "+n+"(a,"+l+","+u+",d){this.data=a","this.shape=["+l+"]","this.stride=["+u+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),i.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+o.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===e?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),e<4?(i.push("function "+n+"_order(){"),2===e?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+n+"_set("+a.join(",")+",v){"),r?i.push("return this.data.set("+s+",v)}"):i.push("return this.data["+s+"]=v}"),i.push("proto.get=function "+n+"_get("+a.join(",")+"){"),r?i.push("return this.data.get("+s+")}"):i.push("return this.data["+s+"]}"),i.push("proto.index=function "+n+"_index(",a.join(),"){return "+s+"}"),i.push("proto.hi=function "+n+"_hi("+a.join(",")+"){return new "+n+"(this.data,"+o.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+o.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");r=o.map(function(t){return"a"+t+"=this.shape["+t+"]"}),s=o.map(function(t){return"c"+t+"=this.stride["+t+"]"});i.push("proto.lo=function "+n+"_lo("+a.join(",")+"){var b=this.offset,d=0,"+r.join(",")+","+s.join(","));for(var c=0;c<e;++c)i.push("if(typeof i"+c+"==='number'&&i"+c+">=0){d=i"+c+"|0;b+=c"+c+"*d;a"+c+"-=d}");i.push("return new "+n+"(this.data,"+o.map(function(t){return"a"+t}).join(",")+","+o.map(function(t){return"c"+t}).join(",")+",b)}"),i.push("proto.step=function "+n+"_step("+a.join(",")+"){var "+o.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+o.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(c=0;c<e;++c)i.push("if(typeof i"+c+"==='number'){d=i"+c+"|0;if(d<0){c+=b"+c+"*(a"+c+"-1);a"+c+"=ceil(-a"+c+"/d)}else{a"+c+"=ceil(a"+c+"/d)}b"+c+"*=d}");i.push("return new "+n+"(this.data,"+o.map(function(t){return"a"+t}).join(",")+","+o.map(function(t){return"b"+t}).join(",")+",c)}");for(var f=new Array(e),h=new Array(e),c=0;c<e;++c)f[c]="a[i"+c+"]",h[c]="b[i"+c+"]";i.push("proto.transpose=function "+n+"_transpose("+a+"){"+a.map(function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+f.join(",")+","+h.join(",")+",this.offset)}"),i.push("proto.pick=function "+n+"_pick("+a+"){var a=[],b=[],c=this.offset");for(c=0;c<e;++c)i.push("if(typeof i"+c+"==='number'&&i"+c+">=0){c=(c+this.stride["+c+"]*i"+c+")|0}else{a.push(this.shape["+c+"]);b.push(this.stride["+c+"])}");return i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+o.map(function(t){return"shape["+t+"]"}).join(",")+","+o.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",i.join("\n"))(g[t],p)}var g={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};e.exports=function(t,e,n,r){if(void 0===t)return(0,g.array[0])([]);"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var i=e.length;if(void 0===n){n=new Array(i);for(var o=i-1,a=1;0<=o;--o)n[o]=a,a*=e[o]}if(void 0===r)for(o=r=0;o<i;++o)n[o]<0&&(r-=(e[o]-1)*n[o]);for(var s=function(t){if(u(t))return"buffer";if(c)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}(t),l=g[s];l.length<=i+1;)l.push(f(s,l.length-1));return(0,l[i+1])(t,e,n,r)}},{"iota-array":553,"is-buffer":555}],607:[function(t,e,n){"use strict";var i=t("double-bits"),o=Math.pow(2,-1074);e.exports=function(t,e){if(isNaN(t)||isNaN(e))return NaN;if(t===e)return t;if(0===t)return e<0?-o:o;var n=i.hi(t),r=i.lo(t);t<e==0<t?r===-1>>>0?(n+=1,r=0):r+=1:0===r?(r=-1>>>0,--n):--r;return i.pack(r,n)}},{"double-bits":443}],608:[function(t,e,n){"use strict";n.vertexNormals=function(t,e,n){for(var r=e.length,i=new Array(r),o=void 0===n?1e-6:n,a=0;a<r;++a)i[a]=[0,0,0];for(a=0;a<t.length;++a)for(var s,l=t[a],u=l[l.length-1],c=l[0],f=0;f<l.length;++f){s=u,u=c,c=l[(f+1)%l.length];for(var h=e[s],d=e[u],p=e[c],g=new Array(3),m=0,y=new Array(3),v=0,b=0;b<3;++b)g[b]=h[b]-d[b],m+=g[b]*g[b],y[b]=p[b]-d[b],v+=y[b]*y[b];if(o<m*v)for(var x=i[u],_=1/Math.sqrt(m*v),b=0;b<3;++b){var w=(b+1)%3,k=(b+2)%3;x[b]+=_*(y[w]*g[k]-y[k]*g[w])}}for(a=0;a<r;++a){for(var x=i[a],T=0,b=0;b<3;++b)T+=x[b]*x[b];if(o<T)for(_=1/Math.sqrt(T),b=0;b<3;++b)x[b]*=_;else for(b=0;b<3;++b)x[b]=0}return i},n.faceNormals=function(t,e,n){for(var r=t.length,i=new Array(r),o=void 0===n?1e-6:n,a=0;a<r;++a){for(var s=t[a],l=new Array(3),u=0;u<3;++u)l[u]=e[s[u]];for(var c=new Array(3),f=new Array(3),u=0;u<3;++u)c[u]=l[1][u]-l[0][u],f[u]=l[2][u]-l[0][u];for(var h=new Array(3),d=0,u=0;u<3;++u){var p=(u+1)%3,g=(u+2)%3;h[u]=c[p]*f[g]-c[g]*f[p],d+=h[u]*h[u]}d=o<d?1/Math.sqrt(d):0;for(u=0;u<3;++u)h[u]*=d;i[a]=h}return i}},{}],609:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i,o,a,s,l,u){var c=e+o+u;{var f;0<f?(f=Math.sqrt(c+1),t[0]=.5*(a-l)/f,t[1]=.5*(s-r)/f,t[2]=.5*(n-o)/f,t[3]=.5*f):(u=Math.max(e,o,u),f=Math.sqrt(2*u-c+1),u<=e?(t[0]=.5*f,t[1]=.5*(i+n)/f,t[2]=.5*(s+r)/f,t[3]=.5*(a-l)/f):u<=o?(t[0]=.5*(n+i)/f,t[1]=.5*f,t[2]=.5*(l+a)/f,t[3]=.5*(s-r)/f):(t[0]=.5*(r+s)/f,t[1]=.5*(a+l)/f,t[2]=.5*f,t[3]=.5*(n-i)/f))}return t}},{}],610:[function(t,e,n){"use strict";e.exports=function(t){var e=(t=t||{}).center||[0,0,0],n=t.rotation||[0,0,0,1],r=t.radius||1;e=[].slice.call(e,0,3),c(n=[].slice.call(n,0,4),n);r=new i(n,e,Math.log(r));r.setDistanceLimits(t.zoomMin,t.zoomMax),("eye"in t||"up"in t)&&r.lookAt(0,t.eye,t.center,t.up);return r};var r=t("filtered-vector"),s=t("gl-mat4/lookAt"),l=t("gl-mat4/fromQuat"),a=t("gl-mat4/invert"),u=t("./lib/quatFromFrame");function y(t,e,n){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(n,2))}function v(t,e,n,r){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(n,2)+Math.pow(r,2))}function c(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],e=v(n,r,i,o);1e-6<e?(t[0]=n/e,t[1]=r/e,t[2]=i/e,t[3]=o/e):(t[0]=t[1]=t[2]=0,t[3]=1)}function i(t,e,n){this.radius=r([n]),this.center=r(e),this.rotation=r(t),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}t=i.prototype;t.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},t.recalcMatrix=function(t){this.radius.curve(t),this.center.curve(t),this.rotation.curve(t);var e=this.computedRotation;c(e,e);var n=this.computedMatrix;l(n,e);var r=this.computedCenter,i=this.computedEye,t=this.computedUp,e=Math.exp(this.computedRadius[0]);i[0]=r[0]+e*n[2],i[1]=r[1]+e*n[6],i[2]=r[2]+e*n[10],t[0]=n[1],t[1]=n[5],t[2]=n[9];for(var o=0;o<3;++o){for(var a=0,s=0;s<3;++s)a+=n[o+4*s]*i[s];n[12+o]=-a}},t.getMatrix=function(t,e){this.recalcMatrix(t);var n=this.computedMatrix;if(e){for(var r=0;r<16;++r)e[r]=n[r];return e}return n},t.idle=function(t){this.center.idle(t),this.radius.idle(t),this.rotation.idle(t)},t.flush=function(t){this.center.flush(t),this.radius.flush(t),this.rotation.flush(t)},t.pan=function(t,e,n,r){e=e||0,n=n||0,r=r||0,this.recalcMatrix(t);var i=this.computedMatrix,o=i[1],a=i[5],s=i[9],l=y(o,a,s);o/=l,a/=l,s/=l;var u=i[0],c=i[4],f=i[8],h=u*o+c*a+f*s,d=y(u-=o*h,c-=a*h,f-=s*h);u/=d,c/=d,f/=d;var p=i[2],l=i[6],h=i[10],d=p*o+l*a+h*s,i=p*u+l*c+h*f,i=y(p-=d*o+i*u,l-=d*a+i*c,h-=d*s+i*f);o=u*e+o*n,a=c*e+a*n,n=f*e+s*n;this.center.move(t,o,a,n);n=Math.exp(this.computedRadius[0]),n=Math.max(1e-4,n+r);this.radius.set(t,Math.log(n))},t.rotate=function(t,e,n,r){this.recalcMatrix(t),e=e||0,n=n||0;var i=this.computedMatrix,o=i[0],a=i[4],s=i[8],l=i[1],u=i[5],c=i[9],f=i[2],h=i[6],d=i[10],p=e*o+n*l,g=e*a+n*u,m=e*s+n*c,i=-(h*m-d*g),o=-(d*p-f*m),l=-(f*g-h*p),a=Math.sqrt(Math.max(0,1-Math.pow(i,2)-Math.pow(o,2)-Math.pow(l,2))),u=v(i,o,l,a);1e-6<u?(i/=u,o/=u,l/=u,a/=u):(i=o=l=0,a=1);s=this.computedRotation,n=s[0],c=s[1],m=s[2],g=s[3],p=n*a+g*i+c*l-m*o,u=c*a+g*o+m*i-n*l,s=m*a+g*l+n*o-c*i,m=g*a-n*i-c*o-m*l;r&&(i=f,o=h,l=d,i*=r=Math.sin(r)/y(i,o,l),o*=r,l*=r,m=m*(a=Math.cos(e))-(p=p*a+m*i+u*l-s*o)*i-(u=u*a+m*o+s*i-p*l)*o-(s=s*a+m*l+p*o-u*i)*l);l=v(p,u,s,m);1e-6<l?(p/=l,u/=l,s/=l,m/=l):(p=u=s=0,m=1),this.rotation.set(t,p,u,s,m)},t.lookAt=function(t,e,n,r){this.recalcMatrix(t),n=n||this.computedCenter,e=e||this.computedEye,r=r||this.computedUp;var i=this.computedMatrix;s(i,e,n,r);r=this.computedRotation;u(r,i[0],i[1],i[2],i[4],i[5],i[6],i[8],i[9],i[10]),c(r,r),this.rotation.set(t,r[0],r[1],r[2],r[3]);for(var o=0,a=0;a<3;++a)o+=Math.pow(n[a]-e[a],2);this.radius.set(t,.5*Math.log(Math.max(o,1e-6))),this.center.set(t,n[0],n[1],n[2])},t.translate=function(t,e,n,r){this.center.move(t,e||0,n||0,r||0)},t.setMatrix=function(t,e){var n=this.computedRotation;u(n,e[0],e[1],e[2],e[4],e[5],e[6],e[8],e[9],e[10]),c(n,n),this.rotation.set(t,n[0],n[1],n[2],n[3]);var r=this.computedMatrix;a(r,e);var i,o=r[15];1e-6<Math.abs(o)?(i=r[12]/o,n=r[13]/o,e=r[14]/o,this.recalcMatrix(t),o=Math.exp(this.computedRadius[0]),this.center.set(t,i-r[2]*o,n-r[6]*o,e-r[10]*o)):this.center.idle(t),this.radius.idle(t)},t.setDistance=function(t,e){0<e&&this.radius.set(t,Math.log(e))},t.setDistanceLimits=function(t,e){t=0<t?Math.log(t):-1/0,e=0<e?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},t.getDistanceLimits=function(t){var e=this.radius.bounds;return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},t.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},t.fromJSON=function(t){var e=this.lastT(),n=t.center;n&&this.center.set(e,n[0],n[1],n[2]);n=t.rotation;n&&this.rotation.set(e,n[0],n[1],n[2],n[3]);n=t.distance;n&&0<n&&this.radius.set(e,Math.log(n)),this.setDistanceLimits(t.zoomMin,t.zoomMax)}},{"./lib/quatFromFrame":609,"filtered-vector":451,"gl-mat4/fromQuat":479,"gl-mat4/invert":490,"gl-mat4/lookAt":491}],611:[function(t,e,n){"use strict";var r=t("repeat-string");e.exports=function(t,e,n){return r(n=void 0!==n?n+"":" ",e)+t}},{"repeat-string":979}],612:[function(t,e,n){"use strict";e.exports=function(t){var i=[];return t.replace(r,function(t,e,n){var r=e.toLowerCase();for(n=function(t){t=t.match(a);return t?t.map(Number):[]}(n),"m"==r&&2<n.length&&(i.push([e].concat(n.splice(0,2))),r="l",e="m"==e?"l":"L");;){if(n.length==o[r])return n.unshift(e),i.push(n);if(n.length<o[r])throw new Error("malformed path data");i.push([e].concat(n.splice(0,o[r])))}}),i};var o={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var a=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},{}],613:[function(t,e,n){"use strict";e.exports=function(t,e){e=e||[0,""],t=String(t);var n=parseFloat(t,10);return e[0]=n,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},{}],614:[function(t,e,n){"use strict";e.exports=function(t){var e=t.length;{if(e<s){for(var n=1,r=0;r<e;++r)for(var i=0;i<r;++i)if(t[r]<t[i])n=-n;else if(t[r]===t[i])return 0;return n}for(var o=l.mallocUint8(e),r=0;r<e;++r)o[r]=0;for(n=1,r=0;r<e;++r)if(!o[r]){var a=1;o[r]=1;for(i=t[r];i!==r;i=t[i]){if(o[i])return l.freeUint8(o),0;a+=1,o[i]=1}1&a||(n=-n)}return l.freeUint8(o),n}};var s=32,l=t("typedarray-pool")},{"typedarray-pool":1011}],615:[function(t,e,n){"use strict";var l=t("typedarray-pool"),u=t("invert-permutation");n.rank=function(t){var e=t.length;switch(e){case 0:case 1:return 0;case 2:return t[1]}var n,r,i,o=l.mallocUint32(e),a=l.mallocUint32(e),s=0;for(u(t,a),i=0;i<e;++i)o[i]=t[i];for(i=e-1;0<i;--i)r=a[i],n=o[i],o[i]=o[r],o[r]=n,a[i]=a[n],a[n]=r,s=(s+n)*i;return l.freeUint32(a),l.freeUint32(o),s},n.unrank=function(t,e,n){switch(t){case 0:return n?n:[];case 1:return n?(n[0]=0,n):[0];case 2:return n?(e?(n[0]=0,n[1]=1):(n[0]=1,n[1]=0),n):e?[0,1]:[1,0]}var r,i,o,a=1;for((n=n||new Array(t))[0]=0,o=1;o<t;++o)a=a*(n[o]=o)|0;for(o=t-1;0<o;--o)e=e-(r=e/a|0)*a|0,a=a/o|0,i=0|n[o],n[o]=0|n[r],n[r]=0|i;return n}},{"invert-permutation":552,"typedarray-pool":1011}],616:[function(t,e,n){"use strict";e.exports=function(t,h){for(var e=0|h.length,n=t.length,d=[new Array(e),new Array(e)],r=0;r<e;++r)d[0][r]=[],d[1][r]=[];for(r=0;r<n;++r){var i=t[r];d[0][i[0]].push(i),d[1][i[1]].push(i)}for(var o=[],r=0;r<e;++r)d[0][r].length+d[1][r].length===0&&o.push([r]);function p(t,e){e=d[e][t[e]];e.splice(e.indexOf(t),1)}function u(t,e,n){for(var r,i,o,a=0;a<2;++a)if(0<d[a][e].length){r=d[a][e][0],o=a;break}i=r[1^o];for(var s=0;s<2;++s)for(var l=d[s][e],u=0;u<l.length;++u){var c=l[u],f=c[1^s];0<g(h[t],h[e],h[i],h[f])&&(r=c,i=f,o=s)}return n||r&&p(r,o),i}for(r=0;r<e;++r)for(var a=0;a<2;++a){for(var s=[];0<d[a][r].length;){d[0][r].length;var l=function(t,e){var n=d[e][t][0],r=[t];p(n,e);for(var i=n[1^e];;){for(;i!==t;)r.push(i),i=u(r[r.length-2],i,!1);if(d[0][t].length+d[1][t].length===0)break;var o=r[r.length-1],a=t,s=r[1],l=u(o,a,!0);if(g(h[o],h[a],h[s],h[l])<0)break;r.push(t),i=u(o,a)}return r}(r,a);!function(t){return t[1]===t[t.length-1]}(l)?(0<s.length&&o.push(s),s=l):s.push.apply(s,l)}0<s.length&&o.push(s)}return o};var g=t("compare-angle")},{"compare-angle":53}],617:[function(t,e,n){"use strict";e.exports=function(t,e){for(var n=g(t,e.length),r=new Array(e.length),i=new Array(e.length),o=[],a=0;a<e.length;++a){var s=n[a].length;i[a]=s,r[a]=!0,s<=1&&o.push(a)}for(;0<o.length;){var l=o.pop();r[l]=!1;for(var u=n[l],a=0;a<u.length;++a){var c=u[a];0==--i[c]&&o.push(c)}}for(var f=new Array(e.length),h=[],a=0;a<e.length;++a)r[a]?(l=h.length,f[a]=l,h.push(e[a])):f[a]=-1;for(var d=[],a=0;a<t.length;++a){var p=t[a];r[p[0]]&&r[p[1]]&&d.push([f[p[0]],f[p[1]]])}return[d,h]};var g=t("edges-to-adjacency-list")},{"edges-to-adjacency-list":446}],618:[function(t,e,n){"use strict";e.exports=function(t,l){var e=q(t,l);t=e[0];for(var n=(l=e[1]).length,r=(t.length,I(t,l.length)),i=0;i<n;++i)if(r[i].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var o=F(t,l);for(var a=(o=o.filter(function(t){for(var e=t.length,n=[0],r=0;r<e;++r)var i=l[t[r]],o=l[t[(r+1)%e]],a=B(-i[0],i[1]),s=B(-i[0],o[1]),i=B(o[0],i[1]),o=B(o[0],o[1]),n=U(n,U(U(a,s),U(i,o)));return 0<n[n.length-1]})).length,s=new Array(a),u=new Array(a),i=0;i<a;++i){s[i]=i;var c=new Array(a),f=o[i].map(function(t){return l[t]}),h=z([f]),d=0;t:for(var p=0;p<a;++p)if(c[p]=0,i!==p){for(var g=(R=o[p]).length,m=0;m<g;++m){var y=h(l[R[m]]);if(0!==y){y<0&&(c[p]=1,d+=1);continue t}}c[p]=1,d+=1}u[i]=[d,i,c]}u.sort(function(t,e){return e[0]-t[0]});for(i=0;i<a;++i)for(var v=(c=u[i])[1],b=c[2],p=0;p<a;++p)b[p]&&(s[p]=v);for(var x=function(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=[];return e}(a),i=0;i<a;++i)x[i].push(s[i]),x[s[i]].push(i);for(var _={},w=V(n,!1),i=0;i<a;++i)for(g=(R=o[i]).length,p=0;p<g;++p){var k,T=R[p],M=R[(p+1)%g],A=Math.min(T,M)+":"+Math.max(T,M);A in _?(k=_[A],x[k].push(i),x[i].push(k),w[T]=w[M]=!0):_[A]=i}function S(t){for(var e=t.length,n=0;n<e;++n)if(!w[t[n]])return;return 1}for(var E=[],C=V(a,-1),i=0;i<a;++i)s[i]!==i||S(o[i])?C[i]=-1:(E.push(i),C[i]=0);var O,e=[];for(;0<E.length;){var j=E.pop(),P=x[j];H(P,function(t,e){return t-e});var N=P.length,L=C[j];0===L&&(R=o[j],O=[R]);for(i=0;i<N;++i){var R,D=P[i];0<=C[D]||(C[D]=1^L,E.push(D),0===L&&(S(R=o[D])||(R.reverse(),O.push(R))))}0===L&&e.push(O)}return e};var I=t("edges-to-adjacency-list"),F=t("planar-dual"),z=t("point-in-big-polygon"),B=t("two-product"),U=t("robust-sum"),H=t("uniq"),q=t("./lib/trim-leaves");function V(t,e){for(var n=new Array(t),r=0;r<t;++r)n[r]=e;return n}},{"./lib/trim-leaves":617,"edges-to-adjacency-list":446,"planar-dual":616,"point-in-big-polygon":961,"robust-sum":991,"two-product":1009,uniq:1013}],619:[function(t,e,n){"use strict";var r,i=t("../src/lib"),o={"X,X div":"direction:ltr;font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color 0.3s ease 0s;-moz-transition:background-color 0.3s ease 0s;-ms-transition:background-color 0.3s ease 0s;-o-transition:background-color 0.3s ease 0s;transition:background-color 0.3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans', verdana, arial, sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(r in o){var a=r.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");i.addStyleRule(a,o[r])}},{"../src/lib":776}],620:[function(t,e,n){"use strict";e.exports=t("../src/core")},{"../src/core":756}],621:[function(t,e,n){"use strict";e.exports=t("../src/traces/histogram")},{"../src/traces/histogram":912}],622:[function(t,e,n){"use strict";e.exports=t("../src/traces/isosurface")},{"../src/traces/isosurface":918}],623:[function(t,e,n){"use strict";e.exports=t("../src/traces/scatter3d")},{"../src/traces/scatter3d":927}],624:[function(t,e,n){"use strict";var i=t("color-rgba"),o=t("clamp"),a=t("dtype");e.exports=function(t,e){"float"!==e&&e||(e="array"),"uint"===e&&(e="uint8"),"uint_clamped"===e&&(e="uint8_clamped");var n=new(a(e))(4),r="uint8"!==e&&"uint8_clamped"!==e;return t.length&&"string"!=typeof t||((t=i(t))[0]/=255,t[1]/=255,t[2]/=255),(e=t)instanceof Uint8Array||e instanceof Uint8ClampedArray||!!(Array.isArray(e)&&(1<e[0]||0===e[0])&&(1<e[1]||0===e[1])&&(1<e[2]||0===e[2])&&(!e[3]||1<e[3]))?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=null!=t[3]?t[3]:255,r&&(n[0]/=255,n[1]/=255,n[2]/=255,n[3]/=255)):r?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=null!=t[3]?t[3]:1):(n[0]=o(Math.floor(255*t[0]),0,255),n[1]=o(Math.floor(255*t[1]),0,255),n[2]=o(Math.floor(255*t[2]),0,255),n[3]=null==t[3]?255:o(Math.floor(255*t[3]),0,255)),n}},{clamp:45,"color-rgba":626,dtype:444}],625:[function(t,e,n){"use strict";var u=t("color-name");e.exports=function(t){var e,n,r=[],i=1;{var o,a,s,l;"string"==typeof t?u[t]?(r=u[t].slice(),n="rgb"):"transparent"===t?(n="rgb",r=[i=0,0,0]):/^#[A-Fa-f0-9]+$/.test(t)?(l=(s=t.slice(1)).length,i=1,l<=4?(r=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],4===l&&(i=parseInt(s[3]+s[3],16)/255)):(r=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],8===l&&(i=parseInt(s[6]+s[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),n="rgb"):(e=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(t))?(o=e[1],a="rgb"===o,s=o.replace(/a$/,""),l="cmyk"===(n=s)?4:"gray"===s?1:3,r=e[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(t,e){if(/%$/.test(t))return e===l?parseFloat(t)/100:"rgb"===s?255*parseFloat(t)/100:parseFloat(t);if("h"===s[e]){if(/deg$/.test(t))return parseFloat(t);if(void 0!==c[t])return c[t]}return parseFloat(t)}),o===s&&r.push(1),i=a||void 0===r[l]?1:r[l],r=r.slice(0,l)):10<t.length&&/[0-9](?:\s|\/)/.test(t)&&(r=t.match(/([0-9]+)/g).map(function(t){return parseFloat(t)}),n=t.match(/([a-z])/gi).join("").toLowerCase()):isNaN(t)?Array.isArray(t)||t.length?(r=[t[0],t[1],t[2]],n="rgb",i=4===t.length?t[3]:1):t instanceof Object&&(r=null!=t.r||null!=t.red||null!=t.R?(n="rgb",[t.r||t.red||t.R||0,t.g||t.green||t.G||0,t.b||t.blue||t.B||0]):(n="hsl",[t.h||t.hue||t.H||0,t.s||t.saturation||t.S||0,t.l||t.lightness||t.L||t.b||t.brightness]),i=t.a||t.alpha||t.opacity||1,null!=t.opacity&&(i/=100)):(n="rgb",r=[t>>>16,(65280&t)>>>8,255&t])}return{space:n,values:r,alpha:i}};var c={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},{"color-name":48}],626:[function(t,e,n){"use strict";var r=t("color-parse"),i=t("color-space/hsl");e.exports=function(t){Array.isArray(t)&&t.raw&&(t=String.raw.apply(null,arguments));var e=r(t);return e.space?((t=Array(3))[0]=Math.min(Math.max(e.values[0],0),255),t[1]=Math.min(Math.max(e.values[1],0),255),t[2]=Math.min(Math.max(e.values[2],0),255),"h"===e.space[0]&&(t=i.rgb(t)),t.push(Math.min(Math.max(e.alpha,0),1)),t):[]}},{"color-parse":625,"color-space/hsl":49}],627:[function(t,e,n){var r,i;r=this,i=function(e,M){"use strict";function A(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function S(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function E(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function n(t){var r=t.dateTime,i=t.date,o=t.time,e=t.periods,n=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=O(e),c=j(e),f=O(n),h=j(n),d=O(a),p=j(a),g=O(s),m=j(s),y=O(l),v=j(l),b={a:function(t){return a[t.getDay()]},A:function(t){return n[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:K,e:K,f:rt,g:dt,G:gt,H:J,I:tt,j:et,L:nt,m:it,M:ot,p:function(t){return e[+(12<=t.getHours())]},q:function(t){return 1+~~(t.getMonth()/3)},Q:It,s:Ft,S:at,u:st,U:lt,V:ut,w:ct,W:ft,x:null,X:null,y:ht,Y:pt,Z:mt,"%":Dt},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return n[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:yt,e:yt,f:wt,g:Pt,G:Lt,H:vt,I:bt,j:xt,L:_t,m:kt,M:Tt,p:function(t){return e[+(12<=t.getUTCHours())]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:It,s:Ft,S:Mt,u:At,U:St,V:Et,w:Ct,W:Ot,x:null,X:null,y:jt,Y:Nt,Z:Rt,"%":Dt},_={a:function(t,e,n){e=d.exec(e.slice(n));return e?(t.w=p[e[0].toLowerCase()],n+e[0].length):-1},A:function(t,e,n){e=f.exec(e.slice(n));return e?(t.w=h[e[0].toLowerCase()],n+e[0].length):-1},b:function(t,e,n){e=y.exec(e.slice(n));return e?(t.m=v[e[0].toLowerCase()],n+e[0].length):-1},B:function(t,e,n){e=g.exec(e.slice(n));return e?(t.m=m[e[0].toLowerCase()],n+e[0].length):-1},c:function(t,e,n){return T(t,r,e,n)},d:H,e:H,f:X,g:F,G:I,H:V,I:V,j:q,L:Y,m:U,M:G,p:function(t,e,n){e=u.exec(e.slice(n));return e?(t.p=c[e[0].toLowerCase()],n+e[0].length):-1},q:B,Q:$,s:Q,S:W,u:N,U:L,V:R,w:P,W:D,x:function(t,e,n){return T(t,i,e,n)},X:function(t,e,n){return T(t,o,e,n)},y:F,Y:I,Z:z,"%":Z};function w(l,u){return function(t){var e,n,r,i=[],o=-1,a=0,s=l.length;for(t instanceof Date||(t=new Date(+t));++o<s;)37===l.charCodeAt(o)&&(i.push(l.slice(a,o)),null!=(n=C[e=l.charAt(++o)])?e=l.charAt(++o):n="e"===e?" ":"0",(r=u[e])&&(e=r(t,n)),i.push(e),a=o+1);return i.push(l.slice(a,o)),i.join("")}}function k(i,o){return function(t){var e,n,r=E(1900,void 0,1);if(T(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("s"in r)return new Date(1e3*r.s+("L"in r?r.L:0));if(!o||"Z"in r||(r.Z=0),"p"in r&&(r.H=r.H%12+12*r.p),void 0===r.m&&(r.m="q"in r?r.q:0),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(e=4<(n=(e=S(E(r.y,0,1))).getUTCDay())||0===n?M.utcMonday.ceil(e):M.utcMonday(e),e=M.utcDay.offset(e,7*(r.V-1)),r.y=e.getUTCFullYear(),r.m=e.getUTCMonth(),r.d=e.getUTCDate()+(r.w+6)%7):(e=4<(n=(e=A(E(r.y,0,1))).getDay())||0===n?M.timeMonday.ceil(e):M.timeMonday(e),e=M.timeDay.offset(e,7*(r.V-1)),r.y=e.getFullYear(),r.m=e.getMonth(),r.d=e.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),n="Z"in r?S(E(r.y,0,1)).getUTCDay():A(E(r.y,0,1)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(n+5)%7:r.w+7*r.U-(n+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,S(r)):A(r)}}function T(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(l<=r)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=_[i in C?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(i,b),b.X=w(o,b),b.c=w(r,b),x.x=w(i,x),x.X=w(o,x),x.c=w(r,x),{format:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}var r,C={"-":"",_:" ",0:"0"},i=/^\s*\d+/,o=/^%/,a=/[\\^$*+?|[\]().{}]/g;function s(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",t=i.length;return r+(t<n?new Array(n-t+1).join(e)+i:i)}function l(t){return t.replace(a,"\\$&")}function O(t){return new RegExp("^(?:"+t.map(l).join("|")+")","i")}function j(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function P(t,e,n){e=i.exec(e.slice(n,n+1));return e?(t.w=+e[0],n+e[0].length):-1}function N(t,e,n){e=i.exec(e.slice(n,n+1));return e?(t.u=+e[0],n+e[0].length):-1}function L(t,e,n){e=i.exec(e.slice(n,n+2));return e?(t.U=+e[0],n+e[0].length):-1}function R(t,e,n){e=i.exec(e.slice(n,n+2));return e?(t.V=+e[0],n+e[0].length):-1}function D(t,e,n){e=i.exec(e.slice(n,n+2));return e?(t.W=+e[0],n+e[0].length):-1}function I(t,e,n){e=i.exec(e.slice(n,n+4));return e?(t.y=+e[0],n+e[0].length):-1}function F(t,e,n){e=i.exec(e.slice(n,n+2));return e?(t.y=+e[0]+(68<+e[0]?1900:2e3),n+e[0].length):-1}function z(t,e,n){e=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return e?(t.Z=e[1]?0:-(e[2]+(e[3]||"00")),n+e[0].length):-1}function B(t,e,n){e=i.exec(e.slice(n,n+1));return e?(t.q=3*e[0]-3,n+e[0].length):-1}function U(t,e,n){e=i.exec(e.slice(n,n+2));return e?(t.m=e[0]-1,n+e[0].length):-1}function H(t,e,n){e=i.exec(e.slice(n,n+2));return e?(t.d=+e[0],n+e[0].length):-1}function q(t,e,n){e=i.exec(e.slice(n,n+3));return e?(t.m=0,t.d=+e[0],n+e[0].length):-1}function V(t,e,n){e=i.exec(e.slice(n,n+2));return e?(t.H=+e[0],n+e[0].length):-1}function G(t,e,n){e=i.exec(e.slice(n,n+2));return e?(t.M=+e[0],n+e[0].length):-1}function W(t,e,n){e=i.exec(e.slice(n,n+2));return e?(t.S=+e[0],n+e[0].length):-1}function Y(t,e,n){e=i.exec(e.slice(n,n+3));return e?(t.L=+e[0],n+e[0].length):-1}function X(t,e,n){e=i.exec(e.slice(n,n+6));return e?(t.L=Math.floor(e[0]/1e3),n+e[0].length):-1}function Z(t,e,n){e=o.exec(e.slice(n,n+1));return e?n+e[0].length:-1}function $(t,e,n){e=i.exec(e.slice(n));return e?(t.Q=+e[0],n+e[0].length):-1}function Q(t,e,n){e=i.exec(e.slice(n));return e?(t.s=+e[0],n+e[0].length):-1}function K(t,e){return s(t.getDate(),e,2)}function J(t,e){return s(t.getHours(),e,2)}function tt(t,e){return s(t.getHours()%12||12,e,2)}function et(t,e){return s(1+M.timeDay.count(M.timeYear(t),t),e,3)}function nt(t,e){return s(t.getMilliseconds(),e,3)}function rt(t,e){return nt(t,e)+"000"}function it(t,e){return s(t.getMonth()+1,e,2)}function ot(t,e){return s(t.getMinutes(),e,2)}function at(t,e){return s(t.getSeconds(),e,2)}function st(t){t=t.getDay();return 0===t?7:t}function lt(t,e){return s(M.timeSunday.count(M.timeYear(t)-1,t),e,2)}function u(t){var e=t.getDay();return 4<=e||0===e?M.timeThursday(t):M.timeThursday.ceil(t)}function ut(t,e){return t=u(t),s(M.timeThursday.count(M.timeYear(t),t)+(4===M.timeYear(t).getDay()),e,2)}function ct(t){return t.getDay()}function ft(t,e){return s(M.timeMonday.count(M.timeYear(t)-1,t),e,2)}function ht(t,e){return s(t.getFullYear()%100,e,2)}function dt(t,e){return s((t=u(t)).getFullYear()%100,e,2)}function pt(t,e){return s(t.getFullYear()%1e4,e,4)}function gt(t,e){var n=t.getDay();return s((t=4<=n||0===n?M.timeThursday(t):M.timeThursday.ceil(t)).getFullYear()%1e4,e,4)}function mt(t){t=t.getTimezoneOffset();return(0<t?"-":(t*=-1,"+"))+s(t/60|0,"0",2)+s(t%60,"0",2)}function yt(t,e){return s(t.getUTCDate(),e,2)}function vt(t,e){return s(t.getUTCHours(),e,2)}function bt(t,e){return s(t.getUTCHours()%12||12,e,2)}function xt(t,e){return s(1+M.utcDay.count(M.utcYear(t),t),e,3)}function _t(t,e){return s(t.getUTCMilliseconds(),e,3)}function wt(t,e){return _t(t,e)+"000"}function kt(t,e){return s(t.getUTCMonth()+1,e,2)}function Tt(t,e){return s(t.getUTCMinutes(),e,2)}function Mt(t,e){return s(t.getUTCSeconds(),e,2)}function At(t){t=t.getUTCDay();return 0===t?7:t}function St(t,e){return s(M.utcSunday.count(M.utcYear(t)-1,t),e,2)}function c(t){var e=t.getUTCDay();return 4<=e||0===e?M.utcThursday(t):M.utcThursday.ceil(t)}function Et(t,e){return t=c(t),s(M.utcThursday.count(M.utcYear(t),t)+(4===M.utcYear(t).getUTCDay()),e,2)}function Ct(t){return t.getUTCDay()}function Ot(t,e){return s(M.utcMonday.count(M.utcYear(t)-1,t),e,2)}function jt(t,e){return s(t.getUTCFullYear()%100,e,2)}function Pt(t,e){return s((t=c(t)).getUTCFullYear()%100,e,2)}function Nt(t,e){return s(t.getUTCFullYear()%1e4,e,4)}function Lt(t,e){var n=t.getUTCDay();return s((t=4<=n||0===n?M.utcThursday(t):M.utcThursday.ceil(t)).getUTCFullYear()%1e4,e,4)}function Rt(){return"+0000"}function Dt(){return"%"}function It(t){return+t}function Ft(t){return Math.floor(+t/1e3)}function t(t){return r=n(t),e.timeFormat=r.format,e.timeParse=r.parse,e.utcFormat=r.utcFormat,e.utcParse=r.utcParse,r}t({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var f="%Y-%m-%dT%H:%M:%S.%LZ";var h=Date.prototype.toISOString?function(t){return t.toISOString()}:e.utcFormat(f);f=+new Date("2000-01-01T00:00:00.000Z")?function(t){return t=new Date(t),isNaN(t)?null:t}:e.utcParse(f);e.isoFormat=h,e.isoParse=f,e.timeFormatDefaultLocale=t,e.timeFormatLocale=n,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-time")):"function"==typeof define&&define.amd?define(["exports","d3-time"],i):i((r=r||self).d3=r.d3||{},r.d3)},{"d3-time":628}],628:[function(t,e,n){var r,i;r=this,i=function(t){"use strict";var i=new Date,l=new Date;function u(o,a,n,r){function s(t){return o(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return o(t=new Date(+t)),t},s.ceil=function(t){return o(t=new Date(t-1)),a(t,1),o(t),t},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return a(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(t,e,n){var r,i=[];if(t=s.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return i;for(;i.push(r=new Date(+t)),a(t,n),o(t),r<t&&t<e;);return i},s.filter=function(n){return u(function(t){if(t<=t)for(;o(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;a(t,-1),!n(t););else for(;0<=--e;)for(;a(t,1),!n(t););})},n&&(s.count=function(t,e){return i.setTime(+t),l.setTime(+e),o(i),o(l),Math.floor(n(i,l))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?s.filter(r?function(t){return r(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var e=u(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});e.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?u(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):e:null};var n=e.range,r=u(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),o=r.range,a=u(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getMinutes()}),s=a.range,c=u(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),f=c.range,h=u(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1}),d=h.range;function p(e){return u(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}var g=p(0),m=p(1),y=p(2),v=p(3),b=p(4),x=p(5),_=p(6),w=g.range,k=m.range,T=y.range,M=v.range,A=b.range,S=x.range,E=_.range,C=u(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),O=C.range,j=u(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});j.every=function(n){return isFinite(n=Math.floor(n))&&0<n?u(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var P=j.range,N=u(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getUTCMinutes()}),L=N.range,R=u(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),D=R.range,I=u(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),F=I.range;function z(e){return u(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var B=z(0),U=z(1),H=z(2),q=z(3),V=z(4),G=z(5),W=z(6),Y=B.range,X=U.range,Z=H.range,$=q.range,Q=V.range,K=G.range,J=W.range,tt=u(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),et=tt.range,nt=u(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});nt.every=function(n){return isFinite(n=Math.floor(n))&&0<n?u(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var rt=nt.range;t.timeDay=h,t.timeDays=d,t.timeFriday=x,t.timeFridays=S,t.timeHour=c,t.timeHours=f,t.timeInterval=u,t.timeMillisecond=e,t.timeMilliseconds=n,t.timeMinute=a,t.timeMinutes=s,t.timeMonday=m,t.timeMondays=k,t.timeMonth=C,t.timeMonths=O,t.timeSaturday=_,t.timeSaturdays=E,t.timeSecond=r,t.timeSeconds=o,t.timeSunday=g,t.timeSundays=w,t.timeThursday=b,t.timeThursdays=A,t.timeTuesday=y,t.timeTuesdays=T,t.timeWednesday=v,t.timeWednesdays=M,t.timeWeek=g,t.timeWeeks=w,t.timeYear=j,t.timeYears=P,t.utcDay=I,t.utcDays=F,t.utcFriday=G,t.utcFridays=K,t.utcHour=R,t.utcHours=D,t.utcMillisecond=e,t.utcMilliseconds=n,t.utcMinute=N,t.utcMinutes=L,t.utcMonday=U,t.utcMondays=X,t.utcMonth=tt,t.utcMonths=et,t.utcSaturday=W,t.utcSaturdays=J,t.utcSecond=r,t.utcSeconds=o,t.utcSunday=B,t.utcSundays=Y,t.utcThursday=V,t.utcThursdays=Q,t.utcTuesday=H,t.utcTuesdays=Z,t.utcWednesday=q,t.utcWednesdays=$,t.utcWeek=B,t.utcWeeks=Y,t.utcYear=nt,t.utcYears=rt,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i((r=r||self).d3=r.d3||{})},{}],629:[function(t,Js,e){!function(){var N={version:"3.5.17"},i=[].slice,h=function(t){return i.call(t)},L=this.document;function s(t){return t&&(t.ownerDocument||t.document||t).documentElement}function R(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(L)try{h(L.documentElement.childNodes)[0].nodeType}catch(t){h=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),L)try{L.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var e=this.Element.prototype,n=e.setAttribute,r=e.setAttributeNS,o=this.CSSStyleDeclaration.prototype,a=o.setProperty;e.setAttribute=function(t,e){n.call(this,t,e+"")},e.setAttributeNS=function(t,e,n){r.call(this,t,e,n+"")},o.setProperty=function(t,e,n){a.call(this,t,e+"",n)}}function l(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function u(t){return null===t?NaN:+t}function c(t){return!isNaN(t)}function t(o){return{left:function(t,e,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=t.length);n<r;){var i=n+r>>>1;o(t[i],e)<0?n=1+i:r=i}return n},right:function(t,e,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=t.length);n<r;){var i=n+r>>>1;0<o(t[i],e)?r=i:n=1+i}return n}}}N.ascending=l,N.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},N.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r<=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r<n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r<=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r<n&&(n=r)}return n},N.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r<=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n<r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r<=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n<r&&(n=r)}return n},N.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r<=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(r<n&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r<=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(r<n&&(n=r),i<r&&(i=r))}return[n,i]},N.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)c(n=+t[o])&&(r+=n);else for(;++o<i;)c(n=+e.call(t,t[o],o))&&(r+=n);return r},N.mean=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)c(n=u(t[o]))?r+=n:--a;else for(;++o<i;)c(n=u(e.call(t,t[o],o)))?r+=n:--a;if(a)return r/a},N.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),e=+t[r-1],n=n-r;return n?e+n*(t[r]-e):e},N.median=function(t,e){var n,r=[],i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)c(n=u(t[o]))&&r.push(n);else for(;++o<i;)c(n=u(e.call(t,t[o],o)))&&r.push(n);if(r.length)return N.quantile(r.sort(l),.5)},N.variance=function(t,e){var n,r,i=t.length,o=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<i;)c(n=u(t[s]))&&(a+=(r=n-o)*(n-(o+=r/++l)));else for(;++s<i;)c(n=u(e.call(t,t[s],s)))&&(a+=(r=n-o)*(n-(o+=r/++l)));if(1<l)return a/(l-1)},N.deviation=function(){var t=N.variance.apply(this,arguments);return t&&Math.sqrt(t)};var f=t(l);function d(t){return t.length}N.bisectLeft=f.left,N.bisect=N.bisectRight=f.right,N.bisector=function(n){return t(1===n.length?function(t,e){return l(n(t),e)}:n)},N.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},N.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},N.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},N.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=N.min(t,d),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r},N.zip=function(){return N.transpose(arguments)},N.keys=function(t){var e,n=[];for(e in t)n.push(e);return n},N.values=function(t){var e,n=[];for(e in t)n.push(t[e]);return n},N.entries=function(t){var e,n=[];for(e in t)n.push({key:e,value:t[e]});return n},N.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);0<=--i;)for(e=(r=t[i]).length;0<=--e;)n[--a]=r[e];return n};var j=Math.abs;function p(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function v(){this._=Object.create(null)}N.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,i=[],o=function(t){var e=1;for(;t*e%1;)e*=10;return e}(j(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},N.map=function(t,e){var n=new v;if(t instanceof v)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var g="__proto__",m="\0";function y(t){return(t+="")===g||t[0]===m?m+t:t}function b(t){return(t+="")[0]===m?t.slice(1):t}function x(t){return y(t)in this._}function _(t){return(t=y(t))in this._&&delete this._[t]}function w(){var t,e=[];for(t in this._)e.push(b(t));return e}function k(){var t,e=0;for(t in this._)++e;return e}function T(){for(var t in this._)return!1;return!0}function M(){this._=Object.create(null)}function O(t){return t}function A(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=S.length;n<r;++n){var i=S[n]+e;if(i in t)return i}}p(v,{has:x,get:function(t){return this._[y(t)]},set:function(t,e){return this._[y(t)]=e},remove:_,keys:w,values:function(){var t,e=[];for(t in this._)e.push(this._[t]);return e},entries:function(){var t,e=[];for(t in this._)e.push({key:b(t),value:this._[t]});return e},size:k,empty:T,forEach:function(t){for(var e in this._)t.call(this,b(e),this._[e])}}),N.nest=function(){var f,h,d={},p=[],e=[];function g(n,t,r){if(r>=p.length)return h?h.call(d,t):f?t.sort(f):t;for(var e,i,o,a,s=-1,l=t.length,u=p[r++],c=new v;++s<l;)(a=c.get(e=u(i=t[s])))?a.push(i):c.set(e,[i]);return o=n?(i=n(),function(t,e){i.set(t,g(n,e,r))}):(i={},function(t,e){i[t]=g(n,e,r)}),c.forEach(o),i}return d.map=function(t,e){return g(e,t,0)},d.entries=function(t){return function n(t,r){if(r>=p.length)return t;var i=[],o=e[r++];return t.forEach(function(t,e){i.push({key:t,values:n(e,r)})}),o?i.sort(function(t,e){return o(t.key,e.key)}):i}(g(N.map,t,0),0)},d.key=function(t){return p.push(t),d},d.sortKeys=function(t){return e[p.length-1]=t,d},d.sortValues=function(t){return f=t,d},d.rollup=function(t){return h=t,d},d},N.set=function(t){var e=new M;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},p(M,{has:x,add:function(t){return this._[y(t+="")]=!0,t},remove:_,values:w,size:k,empty:T,forEach:function(t){for(var e in this._)t.call(this,b(e))}}),N.behavior={},N.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=function(e,n,r){return function(){var t=r.apply(n,arguments);return t===n?e:t}}(t,e,e[n]);return t};var S=["webkit","ms","moz","Moz","o","O"];function E(){}function C(){}function P(i){var o=[],r=new v;function t(){for(var t,e=o,n=-1,r=e.length;++n<r;)(t=e[n].on)&&t.apply(this,arguments);return i}return t.on=function(t,e){var n=r.get(t);return arguments.length<2?n&&n.on:(n&&(n.on=null,o=o.slice(0,n=o.indexOf(n)).concat(o.slice(n+1)),r.remove(t)),e&&o.push(r.set(t,{on:e})),i)},t}function D(){N.event.preventDefault()}function I(){for(var t,e=N.event;t=e.sourceEvent;)e=t;return e}function F(i){for(var o=new C,t=0,e=arguments.length;++t<e;)o[arguments[t]]=P(o);return o.of=function(n,r){return function(t){try{var e=t.sourceEvent=N.event;t.target=i,N.event=t,o[t.type].apply(n,r)}finally{N.event=e}}},o}N.dispatch=function(){for(var t=new C,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=P(t);return t},C.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(0<=n&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},N.event=null,N.requote=function(t){return t.replace(z,"\\$&")};var z=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,B={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function U(t){return B(t,G),t}var H=function(t,e){return e.querySelector(t)},q=function(t,e){return e.querySelectorAll(t)},V=function(t,e){var n=t.matches||t[A(t,"matchesSelector")];return(V=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(H=function(t,e){return Sizzle(t,e)[0]||null},V=(q=Sizzle).matchesSelector),N.selection=function(){return N.select(L.documentElement)};var G=N.selection.prototype=[];function W(t){return"function"==typeof t?t:function(){return H(t,this)}}function Y(t){return"function"==typeof t?t:function(){return q(t,this)}}G.select=function(t){var e,n,r,i,o=[];t=W(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return U(o)},G.selectAll=function(t){var e,n,r=[];t=Y(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,l=a.length;++s<l;)(n=a[s])&&(r.push(e=h(t.call(n,n.__data__,s,i))),e.parentNode=n);return U(r)};var X="http://www.w3.org/1999/xhtml",Z={svg:"http://www.w3.org/2000/svg",xhtml:X,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $(e,n){return e=N.ns.qualify(e),null==n?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof n?e.local?function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}:function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}:e.local?function(){this.setAttributeNS(e.space,e.local,n)}:function(){this.setAttribute(e,n)}}function Q(t){return t.trim().replace(/\s+/g," ")}function K(t){return new RegExp("(?:^|\\s+)"+N.requote(t)+"(?:\\s+|$)","g")}function J(t){return(t+"").trim().split(/^|\s+/)}function tt(n,r){var i=(n=J(n).map(et)).length;return"function"==typeof r?function(){for(var t=-1,e=r.apply(this,arguments);++t<i;)n[t](this,e)}:function(){for(var t=-1;++t<i;)n[t](this,r)}}function et(r){var i=K(r);return function(t,e){if(n=t.classList)return e?n.add(r):n.remove(r);var n=t.getAttribute("class")||"";e?(i.lastIndex=0,i.test(n)||t.setAttribute("class",Q(n+" "+r))):t.setAttribute("class",Q(n.replace(i," ")))}}function nt(e,n,r){return null==n?function(){this.style.removeProperty(e)}:"function"==typeof n?function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}:function(){this.style.setProperty(e,n,r)}}function rt(e,n){return null==n?function(){delete this[e]}:"function"==typeof n?function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}:function(){this[e]=n}}function it(n){return"function"==typeof n?n:(n=N.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){var t=this.ownerDocument,e=this.namespaceURI;return e===X&&t.documentElement.namespaceURI===X?t.createElement(n):t.createElementNS(e,n)}}function ot(){var t=this.parentNode;t&&t.removeChild(this)}function at(t){return{__data__:t}}function st(t){return function(){return V(this,t)}}function lt(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,s=o.length;a<s;a++)(i=o[a])&&e(i,a,n);return t}function ut(t){return B(t,ct),t}N.ns={prefix:Z,qualify:function(t){var e=t.indexOf(":"),n=t;return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Z.hasOwnProperty(n)?{space:Z[n],local:t}:t}},G.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=N.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each($(e,t[e]));return this}return this.each($(t,e))},G.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=J(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!K(t[i]).test(e))return!1;return!0}for(e in t)this.each(tt(e,t[e]));return this}return this.each(tt(t,e))},G.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(nt(n,t[n],e));return this}if(r<2){r=this.node();return R(r).getComputedStyle(r,null).getPropertyValue(t)}n=""}return this.each(nt(t,e,n))},G.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(rt(e,t[e]));return this}return this.each(rt(t,e))},G.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},G.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},G.append=function(t){return t=it(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},G.insert=function(t,e){return t=it(t),e=W(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},G.remove=function(){return this.each(ot)},G.data=function(t,p){var e,n,r=-1,i=this.length;if(!arguments.length){for(t=new Array(i=(e=this[0]).length);++r<i;)(n=e[r])&&(t[r]=n.__data__);return t}function o(t,e){var n,r,i=t.length,o=e.length,a=Math.min(i,o),s=new Array(o),l=new Array(o),u=new Array(i);if(p){for(var c,f=new v,h=new Array(i),d=-1;++d<i;)(n=t[d])&&(f.has(c=p.call(n,n.__data__,d))?u[d]=n:f.set(c,n),h[d]=c);for(d=-1;++d<o;)(n=f.get(c=p.call(e,r=e[d],d)))?!0!==n&&((s[d]=n).__data__=r):l[d]=at(r),f.set(c,!0);for(d=-1;++d<i;)d in h&&!0!==f.get(h[d])&&(u[d]=t[d])}else{for(d=-1;++d<a;)n=t[d],r=e[d],n?(n.__data__=r,s[d]=n):l[d]=at(r);for(;d<o;++d)l[d]=at(e[d]);for(;d<i;++d)u[d]=t[d]}l.update=s,l.parentNode=s.parentNode=u.parentNode=t.parentNode,g.push(l),m.push(s),y.push(u)}var g=ut([]),m=U([]),y=U([]);if("function"==typeof t)for(;++r<i;)o(e=this[r],t.call(e,e.parentNode.__data__,r));else for(;++r<i;)o(e=this[r],t);return m.enter=function(){return g},m.exit=function(){return y},m},G.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},G.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=st(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return U(i)},G.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];0<=--i;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},G.sort=function(t){t=function(n){arguments.length||(n=l);return function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},G.each=function(r){return lt(this,function(t,e,n){r.call(t,t.__data__,e,n)})},G.call=function(t){var e=h(arguments);return t.apply(e[0]=this,e),this},G.empty=function(){return!this.node()},G.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},G.size=function(){var t=0;return lt(this,function(){++t}),t};var ct=[];function ft(i,e,n){var r="__on"+i,t=i.indexOf("."),o=dt;0<t&&(i=i.slice(0,t));var a=ht.get(i);function s(){var t=this[r];t&&(this.removeEventListener(i,t,t.$),delete this[r])}return a&&(i=a,o=pt),t?e?function(){var t=o(e,h(arguments));s.call(this),this.addEventListener(i,this[r]=t,t.$=n),t._=e}:s:e?E:function(){var t,e,n,r=new RegExp("^__on([^.]+)"+N.requote(i)+"$");for(e in this)(t=e.match(r))&&(n=this[e],this.removeEventListener(t[1],n,n.$),delete this[e])}}N.selection.enter=ut,(N.selection.enter.prototype=ct).append=G.append,ct.empty=G.empty,ct.node=G.node,ct.call=G.call,ct.size=G.size,ct.select=function(t){for(var e,n,r,i,o,a=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(o=i[u])?(e.push(r[u]=n=t.call(i.parentNode,o.__data__,u,s)),n.__data__=o.__data__):e.push(null)}return U(a)},ct.insert=function(t,e){var a,s,l;return arguments.length<2&&(a=this,e=function(t,e,n){var r,i=a[n].update,o=i.length;for(n!=l&&(l=n,s=0),s<=e&&(s=e+1);!(r=i[s])&&++s<o;);return r}),G.insert.call(this,t,e)},N.select=function(t){var e;return"string"==typeof t?(e=[H(t,L)]).parentNode=L.documentElement:(e=[t]).parentNode=s(t),U([e])},N.selectAll=function(t){var e;return"string"==typeof t?(e=h(q(t,L))).parentNode=L.documentElement:(e=h(t)).parentNode=null,U([e])},G.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(ft(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(ft(t,e,n))};var ht=N.map({mouseenter:"mouseover",mouseleave:"mouseout"});function dt(n,r){return function(t){var e=N.event;N.event=t,r[0]=this.__data__;try{n.apply(this,r)}finally{N.event=e}}}function pt(t,e){var n=dt(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}L&&ht.forEach(function(t){"on"+t in L&&ht.remove(t)});var gt,mt=0;function yt(t){var n,r,i=".dragsuppress-"+ ++mt,o="click"+i,a=N.select(R(t)).on("touchmove"+i,D).on("dragstart"+i,D).on("selectstart"+i,D);return null==gt&&(gt=!("onselectstart"in t)&&A(t.style,"userSelect")),gt&&(n=s(t).style,r=n[gt],n[gt]="none"),function(t){var e;a.on(i,null),gt&&(n[gt]=r),t&&(e=function(){a.on(o,null)},a.on(o,function(){D(),e()},!0),setTimeout(e,0))}}N.mouse=function(t){return bt(t,I())};var vt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function bt(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r,i=n.createSVGPoint();return vt<0&&(((r=R(t)).scrollX||r.scrollY)&&(r=(n=N.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM(),vt=!(r.f||r.e),n.remove())),vt?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function xt(){return N.event.changedTouches[0].identifier}N.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=I().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return bt(t,r)},N.behavior.drag=function(){var g=F(n,"drag","dragstart","dragend"),m=null,t=r(E,N.mouse,R,"mousemove","mouseup"),e=r(xt,N.touch,O,"touchmove","touchend");function n(){this.on("mousedown.drag",t).on("touchstart.drag",e)}function r(c,f,h,d,p){return function(){var r,t=N.event.target.correspondingElement||N.event.target,i=this.parentNode,o=g.of(this,arguments),a=0,s=c(),e=".drag"+(null==s?"":"-"+s),n=N.select(h(t)).on(d+e,function(){var t,e,n=f(i,s);if(!n)return;t=n[0]-u[0],e=n[1]-u[1],a|=t|e,o({type:"drag",x:(u=n)[0]+r[0],y:n[1]+r[1],dx:t,dy:e})}).on(p+e,function(){if(!f(i,s))return;n.on(d+e,null).on(p+e,null),l(a),o({type:"dragend"})}),l=yt(t),u=f(i,s);r=m?[(r=m.apply(this,arguments)).x-u[0],r.y-u[1]]:[0,0],o({type:"dragstart"})}}return n.origin=function(t){return arguments.length?(m=t,n):m},N.rebind(n,g,"on")},N.touches=function(n,t){return arguments.length<2&&(t=I().touches),t?h(t).map(function(t){var e=bt(n,t);return e.identifier=t.identifier,e}):[]};var _t=1e-6,wt=_t*_t,kt=Math.PI,Tt=2*kt,Mt=Tt-_t,At=kt/2,St=kt/180,Et=180/kt;function Ct(t){return 0<t?1:t<0?-1:0}function Ot(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function jt(t){return 1<t?0:t<-1?kt:Math.acos(t)}function Pt(t){return 1<t?At:t<-1?-At:Math.asin(t)}function Nt(t){return((t=Math.exp(t))+1/t)/2}function Lt(t){return(t=Math.sin(t/2))*t}var Rt=Math.SQRT2;N.interpolateZoom=function(t,e){var r,i,o,n,a=t[0],s=t[1],l=t[2],u=e[0],t=e[1],e=e[2],c=u-a,f=t-s,u=c*c+f*f;return(n=u<wt?(o=Math.log(e/l)/Rt,function(t){return[a+t*c,s+t*f,l*Math.exp(Rt*t*o)]}):(r=Math.sqrt(u),t=(e*e-l*l+4*u)/(2*l*2*r),n=(e*e-l*l-4*u)/(2*e*2*r),i=Math.log(Math.sqrt(t*t+1)-t),o=(Math.log(Math.sqrt(n*n+1)-n)-i)/Rt,function(t){var e=t*o,n=Nt(i),t=l/(2*r)*(n*(t=Rt*e+i,((t=Math.exp(2*t))-1)/(t+1))-(t=i,((t=Math.exp(t))-1/t)/2));return[a+t*c,s+t*f,l*n/Nt(Rt*e+i)]})).duration=1e3*o,n},N.behavior.zoom=function(){var e,s,n,r,v,i,o,a,l,b={x:0,y:0,k:1},u=[960,500],c=Ft,f=250,h=0,x="mousedown.zoom",d="mousemove.zoom",p="mouseup.zoom",_="touchstart.zoom",w=F(g,"zoomstart","zoom","zoomend");function g(t){t.on(x,O).on(It+".zoom",y).on("dblclick.zoom",P).on(_,j)}function k(t){return[(t[0]-b.x)/b.k,(t[1]-b.y)/b.k]}function T(t){b.k=Math.max(c[0],Math.min(c[1],t))}function M(t,e){var n;e=[(n=e)[0]*b.k+b.x,n[1]*b.k+b.y],b.x+=t[0]-e[0],b.y+=t[1]-e[1]}function A(t,e,n,r){t.__chart__={x:b.x,y:b.y,k:b.k},T(Math.pow(2,r)),M(s=e,n),t=N.select(t),0<f&&(t=t.transition().duration(f)),t.call(g.event)}function m(){o&&o.domain(i.range().map(function(t){return(t-b.x)/b.k}).map(i.invert)),l&&l.domain(a.range().map(function(t){return(t-b.y)/b.k}).map(a.invert))}function S(t){h++||t({type:"zoomstart"})}function E(t){m(),t({type:"zoom",scale:b.k,translate:[b.x,b.y]})}function C(t){--h||(t({type:"zoomend"}),s=null)}function O(){var t=this,e=w.of(t,arguments),n=0,r=N.select(R(t)).on(d,function(){n=1,M(N.mouse(t),i),E(e)}).on(p,function(){r.on(d,null).on(p,null),o(n),C(e)}),i=k(N.mouse(t)),o=yt(t);Ms.call(t),S(e)}function j(){var l,u=this,c=w.of(u,arguments),f={},h=0,i=".zoom-"+N.event.changedTouches[0].identifier,a="touchmove"+i,s="touchend"+i,d=[],o=N.select(u),p=yt(u);function g(){var t=N.touches(u);return l=b.k,t.forEach(function(t){t.identifier in f&&(f[t.identifier]=k(t))}),t}function t(){var t=N.event.target;N.select(t).on(a,m).on(s,y),d.push(t);for(var e=N.event.changedTouches,n=0,r=e.length;n<r;++n)f[e[n].identifier]=null;var i,o=g(),t=Date.now();1===o.length?(t-v<500&&(i=o[0],A(u,i,f[i.identifier],Math.floor(Math.log(b.k)/Math.LN2)+1),D()),v=t):1<o.length&&(i=o[0],t=o[1],o=i[0]-t[0],t=i[1]-t[1],h=o*o+t*t)}function m(){var t,e,n=N.touches(u);Ms.call(u);for(var r,i,o,a=0,s=n.length;a<s;++a,e=null)if(t=n[a],e=f[t.identifier]){if(o)break;i=t,o=e}e&&(r=(r=t[0]-i[0])*r+(r=t[1]-i[1])*r,r=h&&Math.sqrt(r/h),i=[(i[0]+t[0])/2,(i[1]+t[1])/2],o=[(o[0]+e[0])/2,(o[1]+e[1])/2],T(r*l)),v=null,M(i,o),E(c)}function y(){if(N.event.touches.length){for(var t,e=N.event.changedTouches,n=0,r=e.length;n<r;++n)delete f[e[n].identifier];for(t in f)return void g()}N.selectAll(d).on(i,null),o.on(x,O).on(_,j),p(),C(c)}t(),S(c),o.on(x,null).on(_,t)}function y(){var t=w.of(this,arguments);r?clearTimeout(r):(Ms.call(this),e=k(s=n||N.mouse(this)),S(t)),r=setTimeout(function(){r=null,C(t)},50),D(),T(Math.pow(2,.002*Dt())*b.k),M(s,e),E(t)}function P(){var t=N.mouse(this),e=Math.log(b.k)/Math.LN2;A(this,t,k(t),N.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return It=It||("onwheel"in L?(Dt=function(){return-N.event.deltaY*(N.event.deltaMode?120:1)},"wheel"):"onmousewheel"in L?(Dt=function(){return N.event.wheelDelta},"mousewheel"):(Dt=function(){return-N.event.detail},"MozMousePixelScroll")),g.event=function(t){t.each(function(){var a=w.of(this,arguments),e=b;Es?N.select(this).transition().each("start.zoom",function(){b=this.__chart__||{x:0,y:0,k:1},S(a)}).tween("zoom:zoom",function(){var n=u[0],t=u[1],r=s?s[0]:n/2,i=s?s[1]:t/2,o=N.interpolateZoom([(r-b.x)/b.k,(i-b.y)/b.k,n/b.k],[(r-e.x)/e.k,(i-e.y)/e.k,n/e.k]);return function(t){var e=o(t),t=n/e[2];this.__chart__=b={x:r-e[0]*t,y:i-e[1]*t,k:t},E(a)}}).each("interrupt.zoom",function(){C(a)}).each("end.zoom",function(){C(a)}):(this.__chart__=b,S(a),E(a),C(a))})},g.translate=function(t){return arguments.length?(b={x:+t[0],y:+t[1],k:b.k},m(),g):[b.x,b.y]},g.scale=function(t){return arguments.length?(b={x:b.x,y:b.y,k:null},T(+t),m(),g):b.k},g.scaleExtent=function(t){return arguments.length?(c=null==t?Ft:[+t[0],+t[1]],g):c},g.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],g):n},g.size=function(t){return arguments.length?(u=t&&[+t[0],+t[1]],g):u},g.duration=function(t){return arguments.length?(f=+t,g):f},g.x=function(t){return arguments.length?(i=(o=t).copy(),b={x:0,y:0,k:1},g):o},g.y=function(t){return arguments.length?(a=(l=t).copy(),b={x:0,y:0,k:1},g):l},N.rebind(g,w,"on")};var Dt,It,Ft=[0,1/0];function zt(){}function Bt(t,e,n){return this instanceof Bt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Bt?new Bt(t.h,t.s,t.l):ie(""+t,oe,Bt):new Bt(t,e,n)}function Ut(t,e,n){var r,i;function o(t){return Math.round(255*(360<(t=t)?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:1<e?1:e,r=2*(n=n<0?0:1<n?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new te(o(t+120),o(t),o(t-120))}function Ht(t,e,n){return this instanceof Ht?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Ht?new Ht(t.h,t.c,t.l):$t((t instanceof Vt?t:t=ae((t=N.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Ht(t,e,n)}function qt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Vt(n,Math.cos(t*=St)*e,Math.sin(t)*e)}function Vt(t,e,n){return this instanceof Vt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Vt?new Vt(t.l,t.a,t.b):t instanceof Ht?qt(t.h,t.c,t.l):ae((t=te(t)).r,t.g,t.b):new Vt(t,e,n)}(N.color=zt).prototype.toString=function(){return this.rgb()+""},(e=(N.hsl=Bt).prototype=new zt).brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Bt(this.h,this.s,this.l/t)},e.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Bt(this.h,this.s,t*this.l)},e.rgb=function(){return Ut(this.h,this.s,this.l)},(o=(N.hcl=Ht).prototype=new zt).brighter=function(t){return new Ht(this.h,this.c,Math.min(100,this.l+Gt*(arguments.length?t:1)))},o.darker=function(t){return new Ht(this.h,this.c,Math.max(0,this.l-Gt*(arguments.length?t:1)))},o.rgb=function(){return qt(this.h,this.c,this.l).rgb()},N.lab=Vt;var Gt=18,Wt=.95047,Yt=1,Xt=1.08883;function Zt(t,e,n){t=(t+16)/116,e=t+e/500,n=t-n/200;return new te(Jt(3.2404542*(e=Qt(e)*Wt)-1.5371385*(t=Qt(t)*Yt)-.4985314*(n=Qt(n)*Xt)),Jt(-.969266*e+1.8760108*t+.041556*n),Jt(.0556434*e-.2040259*t+1.0572252*n))}function $t(t,e,n){return 0<t?new Ht(Math.atan2(n,e)*Et,Math.sqrt(e*e+n*n),t):new Ht(NaN,NaN,t)}function Qt(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function Kt(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function Jt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function te(t,e,n){return this instanceof te?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof te?new te(t.r,t.g,t.b):ie(""+t,te,Ut):new te(t,e,n)}function ee(t){return new te(t>>16,t>>8&255,255&t)}function ne(t){return ee(t)+""}function re(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function ie(t,e,n){var r,i=0,o=0,a=0,s=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase());if(s)switch(r=s[2].split(","),s[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(le(r[0]),le(r[1]),le(r[2]))}return(s=ue.get(t))?e(s.r,s.g,s.b):(null==t||"#"!==t.charAt(0)||isNaN(s=parseInt(t.slice(1),16))||(4===t.length?(i=(3840&s)>>4,i|=i>>4,o=240&s,o|=o>>4,a=15&s,a|=a<<4):7===t.length&&(i=(16711680&s)>>16,o=(65280&s)>>8,a=255&s)),e(i,o,a))}function oe(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,l=(a+o)/2;return s?(i=l<.5?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=0<l&&l<1?0:r),new Bt(r,i,l)}function ae(t,e,n){var r=Kt((.4124564*(t=se(t))+.3575761*(e=se(e))+.1804375*(n=se(n)))/Wt),i=Kt((.2126729*t+.7151522*e+.072175*n)/Yt);return Vt(116*i-16,500*(r-i),200*(i-Kt((.0193339*t+.119192*e+.9503041*n)/Xt)))}function se(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function le(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}(f=Vt.prototype=new zt).brighter=function(t){return new Vt(Math.min(100,this.l+Gt*(arguments.length?t:1)),this.a,this.b)},f.darker=function(t){return new Vt(Math.max(0,this.l-Gt*(arguments.length?t:1)),this.a,this.b)},f.rgb=function(){return Zt(this.l,this.a,this.b)},(e=(N.rgb=te).prototype=new zt).brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b;return e||n||r?(e&&e<30&&(e=30),n&&n<30&&(n=30),r&&r<30&&(r=30),new te(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new te(30,30,30)},e.darker=function(t){return new te((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},e.hsl=function(){return oe(this.r,this.g,this.b)},e.toString=function(){return"#"+re(this.r)+re(this.g)+re(this.b)};var ue=N.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ce(t){return"function"==typeof t?t:function(){return t}}function fe(r){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=null),he(t,e,r,n)}}function he(i,o,a,t){var n,s={},l=N.dispatch("beforesend","progress","load","error"),u={},c=new XMLHttpRequest,f=null;function e(){var t,e,n,r=c.status;if(!r&&((n=(e=c).responseType)&&"text"!==n?e.response:e.responseText)||200<=r&&r<300||304===r){try{t=a.call(s,c)}catch(t){return void l.error.call(s,t)}l.load.call(s,t)}else l.error.call(s,c)}return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(i)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=e:c.onreadystatechange=function(){3<c.readyState&&e()},c.onprogress=function(t){var e=N.event;N.event=t;try{l.progress.call(s,c)}finally{N.event=e}},s.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==e?delete u[t]:u[t]=e+"",s)},s.mimeType=function(t){return arguments.length?(o=null==t?null:t+"",s):o},s.responseType=function(t){return arguments.length?(f=t,s):f},s.response=function(t){return a=t,s},["get","post"].forEach(function(t){s[t]=function(){return s.send.apply(s,[t].concat(h(arguments)))}}),s.send=function(t,e,n){if(2===arguments.length&&"function"==typeof e&&(n=e,e=null),c.open(t,i,!0),null==o||"accept"in u||(u.accept=o+",*/*"),c.setRequestHeader)for(var r in u)c.setRequestHeader(r,u[r]);return null!=o&&c.overrideMimeType&&c.overrideMimeType(o),null!=f&&(c.responseType=f),null!=n&&s.on("error",n).on("load",function(t){n(null,t)}),l.beforesend.call(s,c),c.send(null==e?null:e),s},s.abort=function(){return c.abort(),s},N.rebind(s,l,"on"),null==t?s:s.get(1===(n=t).length?function(t,e){n(null==t?e:null)}:n)}ue.forEach(function(t,e){ue.set(t,ee(e))}),N.functor=ce,N.xhr=fe(O),N.dsv=function(i,o){var e=new RegExp('["'+i+"\n]"),h=i.charCodeAt(0);function a(t,e,n){arguments.length<3&&(n=e,e=null);var r=he(t,o,null==e?s:l(e),n);return r.row=function(t){return arguments.length?r.response(null==(e=t)?s:l(t)):e},r}function s(t){return a.parse(t.responseText)}function l(e){return function(t){return a.parse(t.responseText,e)}}function n(t){return t.map(u).join(i)}function u(t){return e.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return a.parse=function(t,r){var i;return a.parseRows(t,function(t,e){if(i)return i(t,e-1);var n=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=r?function(t,e){return r(n(t),e)}:n})},a.parseRows=function(i,t){var e,o,a={},s={},n=[],l=i.length,u=0,r=0;function c(){if(l<=u)return s;if(o)return o=!1,a;var t=u;if(34===i.charCodeAt(t)){for(var e=t;e++<l;)if(34===i.charCodeAt(e)){if(34!==i.charCodeAt(e+1))break;++e}return u=e+2,13===(n=i.charCodeAt(e+1))?(o=!0,10===i.charCodeAt(e+2)&&++u):10===n&&(o=!0),i.slice(t+1,e).replace(/""/g,'"')}for(;u<l;){var n,r=1;if(10===(n=i.charCodeAt(u++)))o=!0;else if(13===n)o=!0,10===i.charCodeAt(u)&&(++u,++r);else if(n!==h)continue;return i.slice(t,u-r)}return i.slice(t)}for(;(e=c())!==s;){for(var f=[];e!==a&&e!==s;)f.push(e),e=c();t&&null==(f=t(f,r++))||n.push(f)}return n},a.format=function(t){if(Array.isArray(t[0]))return a.formatRows(t);var n=new M,r=[];return t.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(u).join(i)].concat(t.map(function(e){return r.map(function(t){return u(e[t])}).join(i)})).join("\n")},a.formatRows=function(t){return t.map(n).join("\n")},a},N.csv=N.dsv(",","text/csv"),N.tsv=N.dsv("\t","text/tab-separated-values");var de,pe,ge,me,ye=this[A(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function ve(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());r={c:t,t:n+e,n:null};return pe?pe.n=r:de=r,pe=r,ge||(me=clearTimeout(me),ge=1,ye(be)),r}function be(){var t=xe(),t=_e()-t;24<t?(isFinite(t)&&(clearTimeout(me),me=setTimeout(be,t)),ge=0):(ge=1,ye(be))}function xe(){for(var t=Date.now(),e=de;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function _e(){for(var t,e=de,n=1/0;e;)e=e.c?(e.t<n&&(n=e.t),(t=e).n):t?t.n=e.n:de=e.n;return pe=t,n}function we(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}N.timer=function(){ve.apply(this,arguments)},N.timer.flush=function(){xe(),_e()},N.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ke=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*j(8-e));return{scale:8<e?function(t){return t/n}:function(t){return t*n},symbol:t}});N.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=N.round(t,we(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ke[8+n/3]};var Te=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Me=N.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=N.round(t,we(t,e))).toFixed(Math.max(0,Math.min(20,we(t*(1+1e-15),e))))}});function Ae(t){return t+""}var Se=N.time={},Ee=Date;function Ce(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}Ce.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Oe.setUTCDate.apply(this._,arguments)},setDay:function(){Oe.setUTCDay.apply(this._,arguments)},setFullYear:function(){Oe.setUTCFullYear.apply(this._,arguments)},setHours:function(){Oe.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Oe.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Oe.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Oe.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Oe.setUTCSeconds.apply(this._,arguments)},setTime:function(){Oe.setTime.apply(this._,arguments)}};var Oe=Date.prototype;function je(r,o,a){function t(t){var e=r(t),n=i(e,1);return t-e<n-t?e:n}function s(t){return o(t=r(new Ee(t-1)),1),t}function i(t,e){return o(t=new Ee(+t),e),t}function l(t,e,n){var r=s(t),i=[];if(1<n)for(;r<e;)a(r)%n||i.push(new Date(+r)),o(r,1);else for(;r<e;)i.push(new Date(+r)),o(r,1);return i}(r.floor=r).round=t,r.ceil=s,r.offset=i,r.range=l;var e=r.utc=Pe(r);return(e.floor=e).round=Pe(t),e.ceil=Pe(s),e.offset=Pe(i),e.range=function(t,e,n){try{var r=new(Ee=Ce);return r._=t,l(r,e,n)}finally{Ee=Date}},r}function Pe(r){return function(t,e){try{var n=new(Ee=Ce);return n._=t,r(n,e)._}finally{Ee=Date}}}function Ne(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths;function u(s){var l=s.length;function t(t){for(var e,n,r,i=[],o=-1,a=0;++o<l;)37===s.charCodeAt(o)&&(i.push(s.slice(a,o)),null!=(n=Le[e=s.charAt(++o)])&&(e=s.charAt(++o)),(r=x[e])&&(e=r(t,null==n?"e"===e?" ":"0":n)),i.push(e),a=o+1);return i.push(s.slice(a,o)),i.join("")}return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(e,s,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var n=null!=e.Z&&Ee!==Ce,t=new(n?Ce:Ee);return"j"in e?t.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),t.setFullYear(e.y,0,1),t.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(t.getDay()+5)%7:e.w+7*e.U-(t.getDay()+6)%7)):t.setFullYear(e.y,e.m,e.d),t.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),n?t._:t},t.toString=function(){return s},t}function c(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(l<=r)return-1;if(37===(i=e.charCodeAt(a++))){if(o=e.charAt(a++),!(o=_[o in Le?e.charAt(a++):o])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}u.multi=(u.utc=function(t){var n=u(t);function e(t){try{var e=new(Ee=Ce);return e._=t,n(e)}finally{Ee=Date}}return e.parse=function(t){try{Ee=Ce;var e=n.parse(t);return e&&e._}finally{Ee=Date}},e.toString=n.toString,e}).multi=en;var f=N.map(),h=Fe(o),d=ze(o),p=Fe(a),g=ze(a),m=Fe(s),y=ze(s),v=Fe(l),b=ze(l);i.forEach(function(t,e){f.set(t.toLowerCase(),e)});var x={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:u(e),d:function(t,e){return Ie(t.getDate(),e,2)},e:function(t,e){return Ie(t.getDate(),e,2)},H:function(t,e){return Ie(t.getHours(),e,2)},I:function(t,e){return Ie(t.getHours()%12||12,e,2)},j:function(t,e){return Ie(1+Se.dayOfYear(t),e,3)},L:function(t,e){return Ie(t.getMilliseconds(),e,3)},m:function(t,e){return Ie(t.getMonth()+1,e,2)},M:function(t,e){return Ie(t.getMinutes(),e,2)},p:function(t){return i[+(12<=t.getHours())]},S:function(t,e){return Ie(t.getSeconds(),e,2)},U:function(t,e){return Ie(Se.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ie(Se.mondayOfYear(t),e,2)},x:u(n),X:u(r),y:function(t,e){return Ie(t.getFullYear()%100,e,2)},Y:function(t,e){return Ie(t.getFullYear()%1e4,e,4)},Z:Je,"%":function(){return"%"}},_={a:function(t,e,n){p.lastIndex=0;e=p.exec(e.slice(n));return e?(t.w=g.get(e[0].toLowerCase()),n+e[0].length):-1},A:function(t,e,n){h.lastIndex=0;e=h.exec(e.slice(n));return e?(t.w=d.get(e[0].toLowerCase()),n+e[0].length):-1},b:function(t,e,n){v.lastIndex=0;e=v.exec(e.slice(n));return e?(t.m=b.get(e[0].toLowerCase()),n+e[0].length):-1},B:function(t,e,n){m.lastIndex=0;e=m.exec(e.slice(n));return e?(t.m=y.get(e[0].toLowerCase()),n+e[0].length):-1},c:function(t,e,n){return c(t,x.c.toString(),e,n)},d:Ye,e:Ye,H:Ze,I:Ze,j:Xe,L:Ke,m:We,M:$e,p:function(t,e,n){e=f.get(e.slice(n,n+=2).toLowerCase());return null==e?-1:(t.p=e,n)},S:Qe,U:Ue,w:Be,W:He,x:function(t,e,n){return c(t,x.x.toString(),e,n)},X:function(t,e,n){return c(t,x.X.toString(),e,n)},y:Ve,Y:qe,Z:Ge,"%":tn};return u}Se.year=je(function(t){return(t=Se.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Se.years=Se.year.range,Se.years.utc=Se.year.utc.range,Se.day=je(function(t){var e=new Ee(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Se.days=Se.day.range,Se.days.utc=Se.day.utc.range,Se.dayOfYear=function(t){var e=Se.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=Se[t]=je(function(t){return(t=Se.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var e=Se.year(t).getDay();return Math.floor((Se.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});Se[t+"s"]=e.range,Se[t+"s"].utc=e.utc.range,Se[t+"OfYear"]=function(t){var e=Se.year(t).getDay();return Math.floor((Se.dayOfYear(t)+(e+n)%7)/7)}}),Se.week=Se.sunday,Se.weeks=Se.sunday.range,Se.weeks.utc=Se.sunday.utc.range,Se.weekOfYear=Se.sundayOfYear;var Le={"-":"",_:" ",0:"0"},Re=/^\s*\d+/,De=/^%/;function Ie(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",t=i.length;return r+(t<n?new Array(n-t+1).join(e)+i:i)}function Fe(t){return new RegExp("^(?:"+t.map(N.requote).join("|")+")","i")}function ze(t){for(var e=new v,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Be(t,e,n){Re.lastIndex=0;e=Re.exec(e.slice(n,n+1));return e?(t.w=+e[0],n+e[0].length):-1}function Ue(t,e,n){Re.lastIndex=0;e=Re.exec(e.slice(n));return e?(t.U=+e[0],n+e[0].length):-1}function He(t,e,n){Re.lastIndex=0;e=Re.exec(e.slice(n));return e?(t.W=+e[0],n+e[0].length):-1}function qe(t,e,n){Re.lastIndex=0;e=Re.exec(e.slice(n,n+4));return e?(t.y=+e[0],n+e[0].length):-1}function Ve(t,e,n){Re.lastIndex=0;e=Re.exec(e.slice(n,n+2));return e?(t.y=(t=+e[0])+(68<t?1900:2e3),n+e[0].length):-1}function Ge(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function We(t,e,n){Re.lastIndex=0;e=Re.exec(e.slice(n,n+2));return e?(t.m=e[0]-1,n+e[0].length):-1}function Ye(t,e,n){Re.lastIndex=0;e=Re.exec(e.slice(n,n+2));return e?(t.d=+e[0],n+e[0].length):-1}function Xe(t,e,n){Re.lastIndex=0;e=Re.exec(e.slice(n,n+3));return e?(t.j=+e[0],n+e[0].length):-1}function Ze(t,e,n){Re.lastIndex=0;e=Re.exec(e.slice(n,n+2));return e?(t.H=+e[0],n+e[0].length):-1}function $e(t,e,n){Re.lastIndex=0;e=Re.exec(e.slice(n,n+2));return e?(t.M=+e[0],n+e[0].length):-1}function Qe(t,e,n){Re.lastIndex=0;e=Re.exec(e.slice(n,n+2));return e?(t.S=+e[0],n+e[0].length):-1}function Ke(t,e,n){Re.lastIndex=0;e=Re.exec(e.slice(n,n+3));return e?(t.L=+e[0],n+e[0].length):-1}function Je(t){var e=t.getTimezoneOffset(),n=0<e?"-":"+",t=j(e)/60|0,e=j(e)%60;return n+Ie(t,"0",2)+Ie(e,"0",2)}function tn(t,e,n){De.lastIndex=0;e=De.exec(e.slice(n,n+1));return e?n+e[0].length:-1}function en(r){for(var t=r.length,e=-1;++e<t;)r[e][0]=this(r[e][0]);return function(t){for(var e=0,n=r[e];!n[1](t);)n=r[++e];return n[0](t)}}function nn(){}N.locale=function(t){return{numberFormat:(_=(e=t).decimal,s=e.thousands,l=e.grouping,n=e.currency,w=l&&s?function(t,e){for(var n=t.length,r=[],i=0,o=l[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),r.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=l[i=(i+1)%l.length];return r.reverse().join(s)}:O,function(t){var t=Te.exec(t),s=t[1]||" ",l=t[2]||">",u=t[3]||"-",e=t[4]||"",c=t[5],f=+t[6],h=t[7],d=t[8],p=t[9],g=1,m="",y="",v=!1,b=!0,d=d&&+d.substring(1);switch((c||"0"===s&&"="===l)&&(c=s="0",l="="),p){case"n":h=!0,p="g";break;case"%":g=100,y="%",p="f";break;case"p":g=100,y="%",p="r";break;case"b":case"o":case"x":case"X":"#"===e&&(m="0"+p.toLowerCase());case"c":b=!1;case"d":v=!0,d=0;break;case"s":g=-1,p="r"}"$"===e&&(m=n[0],y=n[1]),"r"!=p||d||(p="g"),null!=d&&("g"==p?d=Math.max(1,Math.min(21,d)):"e"!=p&&"f"!=p||(d=Math.max(0,Math.min(20,d)))),p=Me.get(p)||Ae;var x=c&&h;return function(t){var e=y;if(v&&t%1)return"";var n=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===u?"":u;g<0?(t=(i=N.formatPrefix(t,d)).scale(t),e=i.symbol+y):t*=g;var r,i,o=(t=p(t,d)).lastIndexOf(".");i=o<0?(a=b?t.lastIndexOf("e"):-1)<0?(r=t,""):(r=t.substring(0,a),t.substring(a)):(r=t.substring(0,o),_+t.substring(o+1)),!c&&h&&(r=w(r,1/0));var a=m.length+r.length+i.length+(x?0:n.length),o=a<f?new Array(a=f-a+1).join(s):"";return x&&(r=w(o+r,o.length?f-i.length:1/0)),n+=m,t=r+i,("<"===l?n+t+o:">"===l?o+n+t:"^"===l?o.substring(0,a>>=1)+n+t+o.substring(a):n+(x?t:o+t))+e}}),timeFormat:Ne(t)};var e,_,s,l,n,w},o=N.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),N.format=o.numberFormat,N.geo={},nn.prototype={s:0,t:0,add:function(t){on(t,this.t,rn),on(rn.s,this.s,this),this.s?this.t+=rn.t:this.s=rn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var rn=new nn;function on(t,e,n){var r=n.s=t+e,i=r-t,r=r-i;n.t=t-r+(e-i)}function an(t,e){t&&ln.hasOwnProperty(t.type)&&ln[t.type](t,e)}N.geo.stream=function(t,e){t&&sn.hasOwnProperty(t.type)?sn[t.type](t,e):an(t,e)};var sn={Feature:function(t,e){an(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)an(n[r].geometry,e)}},ln={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){un(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)un(n[r],e,0)},Polygon:function(t,e){cn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)cn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)an(n[r],e)}};function un(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function cn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)un(t[n],e,1);e.polygonEnd()}N.geo.area=function(t){return fn=0,N.geo.stream(t,Dn),fn};var fn,hn,dn,pn,gn,mn,yn,vn,bn,xn,_n,wn,kn,Tn,Mn,An,Sn,En,Cn,On,jn,Pn,Nn,Ln,Rn=new nn,Dn={sphere:function(){fn+=4*kt},point:E,lineStart:E,lineEnd:E,polygonStart:function(){Rn.reset(),Dn.lineStart=In},polygonEnd:function(){var t=2*Rn;fn+=t<0?4*kt+t:t,Dn.lineStart=Dn.lineEnd=Dn.point=E}};function In(){var n,r,s,l,u;function i(t,e){e=e*St/2+kt/4;var n=(t*=St)-s,r=0<=n?1:-1,i=r*n,o=Math.cos(e),a=Math.sin(e),n=u*a,e=l*o+n*Math.cos(i),i=n*r*Math.sin(i);Rn.add(Math.atan2(i,e)),s=t,l=o,u=a}Dn.point=function(t,e){Dn.point=i,s=(n=t)*St,l=Math.cos(e=(r=e)*St/2+kt/4),u=Math.sin(e)},Dn.lineEnd=function(){i(n,r)}}function Fn(t){var e=t[0],n=t[1],t=Math.cos(n);return[t*Math.cos(e),t*Math.sin(e),Math.sin(n)]}function zn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Bn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Un(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Hn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function qn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Vn(t){return[Math.atan2(t[1],t[0]),Pt(t[2])]}function Gn(t,e){return j(t[0]-e[0])<_t&&j(t[1]-e[1])<_t}function Wn(t,e){_n.push(wn=[hn=t,pn=t]),e<dn&&(dn=e),gn<e&&(gn=e)}function Yn(t,e){var n,r,i,o,a,s=Fn([t*St,e*St]);bn?(i=Bn(bn,s),qn(n=Bn([i[1],-i[0],0],i)),n=Vn(n),r=0<(o=t-mn)?1:-1,i=n[0]*Et*r,(o=180<j(o))^(r*mn<i&&i<r*t)?(a=n[1]*Et,gn<a&&(gn=a)):o^(r*mn<(i=(i+360)%360-180)&&i<r*t)?(a=-n[1]*Et)<dn&&(dn=a):(e<dn&&(dn=e),gn<e&&(gn=e)),o?t<mn?Jn(hn,t)>Jn(hn,pn)&&(pn=t):Jn(t,pn)>Jn(hn,pn)&&(hn=t):hn<=pn?(t<hn&&(hn=t),pn<t&&(pn=t)):mn<t?Jn(hn,t)>Jn(hn,pn)&&(pn=t):Jn(t,pn)>Jn(hn,pn)&&(hn=t)):Wn(t,e),bn=s,mn=t}function Xn(){kn.point=Yn}function Zn(){wn[0]=hn,wn[1]=pn,kn.point=Wn,bn=null}function $n(t,e){var n;bn?xn+=180<j(n=t-mn)?n+(0<n?360:-360):n:(yn=t,vn=e),Dn.point(t,e),Yn(t,e)}function Qn(){Dn.lineStart()}function Kn(){$n(yn,vn),Dn.lineEnd(),j(xn)>_t&&(hn=-(pn=180)),wn[0]=hn,wn[1]=pn,bn=null}function Jn(t,e){return(e-=t)<0?e+360:e}function tr(t,e){return t[0]-e[0]}function er(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}N.geo.bounds=(kn={point:Wn,lineStart:Xn,lineEnd:Zn,polygonStart:function(){kn.point=$n,kn.lineStart=Qn,kn.lineEnd=Kn,xn=0,Dn.polygonStart()},polygonEnd:function(){Dn.polygonEnd(),kn.point=Wn,kn.lineStart=Xn,kn.lineEnd=Zn,Rn<0?(hn=-(pn=180),dn=-(gn=90)):_t<xn?gn=90:xn<-_t&&(dn=-90),wn[0]=hn,wn[1]=pn}},function(t){if(gn=pn=-(hn=dn=1/0),_n=[],N.geo.stream(t,kn),i=_n.length){_n.sort(tr);for(var e=1,n=[s=_n[0]];e<i;++e)er((o=_n[e])[0],s)||er(o[1],s)?(Jn(s[0],o[1])>Jn(s[0],s[1])&&(s[1]=o[1]),Jn(o[0],s[1])>Jn(s[0],s[1])&&(s[0]=o[0])):n.push(s=o);for(var r,i,o,a=-1/0,e=0,s=n[i=n.length-1];e<=i;s=o,++e)o=n[e],(r=Jn(s[1],o[0]))>a&&(a=r,hn=o[0],pn=s[1])}return _n=wn=null,hn===1/0||dn===1/0?[[NaN,NaN],[NaN,NaN]]:[[hn,dn],[pn,gn]]}),N.geo.centroid=function(t){Tn=Mn=An=Sn=En=Cn=On=jn=Pn=Nn=Ln=0,N.geo.stream(t,nr);var e=Pn,n=Nn,r=Ln,t=e*e+n*n+r*r;return t<wt&&(e=Cn,n=On,r=jn,Mn<_t&&(e=An,n=Sn,r=En),(t=e*e+n*n+r*r)<wt)?[NaN,NaN]:[Math.atan2(n,e)*Et,Pt(r/Math.sqrt(t))*Et]};var nr={sphere:E,point:rr,lineStart:or,lineEnd:ar,polygonStart:function(){nr.lineStart=sr},polygonEnd:function(){nr.lineStart=or}};function rr(t,e){t*=St;var n=Math.cos(e*=St);ir(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function ir(t,e,n){An+=(t-An)/++Tn,Sn+=(e-Sn)/Tn,En+=(n-En)/Tn}function or(){var i,o,a;function r(t,e){t*=St;var n=Math.cos(e*=St),r=n*Math.cos(t),n=n*Math.sin(t),t=Math.sin(e),e=Math.atan2(Math.sqrt((e=o*t-a*n)*e+(e=a*r-i*t)*e+(e=i*n-o*r)*e),i*r+o*n+a*t);Mn+=e,Cn+=e*(i+(i=r)),On+=e*(o+(o=n)),jn+=e*(a+(a=t)),ir(i,o,a)}nr.point=function(t,e){t*=St;var n=Math.cos(e*=St);i=n*Math.cos(t),o=n*Math.sin(t),a=Math.sin(e),nr.point=r,ir(i,o,a)}}function ar(){nr.point=rr}function sr(){var r,i,u,c,f;function o(t,e){t*=St;var n=Math.cos(e*=St),r=n*Math.cos(t),i=n*Math.sin(t),o=Math.sin(e),a=c*o-f*i,s=f*r-u*o,l=u*i-c*r,n=Math.sqrt(a*a+s*s+l*l),t=u*r+c*i+f*o,e=n&&-jt(t)/n,t=Math.atan2(n,t);Pn+=e*a,Nn+=e*s,Ln+=e*l,Mn+=t,Cn+=t*(u+(u=r)),On+=t*(c+(c=i)),jn+=t*(f+(f=o)),ir(u,c,f)}nr.point=function(t,e){r=t,i=e,nr.point=o,t*=St;var n=Math.cos(e*=St);u=n*Math.cos(t),c=n*Math.sin(t),f=Math.sin(e),ir(u,c,f)},nr.lineEnd=function(){o(r,i),nr.lineEnd=ar,nr.point=rr}}function lr(n,r){function t(t,e){return t=n(t,e),r(t[0],t[1])}return n.invert&&r.invert&&(t.invert=function(t,e){return(t=r.invert(t,e))&&n.invert(t[0],t[1])}),t}function ur(){return!0}function cr(t,e,n,r,s){var l=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Gn(n,r)){s.lineStart();for(var i=0;i<e;++i)s.point((n=t[i])[0],n[1]);s.lineEnd()}else{var o=new hr(n,t,null,!0),a=new hr(n,null,o,!1);o.o=a,l.push(o),u.push(a),o=new hr(r,t,null,!1),a=new hr(r,null,o,!0),o.o=a,l.push(o),u.push(a)}}}),u.sort(e),fr(l),fr(u),l.length){for(var i=0,o=n,a=u.length;i<a;++i)u[i].e=o=!o;for(var c,f,h=l[0];;){for(var d=h,p=!0;d.v;)if((d=d.n)===h)return;c=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(i=0,a=c.length;i<a;++i)s.point((f=c[i])[0],f[1]);else r(d.x,d.n.x,1,s);d=d.n}else{if(p)for(i=(c=d.p.z).length-1;0<=i;--i)s.point((f=c[i])[0],f[1]);else r(d.x,d.p.x,-1,s);d=d.p}}while(c=(d=d.o).z,p=!p,!d.v);s.lineEnd()}}}function fr(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function hr(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function dr(v,b,x,_){return function(r,a){var s,n=b(a),e=r.invert(_[0],_[1]),i={point:o,lineStart:l,lineEnd:u,polygonStart:function(){i.point=g,i.lineStart=m,i.lineEnd=y,s=[],c=[]},polygonEnd:function(){i.point=o,i.lineStart=l,i.lineEnd=u,s=N.merge(s);var t=function(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Rn.reset();for(var s=0,l=e.length;s<l;++s){var u=e[s],c=u.length;if(c)for(var f=u[0],h=f[0],d=f[1]/2+kt/4,p=Math.sin(d),g=Math.cos(d),m=1;;){m===c&&(m=0);var y=(t=u[m])[0],v=t[1]/2+kt/4,b=Math.sin(v),x=Math.cos(v),_=y-h,w=0<=_?1:-1,k=w*_,T=kt<k,v=p*b;if(Rn.add(Math.atan2(v*w*Math.sin(k),g*x+v*Math.cos(k))),o+=T?_+w*Tt:_,T^n<=h^n<=y&&(qn(k=Bn(Fn(f),Fn(t))),qn(w=Bn(i,k)),((w=(T^0<=_?-1:1)*Pt(w[2]))<r||r===w&&(k[0]||k[1]))&&(a+=T^0<=_?1:-1)),!m++)break;h=y,p=b,g=x,f=t}}return(o<-_t||o<_t&&Rn<-_t)^1&a}(e,c);s.length?(p||(a.polygonStart(),p=!0),cr(s,mr,t,x,a)):t&&(p||(a.polygonStart(),p=!0),a.lineStart(),x(null,null,1,a),a.lineEnd()),p&&(a.polygonEnd(),p=!1),s=c=null},sphere:function(){a.polygonStart(),a.lineStart(),x(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function o(t,e){var n=r(t,e);v(t=n[0],e=n[1])&&a.point(t,e)}function t(t,e){e=r(t,e);n.point(e[0],e[1])}function l(){i.point=t,n.lineStart()}function u(){i.point=o,n.lineEnd()}var c,f,h=gr(),d=b(h),p=!1;function g(t,e){f.push([t,e]);e=r(t,e);d.point(e[0],e[1])}function m(){d.lineStart(),f=[]}function y(){g(f[0][0],f[0][1]),d.lineEnd();var t,e=d.clean(),n=h.buffer(),r=n.length;if(f.pop(),c.push(f),f=null,r)if(1&e){var i,o=-1;if(0<(r=(t=n[0]).length-1)){for(p||(a.polygonStart(),p=!0),a.lineStart();++o<r;)a.point((i=t[o])[0],i[1]);a.lineEnd()}}else 1<r&&2&e&&n.push(n.pop().concat(n.shift())),s.push(n.filter(pr))}return i}}function pr(t){return 1<t.length}function gr(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:E,buffer:function(){var t=e;return e=[],n=null,t},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function mr(t,e){return((t=t.x)[0]<0?t[1]-At-_t:At-t[1])-((e=e.x)[0]<0?e[1]-At-_t:At-e[1])}var yr=dr(ur,function(u){var c,f=NaN,h=NaN,d=NaN;return{lineStart:function(){u.lineStart(),c=1},point:function(t,e){var n,r,i,o,a,s=0<t?kt:-kt,l=j(t-f);j(l-kt)<_t?(u.point(f,h=0<(h+e)/2?At:-At),u.point(d,h),u.lineEnd(),u.lineStart(),u.point(s,h),u.point(t,h),c=0):d!==s&&kt<=l&&(j(f-d)<_t&&(f-=d*_t),j(t-s)<_t&&(t-=s*_t),n=f,r=h,i=t,o=e,a=Math.sin(n-i),h=j(a)>_t?Math.atan((Math.sin(r)*(l=Math.cos(o))*Math.sin(i)-Math.sin(o)*(i=Math.cos(r))*Math.sin(n))/(i*l*a)):(r+o)/2,u.point(d,h),u.lineEnd(),u.lineStart(),u.point(s,h),c=0),u.point(f=t,h=e),d=s},lineEnd:function(){u.lineEnd(),f=h=NaN},clean:function(){return 2-c}}},function(t,e,n,r){var i;null==t?(i=n*At,r.point(-kt,i),r.point(0,i),r.point(kt,i),r.point(kt,0),r.point(kt,-i),r.point(0,-i),r.point(-kt,-i),r.point(-kt,0),r.point(-kt,i)):j(t[0]-e[0])>_t?(t=t[0]<e[0]?kt:-kt,i=n*t/2,r.point(-t,i),r.point(0,i),r.point(t,i)):r.point(e[0],e[1])},[-kt,-kt/2]);function vr(i){var d=Math.cos(i),h=0<d,p=j(d)>_t;return dr(g,function(a){var s,l,u,c,f;return{lineStart:function(){c=u=!1,f=1},point:function(t,e){var n,r,i=[t,e],o=g(t,e),e=h?o?0:y(t,e):o?y(t+(t<0?kt:-kt),e):0;!s&&(c=u=o)&&a.lineStart(),o!==u&&(n=m(s,i),(Gn(s,n)||Gn(i,n))&&(i[0]+=_t,i[1]+=_t,o=g(i[0],i[1]))),o!==u?(f=0,o?(a.lineStart(),n=m(i,s),a.point(n[0],n[1])):(n=m(s,i),a.point(n[0],n[1]),a.lineEnd()),s=n):p&&s&&h^o&&(e&l||!(r=m(i,s,!0))||(f=0,h?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1])))),!o||s&&Gn(s,i)||a.point(i[0],i[1]),s=i,u=o,l=e},lineEnd:function(){u&&a.lineEnd(),s=null},clean:function(){return f|(c&&u)<<1}}},ti(i,6*St),h?[0,-i]:[-kt,i-kt]);function g(t,e){return Math.cos(t)*Math.cos(e)>d}function m(t,e,n){var r=[1,0,0],i=Bn(Fn(t),Fn(e)),o=zn(i,i),a=i[0],s=o-a*a;if(!s)return!n&&t;var l=d*o/s,u=-d*a/s,c=Bn(r,i),f=Hn(r,l);Un(f,Hn(i,u));o=c,a=zn(f,o),s=zn(o,o),r=a*a-s*(zn(f,f)-1);if(!(r<0)){l=Math.sqrt(r),i=Hn(o,(-a-l)/s);if(Un(i,f),i=Vn(i),!n)return i;var h,u=t[0],c=e[0],r=t[1],n=e[1];c<u&&(h=u,u=c,c=h);t=c-u,e=j(t-kt)<_t;if(!e&&n<r&&(h=r,r=n,n=h),e||t<_t?e?0<r+n^i[1]<(j(i[0]-u)<_t?r:n):r<=i[1]&&i[1]<=n:kt<t^(u<=i[0]&&i[0]<=c)){s=Hn(o,(-a+l)/s);return Un(s,f),[i,Vn(s)]}}}function y(t,e){var n=h?i:kt-i,r=0;return t<-n?r|=1:n<t&&(r|=2),e<-n?r|=4:n<e&&(r|=8),r}}function br(l,u,c,f){return function(t){var e=t.a,n=t.b,r=e.x,i=e.y,o=0,a=1,s=n.x-r,e=n.y-i,n=l-r;if(s||!(0<n)){if(n/=s,s<0){if(n<o)return;n<a&&(a=n)}else if(0<s){if(a<n)return;o<n&&(o=n)}if(n=c-r,s||!(n<0)){if(n/=s,s<0){if(a<n)return;o<n&&(o=n)}else if(0<s){if(n<o)return;n<a&&(a=n)}if(n=u-i,e||!(0<n)){if(n/=e,e<0){if(n<o)return;n<a&&(a=n)}else if(0<e){if(a<n)return;o<n&&(o=n)}if(n=f-i,e||!(n<0)){if(n/=e,e<0){if(a<n)return;o<n&&(o=n)}else if(0<e){if(n<o)return;n<a&&(a=n)}return 0<o&&(t.a={x:r+o*s,y:i+o*e}),a<1&&(t.b={x:r+a*s,y:i+a*e}),t}}}}}}var xr=1e9;function _r(x,_,w,k){return function(i){var r,c,o,a,s,l,u,f,h,d,p,g=i,t=gr(),m=br(x,_,w,k),e={point:n,lineStart:function(){e.point=b,c&&c.push(o=[]);d=!0,h=!1,u=f=NaN},lineEnd:function(){r&&(b(a,s),l&&h&&t.rejoin(),r.push(t.buffer()));e.point=n,h&&i.lineEnd()},polygonStart:function(){i=t,r=[],c=[],p=!0},polygonEnd:function(){i=g,r=N.merge(r);var t=function(t){for(var e=0,n=c.length,r=t[1],i=0;i<n;++i)for(var o,a=1,s=c[i],l=s.length,u=s[0];a<l;++a)o=s[a],u[1]<=r?o[1]>r&&0<Ot(u,o,t)&&++e:o[1]<=r&&Ot(u,o,t)<0&&--e,u=o;return 0!==e}([x,k]),e=p&&t,n=r.length;(e||n)&&(i.polygonStart(),e&&(i.lineStart(),y(null,null,1,i),i.lineEnd()),n&&cr(r,M,t,y,i),i.polygonEnd()),r=c=o=null}};function y(t,e,n,r){var i=0,o=0;if(null==t||(i=T(t,n))!==(o=T(e,n))||A(t,e)<0^0<n)for(;r.point(0===i||3===i?x:w,1<i?k:_),(i=(i+n+4)%4)!==o;);else r.point(e[0],e[1])}function v(t,e){return x<=t&&t<=w&&_<=e&&e<=k}function n(t,e){v(t,e)&&i.point(t,e)}function b(t,e){var n,r=v(t=Math.max(-xr,Math.min(xr,t)),e=Math.max(-xr,Math.min(xr,e)));c&&o.push([t,e]),d?(a=t,s=e,d=!1,(l=r)&&(i.lineStart(),i.point(t,e))):r&&h?i.point(t,e):m(n={a:{x:u,y:f},b:{x:t,y:e}})?(h||(i.lineStart(),i.point(n.a.x,n.a.y)),i.point(n.b.x,n.b.y),r||i.lineEnd(),p=!1):r&&(i.lineStart(),i.point(t,e),p=!1),u=t,f=e,h=r}return e};function T(t,e){return j(t[0]-x)<_t?0<e?0:3:j(t[0]-w)<_t?0<e?2:1:j(t[1]-_)<_t?0<e?1:0:0<e?3:2}function M(t,e){return A(t.x,e.x)}function A(t,e){var n=T(t,1),r=T(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function wr(t){var e=0,n=kt/3,r=Wr(t),t=r(e,n);return t.parallels=function(t){return arguments.length?r(e=t[0]*kt/180,n=t[1]*kt/180):[e/kt*180,n/kt*180]},t}function kr(t,e){var t=Math.sin(t),n=(t+Math.sin(e))/2,r=1+t*(2*n-t),i=Math.sqrt(r)/n;function o(t,e){e=Math.sqrt(r-2*n*Math.sin(e))/n;return[e*Math.sin(t*=n),i-e*Math.cos(t)]}return o.invert=function(t,e){e=i-e;return[Math.atan2(t,e)/n,Pt((r-(t*t+e*e)*n*n)/(2*n))]},o}N.geo.clipExtent=function(){var e,n,r,i,o,a,s={stream:function(t){return o&&(o.valid=!1),(o=a(t)).valid=!0,o},extent:function(t){return arguments.length?(a=_r(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o&&(o.valid=!1,o=null),s):[[e,n],[r,i]]}};return s.extent([[0,0],[960,500]])},(N.geo.conicEqualArea=function(){return wr(kr)}).raw=kr,N.geo.albers=function(){return N.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},N.geo.albersUsa=function(){var n,i,o,a,s=N.geo.albers(),l=N.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=N.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){n=[t,e]}};function f(t){var e=t[0],t=t[1];return n=null,i(e,t),n||(o(e,t),n)||a(e,t),n}return f.invert=function(t){var e=s.scale(),n=s.translate(),r=(t[0]-n[0])/e,e=(t[1]-n[1])/e;return(.12<=e&&e<.234&&-.425<=r&&r<-.214?l:.166<=e&&e<.234&&-.214<=r&&r<-.115?u:s).invert(t)},f.stream=function(t){var n=s.stream(t),r=l.stream(t),i=u.stream(t);return{point:function(t,e){n.point(t,e),r.point(t,e),i.point(t,e)},sphere:function(){n.sphere(),r.sphere(),i.sphere()},lineStart:function(){n.lineStart(),r.lineStart(),i.lineStart()},lineEnd:function(){n.lineEnd(),r.lineEnd(),i.lineEnd()},polygonStart:function(){n.polygonStart(),r.polygonStart(),i.polygonStart()},polygonEnd:function(){n.polygonEnd(),r.polygonEnd(),i.polygonEnd()}}},f.precision=function(t){return arguments.length?(s.precision(t),l.precision(t),u.precision(t),f):s.precision()},f.scale=function(t){return arguments.length?(s.scale(t),l.scale(.35*t),u.scale(t),f.translate(s.translate())):s.scale()},f.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),n=+t[0],r=+t[1];return i=s.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(c).point,o=l.translate([n-.307*e,r+.201*e]).clipExtent([[n-.425*e+_t,r+.12*e+_t],[n-.214*e-_t,r+.234*e-_t]]).stream(c).point,a=u.translate([n-.205*e,r+.212*e]).clipExtent([[n-.214*e+_t,r+.166*e+_t],[n-.115*e-_t,r+.234*e-_t]]).stream(c).point,f},f.scale(1070)};var Tr,Mr,Ar,Sr,Er,Cr,Or={point:E,lineStart:E,lineEnd:E,polygonStart:function(){Mr=0,Or.lineStart=jr},polygonEnd:function(){Or.lineStart=Or.lineEnd=Or.point=E,Tr+=j(Mr/2)}};function jr(){var n,r,i,o;function a(t,e){Mr+=o*t-i*e,i=t,o=e}Or.point=function(t,e){Or.point=a,n=i=t,r=o=e},Or.lineEnd=function(){a(n,r)}}var Pr={point:function(t,e){t<Ar&&(Ar=t);Er<t&&(Er=t);e<Sr&&(Sr=e);Cr<e&&(Cr=e)},lineStart:E,lineEnd:E,polygonStart:E,polygonEnd:E};function Nr(){var n=Lr(4.5),r=[],i={point:t,lineStart:function(){i.point=e},lineEnd:a,polygonStart:function(){i.lineEnd=s},polygonEnd:function(){i.lineEnd=a,i.point=t},pointRadius:function(t){return n=Lr(t),i},result:function(){if(r.length){var t=r.join("");return r=[],t}}};function t(t,e){r.push("M",t,",",e,n)}function e(t,e){r.push("M",t,",",e),i.point=o}function o(t,e){r.push("L",t,",",e)}function a(){i.point=t}function s(){r.push("Z")}return i}function Lr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var Rr,Dr={point:Ir,lineStart:Fr,lineEnd:zr,polygonStart:function(){Dr.lineStart=Br},polygonEnd:function(){Dr.point=Ir,Dr.lineStart=Fr,Dr.lineEnd=zr}};function Ir(t,e){An+=t,Sn+=e,++En}function Fr(){var i,o;function n(t,e){var n=t-i,r=e-o,r=Math.sqrt(n*n+r*r);Cn+=r*(i+t)/2,On+=r*(o+e)/2,jn+=r,Ir(i=t,o=e)}Dr.point=function(t,e){Dr.point=n,Ir(i=t,o=e)}}function zr(){Dr.point=Ir}function Br(){var n,r,i,o;function a(t,e){var n=t-i,r=e-o,r=Math.sqrt(n*n+r*r);Cn+=r*(i+t)/2,On+=r*(o+e)/2,jn+=r,Pn+=(r=o*t-i*e)*(i+t),Nn+=r*(o+e),Ln+=3*r,Ir(i=t,o=e)}Dr.point=function(t,e){Dr.point=a,Ir(n=i=t,r=o=e)},Dr.lineEnd=function(){a(n,r)}}function Ur(n){var r=4.5,i={point:t,lineStart:function(){i.point=e},lineEnd:a,polygonStart:function(){i.lineEnd=s},polygonEnd:function(){i.lineEnd=a,i.point=t},pointRadius:function(t){return r=t,i},result:E};function t(t,e){n.moveTo(t+r,e),n.arc(t,e,r,0,Tt)}function e(t,e){n.moveTo(t,e),i.point=o}function o(t,e){n.lineTo(t,e)}function a(){i.point=t}function s(){n.closePath()}return i}function Hr(S){var E=.5,C=Math.cos(30*St),_=16;function e(t){return(_?function(r){var n,i,o,a,s,l,u,c,f,h,d,p,g={point:t,lineStart:e,lineEnd:y,polygonStart:function(){r.polygonStart(),g.lineStart=v},polygonEnd:function(){r.polygonEnd(),g.lineStart=e}};function t(t,e){t=S(t,e),r.point(t[0],t[1])}function e(){c=NaN,g.point=m,r.lineStart()}function m(t,e){var n=Fn([t,e]),e=S(t,e);O(c,f,u,h,d,p,c=e[0],f=e[1],u=t,h=n[0],d=n[1],p=n[2],_,r),r.point(c,f)}function y(){g.point=t,r.lineEnd()}function v(){e(),g.point=b,g.lineEnd=x}function b(t,e){m(n=t,e),i=c,o=f,a=h,s=d,l=p,g.point=m}function x(){O(c,f,u,h,d,p,i,o,n,a,s,l,_,r),g.lineEnd=y,y()}return g}:function(n){return Vr(n,function(t,e){t=S(t,e),n.point(t[0],t[1])})})(t)}function O(t,e,n,r,i,o,a,s,l,u,c,f,h,d){var p,g,m,y,v,b,x,_,w,k,T=a-t,M=s-e,A=T*T+M*M;4*E<A&&h--&&(p=r+u,g=i+c,m=o+f,y=Math.sqrt(p*p+g*g+m*m),w=Math.asin(m/=y),v=j(j(m)-1)<_t||j(n-l)<_t?(n+l)/2:Math.atan2(g,p),b=(k=S(v,w))[0],x=k[1],(E<(k=M*(_=b-t)-T*(w=x-e))*k/A||.3<j((T*_+M*w)/A-.5)||r*u+i*c+o*f<C)&&(O(t,e,n,r,i,o,b,x,v,p/=y,g/=y,m,h,d),d.point(b,x),O(b,x,v,p,g,m,a,s,l,u,c,f,h,d)))}return e.precision=function(t){return arguments.length?(_=0<(E=t*t)&&16,e):Math.sqrt(E)},e}function qr(t){this.stream=t}function Vr(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Gr(t){return Wr(function(){return t})()}function Wr(t){var n,e,r,i,o,a,s=Hr(function(t,e){return[(t=n(t,e))[0]*l+i,o-t[1]*l]}),l=150,u=480,c=250,f=0,h=0,d=0,p=0,g=0,m=yr,y=O,v=null,b=null;function x(t){return[(t=r(t[0]*St,t[1]*St))[0]*l+i,o-t[1]*l]}function _(t){return(t=r.invert((t[0]-i)/l,(o-t[1])/l))&&[t[0]*Et,t[1]*Et]}function w(){r=lr(e=$r(d,p,g),n);var t=n(f,h);return i=u-t[0]*l,o=c+t[1]*l,k()}function k(){return a&&(a.valid=!1,a=null),x}return x.stream=function(t){return a&&(a.valid=!1),(a=Yr(m(e,s(y(t))))).valid=!0,a},x.clipAngle=function(t){return arguments.length?(m=null==t?(v=t,yr):vr((v=+t)*St),k()):v},x.clipExtent=function(t){return arguments.length?(y=(b=t)?_r(t[0][0],t[0][1],t[1][0],t[1][1]):O,k()):b},x.scale=function(t){return arguments.length?(l=+t,w()):l},x.translate=function(t){return arguments.length?(u=+t[0],c=+t[1],w()):[u,c]},x.center=function(t){return arguments.length?(f=t[0]%360*St,h=t[1]%360*St,w()):[f*Et,h*Et]},x.rotate=function(t){return arguments.length?(d=t[0]%360*St,p=t[1]%360*St,g=2<t.length?t[2]%360*St:0,w()):[d*Et,p*Et,g*Et]},N.rebind(x,s,"precision"),function(){return n=t.apply(this,arguments),x.invert=n.invert&&_,w()}}function Yr(n){return Vr(n,function(t,e){n.point(t*St,e*St)})}function Xr(t,e){return[t,e]}function Zr(t,e){return[kt<t?t-Tt:t<-kt?t+Tt:t,e]}function $r(t,e,n){return t?e||n?lr(Kr(t),Jr(e,n)):Kr(t):e||n?Jr(e,n):Zr}function Qr(n){return function(t,e){return[kt<(t+=n)?t-Tt:t<-kt?t+Tt:t,e]}}function Kr(t){var e=Qr(t);return e.invert=Qr(-t),e}function Jr(t,e){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(e),s=Math.sin(e);function n(t,e){var n=Math.cos(e),r=Math.cos(t)*n,t=Math.sin(t)*n,n=Math.sin(e),e=n*i+r*o;return[Math.atan2(t*a-e*s,r*i-n*o),Pt(e*a+t*s)]}return n.invert=function(t,e){var n=Math.cos(e),r=Math.cos(t)*n,t=Math.sin(t)*n,n=Math.sin(e),e=n*a-t*s;return[Math.atan2(t*a+n*s,r*i+e*o),Pt(e*i-r*o)]},n}function ti(s,l){var u=Math.cos(s),c=Math.sin(s);return function(t,e,n,r){var i=n*l;null!=t?(t=ei(u,t),e=ei(u,e),(0<n?t<e:e<t)&&(t+=n*Tt)):(t=s+n*Tt,e=s-.5*i);for(var o,a=t;0<n?e<a:a<e;a-=i)r.point((o=Vn([u,-c*Math.cos(a),-c*Math.sin(a)]))[0],o[1])}}function ei(t,e){e=Fn(e);e[0]-=t,qn(e);t=jt(-e[1]);return((-e[2]<0?-t:t)+2*Math.PI-_t)%(2*Math.PI)}function ni(t,e,n){var r=N.range(t,e-_t,n).concat(e);return function(e){return r.map(function(t){return[e,t]})}}function ri(t,e,n){var r=N.range(t,e-_t,n).concat(e);return function(e){return r.map(function(t){return[t,e]})}}function ii(t){return t.source}function oi(t){return t.target}N.geo.path=function(){var r,e,i,n,o,a=4.5;function s(t){return t&&("function"==typeof a&&n.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=i(n)),N.geo.stream(t,o)),n.result()}function l(){return o=null,s}return s.area=function(t){return Tr=0,N.geo.stream(t,i(Or)),Tr},s.centroid=function(t){return An=Sn=En=Cn=On=jn=Pn=Nn=Ln=0,N.geo.stream(t,i(Dr)),Ln?[Pn/Ln,Nn/Ln]:jn?[Cn/jn,On/jn]:En?[An/En,Sn/En]:[NaN,NaN]},s.bounds=function(t){return Er=Cr=-(Ar=Sr=1/0),N.geo.stream(t,i(Pr)),[[Ar,Sr],[Er,Cr]]},s.projection=function(t){return arguments.length?(i=(r=t)?t.stream||(n=t,e=Hr(function(t,e){return n([t*Et,e*Et])}),function(t){return Yr(e(t))}):O,l()):r;var n,e},s.context=function(t){return arguments.length?(n=null==(e=t)?new Nr:new Ur(t),"function"!=typeof a&&n.pointRadius(a),l()):e},s.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(n.pointRadius(+t),+t),s):a},s.projection(N.geo.albersUsa()).context(null)},N.geo.transform=function(r){return{stream:function(t){var e,n=new qr(t);for(e in r)n[e]=r[e];return n}}},qr.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},N.geo.projection=Gr,N.geo.projectionMutator=Wr,(N.geo.equirectangular=function(){return Gr(Xr)}).raw=Xr.invert=Xr,N.geo.rotation=function(e){function t(t){return(t=e(t[0]*St,t[1]*St))[0]*=Et,t[1]*=Et,t}return e=$r(e[0]%360*St,e[1]*St,2<e.length?e[2]*St:0),t.invert=function(t){return(t=e.invert(t[0]*St,t[1]*St))[0]*=Et,t[1]*=Et,t},t},Zr.invert=Xr,N.geo.circle=function(){var e,i,o=[0,0],n=6;function r(){var t="function"==typeof o?o.apply(this,arguments):o,n=$r(-t[0]*St,-t[1]*St,0).invert,r=[];return i(null,null,1,{point:function(t,e){r.push(t=n(t,e)),t[0]*=Et,t[1]*=Et}}),{type:"Polygon",coordinates:[r]}}return r.origin=function(t){return arguments.length?(o=t,r):o},r.angle=function(t){return arguments.length?(i=ti((e=+t)*St,n*St),r):e},r.precision=function(t){return arguments.length?(i=ti(e*St,(n=+t)*St),r):n},r.angle(90)},N.geo.distance=function(t,e){var n=(e[0]-t[0])*St,r=t[1]*St,i=e[1]*St,o=Math.sin(n),t=Math.cos(n),e=Math.sin(r),n=Math.cos(r),r=Math.sin(i),i=Math.cos(i);return Math.atan2(Math.sqrt((o=i*o)*o+(o=n*r-e*i*t)*o),e*r+n*i*t)},N.geo.graticule=function(){var e,n,r,i,o,a,s,l,u,c,f,h,d=10,p=d,g=90,m=360,y=2.5;function v(){return{type:"MultiLineString",coordinates:t()}}function t(){return N.range(Math.ceil(i/g)*g,r,g).map(f).concat(N.range(Math.ceil(l/m)*m,s,m).map(h)).concat(N.range(Math.ceil(n/d)*d,e,d).filter(function(t){return j(t%g)>_t}).map(u)).concat(N.range(Math.ceil(a/p)*p,o,p).filter(function(t){return j(t%m)>_t}).map(c))}return v.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},v.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(h(s).slice(1),f(r).reverse().slice(1),h(l).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.majorExtent(t).minorExtent(t):v.minorExtent()},v.majorExtent=function(t){return arguments.length?(i=+t[0][0],r=+t[1][0],l=+t[0][1],s=+t[1][1],r<i&&(t=i,i=r,r=t),s<l&&(t=l,l=s,s=t),v.precision(y)):[[i,l],[r,s]]},v.minorExtent=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],e<n&&(t=n,n=e,e=t),o<a&&(t=a,a=o,o=t),v.precision(y)):[[n,a],[e,o]]},v.step=function(t){return arguments.length?v.majorStep(t).minorStep(t):v.minorStep()},v.majorStep=function(t){return arguments.length?(g=+t[0],m=+t[1],v):[g,m]},v.minorStep=function(t){return arguments.length?(d=+t[0],p=+t[1],v):[d,p]},v.precision=function(t){return arguments.length?(y=+t,u=ni(a,o,90),c=ri(n,e,y),f=ni(l,s,90),h=ri(i,r,y),v):y},v.majorExtent([[-180,-90+_t],[180,90-_t]]).minorExtent([[-180,-80-_t],[180,80+_t]])},N.geo.greatArc=function(){var e,n,r=ii,i=oi;function o(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}return o.distance=function(){return N.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},o.source=function(t){return arguments.length?(e="function"==typeof(r=t)?null:t,o):r},o.target=function(t){return arguments.length?(n="function"==typeof(i=t)?null:t,o):i},o.precision=function(){return arguments.length?o:0},o},N.geo.interpolate=function(t,e){return n=t[0]*St,r=t[1]*St,i=e[0]*St,o=e[1]*St,t=Math.cos(r),a=Math.sin(r),e=Math.cos(o),s=Math.sin(o),l=t*Math.cos(n),u=t*Math.sin(n),c=e*Math.cos(i),f=e*Math.sin(i),h=2*Math.asin(Math.sqrt(Lt(o-r)+t*e*Lt(i-n))),d=1/Math.sin(h),(i=h?function(t){var e=Math.sin(t*=h)*d,n=Math.sin(h-t)*d,r=n*l+e*c,t=n*u+e*f,e=n*a+e*s;return[Math.atan2(t,r)*Et,Math.atan2(e,Math.sqrt(r*r+t*t))*Et]}:function(){return[n*Et,r*Et]}).distance=h,i;var n,r,i,o,a,s,l,u,c,f,h,d},N.geo.length=function(t){return Rr=0,N.geo.stream(t,ai),Rr};var ai={sphere:E,point:E,lineStart:function(){var o,a,s;function n(t,e){var n=Math.sin(e*=St),r=Math.cos(e),i=j((t*=St)-o),e=Math.cos(i);Rr+=Math.atan2(Math.sqrt((i=r*Math.sin(i))*i+(i=s*n-a*r*e)*i),a*n+s*r*e),o=t,a=n,s=r}ai.point=function(t,e){o=t*St,a=Math.sin(e*=St),s=Math.cos(e),ai.point=n},ai.lineEnd=function(){ai.point=ai.lineEnd=E}},lineEnd:E,polygonStart:E,polygonEnd:E};function si(i,o){function t(t,e){var n=Math.cos(t),r=Math.cos(e),n=i(n*r);return[n*r*Math.sin(t),n*Math.sin(e)]}return t.invert=function(t,e){var n=Math.sqrt(t*t+e*e),r=o(n),i=Math.sin(r),r=Math.cos(r);return[Math.atan2(t*i,n*r),Math.asin(n&&e*i/n)]},t}var li=si(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(N.geo.azimuthalEqualArea=function(){return Gr(li)}).raw=li;var ui=si(function(t){t=Math.acos(t);return t&&t/Math.sin(t)},O);function ci(t,e){function n(t){return Math.tan(kt/4+t/2)}var r=Math.cos(t),i=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(n(e)/n(t)),o=r*Math.pow(n(t),i)/i;return i?(a.invert=function(t,e){var n=o-e,e=Ct(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(o/e,1/i))-At]},a):di;function a(t,e){0<o?e<-At+_t&&(e=-At+_t):At-_t<e&&(e=At-_t);e=o/Math.pow(n(e),i);return[e*Math.sin(i*t),o-e*Math.cos(i*t)]}}function fi(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;return j(r)<_t?Xr:(o.invert=function(t,e){e=i-e;return[Math.atan2(t,e)/r,i-Ct(r)*Math.sqrt(t*t+e*e)]},o);function o(t,e){e=i-e;return[e*Math.sin(r*t),i-e*Math.cos(r*t)]}}(N.geo.azimuthalEquidistant=function(){return Gr(ui)}).raw=ui,(N.geo.conicConformal=function(){return wr(ci)}).raw=ci,(N.geo.conicEquidistant=function(){return wr(fi)}).raw=fi;var hi=si(function(t){return 1/t},Math.atan);function di(t,e){return[t,Math.log(Math.tan(kt/4+e/2))]}function pi(t){var i,o=Gr(t),a=o.scale,s=o.translate,l=o.clipExtent;return o.scale=function(){var t=a.apply(o,arguments);return t===o?i?o.clipExtent(null):o:t},o.translate=function(){var t=s.apply(o,arguments);return t===o?i?o.clipExtent(null):o:t},o.clipExtent=function(t){var e,n,r=l.apply(o,arguments);return r===o?(i=null==t)&&(e=kt*a(),n=s(),l([[n[0]-e,n[1]-e],[n[0]+e,n[1]+e]])):i&&(r=null),r},o.clipExtent(null)}(N.geo.gnomonic=function(){return Gr(hi)}).raw=hi,di.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-At]},(N.geo.mercator=function(){return pi(di)}).raw=di;var gi=si(function(){return 1},Math.asin);(N.geo.orthographic=function(){return Gr(gi)}).raw=gi;var mi=si(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function yi(t,e){return[Math.log(Math.tan(kt/4+e/2)),-t]}function vi(t){return t[0]}function bi(t){return t[1]}function xi(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;1<r&&Ot(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function _i(t,e){return t[0]-e[0]||t[1]-e[1]}(N.geo.stereographic=function(){return Gr(mi)}).raw=mi,yi.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-At]},(N.geo.transverseMercator=function(){var t=pi(yi),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=yi,N.geom={},N.geom.hull=function(t){var h=vi,d=bi;return arguments.length?e(t):(e.x=function(t){return arguments.length?(h=t,e):h},e.y=function(t){return arguments.length?(d=t,e):d},e);function e(t){if(t.length<3)return[];for(var e=ce(h),n=ce(d),r=t.length,i=[],o=[],a=0;a<r;a++)i.push([+e.call(this,t[a],a),+n.call(this,t[a],a),a]);for(i.sort(_i),a=0;a<r;a++)o.push([i[a][0],-i[a][1]]);var s=xi(i),l=xi(o),u=l[0]===s[0],c=l[l.length-1]===s[s.length-1],f=[];for(a=s.length-1;0<=a;--a)f.push(t[i[s[a]][2]]);for(a=+u;a<l.length-c;++a)f.push(t[i[l[a]][2]]);return f}},N.geom.polygon=function(t){return B(t,wi),t};var wi=N.geom.polygon.prototype=[];function ki(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Ti(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,t=t[1],n=n[1],e=e[1]-t,r=r[1]-n,s=(s*(t-n)-r*(i-o))/(r*a-s*e);return[i+s*a,t+s*e]}function Mi(t){var e=t[0],t=t[t.length-1];return!(e[0]-t[0]||e[1]-t[1])}wi.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},wi.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},wi.clip=function(t){for(var e,n,r,i,o,a,s=Mi(t),l=-1,u=this.length-Mi(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,i=this[l],o=e[(r=e.length-s)-1],n=-1;++n<r;)ki(a=e[n],c,i)?(ki(o,c,i)||t.push(Ti(o,a,c,i)),t.push(a)):ki(o,c,i)&&t.push(Ti(o,a,c,i)),o=a;s&&t.push(t[0]),c=i}return t};var Ai,Si,Ei,Ci,Oi,ji=[],Pi=[];function Ni(){$i(this),this.edge=this.site=this.circle=null}function Li(t){var e=ji.pop()||new Ni;return e.site=t,e}function Ri(t){qi(t),Ei.remove(t),ji.push(t),$i(t)}function Di(t){for(var e,n,r,i,o=t.x,a=t.y,s=Ei._;s;)if(r=Ii(s,a)-o,_t<r)s=s.L;else{if(i=o-function(t,e){var n=t.N;if(n)return Ii(n,e);t=t.site;return t.y===e?t.x:1/0}(s,a),!(_t<i)){-_t<r?(e=s.P,n=s):-_t<i?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}var l,u,c,f,h,d,p,g,m,y,v=Li(t);if(Ei.insert(e,v),e||n){if(e===n)return qi(e),n=Li(e.site),Ei.insert(v,n),v.edge=n.edge=Wi(e.site,v.site),Hi(e),void Hi(n);n?(qi(e),qi(n),u=(l=e.site).x,y=l.y,c=t.x-u,p=t.y-y,h=(f=n.site).x-u,y={x:((d=f.y-y)*(g=c*c+p*p)-p*(m=h*h+d*d))/(p=2*(c*d-p*h))+u,y:(c*m-h*g)/p+y},Yi(n.edge,l,f,y),v.edge=Wi(l,t,null,y),n.edge=Wi(t,f,null,y),Hi(e),Hi(n)):v.edge=Wi(e.site,v.site)}}function Ii(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,l=n.y,t=l-e;if(!t)return s;a=s-r,n=1/o-1/t,e=a/t;return n?(-e+Math.sqrt(e*e-2*n*(a*a/(-2*t)-l+t/2+i-o/2)))/n+r:(r+s)/2}function Fi(t){this.site=t,this.edges=[]}function zi(t){for(var e,n,r,i,o,a,s,l,u,c=t[0][0],f=t[1][0],h=t[0][1],d=t[1][1],p=Si,g=p.length;g--;)if((i=p[g])&&i.prepare())for(s=(a=i.edges).length,o=0;o<s;)n=(u=a[o].end()).x,r=u.y,e=(l=a[++o%s].start()).x,l=l.y,(j(n-e)>_t||j(r-l)>_t)&&(a.splice(o,0,new Xi(function(t,e,n){t=new Gi(t,null);return t.a=e,t.b=n,Ai.push(t),t}(i.site,u,j(n-c)<_t&&_t<d-r?{x:c,y:j(e-c)<_t?l:d}:j(r-d)<_t&&_t<f-n?{x:j(l-d)<_t?e:f,y:d}:j(n-f)<_t&&_t<r-h?{x:f,y:j(e-f)<_t?l:h}:j(r-h)<_t&&_t<n-c?{x:j(l-h)<_t?e:c,y:h}:null),i.site,null)),++s)}function Bi(t,e){return e.angle-t.angle}function Ui(){$i(this),this.x=this.y=this.arc=this.site=this.cy=null}function Hi(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,l=r.x-a,u=r.y-s,c=o.x-a,n=2*(l*(e=o.y-s)-u*c);if(!(-wt<=n)){var r=l*l+u*u,o=c*c+e*e,u=(e*r-u*o)/n,n=(l*o-c*r)/n,e=n+s,f=Pi.pop()||new Ui;f.arc=t,f.site=i,f.x=u+a,f.y=e+Math.sqrt(u*u+n*n),f.cy=e,t.circle=f;for(var h=null,d=Oi._;d;)if(f.y<d.y||f.y===d.y&&f.x<=d.x){if(!d.L){h=d.P;break}d=d.L}else{if(!d.R){h=d;break}d=d.R}Oi.insert(h,f),h||(Ci=f)}}}}function qi(t){var e=t.circle;e&&(e.P||(Ci=e.N),Oi.remove(e),Pi.push(e),$i(e),t.circle=null)}function Vi(t){for(var e,n=Ai,r=br(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(function(t,e){var n=t.b;if(n)return!0;var r=t.a,i=e[0][0],o=e[1][0],a=e[0][1],s=e[1][1],l=t.l,u=t.r,c=l.x,f=l.y,h=u.x,e=u.y,l=(c+h)/2,u=(f+e)/2;if(e===f){if(l<i||o<=l)return;if(h<c){if(r){if(r.y>=s)return}else r={x:l,y:a};n={x:l,y:s}}else{if(r){if(r.y<a)return}else r={x:l,y:s};n={x:l,y:a}}}else if(l=u-(u=(c-h)/(e-f))*l,u<-1||1<u)if(h<c){if(r){if(r.y>=s)return}else r={x:(a-l)/u,y:a};n={x:(s-l)/u,y:s}}else{if(r){if(r.y<a)return}else r={x:(s-l)/u,y:s};n={x:(a-l)/u,y:a}}else if(f<e){if(r){if(r.x>=o)return}else r={x:i,y:u*i+l};n={x:o,y:u*o+l}}else{if(r){if(r.x<i)return}else r={x:o,y:u*o+l};n={x:i,y:u*i+l}}return t.a=r,t.b=n,!0})(e=n[i],t)&&r(e)&&!(j(e.a.x-e.b.x)<_t&&j(e.a.y-e.b.y)<_t)||(e.a=e.b=null,n.splice(i,1))}function Gi(t,e){this.l=t,this.r=e,this.a=this.b=null}function Wi(t,e,n,r){var i=new Gi(t,e);return Ai.push(i),n&&Yi(i,t,e,n),r&&Yi(i,e,t,r),Si[t.i].edges.push(new Xi(i,t,e)),Si[e.i].edges.push(new Xi(i,e,t)),i}function Yi(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Xi(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Zi(){this._=null}function $i(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Qi(t,e){var n=e,r=e.R,e=n.U;e?e.L===n?e.L=r:e.R=r:t._=r,r.U=e,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Ki(t,e){var n=e,r=e.L,e=n.U;e?e.L===n?e.L=r:e.R=r:t._=r,r.U=e,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Ji(t){for(;t.L;)t=t.L;return t}function to(t,e){var n,r,i,o=t.sort(eo).pop();for(Ai=[],Si=new Array(t.length),Ei=new Zi,Oi=new Zi;;)if(i=Ci,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(Si[o.i]=new Fi(o),Di(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;!function(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];Ri(t);for(var l=o;l.circle&&j(n-l.circle.x)<_t&&j(r-l.circle.cy)<_t;)o=l.P,s.unshift(l),Ri(l),l=o;s.unshift(l),qi(l);for(var u=a;u.circle&&j(n-u.circle.x)<_t&&j(r-u.circle.cy)<_t;)a=u.N,s.push(u),Ri(u),u=a;s.push(u),qi(u);for(var c=s.length,f=1;f<c;++f)u=s[f],l=s[f-1],Yi(u.edge,l.site,u.site,i);l=s[0],(u=s[c-1]).edge=Wi(l.site,u.site,null,i),Hi(l),Hi(u)}(i.arc)}e&&(Vi(e),zi(e));e={cells:Si,edges:Ai};return Ei=Oi=Ai=Si=null,e}function eo(t,e){return e.y-t.y||e.x-t.x}Fi.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Bi),e.length},Xi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Zi.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else n=this._?(t=Ji(this._),e.P=null,(e.N=t).P=t.L=e,t):(e.P=e.N=null,this._=e,null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Qi(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ki(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Ki(this,n),n=(t=n).U),n.C=!1,r.C=!0,Qi(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r=t.U,i=t.L,o=t.R,a=i?o?Ji(o):i:o;if(r?r.L===t?r.L=a:r.R=a:this._=a,i&&o?(n=a.C,a.C=t.C,((a.L=i).U=a)!==o?(r=a.U,a.U=t.U,t=a.R,r.L=t,(a.R=o).U=a):(a.U=r,t=(r=a).R)):(n=t.C,t=a),t&&(t.U=r),!n)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,Qi(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ki(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Qi(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,Ki(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Qi(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,Ki(this,r),t=this._;break}}while(e.C=!0,r=(t=r).U,!t.C);t&&(t.C=!1)}}},N.geom.voronoi=function(t){var e=vi,n=bi,r=e,i=n,u=no;return t?o(t):(o.links=function(e){return to(c(e)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},o.triangles=function(h){var d=[];return to(c(h)).cells.forEach(function(t,e){for(var n,r,i,o,a=t.site,s=t.edges.sort(Bi),l=-1,u=s.length,c=s[u-1].edge,f=c.l===a?c.r:c.l;++l<u;)n=f,f=(c=s[l].edge).l===a?c.r:c.l,e<n.i&&e<f.i&&(i=n,o=f,((r=a).x-o.x)*(i.y-r.y)-(r.x-i.x)*(o.y-r.y)<0)&&d.push([h[e],h[n.i],h[f.i]])}),d},o.x=function(t){return arguments.length?(r=ce(e=t),o):e},o.y=function(t){return arguments.length?(i=ce(n=t),o):n},o.clipExtent=function(t){return arguments.length?(u=null==t?no:t,o):u===no?null:u},o.size=function(t){return arguments.length?o.clipExtent(t&&[[0,0],t]):u===no?null:u&&u[1]},o);function o(r){var i=new Array(r.length),o=u[0][0],a=u[0][1],s=u[1][0],l=u[1][1];return to(c(r),u).cells.forEach(function(t,e){var n=t.edges,t=t.site;(i[e]=n.length?n.map(function(t){t=t.start();return[t.x,t.y]}):t.x>=o&&t.x<=s&&t.y>=a&&t.y<=l?[[o,l],[s,l],[s,a],[o,a]]:[]).point=r[e]}),i}function c(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/_t)*_t,y:Math.round(i(t,e)/_t)*_t,i:e}})}};var no=[[-1e6,-1e6],[1e6,1e6]];function ro(t){return t.x}function io(t){return t.y}function oo(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function ao(t,e){t=N.rgb(t),e=N.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+re(Math.round(n+o*t))+re(Math.round(r+a*t))+re(Math.round(i+s*t))}}function so(t,e){var n,r={},i={};for(n in t)n in e?r[n]=ho(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function lo(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function uo(t,r){var e,n,i,o=co.lastIndex=fo.lastIndex=0,a=-1,s=[],l=[];for(t+="",r+="";(e=co.exec(t))&&(n=fo.exec(r));)(i=n.index)>o&&(i=r.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(e=e[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,l.push({i:a,x:lo(e,n)})),o=fo.lastIndex;return o<r.length&&(i=r.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?(r=l[0].x,function(t){return r(t)+""}):function(){return r}:(r=l.length,function(t){for(var e,n=0;n<r;++n)s[(e=l[n]).i]=e.x(t);return s.join("")})}N.geom.delaunay=function(t){return N.geom.voronoi().triangles(t)},N.geom.quadtree=function(t,v,b,x,w){var k,T=vi,M=bi;return(k=arguments.length)?(T=ro,M=io,3===k&&(w=b,x=v,b=v=0),e(t)):(e.x=function(t){return arguments.length?(T=t,e):T},e.y=function(t){return arguments.length?(M=t,e):M},e.extent=function(t){return arguments.length?(null==t?v=b=x=w=null:(v=+t[0][0],b=+t[0][1],x=+t[1][0],w=+t[1][1]),e):null==v?null:[[v,b],[x,w]]},e.size=function(t){return arguments.length?(null==t?v=b=x=w=null:(v=b=0,x=+t[0],w=+t[1]),e):null==v?null:[x-v,w-b]},e);function e(t){var e,n,r,i,o,a,s,l,u,c=ce(T),f=ce(M);if(null!=v)a=v,s=b,l=x,u=w;else if(l=u=-(a=s=1/0),n=[],r=[],o=t.length,k)for(i=0;i<o;++i)(e=t[i]).x<a&&(a=e.x),e.y<s&&(s=e.y),e.x>l&&(l=e.x),e.y>u&&(u=e.y),n.push(e.x),r.push(e.y);else for(i=0;i<o;++i){var h=+c(e=t[i],i),d=+f(e,i);h<a&&(a=h),d<s&&(s=d),l<h&&(l=h),u<d&&(u=d),n.push(h),r.push(d)}var p=l-a,g=u-s;function m(t,e,n,r,i,o,a,s){var l,u,c;isNaN(n)||isNaN(r)||(t.leaf?(l=t.x,u=t.y,null!=l?(j(l-n)+j(u-r)<.01||(c=t.point,t.x=t.y=t.point=null,y(t,c,l,u,i,o,a,s)),y(t,e,n,r,i,o,a,s)):(t.x=n,t.y=r,t.point=e)):y(t,e,n,r,i,o,a,s))}function y(t,e,n,r,i,o,a,s){var l=.5*(i+a),u=.5*(o+s),c=l<=n,f=u<=r,h=f<<1|c;t.leaf=!1,c?i=l:a=l,f?o=u:s=u,m(t=t.nodes[h]||(t.nodes[h]=oo()),e,n,r,i,o,a,s)}g<p?u=s+p:l=a+g;var _=oo();if(_.add=function(t){m(_,t,+c(t,++i),+f(t,i),a,s,l,u)},_.visit=function(t){!function t(e,n,r,i,o,a){{var s,l;e(n,r,i,o,a)||(s=.5*(r+o),l=.5*(i+a),(n=n.nodes)[0]&&t(e,n[0],r,i,s,l),n[1]&&t(e,n[1],s,i,o,l),n[2]&&t(e,n[2],r,l,s,a),n[3]&&t(e,n[3],s,l,o,a))}}(t,_,a,s,l,u)},_.find=function(t){return e=_,d=t[0],p=t[1],x=1/0,function t(e,n,r,i,o){if(!(y<n||v<r||i<g||o<m)){var a,s;!(a=e.point)||(s=(s=d-e.x)*s+(s=p-e.y)*s)<x&&(s=Math.sqrt(x=s),g=d-s,m=p-s,y=d+s,v=p+s,b=a);for(var l=e.nodes,u=.5*(n+i),c=.5*(r+o),f=(c<=p)<<1|u<=d,h=f+4;f<h;++f)if(e=l[3&f])switch(3&f){case 0:t(e,n,r,u,c);break;case 1:t(e,u,r,i,c);break;case 2:t(e,n,c,u,o);break;case 3:t(e,u,c,i,o)}}}(e,g=a,m=s,y=l,v=u),b;var e,d,p,g,m,y,v,b,x},i=-1,null==v){for(;++i<o;)m(_,t[i],n[i],r[i],a,s,l,u);--i}else t.forEach(_.add);return n=r=t=e=null,_}},N.interpolateRgb=ao,N.interpolateObject=so,N.interpolateNumber=lo,N.interpolateString=uo;var co=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fo=new RegExp(co.source,"g");function ho(t,e){for(var n,r=N.interpolators.length;0<=--r&&!(n=N.interpolators[r](t,e)););return n}function po(t,e){for(var n=[],r=[],i=t.length,o=e.length,a=Math.min(t.length,e.length),s=0;s<a;++s)n.push(ho(t[s],e[s]));for(;s<i;++s)r[s]=t[s];for(;s<o;++s)r[s]=e[s];return function(t){for(s=0;s<a;++s)r[s]=n[s](t);return r}}function go(){return O}N.interpolate=ho,N.interpolators=[function(t,e){var n=typeof e;return("string"==n?ue.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?ao:uo:e instanceof zt?ao:Array.isArray(e)?po:"object"==n&&isNaN(e)?so:lo)(t,e)}],N.interpolateArray=po;var mo=N.map({linear:go,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return xo},cubic:function(){return _o},sin:function(){return ko},exp:function(){return To},circle:function(){return Mo},elastic:function(e,n){var r;arguments.length<2&&(n=.45);r=arguments.length?n/Tt*Math.asin(1/e):(e=1,n/4);return function(t){return 1+e*Math.pow(2,-10*t)*Math.sin((t-r)*Tt/n)}},back:function(e){e=e||1.70158;return function(t){return t*t*((e+1)*t-e)}},bounce:function(){return Ao}}),yo=N.map({in:O,out:vo,"in-out":bo,"out-in":function(t){return bo(vo(t))}});function vo(e){return function(t){return 1-e(1-t)}}function bo(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function xo(t){return t*t}function _o(t){return t*t*t}function wo(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function ko(t){return 1-Math.cos(t*At)}function To(t){return Math.pow(2,10*(t-1))}function Mo(t){return 1-Math.sqrt(1-t*t)}function Ao(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function So(e,n){return n-=e,function(t){return Math.round(e+n*t)}}function Eo(t){var e,n,r,i=[t.a,t.b],o=[t.c,t.d],a=Oo(i),s=Co(i,o),e=Oo(((e=o)[0]+=(r=-s)*(n=i)[0],e[1]+=r*n[1],e))||0;i[0]*o[1]<o[0]*i[1]&&(i[0]*=-1,i[1]*=-1,a*=-1,s*=-1),this.rotate=(a?Math.atan2(i[1],i[0]):Math.atan2(-o[0],o[1]))*Et,this.translate=[t.e,t.f],this.scale=[a,e],this.skew=e?Math.atan2(s,e)*Et:0}function Co(t,e){return t[0]*e[0]+t[1]*e[1]}function Oo(t){var e=Math.sqrt(Co(t,t));return e&&(t[0]/=e,t[1]/=e),e}N.ease=function(t){var e,n=t.indexOf("-"),r=0<=n?t.slice(0,n):t,n=0<=n?t.slice(n+1):"in",r=mo.get(r)||go,n=yo.get(n)||O;return e=n(r.apply(null,i.call(arguments,1))),function(t){return t<=0?0:1<=t?1:e(t)}},N.interpolateHcl=function(t,e){t=N.hcl(t),e=N.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;isNaN(a)&&(a=0,r=isNaN(r)?e.c:r);isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360);return function(t){return qt(n+o*t,r+a*t,i+s*t)+""}},N.interpolateHsl=function(t,e){t=N.hsl(t),e=N.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;isNaN(a)&&(a=0,r=isNaN(r)?e.s:r);isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360);return function(t){return Ut(n+o*t,r+a*t,i+s*t)+""}},N.interpolateLab=function(t,e){t=N.lab(t),e=N.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return Zt(n+o*t,r+a*t,i+s*t)+""}},N.interpolateRound=So,N.transform=function(t){var n=L.createElementNS(N.ns.prefix.svg,"g");return(N.transform=function(t){var e;return null!=t&&(n.setAttribute("transform",t),e=n.transform.baseVal.consolidate()),new Eo(e?e.matrix:jo)})(t)},Eo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var jo={a:1,b:0,c:0,d:1,e:0,f:0};function Po(t){return t.length?t.pop()+",":""}function No(t,e){var n,r,i,o,a,s=[],l=[];return t=N.transform(t),e=N.transform(e),r=t.translate,i=e.translate,a=s,o=l,r[0]!==i[0]||r[1]!==i[1]?(n=a.push("translate(",null,",",null,")"),o.push({i:n-4,x:lo(r[0],i[0])},{i:n-2,x:lo(r[1],i[1])})):(i[0]||i[1])&&a.push("translate("+i+")"),o=t.rotate,n=e.rotate,r=s,a=l,o!==n?(180<o-n?n+=360:180<n-o&&(o+=360),a.push({i:r.push(Po(r)+"rotate(",null,")")-2,x:lo(o,n)})):n&&r.push(Po(r)+"rotate("+n+")"),i=t.skew,a=e.skew,o=s,r=l,i!==a?r.push({i:o.push(Po(o)+"skewX(",null,")")-2,x:lo(i,a)}):a&&o.push(Po(o)+"skewX("+a+")"),n=t.scale,r=e.scale,i=s,o=l,n[0]!==r[0]||n[1]!==r[1]?(a=i.push(Po(i)+"scale(",null,",",null,")"),o.push({i:a-4,x:lo(n[0],r[0])},{i:a-2,x:lo(n[1],r[1])})):1===r[0]&&1===r[1]||i.push(Po(i)+"scale("+r+")"),t=e=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}function Lo(e,n){return n=(n-=e=+e)||1/n,function(t){return(t-e)/n}}function Ro(e,n){return n=(n-=e=+e)||1/n,function(t){return Math.max(0,Math.min(1,(t-e)/n))}}function Do(t){for(var e=[],n=t.parent;null!=n;)e.push(t),n=(t=n).parent;return e.push(t),e}function Io(t){t.fixed|=2}function Fo(t){t.fixed&=-7}function zo(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Bo(t){t.fixed&=-5}N.interpolateTransform=No,N.layout={},N.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(function(t){var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;var n=Do(t),r=Do(e),i=n.pop(),o=r.pop(),a=null;for(;i===o;)a=i,i=n.pop(),o=r.pop();return a}(e,n),i=[e];for(;e!==r;)e=e.parent,i.push(e);var o=i.length;for(;n!==r;)i.splice(o,0,n),n=n.parent;return i}(t[n]));return e}},N.layout.chord=function(){var m,y,v,b,x,_,w,e={},k=0;function t(){var t,e,n,r,i,o={},a=[],s=N.range(b),l=[];for(m=[],y=[],t=0,r=-1;++r<b;){for(e=0,i=-1;++i<b;)e+=v[r][i];a.push(e),l.push(N.range(b)),t+=e}for(x&&s.sort(function(t,e){return x(a[t],a[e])}),_&&l.forEach(function(t,n){t.sort(function(t,e){return _(v[n][t],v[n][e])})}),t=(Tt-k*b)/t,e=0,r=-1;++r<b;){for(n=e,i=-1;++i<b;){var u=s[r],c=l[u][i],f=v[u][c],h=e,d=e+=f*t;o[u+"-"+c]={index:u,subindex:c,startAngle:h,endAngle:d,value:f}}y[u]={index:u,startAngle:n,endAngle:e,value:a[u]},e+=k}for(r=-1;++r<b;)for(i=r-1;++i<b;){var p=o[r+"-"+i],g=o[i+"-"+r];(p.value||g.value)&&m.push(p.value<g.value?{source:g,target:p}:{source:p,target:g})}w&&T()}function T(){m.sort(function(t,e){return w((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return e.matrix=function(t){return arguments.length?(b=(v=t)&&v.length,m=y=null,e):v},e.padding=function(t){return arguments.length?(k=t,m=y=null,e):k},e.sortGroups=function(t){return arguments.length?(x=t,m=y=null,e):x},e.sortSubgroups=function(t){return arguments.length?(_=t,m=null,e):_},e.sortChords=function(t){return arguments.length?(w=t,m&&T(),e):w},e.chords=function(){return m||t(),m},e.groups=function(){return y||t(),y},e},N.layout.force=function(){var f,t,h,d,p,g,i={},m=N.dispatch("start","tick","end"),y=[1,1],v=.9,o=Uo,a=Ho,b=-30,x=qo,_=.1,w=.64,k=[],T=[];function e(t){t.px=N.event.x,t.py=N.event.y,i.resume()}return i.tick=function(){if((h*=.99)<.005)return f=null,m.end({type:"end",alpha:h=0}),!0;for(var t,e,n,r,i,o,a,s,l=k.length,u=T.length,c=0;c<u;++c)n=(e=T[c]).source,(i=(a=(r=e.target).x-n.x)*a+(s=r.y-n.y)*s)&&(a*=i=h*p[c]*((i=Math.sqrt(i))-d[c])/i,s*=i,r.x-=a*(o=n.weight+r.weight?n.weight/(n.weight+r.weight):.5),r.y-=s*o,n.x+=a*(o=1-o),n.y+=s*o);if((o=h*_)&&(a=y[0]/2,s=y[1]/2,c=-1,o))for(;++c<l;)(e=k[c]).x+=(a-e.x)*o,e.y+=(s-e.y)*o;if(b)for(!function t(e,n,r){var i=0,o=0;e.charge=0;if(!e.leaf)for(var a,s=e.nodes,l=s.length,u=-1;++u<l;)null!=(a=s[u])&&(t(a,n,r),e.charge+=a.charge,i+=a.charge*a.cx,o+=a.charge*a.cy);{var c;e.point&&(e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5),c=n*r[e.point.index],e.charge+=e.pointCharge=c,i+=c*e.point.x,o+=c*e.point.y)}e.cx=i/e.charge;e.cy=o/e.charge}(t=N.geom.quadtree(k),h,g),c=-1;++c<l;)(e=k[c]).fixed||t.visit(function(s){return function(t,e,n,r){if(t.point!==s){var i,o=t.cx-s.x,a=t.cy-s.y,r=r-e,e=o*o+a*a;if(r*r/w<e)return e<x&&(i=t.charge/e,s.px-=o*i,s.py-=a*i),!0;t.point&&e&&e<x&&(i=t.pointCharge/e,s.px-=o*i,s.py-=a*i)}return!t.charge}}(e));for(c=-1;++c<l;)(e=k[c]).fixed?(e.x=e.px,e.y=e.py):(e.x-=(e.px-(e.px=e.x))*v,e.y-=(e.py-(e.py=e.y))*v);m.tick({type:"tick",alpha:h})},i.nodes=function(t){return arguments.length?(k=t,i):k},i.links=function(t){return arguments.length?(T=t,i):T},i.size=function(t){return arguments.length?(y=t,i):y},i.linkDistance=function(t){return arguments.length?(o="function"==typeof t?t:+t,i):o},i.distance=i.linkDistance,i.linkStrength=function(t){return arguments.length?(a="function"==typeof t?t:+t,i):a},i.friction=function(t){return arguments.length?(v=+t,i):v},i.charge=function(t){return arguments.length?(b="function"==typeof t?t:+t,i):b},i.chargeDistance=function(t){return arguments.length?(x=t*t,i):Math.sqrt(x)},i.gravity=function(t){return arguments.length?(_=+t,i):_},i.theta=function(t){return arguments.length?(w=t*t,i):Math.sqrt(w)},i.alpha=function(t){return arguments.length?(t=+t,h?0<t?h=t:(f.c=null,f.t=NaN,f=null,m.end({type:"end",alpha:h=0})):0<t&&(m.start({type:"start",alpha:h=t}),f=ve(i.tick)),i):h},i.start=function(){for(var s,t,l=k.length,u=T.length,e=y[0],n=y[1],c=0;c<l;++c)(t=k[c]).index=c,t.weight=0;for(c=0;c<u;++c)"number"==typeof(t=T[c]).source&&(t.source=k[t.source]),"number"==typeof t.target&&(t.target=k[t.target]),++t.source.weight,++t.target.weight;for(c=0;c<l;++c)t=k[c],isNaN(t.x)&&(t.x=r("x",e)),isNaN(t.y)&&(t.y=r("y",n)),isNaN(t.px)&&(t.px=t.x),isNaN(t.py)&&(t.py=t.y);if(d=[],"function"==typeof o)for(c=0;c<u;++c)d[c]=+o.call(this,T[c],c);else for(c=0;c<u;++c)d[c]=o;if(p=[],"function"==typeof a)for(c=0;c<u;++c)p[c]=+a.call(this,T[c],c);else for(c=0;c<u;++c)p[c]=a;if(g=[],"function"==typeof b)for(c=0;c<l;++c)g[c]=+b.call(this,k[c],c);else for(c=0;c<l;++c)g[c]=b;function r(t,e){if(!s){for(s=new Array(l),o=0;o<l;++o)s[o]=[];for(o=0;o<u;++o){var n=T[o];s[n.source.index].push(n.target),s[n.target.index].push(n.source)}}for(var r,i=s[c],o=-1,a=i.length;++o<a;)if(!isNaN(r=i[o][t]))return r;return Math.random()*e}return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){if(t=t||N.behavior.drag().origin(O).on("dragstart.force",Io).on("drag.force",e).on("dragend.force",Fo),!arguments.length)return t;this.on("mouseover.force",zo).on("mouseout.force",Bo).call(t)},N.rebind(i,m,"on")};var Uo=20,Ho=1,qo=1/0;function Vo(t,e){return N.rebind(t,e,"sort","children","value"),(t.nodes=t).links=$o,t}function Go(t,e){for(var n,r,i=[t];null!=(t=i.pop());)if(e(t),(r=t.children)&&(n=r.length))for(;0<=--n;)i.push(r[n])}function Wo(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function Yo(t){return t.children}function Xo(t){return t.value}function Zo(t,e){return e.value-t.value}function $o(t){return N.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}N.layout.hierarchy=function(){var s=Zo,l=Yo,u=Xo;function c(t){var e,n,r,i,o=[t],a=[];for(t.depth=0;null!=(e=o.pop());)if(a.push(e),(r=l.call(c,e,e.depth))&&(n=r.length)){for(;0<=--n;)o.push(i=r[n]),i.parent=e,i.depth=e.depth+1;u&&(e.value=0),e.children=r}else u&&(e.value=+u.call(c,e,e.depth)||0),delete e.children;return Wo(t,function(t){var e,n;s&&(e=t.children)&&e.sort(s),u&&(n=t.parent)&&(n.value+=t.value)}),a}return c.sort=function(t){return arguments.length?(s=t,c):s},c.children=function(t){return arguments.length?(l=t,c):l},c.value=function(t){return arguments.length?(u=t,c):u},c.revalue=function(t){return u&&(Go(t,function(t){t.children&&(t.value=0)}),Wo(t,function(t){var e;t.children||(t.value=+u.call(c,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},c},N.layout.partition=function(){var n=N.layout.hierarchy(),r=[1,1];function e(t,e){e=n.call(this,t,e);return function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,l=-1;for(r=e.value?r/e.value:0;++l<a;)t(s=o[l],n,s=s.value*r,i),n+=s}}(e[0],0,r[0],r[1]/function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}(e[0])),e}return e.size=function(t){return arguments.length?(r=t,e):r},Vo(e,n)},N.layout.pie=function(){var f=Number,h=Qo,d=0,p=Tt,g=0;function m(n){var e,t=n.length,r=n.map(function(t,e){return+f.call(m,t,e)}),i=+("function"==typeof d?d.apply(this,arguments):d),o=("function"==typeof p?p.apply(this,arguments):p)-i,a=Math.min(Math.abs(o)/t,+("function"==typeof g?g.apply(this,arguments):g)),s=a*(o<0?-1:1),l=N.sum(r),u=l?(o-t*s)/l:0,t=N.range(t),c=[];return null!=h&&t.sort(h===Qo?function(t,e){return r[e]-r[t]}:function(t,e){return h(n[t],n[e])}),t.forEach(function(t){c[t]={data:n[t],value:e=r[t],startAngle:i,endAngle:i+=e*u+s,padAngle:a}}),c}return m.value=function(t){return arguments.length?(f=t,m):f},m.sort=function(t){return arguments.length?(h=t,m):h},m.startAngle=function(t){return arguments.length?(d=t,m):d},m.endAngle=function(t){return arguments.length?(p=t,m):p},m.padAngle=function(t){return arguments.length?(g=t,m):g},m};var Qo={};function Ko(t){return t.x}function Jo(t){return t.y}function ta(t,e,n){t.y0=e,t.y=n}N.layout.stack=function(){var f=O,h=ra,d=ia,p=ta,g=Ko,m=Jo;function y(t,e){if(!(n=t.length))return t;for(var n,r,i,o=(s=t.map(function(t,e){return f.call(y,t,e)})).map(function(t){return t.map(function(t,e){return[g.call(y,t,e),m.call(y,t,e)]})}),a=h.call(y,o,e),s=N.permute(s,a),o=N.permute(o,a),l=d.call(y,o,e),u=s[0].length,c=0;c<u;++c)for(p.call(y,s[0][c],i=l[c],o[0][c][1]),r=1;r<n;++r)p.call(y,s[r][c],i+=o[r-1][c][1],o[r][c][1]);return t}return y.values=function(t){return arguments.length?(f=t,y):f},y.order=function(t){return arguments.length?(h="function"==typeof t?t:ea.get(t)||ra,y):h},y.offset=function(t){return arguments.length?(d="function"==typeof t?t:na.get(t)||ia,y):d},y.x=function(t){return arguments.length?(g=t,y):g},y.y=function(t){return arguments.length?(m=t,y):m},y.out=function(t){return arguments.length?(p=t,y):p},y};var ea=N.map({"inside-out":function(t){for(var e,n=t.length,r=t.map(oa),i=t.map(aa),o=N.range(n).sort(function(t,e){return r[t]-r[e]}),a=0,s=0,l=[],u=[],c=0;c<n;++c)e=o[c],a<s?(a+=i[e],l.push(e)):(s+=i[e],u.push(e));return u.reverse().concat(l)},reverse:function(t){return N.range(t.length).reverse()},default:ra}),na=N.map({silhouette:function(t){for(var e,n,r=t.length,i=t[0].length,o=[],a=0,s=[],l=0;l<i;++l){for(n=e=0;e<r;e++)n+=t[e][l][1];a<n&&(a=n),o.push(n)}for(l=0;l<i;++l)s[l]=(a-o[l])/2;return s},wiggle:function(t){var e,n,r,i,o,a,s,l,u,c=t.length,f=t[0],h=f.length,d=[];for(d[0]=l=u=0,n=1;n<h;++n){for(i=e=0;e<c;++e)i+=t[e][n][1];for(o=e=0,s=f[n][0]-f[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}d[n]=l-=i?o/i*s:0,l<u&&(u=l)}for(n=0;n<h;++n)d[n]-=u;return d},expand:function(t){for(var e,n,r=t.length,i=t[0].length,o=1/r,a=[],s=0;s<i;++s){for(n=e=0;e<r;e++)n+=t[e][s][1];if(n)for(e=0;e<r;e++)t[e][s][1]/=n;else for(e=0;e<r;e++)t[e][s][1]=o}for(s=0;s<i;++s)a[s]=0;return a},zero:ia});function ra(t){return N.range(t.length)}function ia(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function oa(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function aa(t){return t.reduce(sa,0)}function sa(t,e){return t+e[1]}function la(t,e){return ua(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function ua(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function ca(t){return[N.min(t),N.max(t)]}function fa(t,e){return t.value-e.value}function ha(t,e){var n=t._pack_next;(t._pack_next=e)._pack_prev=t,(e._pack_next=n)._pack_prev=e}function da(t,e){(t._pack_next=e)._pack_prev=t}function pa(t,e){var n=e.x-t.x,r=e.y-t.y,e=t.r+e.r;return n*n+r*r<.999*e*e}function ga(t){if((e=t.children)&&(a=e.length)){var e,n,r,i,o,a,s=1/0,l=-1/0,u=1/0,c=-1/0;if(e.forEach(ma),n=e[0],n.x=-n.r,n.y=0,b(n),1<a&&((r=e[1]).x=r.r,r.y=0,b(r),2<a))for(va(n,r,i=e[2]),b(i),ha(n,i),ha(n._pack_prev=i,r),r=n._pack_next,v=3;v<a;v++){va(n,r,i=e[v]);for(var f=0,h=1,d=1,p=r._pack_next;p!==r;p=p._pack_next,h++)if(pa(p,i)){f=1;break}if(1==f)for(o=n._pack_prev;o!==p._pack_prev&&!pa(o,i);o=o._pack_prev,d++);f?(h<d||h==d&&r.r<n.r?da(n,r=p):da(n=o,r),v--):(ha(n,i),b(r=i))}for(var g=(s+l)/2,m=(u+c)/2,y=0,v=0;v<a;v++)(i=e[v]).x-=g,i.y-=m,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=y,e.forEach(ya)}function b(t){s=Math.min(t.x-t.r,s),l=Math.max(t.x+t.r,l),u=Math.min(t.y-t.r,u),c=Math.max(t.y+t.r,c)}}function ma(t){t._pack_next=t._pack_prev=t}function ya(t){delete t._pack_next,delete t._pack_prev}function va(t,e,n){var r,i,o=t.r+n.r,a=e.x-t.x,s=e.y-t.y;o&&(a||s)?(r=e.r+n.r,e=.5+((o*=o)-(r*=r))/(2*(i=a*a+s*s)),i=Math.sqrt(Math.max(0,2*r*(o+i)-(o-=i)*o-r*r))/(2*i),n.x=t.x+e*a+i*s,n.y=t.y+e*s-i*a):(n.x=t.x+o,n.y=t.y)}function ba(t,e){return t.parent==e.parent?1:2}function xa(t){var e=t.children;return e.length?e[0]:t.t}function _a(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function wa(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function ka(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],e=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),e<0&&(r+=e/2,e=0),{x:n,y:r,dx:i,dy:e}}function Ta(t){var e=t[0],t=t[t.length-1];return e<t?[e,t]:[t,e]}function Ma(t){return t.rangeExtent?t.rangeExtent():Ta(t.range())}function Aa(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Sa(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Ea(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:Ca}N.layout.histogram=function(){var f=!0,h=Number,d=ca,p=la;function n(t,e){for(var n,r,i=[],o=t.map(h,this),a=d.call(this,o,e),s=p.call(this,a,o,e),e=-1,l=o.length,u=s.length-1,c=f?1:1/l;++e<u;)(n=i[e]=[]).dx=s[e+1]-(n.x=s[e]),n.y=0;if(0<u)for(e=-1;++e<l;)(r=o[e])>=a[0]&&r<=a[1]&&((n=i[N.bisect(s,r,1,u)-1]).y+=c,n.push(t[e]));return i}return n.value=function(t){return arguments.length?(h=t,n):h},n.range=function(t){return arguments.length?(d=ce(t),n):d},n.bins=function(e){return arguments.length?(p="number"==typeof e?function(t){return ua(t,e)}:ce(e),n):p},n.frequency=function(t){return arguments.length?(f=!!t,n):f},n},N.layout.pack=function(){var a,s=N.layout.hierarchy().sort(fa),l=0,u=[1,1];function e(t,e){var n,r=s.call(this,t,e),i=r[0],t=u[0],e=u[1],o=null==a?Math.sqrt:"function"==typeof a?a:function(){return a};return i.x=i.y=0,Wo(i,function(t){t.r=+o(t.value)}),Wo(i,ga),l&&(n=l*(a?1:Math.max(2*i.r/t,2*i.r/e))/2,Wo(i,function(t){t.r+=n}),Wo(i,ga),Wo(i,function(t){t.r-=n})),function t(e,n,r,i){var o=e.children;e.x=n+=i*e.x;e.y=r+=i*e.y;e.r*=i;if(o)for(var a=-1,s=o.length;++a<s;)t(o[a],n,r,i)}(i,t/2,e/2,a?1:1/Math.max(2*i.r/t,2*i.r/e)),r}return e.size=function(t){return arguments.length?(u=t,e):u},e.radius=function(t){return arguments.length?(a=null==t||"function"==typeof t?t:+t,e):a},e.padding=function(t){return arguments.length?(l=+t,e):l},Vo(e,s)},N.layout.tree=function(){var u=N.layout.hierarchy().sort(null).value(null),h=ba,c=[1,1],f=null;function e(t,e){var n,r,i,o,a,s,l=u.call(this,t,e),t=l[0],e=function(t){var e,t={A:null,children:[t]},n=[t];for(;null!=(e=n.pop());)for(var r,i=e.children,o=0,a=i.length;o<a;++o)n.push((i[o]=r={_:i[o],parent:e,children:(r=i[o].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=r);return t.children[0]}(t);return Wo(e,d),e.parent.m=-e.z,Go(e,p),f?Go(t,g):(Go(i=r=n=t,function(t){t.x<n.x&&(n=t),t.x>r.x&&(r=t),t.depth>i.depth&&(i=t)}),o=h(n,r)/2-n.x,a=c[0]/(r.x+h(r,n)/2+o),s=c[1]/(i.depth||1),Go(t,function(t){t.x=(t.x+o)*a,t.y=t.depth*s})),l}function d(o){var t=o.children,e=o.parent.children,n=o.i?e[o.i-1]:null;t.length?(function(){for(var t,e=0,n=0,r=o.children,i=r.length;0<=--i;)(t=r[i]).z+=e,t.m+=e,e+=t.s+(n+=t.c)}(),t=(t[0].z+t[t.length-1].z)/2,n?(o.z=n.z+h(o._,n._),o.m=o.z-t):o.z=t):n&&(o.z=n.z+h(o._,n._)),o.parent.A=function(t,e,n){if(e){for(var r,i=t,o=t,a=e,s=i.parent.children[0],l=i.m,u=o.m,c=a.m,f=s.m;a=_a(a),i=xa(i),a&&i;)s=xa(s),(o=_a(o)).a=t,0<(r=a.z+c-i.z-l+h(a._,i._))&&(function(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}(function(t,e,n){return t.a.parent===e.parent?t.a:n}(a,t,n),t,r),l+=r,u+=r),c+=a.m,l+=i.m,f+=s.m,u+=o.m;a&&!_a(o)&&(o.t=a,o.m+=c-u),i&&!xa(s)&&(s.t=i,s.m+=l-f,n=t)}return n}(o,n,o.parent.A||e[0])}function p(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function g(t){t.x*=c[0],t.y=t.depth*c[1]}return e.separation=function(t){return arguments.length?(h=t,e):h},e.size=function(t){return arguments.length?(f=null==(c=t)?g:null,e):f?null:c},e.nodeSize=function(t){return arguments.length?(f=null==(c=t)?null:g,e):f?c:null},Vo(e,u)},N.layout.cluster=function(){var l=N.layout.hierarchy().sort(null).value(null),u=ba,c=[1,1],f=!1;function e(t,e){var r,n=l.call(this,t,e),i=n[0],o=0;Wo(i,function(t){var e,n=t.children;n&&n.length?(t.x=(e=n).reduce(function(t,e){return t+e.x},0)/e.length,t.y=(n=n,1+N.max(n,function(t){return t.y}))):(t.x=r?o+=u(t,r):0,t.y=0,r=t)});var t=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(i),e=function t(e){var n,r=e.children;return r&&(n=r.length)?t(r[n-1]):e}(i),a=t.x-u(t,e)/2,s=e.x+u(e,t)/2;return Wo(i,f?function(t){t.x=(t.x-i.x)*c[0],t.y=(i.y-t.y)*c[1]}:function(t){t.x=(t.x-a)/(s-a)*c[0],t.y=(1-(i.y?t.y/i.y:1))*c[1]}),n}return e.separation=function(t){return arguments.length?(u=t,e):u},e.size=function(t){return arguments.length?(f=null==(c=t),e):f?null:c},e.nodeSize=function(t){return arguments.length?(f=null!=(c=t),e):f?c:null},Vo(e,l)},N.layout.treemap=function(){var n,r=N.layout.hierarchy(),c=Math.round,i=[1,1],o=null,u=wa,a=!1,f="squarify",h=.5*(1+Math.sqrt(5));function d(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function p(t){var e=t.children;if(e&&e.length){var n,r,i=u(t),o=[],a=e.slice(),s=1/0,l="slice"===f?i.dx:"dice"===f?i.dy:"slice-dice"===f?1&t.depth?i.dy:i.dx:Math.min(i.dx,i.dy);for(d(a,i.dx*i.dy/t.value),o.area=0;0<(r=a.length);)o.push(r=a[r-1]),o.area+=r.area,s="squarify"!==f||(n=function(t,e){var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;for(;++a<s;)(n=t[a].area)&&(n<o&&(o=n),i<n&&(i=n));return e*=e,(r*=r)?Math.max(e*i*h/r,r/(e*o*h)):1/0}(o,l))<=s?(a.pop(),n):(o.area-=o.pop().area,g(o,l,i,!1),l=Math.min(i.dx,i.dy),1/(o.length=o.area=0));o.length&&(g(o,l,i,!0),o.length=o.area=0),e.forEach(p)}}function s(t){var e=t.children;if(e&&e.length){var n,r=u(t),i=e.slice(),o=[];for(d(i,r.dx*r.dy/t.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(g(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);e.forEach(s)}}function g(t,e,n,r){var i,o=-1,a=t.length,s=n.x,l=n.y,u=e?c(t.area/e):0;if(e==n.dx){for((r||u>n.dy)&&(u=n.dy);++o<a;)(i=t[o]).x=s,i.y=l,i.dy=u,s+=i.dx=Math.min(n.x+n.dx-s,u?c(i.area/u):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=u,n.dy-=u}else{for((r||u>n.dx)&&(u=n.dx);++o<a;)(i=t[o]).x=s,i.y=l,i.dx=u,l+=i.dy=Math.min(n.y+n.dy-l,u?c(i.area/u):0);i.z=!1,i.dy+=n.y+n.dy-l,n.x+=u,n.dx-=u}}function l(t){var e=n||r(t),t=e[0];return t.x=t.y=0,t.value?(t.dx=i[0],t.dy=i[1]):t.dx=t.dy=0,n&&r.revalue(t),d([t],t.dx*t.dy/t.value),(n?s:p)(t),a&&(n=e),e}return l.size=function(t){return arguments.length?(i=t,l):i},l.padding=function(n){return arguments.length?(u=null==(o=n)?wa:"function"==(e=typeof n)?function(t){var e=n.call(l,t,t.depth);return null==e?wa(t):ka(t,"number"==typeof e?[e,e,e,e]:e)}:("number"==e&&(n=[n,n,n,n]),t),l):o;function t(t){return ka(t,n)}var e},l.round=function(t){return arguments.length?(c=t?Math.round:Number,l):c!=Number},l.sticky=function(t){return arguments.length?(a=t,n=null,l):a},l.ratio=function(t){return arguments.length?(h=t,l):h},l.mode=function(t){return arguments.length?(f=t+"",l):f},Vo(l,r)},N.random={normal:function(r,i){var t=arguments.length;return t<2&&(i=1),t<1&&(r=0),function(){for(var t,e,n;n=(t=2*Math.random()-1)*t+(e=2*Math.random()-1)*e,!n||1<n;);return r+i*t*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=N.random.normal.apply(N,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=N.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},N.scale={};var Ca={floor:O,ceil:O};function Oa(n,t,e,r){var i=[],o=[],a=0,s=Math.min(n.length,t.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<=s;)i.push(e(n[a-1],n[a])),o.push(r(t[a-1],t[a]));return function(t){var e=N.bisect(n,t,1,s)-1;return o[e](i[e](t))}}function ja(t,e){return N.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Pa(t,e){return Sa(t,Ea(Na(t,e)[2])),Sa(t,Ea(Na(t,e)[2])),t}function Na(t,e){null==e&&(e=10);var n=Ta(t),r=n[1]-n[0],t=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),r=e/r*t;return r<=.15?t*=10:r<=.35?t*=5:r<=.75&&(t*=2),n[0]=Math.ceil(n[0]/t)*t,n[1]=Math.floor(n[1]/t)*t+.5*t,n[2]=t,n}function La(t,e){return N.range.apply(N,Na(t,e))}function Ra(t,e,n){var r,i=Na(t,e);if(n){var o=Te.exec(n);if(o.shift(),"s"===o[8]){var a=N.formatPrefix(Math.max(j(i[0]),j(i[1])));return o[7]||(o[7]="."+Ia(a.scale(i[2]))),o[8]="f",n=N.format(o.join("")),function(t){return n(a.scale(t))+a.symbol}}o[7]||(o[7]="."+(r=o[8],e=Ia((t=i)[2]),r in Da?Math.abs(e-Ia(Math.max(j(t[0]),j(t[1]))))+ +("e"!==r):e-2*("%"===r))),n=o.join("")}else n=",."+Ia(i[2])+"f";return N.format(n)}N.scale.linear=function(){return function t(n,r,i,o){var a,s;function e(){var t=2<Math.min(n.length,r.length)?Oa:Aa,e=o?Ro:Lo;return a=t(n,r,e,i),s=t(r,n,e,ho),l}function l(t){return a(t)}l.invert=function(t){return s(t)};l.domain=function(t){return arguments.length?(n=t.map(Number),e()):n};l.range=function(t){return arguments.length?(r=t,e()):r};l.rangeRound=function(t){return l.range(t).interpolate(So)};l.clamp=function(t){return arguments.length?(o=t,e()):o};l.interpolate=function(t){return arguments.length?(i=t,e()):i};l.ticks=function(t){return La(n,t)};l.tickFormat=function(t,e){return Ra(n,t,e)};l.nice=function(t){return Pa(n,t),e()};l.copy=function(){return t(n,r,i,o)};return e()}([0,1],[0,1],ho,!1)};var Da={s:1,g:1,p:1,r:1,e:1};function Ia(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}N.scale.log=function(){return function t(e,l,u,c){function f(t){return(u?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(l)}function h(t){return u?Math.pow(l,t):-Math.pow(l,-t)}function i(t){return e(f(t))}i.invert=function(t){return h(e.invert(t))};i.domain=function(t){return arguments.length?(u=0<=t[0],e.domain((c=t.map(Number)).map(f)),i):c};i.base=function(t){return arguments.length?(l=+t,e.domain(c.map(f)),i):l};i.nice=function(){var t=Sa(c.map(f),u?Math:za);return e.domain(t),c=t.map(h),i};i.ticks=function(){var t=Ta(c),e=[],n=t[0],r=t[1],i=Math.floor(f(n)),o=Math.ceil(f(r)),a=l%1?2:l;if(isFinite(o-i)){if(u){for(;i<o;i++)for(var s=1;s<a;s++)e.push(h(i)*s);e.push(h(i))}else for(e.push(h(i));i++<o;)for(var s=a-1;0<s;s--)e.push(h(i)*s);for(i=0;e[i]<n;i++);for(o=e.length;e[o-1]>r;o--);e=e.slice(i,o)}return e};i.tickFormat=function(t,n){if(!arguments.length)return Fa;arguments.length<2?n=Fa:"function"!=typeof n&&(n=N.format(n));var r=Math.max(1,l*t/i.ticks().length);return function(t){var e=t/h(Math.round(f(t)));return e*l<l-.5&&(e*=l),e<=r?n(t):""}};i.copy=function(){return t(e.copy(),l,u,c)};return ja(i,e)}(N.scale.linear().domain([0,1]),10,!0,[1,10])};var Fa=N.format(".0e"),za={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Ba(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}N.scale.pow=function(){return function t(e,n,r){var i=Ba(n),o=Ba(1/n);function a(t){return e(i(t))}a.invert=function(t){return o(e.invert(t))};a.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(i)),a):r};a.ticks=function(t){return La(r,t)};a.tickFormat=function(t,e){return Ra(r,t,e)};a.nice=function(t){return a.domain(Pa(r,t))};a.exponent=function(t){return arguments.length?(i=Ba(n=t),o=Ba(1/n),e.domain(r.map(i)),a):n};a.copy=function(){return t(e.copy(),n,r)};return ja(a,e)}(N.scale.linear(),1,[0,1])},N.scale.sqrt=function(){return N.scale.pow().exponent(.5)},N.scale.ordinal=function(){return function t(s,l){var i,u,c;function f(t){return u[((i.get(t)||("range"===l.t?i.set(t,s.push(t)):NaN))-1)%u.length]}function h(e,n){return N.range(s.length).map(function(t){return e+n*t})}f.domain=function(t){if(!arguments.length)return s;s=[],i=new v;for(var e,n=-1,r=t.length;++n<r;)i.has(e=t[n])||i.set(e,s.push(e));return f[l.t].apply(f,l.a)};f.range=function(t){return arguments.length?(u=t,c=0,l={t:"range",a:arguments},f):u};f.rangePoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],r=t[1],r=s.length<2?(n=(n+r)/2,0):(r-n)/(s.length-1+e);return u=h(n+r*e/2,r),c=0,l={t:"rangePoints",a:arguments},f};f.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],r=t[1],i=s.length<2?(n=r=Math.round((n+r)/2),0):(r-n)/(s.length-1+e)|0;return u=h(n+Math.round(i*e/2+(r-n-(s.length-1+e)*i)/2),i),c=0,l={t:"rangeRoundPoints",a:arguments},f};f.rangeBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var r=t[1]<t[0],i=t[+r],o=t[1-r],o=(o-i)/(s.length-e+2*n);return u=h(i+o*n,o),r&&u.reverse(),c=o*(1-e),l={t:"rangeBands",a:arguments},f};f.rangeRoundBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var r=t[1]<t[0],i=t[+r],o=t[1-r],a=Math.floor((o-i)/(s.length-e+2*n));return u=h(i+Math.round((o-i-(s.length-e)*a)/2),a),r&&u.reverse(),c=Math.round(a*(1-e)),l={t:"rangeRoundBands",a:arguments},f};f.rangeBand=function(){return c};f.rangeExtent=function(){return Ta(l.a[0])};f.copy=function(){return t(s,l)};return f.domain(s)}([],{t:"range",a:[[]]})},N.scale.category10=function(){return N.scale.ordinal().range(Ua)},N.scale.category20=function(){return N.scale.ordinal().range(Ha)},N.scale.category20b=function(){return N.scale.ordinal().range(qa)},N.scale.category20c=function(){return N.scale.ordinal().range(Va)};var Ua=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ne),Ha=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ne),qa=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ne),Va=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ne);function Ga(){return 0}N.scale.quantile=function(){return function t(n,r){var i;function e(){var t=0,e=r.length;for(i=[];++t<e;)i[t-1]=N.quantile(n,t/e);return o}function o(t){if(!isNaN(t=+t))return r[N.bisect(i,t)]}o.domain=function(t){return arguments.length?(n=t.map(u).filter(c).sort(l),e()):n};o.range=function(t){return arguments.length?(r=t,e()):r};o.quantiles=function(){return i};o.invertExtent=function(t){return(t=r.indexOf(t))<0?[NaN,NaN]:[0<t?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]};o.copy=function(){return t(n,r)};return e()}([],[])},N.scale.quantize=function(){return function t(e,n,r){var i,o;function a(t){return r[Math.max(0,Math.min(o,Math.floor(i*(t-e))))]}function s(){return i=r.length/(n-e),o=r.length-1,a}a.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],s()):[e,n]};a.range=function(t){return arguments.length?(r=t,s()):r};a.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/i+e,t+1/i]};a.copy=function(){return t(e,n,r)};return s()}(0,1,[0,1])},N.scale.threshold=function(){return function t(e,n){function r(t){if(t<=t)return n[N.bisect(e,t)]}r.domain=function(t){return arguments.length?(e=t,r):e};r.range=function(t){return arguments.length?(n=t,r):n};r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]};r.copy=function(){return t(e,n)};return r}([.5],[0,1])},N.scale.identity=function(){return function t(n){function e(t){return+t}e.invert=e;e.domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n};e.ticks=function(t){return La(n,t)};e.tickFormat=function(t,e){return Ra(n,t,e)};e.copy=function(){return t(n)};return e}([0,1])},N.svg={},N.svg.arc=function(){var A=Ya,S=Xa,E=Ga,C=Wa,O=Za,j=$a,P=Qa;function e(){var t=Math.max(0,+A.apply(this,arguments)),e=Math.max(0,+S.apply(this,arguments)),n=O.apply(this,arguments)-At,r=j.apply(this,arguments)-At,i=Math.abs(r-n),o=r<n?0:1;if(e<t&&(a=e,e=t,t=a),Mt<=i)return N(e,o)+(t?N(t,1-o):"")+"Z";var a,s,l,u,c,f,h,d,p,g,m,y,v,b,x,_,w,k=0,T=0,M=[];return(l=(+P.apply(this,arguments)||0)/2)&&(s=C===Wa?Math.sqrt(t*t+e*e):+C.apply(this,arguments),o||(T*=-1),e&&(T=Pt(s/e*Math.sin(l))),t&&(k=Pt(s/t*Math.sin(l)))),e?(h=e*Math.cos(n+T),d=e*Math.sin(n+T),p=e*Math.cos(r-T),u=e*Math.sin(r-T),f=Math.abs(r-n-2*T)<=kt?0:1,T&&Ka(h,d,p,u)===o^f&&(_=(n+r)/2,h=e*Math.cos(_),d=e*Math.sin(_),p=u=null)):h=d=0,t?(m=t*Math.cos(r-k),y=t*Math.sin(r-k),v=t*Math.cos(n+k),c=t*Math.sin(n+k),g=Math.abs(n-r+2*k)<=kt?0:1,k&&Ka(m,y,v,c)===1-o^g&&(b=(n+r)/2,m=t*Math.cos(b),y=t*Math.sin(b),v=c=null)):m=y=0,_t<i&&.001<(a=Math.min(Math.abs(e-t)/2,+E.apply(this,arguments)))?(T=t<e^o?0:1,k=_=a,i<kt&&(r=h-(n=null==v?[m,y]:null==p?[h,d]:Ti([h,d],[v,c],[p,u],[m,y]))[0],b=d-n[1],i=p-n[0],x=u-n[1],x=1/Math.sin(Math.acos((r*i+b*x)/(Math.sqrt(r*r+b*b)*Math.sqrt(i*i+x*x)))/2),n=Math.sqrt(n[0]*n[0]+n[1]*n[1]),k=Math.min(a,(t-n)/(x-1)),_=Math.min(a,(e-n)/(1+x))),null!=p?(x=Ja(null==v?[m,y]:[v,c],[h,d],e,_,o),w=Ja([p,u],[m,y],e,_,o),a===_?M.push("M",x[0],"A",_,",",_," 0 0,",T," ",x[1],"A",e,",",e," 0 ",1-o^Ka(x[1][0],x[1][1],w[1][0],w[1][1]),",",o," ",w[1],"A",_,",",_," 0 0,",T," ",w[0]):M.push("M",x[0],"A",_,",",_," 0 1,",T," ",w[0])):M.push("M",h,",",d),null!=v?(_=Ja([h,d],[v,c],t,-k,o),w=Ja([m,y],null==p?[h,d]:[p,u],t,-k,o),a===k?M.push("L",w[0],"A",k,",",k," 0 0,",T," ",w[1],"A",t,",",t," 0 ",o^Ka(w[1][0],w[1][1],_[1][0],_[1][1]),",",1-o," ",_[1],"A",k,",",k," 0 0,",T," ",_[0]):M.push("L",w[0],"A",k,",",k," 0 0,",T," ",_[0])):M.push("L",m,",",y)):(M.push("M",h,",",d),null!=p&&M.push("A",e,",",e," 0 ",f,",",o," ",p,",",u),M.push("L",m,",",y),null!=v&&M.push("A",t,",",t," 0 ",g,",",1-o," ",v,",",c)),M.push("Z"),M.join("")}function N(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return e.innerRadius=function(t){return arguments.length?(A=ce(t),e):A},e.outerRadius=function(t){return arguments.length?(S=ce(t),e):S},e.cornerRadius=function(t){return arguments.length?(E=ce(t),e):E},e.padRadius=function(t){return arguments.length?(C=t==Wa?Wa:ce(t),e):C},e.startAngle=function(t){return arguments.length?(O=ce(t),e):O},e.endAngle=function(t){return arguments.length?(j=ce(t),e):j},e.padAngle=function(t){return arguments.length?(P=ce(t),e):P},e.centroid=function(){var t=(+A.apply(this,arguments)+ +S.apply(this,arguments))/2,e=(+O.apply(this,arguments)+ +j.apply(this,arguments))/2-At;return[Math.cos(e)*t,Math.sin(e)*t]},e};var Wa="auto";function Ya(t){return t.innerRadius}function Xa(t){return t.outerRadius}function Za(t){return t.startAngle}function $a(t){return t.endAngle}function Qa(t){return t&&t.padAngle}function Ka(t,e,n,r){return 0<(t-n)*e-(e-r)*t?0:1}function Ja(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),l=s*a,u=-s*o,c=t[0]+l,f=t[1]+u,h=e[0]+l,d=e[1]+u,i=(c+h)/2,a=(f+d)/2,s=h-c,o=d-f,t=s*s+o*o,e=n-r,r=c*d-h*f,c=(o<0?-1:1)*Math.sqrt(Math.max(0,e*e*t-r*r)),d=(r*o-s*c)/t,h=(-r*s-o*c)/t,f=(r*o+s*c)/t,o=(-r*s+o*c)/t,c=d-i,t=h-a,i=f-i,a=o-a;return i*i+a*a<c*c+t*t&&(d=f,h=o),[[d-l,h-u],[d*n/e,h*n/e]]}function ts(u){var c=vi,f=bi,h=ur,d=ns,e=d.key,p=.7;function n(t){var e,n=[],r=[],i=-1,o=t.length,a=ce(c),s=ce(f);function l(){n.push("M",d(u(r),p))}for(;++i<o;)h.call(this,e=t[i],i)?r.push([+a.call(this,e,i),+s.call(this,e,i)]):r.length&&(l(),r=[]);return r.length&&l(),n.length?n.join(""):null}return n.x=function(t){return arguments.length?(c=t,n):c},n.y=function(t){return arguments.length?(f=t,n):f},n.defined=function(t){return arguments.length?(h=t,n):h},n.interpolate=function(t){return arguments.length?(e="function"==typeof t?d=t:(d=es.get(t)||ns).key,n):e},n.tension=function(t){return arguments.length?(p=t,n):p},n}N.svg.line=function(){return ts(O)};var es=N.map({linear:ns,"linear-closed":rs,step:function(t){var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];for(;++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);1<n&&i.push("H",r[0]);return i.join("")},"step-before":is,"step-after":os,basis:ls,"basis-open":function(t){if(t.length<4)return ns(t);var e,n=[],r=-1,i=t.length,o=[0],a=[0];for(;++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);n.push(us(hs,o)+","+us(hs,a)),--r;for(;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),ds(n,o,a);return n.join("")},"basis-closed":function(t){var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];for(;++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);e=[us(hs,a),",",us(hs,s)],--r;for(;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),ds(e,a,s);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,l=t[n][1]-a,u=-1;++u<=n;)r=t[u],i=u/n,r[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*l);return ls(t)},cardinal:function(t,e){return t.length<3?ns(t):t[0]+as(t,ss(t,e))},"cardinal-open":function(t,e){return t.length<4?ns(t):t[1]+as(t.slice(1,-1),ss(t,e))},"cardinal-closed":function(t,e){return t.length<3?rs(t):t[0]+as((t.push(t[0]),t),ss([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?ns(t):t[0]+as(t,function(t){var e,n,r,i,o=[],a=function(t){var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=ps(i,o);for(;++e<n;)r[e]=(a+(a=ps(i=o,o=t[e+1])))/2;return r[e]=a,r}(t),s=-1,l=t.length-1;for(;++s<l;)e=ps(t[s],t[s+1]),j(e)<_t?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,9<(i=n*n+r*r)&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));s=-1;for(;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}(t))}});function ns(t){return 1<t.length?t.join("L"):t+"Z"}function rs(t){return t.join("L")+"Z"}function is(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function os(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function as(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return ns(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,l=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],l=2),1<e.length){s=e[1],o=t[l],l++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,l++)o=t[l],s=e[u],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}return n&&(n=t[l],r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+n[0]+","+n[1]),r}function ss(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,l=t.length;++s<l;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function ls(t){if(t.length<3)return ns(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],l=[i,",",o,"L",us(hs,a),",",us(hs,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),ds(l,a,s);return t.pop(),l.push("L",r),l.join("")}function us(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}es.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var cs=[0,2/3,1/3,0],fs=[0,1/3,2/3,0],hs=[0,1/6,2/3,1/6];function ds(t,e,n){t.push("C",us(cs,e),",",us(cs,n),",",us(fs,e),",",us(fs,n),",",us(hs,e),",",us(hs,n))}function ps(t,e){return(e[1]-t[1])/(e[0]-t[0])}function gs(t){for(var e,n,r,i=-1,o=t.length;++i<o;)n=(e=t[i])[0],r=e[1]-At,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function ms(p){var g=vi,m=vi,y=0,v=bi,b=ur,x=ns,e=x.key,_=x,w="L",k=.7;function n(t){var e,n,r,i=[],o=[],a=[],s=-1,l=t.length,u=ce(g),c=ce(y),f=g===m?function(){return n}:ce(m),h=y===v?function(){return r}:ce(v);function d(){i.push("M",x(p(a),k),w,_(p(o.reverse()),k),"Z")}for(;++s<l;)b.call(this,e=t[s],s)?(o.push([n=+u.call(this,e,s),r=+c.call(this,e,s)]),a.push([+f.call(this,e,s),+h.call(this,e,s)])):o.length&&(d(),o=[],a=[]);return o.length&&d(),i.length?i.join(""):null}return n.x=function(t){return arguments.length?(g=m=t,n):m},n.x0=function(t){return arguments.length?(g=t,n):g},n.x1=function(t){return arguments.length?(m=t,n):m},n.y=function(t){return arguments.length?(y=v=t,n):v},n.y0=function(t){return arguments.length?(y=t,n):y},n.y1=function(t){return arguments.length?(v=t,n):v},n.defined=function(t){return arguments.length?(b=t,n):b},n.interpolate=function(t){return arguments.length?(e="function"==typeof t?x=t:(x=es.get(t)||ns).key,_=x.reverse||x,w=x.closed?"M":"L",n):e},n.tension=function(t){return arguments.length?(k=t,n):k},n}function ys(t){return t.radius}function vs(t){return[t.x,t.y]}function bs(){return 64}function xs(){return"circle"}function _s(t){t=Math.sqrt(t/kt);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}N.svg.line.radial=function(){var t=ts(gs);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(is.reverse=os).reverse=is,N.svg.area=function(){return ms(O)},N.svg.area.radial=function(){var t=ms(gs);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},N.svg.chord=function(){var i=ii,o=oi,a=ys,s=Za,l=$a;function e(t,e){var n=u(this,i,t,e),r=u(this,o,t,e);return"M"+n.p0+c(n.r,n.p1,n.a1-n.a0)+(t=r,(e=n).a0==t.a0&&e.a1==t.a1?f(n.r,n.p1,n.r,n.p0):f(n.r,n.p1,r.r,r.p0)+c(r.r,r.p1,r.a1-r.a0)+f(r.r,r.p1,n.r,n.p0))+"Z"}function u(t,e,n,r){var i=e.call(t,n,r),e=a.call(t,i,r),n=s.call(t,i,r)-At,r=l.call(t,i,r)-At;return{r:e,a0:n,a1:r,p0:[e*Math.cos(n),e*Math.sin(n)],p1:[e*Math.cos(r),e*Math.sin(r)]}}function c(t,e,n){return"A"+t+","+t+" 0 "+ +(kt<n)+",1 "+e}function f(t,e,n,r){return"Q 0,0 "+r}return e.radius=function(t){return arguments.length?(a=ce(t),e):a},e.source=function(t){return arguments.length?(i=ce(t),e):i},e.target=function(t){return arguments.length?(o=ce(t),e):o},e.startAngle=function(t){return arguments.length?(s=ce(t),e):s},e.endAngle=function(t){return arguments.length?(l=ce(t),e):l},e},N.svg.diagonal=function(){var r=ii,i=oi,o=vs;function e(t,e){var n=r.call(this,t,e),t=i.call(this,t,e),e=(n.y+t.y)/2,t=[n,{x:n.x,y:e},{x:t.x,y:e},t];return"M"+(t=t.map(o))[0]+"C"+t[1]+" "+t[2]+" "+t[3]}return e.source=function(t){return arguments.length?(r=ce(t),e):r},e.target=function(t){return arguments.length?(i=ce(t),e):i},e.projection=function(t){return arguments.length?(o=t,e):o},e},N.svg.diagonal.radial=function(){var t=N.svg.diagonal(),e=vs,r=t.projection;return t.projection=function(t){return arguments.length?r((n=e=t,function(){var t=n.apply(this,arguments),e=t[0],t=t[1]-At;return[e*Math.cos(t),e*Math.sin(t)]})):e;var n},t},N.svg.symbol=function(){var n=xs,r=bs;function e(t,e){return(ws.get(n.call(this,t,e))||_s)(r.call(this,t,e))}return e.type=function(t){return arguments.length?(n=ce(t),e):n},e.size=function(t){return arguments.length?(r=ce(t),e):r},e};var ws=N.map({circle:_s,cross:function(t){t=Math.sqrt(t/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Ts)),t=e*Ts;return"M0,"+-e+"L"+t+",0 0,"+e+" "+-t+",0Z"},square:function(t){t=Math.sqrt(t)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/ks),t=e*ks/2;return"M0,"+t+"L"+e+","+-t+" "+-e+","+-t+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/ks),t=e*ks/2;return"M0,"+-t+"L"+e+","+t+" "+-e+","+t+"Z"}});N.svg.symbolTypes=ws.keys();var ks=Math.sqrt(3),Ts=Math.tan(30*St);G.transition=function(t){for(var e,n,r=Es||++js,i=Ls(t),o=[],a=Cs||{time:Date.now(),ease:wo,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(e=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(n=u[c])&&Rs(n,c,i,r,a),e.push(n)}return Ss(o,i,r)},G.interrupt=function(t){return this.each(null==t?Ms:As(Ls(t)))};var Ms=As(Ls());function As(r){return function(){var t,e,n;(t=this[r])&&(n=t[e=t.active])&&(n.timer.c=null,n.timer.t=NaN,--t.count?delete t[e]:delete this[r],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Ss(t,e,n){return B(t,Os),t.namespace=e,t.id=n,t}var Es,Cs,Os=[],js=0;function Ps(t,r,i,o){var a=t.id,s=t.namespace;return lt(t,"function"==typeof i?function(t,e,n){t[s][a].tween.set(r,o(i.call(t,t.__data__,e,n)))}:(i=o(i),function(t){t[s][a].tween.set(r,i)}))}function Ns(t){return null==t&&(t=""),function(){this.textContent=t}}function Ls(t){return null==t?"__transition__":"__transition_"+t+"__"}function Rs(o,a,r,s,t){var l,u,c,f,h,d=o[r]||(o[r]={active:0,count:0}),p=d[s];function n(t){var e,n,r=d.active,i=d[r];for(e in i&&(i.timer.c=null,i.timer.t=NaN,--d.count,delete d[r],i.event&&i.event.interrupt.call(o,o.__data__,i.index)),d)+e<s&&((n=d[e]).timer.c=null,n.timer.t=NaN,--d.count,delete d[e]);u.c=g,ve(function(){return u.c&&g(t||1)&&(u.c=null,u.t=NaN),1},0,l),d.active=s,p.event&&p.event.start.call(o,o.__data__,a),h=[],p.tween.forEach(function(t,e){(e=e.call(o,o.__data__,a))&&h.push(e)}),f=p.ease,c=p.duration}function g(t){for(var t=t/c,e=f(t),n=h.length;0<n;)h[--n].call(o,e);if(1<=t)return p.event&&p.event.end.call(o,o.__data__,a),--d.count?delete d[s]:delete o[r],1}p||(l=t.time,u=ve(function(t){var e=p.delay;if(u.t=e+l,e<=t)return n(t-e);u.c=n},0,l),p=d[s]={tween:new v,time:l,timer:u,delay:t.delay,duration:t.duration,ease:t.ease,index:a},t=null,++d.count)}Os.call=G.call,Os.empty=G.empty,Os.node=G.node,Os.size=G.size,N.transition=function(t,e){return t&&t.transition?Es?t.transition(e):t:N.selection().transition(t)},(N.transition.prototype=Os).select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=W(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(r=u[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Rs(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return Ss(a,o,i)},Os.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,l=[];t=Y(t);for(var u=-1,c=this.length;++u<c;)for(var f=this[u],h=-1,d=f.length;++h<d;)if(r=f[h]){o=r[s][a],n=t.call(r,r.__data__,h,u),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&Rs(i,p,s,a,o),e.push(i)}return Ss(l,s,a)},Os.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=st(t));for(var i=0,o=this.length;i<o;i++){r.push(e=[]);for(var a,s=0,l=(a=this[i]).length;s<l;s++)(n=a[s])&&t.call(n,n.__data__,s,i)&&e.push(n)}return Ss(r,this.namespace,this.id)},Os.tween=function(e,n){var r=this.id,i=this.namespace;return arguments.length<2?this.node()[i][r].tween.get(e):lt(this,null==n?function(t){t[i][r].tween.remove(e)}:function(t){t[i][r].tween.set(e,n)})},Os.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var r="transform"==t?No:ho,i=N.ns.qualify(t);function o(){this.removeAttribute(i)}function a(){this.removeAttributeNS(i.space,i.local)}return Ps(this,"attr."+t,e,i.local?function(n){return null==n?a:(n+="",function(){var e,t=this.getAttributeNS(i.space,i.local);return t!==n&&(e=r(t,n),function(t){this.setAttributeNS(i.space,i.local,e(t))})})}:function(n){return null==n?o:(n+="",function(){var e,t=this.getAttribute(i);return t!==n&&(e=r(t,n),function(t){this.setAttribute(i,e(t))})})})},Os.attrTween=function(t,r){var i=N.ns.qualify(t);return this.tween("attr."+t,i.local?function(t,e){var n=r.call(this,t,e,this.getAttributeNS(i.space,i.local));return n&&function(t){this.setAttributeNS(i.space,i.local,n(t))}}:function(t,e){var n=r.call(this,t,e,this.getAttribute(i));return n&&function(t){this.setAttribute(i,n(t))}})},Os.style=function(r,t,i){var e=arguments.length;if(e<3){if("string"!=typeof r){for(i in e<2&&(t=""),r)this.style(i,r[i],t);return this}i=""}function o(){this.style.removeProperty(r)}return Ps(this,"style."+r,t,function(n){return null==n?o:(n+="",function(){var e,t=R(this).getComputedStyle(this,null).getPropertyValue(r);return t!==n&&(e=ho(t,n),function(t){this.style.setProperty(r,e(t),i)})})})},Os.styleTween=function(r,i,o){return arguments.length<3&&(o=""),this.tween("style."+r,function(t,e){var n=i.call(this,t,e,R(this).getComputedStyle(this,null).getPropertyValue(r));return n&&function(t){this.style.setProperty(r,n(t),o)}})},Os.text=function(t){return Ps(this,"text",t,Ns)},Os.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Os.ease=function(e){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof e&&(e=N.ease.apply(N,arguments)),lt(this,function(t){t[r][n].ease=e}))},Os.delay=function(r){var i=this.id,o=this.namespace;return arguments.length<1?this.node()[o][i].delay:lt(this,"function"==typeof r?function(t,e,n){t[o][i].delay=+r.call(t,t.__data__,e,n)}:(r=+r,function(t){t[o][i].delay=r}))},Os.duration=function(r){var i=this.id,o=this.namespace;return arguments.length<1?this.node()[o][i].duration:lt(this,"function"==typeof r?function(t,e,n){t[o][i].duration=Math.max(1,r.call(t,t.__data__,e,n))}:(r=Math.max(1,r),function(t){t[o][i].duration=r}))},Os.each=function(r,e){var i=this.id,o=this.namespace;if(arguments.length<2){var t=Cs,n=Es;try{Es=i,lt(this,function(t,e,n){Cs=t[o][i],r.call(t,t.__data__,e,n)})}finally{Cs=t,Es=n}}else lt(this,function(t){t=t[o][i];(t.event||(t.event=N.dispatch("start","end","interrupt"))).on(r,e)});return this},Os.transition=function(){for(var t,e,n,r=this.id,i=++js,o=this.namespace,a=[],s=0,l=this.length;s<l;s++){a.push(t=[]);for(var u,c=0,f=(u=this[s]).length;c<f;c++)(e=u[c])&&Rs(e,c,o,i,{time:(n=e[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return Ss(a,o,i)},N.svg.axis=function(){var _,w=N.scale.linear(),k=Ds,T=6,M=6,A=3,S=[10],E=null;function n(t){t.each(function(){var t,e=N.select(this),n=this.__chart__||w,r=this.__chart__=w.copy(),i=null==E?r.ticks?r.ticks.apply(r,S):r.domain():E,o=null==_?r.tickFormat?r.tickFormat.apply(r,S):O:_,a=e.selectAll(".tick").data(i,r),s=a.enter().insert("g",".domain").attr("class","tick").style("opacity",_t),l=N.transition(a.exit()).style("opacity",_t).remove(),u=N.transition(a.order()).style("opacity",1),c=Math.max(T,0)+A,f=Ma(r),h=e.selectAll(".domain").data([0]),d=(h.enter().append("path").attr("class","domain"),N.transition(h));s.append("line"),s.append("text");var p,g,m,y,v,b,x=s.select("line"),i=u.select("line"),e=a.select("text").text(o),h=s.select("text"),a=u.select("text"),o="top"===k||"left"===k?-1:1;"bottom"===k||"top"===k?(t=Fs,p="x",m="y",g="x2",y="y2",e.attr("dy",o<0?"0em":".71em").style("text-anchor","middle"),d.attr("d","M"+f[0]+","+o*M+"V0H"+f[1]+"V"+o*M)):(t=zs,p="y",m="x",g="y2",y="x2",e.attr("dy",".32em").style("text-anchor",o<0?"end":"start"),d.attr("d","M"+o*M+","+f[0]+"H0V"+f[1]+"H"+o*M)),x.attr(y,o*T),h.attr(m,o*c),i.attr(g,0).attr(y,o*T),a.attr(p,0).attr(m,o*c),r.rangeBand?(b=(v=r).rangeBand()/2,n=r=function(t){return v(t)+b}):n.rangeBand?n=r:l.call(t,r,n),s.call(t,n,r),u.call(t,r,r)})}return n.scale=function(t){return arguments.length?(w=t,n):w},n.orient=function(t){return arguments.length?(k=t in Is?t+"":Ds,n):k},n.ticks=function(){return arguments.length?(S=h(arguments),n):S},n.tickValues=function(t){return arguments.length?(E=t,n):E},n.tickFormat=function(t){return arguments.length?(_=t,n):_},n.tickSize=function(t){var e=arguments.length;return e?(T=+t,M=+arguments[e-1],n):T},n.innerTickSize=function(t){return arguments.length?(T=+t,n):T},n.outerTickSize=function(t){return arguments.length?(M=+t,n):M},n.tickPadding=function(t){return arguments.length?(A=+t,n):A},n.tickSubdivide=function(){return arguments.length&&n},n};var Ds="bottom",Is={top:1,right:1,bottom:1,left:1};function Fs(t,n,r){t.attr("transform",function(t){var e=n(t);return"translate("+(isFinite(e)?e:r(t))+",0)"})}function zs(t,n,r){t.attr("transform",function(t){var e=n(t);return"translate(0,"+(isFinite(e)?e:r(t))+")"})}N.svg.brush=function(){var y,v,b=F(A,"brushstart","brush","brushend"),x=null,_=null,w=[0,0],k=[0,0],T=!0,M=!0,i=Us[0];function A(t){t.each(function(){var t=N.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(i,O);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Bs[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",A.empty()?"none":null);var r,t=N.transition(t),e=N.transition(e);x&&(r=Ma(x),e.attr("x",r[0]).attr("width",r[1]-r[0]),E(t)),_&&(r=Ma(_),e.attr("y",r[0]).attr("height",r[1]-r[0]),C(t)),S(t)})}function S(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+w[+/e$/.test(t)]+","+k[+/^s/.test(t)]+")"})}function E(t){t.select(".extent").attr("x",w[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",w[1]-w[0])}function C(t){t.select(".extent").attr("y",k[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",k[1]-k[0])}function o(){var l,t,n,r=this,e=N.select(N.event.target),i=b.of(r,arguments),o=N.select(r),a=e.datum(),s=!/^(n|s)$/.test(a)&&x,u=!/^(e|w)$/.test(a)&&_,c=e.classed("extent"),f=yt(r),h=N.mouse(r),d=N.select(R(r)).on("keydown.brush",function(){32==N.event.keyCode&&(c||(l=null,h[0]-=w[1],h[1]-=k[1],c=2),D())}).on("keyup.brush",function(){32==N.event.keyCode&&2==c&&(h[0]+=w[1],h[1]+=k[1],c=0,D())});function p(){var t=N.mouse(r),e=!1;n&&(t[0]+=n[0],t[1]+=n[1]),c||(N.event.altKey?(l=l||[(w[0]+w[1])/2,(k[0]+k[1])/2],h[0]=w[+(t[0]<l[0])],h[1]=k[+(t[1]<l[1])]):l=null),s&&g(t,x,0)&&(E(o),e=!0),u&&g(t,_,1)&&(C(o),e=!0),e&&(S(o),i({type:"brush",mode:c?"move":"resize"}))}function g(t,e,n){var r,i=Ma(e),o=i[0],a=i[1],s=h[n],e=n?k:w,i=e[1]-e[0];return c&&(o-=s,a-=i+s),t=(n?M:T)?Math.max(o,Math.min(a,t[n])):t[n],c?r=(t+=s)+i:(l&&(s=Math.max(o,Math.min(a,2*l[n]-t))),s<t?(r=t,t=s):r=s),e[0]!=t||e[1]!=r?(n?v=null:y=null,e[0]=t,e[1]=r,1):void 0}function m(){p(),o.style("pointer-events","all").selectAll(".resize").style("display",A.empty()?"none":null),N.select("body").style("cursor",null),d.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),f(),i({type:"brushend"})}N.event.changedTouches?d.on("touchmove.brush",p).on("touchend.brush",m):d.on("mousemove.brush",p).on("mouseup.brush",m),o.interrupt().selectAll("*").interrupt(),c?(h[0]=w[0]-h[0],h[1]=k[0]-h[1]):a?(t=+/w$/.test(a),a=+/^n/.test(a),n=[w[1-t]-h[0],k[1-a]-h[1]],h[0]=w[t],h[1]=k[a]):N.event.altKey&&(l=h.slice()),o.style("pointer-events","none").selectAll(".resize").style("display",null),N.select("body").style("cursor",e.style("cursor")),i({type:"brushstart"}),p()}return A.event=function(t){t.each(function(){var r=b.of(this,arguments),i={x:w,y:k,i:y,j:v},t=this.__chart__||i;this.__chart__=i,Es?N.select(this).transition().each("start.brush",function(){y=t.i,v=t.j,w=t.x,k=t.y,r({type:"brushstart"})}).tween("brush:brush",function(){var e=po(w,i.x),n=po(k,i.y);return y=v=null,function(t){w=i.x=e(t),k=i.y=n(t),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){y=i.i,v=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},A.x=function(t){return arguments.length?(i=Us[!(x=t)<<1|!_],A):x},A.y=function(t){return arguments.length?(i=Us[!x<<1|!(_=t)],A):_},A.clamp=function(t){return arguments.length?(x&&_?(T=!!t[0],M=!!t[1]):x?T=!!t:_&&(M=!!t),A):x&&_?[T,M]:x?T:_?M:null},A.extent=function(t){var e,n,r,i,o;return arguments.length?(x&&(e=t[0],n=t[1],_&&(e=e[0],n=n[0]),y=[e,n],x.invert&&(e=x(e),n=x(n)),n<e&&(o=e,e=n,n=o),e==w[0]&&n==w[1]||(w=[e,n])),_&&(r=t[0],i=t[1],x&&(r=r[1],i=i[1]),v=[r,i],_.invert&&(r=_(r),i=_(i)),i<r&&(o=r,r=i,i=o),r==k[0]&&i==k[1]||(k=[r,i])),A):(x&&(y?(e=y[0],n=y[1]):(e=w[0],n=w[1],x.invert&&(e=x.invert(e),n=x.invert(n)),n<e&&(o=e,e=n,n=o))),_&&(v?(r=v[0],i=v[1]):(r=k[0],i=k[1],_.invert&&(r=_.invert(r),i=_.invert(i)),i<r&&(o=r,r=i,i=o))),x&&_?[[e,r],[n,i]]:x?[e,n]:_&&[r,i])},A.clear=function(){return A.empty()||(w=[0,0],k=[0,0],y=v=null),A},A.empty=function(){return!!x&&w[0]==w[1]||!!_&&k[0]==k[1]},N.rebind(A,b,"on")};var Bs={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Us=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],f=Se.format=o.timeFormat,o=(e=f.utc)("%Y-%m-%dT%H:%M:%S.%LZ");function Hs(t){return t.toISOString()}function qs(e,i,t){function o(t){return e(t)}function a(t,e){var n=(t[1]-t[0])/e,r=N.bisect(Gs,n);return r==Gs.length?[i.year,Na(t.map(function(t){return t/31536e6}),e)[2]]:r?i[n/Gs[r-1]<Gs[r]/n?r-1:r]:[Xs,Na(t,e)[2]]}return o.invert=function(t){return Vs(e.invert(t))},o.domain=function(t){return arguments.length?(e.domain(t),o):e.domain().map(Vs)},o.nice=function(e,n){var t=o.domain(),r=Ta(t),r=null==e?a(r,10):"number"==typeof e&&a(r,e);function i(t){return!isNaN(t)&&!e.range(t,Vs(+t+1),n).length}return r&&(e=r[0],n=r[1]),o.domain(Sa(t,1<n?{floor:function(t){for(;i(t=e.floor(t));)t=Vs(t-1);return t},ceil:function(t){for(;i(t=e.ceil(t));)t=Vs(+t+1);return t}}:e))},o.ticks=function(t,e){var n=Ta(o.domain()),r=null==t?a(n,10):"number"==typeof t?a(n,t):!t.range&&[{range:t},e];return r&&(t=r[0],e=r[1]),t.range(n[0],Vs(+n[1]+1),e<1?1:e)},o.tickFormat=function(){return t},o.copy=function(){return qs(e.copy(),i,t)},ja(o,e)}function Vs(t){return new Date(t)}f.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Hs:o,Hs.parse=function(t){t=new Date(t);return isNaN(t)?null:t},Hs.toString=o.toString,Se.second=je(function(t){return new Ee(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Se.seconds=Se.second.range,Se.seconds.utc=Se.second.utc.range,Se.minute=je(function(t){return new Ee(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Se.minutes=Se.minute.range,Se.minutes.utc=Se.minute.utc.range,Se.hour=je(function(t){var e=t.getTimezoneOffset()/60;return new Ee(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Se.hours=Se.hour.range,Se.hours.utc=Se.hour.utc.range,Se.month=je(function(t){return(t=Se.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Se.months=Se.month.range,Se.months.utc=Se.month.utc.range;var Gs=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ws=[[Se.second,1],[Se.second,5],[Se.second,15],[Se.second,30],[Se.minute,1],[Se.minute,5],[Se.minute,15],[Se.minute,30],[Se.hour,1],[Se.hour,3],[Se.hour,6],[Se.hour,12],[Se.day,1],[Se.day,2],[Se.week,1],[Se.month,1],[Se.month,3],[Se.year,1]],Ys=f.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",ur]]),Xs={range:function(t,e,n){return N.range(Math.ceil(t/n)*n,+e,n).map(Vs)},floor:O,ceil:O};Ws.year=Se.year,Se.scale=function(){return qs(N.scale.linear(),Ws,Ys)};var Zs=Ws.map(function(t){return[t[0].utc,t[1]]}),$s=e.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",ur]]);function Qs(t){return JSON.parse(t.responseText)}function Ks(t){var e=L.createRange();return e.selectNode(L.body),e.createContextualFragment(t.responseText)}Zs.year=Se.year.utc,Se.scale.utc=function(){return qs(N.scale.linear(),Zs,$s)},N.text=fe(function(t){return t.responseText}),N.json=function(t,e){return he(t,"application/json",Qs,e)},N.html=function(t,e){return he(t,"text/html",Ks,e)},N.xml=fe(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=N,define(N)):"object"==typeof Js&&Js.exports?Js.exports=N:this.d3=N}()},{}],630:[function(t,e,n){"use strict";var r=t("../annotations/attributes"),i=t("../../plot_api/edit_types").overrideAll,t=t("../../plot_api/plot_template").templatedArray;e.exports=i(t("annotation",{visible:r.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:r.xanchor,xshift:r.xshift,yanchor:r.yanchor,yshift:r.yshift,text:r.text,textangle:r.textangle,font:r.font,width:r.width,height:r.height,opacity:r.opacity,align:r.align,valign:r.valign,bgcolor:r.bgcolor,bordercolor:r.bordercolor,borderpad:r.borderpad,borderwidth:r.borderwidth,showarrow:r.showarrow,arrowcolor:r.arrowcolor,arrowhead:r.arrowhead,startarrowhead:r.startarrowhead,arrowside:r.arrowside,arrowsize:r.arrowsize,startarrowsize:r.startarrowsize,arrowwidth:r.arrowwidth,standoff:r.standoff,startstandoff:r.startstandoff,hovertext:r.hovertext,hoverlabel:r.hoverlabel,captureevents:r.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":805,"../../plot_api/plot_template":812,"../annotations/attributes":636}],631:[function(t,e,n){"use strict";var i=t("../../lib"),o=t("../../plots/cartesian/axes");e.exports=function(t){for(var e=t.fullSceneLayout.annotations,n=0;n<e.length;n++)!function(t,e){var n=e.fullSceneLayout.domain,r=e.fullLayout._size,e={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};t._xa={},i.extendFlat(t._xa,e),o.setConvert(t._xa),t._xa._offset=r.l+n.x[0]*r.w,t._xa.l2p=function(){return.5*(1+t._pdata[0]/t._pdata[3])*r.w*(n.x[1]-n.x[0])},t._ya={},i.extendFlat(t._ya,e),o.setConvert(t._ya),t._ya._offset=r.t+(1-n.y[1])*r.h,t._ya.l2p=function(){return.5*(1-t._pdata[1]/t._pdata[3])*r.h*(n.y[1]-n.y[0])}}(e[n],t);t.fullLayout._infolayer.selectAll(".annotation-"+t.id).remove()}},{"../../lib":776,"../../plots/cartesian/axes":823}],632:[function(t,e,n){"use strict";var a=t("../../lib"),s=t("../../plots/cartesian/axes"),r=t("../../plots/array_container_defaults"),l=t("../annotations/common_defaults"),u=t("./attributes");function i(n,r,i,t){function o(t,e){return a.coerce(n,r,u,t,e)}function e(t){var e=t+"axis",n={_fullLayout:{}};return n._fullLayout[e]=i[e],s.coercePosition(r,n,o,t,t,.5)}o("visible")&&(l(n,r,t.fullLayout,o),e("x"),e("y"),e("z"),a.noneOrAll(n,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",o("xanchor"),o("yanchor"),o("xshift"),o("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",o("ax",-10),o("ay",-30),a.noneOrAll(n,r,["ax","ay"])))}e.exports=function(t,e,n){r(t,e,{name:"annotations",handleItemDefaults:i,fullLayout:n.fullLayout})}},{"../../lib":776,"../../plots/array_container_defaults":818,"../../plots/cartesian/axes":823,"../annotations/common_defaults":639,"./attributes":630}],633:[function(t,e,n){"use strict";var c=t("../annotations/draw").drawRaw,f=t("../../plots/gl3d/project"),h=["x","y","z"];e.exports=function(t){for(var e=t.fullSceneLayout,n=t.dataScale,r=e.annotations,i=0;i<r.length;i++){for(var o=r[i],a=!1,s=0;s<3;s++){var l=h[s],u=o[l],u=e[l+"axis"].r2fraction(u);if(u<0||1<u){a=!0;break}}a?t.fullLayout._infolayer.select(".annotation-"+t.id+'[data-index="'+i+'"]').remove():(o._pdata=f(t.glplot.cameraParams,[e.xaxis.r2l(o.x)*n[0],e.yaxis.r2l(o.y)*n[1],e.zaxis.r2l(o.z)*n[2]]),c(t.graphDiv,o,i,t.id,o._xa,o._ya))}}},{"../../plots/gl3d/project":863,"../annotations/draw":642}],634:[function(t,e,n){"use strict";var s=t("../../registry"),l=t("../../lib");e.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:t("./attributes")}}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),includeBasePlot:function(t,e){var n=s.subplotsRegistry.gl3d;if(!n)return;for(var r=n.attrRegex,i=Object.keys(t),o=0;o<i.length;o++){var a=i[o];r.test(a)&&(t[a].annotations||[]).length&&(l.pushUnique(e._basePlotModules,n),l.pushUnique(e._subplots.gl3d,a))}},convert:t("./convert"),draw:t("./draw")}},{"../../lib":776,"../../registry":877,"./attributes":630,"./convert":631,"./defaults":632,"./draw":633}],635:[function(t,e,n){"use strict";e.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],636:[function(t,e,n){"use strict";var r=t("./arrow_paths"),i=t("../../plots/font_attributes"),o=t("../../plots/cartesian/constants"),a=t("../../plot_api/plot_template").templatedArray;t("../../constants/axis_placeable_objects");e.exports=a("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:i({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:i({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../constants/axis_placeable_objects":749,"../../plot_api/plot_template":812,"../../plots/cartesian/constants":829,"../../plots/font_attributes":851,"./arrow_paths":635}],637:[function(t,e,n){"use strict";var r=t("../../lib"),p=t("../../plots/cartesian/axes"),i=t("./draw").draw;function o(o){var t=o._fullLayout;r.filterVisible(t.annotations).forEach(function(t){var e=p.getFromId(o,t.xref),n=p.getFromId(o,t.yref),r=p.getRefType(t.xref),i=p.getRefType(t.yref);t._extremes={},"range"===r&&a(t,e),"range"===i&&a(t,n)})}function a(t,e){var n=e._id,r=n.charAt(0),i=t[r],o=t["a"+r],a=t[r+"ref"],s=t["a"+r+"ref"],l=t["_"+r+"padplus"],u=t["_"+r+"padminus"],c={x:1,y:-1}[r]*t[r+"shift"],f=3*t.arrowsize*t.arrowwidth||0,h=f+c,d=f-c,r=3*t.startarrowsize*t.arrowwidth||0,f=r+c,c=r-c;c=s===a?(s=p.findExtremes(e,[e.r2c(i)],{ppadplus:h,ppadminus:d}),a=p.findExtremes(e,[e.r2c(o)],{ppadplus:Math.max(l,f),ppadminus:Math.max(u,c)}),{min:[s.min[0],a.min[0]],max:[s.max[0],a.max[0]]}):(f=o?f+o:f,c=o?c-o:c,p.findExtremes(e,[e.r2c(i)],{ppadplus:Math.max(l,h,f),ppadminus:Math.max(u,d,c)})),t._extremes[n]=c}e.exports=function(t){var e=t._fullLayout;if(r.filterVisible(e.annotations).length&&t._fullData.length)return r.syncOrAsync([i,o],t)}},{"../../lib":776,"../../plots/cartesian/axes":823,"./draw":642}],638:[function(t,e,n){"use strict";var l=t("../../lib"),u=t("../../registry"),c=t("../../plot_api/plot_template").arrayEditor;function f(t,e){for(var n,r,i,o,a,s,l=t._fullLayout.annotations,u=[],c=[],f=[],h=(e||[]).length,d=0;d<l.length;d++)if(i=(r=l[d]).clicktoshow){for(n=0;n<h;n++)if(a=(o=e[n]).xaxis,s=o.yaxis,a._id===r.xref&&s._id===r.yref&&a.d2r(o.x)===p(r._xclick,a)&&s.d2r(o.y)===p(r._yclick,s)){(r.visible?"onout"===i?c:f:u).push(d);break}n===h&&r.visible&&"onout"===i&&c.push(d)}return{on:u,off:c,explicitOff:f}}function p(t,e){return"log"===e.type?e.l2r(t):e.d2r(t)}e.exports={hasClickToShow:function(t,e){e=f(t,e);return 0<e.on.length||0<e.explicitOff.length},onClick:function(t,e){var n,r,e=f(t,e),i=e.on,o=e.off.concat(e.explicitOff),a={},s=t._fullLayout.annotations;if(!i.length&&!o.length)return;for(n=0;n<i.length;n++)(r=c(t.layout,"annotations",s[i[n]])).modifyItem("visible",!0),l.extendFlat(a,r.getUpdateObj());for(n=0;n<o.length;n++)(r=c(t.layout,"annotations",s[o[n]])).modifyItem("visible",!1),l.extendFlat(a,r.getUpdateObj());return u.call("update",t,{},a)}}},{"../../lib":776,"../../plot_api/plot_template":812,"../../registry":877}],639:[function(t,e,n){"use strict";var c=t("../../lib"),f=t("../color");e.exports=function(t,e,n,r){r("opacity");var i=r("bgcolor"),o=r("bordercolor"),a=f.opacity(o);r("borderpad");var s,l,u=r("borderwidth"),o=r("showarrow");r("text",o?" ":n._dfltTitle.annotation),r("textangle"),c.coerceFont(r,"font",n.font),r("width"),r("align"),r("height")&&r("valign"),o&&(-1!==(o=r("arrowside")).indexOf("end")&&(s=r("arrowhead"),l=r("arrowsize")),-1!==o.indexOf("start")&&(r("startarrowhead",s),r("startarrowsize",l)),r("arrowcolor",a?e.bordercolor:f.defaultLine),r("arrowwidth",2*(a&&u||1)),r("standoff"),r("startstandoff"));u=r("hovertext"),n=n.hoverlabel||{};u&&(i=r("hoverlabel.bgcolor",n.bgcolor||(f.opacity(i)?f.rgb(i):f.defaultLine)),i=r("hoverlabel.bordercolor",n.bordercolor||f.contrast(i)),c.coerceFont(r,"hoverlabel.font",{family:n.font.family,size:n.font.size,color:n.font.color||i})),r("captureevents",!!u)}},{"../../lib":776,"../color":646}],640:[function(t,e,n){"use strict";var f=t("fast-isnumeric"),h=t("../../lib/to_log_range");e.exports=function(t,r,e,i){r=r||{};var o="log"===e&&"linear"===r.type,e="linear"===e&&"log"===r.type;if(o||e)for(var a,s,n=t._fullLayout.annotations,l=r._id.charAt(0),u=0;u<n.length;u++)a=n[u],s="annotations["+u+"].",a[l+"ref"]===r._id&&c(l),a["a"+l+"ref"]===r._id&&c("a"+l);function c(t){var e=a[t],n=null,n=o?h(e,r.range):Math.pow(10,e);f(n)||(n=null),i(s+t,n)}}},{"../../lib/to_log_range":801,"fast-isnumeric":450}],641:[function(t,e,n){"use strict";var g=t("../../lib"),m=t("../../plots/cartesian/axes"),r=t("../../plots/array_container_defaults"),y=t("./common_defaults"),v=t("./attributes");function i(n,r,t){function e(t,e){return g.coerce(n,r,v,t,e)}var i=e("visible"),o=e("clicktoshow");if(i||o){y(n,r,t,e);for(var a=r.showarrow,s=["x","y"],l=[-10,-30],u={_fullLayout:t},c=0;c<2;c++){var f,h,d=s[c],p=m.coerceRef(n,r,u,d,"","paper");"paper"!==p&&m.getFromId(u,p)._annIndices.push(r._index),m.coercePosition(r,u,e,p,d,.5),a&&(f="a"+d,"pixel"!==(h=m.coerceRef(n,r,u,f,"pixel",["pixel","paper"]))&&h!==p&&(h=r[f]="pixel"),p="pixel"===h?l[c]:.4,m.coercePosition(r,u,e,h,f,p)),e(d+"anchor"),e(d+"shift")}g.noneOrAll(n,r,["x","y"]),a&&g.noneOrAll(n,r,["ax","ay"]),o&&(t=e("xclick"),o=e("yclick"),r._xclick=void 0===t?r.x:m.cleanPosition(t,u,r.xref),r._yclick=void 0===o?r.y:m.cleanPosition(o,u,r.yref))}}e.exports=function(t,e){r(t,e,{name:"annotations",handleItemDefaults:i})}},{"../../lib":776,"../../plots/array_container_defaults":818,"../../plots/cartesian/axes":823,"./attributes":636,"./common_defaults":639}],642:[function(t,e,n){"use strict";var a=t("d3"),it=t("../../registry"),r=t("../../plots/plots"),ot=t("../../lib"),at=ot.strTranslate,st=t("../../plots/cartesian/axes"),lt=t("../color"),ut=t("../drawing"),s=t("../fx"),ct=t("../../lib/svg_text_utils"),ft=t("../../lib/setcursor"),ht=t("../dragelement"),l=t("../../plot_api/plot_template").arrayEditor,dt=t("./draw_arrow_head");function i(t,e){var n=t._fullLayout.annotations[e]||{},r=st.getFromId(t,n.xref),i=st.getFromId(t,n.yref);r&&r.setScale(),i&&i.setScale(),o(t,n,e,!1,r,i)}function pt(t,e,n,r,i){var o=i[n],i=i[n+"ref"],n=-1!==n.indexOf("y"),i="domain"===st.getRefType(i),r=n?r.h:r.w;return t?i?o+(n?-e:e)/t._length:t.p2r(t.r2p(o)+e):o+(n?-e:e)/r}function o(N,L,e,R,D,I){var F=N._fullLayout,z=N._fullLayout._size,B=N._context.edits,t=R?(r="annotation-"+R,R+".annotations"):(r="annotation","annotations"),t=l(N.layout,t,L),U=t.modifyBase,H=t.modifyItem,q=t.getUpdateObj;F._infolayer.selectAll("."+r+'[data-index="'+e+'"]').remove();var V,G,W,Y,X,Z,$,Q,K,J,tt,n,r,et,nt="clip"+F._uid+"_ann"+e;function rt(t){t={index:e,annotation:L._input,fullAnnotation:L,event:t};return R&&(t.subplotId=R),t}function i(t){return t.call(ut.font,n).attr({"text-anchor":{left:"start",right:"end"}[L.align]||"middle"}),ct.convertToTspans(t,N,o),t}function o(){var t=et.selectAll("a");1===t.size()&&t.text()===et.text()&&Z.insert("a",":first-child").attr({"xlink:xlink:href":t.attr("xlink:href"),"xlink:xlink:show":t.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(K.node());var e=Z.select(".annotation-text-math-group"),n=!e.empty(),r=ut.bBox((n?e:et).node()),i=r.width,o=r.height,a=L.width||i,s=L.height||o,l=Math.round(a+2*Q),u=Math.round(s+2*Q);function c(t,e){return"auto"===e&&(e=t<1/3?"left":2/3<t?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[e]}for(var f,h,d,p=!1,g=["x","y"],m=0;m<g.length;m++){var y,v,b,x,_,w=g[m],k=L[w+"ref"]||w,T=L["a"+w+"ref"],M={x:D,y:I}[w],A=(G+("x"===w?0:-90))*Math.PI/180,S=l*Math.cos(A),E=u*Math.sin(A),C=Math.abs(S)+Math.abs(E),O=L[w+"anchor"],j=L[w+"shift"]*("x"===w?1:-1),P=V[w],A=st.getRefType(k);A=M&&"domain"!==A?(((v=M.r2fraction(L[w]))<0||1<v)&&(T!==k||(v=M.r2fraction(L["a"+w]))<0||1<v)&&(p=!0),v=M._offset+M.r2p(L[w]),.5):(_="domain"===A,v="x"===w?(y=L[w],_?M._offset+M._length*y:v=z.l+z.w*y):(y=1-L[w],_?M._offset+M._length*y:v=z.t+z.h*y),L.showarrow?.5:y),L.showarrow?(P.head=v,_=L["a"+w],b=S*c(.5,L.xanchor)-E*c(.5,L.yanchor),x=T===k?("domain"===(x=st.getRefType(T))?("y"===w&&(_=1-_),P.tail=M._offset+M._length*_):"paper"===x?"y"===w?(_=1-_,P.tail=z.t+z.h*_):P.tail=z.l+z.w*_:P.tail=M._offset+M.r2p(_),b):(P.tail=v+_,b+_),P.text=P.tail+b,_=F["x"===w?"width":"height"],"paper"===k&&(P.head=ot.constrain(P.head,1,_-1)),"pixel"===T&&(T=-Math.max(P.tail-3,P.text),_=Math.min(P.tail+3,P.text)-_,0<T?(P.tail+=T,P.text+=T):0<_&&(P.tail-=_,P.text-=_)),P.tail+=j,P.head+=j):(x=b=C*c(A,O),P.text=v+b),P.text+=j,b+=j,x+=j,L["_"+w+"padplus"]=C/2+x,L["_"+w+"padminus"]=C/2-x,L["_"+w+"size"]=C,L["_"+w+"shift"]=b}p?Z.remove():(t=f=0,"left"!==L.align&&(f=(a-i)*("center"===L.align?.5:1)),"top"!==L.valign&&(t=(s-o)*("middle"===L.valign?.5:1)),n?e.select("svg").attr({x:Q+f-1,y:Q+t}).call(ut.setClipUrl,J?nt:null,N):(t=Q+t-r.top,r=Q+f-r.left,et.call(ct.positionText,r,t).call(ut.setClipUrl,J?nt:null,N)),tt.select("rect").call(ut.setRect,Q,Q,a,s),K.call(ut.setRect,$/2,$/2,l-$,u-$),Z.call(ut.setTranslate,Math.round(V.x.text-l/2),Math.round(V.y.text-u/2)),Y.attr({transform:"rotate("+G+","+V.x.text+","+V.y.text+")"}),h=function(t,e){W.selectAll(".annotation-arrow-g").remove();var i,o,a,n=V.x.head,r=V.y.head,s=V.x.tail+t,l=V.y.tail+e,u=V.x.text+t,c=V.y.text+e,f=ot.rotationXYMatrix(G,u,c),h=ot.apply2DTransform(f),t=ot.apply2DTransform2(f),e=+K.attr("width"),f=+K.attr("height"),u=u-.5*e,e=u+e,c=c-.5*f,f=c+f,e=[[u,c,u,f],[u,f,e,f],[e,f,e,c],[e,c,u,c]].map(t);e.reduce(function(t,e){return t^!!ot.segmentsIntersect(n,r,n+1e6,r+1e6,e[0],e[1],e[2],e[3])},!1)||(e.forEach(function(t){t=ot.segmentsIntersect(s,l,n,r,t[0],t[1],t[2],t[3]);t&&(s=t.x,l=t.y)}),u=L.arrowwidth,c=L.arrowcolor,t=L.arrowside,e=(i=W.append("g").style({opacity:lt.opacity(c)}).classed("annotation-arrow-g",!0)).append("path").attr("d","M"+s+","+l+"L"+n+","+r).style("stroke-width",u+"px").call(lt.stroke,lt.rgb(c)),dt(e,t,L),B.annotationPosition&&e.node().parentNode&&!R&&(c=n,t=r,L.standoff&&(e=Math.sqrt(Math.pow(n-s,2)+Math.pow(r-l,2)),c+=L.standoff*(s-n)/e,t+=L.standoff*(l-r)/e),u=i.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(s-c)+","+(l-t),transform:at(c,t)}).style("stroke-width",u+6+"px").call(lt.stroke,"rgba(0,0,0,0)").call(lt.fill,"rgba(0,0,0,0)"),ht.init({element:u.node(),gd:N,prepFn:function(){var t=ut.getTranslate(Z);o=t.x,a=t.y,D&&D.autorange&&U(D._name+".autorange",!0),I&&I.autorange&&U(I._name+".autorange",!0)},moveFn:function(t,e){var n=h(o,a),r=n[0]+t,n=n[1]+e;Z.call(ut.setTranslate,r,n),H("x",pt(D,t,"x",z,L)),H("y",pt(I,e,"y",z,L)),L.axref===L.xref&&H("ax",pt(D,t,"ax",z,L)),L.ayref===L.yref&&H("ay",pt(I,e,"ay",z,L)),i.attr("transform",at(t,e)),Y.attr({transform:"rotate("+G+","+r+","+n+")"})},doneFn:function(){it.call("_guiRelayout",N,q());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})))},L.showarrow&&h(0,0),X&&ht.init({element:Z.node(),gd:N,prepFn:function(){d=Y.attr("transform")},moveFn:function(t,e){var n,r,i,o="pointer";if(L.showarrow)L.axref===L.xref?H("ax",pt(D,t,"ax",z,L)):H("ax",L.ax+t),L.ayref===L.yref?H("ay",pt(I,e,"ay",z.w,L)):H("ay",L.ay+e),h(t,e);else{if(R)return;n=D?pt(D,t,"x",z,L):(r=L._xsize/z.w,n=L.x+(L._xshift-L.xshift)/z.w-r/2,ht.align(n+t/z.w,r,0,1,L.xanchor)),i=I?pt(I,e,"y",z,L):(i=L._ysize/z.h,r=L.y-(L._yshift+L.yshift)/z.h-i/2,ht.align(r-e/z.h,i,0,1,L.yanchor)),H("x",n),H("y",i),D&&I||(o=ht.getCursor(D?.5:n,I?.5:i,L.xanchor,L.yanchor))}Y.attr({transform:at(t,e)+d}),ft(Z,o)},clickFn:function(t,e){L.captureevents&&N.emit("plotly_clickannotation",rt(e))},doneFn:function(){ft(Z),it.call("_guiRelayout",N,q());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}}))}L._input&&!1!==L.visible?(V={x:{},y:{}},G=+L.textangle||0,W=F._infolayer.append("g").classed(r,!0).attr("data-index",String(e)).style("opacity",L.opacity),Y=W.append("g").classed("annotation-text-g",!0),X=B[L.showarrow?"annotationTail":"annotationPosition"],r=L.captureevents||B.annotationText||X,Z=Y.append("g").style("pointer-events",r?"all":null).call(ft,"pointer").on("click",function(){N._dragging=!1,N.emit("plotly_clickannotation",rt(a.event))}),L.hovertext&&Z.on("mouseover",function(){var t=L.hoverlabel,e=t.font,n=this.getBoundingClientRect(),r=N.getBoundingClientRect();s.loneHover({x0:n.left-r.left,x1:n.right-r.left,y:(n.top+n.bottom)/2-r.top,text:L.hovertext,color:t.bgcolor,borderColor:t.bordercolor,fontFamily:e.family,fontSize:e.size,fontColor:e.color},{container:F._hoverlayer.node(),outerContainer:F._paper.node(),gd:N})}).on("mouseout",function(){s.loneUnhover(F._hoverlayer.node())}),$=L.borderwidth,r=L.borderpad,Q=$+r,K=Z.append("rect").attr("class","bg").style("stroke-width",$+"px").call(lt.stroke,L.bordercolor).call(lt.fill,L.bgcolor),J=L.width||L.height,(tt=F._topclips.selectAll("#"+nt).data(J?[0]:[])).enter().append("clipPath").classed("annclip",!0).attr("id",nt).append("rect"),tt.exit().remove(),n=L.font,r=F._meta?ot.templateString(L.text,F._meta):L.text,et=Z.append("text").classed("annotation-text",!0).text(r),B.annotationText?et.call(ct.makeEditable,{delegate:Z,gd:N}).call(i).on("edit",function(t){L.text=t,this.call(i),H("text",t),D&&D.autorange&&U(D._name+".autorange",!0),I&&I.autorange&&U(I._name+".autorange",!0),it.call("_guiRelayout",N,q())}):et.call(i)):a.selectAll("#"+nt).remove()}e.exports={draw:function(t){var e=t._fullLayout;e._infolayer.selectAll(".annotation").remove();for(var n=0;n<e.annotations.length;n++)e.annotations[n].visible&&i(t,n);return r.previousPromises(t)},drawOne:i,drawRaw:o}},{"../../lib":776,"../../lib/setcursor":795,"../../lib/svg_text_utils":799,"../../plot_api/plot_template":812,"../../plots/cartesian/axes":823,"../../plots/plots":868,"../../registry":877,"../color":646,"../dragelement":665,"../drawing":668,"../fx":686,"./draw_arrow_head":643,d3:629}],643:[function(t,e,n){"use strict";var k=t("d3"),T=t("../color"),M=t("./arrow_paths"),t=t("../../lib"),A=t.strScale,S=t.strRotate,E=t.strTranslate;e.exports=function(i,t,o){var e,n,a=i.node(),r=M[o.arrowhead||0],s=M[o.startarrowhead||0],l=(o.arrowwidth||1)*(o.arrowsize||1),u=(o.arrowwidth||1)*(o.startarrowsize||1),c=0<=t.indexOf("start"),f=0<=t.indexOf("end"),h=r.backoff*l+o.standoff,d=s.backoff*u+o.startstandoff;if("line"===a.nodeName){e={x:+i.attr("x1"),y:+i.attr("y1")},n={x:+i.attr("x2"),y:+i.attr("y2")};var p,g=e.x-n.x,m=e.y-n.y,y=(p=Math.atan2(m,g))+Math.PI;if(h&&d&&h+d>Math.sqrt(g*g+m*m))return void _();if(h){if(g*g+m*m<h*h)return void _();var v=h*Math.cos(p),t=h*Math.sin(p);n.x+=v,n.y+=t,i.attr({x2:n.x,y2:n.y})}if(d){if(g*g+m*m<d*d)return void _();var b=d*Math.cos(p),x=d*Math.sin(p);e.x-=b,e.y-=x,i.attr({x1:e.x,y1:e.y})}}else if("path"===a.nodeName){g=a.getTotalLength();if(g<h+d)return void _();b=a.getPointAtLength(0),x=a.getPointAtLength(.1);p=Math.atan2(b.y-x.y,b.x-x.x),e=a.getPointAtLength(Math.min(d,g)),m="0px,"+d+"px,";b=a.getPointAtLength(g),x=a.getPointAtLength(g-.1);y=Math.atan2(b.y-x.y,b.x-x.x),n=a.getPointAtLength(Math.max(0,g-h)),m+=g-(m?d+h:h)+"px,"+g+"px",i.style("stroke-dasharray",m)}function _(){i.style("stroke-dasharray","0px,100px")}function w(t,e,n,r){t.path&&(t.noRotate&&(n=0),k.select(a.parentNode).append("path").attr({class:i.attr("class"),d:t.path,transform:E(e.x,e.y)+S(180*n/Math.PI)+A(r)}).style({fill:T.rgb(o.arrowcolor),"stroke-width":0}))}c&&w(s,e,p,u),f&&w(r,n,y,l)}},{"../../lib":776,"../color":646,"./arrow_paths":635,d3:629}],644:[function(t,e,n){"use strict";var r=t("./draw"),i=t("./click");e.exports={moduleType:"component",name:"annotations",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),includeBasePlot:t("../../plots/cartesian/include_components")("annotations"),calcAutorange:t("./calc_autorange"),draw:r.draw,drawOne:r.drawOne,drawRaw:r.drawRaw,hasClickToShow:i.hasClickToShow,onClick:i.onClick,convertCoords:t("./convert_coords")}},{"../../plots/cartesian/include_components":835,"./attributes":636,"./calc_autorange":637,"./click":638,"./convert_coords":640,"./defaults":641,"./draw":642}],645:[function(t,e,n){"use strict";n.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],n.defaultLine="#444",n.lightLine="#eee",n.background="#fff",n.borderLine="#BEC8D9",n.lightFraction=1e3/11},{}],646:[function(t,e,n){"use strict";var i=t("tinycolor2"),o=t("fast-isnumeric"),a=e.exports={},t=t("./attributes");a.defaults=t.defaults;var s=a.defaultLine=t.defaultLine;a.lightLine=t.lightLine;var l=a.background=t.background;function u(t){if(o(t)||"string"!=typeof t)return t;var e=t.trim();if("rgb"!==e.substr(0,3))return t;var n=e.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var r=n[1].trim().split(/\s*[\s,]\s*/),n="a"===e.charAt(3)&&4===r.length;if(!n&&3!==r.length)return t;for(var i=0;i<r.length;i++){if(!r[i].length)return t;if(r[i]=Number(r[i]),!(0<=r[i]))return t;if(3===i)1<r[i]&&(r[i]=1);else if(1<=r[i])return t}e=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return n?"rgba("+e+", "+r[3]+")":"rgb("+e+")"}a.tinyRGB=function(t){t=t.toRgb();return"rgb("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+")"},a.rgb=function(t){return a.tinyRGB(i(t))},a.opacity=function(t){return t?i(t).getAlpha():0},a.addOpacity=function(t,e){t=i(t).toRgb();return"rgba("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+", "+e+")"},a.combine=function(t,e){var n=i(t).toRgb();if(1===n.a)return i(t).toRgbString();e=i(e||l).toRgb(),e=1===e.a?e:{r:255*(1-e.a)+e.r*e.a,g:255*(1-e.a)+e.g*e.a,b:255*(1-e.a)+e.b*e.a},n={r:e.r*(1-n.a)+n.r*n.a,g:e.g*(1-n.a)+n.g*n.a,b:e.b*(1-n.a)+n.b*n.a};return i(n).toRgbString()},a.contrast=function(t,e,n){var r=i(t);return 1!==r.getAlpha()&&(r=i(a.combine(t,l))),(r.isDark()?e?r.lighten(e):l:n?r.darken(n):s).toString()},a.stroke=function(t,e){e=i(e);t.style({stroke:a.tinyRGB(e),"stroke-opacity":e.getAlpha()})},a.fill=function(t,e){e=i(e);t.style({fill:a.tinyRGB(e),"fill-opacity":e.getAlpha()})},a.clean=function(t){if(t&&"object"==typeof t)for(var e,n,r=Object.keys(t),i=0;i<r.length;i++)if(n=t[o=r[i]],"color"===o.substr(o.length-5))if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]=u(n[e]);else t[o]=u(n);else if("colorscale"===o.substr(o.length-10)&&Array.isArray(n))for(e=0;e<n.length;e++)Array.isArray(n[e])&&(n[e][1]=u(n[e][1]));else if(Array.isArray(n)){var o=n[0];if(!Array.isArray(o)&&o&&"object"==typeof o)for(e=0;e<n.length;e++)a.clean(n[e])}else n&&"object"==typeof n&&a.clean(n)}},{"./attributes":645,"fast-isnumeric":450,tinycolor2:1005}],647:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/layout_attributes"),i=t("../../plots/font_attributes"),o=t("../../lib/extend").extendFlat,t=t("../../plot_api/edit_types").overrideAll;e.exports=t({thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",dflt:1.02,min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",dflt:.5,min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{valType:"number",min:0,dflt:10},outlinecolor:r.linecolor,outlinewidth:r.linewidth,bordercolor:r.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:o({},r.ticks,{dflt:""}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside bottom","inside bottom"],dflt:"outside"},ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,tickfont:i({}),tickangle:r.tickangle,tickformat:r.tickformat,tickformatstops:r.tickformatstops,tickprefix:r.tickprefix,showtickprefix:r.showtickprefix,ticksuffix:r.ticksuffix,showticksuffix:r.showticksuffix,separatethousands:r.separatethousands,exponentformat:r.exponentformat,minexponent:r.minexponent,showexponent:r.showexponent,title:{text:{valType:"string"},font:i({}),side:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}},_deprecated:{title:{valType:"string"},titlefont:i({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":769,"../../plot_api/edit_types":805,"../../plots/cartesian/layout_attributes":837,"../../plots/font_attributes":851}],648:[function(t,e,n){"use strict";e.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],649:[function(t,e,n){"use strict";var a=t("../../lib"),s=t("../../plot_api/plot_template"),l=t("../../plots/cartesian/tick_value_defaults"),u=t("../../plots/cartesian/tick_mark_defaults"),c=t("../../plots/cartesian/tick_label_defaults"),f=t("./attributes");e.exports=function(t,e,n){var r=s.newContainer(e,"colorbar"),i=t.colorbar||{};function o(t,e){return a.coerce(i,r,f,t,e)}e=o("thicknessmode");o("thickness","fraction"===e?30/(n.width-n.margin.l-n.margin.r):30);t=o("lenmode");o("len","fraction"===t?1:n.height-n.margin.t-n.margin.b),o("x"),o("xanchor"),o("xpad"),o("y"),o("yanchor"),o("ypad"),a.noneOrAll(i,r,["x","y"]),o("outlinecolor"),o("outlinewidth"),o("bordercolor"),o("borderwidth"),o("bgcolor");e=o("ticklabelposition");l(i,r,o,"linear");t={outerTicks:!1,font:n.font};-1!==e.indexOf("inside")&&(t.bgColor="black"),c(i,r,o,"linear",t),u(i,r,o,"linear",t),o("title.text",n._dfltTitle.colorbar),a.coerceFont(o,"title.font",n.font),o("title.side")}},{"../../lib":776,"../../plot_api/plot_template":812,"../../plots/cartesian/tick_label_defaults":844,"../../plots/cartesian/tick_mark_defaults":845,"../../plots/cartesian/tick_value_defaults":846,"./attributes":647}],650:[function(t,e,n){"use strict";var N=t("d3"),L=t("tinycolor2"),R=t("../../plots/plots"),f=t("../../registry"),D=t("../../plots/cartesian/axes"),h=t("../dragelement"),I=t("../../lib"),F=I.strTranslate,z=t("../../lib/extend").extendFlat,d=t("../../lib/setcursor"),B=t("../drawing"),U=t("../color"),H=t("../titles"),q=t("../../lib/svg_text_utils"),v=t("../colorscale/helpers").flipScale,V=t("../../plots/cartesian/axis_defaults"),G=t("../../plots/cartesian/position_defaults"),W=t("../../plots/cartesian/layout_attributes"),r=t("../../constants/alignment"),Y=r.LINE_SPACING,X=r.FROM_TL,Z=r.FROM_BR,$=t("./constants").cn;e.exports={draw:function(c){var t=c._fullLayout._infolayer.selectAll("g."+$.colorbar).data(function(t){var e,n,r,i,o=t._fullLayout,a=t.calcdata,s=[];function l(t){return z(t,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function u(){"function"==typeof i.calc?i.calc(t,r,e):(e._fillgradient=n.reversescale?v(n.colorscale):n.colorscale,e._zrange=[n[i.min],n[i.max]])}for(var c,f=0;f<a.length;f++){var h=a[f],h=(r=h[0].trace)._module.colorbar;if(!0===r.visible&&h)for(var d=Array.isArray(h),p=d?h:[h],g=0;g<p.length;g++){var m=(i=p[g]).container;(n=m?r[m]:r)&&n.showscale&&((e=l(n.colorbar))._id="cb"+r.uid+(d&&m?"-"+m:""),e._traceIndex=r.index,e._propPrefix=(m?m+".":"")+"colorbar.",e._meta=r._meta,u(),s.push(e))}}for(c in o._colorAxes){var y;(n=o[c]).showscale&&(y=o._colorAxes[c],(e=l(n.colorbar))._id="cb"+c,e._propPrefix=c+".colorbar.",e._meta=o._meta,i={min:"cmin",max:"cmax"},"heatmap"!==y[0]&&(r=y[1],i.calc=r._module.colorbar.calc),u(),s.push(e))}return s}(c),function(t){return t._id});t.enter().append("g").attr("class",function(t){return t._id}).classed($.colorbar,!0),t.each(function(t){var e=N.select(this);I.ensureSingle(e,"rect",$.cbbg),I.ensureSingle(e,"g",$.cbfills),I.ensureSingle(e,"g",$.cblines),I.ensureSingle(e,"g",$.cbaxis,function(t){t.classed($.crisp,!0)}),I.ensureSingle(e,"g",$.cbtitleunshift,function(t){t.append("g").classed($.cbtitle,!0)}),I.ensureSingle(e,"rect",$.cboutline);var n,r,i,o,a,s,l,u=function(a,s,l){var i=l._fullLayout,u=i._size,t=s._fillcolor,c=s._line,e=s.title,f=e.side,h=s._zrange||N.extent(("function"==typeof t?t:c.color).domain()),d="function"==typeof c.color?c.color:function(){return c.color},p="function"==typeof t?t:function(){return t},n=s._levels,r=function(t,e){var n,r,i=t._levels,o=[],a=[],s=i.end+i.size/100,l=i.size,u=1.001*e[0]-.001*e[1],c=1.001*e[1]-.001*e[0];for(r=0;r<1e5&&(n=i.start+r*l,!(0<l?s<=n:n<=s));r++)u<n&&n<c&&o.push(n);if(t._fillgradient)a=[0];else if("function"==typeof t._fillcolor){var f=t._filllevels;if(f)for(s=f.end+f.size/100,l=f.size,r=0;r<1e5&&(n=f.start+r*l,!(0<l?s<=n:n<=s));r++)n>e[0]&&n<e[1]&&a.push(n);else(a=o.map(function(t){return t-i.size/2})).push(a[a.length-1]+i.size)}else t._fillcolor&&"string"==typeof t._fillcolor&&(a=[0]);i.size<0&&(o.reverse(),a.reverse());return{line:o,fill:a}}(s,h),g=r.fill,m=r.line,y=Math.round(s.thickness*("fraction"===s.thicknessmode?u.w:1)),o=y/u.w,v=Math.round(s.len*("fraction"===s.lenmode?u.h:1)),b=v/u.h,x=s.xpad/u.w,_=(s.borderwidth+s.outlinewidth)/2,w=s.ypad/u.h,k=Math.round(s.x*u.w+s.xpad),r=s.x-o*({middle:.5,right:1}[s.xanchor]||0),T=s.y+b*(({top:-.5,bottom:.5}[s.yanchor]||0)-.5),M=Math.round(u.h*(1-T)),A=M-v;s._lenFrac=b,s._thickFrac=o,s._xLeftFrac=r,s._yBottomFrac=T;var S=s._axis=function(t,e,n){var t=t._fullLayout,r={type:"linear",range:n,tickmode:e.tickmode,nticks:e.nticks,tick0:e.tick0,dtick:e.dtick,tickvals:e.tickvals,ticktext:e.ticktext,ticks:e.ticks,ticklen:e.ticklen,tickwidth:e.tickwidth,tickcolor:e.tickcolor,showticklabels:e.showticklabels,ticklabelposition:e.ticklabelposition,tickfont:e.tickfont,tickangle:e.tickangle,tickformat:e.tickformat,exponentformat:e.exponentformat,minexponent:e.minexponent,separatethousands:e.separatethousands,showexponent:e.showexponent,showtickprefix:e.showtickprefix,tickprefix:e.tickprefix,showticksuffix:e.showticksuffix,ticksuffix:e.ticksuffix,title:e.title,showline:!0,anchor:"free",side:"right",position:1},i={type:"linear",_id:"y"+e._id},e={letter:"y",font:t.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:t.calendar};function o(t,e){return I.coerce(r,i,W,t,e)}return V(r,i,o,e,t),G(r,i,o,e),i}(l,s,h);S.position=s.x+x+o,-1!==["top","bottom"].indexOf(f)&&(S.title.side=f,S.titlex=s.x+x,S.titley=T+("top"===e.side?b-w:w));c.color&&"auto"===s.tickmode&&(S.tickmode="linear",S.tick0=n.start,r=n.size,o=I.constrain((M-A)/50,4,15)+1,1<(e=(h[1]-h[0])/((s.nticks||o)*r))&&(o=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),r*=o*I.roundUp(e/o,[2,5,10]),(Math.abs(n.start)/n.size+1e-6)%1<2e-6&&(S.tick0=0)),S.dtick=r);S.domain=[T+w,T+b-w],S.setScale(),a.attr("transform",F(Math.round(u.l),Math.round(u.t)));var E,C=a.select("."+$.cbtitleunshift).attr("transform",F(-Math.round(u.l),-Math.round(u.t))),O=a.select("."+$.cbaxis),j=0;function P(t,e){var n={propContainer:S,propName:s._propPrefix+"title",traceIndex:s._traceIndex,_meta:s._meta,placeholder:i._dfltTitle.colorbar,containerGroup:a.select("."+$.cbtitle)},r="h"===t.charAt(0)?t.substr(1):"h"+t;a.selectAll("."+r+",."+r+"-math-group").remove(),H.draw(l,t,z(n,e||{}))}return I.syncOrAsync([R.previousPromises,function(){var t,e;-1!==["top","bottom"].indexOf(f)&&(t=u.l+(s.x+x)*u.w,e=S.title.font.size,e="top"===f?(1-(T+b-w))*u.h+u.t+3+.75*e:(1-(T+w))*u.h+u.t-3-.25*e,P(S._id+"title",{attributes:{x:t,y:e,"text-anchor":"start"}}))},function(){var t,e;-1!==["top","bottom"].indexOf(f)&&(e=(o=a.select("."+$.cbtitle)).select("text"),r=[-s.outlinewidth/2,s.outlinewidth/2],t=o.select(".h"+S._id+"title-math-group").node(),i=15.6,e.node()&&(i=parseInt(e.node().style.fontSize,10)*Y),t?i<(j=B.bBox(t).height)&&(r[1]-=(j-i)/2):e.node()&&!e.classed($.jsPlaceholder)&&(j=B.bBox(e.node()).height),j&&(j+=5,"top"===f?(S.domain[1]-=j/u.h,r[1]*=-1):(S.domain[0]+=j/u.h,e=q.lineCount(e),r[1]+=(1-e)*i),o.attr("transform",F(r[0],r[1])),S.setScale())),a.selectAll("."+$.cbfills+",."+$.cblines).attr("transform",F(0,Math.round(u.h*(1-S.domain[1])))),O.attr("transform",F(0,Math.round(-u.t))),(i=a.select("."+$.cbfills).selectAll("rect."+$.cbfill).attr("style","").data(g)).enter().append("rect").classed($.cbfill,!0).style("stroke","none"),i.exit().remove();var n=h.map(S.c2p).map(Math.round).sort(function(t,e){return t-e});i.each(function(t,e){e=[0===e?h[0]:(g[e]+g[e-1])/2,e===g.length-1?h[1]:(g[e]+g[e+1])/2].map(S.c2p).map(Math.round);e[1]=I.constrain(e[1]+(e[1]>e[0])?1:-1,n[0],n[1]);e=N.select(this).attr({x:k,width:Math.max(y,2),y:N.min(e),height:Math.max(N.max(e)-N.min(e),2)});s._fillgradient?B.gradient(e,l,s._id,"vertical",s._fillgradient,"fill"):(t=p(t).replace("e-",""),e.attr("fill",L(t).toHexString()))}),(o=a.select("."+$.cblines).selectAll("path."+$.cbline).data(c.color&&c.width?m:[])).enter().append("path").classed($.cbline,!0),o.exit().remove(),o.each(function(t){N.select(this).attr("d","M"+k+","+(Math.round(S.c2p(t))+c.width/2%1)+"h"+y).call(B.lineGroupStyle,c.width,d(t),c.dash)}),O.selectAll("g."+S._id+"tick,path").remove();var r=k+y+(s.outlinewidth||0)/2-("outside"===s.ticks?1:0),i=D.calcTicks(S),o=D.getTickSigns(S)[2];return D.drawTicks(l,S,{vals:"inside"===S.ticks?D.clipEnds(S,i):i,layer:O,path:D.makeTickPath(S,r,o),transFn:D.makeTransTickFn(S)}),D.drawLabels(l,S,{vals:i,layer:O,transFn:D.makeTransTickLabelFn(S),labelFns:D.makeLabelFns(S,r)})},function(){var t,e;-1===["top","bottom"].indexOf(f)&&(e=S.title.font.size,t=S._offset+S._length/2,e=u.l+(S.position||0)*u.w+("right"===S.side?10+e*(S.showticklabels?1:.5):-10-e*(S.showticklabels?.5:0)),P("h"+S._id+"title",{avoid:{selection:N.select(l).selectAll("g."+S._id+"tick"),side:f,offsetLeft:u.l,offsetTop:0,maxShift:i.width},attributes:{x:e,y:t,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}}))},R.previousPromises,function(){var t=y+s.outlinewidth/2;-1===S.ticklabelposition.indexOf("inside")&&(t+=B.bBox(O.node()).width),(E=C.select("text")).node()&&!E.classed($.jsPlaceholder)&&(i=(r=C.select(".h"+S._id+"title-math-group").node())&&-1!==["top","bottom"].indexOf(f)?B.bBox(r).width:B.bBox(C.node()).right-k-u.l,t=Math.max(t,i));var e=2*s.xpad+t+s.borderwidth+s.outlinewidth/2,n=M-A;a.select("."+$.cbbg).attr({x:k-s.xpad-(s.borderwidth+s.outlinewidth)/2,y:A-_,width:Math.max(e,2),height:Math.max(n+2*_,2)}).call(U.fill,s.bgcolor).call(U.stroke,s.bordercolor).style("stroke-width",s.borderwidth),a.selectAll("."+$.cboutline).attr({x:k,y:A+s.ypad+("top"===f?j:0),width:Math.max(y,2),height:Math.max(n-2*s.ypad-j,2)}).call(U.stroke,s.outlinecolor).style({fill:"none","stroke-width":s.outlinewidth});var r=({center:.5,right:1}[s.xanchor]||0)*e;a.attr("transform",F(u.l-r,u.t));var i={},t=X[s.yanchor],r=Z[s.yanchor];"pixels"===s.lenmode?(i.y=s.y,i.t=n*t,i.b=n*r):(i.t=i.b=0,i.yt=s.y+s.len*t,i.yb=s.y-s.len*r),t=X[s.xanchor],r=Z[s.xanchor],"pixels"===s.thicknessmode?(i.x=s.x,i.l=e*t,i.r=e*r):(e=e-y,i.l=e*t,i.r=e*r,i.xl=s.x-s.thickness*t,i.xr=s.x+s.thickness*r),R.autoMargin(l,s._id,i)}],l)}(e,t,c);u&&u.then&&(c._promises||[]).push(u),c._context.edits.colorbarPosition&&(n=e,r=t,l=(i=c)._fullLayout._size,h.init({element:n.node(),gd:i,prepFn:function(){o=n.attr("transform"),d(n)},moveFn:function(t,e){n.attr("transform",o+F(t,e)),a=h.align(r._xLeftFrac+t/l.w,r._thickFrac,0,1,r.xanchor),s=h.align(r._yBottomFrac-e/l.h,r._lenFrac,0,1,r.yanchor);e=h.getCursor(a,s,r.xanchor,r.yanchor);d(n,e)},doneFn:function(){var t;d(n),void 0!==a&&void 0!==s&&((t={})[r._propPrefix+"x"]=a,t[r._propPrefix+"y"]=s,void 0!==r._traceIndex?f.call("_guiRestyle",i,t,r._traceIndex):f.call("_guiRelayout",i,t))}}))}),t.exit().each(function(t){R.autoMargin(c,t._id)}).remove(),t.order()}}},{"../../constants/alignment":748,"../../lib":776,"../../lib/extend":769,"../../lib/setcursor":795,"../../lib/svg_text_utils":799,"../../plots/cartesian/axes":823,"../../plots/cartesian/axis_defaults":825,"../../plots/cartesian/layout_attributes":837,"../../plots/cartesian/position_defaults":840,"../../plots/plots":868,"../../registry":877,"../color":646,"../colorscale/helpers":657,"../dragelement":665,"../drawing":668,"../titles":741,"./constants":648,d3:629,tinycolor2:1005}],651:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t){return r.isPlainObject(t.colorbar)}},{"../../lib":776}],652:[function(t,e,n){"use strict";e.exports={moduleType:"component",name:"colorbar",attributes:t("./attributes"),supplyDefaults:t("./defaults"),draw:t("./draw").draw,hasColorbar:t("./has_colorbar")}},{"./attributes":647,"./defaults":649,"./draw":650,"./has_colorbar":651}],653:[function(t,e,n){"use strict";var d=t("../colorbar/attributes"),p=t("../../lib/regex").counter,g=t("./scales.js").scales;Object.keys(g);function m(t){return"`"+t+"`"}e.exports=function(t,e){t=t||"";var n,r=(e=e||{}).cLetter||"c",i="onlyIfNumerical"in e?e.onlyIfNumerical:Boolean(t),o="noScale"in e?e.noScale:"marker.line"===t,a="showScaleDflt"in e?e.showScaleDflt:"z"===r,s="string"==typeof e.colorscaleDflt?g[e.colorscaleDflt]:null,l=e.editTypeOverride||"",u=t?t+".":"",c="colorAttr"in e?(n=e.colorAttr,e.colorAttr):"in "+m(u+(n={z:"z",c:"color"}[r])),f=r+"auto",h=r+"min",t=r+"max",i=r+"mid",c=(m(u+f),m(u+h),m(u+t),{});c[h]=c[t]=void 0;r={};r[f]=!1;u={};return"color"===n&&(u.color={valType:"color",arrayOk:!0,editType:l||"style"},e.anim&&(u.color.anim=!0)),u[f]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:c},u[h]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:r},u[t]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:r},u[i]={valType:"number",dflt:null,editType:"calc",impliedEdits:c},u.colorscale={valType:"colorscale",editType:"calc",dflt:s,impliedEdits:{autocolorscale:!1}},u.autocolorscale={valType:"boolean",dflt:!1!==e.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},u.reversescale={valType:"boolean",dflt:!1,editType:"plot"},o||(u.showscale={valType:"boolean",dflt:a,editType:"calc"},u.colorbar=d),e.noColorAxis||(u.coloraxis={valType:"subplotid",regex:p("coloraxis"),dflt:null,editType:"calc"}),u}},{"../../lib/regex":791,"../colorbar/attributes":647,"./scales.js":661}],654:[function(t,e,n){"use strict";var c=t("fast-isnumeric"),f=t("../../lib"),h=t("./helpers").extractOpts;e.exports=function(t,e,n){var r=t._fullLayout,i=n.vals,o=n.containerStr,a=o?f.nestedProperty(e,o).get():e,s=h(a),l=!1!==s.auto,u=s.min,t=s.max,n=s.mid,o=function(){return f.aggNums(Math.min,null,i)},e=function(){return f.aggNums(Math.max,null,i)};void 0===u?u=o():l&&(u=a._colorAx&&c(u)?Math.min(u,o()):o()),void 0===t?t=e():l&&(t=a._colorAx&&c(t)?Math.max(t,e()):e()),l&&void 0!==n&&(n-u<t-n?u=n-(t-n):t-n<n-u&&(t=n+(n-u))),u===t&&(u-=.5,t+=.5),s._sync("min",u),s._sync("max",t),s.autocolorscale&&(r=u*t<0?r.colorscale.diverging:0<=u?r.colorscale.sequential:r.colorscale.sequentialminus,s._sync("colorscale",r))}},{"../../lib":776,"./helpers":657,"fast-isnumeric":450}],655:[function(t,e,n){"use strict";var u=t("../../lib"),c=t("./helpers").hasColorscale,f=t("./helpers").extractOpts;e.exports=function(t,i){function o(t,e){var n=t["_"+e];void 0!==n&&(t[e]=n)}function e(t,e){var n,r=e.container?u.nestedProperty(t,e.container).get():t;r&&(r.coloraxis?r._colorAx=i[r.coloraxis]:(!(t=(n=f(r)).auto)&&void 0!==n.min||o(r,e.min),!t&&void 0!==n.max||o(r,e.max),n.autocolorscale&&o(r,"colorscale")))}for(var n,r=0;r<t.length;r++){var a=t[r],s=a._module.colorbar;if(s)if(Array.isArray(s))for(var l=0;l<s.length;l++)e(a,s[l]);else e(a,s);c(a,"marker.line")&&e(a,{container:"marker.line",min:"cmin",max:"cmax"})}for(n in i._colorAxes)e(i[n],{min:"cmin",max:"cmax"})}},{"../../lib":776,"./helpers":657}],656:[function(t,e,n){"use strict";var b=t("fast-isnumeric"),x=t("../../lib"),_=t("../colorbar/has_colorbar"),w=t("../colorbar/defaults"),k=t("./scales").isValid,T=t("../../registry").traceIs;function M(t,e){var n=e.slice(0,e.length-1);return e?x.nestedProperty(t,n).get()||{}:t}e.exports=function t(e,n,r,i,o){var a=o.prefix,s=o.cLetter,l="_module"in n,u=M(e,a),c=M(n,a),f=M(n._template||{},a)||{},h=function(){return delete e.coloraxis,delete n.coloraxis,t(e,n,r,i,o)};if(l){var d=r._colorAxes||{},p=i(a+"coloraxis");if(p){var g=T(n,"contour")&&x.nestedProperty(n,"contours.coloring").get()||"heatmap",m=d[p];return void(m?(m[2].push(h),m[0]!==g&&(m[0]=!1,x.warn(["Ignoring coloraxis:",p,"setting","as it is linked to incompatible colorscales."].join(" ")))):d[p]=[g,n,[h]])}}g=u[s+"min"],h=u[s+"max"],h=b(g)&&b(h)&&g<h;i(a+s+"auto",!h)?i(a+s+"mid"):(i(a+s+"min"),i(a+s+"max"));var y,v,h=u.colorscale,s=f.colorscale;void 0!==h&&(y=!k(h)),void 0!==s&&(y=!k(s)),i(a+"autocolorscale",y),i(a+"colorscale"),i(a+"reversescale"),"marker.line."!==a&&(a&&l&&(v=_(u)),i(a+"showscale",v)&&(a&&f&&(c._template=f),w(u,c,r)))}},{"../../lib":776,"../../registry":877,"../colorbar/defaults":649,"../colorbar/has_colorbar":651,"./scales":661,"fast-isnumeric":450}],657:[function(t,e,n){"use strict";var u=t("d3"),c=t("tinycolor2"),f=t("fast-isnumeric"),a=t("../../lib"),h=t("../color"),s=t("./scales").isValid;var l=["showscale","autocolorscale","colorscale","reversescale","colorbar"],d=["min","max","mid","auto"];function p(t){var n,e,r=t._colorAx,i=r||t,o={};for(s=0;s<l.length;s++)o[e=l[s]]=i[e];if(r)for(n="c",s=0;s<d.length;s++)o[e=d[s]]=i["c"+e];else{for(var a,s=0;s<d.length;s++)((a="c"+(e=d[s]))in i||(a="z"+e)in i)&&(o[e]=i[a]);n=a.charAt(0)}return o._sync=function(t,e){t=-1!==d.indexOf(t)?n+t:t;i[t]=i["_"+t]=e},o}function r(t){for(var t=p(t),e=t.min,n=t.max,r=t.reversescale?g(t.colorscale):t.colorscale,i=r.length,o=new Array(i),a=new Array(i),s=0;s<i;s++){var l=r[s];o[s]=e+l[0]*(n-e),a[s]=l[1]}return{domain:o,range:a}}function g(t){for(var e=t.length,n=new Array(e),r=e-1,i=0;0<=r;r--,i++){var o=t[r];n[i]=[1-o[0],o[1]]}return n}function i(t,e){e=e||{};for(var n=t.domain,r=t.range,i=r.length,o=new Array(i),a=0;a<i;a++){var s=c(r[a]).toRgb();o[a]=[s.r,s.g,s.b,s.a]}var l=u.scale.linear().domain(n).range(o).clamp(!0),n=e.noNumericCheck,e=e.returnArray,e=n&&e?l:n?function(t){return m(l(t))}:e?function(t){return f(t)?l(t):c(t).isValid()?t:h.defaultLine}:function(t){return f(t)?m(l(t)):c(t).isValid()?t:h.defaultLine};return e.domain=l.domain,e.range=function(){return r},e}function m(t){t={r:t[0],g:t[1],b:t[2],a:t[3]};return c(t).toRgbString()}e.exports={hasColorscale:function(t,e,n){var r=(t=e?a.nestedProperty(t,e).get()||{}:t)[n||"color"],i=!1;if(a.isArrayOrTypedArray(r))for(var o=0;o<r.length;o++)if(f(r[o])){i=!0;break}return a.isPlainObject(t)&&(i||!0===t.showscale||f(t.cmin)&&f(t.cmax)||s(t.colorscale)||a.isPlainObject(t.colorbar))},extractOpts:p,extractScale:r,flipScale:g,makeColorScaleFunc:i,makeColorScaleFuncFromTrace:function(t,e){return i(r(t),e)}}},{"../../lib":776,"../color":646,"./scales":661,d3:629,"fast-isnumeric":450,tinycolor2:1005}],658:[function(t,e,n){"use strict";var r=t("./scales"),i=t("./helpers");e.exports={moduleType:"component",name:"colorscale",attributes:t("./attributes"),layoutAttributes:t("./layout_attributes"),supplyLayoutDefaults:t("./layout_defaults"),handleDefaults:t("./defaults"),crossTraceDefaults:t("./cross_trace_defaults"),calc:t("./calc"),scales:r.scales,defaultScale:r.defaultScale,getScale:r.get,isValidScale:r.isValid,hasColorscale:i.hasColorscale,extractOpts:i.extractOpts,extractScale:i.extractScale,flipScale:i.flipScale,makeColorScaleFunc:i.makeColorScaleFunc,makeColorScaleFuncFromTrace:i.makeColorScaleFuncFromTrace}},{"./attributes":653,"./calc":654,"./cross_trace_defaults":655,"./defaults":656,"./helpers":657,"./layout_attributes":659,"./layout_defaults":660,"./scales":661}],659:[function(t,e,n){"use strict";var r=t("../../lib/extend").extendFlat,i=t("./attributes"),t=t("./scales").scales;e.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:t.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:t.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:t.RdBu,editType:"calc"}},coloraxis:r({_isSubplotObj:!0,editType:"calc"},i("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":769,"./attributes":653,"./scales":661}],660:[function(t,e,n){"use strict";var c=t("../../lib"),f=t("../../plot_api/plot_template"),h=t("./layout_attributes"),d=t("./defaults");e.exports=function(n,r){function t(t,e){return c.coerce(n,r,h,t,e)}t("colorscale.sequential"),t("colorscale.sequentialminus"),t("colorscale.diverging");var i,o,e,a=r._colorAxes;function s(t,e){return c.coerce(i,o,h.coloraxis,t,e)}for(e in a){var l=a[e];if(l[0])i=n[e]||{},(o=f.newContainer(r,e,"coloraxis"))._name=e,d(i,o,r,s,{prefix:"",cLetter:"c"});else{for(var u=0;u<l[2].length;u++)l[2][u]();delete r._colorAxes[e]}}}},{"../../lib":776,"../../plot_api/plot_template":812,"./defaults":656,"./layout_attributes":659}],661:[function(t,e,n){"use strict";var i=t("tinycolor2"),r={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},o=r.RdBu;function a(t){var e=0;if(!Array.isArray(t)||t.length<2)return!1;if(!t[0]||!t[t.length-1])return!1;if(0!=+t[0][0]||1!=+t[t.length-1][0])return!1;for(var n=0;n<t.length;n++){var r=t[n];if(2!==r.length||+r[0]<e||!i(r[1]).isValid())return!1;e=+r[0]}return!0}e.exports={scales:r,defaultScale:o,get:function(e,n){return n=n||o,e?("string"==typeof e&&(t(),"string"==typeof e&&t()),a(e)?e:n):n;function t(){try{e=r[e]||JSON.parse(e)}catch(t){e=n}}},isValid:function(t){return void 0!==r[t]||a(t)}}},{tinycolor2:1005}],662:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i){t=(t-n)/(r-n),r=t+e/(r-n),n=(t+r)/2;return"left"===i||"bottom"===i?t:"center"===i||"middle"===i?n:"right"===i||"top"===i?r:t<2/3-n?t:4/3-n<r?r:n}},{}],663:[function(t,e,n){"use strict";var i=t("../../lib"),o=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function(t,e,n,r){return t="left"===n?0:"center"===n?1:"right"===n?2:i.constrain(Math.floor(3*t),0,2),e="bottom"===r?0:"middle"===r?1:"top"===r?2:i.constrain(Math.floor(3*e),0,2),o[e][t]}},{"../../lib":776}],664:[function(t,e,n){"use strict";n.selectMode=function(t){return"lasso"===t||"select"===t},n.drawMode=function(t){return"drawclosedpath"===t||"drawopenpath"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},n.openMode=function(t){return"drawline"===t||"drawopenpath"===t},n.rectMode=function(t){return"select"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},n.freeMode=function(t){return"lasso"===t||"drawclosedpath"===t||"drawopenpath"===t},n.selectingOrDrawing=function(t){return n.freeMode(t)||n.rectMode(t)}},{}],665:[function(t,e,n){"use strict";var r=t("mouse-event-offset"),v=t("has-hover"),b=t("has-passive-events"),x=t("../../lib").removeElement,_=t("../../plots/cartesian/constants"),w=e.exports={};w.align=t("./align"),w.getCursor=t("./cursor");t=t("./unhover");function k(){var t=document.createElement("div");t.className="dragcover";var e=t.style;return e.position="fixed",e.left=0,e.right=0,e.top=0,e.bottom=0,e.zIndex=999999999,e.background="none",document.body.appendChild(t),t}function T(t){return r(t.changedTouches?t.changedTouches[0]:t,document.body)}w.unhover=t.wrapped,w.unhoverRaw=t.raw,w.init=function(i){var n,r,o,a,s,l,u,c,f=i.gd,h=1,d=f._context.doubleClickDelay,p=i.element;f._mouseDownTime||(f._mouseDownTime=0),p.style.pointerEvents="all",p.onmousedown=t,b?(p._ontouchstart&&p.removeEventListener("touchstart",p._ontouchstart),p._ontouchstart=t,p.addEventListener("touchstart",t,{passive:!1})):p.ontouchstart=t;var g=i.clampFn||function(t,e,n){return Math.abs(t)<n&&(t=0),Math.abs(e)<n&&(e=0),[t,e]};function t(t){f._dragged=!1,f._dragging=!0;var e=T(t);n=e[0],r=e[1],u=t.target,c=2===(l=t).buttons||t.ctrlKey,void 0===t.clientX&&void 0===t.clientY&&(t.clientX=n,t.clientY=r),(o=(new Date).getTime())-f._mouseDownTime<d?h+=1:(h=1,f._mouseDownTime=o),i.prepFn&&i.prepFn(t,n,r),v&&!c?(s=k()).style.cursor=window.getComputedStyle(p).cursor:v||(s=document,a=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(p).cursor),document.addEventListener("mouseup",y),document.addEventListener("touchend",y),!1!==i.dragmode&&(t.preventDefault(),document.addEventListener("mousemove",m),document.addEventListener("touchmove",m,{passive:!1}))}function m(t){t.preventDefault();var e=T(t),t=i.minDrag||_.MINDRAG,e=g(e[0]-n,e[1]-r,t),t=e[0],e=e[1];(t||e)&&(f._dragged=!0,w.unhover(f)),f._dragged&&i.moveFn&&!c&&(f._dragdata={element:p,dx:t,dy:e},i.moveFn(t,e))}function y(e){if(delete f._dragdata,!1!==i.dragmode&&(e.preventDefault(),document.removeEventListener("mousemove",m),document.removeEventListener("touchmove",m)),document.removeEventListener("mouseup",y),document.removeEventListener("touchend",y),v?x(s):a&&(s.documentElement.style.cursor=a,a=null),f._dragging){if(f._dragging=!1,(new Date).getTime()-f._mouseDownTime>d&&(h=Math.max(h-1,1)),f._dragged)i.doneFn&&i.doneFn();else if(i.clickFn&&i.clickFn(h,l),!c){try{n=new MouseEvent("click",e)}catch(t){var n,r=T(e);(n=document.createEvent("MouseEvents")).initMouseEvent("click",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,r[0],r[1],e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}u.dispatchEvent(n)}f._dragging=!1,f._dragged=!1}else f._dragged=!1}},w.coverSlip=k},{"../../lib":776,"../../plots/cartesian/constants":829,"./align":662,"./cursor":663,"./unhover":666,"has-hover":546,"has-passive-events":547,"mouse-event-offset":599}],666:[function(t,e,n){"use strict";var i=t("../../lib/events"),r=t("../../lib/throttle"),o=t("../../lib/dom").getGraphDiv,a=t("../fx/constants"),s=e.exports={};s.wrapped=function(t,e,n){(t=o(t))._fullLayout&&r.clear(t._fullLayout._uid+a.HOVERID),s.raw(t,e,n)},s.raw=function(t,e){var n=t._fullLayout,r=t._hoverdata;(e=e||{}).target&&!1===i.triggerHandler(t,"plotly_beforehover",e)||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),t._hoverdata=void 0,e.target&&r&&t.emit("plotly_unhover",{event:e,points:r}))}},{"../../lib/dom":767,"../../lib/events":768,"../../lib/throttle":800,"../fx/constants":680}],667:[function(t,e,n){"use strict";n.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"}},{}],668:[function(t,e,n){"use strict";var h=t("d3"),i=t("fast-isnumeric"),d=t("tinycolor2"),v=t("../../registry"),p=t("../color"),r=t("../colorscale"),b=t("../../lib"),l=b.strTranslate,f=t("../../lib/svg_text_utils"),o=t("../../constants/xmlns_namespaces"),u=t("../../constants/alignment").LINE_SPACING,x=t("../../constants/interactions").DESELECTDIM,a=t("../../traces/scatter/subtypes"),s=t("../../traces/scatter/make_bubble_size_func"),g=t("../../components/fx/helpers").appendArrayPointValue,m=e.exports={};m.font=function(t,e,n,r){b.isPlainObject(e)&&(r=e.color,n=e.size,e=e.family),e&&t.style("font-family",e),n+1&&t.style("font-size",n+"px"),r&&t.call(p.fill,r)},m.setPosition=function(t,e,n){t.attr("x",e).attr("y",n)},m.setSize=function(t,e,n){t.attr("width",e).attr("height",n)},m.setRect=function(t,e,n,r,i){t.call(m.setPosition,e,n).call(m.setSize,r,i)},m.translatePoint=function(t,e,n,r){n=n.c2p(t.x),t=r.c2p(t.y);return!!(i(n)&&i(t)&&e.node())&&("text"===e.node().nodeName?e.attr("x",n).attr("y",t):e.attr("transform",l(n,t)),!0)},m.translatePoints=function(t,n,r){t.each(function(t){var e=h.select(this);m.translatePoint(t,e,n,r)})},m.hideOutsideRangePoint=function(t,e,n,r,i,o){e.attr("display",n.isPtWithinRange(t,i)&&r.isPtWithinRange(t,o)?null:"none")},m.hideOutsideRangePoints=function(r,t){var i,o;t._hasClipOnAxisFalse&&(i=t.xaxis,o=t.yaxis,r.each(function(t){var t=t[0].trace,e=t.xcalendar,n=t.ycalendar,t=v.traceIs(t,"bar-like")?".bartext":".point,.textpoint";r.selectAll(t).each(function(t){m.hideOutsideRangePoint(t,h.select(this),i,o,e,n)})}))},m.crispRound=function(t,e,n){return e&&i(e)?t._context.staticPlot?e:e<1?1:Math.round(e):n||0},m.singleLineStyle=function(t,e,n,r,i){e.style("fill","none");t=(((t||[])[0]||{}).trace||{}).line||{},n=n||t.width||0,i=i||t.dash||"";p.stroke(e,r||t.color),m.dashLine(e,i,n)},m.lineGroupStyle=function(t,r,i,o){t.style("fill","none").each(function(t){var e=(((t||[])[0]||{}).trace||{}).line||{},n=r||e.width||0,t=o||e.dash||"";h.select(this).call(p.stroke,i||e.color).call(m.dashLine,t,n)})},m.dashLine=function(t,e,n){n=+n||0,e=m.dashStyle(e,n),t.style({"stroke-dasharray":e,"stroke-width":n+"px"})},m.dashStyle=function(t,e){e=+e||1;e=Math.max(e,3);return"solid"===t?t="":"dot"===t?t=e+"px,"+e+"px":"dash"===t?t=3*e+"px,"+3*e+"px":"longdash"===t?t=5*e+"px,"+5*e+"px":"dashdot"===t?t=3*e+"px,"+e+"px,"+e+"px,"+e+"px":"longdashdot"===t&&(t=5*e+"px,"+2*e+"px,"+e+"px,"+2*e+"px"),t},m.singleFillStyle=function(t){var e=(((h.select(t.node()).data()[0]||[])[0]||{}).trace||{}).fillcolor;e&&t.call(p.fill,e)},m.fillGroupStyle=function(t){t.style("stroke-width",0).each(function(t){var e=h.select(this);t[0].trace&&e.call(p.fill,t[0].trace.fillcolor)})};var c=t("./symbol_defs");m.symbolNames=[],m.symbolFuncs=[],m.symbolNeedLines={},m.symbolNoDot={},m.symbolNoFill={},m.symbolList=[],Object.keys(c).forEach(function(t){var e=c[t],n=e.n;m.symbolList.push(n,String(n),t,n+100,String(n+100),t+"-open"),m.symbolNames[n]=t,m.symbolFuncs[n]=e.f,e.needLine&&(m.symbolNeedLines[n]=!0),e.noDot?m.symbolNoDot[n]=!0:m.symbolList.push(n+200,String(n+200),t+"-dot",n+300,String(n+300),t+"-open-dot"),e.noFill&&(m.symbolNoFill[n]=!0)});var y=m.symbolNames.length;function _(t,e){var n=t%100;return m.symbolFuncs[n](e)+(200<=t?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}m.symbolNumber=function(t){var e;return i(t)?t=+t:"string"==typeof t&&((e=0)<t.indexOf("-open")&&(e=100,t=t.replace("-open","")),0<t.indexOf("-dot")&&(e+=200,t=t.replace("-dot","")),0<=(t=m.symbolNames.indexOf(t))&&(t+=e)),y<=t%100||400<=t?0:Math.floor(Math.max(t,0))};var e={x1:1,x2:0,y1:0,y2:0},t={x1:0,x2:0,y1:1,y2:0},w=h.format("~.1f"),k={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:e},horizontalreversed:{node:"linearGradient",attrs:e,reversed:!0},vertical:{node:"linearGradient",attrs:t},verticalreversed:{node:"linearGradient",attrs:t,reversed:!0}};m.gradient=function(t,e,n,r,i,o){for(var a=i.length,s=k[r],l=new Array(a),u=0;u<a;u++)s.reversed?l[a-1-u]=[w(100*(1-i[u][0])),i[u][1]]:l[u]=[w(100*i[u][0]),i[u][1]];var c=e._fullLayout,f="g"+c._uid+"-"+n,r=c._defs.select(".gradients").selectAll("#"+f).data([r+l.join(";")],b.identity);r.exit().remove(),r.enter().append(s.node).each(function(){var t=h.select(this);s.attrs&&t.attr(s.attrs),t.attr("id",f);t=t.selectAll("stop").data(l);t.exit().remove(),t.enter().append("stop"),t.each(function(t){var e=d(t[1]);h.select(this).attr({offset:t[0]+"%","stop-color":p.tinyRGB(e),"stop-opacity":e.getAlpha()})})}),t.style(o,N(f,e)).style(o+"-opacity",null);o=function(t){return"."+t.attr("class").replace(/\s/g,".")},t=o(h.select(t.node().parentNode))+">"+o(t);c._gradientUrlQueryParts[t]=1},m.initGradients=function(t){t=t._fullLayout;b.ensureSingle(t._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),t._gradientUrlQueryParts={}},m.pointStyle=function(t,e,n){var r;t.size()&&(r=m.makePointStyleFns(e),t.each(function(t){m.singlePointStyle(t,h.select(this),e,r,n)}))},m.singlePointStyle=function(t,e,n,r,i){var o=n.marker,a=o.line;e.style("opacity",r.selectedOpacityFn?r.selectedOpacityFn(t):void 0===t.mo?o.opacity:t.mo),r.ms2mrc&&(l="various"===t.ms||"various"===o.size?3:r.ms2mrc(t.ms),t.mrc=l,r.selectedSizeFn&&(l=t.mrc=r.selectedSizeFn(t)),f=m.symbolNumber(t.mx||o.symbol)||0,t.om=100<=f%200,e.attr("d",_(f,l)));var s,l,u,c,f=!1;t.so?(u=a.outlierwidth,c=a.outliercolor,s=o.outliercolor):(l=(a||{}).width,u=(t.mlw+1||l+1||(t.trace?(t.trace.marker.line||{}).width:0)+1)-1||0,c="mlc"in t?t.mlcc=r.lineScale(t.mlc):b.isArrayOrTypedArray(a.color)?p.defaultLine:a.color,b.isArrayOrTypedArray(o.color)&&(s=p.defaultLine,f=!0),s="mc"in t?t.mcc=r.markerScale(t.mc):o.color||"rgba(0,0,0,0)",r.selectedColorFn&&(s=r.selectedColorFn(t))),t.om?e.call(p.stroke,s).style({"stroke-width":(u||1)+"px",fill:"none"}):(e.style("stroke-width",(t.isBlank?0:u)+"px"),a=o.gradient,(r=t.mgt)?f=!0:r=a&&a.type,Array.isArray(r)&&(r=r[0],k[r]||(r=0)),r&&"none"!==r?((o=t.mgc)?f=!0:o=a.color,n=n.uid,f&&(n+="-"+t.i),m.gradient(e,i,n,r,[[0,o],[1,s]],"fill")):p.fill(e,s),u&&p.stroke(e,c))},m.makePointStyleFns=function(t){var e={},n=t.marker;return e.markerScale=m.tryColorscale(n,""),e.lineScale=m.tryColorscale(n,"line"),v.traceIs(t,"symbols")&&(e.ms2mrc=a.isBubble(t)?s(t):function(){return(n.size||6)/2}),t.selectedpoints&&b.extendFlat(e,m.makeSelectedPointStyleFns(t)),e},m.makeSelectedPointStyleFns=function(t){var e={},n=t.selected||{},r=t.unselected||{},i=t.marker||{},o=n.marker||{},n=r.marker||{},r=i.opacity,a=o.opacity,s=n.opacity,l=void 0!==a,u=void 0!==s;(b.isArrayOrTypedArray(r)||l||u)&&(e.selectedOpacityFn=function(t){var e=void 0===t.mo?i.opacity:t.mo;return t.selected?l?a:e:u?s:x*e});var c=i.color,f=o.color,h=n.color;(f||h)&&(e.selectedColorFn=function(t){var e=t.mcc||c;return t.selected?f||e:h||e});var d=i.size,p=o.size,g=n.size,m=void 0!==p,y=void 0!==g;return v.traceIs(t,"symbols")&&(m||y)&&(e.selectedSizeFn=function(t){var e=t.mrc||d/2;return t.selected?m?p/2:e:y?g/2:e}),e},m.makeSelectedTextStyleFns=function(t){var e={},n=t.selected||{},r=t.unselected||{},i=(t.textfont||{}).color,o=(n.textfont||{}).color,a=(r.textfont||{}).color;return e.selectedTextColorFn=function(t){var e=t.tc||i;return t.selected?o||e:a||(o?e:p.addOpacity(e,x))},e},m.selectedPointStyle=function(t,e){var i,o,r;t.size()&&e.selectedpoints&&(i=m.makeSelectedPointStyleFns(e),o=e.marker||{},r=[],i.selectedOpacityFn&&r.push(function(t,e){t.style("opacity",i.selectedOpacityFn(e))}),i.selectedColorFn&&r.push(function(t,e){p.fill(t,i.selectedColorFn(e))}),i.selectedSizeFn&&r.push(function(t,e){var n=e.mx||o.symbol||0,r=i.selectedSizeFn(e);t.attr("d",_(m.symbolNumber(n),r)),e.mrc2=r}),r.length&&t.each(function(t){for(var e=h.select(this),n=0;n<r.length;n++)r[n](e,t)}))},m.tryColorscale=function(t,e){e=e?b.nestedProperty(t,e).get():t;if(e){t=e.color;if((e.colorscale||e._colorAx)&&b.isArrayOrTypedArray(t))return r.makeColorScaleFuncFromTrace(e)}return b.identity};var T={start:1,end:-1,middle:0,bottom:1,top:-1};function M(t,e,n,r){var i=h.select(t.node().parentNode),o=-1!==e.indexOf("top")?"top":-1!==e.indexOf("bottom")?"bottom":"middle",a=-1!==e.indexOf("left")?"end":-1!==e.indexOf("right")?"start":"middle",s=r?r/.8+1:0,e=(f.lineCount(t)-1)*u+1,r=T[a]*s,n=.75*n+T[o]*s+(T[o]-1)*e*n/2;t.attr("text-anchor",a),i.attr("transform",l(r,n))}function A(t,e){e=t.ts||e.textfont.size;return i(e)&&0<e?e:0}m.textPointStyle=function(t,a,s){var l,u,c;t.size()&&(a.selectedpoints&&(l=m.makeSelectedTextStyleFns(a).selectedTextColorFn),u=a.texttemplate,c=s._fullLayout,t.each(function(t){var e,n,r,i=h.select(this),o=u?b.extractOption(t,a,"txt","texttemplate"):b.extractOption(t,a,"tx","text");o||0===o?(u&&(e=a._module.formatLabels?a._module.formatLabels(t,a,c):{},g(n={},a,t.i),r=a._meta||{},o=b.texttemplateString(o,e,c._d3locale,n,t,r)),e=t.tp||a.textposition,n=A(t,a),r=l?l(t):t.tc||a.textfont.color,i.call(m.font,t.tf||a.textfont.family,n,r).text(o).call(f.convertToTspans,s).call(M,e,n,t.mrc)):i.remove()}))},m.selectedTextStyle=function(t,o){var a;t.size()&&o.selectedpoints&&(a=m.makeSelectedTextStyleFns(o),t.each(function(t){var e=h.select(this),n=a.selectedTextColorFn(t),r=t.tp||o.textposition,i=A(t,o);p.fill(e,n),M(e,r,i,t.mrc2||t.mrc)}))};var S=.5;function E(t,e,n,r){var i=t[0]-e[0],o=t[1]-e[1],a=n[0]-e[0],s=n[1]-e[1],t=Math.pow(i*i+o*o,S/2),n=Math.pow(a*a+s*s,S/2),a=(n*n*i-t*t*a)*r,s=(n*n*o-t*t*s)*r,r=3*n*(t+n),n=3*t*(t+n);return[[h.round(e[0]+(r&&a/r),2),h.round(e[1]+(r&&s/r),2)],[h.round(e[0]-(n&&a/n),2),h.round(e[1]-(n&&s/n),2)]]}m.smoothopen=function(t,e){if(t.length<3)return"M"+t.join("L");for(var n="M"+t[0],r=[],i=1;i<t.length-1;i++)r.push(E(t[i-1],t[i],t[i+1],e));for(n+="Q"+r[0][0]+" "+t[1],i=2;i<t.length-1;i++)n+="C"+r[i-2][1]+" "+r[i-1][0]+" "+t[i];return n+="Q"+r[t.length-3][1]+" "+t[t.length-1]},m.smoothclosed=function(t,e){if(t.length<3)return"M"+t.join("L")+"Z";for(var n="M"+t[0],r=t.length-1,i=[E(t[r],t[0],t[1],e)],o=1;o<r;o++)i.push(E(t[o-1],t[o],t[o+1],e));for(i.push(E(t[r-1],t[r],t[0],e)),o=1;o<=r;o++)n+="C"+i[o-1][1]+" "+i[o][0]+" "+t[o];return n+="C"+i[r][1]+" "+i[0][0]+" "+t[0]+"Z"};function C(t,e){return"L"+h.round(e[0],2)+","+h.round(e[1],2)}var O={hv:function(t,e){return"H"+h.round(e[0],2)+"V"+h.round(e[1],2)},vh:function(t,e){return"V"+h.round(e[1],2)+"H"+h.round(e[0],2)},hvh:function(t,e){return"H"+h.round((t[0]+e[0])/2,2)+"V"+h.round(e[1],2)+"H"+h.round(e[0],2)},vhv:function(t,e){return"V"+h.round((t[1]+e[1])/2,2)+"H"+h.round(e[0],2)+"V"+h.round(e[1],2)}};m.steps=function(t){var r=O[t]||C;return function(t){for(var e="M"+h.round(t[0][0],2)+","+h.round(t[0][1],2),n=1;n<t.length;n++)e+=r(t[n-1],t[n]);return e}},m.makeTester=function(){var t=b.ensureSingleById(h.select("body"),"svg","js-plotly-tester",function(t){t.attr(o.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),e=b.ensureSingle(t,"path","js-reference-point",function(t){t.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});m.tester=t,m.testref=e},m.savedBBoxes={};var j=0;function P(t){var e=t.getAttribute("data-unformatted");if(null!==e)return e+t.getAttribute("data-math")+t.getAttribute("text-anchor")+t.getAttribute("style")}function N(t,e){if(!t)return null;e=e._context;return"url('"+(!e._exportedPlot&&e._baseUrl||"")+"#"+t+"')"}m.bBox=function(t,e,n){var r,i;if(n=n||P(t)){if(u=m.savedBBoxes[n])return b.extendFlat({},u)}else if(1===t.childNodes.length){var o=t.childNodes[0];if(n=P(o)){var a=+o.getAttribute("x")||0,s=+o.getAttribute("y")||0,l=o.getAttribute("transform");if(!l){o=m.bBox(o,!1,n);return a&&(o.left+=a,o.right+=a),s&&(o.top+=s,o.bottom+=s),o}if(n+="~"+a+"~"+s+"~"+l,u=m.savedBBoxes[n])return b.extendFlat({},u)}}e?r=t:(i=m.tester.node(),r=t.cloneNode(!0),i.appendChild(r)),h.select(r).attr("transform",null).call(f.positionText,0,0);var u=r.getBoundingClientRect(),t=m.testref.node().getBoundingClientRect();e||i.removeChild(r);t={height:u.height,width:u.width,left:u.left-t.left,top:u.top-t.top,right:u.right-t.left,bottom:u.bottom-t.top};return 1e4<=j&&(m.savedBBoxes={},j=0),n&&(m.savedBBoxes[n]=t),j++,b.extendFlat({},t)},m.setClipUrl=function(t,e,n){t.attr("clip-path",N(e,n))},m.getTranslate=function(t){t=(t[t.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(t,e,n){return[e,n].join(" ")}).split(" ");return{x:+t[0]||0,y:+t[1]||0}},m.setTranslate=function(t,e,n){var r=t.attr?"attr":"getAttribute",i=t.attr?"attr":"setAttribute",r=t[r]("transform")||"";return e=e||0,n=n||0,r=r.replace(/(\btranslate\(.*?\);?)/,"").trim(),r=(r+=l(e,n)).trim(),t[i]("transform",r),r},m.getScale=function(t){t=(t[t.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(t,e,n){return[e,n].join(" ")}).split(" ");return{x:+t[0]||1,y:+t[1]||1}},m.setScale=function(t,e,n){var r=t.attr?"attr":"getAttribute",i=t.attr?"attr":"setAttribute",r=t[r]("transform")||"";return e=e||1,n=n||1,r=r.replace(/(\bscale\(.*?\);?)/,"").trim(),r=(r+="scale("+e+","+n+")").trim(),t[i]("transform",r),r};var L=/\s*sc.*/;m.setPointGroupScale=function(t,e,n){var r;e=e||1,n=n||1,t&&(r=1===e&&1===n?"":"scale("+e+","+n+")",t.each(function(){var t=(this.getAttribute("transform")||"").replace(L,""),t=(t+=r).trim();this.setAttribute("transform",t)}))};var R=/translate\([^)]*\)\s*$/;m.setTextPointsScale=function(t,i,o){t&&t.each(function(){var t,e,n=h.select(this),r=n.select("text");r.node()&&(t=parseFloat(r.attr("x")||0),e=parseFloat(r.attr("y")||0),r=(n.attr("transform")||"").match(R),e=1===i&&1===o?[]:[l(t,e),"scale("+i+","+o+")",l(-t,-e)],r&&e.push(r),n.attr("transform",e.join("")))})}},{"../../components/fx/helpers":682,"../../constants/alignment":748,"../../constants/interactions":753,"../../constants/xmlns_namespaces":755,"../../lib":776,"../../lib/svg_text_utils":799,"../../registry":877,"../../traces/scatter/make_bubble_size_func":946,"../../traces/scatter/subtypes":954,"../color":646,"../colorscale":658,"./symbol_defs":669,d3:629,"fast-isnumeric":450,tinycolor2:1005}],669:[function(t,e,n){"use strict";var u=t("d3");e.exports={circle:{n:0,f:function(t){t=u.round(t,2);return"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"}},square:{n:1,f:function(t){t=u.round(t,2);return"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"}},diamond:{n:2,f:function(t){t=u.round(1.3*t,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"Z"}},cross:{n:3,f:function(t){var e=u.round(.4*t,2),t=u.round(1.2*t,2);return"M"+t+","+e+"H"+e+"V"+t+"H-"+e+"V"+e+"H-"+t+"V-"+e+"H-"+e+"V-"+t+"H"+e+"V-"+e+"H"+t+"Z"}},x:{n:4,f:function(t){var e=u.round(.8*t/Math.sqrt(2),2),n="l"+e+","+e,r="l"+e+",-"+e,i="l-"+e+",-"+e,t="l-"+e+","+e;return"M0,"+e+n+r+i+r+i+t+i+t+n+t+n+"Z"}},"triangle-up":{n:5,f:function(t){var e=u.round(2*t/Math.sqrt(3),2);return"M-"+e+","+u.round(t/2,2)+"H"+e+"L0,-"+u.round(t,2)+"Z"}},"triangle-down":{n:6,f:function(t){var e=u.round(2*t/Math.sqrt(3),2);return"M-"+e+",-"+u.round(t/2,2)+"H"+e+"L0,"+u.round(t,2)+"Z"}},"triangle-left":{n:7,f:function(t){var e=u.round(2*t/Math.sqrt(3),2);return"M"+u.round(t/2,2)+",-"+e+"V"+e+"L-"+u.round(t,2)+",0Z"}},"triangle-right":{n:8,f:function(t){var e=u.round(2*t/Math.sqrt(3),2);return"M-"+u.round(t/2,2)+",-"+e+"V"+e+"L"+u.round(t,2)+",0Z"}},"triangle-ne":{n:9,f:function(t){var e=u.round(.6*t,2),t=u.round(1.2*t,2);return"M-"+t+",-"+e+"H"+e+"V"+t+"Z"}},"triangle-se":{n:10,f:function(t){var e=u.round(.6*t,2),t=u.round(1.2*t,2);return"M"+e+",-"+t+"V"+e+"H-"+t+"Z"}},"triangle-sw":{n:11,f:function(t){var e=u.round(.6*t,2),t=u.round(1.2*t,2);return"M"+t+","+e+"H-"+e+"V-"+t+"Z"}},"triangle-nw":{n:12,f:function(t){var e=u.round(.6*t,2),t=u.round(1.2*t,2);return"M-"+e+","+t+"V-"+e+"H"+t+"Z"}},pentagon:{n:13,f:function(t){var e=u.round(.951*t,2),n=u.round(.588*t,2),r=u.round(-t,2),i=u.round(-.309*t,2);return"M"+e+","+i+"L"+n+","+u.round(.809*t,2)+"H-"+n+"L-"+e+","+i+"L0,"+r+"Z"}},hexagon:{n:14,f:function(t){var e=u.round(t,2),n=u.round(t/2,2),t=u.round(t*Math.sqrt(3)/2,2);return"M"+t+",-"+n+"V"+n+"L0,"+e+"L-"+t+","+n+"V-"+n+"L0,-"+e+"Z"}},hexagon2:{n:15,f:function(t){var e=u.round(t,2),n=u.round(t/2,2),t=u.round(t*Math.sqrt(3)/2,2);return"M-"+n+","+t+"H"+n+"L"+e+",0L"+n+",-"+t+"H-"+n+"L-"+e+",0Z"}},octagon:{n:16,f:function(t){var e=u.round(.924*t,2),t=u.round(.383*t,2);return"M-"+t+",-"+e+"H"+t+"L"+e+",-"+t+"V"+t+"L"+t+","+e+"H-"+t+"L-"+e+","+t+"V-"+t+"Z"}},star:{n:17,f:function(t){var e=1.4*t,n=u.round(.225*e,2),r=u.round(.951*e,2),i=u.round(.363*e,2),o=u.round(.588*e,2),a=u.round(-e,2),s=u.round(-.309*e,2),l=u.round(.118*e,2),t=u.round(.809*e,2);return"M"+n+","+s+"H"+r+"L"+i+","+l+"L"+o+","+t+"L0,"+u.round(.382*e,2)+"L-"+o+","+t+"L-"+i+","+l+"L-"+r+","+s+"H-"+n+"L0,"+a+"Z"}},hexagram:{n:18,f:function(t){var e=u.round(.66*t,2),n=u.round(.38*t,2),t=u.round(.76*t,2);return"M-"+t+",0l-"+n+",-"+e+"h"+t+"l"+n+",-"+e+"l"+n+","+e+"h"+t+"l-"+n+","+e+"l"+n+","+e+"h-"+t+"l-"+n+","+e+"l-"+n+",-"+e+"h-"+t+"Z"}},"star-triangle-up":{n:19,f:function(t){var e=u.round(t*Math.sqrt(3)*.8,2),n=u.round(.8*t,2),r=u.round(1.6*t,2),t=u.round(4*t,2),t="A "+t+","+t+" 0 0 1 ";return"M-"+e+","+n+t+e+","+n+t+"0,-"+r+t+"-"+e+","+n+"Z"}},"star-triangle-down":{n:20,f:function(t){var e=u.round(t*Math.sqrt(3)*.8,2),n=u.round(.8*t,2),r=u.round(1.6*t,2),t=u.round(4*t,2),t="A "+t+","+t+" 0 0 1 ";return"M"+e+",-"+n+t+"-"+e+",-"+n+t+"0,"+r+t+e+",-"+n+"Z"}},"star-square":{n:21,f:function(t){var e=u.round(1.1*t,2),t=u.round(2*t,2),t="A "+t+","+t+" 0 0 1 ";return"M-"+e+",-"+e+t+"-"+e+","+e+t+e+","+e+t+e+",-"+e+t+"-"+e+",-"+e+"Z"}},"star-diamond":{n:22,f:function(t){var e=u.round(1.4*t,2),t=u.round(1.9*t,2),t="A "+t+","+t+" 0 0 1 ";return"M-"+e+",0"+t+"0,"+e+t+e+",0"+t+"0,-"+e+t+"-"+e+",0Z"}},"diamond-tall":{n:23,f:function(t){var e=u.round(.7*t,2),t=u.round(1.4*t,2);return"M0,"+t+"L"+e+",0L0,-"+t+"L-"+e+",0Z"}},"diamond-wide":{n:24,f:function(t){var e=u.round(1.4*t,2),t=u.round(.7*t,2);return"M0,"+t+"L"+e+",0L0,-"+t+"L-"+e+",0Z"}},hourglass:{n:25,f:function(t){t=u.round(t,2);return"M"+t+","+t+"H-"+t+"L"+t+",-"+t+"H-"+t+"Z"},noDot:!0},bowtie:{n:26,f:function(t){t=u.round(t,2);return"M"+t+","+t+"V-"+t+"L-"+t+","+t+"V-"+t+"Z"},noDot:!0},"circle-cross":{n:27,f:function(t){t=u.round(t,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(t){var e=u.round(t,2),t=u.round(t/Math.sqrt(2),2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(t){t=u.round(t,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(t){t=u.round(t,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(t){t=u.round(1.3*t,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM0,-"+t+"V"+t+"M-"+t+",0H"+t},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(t){var e=u.round(1.3*t,2),t=u.round(.65*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM-"+t+",-"+t+"L"+t+","+t+"M-"+t+","+t+"L"+t+",-"+t},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(t){t=u.round(1.4*t,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(t){t=u.round(t,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(t){var e=u.round(1.2*t,2),t=u.round(.85*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(t){var e=u.round(t/2,2),t=u.round(t,2);return"M"+e+","+t+"V-"+t+"m-"+t+",0V"+t+"M"+t+","+e+"H-"+t+"m0,-"+t+"H"+t},needLine:!0,noFill:!0},"y-up":{n:37,f:function(t){var e=u.round(1.2*t,2),n=u.round(1.6*t,2),t=u.round(.8*t,2);return"M-"+e+","+t+"L0,0M"+e+","+t+"L0,0M0,-"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(t){var e=u.round(1.2*t,2),n=u.round(1.6*t,2),t=u.round(.8*t,2);return"M-"+e+",-"+t+"L0,0M"+e+",-"+t+"L0,0M0,"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(t){var e=u.round(1.2*t,2),n=u.round(1.6*t,2),t=u.round(.8*t,2);return"M"+t+","+e+"L0,0M"+t+",-"+e+"L0,0M-"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(t){var e=u.round(1.2*t,2),n=u.round(1.6*t,2),t=u.round(.8*t,2);return"M-"+t+","+e+"L0,0M-"+t+",-"+e+"L0,0M"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(t){t=u.round(1.4*t,2);return"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(t){t=u.round(1.4*t,2);return"M0,"+t+"V-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(t){t=u.round(t,2);return"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(t){t=u.round(t,2);return"M"+t+","+t+"L-"+t+",-"+t},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(t){var e=u.round(t,2);return"M0,0L-"+e+","+u.round(2*t,2)+"H"+e+"Z"},noDot:!0},"arrow-down":{n:46,f:function(t){var e=u.round(t,2);return"M0,0L-"+e+",-"+u.round(2*t,2)+"H"+e+"Z"},noDot:!0},"arrow-left":{n:47,f:function(t){var e=u.round(2*t,2),t=u.round(t,2);return"M0,0L"+e+",-"+t+"V"+t+"Z"},noDot:!0},"arrow-right":{n:48,f:function(t){var e=u.round(2*t,2),t=u.round(t,2);return"M0,0L-"+e+",-"+t+"V"+t+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(t){var e=u.round(t,2);return"M-"+e+",0H"+e+"M0,0L-"+e+","+u.round(2*t,2)+"H"+e+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(t){var e=u.round(t,2);return"M-"+e+",0H"+e+"M0,0L-"+e+",-"+u.round(2*t,2)+"H"+e+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(t){var e=u.round(2*t,2),t=u.round(t,2);return"M0,-"+t+"V"+t+"M0,0L"+e+",-"+t+"V"+t+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(t){var e=u.round(2*t,2),t=u.round(t,2);return"M0,-"+t+"V"+t+"M0,0L-"+e+",-"+t+"V"+t+"Z"},needLine:!0,noDot:!0}}},{d3:629}],670:[function(t,e,n){"use strict";e.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],671:[function(t,e,n){"use strict";var h=t("fast-isnumeric"),s=t("../../registry"),d=t("../../plots/cartesian/axes"),p=t("../../lib"),g=t("./compute_error");function l(t,e,n,r){var i=e["error_"+r]||{},o=[];if(i.visible&&-1!==["linear","log"].indexOf(n.type)){for(var a=g(i),s=0;s<t.length;s++){var l=t[s],u=l.i;if(void 0===u)u=s;else if(null===u)continue;var c,f=l[r];h(n.c2l(f))&&(c=a(f,u),h(c[0])&&h(c[1])&&(u=l[r+"s"]=f-c[0],c=l[r+"h"]=f+c[1],o.push(u,c)))}i=n._id,e=e._extremes[i],i=d.findExtremes(n,o,p.extendFlat({tozero:e.opts.tozero},{padded:!0}));e.min=e.min.concat(i.min),e.max=e.max.concat(i.max)}}e.exports=function(t){for(var e=t.calcdata,n=0;n<e.length;n++){var r,i,o=e[n],a=o[0].trace;!0===a.visible&&s.traceIs(a,"errorBarsOK")&&(r=d.getFromId(t,a.xaxis),i=d.getFromId(t,a.yaxis),l(o,a,r,"x"),l(o,a,i,"y"))}}},{"../../lib":776,"../../plots/cartesian/axes":823,"../../registry":877,"./compute_error":672,"fast-isnumeric":450}],672:[function(t,e,n){"use strict";function s(t,e){return"percent"===t?function(t){return Math.abs(t*e/100)}:"constant"===t?function(){return Math.abs(e)}:"sqrt"===t?function(t){return Math.sqrt(Math.abs(t))}:void 0}e.exports=function(t){var e=t.type,n=t.symmetric;if("data"===e){var r=t.array||[];if(n)return function(t,e){e=+r[e];return[e,e]};var i=t.arrayminus||[];return function(t,e){var n=+r[e],e=+i[e];return isNaN(n)&&isNaN(e)?[NaN,NaN]:[e||0,n||0]}}var o=s(e,t.value),a=s(e,t.valueminus);return n||void 0===t.valueminus?function(t){t=o(t);return[t,t]}:function(t){return[a(t),o(t)]}}},{}],673:[function(t,e,n){"use strict";var l=t("fast-isnumeric"),u=t("../../registry"),c=t("../../lib"),f=t("../../plot_api/plot_template"),h=t("./attributes");e.exports=function(t,e,n,r){var i="error_"+r.axis,o=f.newContainer(e,i),a=t[i]||{};function s(t,e){return c.coerce(a,o,h,t,e)}!1!==s("visible",void 0!==a.array||void 0!==a.value||"sqrt"===a.type)&&(t=!0,"sqrt"!==(i=s("type","array"in a?"data":"percent"))&&(t=s("symmetric",!(("data"===i?"arrayminus":"valueminus")in a))),"data"===i?(s("array"),s("traceref"),t||(s("arrayminus"),s("tracerefminus"))):"percent"!==i&&"constant"!==i||(s("value"),t||s("valueminus")),t="copy_"+r.inherit+"style",r.inherit&&(e["error_"+r.inherit]||{}).visible&&s(t,!(a.color||l(a.thickness)||l(a.width))),r.inherit&&o[t]||(s("color",n),s("thickness"),s("width",u.traceIs(e,"gl3d")?0:4)))}},{"../../lib":776,"../../plot_api/plot_template":812,"../../registry":877,"./attributes":670,"fast-isnumeric":450}],674:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("../../plot_api/edit_types").overrideAll,o=t("./attributes"),a={error_x:r.extendFlat({},o),error_y:r.extendFlat({},o)};delete a.error_x.copy_zstyle,delete a.error_y.copy_zstyle,delete a.error_y.copy_ystyle;o={error_x:r.extendFlat({},o),error_y:r.extendFlat({},o),error_z:r.extendFlat({},o)};delete o.error_x.copy_ystyle,delete o.error_y.copy_ystyle,delete o.error_z.copy_ystyle,delete o.error_z.copy_zstyle,e.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:a,bar:a,histogram:a,scatter3d:i(o,"calc","nested"),scattergl:i(a,"calc","nested")}},supplyDefaults:t("./defaults"),calc:t("./calc"),makeComputeError:t("./compute_error"),plot:t("./plot"),style:t("./style"),hoverInfo:function(t,e,n){(e.error_y||{}).visible&&(n.yerr=t.yh-t.y,e.error_y.symmetric||(n.yerrneg=t.y-t.ys));(e.error_x||{}).visible&&(n.xerr=t.xh-t.x,e.error_x.symmetric||(n.xerrneg=t.x-t.xs))}}},{"../../lib":776,"../../plot_api/edit_types":805,"./attributes":670,"./calc":671,"./compute_error":672,"./defaults":673,"./plot":675,"./style":676}],675:[function(t,e,n){"use strict";var h=t("d3"),d=t("fast-isnumeric"),p=t("../drawing"),g=t("../../traces/scatter/subtypes");e.exports=function(r,t,i,l){var u=i.xaxis,c=i.yaxis,f=l&&0<l.duration;t.each(function(t){var e=t[0].trace,o=e.error_x||{},a=e.error_y||{};e.ids&&(n=function(t){return t.id});var s=g.hasMarkers(e)&&0<e.marker.maxdisplayed;a.visible||o.visible||(t=[]);var n=h.select(this).selectAll("g.errorbar").data(t,n);n.exit().remove(),t.length&&(o.visible||n.selectAll("path.xerror").remove(),a.visible||n.selectAll("path.yerror").remove(),n.style("opacity",1),t=n.enter().append("g").classed("errorbar",!0),f&&t.style("opacity",0).transition().duration(l.duration).style("opacity",1),p.setClipUrl(n,i.layerClipId,r),n.each(function(t){var e,n,r=h.select(this),i=function(t,e,n){var r={x:e.c2p(t.x),y:n.c2p(t.y)};void 0!==t.yh&&(r.yh=n.c2p(t.yh),r.ys=n.c2p(t.ys),d(r.ys)||(r.noYS=!0,r.ys=n.c2p(t.ys,!0)));void 0!==t.xh&&(r.xh=e.c2p(t.xh),r.xs=e.c2p(t.xs),d(r.xs)||(r.noXS=!0,r.xs=e.c2p(t.xs,!0)));return r}(t,u,c);s&&!t.vis||(t=r.select("path.yerror"),a.visible&&d(i.x)&&d(i.yh)&&d(i.ys)?(n=a.width,e="M"+(i.x-n)+","+i.yh+"h"+2*n+"m-"+n+",0V"+i.ys,i.noYS||(e+="m-"+n+",0h"+2*n),!t.size()?t=r.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0):f&&(t=t.transition().duration(l.duration).ease(l.easing)),t.attr("d",e)):t.remove(),n=r.select("path.xerror"),o.visible&&d(i.y)&&d(i.xh)&&d(i.xs)?(t=(o.copy_ystyle?a:o).width,e="M"+i.xh+","+(i.y-t)+"v"+2*t+"m0,-"+t+"H"+i.xs,i.noXS||(e+="m0,-"+t+"v"+2*t),!n.size()?n=r.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0):f&&(n=n.transition().duration(l.duration).ease(l.easing)),n.attr("d",e)):n.remove())}))})}},{"../../traces/scatter/subtypes":954,"../drawing":668,d3:629,"fast-isnumeric":450}],676:[function(t,e,n){"use strict";var r=t("d3"),i=t("../color");e.exports=function(t){t.each(function(t){var e=t[0].trace,n=e.error_y||{},t=e.error_x||{},e=r.select(this);e.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call(i.stroke,n.color),t.copy_ystyle&&(t=n),e.selectAll("path.xerror").style("stroke-width",t.thickness+"px").call(i.stroke,t.color)})}},{"../color":646,d3:629}],677:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),i=t("./layout_attributes").hoverlabel,t=t("../../lib/extend").extendFlat;e.exports={hoverlabel:{bgcolor:t({},i.bgcolor,{arrayOk:!0}),bordercolor:t({},i.bordercolor,{arrayOk:!0}),font:r({arrayOk:!0,editType:"none"}),align:t({},i.align,{arrayOk:!0}),namelength:t({},i.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":769,"../../plots/font_attributes":851,"./layout_attributes":687}],678:[function(t,e,n){"use strict";var s=t("../../lib"),l=t("../../registry");function u(t,e,n,r){r=r||s.identity,Array.isArray(t)&&(e[0][n]=r(t))}e.exports=function(t){var e=t.calcdata,n=t._fullLayout;for(var r=0;r<e.length;r++){var i,o=e[r],a=o[0].trace;l.traceIs(a,"pie-like")||((i=l.traceIs(a,"2dMap")?u:s.fillArray)(a.hoverinfo,o,"hi",function(e){return function(t){return s.coerceHoverinfo({hoverinfo:t},{_module:e._module},n)}}(a)),a.hovertemplate&&i(a.hovertemplate,o,"ht"),a.hoverlabel&&(i(a.hoverlabel.bgcolor,o,"hbg"),i(a.hoverlabel.bordercolor,o,"hbc"),i(a.hoverlabel.font.size,o,"hts"),i(a.hoverlabel.font.color,o,"htc"),i(a.hoverlabel.font.family,o,"htf"),i(a.hoverlabel.namelength,o,"hnl"),i(a.hoverlabel.align,o,"hta")))}}},{"../../lib":776,"../../registry":877}],679:[function(t,e,n){"use strict";var o=t("../../registry"),a=t("./hover").hover;e.exports=function(t,e,n){var r=o.getComponentMethod("annotations","onClick")(t,t._hoverdata);function i(){t.emit("plotly_click",{points:t._hoverdata,event:e})}void 0!==n&&a(t,e,n,!0),t._hoverdata&&e&&e.target&&(r&&r.then?r.then(i):i(),e.stopImmediatePropagation&&e.stopImmediatePropagation())}},{"../../registry":877,"./hover":683}],680:[function(t,e,n){"use strict";e.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],681:[function(t,e,n){"use strict";var i=t("../../lib"),o=t("./attributes"),a=t("./hoverlabel_defaults");e.exports=function(n,r,t,e){e=i.extendFlat({},e.hoverlabel);r.hovertemplate&&(e.namelength=-1),a(n,r,function(t,e){return i.coerce(n,r,o,t,e)},e)}},{"../../lib":776,"./attributes":677,"./hoverlabel_defaults":684}],682:[function(t,e,a){"use strict";var c=t("../../lib");a.getSubplot=function(t){return t.subplot||t.xaxis+t.yaxis||t.geo},a.isTraceInSubplots=function(t,e){if("splom"!==t.type)return-1!==e.indexOf(a.getSubplot(t));for(var n=t.xaxes||[],r=t.yaxes||[],i=0;i<n.length;i++)for(var o=0;o<r.length;o++)if(-1!==e.indexOf(n[i]+r[o]))return!0;return!1},a.flat=function(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=e;return n},a.p2c=function(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r].p2c(e);return n},a.getDistanceFunction=function(t,e,n,r){return"closest"===t?r||a.quadrature(e,n):"x"===t.charAt(0)?e:n},a.getClosest=function(t,e,n){if(!1!==n.index)0<=n.index&&n.index<t.length?n.distance=0:n.index=!1;else for(var r=0;r<t.length;r++){var i=e(t[r]);i<=n.distance&&(n.index=r,n.distance=i)}return n},a.inbox=function(t,e,n){return t*e<0||0===t?n:1/0},a.quadrature=function(n,r){return function(t){var e=n(t),t=r(t);return Math.sqrt(e*e+t*t)}},a.makeEventData=function(t,e,n){var r,i="index"in t?t.index:t.pointNumber,o={data:e._input,fullData:e,curveNumber:e.index,pointNumber:i};return e._indexToPoints?1===(r=e._indexToPoints[i]).length?o.pointIndex=r[0]:o.pointIndices=r:o.pointIndex=i,e._module.eventData?o=e._module.eventData(o,t,e,n,i):("xVal"in t?o.x=t.xVal:"x"in t&&(o.x=t.x),"yVal"in t?o.y=t.yVal:"y"in t&&(o.y=t.y),t.xa&&(o.xaxis=t.xa),t.ya&&(o.yaxis=t.ya),void 0!==t.zLabelVal&&(o.z=t.zLabelVal)),a.appendArrayPointValue(o,e,i),o},a.appendArrayPointValue=function(t,e,n){var r=e._arrayAttrs;if(r)for(var i=0;i<r.length;i++){var o=r[i],a=f(o);void 0!==t[a]||void 0!==(o=h(c.nestedProperty(e,o).get(),n))&&(t[a]=o)}},a.appendArrayMultiPointValues=function(t,e,n){var r=e._arrayAttrs;if(r)for(var i=0;i<r.length;i++){var o=r[i],a=f(o);if(void 0===t[a]){for(var s=c.nestedProperty(e,o).get(),l=new Array(n.length),u=0;u<n.length;u++)l[u]=h(s,n[u]);t[a]=l}}};var n={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function f(t){return n[t]||t}function h(t,e){return Array.isArray(e)?Array.isArray(t)&&Array.isArray(t[e[0]])?t[e[0]][e[1]]:void 0:t[e]}var r={x:!0,y:!0},i={"x unified":!0,"y unified":!0};a.isUnifiedHover=function(t){return"string"==typeof t&&!!i[t]},a.isXYhover=function(t){return"string"==typeof t&&!!r[t]}},{"../../lib":776}],683:[function(t,e,n){"use strict";var $=t("d3"),Q=t("fast-isnumeric"),_=t("tinycolor2"),K=t("../../lib"),L=K.strTranslate,R=K.strRotate,J=t("../../lib/events"),D=t("../../lib/svg_text_utils"),tt=t("../../lib/override_cursor"),I=t("../drawing"),et=t("../color"),nt=t("../dragelement"),rt=t("../../plots/cartesian/axes"),it=t("../../registry"),ot=t("./helpers"),F=t("./constants"),z=t("../legend/defaults"),B=t("../legend/draw"),U=F.YANGLE,t=Math.PI*U/180,at=1/Math.sin(t),y=Math.cos(t),v=Math.sin(t),H=F.HOVERARROWSIZE,q=F.HOVERTEXTPAD;function st(t){return[t.trace.index,t.index,t.x0,t.y0,t.name,t.attr,t.xa,t.ya||""].join(",")}n.hover=function(t,e,n,r){t=K.getGraphDiv(t),K.throttle(t._fullLayout._uid+F.HOVERID,F.HOVERMINTIME,function(){!function(t,l,e,n){e=e||"xy";var u=Array.isArray(e)?e:[e],c=t._fullLayout,r=c._plots||[],e=r[e],f=c._has("cartesian");e&&(e=e.overlays.map(function(t){return t.id}),u=u.concat(e));for(var i=u.length,h=new Array(i),d=new Array(i),o=!1,a=0;a<i;a++){var s=u[a];if(r[s])o=!0,h[a]=r[s].xaxis,d[a]=r[s].yaxis;else{if(!c[s]||!c[s]._subplot)return K.warn("Unrecognized subplot: "+s);s=c[s]._subplot;h[a]=s.xaxis,d[a]=s.yaxis}}var p=l.hovermode||c.hovermode;if(p&&!o&&(p="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(p)||!t.calcdata||t.querySelector(".zoombox")||t._dragging)return nt.unhoverRaw(t,l);var g,m,y,v,b,x,_,w,k,T,M,A,S,E=-1===c.hoverdistance?1/0:c.hoverdistance,C=-1===c.spikedistance?1/0:c.spikedistance,O=[],j=[],P={hLinePoint:null,vLinePoint:null},N=!1;if(Array.isArray(l))for(p="array",y=0;y<l.length;y++)(b=t.calcdata[l[y].curveNumber||0])&&(x=b[0].trace,"skip"!==b[0].trace.hoverinfo&&(j.push(b),"h"===x.orientation&&(N=!0)));else{for(v=0;v<t.calcdata.length;v++)b=t.calcdata[v],"skip"!==(x=b[0].trace).hoverinfo&&ot.isTraceInSubplots(x,u)&&(j.push(b),"h"===x.orientation&&(N=!0));if(!l.target)B="xpx"in l?l.xpx:h[0]._length/2,U="ypx"in l?l.ypx:d[0]._length/2;else{if(!1===J.triggerHandler(t,"plotly_beforehover",l))return;var L=l.target.getBoundingClientRect();B=l.clientX-L.left,U=l.clientY-L.top,c._calcInverseTransform(t);L=K.apply3DTransform(c._invTransform)(B,U);if(B=L[0],U=L[1],B<0||B>h[0]._length||U<0||U>d[0]._length)return nt.unhoverRaw(t,l)}if(l.pointerX=B+h[0]._offset,l.pointerY=U+d[0]._offset,g="xval"in l?ot.flat(u,l.xval):ot.p2c(h,B),m="yval"in l?ot.flat(u,l.yval):ot.p2c(d,U),!Q(g[0])||!Q(m[0]))return K.warn("Fx.hover failed",l,t),nt.unhoverRaw(t,l)}var R=1/0;function D(t,e){for(v=0;v<j.length;v++)if(b=j[v],b&&b[0]&&b[0].trace&&(x=b[0].trace,!0===x.visible&&0!==x._length&&-1===["carpet","contourcarpet"].indexOf(x._module.name))){var n,r,i;if("splom"===x.type?_=u[w=0]:(_=ot.getSubplot(x),w=u.indexOf(_)),k=p,ot.isUnifiedHover(k)&&(k=k.charAt(0)),A={cd:b,trace:x,xa:h[w],ya:d[w],maxHoverDistance:E,maxSpikeDistance:C,index:!1,distance:Math.min(R,E),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:et.defaultLine,name:x.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},c[_]&&(A.subplot=c[_]._subplot),c._splomScenes&&c._splomScenes[x.uid]&&(A.scene=c._splomScenes[x.uid]),S=O.length,"array"===k?"pointNumber"in(r=l[v])?(A.index=r.pointNumber,k="closest"):(k="","xval"in r&&(T=r.xval,k="x"),"yval"in r&&(M=r.yval,k=k?"closest":"y")):M=void 0!==t&&void 0!==e?(T=t,e):(T=g[w],m[w]),0!==E)if(x._module&&x._module.hoverPoints){var o=x._module.hoverPoints(A,T,M,k,c._hoverlayer);if(o)for(var a,s=0;s<o.length;s++)a=o[s],Q(a.x0)&&Q(a.y0)&&O.push(function(r,t){var n=r.index,i=r.trace||{},o=r.cd[0],a=r.cd[n]||{};function s(t){return t||Q(t)&&0===t}var l=Array.isArray(n)?function(t,e){t=K.castOption(o,n,t);return s(t)?t:K.extractOption({},i,"",e)}:function(t,e){return K.extractOption(a,i,t,e)};function e(t,e,n){n=l(e,n);s(n)&&(r[t]=n)}e("hoverinfo","hi","hoverinfo"),e("bgcolor","hbg","hoverlabel.bgcolor"),e("borderColor","hbc","hoverlabel.bordercolor"),e("fontFamily","htf","hoverlabel.font.family"),e("fontSize","hts","hoverlabel.font.size"),e("fontColor","htc","hoverlabel.font.color"),e("nameLength","hnl","hoverlabel.namelength"),e("textAlign","hta","hoverlabel.align"),r.posref="y"===t||"closest"===t&&"h"===i.orientation?r.xa._offset+(r.x0+r.x1)/2:r.ya._offset+(r.y0+r.y1)/2,r.x0=K.constrain(r.x0,0,r.xa._length),r.x1=K.constrain(r.x1,0,r.xa._length),r.y0=K.constrain(r.y0,0,r.ya._length),r.y1=K.constrain(r.y1,0,r.ya._length),void 0!==r.xLabelVal&&(r.xLabel="xLabel"in r?r.xLabel:rt.hoverLabelText(r.xa,r.xLabelVal),r.xVal=r.xa.c2d(r.xLabelVal));void 0!==r.yLabelVal&&(r.yLabel="yLabel"in r?r.yLabel:rt.hoverLabelText(r.ya,r.yLabelVal),r.yVal=r.ya.c2d(r.yLabelVal));void 0!==r.zLabelVal&&void 0===r.zLabel&&(r.zLabel=String(r.zLabelVal));isNaN(r.xerr)||"log"===r.xa.type&&r.xerr<=0||(u=rt.tickText(r.xa,r.xa.c2l(r.xerr),"hover").text,void 0!==r.xerrneg?r.xLabel+=" +"+u+" / -"+rt.tickText(r.xa,r.xa.c2l(r.xerrneg),"hover").text:r.xLabel+=" ± "+u,"x"===t&&(r.distance+=1));{var u;isNaN(r.yerr)||"log"===r.ya.type&&r.yerr<=0||(u=rt.tickText(r.ya,r.ya.c2l(r.yerr),"hover").text,void 0!==r.yerrneg?r.yLabel+=" +"+u+" / -"+rt.tickText(r.ya,r.ya.c2l(r.yerrneg),"hover").text:r.yLabel+=" ± "+u,"y"===t&&(r.distance+=1))}t=r.hoverinfo||r.trace.hoverinfo;t&&"all"!==t&&(-1===(t=Array.isArray(t)?t:t.split("+")).indexOf("x")&&(r.xLabel=void 0),-1===t.indexOf("y")&&(r.yLabel=void 0),-1===t.indexOf("z")&&(r.zLabel=void 0),-1===t.indexOf("text")&&(r.text=void 0),-1===t.indexOf("name")&&(r.name=void 0));return r}(a,p))}else K.log("Unrecognized trace type in hover:",x);"closest"===p&&O.length>S&&(O.splice(0,S),R=O[0].distance),f&&0!==C&&0===O.length&&(A.distance=C,A.index=!1,(i=(i=x._module.hoverPoints(A,T,M,"closest",c._hoverlayer))&&i.filter(function(t){return t.spikeDistance<=C}))&&i.length&&((r=i.filter(function(t){return t.xa.showspikes&&"hovered data"!==t.xa.spikesnap})).length&&(r=r[0],Q(r.x0)&&Q(r.y0)&&(n=F(r),(!P.vLinePoint||P.vLinePoint.spikeDistance>n.spikeDistance)&&(P.vLinePoint=n))),(i=i.filter(function(t){return t.ya.showspikes&&"hovered data"!==t.ya.spikesnap})).length&&(i=i[0],Q(i.x0)&&Q(i.y0)&&(n=F(i),(!P.hLinePoint||P.hLinePoint.spikeDistance>n.spikeDistance)&&(P.hLinePoint=n)))))}}function I(t,e){for(var n,r=null,i=1/0,o=0;o<t.length;o++)(n=t[o].spikeDistance)<=i&&n<=e&&(r=t[o],i=n);return r}function F(t){return t?{xa:t.xa,ya:t.ya,x:void 0!==t.xSpike?t.xSpike:(t.x0+t.x1)/2,y:void 0!==t.ySpike?t.ySpike:(t.y0+t.y1)/2,distance:t.distance,spikeDistance:t.spikeDistance,curveNumber:t.trace.index,color:t.color,pointNumber:t.index}:null}D();var z,L={fullLayout:c,container:c._hoverlayer,outerContainer:c._paperdiv,event:l},B=t._spikepoints,U={vLinePoint:P.vLinePoint,hLinePoint:P.hLinePoint};if(t._spikepoints=U,!f||0===C||0!==O.length&&(U=I(O.filter(function(t){return t.ya.showspikes}),C),P.hLinePoint=F(U),U=I(O.filter(function(t){return t.xa.showspikes}),C),P.vLinePoint=F(U)),0===O.length){var H=nt.unhoverRaw(t,l);return!f||null===P.hLinePoint&&null===P.vLinePoint||ft(B)&&ct(t,P,L)}f&&ft(B)&&ct(t,P,L),O.sort(function(t,e){return t.distance-e.distance}),ot.isXYhover(k)&&0!==O[0].length&&"splom"!==O[0].trace.type&&(H=O[0],q=H.cd[H.index],B="group"===c.boxmode||"group"===c.violinmode,X=H.xVal,"category"===(L=H.xa).type&&(X=L._categoriesMap[X]),"date"===L.type&&(X=L.d2c(X)),q&&q.t&&q.t.posLetter===L._id&&B&&(X+=q.t.dPos),Z=H.yVal,"category"===(L=H.ya).type&&(Z=L._categoriesMap[Z]),"date"===L.type&&(Z=L.d2c(Z)),q&&q.t&&q.t.posLetter===L._id&&B&&(Z+=q.t.dPos),D(X,Z),z={},O=O.filter(function(t){t=st(t);if(!z[t])return z[t]=!0,z[t]}));var q=t._hoverdata,V=[];for(y=0;y<O.length;y++){var G,W=O[y],Y=ot.makeEventData(W,W.trace,W.cd);!1!==W.hovertemplate&&(G=!1,W.cd[W.index]&&W.cd[W.index].ht&&(G=W.cd[W.index].ht),W.hovertemplate=G||W.trace.hovertemplate||!1),W.eventData=[Y],V.push(Y)}t._hoverdata=V;var X="y"===p&&(1<j.length||1<O.length)||"closest"===p&&N&&1<O.length,Z=et.combine(c.plot_bgcolor||et.background,c.paper_bgcolor),Z={hovermode:p,rotateLabels:X,bgColor:Z,container:c._hoverlayer,outerContainer:c._paperdiv,commonLabelOpts:c.hoverlabel,hoverdistance:c.hoverdistance},Z=lt(O,Z,t);ot.isUnifiedHover(p)||(function(t,r,i){var o,a,s,l,u,c,e,n=0,f=1,h=t.size(),d=new Array(h),p=0;function g(t){var e=t[0],n=t[t.length-1];if(a=e.pmin-e.pos-e.dp+e.size,s=n.pos+n.dp+n.size-e.pmax,.01<a){for(u=t.length-1;0<=u;u--)t[u].dp+=a;o=!1}if(!(s<.01)){if(a<-.01){for(u=t.length-1;0<=u;u--)t[u].dp-=s;o=!1}if(o){var r=0;for(l=0;l<t.length;l++)(c=t[l]).pos+c.dp+c.size>e.pmax&&r++;for(l=t.length-1;0<=l&&!(r<=0);l--)(c=t[l]).pos>e.pmax-1&&(c.del=!0,r--);for(l=0;l<t.length&&!(r<=0);l++)if((c=t[l]).pos<e.pmin+1)for(c.del=!0,r--,s=2*c.size,u=t.length-1;0<=u;u--)t[u].dp-=s;for(l=t.length-1;0<=l&&!(r<=0);l--)(c=t[l]).pos+c.dp+c.size>e.pmax&&(c.del=!0,r--)}}}for(t.each(function(t){var e=t[r],n="x"===e._id.charAt(0),e=e.range;0===p&&e&&e[0]>e[1]!=n&&(f=-1),d[p++]=[{datum:t,traceIndex:t.trace.index,dp:0,pos:t.pos,posref:t.posref,size:t.by*(n?at:1)/2,pmin:0,pmax:n?i.width:i.height}]}),d.sort(function(t,e){return t[0].posref-e[0].posref||f*(e[0].traceIndex-t[0].traceIndex)});!o&&n<=h;){for(n++,o=!0,l=0;l<d.length-1;){var m=d[l],y=d[l+1],v=m[m.length-1],b=y[0];if(.01<(a=v.pos+v.dp+v.size-b.pos-b.dp+b.size)&&v.pmin===b.pmin&&v.pmax===b.pmax){for(u=y.length-1;0<=u;u--)y[u].dp+=a;for(m.push.apply(m,y),d.splice(l+1,1),e=0,u=m.length-1;0<=u;u--)e+=m[u].dp;for(s=e/m.length,u=m.length-1;0<=u;u--)m[u].dp-=s;o=!1}else l++}d.forEach(g)}for(l=d.length-1;0<=l;l--){var x=d[l];for(u=x.length-1;0<=u;u--){var _=x[u],w=_.datum;w.offset=_.dp,w.del=_.del}}}(Z,X?"xa":"ya",c),ut(Z,X,c._invScaleX,c._invScaleY)),l.target&&l.target.tagName&&(X=it.getComponentMethod("annotations","hasClickToShow")(t,V),tt($.select(l.target),X?"pointer":"")),l.target&&!n&&function(t,e){if(!e||e.length!==t._hoverdata.length)return!0;for(var n=e.length-1;0<=n;n--){var r=e[n],i=t._hoverdata[n];if(r.curveNumber!==i.curveNumber||String(r.pointNumber)!==String(i.pointNumber)||String(r.pointNumbers)!==String(i.pointNumbers))return!0}return!1}(t,q)&&(q&&t.emit("plotly_unhover",{event:l,points:q}),t.emit("plotly_hover",{event:l,points:t._hoverdata,xaxes:h,yaxes:d,xvals:g,yvals:m}))}(t,e,n,r)})},n.loneHover=function(t,r){var e=!0;Array.isArray(t)||(e=!1,t=[t]);var n=t.map(function(t){return{color:t.color||et.defaultLine,x0:t.x0||t.x||0,x1:t.x1||t.x||0,y0:t.y0||t.y||0,y1:t.y1||t.y||0,xLabel:t.xLabel,yLabel:t.yLabel,zLabel:t.zLabel,text:t.text,name:t.name,idealAlign:t.idealAlign,borderColor:t.borderColor,fontFamily:t.fontFamily,fontSize:t.fontSize,fontColor:t.fontColor,nameLength:t.nameLength,textAlign:t.textAlign,trace:t.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:t.hovertemplate||!1,eventData:t.eventData||!1,hovertemplateLabels:t.hovertemplateLabels||!1}}),i=$.select(r.container),o=r.outerContainer?$.select(r.outerContainer):i,t={hovermode:"closest",rotateLabels:!1,bgColor:r.bgColor||et.background,container:i,outerContainer:o},i=lt(n,t,r.gd),a=0,s=0;i.sort(function(t,e){return t.y0-e.y0}).each(function(t,e){var n=t.y0-t.by/2;t.offset=n-5<a?a-n+5:0,a=n+t.by+t.offset,e===r.anchorIndex&&(s=t.offset)}).each(function(t){t.offset-=s});o=r.gd._fullLayout._invScaleX,n=r.gd._fullLayout._invScaleY;return ut(i,t.rotateLabels,o,n),e?i:i.node()};var l=/<extra>([\s\S]*)<\/extra>/;function lt(m,t,y){var v=y._fullLayout,b=t.hovermode,p=t.rotateLabels,g=t.bgColor,e=t.container,n=t.outerContainer,x=t.commonLabelOpts||{},_=t.fontFamily||F.HOVERFONT,w=t.fontSize||F.HOVERFONTSIZE,k=m[0],T=k.xa,M=k.ya,r="y"===b.charAt(0)?"yLabel":"xLabel",A=k[r],i=(String(A)||"").split(" ")[0],o=n.node().getBoundingClientRect(),S=o.top,E=o.width,C=o.height,O=void 0!==A&&k.distance<=t.hoverdistance&&("x"===b||"y"===b);if(O){for(var a=!0,s=0;s<m.length;s++)if(a&&void 0===m[s].zLabel&&(a=!1),l=m[s].hoverinfo||m[s].trace.hoverinfo){var l=Array.isArray(l)?l:l.split("+");if(-1===l.indexOf("all")&&-1===l.indexOf(b)){O=!1;break}}a&&(O=!1)}var u=e.selectAll("g.axistext").data(O?[0]:[]);function j(t){return t.filter(function(t){return void 0!==t.zLabelVal||(t[r]||"").split(" ")[0]===i})}if(u.enter().append("g").classed("axistext",!0),u.exit().remove(),u.each(function(){var t=$.select(this),e=K.ensureSingle(t,"path","",function(t){t.style({"stroke-width":"1px"})}),n=K.ensureSingle(t,"text","",function(t){t.attr("data-notex",1)}),r=x.bgcolor||et.defaultLine,i=x.bordercolor||et.contrast(r),o=et.contrast(r),a={family:x.font.family||_,size:x.font.size||w,color:x.font.color||o};e.style({fill:r,stroke:i}),n.text(A).call(I.font,a).call(D.positionText,0,0).call(D.convertToTspans,y),t.attr("transform","");var s,l,u,c,f,h,d,p,g=n.node().getBoundingClientRect();"x"===b?(f="top"===T.side?"-":"",n.attr("text-anchor","middle").call(D.positionText,0,"top"===T.side?S-g.bottom-H-q:S-g.top+H+q),u=T._offset+(k.x0+k.x1)/2,c=M._offset+("top"===T.side?0:M._length),u<(i=g.width/2+q)?(u=i,e.attr("d","M-"+(i-H)+",0L-"+(i-2*H)+","+f+H+"H"+(q+g.width/2)+"v"+f+(2*q+g.height)+"H-"+i+"V"+f+H+"Z")):u>v.width-i?(u=v.width-i,e.attr("d","M"+(i-H)+",0L"+i+","+f+H+"v"+f+(2*q+g.height)+"H-"+i+"V"+f+H+"H"+(i-2*H)+"Z")):e.attr("d","M0,0L"+H+","+f+H+"H"+(q+g.width/2)+"v"+f+(2*q+g.height)+"H-"+(q+g.width/2)+"V"+f+H+"H-"+H+"Z")):(u="right"===M.side?(s="start",l=1,h="",T._offset+T._length):(s="end",l=-1,h="-",T._offset),c=M._offset+(k.y0+k.y1)/2,n.attr("text-anchor",s),e.attr("d","M0,0L"+h+H+","+H+"V"+(q+g.height/2)+"h"+h+(2*q+g.width)+"V-"+(q+g.height/2)+"H"+h+H+"V-"+H+"Z"),f=g.height/2,e=S-g.top-f,h="clip"+v._uid+"commonlabel"+M._id,u<g.width+2*q+H?(d="M-"+(H+q)+"-"+f+"h-"+(g.width-q)+"V"+f+"h"+(g.width-q)+"Z",p=g.width-u+q,D.positionText(n,p,e),"end"===s&&n.selectAll("tspan").each(function(){var t=$.select(this),e=I.tester.append("text").text(t.text()).call(I.font,a),n=e.node().getBoundingClientRect();Math.round(n.width)<Math.round(g.width)&&t.attr("x",p-n.width),e.remove()})):(D.positionText(n,l*(q+H),e),d=null),(e=v._topclips.selectAll("#"+h).data(d?[0]:[])).enter().append("clipPath").attr("id",h).append("path"),e.exit().remove(),e.select("path").attr("d",d),I.setClipUrl(n,d?h:null,y)),t.attr("transform",L(u,c)),m=j(m)}),ot.isUnifiedHover(b)){if(e.selectAll("g.hovertext").remove(),void 0!==A&&k.distance<=t.hoverdistance&&(m=j(m)),0===m.length)return;var c={showlegend:!0,legend:{title:{text:A,font:v.hoverlabel.font},font:v.hoverlabel.font,bgcolor:v.hoverlabel.bgcolor,bordercolor:v.hoverlabel.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:v.legend?v.legend.traceorder:void 0,orientation:"v"}},n={};z(c,n,y._fullData);var f=n.legend;f.entries=[];for(var h=0;h<m.length;h++){var d=V(m[h],!0,b,v,A),P=d[0],N=d[1],d=m[h];d.name=N,d.text=""!==N?N+" : "+P:P;P=d.cd[d.index];P&&(P.mc&&(d.mc=P.mc),P.mcc&&(d.mc=P.mcc),P.mlc&&(d.mlc=P.mlc),P.mlcc&&(d.mlc=P.mlcc),P.mlw&&(d.mlw=P.mlw),P.mrc&&(d.mrc=P.mrc),P.dir&&(d.dir=P.dir)),d._distinct=!0,f.entries.push([d])}f.entries.sort(function(t,e){return t[0].trace.index-e[0].trace.index}),f.layer=e,B(y,f);o=K.mean(m.map(function(t){return(t.y0+t.y1)/2})),u=K.mean(m.map(function(t){return(t.x0+t.x1)/2})),t=e.select("g.legend"),c=t.node().getBoundingClientRect();u+=T._offset,o+=M._offset-c.height/2;n=c.width+2*q;!(u+n<=E)&&0<=u-n?u-=n:u+=2*q;n=c.height+2*q,c=C<=o+n;return n<=C&&(o<=S?o=M._offset+2*q:c&&(o=C-n)),t.attr("transform",L(u,o)),t}e=e.selectAll("g.hovertext").data(m,st);return e.enter().append("g").classed("hovertext",!0).each(function(){var t=$.select(this);t.append("rect").call(et.fill,et.addOpacity(g,.8)),t.append("text").classed("name",!0),t.append("path").style("stroke-width","1px"),t.append("text").classed("nums",!0).call(I.font,_,w)}),e.exit().remove(),e.each(function(t){var e=$.select(this).attr("transform",""),n=t.color;Array.isArray(n)&&(n=n[t.eventData[0].pointNumber]);var r=t.bgcolor||n,i=et.combine(et.opacity(r)?r:et.defaultLine,g),o=et.combine(et.opacity(n)?n:et.defaultLine,g),a=t.borderColor||et.contrast(i),s=V(t,O,b,v,A,e),l=s[0],u=s[1],c=e.select("text.nums").call(I.font,t.fontFamily||_,t.fontSize||w,t.fontColor||a).text(l).attr("data-notex",1).call(D.positionText,0,0).call(D.convertToTspans,y),r=e.select("text.name"),n=0,s=0;u&&u!==l?(r.call(I.font,t.fontFamily||_,t.fontSize||w,o).text(u).attr("data-notex",1).call(D.positionText,0,0).call(D.convertToTspans,y),n=(d=r.node().getBoundingClientRect()).width+2*q,s=d.height+2*q):(r.remove(),e.select("rect").remove()),e.select("path").style({fill:i,stroke:a});var f,h,l=c.node().getBoundingClientRect(),o=t.xa._offset+(t.x0+t.x1)/2,u=t.ya._offset+(t.y0+t.y1)/2,d=Math.abs(t.x1-t.x0),i=Math.abs(t.y1-t.y0),a=l.width+H+q+n;t.ty0=S-l.top,t.bx=l.width+2*q,t.by=Math.max(l.height+2*q,s),t.anchor="start",t.txwidth=l.width,t.tx2width=n,t.offset=0,p?(t.pos=o,h=u+i/2+a<=C,f=0<=u-i/2-a,"top"!==t.idealAlign&&h||!f?h?(u+=i/2,t.anchor="start"):t.anchor="middle":(u-=i/2,t.anchor="end")):(t.pos=u,h=o+d/2+a<=E,f=0<=o-d/2-a,"left"!==t.idealAlign&&h||!f?h?(o+=d/2,t.anchor="start"):(t.anchor="middle",a=o-(h=a/2),0<(h=o+h-E)&&(o-=h),a<0&&(o+=-a)):(o-=d/2,t.anchor="end")),c.attr("text-anchor",t.anchor),n&&r.attr("text-anchor",t.anchor),e.attr("transform",L(o,u)+(p?R(U):""))}),e}function V(n,t,e,r,i,o){var a="",s="";void 0!==n.nameOverride&&(n.name=n.nameOverride),n.name&&(n.trace._meta&&(n.name=K.templateString(n.name,n.trace._meta)),a=u(n.name,n.nameLength)),void 0!==n.zLabel?(void 0!==n.xLabel&&(s+="x: "+n.xLabel+"<br>"),void 0!==n.yLabel&&(s+="y: "+n.yLabel+"<br>"),"choropleth"!==n.trace.type&&"choroplethmapbox"!==n.trace.type&&(s+=(s?"z: ":"")+n.zLabel)):t&&n[e.charAt(0)+"Label"]===i?s=n[("x"===e.charAt(0)?"y":"x")+"Label"]||"":void 0===n.xLabel?void 0!==n.yLabel&&"scattercarpet"!==n.trace.type&&(s=n.yLabel):s=void 0===n.yLabel?n.xLabel:"("+n.xLabel+", "+n.yLabel+")",!n.text&&0!==n.text||Array.isArray(n.text)||(s+=(s?"<br>":"")+n.text),void 0!==n.extraText&&(s+=(s?"<br>":"")+n.extraText),o&&""===s&&!n.hovertemplate&&(""===a&&o.remove(),s=a);i=r._d3locale,e=n.hovertemplate||!1,o=n.hovertemplateLabels||n,r=n.eventData[0]||{};return e&&(s=(s=K.hovertemplateString(e,o,i,r,n.trace._meta)).replace(l,function(t,e){return a=u(e,n.nameLength),""})),[s,a]}function ut(t,h,d,p){function g(t){return t*d}function m(t){return t*p}t.each(function(t){var e=$.select(this);if(t.del)return e.remove();var n=e.select("text.nums"),r=t.anchor,i="end"===r?-1:1,o={start:1,end:-1,middle:0}[r],a=o*(H+q),s=a+o*(t.txwidth+q),l=0,u=t.offset,c="middle"===r;c&&(a-=t.tx2width/2,s+=t.txwidth/2+q),h&&(u*=-v,l=t.offset*y),e.select("path").attr("d",c?"M-"+g(t.bx/2+t.tx2width/2)+","+m(u-t.by/2)+"h"+g(t.bx)+"v"+m(t.by)+"h-"+g(t.bx)+"Z":"M0,0L"+g(i*H+l)+","+m(H+u)+"v"+m(t.by/2-H)+"h"+g(i*t.bx)+"v-"+m(t.by)+"H"+g(i*H+l)+"V"+m(u-H)+"Z");var f=l+a,i=u+t.ty0-t.by/2+q,a=t.textAlign||"auto";"auto"!==a&&("left"===a&&"start"!==r?(n.attr("text-anchor","start"),f=c?-t.bx/2-t.tx2width/2+q:-t.bx-q):"right"===a&&"end"!==r&&(n.attr("text-anchor","end"),f=c?t.bx/2-t.tx2width/2-q:t.bx+q)),n.call(D.positionText,f*d,i*p),t.tx2width&&(e.select("text.name").call(D.positionText,g(s+o*q+l),m(u+t.ty0-t.by/2+q)),e.select("rect").call(I.setRect,g(s+(o-1)*t.tx2width/2+l),m(u-t.by/2-1),g(t.tx2width),m(t.by+2)))})}function ct(t,e,n){var r,i,o,a,s,l,u,c,f,h,d,p,g=n.container,m=n.fullLayout,y=m._size,v=n.event,b=!!e.hLinePoint,x=!!e.vLinePoint;g.selectAll(".spikeline").remove(),(x||b)&&(r=et.combine(m.plot_bgcolor,m.paper_bgcolor),b&&(i=(a=e.hLinePoint)&&a.xa,o="cursor"===(f=a&&a.ya).spikesnap?(u=v.pointerX,v.pointerY):(u=i._offset+a.x,f._offset+a.y),n=_.readability(a.color,r)<1.5?et.contrast(r):a.color,m=f.spikemode,b=f.spikethickness,h=f.spikecolor||n,a=rt.getPxPosition(t,f),-1===m.indexOf("toaxis")&&-1===m.indexOf("across")||(-1!==m.indexOf("toaxis")&&(s=a,l=u),-1!==m.indexOf("across")&&(n=f._counterDomainMin,u=f._counterDomainMax,"free"===f.anchor&&(n=Math.min(n,f.position),u=Math.max(u,f.position)),s=y.l+n*y.w,l=y.l+u*y.w),g.insert("line",":first-child").attr({x1:s,x2:l,y1:o,y2:o,"stroke-width":b,stroke:h,"stroke-dasharray":I.dashStyle(f.spikedash,b)}).classed("spikeline",!0).classed("crisp",!0),g.insert("line",":first-child").attr({x1:s,x2:l,y1:o,y2:o,"stroke-width":b+2,stroke:r}).classed("spikeline",!0).classed("crisp",!0)),-1!==m.indexOf("marker")&&g.insert("circle",":first-child").attr({cx:a+("right"!==f.side?b:-b),cy:o,r:b,fill:h}).classed("spikeline",!0)),x&&(i=(h=e.vLinePoint)&&h.xa,f=h&&h.ya,x="cursor"===i.spikesnap?(c=v.pointerX,v.pointerY):(c=i._offset+h.x,f._offset+h.y),e=_.readability(h.color,r)<1.5?et.contrast(r):h.color,v=i.spikemode,f=i.spikethickness,h=i.spikecolor||e,e=rt.getPxPosition(t,i),-1===v.indexOf("toaxis")&&-1===v.indexOf("across")||(-1!==v.indexOf("toaxis")&&(d=e,p=x),-1!==v.indexOf("across")&&(t=i._counterDomainMin,x=i._counterDomainMax,"free"===i.anchor&&(t=Math.min(t,i.position),x=Math.max(x,i.position)),d=y.t+(1-x)*y.h,p=y.t+(1-t)*y.h),g.insert("line",":first-child").attr({x1:c,x2:c,y1:d,y2:p,"stroke-width":f,stroke:h,"stroke-dasharray":I.dashStyle(i.spikedash,f)}).classed("spikeline",!0).classed("crisp",!0),g.insert("line",":first-child").attr({x1:c,x2:c,y1:d,y2:p,"stroke-width":f+2,stroke:r}).classed("spikeline",!0).classed("crisp",!0)),-1!==v.indexOf("marker")&&g.insert("circle",":first-child").attr({cx:c,cy:e-("top"!==i.side?f:-f),r:f,fill:h}).classed("spikeline",!0)))}function ft(t,e){return!e||(e.vLinePoint!==t._spikepoints.vLinePoint||e.hLinePoint!==t._spikepoints.hLinePoint)}function u(t,e){return D.plainText(t||"",{len:e,allowedTags:["br","sub","sup","b","i","em"]})}},{"../../lib":776,"../../lib/events":768,"../../lib/override_cursor":787,"../../lib/svg_text_utils":799,"../../plots/cartesian/axes":823,"../../registry":877,"../color":646,"../dragelement":665,"../drawing":668,"../legend/defaults":698,"../legend/draw":699,"./constants":680,"./helpers":682,d3:629,"fast-isnumeric":450,tinycolor2:1005}],684:[function(t,e,n){"use strict";var o=t("../../lib"),a=t("../color"),s=t("./helpers").isUnifiedHover;e.exports=function(t,e,n,r){function i(t){r.font[t]||(r.font[t]=(e.legend||e).font[t])}r=r||{},e&&s(e.hovermode)&&(r.font||(r.font={}),i("size"),i("family"),i("color"),e.legend?(r.bgcolor||(r.bgcolor=a.combine(e.legend.bgcolor,e.paper_bgcolor)),r.bordercolor||(r.bordercolor=e.legend.bordercolor)):r.bgcolor||(r.bgcolor=e.paper_bgcolor)),n("hoverlabel.bgcolor",r.bgcolor),n("hoverlabel.bordercolor",r.bordercolor),n("hoverlabel.namelength",r.namelength),o.coerceFont(n,"hoverlabel.font",r.font),n("hoverlabel.align",r.align)}},{"../../lib":776,"../color":646,"./helpers":682}],685:[function(t,e,n){"use strict";var o=t("../../lib"),a=t("./layout_attributes");e.exports=function(n,r,t){function e(t,e){return void 0!==r[t]?r[t]:o.coerce(n,r,a,t,e)}var i=e("clickmode"),t=!r._has("cartesian")||-1<i.indexOf("select")?"closest":(r._isHoriz=function(t,e){for(var n=e._scatterStackOpts||{},r=0;r<t.length;r++){var i=t[r],o=i.xaxis+i.yaxis,o=(n[o]||{})[i.stackgroup]||{};if("h"!==i.orientation&&"h"!==o.orientation)return!1}return!0}(t,r),r._isHoriz?"y":"x");return e("hovermode",t)}},{"../../lib":776,"./layout_attributes":687}],686:[function(t,e,n){"use strict";var r=t("d3"),i=t("../../lib"),o=t("../dragelement"),a=t("./helpers"),s=t("./layout_attributes"),l=t("./hover");e.exports={moduleType:"component",name:"fx",constants:t("./constants"),schema:{layout:s},attributes:t("./attributes"),layoutAttributes:s,supplyLayoutGlobalDefaults:t("./layout_global_defaults"),supplyDefaults:t("./defaults"),supplyLayoutDefaults:t("./layout_defaults"),calc:t("./calc"),getDistanceFunction:a.getDistanceFunction,getClosest:a.getClosest,inbox:a.inbox,quadrature:a.quadrature,appendArrayPointValue:a.appendArrayPointValue,castHoverOption:function(t,e,n){return i.castOption(t,e,"hoverlabel."+n)},castHoverinfo:function(e,n,t){return i.castOption(e,t,"hoverinfo",function(t){return i.coerceHoverinfo({hoverinfo:t},{_module:e._module},n)})},hover:l.hover,unhover:o.unhover,loneHover:l.loneHover,loneUnhover:function(t){t=i.isD3Selection(t)?t:r.select(t);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:t("./click")}},{"../../lib":776,"../dragelement":665,"./attributes":677,"./calc":678,"./click":679,"./constants":680,"./defaults":681,"./helpers":682,"./hover":683,"./layout_attributes":687,"./layout_defaults":688,"./layout_global_defaults":689,d3:629}],687:[function(t,e,n){"use strict";var r=t("./constants"),t=t("../../plots/font_attributes")({editType:"none"});t.family.dflt=r.HOVERFONT,t.size.dflt=r.HOVERFONTSIZE,e.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:20,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:t,align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":851,"./constants":680}],688:[function(t,e,n){"use strict";var a=t("../../lib"),s=t("./helpers").isUnifiedHover,l=t("./layout_attributes"),u=t("./hovermode_defaults"),c=t("./hoverlabel_defaults");e.exports=function(n,r,t){function e(t,e){return a.coerce(n,r,l,t,e)}var i=u(n,r,t);i&&(e("hoverdistance"),e("spikedistance",s(i)?-1:void 0)),"select"===e("dragmode")&&e("selectdirection");var o=r._has("mapbox"),t=r._has("geo"),i=r._basePlotModules.length;"zoom"===r.dragmode&&((o||t)&&1===i||o&&t&&2===i)&&(r.dragmode="pan"),c(n,r,e)}},{"../../lib":776,"./helpers":682,"./hoverlabel_defaults":684,"./hovermode_defaults":685,"./layout_attributes":687}],689:[function(t,e,n){"use strict";var i=t("../../lib"),o=t("./hoverlabel_defaults"),a=t("./layout_attributes");e.exports=function(n,r){o(n,r,function(t,e){return i.coerce(n,r,a,t,e)})}},{"../../lib":776,"./hoverlabel_defaults":684,"./layout_attributes":687}],690:[function(t,e,n){"use strict";var p=t("../../lib"),r=t("../../lib/regex").counter,i=t("../../plots/domain").attributes,o=t("../../plots/cartesian/constants").idRegex,g=t("../../plot_api/plot_template"),m={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[r("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[o.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[o.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:i({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function j(t,e,n){e=e[n+"axes"],n=Object.keys((t._splomAxes||{})[n]||{});return Array.isArray(e)?e:n.length?n:void 0}function y(t,e,n,r,i,o){var a=e(t+"gap",n),n=e("domain."+t);e(t+"side",r);for(var s=new Array(i),l=n[0],u=(n[1]-l)/(i-a),c=u*(1-a),f=0;f<i;f++){var h=l+u*f;s[o?i-1-f:f]=[h,h+c]}return s}function P(t,n,e,r,i){var o,a=new Array(e);function s(t,e){-1!==n.indexOf(e)&&void 0===r[e]?(a[t]=e,r[e]=t):a[t]=""}if(Array.isArray(t))for(o=0;o<e;o++)s(o,t[o]);else for(s(0,i),o=1;o<e;o++)s(o,i+(o+1));return a}e.exports={moduleType:"component",name:"grid",schema:{layout:{grid:m}},layoutAttributes:m,sizeDefaults:function(t,e){var n,r,i,o,a,s,l,u,c=t.grid||{},f=j(e,c,"x"),h=j(e,c,"y");function d(t,e){return p.coerce(c,n,m,t,e)}(t.grid||f||h)&&(s=Array.isArray(c.subplots)&&Array.isArray(c.subplots[0]),o=Array.isArray(f),a=Array.isArray(h),t=o&&f!==c.xaxes&&a&&h!==c.yaxes,s?(r=c.subplots.length,i=c.subplots[0].length):(a&&(r=h.length),o&&(i=f.length)),n=g.newContainer(e,"grid"),1<(r=d("rows",r))*(i=d("columns",i))?(s||o||a||"independent"===d("pattern")&&(s=!0),n._hasSubplotGrid=s,o="top to bottom"===d("roworder"),a=s?.2:.1,s=s?.3:.1,t&&e._splomGridDflt&&(l=e._splomGridDflt.xside,u=e._splomGridDflt.yside),n._domains={x:y("x",d,a,l,i),y:y("y",d,s,u,r,o)}):delete e.grid)},contentDefaults:function(t,e){var n=e.grid;if(n&&n._domains){var r,i,o,a,s=t.grid||{},l=e._subplots,u=n._hasSubplotGrid,c=n.rows,f=n.columns,h="independent"===n.pattern,d=n._axisMap={};if(u)for(var p=s.subplots||[],g=n.subplots=new Array(c),m=1,y=0;y<c;y++)for(var v=g[y]=new Array(f),b=p[y]||[],x=0;x<f;x++)h?(o=1===m?"xy":"x"+m+"y"+m,m++):o=b[x],v[x]="",-1!==l.cartesian.indexOf(o)&&(a=o.indexOf("y"),r=o.slice(0,a),i=o.slice(a),void 0!==d[r]&&d[r]!==x||void 0!==d[i]&&d[i]!==y||(v[x]=o,d[r]=x,d[i]=y));else{t=j(e,s,"x"),s=j(e,s,"y");n.xaxes=P(t,l.xaxis,f,d,"x"),n.yaxes=P(s,l.yaxis,c,d,"y")}var _,w=n._anchors={},k="top to bottom"===n.roworder;for(_ in d){var T,M,A,S=_.charAt(0),E=n[S+"side"];if(E.length<8)w[_]="free";else if("x"===S){if(A="t"===E.charAt(0)==k?(T=0,M=1,c):(T=c-1,M=-1),u){var C=d[_];for(y=T;y!==A;y+=M)if(o=g[y][C],o&&(a=o.indexOf("y"),o.slice(0,a)===_)){w[_]=o.slice(a);break}}else for(y=T;y!==A;y+=M)if(i=n.yaxes[y],-1!==l.cartesian.indexOf(_+i)){w[_]=i;break}}else if(A="l"===E.charAt(0)?(T=0,M=1,f):(T=f-1,M=-1),u){var O=d[_];for(y=T;y!==A;y+=M)if(o=g[O][y],o&&(a=o.indexOf("y"),o.slice(a)===_)){w[_]=o.slice(0,a);break}}else for(y=T;y!==A;y+=M)if(r=n.xaxes[y],-1!==l.cartesian.indexOf(r+_)){w[_]=r;break}}}}}},{"../../lib":776,"../../lib/regex":791,"../../plot_api/plot_template":812,"../../plots/cartesian/constants":829,"../../plots/domain":850}],691:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/constants"),i=t("../../plot_api/plot_template").templatedArray;t("../../constants/axis_placeable_objects");e.exports=i("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",r.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",r.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":749,"../../plot_api/plot_template":812,"../../plots/cartesian/constants":829}],692:[function(t,e,n){"use strict";var p=t("fast-isnumeric"),g=t("../../lib/to_log_range");e.exports=function(t,e,n,r){e=e||{};var i="log"===n&&"linear"===e.type,n="linear"===n&&"log"===e.type;if(i||n)for(var o=t._fullLayout.images,a=e._id.charAt(0),s=0;s<o.length;s++){var l,u,c,f,h,d="images["+s+"].";(h=o[s])[a+"ref"]===e._id&&(l=h[a],u=h["size"+a],f=c=null,f=i?(c=g(l,e.range),h=u/Math.pow(10,c)/2,2*Math.log(h+Math.sqrt(1+h*h))/Math.LN10):(c=Math.pow(10,l))*(Math.pow(10,u/2)-Math.pow(10,-u/2)),p(c)?p(f)||(f=null):f=c=null,r(d+a,c),r(d+"size"+a,f))}}},{"../../lib/to_log_range":801,"fast-isnumeric":450}],693:[function(t,e,n){"use strict";var c=t("../../lib"),f=t("../../plots/cartesian/axes"),r=t("../../plots/array_container_defaults"),h=t("./attributes");function i(n,r,t){function e(t,e){return c.coerce(n,r,h,t,e)}var i=e("source");if(!e("visible",!!i))return r;e("layer"),e("xanchor"),e("yanchor"),e("sizex"),e("sizey"),e("sizing"),e("opacity");for(var o={_fullLayout:t},a=["x","y"],s=0;s<2;s++){var l=a[s],u=f.coerceRef(n,r,o,l,"paper",void 0);"paper"!==u&&f.getFromId(o,u)._imgIndices.push(r._index),f.coercePosition(r,o,e,u,l,0)}return r}e.exports=function(t,e){r(t,e,{name:"images",handleItemDefaults:i})}},{"../../lib":776,"../../plots/array_container_defaults":818,"../../plots/cartesian/axes":823,"./attributes":691}],694:[function(t,e,n){"use strict";var y=t("d3"),v=t("../drawing"),b=t("../../plots/cartesian/axes"),x=t("../../plots/cartesian/axis_ids"),_=t("../../constants/xmlns_namespaces");e.exports=function(h){for(var t,d=h._fullLayout,e=[],n={},r=[],i=0;i<d.images.length;i++){var o,a=d.images[i];a.visible&&("below"===a.layer&&"paper"!==a.xref&&"paper"!==a.yref?(t=x.ref2id(a.xref)+x.ref2id(a.yref),(o=d._plots[t])?(o.mainplot&&(t=o.mainplot.id),n[t]||(n[t]=[]),n[t].push(a)):r.push(a)):("above"===a.layer?e:r).push(a))}var p={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},g={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function s(r){var t,i=y.select(this);this._imgSrc!==r.source&&(i.attr("xmlns",_.svg),r.source&&"data:"===r.source.slice(0,5)?(i.attr("xlink:href",r.source),this._imgSrc=r.source):(t=new Promise(function(e){var t=new Image;function n(){i.remove(),e()}(this.img=t).setAttribute("crossOrigin","anonymous"),t.onerror=n,t.onload=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height,t.getContext("2d").drawImage(this,0,0);t=t.toDataURL("image/png");i.attr("xlink:href",t),e()},i.on("error",n),t.src=r.source,this._imgSrc=r.source}.bind(this)),h._promises.push(t)))}function l(t){var e=y.select(this),n=b.getFromId(h,t.xref),r=b.getFromId(h,t.yref),i="domain"===b.getRefType(t.xref),o="domain"===b.getRefType(t.yref),a=d._size,s=void 0!==n?"string"==typeof t.xref&&i?n._length*t.sizex:Math.abs(n.l2p(t.sizex)-n.l2p(0)):t.sizex*a.w,l=void 0!==r?"string"==typeof t.yref&&o?r._length*t.sizey:Math.abs(r.l2p(t.sizey)-r.l2p(0)):t.sizey*a.h,u=s*p[t.xanchor].offset,c=l*g[t.yanchor].offset,f=p[t.xanchor].sizing+g[t.yanchor].sizing,i=void 0!==n?"string"==typeof t.xref&&i?n._length*t.x+n._offset:n.r2p(t.x)+n._offset:t.x*a.w+a.l;switch(i+=u,a=void 0!==r?"string"==typeof t.yref&&o?r._length*(1-t.y)+r._offset:r.r2p(t.y)+r._offset:a.h-t.y*a.h+a.t,a+=c,t.sizing){case"fill":f+=" slice";break;case"stretch":f="none"}e.attr({x:i,y:a,width:s,height:l,preserveAspectRatio:f,opacity:t.opacity});r=(n&&"domain"!==b.getRefType(t.xref)?n._id:"")+(r&&"domain"!==b.getRefType(t.yref)?r._id:"");v.setClipUrl(e,r?"clip"+d._uid+r:null,h)}var u=d._imageLowerLayer.selectAll("image").data(r),c=d._imageUpperLayer.selectAll("image").data(e);u.enter().append("image"),c.enter().append("image"),u.exit().remove(),c.exit().remove(),u.each(function(t){s.bind(this)(t),l.bind(this)(t)}),c.each(function(t){s.bind(this)(t),l.bind(this)(t)});var f=Object.keys(d._plots);for(i=0;i<f.length;i++){t=f[i];var m=d._plots[t];m.imagelayer&&((m=m.imagelayer.selectAll("image").data(n[t]||[])).enter().append("image"),m.exit().remove(),m.each(function(t){s.bind(this)(t),l.bind(this)(t)}))}}},{"../../constants/xmlns_namespaces":755,"../../plots/cartesian/axes":823,"../../plots/cartesian/axis_ids":826,"../drawing":668,d3:629}],695:[function(t,e,n){"use strict";e.exports={moduleType:"component",name:"images",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),includeBasePlot:t("../../plots/cartesian/include_components")("images"),draw:t("./draw"),convertCoords:t("./convert_coords")}},{"../../plots/cartesian/include_components":835,"./attributes":691,"./convert_coords":692,"./defaults":693,"./draw":694}],696:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),t=t("../color/attributes");e.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:t.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:r({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:r({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":851,"../color/attributes":645}],697:[function(t,e,n){"use strict";e.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},{}],698:[function(t,e,n){"use strict";var p=t("../../registry"),g=t("../../lib"),m=t("../../plot_api/plot_template"),y=t("./attributes"),v=t("../../plots/layout_attributes"),b=t("./helpers");e.exports=function(t,e,n){for(var r=t.legend||{},i=0,o=!1,a="normal",s=0;s<n.length;s++){var l=n[s];l.visible&&(!l.showlegend&&(!l._dfltShowLegend||l._module&&l._module.attributes&&l._module.attributes.showlegend&&!1===l._module.attributes.showlegend.dflt)||(i++,l.showlegend&&(o=!0,!p.traceIs(l,"pie-like")&&!0!==l._input.showlegend||i++)),(p.traceIs(l,"bar")&&"stack"===e.barmode||-1!==["tonextx","tonexty"].indexOf(l.fill))&&(a=b.isGrouped({traceorder:a})?"grouped+reversed":"reversed"),void 0!==l.legendgroup&&""!==l.legendgroup&&(a=b.isReversed({traceorder:a})?"reversed+grouped":"grouped"))}var u,c,f,h=g.coerce(t,e,v,"showlegend",o&&1<i);function d(t,e){return g.coerce(r,u,y,t,e)}!1===h&&!r.uirevision||(u=m.newContainer(e,"legend"),d("uirevision",e.uirevision),!1!==h&&(d("bgcolor",e.paper_bgcolor),d("bordercolor"),d("borderwidth"),g.coerceFont(d,"font",e.font),t="h"===(h=d("orientation"))?(c=0,p.getComponentMethod("rangeslider","isVisible")(t.xaxis)?(f=1.1,"bottom"):(f=-.1,"top")):(c=1.02,f=1,"auto"),d("traceorder",a),b.isGrouped(e.legend)&&d("tracegroupgap"),d("itemsizing"),d("itemwidth"),d("itemclick"),d("itemdoubleclick"),d("x",c),d("xanchor"),d("y",f),d("yanchor",t),d("valign"),g.noneOrAll(r,u,["x","y"]),d("title.text")&&(d("title.side","h"===h?"left":"top"),g.coerceFont(d,"title.font",e.font))))}},{"../../lib":776,"../../plot_api/plot_template":812,"../../plots/layout_attributes":866,"../../registry":877,"./attributes":696,"./helpers":702}],699:[function(t,e,n){"use strict";var P=t("d3"),O=t("../../lib"),j=t("../../plots/plots"),N=t("../../registry"),a=t("../../lib/events"),L=t("../dragelement"),R=t("../drawing"),s=t("../color"),c=t("../../lib/svg_text_utils"),l=t("./handle_click"),D=t("./constants"),r=t("../../constants/alignment"),f=r.LINE_SPACING,I=r.FROM_TL,F=r.FROM_BR,u=t("./get_legend_data"),h=t("./style"),z=t("./helpers");function B(t,e,n,r,i){var o=n.data()[0][0].trace,i={event:i,node:n.node(),curveNumber:o.index,expandedIndex:o._expandedIndex,data:t.data,layout:t.layout,frames:t._transitionData._frames,config:t._context,fullData:t._fullData,fullLayout:t._fullLayout};o._group&&(i.group=o._group),N.traceIs(o,"pie-like")&&(i.label=n.datum()[0].label),!1!==a.triggerHandler(t,"plotly_legendclick",i)&&(1===r?e._clickTimeout=setTimeout(function(){l(n,t,r)},t._context.doubleClickDelay):2===r&&(e._clickTimeout&&clearTimeout(e._clickTimeout),t._legendMouseDownTime=0,!1!==a.triggerHandler(t,"plotly_legenddoubleclick",i)&&l(n,t,r)))}function d(i,o,a){var t,s=i.data()[0][0],e=s.trace,n=N.traceIs(e,"pie-like"),l=e.index,r=a._main&&o._context.edits.legendText&&!n,u=a._maxNameLength;a.entries?t=s.text:(t=n?s.label:e.name,e._meta&&(t=O.templateString(t,e._meta)));n=O.ensureSingle(i,"text","legendtext");n.attr("text-anchor","start").call(R.font,a.font).text(r?p(t,u):t);e=a.itemwidth+2*D.itemGap;c.positionText(n,e,0),r?n.call(c.makeEditable,{gd:o,text:t}).call(m,i,o,a).on("edit",function(t){this.text(p(t,u)).call(m,i,o,a);var e,n=s.trace._fullInput||{},r={};return N.hasTransform(n,"groupby")?(e=(e=N.getTransformIndices(n,"groupby"))[e.length-1],(e=O.keyedContainer(n,"transforms["+e+"].styles","target","value.name")).set(s.trace._group,t),r=e.constructUpdate()):r.name=t,N.call("_guiRestyle",o,r,l)}):m(n,i,o,a)}function p(t,e){e=Math.max(4,e);if(t&&t.trim().length>=e/2)return t;for(var n=e-(t=t||"").length;0<n;n--)t+=" ";return t}function g(e,n){var t,r=n._context.doubleClickDelay,i=1,o=O.ensureSingle(e,"rect","legendtoggle",function(t){n._context.staticPlot||t.style("cursor","pointer").attr("pointer-events","all"),t.call(s.fill,"rgba(0,0,0,0)")});n._context.staticPlot||(o.on("mousedown",function(){(t=(new Date).getTime())-n._legendMouseDownTime<r?i+=1:(i=1,n._legendMouseDownTime=t)}),o.on("mouseup",function(){var t;n._dragged||n._editing||(t=n._fullLayout.legend,(new Date).getTime()-n._legendMouseDownTime>r&&(i=Math.max(i-1,1)),B(n,t,e,i,P.event))}))}function m(t,e,n,r){r._main||t.attr("data-notex",!0),c.convertToTspans(t,n,function(){!function(t,e,n){var r=t.data()[0][0];if(n._main&&r&&!r.trace.showlegend)return t.remove();var i,o,a,s=t.select("g[class*=math-group]"),l=s.node(),u=(n=n||e._fullLayout.legend).borderwidth,e=(r?n:n.title).font.size*f;l?(a=R.bBox(l),i=a.height,o=a.width,r?R.setTranslate(s,0,.25*i):R.setTranslate(s,u,.75*i+u)):(a=t.select(r?".legendtext":".legendtitletext"),s=c.lineCount(a),t=a.node(),i=e*s,o=t?R.bBox(t).width:0,t=e*((s-1)/2-.3),r?(s=n.itemwidth+2*D.itemGap,c.positionText(a,s,-t)):c.positionText(a,D.titlePad+u,e+u)),r?(r.lineHeight=e,r.height=Math.max(i,16)+3,r.width=o):(n._titleWidth=o,n._titleHeight=i)}(e,n,r)})}function U(t){return O.isRightAnchor(t)?"right":O.isCenterAnchor(t)?"center":"left"}function H(t){return O.isBottomAnchor(t)?"bottom":O.isMiddleAnchor(t)?"middle":"top"}e.exports=function(x,_){var w,t,k=x._fullLayout,T="legend"+k._uid;if(_?(w=_.layer,T+="-hover"):((_=k.legend||{})._main=!0,w=k._infolayer),w){if(x._legendMouseDownTime||(x._legendMouseDownTime=0),_._main){if(!x.calcdata)return;t=k.showlegend&&u(x.calcdata,_)}else{if(!_.entries)return;t=u(_.entries,_)}var n=k.hiddenlabels||[];if(_._main&&(!k.showlegend||!t.length))return w.selectAll(".legend").remove(),k._topdefs.select("#"+T).remove(),j.autoMargin(x,"legend");var M=O.ensureSingle(w,"g","legend",function(t){_._main&&t.attr("pointer-events","all")}),A=O.ensureSingleById(k._topdefs,"clipPath",T,function(t){t.append("rect")}),S=O.ensureSingle(M,"rect","bg",function(t){t.attr("shape-rendering","crispEdges")});S.call(s.stroke,_.bordercolor).call(s.fill,_.bgcolor).style("stroke-width",_.borderwidth+"px");var e,E=O.ensureSingle(M,"g","scrollbox"),r=_.title;_._titleWidth=0,_._titleHeight=0,r.text?((e=O.ensureSingle(E,"text","legendtitletext")).attr("text-anchor","start").call(R.font,r.font).text(r.text),m(e,E,x,_)):E.selectAll(".legendtitletext").remove();var C=O.ensureSingle(M,"rect","scrollbar",function(t){t.attr(D.scrollBarEnterAttrs).call(s.fill,D.scrollBarColor)}),i=E.selectAll("g.groups").data(t);i.enter().append("g").attr("class","groups"),i.exit().remove();var o=i.selectAll("g.traces").data(O.identity);o.enter().append("g").attr("class","traces"),o.exit().remove(),o.style("opacity",function(t){var e=t[0].trace;return N.traceIs(e,"pie-like")?-1!==n.indexOf(t[0].label)?.5:1:"legendonly"===e.visible?.5:1}).each(function(){P.select(this).call(d,x,_)}).call(h,x,_).each(function(){_._main&&P.select(this).call(g,x)}),O.syncOrAsync([j.previousPromises,function(){return function(t,e,n,i){var r=t._fullLayout;i=i||r.legend;var o=r._size,a=z.isVertical(i),s=z.isGrouped(i),l=i.borderwidth,u=2*l,c=D.itemGap,f=i.itemwidth+2*c,h=2*(l+c),d=H(i),p=i.y<0||0===i.y&&"top"===d,g=1<i.y||1===i.y&&"bottom"===d;i._maxHeight=Math.max(p||g?r.height/2:o.h,30);var m=0;i._width=0,i._height=0;var y=function(t){var e=0,n=0,r=t.title.side;r&&(-1!==r.indexOf("left")&&(e=t._titleWidth),-1!==r.indexOf("top")&&(n=t._titleHeight));return[e,n]}(i);{var v,b,x,_,w,k,T,M,A,S,E,C,O;a?(n.each(function(t){var e=t[0].height;R.setTranslate(this,l+y[0],l+y[1]+i._height+e/2+c),i._height+=e,i._width=Math.max(i._width,t[0].width)}),m=f+i._width,i._width+=c+f+u,i._height+=h,s&&(e.each(function(t,e){R.setTranslate(this,0,e*i.tracegroupgap)}),i._height+=(i._lgroupsLength-1)*i.tracegroupgap)):(v=U(i),b=i.x<0||0===i.x&&"right"===v,d=1<i.x||1===i.x&&"left"===v,p=g||p,r=r.width/2,i._maxWidth=Math.max(b?p&&"left"===v?o.l+o.w:r:d?p&&"right"===v?o.r+o.w:r:o.w,2*f),_=x=0,n.each(function(t){t=t[0].width+f;x=Math.max(x,t),_+=t}),m=null,w=0,s?(M=T=k=0,e.each(function(){var n=0,r=0;P.select(this).selectAll("g.traces").each(function(t){var e=t[0].height;R.setTranslate(this,y[0],y[1]+l+c+e/2+r),r+=e,n=Math.max(n,f+t[0].width)}),k=Math.max(k,r);var t=n+c;t+l+T>i._maxWidth&&(w=Math.max(w,T),T=0,M+=k+i.tracegroupgap,k=r),R.setTranslate(this,T,M),T+=t}),i._width=Math.max(w,T)+l,i._height=M+k+h):(e=n.size(),A=_+u+(e-1)*c<i._maxWidth,O=C=E=S=0,n.each(function(t){var e=t[0].height,n=f+t[0].width,t=(A?n:x)+c;t+l+E-c>=i._maxWidth&&(w=Math.max(w,O),E=0,C+=S,i._height+=S,S=0),R.setTranslate(this,y[0]+l+E,y[1]+l+C+e/2+c),O=E+n+c,E+=t,S=Math.max(S,e)}),A?(i._width=E+u,i._height=S+h):(i._width=Math.max(w,O)+u,i._height+=S+h)))}i._width=Math.ceil(Math.max(i._width+y[0],i._titleWidth+2*(l+D.titlePad))),i._height=Math.ceil(Math.max(i._height+y[1],i._titleHeight+2*(l+D.itemGap))),i._effHeight=Math.min(i._height,i._maxHeight);var t=t._context.edits,j=t.legendText||t.legendPosition;n.each(function(t){var e=P.select(this).select(".legendtoggle"),n=t[0].height,t=j?f:m||f+t[0].width;a||(t+=c/2),R.setRect(e,0,-n/2,t,n)})}(x,i,o,_)},function(){var n,r,t,e,i,o,a,s,l,u,c,f,h,d,p,g,m,y,v;function b(t,e,n){_._scrollY=x._fullLayout.legend._scrollY=t,R.setTranslate(E,0,-t),R.setRect(C,_._width,D.scrollBarMargin+t*n,D.scrollBarWidth,e),A.select("rect").attr("y",r+t)}_._main&&(t=(i=x)._fullLayout.legend,o=U(t),e=H(t),j.autoMargin(i,"legend",{x:t.x,y:t.y,l:t._width*I[o],r:t._width*F[o],b:t._effHeight*F[e],t:t._effHeight*I[e]}))||(n=k._size,r=_.borderwidth,i=n.l+n.w*_.x-I[U(_)]*_._width,o=n.t+n.h*(1-_.y)-I[H(_)]*_._effHeight,_._main&&k.margin.autoexpand&&(t=i,e=o,i=O.constrain(i,0,k.width-_._width),o=O.constrain(o,0,k.height-_._effHeight),i!==t&&O.log("Constrain legend.x to make legend fit inside graph"),o!==e&&O.log("Constrain legend.y to make legend fit inside graph")),_._main&&R.setTranslate(M,i,o),C.on(".drag",null),M.on("wheel",null),!_._main||_._height<=_._maxHeight||x._context.staticPlot?(p=_._effHeight,_._main||(p=_._height),S.attr({width:_._width-r,height:p-r,x:r/2,y:r/2}),R.setTranslate(E,0,0),A.select("rect").attr({width:_._width-2*r,height:p-2*r,x:r,y:r}),R.setClipUrl(E,T,x),R.setRect(C,0,0,0,0),delete _._scrollY):(a=Math.max(D.scrollBarMinHeight,_._effHeight*_._effHeight/_._height),s=_._effHeight-a-2*D.scrollBarMargin,l=_._height-_._effHeight,u=s/l,c=Math.min(_._scrollY||0,l),S.attr({width:_._width-2*r+D.scrollBarWidth+D.scrollBarMargin,height:_._effHeight-r,x:r/2,y:r/2}),A.select("rect").attr({width:_._width-2*r+D.scrollBarWidth+D.scrollBarMargin,height:_._effHeight-2*r,x:r,y:r+c}),R.setClipUrl(E,T,x),b(c,a,u),M.on("wheel",function(){b(c=O.constrain(_._scrollY+P.event.deltaY/s*l,0,l),a,u),0!==c&&c!==l&&P.event.preventDefault()}),p=P.behavior.drag().on("dragstart",function(){var t=P.event.sourceEvent;f=("touchstart"===t.type?t.changedTouches[0]:t).clientY,d=c}).on("drag",function(){var t=P.event.sourceEvent;2===t.buttons||t.ctrlKey||(h=("touchmove"===t.type?t.changedTouches[0]:t).clientY,b(c=function(t,e,n){t=(n-e)/u+t;return O.constrain(t,0,l)}(d,f,h),a,u))}),C.call(p),p=P.behavior.drag().on("dragstart",function(){var t=P.event.sourceEvent;"touchstart"===t.type&&(f=t.changedTouches[0].clientY,d=c)}).on("drag",function(){var t=P.event.sourceEvent;"touchmove"===t.type&&(h=t.changedTouches[0].clientY,b(c=function(t,e,n){t=(e-n)/u+t;return O.constrain(t,0,l)}(d,f,h),a,u))}),E.call(p)),x._context.edits.legendPosition&&(M.classed("cursor-move",!0),L.init({element:M.node(),gd:x,prepFn:function(){var t=R.getTranslate(M);y=t.x,v=t.y},moveFn:function(t,e){t=y+t,e=v+e;R.setTranslate(M,t,e),g=L.align(t,0,n.l,n.l+n.w,_.xanchor),m=L.align(e,0,n.t+n.h,n.t,_.yanchor)},doneFn:function(){void 0!==g&&void 0!==m&&N.call("_guiRelayout",x,{"legend.x":g,"legend.y":m})},clickFn:function(t,e){var n=w.selectAll("g.traces").filter(function(){var t=this.getBoundingClientRect();return e.clientX>=t.left&&e.clientX<=t.right&&e.clientY>=t.top&&e.clientY<=t.bottom});0<n.size()&&B(x,M,n,t,e)}})))}],x)}}},{"../../constants/alignment":748,"../../lib":776,"../../lib/events":768,"../../lib/svg_text_utils":799,"../../plots/plots":868,"../../registry":877,"../color":646,"../dragelement":665,"../drawing":668,"./constants":697,"./get_legend_data":700,"./handle_click":701,"./helpers":702,"./style":704,d3:629}],700:[function(t,e,n){"use strict";var x=t("../../registry"),_=t("./helpers");e.exports=function(t,n){var e,r,i={},o=[],a=!1,s={},l=0,u=0,c=n._main;function f(t,e){""!==t&&_.isGrouped(n)?-1===o.indexOf(t)?(o.push(t),a=!0,i[t]=[[e]]):i[t].push([e]):(t="~~i"+l,o.push(t),i[t]=[[e]],l++)}for(e=0;e<t.length;e++){var h=t[e],d=h[0],p=d.trace,g=p.legendgroup;if(!c||p.visible&&p.showlegend)if(x.traceIs(p,"pie-like"))for(s[g]||(s[g]={}),r=0;r<h.length;r++){var m=h[r].label;s[g][m]||(f(g,{label:m,color:h[r].color,i:h[r].i,trace:p,pts:h[r].pts}),s[g][m]=!0,u=Math.max(u,(m||"").length))}else f(g,d),u=Math.max(u,(p.name||"").length)}if(!o.length)return[];var y,v,b=o.length;if(a&&_.isGrouped(n))for(v=new Array(b),e=0;e<b;e++)y=i[o[e]],v[e]=_.isReversed(n)?y.reverse():y;else{for(v=[new Array(b)],e=0;e<b;e++)y=i[o[e]][0],v[0][_.isReversed(n)?b-e-1:e]=y;b=1}return n._lgroupsLength=b,n._maxNameLength=u,v}},{"../../registry":877,"./helpers":702}],701:[function(t,e,n){"use strict";var L=t("../../lib"),R=t("../../registry"),D=!0;e.exports=function(t,e,n){var r=e._fullLayout;if(!e._dragged&&!e._editing){var i,o=r.legend.itemclick,a=r.legend.itemdoubleclick;if(D=(1===n&&"toggle"===o&&"toggleothers"===a&&D&&e.data&&e._context.showTips&&L.notifier(L._(e,"Double-click on legend to isolate one trace"),"long"),!1),1===n?i=o:2===n&&(i=a),i){var s,l,u,c=r.hiddenlabels?r.hiddenlabels.slice():[],t=t.data()[0][0],f=e._fullData,h=t.trace,d=h.legendgroup,p={},g=[],m=[],y=[];if(R.traceIs(h,"pie-like")){var v=t.label,t=c.indexOf(v);"toggle"===i?-1===t?c.push(v):c.splice(t,1):"toggleothers"===i&&(c=[],e.calcdata[0].forEach(function(t){v!==t.label&&c.push(t.label)}),e._fullLayout.hiddenlabels&&e._fullLayout.hiddenlabels.length===c.length&&-1===t&&(c=[])),R.call("_guiRelayout",e,"hiddenlabels",c)}else{var b,x,_=d&&d.length,w=[];if(_)for(E=0;E<f.length;E++)(b=f[E]).visible&&b.legendgroup===d&&w.push(E);if("toggle"===i){switch(h.visible){case!0:x="legendonly";break;case!1:x=!1;break;case"legendonly":x=!0}if(_)for(E=0;E<f.length;E++)!1!==f[E].visible&&f[E].legendgroup===d&&N(f[E],x);else N(h,x)}else if("toggleothers"===i){for(var k,T,M,A,S=!0,E=0;E<f.length;E++)if(k=f[E]===h,M=!0!==f[E].showlegend,!(k||M||(T=_&&f[E].legendgroup===d)||!0!==f[E].visible||R.traceIs(f[E],"notLegendIsolatable"))){S=!1;break}for(E=0;E<f.length;E++)if(!1!==f[E].visible&&!R.traceIs(f[E],"notLegendIsolatable"))switch(h.visible){case"legendonly":N(f[E],!0);break;case!0:A=!!S||"legendonly",k=f[E]===h,M=!0!==f[E].showlegend&&!f[E].legendgroup,T=k||_&&f[E].legendgroup===d,N(f[E],!(!T&&!M)||A)}}for(E=0;E<m.length;E++)if(s=m[E])for(var C=s.constructUpdate(),O=Object.keys(C),j=0;j<O.length;j++)l=O[j],(p[l]=p[l]||[])[y[E]]=C[l];for(u=Object.keys(p),E=0;E<u.length;E++)for(l=u[E],j=0;j<g.length;j++)p[l].hasOwnProperty(j)||(p[l][j]=void 0);R.call("_guiRestyle",e,p,g)}}}function P(t,e,n){var r=g.indexOf(t),i=(i=p[e])||(p[e]=[]);return-1===g.indexOf(t)&&(g.push(t),r=g.length-1),i[r]=n,r}function N(t,e){var n,r,i=t._fullInput;R.hasTransform(i,"groupby")?((n=m[i.index])||(r=(r=R.getTransformIndices(i,"groupby"))[r.length-1],n=L.keyedContainer(i,"transforms["+r+"].styles","target","value.visible"),m[i.index]=n),void 0===(r=n.get(t._group))&&(r=!0),!1!==r&&n.set(t._group,e),y[i.index]=P(i.index,"visible",!1!==i.visible)):(e=!1!==i.visible&&e,P(i.index,"visible",e))}}},{"../../lib":776,"../../registry":877}],702:[function(t,e,n){"use strict";n.isGrouped=function(t){return-1!==(t.traceorder||"").indexOf("grouped")},n.isVertical=function(t){return"h"!==t.orientation},n.isReversed=function(t){return-1!==(t.traceorder||"").indexOf("reversed")}},{}],703:[function(t,e,n){"use strict";e.exports={moduleType:"component",name:"legend",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),draw:t("./draw"),style:t("./style")}},{"./attributes":696,"./defaults":698,"./draw":699,"./style":704}],704:[function(t,e,n){"use strict";var m=t("d3"),a=t("../../registry"),y=t("../../lib"),s=y.strTranslate,v=t("../drawing"),c=t("../color"),b=t("../colorscale/helpers").extractOpts,x=t("../../traces/scatter/subtypes"),l=t("../../traces/pie/style_one"),u=t("../../traces/pie/helpers").castOption,i=t("./constants");function _(t,e){return(e?"radial":"horizontal")+(t?"":"reversed")}e.exports=function(t,d,o){var e=d._fullLayout,f="constant"===(o=o||e.legend).itemsizing,p=o.itemwidth,e=(p+2*i.itemGap)/2,h=s(e,0),g=function(t,e,n,r){var i;if(t+1)i=t;else{if(!(e&&0<e.width))return 0;i=e.width}return f?r:Math.min(i,n)};function r(t,e,n){var r=t[0].trace,i=r.marker||{},o=i.line||{},r=n?r.visible&&r.type===n:a.traceIs(r,"bar"),t=m.select(e).select("g.legendpoints").selectAll("path.legend"+n).data(r?[t]:[]);t.enter().append("path").classed("legend"+n,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",h),t.exit().remove(),t.each(function(t){var e=m.select(this),n=t[0],t=g(n.mlw,i.line,5,2);e.style("stroke-width",t+"px").call(c.fill,n.mc||i.color),t&&c.stroke(e,n.mlc||o.color)})}function n(t,e,n){var r=t[0],i=r.trace,o=n?i.visible&&i.type===n:a.traceIs(i,n),o=m.select(e).select("g.legendpoints").selectAll("path.legend"+n).data(o?[t]:[]);o.enter().append("path").classed("legend"+n,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",h),o.exit().remove(),o.size()&&(t=(i.marker||{}).line,n=g(u(t.width,r.pts),t,5,2),(n=y.minExtend(i,{marker:{line:{width:n}}})).marker.line.color=t.color,r=y.minExtend(r,{trace:n}),l(o,r,n))}t.each(function(t){var e=m.select(this),n=y.ensureSingle(e,"g","layers");n.style("opacity",t[0].trace.opacity);var r=o.valign,i=t[0].lineHeight,e=t[0].height;"middle"!==r&&i&&e?(e={top:1,bottom:-1}[r]*(.5*(i-e+3)),n.attr("transform",s(0,e))):n.attr("transform",null),n.selectAll("g.legendfill").data([t]).enter().append("g").classed("legendfill",!0),n.selectAll("g.legendlines").data([t]).enter().append("g").classed("legendlines",!0);n=n.selectAll("g.legendsymbols").data([t]);n.enter().append("g").classed("legendsymbols",!0),n.selectAll("g.legendpoints").data([t]).enter().append("g").classed("legendpoints",!0)}).each(function(t){var l,u=t[0].trace,e=[];if(u.visible)switch(u.type){case"histogram2d":case"heatmap":e=[["M-15,-2V4H15V-2Z"]],l=!0;break;case"choropleth":case"choroplethmapbox":e=[["M-6,-6V6H6V-6Z"]],l=!0;break;case"densitymapbox":e=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],l="radial";break;case"cone":l=!(e=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]]);break;case"streamtube":l=!(e=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]]);break;case"surface":e=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],l=!0;break;case"mesh3d":l=!(e=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]]);break;case"volume":e=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],l=!0;break;case"isosurface":l=!(e=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]])}t=m.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(e);t.enter().append("path").classed("legend3dandfriends",!0).attr("transform",h).style("stroke-miterlimit",1),t.exit().remove(),t.each(function(t,e){var n,r,i=m.select(this),o=b(u),a=o.colorscale,s=o.reversescale;a?l||(n=a.length,r=(0===e?a[s?n-1:0]:1===e?a[s?0:n-1]:a[Math.floor((n-1)/2)])[1]):(n=u.vertexcolor||u.facecolor||u.color,r=y.isArrayOrTypedArray(n)?n[e]||n[0]:n),i.attr("d",t[0]),r?i.call(c.fill,r):i.call(function(t){var e;t.size()&&(e="legendfill-"+u.uid,v.gradient(t,d,e,_(s,"radial"===l),a,"fill"))})})}).each(function(t){var i=t[0].trace,e="waterfall"===i.type;if(t[0]._distinct&&e){var n=t[0].trace[t[0].dir].marker;return t[0].mc=n.color,t[0].mlw=n.line.width,t[0].mlc=n.line.color,r(t,this,"waterfall")}n=[];i.visible&&e&&(n=t[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);n=m.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(n);n.enter().append("path").classed("legendwaterfall",!0).attr("transform",h).style("stroke-miterlimit",1),n.exit().remove(),n.each(function(t){var e=m.select(this),n=i[t[0]].marker,r=g(void 0,n.line,5,2);e.attr("d",t[1]).style("stroke-width",r+"px").call(c.fill,n.color),r&&e.call(c.stroke,n.line.color)})}).each(function(t){r(t,this,"funnel")}).each(function(t){r(t,this)}).each(function(t){var n=t[0].trace,r=m.select(this).select("g.legendpoints").selectAll("path.legendbox").data(n.visible&&a.traceIs(n,"box-violin")?[t]:[]);r.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",h),r.exit().remove(),r.each(function(){var t,e=m.select(this);"all"!==n.boxpoints&&"all"!==n.points||0!==c.opacity(n.fillcolor)||0!==c.opacity((n.line||{}).color)?(t=g(void 0,n.line,5,2),e.style("stroke-width",t+"px").call(c.fill,n.fillcolor),t&&c.stroke(e,n.line.color)):(e=y.minExtend(n,{marker:{size:f?12:y.constrain(n.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}}),r.call(v.pointStyle,e,d))})}).each(function(t){n(t,this,"funnelarea")}).each(function(t){n(t,this,"pie")}).each(function(t){var e=t[0],n=e.trace,r=n.visible&&n.fill&&"none"!==n.fill,i=x.hasLines(n),o=n.contours,a=!1,s=!1,l=b(n),u=l.colorscale,c=l.reversescale;o&&("lines"===(f=o.coloring)?a=!0:i="none"===f||"heatmap"===f||o.showlines,"constraint"===o.type?r="="!==o._operation:"fill"!==f&&"heatmap"!==f||(s=!0));var l=x.hasMarkers(n)||x.hasText(n),o=r||s,f=i||a,o=l||!o?"M5,0":f?"M5,-2":"M5,-3",f=m.select(this),t=f.select(".legendfill").selectAll("path").data(r||s?[t]:[]);t.enter().append("path").classed("js-fill",!0),t.exit().remove(),t.attr("d",o+"h"+p+"v6h-"+p+"z").call(r?v.fillGroupStyle:function(t){var e;t.size()&&(e="legendfill-"+n.uid,v.gradient(t,d,e,_(c),u,"fill"))}),(i||a)&&(h=g(void 0,n.line,10,5),h=y.minExtend(n,{line:{width:h}}),h=[y.minExtend(e,{trace:h})]);var h=f.select(".legendlines").selectAll("path").data(i||a?[h]:[]);h.enter().append("path").classed("js-line",!0),h.exit().remove(),h.attr("d",o+(a?"l"+p+",0.0001":"h"+p)).call(i?v.lineGroupStyle:function(t){var e;t.size()&&(e="legendline-"+n.uid,v.lineGroupStyle(t),v.gradient(t,d,e,_(c),u,"stroke"))})}).each(function(t){var e=t[0],i=e.trace,n=x.hasMarkers(i),r=x.hasText(i),t=x.hasLines(i);function o(t,e,n,r){t=y.nestedProperty(i,t).get(),t=y.isArrayOrTypedArray(t)&&e?e(t):t;if(f&&t&&void 0!==r&&(t=r),n){if(t<n[0])return n[0];if(t>n[1])return n[1]}return t}function a(t){return e._distinct&&e.index&&t[e.index]?t[e.index]:t[0]}{var s;(n||r||t)&&(l={},u={},n&&(l.mc=o("marker.color",a),l.mx=o("marker.symbol",a),l.mo=o("marker.opacity",y.mean,[.2,1]),l.mlc=o("marker.line.color",a),l.mlw=o("marker.line.width",y.mean,[0,5],2),u.marker={sizeref:1,sizemin:1,sizemode:"diameter"},s=o("marker.size",y.mean,[2,16],12),l.ms=s,u.marker.size=s),t&&(u.line={width:o("line.width",a,[0,10],5)}),r&&(l.tx="Aa",l.tp=o("textposition",a),l.ts=10,l.tc=o("textfont.color",a),l.tf=o("textfont.family",a)),c=[y.minExtend(e,l)],(s=y.minExtend(i,u)).selectedpoints=null,s.texttemplate=null)}var l=m.select(this).select("g.legendpoints"),u=l.selectAll("path.scatterpts").data(n?c:[]);u.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",h),u.exit().remove(),u.call(v.pointStyle,s,d),n&&(c[0].mrc=3);var c=l.selectAll("g.pointtext").data(r?c:[]);c.enter().append("g").classed("pointtext",!0).append("text").attr("transform",h),c.exit().remove(),c.selectAll("text").call(v.textPointStyle,s,d)}).each(function(t){var i=t[0].trace,t=m.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(i.visible&&"candlestick"===i.type?[t,t]:[]);t.enter().append("path").classed("legendcandle",!0).attr("d",function(t,e){return e?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",h).style("stroke-miterlimit",1),t.exit().remove(),t.each(function(t,e){var n=m.select(this),r=i[e?"increasing":"decreasing"],e=g(void 0,r.line,5,2);n.style("stroke-width",e+"px").call(c.fill,r.fillcolor),e&&c.stroke(n,r.line.color)})}).each(function(t){var i=t[0].trace,t=m.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(i.visible&&"ohlc"===i.type?[t,t]:[]);t.enter().append("path").classed("legendohlc",!0).attr("d",function(t,e){return e?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",h).style("stroke-miterlimit",1),t.exit().remove(),t.each(function(t,e){var n=m.select(this),r=i[e?"increasing":"decreasing"],e=g(void 0,r.line,5,2);n.style("fill","none").call(v.dashLine,r.line.dash,e),e&&c.stroke(n,r.line.color)})})}},{"../../lib":776,"../../registry":877,"../../traces/pie/helpers":920,"../../traces/pie/style_one":921,"../../traces/scatter/subtypes":954,"../color":646,"../colorscale/helpers":657,"../drawing":668,"./constants":697,d3:629}],705:[function(t,e,n){"use strict";var g=t("../../registry"),r=t("../../plots/plots"),m=t("../../plots/cartesian/axis_ids"),i=t("../../fonts/ploticon"),o=t("../shapes/draw").eraseActiveShape,a=t("../../lib"),s=a._,e=e.exports={};function l(t,e){var n=e.currentTarget,r=n.getAttribute("data-attr"),i=n.getAttribute("data-val")||!0,o=t._fullLayout,a={},s=m.list(t,null,!0),l=o._cartesianSpikesEnabled;if("zoom"===r)for(var u,c,f,e="in"===i?.5:2,h=(1+e)/2,d=(1-e)/2,p=0;p<s.length;p++)(f=s[p]).fixedrange||(c=f._name,"auto"===i?a[c+".autorange"]=!0:"reset"===i?(void 0===f._rangeInitial?a[c+".autorange"]=!0:(u=f._rangeInitial.slice(),a[c+".range[0]"]=u[0],a[c+".range[1]"]=u[1]),void 0!==f._showSpikeInitial&&(a[c+".showspikes"]=f._showSpikeInitial,"on"!==l||f._showSpikeInitial||(l="off"))):(u=[h*(u=[f.r2l(f.range[0]),f.r2l(f.range[1])])[0]+d*u[1],h*u[1]+d*u[0]],a[c+".range[0]"]=f.l2r(u[0]),a[c+".range[1]"]=f.l2r(u[1])));else"hovermode"!==r||"x"!==i&&"y"!==i||(i=o._isHoriz?"y":"x",n.setAttribute("data-val",i)),a[r]=i;o._cartesianSpikesEnabled=l,g.call("_guiRelayout",t,a)}function u(t,e){for(var n=e.currentTarget,e=n.getAttribute("data-attr"),r=n.getAttribute("data-val")||!0,i=t._fullLayout._subplots.gl3d||[],o={},a=e.split("."),s=0;s<i.length;s++)o[i[s]+"."+a[1]]=r;e="pan"===r?r:"zoom";o.dragmode=e,g.call("_guiRelayout",t,o)}function c(t,e){for(var e=e.currentTarget.getAttribute("data-attr"),n="resetLastSave"===e,r="resetDefault"===e,i=t._fullLayout,o=i._subplots.gl3d||[],a={},s=0;s<o.length;s++){var l,u=o[s],c=u+".camera",f=u+".aspectratio",h=u+".aspectmode",u=i[u]._scene;n?(a[c+".up"]=u.viewInitial.up,a[c+".eye"]=u.viewInitial.eye,a[c+".center"]=u.viewInitial.center,l=!0):r&&(a[c+".up"]=null,a[c+".eye"]=null,l=!(a[c+".center"]=null)),l&&(a[f+".x"]=u.viewInitial.aspectratio.x,a[f+".y"]=u.viewInitial.aspectratio.y,a[f+".z"]=u.viewInitial.aspectratio.z,a[h]=u.viewInitial.aspectmode)}g.call("_guiRelayout",t,a)}function f(t,e){var n=e.currentTarget,e=n._previousVal,r=t._fullLayout,i=r._subplots.gl3d||[],o=["xaxis","yaxis","zaxis"],a={},s={};if(e)s=e,n._previousVal=null;else{for(var l=0;l<i.length;l++){var u=i[l],c=r[u],f=u+".hovermode";a[f]=c.hovermode,s[f]=!1;for(var h=0;h<3;h++){var d=o[h],p=u+"."+d+".showspikes";s[p]=!1,a[p]=c[d].showspikes}}n._previousVal=a}return s}function h(t,e){for(var e=e.currentTarget,n=e.getAttribute("data-attr"),r=e.getAttribute("data-val")||!0,i=t._fullLayout,o=i._subplots.geo||[],a=0;a<o.length;a++){var s=o[a],l=i[s];"zoom"===n&&(l=l.projection.scale,l="in"===r?2*l:.5*l,g.call("_guiRelayout",t,s+".projection.scale",l))}"reset"===n&&v(t,"geo")}function d(t){t=t._fullLayout;return!t.hovermode&&(t._has("cartesian")?t._isHoriz?"y":"x":"closest")}function p(t){var e=d(t);g.call("_guiRelayout",t,"hovermode",e)}function y(t,e){for(var n=e.currentTarget.getAttribute("data-val"),r=t._fullLayout,i=r._subplots.mapbox||[],o={},a=0;a<i.length;a++){var s=i[a],l=r[s].zoom,l="in"===n?1.05*l:l/1.05;o[s+".zoom"]=l}g.call("_guiRelayout",t,o)}function v(t,e){for(var n=t._fullLayout,r=n._subplots[e]||[],i={},o=0;o<r.length;o++)for(var a=r[o],s=n[a]._subplot.viewInitial,l=Object.keys(s),u=0;u<l.length;u++){var c=l[u];i[a+"."+c]=s[c]}g.call("_guiRelayout",t,i)}e.toImage={name:"toImage",title:function(t){var e=t._context.toImageButtonOptions||{};return s(t,"png"===(e.format||"png")?"Download plot as a png":"Download plot")},icon:i.camera,click:function(e){var n=e._context.toImageButtonOptions,r={format:n.format||"png"};a.notifier(s(e,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==r.format&&a.isIE()&&(a.notifier(s(e,"IE only supports svg.  Changing format to svg."),"long"),r.format="svg"),["filename","width","height","scale"].forEach(function(t){t in n&&(r[t]=n[t])}),g.call("downloadImage",e,r).then(function(t){a.notifier(s(e,"Snapshot succeeded")+" - "+t,"long")}).catch(function(){a.notifier(s(e,"Sorry, there was a problem downloading your snapshot!"),"long")})}},e.sendDataToCloud={name:"sendDataToCloud",title:function(t){return s(t,"Edit in Chart Studio")},icon:i.disk,click:function(t){r.sendDataToCloud(t)}},e.editInChartStudio={name:"editInChartStudio",title:function(t){return s(t,"Edit in Chart Studio")},icon:i.pencil,click:function(t){r.sendDataToCloud(t)}},e.zoom2d={name:"zoom2d",title:function(t){return s(t,"Zoom")},attr:"dragmode",val:"zoom",icon:i.zoombox,click:l},e.pan2d={name:"pan2d",title:function(t){return s(t,"Pan")},attr:"dragmode",val:"pan",icon:i.pan,click:l},e.select2d={name:"select2d",title:function(t){return s(t,"Box Select")},attr:"dragmode",val:"select",icon:i.selectbox,click:l},e.lasso2d={name:"lasso2d",title:function(t){return s(t,"Lasso Select")},attr:"dragmode",val:"lasso",icon:i.lasso,click:l},e.drawclosedpath={name:"drawclosedpath",title:function(t){return s(t,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:i.drawclosedpath,click:l},e.drawopenpath={name:"drawopenpath",title:function(t){return s(t,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:i.drawopenpath,click:l},e.drawline={name:"drawline",title:function(t){return s(t,"Draw line")},attr:"dragmode",val:"drawline",icon:i.drawline,click:l},e.drawrect={name:"drawrect",title:function(t){return s(t,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:i.drawrect,click:l},e.drawcircle={name:"drawcircle",title:function(t){return s(t,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:i.drawcircle,click:l},e.eraseshape={name:"eraseshape",title:function(t){return s(t,"Erase active shape")},icon:i.eraseshape,click:o},e.zoomIn2d={name:"zoomIn2d",title:function(t){return s(t,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:l},e.zoomOut2d={name:"zoomOut2d",title:function(t){return s(t,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:l},e.autoScale2d={name:"autoScale2d",title:function(t){return s(t,"Autoscale")},attr:"zoom",val:"auto",icon:i.autoscale,click:l},e.resetScale2d={name:"resetScale2d",title:function(t){return s(t,"Reset axes")},attr:"zoom",val:"reset",icon:i.home,click:l},e.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(t){return s(t,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:i.tooltip_basic,gravity:"ne",click:l},e.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(t){return s(t,"Compare data on hover")},attr:"hovermode",val:function(t){return t._fullLayout._isHoriz?"y":"x"},icon:i.tooltip_compare,gravity:"ne",click:l},e.zoom3d={name:"zoom3d",title:function(t){return s(t,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:i.zoombox,click:u},e.pan3d={name:"pan3d",title:function(t){return s(t,"Pan")},attr:"scene.dragmode",val:"pan",icon:i.pan,click:u},e.orbitRotation={name:"orbitRotation",title:function(t){return s(t,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:i["3d_rotate"],click:u},e.tableRotation={name:"tableRotation",title:function(t){return s(t,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:i["z-axis"],click:u},e.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(t){return s(t,"Reset camera to default")},attr:"resetDefault",icon:i.home,click:c},e.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(t){return s(t,"Reset camera to last save")},attr:"resetLastSave",icon:i.movie,click:c},e.hoverClosest3d={name:"hoverClosest3d",title:function(t){return s(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:function(t,e){e=f(t,e);g.call("_guiRelayout",t,e)}},e.zoomInGeo={name:"zoomInGeo",title:function(t){return s(t,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:h},e.zoomOutGeo={name:"zoomOutGeo",title:function(t){return s(t,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:h},e.resetGeo={name:"resetGeo",title:function(t){return s(t,"Reset")},attr:"reset",val:null,icon:i.autoscale,click:h},e.hoverClosestGeo={name:"hoverClosestGeo",title:function(t){return s(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:p},e.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(t){return s(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:p},e.hoverClosestPie={name:"hoverClosestPie",title:function(t){return s(t,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:i.tooltip_basic,gravity:"ne",click:p},e.resetViewSankey={name:"resetSankeyGroup",title:function(t){return s(t,"Reset view")},icon:i.home,click:function(t){for(var e={"node.groups":[],"node.x":[],"node.y":[]},n=0;n<t._fullData.length;n++){var r=t._fullData[n]._viewInitial;e["node.groups"].push(r.node.groups.slice()),e["node.x"].push(r.node.x.slice()),e["node.y"].push(r.node.y.slice())}g.call("restyle",t,e)}},e.toggleHover={name:"toggleHover",title:function(t){return s(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:function(t,e){e=f(t,e);e.hovermode=d(t),g.call("_guiRelayout",t,e)}},e.resetViews={name:"resetViews",title:function(t){return s(t,"Reset views")},icon:i.home,click:function(t,e){var n=e.currentTarget;n.setAttribute("data-attr","zoom"),n.setAttribute("data-val","reset"),l(t,e),n.setAttribute("data-attr","resetLastSave"),c(t,e),v(t,"geo"),v(t,"mapbox")}},e.toggleSpikelines={name:"toggleSpikelines",title:function(t){return s(t,"Toggle Spike Lines")},icon:i.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(t){var e=t._fullLayout,n=e._cartesianSpikesEnabled;e._cartesianSpikesEnabled="on"===n?"off":"on",g.call("_guiRelayout",t,function(t){for(var e="on"===t._fullLayout._cartesianSpikesEnabled,n=m.list(t,null,!0),r={},i=0;i<n.length;i++){var o=n[i];r[o._name+".showspikes"]=e||o._showSpikeInitial}return r}(t))}},e.resetViewMapbox={name:"resetViewMapbox",title:function(t){return s(t,"Reset view")},attr:"reset",icon:i.home,click:function(t){v(t,"mapbox")}},e.zoomInMapbox={name:"zoomInMapbox",title:function(t){return s(t,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:y},e.zoomOutMapbox={name:"zoomOutMapbox",title:function(t){return s(t,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:y}},{"../../fonts/ploticon":758,"../../lib":776,"../../plots/cartesian/axis_ids":826,"../../plots/plots":868,"../../registry":877,"../shapes/draw":727}],706:[function(t,e,n){"use strict";n.manage=t("./manage")},{"./manage":707}],707:[function(t,e,n){"use strict";var M=t("../../plots/cartesian/axis_ids"),A=t("../../traces/scatter/subtypes"),S=t("../../registry"),E=t("../fx/helpers").isUnifiedHover,o=t("./modebar"),C=t("./buttons");e.exports=function(t){var e=t._fullLayout,n=t._context,r=e._modeBar;if(n.displayModeBar||n.watermark){if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var i=n.modeBarButtons,n=Array.isArray(i)&&i.length?function(t){for(var e=0;e<t.length;e++)for(var n=t[e],r=0;r<n.length;r++){var i=n[r];if("string"==typeof i){if(void 0===C[i])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));t[e][r]=C[i]}}return t}(i):!n.displayModeBar&&n.watermark?[]:function(t){var e=t._fullLayout,n=t._fullData,r=t._context,i=r.modeBarButtonsToRemove,o=r.modeBarButtonsToAdd,a=e._has("cartesian"),s=e._has("gl3d"),l=e._has("geo"),u=e._has("pie"),c=e._has("funnelarea"),f=e._has("gl2d"),h=e._has("ternary"),d=e._has("mapbox"),p=e._has("polar"),g=e._has("sankey"),m=function(t){for(var e=M.list({_fullLayout:t},null,!0),n=0;n<e.length;n++)if(!e[n].fixedrange)return!1;return!0}(e),y=E(e.hovermode),v=[];function b(t){if(t.length){for(var e=[],n=0;n<t.length;n++){var r=t[n];-1===i.indexOf(r)&&e.push(C[r])}v.push(e)}}var x=["toImage"];r.showEditInChartStudio?x.push("editInChartStudio"):r.showSendToCloud&&x.push("sendDataToCloud");b(x);var t=[],r=[],x=[],_=[];1<(a||f||u||c||h)+l+s+d+p?(r=["toggleHover"],x=["resetViews"]):l?(t=["zoomInGeo","zoomOutGeo"],r=["hoverClosestGeo"],x=["resetGeo"]):s?(r=["hoverClosest3d"],x=["resetCameraDefault3d","resetCameraLastSave3d"]):d?(t=["zoomInMapbox","zoomOutMapbox"],r=["toggleHover"],x=["resetViewMapbox"]):f?r=["hoverClosestGl2d"]:u?r=["hoverClosestPie"]:g?(r=["hoverClosestCartesian","hoverCompareCartesian"],x=["resetViewSankey"]):r=["toggleHover"];a&&(r=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]);(function(t){for(var e=0;e<t.length;e++)if(!S.traceIs(t[e],"noHover"))return!1;return!0}(n)||y)&&(r=[]);!a&&!f||m||(t=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==x[0]&&(x=["resetScale2d"]));s?_=["zoom3d","pan3d","orbitRotation","tableRotation"]:(a||f)&&!m||h?_=["zoom2d","pan2d"]:d||l?_=["pan2d"]:p&&(_=["zoom2d"]);!function(t){for(var e=!1,n=0;n<t.length&&!e;n++){var r=t[n];r._module&&r._module.selectPoints&&(S.traceIs(r,"scatter-like")?(A.hasMarkers(r)||A.hasText(r))&&(e=!0):S.traceIs(r,"box-violin")&&"all"!==r.boxpoints&&"all"!==r.points||(e=!0))}return e}(n)||_.push("select2d","lasso2d");if(Array.isArray(o)){for(var w=[],k=0;k<o.length;k++){var T=o[k];"string"==typeof T?-1!==O.indexOf(T)&&(e._has("mapbox")||e._has("cartesian"))&&_.push(T):w.push(T)}o=w}return b(_),b(t.concat(x)),b(r),function(t,e){if(e.length)if(Array.isArray(e[0]))for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}(v,o)}(t);r?r.update(t,n):e._modeBar=o(t,n)}else r&&(r.destroy(),delete e._modeBar)};var O=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"]},{"../../plots/cartesian/axis_ids":826,"../../registry":877,"../../traces/scatter/subtypes":954,"../fx/helpers":682,"./buttons":705,"./modebar":708}],708:[function(t,e,n){"use strict";var a=t("d3"),i=t("fast-isnumeric"),s=t("../../lib"),o=t("../../fonts/ploticon"),l=new DOMParser;function r(t){this.container=t.container,this.element=document.createElement("div"),this.update(t.graphInfo,t.buttons),this.container.appendChild(this.element)}t=r.prototype;t.update=function(t,e){this.graphInfo=t;var n=this.graphInfo._context,r=this.graphInfo._fullLayout,i="modebar-"+r._uid;this.element.setAttribute("id",i),this._uid=i,this.element.className="modebar","hover"===n.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===r.modebar.orientation&&(this.element.className+=" vertical",e=e.reverse());var o=r.modebar,t="hover"===n.displayModeBar?".js-plotly-plot .plotly:hover ":"";s.deleteRelatedStyleRule(i),s.addRelatedStyleRule(i,t+"#"+i+" .modebar-group","background-color: "+o.bgcolor),s.addRelatedStyleRule(i,"#"+i+" .modebar-btn .icon path","fill: "+o.color),s.addRelatedStyleRule(i,"#"+i+" .modebar-btn:hover .icon path","fill: "+o.activecolor),s.addRelatedStyleRule(i,"#"+i+" .modebar-btn.active .icon path","fill: "+o.activecolor);t=!this.hasButtons(e),i=this.hasLogo!==n.displaylogo,o=this.locale!==n.locale;this.locale=n.locale,(t||i||o)&&(this.removeAllButtons(),this.updateButtons(e),(n.watermark||n.displaylogo)&&(e=this.getLogo(),n.watermark&&(e.className=e.className+" watermark"),"v"===r.modebar.orientation?this.element.insertBefore(e,this.element.childNodes[0]):this.element.appendChild(e),this.hasLogo=!0)),this.updateActiveButton()},t.updateButtons=function(t){var r=this;this.buttons=t,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(t){var n=r.createGroup();t.forEach(function(t){var e=t.name;if(!e)throw new Error("must provide button 'name' in button config");if(-1!==r.buttonsNames.indexOf(e))throw new Error("button name '"+e+"' is taken");r.buttonsNames.push(e);t=r.createButton(t);r.buttonElements.push(t),n.appendChild(t)}),r.element.appendChild(n)})},t.createGroup=function(){var t=document.createElement("div");return t.className="modebar-group",t},t.createButton=function(e){var n=this,t=document.createElement("a");t.setAttribute("rel","tooltip"),t.className="modebar-btn";var r=e.title;void 0===r?r=e.name:"function"==typeof r&&(r=r(this.graphInfo)),!r&&0!==r||t.setAttribute("data-title",r),void 0!==e.attr&&t.setAttribute("data-attr",e.attr);r=e.val;if(void 0!==r&&("function"==typeof r&&(r=r(this.graphInfo)),t.setAttribute("data-val",r)),"function"!=typeof e.click)throw new Error("must provide button 'click' function in button config");t.addEventListener("click",function(t){e.click(n.graphInfo,t),n.updateActiveButton(t.currentTarget)}),t.setAttribute("data-toggle",e.toggle||!1),e.toggle&&a.select(t).classed("active",!0);r=e.icon;return"function"==typeof r?t.appendChild(r()):t.appendChild(this.createIcon(r||o.question)),t.setAttribute("data-gravity",e.gravity||"n"),t},t.createIcon=function(t){var e,n=i(t.height)?Number(t.height):t.ascent-t.descent,r="http://www.w3.org/2000/svg";return t.path&&((e=document.createElementNS(r,"svg")).setAttribute("viewBox",[0,0,t.width,n].join(" ")),e.setAttribute("class","icon"),(r=document.createElementNS(r,"path")).setAttribute("d",t.path),t.transform?r.setAttribute("transform",t.transform):void 0!==t.ascent&&r.setAttribute("transform","matrix(1 0 0 -1 0 "+t.ascent+")"),e.appendChild(r)),t.svg&&(e=l.parseFromString(t.svg,"application/xml").childNodes[0]),e.setAttribute("height","1em"),e.setAttribute("width","1em"),e},t.updateActiveButton=function(t){var i=this.graphInfo._fullLayout,o=void 0!==t?t.getAttribute("data-attr"):null;this.buttonElements.forEach(function(t){var e=t.getAttribute("data-val")||!0,n=t.getAttribute("data-attr"),r="true"===t.getAttribute("data-toggle"),t=a.select(t);r?n===o&&t.classed("active",!t.classed("active")):(n=null===n?n:s.nestedProperty(i,n).get(),t.classed("active",n===e))})},t.hasButtons=function(t){var e=this.buttons;if(!e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n){if(t[n].length!==e[n].length)return!1;for(var r=0;r<t[n].length;r++)if(t[n][r].name!==e[n][r].name)return!1}return!0},t.getLogo=function(){var t=this.createGroup(),e=document.createElement("a");return e.href="https://plotly.com/",e.target="_blank",e.setAttribute("data-title",s._(this.graphInfo,"Produced with Plotly")),e.className="modebar-btn plotlyjsicon modebar-btn--logo",e.appendChild(this.createIcon(o.newplotlylogo)),t.appendChild(e),t},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){s.removeElement(this.container.querySelector(".modebar")),s.deleteRelatedStyleRule(this._uid)},e.exports=function(t,e){var n=t._fullLayout,e=new r({graphInfo:t,container:n._modebardiv.node(),buttons:e});return n._privateplot&&a.select(e.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),e}},{"../../fonts/ploticon":758,"../../lib":776,d3:629,"fast-isnumeric":450}],709:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),i=t("../color/attributes"),t=(0,t("../../plot_api/plot_template").templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});e.exports={visible:{valType:"boolean",editType:"plot"},buttons:t,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:r({editType:"plot"}),bgcolor:{valType:"color",dflt:i.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":812,"../../plots/font_attributes":851,"../color/attributes":645}],710:[function(t,e,n){"use strict";e.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],711:[function(t,e,n){"use strict";var l=t("../../lib"),u=t("../color"),c=t("../../plot_api/plot_template"),f=t("../../plots/array_container_defaults"),h=t("./attributes"),d=t("./constants");function p(n,r,t,e){var i=e.calendar;function o(t,e){return l.coerce(n,r,h.buttons,t,e)}o("visible")&&("all"!==(e=o("step"))&&(!i||"gregorian"===i||"month"!==e&&"year"!==e?o("stepmode"):r.stepmode="backward",o("count")),o("label"))}e.exports=function(t,e,n,r,i){var o=t.rangeselector||{},a=c.newContainer(e,"rangeselector");function s(t,e){return l.coerce(o,a,h,t,e)}s("visible",0<f(o,a,{name:"buttons",handleItemDefaults:p,calendar:i}).length)&&(s("x",(r=function(e,n,t){for(var r=t.filter(function(t){return n[t].anchor===e._id}),i=0,o=0;o<r.length;o++){var a=n[r[o]].domain;a&&(i=Math.max(a[1],i))}return[e.domain[0],i+d.yPad]}(e,n,r))[0]),s("y",r[1]),l.noneOrAll(t,e,["x","y"]),s("xanchor"),s("yanchor"),l.coerceFont(s,"font",n.font),n=s("bgcolor"),s("activecolor",u.contrast(n,d.lightAmount,d.darkAmount)),s("bordercolor"),s("borderwidth"))}},{"../../lib":776,"../../plot_api/plot_template":812,"../../plots/array_container_defaults":818,"../color":646,"./attributes":709,"./constants":710}],712:[function(t,e,n){"use strict";var f=t("d3"),a=t("../../registry"),h=t("../../plots/plots"),r=t("../color"),d=t("../drawing"),p=t("../../lib"),g=p.strTranslate,m=t("../../lib/svg_text_utils"),s=t("../../plots/cartesian/axis_ids"),i=t("../../constants/alignment"),y=i.LINE_SPACING,v=i.FROM_TL,b=i.FROM_BR,x=t("./constants"),l=t("./get_update_object");function u(t){return t._id}function c(t,e,n){t=p.ensureSingle(t,"rect","selector-rect",function(t){t.attr("shape-rendering","crispEdges")});t.attr({rx:x.rx,ry:x.ry}),t.call(r.stroke,e.bordercolor).call(r.fill,(t=e,(n=n)._isActive||n._isHovered?t.activecolor:t.bgcolor)).style("stroke-width",e.borderwidth+"px")}function _(t,e,n,r){p.ensureSingle(t,"text","selector-text",function(t){t.attr("text-anchor","middle")}).call(d.font,e.font).text(function(t,e){if(t.label)return e?p.templateString(t.label,e):t.label;return"all"===t.step?"all":t.count+t.step.charAt(0)}(n,r._fullLayout._meta)).call(function(t){m.convertToTspans(t,r)})}e.exports=function(o){var t=o._fullLayout._infolayer.selectAll(".rangeselector").data(function(t){for(var e=s.list(t,"x",!0),n=[],r=0;r<e.length;r++){var i=e[r];i.rangeselector&&i.rangeselector.visible&&n.push(i)}return n}(o),u);t.enter().append("g").classed("rangeselector",!0),t.exit().remove(),t.style({cursor:"pointer","pointer-events":"all"}),t.each(function(t){var e=f.select(this),r=t,i=r.rangeselector,t=e.selectAll("g.button").data(p.filterVisible(i.buttons));t.enter().append("g").classed("button",!0),t.exit().remove(),t.each(function(t){var e=f.select(this),n=l(r,t);t._isActive=function(t,e,n){{if("all"===e.step)return!0===t.autorange;e=Object.keys(n);return t.range[0]===n[e[0]]&&t.range[1]===n[e[1]]}}(r,t,n),e.call(c,i,t),e.call(_,i,t,o),e.on("click",function(){o._dragged||a.call("_guiRelayout",o,n)}),e.on("mouseover",function(){t._isHovered=!0,e.call(c,i,t)}),e.on("mouseout",function(){t._isHovered=!1,e.call(c,i,t)})}),function(t,e,a,n,r){var s=0,l=0,u=a.borderwidth;e.each(function(){var t=f.select(this).select(".selector-text"),e=a.font.size*y,t=Math.max(e*m.lineCount(t),16)+3;l=Math.max(l,t)}),e.each(function(){var t=f.select(this),e=t.select(".selector-rect"),n=t.select(".selector-text"),r=n.node()&&d.bBox(n.node()).width,i=a.font.size*y,o=m.lineCount(n),r=Math.max(r+10,x.minButtonWidth);t.attr("transform",g(u+s,u)),e.attr({x:0,y:0,width:r,height:l}),m.positionText(n,r/2,l/2-(o-1)*i/2+3),s+=r+5});var i=t._fullLayout._size,o=i.l+i.w*a.x,c=i.t+i.h*(1-a.y),e="left";p.isRightAnchor(a)&&(o-=s,e="right"),p.isCenterAnchor(a)&&(o-=s/2,e="center"),i="top",p.isBottomAnchor(a)&&(c-=l,i="bottom"),p.isMiddleAnchor(a)&&(c-=l/2,i="middle"),s=Math.ceil(s),l=Math.ceil(l),o=Math.round(o),c=Math.round(c),h.autoMargin(t,n+"-range-selector",{x:a.x,y:a.y,l:s*v[e],r:s*b[e],b:l*b[i],t:l*v[i]}),r.attr("transform",g(o,c))}(o,t,i,r._name,e)})}},{"../../constants/alignment":748,"../../lib":776,"../../lib/svg_text_utils":799,"../../plots/cartesian/axis_ids":826,"../../plots/plots":868,"../../registry":877,"../color":646,"../drawing":668,"./constants":710,"./get_update_object":713,d3:629}],713:[function(t,e,n){"use strict";var l=t("d3");e.exports=function(t,e){var n=t._name,r={};return"all"===e.step?r[n+".autorange"]=!0:(e=function(t,e){var n,r=t.range,i=new Date(t.r2l(r[1])),o=e.step,a=e.count;switch(e.stepmode){case"backward":n=t.l2r(+l.time[o].utc.offset(i,-a));break;case"todate":var s=l.time[o].utc.offset(i,-a);n=t.l2r(+l.time[o].utc.ceil(s))}r=r[1];return[n,r]}(t,e),r[n+".range[0]"]=e[0],r[n+".range[1]"]=e[1]),r}},{d3:629}],714:[function(t,e,n){"use strict";e.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:t("./attributes")}}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),draw:t("./draw")}},{"./attributes":709,"./defaults":711,"./draw":712}],715:[function(t,e,n){"use strict";t=t("../color/attributes");e.exports={bgcolor:{valType:"color",dflt:t.background,editType:"plot"},bordercolor:{valType:"color",dflt:t.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":645}],716:[function(t,e,n){"use strict";var o=t("../../plots/cartesian/axis_ids").list,a=t("../../plots/cartesian/autorange").getAutoRange,s=t("./constants");e.exports=function(t){for(var e=o(t,"x",!0),n=0;n<e.length;n++){var r=e[n],i=r[s.name];i&&i.visible&&i.autorange&&(i._input.autorange=!0,i._input.range=i.range=a(t,r))}}},{"../../plots/cartesian/autorange":822,"../../plots/cartesian/axis_ids":826,"./constants":717}],717:[function(t,e,n){"use strict";e.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],718:[function(t,e,n){"use strict";var p=t("../../lib"),g=t("../../plot_api/plot_template"),m=t("../../plots/cartesian/axis_ids"),y=t("./attributes"),v=t("./oppaxis_attributes");e.exports=function(t,e,n){var r=t[n],t=e[n];if(r.rangeslider||e._requestRangeslider[t._id]){p.isPlainObject(r.rangeslider)||(r.rangeslider={});var i=r.rangeslider,o=g.newContainer(t,"rangeslider");if(h("visible")){h("bgcolor",e.plot_bgcolor),h("bordercolor"),h("borderwidth"),h("thickness"),h("autorange",!t.isValidRange(i.range)),h("range");t=e._subplots;if(t)for(var t=t.cartesian.filter(function(t){return t.substr(0,t.indexOf("y"))===m.name2id(n)}).map(function(t){return t.substr(t.indexOf("y"),t.length)}),a=p.simpleMap(t,m.id2name),s=0;s<a.length;s++){var l,u=a[s],c=i[u]||{},f=g.newContainer(o,u,"yaxis"),u=e[u];c.range&&u.isValidRange(c.range)&&(l="fixed"),"match"!==d("rangemode",l)&&d("range",u.range.slice())}o._input=i}}function h(t,e){return p.coerce(i,o,y,t,e)}function d(t,e){return p.coerce(c,f,v,t,e)}}},{"../../lib":776,"../../plot_api/plot_template":812,"../../plots/cartesian/axis_ids":826,"./attributes":715,"./oppaxis_attributes":722}],719:[function(t,e,n){"use strict";var N=t("d3"),L=t("../../registry"),h=t("../../plots/plots"),R=t("../../lib"),D=R.strTranslate,a=t("../drawing"),l=t("../color"),I=t("../titles"),d=t("../../plots/cartesian"),F=t("../../plots/cartesian/axis_ids"),z=t("../dragelement"),B=t("../../lib/setcursor"),U=t("./constants");function H(t,e,n,r){var i=R.ensureSingle(t,"rect",U.bgClassName,function(t){t.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),o=r.borderwidth%2==0?r.borderwidth:r.borderwidth-1,t=-r._offsetShift,e=a.crispRound(e,r.borderwidth);i.attr({width:r._width+o,height:r._height+o,transform:D(t,t),fill:r.bgcolor,stroke:r.bordercolor,"stroke-width":e})}function q(t,e,n,r){e=e._fullLayout;R.ensureSingleById(e._topdefs,"clipPath",r._clipId,function(t){t.append("rect").attr({x:0,y:0})}).select("rect").attr({width:r._width,height:r._height})}function V(t,s,l,u){var c,f=s.calcdata,t=t.selectAll("g."+U.rangePlotClassName).data(l._subplotsWith,R.identity);t.enter().append("g").attr("class",function(t){return U.rangePlotClassName+" "+t}).call(a.setClipUrl,u._clipId,s),t.order(),t.exit().remove(),t.each(function(t,e){var n=N.select(this),r=0===e,i=F.getFromId(s,t,"y"),o=i._name,a=u[o],e={data:[],layout:{xaxis:{type:l.type,domain:[0,1],range:u.range.slice(),calendar:l.calendar},width:u._width,height:u._height,margin:{t:0,b:0,l:0,r:0}},_context:s._context};l.rangebreaks&&(e.layout.xaxis.rangebreaks=l.rangebreaks),e.layout[o]={type:i.type,domain:[0,1],range:("match"!==a.rangemode?a:i).range.slice(),calendar:i.calendar},i.rangebreaks&&(e.layout[o].rangebreaks=i.rangebreaks),h.supplyDefaults(e);i=e._fullLayout.xaxis,o=e._fullLayout[o];i.clearCalc(),i.setScale(),o.clearCalc(),o.setScale();o={id:t,plotgroup:n,xaxis:i,yaxis:o,isRangePlot:!0};r?c=o:(o.mainplot="xy",o.mainplotinfo=c),d.rangePlot(s,o,function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=i[0].trace;o.xaxis+o.yaxis===e&&n.push(i)}return n}(f,t))})}function G(t,e,n,r,i){R.ensureSingle(t,"rect",U.maskMinClassName,function(t){t.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",r._height).call(l.fill,U.maskColor),R.ensureSingle(t,"rect",U.maskMaxClassName,function(t){t.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",r._height).call(l.fill,U.maskColor),"match"!==i.rangemode&&(R.ensureSingle(t,"rect",U.maskMinOppAxisClassName,function(t){t.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",r._width).call(l.fill,U.maskOppAxisColor),R.ensureSingle(t,"rect",U.maskMaxOppAxisClassName,function(t){t.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",r._width).style("border-top",U.maskOppBorder).call(l.fill,U.maskOppAxisColor))}function W(t,e,n,r){e._context.staticPlot||R.ensureSingle(t,"rect",U.slideBoxClassName,function(t){t.attr({y:0,cursor:U.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:r._height,fill:U.slideBoxFill})}function Y(t,e,n,r){var i=R.ensureSingle(t,"g",U.grabberMinClassName),o=R.ensureSingle(t,"g",U.grabberMaxClassName),a={x:0,width:U.handleWidth,rx:U.handleRadius,fill:l.background,stroke:l.defaultLine,"stroke-width":U.handleStrokeWidth,"shape-rendering":"crispEdges"},t={y:Math.round(r._height/4),height:Math.round(r._height/2)};R.ensureSingle(i,"rect",U.handleMinClassName,function(t){t.attr(a)}).attr(t),R.ensureSingle(o,"rect",U.handleMaxClassName,function(t){t.attr(a)}).attr(t);var s={width:U.grabAreaWidth,x:0,y:0,fill:U.grabAreaFill,cursor:e._context.staticPlot?void 0:U.grabAreaCursor};R.ensureSingle(i,"rect",U.grabAreaMinClassName,function(t){t.attr(s)}).attr("height",r._height),R.ensureSingle(o,"rect",U.grabAreaMaxClassName,function(t){t.attr(s)}).attr("height",r._height)}e.exports=function(j){for(var P=j._fullLayout,t=P._rangeSliderData,e=0;e<t.length;e++){var n=t[e][U.name];n._clipId=n._id+"-"+P._uid}var r=P._infolayer.selectAll("g."+U.containerClassName).data(t,function(t){return t._name});r.exit().each(function(t){t=t[U.name];P._topdefs.select("#"+t._clipId).remove()}).remove(),0!==t.length&&(r.enter().append("g").classed(U.containerClassName,!0).attr("pointer-events","all"),r.each(function(t){var e=N.select(this),n=t[U.name],r=P[F.id2name(t.anchor)],i=n[F.id2name(t.anchor)];n.range&&(o=R.simpleMap(n.range,t.r2l),s=(a=R.simpleMap(t.range,t.r2l))[0]<a[1]?[Math.min(o[0],a[0]),Math.max(o[1],a[1])]:[Math.max(o[0],a[0]),Math.min(o[1],a[1])],n.range=n._input.range=R.simpleMap(s,t.l2r)),t.cleanRange("rangeslider.range");var o=P._size,a=t.domain;n._width=o.w*(a[1]-a[0]);var s=Math.round(o.l+o.w*a[0]),a=Math.round(o.t+o.h*(1-t._counterDomainMin)+("bottom"===t.side?t._depth:0)+n._offsetShift+U.extraPad);e.attr("transform",D(s,a)),n._rl=R.simpleMap(n.range,t.r2l);var l,u,c,y,v,b,x,_,w,f,h,d=n._rl[0],o=n._rl[1],p=o-d;if(n.p2d=function(t){return t/n._width*p+d},n.d2p=function(t){return(t-d)/p*n._width},t.rangebreaks){var g=t.locateBreaks(d,o);if(g.length){for(var m,k=0,T=0;T<g.length;T++)k+=(m=g[T]).max-m.min;var M=n._width/(o-d-k),A=[-M*d];for(T=0;T<g.length;T++)m=g[T],A.push(A[A.length-1]-M*(m.max-m.min));for(n.d2p=function(t){for(var e=A[0],n=0;n<g.length;n++){var r=g[n];if(t>=r.max)e=A[n+1];else if(t<r.min)break}return e+M*t},T=0;T<g.length;T++)(m=g[T]).pmin=n.d2p(m.min),m.pmax=n.d2p(m.max);n.p2d=function(t){for(var e=A[0],n=0;n<g.length;n++){var r=g[n];if(t>=r.pmax)e=A[n+1];else if(t<r.pmin)break}return(t-e)/M}}}function S(){var t=N.event,f=t.target,h=t.clientX||t.touches[0].clientX,d=h-c.node().getBoundingClientRect().left,p=b.d2p(v._rl[0]),g=b.d2p(v._rl[1]),m=z.coverSlip();function e(t){var e,n,r,i,o,a,s,l,u=+(t.clientX||t.touches[0].clientX)-h;switch(f){case x:e="ew-resize",r=p+u,n=g+u;break;case _:e="col-resize",r=p+u,n=g;break;case w:e="col-resize",r=p,n=g+u;break;default:e="ew-resize",n=(r=d)+u}function c(t){return o.l2r(R.constrain(t,a._rl[0],a._rl[1]))}n<r&&(t=n,n=r,r=t),b._pixelMin=r,b._pixelMax=n,B(N.select(m),e),i=y,o=v,s=c((a=b).p2d(a._pixelMin)),l=c(a.p2d(a._pixelMax)),window.requestAnimationFrame(function(){L.call("_guiRelayout",i,o._name+".range",[s,l])})}function n(){m.removeEventListener("mousemove",e),m.removeEventListener("mouseup",n),this.removeEventListener("touchmove",e),this.removeEventListener("touchend",n),R.removeElement(m)}this.addEventListener("touchmove",e),this.addEventListener("touchend",n),m.addEventListener("mousemove",e),m.addEventListener("mouseup",n)}function E(t){return R.constrain(t,0,f._width)}function C(t){return R.constrain(t,0,f._height)}function O(t){return R.constrain(t,-h,f._width+h)}"match"!==i.rangemode&&(l=r.r2l(i.range[0]),u=r.r2l(i.range[1])-l,n.d2pOppAxis=function(t){return(t-l)/u*n._height}),e.call(H,j,t,n).call(q,j,t,n).call(V,j,t,n).call(G,j,t,n,i).call(W,j,t,n).call(Y,j,t,n),c=e,v=t,b=n,(y=j)._context.staticPlot||(x=c.select("rect."+U.slideBoxClassName).node(),_=c.select("rect."+U.grabAreaMinClassName).node(),w=c.select("rect."+U.grabAreaMaxClassName).node(),c.on("mousedown",S),c.on("touchstart",S)),s=e,o=t,f=n,e=r,r=i,h=U.handleWidth/2,i=E(f.d2p(o._rl[0])),o=E(f.d2p(o._rl[1])),s.select("rect."+U.slideBoxClassName).attr("x",i).attr("width",o-i),s.select("rect."+U.maskMinClassName).attr("width",i),s.select("rect."+U.maskMaxClassName).attr("x",o).attr("width",f._width-o),"match"!==r.rangemode&&(r=f._height-C(f.d2pOppAxis(e._rl[1])),e=f._height-C(f.d2pOppAxis(e._rl[0])),s.select("rect."+U.maskMinOppAxisClassName).attr("x",i).attr("height",r).attr("width",o-i),s.select("rect."+U.maskMaxOppAxisClassName).attr("x",i).attr("y",e).attr("height",f._height-e).attr("width",o-i),s.select("rect."+U.slideBoxClassName).attr("y",r).attr("height",e-r)),i=Math.round(O(i-h))-.5,o=Math.round(O(o-h))+.5,s.select("g."+U.grabberMinClassName).attr("transform",D(i,.5)),s.select("g."+U.grabberMaxClassName).attr("transform",D(o,.5)),"bottom"===t.side&&I.draw(j,t._id+"title",{propContainer:t,propName:t._name+".title",placeholder:P._dfltTitle.x,attributes:{x:t._offset+t._length/2,y:a+n._height+n._offsetShift+10+1.5*t.title.font.size,"text-anchor":"middle"}})}))}},{"../../lib":776,"../../lib/setcursor":795,"../../plots/cartesian":836,"../../plots/cartesian/axis_ids":826,"../../plots/plots":868,"../../registry":877,"../color":646,"../dragelement":665,"../drawing":668,"../titles":741,"./constants":717,d3:629}],720:[function(t,e,n){"use strict";var s=t("../../plots/cartesian/axis_ids"),a=t("../../lib/svg_text_utils"),l=t("./constants"),u=t("../../constants/alignment").LINE_SPACING,c=l.name;function f(t){t=t&&t[c];return t&&t.visible}n.isVisible=f,n.makeData=function(t){var e=s.list({_fullLayout:t},"x",!0),n=t.margin,r=[];if(!t._has("gl2d"))for(var i=0;i<e.length;i++){var o,a=e[i];f(a)&&(r.push(a),(o=a[c])._id=c+a._id,o._height=(t.height-n.b-n.t)*o.thickness,o._offsetShift=Math.floor(o.borderwidth/2))}t._rangeSliderData=r},n.autoMarginOpts=function(t,e){var n=t._fullLayout,r=e[c],i=e._id.charAt(0),o=0,t=0;return"bottom"===e.side&&(o=e._depth,e.title.text!==n._dfltTitle[i]&&(t=1.5*e.title.font.size+10+r._offsetShift,t+=(e.title.text.match(a.BR_TAG_ALL)||[]).length*e.title.font.size*u)),{x:0,y:e._counterDomainMin,l:0,r:0,t:0,b:r._height+o+Math.max(n.margin.b,t),pad:l.extraPad+2*r._offsetShift}}},{"../../constants/alignment":748,"../../lib/svg_text_utils":799,"../../plots/cartesian/axis_ids":826,"./constants":717}],721:[function(t,e,n){"use strict";var r=t("../../lib"),i=t("./attributes"),o=t("./oppaxis_attributes"),a=t("./helpers");e.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:r.extendFlat({},i,{yaxis:o})}}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),calcAutorange:t("./calc_autorange"),draw:t("./draw"),isVisible:a.isVisible,makeData:a.makeData,autoMarginOpts:a.autoMarginOpts}},{"../../lib":776,"./attributes":715,"./calc_autorange":716,"./defaults":718,"./draw":719,"./helpers":720,"./oppaxis_attributes":722}],722:[function(t,e,n){"use strict";e.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],723:[function(t,e,n){"use strict";var r=t("../annotations/attributes"),i=t("../../traces/scatter/attributes").line,o=t("../drawing/attributes").dash,a=t("../../lib/extend").extendFlat,s=t("../../plot_api/plot_template").templatedArray;t("../../constants/axis_placeable_objects");e.exports=s("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:a({},r.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:a({},r.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:a({},i.color,{editType:"arraydraw"}),width:a({},i.width,{editType:"calc+arraydraw"}),dash:a({},o,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":749,"../../lib/extend":769,"../../plot_api/plot_template":812,"../../traces/scatter/attributes":929,"../annotations/attributes":636,"../drawing/attributes":667}],724:[function(t,e,n){"use strict";var c=t("../../lib"),f=t("../../plots/cartesian/axes"),h=t("./constants"),d=t("./helpers");function p(t,e,n,r,i,o){var a=t/2,t=o;if("pixel"!==e)return{ppad:a};n=i?d.extractPathCoords(i,o?h.paramIsY:h.paramIsX):[n,r],r=c.aggNums(Math.max,null,n),n=c.aggNums(Math.min,null,n),n=n<0?Math.abs(n)+a:a,r=0<r?r+a:a;return{ppad:a,ppadplus:t?n:r,ppadminus:t?r:n}}function g(t,e,n,r,i){var o="category"===t.type||"multicategory"===t.type?t.r2c:t.d2c;if(void 0!==e)return[o(e),o(n)];if(r){var a,s,l,u=1/0,c=-1/0,f=r.match(h.segmentRE);for("date"===t.type&&(o=d.decodeDate(o)),a=0;a<f.length;a++)void 0!==(l=i[f[a].charAt(0)].drawn)&&(!(s=f[a].substr(1).match(h.paramRE))||s.length<l||((l=o(s[l]))<u&&(u=l),c<l&&(c=l)));return u<=c?[u,c]:void 0}}e.exports=function(t){var e=t._fullLayout,n=c.filterVisible(e.shapes);if(n.length&&t._fullData.length)for(var r=0;r<n.length;r++){var i=n[r];i._extremes={};var o,a,s,l=f.getRefType(i.xref),u=f.getRefType(i.yref);"paper"!==i.xref&&"domain"!==l&&(l="pixel"===i.xsizemode?i.xanchor:i.x0,a="pixel"===i.xsizemode?i.xanchor:i.x1,(a=g(o=f.getFromId(t,i.xref),l,a,i.path,h.paramIsX))&&(i._extremes[o._id]=f.findExtremes(o,a,p((s=i).line.width,s.xsizemode,s.x0,s.x1,s.path,!1)))),"paper"!==i.yref&&"domain"!==u&&(s="pixel"===i.ysizemode?i.yanchor:i.y0,u="pixel"===i.ysizemode?i.yanchor:i.y1,(a=g(o=f.getFromId(t,i.yref),s,u,i.path,h.paramIsY))&&(i._extremes[o._id]=f.findExtremes(o,a,p((i=i).line.width,i.ysizemode,i.y0,i.y1,i.path,!0))))}}},{"../../lib":776,"../../plots/cartesian/axes":823,"./constants":725,"./helpers":734}],725:[function(t,e,n){"use strict";e.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],726:[function(t,e,n){"use strict";var x=t("../../lib"),_=t("../../plots/cartesian/axes"),r=t("../../plots/array_container_defaults"),w=t("./attributes"),k=t("./helpers");function i(n,r,t){function e(t,e){return x.coerce(n,r,w,t,e)}if(e("visible")){var i=e("path"),o=e("type",i?"path":"rect");"path"!==r.type&&delete r.path,e("editable"),e("layer"),e("opacity"),e("fillcolor"),e("fillrule"),e("line.width")&&(e("line.color"),e("line.dash"));for(var a=e("xsizemode"),s=e("ysizemode"),l=["x","y"],u=0;u<2;u++){var c,f,h,d,p=l[u],g=p+"anchor",m="x"===p?a:s,y={_fullLayout:t},v=_.coerceRef(n,r,y,p,void 0,"paper"),b="range"===_.getRefType(v)?((d=_.getFromId(y,v))._shapeIndices.push(r._index),c=k.rangeToShapePosition(d),k.shapePositionToRange(d)):c=x.identity;"path"!==o&&(h=p+"1",d=n[f=p+"0"],p=n[h],n[f]=b(n[f],!0),n[h]=b(n[h],!0),"pixel"===m?(e(f,0),e(h,10)):(_.coercePosition(r,y,e,v,f,.25),_.coercePosition(r,y,e,v,h,.75)),r[f]=c(r[f]),r[h]=c(r[h]),n[f]=d,n[h]=p),"pixel"===m&&(m=n[g],n[g]=b(n[g],!0),_.coercePosition(r,y,e,v,g,.25),r[g]=c(r[g]),n[g]=m)}"path"===o?e("path"):x.noneOrAll(n,r,["x0","x1","y0","y1"])}}e.exports=function(t,e){r(t,e,{name:"shapes",handleItemDefaults:i})}},{"../../lib":776,"../../plots/array_container_defaults":818,"../../plots/cartesian/axes":823,"./attributes":723,"./helpers":734}],727:[function(t,e,n){"use strict";var rt=t("../../registry"),it=t("../../lib"),ot=t("../../plots/cartesian/axes"),at=t("./draw_newshape/helpers").readPaths,st=t("./draw_newshape/display_outlines"),o=t("../../plots/cartesian/handle_outline").clearOutlineControllers,lt=t("../color"),ut=t("../drawing"),ct=t("../../plot_api/plot_template").arrayEditor,ft=t("../dragelement"),ht=t("../../lib/setcursor"),dt=t("./constants"),pt=t("./helpers");function gt(t){var e,n=t._fullLayout;for(e in n._shapeUpperLayer.selectAll("path").remove(),n._shapeLowerLayer.selectAll("path").remove(),n._plots){var r=n._plots[e].shapelayer;r&&r.selectAll("path").remove()}for(var i=0;i<n.shapes.length;i++)n.shapes[i].visible&&a(t,i)}function mt(t){return t._fullLayout._drawing}function yt(t){return!t._context.edits.shapePosition}function a(J,tt){J._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+tt+'"]').remove();var t=pt.makeOptionsAndPlotinfo(J,tt),et=t.options,nt=t.plotinfo;function e(t){var e=bt(J,et),n={"data-index":tt,"fill-rule":et.fillrule,d:e},r=et.opacity,i=et.fillcolor,o=et.line.width?et.line.color:"rgba(0,0,0,0)",a=et.line.width,s=et.line.dash;a||!0!==et.editable||(a=5,s="solid");var l="Z"!==e[e.length-1],u=yt(J)&&et.editable&&J._fullLayout._activeShapeIndex===tt;u&&(i=l?"rgba(0,0,0,0)":J._fullLayout.activeshape.fillcolor,r=J._fullLayout.activeshape.opacity);var c,f,h,d,p,g,m,y,v,b,x,_,w,k,T,M,A,S,E,C,O,j,P,N,L,R,D,I,F,z,B,U,H,q,V,G,W,Y=t.append("path").attr(n).style("opacity",r).call(lt.stroke,o).call(lt.fill,i).call(ut.dashLine,s,a);function X(t){var e,n,r,i;j=mt(c)?null:D?"path"===t.target.tagName?"move":"start-point"===t.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point":(e=(r=W.element.getBoundingClientRect()).right-r.left,i=r.bottom-r.top,n=t.clientX-r.left,r=t.clientY-r.top,i=!I&&P<e&&N<i&&!t.shiftKey?ft.getCursor(n/e,1-r/i):"move",ht(f,i),i.split("-")[0])}function Z(e,n){var t,r;"path"===h.type?(r=t=function(t){return t},L?F("xanchor",h.xanchor=V(x+e)):(t=function(t){return V(H(t)+e)},z&&"date"===z.type&&(t=pt.encodeDate(t))),R?F("yanchor",h.yanchor=G(_+n)):(r=function(t){return G(q(t)+n)},B&&"date"===B.type&&(r=pt.encodeDate(r))),F("path",h.path=xt(O,t,r))):(L?F("xanchor",h.xanchor=V(x+e)):(F("x0",h.x0=V(m+e)),F("x1",h.x1=V(v+e))),R?F("yanchor",h.yanchor=G(_+n)):(F("y0",h.y0=G(y+n)),F("y1",h.y1=G(b+n)))),f.attr("d",bt(c,h)),Q(p,h)}function $(e,n){var t,r,i,o,a,s;I?(t=o=function(t){return t},L?F("xanchor",h.xanchor=V(x+e)):(o=function(t){return V(H(t)+e)},z&&"date"===z.type&&(o=pt.encodeDate(o))),R?F("yanchor",h.yanchor=G(_+n)):(t=function(t){return G(q(t)+n)},B&&"date"===B.type&&(t=pt.encodeDate(t))),F("path",h.path=xt(O,o,t))):D?"resize-over-start-point"===j?(r=m+e,a=R?y-n:y+n,F("x0",h.x0=L?r:V(r)),F("y0",h.y0=R?a:G(a))):"resize-over-end-point"===j&&(s=v+e,i=R?b-n:b+n,F("x1",h.x1=L?s:V(s)),F("y1",h.y1=R?i:G(i))):(t=(o=function(t){return-1!==j.indexOf(t)})("n"),r=o("s"),a=o("w"),s=o("e"),i=t?w+n:w,o=r?k+n:k,a=a?T+e:T,s=s?M+e:M,R&&(t&&(i=w-n),r&&(o=k-n)),(!R&&N<o-i||R&&N<i-o)&&(F(A,h[A]=R?i:G(i)),F(S,h[S]=R?o:G(o))),P<s-a&&(F(E,h[E]=L?a:V(a)),F(C,h[C]=L?s:V(s)))),f.attr("d",bt(c,h)),Q(p,h)}function Q(i,o){(L||R)&&function(){var t="path"!==o.type,e=i.selectAll(".visual-cue").data([0]);e.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var n,r=H(L?o.xanchor:it.midRange(t?[o.x0,o.x1]:pt.extractPathCoords(o.path,dt.paramIsX))),t=q(R?o.yanchor:it.midRange(t?[o.y0,o.y1]:pt.extractPathCoords(o.path,dt.paramIsY)));r=pt.roundPositionForSharpStrokeRendering(r,1),t=pt.roundPositionForSharpStrokeRendering(t,1),L&&R?(n="M"+(r-1-1)+","+(t-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z",e.attr("d",n)):L?(n="M"+(r-1-1)+","+(t-9-1)+"v18 h2 v-18 Z",e.attr("d",n)):(t="M"+(r-9-1)+","+(t-1-1)+"h18 v2 h-18 Z",e.attr("d",t))}()}function K(t){t.selectAll(".visual-cue").remove()}vt(Y,J,et),(u||J._context.edits.shapePosition)&&(U=ct(J.layout,"shapes",et)),u?(Y.style({cursor:"move"}),u={element:Y.node(),plotinfo:nt,gd:J,editHelpers:U,isActiveShape:!0},e=at(e,J),st(e,Y,u)):J._context.edits.shapePosition?(c=J,f=Y,d=tt,p=t,g=U,N=P=10,L="pixel"===(h=et).xsizemode,R="pixel"===h.ysizemode,D="line"===h.type,I="path"===h.type,F=g.modifyItem,z=ot.getFromId(c,h.xref),t=ot.getRefType(h.xref),B=ot.getFromId(c,h.yref),U=ot.getRefType(h.yref),H=pt.getDataToPixel(c,z,!1,t),q=pt.getDataToPixel(c,B,!0,U),V=pt.getPixelToData(c,z,!1,t),G=pt.getPixelToData(c,B,!0,U),U=D?function(){var t=Math.max(h.line.width,10),e=p.append("g").attr("data-index",d);e.append("path").attr("d",f.attr("d")).style({cursor:"move","stroke-width":t,"stroke-opacity":"0"});var n={"fill-opacity":"0"},t=Math.max(t/2,10);return e.append("circle").attr({"data-line-point":"start-point",cx:L?H(h.xanchor)+h.x0:H(h.x0),cy:R?q(h.yanchor)-h.y0:q(h.y0),r:t}).style(n).classed("cursor-grab",!0),e.append("circle").attr({"data-line-point":"end-point",cx:L?H(h.xanchor)+h.x1:H(h.x1),cy:R?q(h.yanchor)-h.y1:q(h.y1),r:t}).style(n).classed("cursor-grab",!0),e}():f,W={element:U.node(),gd:c,prepFn:function(t){if(mt(c))return;L&&(x=H(h.xanchor));R&&(_=q(h.yanchor));"path"===h.type?O=h.path:(m=L?h.x0:H(h.x0),y=R?h.y0:q(h.y0),v=L?h.x1:H(h.x1),b=R?h.y1:q(h.y1));C=m<v?(T=m,E="x0",M=v,"x1"):(T=v,E="x1",M=m,"x0");S=!R&&y<b||R&&b<y?(w=y,A="y0",k=b,"y1"):(w=b,A="y1",k=y,"y0");X(t),Q(p,h),function(t,e,n){var r=e.xref,i=e.yref,o=ot.getFromId(n,r),a=ot.getFromId(n,i),e="";"paper"===r||o.autorange||(e+=r),"paper"===i||a.autorange||(e+=i),ut.setClipUrl(t,e?"clip"+n._fullLayout._uid+e:null,n)}(f,h,c),W.moveFn="move"===j?Z:$,W.altKey=t.altKey},doneFn:function(){if(mt(c))return;ht(f),K(p),vt(f,c,h),rt.call("_guiRelayout",c,g.getUpdateObj())},clickFn:function(){if(mt(c))return;K(p)}},ft.init(W),U.node().onmousemove=X):!0===et.editable&&Y.style("pointer-events",l||lt.opacity(i)*r<=.5?"stroke":"all"),Y.node().addEventListener("click",function(){return function(t,e){if(!yt(t))return;e=+e.node().getAttribute("data-index");0<=e&&(e!==t._fullLayout._activeShapeIndex?(t._fullLayout._activeShapeIndex=e,t._fullLayout._deactivateShape=_t,gt(t)):_t(t))}(J,Y)})}et._input&&!1!==et.visible&&("below"!==et.layer?e(J._fullLayout._shapeUpperLayer):"paper"!==et.xref&&"paper"!==et.yref&&nt._hadPlotinfo?e((nt.mainplotinfo||nt).shapelayer):e(J._fullLayout._shapeLowerLayer))}function vt(t,e,n){n=(n.xref+n.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");ut.setClipUrl(t,n?"clip"+e._fullLayout._uid+n:null,e)}function bt(t,e){var n,r,s,l,u,c,f,h,i=e.type,o=ot.getRefType(e.xref),a=ot.getRefType(e.yref),d=ot.getFromId(t,e.xref),p=ot.getFromId(t,e.yref),g=t._fullLayout._size,m=d?"domain"===o?function(t){return d._offset+d._length*t}:(n=pt.shapePositionToRange(d),function(t){return d._offset+d.r2p(n(t,!0))}):function(t){return g.l+g.w*t},t=p?"domain"===a?function(t){return p._offset+p._length*(1-t)}:(r=pt.shapePositionToRange(p),function(t){return p._offset+p.r2p(r(t,!0))}):function(t){return g.t+g.h*(1-t)};if("path"===i)return d&&"date"===d.type&&(m=pt.decodeDate(m)),p&&"date"===p.type&&(t=pt.decodeDate(t)),s=m,l=t,a=(o=e).path,u=o.xsizemode,c=o.ysizemode,f=o.xanchor,h=o.yanchor,a.replace(dt.segmentRE,function(t){var e=0,n=t.charAt(0),r=dt.paramIsX[n],i=dt.paramIsY[n],o=dt.numParams[n],a=t.substr(1).replace(dt.paramRE,function(t){return r[e]?t="pixel"===u?s(f)+Number(t):s(t):i[e]&&(t="pixel"===c?l(h)-Number(t):l(t)),o<++e&&(t="X"),t});return o<e&&(a=a.replace(/[\s,]*X.*/,""),it.log("Ignoring extra params in segment "+t)),n+a});if(y="pixel"===e.xsizemode?(v=(y=m(e.xanchor))+e.x0,y+e.x1):(v=m(e.x0),m(e.x1)),e="pixel"===e.ysizemode?(b=(m=t(e.yanchor))-e.y0,m-e.y1):(b=t(e.y0),t(e.y1)),"line"===i)return"M"+v+","+b+"L"+y+","+e;if("rect"===i)return"M"+v+","+b+"H"+y+"V"+e+"H"+v+"Z";var i=(v+y)/2,y=(b+e)/2,e=Math.abs(i-v),v=Math.abs(y-b),b="A"+e+","+v,e=i+e+","+y;return"M"+e+b+" 0 1,1 "+(i+","+(y-v))+b+" 0 0,1 "+e+"Z"}function xt(t,a,s){return t.replace(dt.segmentRE,function(t){var e=0,n=t.charAt(0),r=dt.paramIsX[n],i=dt.paramIsY[n],o=dt.numParams[n];return n+t.substr(1).replace(dt.paramRE,function(t){return o<=e||(r[e]?t=a(t):i[e]&&(t=s(t)),e++),t})})}function _t(t){yt(t)&&0<=t._fullLayout._activeShapeIndex&&(o(t),delete t._fullLayout._activeShapeIndex,gt(t))}e.exports={draw:gt,drawOne:a,eraseActiveShape:function(t){if(!yt(t))return;o(t);var e=t._fullLayout._activeShapeIndex,n=(t.layout||{}).shapes||[];if(e<n.length){for(var r=[],i=0;i<n.length;i++)i!==e&&r.push(n[i]);delete t._fullLayout._activeShapeIndex,rt.call("_guiRelayout",t,{shapes:r})}}}},{"../../lib":776,"../../lib/setcursor":795,"../../plot_api/plot_template":812,"../../plots/cartesian/axes":823,"../../plots/cartesian/handle_outline":833,"../../registry":877,"../color":646,"../dragelement":665,"../drawing":668,"./constants":725,"./draw_newshape/display_outlines":731,"./draw_newshape/helpers":732,"./helpers":734}],728:[function(t,e,n){"use strict";var r=t("../../drawing/attributes").dash,t=t("../../../lib/extend").extendFlat;e.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:t({},r,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":769,"../../drawing/attributes":667}],729:[function(t,e,n){"use strict";e.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},{}],730:[function(t,e,n){"use strict";var r=t("../../color");e.exports=function(t,e,n){n("newshape.drawdirection"),n("newshape.layer"),n("newshape.fillcolor"),n("newshape.fillrule"),n("newshape.opacity"),n("newshape.line.width")&&(t=(t||{}).plot_bgcolor||"#FFF",n("newshape.line.color",r.contrast(t)),n("newshape.line.dash")),n("activeshape.fillcolor"),n("activeshape.opacity")}},{"../../color":646}],731:[function(t,e,n){"use strict";var k=t("../../dragelement"),T=t("../../dragelement/helpers").drawMode,M=t("../../../registry"),r=t("./constants"),A=r.i000,S=r.i090,E=r.i180,C=r.i270,O=t("../../../plots/cartesian/handle_outline").clearOutlineControllers,r=t("./helpers"),j=r.pointsShapeRectangle,P=r.pointsShapeEllipse,N=r.writePaths,L=t("./newshapes");e.exports=function t(c,n,r,e){e=e||0;var s=r.gd;function f(){t(c,n,r,e++),P(c[0])&&i({redrawing:!0})}function i(t){r.isActiveShape=!1;var e=L(n,r);Object.keys(e).length&&M.call((t||{}).redrawing?"relayout":"_guiRelayout",s,e)}var l,o,h,d,p,a=r.isActiveShape,u=s._fullLayout._zoomlayer,g=r.dragmode;function m(t){h=+t.srcElement.getAttribute("data-i"),d=+t.srcElement.getAttribute("data-j"),l[h][d].moveFn=y}function y(t,e){if(c.length){var n=p[h][d][1],r=p[h][d][2],i=c[h],o=i.length;if(j(i)){for(var a,s=0;s<o;s++)s!==d&&((a=i[s])[1]===i[d][1]&&(a[1]=n+t),a[2]===i[d][2]&&(a[2]=r+e));if(i[d][1]=n+t,i[d][2]=r+e,!j(i))for(var l=0;l<o;l++)for(var u=0;u<i[l].length;u++)i[l][u]=p[h][l][u]}else i[d][1]=n+t,i[d][2]=r+e;f()}}function v(){i()}function b(t,e){2===t&&(h=+e.srcElement.getAttribute("data-i"),d=+e.srcElement.getAttribute("data-j"),e=c[h],j(e)||P(e)||function(){if(c.length&&c[h]&&c[h].length){for(var t=[],e=0;e<c[h].length;e++)e!==d&&t.push(c[h][e]);1<t.length&&(2!==t.length||"Z"!==t[1][0])&&(0===d&&(t[0][0]="M"),c[h]=t,f(),i())}}())}function x(t,e){!function(t,e){if(c.length)for(var n=0;n<c.length;n++)for(var r=0;r<c[n].length;r++)for(var i=0;i+2<c[n][r].length;i+=2)c[n][r][i+1]=p[n][r][i+1]+t,c[n][r][i+2]=p[n][r][i+2]+e}(t,e),f()}function _(t){h=+t.srcElement.getAttribute("data-i"),o[h=h||0].moveFn=x}function w(){i()}T(g)?s._fullLayout._drawing=!0:0<=s._fullLayout._activeShapeIndex&&O(s),n.attr("d",N(c)),a&&!e&&(p=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];t[n]=[];for(var i=0;i<r.length;i++){t[n][i]=[];for(var o=0;o<r[i].length;o++)t[n][i][o]=r[i][o]}}return t}([],c),function(t){l=[];for(var e=0;e<c.length;e++){var n=c[e],r=!j(n)&&P(n);l[e]=[];for(var i,o,a=0;a<n.length;a++)"Z"!==n[a][0]&&(r&&a!==A&&a!==S&&a!==E&&a!==C||(i=n[a][1],o=n[a][2],o=t.append("circle").classed("cursor-grab",!0).attr("data-i",e).attr("data-j",a).attr("cx",i).attr("cy",o).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1}),l[e][a]={element:o.node(),gd:s,prepFn:m,doneFn:v,clickFn:b},k.init(l[e][a])))}}(u.append("g").attr("class","outline-controllers")),o=[],c.length&&(o[0]={element:n[0][0],gd:s,prepFn:_,doneFn:w},k.init(o[0])))}},{"../../../plots/cartesian/handle_outline":833,"../../../registry":877,"../../dragelement":665,"../../dragelement/helpers":664,"./constants":729,"./helpers":732,"./newshapes":733}],732:[function(t,e,c){"use strict";var L=t("parse-svg-path"),n=t("./constants"),R=n.CIRCLE_SIDES,f=n.SQRT2,t=t("../../../plots/cartesian/helpers"),D=t.p2r,I=t.r2p,h=[0,3,4,5,6,1,2],d=[0,3,4,1,2];function a(t,e){return Math.abs(t-e)<=1e-6}function s(t,e){var n=e[1]-t[1],t=e[2]-t[2];return Math.sqrt(n*n+t*t)}c.writePaths=function(t){var e=t.length;if(!e)return"M0,0Z";for(var n="",r=0;r<e;r++)for(var i=t[r].length,o=0;o<i;o++){var a=t[r][o][0];if("Z"===a)n+="Z";else for(var s=t[r][o].length,l=0;l<s;l++){var u=l;"Q"===a||"S"===a?u=d[l]:"C"===a&&(u=h[l]),n+=t[r][o][u],0<l&&l<s-1&&(n+=",")}}return n},c.readPaths=function(t,e,n,r){function i(){o=c,a=f}var o,a,s=L(t),l=[],u=-1,c=0,f=0;i();for(var h=0;h<s.length;h++){var d,p,g,m,y=[],v=s[h][0],b=v;switch(v){case"M":l[++u]=[],c=+s[h][1],f=+s[h][2],y.push([b,c,f]),i();break;case"Q":case"S":d=+s[h][1],g=+s[h][2],c=+s[h][3],f=+s[h][4],y.push([b,c,f,d,g]);break;case"C":d=+s[h][1],g=+s[h][2],p=+s[h][3],m=+s[h][4],c=+s[h][5],f=+s[h][6],y.push([b,c,f,d,g,p,m]);break;case"T":case"L":c=+s[h][1],f=+s[h][2],y.push([b,c,f]);break;case"H":b="L",c=+s[h][1],y.push([b,c,f]);break;case"V":b="L",f=+s[h][1],y.push([b,c,f]);break;case"A":b="L";var x=+s[h][1],_=+s[h][2];+s[h][4]||(x=-x,_=-_);for(var w=c-x,k=f,T=1;T<=R/2;T++){var M=2*Math.PI*T/R;y.push([b,w+x*Math.cos(M),k+_*Math.sin(M)])}break;case"Z":c===o&&f===a||(c=o,f=a,y.push([b,c,f]))}for(var A=(n||{}).domain,S=e._fullLayout._size,E=n&&"pixel"===n.xsizemode,C=n&&"pixel"===n.ysizemode,O=!1===r,j=0;j<y.length;j++){for(T=0;T+2<7;T+=2){var P=y[j][T+1],N=y[j][T+2];void 0!==P&&void 0!==N&&(c=P,f=N,n&&(n.xaxis&&n.xaxis.p2r?(O&&(P-=n.xaxis._offset),P=E?I(n.xaxis,n.xanchor)+P:D(n.xaxis,P)):(O&&(P-=S.l),A?P=A.x[0]+P/S.w:P/=S.w),N=n.yaxis&&n.yaxis.p2r?(O&&(N-=n.yaxis._offset),C?I(n.yaxis,n.yanchor)-N:D(n.yaxis,N)):(O&&(N-=S.t),A?A.y[1]-N/S.h:1-N/S.h)),y[j][T+1]=P,y[j][T+2]=N)}l[u].push(y[j].slice())}}return l},c.pointsShapeRectangle=function(t){if(5!==t.length)return!1;for(var e=1;e<3;e++){if(!a(t[0][e]-t[1][e],t[3][e]-t[2][e]))return!1;if(!a(t[0][e]-t[3][e],t[1][e]-t[2][e]))return!1}return!(!a(t[0][1],t[1][1])&&!a(t[0][1],t[3][1]))&&!!(s(t[0],t[1])*s(t[0],t[3]))},c.pointsShapeEllipse=function(t){var e=t.length;if(e!==R+1)return!1;e=R;for(var n=0;n<e;n++){var r=(2*e-n)%e,i=(e/2+r)%e,o=(e/2+n)%e;if(!a(s(t[n],t[o]),s(t[r],t[i])))return!1}return!0},c.handleEllipse=function(t,e,n){if(!t)return[e,n];for(var n=c.ellipseOver({x0:e[0],y0:e[1],x1:n[0],y1:n[1]}),r=(n.x1+n.x0)/2,i=(n.y1+n.y0)/2,o=(n.x1-n.x0)/2,a=(n.y1-n.y0)/2,o=o||(a/=f),a=a||(o/=f),s=[],l=0;l<R;l++){var u=2*l*Math.PI/R;s.push([r+o*Math.cos(u),i+a*Math.sin(u)])}return s},c.ellipseOver=function(t){var e=t.x0,n=t.y0,r=t.x1,i=t.y1,o=r-e,t=i-n,r=((e-=o)+r)/2,i=((n-=t)+i)/2;return{x0:r-(o*=f),y0:i-(t*=f),x1:r+o,y1:i+t}}},{"../../../plots/cartesian/helpers":834,"./constants":729,"parse-svg-path":612}],733:[function(t,e,n){"use strict";var r=t("../../dragelement/helpers"),O=r.drawMode,j=r.openMode,r=t("./constants"),P=r.i000,N=r.i090,L=r.i180,R=r.i270,D=r.cos45,I=r.sin45,r=t("../../../plots/cartesian/helpers"),F=r.p2r,z=r.r2p,B=t("../../../plots/cartesian/handle_outline").clearSelect,t=t("./helpers"),U=t.readPaths,H=t.writePaths,q=t.ellipseOver;e.exports=function(t,e){if(t.length){var n=t[0][0];if(n){var r=n.getAttribute("d"),i=e.gd,o=i._fullLayout.newshape,a=e.plotinfo,s=a.xaxis,l=a.yaxis,u=!!a.domain||!a.xaxis,c=!!a.domain||!a.yaxis,f=e.isActiveShape,h=e.dragmode,d=(i.layout||{}).shapes||[];if(!O(h)&&void 0!==f){var p=i._fullLayout._activeShapeIndex;if(p<d.length)switch(i._fullLayout.shapes[p].type){case"rect":h="drawrect";break;case"circle":h="drawcircle";break;case"line":h="drawline";break;case"path":var g=d[p].path||"",h="Z"===g[g.length-1]?"drawclosedpath":"drawopenpath"}}var m,y,v,b,x,_,w=j(h),k=U(r,i,a,f),T={editable:!0,xref:u?"paper":s._id,yref:c?"paper":l._id,layer:o.layer,opacity:o.opacity,line:{color:o.line.color,width:o.line.width,dash:o.line.dash}};w||(T.fillcolor=o.fillcolor,T.fillrule=o.fillrule),1===k.length&&(m=k[0]),m&&"drawrect"===h?(T.type="rect",T.x0=m[0][1],T.y0=m[0][2],T.x1=m[2][1],T.y1=m[2][2]):m&&"drawline"===h?(T.type="line",T.x0=m[0][1],T.y0=m[0][2],T.x1=m[1][1],T.y1=m[1][2]):m&&"drawcircle"===h?(T.type="circle",y=m[P][1],v=m[N][1],b=m[L][1],x=m[R][1],_=m[P][2],t=m[N][2],n=m[L][2],r=m[R][2],u=a.xaxis&&("date"===a.xaxis.type||"log"===a.xaxis.type),c=a.yaxis&&("date"===a.yaxis.type||"log"===a.yaxis.type),u&&(y=z(a.xaxis,y),v=z(a.xaxis,v),b=z(a.xaxis,b),x=z(a.xaxis,x)),c&&(_=z(a.yaxis,_),t=z(a.yaxis,t),n=z(a.yaxis,n),r=z(a.yaxis,r)),_=q({x0:w=(v+x)/2,y0:o=(_+n)/2,x1:w+(x-v+b-y)/2*D,y1:o+(r-t+n-_)/2*I}),u&&(_.x0=F(a.xaxis,_.x0),_.x1=F(a.xaxis,_.x1)),c&&(_.y0=F(a.yaxis,_.y0),_.y1=F(a.yaxis,_.y1)),T.x0=_.x0,T.y0=_.y0,T.x1=_.x1,T.y1=_.y1):(T.type="path",s&&l&&function(t){var e="date"===s.type,n="date"===l.type;if(e||n)for(var r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)for(var o=0;o+2<t[r][i].length;o+=2)e&&(t[r][i][o+1]=t[r][i][o+1].replace(" ","_")),n&&(t[r][i][o+2]=t[r][i][o+2].replace(" ","_"))}(k),T.path=H(k),m=null),B(i);for(var e=e.editHelpers,M=(e||{}).modifyItem,A=[],S=0;S<d.length;S++){var E=i._fullLayout.shapes[S];if(A[S]=E._input,void 0!==f&&S===i._fullLayout._activeShapeIndex){var C=T;switch(E.type){case"line":case"rect":case"circle":M("x0",C.x0),M("x1",C.x1),M("y0",C.y0),M("y1",C.y1);break;case"path":M("path",C.path)}}}return void 0===f?(A.push(T),A):e?e.getUpdateObj():{}}}}},{"../../../plots/cartesian/handle_outline":833,"../../../plots/cartesian/helpers":834,"../../dragelement/helpers":664,"./constants":729,"./helpers":732}],734:[function(t,e,s){"use strict";var i=t("./constants"),o=t("../../lib");s.rangeToShapePosition=function(t){return"log"===t.type?t.r2d:function(t){return t}},s.shapePositionToRange=function(t){return"log"===t.type?t.d2r:function(t){return t}},s.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},s.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},s.extractPathCoords=function(t,n){var r=[];return t.match(i.segmentRE).forEach(function(t){var e=n[t.charAt(0)].drawn;void 0!==e&&(!(t=t.substr(1).match(i.paramRE))||t.length<e||r.push(o.cleanNumber(t[e])))}),r},s.getDataToPixel=function(t,e,n,r){var i,o,a=t._fullLayout._size;return e?"domain"===r?o=function(t){return e._length*(n?1-t:t)+e._offset}:(i=s.shapePositionToRange(e),o=function(t){return e._offset+e.r2p(i(t,!0))},"date"===e.type&&(o=s.decodeDate(o))):o=n?function(t){return a.t+a.h*(1-t)}:function(t){return a.l+a.w*t},o},s.getPixelToData=function(t,e,n,r){var i,o=t._fullLayout._size;return e?"domain"===r?function(t){t=(t-e._offset)/e._length;return n?1-t:t}:(i=s.rangeToShapePosition(e),function(t){return i(e.p2r(t-e._offset))}):n?function(t){return 1-(t-o.t)/o.h}:function(t){return(t-o.l)/o.w}},s.roundPositionForSharpStrokeRendering=function(t,e){e=1===Math.round(e%2),t=Math.round(t);return e?t+.5:t},s.makeOptionsAndPlotinfo=function(t,e){var n=t._fullLayout.shapes[e]||{},e=t._fullLayout._plots[n.xref+n.yref];return!!e?e._hadPlotinfo=!0:(e={},n.xref&&"paper"!==n.xref&&(e.xaxis=t._fullLayout[n.xref+"axis"]),n.yref&&"paper"!==n.yref&&(e.yaxis=t._fullLayout[n.yref+"axis"])),e.xsizemode=n.xsizemode,e.ysizemode=n.ysizemode,e.xanchor=n.xanchor,e.yanchor=n.yanchor,{options:n,plotinfo:e}}},{"../../lib":776,"./constants":725}],735:[function(t,e,n){"use strict";var r=t("./draw");e.exports={moduleType:"component",name:"shapes",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),supplyDrawNewShapeDefaults:t("./draw_newshape/defaults"),includeBasePlot:t("../../plots/cartesian/include_components")("shapes"),calcAutorange:t("./calc_autorange"),draw:r.draw,drawOne:r.drawOne}},{"../../plots/cartesian/include_components":835,"./attributes":723,"./calc_autorange":724,"./defaults":726,"./draw":727,"./draw_newshape/defaults":730}],736:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),i=t("../../plots/pad_attributes"),o=t("../../lib/extend").extendDeepAll,a=t("../../plot_api/edit_types").overrideAll,s=t("../../plots/animation_attributes"),l=t("../../plot_api/plot_template").templatedArray,u=t("./constants"),t=l("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});e.exports=a(l("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:o(i({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:s.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:r({})},font:r({}),activebgcolor:{valType:"color",dflt:u.gripBgActiveColor},bgcolor:{valType:"color",dflt:u.railBgColor},bordercolor:{valType:"color",dflt:u.railBorderColor},borderwidth:{valType:"number",min:0,dflt:u.railBorderWidth},ticklen:{valType:"number",min:0,dflt:u.tickLength},tickcolor:{valType:"color",dflt:u.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:u.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":769,"../../plot_api/edit_types":805,"../../plot_api/plot_template":812,"../../plots/animation_attributes":817,"../../plots/font_attributes":851,"../../plots/pad_attributes":867,"./constants":737}],737:[function(t,e,n){"use strict";e.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],738:[function(t,e,n){"use strict";var l=t("../../lib"),u=t("../../plots/array_container_defaults"),c=t("./attributes"),r=t("./constants").name,i=c.steps;function o(n,r,t){function e(t,e){return l.coerce(n,r,c,t,e)}for(var i,o=u(n,r,{name:"steps",handleItemDefaults:f}),a=0,s=0;s<o.length;s++)o[s].visible&&a++;(a<2?r.visible=!1:e("visible"))&&(r._stepCount=a,i=r._visibleSteps=l.filterVisible(o),(o[e("active")]||{}).visible||(r.active=i[0]._index),e("x"),e("y"),l.noneOrAll(n,r,["x","y"]),e("xanchor"),e("yanchor"),e("len"),e("lenmode"),e("pad.t"),e("pad.r"),e("pad.b"),e("pad.l"),l.coerceFont(e,"font",t.font),e("currentvalue.visible")&&(e("currentvalue.xanchor"),e("currentvalue.prefix"),e("currentvalue.suffix"),e("currentvalue.offset"),l.coerceFont(e,"currentvalue.font",r.font)),e("transition.duration"),e("transition.easing"),e("bgcolor"),e("activebgcolor"),e("bordercolor"),e("borderwidth"),e("ticklen"),e("tickwidth"),e("tickcolor"),e("minorticklen"))}function f(n,r){function t(t,e){return l.coerce(n,r,i,t,e)}var e="skip"===n.method||Array.isArray(n.args)?t("visible"):r.visible=!1;e&&(t("method"),t("args"),e=t("label","step-"+r._index),t("value",e),t("execute"))}e.exports=function(t,e){u(t,e,{name:r,handleItemDefaults:o})}},{"../../lib":776,"../../plots/array_container_defaults":818,"./attributes":736,"./constants":737}],739:[function(t,e,n){"use strict";var u=t("d3"),c=t("../../plots/plots"),l=t("../color"),f=t("../drawing"),h=t("../../lib"),a=h.strTranslate,d=t("../../lib/svg_text_utils"),s=t("../../plot_api/plot_template").arrayEditor,p=t("./constants"),t=t("../../constants/alignment"),g=t.LINE_SPACING,m=t.FROM_TL,y=t.FROM_BR;function v(t){return p.autoMarginIdRoot+t._index}function b(t){return t._index}function x(t,e,n){if(e.currentvalue.visible){var r,i,o=e._dims;switch(e.currentvalue.xanchor){case"right":r=o.inputAreaLength-p.currentValueInset-o.currentValueMaxWidth,i="left";break;case"center":r=.5*o.inputAreaLength,i="middle";break;default:r=p.currentValueInset,i="left"}var a=h.ensureSingle(t,"text",p.labelClass,function(t){t.attr({"text-anchor":i,"data-notex":1})}),s=e.currentvalue.prefix||"";"string"==typeof n?s+=n:(t=e.steps[e.active].label,(n=e._gd._fullLayout._meta)&&(t=h.templateString(t,n)),s+=t),e.currentvalue.suffix&&(s+=e.currentvalue.suffix),a.call(f.font,e.currentvalue.font).text(s).call(d.convertToTspans,e._gd);s=d.lineCount(a),e=(o.currentValueMaxLines+1-s)*e.currentvalue.font.size*g;return d.positionText(a,r,e),a}}function _(e,n,r){h.ensureSingle(e,"rect",p.gripRectClass,function(t){t.call(o,n,e,r).style("pointer-events","all")}).attr({width:p.gripWidth,height:p.gripHeight,rx:p.gripRadius,ry:p.gripRadius}).call(l.stroke,r.bordercolor).call(l.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px")}function w(t,e,n){var r=h.ensureSingle(t,"text",p.labelClass,function(t){t.attr({"text-anchor":"middle","data-notex":1})}),t=e.step.label,e=n._gd._fullLayout._meta;return e&&(t=h.templateString(t,e)),r.call(f.font,n.font).text(t).call(d.convertToTspans,n._gd),r}function k(t,n){var t=h.ensureSingle(t,"g",p.labelsClass),r=n._dims,t=t.selectAll("g."+p.labelGroupClass).data(r.labelSteps);t.enter().append("g").classed(p.labelGroupClass,!0),t.exit().remove(),t.each(function(t){var e=u.select(this);e.call(w,t,n),f.setTranslate(e,E(n,t.fraction),p.tickOffset+n.ticklen+n.font.size*g+p.labelOffset+r.currentValueTotalHeight)})}function T(t,e,n,r,i){r=Math.round(r*(n._stepCount-1)),r=n._visibleSteps[r]._index;r!==n.active&&M(t,e,n,r,!0,i)}function M(e,n,t,r,i,o){var a=t.active;t.active=r,s(e.layout,p.name,t).applyUpdate("active",r);r=t.steps[t.active];n.call(S,t,o),n.call(x,t),e.emit("plotly_sliderchange",{slider:t,step:t.steps[t.active],interaction:i,previousActive:a}),r&&r.method&&i&&(n._nextMethod?(n._nextMethod.step=r,n._nextMethod.doCallback=i,n._nextMethod.doTransition=o):(n._nextMethod={step:r,doCallback:i,doTransition:o},n._nextMethodRaf=window.requestAnimationFrame(function(){var t=n._nextMethod.step;t.method&&(t.execute&&c.executeAPICommand(e,t.method,t.args),n._nextMethod=null,n._nextMethodRaf=null)})))}function o(t,r,i){var o=i.node(),a=u.select(r);function s(){return i.data()[0]}t.on("mousedown",function(){var t=s();r.emit("plotly_sliderstart",{slider:t});var e=i.select("."+p.gripRectClass);u.event.stopPropagation(),u.event.preventDefault(),e.call(l.fill,t.activebgcolor);var n=C(t,u.mouse(o)[0]);T(r,i,t,n,!0),t._dragging=!0,a.on("mousemove",function(){var t=s(),e=C(t,u.mouse(o)[0]);T(r,i,t,e,!1)}),a.on("mouseup",function(){var t=s();t._dragging=!1,e.call(l.fill,t.bgcolor),a.on("mouseup",null),a.on("mousemove",null),r.emit("plotly_sliderend",{slider:t,step:t.steps[t.active]})})})}function A(t,i){var t=t.selectAll("rect."+p.tickRectClass).data(i._visibleSteps),o=i._dims;t.enter().append("rect").classed(p.tickRectClass,!0),t.exit().remove(),t.attr({width:i.tickwidth+"px","shape-rendering":"crispEdges"}),t.each(function(t,e){var n=e%o.labelStride==0,r=u.select(this);r.attr({height:n?i.ticklen:i.minorticklen}).call(l.fill,i.tickcolor),f.setTranslate(r,E(i,e/(i._stepCount-1))-.5*i.tickwidth,(n?p.tickOffset:p.minorTickOffset)+o.currentValueTotalHeight)})}function S(t,e,n){for(var r=t.select("rect."+p.gripRectClass),i=0,o=0;o<e._stepCount;o++)if(e._visibleSteps[o]._index===e.active){i=o;break}t=E(e,i/(e._stepCount-1));e._invokingCommand||(r=r,n&&0<e.transition.duration&&(r=r.transition().duration(e.transition.duration).ease(e.transition.easing)),r.attr("transform",a(t-.5*p.gripWidth,e._dims.currentValueTotalHeight)))}function E(t,e){t=t._dims;return t.inputAreaStart+p.stepInset+(t.inputAreaLength-2*p.stepInset)*Math.min(1,Math.max(0,e))}function C(t,e){t=t._dims;return Math.min(1,Math.max(0,(e-p.stepInset-t.inputAreaStart)/(t.inputAreaLength-2*p.stepInset-2*t.inputAreaStart)))}function O(e,n,r){var t=r._dims,i=h.ensureSingle(e,"rect",p.railTouchRectClass,function(t){t.call(o,n,e,r).style("pointer-events","all")});i.attr({width:t.inputAreaLength,height:Math.max(t.inputAreaWidth,p.tickOffset+r.ticklen+t.labelHeight)}).call(l.fill,r.bgcolor).attr("opacity",0),f.setTranslate(i,0,t.currentValueTotalHeight)}function j(t,e){var n=e._dims,r=n.inputAreaLength-2*p.railInset,t=h.ensureSingle(t,"rect",p.railRectClass);t.attr({width:r,height:p.railWidth,rx:p.railRadius,ry:p.railRadius,"shape-rendering":"crispEdges"}).call(l.stroke,e.bordercolor).call(l.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px"),f.setTranslate(t,p.railInset,.5*(n.inputAreaWidth-p.railWidth)+n.currentValueTotalHeight)}e.exports=function(i){var t=i._fullLayout,e=function(t,e){for(var n=t[p.name],r=[],i=0;i<n.length;i++){var o=n[i];o.visible&&(o._gd=e,r.push(o))}return r}(t,i),t=t._infolayer.selectAll("g."+p.containerClassName).data(0<e.length?[0]:[]);function n(t){t._commandObserver&&(t._commandObserver.remove(),delete t._commandObserver),c.autoMargin(i,v(t))}if(t.enter().append("g").classed(p.containerClassName,!0).style("cursor","ew-resize"),t.exit().each(function(){u.select(this).selectAll("g."+p.groupClassName).each(n)}).remove(),0!==e.length){t=t.selectAll("g."+p.groupClassName).data(e,b);t.enter().append("g").classed(p.groupClassName,!0),t.exit().each(n).remove();for(var r=0;r<e.length;r++){var o=e[r];!function(t,n){var e=f.tester.selectAll("g."+p.labelGroupClass).data(n._visibleSteps);e.enter().append("g").classed(p.labelGroupClass,!0);var r=0,i=0;e.each(function(t){t=w(u.select(this),{step:t},n).node();t&&(t=f.bBox(t),i=Math.max(i,t.height),r=Math.max(r,t.width))}),e.remove();var o=n._dims={};o.inputAreaWidth=Math.max(p.railWidth,p.gripHeight);var a=t._fullLayout._size;o.lx=a.l+a.w*n.x,o.ly=a.t+a.h*(1-n.y),"fraction"===n.lenmode?o.outerLength=Math.round(a.w*n.len):o.outerLength=n.len,o.inputAreaStart=0,o.inputAreaLength=Math.round(o.outerLength-n.pad.l-n.pad.r);var s,l=(o.inputAreaLength-2*p.stepInset)/(n._stepCount-1),a=r+p.labelPadding;o.labelStride=Math.max(1,Math.ceil(a/l)),o.labelHeight=i,o.currentValueMaxWidth=0,o.currentValueHeight=0,o.currentValueTotalHeight=0,o.currentValueMaxLines=1,n.currentvalue.visible&&(s=f.tester.append("g"),e.each(function(t){var e=x(s,n,t.label),t=e.node()&&f.bBox(e.node())||{width:0,height:0},e=d.lineCount(e);o.currentValueMaxWidth=Math.max(o.currentValueMaxWidth,Math.ceil(t.width)),o.currentValueHeight=Math.max(o.currentValueHeight,Math.ceil(t.height)),o.currentValueMaxLines=Math.max(o.currentValueMaxLines,e)}),o.currentValueTotalHeight=o.currentValueHeight+n.currentvalue.offset,s.remove()),o.height=o.currentValueTotalHeight+p.tickOffset+n.ticklen+p.labelOffset+o.labelHeight+n.pad.t+n.pad.b,l="left",h.isRightAnchor(n)&&(o.lx-=o.outerLength,l="right"),h.isCenterAnchor(n)&&(o.lx-=o.outerLength/2,l="center"),e="top",h.isBottomAnchor(n)&&(o.ly-=o.height,e="bottom"),h.isMiddleAnchor(n)&&(o.ly-=o.height/2,e="middle"),o.outerLength=Math.ceil(o.outerLength),o.height=Math.ceil(o.height),o.lx=Math.round(o.lx),o.ly=Math.round(o.ly),e={y:n.y,b:o.height*y[e],t:o.height*m[e]},"fraction"===n.lenmode?(e.l=0,e.xl=n.x-n.len*m[l],e.r=0,e.xr=n.x+n.len*y[l]):(e.x=n.x,e.l=o.outerLength*m[l],e.r=o.outerLength*y[l]),c.autoMargin(t,v(n),e)}(i,o)}t.each(function(t){var e,n,r=u.select(this);!function(t){var e=t._dims;e.labelSteps=[];for(var n=t._stepCount,r=0;r<n;r+=e.labelStride)e.labelSteps.push({fraction:r/(n-1),step:t._visibleSteps[r]})}(t),c.manageCommandObserver(i,t,t._visibleSteps,function(t){var e=r.data()[0];e.active!==t.index&&(e._dragging||M(i,r,e,t.index,!1,!0))}),e=i,n=u.select(this),((t=t).steps[t.active]||{}).visible||(t.active=t._visibleSteps[0]._index),n.call(x,t).call(j,t).call(k,t).call(A,t).call(O,e,t).call(_,e,t),e=t._dims,f.setTranslate(n,e.lx+t.pad.l,e.ly+t.pad.t),n.call(S,t,!1),n.call(x,t)})}}},{"../../constants/alignment":748,"../../lib":776,"../../lib/svg_text_utils":799,"../../plot_api/plot_template":812,"../../plots/plots":868,"../color":646,"../drawing":668,"./constants":737,d3:629}],740:[function(t,e,n){"use strict";var r=t("./constants");e.exports={moduleType:"component",name:r.name,layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),draw:t("./draw")}},{"./attributes":736,"./constants":737,"./defaults":738,"./draw":739}],741:[function(t,e,n){"use strict";var w=t("d3"),k=t("fast-isnumeric"),T=t("../../plots/plots"),M=t("../../registry"),A=t("../../lib"),S=A.strTranslate,E=t("../drawing"),C=t("../color"),O=t("../../lib/svg_text_utils"),j=t("../../constants/interactions"),P=t("../../constants/alignment").OPPOSITE_SIDE,N=/ [XY][0-9]* /;e.exports={draw:function(n,t,e){var r=e.propContainer,i=e.propName,o=e.placeholder,a=e.traceIndex,u=e.avoid||{},s=e.attributes,l=e.transform,c=e.containerGroup,f=n._fullLayout,h=1,d=!1,p=((r=r.title)&&r.text?r.text:"").trim(),g=(r=r&&r.font?r.font:{}).family,m=r.size,y=r.color;"title.text"===i?v="titleText":-1!==i.indexOf("axis")?v="axisTitleText":i.indexOf(!0)&&(v="colorbarTitleText");var v=n._context.edits[v];""===p?h=0:p.replace(N," % ")===o.replace(N," % ")&&(h=.2,d=!0,v||(p="")),e._meta?p=A.templateString(p,e._meta):f._meta&&(p=A.templateString(p,f._meta));e=p||v,r=(c=c||A.ensureSingle(f._infolayer,"g","g-"+t)).selectAll("text").data(e?[0]:[]);return r.enter().append("text"),r.text(p).attr("class",t),r.exit().remove(),e&&(r.call(b),v&&(p?r.on(".opacity",null):(d=!(h=0),r.text(o).on("mouseover.opacity",function(){w.select(this).transition().duration(j.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){w.select(this).transition().duration(j.HIDE_PLACEHOLDER).style("opacity",0)})),r.call(O.makeEditable,{gd:n}).on("edit",function(t){void 0!==a?M.call("_guiRestyle",n,i,t,a):M.call("_guiRelayout",n,i,t)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(b)}).on("input",function(t){this.text(t||" ").call(O.positionText,s.x,s.y)})),r.classed("js-placeholder",d)),c;function b(t){A.syncOrAsync([x,_],t)}function x(t){var e;return l?(e="",l.rotate&&(e+="rotate("+[l.rotate,s.x,s.y]+")"),l.offset&&(e+=S(0,l.offset))):e=null,t.attr("transform",e),t.style({"font-family":g,"font-size":w.round(m,2)+"px",fill:C.rgb(y),opacity:h*C.opacity(y),"font-weight":T.fontWeight}).attr(s).call(O.convertToTspans,n),T.previousPromises(n)}function _(t){var e,n,r,i,o,a,s,l=w.select(t.node().parentNode);u&&u.selection&&u.side&&p&&(l.attr("transform",null),e=P[u.side],n="left"===u.side||"top"===u.side?-1:1,r=k(u.pad)?u.pad:2,i=E.bBox(l.node()),o={left:0,top:0,right:f.width,bottom:f.height},a=u.maxShift||n*(o[u.side]-i[u.side]),((s=0)<(s=a<0?a:(t=u.offsetLeft||0,o=u.offsetTop||0,i.left-=t,i.right-=t,i.top-=o,i.bottom-=o,u.selection.each(function(){var t=E.bBox(this);A.bBoxIntersect(i,t,r)&&(s=Math.max(s,n*(t[u.side]-i[e])+r))}),Math.min(a,s)))||a<0)&&(a={left:[-s,0],right:[s,0],top:[0,-s],bottom:[0,s]}[u.side],l.attr("transform",S(a[0],a[1]))))}}}},{"../../constants/alignment":748,"../../constants/interactions":753,"../../lib":776,"../../lib/svg_text_utils":799,"../../plots/plots":868,"../../registry":877,"../color":646,"../drawing":668,d3:629,"fast-isnumeric":450}],742:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),i=t("../color/attributes"),o=t("../../lib/extend").extendFlat,a=t("../../plot_api/edit_types").overrideAll,s=t("../../plots/pad_attributes"),l=t("../../plot_api/plot_template").templatedArray,t=l("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});e.exports=a(l("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:t,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:o(s({editType:"arraydraw"}),{}),font:r({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:i.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":769,"../../plot_api/edit_types":805,"../../plot_api/plot_template":812,"../../plots/font_attributes":851,"../../plots/pad_attributes":867,"../color/attributes":645}],743:[function(t,e,n){"use strict";e.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},{}],744:[function(t,e,n){"use strict";var i=t("../../lib"),o=t("../../plots/array_container_defaults"),a=t("./attributes"),r=t("./constants").name,s=a.buttons;function l(n,r,t){function e(t,e){return i.coerce(n,r,a,t,e)}e("visible",0<o(n,r,{name:"buttons",handleItemDefaults:u}).length)&&(e("active"),e("direction"),e("type"),e("showactive"),e("x"),e("y"),i.noneOrAll(n,r,["x","y"]),e("xanchor"),e("yanchor"),e("pad.t"),e("pad.r"),e("pad.b"),e("pad.l"),i.coerceFont(e,"font",t.font),e("bgcolor",t.paper_bgcolor),e("bordercolor"),e("borderwidth"))}function u(n,r){function t(t,e){return i.coerce(n,r,s,t,e)}t("visible","skip"===n.method||Array.isArray(n.args))&&(t("method"),t("args"),t("args2"),t("label"),t("execute"))}e.exports=function(t,e){o(t,e,{name:r,handleItemDefaults:l})}},{"../../lib":776,"../../plots/array_container_defaults":818,"./attributes":742,"./constants":743}],745:[function(t,e,n){"use strict";var p=t("d3"),g=t("../../plots/plots"),o=t("../color"),c=t("../drawing"),m=t("../../lib"),f=t("../../lib/svg_text_utils"),l=t("../../plot_api/plot_template").arrayEditor,h=t("../../constants/alignment").LINE_SPACING,y=t("./constants"),d=t("./scrollbox");function v(t){return t._index}function b(t,e){return+t.attr(y.menuIndexAttrName)===e._index}function x(t,e,n,r,i,o,a,s){e.active=a,l(t.layout,y.name,e).applyUpdate("active",a),"buttons"===e.type?w(t,r,null,null,e):"dropdown"===e.type&&(i.attr(y.menuIndexAttrName,"-1"),_(t,r,i,o,e),s||w(t,r,i,o,e))}function _(t,e,n,r,i){var o=m.ensureSingle(e,"g",y.headerClassName,function(t){t.style("pointer-events","all")}),a=i._dims,s=i.active,l=i.buttons[s]||y.blankHeaderOpts,u={y:i.pad.t,yPad:0,x:i.pad.l,xPad:0,index:0},s={width:a.headerWidth,height:a.headerHeight};o.call(k,i,l,t).call(E,i,u,s),m.ensureSingle(e,"text",y.headerArrowClassName,function(t){t.attr("text-anchor","end").call(c.font,i.font).text(y.arrowSymbol[i.direction])}).attr({x:a.headerWidth-y.arrowOffsetX+i.pad.l,y:a.headerHeight/2+y.textOffsetY+i.pad.t}),o.on("click",function(){n.call(C,String(b(n,i)?-1:i._index)),w(t,e,n,r,i)}),o.on("mouseover",function(){o.call(M)}),o.on("mouseout",function(){o.call(A,i)}),c.setTranslate(e,a.lx,a.ly)}function w(r,i,o,a,l){o||(o=i).attr("pointer-events","all");var t=-1!=+o.attr(y.menuIndexAttrName)||"buttons"===l.type?l.buttons:[],e="dropdown"===l.type?y.dropdownButtonClassName:y.buttonClassName,s=o.selectAll("g."+e).data(m.filterVisible(t)),n=s.enter().append("g").classed(e,!0),u=s.exit();"dropdown"===l.type?(n.attr("opacity","0").transition().attr("opacity","1"),u.transition().attr("opacity","0").remove()):u.remove();t=0,e=0,n=l._dims,u=-1!==["up","down"].indexOf(l.direction);"dropdown"===l.type&&(u?e=n.headerHeight+y.gapButtonHeader:t=n.headerWidth+y.gapButtonHeader),"dropdown"===l.type&&"up"===l.direction&&(e=-y.gapButtonHeader+y.gapButton-n.openHeight),"dropdown"===l.type&&"left"===l.direction&&(t=-y.gapButtonHeader+y.gapButton-n.openWidth);var c,f,h,d={x:n.lx+t+l.pad.l,y:n.ly+e+l.pad.t,yPad:y.gapButton,xPad:y.gapButton,index:0},e={l:d.x+l.borderwidth,t:d.y+l.borderwidth};s.each(function(t,e){var n=p.select(this);n.call(k,l,t,r).call(E,l,d),n.on("click",function(){p.event.defaultPrevented||(t.execute&&(t.args2&&l.active===e?(x(r,l,0,i,o,a,-1),g.executeAPICommand(r,t.method,t.args2)):(x(r,l,0,i,o,a,e),g.executeAPICommand(r,t.method,t.args))),r.emit("plotly_buttonclicked",{menu:l,button:t,active:l.active}))}),n.on("mouseover",function(){n.call(M)}),n.on("mouseout",function(){n.call(A,l),s.call(T,l)})}),s.call(T,l),u?(e.w=Math.max(n.openWidth,n.headerWidth),e.h=d.y-e.t):(e.w=d.x-e.l,e.h=Math.max(n.openHeight,n.headerHeight)),e.direction=l.direction,a&&(s.size()?function(t,e){var n,r,i,o="up"===(o=l.direction)||"down"===o,a=l._dims,s=l.active;if(o)for(i=r=0;i<s;i++)r+=a.heights[i]+y.gapButton;else for(i=n=0;i<s;i++)n+=a.widths[i]+y.gapButton;t.enable(e,n,r),t.hbar&&t.hbar.attr("opacity","0").transition().attr("opacity","1"),t.vbar&&t.vbar.attr("opacity","0").transition().attr("opacity","1")}(a,e):(f=!!(c=a).hbar,h=!!c.vbar,f&&c.hbar.transition().attr("opacity","0").each("end",function(){f=!1,h||c.disable()}),h&&c.vbar.transition().attr("opacity","0").each("end",function(){h=!1,f||c.disable()})))}function k(t,e,n,r){t.call(i,e).call(a,e,n,r)}function i(t,e){m.ensureSingle(t,"rect",y.itemRectClassName,function(t){t.attr({rx:y.rx,ry:y.ry,"shape-rendering":"crispEdges"})}).call(o.stroke,e.bordercolor).call(o.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px")}function a(t,e,n,r){var i=m.ensureSingle(t,"text",y.itemTextClassName,function(t){t.attr({"text-anchor":"start","data-notex":1})}),t=n.label,n=r._fullLayout._meta;n&&(t=m.templateString(t,n)),i.call(c.font,e.font).text(t).call(f.convertToTspans,r)}function T(t,r){var i=r.active;t.each(function(t,e){var n=p.select(this);e===i&&r.showactive&&n.select("rect."+y.itemRectClassName).call(o.fill,y.activeColor)})}function M(t){t.select("rect."+y.itemRectClassName).call(o.fill,y.hoverColor)}function A(t,e){t.select("rect."+y.itemRectClassName).call(o.fill,e.bgcolor)}function S(t){return y.autoMarginIdRoot+t._index}function E(t,e,n,r){r=r||{};var i=t.select("."+y.itemRectClassName),o=t.select("."+y.itemTextClassName),a=e.borderwidth,s=n.index,l=e._dims;c.setTranslate(t,a+n.x,a+n.y);t=-1!==["up","down"].indexOf(e.direction),a=r.height||(t?l.heights[s]:l.height1);i.attr({x:0,y:0,width:r.width||(t?l.width1:l.widths[s]),height:a});e=e.font.size*h,e=(f.lineCount(o)-1)*e/2;f.positionText(o,y.textOffsetX,a/2-e+y.textOffsetY),t?n.y+=l.heights[s]+n.yPad:n.x+=l.widths[s]+n.xPad,n.index++}function C(t,e){t.attr(y.menuIndexAttrName,e||"-1").selectAll("g."+y.dropdownButtonClassName).remove()}e.exports=function(i){var t=i._fullLayout,e=m.filterVisible(t[y.name]);function n(t){g.autoMargin(i,S(t))}var r=t._menulayer.selectAll("g."+y.containerClassName).data(0<e.length?[0]:[]);if(r.enter().append("g").classed(y.containerClassName,!0).style("cursor","pointer"),r.exit().each(function(){p.select(this).selectAll("g."+y.headerGroupClassName).each(n)}).remove(),0!==e.length){var o=r.selectAll("g."+y.headerGroupClassName).data(e,v);o.enter().append("g").classed(y.headerGroupClassName,!0);for(var a=m.ensureSingle(r,"g",y.dropdownButtonGroupClassName,function(t){t.style("pointer-events","all")}),s=0;s<e.length;s++){var l=e[s];!function(i,o){var a=o._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},t=c.tester.selectAll("g."+y.dropdownButtonClassName).data(m.filterVisible(o.buttons));t.enter().append("g").classed(y.dropdownButtonClassName,!0);var s=-1!==["up","down"].indexOf(o.direction);t.each(function(t,e){var n=p.select(this);n.call(k,o,t,i);var r=n.select("."+y.itemTextClassName),t=r.node()&&c.bBox(r.node()).width,n=Math.max(t+y.textPadX,y.minWidth),t=o.font.size*h,r=f.lineCount(r),r=Math.max(t*r,y.minHeight)+y.textOffsetY,r=Math.ceil(r),n=Math.ceil(n);a.widths[e]=n,a.heights[e]=r,a.height1=Math.max(a.height1,r),a.width1=Math.max(a.width1,n),s?(a.totalWidth=Math.max(a.totalWidth,n),a.openWidth=a.totalWidth,a.totalHeight+=r+y.gapButton,a.openHeight+=r+y.gapButton):(a.totalWidth+=n+y.gapButton,a.openWidth+=n+y.gapButton,a.totalHeight=Math.max(a.totalHeight,r),a.openHeight=a.totalHeight)}),s?a.totalHeight-=y.gapButton:a.totalWidth-=y.gapButton,a.headerWidth=a.width1+y.arrowPadX,a.headerHeight=a.height1,"dropdown"===o.type&&(s?(a.width1+=y.arrowPadX,a.totalHeight=a.height1):a.totalWidth=a.width1,a.totalWidth+=y.arrowPadX),t.remove();var e=a.totalWidth+o.pad.l+o.pad.r,n=a.totalHeight+o.pad.t+o.pad.b,r=i._fullLayout._size;a.lx=r.l+r.w*o.x,a.ly=r.t+r.h*(1-o.y),t="left",m.isRightAnchor(o)&&(a.lx-=e,t="right"),m.isCenterAnchor(o)&&(a.lx-=e/2,t="center"),r="top",m.isBottomAnchor(o)&&(a.ly-=n,r="bottom"),m.isMiddleAnchor(o)&&(a.ly-=n/2,r="middle"),a.totalWidth=Math.ceil(a.totalWidth),a.totalHeight=Math.ceil(a.totalHeight),a.lx=Math.round(a.lx),a.ly=Math.round(a.ly),g.autoMargin(i,S(o),{x:o.x,y:o.y,l:e*({right:1,center:.5}[t]||0),r:e*({left:1,center:.5}[t]||0),b:n*({top:1,middle:.5}[r]||0),t:n*({bottom:1,middle:.5}[r]||0)})}(i,l)}var t="updatemenus"+t._uid,u=new d(i,a,t);o.enter().size()&&(a.node().parentNode.appendChild(a.node()),a.call(C)),o.exit().each(function(t){a.call(C),n(t)}).remove(),o.each(function(e){var n=p.select(this),r="dropdown"===e.type?a:null;g.manageCommandObserver(i,e,e.buttons,function(t){x(i,e,e.buttons[t.index],n,r,u,t.index,!0)}),"dropdown"===e.type?(_(i,n,a,u,e),b(a,e)&&w(i,n,a,u,e)):w(i,n,null,null,e)})}}},{"../../constants/alignment":748,"../../lib":776,"../../lib/svg_text_utils":799,"../../plot_api/plot_template":812,"../../plots/plots":868,"../color":646,"../drawing":668,"./constants":743,"./scrollbox":747,d3:629}],746:[function(t,e,n){arguments[4][740][0].apply(n,arguments)},{"./attributes":742,"./constants":743,"./defaults":744,"./draw":745,dup:740}],747:[function(t,e,n){"use strict";e.exports=k;var x=t("d3"),_=t("../color"),w=t("../drawing"),i=t("../../lib");function k(t,e,n){this.gd=t,this.container=e,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}k.barWidth=2,k.barLength=20,k.barRadius=2,k.barPad=1,k.barColor="#808BA4",k.prototype.enable=function(t,e,n){var r=this.gd._fullLayout,i=r.width,o=r.height;this.position=t;var a=this.position.l,s=this.position.w,l=this.position.t,u=this.position.h,c=this.position.direction,f="down"===c,h="left"===c,d="up"===c,p=s,g=u;f||h||"right"===c||d||(this.position.direction="down",f=!0),f||d?(y=(m=a)+p,g=f?(v=l,(b=Math.min(v+g,o))-v):(b=l+g)-(v=Math.max(b-g,0))):(b=(v=l)+g,p=h?(y=a+p)-(m=Math.max(y-p,0)):(m=a,(y=Math.min(m+p,i))-m)),this._box={l:m,t:v,w:p,h:g};t=p<s,c=k.barLength+2*k.barPad,d=k.barWidth+2*k.barPad,f=a,h=l+u;o<h+d&&(h=o-d);o=this.container.selectAll("rect.scrollbar-horizontal").data(t?[0]:[]);o.exit().on(".drag",null).remove(),o.enter().append("rect").classed("scrollbar-horizontal",!0).call(_.fill,k.barColor),t?(this.hbar=o.attr({rx:k.barRadius,ry:k.barRadius,x:f,y:h,width:c,height:d}),this._hbarXMin=f+c/2,this._hbarTranslateMax=p-c):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);o=g<u,h=k.barWidth+2*k.barPad,f=k.barLength+2*k.barPad,p=a+s,c=l;i<p+h&&(p=i-h);i=this.container.selectAll("rect.scrollbar-vertical").data(o?[0]:[]);i.exit().on(".drag",null).remove(),i.enter().append("rect").classed("scrollbar-vertical",!0).call(_.fill,k.barColor),o?(this.vbar=i.attr({rx:k.barRadius,ry:k.barRadius,x:p,y:c,width:h,height:f}),this._vbarYMin=c+f/2,this._vbarTranslateMax=g-f):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var f=this.id,m=m-.5,y=o?y+h+.5:y+.5,v=v-.5,b=t?b+d+.5:b+.5,r=r._topdefs.selectAll("#"+f).data(t||o?[0]:[]);r.exit().remove(),r.enter().append("clipPath").attr("id",f).append("rect"),t||o?(this._clipRect=r.select("rect").attr({x:Math.floor(m),y:Math.floor(v),width:Math.ceil(y)-Math.floor(m),height:Math.ceil(b)-Math.floor(v)}),this.container.call(w.setClipUrl,f,this.gd),this.bg.attr({x:a,y:l,width:s,height:u})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(w.setClipUrl,null),delete this._clipRect),(t||o)&&(u=x.behavior.drag().on("dragstart",function(){x.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this)),this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(u),u=x.behavior.drag().on("dragstart",function(){x.event.sourceEvent.preventDefault(),x.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this)),t&&this.hbar.on(".drag",null).call(u),o&&this.vbar.on(".drag",null).call(u)),this.setTranslate(e,n)},k.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(w.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},k.prototype._onBoxDrag=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t-=x.event.dx),this.vbar&&(e-=x.event.dy),this.setTranslate(t,e)},k.prototype._onBoxWheel=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t+=x.event.deltaY),this.vbar&&(e+=x.event.deltaY),this.setTranslate(t,e)},k.prototype._onBarDrag=function(){var t,e,n=this.translateX,r=this.translateY;this.hbar&&(t=(e=n+this._hbarXMin)+this._hbarTranslateMax,n=(i.constrain(x.event.x,e,t)-e)/(t-e)*(this.position.w-this._box.w)),this.vbar&&(e=(t=r+this._vbarYMin)+this._vbarTranslateMax,r=(i.constrain(x.event.y,t,e)-t)/(e-t)*(this.position.h-this._box.h)),this.setTranslate(n,r)},k.prototype.setTranslate=function(t,e){var n=this.position.w-this._box.w,r=this.position.h-this._box.h;t=i.constrain(t||0,0,n),e=i.constrain(e||0,0,r),this.translateX=t,this.translateY=e,this.container.call(w.setTranslate,this._box.l-this.position.l-t,this._box.t-this.position.t-e),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+t-.5),y:Math.floor(this.position.t+e-.5)}),this.hbar&&(n=t/n,this.hbar.call(w.setTranslate,t+n*this._hbarTranslateMax,e)),this.vbar&&(r=e/r,this.vbar.call(w.setTranslate,t,e+r*this._vbarTranslateMax))}},{"../../lib":776,"../color":646,"../drawing":668,d3:629}],748:[function(t,e,n){"use strict";e.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],749:[function(t,e,n){"use strict";e.exports={axisRefDescription:function(t,e,n){return["If set to a",t,"axis id (e.g. *"+t+"* or","*"+t+"2*), the `"+t+"` position refers to a",t,"coordinate. If set to *paper*, the `"+t+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+n+"). If set to a",t,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+t+"2 domain* refers to the domain of the second",t," axis and a",t,"position of 0.5 refers to the","point between the",e,"and the",n,"of the domain of the","second",t,"axis."].join(" ")}}},{}],750:[function(t,e,n){"use strict";e.exports={FORMAT_LINK:"https://github.com/d3/d3-3.x-api-reference/blob/master/Formatting.md#d3_format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format#locale_format"}},{}],751:[function(t,e,n){"use strict";e.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},{}],752:[function(t,e,n){"use strict";e.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},{}],753:[function(t,e,n){"use strict";e.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],754:[function(t,e,n){"use strict";e.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE/1e4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"−"}},{}],755:[function(t,e,n){"use strict";n.xmlns="http://www.w3.org/2000/xmlns/",n.svg="http://www.w3.org/2000/svg",n.xlink="http://www.w3.org/1999/xlink",n.svgAttrs={xmlns:n.svg,"xmlns:xlink":n.xlink}},{}],756:[function(t,e,n){"use strict";n.version=t("./version").version,t("es6-promise").polyfill(),t("../build/plotcss"),t("./fonts/mathjax_config")();for(var r=t("./registry"),i=n.register=r.register,o=t("./plot_api"),a=Object.keys(o),s=0;s<a.length;s++){var l=a[s];"_"!==l.charAt(0)&&(n[l]=o[l]),i({moduleType:"apiMethod",name:l,fn:o[l]})}i(t("./traces/scatter")),i([t("./components/legend"),t("./components/fx"),t("./components/annotations"),t("./components/annotations3d"),t("./components/shapes"),t("./components/images"),t("./components/updatemenus"),t("./components/sliders"),t("./components/rangeslider"),t("./components/rangeselector"),t("./components/grid"),t("./components/errorbars"),t("./components/colorscale"),t("./components/colorbar")]),i([t("./locale-en"),t("./locale-en-us")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(i(window.PlotlyLocales),delete window.PlotlyLocales),n.Icons=t("./fonts/ploticon"),n.Plots=t("./plots/plots"),n.Fx=t("./components/fx"),n.Snapshot=t("./snapshot"),n.PlotSchema=t("./plot_api/plot_schema"),n.Queue=t("./lib/queue"),n.d3=t("d3")},{"../build/plotcss":619,"./components/annotations":644,"./components/annotations3d":634,"./components/colorbar":652,"./components/colorscale":658,"./components/errorbars":674,"./components/fx":686,"./components/grid":690,"./components/images":695,"./components/legend":703,"./components/rangeselector":714,"./components/rangeslider":721,"./components/shapes":735,"./components/sliders":740,"./components/updatemenus":746,"./fonts/mathjax_config":757,"./fonts/ploticon":758,"./lib/queue":790,"./locale-en":803,"./locale-en-us":802,"./plot_api":807,"./plot_api/plot_schema":811,"./plots/plots":868,"./registry":877,"./snapshot":882,"./traces/scatter":941,"./version":959,d3:629,"es6-promise":447}],757:[function(t,e,n){"use strict";e.exports=function(){"undefined"!=typeof MathJax&&"local"!==(window.PlotlyConfig||{}).MathJaxConfig&&(MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured())}},{}],758:[function(t,e,n){"use strict";e.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},{}],759:[function(t,e,n){"use strict";n.isLeftAnchor=function(t){return"left"===t.xanchor||"auto"===t.xanchor&&t.x<=1/3},n.isCenterAnchor=function(t){return"center"===t.xanchor||"auto"===t.xanchor&&t.x>1/3&&t.x<2/3},n.isRightAnchor=function(t){return"right"===t.xanchor||"auto"===t.xanchor&&t.x>=2/3},n.isTopAnchor=function(t){return"top"===t.yanchor||"auto"===t.yanchor&&t.y>=2/3},n.isMiddleAnchor=function(t){return"middle"===t.yanchor||"auto"===t.yanchor&&t.y>1/3&&t.y<2/3},n.isBottomAnchor=function(t){return"bottom"===t.yanchor||"auto"===t.yanchor&&t.y<=1/3}},{}],760:[function(t,e,n){"use strict";var t=t("./mod"),i=t.mod,r=t.modHalf,g=Math.PI,m=2*g;function y(t){return Math.abs(t[1]-t[0])>m-1e-14}function o(t,e){return r(e-t,m)}function a(t,e){if(y(e))return!0;var n=e[0]<e[1]?(r=e[0],e[1]):(r=e[1],e[0]),r=i(r,m);(n=i(n,m))<r&&(n+=m);e=i(t,m),t=e+m;return r<=e&&e<=n||r<=t&&t<=n}function s(t,e,n,r,i,o,a){i=i||0,o=o||0;var s,l,u,c=y([n,r]);function f(t,e){return[t*Math.cos(e)+i,o-t*Math.sin(e)]}n=c?(s=0,l=g,m):n<r?(s=n,r):(s=r,n),t=t<e?(u=t,e):(u=e,t);var h,d=Math.abs(n-s)<=g?0:1;function p(t,e,n){return"A"+[t,t]+" "+[0,d,n]+" "+f(t,e)}return c?h=null===u?"M"+f(t,s)+p(t,l,0)+p(t,n,0)+"Z":"M"+f(u,s)+p(u,l,0)+p(u,n,0)+"ZM"+f(t,s)+p(t,l,1)+p(t,n,1)+"Z":null===u?(h="M"+f(t,s)+p(t,n,0),a&&(h+="L0,0Z")):h="M"+f(u,s)+"L"+f(t,s)+p(t,n,0)+"L"+f(u,n)+p(u,s,1)+"Z",h}e.exports={deg2rad:function(t){return t/180*g},rad2deg:function(t){return t/g*180},angleDelta:o,angleDist:function(t,e){return Math.abs(o(t,e))},isFullCircle:y,isAngleInsideSector:a,isPtInsideSector:function(t,e,n,r){if(!a(e,r))return!1;var i,n=n[0]<n[1]?(i=n[0],n[1]):(i=n[1],n[0]);return i<=t&&t<=n},pathArc:function(t,e,n,r,i){return s(null,t,e,n,r,i,0)},pathSector:function(t,e,n,r,i){return s(null,t,e,n,r,i,1)},pathAnnulus:function(t,e,n,r,i,o){return s(t,e,n,r,i,o,1)}}},{"./mod":783}],761:[function(t,e,n){"use strict";var f=Array.isArray,r="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer:{isView:function(){return!1}},i="undefined"==typeof DataView?function(){}:DataView;function o(t){return r.isView(t)&&!(t instanceof i)}function a(t){return f(t)||o(t)}function s(t,e,n){if(a(t)){if(a(t[0])){for(var r=n,i=0;i<t.length;i++)r=e(r,t[i].length);return r}return t.length}return 0}n.isTypedArray=o,n.isArrayOrTypedArray=a,n.isArray1D=function(t){return!a(t[0])},n.ensureArray=function(t,e){return f(t)||(t=[]),t.length=e,t},n.concat=function(){for(var t,e,n,r,i,o,a,s=[],l=!0,u=0,c=0;c<arguments.length;c++)(i=(n=arguments[c]).length)&&(e?s.push(n):(e=n,r=i),f(n)?t=!1:(l=!1,u?t!==n.constructor&&(t=!1):t=n.constructor),u+=i);if(!u)return[];if(!s.length)return e;if(l)return e.concat.apply(e,s);if(t){for((o=new t(u)).set(e),c=0;c<s.length;c++)n=s[c],o.set(n,r),r+=n.length;return o}for(o=new Array(u),a=0;a<e.length;a++)o[a]=e[a];for(c=0;c<s.length;c++){for(n=s[c],a=0;a<n.length;a++)o[r+a]=n[a];r+=a}return o},n.maxRowLength=function(t){return s(t,Math.max,0)},n.minRowLength=function(t){return s(t,Math.min,1/0)}},{}],762:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("../constants/numerical").BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;e.exports=function(t){return"string"==typeof t&&(t=t.replace(o,"")),r(t)?Number(t):i}},{"../constants/numerical":754,"fast-isnumeric":450}],763:[function(t,e,n){"use strict";e.exports=function(t){t=t._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(t){t.regl&&t.regl.clear({color:!0,depth:!0})})}},{}],764:[function(t,e,n){"use strict";e.exports=function(t){t._responsiveChartHandler&&(window.removeEventListener("resize",t._responsiveChartHandler),delete t._responsiveChartHandler)}},{}],765:[function(t,e,y){"use strict";var i=t("fast-isnumeric"),r=t("tinycolor2"),a=t("../plots/attributes"),o=t("../components/colorscale/scales"),s=t("../constants/interactions").DESELECTDIM,l=t("./nested_property"),u=t("./regex").counter,c=t("./mod").modHalf,f=t("./array").isArrayOrTypedArray;function h(t,e){var n=y.valObjectMeta[e.valType];if(e.arrayOk&&f(t))return!0;if(n.validateFunction)return n.validateFunction(t,e);var r={},i=r,o={set:function(t){i=t}};return n.coerceFunction(t,o,r,e),i!==r}y.valObjectMeta={data_array:{coerceFunction:function(t,e,n){f(t)?e.set(t):void 0!==n&&e.set(n)}},enumerated:{coerceFunction:function(t,e,n,r){r.coerceNumber&&(t=+t),-1===r.values.indexOf(t)?e.set(n):e.set(t)},validateFunction:function(t,e){e.coerceNumber&&(t=+t);for(var n=e.values,r=0;r<n.length;r++){var i=String(n[r]);if("/"===i.charAt(0)&&"/"===i.charAt(i.length-1)){if(new RegExp(i.substr(1,i.length-2)).test(t))return!0}else if(t===n[r])return!0}return!1}},boolean:{coerceFunction:function(t,e,n){!0===t||!1===t?e.set(t):e.set(n)}},number:{coerceFunction:function(t,e,n,r){!i(t)||void 0!==r.min&&t<r.min||void 0!==r.max&&t>r.max?e.set(n):e.set(+t)}},integer:{coerceFunction:function(t,e,n,r){t%1||!i(t)||void 0!==r.min&&t<r.min||void 0!==r.max&&t>r.max?e.set(n):e.set(+t)}},string:{coerceFunction:function(t,e,n,r){var i;"string"!=typeof t?(i="number"==typeof t,!0!==r.strict&&i?e.set(String(t)):e.set(n)):r.noBlank&&!t?e.set(n):e.set(t)}},color:{coerceFunction:function(t,e,n){r(t).isValid()?e.set(t):e.set(n)}},colorlist:{coerceFunction:function(t,e,n){Array.isArray(t)&&t.length&&t.every(function(t){return r(t).isValid()})?e.set(t):e.set(n)}},colorscale:{coerceFunction:function(t,e,n){e.set(o.get(t,n))}},angle:{coerceFunction:function(t,e,n){"auto"===t?e.set("auto"):i(t)?e.set(c(+t,360)):e.set(n)}},subplotid:{coerceFunction:function(t,e,n,r){r=r.regex||u(n);"string"==typeof t&&r.test(t)?e.set(t):e.set(n)},validateFunction:function(t,e){e=e.dflt;return t===e||"string"==typeof t&&!!u(e).test(t)}},flaglist:{coerceFunction:function(t,e,n,r){if("string"==typeof t)if(-1===(r.extras||[]).indexOf(t)){for(var i=t.split("+"),o=0;o<i.length;){var a=i[o];-1===r.flags.indexOf(a)||i.indexOf(a)<o?i.splice(o,1):o++}i.length?e.set(i.join("+")):e.set(n)}else e.set(t);else e.set(n)}},any:{coerceFunction:function(t,e,n){void 0===t?e.set(n):e.set(t)}},info_array:{coerceFunction:function(t,e,n,r){function i(t,e,n){var r,i={set:function(t){r=t}};return void 0===n&&(n=e.dflt),y.valObjectMeta[e.valType].coerceFunction(t,i,n,e),r}var o=2===r.dimensions||"1-2"===r.dimensions&&Array.isArray(t)&&Array.isArray(t[0]);if(Array.isArray(t)){var a,s,l,u,c,f,h=r.items,d=[],p=Array.isArray(h),r=p&&o&&Array.isArray(h[0]),g=o&&p&&!r,m=(p&&!g?h:t).length;if(n=Array.isArray(n)?n:[],o)for(a=0;a<m;a++)for(d[a]=[],l=Array.isArray(t[a])?t[a]:[],c=(g?h:p?h[a]:l).length,s=0;s<c;s++)u=g?h[s]:p?h[a][s]:h,void 0!==(f=i(l[s],u,(n[a]||[])[s]))&&(d[a][s]=f);else for(a=0;a<m;a++)void 0!==(f=i(t[a],p?h[a]:h,n[a]))&&(d[a]=f);e.set(d)}else e.set(n)},validateFunction:function(t,e){if(!Array.isArray(t))return!1;var n=e.items,r=Array.isArray(n),i=2===e.dimensions;if(!e.freeLength&&t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(i){if(!Array.isArray(t[o])||!e.freeLength&&t[o].length!==n[o].length)return!1;for(var a=0;a<t[o].length;a++)if(!h(t[o][a],r?n[o][a]:n))return!1}else if(!h(t[o],r?n[o]:n))return!1;return!0}}},y.coerce=function(t,e,n,r,i){var o=l(n,r).get(),a=l(t,r),s=l(e,r),n=a.get(),t=e._template;if(void 0===n&&t&&(n=l(t,r).get(),t=0),void 0===i&&(i=o.dflt),o.arrayOk&&f(n))return s.set(n),n;a=y.valObjectMeta[o.valType].coerceFunction;a(n,s,i,o);e=s.get();return t&&e===i&&!h(n,o)&&(a(n=l(t,r).get(),s,i,o),e=s.get()),e},y.coerce2=function(t,e,n,r,i){var o=l(t,r),i=y.coerce(t,e,n,r,i),o=o.get();return null!=o&&i},y.coerceFont=function(t,e,n){var r={};return n=n||{},r.family=t(e+".family",n.family),r.size=t(e+".size",n.size),r.color=t(e+".color",n.color),r},y.coerceHoverinfo=function(t,e,n){var r,i=e._module.attributes,o=i.hoverinfo?i:a,i=o.hoverinfo;return 1===n._dataLength&&((r="all"===i.dflt?i.flags.slice():i.dflt.split("+")).splice(r.indexOf("name"),1),r=r.join("+")),y.coerce(t,e,o,"hoverinfo",r)},y.coerceSelectionMarkerOpacity=function(t,e){var n,r,i;!t.marker||void 0!==(n=t.marker.opacity)&&(f(n)||t.selected||t.unselected||(i=s*(r=n)),e("selected.marker.opacity",r),e("unselected.marker.opacity",i))},y.validate=h},{"../components/colorscale/scales":661,"../constants/interactions":753,"../plots/attributes":819,"./array":761,"./mod":783,"./nested_property":784,"./regex":791,"fast-isnumeric":450,tinycolor2:1005}],766:[function(t,e,h){"use strict";var d,p,n=t("d3-time-format").timeFormat,c=t("fast-isnumeric"),s=t("./loggers"),g=t("./mod").mod,r=t("../constants/numerical"),m=r.BADNUM,y=r.ONEDAY,v=r.ONEHOUR,b=r.ONEMIN,x=r.ONESEC,_=r.EPOCHJD,w=t("../registry"),f=t("d3-time-format").utcFormat,k=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,T=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,M=(new Date).getFullYear()-70;function A(t){return t&&w.componentsRegistry.calendars&&"string"==typeof t&&"gregorian"!==t}function l(t,e){return String(t+Math.pow(10,e)).substr(1)}h.dateTick0=function(t,e){var n,r=(r=!!e,A(n=t)?(r?w.getComponentMethod("calendars","CANONICAL_SUNDAY"):w.getComponentMethod("calendars","CANONICAL_TICK"))[n]:r?"2000-01-02":"2000-01-01");if(e<2)return r;var r=h.dateTime2ms(r,t);return r+=y*(e-1),h.ms2DateTime(r,0,t)},h.dfltRange=function(t){return A(t)?w.getComponentMethod("calendars","DFLTRANGE")[t]:["2000-01-01","2001-01-01"]},h.isJSDate=function(t){return"object"==typeof t&&null!==t&&"function"==typeof t.getTime},h.dateTime2ms=function(t,e){if(h.isJSDate(t)){var n=t.getTimezoneOffset()*b,r=(t.getUTCMinutes()-t.getMinutes())*b+(t.getUTCSeconds()-t.getSeconds())*x+(t.getUTCMilliseconds()-t.getMilliseconds());return r&&(n=n-(i=3*b)/2+g(r-n+i/2,i)),t=Number(t)-n,d<=t&&t<=p?t:m}if("string"!=typeof t&&"number"!=typeof t)return m;t=String(t);var r=A(e),i=t.charAt(0);!r||"G"!==i&&"g"!==i||(t=t.substr(1),e="");var o=r&&"chinese"===e.substr(0,7),n=t.match(o?T:k);if(!n)return m;var a=n[1],s=n[3]||"1",l=Number(n[5]||1),i=Number(n[7]||0),t=Number(n[9]||0),n=Number(n[11]||0);if(r){if(2===a.length)return m;a=Number(a);try{var u,c,f=w.getComponentMethod("calendars","getCal")(e);c=o?(u="i"===s.charAt(s.length-1),s=parseInt(s,10),f.newDate(a,f.toMonthIndex(a,s,u),l)):f.newDate(a,Number(s),l)}catch(t){return m}return c?(c.toJD()-_)*y+i*v+t*b+n*x:m}a=2===a.length?(Number(a)+2e3-M)%100+M:Number(a),--s;t=new Date(Date.UTC(2e3,s,l,i,t));return t.setUTCFullYear(a),t.getUTCMonth()!==s||t.getUTCDate()!==l?m:t.getTime()+n*x},d=h.MIN_MS=h.dateTime2ms("-9999"),p=h.MAX_MS=h.dateTime2ms("9999-12-31 23:59:59.9999"),h.isDateTime=function(t,e){return h.dateTime2ms(t,e)!==m};var S=90*y,E=3*v,C=5*b;function O(t,e,n,r,i){if((e||n||r||i)&&(t+=" "+l(e,2)+":"+l(n,2),(r||i)&&(t+=":"+l(r,2),i))){for(var o=4;i%10==0;)--o,i/=10;t+="."+l(i,o)}return t}h.ms2DateTime=function(t,e,n){if("number"!=typeof t||!(d<=t&&t<=p))return m;e=e||0;var r,i,o,a,s=Math.floor(10*g(t+.05,1)),l=Math.round(t-s/10);if(A(n)){var u=Math.floor(l/y)+_,c=Math.floor(g(t,y));try{r=w.getComponentMethod("calendars","getCal")(n).fromJD(u).formatDate("yyyy-mm-dd")}catch(t){r=f("G%Y-%m-%d")(new Date(l))}if("-"===r.charAt(0))for(;r.length<11;)r="-0"+r.substr(1);else for(;r.length<10;)r="0"+r;i=e<S?Math.floor(c/v):0,o=e<S?Math.floor(c%v/b):0,a=e<E?Math.floor(c%b/x):0,c=e<C?c%x*10+s:0}else l=new Date(l),r=f("%Y-%m-%d")(l),i=e<S?l.getUTCHours():0,o=e<S?l.getUTCMinutes():0,a=e<E?l.getUTCSeconds():0,c=e<C?10*l.getUTCMilliseconds()+s:0;return O(r,i,o,a,c)},h.ms2DateTimeLocal=function(t){if(!(d+y<=t&&t<=p-y))return m;var e=Math.floor(10*g(t+.05,1)),t=new Date(Math.round(t-e/10));return O(n("%Y-%m-%d")(t),t.getHours(),t.getMinutes(),t.getSeconds(),10*t.getUTCMilliseconds()+e)},h.cleanDate=function(t,e,n){if(t===m)return e;if(h.isJSDate(t)||"number"==typeof t&&isFinite(t)){if(A(n))return s.error("JS Dates and milliseconds are incompatible with world calendars",t),e;if(!(t=h.ms2DateTimeLocal(+t))&&void 0!==e)return e}else if(!h.isDateTime(t,n))return s.error("unrecognized date",t),e;return t};var o=/%\d?f/g;function u(t,e,n,r){t=t.replace(o,function(t){t=Math.min(+t.charAt(1)||6,6);return(e/1e3%1+2).toFixed(t).substr(2).replace(/0+$/,"")||"0"});var i=new Date(Math.floor(e+.05));if(A(r))try{t=w.getComponentMethod("calendars","worldCalFmt")(t,e,r)}catch(t){return"Invalid"}return n(t)(i)}var j=[59,59.9,59.99,59.999,59.9999];h.formatDate=function(t,e,n,r,i,o){if(i=A(i)&&i,!e)if("y"===n)e=o.year;else if("m"===n)e=o.month;else{if("d"!==n)return s=n,n=g((a=t)+.05,y),n=l(Math.floor(n/v),2)+":"+l(g(Math.floor(n/b),60),2),"M"!==s&&(c(s)||(s=0),a=(100+Math.min(g(a/x,60),j[s])).toFixed(s).substr(1),0<s&&(a=a.replace(/0+$/,"").replace(/[\.]$/,"")),n+=":"+a),n+"\n"+u(o.dayMonthYear,t,r,i);e=o.dayMonth+"\n"+o.year}var a,s;return u(e,t,r,i)};var P=3*y;h.incrementMonth=function(e,t,n){n=A(n)&&n;var r=g(e,y);if(e=Math.round(e-r),n)try{var i=Math.round(e/y)+_,o=w.getComponentMethod("calendars","getCal")(n),i=o.fromJD(i);return t%12?o.add(i,t,"m"):o.add(i,t/12,"y"),(i.toJD()-_)*y+r}catch(t){s.error("invalid ms "+e+" in calendar "+n)}var a=new Date(e+P);return a.setUTCMonth(a.getUTCMonth()+t)+r-P},h.findExactDates=function(t,e){for(var n,r,i=0,o=0,a=0,s=0,l=A(e)&&w.getComponentMethod("calendars","getCal")(e),u=0;u<t.length;u++)if(r=t[u],c(r)){if(!(r%y))if(l)try{1===(n=l.fromJD(r/y+_)).day()?1===n.month()?i++:o++:a++}catch(t){}else 1===(n=new Date(r)).getUTCDate()?0===n.getUTCMonth()?i++:o++:a++}else s++;a+=o+=i;e=t.length-s;return{exactYears:i/e,exactMonths:o/e,exactDays:a/e}}},{"../constants/numerical":754,"../registry":877,"./loggers":780,"./mod":783,"d3-time-format":627,"fast-isnumeric":450}],767:[function(t,e,n){"use strict";var r=t("d3"),i=t("./loggers"),o=t("./matrix"),a=t("gl-mat4");function s(t){var e=t&&t.parentNode;e&&e.removeChild(t)}function l(t,e,n){var r="plotly.js-style-"+t,t=document.getElementById(r);t||((t=document.createElement("style")).setAttribute("id",r),t.appendChild(document.createTextNode("")),document.head.appendChild(t));t=t.sheet;t.insertRule?t.insertRule(e+"{"+n+"}",0):t.addRule?t.addRule(e,n,0):i.warn("addStyleRule failed")}function u(t){t=window.getComputedStyle(t,null),t=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform");return"none"===t?null:t.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(t){return+t})}function c(t){for(var e,n=[];(e=t)&&(e instanceof Element||e instanceof HTMLElement);)n.push(t),t=t.parentNode;return n}e.exports={getGraphDiv:function(t){var e;if("string"==typeof t){if(null===(e=document.getElementById(t)))throw new Error("No DOM element with id '"+t+"' exists on the page.");return e}if(null==t)throw new Error("DOM element provided is null or undefined");return t},isPlotDiv:function(t){return(t=r.select(t)).node()instanceof HTMLElement&&t.size()&&t.classed("js-plotly-plot")},removeElement:s,addStyleRule:function(t,e){l("global",t,e)},addRelatedStyleRule:l,deleteRelatedStyleRule:function(t){t="plotly.js-style-"+t,(t=document.getElementById(t))&&s(t)},getFullTransformMatrix:function(t){var t=c(t),e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return t.forEach(function(t){t=u(t);t&&(t=o.convertCssMatrix(t),e=a.multiply(e,e,t))}),e},getElementTransformMatrix:u,getElementAndAncestors:c,equalDomRects:function(t,e){return t&&e&&t.x===e.x&&t.y===e.y&&t.top===e.top&&t.left===e.left&&t.right===e.right&&t.bottom===e.bottom}}},{"./loggers":780,"./matrix":782,d3:629,"gl-mat4":489}],768:[function(t,e,n){"use strict";var o=t("events").EventEmitter,t={init:function(n){if(n._ev instanceof o)return n;var r=new o,i=new o;return n._ev=r,n._internalEv=i,n.on=r.on.bind(r),n.once=r.once.bind(r),n.removeListener=r.removeListener.bind(r),n.removeAllListeners=r.removeAllListeners.bind(r),n._internalOn=i.on.bind(i),n._internalOnce=i.once.bind(i),n._removeInternalListener=i.removeListener.bind(i),n._removeAllInternalListeners=i.removeAllListeners.bind(i),n.emit=function(t,e){"undefined"!=typeof jQuery&&jQuery(n).trigger(t,e),r.emit(t,e),i.emit(t,e)},n},triggerHandler:function(t,e,n){var r;"undefined"!=typeof jQuery&&(r=jQuery(t).triggerHandler(e,n));var i=t._ev;if(!i)return r;var o,a=i._events[e];if(!a)return r;function s(t){return t.listener?(i.removeListener(e,t.listener),t.fired?void 0:(t.fired=!0,t.listener.apply(i,[n]))):t.apply(i,[n])}for(a=Array.isArray(a)?a:[a],o=0;o<a.length-1;o++)s(a[o]);return t=s(a[o]),void 0!==r?r:t},purge:function(t){return delete t._ev,delete t.on,delete t.once,delete t.removeListener,delete t.removeAllListeners,delete t.emit,delete t._ev,delete t._internalEv,delete t._internalOn,delete t._internalOnce,delete t._removeInternalListener,delete t._removeAllInternalListeners,t}};e.exports=t},{events:448}],769:[function(t,e,n){"use strict";var h=t("./is_plain_object.js"),d=Array.isArray;function p(t,e,n,r){var i,o,a,s,l,u=t[0],c=t.length;if(2===c&&d(u)&&d(t[1])&&0===u.length){if(function(t,e){for(var n,r=0;r<t.length;r++){if(null!==(n=t[r])&&"object"==typeof n)return!1;void 0!==n&&(e[r]=n)}return!0}(t[1],u))return u;u.splice(0,u.length)}for(var f=1;f<c;f++)for(o in i=t[f])l=u[o],a=i[o],r&&d(a)?u[o]=a:e&&a&&(h(a)||(s=d(a)))?(l=s?(s=!1,l&&d(l)?l:[]):l&&h(l)?l:{},u[o]=p([l,a],e,n,r)):void 0===a&&!n||(u[o]=a);return u}n.extendFlat=function(){return p(arguments,!1,!1,!1)},n.extendDeep=function(){return p(arguments,!0,!1,!1)},n.extendDeepAll=function(){return p(arguments,!0,!0,!1)},n.extendDeepNoArrays=function(){return p(arguments,!0,!1,!0)}},{"./is_plain_object.js":777}],770:[function(t,e,n){"use strict";e.exports=function(t){for(var e={},n=[],r=0,i=0;i<t.length;i++){var o=t[i];1!==e[o]&&(e[o]=1,n[r++]=o)}return n}},{}],771:[function(t,e,n){"use strict";function a(t){return!0===t.visible}function s(t){t=t[0].trace;return!0===t.visible&&0!==t._length}e.exports=function(t){for(var e,n=(e=t,Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace?s:a),r=[],i=0;i<t.length;i++){var o=t[i];n(o)&&r.push(o)}return r}},{}],772:[function(t,e,n){"use strict";var a,s,l,u=t("./mod").mod;function p(t,e,n,r,i,o,a,s){var l=n-t,n=i-t,a=a-i,i=r-e,r=o-e,s=s-o,o=l*s-a*i;if(0==o)return null;a=(n*s-a*r)/o,o=(n*i-l*r)/o;return o<0||1<o||a<0||1<a?null:{x:t+l*a,y:e+i*a}}function g(t,e,n,r,i){var o=r*t+i*e;if(o<0)return r*r+i*i;if(n<o){var a=r-t,o=i-e;return a*a+o*o}t=r*e-i*t;return t*t/n}n.segmentsIntersect=p,n.segmentDistance=function(t,e,n,r,i,o,a,s){if(p(t,e,n,r,i,o,a,s))return 0;var l=n-t,u=r-e,c=a-i,f=s-o,h=l*l+u*u,d=c*c+f*f,o=Math.min(g(l,u,h,i-t,o-e),g(l,u,h,a-t,s-e),g(c,f,d,t-i,e-o),g(c,f,d,n-i,r-o));return Math.sqrt(o)},n.getTextLocation=function(t,e,n,r){if(t===s&&r===l||(a={},s=t,l=r),a[n])return a[n];var i=t.getPointAtLength(u(n-r/2,e)),o=t.getPointAtLength(u(n+r/2,e)),r=Math.atan((o.y-i.y)/(o.x-i.x)),e=t.getPointAtLength(u(n,e)),r={x:(4*e.x+i.x+o.x)/6,y:(4*e.y+i.y+o.y)/6,theta:r};return a[n]=r},n.clearLocationCache=function(){s=null},n.getVisibleSegment=function(n,t,e){var r,i,o=t.left,a=t.right,s=t.top,l=t.bottom,u=0,c=n.getTotalLength(),f=c;function h(t){var e=n.getPointAtLength(t);0===t?r=e:t===c&&(i=e);t=e.x<o?o-e.x:e.x>a?e.x-a:0,e=e.y<s?s-e.y:e.y>l?e.y-l:0;return Math.sqrt(t*t+e*e)}for(var d=h(u);d;){if(f<(u+=d+e))return;d=h(u)}for(d=h(f);d;){if((f-=d+e)<u)return;d=h(f)}return{min:u,max:f,len:f-u,total:c,isClosed:0===u&&f===c&&Math.abs(r.x-i.x)<.1&&Math.abs(r.y-i.y)<.1}},n.findPointOnPath=function(t,e,n,r){for(var i,o,a,s=(r=r||{}).pathLength||t.getTotalLength(),l=r.tolerance||.001,u=r.iterationLimit||30,c=t.getPointAtLength(0)[n]>t.getPointAtLength(s)[n]?-1:1,f=0,h=0,d=s;f<u;){if(i=(h+d)/2,a=(o=t.getPointAtLength(i))[n]-e,Math.abs(a)<l)return o;0<c*a?d=i:h=i,f++}return o}},{"./mod":783}],773:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),i=t("tinycolor2"),d=t("color-normalize"),p=t("../components/colorscale"),o=t("../components/color/attributes").defaultLine,g=t("./array").isArrayOrTypedArray,m=d(o),y=1;function v(t,e){return t[3]*=e,t}function b(t){if(r(t))return m;t=d(t);return t.length?t:m}function x(t){return r(t)?t:y}e.exports={formatColor:function(t,e,n){var r,i,o=t.color,a=g(o),s=g(e),l=[],u=void 0!==p.extractOpts(t).colorscale?p.makeColorScaleFuncFromTrace(t):b,c=a?function(t,e){return void 0===t[e]?m:d(u(t[e]))}:b,f=s?function(t,e){return void 0===t[e]?y:x(t[e])}:x;if(a||s)for(var h=0;h<n;h++)r=c(o,h),i=f(e,h),l[h]=v(r,i);else l=v(d(o),e);return l},parseColorScale:function(t){var e=p.extractOpts(t),t=e.colorscale;return e.reversescale&&(t=p.flipScale(e.colorscale)),t.map(function(t){var e=t[0],t=i(t[1]).toRgb();return{index:e,rgb:[t.r,t.g,t.b,t.a]}})}}},{"../components/color/attributes":645,"../components/colorscale":658,"./array":761,"color-normalize":624,"fast-isnumeric":450,tinycolor2:1005}],774:[function(t,e,n){"use strict";e.exports=function(t){return t}},{}],775:[function(t,e,n){"use strict";e.exports=function(t,e){if(!e)return t;var n=1/Math.abs(e),r=1<n?(n*t+n*e)/n:t+e,n=String(r).length;return 16<n&&(e=String(e).length,String(t).length+e<=n&&(-1===(n=parseFloat(r).toPrecision(12)).indexOf("e+")&&(r=+n))),r}},{}],776:[function(t,e,n){"use strict";var h=t("d3"),d=t("d3-time-format").utcFormat,r=t("fast-isnumeric"),i=t("../constants/numerical"),o=i.FP_SAFE,a=i.BADNUM,p=e.exports={};p.nestedProperty=t("./nested_property"),p.keyedContainer=t("./keyed_container"),p.relativeAttr=t("./relative_attr"),p.isPlainObject=t("./is_plain_object"),p.toLogRange=t("./to_log_range"),p.relinkPrivateKeys=t("./relink_private");e=t("./array");p.isTypedArray=e.isTypedArray,p.isArrayOrTypedArray=e.isArrayOrTypedArray,p.isArray1D=e.isArray1D,p.ensureArray=e.ensureArray,p.concat=e.concat,p.maxRowLength=e.maxRowLength,p.minRowLength=e.minRowLength;e=t("./mod");p.mod=e.mod,p.modHalf=e.modHalf;e=t("./coerce");p.valObjectMeta=e.valObjectMeta,p.coerce=e.coerce,p.coerce2=e.coerce2,p.coerceFont=e.coerceFont,p.coerceHoverinfo=e.coerceHoverinfo,p.coerceSelectionMarkerOpacity=e.coerceSelectionMarkerOpacity,p.validate=e.validate;e=t("./dates");p.dateTime2ms=e.dateTime2ms,p.isDateTime=e.isDateTime,p.ms2DateTime=e.ms2DateTime,p.ms2DateTimeLocal=e.ms2DateTimeLocal,p.cleanDate=e.cleanDate,p.isJSDate=e.isJSDate,p.formatDate=e.formatDate,p.incrementMonth=e.incrementMonth,p.dateTick0=e.dateTick0,p.dfltRange=e.dfltRange,p.findExactDates=e.findExactDates,p.MIN_MS=e.MIN_MS,p.MAX_MS=e.MAX_MS;e=t("./search");p.findBin=e.findBin,p.sorterAsc=e.sorterAsc,p.sorterDes=e.sorterDes,p.distinctVals=e.distinctVals,p.roundUp=e.roundUp,p.sort=e.sort,p.findIndexOfMin=e.findIndexOfMin;e=t("./stats");p.aggNums=e.aggNums,p.len=e.len,p.mean=e.mean,p.median=e.median,p.midRange=e.midRange,p.variance=e.variance,p.stdev=e.stdev,p.interp=e.interp;e=t("./matrix");p.init2dArray=e.init2dArray,p.transposeRagged=e.transposeRagged,p.dot=e.dot,p.translationMatrix=e.translationMatrix,p.rotationMatrix=e.rotationMatrix,p.rotationXYMatrix=e.rotationXYMatrix,p.apply3DTransform=e.apply3DTransform,p.apply2DTransform=e.apply2DTransform,p.apply2DTransform2=e.apply2DTransform2,p.convertCssMatrix=e.convertCssMatrix,p.inverseTransformMatrix=e.inverseTransformMatrix;e=t("./angles");p.deg2rad=e.deg2rad,p.rad2deg=e.rad2deg,p.angleDelta=e.angleDelta,p.angleDist=e.angleDist,p.isFullCircle=e.isFullCircle,p.isAngleInsideSector=e.isAngleInsideSector,p.isPtInsideSector=e.isPtInsideSector,p.pathArc=e.pathArc,p.pathSector=e.pathSector,p.pathAnnulus=e.pathAnnulus;e=t("./anchor_utils");p.isLeftAnchor=e.isLeftAnchor,p.isCenterAnchor=e.isCenterAnchor,p.isRightAnchor=e.isRightAnchor,p.isTopAnchor=e.isTopAnchor,p.isMiddleAnchor=e.isMiddleAnchor,p.isBottomAnchor=e.isBottomAnchor;e=t("./geometry2d");p.segmentsIntersect=e.segmentsIntersect,p.segmentDistance=e.segmentDistance,p.getTextLocation=e.getTextLocation,p.clearLocationCache=e.clearLocationCache,p.getVisibleSegment=e.getVisibleSegment,p.findPointOnPath=e.findPointOnPath;e=t("./extend");p.extendFlat=e.extendFlat,p.extendDeep=e.extendDeep,p.extendDeepAll=e.extendDeepAll,p.extendDeepNoArrays=e.extendDeepNoArrays;e=t("./loggers");p.log=e.log,p.warn=e.warn,p.error=e.error;e=t("./regex");p.counterRegex=e.counter;e=t("./throttle");p.throttle=e.throttle,p.throttleDone=e.done,p.clearThrottle=e.clear;e=t("./dom");function u(t){var e,n={};for(e in t)for(var r=t[e],i=0;i<r.length;i++)n[r[i]]=+e;return n}p.getGraphDiv=e.getGraphDiv,p.isPlotDiv=e.isPlotDiv,p.removeElement=e.removeElement,p.addStyleRule=e.addStyleRule,p.addRelatedStyleRule=e.addRelatedStyleRule,p.deleteRelatedStyleRule=e.deleteRelatedStyleRule,p.getFullTransformMatrix=e.getFullTransformMatrix,p.getElementTransformMatrix=e.getElementTransformMatrix,p.getElementAndAncestors=e.getElementAndAncestors,p.equalDomRects=e.equalDomRects,p.clearResponsive=t("./clear_responsive"),p.makeTraceGroups=t("./make_trace_groups"),p._=t("./localize"),p.notifier=t("./notifier"),p.filterUnique=t("./filter_unique"),p.filterVisible=t("./filter_visible"),p.pushUnique=t("./push_unique"),p.increment=t("./increment"),p.cleanNumber=t("./clean_number"),p.ensureNumber=function(t){return r(t)&&!((t=Number(t))<-o||o<t)&&r(t)?Number(t):a},p.isIndex=function(t,e){return!(void 0!==e&&e<=t)&&(r(t)&&0<=t&&t%1==0)},p.noop=t("./noop"),p.identity=t("./identity"),p.repeat=function(t,e){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n},p.swapAttrs=function(t,e,n,r){n=n||"x",r=r||"y";for(var i=0;i<e.length;i++){var o=e[i],a=p.nestedProperty(t,o.replace("?",n)),s=p.nestedProperty(t,o.replace("?",r)),o=a.get();a.set(s.get()),s.set(o)}},p.raiseToTop=function(t){t.parentNode.appendChild(t)},p.cancelTransition=function(t){return t.transition().duration(0)},p.constrain=function(t,e,n){return n<e?Math.max(n,Math.min(e,t)):Math.max(e,Math.min(n,t))},p.bBoxIntersect=function(t,e,n){return n=n||0,t.left<=e.right+n&&e.left<=t.right+n&&t.top<=e.bottom+n&&e.top<=t.bottom+n},p.simpleMap=function(t,e,n,r,i){for(var o=t.length,a=new Array(o),s=0;s<o;s++)a[s]=e(t[s],n,r,i);return a},p.randstr=function t(e,n,r,i){if(r=r||16,void 0===n&&(n=24),n<=0)return"0";for(var o=Math.log(Math.pow(2,n))/Math.log(r),a="",s=2;o===1/0;s*=2)o=Math.log(Math.pow(2,n/s))/Math.log(r)*s;var l=o-Math.floor(o);for(s=0;s<Math.floor(o);s++)a=Math.floor(Math.random()*r).toString(r)+a;l&&(u=Math.pow(r,l),a=Math.floor(Math.random()*u).toString(r)+a);var u=parseInt(a,r);return e&&e[a]||u!==1/0&&u>=Math.pow(2,n)?10<i?(p.warn("randstr failed uniqueness"),a):t(e,n,r,(i||0)+1):a},p.OptionControl=function(e,n){e=e||{};var r={optionList:[],_newoption:function(t){t[n]=e,r[t.name]=t,r.optionList.push(t)}};return r["_"+(n=n||"opt")]=e,r},p.smooth=function(t,e){if((e=Math.round(e)||0)<2)return t;for(var n,r,i,o=t.length,a=2*o,s=2*e-1,l=new Array(s),u=new Array(o),c=0;c<s;c++)l[c]=(1-Math.cos(Math.PI*(c+1)/e))/(2*e);for(c=0;c<o;c++){for(n=i=0;n<s;n++)(r=c+n+1-e)<-o?r-=a*Math.round(r/a):a<=r&&(r-=a*Math.floor(r/a)),r<0?r=-1-r:o<=r&&(r=a-1-r),i+=t[r]*l[n];u[c]=i}return u},p.syncOrAsync=function(t,e,n){var r;function i(){return p.syncOrAsync(t,e,n)}for(;t.length;)if((r=(0,t.splice(0,1)[0])(e))&&r.then)return r.then(i).then(void 0,p.promiseError);return n&&n(e)},p.stripTrailingSlash=function(t){return"/"===t.substr(-1)?t.substr(0,t.length-1):t},p.noneOrAll=function(t,e,n){if(t){for(var r=!1,i=!0,o=0;o<n.length;o++)null!=t[n[o]]?r=!0:i=!1;if(r&&!i)for(o=0;o<n.length;o++)t[n[o]]=e[n[o]]}},p.mergeArray=function(t,e,n,r){var i="function"==typeof r;if(p.isArrayOrTypedArray(t))for(var o=Math.min(t.length,e.length),a=0;a<o;a++){var s=t[a];e[a][n]=i?r(s):s}},p.mergeArrayCastPositive=function(t,e,n){return p.mergeArray(t,e,n,function(t){t=+t;return isFinite(t)&&0<t?t:0})},p.fillArray=function(t,e,n,r){if(r=r||p.identity,p.isArrayOrTypedArray(t))for(var i=0;i<e.length;i++)e[i][n]=r(t[i])},p.castOption=function(t,e,n,r){r=r||p.identity;n=p.nestedProperty(t,n).get();return p.isArrayOrTypedArray(n)?Array.isArray(e)&&p.isArrayOrTypedArray(n[e[0]])?r(n[e[0]][e[1]]):r(n[e]):n},p.extractOption=function(t,e,n,r){if(n in t)return t[n];r=p.nestedProperty(e,r).get();return Array.isArray(r)?void 0:r},p.tagSelected=function(t,e,n){var r,i=e.selectedpoints,e=e._indexToPoints;e&&(r=u(e));for(var o,a=0;a<i.length;a++){var s,l=i[a];(p.isIndex(l)||p.isArrayOrTypedArray(l)&&p.isIndex(l[0])&&p.isIndex(l[1]))&&(l=r?r[l]:l,s=n?n[l]:l,void 0!==(o=s)&&o<t.length&&(t[s].selected=1))}},p.selIndices2selPoints=function(t){var e=t.selectedpoints,t=t._indexToPoints;if(t){for(var n=u(t),r=[],i=0;i<e.length;i++){var o=e[i];p.isIndex(o)&&(o=n[o],p.isIndex(o)&&r.push(o))}return r}return e},p.getTargetArray=function(t,e){e=e.target;if("string"==typeof e&&e){t=p.nestedProperty(t,e).get();return!!Array.isArray(t)&&t}return!!Array.isArray(e)&&e},p.minExtend=function(t,e){var n={};"object"!=typeof e&&(e={});for(var r,i,o=Object.keys(t),a=0;a<o.length;a++)i=t[r=o[a]],"_"!==r.charAt(0)&&"function"!=typeof i&&("module"===r?n[r]=i:Array.isArray(i)?n[r]="colorscale"===r?i.slice():i.slice(0,3):p.isTypedArray(i)?n[r]=i.subarray(0,3):n[r]=i&&"object"==typeof i?p.minExtend(t[r],e[r]):i);for(o=Object.keys(e),a=0;a<o.length;a++)"object"==typeof(i=e[r=o[a]])&&r in n&&"object"==typeof n[r]||(n[r]=i);return n},p.titleCase=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},p.containsAny=function(t,e){for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!0;return!1},p.isIE=function(){return void 0!==window.navigator.msSaveBlob};var s=/MSIE [1-9]\./;p.isIE9orBelow=function(){return p.isIE()&&s.test(window.navigator.userAgent)};var l=/Version\/[\d\.]+.*Safari/;p.isSafari=function(){return l.test(window.navigator.userAgent)};var c=/iPad|iPhone|iPod/;p.isIOS=function(){return c.test(window.navigator.userAgent)},p.isD3Selection=function(t){return t&&"function"==typeof t.classed},p.ensureSingle=function(t,e,n,r){var i=t.select(e+(n?"."+n:""));if(i.size())return i;e=t.append(e);return n&&e.classed(n,!0),r&&e.call(r),e},p.ensureSingleById=function(t,e,n,r){var i=t.select(e+"#"+n);if(i.size())return i;n=t.append(e).attr("id",n);return r&&n.call(r),n},p.objectFromPath=function(t,e){for(var n=t.split("."),t=s={},r=0;r<n.length;r++)var i,o=n[r],a=n[r].match(/(.*)\[([0-9]+)\]/),s=a?(o=a[1],i=a[2],s=s[o]=[],r===n.length-1?s[i]=e:s[i]={},s[i]):(r===n.length-1?s[o]=e:s[o]={},s[o]);return t};var f=/^([^\[\.]+)\.(.+)?/,g=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;p.expandObjectPaths=function(t){var e,n,r,i,o,a;if("object"==typeof t&&!Array.isArray(t))for(e in t)t.hasOwnProperty(e)&&((o=e.match(f))?(r=t[e],n=o[1],delete t[e],t[n]=p.extendDeepNoArrays(t[n]||{},p.objectFromPath(e,p.expandObjectPaths(r))[n])):(o=e.match(g))?(r=t[e],n=o[1],i=parseInt(o[2]),delete t[e],t[n]=t[n]||[],"."===o[3]?(a=o[4],o=t[n][i]=t[n][i]||{},p.extendDeepNoArrays(o,p.objectFromPath(a,p.expandObjectPaths(r)))):t[n][i]=p.expandObjectPaths(r)):t[e]=p.expandObjectPaths(t[e]));return t},p.numSeparate=function(t,e,n){if(n=n||!1,"string"!=typeof e||0===e.length)throw new Error("Separator string required for formatting!");"number"==typeof t&&(t=String(t));var r=/(\d+)(\d{3})/,i=e.charAt(0),o=e.charAt(1),t=t.split("."),a=t[0],i=1<t.length?i+t[1]:"";if(o&&(1<t.length||4<a.length||n))for(;r.test(a);)a=a.replace(r,"$1"+o+"$2");return a+i},p.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var m=/^\w*$/;p.templateString=function(t,n){var r={};return t.replace(p.TEMPLATE_STRING_REGEX,function(t,e){e=m.test(e)?n[e]:(r[e]=r[e]||p.nestedProperty(n,e).get,r[e]());return p.isValidTextValue(e)?e:""})};var y={max:10,count:0,name:"hovertemplate"};p.hovertemplateString=function(){return x.apply(y,arguments)};var v={max:10,count:0,name:"texttemplate"};p.texttemplateString=function(){return x.apply(v,arguments)};var b=/^[:|\|]/;function x(t,s,l){var u=this,c=arguments;s=s||{};var f={};return t.replace(p.TEMPLATE_STRING_REGEX,function(t,e,n){for(var r,i,o,a=3;a<c.length;a++)if(r=c[a]){if(r.hasOwnProperty(e)){o=r[e];break}if(m.test(e)||(o=f[e]||p.nestedProperty(r,e).get())&&(f[e]=o),void 0!==o)break}return void 0===o&&u?(u.count<u.max&&(p.warn("Variable '"+e+"' in "+u.name+" could not be found!"),o=t),u.count===u.max&&p.warn("Too many "+u.name+" warnings - additional warnings will be suppressed"),u.count++,t):(n?(":"===n[0]&&(o=(i=l?l.numberFormat:h.format)(n.replace(b,""))(o)),"|"===n[0]&&(i=l?l.timeFormat:d,t=p.dateTime2ms(o),o=p.formatDate(t,n.replace(b,""),!1,i))):s.hasOwnProperty(e+"Label")&&(o=s[e+"Label"]),o)})}p.subplotSort=function(t,e){for(var n=Math.min(t.length,e.length)+1,r=0,i=0,o=0;o<n;o++){var a=t.charCodeAt(o)||0,s=e.charCodeAt(o)||0,l=48<=a&&a<=57,u=48<=s&&s<=57;if(l&&(r=10*r+a-48),u&&(i=10*i+s-48),!l||!u){if(r!==i)return r-i;if(a!==s)return a-s}}return i-r};var _=2e9;p.seedPseudoRandom=function(){_=2e9},p.pseudoRandom=function(){var t=_;return _=(69069*_+1)%4294967296,Math.abs(_-t)<429496729?p.pseudoRandom():_/4294967296},p.fillText=function(t,e,n){var r=Array.isArray(n)?function(t){n.push(t)}:function(t){n.text=t},i=p.extractOption(t,e,"htx","hovertext");if(p.isValidTextValue(i))return r(i);e=p.extractOption(t,e,"tx","text");return p.isValidTextValue(e)?r(e):void 0},p.isValidTextValue=function(t){return t||0===t},p.formatPercent=function(t,e){e=e||0;for(var n=(Math.round(100*t*Math.pow(10,e))*Math.pow(.1,e)).toFixed(e)+"%",r=0;r<e;r++)-1!==n.indexOf(".")&&(n=(n=n.replace("0%","%")).replace(".%","%"));return n},p.isHidden=function(t){t=window.getComputedStyle(t).display;return!t||"none"===t},p.strTranslate=function(t,e){return t||e?"translate("+t+","+e+")":""},p.strRotate=function(t){return t?"rotate("+t+")":""},p.strScale=function(t){return 1!==t?"scale("+t+")":""},p.getTextTransform=function(t){var e=t.noCenter,n=t.textX,r=t.textY,i=t.targetX,o=t.targetY,a=t.anchorX||0,s=t.anchorY||0,l=t.rotate,t=t.scale;return t?1<t&&(t=1):t=0,p.strTranslate(i-t*(n+a),o-t*(r+s))+p.strScale(t)+(l?"rotate("+l+(e?"":" "+n+" "+r)+")":"")},p.ensureUniformFontSize=function(t,e){var n=p.extendFlat({},e);return n.size=Math.max(e.size,t._fullLayout.uniformtext.minsize||0),n},p.join2=function(t,e,n){var r=t.length;return 1<r?t.slice(0,-1).join(e)+n+t[r-1]:t.join(e)}},{"../constants/numerical":754,"./anchor_utils":759,"./angles":760,"./array":761,"./clean_number":762,"./clear_responsive":764,"./coerce":765,"./dates":766,"./dom":767,"./extend":769,"./filter_unique":770,"./filter_visible":771,"./geometry2d":772,"./identity":774,"./increment":775,"./is_plain_object":777,"./keyed_container":778,"./localize":779,"./loggers":780,"./make_trace_groups":781,"./matrix":782,"./mod":783,"./nested_property":784,"./noop":785,"./notifier":786,"./push_unique":789,"./regex":791,"./relative_attr":792,"./relink_private":793,"./search":794,"./stats":797,"./throttle":800,"./to_log_range":801,d3:629,"d3-time-format":627,"fast-isnumeric":450}],777:[function(t,e,n){"use strict";e.exports=function(t){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(t):"[object Object]"===Object.prototype.toString.call(t)&&Object.getPrototypeOf(t)===Object.prototype}},{}],778:[function(t,e,n){"use strict";var p=t("./nested_property"),i=/^\w*$/;e.exports=function(t,o,a,s){var r,l;a=a||"name",s=s||"value";var u={},c=o&&o.length?(l=p(t,o)).get():t;o=o||"";var f={};if(c)for(r=0;r<c.length;r++)f[c[r][a]]=r;var h=i.test(s),d={set:function(t,e){var n=null===e?4:0;if(!c){if(!l||4===n)return;c=[],l.set(c)}var r=f[t];if(void 0===r){if(4===n)return;n|=3,r=c.length,f[t]=r}else e!==(h?c[r][s]:p(c[r],s).get())&&(n|=2);var i=c[r]=c[r]||{};return i[a]=t,h?i[s]=e:p(i,s).set(e),null!==e&&(n&=-5),u[r]=u[r]|n,d},get:function(t){if(c){t=f[t];return void 0!==t?h?c[t][s]:p(c[t],s).get():void 0}},rename:function(t,e){var n=f[t];return void 0===n||(u[n]=1|u[n],f[e]=n,delete f[t],c[n][a]=e),d},remove:function(t){var e=f[t];if(void 0===e)return d;var n=c[e];if(2<Object.keys(n).length)return u[e]=2|u[e],d.set(t,null);if(h){for(r=e;r<c.length;r++)u[r]=3|u[r];for(r=e;r<c.length;r++)f[c[r][a]]--;c.splice(e,1),delete f[t]}else p(n,s).set(null),u[e]=6|u[e];return d},constructUpdate:function(){for(var t,e,n={},r=Object.keys(u),i=0;i<r.length;i++)e=r[i],t=o+"["+e+"]",c[e]?(1&u[e]&&(n[t+"."+a]=c[e][a]),2&u[e]&&(n[t+"."+s]=h?4&u[e]?null:c[e][s]:4&u[e]?null:p(c[e],s).get())):n[t]=null;return n}};return d}},{"./nested_property":784}],779:[function(t,e,n){"use strict";var l=t("../registry");e.exports=function(t,e){for(var n=t._context.locale,r=0;r<2;r++){for(var i=t._context.locales,o=0;o<2;o++){var a=(i[n]||{}).dictionary;if(a){a=a[e];if(a)return a}i=l.localeRegistry}var s=n.split("-")[0];if(s===n)break;n=s}return e}},{"../registry":877}],780:[function(t,e,n){"use strict";var r=t("../plot_api/plot_config").dfltConfig,i=t("./notifier"),e=e.exports={};function o(t,e){if(t&&t.apply)try{return void t.apply(console,e)}catch(t){}for(var n=0;n<e.length;n++)try{t(e[n])}catch(t){console.log(e[n])}}e.log=function(){if(1<r.logging){for(var t=["LOG:"],e=0;e<arguments.length;e++)t.push(arguments[e]);o(console.trace||console.log,t)}if(1<r.notifyOnLogging){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);i(n.join("<br>"),"long")}},e.warn=function(){if(0<r.logging){for(var t=["WARN:"],e=0;e<arguments.length;e++)t.push(arguments[e]);o(console.trace||console.log,t)}if(0<r.notifyOnLogging){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);i(n.join("<br>"),"stick")}},e.error=function(){if(0<r.logging){for(var t=["ERROR:"],e=0;e<arguments.length;e++)t.push(arguments[e]);o(console.error,t)}if(0<r.notifyOnLogging){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);i(n.join("<br>"),"stick")}}},{"../plot_api/plot_config":810,"./notifier":786}],781:[function(t,e,n){"use strict";var i=t("d3");e.exports=function(t,e,n){e=t.selectAll("g."+n.replace(/\s/g,".")).data(e,function(t){return t[0].trace.uid});e.exit().remove(),e.enter().append("g").attr("class",n),e.order();var r=t.classed("rangeplot")?"nodeRangePlot3":"node3";return e.each(function(t){t[0][r]=i.select(this)}),e}},{d3:629}],782:[function(t,e,a){"use strict";var n=t("gl-mat4");a.init2dArray=function(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=new Array(e);return n},a.transposeRagged=function(t){for(var e,n=0,r=t.length,i=0;i<r;i++)n=Math.max(n,t[i].length);var o=new Array(n);for(i=0;i<n;i++)for(o[i]=new Array(r),e=0;e<r;e++)o[i][e]=t[e][i];return o},a.dot=function(t,e){if(!t.length||!e.length||t.length!==e.length)return null;var n=t.length;if(t[0].length)for(i=new Array(n),o=0;o<n;o++)i[o]=a.dot(t[o],e);else if(e[0].length)for(var r=a.transposeRagged(e),i=new Array(r.length),o=0;o<r.length;o++)i[o]=a.dot(t,r[o]);else for(o=i=0;o<n;o++)i+=t[o]*e[o];return i},a.translationMatrix=function(t,e){return[[1,0,t],[0,1,e],[0,0,1]]},a.rotationMatrix=function(t){t=t*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},a.rotationXYMatrix=function(t,e,n){return a.dot(a.dot(a.translationMatrix(e,n),a.rotationMatrix(t)),a.translationMatrix(-e,-n))},a.apply3DTransform=function(e){return function(){var t=arguments,t=1===arguments.length?t[0]:[t[0],t[1],t[2]||0];return a.dot(e,[t[0],t[1],t[2],1]).slice(0,3)}},a.apply2DTransform=function(e){return function(){var t=arguments;3===t.length&&(t=t[0]);t=1===arguments.length?t[0]:[t[0],t[1]];return a.dot(e,[t[0],t[1],1]).slice(0,2)}},a.apply2DTransform2=function(t){var e=a.apply2DTransform(t);return function(t){return e(t.slice(0,2)).concat(e(t.slice(2,4)))}},a.convertCssMatrix=function(t){if(t){var e=t.length;if(16===e)return t;if(6===e)return[t[0],t[1],0,0,t[2],t[3],0,0,0,0,1,0,t[4],t[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},a.inverseTransformMatrix=function(t){var e=[];return n.invert(e,t),[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}},{"gl-mat4":489}],783:[function(t,e,n){"use strict";e.exports={mod:function(t,e){return(t%=e)<0?t+e:t},modHalf:function(t,e){return Math.abs(t)>e/2?t-Math.round(t/e)*e:t}}},{}],784:[function(t,e,n){"use strict";var c=t("fast-isnumeric"),f=t("./array").isArrayOrTypedArray;e.exports=function(t,e){if(c(e))e=String(e);else if("string"!=typeof e||"[-1]"===e.substr(e.length-4))throw"bad property string";for(var n,r,i,o=0,a=e.split(".");o<a.length;){if(n=String(a[o]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(n[1])a[o]=n[1];else{if(0!==o)throw"bad property string";a.splice(0,1)}for(r=n[2].substr(1,n[2].length-2).split("]["),i=0;i<r.length;i++)o++,a.splice(o,0,Number(r[i]))}o++}return"object"!=typeof t?{set:function(){throw"bad container"},get:function(){},astr:e,parts:a,obj:t}:{set:d(t,a,e),get:function a(s,l){return function(){var t,e,n,r,i,o=s;for(r=0;r<l.length-1;r++){if(-1===(t=l[r])){for(e=!0,n=[],i=0;i<o.length;i++)n[i]=a(o[i],l.slice(r+1))(),n[i]!==n[0]&&(e=!1);return e?n[0]:n}if("number"==typeof t&&!f(o))return;if("object"!=typeof(o=o[t])||null===o)return}if("object"==typeof o&&null!==o&&null!==(n=o[l[r]]))return n}}(t,a),astr:e,parts:a,obj:t}};var r=/(^|\.)args\[/;function h(t,e){return void 0===t||null===t&&!e.match(r)}function d(s,l,u){return function(t){for(var e,n=s,r="",i=[[s,r]],o=h(t,u),a=0;a<l.length-1;a++){if("number"==typeof(e=l[a])&&!f(n))throw"array index but container is not an array";if(-1===e){if(o=!function(t,e,n,r){var i,o=f(n),a=!0,s=n,l=r.replace("-1",0),u=!o&&h(n,l),c=e[0];for(i=0;i<t.length;i++)l=r.replace("-1",i),o&&(s=n[i%n.length],u=h(s,l)),u&&(a=!1),p(t,i,c,u)&&d(t[i],e,r.replace("-1",i))(s);return a}(n,l.slice(a+1),t,u))break;return}if(!p(n,e,l[a+1],o))break;if("object"!=typeof(n=n[e])||null===n)throw"container is not an object";r=function(t,e){var n=e;c(e)?n="["+e+"]":t&&(n="."+e);return t+n}(r,e),i.push([n,r])}if(o){if(a===l.length-1&&(delete n[l[a]],Array.isArray(n)&&+l[a]==n.length-1))for(;n.length&&void 0===n[n.length-1];)n.pop()}else n[l[a]]=t}}function p(t,e,n,r){if(void 0===t[e]){if(r)return;t[e]="number"==typeof n?[]:{}}return 1}},{"./array":761,"fast-isnumeric":450}],785:[function(t,e,n){"use strict";e.exports=function(){}},{}],786:[function(t,e,n){"use strict";var l=t("d3"),r=t("fast-isnumeric"),i=[];e.exports=function(t,o){var a;function s(t){t.duration(700).style("opacity",0).each("end",function(t){t=i.indexOf(t);-1!==t&&i.splice(t,1),l.select(this).remove()})}-1===i.indexOf(t)&&(i.push(t),a=1e3,r(o)?a=o:"long"===o&&(a=3e3),(t=l.select("body").selectAll(".plotly-notifier").data([0])).enter().append("div").classed("plotly-notifier",!0),t.selectAll(".notifier-note").data(i).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(t){var e=l.select(this);e.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){e.transition().call(s)});for(var n=e.append("p"),r=t.split(/<br\s*\/?>/g),i=0;i<r.length;i++)i&&n.append("br"),n.append("span").text(r[i]);"stick"===o?e.transition().duration(350).style("opacity",1):e.transition().duration(700).style("opacity",1).transition().delay(a).call(s)}))}},{d3:629,"fast-isnumeric":450}],787:[function(t,e,n){"use strict";var a=t("./setcursor"),s="data-savedcursor";e.exports=function(t,e){var n=t.attr(s);if(e){if(!n){for(var r=(t.attr("class")||"").split(" "),i=0;i<r.length;i++){var o=r[i];0===o.indexOf("cursor-")&&t.attr(s,o.substr(7)).classed(o,!1)}t.attr(s)||t.attr(s,"!!")}a(t,e)}else n&&(t.attr(s,null),"!!"===n?a(t):a(t,n))}},{"./setcursor":795}],788:[function(t,e,n){"use strict";var h=t("./matrix").dot,y=t("../constants/numerical").BADNUM,u=e.exports={};u.tester=function(t){var h=t.slice(),d=h[0][0],p=d,g=h[0][1],m=g;for(h.push(h[0]),r=1;r<h.length;r++)d=Math.min(d,h[r][0]),p=Math.max(p,h[r][0]),g=Math.min(g,h[r][1]),m=Math.max(m,h[r][1]);var i,t=!1;5===h.length&&(h[0][0]===h[1][0]?h[2][0]===h[3][0]&&h[0][1]===h[3][1]&&h[1][1]===h[2][1]&&(t=!0,i=function(t){return t[0]===h[0][0]}):h[0][1]===h[1][1]&&h[2][1]===h[3][1]&&h[0][0]===h[3][0]&&h[1][0]===h[2][0]&&(t=!0,i=function(t){return t[1]===h[0][1]}));for(var e=!0,n=h[0],r=1;r<h.length;r++)if(n[0]!==h[r][0]||n[1]!==h[r][1]){e=!1;break}return{xmin:d,xmax:p,ymin:g,ymax:m,pts:h,contains:t?function(t,e){var n=t[0],r=t[1];return!(n===y||n<d||p<n||r===y||r<g||m<r)&&(!e||!i(t))}:function(t,e){var n=t[0],r=t[1];if(n===y||n<d||p<n||r===y||r<g||m<r)return!1;for(var i,o,a,s=h.length,l=h[0][0],u=h[0][1],c=0,f=1;f<s;f++)if(a=l,i=u,l=h[f][0],u=h[f][1],!(n<(o=Math.min(a,l))||n>Math.max(a,l)||r>Math.max(i,u)))if(r<Math.min(i,u))n!==o&&c++;else{if(r===(a=l===a?r:i+(n-a)*(u-i)/(l-a)))return 1!==f||!e;r<=a&&n!==o&&c++}return c%2==1},isRect:t,degenerate:e}},u.isSegmentBent=function(t,e,n,r){for(var i,o,a=t[e],s=[t[n][0]-a[0],t[n][1]-a[1]],l=h(s,s),u=Math.sqrt(l),c=[-s[1]/u,s[0]/u],f=e+1;f<n;f++)if(i=[t[f][0]-a[0],t[f][1]-a[1]],(o=h(i,s))<0||l<o||Math.abs(h(i,c))>r)return!0;return!1},u.filter=function(i,o){var a=[i[0]],s=0,l=0;function t(t){i.push(t);var e=a.length,n=s;a.splice(l+1);for(var r=n+1;r<i.length;r++)r!==i.length-1&&!u.isSegmentBent(i,n,r+1,o)||(a.push(i[r]),a.length<e-2&&(s=r,l=a.length-1),n=r)}return 1<i.length&&t(i.pop()),{addPt:t,raw:i,filtered:a}}},{"../constants/numerical":754,"./matrix":782}],789:[function(t,e,n){"use strict";e.exports=function(t,e){if(e instanceof RegExp){for(var n=e.toString(),r=0;r<t.length;r++)if(t[r]instanceof RegExp&&t[r].toString()===n)return t;t.push(e)}else!e&&0!==e||-1!==t.indexOf(e)||t.push(e);return t}},{}],790:[function(t,e,n){"use strict";var o=t("../lib"),s=t("../plot_api/plot_config").dfltConfig;var r={add:function(t,e,n,r,i){var o,a;t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},a=t.undoQueue.index,t.autoplay?t.undoQueue.inSequence||(t.autoplay=!1):(!t.undoQueue.sequence||t.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},t.undoQueue.queue.splice(a,t.undoQueue.queue.length-a,o),t.undoQueue.index+=1):o=t.undoQueue.queue[a-1],t.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(e),o.undo.args.unshift(n),o.redo.calls.push(r),o.redo.args.push(i)),t.undoQueue.queue.length>s.queueLength&&(t.undoQueue.queue.shift(),t.undoQueue.index--))},startSequence:function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!0,t.undoQueue.beginSequence=!0},stopSequence:function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!1,t.undoQueue.beginSequence=!1},undo:function(t){var e,n;if(t.framework&&t.framework.isPolar)t.framework.undo();else if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index<=0)){for(t.undoQueue.index--,e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,n=0;n<e.undo.calls.length;n++)r.plotDo(t,e.undo.calls[n],e.undo.args[n]);t.undoQueue.inSequence=!1,t.autoplay=!1}},redo:function(t){var e,n;if(t.framework&&t.framework.isPolar)t.framework.redo();else if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index>=t.undoQueue.queue.length)){for(e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,n=0;n<e.redo.calls.length;n++)r.plotDo(t,e.redo.calls[n],e.redo.args[n]);t.undoQueue.inSequence=!1,t.autoplay=!1,t.undoQueue.index++}}};r.plotDo=function(t,e,n){t.autoplay=!0,n=function(t,e){for(var n,r=[],i=0;i<e.length;i++)n=e[i],r[i]=n!==t&&"object"==typeof n?Array.isArray(n)?o.extendDeep([],n):o.extendDeepAll({},n):n;return r}(t,n),e.apply(null,n)},e.exports=r},{"../lib":776,"../plot_api/plot_config":810}],791:[function(t,e,n){"use strict";n.counter=function(t,e,n,r){n=(e||"")+(n?"":"$"),r=!1===r?"":"^";return"xy"===t?new RegExp(r+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+n):new RegExp(r+t+"([2-9]|[1-9][0-9]+)?"+n)}},{}],792:[function(t,e,n){"use strict";var r=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,i=/^[^\.\[\]]+$/;e.exports=function(t,e){for(;e;){var n=t.match(r);if(n)t=n[1];else{if(!t.match(i))throw new Error("bad relativeAttr call:"+[t,e]);t=""}if("^"!==e.charAt(0))break;e=e.slice(1)}return t&&"["!==e.charAt(0)?t+"."+e:t+e}},{}],793:[function(t,e,n){"use strict";var l=t("./array").isArrayOrTypedArray,u=t("./is_plain_object");e.exports=function t(e,n){for(var r in n){var i=n[r],o=e[r];if(o!==i)if("_"===r.charAt(0)||"function"==typeof i)r in e||(e[r]=i);else if(l(i)&&l(o)&&u(i[0])){if("customdata"!==r&&"ids"!==r)for(var a=Math.min(i.length,o.length),s=0;s<a;s++)o[s]!==i[s]&&u(i[s])&&u(o[s])&&t(o[s],i[s])}else u(i)&&u(o)&&(t(o,i),Object.keys(o).length||delete e[r])}}},{"./array":761,"./is_plain_object":777}],794:[function(t,e,f){"use strict";var u=t("fast-isnumeric"),c=t("./loggers"),a=t("./identity"),h=t("../constants/numerical").BADNUM;function d(t,e){return t<e}function p(t,e){return t<=e}function g(t,e){return e<t}function m(t,e){return e<=t}f.findBin=function(t,e,n){if(u(e.start))return n?Math.ceil((t-e.start)/e.size-1e-9)-1:Math.floor((t-e.start)/e.size+1e-9);var r,i=0,o=e.length,a=0,s=1<o?(e[o-1]-e[0])/(o-1):1,l=0<=s?n?d:p:n?m:g;for(t+=1e-9*s*(n?-1:1)*(0<=s?1:-1);i<o&&a++<100;)l(e[r=Math.floor((i+o)/2)],t)?i=r+1:o=r;return 90<a&&c.log("Long binary search..."),i-1},f.sorterAsc=function(t,e){return t-e},f.sorterDes=function(t,e){return e-t},f.distinctVals=function(t,e){var n,e=(e||{}).unitMinDiff,r=t.slice();for(r.sort(f.sorterAsc),n=r.length-1;-1<n&&r[n]===h;n--);var i=1;e||(i=r[n]-r[0]||1);for(var o,a=i/(n||1)/1e4,s=[],l=0;l<=n;l++){var u=r[l],c=u-o;void 0===o?(s.push(u),o=u):a<c&&(i=Math.min(i,c),s.push(u),o=u)}return{vals:s,minDiff:i}},f.roundUp=function(t,e,n){for(var r,i=0,o=e.length-1,a=0,s=n?0:1,l=n?1:0,u=n?Math.ceil:Math.floor;i<o&&a++<100;)e[r=u((i+o)/2)]<=t?i=r+s:o=r-l;return e[i]},f.sort=function(t,e){for(var n=0,r=0,i=1;i<t.length;i++){var o=e(t[i],t[i-1]);if(o<0?n=1:0<o&&(r=1),n&&r)return t.sort(e)}return r?t:t.reverse()},f.findIndexOfMin=function(t,e){e=e||a;for(var n,r=1/0,i=0;i<t.length;i++){var o=e(t[i]);o<r&&(r=o,n=i)}return n}},{"../constants/numerical":754,"./identity":774,"./loggers":780,"fast-isnumeric":450}],795:[function(t,e,n){"use strict";e.exports=function(e,t){(e.attr("class")||"").split(" ").forEach(function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)}),t&&e.classed("cursor-"+t,!0)}},{}],796:[function(t,e,n){"use strict";function i(){}var o=t("../components/color");e.exports=function(t){for(var e in t)"function"==typeof t[e]&&(t[e]=i);t.destroy=function(){t.container.parentNode.removeChild(t.container)};var n=document.createElement("div");n.className="no-webgl",n.style.cursor="pointer",n.style.fontSize="24px",n.style.color=o.defaults[0],n.style.position="absolute",n.style.left=n.style.top="0px",n.style.width=n.style.height="100%",n.style["background-color"]=o.lightLine,n.style["z-index"]=30;var r=document.createElement("p");return r.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",r.style.position="relative",r.style.top="50%",r.style.left="50%",r.style.height="30%",r.style.width="50%",r.style.margin="-15% 0 0 -25%",n.appendChild(r),t.container.appendChild(n),t.container.style.background="#FFFFFF",!(t.container.onclick=function(){window.open("https://get.webgl.org")})}},{"../components/color":646}],797:[function(t,e,a){"use strict";var s=t("fast-isnumeric"),l=t("./array").isArrayOrTypedArray;a.aggNums=function(t,e,n,r){var i,o;if((!r||r>n.length)&&(r=n.length),s(e)||(e=!1),l(n[0])){for(o=new Array(r),i=0;i<r;i++)o[i]=a.aggNums(t,e,n[i]);n=o}for(i=0;i<r;i++)s(e)?s(n[i])&&(e=t(+e,+n[i])):e=n[i];return e},a.len=function(t){return a.aggNums(function(t){return t+1},0,t)},a.mean=function(t,e){return e=e||a.len(t),a.aggNums(function(t,e){return t+e},0,t)/e},a.midRange=function(t){if(void 0!==t&&0!==t.length)return(a.aggNums(Math.max,null,t)+a.aggNums(Math.min,null,t))/2},a.variance=function(t,e,n){return e=e||a.len(t),s(n)||(n=a.mean(t,e)),a.aggNums(function(t,e){return t+Math.pow(e-n,2)},0,t)/e},a.stdev=function(t,e,n){return Math.sqrt(a.variance(t,e,n))},a.median=function(t){t=t.slice().sort();return a.interp(t,.5)},a.interp=function(t,e){if(!s(e))throw"n should be a finite number";if((e=e*t.length-.5)<0)return t[0];if(e>t.length-1)return t[t.length-1];var n=e%1;return n*t[Math.ceil(e)]+(1-n)*t[Math.floor(e)]}},{"./array":761,"fast-isnumeric":450}],798:[function(t,e,n){"use strict";var r=t("color-normalize");e.exports=function(t){return t?r(t):[0,0,0,1]}},{"color-normalize":624}],799:[function(t,e,n){"use strict";var y=t("d3"),v=t("../lib"),b=v.strTranslate,x=t("../constants/xmlns_namespaces"),_=t("../constants/alignment").LINE_SPACING;function w(t,e){return t.node().getBoundingClientRect()[e]}var r=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;n.convertToTspans=function(c,t,f){var h=c.text(),d=!c.attr("data-notex")&&"undefined"!=typeof MathJax&&h.match(r),p=y.select(c.node().parentNode);if(!p.empty()){var g=c.attr("class")?c.attr("class").split(" ")[0]:"text";return g+="-math",p.selectAll("svg."+g).remove(),p.selectAll("g."+g+"-group").remove(),c.style("display",null).attr({"data-unformatted":h,"data-math":"N"}),d?(t&&t._promises||[]).push(new Promise(function(a){c.style("display","none");var n,e,r,i,t,o,s,l=parseInt(c.node().style.fontSize,10),u={fontSize:l};n=d[2],e=u,r=function(t,e,n){p.selectAll("svg."+g).remove(),p.selectAll("g."+g+"-group").remove();var r=t&&t.select("svg");if(!r||!r.node())return m(),void a();var i=p.append("g").classed(g+"-group",!0).attr({"pointer-events":"none","data-unformatted":h,"data-math":"Y"});i.node().appendChild(r.node()),e&&e.node()&&r.node().insertBefore(e.node().cloneNode(!0),r.node().firstChild),r.attr({class:g,height:n.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var o=c.node().style.fill||"black",t=r.select("g");t.attr({fill:o,stroke:o});e=w(t,"width"),n=w(t,"height"),o=+c.attr("x")-e*{start:0,middle:.5,end:1}[c.attr("text-anchor")||"start"],t=-(l||w(c,"height"))/4;"y"===g[0]?(i.attr({transform:"rotate("+[-90,+c.attr("x"),+c.attr("y")]+")"+b(-e/2,t-n/2)}),r.attr({x:+c.attr("x"),y:+c.attr("y")})):"l"===g[0]?r.attr({x:c.attr("x"),y:t-n/2}):"a"===g[0]&&0!==g.indexOf("atitle")?r.attr({x:0,y:t}):r.attr({x:o,y:+c.attr("y")+t-n/2}),f&&f.call(c,i),a(i)},MathJax.Hub.Queue(function(){return t=v.extendDeepAll({},MathJax.Hub.config),o=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]},displayAlign:"left"})},function(){if("SVG"!==(i=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},function(){var t="math-output-"+v.randstr({},64);return s=y.select("body").append("div").attr({id:t}).style({visibility:"hidden",position:"absolute"}).style({"font-size":e.fontSize+"px"}).text(n.replace(k,"\\lt ").replace(T,"\\gt ")),MathJax.Hub.Typeset(s.node())},function(){var t,e=y.select("body").select("#MathJax_SVG_glyphs");if(s.select(".MathJax_SVG").empty()||!s.select("svg").node()?(v.log("There was an error in the tex syntax.",n),r()):(t=s.select("svg").node().getBoundingClientRect(),r(s.select(".MathJax_SVG"),e,t)),s.remove(),"SVG"!==i)return MathJax.Hub.setRenderer(i)},function(){return void 0!==o&&(MathJax.Hub.processSectionDelay=o),MathJax.Hub.Config(t)})})):m(),c}function m(){p.empty()||(g=c.attr("class")+"-math",p.select("svg."+g).remove()),c.text("").style("white-space","pre"),function(r,n){n=n.replace(O," ");var s,t=!1,l=[],i=-1;function e(){i++;var t=document.createElementNS(x.svg,"tspan");y.select(t).attr({class:"line",dy:i*_+"em"}),r.appendChild(t);var e=l;if(l=[{node:s=t}],1<e.length)for(var n=1;n<e.length;n++)o(e[n])}function o(t){var e,n,r=t.type,i={};"a"===r?(o="a",e=t.target,n=t.href,a=t.popup,n&&(i={"xlink:xlink:show":"_blank"===e||"_"!==e.charAt(0)?"new":"replace",target:e,"xlink:xlink:href":n},a&&(i.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+a+'");return false;'))):o="tspan",t.style&&(i.style=t.style);var o,a=document.createElementNS(x.svg,o);"sup"===r||"sub"===r?(u(s,E),s.appendChild(a),u(o=document.createElementNS(x.svg,"tspan"),E),y.select(o).attr("dy",S[r]),i.dy=A[r],s.appendChild(a),s.appendChild(o)):s.appendChild(a),y.select(a).attr(i),s=t.node=a,l.push(t)}function u(t,e){t.appendChild(document.createTextNode(e))}N.test(n)?e():l=[{node:s=r}];for(var a=n.split(j),c=0;c<a.length;c++){var f,h=a[c],d=h.match(P),p=d&&d[2].toLowerCase(),g=M[p];"br"===p?e():void 0===g?u(s,B(h)):d[1]?function(t){var e;1!==l.length?(t!==(e=l.pop()).type&&v.log("Start tag <"+e.type+"> doesnt match end tag <"+t+">. Pretending it did match.",n),s=l[l.length-1].node):v.log("Ignoring unexpected end tag </"+t+">.",n)}(p):(f=d[4],h={type:p},(d=F(f,L))?(d=d.replace(z,"$1 fill:"),g&&(d+=";"+g)):g&&(d=g),d&&(h.style=d),"a"===p&&(t=!0,(d=F(f,R))&&((p=document.createElement("a")).href=d,-1!==C.indexOf(p.protocol)&&(h.href=encodeURI(decodeURI(d)),h.target=F(f,D)||"_blank",h.popup=F(f,I)))),o(h))}return t}(c.node(),h)&&c.style("pointer-events","all"),n.positionText(c),f&&f.call(c)}};var k=/(<|&lt;|&#60;)/g,T=/(>|&gt;|&#62;)/g;var M={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},A={sub:"0.3em",sup:"-0.6em"},S={sub:"-0.21em",sup:"0.42em"},E="​",C=["http:","https:","mailto:","",void 0,":"],O=n.NEWLINES=/(\r\n?|\n)/g,j=/(<[^<>]*>)/,P=/<(\/?)([^ >]*)(\s+(.*))?>/i,N=/<br(\s+.*)?>/i;n.BR_TAG_ALL=/<br(\s+.*)?>/gi;var L=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,R=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,D=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,I=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function F(t,e){if(!t)return null;e=t.match(e),e=e&&(e[3]||e[4]);return e&&B(e)}var z=/(^|;)\s*color:/;n.plainText=function(t,e){for(var n=void 0!==(e=e||{}).len&&-1!==e.len?e.len:1/0,r=void 0!==e.allowedTags?e.allowedTags:["br"],i="...".length,o=t.split(j),a=[],s="",l=0,u=0;u<o.length;u++){var c=o[u],f=c.match(P),h=f&&f[2].toLowerCase();if(h)-1!==r.indexOf(h)&&(a.push(c),s=h);else{f=c.length;if(l+f<n)a.push(c),l+=f;else if(l<n){h=n-l;s&&("br"!==s||h<=i||f<=i)&&a.pop(),i<n?a.push(c.substr(0,h-i)+"..."):a.push(c.substr(0,h));break}s=""}}return a.join("")};var i={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},o=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function B(t){return t.replace(o,function(t,e){e="#"===e.charAt(0)?function(t){if(1114111<t)return;var e=String.fromCodePoint;if(e)return e(t);e=String.fromCharCode;return t<=65535?e(t):e(55232+(t>>10),t%1024+56320)}("x"===e.charAt(1)?parseInt(e.substr(2),16):parseInt(e.substr(1),10)):i[e];return e||t})}function f(t,e,r){var i,n=r.horizontalAlign,o=r.verticalAlign||"top",a=t.node().getBoundingClientRect(),s=e.node().getBoundingClientRect(),l="bottom"===o?function(){return a.bottom-i.height}:"middle"===o?function(){return a.top+(a.height-i.height)/2}:function(){return a.top},u="right"===n?function(){return a.right-i.width}:"center"===n?function(){return a.left+(a.width-i.width)/2}:function(){return a.left};return function(){i=this.node().getBoundingClientRect();var t=u()-s.left,e=l()-s.top,n=r.gd||{};return r.gd&&(n._fullLayout._calcInverseTransform(n),t=(n=v.apply3DTransform(n._fullLayout._invTransform)(t,e))[0],e=n[1]),this.style({top:e+"px",left:t+"px","z-index":1e3}),this}}n.convertEntities=B,n.sanitizeHTML=function(t){t=t.replace(O," ");for(var e=document.createElement("p"),n=e,r=[],i=t.split(j),o=0;o<i.length;o++){var a,s,l,u=i[o],c=u.match(P),f=c&&c[2].toLowerCase();f in M?c[1]?r.length&&(n=r.pop()):(a=(s=F(l=c[4],L))?{style:s}:{},"a"!==f||(c=F(l,R))&&((s=document.createElement("a")).href=c,-1!==C.indexOf(s.protocol)&&(a.href=encodeURI(decodeURI(c)),(l=F(l,D))&&(a.target=l))),f=document.createElement(f),n.appendChild(f),y.select(f).attr(a),n=f,r.push(f)):n.appendChild(document.createTextNode(B(u)))}return e.innerHTML},n.lineCount=function(t){return t.selectAll("tspan.line").size()||1},n.positionText=function(t,i,o){return t.each(function(){var n=y.select(this);function t(t,e){return void 0===e?null===(e=n.attr(t))&&(n.attr(t,0),e=0):n.attr(t,e),e}var e=t("x",i),r=t("y",o);"text"===this.nodeName&&n.selectAll("tspan.line").attr({x:e,y:r})})},n.makeEditable=function(o,a){var s=a.gd,t=a.delegate,l=y.dispatch("edit","input","cancel"),u=t||o;if(o.style({"pointer-events":t?"none":"all"}),1!==o.size())throw new Error("boo");function e(){var t,e,n,r;t=y.select(s).select(".svg-container"),e=t.append("div"),n=o.node().style,r=parseFloat(n.fontSize||12),void 0===(i=a.text)&&(i=o.attr("data-unformatted")),e.classed("plugin-editable editable",!0).style({position:"absolute","font-family":n.fontFamily||"Arial","font-size":r,color:a.fill||n.fill||"black",opacity:1,"background-color":a.background||"transparent",outline:"#ffffff33 1px solid",margin:[-r/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(i).call(f(o,t,a)).on("blur",function(){s._editing=!1,o.text(this.textContent).style({opacity:1});var t=y.select(this).attr("class"),t=t?"."+t.split(" ")[0]+"-math-group":"[class*=-math-group]";t&&y.select(o.node().parentNode).select(t).style({opacity:0});t=this.textContent;y.select(this).transition().duration(0).remove(),y.select(document).on("mouseup",null),l.edit.call(o,t)}).on("focus",function(){var t=this;s._editing=!0,y.select(document).on("mouseup",function(){return y.event.target!==t&&void(document.activeElement===e.node()&&e.node().blur())})}).on("keyup",function(){27===y.event.which?(s._editing=!1,o.style({opacity:1}),y.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),l.cancel.call(o,this.textContent)):(l.input.call(o,this.textContent),y.select(this).call(f(o,t,a)))}).on("keydown",function(){13===y.event.which&&this.blur()}).call(c),o.style({opacity:0});var i=u.attr("class"),i=i?"."+i.split(" ")[0]+"-math-group":"[class*=-math-group]";i&&y.select(o.node().parentNode).select(i).style({opacity:0})}function c(t){var e=t.node(),n=document.createRange();n.selectNodeContents(e);t=window.getSelection();t.removeAllRanges(),t.addRange(n),e.focus()}return a.immediate?e():u.on("click",e),y.rebind(o,l,"on")}},{"../constants/alignment":748,"../constants/xmlns_namespaces":755,"../lib":776,d3:629}],800:[function(t,e,n){"use strict";var s={};function l(t){t&&null!==t.timer&&(clearTimeout(t.timer),t.timer=null)}n.throttle=function(t,e,n){var r=s[t],i=Date.now();if(!r){for(var o in s)s[o].ts<i-6e4&&delete s[o];r=s[t]={ts:0,timer:null}}function a(){n(),r.ts=Date.now(),r.onDone&&(r.onDone(),r.onDone=null)}l(r),i>r.ts+e?a():r.timer=setTimeout(function(){a(),r.timer=null},e)},n.done=function(t){var n=s[t];return n&&n.timer?new Promise(function(t){var e=n.onDone;n.onDone=function(){e&&e(),t(),n.onDone=null}}):Promise.resolve()},n.clear=function(t){if(t)l(s[t]),delete s[t];else for(var e in s)n.clear(e)}},{}],801:[function(t,e,n){"use strict";var r=t("fast-isnumeric");e.exports=function(t,e){if(0<t)return Math.log(t)/Math.LN10;t=Math.log(Math.min(e[0],e[1]))/Math.LN10;return r(t)||(t=Math.log(Math.max(e[0],e[1]))/Math.LN10-6),t}},{"fast-isnumeric":450}],802:[function(t,e,n){"use strict";e.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],803:[function(t,e,n){"use strict";e.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],804:[function(t,e,n){"use strict";var s=t("../registry");e.exports=function(t){for(var e,n,r=s.layoutArrayContainers,i=s.layoutArrayRegexes,o=t.split("[")[0],a=0;a<i.length;a++)if((n=t.match(i[a]))&&0===n.index){e=n[0];break}if(!(e=e||r[r.indexOf(o)]))return!1;o=t.substr(e.length);return o?!!(n=o.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:e,index:Number(n[1]),property:n[3]||""}:{array:e,index:"",property:""}}},{"../registry":877}],805:[function(t,e,n){"use strict";var r=t("../lib"),s=r.extendFlat,a=r.isPlainObject,t={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},r={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},i=t.flags.slice().concat(["fullReplot"]),o=r.flags.slice().concat("layoutReplot");function l(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!1;return e}function u(t,e,n){var r,i=s({},t);for(r in i){var o=i[r];a(o)&&(i[r]=function t(e,n,r,i){{if(e.valType){var o=s({},e);if(o.editType=n,Array.isArray(e.items)){o.items=new Array(e.items.length);for(var a=0;a<e.items.length;a++)o.items[a]=t(e.items[a],n,"from-root")}return o}return u(e,n,"_"===i.charAt(0)?"nested":"from-root")}}(o,e,0,r))}return"from-root"===n&&(i.editType=e),i}e.exports={traces:t,layout:r,traceFlags:function(){return l(i)},layoutFlags:function(){return l(o)},update:function(t,e){e=e.editType;if(e&&"none"!==e)for(var n=e.split("+"),r=0;r<n.length;r++)t[n[r]]=!0},overrideAll:u}},{"../lib":776}],806:[function(t,e,w){"use strict";var l=t("fast-isnumeric"),k=t("gl-mat4/fromQuat"),g=t("../registry"),T=t("../lib"),M=t("../plots/plots"),n=t("../plots/cartesian/axis_ids"),A=t("../components/color"),S=n.cleanId,u=n.getFromTrace,m=g.traceIs;function E(t,e){var n=t[e],r=e.charAt(0);n&&"paper"!==n&&(t[e]=S(n,r,!0))}function C(i){function t(t,e){var n=i[t],r=i.title&&i.title[e];n&&!r&&(i.title||(i.title={}),i.title[e]=i[t],delete i[t])}i&&("string"!=typeof i.title&&"number"!=typeof i.title||(i.title={text:i.title}),t("titlefont","font"),t("titleposition","position"),t("titleside","side"),t("titleoffset","offset"))}function y(t){if(!T.isPlainObject(t))return!1;var e=t.name;return delete t.name,delete t.showlegend,("string"==typeof e||"number"==typeof e)&&String(e)}function v(t){var e="middle",n="center";return"string"==typeof t&&(-1!==t.indexOf("top")?e="top":-1!==t.indexOf("bottom")&&(e="bottom"),-1!==t.indexOf("left")?n="left":-1!==t.indexOf("right")&&(n="right")),e+" "+n}function O(t,e){return e in t&&"object"==typeof t[e]&&0===Object.keys(t[e]).length}w.clearPromiseQueue=function(t){Array.isArray(t._promises)&&0<t._promises.length&&T.log("Clearing previous rejected promises from queue."),t._promises=[]},w.cleanLayout=function(t){(t=t||{}).xaxis1&&(t.xaxis||(t.xaxis=t.xaxis1),delete t.xaxis1),t.yaxis1&&(t.yaxis||(t.yaxis=t.yaxis1),delete t.yaxis1),t.scene1&&(t.scene||(t.scene=t.scene1),delete t.scene1);for(var e=(M.subplotsRegistry.cartesian||{}).attrRegex,n=(M.subplotsRegistry.polar||{}).attrRegex,r=(M.subplotsRegistry.ternary||{}).attrRegex,i=(M.subplotsRegistry.gl3d||{}).attrRegex,o=Object.keys(t),a=0;a<o.length;a++){var s=o[a];if(e&&e.test(s)){var l=t[s];l.anchor&&"free"!==l.anchor&&(l.anchor=S(l.anchor)),l.overlaying&&(l.overlaying=S(l.overlaying)),l.type||(l.isdate?l.type="date":l.islog?l.type="log":!1===l.isdate&&!1===l.islog&&(l.type="linear")),"withzero"!==l.autorange&&"tozero"!==l.autorange||(l.autorange=!0,l.rangemode="tozero"),delete l.islog,delete l.isdate,delete l.categories,O(l,"domain")&&delete l.domain,void 0!==l.autotick&&(void 0===l.tickmode&&(l.tickmode=l.autotick?"auto":"linear"),delete l.autotick),C(l)}else if(n&&n.test(s))C(t[s].radialaxis);else if(r&&r.test(s)){var u=t[s];C(u.aaxis),C(u.baxis),C(u.caxis)}else if(i&&i.test(s)){l=t[s],u=l.cameraposition;if(Array.isArray(u)&&4===u[0].length){for(var s=u[0],c=u[1],f=u[2],h=k([],s),d=[],p=0;p<3;++p)d[p]=c[p]+f*h[2+4*p];l.camera={eye:{x:d[0],y:d[1],z:d[2]},center:{x:c[0],y:c[1],z:c[2]},up:{x:0,y:0,z:1}},delete l.cameraposition}C(l.xaxis),C(l.yaxis),C(l.zaxis)}}var g=Array.isArray(t.annotations)?t.annotations.length:0;for(a=0;a<g;a++){var m=t.annotations[a];T.isPlainObject(m)&&(m.ref&&("paper"===m.ref?(m.xref="paper",m.yref="paper"):"data"===m.ref&&(m.xref="x",m.yref="y"),delete m.ref),E(m,"xref"),E(m,"yref"))}var y=Array.isArray(t.shapes)?t.shapes.length:0;for(a=0;a<y;a++){var v=t.shapes[a];T.isPlainObject(v)&&(E(v,"xref"),E(v,"yref"))}var b=Array.isArray(t.images)?t.images.length:0;for(a=0;a<b;a++){var x=t.images[a];T.isPlainObject(x)&&(E(x,"xref"),E(x,"yref"))}var _=t.legend;return _&&(3<_.x?(_.x=1.02,_.xanchor="left"):_.x<-2&&(_.x=-.02,_.xanchor="right"),3<_.y?(_.y=1.02,_.yanchor="bottom"):_.y<-2&&(_.y=-.02,_.yanchor="top")),C(t),"rotate"===t.dragmode&&(t.dragmode="orbit"),A.clean(t),t.template&&t.template.layout&&w.cleanLayout(t.template.layout),t},w.cleanData=function(t){for(var e=0;e<t.length;e++){var n=t[e];if("histogramy"===n.type&&"xbins"in n&&!("ybins"in n)&&(n.ybins=n.xbins,delete n.xbins),n.error_y&&"opacity"in n.error_y&&(a=A.defaults,r=n.error_y.color||(m(n,"bar")?A.defaultLine:a[e%a.length]),n.error_y.color=A.addOpacity(A.rgb(r),A.opacity(r)*n.error_y.opacity),delete n.error_y.opacity),"bardir"in n&&("h"!==n.bardir||!m(n,"bar")&&"histogram"!==n.type.substr(0,9)||(n.orientation="h",w.swapXYData(n)),delete n.bardir),"histogramy"===n.type&&w.swapXYData(n),"histogramx"!==n.type&&"histogramy"!==n.type||(n.type="histogram"),"scl"in n&&!("colorscale"in n)&&(n.colorscale=n.scl,delete n.scl),"reversescl"in n&&!("reversescale"in n)&&(n.reversescale=n.reversescl,delete n.reversescl),n.xaxis&&(n.xaxis=S(n.xaxis,"x")),n.yaxis&&(n.yaxis=S(n.yaxis,"y")),m(n,"gl3d")&&n.scene&&(n.scene=M.subplotsRegistry.gl3d.cleanId(n.scene)),!m(n,"pie-like")&&!m(n,"bar-like"))if(Array.isArray(n.textposition))for(l=0;l<n.textposition.length;l++)n.textposition[l]=v(n.textposition[l]);else n.textposition&&(n.textposition=v(n.textposition));var r,i,o,a=g.getModule(n);if(a&&a.colorbar&&((o=(i=a.colorbar.container)?n[i]:n)&&o.colorscale&&("YIGnBu"===o.colorscale&&(o.colorscale="YlGnBu"),"YIOrRd"===o.colorscale&&(o.colorscale="YlOrRd"))),"surface"===n.type&&T.isPlainObject(n.contours))for(var s=["x","y","z"],l=0;l<s.length;l++){var u=n.contours[s[l]];T.isPlainObject(u)&&(u.highlightColor&&(u.highlightcolor=u.highlightColor,delete u.highlightColor),u.highlightWidth&&(u.highlightwidth=u.highlightWidth,delete u.highlightWidth))}if("candlestick"!==n.type&&"ohlc"!==n.type||(r=!1!==(n.increasing||{}).showlegend,a=!1!==(n.decreasing||{}).showlegend,i=y(n.increasing),o=y(n.decreasing),!1!==i&&!1!==o?(a=function(t,e,n,r){if(n&&!r)return t;if(r&&!n)return e;if(!t.trim())return e;if(!e.trim())return t;var i,o=Math.min(t.length,e.length);for(i=0;i<o&&t.charAt(i)===e.charAt(i);i++);return t.substr(0,i).trim()}(i,o,r,a))&&(n.name=a):!i&&!o||n.name||(n.name=i||o)),Array.isArray(n.transforms)){var c=n.transforms;for(l=0;l<c.length;l++){var f=c[l];if(T.isPlainObject(f))switch(f.type){case"filter":f.filtersrc&&(f.target=f.filtersrc,delete f.filtersrc),f.calendar&&(f.valuecalendar||(f.valuecalendar=f.calendar),delete f.calendar);break;case"groupby":if(f.styles=f.styles||f.style,f.styles&&!Array.isArray(f.styles)){var h=f.styles,d=Object.keys(h);f.styles=[];for(var p=0;p<d.length;p++)f.styles.push({target:d[p],value:h[d[p]]})}}}}O(n,"line")&&delete n.line,"marker"in n&&(O(n.marker,"line")&&delete n.marker.line,O(n,"marker")&&delete n.marker),A.clean(n),n.autobinx&&(delete n.autobinx,delete n.xbins),n.autobiny&&(delete n.autobiny,delete n.ybins),C(n),n.colorbar&&C(n.colorbar),n.marker&&n.marker.colorbar&&C(n.marker.colorbar),n.line&&n.line.colorbar&&C(n.line.colorbar),n.aaxis&&C(n.aaxis),n.baxis&&C(n.baxis)}},w.swapXYData=function(t){var e;if(T.swapAttrs(t,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(t.z)&&Array.isArray(t.z[0])&&(t.transpose?delete t.transpose:t.transpose=!0),t.error_x&&t.error_y&&(e="copy_ystyle"in(e=t.error_y)?e.copy_ystyle:!(e.color||e.thickness||e.width),T.swapAttrs(t,["error_?.copy_ystyle"]),e&&T.swapAttrs(t,["error_?.color","error_?.thickness","error_?.width"])),"string"==typeof t.hoverinfo){for(var n=t.hoverinfo.split("+"),r=0;r<n.length;r++)"x"===n[r]?n[r]="y":"y"===n[r]&&(n[r]="x");t.hoverinfo=n.join("+")}},w.coerceTraceIndices=function(t,e){if(l(e))return[e];if(!Array.isArray(e)||!e.length)return t.data.map(function(t,e){return e});if(Array.isArray(e)){for(var n=[],r=0;r<e.length;r++)T.isIndex(e[r],t.data.length)?n.push(e[r]):T.warn("trace index (",e[r],") is not a number or is out of bounds");return n}return e},w.manageArrayContainers=function(t,e,n){var r=t.obj,i=t.parts,o=i.length,a=i[o-1],s=l(a);s&&null===e?(o=i.slice(0,o-1).join("."),T.nestedProperty(r,o).get().splice(a,1)):(s&&void 0===t.get()&&void 0===t.get()&&(n[t.astr]=null),t.set(e))};var r=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function i(t){var e=t.search(r);if(0<e)return t.substr(0,e)}w.hasParent=function(t,e){for(var n=i(e);n;){if(n in t)return!0;n=i(n)}return!1};var c=["x","y","z"];w.clearAxisTypes=function(t,e,n){for(var r=0;r<e.length;r++)for(var i=t._fullData[r],o=0;o<3;o++){var a=u(t,i,c[o]);if(a&&"log"!==a.type){var s=a._name,a=a._id.substr(1);if("scene"===a.substr(0,5)){if(void 0!==n[a])continue;s=a+"."+s}a=s+".type";void 0===n[s]&&void 0===n[a]&&T.nestedProperty(t.layout,a).set(null)}}}},{"../components/color":646,"../lib":776,"../plots/cartesian/axis_ids":826,"../plots/plots":868,"../registry":877,"fast-isnumeric":450,"gl-mat4/fromQuat":479}],807:[function(t,e,n){"use strict";var r=t("./plot_api");n.plot=r.plot,n.newPlot=r.newPlot,n.restyle=r.restyle,n.relayout=r.relayout,n.redraw=r.redraw,n.update=r.update,n._guiRestyle=r._guiRestyle,n._guiRelayout=r._guiRelayout,n._guiUpdate=r._guiUpdate,n._storeDirectGUIEdit=r._storeDirectGUIEdit,n.react=r.react,n.extendTraces=r.extendTraces,n.prependTraces=r.prependTraces,n.addTraces=r.addTraces,n.deleteTraces=r.deleteTraces,n.moveTraces=r.moveTraces,n.purge=r.purge,n.addFrames=r.addFrames,n.deleteFrames=r.deleteFrames,n.animate=r.animate,n.setPlotConfig=r.setPlotConfig,n.toImage=t("./to_image"),n.validate=t("./validate"),n.downloadImage=t("../snapshot/download");t=t("./template_api");n.makeTemplate=t.makeTemplate,n.validateTemplate=t.validateTemplate},{"../snapshot/download":879,"./plot_api":809,"./template_api":814,"./to_image":815,"./validate":816}],808:[function(t,e,n){"use strict";var r=t("../lib/is_plain_object"),S=t("../lib/noop"),E=t("../lib/loggers"),C=t("../lib/search").sorterAsc,O=t("../registry");n.containerArrayMatch=t("./container_array_match");var j=n.isAddVal=function(t){return"add"===t||r(t)},P=n.isRemoveVal=function(t){return null===t||"remove"===t};n.applyContainerArrayChanges=function(t,e,n,r,i){var o=e.astr,a=O.getComponentMethod(o,"supplyLayoutDefaults"),s=O.getComponentMethod(o,"draw"),l=O.getComponentMethod(o,"drawOne"),u=r.replot||r.recalc||a===S||s===S,c=t.layout,r=t._fullLayout;if(n[""]){1<Object.keys(n).length&&E.warn("Full array edits are incompatible with other edits",o);var f=n[""][""];if(P(f))e.set(null);else{if(!Array.isArray(f))return E.warn("Unrecognized full array edit value",o,f),!0;e.set(f)}return u?!1:(a(c,r),s(t),!0)}for(var h,d,p,g,m,y,v,b,x=Object.keys(n).map(Number).sort(C),f=e.get(),_=f||[],w=i(r,o).get(),k=[],T=-1,M=_.length,A=0;A<x.length;A++)if(p=n[d=x[A]],g=Object.keys(p),m=p[""],y=j(m),d<0||d>_.length-(y?0:1))E.warn("index out of range",o,d);else if(void 0!==m)1<g.length&&E.warn("Insertion & removal are incompatible with edits to the same index.",o,d),P(m)?k.push(d):y?("add"===m&&(m={}),_.splice(d,0,m),w&&w.splice(d,0,{})):E.warn("Unrecognized full object edit value",o,d,m),-1===T&&(T=d);else for(h=0;h<g.length;h++)v=o+"["+d+"].",i(_[d],g[h],v).set(p[g[h]]);for(A=k.length-1;0<=A;A--)_.splice(k[A],1),w&&w.splice(k[A],1);if(_.length?f||e.set(_):e.set(null),u)return!1;if(a(c,r),l!==S){if(-1===T)b=x;else{for(M=Math.max(_.length,M),b=[],A=0;A<x.length&&!(T<=(d=x[A]));A++)b.push(d);for(A=T;A<M;A++)b.push(A)}for(A=0;A<b.length;A++)l(t,b[A])}else s(t);return!0}},{"../lib/is_plain_object":777,"../lib/loggers":780,"../lib/noop":785,"../lib/search":794,"../registry":877,"./container_array_match":804}],809:[function(t,e,T){"use strict";var p=t("d3"),h=t("fast-isnumeric"),c=t("has-hover"),z=t("../lib"),B=z.nestedProperty,g=t("../lib/events"),k=t("../lib/queue"),U=t("../registry"),H=t("./plot_schema"),F=t("../plots/plots"),m=t("../plots/polar/legacy"),q=t("../plots/cartesian/axes"),y=t("../components/drawing"),n=t("../components/color"),v=t("../plots/cartesian/graph_interact").initInteractions,i=t("../constants/xmlns_namespaces"),b=t("../lib/svg_text_utils"),r=t("../plots/cartesian/select").clearSelect,f=t("./plot_config").dfltConfig,V=t("./manage_arrays"),G=t("./helpers"),M=t("./subroutines"),W=t("./edit_types"),Y=t("../plots/cartesian/constants").AX_NAME_PATTERN,A=0;function S(t){var e=t._fullLayout;e._redrawFromAutoMarginCount?e._redrawFromAutoMarginCount--:t.emit("plotly_afterplot")}function d(t,e){try{t._fullLayout._paper.style("background",e)}catch(t){z.error(t)}}function x(t,e){d(t,n.combine(e,"white"))}function E(t,e){var n;t._context||(t._context=z.extendDeep({},f),n=p.select("base"),t._context._baseUrl=n.size()&&n.attr("href")?window.location.href.split("#")[0]:"");var r,i,o=t._context;if(e){for(r=Object.keys(e),u=0;u<r.length;u++)"editable"!==(i=r[u])&&"edits"!==i&&i in o&&("setBackground"===i&&"opaque"===e[i]?o[i]=x:o[i]=e[i]);e.plot3dPixelRatio&&!o.plotGlPixelRatio&&(o.plotGlPixelRatio=o.plot3dPixelRatio);var a=e.editable;if(void 0!==a)for(o.editable=a,r=Object.keys(o.edits),u=0;u<r.length;u++)o.edits[r[u]]=a;if(e.edits)for(r=Object.keys(e.edits),u=0;u<r.length;u++)(i=r[u])in o.edits&&(o.edits[i]=e.edits[i]);o._exportedPlot=e._exportedPlot}o.staticPlot&&(o.editable=!1,o.edits={},o.autosizable=!1,o.scrollZoom=!1,o.doubleClick=!1,o.showTips=!1,o.showLink=!1,o.displayModeBar=!1),"hover"!==o.displayModeBar||c||(o.displayModeBar=!0),"transparent"!==o.setBackground&&"function"==typeof o.setBackground||(o.setBackground=d),o._hasZeroHeight=o._hasZeroHeight||0===t.clientHeight,o._hasZeroWidth=o._hasZeroWidth||0===t.clientWidth;var t=o.scrollZoom,s=o._scrollZoom={};if(!0===t)s.cartesian=1,s.gl3d=1,s.geo=1,s.mapbox=1;else if("string"==typeof t)for(var l=t.split("+"),u=0;u<l.length;u++)s[l[u]]=1;else!1!==t&&(s.gl3d=1,s.geo=1,s.mapbox=1)}function _(t,e){for(var n,r=e+1,i=[],o=0;o<t.length;o++)(n=t[o])<0?i.push(r+n):i.push(n);return i}function w(t,e,n){for(var r,i=0;i<e.length;i++){if((r=e[i])!==parseInt(r,10))throw new Error("all values in "+n+" must be integers");if(r>=t.data.length||r<-t.data.length)throw new Error(n+" must be valid indices for gd.data.");if(-1<e.indexOf(r,i+1)||0<=r&&-1<e.indexOf(-t.data.length+r)||r<0&&-1<e.indexOf(t.data.length+r))throw new Error("each index in "+n+" must be unique.")}}function C(t,e,n){if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(void 0===e)throw new Error("currentIndices is a required argument.");if(Array.isArray(e)||(e=[e]),w(t,e,"currentIndices"),void 0===n||Array.isArray(n)||(n=[n]),void 0!==n&&w(t,n,"newIndices"),void 0!==n&&e.length!==n.length)throw new Error("current and new indices must be of equal length.")}function o(t,e,n,r,i){!function(t,e,n,r){var i,o=z.isPlainObject(r);if(!Array.isArray(t.data))throw new Error("gd.data must be an array");if(!z.isPlainObject(e))throw new Error("update must be a key:value object");if(void 0===n)throw new Error("indices must be an integer or array of integers");for(i in w(t,n,"indices"),e){if(!Array.isArray(e[i])||e[i].length!==n.length)throw new Error("attribute "+i+" must be an array of length equal to indices array length");if(o&&(!(i in r)||!Array.isArray(r[i])||r[i].length!==e[i].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(t,e,n,r);for(var o=function(t,e,n,r){var i,o,a,s,l,u=z.isPlainObject(r),c=[];for(l in Array.isArray(n)||(n=[n]),n=_(n,t.data.length-1),e)for(var f=0;f<n.length;f++){if(s=t.data[n[f]],i=(o=B(s,l)).get(),a=e[l][f],!z.isArrayOrTypedArray(a))throw new Error("attribute: "+l+" index: "+f+" must be an array");if(!z.isArrayOrTypedArray(i))throw new Error("cannot extend missing or non-array attribute: "+l);if(i.constructor!==a.constructor)throw new Error("cannot extend array with an array of a different type: "+l);s=u?r[l][f]:r,h(s)||(s=-1),c.push({prop:o,target:i,insert:a,maxp:Math.floor(s)})}return c}(t,e,n,r),a={},s={},l=0;l<o.length;l++){var u=o[l].prop,c=o[l].maxp,c=i(o[l].target,o[l].insert,c);u.set(c[0]),Array.isArray(a[u.astr])||(a[u.astr]=[]),a[u.astr].push(c[1]),Array.isArray(s[u.astr])||(s[u.astr]=[]),s[u.astr].push(o[l].target.length)}return{update:a,maxPoints:s}}function s(t,e){var n=new t.constructor(t.length+e.length);return n.set(t),n.set(e,t.length),n}function a(t,e,n,r){t=z.getGraphDiv(t),G.clearPromiseQueue(t);var i={};if("string"==typeof e)i[e]=n;else{if(!z.isPlainObject(e))return z.warn("Restyle fail.",e,n,r),Promise.reject();i=z.extendFlat({},e),void 0===r&&(r=n)}Object.keys(i).length&&(t.changed=!0);var r=G.coerceTraceIndices(t,r),o=l(t,i,r),i=o.flags;i.calc&&(t.calcdata=void 0),i.clearAxisTypes&&G.clearAxisTypes(t,r,{});r=[];i.fullReplot?r.push(T.plot):(r.push(F.previousPromises),F.supplyDefaults(t),i.markerSize&&(F.doCalcdata(t),P(r)),i.style&&r.push(M.doTraceStyle),i.colorbars&&r.push(M.doColorBars),r.push(S)),r.push(F.rehover,F.redrag),k.add(t,a,[t,o.undoit,o.traces],a,[t,o.redoit,o.traces]);r=z.syncOrAsync(r,t);return r&&r.then||(r=Promise.resolve()),r.then(function(){return t.emit("plotly_restyle",o.eventData),t})}function X(t){return void 0===t?null:t}function Z(o,t){return t?function(t,e,n){var r=B(t,e),i=r.set;return r.set=function(t){O((n||"")+e,r.get(),t,o),i(t)},r}:B}function O(t,e,n,r){if(Array.isArray(e)||Array.isArray(n))for(var i=Array.isArray(e)?e:[],o=Array.isArray(n)?n:[],a=Math.max(i.length,o.length),s=0;s<a;s++)O(t+"["+s+"]",i[s],o[s],r);else if(z.isPlainObject(e)||z.isPlainObject(n)){var l,u=z.isPlainObject(e)?e:{},c=z.isPlainObject(n)?n:{};for(l in z.extendFlat({},u,c))O(t+"."+l,u[l],c[l],r)}else void 0===r[t]&&(r[t]=X(e))}function l(i,o,a){var t,s=i._fullLayout,r=i._fullData,l=i.data,u=s._guiEditing,c=Z(s._preGUI,u),e=z.extendDeepAll({},o);$(o);var n,f,h=W.traceFlags(),d={},p={};function g(){return a.map(function(){})}function m(t){t=q.id2name(t);-1===n.indexOf(t)&&n.push(t)}function y(t){return"LAYOUT"+t+".autorange"}function v(t){return"LAYOUT"+t+".range"}function b(t){for(var e=t;e<r.length;e++)if(r[e]._input===l[t])return r[e]}function x(t,e,n){var r;Array.isArray(t)?t.forEach(function(t){x(t,e,n)}):t in o||G.hasParent(o,t)||(r="LAYOUT"===t.substr(0,6)?c(i.layout,t.replace("LAYOUT","")):(r=a[n],Z(s._tracePreGUI[b(r)._fullInput.uid],u)(l[r],t)),t in p||(p[t]=g()),void 0===p[t][n]&&(p[t][n]=X(r.get())),void 0!==e&&r.set(e))}for(f in o){if(G.hasParent(o,f))throw new Error("cannot set "+f+" and a parent attribute simultaneously");var _,w,k,T,M=o[f];if("autobinx"!==f&&"autobiny"!==f||(f=f.charAt(f.length-1)+"bins",M=Array.isArray(M)?M.map(function(n){return function(t,e){return!1===t?r[a[e]][n]:null}}(f)):!1===M?a.map(function(e){return function(t){return r[t][e]}}(f)):null),d[f]=M,"LAYOUT"!==f.substr(0,6)){for(p[f]=g(),t=0;t<a.length;t++){_=l[a[t]],w=b(a[t]);var A,S,E=(A=Z(s._tracePreGUI[w._fullInput.uid],u)(_,f)).get();if(void 0!==(S=Array.isArray(M)?M[t%M.length]:M)){var C,O,j=A.parts[A.parts.length-1],P=f.substr(0,f.length-j.length-1),N=P?P+".":"",P=P?B(w,P).get():w,L=H.getTraceValObject(w,A.parts);if(L&&L.impliedEdits&&null!==S)for(var R in L.impliedEdits)x(z.relativeAttr(f,R),L.impliedEdits[R],t);else"thicknessmode"!==j&&"lenmode"!==j||E===S||"fraction"!==S&&"pixels"!==S||!P?"type"!==f||"pie"===S==("pie"===E)&&"funnelarea"===S==("funnelarea"===E)||(C="x",O="y","bar"!==S&&"bar"!==E||"h"!==_.orientation||(C="y",O="x"),z.swapAttrs(_,["?","?src"],"labels",C),z.swapAttrs(_,["d?","?0"],"label",C),z.swapAttrs(_,["?","?src"],"values",O),"pie"===E||"funnelarea"===E?(B(_,"marker.color").set(B(_,"marker.colors").get()),s._pielayer.selectAll("g.trace").remove()):U.traceIs(_,"cartesian")&&B(_,"marker.colors").set(B(_,"marker.color").get())):(C=s._size,O="top"===(O=P.orient)||"bottom"===O,"thicknessmode"===j?(j=O?C.h:C.w,x(N+"thickness",P.thickness*("fraction"===S?1/j:j),t)):(D=O?C.w:C.h,x(N+"len",P.len*("fraction"===S?1/D:D),t)));p[f][t]=X(E);if(-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(f)){if("orientation"===f){A.set(S);var D=_.x&&!_.y?"h":"v";if((A.get()||D)===w.orientation)continue}else"orientationaxes"===f&&(_.orientation={v:"h",h:"v"}[w.orientation]);G.swapXYData(_),h.calc=h.clearAxisTypes=!0}else-1!==F.dataArrayContainers.indexOf(A.parts[0])?(G.manageArrayContainers(A,S,p),h.calc=!0):(!L||L.arrayOk&&!U.traceIs(w,"regl")&&(z.isArrayOrTypedArray(S)||z.isArrayOrTypedArray(E))?h.calc=!0:W.update(h,L),A.set(S))}}if(-1!==["swapxyaxes","orientationaxes"].indexOf(f)&&q.swap(i,a),"orientationaxes"===f&&("x"===(T=(k=B(i.layout,"hovermode")).get())?k.set("y"):"y"===T?k.set("x"):"x unified"===T?k.set("y unified"):"y unified"===T&&k.set("x unified")),-1!==["orientation","type"].indexOf(f)){for(n=[],t=0;t<a.length;t++){var I=l[a[t]];U.traceIs(I,"cartesian")&&(m(I.xaxis||"x"),m(I.yaxis||"y"))}x(n.map(y),!0,0),x(n.map(v),[0,1],0)}}else A=c(i.layout,f.replace("LAYOUT","")),p[f]=[X(A.get())],A.set(Array.isArray(M)?M[0]:M),h.calc=!0}return(h.calc||h.plot)&&(h.fullReplot=!0),{flags:h,undoit:p,redoit:d,traces:a,eventData:z.extendDeepNoArrays([],[e,a])}}function $(n){for(var t,e,r=z.counterRegex("axis",".title",!1,!1),i=/colorbar\.title$/,o=Object.keys(n),a=0;a<o.length;a++)t=o[a],e=n[t],"title"!==t&&!r.test(t)&&!i.test(t)||"string"!=typeof e&&"number"!=typeof e?-1<t.indexOf("titlefont")?s(t,t.replace("titlefont","title.font")):-1<t.indexOf("titleposition")?s(t,t.replace("titleposition","title.position")):-1<t.indexOf("titleside")?s(t,t.replace("titleside","title.side")):-1<t.indexOf("titleoffset")&&s(t,t.replace("titleoffset","title.offset")):s(t,t.replace("title","title.text"));function s(t,e){n[e]=n[t],delete n[t]}}function j(t,e,n){if(t=z.getGraphDiv(t),G.clearPromiseQueue(t),t.framework&&t.framework.isPolar)return Promise.resolve(t);var r={};if("string"==typeof e)r[e]=n;else{if(!z.isPlainObject(e))return z.warn("Relayout fail.",e,n),Promise.reject();r=z.extendFlat({},e)}Object.keys(r).length&&(t.changed=!0);var i=N(t,r),n=i.flags;n.calc&&(t.calcdata=void 0);e=[F.previousPromises];n.layoutReplot?e.push(M.layoutReplot):Object.keys(r).length&&(u(t,n,i)||F.supplyDefaults(t),n.legend&&e.push(M.doLegend),n.layoutstyle&&e.push(M.layoutStyles),n.axrange&&P(e,i.rangesAltered),n.ticks&&e.push(M.doTicksRelayout),n.modebar&&e.push(M.doModeBar),n.camera&&e.push(M.doCamera),n.colorbars&&e.push(M.doColorBars),e.push(S)),e.push(F.rehover,F.redrag),k.add(t,j,[t,i.undoit],j,[t,i.redoit]);e=z.syncOrAsync(e,t);return e&&e.then||(e=Promise.resolve(t)),e.then(function(){return t.emit("plotly_relayout",i.eventData),t})}function u(t,e,n){var r=t._fullLayout;if(e.axrange){for(var i in e)if("axrange"!==i&&e[i])return;for(var o in n.rangesAltered){var a,s=q.id2name(o),l=t.layout[s],u=r[s];if(u.autorange=l.autorange,u.range=l.range.slice(),u.cleanRange(),u._matchGroup)for(var c in u._matchGroup)c!==o&&((a=r[q.id2name(c)]).autorange=u.autorange,a.range=u.range.slice(),a._input.range=u.range.slice())}return 1}}function P(t,a){var e=a?function(t){var e,n=[],r=!0;for(e in a){var i=q.getFromId(t,e);if(n.push(e),-1!==(i.ticklabelposition||"").indexOf("inside")&&i._anchorAxis&&n.push(i._anchorAxis._id),i._matchGroup)for(var o in i._matchGroup)a[o]||n.push(o);i.automargin&&(r=!1)}return q.draw(t,n,{skipTitle:r})}:function(t){return q.draw(t,"redraw")};t.push(r,M.doAutoRangeAndConstraints,e,M.drawData,M.finalDraw)}var Q=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,K=/^[xyz]axis[0-9]*\.autorange$/,J=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function N(t,r){var e,n,i,o=t.layout,a=t._fullLayout,s=a._guiEditing,l=Z(a._preGUI,s),u=Object.keys(r),c=q.list(t),s=z.extendDeepAll({},r),f={};for($(r),u=Object.keys(r),n=0;n<u.length;n++)if(0===u[n].indexOf("allaxes")){for(i=0;i<c.length;i++){var h=c[i]._id.substr(1),h=-1!==h.indexOf("scene")?h+".":"",h=u[n].replace("allaxes",h+c[i]._name);r[h]||(r[h]=r[u[n]])}delete r[u[n]]}var d=W.layoutFlags(),p={},g={};function m(t,e){var n;Array.isArray(t)?t.forEach(function(t){m(t,e)}):t in r||G.hasParent(r,t)||(n=l(o,t),t in g||(g[t]=X(n.get())),void 0!==e&&n.set(e))}var y,v,b,x={};function _(t){t=q.name2id(t.split(".")[0]);return x[t]=1,t}for(v in r){if(G.hasParent(r,v))throw new Error("cannot set "+v+" and a parent attribute simultaneously");for(var w=l(o,v),k=r[v],T=w.parts.length-1;0<T&&"string"!=typeof w.parts[T];)T--;var M=w.parts[T],A=w.parts[T-1]+"."+M,S=w.parts.slice(0,T).join("."),E=B(t.layout,S).get(),C=B(a,S).get(),O=w.get();if(void 0!==k){p[v]=k,g[v]="reverse"===M?k:X(O);var j,P,N=H.getLayoutValObject(a,w.parts);if(N&&N.impliedEdits&&null!==k)for(var L in N.impliedEdits)m(z.relativeAttr(v,L),N.impliedEdits[L]);-1!==["width","height"].indexOf(v)?k?(m("autosize",null),m(j="height"===v?"width":"height",a[j])):a[v]=t._initialAutoSize[v]:"autosize"===v?(m("width",k?null:a.width),m("height",k?null:a.height)):A.match(Q)?(_(A),B(a,S+"._inputRange").set(null)):A.match(K)?(_(A),B(a,S+"._inputRange").set(null),(P=B(a,S).get())._inputDomain&&(P._input.domain=P._inputDomain.slice())):A.match(J)&&B(a,S+"._inputDomain").set(null),"type"===M?(y=E,j="linear"===C.type&&"log"===k,P="log"===C.type&&"linear"===k,j||P?(y&&y.range?C.autorange?j&&(y.range=y.range[1]>y.range[0]?[1,2]:[2,1]):(A=y.range[0],P=y.range[1],j?(A<=0&&P<=0&&m(S+".autorange",!0),A<=0?A=P/1e6:P<=0&&(P=A/1e6),m(S+".range[0]",Math.log(A)/Math.LN10),m(S+".range[1]",Math.log(P)/Math.LN10)):(m(S+".range[0]",Math.pow(10,A)),m(S+".range[1]",Math.pow(10,P)))):m(S+".autorange",!0),Array.isArray(a._subplots.polar)&&a._subplots.polar.length&&a[w.parts[0]]&&"radialaxis"===w.parts[1]&&delete a[w.parts[0]]._subplot.viewInitial["radialaxis.range"],U.getComponentMethod("annotations","convertCoords")(t,C,k,m),U.getComponentMethod("images","convertCoords")(t,C,k,m)):(m(S+".autorange",!0),m(S+".range",null)),B(a,S+"._inputRange").set(null)):M.match(Y)&&(D=B(a,v).get(),(R=(k||{}).type)&&"-"!==R||(R="linear"),U.getComponentMethod("annotations","convertCoords")(t,D,R,m),U.getComponentMethod("images","convertCoords")(t,D,R,m));var R,D=V.containerArrayMatch(v);D?(e=D.array,n=D.index,R=D.property,D=N||{editType:"calc"},""!==n&&""===R&&(V.isAddVal(k)?g[v]=null:V.isRemoveVal(k)?g[v]=(B(o,e).get()||[])[n]:z.warn("unrecognized full object value",r)),W.update(d,D),f[e]||(f[e]={}),(f[e][n]||(f[e][n]={}))[R]=k,delete r[v]):"reverse"===M?(E.range?E.range.reverse():(m(S+".autorange",!0),E.range=[1,0]),C.autorange?d.calc=!0:d.plot=!0):(a._has("scatter-like")&&a._has("regl")&&"dragmode"===v&&("lasso"===k||"select"===k)&&"lasso"!==O&&"select"!==O||a._has("gl2d")?d.plot=!0:N?W.update(d,N):d.calc=!0,w.set(k))}}for(e in f)V.applyContainerArrayChanges(t,l(o,e),f[e],d,l)||(d.plot=!0);for(b in x){var I=(y=q.getFromId(t,b))&&y._constraintGroup;if(I)for(var F in d.calc=!0,I)x[F]||(q.getFromId(t,F)._constraintShrinkable=!0)}return(tt(t)||r.height||r.width)&&(d.plot=!0),(d.plot||d.calc)&&(d.layoutReplot=!0),{flags:d,rangesAltered:x,undoit:g,redoit:p,eventData:s}}function tt(t){var e=t._fullLayout,n=e.width,r=e.height;return t.layout.autosize&&F.plotAutoSize(t,t.layout,e),e.width!==n||e.height!==r}function L(t,e,n,r){if(t=z.getGraphDiv(t),G.clearPromiseQueue(t),t.framework&&t.framework.isPolar)return Promise.resolve(t);z.isPlainObject(e)||(e={}),z.isPlainObject(n)||(n={}),Object.keys(e).length&&(t.changed=!0),Object.keys(n).length&&(t.changed=!0);var i=G.coerceTraceIndices(t,r),o=l(t,z.extendFlat({},e),i),r=o.flags,a=N(t,z.extendFlat({},n)),e=a.flags;(r.calc||e.calc)&&(t.calcdata=void 0),r.clearAxisTypes&&G.clearAxisTypes(t,i,n);n=[];e.layoutReplot?n.push(M.layoutReplot):r.fullReplot?n.push(T.plot):(n.push(F.previousPromises),u(t,e,a)||F.supplyDefaults(t),r.style&&n.push(M.doTraceStyle),(r.colorbars||e.colorbars)&&n.push(M.doColorBars),e.legend&&n.push(M.doLegend),e.layoutstyle&&n.push(M.layoutStyles),e.axrange&&P(n,a.rangesAltered),e.ticks&&n.push(M.doTicksRelayout),e.modebar&&n.push(M.doModeBar),e.camera&&n.push(M.doCamera),n.push(S)),n.push(F.rehover,F.redrag),k.add(t,L,[t,o.undoit,a.undoit,o.traces],L,[t,o.redoit,a.redoit,o.traces]);n=z.syncOrAsync(n,t);return n&&n.then||(n=Promise.resolve(t)),n.then(function(){return t.emit("plotly_update",{data:o.eventData,layout:a.eventData}),t})}function R(n){return function(t){t._fullLayout._guiEditing=!0;var e=n.apply(null,arguments);return t._fullLayout._guiEditing=!1,e}}var D=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],I=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function et(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=t.match(r.pattern);if(i)return{head:i[1],attr:r.attr}}}function nt(t,e){var n=B(e,t).get();if(void 0!==n)return n;var r=t.split(".");for(r.pop();1<r.length;)if(r.pop(),void 0!==(n=B(e,r.join(".")+".uirevision").get()))return n;return e.uirevision}function rt(t,e){var n=z.isPlainObject(t),r=Array.isArray(t);return n||r?(n&&z.isPlainObject(e)||r&&Array.isArray(e))&&JSON.stringify(t)===JSON.stringify(e):t===e}function it(t,e,n,r){var i,o,a,s,l,u,c,f,h=r._preGUI,d=[],p={};for(i in h){if(l=et(i,D)){if(o=l.attr||l.head+".uirevision",a=B(r,o).get(),s=a&&nt(o,e),s&&s===a&&(null===(u=h[i])&&(u=void 0),rt(f=(c=B(e,i)).get(),u))){void 0===f&&"autorange"===i.substr(i.length-9)&&d.push(i.substr(0,i.length-10)),c.set(X(B(r,i).get()));continue}}else z.warn("unrecognized GUI edit: "+i);delete h[i],"range["===i.substr(i.length-8,6)&&(p[i.substr(0,i.length-9)]=1)}for(var g=0;g<d.length;g++){var m=d[g];!p[m]||(m=B(e,m).get())&&delete m.autorange}var y,v=r._tracePreGUI;for(y in v){var b=v[y],x=null;for(i in b){if(!x){var _=function(t,e){for(var n=0;n<e.length;n++)if(e[n]._fullInput.uid===t)return n;return-1}(y,n);if(_<0){delete v[y];break}var w,_=function(t,e,n){for(var r=0;r<e.length;r++)if(e[r].uid===t)return r;return!e[n]||e[n].uid?-1:n}(y,t,(w=n[_]._fullInput).index);if(_<0){delete v[y];break}x=t[_]}if(l=et(i,I)){if(l.attr?s=(a=B(r,l.attr).get())&&nt(l.attr,e):(a=w.uirevision,void 0===(s=x.uirevision)&&(s=e.uirevision)),s&&s===a&&(null===(u=b[i])&&(u=void 0),rt(f=(c=B(x,i)).get(),u))){c.set(X(B(w,i).get()));continue}}else z.warn("unrecognized GUI edit: "+i+" in trace uid "+y);delete b[i]}}}function ot(t,e,n,r){var i,o,a=r.getValObject,s=r.flags,l=r.immutable,u=r.inArray,c=r.arrayIndex;function f(){var t=i.editType;u&&-1!==t.indexOf("arraydraw")?z.pushUnique(s.arrays[u],c):(W.update(s,i),"none"!==t&&s.nChanges++,r.transition&&i.anim&&s.nChangesAnim++,(Q.test(m)||K.test(m))&&(s.rangesAltered[n[0]]=1),J.test(m)&&B(e,"_inputDomain").set(null),"datarevision"===o&&(s.newDataRevision=1))}function h(t){return"data_array"===t.valType||t.arrayOk}for(o in t){if(s.calc&&!r.transition)return;var d=t[o],p=e[o],g=n.concat(o),m=g.join(".");if("_"!==o.charAt(0)&&"function"!=typeof d&&d!==p){if(("tick0"===o||"dtick"===o)&&"geo"!==n[0]){var y=e.tickmode;if("auto"===y||"array"===y||!y)continue}if(("range"!==o||!e.autorange)&&("zmin"!==o&&"zmax"!==o||"contourcarpet"!==e.type)&&(i=a(g),i&&(!i._compareAsJSON||JSON.stringify(d)!==JSON.stringify(p)))){var v,b=i.valType,x=h(i),_=Array.isArray(d),w=Array.isArray(p);if(_&&w){var k="_input_"+o,y=t[k],k=e[k];if(Array.isArray(y)&&y===k)continue}if(void 0===p)x&&_?s.calc=!0:f();else if(i._isLinkedToArray){var T=[],k=!1;u||(s.arrays[o]=T);var M=Math.min(d.length,p.length),A=Math.max(d.length,p.length);if(M!==A){if("arraydraw"!==i.editType){f();continue}k=!0}for(v=0;v<M;v++)ot(d[v],p[v],g.concat(v),z.extendFlat({inArray:o,arrayIndex:v},r));if(k)for(v=M;v<A;v++)T.push(v)}else!b&&z.isPlainObject(d)?ot(d,p,g,r):x?_&&w?(l&&(s.calc=!0),(l||r.newDataRevision)&&f()):_!==w?s.calc=!0:f():_&&w&&d.length===p.length&&String(d)===String(p)||f()}}}for(o in e)if(!(o in t||"_"===o.charAt(0)||"function"==typeof e[o])){if(h(i=a(n.concat(o)))&&Array.isArray(e[o]))return void(s.calc=!0);f()}}function at(t){var e=t._fullLayout,n=t.getBoundingClientRect();z.equalDomRects(n,e._lastBBox)||(t=e._invTransform=z.inverseTransformMatrix(z.getFullTransformMatrix(t)),e._invScaleX=Math.sqrt(t[0][0]*t[0][0]+t[0][1]*t[0][1]+t[0][2]*t[0][2]),e._invScaleY=Math.sqrt(t[1][0]*t[1][0]+t[1][1]*t[1][1]+t[1][2]*t[1][2]),e._lastBBox=n)}function st(t){var e,n=p.select(t),r=t._fullLayout;r._calcInverseTransform=at,r._calcInverseTransform(t),r._container=n.selectAll(".plot-container").data([0]),r._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),r._paperdiv=r._container.selectAll(".svg-container").data([0]),r._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),r._glcontainer=r._paperdiv.selectAll(".gl-container").data([{}]),r._glcontainer.enter().append("div").classed("gl-container",!0),r._paperdiv.selectAll(".main-svg").remove(),r._paperdiv.select(".modebar-container").remove(),r._paper=r._paperdiv.insert("svg",":first-child").classed("main-svg",!0),r._toppaper=r._paperdiv.append("svg").classed("main-svg",!0),r._modebardiv=r._paperdiv.append("div"),delete r._modeBar,r._hoverpaper=r._paperdiv.append("svg").classed("main-svg",!0),r._uid||(e={},p.selectAll("defs").each(function(){this.id&&(e[this.id.split("-")[1]]=1)}),r._uid=z.randstr(e)),r._paperdiv.selectAll(".main-svg").attr(i.svgAttrs),r._defs=r._paper.append("defs").attr("id","defs-"+r._uid),r._clips=r._defs.append("g").classed("clips",!0),r._topdefs=r._toppaper.append("defs").attr("id","topdefs-"+r._uid),r._topclips=r._topdefs.append("g").classed("clips",!0),r._bgLayer=r._paper.append("g").classed("bglayer",!0),r._draggers=r._paper.append("g").classed("draglayer",!0);n=r._paper.append("g").classed("layer-below",!0);r._imageLowerLayer=n.append("g").classed("imagelayer",!0),r._shapeLowerLayer=n.append("g").classed("shapelayer",!0),r._cartesianlayer=r._paper.append("g").classed("cartesianlayer",!0),r._polarlayer=r._paper.append("g").classed("polarlayer",!0),r._ternarylayer=r._paper.append("g").classed("ternarylayer",!0),r._geolayer=r._paper.append("g").classed("geolayer",!0),r._funnelarealayer=r._paper.append("g").classed("funnelarealayer",!0),r._pielayer=r._paper.append("g").classed("pielayer",!0),r._treemaplayer=r._paper.append("g").classed("treemaplayer",!0),r._sunburstlayer=r._paper.append("g").classed("sunburstlayer",!0),r._indicatorlayer=r._toppaper.append("g").classed("indicatorlayer",!0),r._glimages=r._paper.append("g").classed("glimages",!0);n=r._toppaper.append("g").classed("layer-above",!0);r._imageUpperLayer=n.append("g").classed("imagelayer",!0),r._shapeUpperLayer=n.append("g").classed("shapelayer",!0),r._infolayer=r._toppaper.append("g").classed("infolayer",!0),r._menulayer=r._toppaper.append("g").classed("menulayer",!0),r._zoomlayer=r._toppaper.append("g").classed("zoomlayer",!0),r._hoverlayer=r._hoverpaper.append("g").classed("hoverlayer",!0),r._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),t.emit("plotly_framework")}T.animate=function(d,p,g){if(d=z.getGraphDiv(d),!z.isPlotDiv(d))throw new Error("This element is not a Plotly plot: "+d+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var m=d._transitionData;m._frameQueue||(m._frameQueue=[]);var y=(g=F.supplyAnimationDefaults(g)).transition,v=g.frame;return void 0===m._frameWaitingCnt&&(m._frameWaitingCnt=0),new Promise(function(o,a){var t,e=0;function n(t){return Array.isArray(y)?e>=y.length?t.transitionOpts=y[e]:t.transitionOpts=y[0]:t.transitionOpts=y,e++,t}var r=[],i=null==p,s=Array.isArray(p);if(!i&&!s&&z.isPlainObject(p))r.push({type:"object",data:n(z.extendFlat({},p))});else if(i||-1!==["string","number"].indexOf(typeof p))for(h=0;h<m._frames.length;h++)(t=m._frames[h])&&(!i&&String(t.group)!==String(p)||r.push({type:"byname",name:String(t.name),data:n({name:t.name})}));else if(s)for(h=0;h<p.length;h++){var l=p[h];-1!==["number","string"].indexOf(typeof l)?(l=String(l),r.push({type:"byname",name:l,data:n({name:l})})):z.isPlainObject(l)&&r.push({type:"object",data:n(z.extendFlat({},l))})}for(h=0;h<r.length;h++)if("byname"===(t=r[h]).type&&!m._frameHash[t.data.name])return z.warn('animate failure: frame not found: "'+t.data.name+'"'),void a();-1!==["next","immediate"].indexOf(g.mode)&&function(){if(0!==m._frameQueue.length){for(;m._frameQueue.length;){var t=m._frameQueue.pop();t.onInterrupt&&t.onInterrupt()}d.emit("plotly_animationinterrupted",[])}}(),"reverse"===g.direction&&r.reverse();var u=d._fullLayout._currentFrame;if(u&&g.fromcurrent){var c=-1;for(h=0;h<r.length;h++)if("byname"===(t=r[h]).type&&t.name===u){c=h;break}if(0<c&&c<r.length-1){for(var f=[],h=0;h<r.length;h++)t=r[h],("byname"!==r[h].type||c<h)&&f.push(t);r=f}}0<r.length?function(t){if(0!==t.length){for(var e=0;e<t.length;e++){var n="byname"===t[e].type?F.computeFrame(d,t[e].name):t[e].data,r=(i=e,Array.isArray(v)?i>=v.length?v[0]:v[i]:v),i=(i=e,Array.isArray(y)?i>=y.length?y[0]:y[i]:y);i.duration=Math.min(i.duration,r.duration);i={frame:n,name:t[e].name,frameOpts:r,transitionOpts:i};e===t.length-1&&(i.onComplete=function(t,e){var n=0;return function(){if(t&&++n===e)return t()}}(o,2),i.onInterrupt=a),m._frameQueue.push(i)}"immediate"===g.mode&&(m._lastFrameAt=-1/0),m._animationRaf||function(){d.emit("plotly_animating"),m._lastFrameAt=-1/0,m._timeToNext=0,m._runningTransitions=0,m._currentFrame=null;var t=function(){m._animationRaf=window.requestAnimationFrame(t),Date.now()-m._lastFrameAt>m._timeToNext&&function(){m._currentFrame&&m._currentFrame.onComplete&&m._currentFrame.onComplete();var t,e=m._currentFrame=m._frameQueue.shift();e?(t=e.name?e.name.toString():null,d._fullLayout._currentFrame=t,m._lastFrameAt=Date.now(),m._timeToNext=e.frameOpts.duration,F.transition(d,e.frame.data,e.frame.layout,G.coerceTraceIndices(d,e.frame.traces),e.frameOpts,e.transitionOpts).then(function(){e.onComplete&&e.onComplete()}),d.emit("plotly_animatingframe",{name:t,frame:e.frame,animation:{frame:e.frameOpts,transition:e.transitionOpts}})):(d.emit("plotly_animated"),window.cancelAnimationFrame(m._animationRaf),m._animationRaf=null)}()};t()}()}}(r):(d.emit("plotly_animated"),o())})},T.addFrames=function(t,e,n){if(t=z.getGraphDiv(t),null==e)return Promise.resolve();if(!z.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var r,i,o,a=t._transitionData._frames,s=t._transitionData._frameHash;if(!Array.isArray(e))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+e);for(var l,u,c,f,h=a.length+2*e.length,d=[],p={},g=e.length-1;0<=g;g--)z.isPlainObject(e[g])&&(u=(s[l=e[g].name]||p[l]||{}).name,c=e[g].name,f=s[u]||p[u],u&&c&&"number"==typeof c&&f&&A<5&&(A++,z.warn('addFrames: overwriting frame "'+(s[u]||p[u]).name+'" with a frame whose name of type "number" also equates to "'+u+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===A&&z.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),p[l]={name:l},d.push({frame:F.supplyFrameDefaults(e[g]),index:n&&void 0!==n[g]&&null!==n[g]?n[g]:h+g}));d.sort(function(t,e){return t.index>e.index?-1:t.index<e.index?1:0});var m=[],y=[],v=a.length;for(g=d.length-1;0<=g;g--){if("number"==typeof(r=d[g].frame).name&&z.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!r.name)for(;s[r.name="frame "+t._transitionData._counter++];);if(s[r.name]){for(i=0;i<a.length&&(a[i]||{}).name!==r.name;i++);m.push({type:"replace",index:i,value:r}),y.unshift({type:"replace",index:i,value:a[i]})}else o=Math.max(0,Math.min(d[g].index,v)),m.push({type:"insert",index:o,value:r}),y.unshift({type:"delete",index:o}),v++}var b=F.modifyFrames,x=F.modifyFrames,_=[t,y],w=[t,m];return k&&k.add(t,b,_,x,w),F.modifyFrames(t,m)},T.deleteFrames=function(t,e){if(t=z.getGraphDiv(t),!z.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);var n,r,i=t._transitionData._frames,o=[],a=[];if(!e)for(e=[],n=0;n<i.length;n++)e.push(n);for((e=e.slice()).sort(),n=e.length-1;0<=n;n--)r=e[n],o.push({type:"delete",index:r}),a.unshift({type:"insert",index:r,value:i[r]});var s=F.modifyFrames,l=F.modifyFrames,u=[t,a],c=[t,o];return k&&k.add(t,s,u,l,c),F.modifyFrames(t,o)},T.addTraces=function t(i,e,n){i=z.getGraphDiv(i);var r,o,a=[],s=T.deleteTraces,l=t,u=[i,a],c=[i,e];for(function(t,e){var n,r;if(!Array.isArray(i.data))throw new Error("gd.data must be an array.");if(void 0===t)throw new Error("traces must be defined.");for(Array.isArray(t)||(t=[t]),n=0;n<t.length;n++)if("object"!=typeof(r=t[n])||Array.isArray(r)||null===r)throw new Error("all values in traces array must be non-array objects");if(void 0===e||Array.isArray(e)||(e=[e]),void 0!==e&&e.length!==t.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(e,n),Array.isArray(e)||(e=[e]),e=e.map(function(t){return z.extendFlat({},t)}),G.cleanData(e),r=0;r<e.length;r++)i.data.push(e[r]);for(r=0;r<e.length;r++)a.push(-e.length+r);if(void 0===n)return o=T.redraw(i),k.add(i,s,u,l,c),o;Array.isArray(n)||(n=[n]);try{C(i,a,n)}catch(t){throw i.data.splice(i.data.length-e.length,e.length),t}return k.startSequence(i),k.add(i,s,u,l,c),o=T.moveTraces(i,a,n),k.stopSequence(i),o},T.deleteTraces=function t(e,n){e=z.getGraphDiv(e);var r,i,o=[],a=T.addTraces,s=t,l=[e,o,n],u=[e,n];if(void 0===n)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(n)||(n=[n]),w(e,n,"indices"),(n=_(n,e.data.length-1)).sort(z.sorterDes),r=0;r<n.length;r+=1)i=e.data.splice(n[r],1)[0],o.push(i);var c=T.redraw(e);return k.add(e,a,l,s,u),c},T.extendTraces=function t(e,n,r,i){n=o(e=z.getGraphDiv(e),n,r,i,function(t,e,n){var r,i,o,a;return z.isTypedArray(t)?n<0?(r=new t.constructor(0),i=s(t,e),r=n<0?(a=i,r):(a=r,i)):(a=new t.constructor(n),r=new t.constructor(t.length+e.length-n),n===e.length?(a.set(e),r.set(t)):n<e.length?(o=e.length-n,a.set(e.subarray(o)),r.set(t),r.set(e.subarray(0,o),t.length)):(i=n-e.length,o=t.length-i,a.set(t.subarray(o)),a.set(e,i),r.set(t.subarray(0,o)))):(a=t.concat(e),r=0<=n&&n<a.length?a.splice(0,a.length-n):[]),[a,r]}),i=T.redraw(e),n=[e,n.update,r,n.maxPoints];return k.add(e,T.prependTraces,n,t,arguments),i},T.moveTraces=function t(e,n,r){var i,o=[],a=[],s=t,l=t,u=[e=z.getGraphDiv(e),r,n],c=[e,n,r];if(C(e,n,r),n=Array.isArray(n)?n:[n],void 0===r)for(r=[],i=0;i<n.length;i++)r.push(-n.length+i);for(r=Array.isArray(r)?r:[r],n=_(n,e.data.length-1),r=_(r,e.data.length-1),i=0;i<e.data.length;i++)-1===n.indexOf(i)&&o.push(e.data[i]);for(i=0;i<n.length;i++)a.push({newIndex:r[i],trace:e.data[n[i]]});for(a.sort(function(t,e){return t.newIndex-e.newIndex}),i=0;i<a.length;i+=1)o.splice(a[i].newIndex,0,a[i].trace);e.data=o;var f=T.redraw(e);return k.add(e,s,u,l,c),f},T.prependTraces=function t(e,n,r,i){n=o(e=z.getGraphDiv(e),n,r,i,function(t,e,n){var r,i,o,a;return z.isTypedArray(t)?n<=0?(r=new t.constructor(0),i=s(e,t),i=n<0?(a=i,r):(a=r,i)):(a=new t.constructor(n),i=new t.constructor(t.length+e.length-n),n===e.length?(a.set(e),i.set(t)):n<e.length?(o=e.length-n,a.set(e.subarray(0,o)),i.set(e.subarray(o)),i.set(t,o)):(o=n-e.length,a.set(e),a.set(t.subarray(0,o),e.length),i.set(t.subarray(o)))):(a=e.concat(t),i=0<=n&&n<a.length?a.splice(n,a.length):[]),[a,i]}),i=T.redraw(e),n=[e,n.update,r,n.maxPoints];return k.add(e,T.extendTraces,n,t,arguments),i},T.newPlot=function(t,e,n,r){return t=z.getGraphDiv(t),F.cleanPlot([],{},t._fullData||[],t._fullLayout||{}),F.purge(t),T.plot(t,e,n,r)},T.plot=function(i,t,e,n){var r,o;if(i=z.getGraphDiv(i),g.init(i),z.isPlainObject(t)&&(t=(o=t).data,e=o.layout,n=o.config,r=o.frames),!1===g.triggerHandler(i,"plotly_beforeplot",[t,e,n]))return Promise.reject();t||e||z.isPlotDiv(i)||z.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",i),E(i,n),e=e||{},p.select(i).classed("js-plotly-plot",!0),y.makeTester(),Array.isArray(i._promises)||(i._promises=[]);var a=0===(i.data||[]).length&&Array.isArray(t);Array.isArray(t)&&(G.cleanData(t),a?i.data=t:i.data.push.apply(i.data,t),i.empty=!1),i.layout&&!a||(i.layout=G.cleanLayout(e)),F.supplyDefaults(i);var s=i._fullLayout,n=s._has("cartesian");if(!s._has("polar")&&t&&t[0]&&t[0].r)return z.log("Legacy polar charts are deprecated!"),function(e,t,n){var r=p.select(e).selectAll(".plot-container").data([0]);r.enter().insert("div",":first-child").classed("plot-container plotly",!0);var i=r.selectAll(".svg-container").data([0]);i.enter().append("div").classed("svg-container",!0).style("position","relative"),i.html(""),t&&(e.data=t);n&&(e.layout=n);m.manager.fillLayout(e),i.style({width:e._fullLayout.width+"px",height:e._fullLayout.height+"px"}),e.framework=m.manager.framework(e),e.framework({data:e.data,layout:e.layout},i.node()),e.framework.setUndoPoint();r=e.framework.svg(),t=1,n=e._fullLayout.title?e._fullLayout.title.text:"";""!==n&&n||(t=0);function o(){this.call(b.convertToTspans,e)}i=r.select(".title-group text").call(o);{var a;e._context.edits.titleText&&(r=z._(e,"Click to enter Plot title"),n&&n!==r||(t=.2,i.attr({"data-unformatted":r}).text(r).style({opacity:t}).on("mouseover.opacity",function(){p.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){p.select(this).transition().duration(1e3).style("opacity",0)})),a=function(){this.call(b.makeEditable,{gd:e}).on("edit",function(t){e.framework({layout:{title:{text:t}}}),this.text(t).call(o),this.call(a)}).on("cancel",function(){var t=this.attr("data-unformatted");this.text(t).call(o)})},i.call(a))}return e._context.setBackground(e,e._fullLayout.paper_bgcolor),F.addLinks(e),Promise.resolve()}(i,t,e);s._replotting=!0,(a||s._shouldCreateBgLayer)&&(st(i),s._shouldCreateBgLayer&&delete s._shouldCreateBgLayer),i.framework!==st&&(i.framework=st)(i),y.initGradients(i),a&&q.saveShowSpikeInitial(i);var l=!i.calcdata||i.calcdata.length!==(i._fullData||[]).length;l&&F.doCalcdata(i);for(var u=0;u<i.calcdata.length;u++)i.calcdata[u][0].trace=i._fullData[u];i._context.responsive?i._responsiveChartHandler||(i._responsiveChartHandler=function(){z.isHidden(i)||F.resize(i)},window.addEventListener("resize",i._responsiveChartHandler)):z.clearResponsive(i);var c=z.extendFlat({},s._size),f=0;function h(){if(F.clearAutoMarginIds(i),M.drawMarginPushers(i),q.allowAutoMargin(i),s._has("pie"))for(var t=i._fullData,e=0;e<t.length;e++){var n=t[e];"pie"===n.type&&n.automargin&&F.allowAutoMargin(i,"pie."+n.uid+".automargin")}return F.doAutoMargin(i),F.previousPromises(i)}function d(){i._transitioning||(M.doAutoRangeAndConstraints(i),a&&q.saveRangeInitial(i),U.getComponentMethod("rangeslider","calcAutorange")(i))}return e=[F.previousPromises,function(){if(r)return T.addFrames(i,r)},function t(){for(var e=s._basePlotModules,n=0;n<e.length;n++)e[n].drawFramework&&e[n].drawFramework(i);if(!s._glcanvas&&s._has("gl")&&(s._glcanvas=s._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(t){return t.key}),s._glcanvas.enter().append("canvas").attr("class",function(t){return"gl-canvas gl-canvas-"+t.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"})),s._glcanvas){s._glcanvas.attr("width",s.width).attr("height",s.height);var r=s._glcanvas.data()[0].regl;if(r&&(Math.floor(s.width)!==r._gl.drawingBufferWidth||Math.floor(s.height)!==r._gl.drawingBufferHeight)){if(r="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.",!f)return z.log(r+" Clearing graph and plotting again."),F.cleanPlot([],{},i._fullData,s),F.supplyDefaults(i),s=i._fullLayout,F.doCalcdata(i),f++,t();z.error(r)}}return"h"===s.modebar.orientation?s._modebardiv.style("height",null).style("width","100%"):s._modebardiv.style("width",null).style("height",s.height+"px"),F.previousPromises(i)},h,function(){if(F.didMarginChange(c,s._size))return z.syncOrAsync([h,M.layoutStyles],i)}],n&&e.push(function(){if(l)return z.syncOrAsync([U.getComponentMethod("shapes","calcAutorange"),U.getComponentMethod("annotations","calcAutorange"),d],i);d()}),e.push(M.layoutStyles),n&&e.push(function(){return q.draw(i,a?"":"redraw")},function(t){t._fullLayout._insideTickLabelsAutorange&&j(t,t._fullLayout._insideTickLabelsAutorange).then(function(){t._fullLayout._insideTickLabelsAutorange=void 0})}),e.push(M.drawData,M.finalDraw,v,F.addLinks,F.rehover,F.redrag,F.doAutoMargin,function(t){t._fullLayout._insideTickLabelsAutorange&&a&&q.saveRangeInitial(t,!0)},F.previousPromises),(e=z.syncOrAsync(e,i))&&e.then||(e=Promise.resolve()),e.then(function(){return S(i),i})},T.purge=function(t){var e=(t=z.getGraphDiv(t))._fullLayout||{},n=t._fullData||[];return F.cleanPlot([],{},n,e),F.purge(t),g.purge(t),e._container&&e._container.remove(),delete t._context,t},T.react=function(t,e,n,r){var i;t=z.getGraphDiv(t),G.clearPromiseQueue(t);var o=t._fullData,a=t._fullLayout;if(z.isPlotDiv(t)&&o&&a){z.isPlainObject(e)&&(e=(g=e).data,n=g.layout,r=g.config,i=g.frames);var s=!1;r&&(y=z.extendDeep({},t._context),t._context=void 0,E(t,r),s=function t(e,n){for(var r in e)if("_"!==r.charAt(0)){var i=e[r],o=n[r];if(i!==o)if(z.isPlainObject(i)&&z.isPlainObject(o)){if(t(i,o))return!0}else{if(!Array.isArray(i)||!Array.isArray(o))return!0;if(i.length!==o.length)return!0;for(var a=0;a<i.length;a++)if(i[a]!==o[a]){if(!z.isPlainObject(i[a])||!z.isPlainObject(o[a]))return!0;if(t(i[a],o[a]))return!0}}}}(y,t._context)),t.data=e||[],G.cleanData(t.data),t.layout=n||{},G.cleanLayout(t.layout),it(t.data,t.layout,o,a);for(var l=Object.getOwnPropertyNames(a),u=0;u<l.length;u++){var c=l[u],f=c.substring(0,5);"xaxis"!==f&&"yaxis"!==f||(c=a[c]._emptyCategories)&&c()}F.supplyDefaults(t,{skipUpdateCalc:!0});var h=t._fullData,d=t._fullLayout,p=void 0===d.datarevision,g=d.transition,m=function(t,e,n,r,i){var o=W.layoutFlags();o.arrays={},o.rangesAltered={},o.nChanges=0,o.nChangesAnim=0,ot(e,n,[],{getValObject:function(t){return H.getLayoutValObject(n,t)},flags:o,immutable:r,transition:i,gd:t}),(o.plot||o.calc)&&(o.layoutReplot=!0);i&&o.nChanges&&o.nChangesAnim&&(o.anim=o.nChanges===o.nChangesAnim?"all":"some");return o}(t,a,d,p,g),y=m.newDataRevision,v=function(t,e,n,r,i,o){var a=e.length===n.length;if(!i&&!a)return{fullReplot:!0,calc:!0};var s,l,u=W.traceFlags();u.arrays={},u.nChanges=0,u.nChangesAnim=0;var c={getValObject:function(t){return t=H.getTraceValObject(l,t),!l._module.animatable&&t.anim&&(t.anim=!1),t},flags:u,immutable:r,transition:i,newDataRevision:o,gd:t},f={};for(s=0;s<e.length;s++)n[s]&&(l=n[s]._fullInput,F.hasMakesDataTransform(l)&&(l=n[s]),f[l.uid]||(f[l.uid]=1,ot(e[s]._fullInput,l,[],c)));(u.calc||u.plot)&&(u.fullReplot=!0);i&&u.nChanges&&u.nChangesAnim&&(u.anim=u.nChanges===u.nChangesAnim&&a?"all":"some");return u}(t,o,h,p,g,y);tt(t)&&(m.layoutReplot=!0),v.calc||m.calc?t.calcdata=void 0:F.supplyDefaultsUpdateCalc(t.calcdata,h);var h=[];if(i&&(t._transitionData={},F.createTransitionData(t),h.push(function(){return T.addFrames(t,i)})),d.transition&&!s&&(v.anim||m.anim))m.ticks&&h.push(M.doTicksRelayout),F.doCalcdata(t),M.doAutoRangeAndConstraints(t),h.push(function(){return F.transitionFromReact(t,v,m,a)});else if(v.fullReplot||m.layoutReplot||s)t._fullLayout._skipDefaults=!0,h.push(T.plot);else{for(var b in m.arrays){var x=m.arrays[b];if(x.length){var _=U.getComponentMethod(b,"drawOne");if(_!==z.noop)for(var w=0;w<x.length;w++)_(t,x[w]);else{var k=U.getComponentMethod(b,"draw");if(k===z.noop)throw new Error("cannot draw components: "+b);k(t)}}}h.push(F.previousPromises),v.style&&h.push(M.doTraceStyle),(v.colorbars||m.colorbars)&&h.push(M.doColorBars),m.legend&&h.push(M.doLegend),m.layoutstyle&&h.push(M.layoutStyles),m.axrange&&P(h),m.ticks&&h.push(M.doTicksRelayout),m.modebar&&h.push(M.doModeBar),m.camera&&h.push(M.doCamera),h.push(S)}h.push(F.rehover,F.redrag),(h=z.syncOrAsync(h,t))&&h.then||(h=Promise.resolve(t))}else h=T.newPlot(t,e,n,r);return h.then(function(){return t.emit("plotly_react",{data:e,layout:n}),t})},T.redraw=function(t){if(t=z.getGraphDiv(t),!z.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);return G.cleanData(t.data),G.cleanLayout(t.layout),t.calcdata=void 0,T.plot(t).then(function(){return t.emit("plotly_redraw"),t})},T.relayout=j,T.restyle=a,T.setPlotConfig=function(t){return z.extendFlat(f,t)},T.update=L,T._guiRelayout=R(j),T._guiRestyle=R(a),T._guiUpdate=R(L),T._storeDirectGUIEdit=function(t,e,n){for(var r in n)O(r,B(t,r).get(),n[r],e)}},{"../components/color":646,"../components/drawing":668,"../constants/xmlns_namespaces":755,"../lib":776,"../lib/events":768,"../lib/queue":790,"../lib/svg_text_utils":799,"../plots/cartesian/axes":823,"../plots/cartesian/constants":829,"../plots/cartesian/graph_interact":832,"../plots/cartesian/select":842,"../plots/plots":868,"../plots/polar/legacy":871,"../registry":877,"./edit_types":805,"./helpers":806,"./manage_arrays":808,"./plot_config":810,"./plot_schema":811,"./subroutines":813,d3:629,"fast-isnumeric":450,"has-hover":546}],810:[function(t,e,n){"use strict";var r={staticPlot:{valType:"boolean",dflt:!1},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},i={};!function t(e,n){for(var r in e){var i=e[r];i.valType?n[r]=i.dflt:(n[r]||(n[r]={}),t(i,n[r]))}}(r,i),e.exports={configAttributes:r,dfltConfig:i}},{}],811:[function(t,e,f){"use strict";var c=t("../registry"),n=t("../lib"),h=t("../plots/attributes"),d=t("../plots/layout_attributes"),r=t("../plots/frame_attributes"),o=t("../plots/animation_attributes"),a=t("./plot_config").configAttributes,s=t("../plots/polar/legacy/area_attributes"),p=t("../plots/polar/legacy/axis_attributes"),l=t("./edit_types"),u=n.extendFlat,g=n.extendDeepAll,m=n.isPlainObject,y=n.isArrayOrTypedArray,v=n.nestedProperty,b=n.valObjectMeta,i="_isSubplotObj",x="_isLinkedToArray",n="_deprecated",_=[i,x,"_arrayAttrRegexps",n];function w(t,e,n){if(!t)return!1;if(t._isLinkedToArray)if(k(e[n]))n++;else if(n<e.length)return!1;for(;n<e.length;n++){var r=t[e[n]];if(!m(r))break;if(t=r,n===e.length-1)break;if(t._isLinkedToArray){if(!k(e[++n]))return!1}else if("info_array"===t.valType){var i=e[++n];if(!k(i))return!1;var o=t.items;if(Array.isArray(o)){if(i>=o.length)return!1;if(2===t.dimensions){if(n++,e.length===n)return t;r=e[n];if(!k(r))return!1;t=o[i][r]}else t=o[i]}else t=o}}return t}function k(t){return t===Math.round(t)&&0<=t}function T(t){function r(){return{valType:"string",editType:"none"}}var e;return e=t,f.crawl(e,function(t,e,n){f.isValObject(t)?"data_array"===t.valType?(t.role="data",n[e+"src"]=r()):!0===t.arrayOk&&(n[e+"src"]=r()):m(t)&&(t.role="object")}),e=t,f.crawl(e,function(t,e,n){var r;!t||(r=t[x])&&(delete t[x],n[e]={items:{}},n[e].items[r]=t,n[e].role="object")}),function t(e){for(var n in e)if(m(e[n]))t(e[n]);else if(Array.isArray(e[n]))for(var r=0;r<e[n].length;r++)t(e[n][r]);else e[n]instanceof RegExp&&(e[n]=e[n].toString())}(t),t}function M(t,e,n){n=v(t,n),e=g({},e.layoutAttributes);e[i]=!0,n.set(e)}function A(t,e,n){n=v(t,n);n.set(g(n.get()||{},e))}f.IS_SUBPLOT_OBJ=i,f.IS_LINKED_TO_ARRAY=x,f.DEPRECATED=n,f.UNDERSCORE_ATTRS=_,f.get=function(){var e={};c.allTypes.concat("area").forEach(function(t){e[t]=function(t){var e,n;n="area"===t?(e={attributes:s},{}):(e=c.modules[t]._module,e.basePlotModule);var r={type:null},o=g({},h),a=g({},e.attributes);f.crawl(a,function(t,e,n,r,i){v(o,i).set(void 0),void 0===t&&v(a,i).set(void 0)}),g(r,o),c.traceIs(t,"noOpacity")&&delete r.opacity;c.traceIs(t,"showLegend")||(delete r.showlegend,delete r.legendgroup);c.traceIs(t,"noHover")&&(delete r.hoverinfo,delete r.hoverlabel);e.selectPoints||delete r.selectedpoints;g(r,a),n.attributes&&g(r,n.attributes);r.type=t;t={meta:e.meta||{},categories:e.categories||{},animatable:Boolean(e.animatable),type:t,attributes:T(r)};e.layoutAttributes&&(g(r={},e.layoutAttributes),t.layoutAttributes=T(r));e.animatable||f.crawl(t,function(t){f.isValObject(t)&&"anim"in t&&delete t.anim});return t}(t)});var t,i={};return Object.keys(c.transformsRegistry).forEach(function(t){var n,r;i[t]=(n=t,t=c.transformsRegistry[n],r=g({},t.attributes),Object.keys(c.componentsRegistry).forEach(function(t){var e=c.componentsRegistry[t];e.schema&&e.schema.transforms&&e.schema.transforms[n]&&Object.keys(e.schema.transforms[n]).forEach(function(t){A(r,e.schema.transforms[n][t],t)})}),{attributes:T(r)})}),{defs:{valObjects:b,metaKeys:_.concat(["description","role","editType","impliedEdits"]),editType:{traces:l.traces,layout:l.layout},impliedEdits:{}},traces:e,layout:function(){var t,e,n={};for(t in g(n,d),c.subplotsRegistry)if((e=c.subplotsRegistry[t]).layoutAttributes)if(Array.isArray(e.attr))for(var r=0;r<e.attr.length;r++)M(n,e,e.attr[r]);else{var i="subplot"===e.attr?e.name:e.attr;M(n,e,i)}for(t in n=function(t){return u(t,{radialaxis:p.radialaxis,angularaxis:p.angularaxis}),u(t,p.layout),t}(n),c.componentsRegistry){var o=(e=c.componentsRegistry[t]).schema;if(o&&(o.subplots||o.layout)){o=o.subplots;if(o&&o.xaxis&&!o.yaxis)for(var a in o.xaxis)delete n.yaxis[a]}else"colorscale"===e.name?g(n,e.layoutAttributes):e.layoutAttributes&&A(n,e.layoutAttributes,e.name)}return{layoutAttributes:T(n)}}(),transforms:i,frames:(T(t={frames:g({},r)}),t.frames),animation:T(o),config:T(a)}},f.crawl=function(r,i,t,o){var a=t||0;o=o||"",Object.keys(r).forEach(function(t){var e,n=r[t];-1===_.indexOf(t)&&(i(n,t,r,a,e=(o?o+".":"")+t),f.isValObject(n)||m(n)&&"impliedEdits"!==t&&f.crawl(n,i,a+1,e))})},f.isValObject=function(t){return t&&void 0!==t.valType},f.findArrayAttributes=function(t){var i,s,l=[],u=[],c=[];function e(t,e,n,r){u=u.slice(0,r).concat([e]),c=c.slice(0,r).concat([t&&t._isLinkedToArray]),!t||"data_array"!==t.valType&&!0!==t.arrayOk||"colorbar"===u[r-1]&&("ticktext"===e||"tickvals"===e)||function t(e,n,r){var i=e[u[n]];var o=r+u[n];if(n===u.length-1)y(i)&&l.push(s+o);else if(c[n]){if(Array.isArray(i))for(var a=0;a<i.length;a++)m(i[a])&&t(i[a],n+1,o+"["+a+"].")}else m(i)&&t(i,n+1,o+".")}(i,0,"")}i=t,s="",f.crawl(h,e),t._module&&t._module.attributes&&f.crawl(t._module.attributes,e);var n=t.transforms;if(n)for(var r=0;r<n.length;r++){var o=n[r],a=o._module;a&&(s="transforms["+r+"].",i=o,f.crawl(a.attributes,e))}return l},f.getTraceValObject=function(t,e){var n,r=e[0],i=1;if("transforms"===r){if(1===e.length)return h.transforms;var o=t.transforms;if(!Array.isArray(o)||!o.length)return!1;var a=e[1];if(!k(a)||a>=o.length)return!1;o=(n=(c.transformsRegistry[o[a].type]||{}).attributes)&&n[e[2]],i=3}else if("area"===t.type)o=s[r];else{a=t._module;if(!(a=a||(c.modules[t.type||h.type.dflt]||{})._module))return!1;(o=(n=a.attributes)&&n[r])||(a=a.basePlotModule)&&a.attributes&&(o=a.attributes[r]),o=o||h[r]}return w(o,e,i)},f.getLayoutValObject=function(t,e){return w(function(t,e){var n,r,i,o,a,s=t._basePlotModules;if(s){for(n=0;n<s.length;n++){if((i=s[n]).attrRegex&&i.attrRegex.test(e)){if(i.layoutAttrOverrides)return i.layoutAttrOverrides;!a&&i.layoutAttributes&&(a=i.layoutAttributes)}var l=i.baseLayoutAttrOverrides;if(l&&e in l)return l[e]}if(a)return a}var u=t._modules;if(u)for(n=0;n<u.length;n++)if((o=u[n].layoutAttributes)&&e in o)return o[e];for(r in c.componentsRegistry){if("colorscale"===(i=c.componentsRegistry[r]).name&&0===e.indexOf("coloraxis"))return i.layoutAttributes[e];if(!i.schema&&e===i.name)return i.layoutAttributes}return e in d?d[e]:"radialaxis"!==e&&"angularaxis"!==e?p.layout[e]||!1:p[e]}(t,e[0]),e,1)}},{"../lib":776,"../plots/animation_attributes":817,"../plots/attributes":819,"../plots/frame_attributes":852,"../plots/layout_attributes":866,"../plots/polar/legacy/area_attributes":869,"../plots/polar/legacy/axis_attributes":870,"../registry":877,"./edit_types":805,"./plot_config":810}],812:[function(t,e,n){"use strict";var f=t("../lib"),a=t("../plots/attributes"),h="templateitemname",r={name:{valType:"string",editType:"none"}};function u(t){return t&&"string"==typeof t}function i(t){var e=t.length-1;return"s"!==t.charAt(e)&&f.warn("bad argument to arrayDefaultKey: "+t),t.substr(0,t.length-1)+"defaults"}r[h]={valType:"string",editType:"calc"},n.templatedArray=function(t,e){return e._isLinkedToArray=t,e.name=r.name,e[h]=r[h],e},n.traceTemplater=function(n){var r,i,o={};for(r in n)i=n[r],Array.isArray(i)&&i.length&&(o[r]=0);return{newTrace:function(t){var e={type:r=f.coerce(t,{},a,"type"),_template:null};return r in o&&(i=n[r],t=o[r]%i.length,o[r]++,e._template=i[t]),e}}},n.newContainer=function(t,e,n){var r=t._template,n=r&&(r[e]||n&&r[n]);return f.isPlainObject(n)||(n=null),t[e]={_template:n}},n.arrayTemplater=function(t,e,o){var t=t._template,a=t&&t[i(e)],s=t&&t[e];Array.isArray(s)&&s.length||(s=[]);var l={};return{newItem:function(t){var e={name:t.name,_input:t},n=e[h]=t[h];if(!u(n))return e._template=a,e;for(var r=0;r<s.length;r++){var i=s[r];if(i.name===n)return l[n]=1,e._template=i,e}return e[o]=t[o]||!1,e._template=!1,e},defaultItems:function(){for(var t=[],e=0;e<s.length;e++){var n,r=s[e],i=r.name;u(i)&&!l[i]&&((n={_template:r,name:i,_input:{_templateitemname:i}})[h]=r[h],t.push(n),l[i]=1)}return t}}},n.arrayDefaultKey=i,n.arrayEditor=function(i,t,e){var n=(f.nestedProperty(i,t).get()||[]).length,r=e._index,o=n<=r&&(e._input||{})._templateitemname;o&&(r=n);var a,s=t+"["+r+"]";function l(){a={},o&&(a[s]={},a[s][h]=o)}function u(t,e){o?f.nestedProperty(a[s],t).set(e):a[s+"."+t]=e}function c(){var t=a;return l(),t}return l(),{modifyBase:function(t,e){a[t]=e},modifyItem:u,getUpdateObj:c,applyUpdate:function(t,e){t&&u(t,e);var n,r=c();for(n in r)f.nestedProperty(i,n).set(r[n])}}}},{"../lib":776,"../plots/attributes":819}],813:[function(t,e,I){"use strict";var F=t("d3"),c=t("../registry"),z=t("../plots/plots"),B=t("../lib"),f=t("../lib/clear_gl_canvases"),U=t("../components/color"),H=t("../components/drawing"),i=t("../components/titles"),q=t("../components/modebar"),V=t("../plots/cartesian/axes"),G=t("../constants/alignment"),n=t("../plots/cartesian/constraints"),l=n.enforce,u=n.clean,h=t("../plots/cartesian/autorange").doAutoRange;function r(t){var e,r,n,i,o,a=t._fullLayout,s=a._size,l=s.p,u=V.list(t,"",!0);if(a._paperdiv.style({width:t._context.responsive&&a.autosize&&!t._context._hasZeroWidth&&!t.layout.width?"100%":a.width+"px",height:t._context.responsive&&a.autosize&&!t._context._hasZeroHeight&&!t.layout.height?"100%":a.height+"px"}).selectAll(".main-svg").call(H.setSize,a.width,a.height),t._context.setBackground(t,a.paper_bgcolor),I.drawMainTitle(t),q.manage(t),!a._has("cartesian"))return z.previousPromises(t);function c(t,e,n){var r=t._lw/2;return"x"===t._id.charAt(0)?e?"top"===n?e._offset-l-r:e._offset+e._length+l+r:s.t+s.h*(1-(t.position||0))+r%1:e?"right"===n?e._offset+e._length+l+r:e._offset-l-r:s.l+s.w*(t.position||0)+r%1}for(e=0;e<u.length;e++){var f=(n=u[e])._anchorAxis;n._linepositions={},n._lw=H.crispRound(t,n.linewidth,1),n._mainLinePosition=c(n,f,n.side),n._mainMirrorPosition=n.mirror&&f?c(n,f,G.OPPOSITE_SIDE[n.side]):null}var h,d,p,g,m=[],y=[],v=[],b=1===U.opacity(a.paper_bgcolor)&&1===U.opacity(a.plot_bgcolor)&&a.paper_bgcolor===a.plot_bgcolor;for(r in a._plots)(g=a._plots[r]).mainplot?(g.bg&&g.bg.remove(),g.bg=void 0):(h=g.xaxis.domain,d=g.yaxis.domain,p=g.plotgroup,!function(t,e,n){for(var r=0;r<n.length;r++){var i=n[r][0],o=n[r][1];if(!(i[0]>=t[1]||i[1]<=t[0])&&(o[0]<e[1]&&o[1]>e[0]))return 1}}(h,d,v)?(p.select("rect.bg").remove(),v.push([h,d]),b||(m.push(r),y.push(r))):(d=p.node(),p=g.bg=B.ensureSingle(p,"rect","bg"),d.insertBefore(p.node(),d.childNodes[0]),y.push(r)));var x,_,w,k,T,M,A=a._bgLayer.selectAll(".bg").data(m);for(A.enter().append("rect").classed("bg",!0),A.exit().remove(),A.each(function(t){a._plots[t].bg=F.select(this)}),e=0;e<y.length;e++)g=a._plots[y[e]],i=g.xaxis,o=g.yaxis,g.bg&&void 0!==i._offset&&void 0!==o._offset&&g.bg.call(H.setRect,i._offset-l,o._offset-l,i._length+2*l,o._length+2*l).call(U.fill,a.plot_bgcolor).style("stroke-width",0);if(!a._hasOnlyLargeSploms)for(r in a._plots){g=a._plots[r],i=g.xaxis,o=g.yaxis;var S,E=g.clipId="clip"+a._uid+r+"plot",C=B.ensureSingleById(a._clips,"clipPath",E,function(t){t.classed("plotclip",!0).append("rect")});g.clipRect=C.select("rect").attr({width:i._length,height:o._length}),H.setTranslate(g.plot,i._offset,o._offset),E=g._hasClipOnAxisFalse?(S=null,E):(S=E,null),H.setClipUrl(g.plot,S,t),g.layerClipId=E}function O(t){return"M"+x+","+t+"H"+_}function j(t){return"M"+i._offset+","+t+"h"+i._length}function P(t){return"M"+t+","+k+"V"+w}function N(t){return"M"+t+","+o._offset+"v"+o._length}function L(t,e,n){if(!t.showline||r!==t._mainSubplot)return"";if(!t._anchorAxis)return n(t._mainLinePosition);n=e(t._mainLinePosition);return t.mirror&&(n+=e(t._mainMirrorPosition)),n}for(r in a._plots){g=a._plots[r],i=g.xaxis,o=g.yaxis;var R="M0,0";W(i,r)&&(T=Y(i,"left",o,u),x=i._offset-(T?l+T:0),M=Y(i,"right",o,u),_=i._offset+i._length+(M?l+M:0),D=c(i,o,"bottom"),T=c(i,o,"top"),!(M=!i._anchorAxis||r!==i._mainSubplot)||"allticks"!==i.mirror&&"all"!==i.mirror||(i._linepositions[r]=[D,T]),R=L(i,O,j),M&&i.showline&&("all"===i.mirror||"allticks"===i.mirror)&&(R+=O(D)+O(T)),g.xlines.style("stroke-width",i._lw+"px").call(U.stroke,i.showline?i.linecolor:"rgba(0,0,0,0)")),g.xlines.attr("d",R);var D="M0,0";W(o,r)&&(T=Y(o,"bottom",i,u),w=o._offset+o._length+(T?l:0),R=Y(o,"top",i,u),k=o._offset-(R?l:0),T=c(o,i,"left"),R=c(o,i,"right"),!(M=!o._anchorAxis||r!==o._mainSubplot)||"allticks"!==o.mirror&&"all"!==o.mirror||(o._linepositions[r]=[T,R]),D=L(o,P,N),M&&o.showline&&("all"===o.mirror||"allticks"===o.mirror)&&(D+=P(T)+P(R)),g.ylines.style("stroke-width",o._lw+"px").call(U.stroke,o.showline?o.linecolor:"rgba(0,0,0,0)")),g.ylines.attr("d",D)}return V.makeClipPaths(t),z.previousPromises(t)}function W(t,e){return(t.ticks||t.showline)&&(e===t._mainSubplot||"all"===t.mirror||"allticks"===t.mirror)}function a(t,e,n){if(n.showline&&n._lw){if("all"===n.mirror||"allticks"===n.mirror)return 1;var r=n._anchorAxis;if(r){var i=G.FROM_BL[e];return n.side===e?r.domain[i]===t.domain[i]:n.mirror&&r.domain[1-i]===t.domain[1-i]}}}function Y(t,e,n,r){if(a(t,e,n))return n._lw;for(var i=0;i<r.length;i++){var o=r[i];if(o._mainAxis===n._mainAxis&&a(t,e,o))return o._lw}return 0}I.layoutStyles=function(t){return B.syncOrAsync([z.doAutoMargin,r],t)},I.drawMainTitle=function(t){var e=t._fullLayout,n=function(t){var e=t.title,t="middle";B.isRightAnchor(e)?t="end":B.isLeftAnchor(e)&&(t="start");return t}(e),r=function(t){var e=t.title,t="0em";B.isTopAnchor(e)?t=G.CAP_SHIFT+"em":B.isMiddleAnchor(e)&&(t=G.MID_SHIFT+"em");return t}(e);i.draw(t,"gtitle",{propContainer:e,propName:"title.text",placeholder:e._dfltTitle.plot,attributes:{x:function(t,e){var n=t.title,r=t._size,i=0;"start"===e?i=n.pad.l:"end"===e&&(i=-n.pad.r);switch(n.xref){case"paper":return r.l+r.w*n.x+i;case"container":default:return t.width*n.x+i}}(e,n),y:function(t,e){var n=t.title,r=t._size,i=0;"0em"!==e&&e?e===G.CAP_SHIFT+"em"&&(i=n.pad.t):i=-n.pad.b;{if("auto"===n.y)return r.t/2;switch(n.yref){case"paper":return r.t+r.h-r.h*n.y+i;case"container":default:return t.height-t.height*n.y+i}}}(e,r),"text-anchor":n,dy:r}})},I.doTraceStyle=function(t){for(var e=t.calcdata,n=[],r=0;r<e.length;r++){var i=e[r],o=i[0]||{},a=o.trace||{},s=a._module||{},l=s.arraysToCalcdata;l&&l(i,a);s=s.editStyle;s&&n.push({fn:s,cd0:o})}if(n.length){for(r=0;r<n.length;r++){var u=n[r];u.fn(t,u.cd0)}f(t),I.redrawReglTraces(t)}return z.style(t),c.getComponentMethod("legend","draw")(t),z.previousPromises(t)},I.doColorBars=function(t){return c.getComponentMethod("colorbar","draw")(t),z.previousPromises(t)},I.layoutReplot=function(t){var e=t.layout;return t.layout=void 0,c.call("plot",t,"",e)},I.doLegend=function(t){return c.getComponentMethod("legend","draw")(t),z.previousPromises(t)},I.doTicksRelayout=function(t){return V.draw(t,"redraw"),t._fullLayout._hasOnlyLargeSploms&&(c.subplotsRegistry.splom.updateGrid(t),f(t),I.redrawReglTraces(t)),I.drawMainTitle(t),z.previousPromises(t)},I.doModeBar=function(t){var e=t._fullLayout;q.manage(t);for(var n=0;n<e._basePlotModules.length;n++){var r=e._basePlotModules[n].updateFx;r&&r(t)}return z.previousPromises(t)},I.doCamera=function(t){for(var e=t._fullLayout,n=e._subplots.gl3d,r=0;r<n.length;r++){var i=e[n[r]];i._scene.setViewport(i)}},I.drawData=function(t){var e=t._fullLayout;f(t);for(var n=e._basePlotModules,r=0;r<n.length;r++)n[r].plot(t);return I.redrawReglTraces(t),z.style(t),c.getComponentMethod("shapes","draw")(t),c.getComponentMethod("annotations","draw")(t),c.getComponentMethod("images","draw")(t),e._replotting=!1,z.previousPromises(t)},I.redrawReglTraces=function(t){var e=t._fullLayout;if(e._has("regl")){var n,r,i=t._fullData,o=[],a=[];for(e._hasOnlyLargeSploms&&e._splomGrid.draw(),n=0;n<i.length;n++){var s=i[n];!0===s.visible&&0!==s._length&&("splom"===s.type?e._splomScenes[s.uid].draw():"scattergl"===s.type?B.pushUnique(o,s.xaxis+s.yaxis):"scatterpolargl"===s.type&&B.pushUnique(a,s.subplot))}for(n=0;n<o.length;n++)(r=e._plots[o[n]])._scene&&r._scene.draw();for(n=0;n<a.length;n++)(r=e[a[n]]._subplot)._scene&&r._scene.draw()}},I.doAutoRangeAndConstraints=function(t){for(var e,n=V.list(t,"",!0),r={},i=0;i<n.length;i++)if(!r[(e=n[i])._id]){r[e._id]=1,u(t,e),h(t,e);var o=e._matchGroup;if(o)for(var a in o){var s=V.getFromId(t,a);h(t,s,e.range),r[a]=1}}l(t)},I.finalDraw=function(t){c.getComponentMethod("rangeslider","draw")(t),c.getComponentMethod("rangeselector","draw")(t)},I.drawMarginPushers=function(t){c.getComponentMethod("legend","draw")(t),c.getComponentMethod("rangeselector","draw")(t),c.getComponentMethod("sliders","draw")(t),c.getComponentMethod("updatemenus","draw")(t),c.getComponentMethod("colorbar","draw")(t)}},{"../components/color":646,"../components/drawing":668,"../components/modebar":706,"../components/titles":741,"../constants/alignment":748,"../lib":776,"../lib/clear_gl_canvases":763,"../plots/cartesian/autorange":822,"../plots/cartesian/axes":823,"../plots/cartesian/constraints":830,"../plots/plots":868,"../registry":877,d3:629}],814:[function(t,e,n){"use strict";var v=t("../lib"),b=v.isPlainObject,f=t("./plot_schema"),p=t("../plots/plots"),h=t("../plots/attributes"),x=t("./plot_template"),g=t("./plot_config").dfltConfig;function d(s,t){s=v.extendDeep({},s);var e,l,n=Object.keys(s).sort();function r(t,e,n){if(b(e)&&b(t))d(t,e);else if(Array.isArray(e)&&Array.isArray(t)){var r=x.arrayTemplater({_template:s},n);for(l=0;l<e.length;l++){var i=e[l],o=r.newItem(i)._template;o&&d(o,i)}var a=r.defaultItems();for(l=0;l<a.length;l++)e.push(a[l]._template);for(l=0;l<e.length;l++)delete e[l].templateitemname}}for(e=0;e<n.length;e++){var i=n[e],o=s[i];if(i in t?r(o,t[i],i):t[i]=o,_(i)===i)for(var a in t){var u=_(a);a===u||u!==i||a in s||r(o,t[a],i)}}}function _(t){return t.replace(/[0-9]+$/,"")}function w(t,e,n,r,i){var o,a=i&&n(i);for(o in t){var s,l=t[o],u=k(t,o,r),c=k(t,o,i),f=n(c);if(f||(s=_(o))!==o&&(f=n(c=k(t,s,i))),(!a||a!==f)&&!(!f||f._noTemplating||"data_array"===f.valType||f.arrayOk&&Array.isArray(l)))if(!f.valType&&b(l))w(l,e,n,u,c);else if(f._isLinkedToArray&&Array.isArray(l))for(var h=!1,d=0,p={},g=0;g<l.length;g++){var m,y=l[g];b(y)&&((m=y.name)?p[m]||(w(y,e,n,k(l,d,u),k(l,d,c)),d++,p[m]=1):h||(m=k(t,x.arrayDefaultKey(o),r),w(y,e,n,y=k(l,d,u),k(l,d,c)),y=v.nestedProperty(e,y),v.nestedProperty(e,m).set(y.get()),y.set(null),h=!0))}else v.nestedProperty(e,u).set(l)}}function k(t,e,n){e=n?Array.isArray(t)?n+"["+e+"]":n+"."+e:e;return e}function m(t){var e;switch(t.code){case"data":e="The template has no key data.";break;case"layout":e="The template has no key layout.";break;case"missing":e=t.path?"There are no templates for item "+t.path+" with name "+t.templateitemname:"There are no templates for trace "+t.index+", of type "+t.traceType+".";break;case"unused":e=t.path?"The template item at "+t.path+" was not used in constructing the plot.":t.dataCount?"Some of the templates of type "+t.traceType+" were not used. The template has "+t.templateCount+" traces, the data only has "+t.dataCount+" of this type.":"The template has "+t.templateCount+" traces of type "+t.traceType+" but there are none in the data.";break;case"reused":e="Some of the templates of type "+t.traceType+" were used more than once. The template has "+t.templateCount+" traces, the data has "+t.dataCount+" of this type."}return t.msg=e,t}n.makeTemplate=function(t){t=v.isPlainObject(t)?t:v.getGraphDiv(t),t=v.extendDeep({_context:g},{data:t.data,layout:t.layout}),p.supplyDefaults(t);var e=t.data||[],n=t.layout||{};n._basePlotModules=t._fullLayout._basePlotModules,n._modules=t._fullLayout._modules;var r={data:{},layout:{}};e.forEach(function(t){var e={};w(t,e,function(t,e){return f.getTraceValObject(t,v.nestedProperty({},e).parts)}.bind(null,t));t=v.coerce(t,{},h,"type");(r.data[t]||(r.data[t]=[])).push(e)}),w(n,r.layout,function(t,e){return f.getLayoutValObject(t,v.nestedProperty({},e).parts)}.bind(null,n)),delete r.layout.template;e=n.template;if(b(e)){var i,o,a,s,l,u,n=e.layout;b(n)&&d(n,r.layout);var c=e.data;if(b(c)){for(o in r.data)if(a=c[o],Array.isArray(a)){for(u=(l=r.data[o]).length,s=a.length,i=0;i<u;i++)d(a[i%s],l[i]);for(i=u;i<s;i++)l.push(v.extendDeep({},a[i]))}for(o in c)o in r.data||(r.data[o]=v.extendDeep([],c[o]))}}return r},n.validateTemplate=function(t,e){var n=v.extendDeep({},{_context:g,data:t.data,layout:t.layout}),r=n.layout||{};b(e)||(e=r.template||{});var t=e.layout,i=e.data,a=[];n.layout=r,n.layout.template=e,p.supplyDefaults(n);var e=n._fullLayout,o=n._fullData,s={};if(b(t)?(function t(e,n){for(var r in e)if("_"!==r.charAt(0)&&b(e[r])){for(var i=_(r),o=[],a=0;a<n.length;a++)o.push(k(e,r,n[a])),i!==r&&o.push(k(e,i,n[a]));for(a=0;a<o.length;a++)s[o[a]]=1;t(e[r],o)}}(e,["layout"]),function t(e,n){for(var r in e){var i;-1===r.indexOf("defaults")&&b(e[r])&&(i=k(e,r,n),s[i]?t(e[r],i):a.push({code:"unused",path:i}))}}(t,"layout")):a.push({code:"layout"}),b(i)){for(var l={},u=0;u<o.length;u++){var c,f=o[u];l[c=f.type]=(l[c]||0)+1,f._fullInput._template||a.push({code:"missing",index:f._fullInput.index,traceType:c})}for(c in i){var h=i[c].length,d=l[c]||0;d<h?a.push({code:"unused",traceType:c,templateCount:h,dataCount:d}):h<d&&a.push({code:"reused",traceType:c,templateCount:h,dataCount:d})}}else a.push({code:"data"});if(!function t(e,n){for(var r in e){var i,o;"_"!==r.charAt(0)&&(i=e[r],o=k(e,r,n),b(i)?(Array.isArray(e)&&!1===i._template&&i.templateitemname&&a.push({code:"missing",path:o,templateitemname:i.templateitemname}),t(i,o)):Array.isArray(i)&&function(t){for(var e=0;e<t.length;e++)if(b(t[e]))return 1}(i)&&t(i,o))}}({data:o,layout:e},""),a.length)return a.map(m)}},{"../lib":776,"../plots/attributes":819,"../plots/plots":868,"./plot_config":810,"./plot_schema":811,"./plot_template":812}],815:[function(t,e,n){"use strict";var x=t("fast-isnumeric"),_=t("./plot_api"),w=t("../plots/plots"),k=t("../lib"),T=t("../snapshot/helpers"),M=t("../snapshot/tosvg"),A=t("../snapshot/svgtoimg"),S=t("../version").version,E={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};e.exports=function(t,n){var r,e,i,o;function a(t){return!(t in n)||k.validate(n[t],E[t])}if(n=n||{},o=k.isPlainObject(t)?(r=t.data||[],e=t.layout||{},i=t.config||{},{}):(t=k.getGraphDiv(t),r=k.extendDeep([],t.data),e=k.extendDeep({},t.layout),i=t._context,t._fullLayout||{}),!a("width")&&null!==n.width||!a("height")&&null!==n.height)throw new Error("Height and width should be pixel values.");if(!a("format"))throw new Error("Export format is not "+k.join2(E.format.values,", "," or ")+".");var s={};function l(t,e){return k.coerce(n,s,E,t,e)}var u=l("format"),c=l("width"),f=l("height"),h=l("scale"),t=l("setBackground"),d=l("imageDataOnly"),p=document.createElement("div");p.style.position="absolute",p.style.left="-5000px",document.body.appendChild(p);var g=k.extendFlat({},e);c?g.width=c:null===n.width&&x(o.width)&&(g.width=o.width),f?g.height=f:null===n.height&&x(o.height)&&(g.height=o.height);var m=k.extendFlat({},i,{_exportedPlot:!0,staticPlot:!0,setBackground:t}),y=T.getRedrawFunc(p);function v(){return new Promise(function(t){setTimeout(t,T.getDelay(p._fullLayout))})}function b(){return new Promise(function(t,e){var n=M(p,u,h),r=p._fullLayout.width,i=p._fullLayout.height;function o(){_.purge(p),document.body.removeChild(p)}if("full-json"===u){var a=w.graphJson(p,!1,"keepdata","object",!0,!0);return a.version=S,a=JSON.stringify(a),o(),t(d?a:T.encodeJSON(a))}if(o(),"svg"===u)return t(d?n:T.encodeSVG(n));a=document.createElement("canvas");a.id=k.randstr(),A({format:u,width:r,height:i,scale:h,canvas:a,svg:n,promise:!0}).then(t).catch(e)})}return new Promise(function(e,n){_.plot(p,r,g,m).then(y).then(v).then(b).then(function(t){e((t=t,d?t.replace(T.IMAGE_URL_PREFIX,""):t))}).catch(function(t){n(t)})})}},{"../lib":776,"../plots/plots":868,"../snapshot/helpers":881,"../snapshot/svgtoimg":883,"../snapshot/tosvg":885,"../version":959,"./plot_api":809,"fast-isnumeric":450}],816:[function(t,e,n){"use strict";var j=t("../lib"),x=t("../plots/plots"),_=t("./plot_schema"),w=t("./plot_config").dfltConfig,P=j.isPlainObject,N=Array.isArray,L=j.isArrayOrTypedArray;function R(t,e,n,r,i,o){o=o||[];for(var a=Object.keys(t),s=0;s<a.length;s++){var l=a[s];if("transforms"!==l){var u=o.slice();u.push(l);var c=t[l],f=e[l],h=function(t,e){if(e in t)return t[e];e=I(e);return t[e.keyMinusId]}(n,l),d=(h||{}).valType,p="info_array"===d,g="colorscale"===d,m=(h||{}).items;if(function(t,e){var n=I(e),r=n.keyMinusId,n=n.id;if(r in t&&t[r]._isSubplotObj&&n)return!0;return e in t}(n,l))if(P(c)&&P(f)&&"any"!==d)R(c,f,h,r,i,u);else if(p&&N(c)){c.length>f.length&&r.push(D("unused",i,u.concat(f.length)));var y,v,b,x,_=f.length,w=Array.isArray(m);if(w&&(_=Math.min(_,m.length)),2===h.dimensions)for(y=0;y<_;y++)if(N(c[y])){c[y].length>f[y].length&&r.push(D("unused",i,u.concat(y,f[y].length)));for(var k=f[y].length,T=0;T<(w?Math.min(k,m[y].length):k);T++)v=w?m[y][T]:m,b=c[y][T],x=f[y][T],j.validate(b,v)?x!==b&&x!==+b&&r.push(D("dynamic",i,u.concat(y,T),b,x)):r.push(D("value",i,u.concat(y,T),b))}else r.push(D("array",i,u.concat(y),c[y]));else for(y=0;y<_;y++)v=w?m[y]:m,b=c[y],x=f[y],j.validate(b,v)?x!==b&&x!==+b&&r.push(D("dynamic",i,u.concat(y),b,x)):r.push(D("value",i,u.concat(y),b))}else if(h.items&&!p&&N(c)){for(var M=m[Object.keys(m)[0]],A=[],S=0;S<f.length;S++){var E,C,O=f[S]._index||S;(C=u.slice()).push(O),P(c[O])&&P(f[S])&&(A.push(O),E=c[O],O=f[S],P(E)&&!1!==E.visible&&!1===O.visible?r.push(D("invisible",i,C)):R(E,O,M,r,i,C))}for(S=0;S<c.length;S++)(C=u.slice()).push(S),P(c[S])?-1===A.indexOf(S)&&r.push(D("unused",i,C)):r.push(D("object",i,C,c[S]))}else!P(c)&&P(f)?r.push(D("object",i,u,c)):L(c)||!L(f)||p||g?l in e?j.validate(c,h)?"enumerated"===h.valType&&(h.coerceNumber&&c!==+f||c!==f)&&r.push(D("dynamic",i,u,c,f)):r.push(D("value",i,u,c)):r.push(D("unused",i,u,c)):r.push(D("array",i,u,c));else r.push(D("schema",i,u))}}return r}e.exports=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={});var n,r,i=_.get(),o=[],a={_context:j.extendFlat({},w)};N(t)?(a.data=j.extendDeep([],t),n=t):(a.data=[],n=[],o.push(D("array","data"))),P(e)?(a.layout=j.extendDeep({},e),r=e):(a.layout={},r={},1<arguments.length&&o.push(D("object","layout"))),x.supplyDefaults(a);for(var s=a._fullData,l=n.length,u=0;u<l;u++){var c=n[u],f=["data",u];if(P(c)){var h=s[u],d=h.type,p=i.traces[d].attributes;!(p.type={valType:"enumerated",values:[d]})===h.visible&&!1!==c.visible&&o.push(D("invisible",f)),R(c,h,p,o,f);var g=c.transforms,m=h.transforms;if(g){N(g)||o.push(D("array",f,["transforms"])),f.push("transforms");for(var y=0;y<g.length;y++){var v=["transforms",y],b=g[y].type;P(g[y])?((b=i.transforms[b]?i.transforms[b].attributes:{}).type={valType:"enumerated",values:Object.keys(i.transforms)},R(g[y],m[y],b,o,f,v)):o.push(D("object",f,v))}}}else o.push(D("object",f))}return R(r,a._fullLayout,function(t,e){for(var n=t.layout.layoutAttributes,r=0;r<e.length;r++){var i=e[r],o=t.traces[i.type],a=o.layoutAttributes;a&&(i.subplot?j.extendFlat(n[o.attributes.subplot.dflt],a):j.extendFlat(n,a))}return n}(i,s),o,"layout"),0===o.length?void 0:o};var l={object:function(t,e){e="layout"===t&&""===e?"The layout argument":"data"===t[0]&&""===e?"Trace "+t[1]+" in the data argument":i(t)+"key "+e;return e+" must be linked to an object container"},array:function(t,e){e="data"===t?"The data argument":i(t)+"key "+e;return e+" must be linked to an array container"},schema:function(t,e){return i(t)+"key "+e+" is not part of the schema"},unused:function(t,e,n){n=P(n)?"container":"key";return i(t)+n+" "+e+" did not get coerced"},dynamic:function(t,e,n,r){return[i(t)+"key",e,"(set to '"+n+"')","got reset to","'"+r+"'","during defaults."].join(" ")},invisible:function(t,e){return(e?i(t)+"item "+e:"Trace "+t[1])+" got defaulted to be not visible"},value:function(t,e,n){return[i(t)+"key "+e,"is set to an invalid value ("+n+")"].join(" ")}};function i(t){return N(t)?"In data trace "+t[1]+", ":"In "+t+", "}function D(t,e,n,r,i){var o,a;n=n||"",a=N(e)?(o=e[0],e[1]):(o=e,null);var s=function(t){if(!N(t))return String(t);for(var e="",n=0;n<t.length;n++){var r=t[n];"number"==typeof r?e=e.substr(0,e.length-1)+"["+r+"]":e+=r,n<t.length-1&&(e+=".")}return e}(n),i=l[t](e,s,r,i);return j.log(i),{code:t,container:o,trace:a,path:n,astr:s,msg:i}}var r=j.counterRegex("([a-z]+)");function I(t){t=t.match(r);return{keyMinusId:t&&t[1],id:t&&t[2]}}},{"../lib":776,"../plots/plots":868,"./plot_config":810,"./plot_schema":811}],817:[function(t,e,n){"use strict";e.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],818:[function(t,e,n){"use strict";var p=t("../lib"),g=t("../plot_api/plot_template");e.exports=function(t,e,n){var r,i=n.name,o=n.inclusionAttr||"visible",a=e[i],s=p.isArrayOrTypedArray(t[i])?t[i]:[],l=e[i]=[],u=g.arrayTemplater(e,i,o);for(d=0;d<s.length;d++){var c=s[d];p.isPlainObject(c)?r=u.newItem(c):(r=u.newItem({}))[o]=!1,r._index=d,!1!==r[o]&&n.handleItemDefaults(c,r,e,n),l.push(r)}var f=u.defaultItems();for(d=0;d<f.length;d++)(r=f[d])._index=l.length,n.handleItemDefaults({},r,e,n,{}),l.push(r);if(p.isArrayOrTypedArray(a))for(var h=Math.min(a.length,l.length),d=0;d<h;d++)p.relinkPrivateKeys(l[d],a[d]);return l}},{"../lib":776,"../plot_api/plot_template":812}],819:[function(t,e,n){"use strict";t=t("../components/fx/attributes");e.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:t.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":677}],820:[function(t,e,n){"use strict";var b=t("fast-isnumeric"),r=t("../../lib"),x=r.dateTime2ms,_=r.incrementMonth,w=t("../../constants/numerical").ONEAVGMONTH;e.exports=function(t,e,n,r){if("date"!==e.type)return r;var i=t[n+"periodalignment"];if(!i)return r;var o,a=t[n+"period"];if(b(a)){if((a=+a)<=0)return r}else if("string"==typeof a&&"M"===a.charAt(0)){var s=+a.substring(1);if(!(0<s&&Math.round(s)===s))return r;o=s}for(var l=e.calendar,u="start"===i,c="end"===i,n=t[n+"period0"],f=x(n,l)||0,h=[],d=r.length,p=0;p<d;p++){var g,m,y,v=r[p];if(o){for(g=Math.round((v-f)/(o*w)),y=_(f,o*g,l);v<y;)y=_(y,-o,l);for(;y<=v;)y=_(y,o,l);m=_(y,-o,l)}else{for(y=f+(g=Math.round((v-f)/a))*a;v<y;)y-=a;for(;y<=v;)y+=a;m=y-a}h[p]=u?m:c?y:(m+y)/2}return h}},{"../../constants/numerical":754,"../../lib":776,"fast-isnumeric":450}],821:[function(t,e,n){"use strict";e.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],822:[function(t,e,n){"use strict";var S=t("fast-isnumeric"),M=t("../../lib"),E=t("../../constants/numerical").FP_SAFE,o=t("../../registry"),t=t("./axis_ids"),m=t.getFromId,l=t.isLinked;function a(t,e){var n,r=[],i=t._fullLayout,o=C(i,e,0),a=C(i,e,1),s=O(t,e),l=s.min,u=s.max;if(0===l.length||0===u.length)return M.simpleMap(e.range,e.r2l);for(var c=l[0].val,f=u[0].val,h=1;h<l.length&&c===f;h++)c=Math.min(c,l[h].val);for(h=1;h<u.length&&c===f;h++)f=Math.max(f,u[h].val);var d=!1;e.range&&(d=(x=M.simpleMap(e.range,e.r2l))[1]<x[0]),"reversed"===e.autorange&&(d=!0,e.autorange=!0);var p,g,m,y,v,b,x,_=e.rangemode,i="tozero"===_,t="nonnegative"===_,w=e._length,k=w/10,T=0;for(h=0;h<l.length;h++)for(p=l[h],n=0;n<u.length;n++)0<(b=(g=u[n]).val-p.val-A(e,p.val,g.val))&&(k<(v=w-o(p)-a(g))?T<b/v&&(m=p,y=g,T=b/v):T<b/w&&(m={val:p.val,pad:0},y={val:g.val,pad:0},T=b/w));return r=c===f?(s=c-1,x=c+1,i?0===c?[0,1]:(_=(0<c?u:l).reduce(function(t,e){return Math.max(t,a(e))},0),_=c/(1-Math.min(.5,_/w)),0<c?[0,_]:[_,0]):t?[Math.max(0,s),Math.max(1,x)]:[s,x]):(i?(0<=m.val&&(m={val:0,pad:0}),y.val<=0&&(y={val:0,pad:0})):t&&(m.val-T*o(m)<0&&(m={val:0,pad:0}),y.val<=0&&(y={val:1,pad:0})),T=(y.val-m.val-A(e,p.val,g.val))/(w-o(m)-a(y)),[m.val-T*o(m),y.val+T*a(y)]),d&&r.reverse(),M.simpleMap(r,e.l2r||Number)}function A(t,e,n){var r=0;if(t.rangebreaks)for(var i=t.locateBreaks(e,n),o=0;o<i.length;o++){var a=i[o];r+=a.max-a.min}return r}function C(t,e,n){var r=.05*e._length,i=e._anchorAxis||{};-1===(e.ticklabelposition||"").indexOf("inside")&&-1===(i.ticklabelposition||"").indexOf("inside")||((a="reversed"===e.autorange)||(a=(o=M.simpleMap(e.range,e.r2l))[1]<o[0]),a&&(n=!n));var o=0,a=0;l(t,e._id)||(o=function(t,e){var n=0,r=t._anchorAxis||{};{var i,o,a;-1!==(r.ticklabelposition||"").indexOf("inside")&&((e||"left"!==r.side&&"bottom"!==r.side)&&(!e||"top"!==r.side&&"right"!==r.side)||(i="x"===t._id.charAt(0),r._vals&&(t=M.deg2rad(r._tickAngles[r._id+"tick"]||0),o=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),r._vals.forEach(function(t){var e;t.bb&&(e=2*u+t.bb.width,t=2*u+t.bb.height,n=Math.max(n,i?Math.max(e*o,t*a):Math.max(t*o,e*a)))})),"inside"===r.ticks&&"inside"===r.ticklabelposition&&(n+=r.ticklen||0)))}return n}(e,n),a=function(t,e){var n=t.ticklabelposition||"",r=function(t){return-1!==n.indexOf(t)};if(!r("inside"))return 0;var i=r("top"),o=r("left"),a=r("right"),s=r("bottom"),r=s||o||i||a;if(e&&(o||s)||!e&&(a||i))return 0;i=t.tickfont?t.tickfont.size:12,i=("x"===t._id.charAt(0)?1.2:.6)*i;r&&(i*=2,i+=(t.tickwidth||0)/2);return i+=u}(e,n));var s=Math.max(o,a),r=Math.max(s,r);return"domain"===e.constrain&&e._inputDomain&&(r*=(e._inputDomain[1]-e._inputDomain[0])/(e.domain[1]-e.domain[0])),function(t){return t.pad+(t.extrapad?r:s)}}e.exports={getAutoRange:a,makePadFn:C,doAutoRange:function(t,e,n){e.setScale(),e.autorange&&(e.range=n?n.slice():a(t,e),e._r=e.range.slice(),e._rl=M.simpleMap(e._r,e.r2l),i=e._input,(r={})[e._attr+".range"]=e.range,r[e._attr+".autorange"]=e.autorange,o.call("_storeDirectGUIEdit",t.layout,t._fullLayout._preGUI,r),i.range=e.range.slice(),i.autorange=e.autorange);var r=e._anchorAxis;{var i;r&&r.rangeslider&&((i=r.rangeslider[e._name])&&"auto"===i.rangemode&&(i.range=a(t,e)),r._input.rangeslider[e._name]=M.extendFlat({},i))}},findExtremes:function(e,n,t){t=t||{};e._m||e.setScale();var r,i,o,a,s,l,u,c,f=[],h=[],d=n.length,p=t.padded||!1,g=t.tozero&&("linear"===e.type||"-"===e.type),m="log"===e.type,y=!1,v=t.vpadLinearized||!1;function b(e){if(Array.isArray(e))return y=!0,function(t){return Math.max(Number(e[t]||0),0)};var t=Math.max(Number(e||0),0);return function(){return t}}var x=b((0<e._m?t.ppadplus:t.ppadminus)||t.ppad||0),_=b((0<e._m?t.ppadminus:t.ppadplus)||t.ppad||0),w=b(t.vpadplus||t.vpad),k=b(t.vpadminus||t.vpad);if(!y){if(u=1/0,c=-1/0,m)for(r=0;r<d;r++)(i=n[r])<u&&0<i&&(u=i),c<i&&i<E&&(c=i);else for(r=0;r<d;r++)(i=n[r])<u&&-E<i&&(u=i),c<i&&i<E&&(c=i);n=[u,c],d=2}var T={tozero:g,extrapad:p};function M(t){a=n[t],S(a)&&(s=x(t),l=_(t),a=v?(o=e.c2l(a)-k(t),e.c2l(a)+w(t)):(u=a-k(t),c=a+w(t),m&&u<c/10&&(u=c/10),o=e.c2l(u),e.c2l(c)),g&&(o=Math.min(0,o),a=Math.max(0,a)),N(o)&&j(f,o,l,T),N(a)&&P(h,a,s,T))}var A=Math.min(6,d);for(r=0;r<A;r++)M(r);for(r=d-1;A<=r;r--)M(r);return{min:f,max:h,opts:t}},concatExtremes:O};var u=3;function O(t,e,n){var i,o,a=e._id,r=t._fullData,s=t._fullLayout,l=[],u=[];function c(t,e){for(i=0;i<e.length;i++){var n=t[e[i]],r=(n._extremes||{})[a];if(!0===n.visible&&r){for(g=0;g<r.min.length;g++)o=r.min[g],j(l,o.val,o.pad,{extrapad:o.extrapad});for(g=0;g<r.max.length;g++)o=r.max[g],P(u,o.val,o.pad,{extrapad:o.extrapad})}}}if(c(r,e._traceIndices),c(s.annotations||[],e._annIndices||[]),c(s.shapes||[],e._shapeIndices||[]),e._matchGroup&&!n)for(var f in e._matchGroup)if(f!==e._id){for(var h=m(t,f),d=O(t,h,!0),p=e._length/h._length,g=0;g<d.min.length;g++)o=d.min[g],j(l,o.val,o.pad*p,{extrapad:o.extrapad});for(g=0;g<d.max.length;g++)o=d.max[g],P(u,o.val,o.pad*p,{extrapad:o.extrapad})}return{min:l,max:u}}function j(t,e,n,r){i(t,e,n,r,s)}function P(t,e,n,r){i(t,e,n,r,c)}function i(t,e,n,r,i){for(var o=r.tozero,a=r.extrapad,s=!0,l=0;l<t.length&&s;l++){var u=t[l];if(i(u.val,e)&&u.pad>=n&&(u.extrapad||!a)){s=!1;break}i(e,u.val)&&u.pad<=n&&(a||!u.extrapad)&&(t.splice(l,1),l--)}s&&(o=o&&0===e,t.push({val:e,pad:o?0:n,extrapad:!o&&a}))}function N(t){return S(t)&&Math.abs(t)<E}function s(t,e){return t<=e}function c(t,e){return e<=t}},{"../../constants/numerical":754,"../../lib":776,"../../registry":877,"./axis_ids":826,"fast-isnumeric":450}],823:[function(t,e,n){"use strict";var d=t("d3"),k=t("fast-isnumeric"),z=t("../../plots/plots"),B=t("../../registry"),U=t("../../lib"),c=U.strTranslate,f=t("../../lib/svg_text_utils"),H=t("../../components/titles"),q=t("../../components/color"),V=t("../../components/drawing"),x=t("./layout_attributes"),h=t("./clean_ticks"),r=t("../../constants/numerical"),T=r.ONEMAXYEAR,M=r.ONEAVGYEAR,A=r.ONEMINYEAR,S=r.ONEMAXQUARTER,E=r.ONEAVGQUARTER,C=r.ONEMINQUARTER,O=r.ONEMAXMONTH,j=r.ONEAVGMONTH,P=r.ONEMINMONTH,N=r.ONEWEEK,L=r.ONEDAY,R=L/2,D=r.ONEHOUR,s=r.ONEMIN,l=r.ONESEC,b=r.MINUS_SIGN,I=r.BADNUM,r=t("../../constants/alignment"),_=r.MID_SHIFT,w=r.CAP_SHIFT,G=r.LINE_SPACING,W=r.OPPOSITE_SIDE,Y=e.exports={};Y.setConvert=t("./set_convert");var a=t("./axis_autotype"),e=t("./axis_ids"),o=e.idSort,F=e.isLinked;Y.id2name=e.id2name,Y.name2id=e.name2id,Y.cleanId=e.cleanId,Y.list=e.list,Y.listIds=e.listIds,Y.getFromId=e.getFromId,Y.getFromTrace=e.getFromTrace;t=t("./autorange");Y.getAutoRange=t.getAutoRange,Y.findExtremes=t.findExtremes;var i=1e-4;function X(t){var e=(t[1]-t[0])*i;return[t[0]-e,t[1]+e]}Y.coerceRef=function(t,e,n,r,i,o){var a=r.charAt(r.length-1),n=n._fullLayout._subplots[a+"axis"],a=r+"ref",r={};return i=i||(n[0]||("string"==typeof o?o:o[0])),o=o||i,n=n.concat(n.map(function(t){return t+" domain"})),r[a]={valType:"enumerated",values:n.concat(o?"string"==typeof o?[o]:o:[]),dflt:i},U.coerce(t,e,r,a)},Y.getRefType=function(t){return void 0===t?t:"paper"===t?"paper":"pixel"===t?"pixel":/( domain)$/.test(t)?"domain":"range"},Y.coercePosition=function(t,e,n,r,i,o){var a,s;"range"!==Y.getRefType(r)?(s=U.ensureNumber,a=n(i,o)):(a=n(i,o=(r=Y.getFromId(e,r)).fraction2r(o)),s=r.cleanPos),t[i]=s(a)},Y.cleanPosition=function(t,e,n){return("paper"===n||"pixel"===n?U.ensureNumber:Y.getFromId(e,n).cleanPos)(t)},Y.redrawComponents=function(c,f){f=f||Y.listIds(c);var h=c._fullLayout;function t(t,e,n,r){for(var i=B.getComponentMethod(t,e),o={},a=0;a<f.length;a++)for(var s=h[Y.id2name(f[a])][n],l=0;l<s.length;l++){var u=s[l];if(!o[u]&&(i(c,u),o[u]=1,r))return}}t("annotations","drawOne","_annIndices"),t("shapes","drawOne","_shapeIndices"),t("images","draw","_imgIndices",!0)};var u=Y.getDataConversions=function(t,e,n,r){var i,n="x"===n||"y"===n||"z"===n?n:r;if(Array.isArray(n)){if(i={type:a(r,void 0,{autotypenumbers:t._fullLayout.autotypenumbers}),_categories:[]},Y.setConvert(i),"category"===i.type)for(var o=0;o<r.length;o++)i.d2c(r[o])}else i=Y.getFromTrace(t,e,n);return i?{d2c:i.d2c,c2d:i.c2d}:"ids"===n?{d2c:g,c2d:g}:{d2c:p,c2d:p}};function p(t){return+t}function g(t){return String(t)}function m(t){return+t.substring(1)}Y.getDataToCoordFunc=function(t,e,n,r){return u(t,e,n,r).d2c},Y.counterLetter=function(t){t=t.charAt(0);return"x"===t?"y":"y"===t?"x":void 0},Y.minDtick=function(t,e,n,r){-1===["log","category","multicategory"].indexOf(t.type)&&r?void 0===t._minDtick?(t._minDtick=e,t._forceTick0=n):t._minDtick&&((t._minDtick/e+1e-6)%1<2e-6&&((n-t._forceTick0)/e%1+1.000001)%1<2e-6?(t._minDtick=e,t._forceTick0=n):(2e-6<(e/t._minDtick+1e-6)%1||2e-6<((n-t._forceTick0)/t._minDtick%1+1.000001)%1)&&(t._minDtick=0)):t._minDtick=0},Y.saveRangeInitial=function(t,e){for(var n=Y.list(t,"",!0),r=!1,i=0;i<n.length;i++){var o=n[i],a=void 0===o._rangeInitial,s=a||!(o.range[0]===o._rangeInitial[0]&&o.range[1]===o._rangeInitial[1]);(a&&!1===o.autorange||e&&s)&&(o._rangeInitial=o.range.slice(),r=!0)}return r},Y.saveShowSpikeInitial=function(t,e){for(var n=Y.list(t,"",!0),r=!1,i="on",o=0;o<n.length;o++){var a=n[o],s=void 0===a._showSpikeInitial,l=s||!(a.showspikes===a._showspikes);(s||e&&l)&&(a._showSpikeInitial=a.showspikes,r=!0),"on"!==i||a.showspikes||(i="off")}return t._fullLayout._cartesianSpikesEnabled=i,r},Y.autoBin=function(t,e,n,r,i,o){var a,s=U.aggNums(Math.min,null,t),l=U.aggNums(Math.max,null,t);if("category"===e.type||"multicategory"===e.type)return{start:s-.5,end:l+.5,size:Math.max(1,Math.round(o)||1),_dataSpan:l-s};i=i||e.calendar,a="log"===e.type?{type:"linear",range:[s,l]}:{type:e.type,range:U.simpleMap([s,l],e.c2r,0,i),calendar:i},Y.setConvert(a),(o=o&&h.dtick(o,a.type))?(a.dtick=o,a.tick0=h.tick0(void 0,a.type,i)):(n?f=(l-s)/n:(o=U.distinctVals(t),n=(n=Math.pow(10,Math.floor(Math.log(o.minDiff)/Math.LN10)))*U.roundUp(o.minDiff/n,[.9,1.9,4.9,9.9],!0),f=Math.max(n,2*U.stdev(t)/Math.pow(t.length,r?.25:.4)),k(f)||(f=1)),Y.autoTicks(a,f));var u,c=a.dtick,f=Y.tickIncrement(Y.tickFirst(a),c,"reverse",i);if("number"==typeof c)u=(f=function(e,t,n,r,i){var o=0,a=0,s=0,l=0;function u(t){return(1+100*(t-e)/n.dtick)%100<2}for(var c=0;c<t.length;c++)t[c]%1==0?s++:k(t[c])||l++,u(t[c])&&o++,u(t[c]+n.dtick/2)&&a++;var f=t.length-l;s===f&&"date"!==n.type?n.dtick<1?e=r-.5*n.dtick:(e-=.5)+n.dtick<r&&(e+=n.dtick):a<.1*f&&(.3*f<o||u(r)||u(i))&&(i=n.dtick/2,e+=e+i<r?i:-i);return e}(f,t,a,s,l))+(1+Math.floor((l-f)/c))*c;else for("M"===a.dtick.charAt(0)&&(f=function(t,e,n,r,i){e=U.findExactDates(e,i);if(.8<e.exactDays){i=Number(n.substr(1));.8<e.exactYears&&i%12==0?t=Y.tickIncrement(t,"M6","reverse")+1.5*L:.8<e.exactMonths?t=Y.tickIncrement(t,"M1","reverse")+15.5*L:t-=R;n=Y.tickIncrement(t,n);if(n<=r)return n}return t}(f,t,c,s,i)),u=f,0;u<=l;)u=Y.tickIncrement(u,c,!1,i),0;return{start:e.c2r(f,0,i),end:e.c2r(u,0,i),size:c,_dataSpan:l-s}},Y.prepTicks=function(t,e){var n,r,i,o,e=U.simpleMap(t.range,t.r2l,void 0,void 0,e);function a(){return!(k(n.dtick)||"M"!==n.dtick.charAt(0))}t._dtickInit=t.dtick,t._tick0Init=t.tick0,"auto"!==t.tickmode&&t.dtick||((i=t.nticks)||(i="category"===t.type||"multicategory"===t.type?(o=t.tickfont?1.2*(t.tickfont.size||12):15,t._length/o):(o="y"===t._id.charAt(0)?40:80,U.constrain(t._length/o,4,9)+1),"radialaxis"===t._name&&(i*=2)),"array"===t.tickmode&&(i*=100),t._roughDTick=Math.abs(e[1]-e[0])/i,Y.autoTicks(t,t._roughDTick),0<t._minDtick&&t.dtick<2*t._minDtick&&(t.dtick=t._minDtick,t.tick0=t.l2r(t._forceTick0))),"period"===t.ticklabelmode&&(n=t,o=a(),(e=Y.getTickFormat(n))&&(i=n._dtickInit!==n.dtick,/%[fLQsSMX]/.test(e)||(/%[HI]/.test(e)?(r=D,i&&!o&&n.dtick<D&&(n.dtick=D)):/%p/.test(e)?(r=R,i&&!o&&n.dtick<R&&(n.dtick=R)):/%[Aadejuwx]/.test(e)?(r=L,i&&!o&&n.dtick<L&&(n.dtick=L)):/%[UVW]/.test(e)?(r=N,i&&!o&&n.dtick<N&&(n.dtick=N)):/%[Bbm]/.test(e)?(r=j,i&&(o?m(n.dtick)<1:n.dtick<P)&&(n.dtick="M1")):/%[q]/.test(e)?(r=E,i&&(o?m(n.dtick)<3:n.dtick<C)&&(n.dtick="M3")):/%[Yy]/.test(e)&&(r=M,i&&(o?m(n.dtick)<12:n.dtick<A)&&(n.dtick="M12")))),(o=a())&&n.tick0===n._dowTick0&&(n.tick0=n._rawTick0),n._definedDelta=r),t.tick0||(t.tick0="date"===t.type?"2000-01-01":0),"date"===t.type&&t.dtick<.1&&(t.dtick=.1),et(t)},Y.calcTicks=function(t,e){Y.prepTicks(t,e);var n=U.simpleMap(t.range,t.r2l,void 0,void 0,e);if("array"===t.tickmode)return function(e){var t=e.tickvals,n=e.ticktext,r=new Array(t.length),i=X(U.simpleMap(e.range,e.r2l)),o=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]),s=0;Array.isArray(n)||(n=[]);var l="category"===e.type?e.d2l_noadd:e.d2l;"log"===e.type&&"L"!==String(e.dtick).charAt(0)&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1));for(var u=0;u<t.length;u++){var c=l(t[u]);o<c&&c<a&&(void 0===n[u]?r[s]=Y.tickText(e,c):r[s]=nt(e,c,String(n[u])),s++)}s<t.length&&r.splice(s,t.length-s);e.rangebreaks&&(r=r.filter(function(t){return e.maskBreaks(t.x)!==I}));return r}(t);var r=X(n),i=r[0],o=r[1],a=n[1]<n[0],s=Math.min(n[0],n[1]),l=Math.max(n[0],n[1]),u="log"===t.type&&!(k(t.dtick)||"L"===t.dtick.charAt(0)),r="period"===t.ticklabelmode;if(t._tmin=Y.tickFirst(t,e),t._tmin<i!=a)return[];"category"!==t.type&&"multicategory"!==t.type||(o=a?Math.max(-.5,o):Math.min(t._categories.length-.5,o));var c=t._tmin;t.rangebreaks&&t._tick0Init!==t.tick0&&(c=yt(c,t),a||(c=Y.tickIncrement(c,t.dtick,!a,t.calendar))),r&&(c=Y.tickIncrement(c,t.dtick,!a,t.calendar));for(var f=Math.max(1e3,t._length||0),h=[],d=null;a?o<=c:c<=o;c=Y.tickIncrement(c,t.dtick,a,t.calendar)){if(t.rangebreaks&&!a){if(c<i)continue;if(t.maskBreaks(c)===I&&yt(c,t)>=l)break}if(h.length>f||c===d)break;d=c;var p=u&&c!==(0|c)?!0:!1;h.push({minor:p,value:c})}if(r&&function(t,e,n){for(var r=0;r<t.length;r++){var i,o=t[r].value,a=r,s=r+1,s=r<t.length-1?(a=r)+1:0<r?(a=r-1,r):a=r,l=t[a].value,a=t[s].value,s=Math.abs(a-l),a=n||s,l=0;A<=a?l=A<=s&&s<=T?s:M:n===E&&C<=a?l=C<=s&&s<=S?s:E:P<=a?l=P<=s&&s<=O?s:j:n===N&&N<=a?l=N:L<=a?l=L:n===R&&R<=a?l=R:n===D&&D<=a&&(l=D),s<=l&&(l=s,i=!0);var u=o+l;if(e.rangebreaks&&0<l){for(var c=0,f=0;f<84;f++){var h=(f+.5)/84;e.maskBreaks(o*(1-h)+h*u)!==I&&c++}(l*=c/84)||(t[r].drop=!0),i&&N<s&&(l=s)}(0<l||0===r)&&(t[r].periodX=o+l/2)}}(h,t,t._definedDelta),t.rangebreaks){var g="y"===t._id.charAt(0),m=1;"auto"===t.tickmode&&(m=t.tickfont?t.tickfont.size:12);for(var y,v=NaN,b=h.length-1;-1<b;b--)h[b].drop?h.splice(b,1):(h[b].value=yt(h[b].value,t),y=t.c2p(h[b].value),(g?y-m<v:v<y+m)?h.splice(a?b+1:b,1):v=y)}mt(t)&&360===Math.abs(n[1]-n[0])&&h.pop(),t._tmax=(h[h.length-1]||{}).value,t._prevDateHead="",t._inCalcTicks=!0;var x=[];for(b=0;b<h.length;b++){var _=h[b].minor,w=h[b].value,w=Y.tickText(t,w,!1,_);void 0!==(_=h[b].periodX)&&(l<(w.periodX=_)||_<s)&&(l<_&&(w.periodX=l),_<s&&(w.periodX=s),w.text=" ",t._prevDateHead=""),x.push(w)}return t._inCalcTicks=!1,x};var y=[2,5,10],v=[1,2,3,6,12],Z=[1,2,5,10,15,30],$=[1,2,3,7,14],Q=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],K=[-.301,0,.301,.699,1],J=[15,30,45,90,180];function tt(t,e,n){return e*U.roundUp(t/e,n)}function et(t){var e,n,r,i,o=t.dtick;t._tickexponent=0,k(o)||"string"==typeof o||(o=1),"category"!==t.type&&"multicategory"!==t.type||(t._tickround=null),"date"===t.type?(e=t.r2l(t.tick0),r=(n=t.l2r(e).replace(/(^-|i)/g,"")).length,"M"===String(o).charAt(0)?10<r||"01-01"!==n.substr(5)?t._tickround="d":t._tickround=+o.substr(1)%12==0?"y":"m":L<=o&&r<=10||15*L<=o?t._tickround="d":s<=o&&r<=16||D<=o?t._tickround="M":l<=o&&r<=19||s<=o?t._tickround="S":(i=t.l2r(e+o).replace(/^-/,"").length,t._tickround=Math.max(r,i)-20,t._tickround<0&&(t._tickround=4))):k(o)||"L"===o.charAt(0)?(i=t.range.map(t.r2d||Number),k(o)||(o=Number(o.substr(1))),t._tickround=2-Math.floor(Math.log(o)/Math.LN10+.01),o=Math.max(Math.abs(i[0]),Math.abs(i[1])),i=Math.floor(Math.log(o)/Math.LN10+.01),o=void 0===t.minexponent?3:t.minexponent,Math.abs(i)>o&&(it(t.exponentformat)&&!ot(i)?t._tickexponent=3*Math.round((i-1)/3):t._tickexponent=i)):t._tickround=null}function nt(t,e,n){t=t.tickfont||{};return{x:e,dx:0,dy:0,text:n||"",fontSize:t.size,font:t.family,fontColor:t.color}}Y.autoTicks=function(t,e){var n,r,i;function o(t){return Math.pow(t,Math.floor(Math.log(e)/Math.LN10))}if("date"===t.type?(t.tick0=U.dateTick0(t.calendar,0),M<(i=2*e)?(e/=M,a=o(10),t.dtick="M"+12*tt(e,a,y)):j<i?(e/=j,t.dtick="M"+tt(e,1,v)):L<i?(t.dtick=tt(e,L,t._hasDayOfWeekBreaks?[1,2,7,14]:$),n=Y.getTickFormat(t),(r="period"===t.ticklabelmode)&&(t._rawTick0=t.tick0),/%[uVW]/.test(n)?t.tick0=U.dateTick0(t.calendar,2):t.tick0=U.dateTick0(t.calendar,1),r&&(t._dowTick0=t.tick0)):D<i?t.dtick=tt(e,D,v):s<i?t.dtick=tt(e,s,Z):l<i?t.dtick=tt(e,l,Z):(a=o(10),t.dtick=tt(e,a,y))):"log"===t.type?(t.tick0=0,r=U.simpleMap(t.range,t.r2l),.7<e?t.dtick=Math.ceil(e):Math.abs(r[1]-r[0])<1?(i=1.5*Math.abs((r[1]-r[0])/e),e=Math.abs(Math.pow(10,r[1])-Math.pow(10,r[0]))/i,a=o(10),t.dtick="L"+tt(e,a,y)):t.dtick=.3<e?"D2":"D1"):"category"===t.type||"multicategory"===t.type?(t.tick0=0,t.dtick=Math.ceil(Math.max(e,1))):mt(t)?(t.tick0=0,a=1,t.dtick=tt(e,a,J)):(t.tick0=0,a=o(10),t.dtick=tt(e,a,y)),0===t.dtick&&(t.dtick=1),!k(t.dtick)&&"string"!=typeof t.dtick){var a=t.dtick;throw t.dtick=1,"ax.dtick error: "+String(a)}},Y.tickIncrement=function(t,e,n,r){var i=n?-1:1;if(k(e))return U.increment(t,i*e);var o=e.charAt(0),a=i*Number(e.substr(1));if("M"===o)return U.incrementMonth(t,a,r);if("L"===o)return Math.log(Math.pow(10,t)+a)/Math.LN10;if("D"!==o)throw"unrecognized dtick "+String(e);e="D2"===e?K:Q,i=t+.01*i,n=U.roundUp(U.mod(i,1),e,n);return Math.floor(i)+Math.log(d.round(Math.pow(10,n),1))/Math.LN10},Y.tickFirst=function(t,e){var n=t.r2l||Number,r=U.simpleMap(t.range,n,void 0,void 0,e),i=r[1]<r[0],e=i?Math.floor:Math.ceil,o=X(r)[0],a=t.dtick,r=n(t.tick0);if(k(a)){n=e((o-r)/a)*a+r;return"category"!==t.type&&"multicategory"!==t.type||(n=U.constrain(n,0,t._categories.length-1)),n}var s=a.charAt(0),l=Number(a.substr(1));if("M"===s){for(var u,c,f=0,h=r;f<10;){if(((c=Y.tickIncrement(h,a,i,t.calendar))-o)*(h-o)<=0)return i?Math.min(h,c):Math.max(h,c);u=(o-(h+c)/2)/(c-h),c=s+(Math.abs(Math.round(u))||1)*l,h=Y.tickIncrement(h,c,u<0?!i:i,t.calendar),f++}return U.error("tickFirst did not converge",t),h}if("L"===s)return Math.log(e((Math.pow(10,o)-r)/l)*l+r)/Math.LN10;if("D"!==s)throw"unrecognized dtick "+String(a);r="D2"===a?K:Q,r=U.roundUp(U.mod(o,1),r,i);return Math.floor(o)+Math.log(d.round(Math.pow(10,r),1))/Math.LN10},Y.tickText=function(n,r,i,t){var e=nt(n,r),o="array"===n.tickmode,a=i||o,s=n.type,l="category"===s?n.d2l_noadd:n.d2l;if(o&&Array.isArray(n.ticktext)){for(var u=U.simpleMap(n.range,n.r2l),c=(Math.abs(u[1]-u[0])-(n._lBreaks||0))/1e4,f=0;f<n.ticktext.length&&!(Math.abs(r-l(n.tickvals[f]))<c);f++);if(f<n.ticktext.length)return e.text=String(n.ticktext[f]),e}function h(t){if(void 0===t)return 1;if(i)return"none"===t;var e={first:n._tmin,last:n._tmax}[t];return"all"!==t&&r!==e}var d,p,g,m,y,v=i?"never":"none"!==n.exponentformat&&h(n.showexponent)?"hide":"";return"date"===s?function(t,e,n,r){var i=t._tickround,o=n&&t.hoverformat||Y.getTickFormat(t);r&&(i=k(i)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[i]);var a,s=U.formatDate(e.x,o,i,t._dateFormat,t.calendar,t._extraFormat);-1!==(o=s.indexOf("\n"))&&(a=s.substr(o+1),s=s.substr(0,o)),r&&("00:00:00"===s||"00:00"===s?(s=a,a=""):8===s.length&&(s=s.replace(/:00$/,""))),a&&(n?"d"===i?s+=", "+a:s=a+(s?", "+s:""):t._inCalcTicks&&t._prevDateHead===a?(n=-1!==(t.ticklabelposition||"").indexOf("inside"),i=t._realSide||t.side,(!n&&"top"===i||n&&"bottom"===i)&&(s+="<br> ")):(t._prevDateHead=a,s+="<br>"+a)),e.text=s}(n,e,i,a):"log"===s?function(t,e,n,r){var i=t.dtick,o=e.x,a=t.tickformat,s="string"==typeof i&&i.charAt(0);if("never"===r&&(r=""),n&&"L"!==s&&(i="L3",s="L"),a||"L"===s)e.text=at(Math.pow(10,o),t,r,n);else if(k(i)||"D"===s&&U.mod(o+.01,1)<.1){a=Math.round(o),r=Math.abs(a),n=t.exponentformat;"power"===n||it(n)&&ot(a)?(e.text=0===a?1:1===a?"10":"10<sup>"+(1<a?"":b)+r+"</sup>",e.fontSize*=1.25):("e"===n||"E"===n)&&2<r?e.text="1"+n+(0<a?"+":b)+r:(e.text=at(Math.pow(10,o),t,"","fakehover"),"D1"===i&&"y"===t._id.charAt(0)&&(e.dy-=e.fontSize/6))}else{if("D"!==s)throw"unrecognized dtick "+String(i);e.text=String(Math.round(Math.pow(10,U.mod(o,1)))),e.fontSize*=.75}"D1"===t.dtick&&("0"!==(i=String(e.text).charAt(0))&&"1"!==i||("y"===t._id.charAt(0)?e.dx-=e.fontSize/4:(e.dy+=e.fontSize/2,e.dx+=(t.range[1]>t.range[0]?1:-1)*e.fontSize*(o<0?.5:.25))))}(n,e,a,v):"category"===s?(o=e,void 0===(u=(u=n)._categories[Math.round(o.x)])&&(u=""),o.text=String(u)):"multicategory"===s?(g=n,m=e,s=i,y=Math.round(m.x),g=g._categories[y]||[],y=void 0===g[1]?"":String(g[1]),g=void 0===g[0]?"":String(g[0]),s?m.text=g+" - "+y:(m.text=y,m.text2=g)):mt(n)?(d=e,y=i,p=a,m=v,"radians"!==(g=n).thetaunit||y?d.text=at(d.x,g,m,p):0==(y=d.x/180)?d.text="0":100<=(y=function(t){function r(t,e){return Math.abs(t-e)<=1e-6}var e=function(t){for(var e=1;!r(Math.round(t*e)/e,t);)e*=10;return e}(t),n=t*e,t=Math.abs(function t(e,n){return r(n,0)?e:t(n,e%n)}(n,e));return[Math.round(n/t),Math.round(e/t)]}(y))[1]?d.text=at(U.deg2rad(d.x),g,m,p):(p=d.x<0,1===y[1]?1===y[0]?d.text="π":d.text=y[0]+"π":d.text=["<sup>",y[0],"</sup>","⁄","<sub>",y[1],"</sub>","π"].join(""),p&&(d.text=b+d.text))):(p=n,d=e,a=a,"never"===(v=v)?v="":"all"===p.showexponent&&Math.abs(d.x/p.dtick)<1e-6&&(v="hide"),d.text=at(d.x,p,v,a)),t||(n.tickprefix&&!h(n.showtickprefix)&&(e.text=n.tickprefix+e.text),n.ticksuffix&&!h(n.showticksuffix)&&(e.text+=n.ticksuffix)),"boundaries"!==n.tickson&&!n.showdividers||(t=function(t){var e=n.l2p(t);return 0<=e&&e<=n._length?t:null},e.xbnd=[t(e.x-.5),t(e.x+n.dtick-.5)]),e},Y.hoverLabelText=function(t,e,n){if(n!==I&&n!==e)return Y.hoverLabelText(t,e)+" - "+Y.hoverLabelText(t,n);n="log"===t.type&&e<=0,t=Y.tickText(t,t.c2l(n?-e:e),"hover").text;return n?0===e?"0":b+t:t};var rt=["f","p","n","μ","m","","k","M","G","T"];function it(t){return"SI"===t||"B"===t}function ot(t){return 14<t||t<-15}function at(t,e,n,r){var i=t<0,o=e._tickround,a=n||e.exponentformat||"B",s=e._tickexponent,l=Y.getTickFormat(e),n=e.separatethousands;if(r&&(et(r={exponentformat:a,minexponent:e.minexponent,dtick:"none"===e.showexponent?e.dtick:k(t)&&Math.abs(t)||1,range:"none"===e.showexponent?e.range.map(e.r2d):[0,t||1]}),o=(Number(r._tickround)||0)+4,s=r._tickexponent,e.hoverformat&&(l=e.hoverformat)),l)return e._numFormat(l)(t).replace(/-/g,b);l=Math.pow(10,-o)/2;if("none"===a&&(s=0),(t=Math.abs(t))<l)i=!(t="0");else{if(t+=l,s&&(t*=Math.pow(10,-s),o+=s),0===o)t=String(Math.floor(t));else if(o<0){t=(t=String(Math.round(t))).substr(0,t.length+o);for(var u=o;u<0;u++)t+="0"}else{l=(t=String(t)).indexOf(".")+1;l&&(t=t.substr(0,l+o).replace(/\.?0+$/,""))}t=U.numSeparate(t,e._separators,n)}return s&&"hide"!==a&&(it(a)&&ot(s)&&(a="power"),n=s<0?b+-s:"power"!==a?"+"+s:String(s),"e"===a||"E"===a?t+=a+n:"power"===a?t+="×10<sup>"+n+"</sup>":"B"===a&&9===s?t+="B":it(a)&&(t+=rt[s/3+5])),i?b+t:t}function st(t){return void 0!==t.periodX?t.periodX:t.x}function lt(t){return[t.text,t.x,t.axInfo,t.font,t.fontSize,t.fontColor].join("_")}function ut(t){var e=t.title.font.size,n=(t.title.text.match(f.BR_TAG_ALL)||[]).length;return t.title.hasOwnProperty("standoff")?n?e*(w+n*G):e*w:n?e*(n+1)*G:e}function ct(t,e){e=t.l2p(e);return 1<e&&e<t._length-1}function ft(t){var e=d.select(t),t=e.select(".text-math-group");return t.empty()?e.select("text"):t}function ht(t){return t._id+".automargin"}function dt(t){return ht(t)+".mirror"}function pt(t){return t._id+".rangeslider"}function gt(t,e){for(var n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n])}function mt(t){return"angularaxis"===t._id}function yt(t,e){for(var n=e._rangebreaks.length,r=0;r<n;r++){var i=e._rangebreaks[r];if(t>=i.min&&t<i.max)return i.max}return t}Y.getTickFormat=function(t){var e,n,r,i,o,a,s,l,u,c,f,h;function d(t){return"string"!=typeof t?t:Number(t.replace("M",""))*j}function p(t,e){var n=["L","D"];if(typeof t!=typeof e)return"number"==typeof t?1:-1;if("number"==typeof t)return t-e;var r=n.indexOf(t.charAt(0)),n=n.indexOf(e.charAt(0));return r===n?Number(t.replace(/(L|D)/g,""))-Number(e.replace(/(L|D)/g,"")):r-n}if(t.tickformatstops&&0<t.tickformatstops.length)switch(t.type){case"date":case"linear":for(e=0;e<t.tickformatstops.length;e++)if((r=t.tickformatstops[e]).enabled&&(u=t.dtick,c=r.dtickrange,h=void 0,h=(f=d)||function(t){return t},f=c[0],c=c[1],(!f&&"number"!=typeof f||h(f)<=h(u))&&(!c&&"number"!=typeof c||h(c)>=h(u)))){n=r;break}break;case"log":for(e=0;e<t.tickformatstops.length;e++)if((r=t.tickformatstops[e]).enabled&&(i=t.dtick,o=r.dtickrange,l=s=a=void 0,a=null===o[0],s=null===o[1],l=0<=p(i,o[0]),o=p(i,o[1])<=0,(a||l)&&(s||o))){n=r;break}}return n?n.value:t.tickformat},Y.getSubplots=function(t,e){t=t._fullLayout._subplots,t=t.cartesian.concat(t.gl2d||[]),t=e?Y.findSubplotsWithAxis(t,e):t;return t.sort(function(t,e){t=t.substr(1).split("y"),e=e.substr(1).split("y");return t[0]===e[0]?+t[1]-+e[1]:+t[0]-+e[0]}),t},Y.findSubplotsWithAxis=function(t,e){for(var n=new RegExp("x"===e._id.charAt(0)?"^"+e._id+"y":e._id+"$"),r=[],i=0;i<t.length;i++){var o=t[i];n.test(o)&&r.push(o)}return r},Y.makeClipPaths=function(t){var e=t._fullLayout;if(!e._hasOnlyLargeSploms){for(var n,r={_offset:0,_length:e.width,_id:""},i={_offset:0,_length:e.height,_id:""},o=Y.list(t,"x",!0),a=Y.list(t,"y",!0),s=[],l=0;l<o.length;l++)for(s.push({x:o[l],y:i}),n=0;n<a.length;n++)0===l&&s.push({x:r,y:a[n]}),s.push({x:o[l],y:a[n]});t=e._clips.selectAll(".axesclip").data(s,function(t){return t.x._id+t.y._id});t.enter().append("clipPath").classed("axesclip",!0).attr("id",function(t){return"clip"+e._uid+t.x._id+t.y._id}).append("rect"),t.exit().remove(),t.each(function(t){d.select(this).select("rect").attr({x:t.x._offset||0,y:t.y._offset||0,width:t.x._length||1,height:t.y._length||1})})}},Y.draw=function(r,t,i){var o=r._fullLayout;"redraw"===t&&o._paper.selectAll("g.subplot").each(function(t){var e=t[0],n=o._plots[e];n&&(t=n.xaxis,e=n.yaxis,n.xaxislayer.selectAll("."+t._id+"tick").remove(),n.yaxislayer.selectAll("."+e._id+"tick").remove(),n.xaxislayer.selectAll("."+t._id+"tick2").remove(),n.yaxislayer.selectAll("."+e._id+"tick2").remove(),n.xaxislayer.selectAll("."+t._id+"divider").remove(),n.yaxislayer.selectAll("."+e._id+"divider").remove(),n.gridlayer&&n.gridlayer.selectAll("path").remove(),n.zerolinelayer&&n.zerolinelayer.selectAll("path").remove(),o._infolayer.select(".g-"+t._id+"title").remove(),o._infolayer.select(".g-"+e._id+"title").remove())});t=t&&"redraw"!==t?t:Y.listIds(r);return U.syncOrAsync(t.map(function(n){return function(){if(n){var t=Y.getFromId(r,n),e=Y.drawOne(r,t,i);return t._r=t.range.slice(),t._rl=U.simpleMap(t._r,t.r2l),e}}}))},Y.drawOne=function(c,f,t){var e,n;t=t||{},f.setScale();var h=c._fullLayout,r=f._id,d=r.charAt(0),p=Y.counterLetter(r),i=h._plots[f._mainSubplot];if(i){var o=i[d+"axislayer"],a=f._mainLinePosition,s=f._mainMirrorPosition,l=f._vals=Y.calcTicks(f),u=[f.mirror,a,s].join("_");for(M=0;M<l.length;M++)l[M].axInfo=u;f._selections={},f._tickAngles&&(f._prevTickAngles=f._tickAngles),f._tickAngles={},f._depth=null;var g={};if(f.visible){var m,y=Y.makeTransTickFn(f),v=Y.makeTransTickLabelFn(f),b="inside"===f.ticks,x="outside"===f.ticks;m="boundaries"===f.tickson?(i=function(t){function e(t,e){null!==(e=t.xbnd[e])&&r.push(U.extendFlat({},t,{x:e}))}var n,r=[];if(t.length){for(n=0;n<t.length;n++)e(t[n],0);e(t[n-1],1)}return r}(l),j=Y.clipEnds(f,i),b?j:i):(j=Y.clipEnds(f,l),b&&"period"!==f.ticklabelmode?j:l);var _=f._gridVals=j,w=function(t,e){function n(t,e){null!==(e=t.xbnd[e])&&o.push(U.extendFlat({},t,{x:e}))}var r,i,o=[],a=e.length&&e[e.length-1].x<e[0].x;if(t.showdividers&&e.length){for(r=0;r<e.length;r++){var s=e[r];s.text2!==i&&n(s,a?1:0),i=s.text2}n(e[r-1],a?0:1)}return o}(f,l);if(!h._hasOnlyLargeSploms)for(var k=f._subplotsWith,T={},M=0;M<k.length;M++){e=k[M];var A=(n=h._plots[e])[p+"axis"],S=A._mainAxis._id;T[S]||(T[S]=1,S="x"===d?"M0,"+A._offset+"v"+A._length:"M"+A._offset+",0h"+A._length,Y.drawGrid(c,f,{vals:_,counterAxis:A,layer:n.gridlayer.select("."+r),path:S,transFn:y}),Y.drawZeroLine(c,f,{counterAxis:A,layer:n.zerolinelayer,path:S,transFn:y}))}var E=Y.getTickSigns(f),C=[];if(f.ticks){var O,j=Y.makeTickPath(f,a,E[2]),P=f._anchorAxis&&f.mirror&&!0!==f.mirror?j+(O=Y.makeTickPath(f,s,E[3])):(O="",j);if(f.showdividers&&x&&"boundaries"===f.tickson){var N={};for(M=0;M<w.length;M++)N[w[M].x]=1;D=function(t){return N[t.x]?O:P}}else D=P;Y.drawTicks(c,f,{vals:m,layer:o,path:D,transFn:y}),"allticks"===f.mirror&&(C=Object.keys(f._linepositions||{}))}for(M=0;M<C.length;M++){e=C[M],n=h._plots[e];var L=f._linepositions[e]||[],L=Y.makeTickPath(f,L[0],E[0])+Y.makeTickPath(f,L[1],E[1]);Y.drawTicks(c,f,{vals:m,layer:n[d+"axislayer"],path:L,transFn:y})}var R,D=[];D.push(function(){return Y.drawLabels(c,f,{vals:l,layer:o,transFn:v,labelFns:Y.makeLabelFns(f,a)})}),"multicategory"===f.type?(R={x:2,y:10}[d],D.push(function(){var t={x:"height",y:"width"}[d],t=F()[t]+R+(f._tickAngles[r+"tick"]?f.tickfont.size*G:0);return Y.drawLabels(c,f,{vals:function(t,e){for(var n,r=[],i={},o=0;o<e.length;o++){var a=e[o];i[a.text2]?i[a.text2].push(a.x):i[a.text2]=[a.x]}for(n in i)r.push(nt(t,U.interp(i[n],.5),n));return r}(f,l),layer:o,cls:r+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:y,labelFns:Y.makeLabelFns(f,a+t*E[4])})}),D.push(function(){return f._depth=E[4]*(F("tick2")[f.side]-a),t=c,e=f,n={vals:w,layer:o,path:Y.makeTickPath(f,a,E[4],f._depth),transFn:y},r=e._id+"divider",i=n.vals,(i=n.layer.selectAll("path."+r).data(i,lt)).exit().remove(),i.enter().insert("path",":first-child").classed(r,1).classed("crisp",1).call(q.stroke,e.dividercolor).style("stroke-width",V.crispRound(t,e.dividerwidth,1)+"px"),void i.attr("transform",n.transFn).attr("d",n.path);var t,e,n,r,i})):f.title.hasOwnProperty("standoff")&&D.push(function(){f._depth=E[4]*(F()[f.side]-a)});var I=B.getComponentMethod("rangeslider","isVisible")(f);return D.push(function(){var t,e,n,r,i,o,a=f.side.charAt(0),s=W[f.side].charAt(0),l=Y.getPxPosition(c,f),u=x?f.ticklen:0;(f.automargin||I)&&("multicategory"===f.type?o=F("tick2"):(o=F(),"x"===d&&"b"===a&&(f._depth=Math.max(0<o.width?o.bottom-l:0,u)))),f.automargin&&(t={x:0,y:0,r:0,l:0,t:0,b:0},r=[0,1],"x"===d?("b"===a?t[a]=f._depth:(t[a]=f._depth=Math.max(0<o.width?l-o.top:0,u),r.reverse()),0<o.width&&(0<(i=o.right-(f._offset+f._length))&&(t.xr=1,t.r=i),0<(i=f._offset-o.left)&&(t.xl=0,t.l=i))):("l"===a?t[a]=f._depth=Math.max(0<o.height?l-o.left:0,u):(t[a]=f._depth=Math.max(0<o.height?o.right-l:0,u),r.reverse()),0<o.height&&(0<(l=o.bottom-(f._offset+f._length))&&(t.yb=0,t.b=l),0<(o=f._offset-o.top)&&(t.yt=1,t.t=o))),t[p]="free"===f.anchor?f.position:f._anchorAxis.domain[r[0]],f.title.text!==h._dfltTitle[d]&&(t[a]+=ut(f)+(f.title.standoff||0)),f.mirror&&"free"!==f.anchor&&((e={x:0,y:0,r:0,l:0,t:0,b:0})[s]=f.linewidth,f.mirror&&!0!==f.mirror&&(e[s]+=u),!0===f.mirror||"ticks"===f.mirror?e[p]=f._anchorAxis.domain[r[1]]:"all"!==f.mirror&&"allticks"!==f.mirror||(e[p]=[f._counterDomainMin,f._counterDomainMax][r[1]]))),I&&(n=B.getComponentMethod("rangeslider","autoMarginOpts")(c,f)),z.autoMargin(c,ht(f),t),z.autoMargin(c,dt(f),e),z.autoMargin(c,pt(f),n)}),t.skipTitle||I&&"bottom"===f.side||D.push(function(){return function(t,e){var n=t._fullLayout,r=e._id,i=r.charAt(0),o=e.title.font.size;{var a,s;e.title.hasOwnProperty("standoff")?h=e._depth+e.title.standoff+ut(e):(a=-1!==(e.ticklabelposition||"").indexOf("inside"),h="multicategory"===e.type?e._depth:(s=1.5*o,a&&(s=.5*o,"outside"===e.ticks&&(s+=e.ticklen)),10+s+(e.linewidth?e.linewidth-1:0)),a||(h+="x"===i?"top"===e.side?o*(e.showticklabels?1:0):o*(e.showticklabels?1.5:.5):"right"===e.side?o*(e.showticklabels?1:.5):o*(e.showticklabels?.5:0)))}var l,u,c,f,o=Y.getPxPosition(t,e);"x"===i?(u=e._offset+e._length/2,c="top"===e.side?o-h:o+h):(c=e._offset+e._length/2,u="right"===e.side?o+h:o-h,l={rotate:"-90",offset:0});{var h;"multicategory"!==e.type&&(h=e._selections[e._id+"tick"],f={selection:h,side:e.side},h&&h.node()&&h.node().parentNode&&(h=V.getTranslate(h.node().parentNode),f.offsetLeft=h.x,f.offsetTop=h.y),e.title.hasOwnProperty("standoff")&&(f.pad=0))}return H.draw(t,r+"title",{propContainer:e,propName:e._name+".title.text",placeholder:n._dfltTitle[i],avoid:f,transform:l,attributes:{x:u,y:c,"text-anchor":"middle"}})}(c,f)}),U.syncOrAsync(D)}}function F(t){t=r+(t||"tick");return g[t]||(g[t]=function(t,e){var n,r,i,o;t._selections[e].size()?(i=n=1/0,o=r=-1/0,t._selections[e].each(function(){var t=ft(this),t=V.bBox(t.node().parentNode);n=Math.min(n,t.top),r=Math.max(r,t.bottom),i=Math.min(i,t.left),o=Math.max(o,t.right)})):o=i=r=n=0;return{top:n,bottom:r,left:i,right:o,height:r-n,width:o-i}}(f,t)),g[t]}},Y.getTickSigns=function(t){var e=t._id.charAt(0),n={x:"top",y:"right"}[e],n=t.side===n?1:-1,n=[-1,1,n,-n];return"inside"!==t.ticks==("x"===e)&&(n=n.map(function(t){return-t})),t.side&&n.push({l:-1,t:-1,r:1,b:1}[t.side.charAt(0)]),n},Y.makeTransTickFn=function(e){return"x"===e._id.charAt(0)?function(t){return c(e._offset+e.l2p(t.x),0)}:function(t){return c(0,e._offset+e.l2p(t.x))}},Y.makeTransTickLabelFn=function(e){var t=function(t){var e=t.ticklabelposition||"",n=function(t){return-1!==e.indexOf(t)},r=n("top"),i=n("left"),o=n("right"),a=n("bottom"),s=n("inside"),l=a||i||r||o;if(!l&&!s)return[0,0];var u=t.side,c=l?(t.tickwidth||0)/2:0,f=3,n=t.tickfont?t.tickfont.size:12;(a||r)&&(c+=n*w,f+=(t.linewidth||0)/2);(i||o)&&(c+=(t.linewidth||0)/2,f+=3);s&&"top"===u&&(f-=n*(1-w));(i||r)&&(c=-c);"bottom"!==u&&"right"!==u||(f=-f);return[l?c:0,s?f:0]}(e),n=t[0],r=t[1];return"x"===e._id.charAt(0)?function(t){return c(n+e._offset+e.l2p(st(t)),r)}:function(t){return c(r,n+e._offset+e.l2p(st(t)))}},Y.makeTickPath=function(t,e,n,r){r=void 0!==r?r:t.ticklen;var i=t._id.charAt(0),t=(t.linewidth||1)/2;return"x"===i?"M0,"+(e+t*n)+"v"+r*n:"M"+(e+t*n)+",0h"+r*n},Y.makeLabelFns=function(r,e,t){var n=r.ticklabelposition||"",i=function(t){return-1!==n.indexOf(t)},o=i("top"),a=i("left"),s=i("right"),l=i("bottom")||a||o||s,u=i("inside"),c="inside"===n&&"inside"===r.ticks||!u&&"outside"===r.ticks&&"boundaries"!==r.tickson,f=0,o=0,i=c?r.ticklen:0;u?i*=-1:l&&(i=0),c&&(f+=i,t&&(v=U.deg2rad(t),f=i*Math.cos(v)+1,o=i*Math.sin(v))),r.showticklabels&&(c||r.showline)&&(f+=.2*r.tickfont.size);var h,d,p,g,m,t={labelStandoff:f+=(r.linewidth||1)/2*(u?-1:1),labelShift:o},y=0,i=r.side,v=r._id.charAt(0),c=r.tickangle;return"x"===v?(m=(g=!u&&"bottom"===i||u&&"top"===i)?1:-1,u&&(m*=-1),h=o*m,d=e+f*m,p=g?1:-.2,90===Math.abs(c)&&(u?p+=_:p=-90===c&&"bottom"===i?w:90===c&&"top"===i?_:.5,y=_/2*(c/90)),t.xFn=function(t){return t.dx+h+y*t.fontSize},t.yFn=function(t){return t.dy+d+t.fontSize*p},t.anchorFn=function(t,e){if(l){if(a)return"end";if(s)return"start"}return k(e)&&0!==e&&180!==e?e*m<0!==u?"end":"start":"middle"},t.heightFn=function(t,e,n){return e<-60||60<e?-.5*n:"top"===r.side!==u?-n:0}):"y"===v&&(m=(g=!u&&"left"===i||u&&"right"===i)?1:-1,u&&(m*=-1),h=f,d=o*m,p=0,u||90!==Math.abs(c)||(p=-90===c&&"left"===i||90===c&&"right"===i?w:.5),!u||0!=(c=k(c)?+c:0)&&(c=U.deg2rad(c),y=Math.abs(Math.sin(c))*w*m,p=0),t.xFn=function(t){return t.dx+e-(h+t.fontSize*p)*m+y*t.fontSize},t.yFn=function(t){return t.dy+d+t.fontSize*_},t.anchorFn=function(t,e){return k(e)&&90===Math.abs(e)?"middle":g?"end":"start"},t.heightFn=function(t,e,n){return"right"===r.side&&(e*=-1),e<-30?-n:e<30?-.5*n:0}),t},Y.drawTicks=function(t,e,n){n=n||{};var r=e._id+"tick",i=n.vals;"period"===e.ticklabelmode&&(i=i.slice()).shift();i=n.layer.selectAll("path."+r).data(e.ticks?i:[],lt);i.exit().remove(),i.enter().append("path").classed(r,1).classed("ticks",1).classed("crisp",!1!==n.crisp).call(q.stroke,e.tickcolor).style("stroke-width",V.crispRound(t,e.tickwidth,1)+"px").attr("d",n.path),i.attr("transform",n.transFn)},Y.drawGrid=function(t,e,n){n=n||{};var r=e._id+"grid",i=n.vals,o=n.counterAxis;if(!1===e.showgrid)i=[];else if(o&&Y.shouldShowZeroLine(t,e,o))for(var a="array"===e.tickmode,s=0;s<i.length;s++){var l=i[s].x;if(a?!l:Math.abs(l)<e.dtick/100){if(i=i.slice(0,s).concat(i.slice(s+1)),!a)break;s--}}o=n.layer.selectAll("path."+r).data(i,lt);o.exit().remove(),o.enter().append("path").classed(r,1).classed("crisp",!1!==n.crisp),e._gw=V.crispRound(t,e.gridwidth,1),o.attr("transform",n.transFn).attr("d",n.path).call(q.stroke,e.gridcolor||"#ddd").style("stroke-width",e._gw+"px"),"function"==typeof n.path&&o.attr("d",n.path)},Y.drawZeroLine=function(t,e,n){n=n||n;var r=e._id+"zl",i=Y.shouldShowZeroLine(t,e,n.counterAxis),i=n.layer.selectAll("path."+r).data(i?[{x:0,id:e._id}]:[]);i.exit().remove(),i.enter().append("path").classed(r,1).classed("zl",1).classed("crisp",!1!==n.crisp).each(function(){n.layer.selectAll("path").sort(function(t,e){return o(t.id,e.id)})}),i.attr("transform",n.transFn).attr("d",n.path).call(q.stroke,e.zerolinecolor||q.defaultLine).style("stroke-width",V.crispRound(t,e.zerolinewidth,e._gw||1)+"px")},Y.drawLabels=function(r,p,g){g=g||{};var t=r._fullLayout,e=p._id,m=e.charAt(0),n=g.cls||e+"tick",y=g.vals,u=g.labelFns,v=g.secondary?0:p.tickangle,i=(p._prevTickAngles||{})[n],b=g.layer.selectAll("g."+n).data(p.showticklabels?y:[],lt),o=[];function x(t,s){var l=-1!==(p.ticklabelposition||"").indexOf("inside");t.each(function(t){var e=d.select(this),n=e.select(".text-math-group"),r=u.anchorFn(t,s),i=g.transFn.call(e.node(),t)+(k(s)&&0!=+s?" rotate("+s+","+u.xFn(t)+","+(u.yFn(t)-t.fontSize/2)+")":""),o=f.lineCount(e),a=G*t.fontSize,a=u.heightFn(t,k(s)?+s:0,(o-1)*a);a&&(i+=c(0,a)),n.empty()?((e=e.select("text")).attr({transform:i,"text-anchor":r}),l&&(e.style({opacity:100}),p._hideOutOfRangeInsideTickLabels&&p._hideOutOfRangeInsideTickLabels())):(r=V.bBox(n.node()).width*{end:-.5,start:.5}[r],n.attr("transform",i+c(r,0)))})}b.enter().append("g").classed(n,1).append("text").attr("text-anchor","middle").each(function(t){var e=d.select(this),n=r._promises.length;e.call(f.positionText,u.xFn(t),u.yFn(t)).call(V.font,t.font,t.fontSize,t.fontColor).text(t.text).call(f.convertToTspans,r),r._promises[n]?o.push(r._promises.pop().then(function(){x(e,v)})):x(e,v)}),b.exit().remove(),g.repositionOnUpdate&&b.each(function(t){d.select(this).select("text").call(f.positionText,u.xFn(t),u.yFn(t))}),p._hideOutOfRangeInsideTickLabels=void 0,-1!==(p.ticklabelposition||"").indexOf("inside")&&(p._hideOutOfRangeInsideTickLabels=function(){var t=U.simpleMap(p.range,p.r2l),e=p.l2p(t[0]),t=p.l2p(t[1]),i=Math.min(e,t)+p._offset,o=Math.max(e,t)+p._offset,a="x"===p._id.charAt(0);b.each(function(t){var e,n,r=d.select(this);r.select(".text-math-group").empty()&&(e=V.bBox(r.node()),n=!1,a?(e.right>o||e.left<i)&&(n=!0):(e.bottom>o||e.top+(p.tickangle?0:t.fontSize/4)<i)&&(n=!0),n&&r.select("text").style({opacity:0}))})}),x(b,i+1?i:v);var _=null;p._selections&&(p._selections[n]=b);var a=[function(){return o.length&&Promise.all(o)}];p.automargin&&t._redrawFromAutoMarginCount&&90===i?(_=90,a.push(function(){x(b,i)})):a.push(function(){if(x(b,v),y.length&&"x"===m&&!k(v)&&("log"!==p.type||"D"!==String(p.dtick).charAt(0))){var n=_=0,r=[];if(b.each(function(t){n=Math.max(n,t.fontSize);var e=p.l2p(t.x),t=ft(this),t=V.bBox(t.node());r.push({top:0,bottom:10,height:10,left:e-t.width/2,right:e+t.width/2+2,width:t.width+2})}),"boundaries"!==p.tickson&&!p.showdividers||g.secondary){for(var t=y.length,e=Math.abs((y[t-1].x-y[0].x)*p._m)/(t-1),i=p.ticklabelposition||"",o=function(t){return-1!==i.indexOf(t)},a=o("top"),s=o("left"),t=o("right"),l=o("bottom")||s||a||t?(p.tickwidth||0)+6:0,u=e<2.5*n||"multicategory"===p.type,c=0;c<r.length-1;c++)if(U.bBoxIntersect(r[c],r[c+1],l)){_=u?90:30;break}}else{var f=2;for(p.ticks&&(f+=p.tickwidth/2),c=0;c<r.length;c++){var h=y[c].xbnd,d=r[c];if(null!==h[0]&&d.left-p.l2p(h[0])<f||null!==h[1]&&p.l2p(h[1])-d.right<f){_=90;break}}}_&&x(b,_)}}),p._tickAngles&&a.push(function(){p._tickAngles[n]=null===_?k(v)?v:0:_});e=p._anchorAxis;e&&e.autorange&&-1!==(p.ticklabelposition||"").indexOf("inside")&&!F(t,p._id)&&(t._insideTickLabelsAutorange||(t._insideTickLabelsAutorange={}),t._insideTickLabelsAutorange[e._name+".autorange"]=e.autorange,a.push(function(){b.each(function(t,e){var n=ft(this);p._vals[e].bb=V.bBox(n.node())})}));a=U.syncOrAsync(a);return a&&a.then&&r._promises.push(a),a},Y.getPxPosition=function(t,e){var n,r=t._fullLayout._size,i=e._id.charAt(0),t=e.side;return"free"!==e.anchor?n=e._anchorAxis:"x"===i?n={_offset:r.t+(1-(e.position||0))*r.h,_length:0}:"y"===i&&(n={_offset:r.l+(e.position||0)*r.w,_length:0}),"top"===t||"left"===t?n._offset:"bottom"===t||"right"===t?n._offset+n._length:void 0},Y.shouldShowZeroLine=function(t,e,n){var r=U.simpleMap(e.range,e.r2l);return r[0]*r[1]<=0&&e.zeroline&&("linear"===e.type||"-"===e.type)&&!(e.rangebreaks&&e.maskBreaks(0)===I)&&(ct(e,0)||!function(t,o,e,n){var r=e._mainAxis;if(!r)return;var i=t._fullLayout,a=o._id.charAt(0),s=Y.counterLetter(o._id),l=o._offset+(Math.abs(n[0])<Math.abs(n[1])==("x"===a)?0:o._length);function u(t){if(!t.showline||!t.linewidth)return!1;var e=Math.max((t.linewidth+o.zerolinewidth)/2,1);function n(t){return"number"==typeof t&&Math.abs(t-l)<e}if(n(t._mainLinePosition)||n(t._mainMirrorPosition))return!0;var r,i=t._linepositions||{};for(r in i)if(n(i[r][0])||n(i[r][1]))return!0}i=i._plots[e._mainSubplot];if(!(i.mainplotinfo||i).overlays.length)return u(e);for(var c=Y.list(t,s),f=0;f<c.length;f++){var h=c[f];if(h._mainAxis===r&&u(h))return!0}}(t,e,n,r)||function(t,e){for(var n=t._fullData,r=e._mainSubplot,i=e._id.charAt(0),o=0;o<n.length;o++){var a=n[o];if(!0===a.visible&&a.xaxis+a.yaxis===r){if(B.traceIs(a,"bar-like")&&a.orientation==={x:"h",y:"v"}[i])return!0;if(a.fill&&a.fill.charAt(a.fill.length-1)===i)return!0}}return!1}(t,e))},Y.clipEnds=function(e,t){return t.filter(function(t){return ct(e,t.x)})},Y.allowAutoMargin=function(t){for(var e=Y.list(t,"",!0),n=0;n<e.length;n++){var r=e[n];r.automargin&&(z.allowAutoMargin(t,ht(r)),r.mirror&&z.allowAutoMargin(t,dt(r))),B.getComponentMethod("rangeslider","isVisible")(r)&&z.allowAutoMargin(t,pt(r))}},Y.swap=function(t,e){for(var n=function(t,e){var n,r,i,o=[];for(n=0;n<e.length;n++){var a=[],s=t._fullData[e[n]].xaxis,l=t._fullData[e[n]].yaxis;if(s&&l){for(r=0;r<o.length;r++)-1===o[r].x.indexOf(s)&&-1===o[r].y.indexOf(l)||a.push(r);if(a.length){var u=o[a[0]];if(1<a.length)for(r=1;r<a.length;r++)i=o[a[r]],gt(u.x,i.x),gt(u.y,i.y);gt(u.x,[s]),gt(u.y,[l])}else o.push({x:[s],y:[l]})}}return o}(t,e),r=0;r<n.length;r++)!function(t,e,n){var r,i,o=[],a=[],s=t.layout;for(r=0;r<e.length;r++)o.push(Y.getFromId(t,e[r]));for(r=0;r<n.length;r++)a.push(Y.getFromId(t,n[r]));var l=Object.keys(x),u=["anchor","domain","overlaying","position","side","tickangle","editType"],c=["linear","log"];for(r=0;r<l.length;r++){var f=l[r],h=o[0][f],d=a[0][f],p=!0,g=!1,m=!1;if("_"!==f.charAt(0)&&"function"!=typeof h&&-1===u.indexOf(f)){for(i=1;i<o.length&&p;i++){var y=o[i][f];"type"===f&&-1!==c.indexOf(h)&&-1!==c.indexOf(y)&&h!==y?g=!0:y!==h&&(p=!1)}for(i=1;i<a.length&&p;i++){var v=a[i][f];"type"===f&&-1!==c.indexOf(d)&&-1!==c.indexOf(v)&&d!==v?m=!0:a[i][f]!==d&&(p=!1)}p&&(g&&(s[o[0]._name].type="linear"),m&&(s[a[0]._name].type="linear"),function(t,e,n,r,i){var o,a=U.nestedProperty,s=a(t[n[0]._name],e).get(),l=a(t[r[0]._name],e).get();for("title"===e&&(s&&s.text===i.x&&(s.text=i.y),l&&l.text===i.y&&(l.text=i.x)),o=0;o<n.length;o++)a(t,n[o]._name+"."+e).set(l);for(o=0;o<r.length;o++)a(t,r[o]._name+"."+e).set(s)}(s,f,o,a,t._fullLayout._dfltTitle))}}for(r=0;r<t._fullLayout.annotations.length;r++){var b=t._fullLayout.annotations[r];-1!==e.indexOf(b.xref)&&-1!==n.indexOf(b.yref)&&U.swapAttrs(s.annotations[r],["?"])}}(t,n[r].x,n[r].y)}},{"../../components/color":646,"../../components/drawing":668,"../../components/titles":741,"../../constants/alignment":748,"../../constants/numerical":754,"../../lib":776,"../../lib/svg_text_utils":799,"../../plots/plots":868,"../../registry":877,"./autorange":822,"./axis_autotype":824,"./axis_ids":826,"./clean_ticks":828,"./layout_attributes":837,"./set_convert":843,d3:629,"fast-isnumeric":450}],824:[function(t,e,n){"use strict";var c=t("fast-isnumeric"),r=t("../../lib"),f=t("../../constants/numerical").BADNUM,l=r.isArrayOrTypedArray,h=r.isDateTime,d=r.cleanNumber,p=Math.round;function g(t){return Math.max(1,(t-1)/1e3)}e.exports=function(t,e,n){var r=t,i=n.noMultiCategory;if(l(r)&&!r.length)return"-";if(!i&&(l((t=r)[0])&&l(t[1])))return"multicategory";if(i&&Array.isArray(r[0])){for(var o=[],a=0;a<r.length;a++)if(l(r[a]))for(var s=0;s<r[a].length;s++)o.push(r[a][s]);r=o}if(function(t,e){for(var n=t.length,r=g(n),i=0,o=0,a={},s=0;s<n;s+=r){var l=p(s),u=t[l],l=String(u);a[l]||(a[l]=1,h(u,e)&&i++,c(u)&&o++)}return 2*o<i}(r,e))return"date";n="strict"!==n.autotypenumbers;return function(t,e){for(var n=t.length,r=g(n),i=0,o=0,a={},s=0;s<n;s+=r){var l=p(s),u=t[l],l=String(u);a[l]||(a[l]=1,"boolean"==(l=typeof u)?o++:(e?d(u)!==f:"number"==l)?i++:"string"==l&&o++)}return 2*i<o}(r,n)?"category":function(t,e){for(var n=t.length,r=0;r<n;r++)if(function(t,e){return e?c(t):"number"==typeof t}(t[r],e))return!0;return!1}(r,n)?"linear":"-"}},{"../../constants/numerical":754,"../../lib":776,"fast-isnumeric":450}],825:[function(t,e,n){"use strict";var c=t("fast-isnumeric"),m=t("../../registry"),y=t("../../lib"),v=t("../array_container_defaults"),b=t("./layout_attributes"),x=t("./tick_value_defaults"),_=t("./tick_mark_defaults"),w=t("./tick_label_defaults"),k=t("./category_order_defaults"),T=t("./line_grid_defaults"),M=t("./set_convert"),A=t("./constants").WEEKDAY_PATTERN,f=t("./constants").HOUR_PATTERN;function S(n,r,t){function e(t,e){return y.coerce(n,r,b.rangebreaks,t,e)}if(e("enabled")){var i=e("bounds");if(i&&2<=i.length){var o,a,s="";if(2===i.length)for(o=0;o<2;o++)if(a=h(i[o])){s=A;break}var l=e("pattern",s);if(l===A)for(o=0;o<2;o++)(a=h(i[o]))&&(r.bounds[o]=i[o]=a-1);if(l)for(o=0;o<2;o++)switch(a=i[o],l){case A:if(!c(a))return void(r.enabled=!1);if((a=+a)!==Math.floor(a)||a<0||7<=a)return void(r.enabled=!1);r.bounds[o]=i[o]=a;break;case f:if(!c(a))return void(r.enabled=!1);if((a=+a)<0||24<a)return void(r.enabled=!1);r.bounds[o]=i[o]=a}!1===t.autorange&&((u=t.range)[0]<u[1]?i[0]<u[0]&&i[1]>u[1]&&(r.enabled=!1):i[0]>u[0]&&i[1]<u[1]&&(r.enabled=!1))}else{var u=e("values");u&&u.length?e("dvalue"):r.enabled=!1}}}e.exports=function(t,e,n,r,i){var o=r.letter,a=r.font||{},s=r.splomStash||{},l=n("visible",!r.visibleDflt),u=e._template||{},c=e.type||u.type||"-";"date"===c&&(m.getComponentMethod("calendars","handleDefaults")(t,e,"calendar",r.calendar),r.noTicklabelmode||(f=n("ticklabelmode"))),r.noTicklabelposition&&"multicategory"!==c||y.coerce(t,e,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===f?["outside","inside"]:"x"===o?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition"),M(e,i);u=!e.isValidRange(t.range);u&&r.reverseDflt&&(u="reversed"),!n("autorange",u)||"linear"!==c&&"-"!==c||n("rangemode"),n("range"),e.cleanRange(),k(t,e,n,r),"category"===c||r.noHover||n("hoverformat");var f=n("color"),u=f!==b.color.dflt?f:a.color,o=s.label||i._dfltTitle[o];if(w(t,e,n,c,r,{pass:1}),!l)return e;n("title.text",o),y.coerceFont(n,"title.font",{family:a.family,size:Math.round(1.2*a.size),color:u}),x(t,e,n,c),w(t,e,n,c,r,{pass:2}),_(t,e,n,r),T(t,e,n,{dfltColor:f,bgColor:r.bgColor,showGrid:r.showGrid,attributes:b}),(e.showline||e.ticks)&&n("mirror"),r.automargin&&n("automargin");var h,f="multicategory"===c;if(r.noTickson||"category"!==c&&!f||!e.ticks&&!e.showgrid||(f&&(h="boundaries"),"boundaries"===n("tickson",h)&&delete e.ticklabelposition),f&&n("showdividers")&&(n("dividercolor"),n("dividerwidth")),"date"===c)if(v(t,e,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:S}),e.rangebreaks.length){for(var d=0;d<e.rangebreaks.length;d++)if(e.rangebreaks[d].pattern===A){e._hasDayOfWeekBreaks=!0;break}if(M(e,i),i._has("scattergl")||i._has("splom"))for(var p=0;p<r.data.length;p++){var g=r.data[p];"scattergl"!==g.type&&"splom"!==g.type||(g.visible=!1,y.warn(g.type+" traces do not work on axes with rangebreaks. Setting trace "+g.index+" to `visible: false`."))}}else delete e.rangebreaks;return e};var r={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function h(t){if("string"==typeof t)return r[t.substr(0,3).toLowerCase()]}},{"../../lib":776,"../../registry":877,"../array_container_defaults":818,"./category_order_defaults":827,"./constants":829,"./layout_attributes":837,"./line_grid_defaults":839,"./set_convert":843,"./tick_label_defaults":844,"./tick_mark_defaults":845,"./tick_value_defaults":846,"fast-isnumeric":450}],826:[function(t,e,c){"use strict";var a=t("../../registry"),i=t("./constants");function n(t,e){if(e&&e.length)for(var n=0;n<e.length;n++)if(e[n][t])return!0;return!1}c.id2name=function(t){if("string"==typeof t&&t.match(i.AX_ID_PATTERN)){var e=t.split(" ")[0].substr(1);return"1"===e&&(e=""),t.charAt(0)+"axis"+e}},c.name2id=function(t){if(t.match(i.AX_NAME_PATTERN)){var e=t.substr(5);return"1"===e&&(e=""),t.charAt(0)+e}},c.cleanId=function(t,e,n){var r=/( domain)$/.test(t);if("string"==typeof t&&t.match(i.AX_ID_PATTERN)&&(!e||t.charAt(0)===e)&&(!r||n)){e=t.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===e&&(e=""),t.charAt(0)+e+(r&&n?" domain":"")}},c.list=function(t,e,n){var r=t._fullLayout;if(!r)return[];var i=c.listIds(t,e),o=new Array(i.length);for(l=0;l<i.length;l++){var a=i[l];o[l]=r[a.charAt(0)+"axis"+a.substr(1)]}if(!n)for(var s=r._subplots.gl3d||[],l=0;l<s.length;l++){var u=r[s[l]];e?o.push(u[e+"axis"]):o.push(u.xaxis,u.yaxis,u.zaxis)}return o},c.listIds=function(t,e){t=t._fullLayout;if(!t)return[];t=t._subplots;return e?t[e+"axis"]:t.xaxis.concat(t.yaxis)},c.getFromId=function(t,e,n){t=t._fullLayout;return e=void 0===e||"string"!=typeof e?e:e.replace(" domain",""),"x"===n?e=e.replace(/y[0-9]*/,""):"y"===n&&(e=e.replace(/x[0-9]*/,"")),t[c.id2name(e)]},c.getFromTrace=function(t,e,n){var r,i=t._fullLayout,o=null;return a.traceIs(e,"gl3d")?"scene"===(r=e.scene).substr(0,5)&&(o=i[r][n+"axis"]):o=c.getFromId(t,e[n+"axis"]||n),o},c.idSort=function(t,e){var n=t.charAt(0),r=e.charAt(0);return n!==r?r<n?1:-1:+(t.substr(1)||1)-+(e.substr(1)||1)},c.ref2id=function(t){return!!/^[xyz]/.test(t)&&t.split(" ")[0]},c.isLinked=function(t,e){return n(e,t._axisMatchGroups)||n(e,t._axisConstraintGroups)}},{"../../registry":877,"./constants":829}],827:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i,o;"category"===e.type&&(t=t.categoryarray,(t=Array.isArray(t)&&0<t.length)&&(i="array"),"array"===(i=n("categoryorder",i))&&(o=n("categoryarray")),t||"array"!==i||(i=e.categoryorder="trace"),"trace"===i?e._initialCategories=[]:"array"===i?e._initialCategories=o.slice():(o=function(t,e){var n,r,i=e.dataAttr||t._id.charAt(0),o={};if(e.axData)n=e.axData;else for(n=[],r=0;r<e.data.length;r++){var a=e.data[r];a[i+"axis"]===t._id&&n.push(a)}for(r=0;r<n.length;r++)for(var s=n[r][i],l=0;l<s.length;l++){var u=s[l];null!=u&&(o[u]=1)}return Object.keys(o)}(e,r).sort(),"category ascending"===i?e._initialCategories=o:"category descending"===i&&(e._initialCategories=o.reverse())))}},{}],828:[function(t,e,n){"use strict";var a=t("fast-isnumeric"),i=t("../../lib"),t=t("../../constants/numerical"),s=t.ONEDAY,o=t.ONEWEEK;n.dtick=function(t,e){var n="log"===e,r="date"===e,i="category"===e,o=r?s:1;if(!t)return o;if(a(t))return(t=Number(t))<=0?o:i?Math.max(1,Math.round(t)):r?Math.max(.1,t):t;if("string"!=typeof t||!r&&!n)return o;e=t.charAt(0),i=t.substr(1);return(i=a(i)?Number(i):0)<=0||!(r&&"M"===e&&i===Math.round(i)||n&&"L"===e||n&&"D"===e&&(1===i||2===i))?o:t},n.tick0=function(t,e,n,r){return"date"===e?i.cleanDate(t,i.dateTick0(n,r%o==0?1:0)):"D1"!==r&&"D2"!==r?a(t)?Number(t):0:void 0}},{"../../constants/numerical":754,"../../lib":776,"fast-isnumeric":450}],829:[function(t,e,n){"use strict";t=t("../../lib/regex").counter;e.exports={idRegex:{x:t("x","( domain)?"),y:t("y","( domain)?")},attrRegex:t("[xy]axis"),xAxisMatch:t("xaxis"),yAxisMatch:t("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":791}],830:[function(t,e,n){"use strict";var T=t("../../lib"),P=t("./autorange"),N=t("./axis_ids").id2name,M=t("./layout_attributes"),L=t("./scale_zoom"),A=t("./set_convert"),R=t("../../constants/numerical").ALMOST_EQUAL,i=t("../../constants/alignment").FROM_BL;function S(t,e){var n=e.domain;return(n=n||t[N(e.overlaying)].domain)[1]-n[0]}function E(t,e){for(var n=0;n<t.length;n++)if(t[n][e])return t[n];return null}function C(t,e,n,r){var i,o,a,s=E(t,e);null===s?((s={})[e]=1,a=t.length,t.push(s)):a=t.indexOf(s);for(var l=Object.keys(s),u=0;u<t.length;u++)if(i=t[u],u!==a&&i[n]){for(var c=i[n],f=0;f<l.length;f++)i[o=l[f]]=d(c,d(r,s[o]));return void t.splice(a,1)}if(1!==r)for(f=0;f<l.length;f++){var h=l[f];s[h]=d(r,s[h])}s[n]=1}function d(t,e){var n,r,i="",o="";"string"==typeof t&&(n=(i=t.match(/^[xy]*/)[0]).length,t=+t.substr(n)),"string"==typeof e&&(r=(o=e.match(/^[xy]*/)[0]).length,e=+e.substr(r));var a=t*e;return n||r?n&&r&&i.charAt(0)!==o.charAt(0)?n===r?a:(r<n?i.substr(r):o.substr(n))+a:i+o+t*e:a}function D(t,e){var n=t._inputDomain,r=i[t.constraintoward],r=n[0]+(n[1]-n[0])*r;t.domain=t._input.domain=[r+(n[0]-r)/e,r+(n[1]-r)/e],t.setScale()}n.handleDefaults=function(t,n,e){for(var r,i,o,a,s,l=e.axIds,u=e.axHasImage,c=n._axisConstraintGroups=[],f=n._axisMatchGroups=[],h=0;h<l.length;h++)!function(n,r,t){var e=t.axIds,i=t.layoutOut,o=t.hasImage,a=i._axisConstraintGroups,s=i._axisMatchGroups,l=r._id,u=l.charAt(0),t=((i._splomAxes||{})[u]||{})[l]||{},c=r._id,u="x"===c.charAt(0);function f(t,e){return T.coerce(n,r,M,t,e)}r._matchGroup=null,r._constraintGroup=null,f("constrain",o?"domain":"range"),T.coerce(n,r,{constraintoward:{valType:"enumerated",values:u?["left","center","right"]:["bottom","middle","top"],dflt:u?"center":"middle"}},"constraintoward");var h,d,p=r.type,g=[];for(h=0;h<e.length;h++)(d=e[h])!==c&&i[N(d)].type===p&&g.push(d);var m,y,v,b=E(a,c);if(b){var x=[];for(h=0;h<g.length;h++)d=g[h],b[d]||x.push(d);g=x}(l=g.length)&&(n.matches||t.matches)&&(m=T.coerce(n,r,{matches:{valType:"enumerated",values:g,dflt:-1!==g.indexOf(t.matches)?t.matches:void 0}},"matches")),o=o&&!u?r.anchor:void 0,l&&!m&&(n.scaleanchor||o)&&(y=T.coerce(n,r,{scaleanchor:{valType:"enumerated",values:g}},"scaleanchor",o)),m?(r._matchGroup=C(s,c,m,1),v=i[N(m)],v=S(i,r)/S(i,v),u!=("x"===m.charAt(0))&&(v=(u?"x":"y")+v),C(a,c,m,v)):n.matches&&-1!==e.indexOf(n.matches)&&T.warn("ignored "+r._name+'.matches: "'+n.matches+'" to avoid an infinite loop'),y?(v=(v=f("scaleratio"))||(r.scaleratio=1),C(a,c,y,v)):n.scaleanchor&&-1!==e.indexOf(n.scaleanchor)&&T.warn("ignored "+r._name+'.scaleanchor: "'+n.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}(a=t[o=N(l[h])],s=n[o],{axIds:l,layoutOut:n,hasImage:u[o]});function d(t,e){for(h=0;h<t.length;h++)for(i in r=t[h])n[N(i)][e]=r}for(d(f,"_matchGroup"),h=0;h<c.length;h++)for(i in r=c[h])if((s=n[N(i)]).fixedrange){for(var p in r){var g=N(p);!1===(t[g]||{}).fixedrange&&T.warn("fixedrange was specified as false for axis "+g+" but was overridden because another axis in its constraint group has fixedrange true"),n[g].fixedrange=!0}break}for(h=0;h<c.length;){for(i in r=c[h]){(s=n[N(i)])._matchGroup&&Object.keys(s._matchGroup).length===Object.keys(r).length&&(c.splice(h,1),h--);break}h++}d(c,"_constraintGroup");var m=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],y=!1,v=!1;function b(){k=s[w],"rangebreaks"===w&&(v=s._hasDayOfWeekBreaks)}for(h=0;h<f.length;h++){r=f[h];for(var x=0;x<m.length;x++){var _,w=m[x],k=null;for(i in r)if(a=t[o=N(i)],s=n[o],w in s){if(!s.matches&&(_=s,w in a)){b();break}null===k&&w in a&&b()}if("range"===w&&k&&(y=!0),"autorange"===w&&null===k&&y&&(k=!1),null===k&&w in _&&(k=_[w]),null!==k)for(i in r)(s=n[N(i)])[w]="range"===w?k.slice():k,"rangebreaks"===w&&(s._hasDayOfWeekBreaks=v,A(s,n))}}},n.enforce=function(t){for(var e,n,r,i,o,a=t._fullLayout,s=a._axisConstraintGroups||[],l=0;l<s.length;l++){e=function(t,e){for(var n=(e=e._size).h/e.w,r={},i=Object.keys(t),o=0;o<i.length;o++){var a=i[o];if("string"==typeof(u=t[a]))for(var s=u.match(/^[xy]*/)[0],l=s.length,u=+u.substr(l),c="y"===s.charAt(0)?n:1/n,f=0;f<l;f++)u*=c;r[a]=u}return r}(s[l],a);for(var u=Object.keys(e),c=1/0,f=0,h=1/0,d={},p={},g=!1,m=0;m<u.length;m++)p[n=u[m]]=r=a[N(n)],r._inputDomain?r.domain=r._inputDomain.slice():r._inputDomain=r.domain.slice(),r._inputRange||(r._inputRange=r.range.slice()),r.setScale(),d[n]=i=Math.abs(r._m)/e[n],c=Math.min(c,i),"domain"!==r.constrain&&r._constraintShrinkable||(h=Math.min(h,i)),delete r._constraintShrinkable,f=Math.max(f,i),"domain"===r.constrain&&(g=!0);if(!(R*f<c)||g)for(m=0;m<u.length;m++)if(i=d[n=u[m]],x=(r=p[n]).constrain,i!==h||"domain"===x)if(o=i/h,"range"===x)L(r,o);else{var y=r._inputDomain,v=(r.domain[1]-r.domain[0])/(y[1]-y[0]),b=(r.r2l(r.range[1])-r.r2l(r.range[0]))/(r.r2l(r._inputRange[1])-r.r2l(r._inputRange[0]));if((o/=v)*b<1)r.domain=r._input.domain=y.slice(),L(r,o);else{if(b<1&&(r.range=r._input.range=r._inputRange.slice(),o*=b),r.autorange){var x=r.r2l(r.range[0]),v=r.r2l(r.range[1]),y=(x+v)/2,_=y,w=y,b=Math.abs(v-y),k=y-b*o*1.0001,T=y+b*o*1.0001,M=P.makePadFn(a,r,0),A=P.makePadFn(a,r,1);D(r,o);for(var S,E=Math.abs(r._m),y=P.concatExtremes(t,r),C=y.min,O=y.max,j=0;j<C.length;j++)k<(S=C[j].val-M(C[j])/E)&&S<_&&(_=S);for(j=0;j<O.length;j++)(S=O[j].val+A(O[j])/E)<T&&w<S&&(w=S);o/=(w-_)/(2*b),_=r.l2r(_),w=r.l2r(w),r.range=r._input.range=x<v?[_,w]:[w,_]}D(r,o)}}}},n.getAxisGroup=function(t,e){for(var n=t._axisMatchGroups,r=0;r<n.length;r++)if(n[r][e])return"g"+r;return e},n.clean=function(t,e){if(e._inputDomain){for(var n=!1,r=e._id,i=t._fullLayout._axisConstraintGroups,o=0;o<i.length;o++)if(i[o][r]){n=!0;break}n&&"domain"===e.constrain||(e._input.domain=e.domain=e._inputDomain,delete e._inputDomain)}}},{"../../constants/alignment":748,"../../constants/numerical":754,"../../lib":776,"./autorange":822,"./axis_ids":826,"./layout_attributes":837,"./scale_zoom":841,"./set_convert":843}],831:[function(t,e,n){"use strict";var dt=t("d3"),pt=t("tinycolor2"),r=t("has-passive-events"),gt=t("../../registry"),mt=t("../../lib"),o=mt.strTranslate,yt=t("../../lib/svg_text_utils"),i=t("../../components/color"),vt=t("../../components/drawing"),bt=t("../../components/fx"),xt=t("./axes"),a=t("../../lib/setcursor"),_t=t("../../components/dragelement"),s=t("../../components/dragelement/helpers"),wt=s.selectingOrDrawing,kt=s.freeMode,Tt=t("../../constants/alignment").FROM_TL,Mt=t("../../lib/clear_gl_canvases"),At=t("../../plot_api/subroutines").redrawReglTraces,St=t("../plots"),Et=t("./axis_ids").getFromId,Ct=t("./select").prepSelect,Ot=t("./select").clearSelect,jt=t("./select").selectOnClick,Pt=t("./scale_zoom"),Nt=t("./constants"),Lt=Nt.MINDRAG,Rt=Nt.MINZOOM,l=!0;function u(e,t,n,r){n=mt.ensureSingle(e.draglayer,t,n,function(t){t.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)});return n.call(a,r),n.node()}function Dt(t,e,n,r,i,o,a){n=u(t,"rect",e,n);return dt.select(n).call(vt.setRect,r,i,o,a),n}function It(t,e){for(var n=0;n<t.length;n++)if(!t[n].fixedrange)return e;return""}function Ft(t,e,n,r,i){for(var o=0;o<t.length;o++){var a,s,l=t[o];l.fixedrange||(l.rangebreaks?(a=(s="y"===l._id.charAt(0))?1-e:e,s=s?1-n:n,r[l._name+".range[0]"]=l.l2r(l.p2l(a*l._length)),r[l._name+".range[1]"]=l.l2r(l.p2l(s*l._length))):(a=l._rl[0],s=l._rl[1]-a,r[l._name+".range[0]"]=l.l2r(a+s*e),r[l._name+".range[1]"]=l.l2r(a+s*n)))}i&&i.length&&Ft(i,i=(e+(1-n))/2,1-i,r,[])}function zt(t,e){for(var n=0;n<t.length;n++){var r,i=t[n];i.fixedrange||(i.rangebreaks?(r=i._length,r=(i.p2l(0+e)-i.p2l(0)+(i.p2l(r+e)-i.p2l(r)))/2,i.range=[i.l2r(i._rl[0]-r),i.l2r(i._rl[1]-r)]):i.range=[i.l2r(i._rl[0]-e/i._m),i.l2r(i._rl[1]-e/i._m)])}}function Bt(t,e,n,r,i){return t.append("path").attr("class","zoombox").style({fill:.2<e?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",o(n,r)).attr("d",i+"Z")}function Ut(t,e,n){return t.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1,opacity:0}).attr("transform",o(e,n)).attr("d","M0,0Z")}function Ht(t,e,n,r,i,o){t.attr("d",r+"M"+n.l+","+n.t+"v"+n.h+"h"+n.w+"v-"+n.h+"h-"+n.w+"Z"),c(t,e,i,o)}function c(t,e,n,r){n||(t.transition().style("fill",.2<r?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),e.transition().style("opacity",1).duration(200))}function qt(t){dt.select(t).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Vt(t){l&&t.data&&t._context.showTips&&(mt.notifier(mt._(t,"Double-click to zoom back out"),"long"),l=!1)}function Gt(t){var e=Math.floor(Math.min(t.b-t.t,t.r-t.l,Rt)/2);return"M"+(t.l-3.5)+","+(t.t-.5+e)+"h3v"+-e+"h"+e+"v-3h-"+(e+3)+"ZM"+(t.r+3.5)+","+(t.t-.5+e)+"h-3v"+-e+"h"+-e+"v-3h"+(e+3)+"ZM"+(t.r+3.5)+","+(t.b+.5-e)+"h-3v"+e+"h"+-e+"v3h"+(e+3)+"ZM"+(t.l-3.5)+","+(t.b+.5-e)+"h3v"+e+"h"+e+"v3h-"+(e+3)+"Z"}function Wt(t,e,n,r,i){for(var o,a,s,l,u=!1,c={},f={},h=(i||{}).xaHash,d=(i||{}).yaHash,p=0;p<e.length;p++){var g=e[p];for(o in n)if(g[o]){for(s in g)i&&(h[s]||d[s])||("x"===s.charAt(0)?n:r)[s]||(c[s]=o);for(a in r)i&&(h[a]||d[a])||!g[a]||(u=!0)}for(a in r)if(g[a])for(l in g)i&&(h[l]||d[l])||("x"===l.charAt(0)?n:r)[l]||(f[l]=a)}u&&(mt.extendFlat(c,f),f={});var m={},y=[];for(s in c){var v=Et(t,s);y.push(v),m[v._id]=v}var b={},x=[];for(l in f){var _=Et(t,l);x.push(_),b[_._id]=_}return{xaHash:m,yaHash:b,xaxes:y,yaxes:x,xLinks:c,yLinks:f,isSubplotConstrained:u}}function Yt(t,e){var n;r?(n=void 0!==t.onwheel?"wheel":"mousewheel",t._onwheel&&t.removeEventListener(n,t._onwheel),t._onwheel=e,t.addEventListener(n,e,{passive:!1})):void 0!==t.onwheel?t.onwheel=e:void 0!==t.onmousewheel?t.onmousewheel=e:t.isAddedWheelEvent||(t.isAddedWheelEvent=!0,t.addEventListener("wheel",e,{passive:!1}))}function Xt(t){var e,n=[];for(e in t)n.push(t[e]);return n}e.exports={makeDragBox:function(v,s,t,e,n,r,b,x){var _,w,k,T,l,u,o,a,c,f,h,M,A,S,d,E,C,O,j,P,p,g,m,y=v._fullLayout._zoomlayer,N=b+x==="nsew",L=1===(b+x).length;function R(){if(_=s.xaxis,w=s.yaxis,c=_._length,f=w._length,o=_._offset,a=w._offset,(k={})[_._id]=_,(T={})[w._id]=w,b&&x)for(var t=s.overlays,e=0;e<t.length;e++){var n=t[e].xaxis;k[n._id]=n;n=t[e].yaxis;T[n._id]=n}l=Xt(k),u=Xt(T),A=It(l,x),S=It(u,b),d=!S&&!A,M=Wt(v,v._fullLayout._axisMatchGroups,k,T);var r=(h=Wt(v,v._fullLayout._axisConstraintGroups,k,T,M)).isSubplotConstrained||M.isSubplotConstrained;E=x||r,C=b||r;r=v._fullLayout;O=r._has("scattergl"),j=r._has("splom"),P=r._has("svg")}R();var i,D,I=(i=S+A,I=v._fullLayout.dragmode,D=N,i?"nsew"!==i?i.toLowerCase()+"-resize":D?"":"pan"===I?"move":"crosshair":"pointer"),F=Dt(s,b+x+"drag",I,t,e,n,r);if(d&&!N)return F.onmousedown=null,F.style.pointerEvents="none",F;var z,B,U,H,q,V,G,W,Y,X,Z={element:F,gd:v,plotinfo:s};function $(){Z.plotinfo.selection=!1,Ot(v)}function Q(t,e){var n,r,i,o,a=Z.gd;0<=a._fullLayout._activeShapeIndex?a._fullLayout._deactivateShape(a):(o=a._fullLayout.clickmode,qt(a),2!==t||L||function(){if(!v._transitioningWithDuration){var t=v._context.doubleClick,e=[];A&&(e=e.concat(l)),S&&(e=e.concat(u)),M.xaxes&&(e=e.concat(M.xaxes)),M.yaxes&&(e=e.concat(M.yaxes));var n,r,i,o={};if("reset+autosize"===t)for(t="autosize",r=0;r<e.length;r++)if((n=e[r])._rangeInitial&&(n.range[0]!==n._rangeInitial[0]||n.range[1]!==n._rangeInitial[1])||!n._rangeInitial&&!n.autorange){t="reset";break}if("autosize"===t)for(r=0;r<e.length;r++)(n=e[r]).fixedrange||(o[n._name+".autorange"]=!0);else if("reset"===t)for((A||h.isSubplotConstrained)&&(e=e.concat(h.xaxes)),S&&!h.isSubplotConstrained&&(e=e.concat(h.yaxes)),h.isSubplotConstrained&&(A?S||(e=e.concat(u)):e=e.concat(l)),r=0;r<e.length;r++)(n=e[r]).fixedrange||(n._rangeInitial?(i=n._rangeInitial,o[n._name+".range[0]"]=i[0],o[n._name+".range[1]"]=i[1]):o[n._name+".autorange"]=!0);v.emit("plotly_doubleclick",null),gt.call("_guiRelayout",v,o)}}(),N?(-1<o.indexOf("select")&&jt(e,a,l,u,s.id,Z),-1<o.indexOf("event")&&bt.click(a,e,s.id)):1===t&&L&&(o="s"===b||"w"===x?0:1,r=(n=b?w:_)._name+".range["+o+"]",e=o,o=(t=n).range[e],e=Math.abs(o-t.range[1-e]),e="date"===t.type?o:"log"===t.type?(i=Math.ceil(Math.max(0,-Math.log(e)/Math.LN10))+3,dt.format("."+i+"g")(Math.pow(10,o))):(i=Math.floor(Math.log(Math.abs(o))/Math.LN10)-Math.floor(Math.log(e)/Math.LN10)+4,dt.format("."+String(i)+"g")(o)),i="left",o="middle",n.fixedrange||(b?(o="n"===b?"top":"bottom","right"===n.side&&(i="right")):"e"===x&&(i="right"),a._context.showAxisRangeEntryBoxes&&dt.select(F).call(yt.makeEditable,{gd:a,immediate:!0,background:a._fullLayout.paper_bgcolor,text:String(e),fill:n.tickfont?n.tickfont.color:"#444",horizontalAlign:i,verticalAlign:o}).on("edit",function(t){t=n.d2r(t);void 0!==t&&gt.call("_guiRelayout",a,r,t)}))))}function K(t,e){if(v._transitioningWithDuration)return!1;var n,r,i=Math.max(0,Math.min(c,g*t+z)),o=Math.max(0,Math.min(f,m*e+B)),t=Math.abs(i-z),e=Math.abs(o-B);function a(){G="",U.r=U.l,U.t=U.b,Y.attr("d","M0,0Z")}U.l=Math.min(z,i),U.r=Math.max(z,i),U.t=Math.min(B,o),U.b=Math.max(B,o),h.isSubplotConstrained?Rt<t||Rt<e?(G="xy",e/f<t/c?(e=t*f/c,o<B?U.t=B-e:U.b=B+e):(t=e*c/f,i<z?U.l=z-t:U.r=z+t),Y.attr("d",Gt(U))):a():M.isSubplotConstrained?Rt<t||Rt<e?(G="xy",r=Math.min(U.l/c,(f-U.b)/f),n=Math.max(U.r/c,(f-U.t)/f),U.l=r*c,U.r=n*c,U.b=(1-r)*f,U.t=(1-n)*f,Y.attr("d",Gt(U))):a():!S||e<Math.min(Math.max(.6*t,Lt),Rt)?t<Lt||!A?a():(U.t=0,U.b=f,G="x",Y.attr("d",(r=B,"M"+((n=U).l-.5)+","+(r-Rt-.5)+"h-3v"+(2*Rt+1)+"h3ZM"+(n.r+.5)+","+(r-Rt-.5)+"h3v"+(2*Rt+1)+"h-3Z"))):!A||t<Math.min(.6*e,Rt)?(U.l=0,U.r=c,G="y",Y.attr("d","M"+((t=z)-Rt-.5)+","+((e=U).t-.5)+"v-3h"+(2*Rt+1)+"v3ZM"+(t-Rt-.5)+","+(e.b+.5)+"v3h"+(2*Rt+1)+"v-3Z")):(G="xy",Y.attr("d",Gt(U))),U.w=U.r-U.l,U.h=U.b-U.t,G&&(X=!0),v._dragged=X,Ht(W,Y,U,q,V,H),J(),v.emit("plotly_relayouting",p),V=!0}function J(){p={},"xy"!==G&&"x"!==G||(Ft(l,U.l/c,U.r/c,p,h.xaxes),at("x",p)),"xy"!==G&&"y"!==G||(Ft(u,(f-U.b)/f,(f-U.t)/f,p,h.yaxes),at("y",p))}function tt(){J(),qt(v),lt(),Vt(v)}Z.prepFn=function(t,e,n){var r=Z.dragmode,i=v._fullLayout.dragmode;i!==r&&(Z.dragmode=i),R(),g=v._fullLayout._invScaleX,m=v._fullLayout._invScaleY,d||(N?t.shiftKey?"pan"===i?i="zoom":wt(i)||(i="pan"):t.ctrlKey&&(i="pan"):i="pan"),kt(i)?Z.minDrag=1:Z.minDrag=void 0,wt(i)?(Z.xaxes=l,Z.yaxes=u,Ct(t,e,n,Z,i)):(Z.clickFn=Q,wt(r)&&$(),d||("zoom"===i?(Z.moveFn=K,Z.doneFn=tt,Z.minDrag=1,r=e,e=n,n=F.getBoundingClientRect(),z=r-n.left,B=e-n.top,v._fullLayout._calcInverseTransform(v),n=mt.apply3DTransform(v._fullLayout._invTransform)(z,B),z=n[0],B=n[1],U={l:z,r:z,w:0,t:B,b:B,h:0},H=v._hmpixcount?v._hmlumcount/v._hmpixcount:pt(v._fullLayout.plot_bgcolor).getLuminance(),X=V=!(G="xy"),W=Bt(y,H,o,a,q="M0,0H"+c+"V"+f+"H0V0"),Y=Ut(y,o,a)):"pan"===i&&(Z.moveFn=ot,Z.doneFn=lt))),v._fullLayout._redrag=function(){var t,e=v._dragdata;e&&e.element===F&&(t=v._fullLayout.dragmode,wt(t)||(R(),ut([0,0,c,f]),Z.moveFn(e.dx,e.dy)))}},_t.init(Z);var et=[0,0,c,f],nt=null,rt=Nt.REDRAWDELAY,it=s.mainplot?v._fullLayout._plots[s.mainplot]:s;function ot(t,e){if(t*=g,e*=m,!v._transitioningWithDuration){if(v._fullLayout._replotting=!0,"ew"===A||"ns"===S){var n=A?-t:0,r=S?-e:0;return M.isSubplotConstrained&&(A&&S&&(n=-(t=(o=(t/c-e/f)/2)*c),r=-(e=-o*f)),S?n=-r*c/f:r=-n*f/c),A&&(zt(l,t),at("x")),S&&(zt(u,e),at("y")),ut([n,r,c,f]),st(),void v.emit("plotly_relayouting",p)}var i,o="w"===A==("n"===S)?1:-1;if(A&&S&&(h.isSubplotConstrained||M.isSubplotConstrained)&&(t=(a=(t/c+o*e/f)/2)*c,e=o*a*f),"w"===A?t=s(l,0,t):"e"===A?t=s(l,1,-t):A||(t=0),"n"===S?e=s(u,1,e):"s"===S?e=s(u,0,-e):S||(e=0),n="w"===A?t:0,r="n"===S?e:0,h.isSubplotConstrained&&!M.isSubplotConstrained||M.isSubplotConstrained&&A&&S&&0<o){if(M.isSubplotConstrained||!A&&1===S.length){for(i=0;i<l.length;i++)l[i].range=l[i]._r.slice(),Pt(l[i],1-e/f);n=(t=e*c/f)/2}if(M.isSubplotConstrained||!S&&1===A.length){for(i=0;i<u.length;i++)u[i].range=u[i]._r.slice(),Pt(u[i],1-t/c);r=(e=t*f/c)/2}}M.isSubplotConstrained&&S||at("x"),M.isSubplotConstrained&&A||at("y");var a=c-t,o=f-e;!M.isSubplotConstrained||A&&S||(A?(r=n?0:t*f/c,o=a*f/c):(n=r?0:e*c/f,a=o*c/f)),ut([n,r,a,o]),st(),v.emit("plotly_relayouting",p)}function s(t,e,n){for(var r,i,o=1-e,a=0;a<t.length;a++){var s,l=t[a];l.fixedrange||(i=(r=l)._rl[o]+(l._rl[e]-l._rl[o])/(1-(0<=(s=n/l._length)?Math.min(s,.9):1/(1/Math.max(s,-.3)+3.222))),!1!==(s=l.l2r(i))&&void 0!==s&&(l.range[e]=s))}return r._length*(r._rl[e]-i)/(r._rl[e]-r._rl[o])}}function at(t,e){for(var n=M.isSubplotConstrained?{x:u,y:l}[t]:M[t+"axes"],r=M.isSubplotConstrained?{x:l,y:u}[t]:[],i=0;i<n.length;i++){var o=n[i],a=o._id,a=M.xLinks[a]||M.yLinks[a],a=r[0]||k[a]||T[a];a&&(e?(e[o._name+".range[0]"]=e[a._name+".range[0]"],e[o._name+".range[1]"]=e[a._name+".range[1]"]):o.range=a.range.slice())}}function st(){var e,n=[];function t(t){for(e=0;e<t.length;e++)t[e].fixedrange||n.push(t[e]._id)}for(E&&(t(l),t(h.xaxes),t(M.xaxes)),C&&(t(u),t(h.yaxes),t(M.yaxes)),p={},e=0;e<n.length;e++){var r=n[e],r=Et(v,r);xt.drawOne(v,r,{skipTitle:!0}),p[r._name+".range[0]"]=r.range[0],p[r._name+".range[1]"]=r.range[1]}xt.redrawComponents(v,n)}function lt(){ut([0,0,c,f]),mt.syncOrAsync([St.previousPromises,function(){v._fullLayout._replotting=!1,gt.call("_guiRelayout",v,p)}],v)}function ut(t){var e=v._fullLayout,n=e._plots,r=e._subplots.cartesian;if(j&&gt.subplotsRegistry.splom.drag(v),O)for(f=0;f<r.length;f++){var i,o,a,s=(a=n[r[f]]).xaxis,l=a.yaxis;a._scene&&(i=mt.simpleMap(s.range,s.r2l),o=mt.simpleMap(l.range,l.r2l),a._scene.update({range:[i[0],o[0],i[1],o[1]]}))}if((j||O)&&(Mt(v),At(v)),P)for(var u=t[2]/_._length,c=t[3]/w._length,f=0;f<r.length;f++){s=(a=n[r[f]]).xaxis,l=a.yaxis;var h,d,p=(E||M.isSubplotConstrained)&&!s.fixedrange&&k[s._id],g=(C||M.isSubplotConstrained)&&!l.fixedrange&&T[l._id],m=p?(h=u,x||M.isSubplotConstrained?t[0]:ht(s,h)):M.xaHash[s._id]?(h=u,t[0]*s._length/_._length):M.yaHash[s._id]?(h=c,"ns"===S?-t[1]*s._length/w._length:ht(s,h,{n:"top",s:"bottom"}[S])):ft(s,h=ct(s,u,c)),y=g?(d=c,b||M.isSubplotConstrained?t[1]:ht(l,d)):M.yaHash[l._id]?(d=c,t[1]*l._length/w._length):M.xaHash[l._id]?(d=u,"ew"===A?-t[0]*l._length/_._length:ht(l,d,{e:"right",w:"left"}[A])):ft(l,d=ct(l,u,c));(h||d)&&(h=h||1,d=d||1,p=s._offset-m/h,g=l._offset-y/d,a.clipRect.call(vt.setTranslate,m,y).call(vt.setScale,h,d),a.plot.call(vt.setTranslate,p,g).call(vt.setScale,1/h,1/d),h===a.xScaleFactor&&d===a.yScaleFactor||(vt.setPointGroupScale(a.zoomScalePts,h,d),vt.setTextPointsScale(a.zoomScaleTxt,h,d)),vt.hideOutsideRangePoints(a.clipOnAxisFalseTraces,a),a.xScaleFactor=h,a.yScaleFactor=d)}}function ct(t,e,n){return t.fixedrange?0:E&&h.xaHash[t._id]?e:C&&(h.isSubplotConstrained?h.xaHash:h.yaHash)[t._id]?n:0}function ft(t,e){return e?(t.range=t._r.slice(),Pt(t,e),ht(t,e)):0}function ht(t,e,n){return t._length*(1-e)*Tt[n||t.constraintoward||"middle"]}return b.length*x.length!=1&&Yt(F,function(t){if(v._context._scrollZoom.cartesian||v._fullLayout._enablescrollzoom){if($(),v._transitioningWithDuration)return t.preventDefault(),void t.stopPropagation();R(),clearTimeout(nt);var e=-t.deltaY;if(isFinite(e)||(e=t.wheelDelta/10),isFinite(e)){var n,r=Math.exp(-Math.min(Math.max(e,-20),20)/200),e=it.draglayer.select(".nsewdrag").node().getBoundingClientRect(),i=(t.clientX-e.left)/e.width,o=(e.bottom-t.clientY)/e.height;if(E){for(x||(i=.5),n=0;n<l.length;n++)a(l[n],i,r);at("x"),et[2]*=r,et[0]+=et[2]*i*(1/r-1)}if(C){for(b||(o=.5),n=0;n<u.length;n++)a(u[n],o,r);at("y"),et[3]*=r,et[1]+=et[3]*(1-o)*(1/r-1)}ut(et),st(),v.emit("plotly_relayouting",p),nt=setTimeout(function(){et=[0,0,c,f],lt()},rt),t.preventDefault()}else mt.log("Did not find wheel motion attributes: ",t)}function a(e,t,n){var r,i;e.fixedrange||(r=mt.simpleMap(e.range,e.r2l),i=r[0]+(r[1]-r[0])*t,e.range=r.map(function(t){return e.l2r(i+(t-i)*n)}))}}),F},makeDragger:u,makeRectDragger:Dt,makeZoombox:Bt,makeCorners:Ut,updateZoombox:Ht,xyCorners:Gt,transitionZoombox:c,removeZoombox:qt,showDoubleClickNotifier:Vt,attachWheelEventHandler:Yt}},{"../../components/color":646,"../../components/dragelement":665,"../../components/dragelement/helpers":664,"../../components/drawing":668,"../../components/fx":686,"../../constants/alignment":748,"../../lib":776,"../../lib/clear_gl_canvases":763,"../../lib/setcursor":795,"../../lib/svg_text_utils":799,"../../plot_api/subroutines":813,"../../registry":877,"../plots":868,"./axes":823,"./axis_ids":826,"./constants":829,"./scale_zoom":841,"./select":842,d3:629,"has-passive-events":547,tinycolor2:1005}],832:[function(t,e,n){"use strict";var r=t("d3"),l=t("../../components/fx"),u=t("../../components/dragelement"),i=t("../../lib/setcursor"),c=t("./dragbox").makeDragBox,f=t("./constants").DRAGGERSIZE;n.initInteractions=function(a){var t,s=a._fullLayout;a._context.staticPlot?r.select(a).selectAll(".drag").remove():(s._has("cartesian")||s._has("splom"))&&(Object.keys(s._plots||{}).sort(function(t,e){if((s._plots[t].mainplot&&!0)!==(s._plots[e].mainplot&&!0))return s._plots[t].mainplot?1:-1;t=t.split("y"),e=e.split("y");return t[0]===e[0]?Number(t[1]||1)-Number(e[1]||1):Number(t[0]||1)-Number(e[0]||1)}).forEach(function(e){var n,t,r=s._plots[e],i=r.xaxis,o=r.yaxis;r.mainplot||((n=c(a,r,i._offset,o._offset,i._length,o._length,"ns","ew")).onmousemove=function(t){a._fullLayout._rehover=function(){a._fullLayout._hoversubplot===e&&a._fullLayout._plots[e]&&l.hover(a,t,e)},l.hover(a,t,e),a._fullLayout._lasthover=n,a._fullLayout._hoversubplot=e},n.onmouseout=function(t){a._dragging||(a._fullLayout._hoversubplot=null,u.unhover(a,t))},a._context.showAxisDragHandles&&(c(a,r,i._offset-f,o._offset-f,f,f,"n","w"),c(a,r,i._offset+i._length,o._offset-f,f,f,"n","e"),c(a,r,i._offset-f,o._offset+o._length,f,f,"s","w"),c(a,r,i._offset+i._length,o._offset+o._length,f,f,"s","e"))),a._context.showAxisDragHandles&&(e===i._mainSubplot&&(t=i._mainLinePosition,"top"===i.side&&(t-=f),c(a,r,i._offset+.1*i._length,t,.8*i._length,f,"","ew"),c(a,r,i._offset,t,.1*i._length,f,"","w"),c(a,r,i._offset+.9*i._length,t,.1*i._length,f,"","e")),e===o._mainSubplot&&(i=o._mainLinePosition,"right"!==o.side&&(i-=f),c(a,r,i,o._offset+.1*o._length,f,.8*o._length,"ns",""),c(a,r,i,o._offset+.9*o._length,f,.1*o._length,"s",""),c(a,r,i,o._offset,f,.1*o._length,"n","")))}),(t=s._hoverlayer.node()).onmousemove=function(t){t.target=a._fullLayout._lasthover,l.hover(a,t,s._hoversubplot)},t.onclick=function(t){t.target=a._fullLayout._lasthover,l.click(a,t)},t.onmousedown=function(t){a._fullLayout._lasthover.onmousedown(t)},n.updateFx(a))},n.updateFx=function(t){var e=t._fullLayout,t="pan"===e.dragmode?"move":"crosshair";i(e._draggers,t)}},{"../../components/dragelement":665,"../../components/fx":686,"../../lib/setcursor":795,"./constants":829,"./dragbox":831,d3:629}],833:[function(t,e,n){"use strict";e.exports={clearOutlineControllers:function(t){(t=t._fullLayout._zoomlayer)&&t.selectAll(".outline-controllers").remove()},clearSelect:function(t){var e=t._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),t._fullLayout._drawing=!1}}},{}],834:[function(t,e,n){"use strict";var r=t("../../lib").strTranslate;function i(t,e){switch(t.type){case"log":return t.p2d(e);case"date":return t.p2r(e,0,t.calendar);default:return t.p2r(e)}}e.exports={p2r:i,r2p:function(t,e){switch(t.type){case"log":return t.d2p(e);case"date":return t.r2p(e,0,t.calendar);default:return t.r2p(e)}},axValue:function(e){var n="y"===e._id.charAt(0)?1:0;return function(t){return i(e,t[n])}},getTransform:function(t){return r(t.xaxis._offset,t.yaxis._offset)}}},{"../../lib":776}],835:[function(t,e,n){"use strict";var m=t("../../registry"),y=t("../../lib"),v=t("./axis_ids");e.exports=function(g){return function(t,e){var n=t[g];if(Array.isArray(n))for(var r=m.subplotsRegistry.cartesian,i=r.idRegex,t=e._subplots,o=t.xaxis,a=t.yaxis,s=t.cartesian,l=e._has("cartesian")||e._has("gl2d"),u=0;u<n.length;u++){var c,f,h,d,p=n[u];y.isPlainObject(p)&&(c=v.cleanId(p.xref,"x",!1),f=v.cleanId(p.yref,"y",!1),h=i.x.test(c),d=i.y.test(f),(h||d)&&(l||y.pushUnique(e._basePlotModules,r),p=!1,h&&-1===o.indexOf(c)&&(o.push(c),p=!0),d&&-1===a.indexOf(f)&&(a.push(f),p=!0),p&&h&&d&&s.push(c+f)))}}}},{"../../lib":776,"../../registry":877,"./axis_ids":826}],836:[function(t,e,n){"use strict";var v=t("d3"),b=t("../../registry"),d=t("../../lib"),r=t("../plots"),x=t("../../components/drawing"),_=t("../get_data").getModuleCalcData,m=t("./axis_ids"),w=t("./constants"),i=t("../../constants/xmlns_namespaces"),c=d.ensureSingle;function f(t,e,n){return d.ensureSingle(t,e,n,function(t){t.datum(n)})}function g(r,i,t,o,a){for(var e,n=w.traceLayerClasses,s=r._fullLayout,l=s._modules,u=[],c=[],f=0;f<l.length;f++){var h,d,p,g=(e=l[f]).name,m=b.modules[g].categories;m.svg&&(h=e.layerName||g+"layer",d=e.plot,p=(g=_(t,d))[0],t=g[1],p.length&&u.push({i:n.indexOf(h),className:h,plotMethod:d,cdModule:p}),m.zoomScale&&c.push("."+h))}u.sort(function(t,e){return t.i-e.i});var y=i.plot.selectAll("g.mlayer").data(u,function(t){return t.className});y.enter().append("g").attr("class",function(t){return t.className}).classed("mlayer",!0).classed("rangeplot",i.isRangePlot),y.exit().remove(),y.order(),y.each(function(t){var e=v.select(this),n=t.className;t.plotMethod(r,i,t.cdModule,e,o,a),-1===w.clipOnAxisFalseQuery.indexOf("."+n)&&x.setClipUrl(e,i.layerClipId,r)}),s._has("scattergl")&&(e=b.getModule("scattergl"),p=_(t,e)[0],e.plot(r,i,p)),r._context.staticPlot||(i._hasClipOnAxisFalse&&(i.clipOnAxisFalseTraces=i.plot.selectAll(w.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),c.length&&(s=i.plot.selectAll(c.join(",")).selectAll(".trace"),i.zoomScalePts=s.selectAll("path.point"),i.zoomScaleTxt=s.selectAll(".textpoint")))}function o(t,e){var n,r,i,o=e.plotgroup,a=e.id,s=w.layerValue2layerClass[e.xaxis.layer],l=w.layerValue2layerClass[e.yaxis.layer],u=t._fullLayout._hasOnlyLargeSploms;e.mainplot?(r=(n=e.mainplotinfo).plotgroup,t=a+"-x",i=a+"-y",e.gridlayer=n.gridlayer,e.zerolinelayer=n.zerolinelayer,c(n.overlinesBelow,"path",t),c(n.overlinesBelow,"path",i),c(n.overaxesBelow,"g",t),c(n.overaxesBelow,"g",i),e.plot=c(n.overplot,"g",a),c(n.overlinesAbove,"path",t),c(n.overlinesAbove,"path",i),c(n.overaxesAbove,"g",t),c(n.overaxesAbove,"g",i),e.xlines=r.select(".overlines-"+s).select("."+t),e.ylines=r.select(".overlines-"+l).select("."+i),e.xaxislayer=r.select(".overaxes-"+s).select("."+t),e.yaxislayer=r.select(".overaxes-"+l).select("."+i)):u?(e.xlines=c(o,"path","xlines-above"),e.ylines=c(o,"path","ylines-above"),e.xaxislayer=c(o,"g","xaxislayer-above"),e.yaxislayer=c(o,"g","yaxislayer-above")):(i=c(o,"g","layer-subplot"),e.shapelayer=c(i,"g","shapelayer"),e.imagelayer=c(i,"g","imagelayer"),e.gridlayer=c(o,"g","gridlayer"),e.zerolinelayer=c(o,"g","zerolinelayer"),c(o,"path","xlines-below"),c(o,"path","ylines-below"),e.overlinesBelow=c(o,"g","overlines-below"),c(o,"g","xaxislayer-below"),c(o,"g","yaxislayer-below"),e.overaxesBelow=c(o,"g","overaxes-below"),e.plot=c(o,"g","plot"),e.overplot=c(o,"g","overplot"),e.xlines=c(o,"path","xlines-above"),e.ylines=c(o,"path","ylines-above"),e.overlinesAbove=c(o,"g","overlines-above"),c(o,"g","xaxislayer-above"),c(o,"g","yaxislayer-above"),e.overaxesAbove=c(o,"g","overaxes-above"),e.xlines=o.select(".xlines-"+s),e.ylines=o.select(".ylines-"+l),e.xaxislayer=o.select(".xaxislayer-"+s),e.yaxislayer=o.select(".yaxislayer-"+l)),u||(f(e.gridlayer,"g",e.xaxis._id),f(e.gridlayer,"g",e.yaxis._id),e.gridlayer.selectAll("g").map(function(t){return t[0]}).sort(m.idSort)),e.xlines.style("fill","none").classed("crisp",!0),e.ylines.style("fill","none").classed("crisp",!0)}function y(t,e){if(t){var n,r={};for(n in t.each(function(t){t=t[0];v.select(this).remove(),k(t,e),r[t]=!0}),e._plots)for(var i=e._plots[n].overlays||[],o=0;o<i.length;o++){var a=i[o];r[a.id]&&a.plot.selectAll(".trace").remove()}}}function k(t,e){e._draggers.selectAll("g."+t).remove(),e._defs.select("#clip"+e._uid+t+"plot").remove()}n.name="cartesian",n.attr=["xaxis","yaxis"],n.idRoot=["x","y"],n.idRegex=w.idRegex,n.attrRegex=w.attrRegex,n.attributes=t("./attributes"),n.layoutAttributes=t("./layout_attributes"),n.supplyLayoutDefaults=t("./layout_defaults"),n.transitionAxes=t("./transition_axes"),n.finalizeSubplots=function(t,e){for(var n,r,e=e._subplots,i=e.xaxis,o=e.yaxis,a=e.cartesian,s=a.concat(e.gl2d||[]),l={},u={},c=0;c<s.length;c++){var f=s[c].split("y");u["y"+f[l[f[0]]=1]]=1}for(c=0;c<i.length;c++)l[n=i[c]]||(r=(t[m.id2name(n)]||{}).anchor,w.idRegex.y.test(r)||(r="y"),a.push(n+r),s.push(n+r),u[r]||(u[r]=1,d.pushUnique(o,r)));for(c=0;c<o.length;c++)u[r=o[c]]||(n=(t[m.id2name(r)]||{}).anchor,w.idRegex.x.test(n)||(n="x"),a.push(n+r),s.push(n+r),l[n]||(l[n]=1,d.pushUnique(i,n)));if(!s.length){for(var h in r=n="",t)w.attrRegex.test(h)&&("x"===h.charAt(0)?(!n||+h.substr(5)<+n.substr(5))&&(n=h):(!r||+h.substr(5)<+r.substr(5))&&(r=h));n=n?m.name2id(n):"x",r=r?m.name2id(r):"y",i.push(n),o.push(r),a.push(n+r)}},n.plot=function(t,e,n,r){var i,o=t._fullLayout,a=o._subplots.cartesian,s=t.calcdata;if(!Array.isArray(e))for(e=[],i=0;i<s.length;i++)e.push(i);for(i=0;i<a.length;i++){for(var l,u=a[i],c=o._plots[u],f=[],h=0;h<s.length;h++){var d=s[h],p=d[0].trace;p.xaxis+p.yaxis===u&&(-1===e.indexOf(p.index)&&!p.carpet||(l&&l[0].trace.xaxis+l[0].trace.yaxis===u&&-1!==["tonextx","tonexty","tonext"].indexOf(p.fill)&&-1===f.indexOf(l)&&f.push(l),f.push(d)),l=d)}g(t,c,f,n,r)}},n.clean=function(t,e,n,r){var i,o,a=r._plots||{},s=e._plots||{},l=r._subplots||{};if(r._hasOnlyLargeSploms&&!e._hasOnlyLargeSploms)for(o in a)(i=a[o]).plotgroup&&i.plotgroup.remove();var u=r._has&&r._has("gl"),c=e._has&&e._has("gl");if(u&&!c)for(o in a)(i=a[o])._scene&&i._scene.destroy();if(l.xaxis&&l.yaxis)for(var f=m.listIds({_fullLayout:r}),h=0;h<f.length;h++){var d=f[h];e[m.id2name(d)]||r._infolayer.selectAll(".g-"+d+"title").remove()}u=r._has&&r._has("cartesian"),c=e._has&&e._has("cartesian");if(u&&!c)y(r._cartesianlayer.selectAll(".subplot"),r),r._defs.selectAll(".axesclip").remove(),delete r._axisConstraintGroups,delete r._axisMatchGroups;else if(l.cartesian)for(h=0;h<l.cartesian.length;h++){var p,g=l.cartesian[h];s[g]||(p="."+g+",."+g+"-x,."+g+"-y",r._cartesianlayer.selectAll(p).remove(),k(g,r))}},n.drawFramework=function(n){var r=n._fullLayout,t=function(t){var e,n,r,i,o,a,s=t._fullLayout,l=s._subplots.cartesian,u=l.length,c=[],f=[];for(e=0;e<u;e++){r=l[e],i=s._plots[r],o=i.xaxis,a=i.yaxis;var h=o._mainAxis,d=a._mainAxis,h=h._id+d._id,d=s._plots[h];i.overlays=[],h!==r&&d?(i.mainplot=h,i.mainplotinfo=d,f.push(r)):(i.mainplot=void 0,i.mainplotinfo=void 0,c.push(r))}for(e=0;e<f.length;e++)r=f[e],(i=s._plots[r]).mainplotinfo.overlays.push(i);var p=c.concat(f),g=new Array(u);for(e=0;e<u;e++){r=p[e],i=s._plots[r],o=i.xaxis,a=i.yaxis;var m=[r,o.layer,a.layer,o.overlaying||"",a.overlaying||""];for(n=0;n<i.overlays.length;n++)m.push(i.overlays[n].id);g[e]=m}return g}(n),t=r._cartesianlayer.selectAll(".subplot").data(t,String);t.enter().append("g").attr("class",function(t){return"subplot "+t[0]}),t.order(),t.exit().call(y,r),t.each(function(t){var e=t[0],t=r._plots[e];t.plotgroup=v.select(this),o(n,t),t.draglayer=c(r._draggers,"g",e)})},n.rangePlot=function(t,e,n){o(t,e),g(t,e,n),r.style(t)},n.toSVG=function(t){var e=t._fullLayout._glimages,n=v.select(t).selectAll(".svg-container");n.filter(function(t,e){return e===n.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var t=this.toDataURL("image/png");e.append("svg:image").attr({xmlns:i.svg,"xlink:href":t,preserveAspectRatio:"none",x:0,y:0,width:this.width,height:this.height})})},n.updateFx=t("./graph_interact").updateFx},{"../../components/drawing":668,"../../constants/xmlns_namespaces":755,"../../lib":776,"../../registry":877,"../get_data":853,"../plots":868,"./attributes":821,"./axis_ids":826,"./constants":829,"./graph_interact":832,"./layout_attributes":837,"./layout_defaults":838,"./transition_axes":847,d3:629}],837:[function(t,e,n){"use strict";var r=t("../font_attributes"),i=t("../../components/color/attributes"),o=t("../../components/drawing/attributes").dash,a=t("../../lib/extend").extendFlat,s=t("../../plot_api/plot_template").templatedArray,l=(t("../../constants/docs").FORMAT_LINK,t("../../constants/docs").DATE_FORMAT_LINK,t("../../constants/numerical").ONEDAY),u=t("./constants"),c=u.HOUR_PATTERN,t=u.WEEKDAY_PATTERN;e.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:i.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:r({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"calc"},rangebreaks:s("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[t,c,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:l},editType:"calc"}),tickmode:{valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},nticks:{valType:"integer",min:0,dflt:0,editType:"ticks"},tick0:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},dtick:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},tickvals:{valType:"data_array",editType:"ticks"},ticktext:{valType:"data_array",editType:"ticks"},ticks:{valType:"enumerated",values:["outside","inside",""],editType:"ticks"},tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:{valType:"number",min:0,dflt:5,editType:"ticks"},tickwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},tickcolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:a({},o,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"data",editType:"none"},tickfont:r({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks"},tickformatstops:s("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:i.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:{valType:"boolean",editType:"ticks"},gridcolor:{valType:"color",dflt:i.lightLine,editType:"ticks"},gridwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"plot"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:r({editType:"ticks"})}}},{"../../components/color/attributes":645,"../../components/drawing/attributes":667,"../../constants/docs":750,"../../constants/numerical":754,"../../lib/extend":769,"../../plot_api/plot_template":812,"../font_attributes":851,"./constants":829}],838:[function(t,e,n){"use strict";var K=t("../../lib"),J=t("../../components/color"),tt=t("../../components/fx/helpers").isUnifiedHover,et=t("../../components/fx/hovermode_defaults"),nt=t("../../plot_api/plot_template"),rt=t("../layout_attributes"),it=t("./layout_attributes"),ot=t("./type_defaults"),at=t("./axis_defaults"),st=t("./constraints"),lt=t("./position_defaults"),ut=t("./axis_ids"),ct=ut.id2name,ft=ut.name2id,ht=t("./constants").AX_ID_PATTERN,t=t("../../registry"),dt=t.traceIs,pt=t.getComponentMethod;function gt(t,e,n){Array.isArray(t[e])?t[e].push(n):t[e]=[n]}e.exports=function(a,t,e){for(var n,r=t.autotypenumbers,i={},o={},s={},l={},u={},c={},f={},h={},d={},p={},g=0;g<e.length;g++){var m,y,v=e[g];if(dt(v,"cartesian")||dt(v,"gl2d")){if(v.xaxis)m=ct(v.xaxis),gt(i,m,v);else if(v.xaxes)for(n=0;n<v.xaxes.length;n++)gt(i,ct(v.xaxes[n]),v);if(v.yaxis)y=ct(v.yaxis),gt(i,y,v);else if(v.yaxes)for(n=0;n<v.yaxes.length;n++)gt(i,ct(v.yaxes[n]),v);"funnel"===v.type?"h"===v.orientation?(m&&(o[m]=!0),y&&(f[y]=!0)):y&&(s[y]=!0):"image"===v.type?(y&&(h[y]=!0),m&&(h[m]=!0)):(y&&(u[y]=!0,c[y]=!0),dt(v,"carpet")&&("carpet"!==v.type||v._cheater)||m&&(l[m]=!0)),"carpet"===v.type&&v._cheater&&m&&(o[m]=!0),dt(v,"2dMap")&&(d[m]=!0,d[y]=!0),dt(v,"oriented")&&(p["h"===v.orientation?y:m]=!0)}}var b=t._subplots,x=b.xaxis,_=b.yaxis,w=K.simpleMap(x,ct),k=K.simpleMap(_,ct),T=w.concat(k),b=J.background;x.length&&_.length&&(b=K.coerce(a,t,rt,"plot_bgcolor"));var M,A,S,E,C,O=J.combine(b,t.paper_bgcolor);function j(){var t=i[M]||[];C._traceIndices=t.map(function(t){return t._expandedIndex}),C._annIndices=[],C._shapeIndices=[],C._imgIndices=[],C._subplotsWith=[],C._counterAxes=[],C._name=C._attr=M,C._id=A}function P(t,e){return K.coerce(E,C,it,t,e)}function N(t,e){return K.coerce2(E,C,it,t,e)}function L(t,e){for(var n="x"===t?w:k,r=[],i=0;i<n.length;i++){var o=n[i];o===e||(a[o]||{}).overlaying||r.push(ft(o))}return r}var R={x:_,y:x},D=R.x.concat(R.y),I={},F=[];function z(){var t=E.matches;ht.test(t)&&-1===D.indexOf(t)&&(I[t]=E.type,F=Object.keys(I))}var B=et(a,t,e),U=tt(B);for(g=0;g<T.length;g++){M=T[g],A=ft(M),S=M.charAt(0),K.isPlainObject(a[M])||(a[M]={}),E=a[M],C=nt.newContainer(t,M,S+"axis"),j();var H="x"===S&&!l[M]&&o[M]||"y"===S&&!u[M]&&s[M],q="y"===S&&(!c[M]&&f[M]||h[M]),V={letter:S,font:t.font,outerTicks:d[M],showGrid:!p[M],data:i[M]||[],bgColor:O,calendar:t.calendar,automargin:!0,visibleDflt:H,reverseDflt:q,autotypenumbersDflt:r,splomStash:((t._splomAxes||{})[S]||{})[A]};P("uirevision",t.uirevision),ot(E,C,P,V),at(E,C,P,V,t);var G=U&&S===B.charAt(0),W=N("spikecolor",U?C.color:void 0),Y=N("spikethickness",U?1.5:void 0),H=N("spikedash",U?"dot":void 0),q=N("spikemode",U?"across":void 0),V=N("spikesnap",U?"hovered data":void 0);P("showspikes",!!(G||W||Y||H||q||V))||(delete C.spikecolor,delete C.spikethickness,delete C.spikedash,delete C.spikemode,delete C.spikesnap),lt(E,C,P,{letter:S,counterAxes:R[S],overlayableAxes:L(S,M),grid:t.grid}),P("title.standoff"),z(),C._input=E}for(g=0;g<F.length;){A=F[g++],S=(M=ct(A)).charAt(0),K.isPlainObject(a[M])||(a[M]={}),E=a[M],C=nt.newContainer(t,M,S+"axis"),j();var X={letter:S,font:t.font,outerTicks:d[M],showGrid:!p[M],data:[],bgColor:O,calendar:t.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:r,splomStash:((t._splomAxes||{})[S]||{})[A]};P("uirevision",t.uirevision),C.type=I[A]||"linear",at(E,C,P,X,t),lt(E,C,P,{letter:S,counterAxes:R[S],overlayableAxes:L(S,M),grid:t.grid}),P("fixedrange"),z(),C._input=E}var Z=pt("rangeslider","handleDefaults"),$=pt("rangeselector","handleDefaults");for(g=0;g<w.length;g++)M=w[g],E=a[M],C=t[M],Z(a,t,M),"date"===C.type&&$(E,C,t,k,C.calendar),P("fixedrange");for(g=0;g<k.length;g++){M=k[g],E=a[M],C=t[M];var Q=t[ct(C.anchor)];P("fixedrange",pt("rangeslider","isVisible")(Q))}st.handleDefaults(a,t,{axIds:D.concat(F).sort(ut.idSort),axHasImage:h})}},{"../../components/color":646,"../../components/fx/helpers":682,"../../components/fx/hovermode_defaults":685,"../../lib":776,"../../plot_api/plot_template":812,"../../registry":877,"../layout_attributes":866,"./axis_defaults":825,"./axis_ids":826,"./constants":829,"./constraints":830,"./layout_attributes":837,"./position_defaults":840,"./type_defaults":848}],839:[function(t,e,n){"use strict";var l=t("tinycolor2").mix,u=t("../../components/color/attributes").lightFraction,c=t("../../lib");e.exports=function(n,r,t,i){var e=(i=i||{}).dfltColor;function o(t,e){return c.coerce2(n,r,i.attributes,t,e)}var a=o("linecolor",e),s=o("linewidth");t("showline",i.showLine||!!a||!!s)||(delete r.linecolor,delete r.linewidth);a=o("gridcolor",l(e,i.bgColor,i.blend||u).toRgbString()),s=o("gridwidth");t("showgrid",i.showGrid||!!a||!!s)||(delete r.gridcolor,delete r.gridwidth),i.noZeroLine||(s=o("zerolinecolor",e),e=o("zerolinewidth"),t("zeroline",i.showGrid||!!s||!!e)||(delete r.zerolinecolor,delete r.zerolinewidth))}},{"../../components/color/attributes":645,"../../lib":776,tinycolor2:1005}],840:[function(t,e,n){"use strict";var f=t("fast-isnumeric"),h=t("../../lib");e.exports=function(t,e,n,r){var i,o,a,s=r.counterAxes||[],l=r.overlayableAxes||[],u=r.letter,r=r.grid;r&&(o=r._domains[u][r._axisMap[e._id]],i=r._anchors[e._id],o&&(c=r[u+"side"].split(" ")[0],a=r.domain[u]["right"===c||"top"===c?1:0])),o=o||[0,1],i=i||!f(t.position)&&s[0]||"free",c=c||("x"===u?"bottom":"left"),a=a||0,"free"===h.coerce(t,e,{anchor:{valType:"enumerated",values:["free"].concat(s),dflt:i}},"anchor")&&n("position",a),h.coerce(t,e,{side:{valType:"enumerated",values:"x"===u?["bottom","top"]:["left","right"],dflt:c}},"side");var c=!1;return l.length&&(c=h.coerce(t,e,{overlaying:{valType:"enumerated",values:[!1].concat(l),dflt:!1}},"overlaying")),c||((c=n("domain",o))[0]>c[1]-1/4096&&(e.domain=o),h.noneOrAll(t.domain,e.domain,o)),n("layer"),e}},{"../../lib":776,"fast-isnumeric":450}],841:[function(t,e,n){"use strict";var i=t("../../constants/alignment").FROM_BL;e.exports=function(t,e,n){void 0===n&&(n=i[t.constraintoward||"center"]);var r=[t.r2l(t.range[0]),t.r2l(t.range[1])],n=r[0]+(r[1]-r[0])*n;t.range=t._input.range=[t.l2r(n+(r[0]-n)*e),t.l2r(n+(r[1]-n)*e)],t.setScale()}},{"../../constants/alignment":748}],842:[function(t,e,n){"use strict";var H=t("polybooljs"),p=t("../../registry"),q=t("../../components/drawing").dashStyle,V=t("../../components/color"),G=t("../../components/fx"),o=t("../../components/fx/helpers").makeEventData,r=t("../../components/dragelement/helpers"),W=r.freeMode,Y=r.rectMode,X=r.drawMode,Z=r.openMode,$=r.selectMode,Q=t("../../components/shapes/draw_newshape/display_outlines"),K=t("../../components/shapes/draw_newshape/helpers").handleEllipse,i=t("../../components/shapes/draw_newshape/newshapes"),J=t("../../lib"),l=t("../../lib/polygon"),tt=t("../../lib/throttle"),h=t("./axis_ids").getFromId,g=t("../../lib/clear_gl_canvases"),m=t("../../plot_api/subroutines").redrawReglTraces,et=t("./constants"),nt=et.MINSELECT,rt=l.filter,it=l.tester,s=t("./handle_outline").clearSelect,t=t("./helpers"),ot=t.p2r,at=t.axValue,st=t.getTransform;function lt(t,e,n,r,i,o,a){var s,l,u,c,f=e._hoverdata,h=-1<e._fullLayout.clickmode.indexOf("event"),d=[];if((c=f)&&Array.isArray(c)&&!0!==c[0].hoverOnBox){ct(t,e,o);var i=function(t,e){var n,r,i=t[0],o=-1,a=[];for(r=0;r<e.length;r++)if(n=e[r],i.fullData._expandedIndex===n.cd[0].trace._expandedIndex){if(!0===i.hoverOnBox)break;void 0!==i.pointNumber?o=i.pointNumber:void 0!==i.binNumber&&(o=i.binNumber,a=i.pointNumbers);break}return{pointNumber:o,pointNumbers:a,searchInfo:n}}(f,s=ht(e,n,r,i));if(0<i.pointNumbers.length?function(t,e){var n,r,i,o,a=[];for(o=0;o<t.length;o++)(n=t[o]).cd[0].trace.selectedpoints&&0<n.cd[0].trace.selectedpoints.length&&a.push(n);if(1===a.length&&(i=a[0]===e.searchInfo,i&&(r=e.searchInfo.cd[0].trace).selectedpoints.length===e.pointNumbers.length)){for(o=0;o<e.pointNumbers.length;o++)if(r.selectedpoints.indexOf(e.pointNumbers[o])<0)return!1;return!0}return!1}(s,i):function(t){var e,n,r=0;for(n=0;n<t.length;n++)if(e=t[n],(e=e.cd[0].trace).selectedpoints){if(1<e.selectedpoints.length)return!1;if(1<(r+=e.selectedpoints.length))return!1}return 1===r}(s)&&(p=v(i))){for(a&&a.remove(),m=0;m<s.length;m++)(l=s[m])._module.selectPoints(l,!1);dt(e,s),ft(o),h&&e.emit("plotly_deselect",null)}else{t=t.shiftKey&&(void 0!==p?p:v(i)),p={pointNumber:i.pointNumber,searchInfo:i.searchInfo,subtract:t};for(var p,g=ut(o.selectionDefs.concat([p])),m=0;m<s.length;m++)if(u=pt(s[m]._module.selectPoints(s[m],g),s[m]),d.length)for(var y=0;y<u.length;y++)d.push(u[y]);else d=u;dt(e,s,i={points:d}),o&&o.selectionDefs.push(p),a&&(t=o.mergedPolygons,p=Z(o.dragmode),Q(gt(t,p),a,o)),h&&e.emit("plotly_selected",i)}}}function u(t){return"pointNumber"in t&&"searchInfo"in t}function ut(t){for(var e,a=[],n=u(t[0])?0:t[0][0][0],r=n,i=u(t[0])?0:t[0][0][1],o=i,s=0;s<t.length;s++)u(t[s])?a.push(function(o){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(t,e,n,r){var i=o.searchInfo.cd[0].trace._expandedIndex;return r.cd[0].trace._expandedIndex===i&&n===o.pointNumber},isRect:!1,degenerate:!1,subtract:o.subtract}}(t[s])):((e=l.tester(t[s])).subtract=t[s].subtract,a.push(e),n=Math.min(n,e.xmin),r=Math.max(r,e.xmax),i=Math.min(i,e.ymin),o=Math.max(o,e.ymax));return{xmin:n,xmax:r,ymin:i,ymax:o,pts:[],contains:function(t,e,n,r){for(var i=!1,o=0;o<a.length;o++)a[o].contains(t,e,n,r)&&(i=!1===a[o].subtract);return i},isRect:!1,degenerate:!1}}function ct(t,e,n){e._fullLayout._drawing=!1;var r=e._fullLayout,i=n.plotinfo,o=n.dragmode,a=r._lastSelectedSubplot&&r._lastSelectedSubplot===i.id,o=(t.shiftKey||t.altKey)&&!(X(o)&&Z(o));a&&o&&i.selection&&i.selection.selectionDefs&&!n.selectionDefs?(n.selectionDefs=i.selection.selectionDefs,n.mergedPolygons=i.selection.mergedPolygons):o&&i.selection||ft(n),a||(s(e),r._lastSelectedSubplot=i.id)}function ft(t){var e=t.dragmode,n=t.plotinfo,r=t.gd;0<=r._fullLayout._activeShapeIndex&&r._fullLayout._deactivateShape(r),!X(e)||(e=r._fullLayout._zoomlayer.selectAll(".select-outline-"+n.id))&&r._fullLayout._drawing&&((e=i(e,t))&&p.call("_guiRelayout",r,{shapes:e}),r._fullLayout._drawing=!1),n.selection={},n.selection.selectionDefs=t.selectionDefs=[],n.selection.mergedPolygons=t.mergedPolygons=[]}function ht(t,e,n,r){for(var i,o,a,s=[],l=e.map(function(t){return t._id}),u=n.map(function(t){return t._id}),c=0;c<t.calcdata.length;c++)!0===(a=(i=t.calcdata[c])[0].trace).visible&&a._module&&a._module.selectPoints&&(!r||a.subplot!==r&&a.geo!==r?"splom"===a.type&&a._xaxes[l[0]]&&a._yaxes[u[0]]?((o=f(a._module,i,e[0],n[0])).scene=t._fullLayout._splomScenes[a.uid],s.push(o)):"sankey"===a.type?(o=f(a._module,i,e[0],n[0]),s.push(o)):-1!==l.indexOf(a.xaxis)&&-1!==u.indexOf(a.yaxis)&&s.push(f(a._module,i,h(t,a.xaxis),h(t,a.yaxis))):s.push(f(a._module,i,e[0],n[0])));return s;function f(t,e,n,r){return{_module:t,cd:e,xaxis:n,yaxis:r}}}function v(t){var e=t.searchInfo.cd[0].trace,n=t.pointNumber,t=t.pointNumbers,n=0<t.length?t[0]:n;return!!e.selectedpoints&&-1<e.selectedpoints.indexOf(n)}function dt(t,e,n){var r,i;for(l=0;l<e.length;l++){var o=e[l].cd[0].trace._fullInput,a=t._fullLayout._tracePreGUI[o.uid]||{};void 0===a.selectedpoints&&(a.selectedpoints=o._input.selectedpoints||null)}if(n){for(var s=n.points||[],l=0;l<e.length;l++)(i=e[l].cd[0].trace)._input.selectedpoints=i._fullInput.selectedpoints=[],i._fullInput!==i&&(i.selectedpoints=[]);for(l=0;l<s.length;l++){var u=s[l],c=u.data,f=u.fullData;u.pointIndices?([].push.apply(c.selectedpoints,u.pointIndices),i._fullInput!==i&&[].push.apply(f.selectedpoints,u.pointIndices)):(c.selectedpoints.push(u.pointIndex),i._fullInput!==i&&f.selectedpoints.push(u.pointIndex))}}else for(l=0;l<e.length;l++)delete(i=e[l].cd[0].trace).selectedpoints,delete i._input.selectedpoints,i._fullInput!==i&&delete i._fullInput.selectedpoints;var h=!1;for(l=0;l<e.length;l++){i=(r=(d=e[l]).cd)[0].trace,p.traceIs(i,"regl")&&(h=!0);var d=d._module,d=d.styleOnSelect||d.style;d&&(d(t,r,r[0].node3),r[0].nodeRangePlot3&&d(t,r,r[0].nodeRangePlot3))}h&&(g(t),m(t))}function pt(t,e){if(Array.isArray(t))for(var n=e.cd,r=e.cd[0].trace,i=0;i<t.length;i++)t[i]=o(t[i],r,n);return t}function gt(t,e){for(var n=[],r=0;r<t.length;r++){n[r]=[];for(var i=0;i<t[r].length;i++){n[r][i]=[],n[r][i][0]=i?"L":"M";for(var o=0;o<t[r][i].length;o++)n[r][i].push(t[r][i][o])}e||n[r].push(["Z",n[r][0][1],n[r][0][2]])}return n}e.exports={prepSelect:function(t,e,n,s,r){var l=W(r),u=Y(r),c=Z(r),f=X(r),h=$(r),d="drawcircle"===r,p="drawline"===r||d,g=s.gd,m=g._fullLayout,i=m._zoomlayer,o=s.element.getBoundingClientRect(),a=s.plotinfo,y=st(a),v=e-o.left,b=n-o.top;m._calcInverseTransform(g);var x,_,w,k,T,M,A,S,E,v=(o=J.apply3DTransform(m._invTransform)(v,b))[0],b=o[1],C=m._invScaleX,O=m._invScaleY,o="M"+v+","+b,j=s.xaxes[0]._length,P=s.yaxes[0]._length,N=s.xaxes.concat(s.yaxes),L=t.altKey&&!(X(r)&&c);ct(t,g,s),l&&(w=rt([[v,b]],et.BENDPX));var R=i.selectAll("path.select-outline-"+a.id).data(f?[0]:[1,2]),t=m.newshape;R.enter().append("path").attr("class",function(t){return"select-outline select-outline-"+t+" select-outline-"+a.id}).style(f?{opacity:t.opacity/2,fill:c?void 0:t.fillcolor,stroke:t.line.color,"stroke-dasharray":q(t.line.dash,t.line.width),"stroke-width":t.line.width+"px"}:{}).attr("fill-rule",t.fillrule).classed("cursor-move",!!f).attr("transform",y).attr("d",o+"Z");var D,I=i.append("path").attr("class","zoombox-corners").style({fill:V.background,stroke:V.defaultLine,"stroke-width":1}).attr("transform",y).attr("d","M0,0Z"),F=m._uid+et.SELECTID,z=[],B=ht(g,s.xaxes,s.yaxes,s.subplot);function U(t,e){return t-e}D=a.fillRangeItems||(u?function(t,e){var n=t.range={};for(A=0;A<N.length;A++){var r=N[A],i=r._id.charAt(0);n[r._id]=[ot(r,e[i+"min"]),ot(r,e[i+"max"])].sort(U)}}:function(t,e,n){var r=t.lassoPoints={};for(A=0;A<N.length;A++){var i=N[A];r[i._id]=n.filtered.map(at(i))}}),s.moveFn=function(t,e){x=Math.max(0,Math.min(j,C*t+v)),_=Math.max(0,Math.min(P,O*e+b));var n,r,i=Math.abs(x-v),o=Math.abs(_-b);if(u){if(h){var a,e=m.selectdirection;switch(a="any"===e?o<Math.min(.6*i,nt)?"h":i<Math.min(.6*o,nt)?"v":"d":e){case"h":n=d?P/2:0,r=P;break;case"v":n=d?j/2:0,r=j}}if(f)switch(m.newshape.drawdirection){case"vertical":a="h",n=d?P/2:0,r=P;break;case"horizontal":a="v",n=d?j/2:0,r=j;break;case"ortho":r=i<o?(a="h",n=b,_):(a="v",n=v,x);break;default:a="d"}"h"===a?((M=p?K(d,[x,n],[x,r]):[[v,n],[v,r],[x,r],[x,n]]).xmin=p?x:Math.min(v,x),M.xmax=p?x:Math.max(v,x),M.ymin=Math.min(n,r),M.ymax=Math.max(n,r),I.attr("d","M"+M.xmin+","+(b-nt)+"h-4v"+2*nt+"h4ZM"+(M.xmax-1)+","+(b-nt)+"h4v"+2*nt+"h-4Z")):"v"===a?((M=p?K(d,[n,_],[r,_]):[[n,b],[n,_],[r,_],[r,b]]).xmin=Math.min(n,r),M.xmax=Math.max(n,r),M.ymin=p?_:Math.min(b,_),M.ymax=p?_:Math.max(b,_),I.attr("d","M"+(v-nt)+","+M.ymin+"v-4h"+2*nt+"v4ZM"+(v-nt)+","+(M.ymax-1)+"v4h"+2*nt+"v-4Z")):"d"===a&&((M=p?K(d,[v,b],[x,_]):[[v,b],[v,_],[x,_],[x,b]]).xmin=Math.min(v,x),M.xmax=Math.max(v,x),M.ymin=Math.min(b,_),M.ymax=Math.max(b,_),I.attr("d","M0,0Z"))}else l&&(w.addPt([x,_]),M=w.filtered);k=s.selectionDefs&&s.selectionDefs.length?(T=function(t,e,n){if(n)return H.difference({regions:t,inverted:!1},{regions:[e],inverted:!1}).regions;return H.union({regions:t,inverted:!1},{regions:[e],inverted:!1}).regions}(s.mergedPolygons,M,L),M.subtract=L,ut(s.selectionDefs.concat([M]))):(T=[M],it(M)),Q(gt(T,c),R,s),h&&tt.throttle(F,et.SELECTDELAY,function(){var t;z=[];var e,n=[];for(A=0;A<B.length;A++)if(e=(S=B[A])._module.selectPoints(S,k),n.push(e),t=pt(e,S),z.length)for(var r=0;r<t.length;r++)z.push(t[r]);else z=t;dt(g,B,E={points:z}),D(E,M,w),s.gd.emit("plotly_selecting",E)})},s.clickFn=function(t,e){var n;I.remove(),0<=g._fullLayout._activeShapeIndex?g._fullLayout._deactivateShape(g):f||(n=m.clickmode,tt.done(F).then(function(){if(tt.clear(F),2===t){for(R.remove(),A=0;A<B.length;A++)(S=B[A])._module.selectPoints(S,!1);dt(g,B),ft(s),g.emit("plotly_deselect",null)}else-1<n.indexOf("select")&&lt(e,g,s.xaxes,s.yaxes,s.subplot,s,R),"event"===n&&g.emit("plotly_selected",void 0);G.click(g,e)}).catch(J.error))},s.doneFn=function(){I.remove(),tt.done(F).then(function(){tt.clear(F),s.gd.emit("plotly_selected",E),M&&s.selectionDefs&&(M.subtract=L,s.selectionDefs.push(M),s.mergedPolygons.length=0,[].push.apply(s.mergedPolygons,T)),s.doneFnCompleted&&s.doneFnCompleted(z)}).catch(J.error),f&&ft(s)}},clearSelect:s,clearSelectionsCache:ft,selectOnClick:lt}},{"../../components/color":646,"../../components/dragelement/helpers":664,"../../components/drawing":668,"../../components/fx":686,"../../components/fx/helpers":682,"../../components/shapes/draw_newshape/display_outlines":731,"../../components/shapes/draw_newshape/helpers":732,"../../components/shapes/draw_newshape/newshapes":733,"../../lib":776,"../../lib/clear_gl_canvases":763,"../../lib/polygon":788,"../../lib/throttle":800,"../../plot_api/subroutines":813,"../../registry":877,"./axis_ids":826,"./constants":829,"./handle_outline":833,"./helpers":834,polybooljs:962}],843:[function(t,e,n){"use strict";var d=t("d3"),b=t("d3-time-format").utcFormat,x=t("fast-isnumeric"),_=t("../../lib"),w=_.cleanNumber,k=_.ms2DateTime,T=_.dateTime2ms,M=_.ensureNumber,A=_.isArrayOrTypedArray,r=t("../../constants/numerical"),S=r.FP_SAFE,E=r.BADNUM,C=r.LOG_CLIP,O=r.ONEWEEK,j=r.ONEDAY,P=r.ONEHOUR,N=r.ONEMIN,L=r.ONESEC,R=t("./axis_ids"),D=t("./constants"),I=D.HOUR_PATTERN,F=D.WEEKDAY_PATTERN;function z(t){return Math.pow(10,t)}function B(t){return null!=t}e.exports=function(v,p){p=p||{};var g=v._id||"x",m=g.charAt(0);function n(t,e){if(0<t)return Math.log(t)/Math.LN10;if(t<=0&&e&&v.range&&2===v.range.length){t=v.range[0],e=v.range[1];return.5*(t+e-2*C*Math.abs(t-e))}return E}function r(t,e,n,r){if((r||{}).msUTC&&x(t))return+t;if((r=T(t,n||v.calendar))===E){if(!x(t))return E;t=+t;n=Math.floor(10*_.mod(t+.05,1)),t=Math.round(t-n/10),r=T(new Date(t))+n/10}return r}function i(t,e,n){return k(t,e,n||v.calendar)}function e(t){return v._categories[Math.round(t)]}function y(t){if(B(t)){if(void 0===v._categoriesMap&&(v._categoriesMap={}),void 0!==v._categoriesMap[t])return v._categoriesMap[t];v._categories.push("number"==typeof t?String(t):t);var e=v._categories.length-1;return v._categoriesMap[t]=e}return E}function f(t){if(v._categoriesMap)return v._categoriesMap[t]}function o(t){var e=f(t);return void 0!==e?e:x(t)?+t:void 0}function a(t){return x(t)?+t:f(t)}function u(t,e,n){return d.round(n+e*t,2)}function s(t,e,n){return(t-n)/e}var c,l=function(t){return x(t)?u(t,v._m,v._b):E},h=function(t){return s(t,v._m,v._b)};v.rangebreaks&&(c="y"===m,l=function(t){if(!x(t))return E;var e=v._rangebreaks.length;if(!e)return u(t,v._m,v._b);var n=c;v.range[0]>v.range[1]&&(n=!n);for(var r=n?-1:1,i=r*t,o=0,a=0;a<e;a++){var s=r*v._rangebreaks[a].min,l=r*v._rangebreaks[a].max;if(i<s)break;if(!(l<i)){o=i<(s+l)/2?a:a+1;break}o=a+1}n=v._B[o]||0;return isFinite(n)?u(t,v._m2,n):0},h=function(t){var e=v._rangebreaks.length;if(!e)return s(t,v._m,v._b);for(var n=0,r=0;r<e&&!(t<v._rangebreaks[r].pmin);r++)t>v._rangebreaks[r].pmax&&(n=r+1);return s(t,v._m2,v._B[n])}),v.c2l="log"===v.type?n:M,v.l2c="log"===v.type?z:M,v.l2p=l,v.p2l=h,v.c2p="log"===v.type?function(t,e){return l(n(t,e))}:l,v.p2c="log"===v.type?function(t){return z(h(t))}:h,-1!==["linear","-"].indexOf(v.type)?(v.d2r=v.r2d=v.d2c=v.r2c=v.d2l=v.r2l=w,v.c2d=v.c2r=v.l2d=v.l2r=M,v.d2p=v.r2p=function(t){return v.l2p(w(t))},v.p2d=v.p2r=h,v.cleanPos=M):"log"===v.type?(v.d2r=v.d2l=function(t,e){return n(w(t),e)},v.r2d=v.r2c=function(t){return z(w(t))},v.d2c=v.r2l=w,v.c2d=v.l2r=M,v.c2r=n,v.l2d=z,v.d2p=function(t,e){return v.l2p(v.d2r(t,e))},v.p2d=function(t){return z(h(t))},v.r2p=function(t){return v.l2p(w(t))},v.p2r=h,v.cleanPos=M):"date"===v.type?(v.d2r=v.r2d=_.identity,v.d2c=v.r2c=v.d2l=v.r2l=r,v.c2d=v.c2r=v.l2d=v.l2r=i,v.d2p=v.r2p=function(t,e,n){return v.l2p(r(t,0,n))},v.p2d=v.p2r=function(t,e,n){return i(h(t),e,n)},v.cleanPos=function(t){return _.cleanDate(t,E,v.calendar)}):"category"===v.type?(v.d2c=v.d2l=y,v.r2d=v.c2d=v.l2d=e,v.d2r=v.d2l_noadd=o,v.r2c=function(t){t=a(t);return void 0!==t?t:v.fraction2r(.5)},v.l2r=v.c2r=M,v.r2l=a,v.d2p=function(t){return v.l2p(v.r2c(t))},v.p2d=function(t){return e(h(t))},v.r2p=v.d2p,v.p2r=h,v.cleanPos=function(t){return"string"==typeof t&&""!==t?t:M(t)}):"multicategory"===v.type&&(v.r2d=v.c2d=v.l2d=e,v.d2r=v.d2l_noadd=o,v.r2c=function(t){t=o(t);return void 0!==t?t:v.fraction2r(.5)},v.r2c_just_indices=f,v.l2r=v.c2r=M,v.r2l=o,v.d2p=function(t){return v.l2p(v.r2c(t))},v.p2d=function(t){return e(h(t))},v.r2p=v.d2p,v.p2r=h,v.cleanPos=function(t){return Array.isArray(t)||"string"==typeof t&&""!==t?t:M(t)},v.setupMultiCategory=function(t){var e,n,r=v._traceIndices,i=v._matchGroup;if(i&&0===v._categories.length)for(var o in i)o!==g&&(n=p[R.id2name(o)],r=r.concat(n._traceIndices));for(var a=[[0,{}],[0,{}]],s=[],l=0;l<r.length;l++){var u=t[r[l]];if(m in u){var c=u[m],f=u._length||_.minRowLength(c);if(A(c[0])&&A(c[1]))for(e=0;e<f;e++){var h=c[0][e],d=c[1][e];B(h)&&B(d)&&(s.push([h,d]),h in a[0][1]||(a[0][1][h]=a[0][0]++),d in a[1][1]||(a[1][1][d]=a[1][0]++))}}}for(s.sort(function(t,e){var n=a[0][1],n=n[t[0]]-n[e[0]];if(n)return n;n=a[1][1];return n[t[1]]-n[e[1]]}),l=0;l<s.length;l++)y(s[l])}),v.fraction2r=function(t){var e=v.r2l(v.range[0]),n=v.r2l(v.range[1]);return v.l2r(e+t*(n-e))},v.r2fraction=function(t){var e=v.r2l(v.range[0]),n=v.r2l(v.range[1]);return(v.r2l(t)-e)/(n-e)},v.cleanRange=function(t,e){e=e||{},t=t||"range";var n,r=_.nestedProperty(v,t).get(),i="date"===v.type?_.dfltRange(v.calendar):"y"===m?D.DFLTRANGEY:e.dfltRange||D.DFLTRANGEX;if(i=i.slice(),"tozero"!==v.rangemode&&"nonnegative"!==v.rangemode||(i[0]=0),r&&2===r.length)for("date"!==v.type||v.autorange||(r[0]=_.cleanDate(r[0],E,v.calendar),r[1]=_.cleanDate(r[1],E,v.calendar)),n=0;n<2;n++)if("date"===v.type){if(!_.isDateTime(r[n],v.calendar)){v[t]=i;break}if(v.r2l(r[0])===v.r2l(r[1])){var o=_.constrain(v.r2l(r[0]),_.MIN_MS+1e3,_.MAX_MS-1e3);r[0]=v.l2r(o-1e3),r[1]=v.l2r(o+1e3);break}}else{if(!x(r[n])){if(!x(r[1-n])){v[t]=i;break}r[n]=r[1-n]*(n?10:.1)}r[n]<-S?r[n]=-S:r[n]>S&&(r[n]=S),r[0]===r[1]&&(o=Math.max(1,Math.abs(1e-6*r[0])),r[0]-=o,r[1]+=o)}else _.nestedProperty(v,t).set(i)},v.setScale=function(t){var e=p._size;v.overlaying&&(r=R.getFromId({_fullLayout:p},v.overlaying),v.domain=r.domain);var n=t&&v._r?"_r":"range",r=v.calendar;v.cleanRange(n);var i,o,t=v.r2l(v[n][0],r),n=v.r2l(v[n][1],r),r="y"===m;if((r?(v._offset=e.t+(1-v.domain[1])*e.h,v._length=e.h*(v.domain[1]-v.domain[0]),v._m=v._length/(t-n),v._b=-v._m*n):(v._offset=e.l+v.domain[0]*e.w,v._length=e.w*(v.domain[1]-v.domain[0]),v._m=v._length/(n-t),v._b=-v._m*t),v._rangebreaks=[],v._lBreaks=0,v._m2=0,v._B=[],v.rangebreaks)&&(v._rangebreaks=v.locateBreaks(Math.min(t,n),Math.max(t,n)),v._rangebreaks.length)){for(i=0;i<v._rangebreaks.length;i++)o=v._rangebreaks[i],v._lBreaks+=Math.abs(o.max-o.min);e=r;n<t&&(e=!e),e&&v._rangebreaks.reverse();var a=e?-1:1;for(v._m2=a*v._length/(Math.abs(n-t)-v._lBreaks),v._B.push(-v._m2*(r?n:t)),i=0;i<v._rangebreaks.length;i++)o=v._rangebreaks[i],v._B.push(v._B[v._B.length-1]-a*v._m2*(o.max-o.min));for(i=0;i<v._rangebreaks.length;i++)(o=v._rangebreaks[i]).pmin=l(o.min),o.pmax=l(o.max)}if(!isFinite(v._m)||!isFinite(v._b)||v._length<0)throw p._replotting=!1,new Error("Something went wrong with axis scaling")},v.maskBreaks=function(t){for(var e,n=v.rangebreaks||[],r=0;r<n.length;r++){var i=n[r];if(i.enabled)if(i.bounds){var o,a=i.pattern,s=(o=_.simpleMap(i.bounds,a?w:v.d2c))[0],l=o[1];switch(a){case F:u=(e=new Date(t)).getUTCDay(),l<s&&(l+=7,u<s&&(u+=7));break;case I:var u=(e=new Date(t)).getUTCHours()+(e.getUTCMinutes()/60+e.getUTCSeconds()/3600+e.getUTCMilliseconds()/36e5);l<s&&(l+=24,u<s&&(u+=24));break;case"":u=t}if(s<=u&&u<l)return E}else for(var c=_.simpleMap(i.values,v.d2c).sort(_.sorterAsc),f=0;f<c.length;f++)if(l=(s=c[f])+i.dvalue,s<=t&&t<l)return E}return t},v.locateBreaks=function(o,a){var t,e,n,s=[];if(!v.rangebreaks)return s;for(var r=v.rangebreaks.slice().sort(function(t,e){return t.pattern===F&&e.pattern===I?-1:e.pattern===F&&t.pattern===I?1:0}),i=function(t,e){if((t=_.constrain(t,o,a))!==(e=_.constrain(e,o,a))){for(var n=!0,r=0;r<s.length;r++){var i=s[r];t<i.max&&e>=i.min&&(t<i.min&&(i.min=t),e>i.max&&(i.max=e),n=!1)}n&&s.push({min:t,max:e})}},l=0;l<r.length;l++){var u=r[l];if(u.enabled)if(u.bounds){var c=o,f=a;u.pattern&&(c=Math.floor(c)),e=(t=_.simpleMap(u.bounds,u.pattern?w:v.r2l))[0],n=t[1];var h,d,p=new Date(c);switch(u.pattern){case F:d=O,h=(n-e+(n<e?7:0))*j,c+=e*j-(p.getUTCDay()*j+p.getUTCHours()*P+p.getUTCMinutes()*N+p.getUTCSeconds()*L+p.getUTCMilliseconds());break;case I:d=j,h=(n-e+(n<e?24:0))*P,c+=e*P-(p.getUTCHours()*P+p.getUTCMinutes()*N+p.getUTCSeconds()*L+p.getUTCMilliseconds());break;default:c=Math.min(t[0],t[1]),h=d=(f=Math.max(t[0],t[1]))-c}for(var g=c;g<f;g+=d)i(g,g+h)}else for(var m=_.simpleMap(u.values,v.d2c),y=0;y<m.length;y++)i(e=m[y],n=e+u.dvalue)}return s.sort(function(t,e){return t.min-e.min}),s},v.makeCalcdata=function(t,e,n){var r=v.type,i="date"===r&&t[e+"calendar"];if(e in t){if(s=t[e],l=t._length||_.minRowLength(s),_.isTypedArray(s)&&("linear"===r||"log"===r)){if(l===s.length)return s;if(s.subarray)return s.subarray(0,l)}if("multicategory"===r)return function(t,e){for(var n=new Array(e),r=0;r<e;r++){var i=(t[0]||[])[r],o=(t[1]||[])[r];n[r]=f([i,o])}return n}(s,l);for(u=new Array(l),c=0;c<l;c++)u[c]=v.d2c(s[c],0,i,n)}else for(var o=(e+"0"in t?v.d2c(t[e+"0"],0,i):0),a=t["d"+e]?Number(t["d"+e]):1,s=t[{x:"y",y:"x"}[e]],l=t._length||s.length,u=new Array(l),c=0;c<l;c++)u[c]=o+c*a;if(v.rangebreaks)for(c=0;c<l;c++)u[c]=v.maskBreaks(u[c]);return u},v.isValidRange=function(t){return Array.isArray(t)&&2===t.length&&x(v.r2l(t[0]))&&x(v.r2l(t[1]))},v.isPtWithinRange=function(t,e){var n=v.c2l(t[m],null,e),t=v.r2l(v.range[0]),e=v.r2l(v.range[1]);return t<e?t<=n&&n<=e:e<=n&&n<=t},v._emptyCategories=function(){v._categories=[],v._categoriesMap={}},v.clearCalc=function(){var t=v._matchGroup;if(t){var e,n=null,r=null;for(e in t){var i=p[R.id2name(e)];if(i._categories){n=i._categories,r=i._categoriesMap;break}}n&&r?(v._categories=n,v._categoriesMap=r):v._emptyCategories()}else v._emptyCategories();if(v._initialCategories)for(var o=0;o<v._initialCategories.length;o++)y(v._initialCategories[o])},v.sortByInitialCategories=function(){var t,e,n=[];if(v._emptyCategories(),v._initialCategories)for(var r=0;r<v._initialCategories.length;r++)y(v._initialCategories[r]);for(t in n=n.concat(v._traceIndices),v._matchGroup)g!==t&&((e=p[R.id2name(t)])._categories=v._categories,e._categoriesMap=v._categoriesMap,n=n.concat(e._traceIndices));return n};var t=p._d3locale;"date"===v.type&&(v._dateFormat=t?t.timeFormat:b,v._extraFormat=p._extraFormat),v._separators=p.separators,v._numFormat=t?t.numberFormat:d.format,delete v._minDtick,delete v._forceTick0}},{"../../constants/numerical":754,"../../lib":776,"./axis_ids":826,"./constants":829,d3:629,"d3-time-format":627,"fast-isnumeric":450}],844:[function(t,e,n){"use strict";var u=t("../../lib"),c=t("../../components/color").contrast,f=t("./layout_attributes"),h=t("../array_container_defaults");function d(e){var n=["showexponent","showtickprefix","showticksuffix"].filter(function(t){return void 0!==e[t]});if(n.every(function(t){return e[t]===e[n[0]]})||1===n.length)return e[n[0]]}function p(n,r){function t(t,e){return u.coerce(n,r,f.tickformatstops,t,e)}t("enabled")&&(t("dtickrange"),t("value"))}e.exports=function(t,e,n,r,i,o){var a,s,l;o&&1!==o.pass||(s=n,a=i,l=d(l=t),s("tickprefix")&&s("showtickprefix",l),s("ticksuffix",a.tickSuffixDflt)&&s("showticksuffix",l)),o&&2!==o.pass||(s=e,l=n,o=r,e=i,r=d(n=t),l("tickprefix")&&l("showtickprefix",r),l("ticksuffix",e.tickSuffixDflt)&&l("showticksuffix",r),l("showticklabels")&&(i=e.font||{},t=s.color,t=-1!==(s.ticklabelposition||"").indexOf("inside")?c(e.bgColor):t&&t!==f.color.dflt?t:i.color,u.coerceFont(l,"tickfont",{family:i.family,size:i.size,color:t}),l("tickangle"),"category"!==o&&(t=l("tickformat"),h(n,s,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:p}),s.tickformatstops.length||delete s.tickformatstops,t||"date"===o||(l("showexponent",r),l("exponentformat"),l("minexponent"),l("separatethousands")))))}},{"../../components/color":646,"../../lib":776,"../array_container_defaults":818,"./layout_attributes":837}],845:[function(t,e,n){"use strict";var a=t("../../lib"),s=t("./layout_attributes");e.exports=function(t,e,n,r){var i=a.coerce2(t,e,s,"ticklen"),o=a.coerce2(t,e,s,"tickwidth"),t=a.coerce2(t,e,s,"tickcolor",e.color);n("ticks",r.outerTicks||i||o||t?"outside":"")||(delete e.ticklen,delete e.tickwidth,delete e.tickcolor)}},{"../../lib":776,"./layout_attributes":837}],846:[function(t,e,n){"use strict";var l=t("./clean_ticks"),u=t("../../lib").isArrayOrTypedArray;e.exports=function(n,r,t,e){function i(t){var e=n[t];return void 0!==e?e:(r._template||{})[t]}var o=i("tick0"),a=i("dtick"),s=i("tickvals"),s=t("tickmode",u(s)?"array":a?"linear":"auto");"auto"===s?t("nticks"):"linear"===s?(a=r.dtick=l.dtick(a,e),r.tick0=l.tick0(o,e,r.calendar,a)):"multicategory"!==e&&(void 0===t("tickvals")?r.tickmode="auto":t("ticktext"))}},{"../../lib":776,"./clean_ticks":828}],847:[function(t,e,n){"use strict";var h=t("d3"),d=t("../../registry"),v=t("../../lib"),b=t("../../components/drawing"),x=t("./axes");e.exports=function(y,o,i,t){var a,s,l,u,r=y._fullLayout;if(0!==o.length){t&&(a=t());var c=h.ease(i.easing);return y._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(u),u=null,function(){for(var t={},e=0;e<o.length;e++){var n=o[e],r=n.plotinfo.xaxis,i=n.plotinfo.yaxis;n.xr0&&(t[r._name+".range"]=n.xr0.slice()),n.yr0&&(t[i._name+".range"]=n.yr0.slice())}return d.call("relayout",y,t).then(function(){for(var t=0;t<o.length;t++)f(o[t].plotinfo)})}()}),s=Date.now(),u=window.requestAnimationFrame(function t(){l=Date.now();for(var e=Math.min(1,(l-s)/i.duration),n=c(e),r=0;r<o.length;r++)!function(t,e){var n,r,i,o,a=t.plotinfo,s=a.xaxis,l=a.yaxis,u=s._length,c=l._length,f=!!t.xr1,h=!!t.yr1,d=[];f?(n=v.simpleMap(t.xr0,s.r2l),r=v.simpleMap(t.xr1,s.r2l),i=n[1]-n[0],o=r[1]-r[0],d[0]=(n[0]*(1-e)+e*r[0]-n[0])/(n[1]-n[0])*u,d[2]=u*(1-e+e*o/i),s.range[0]=s.l2r(n[0]*(1-e)+e*r[0]),s.range[1]=s.l2r(n[1]*(1-e)+e*r[1])):(d[0]=0,d[2]=u),h?(g=v.simpleMap(t.yr0,l.r2l),m=v.simpleMap(t.yr1,l.r2l),p=g[1]-g[0],t=m[1]-m[0],d[1]=(g[1]*(1-e)+e*m[1]-g[1])/(g[0]-g[1])*c,d[3]=c*(1-e+e*t/p),l.range[0]=s.l2r(g[0]*(1-e)+e*m[0]),l.range[1]=l.l2r(g[1]*(1-e)+e*m[1])):(d[1]=0,d[3]=c),x.drawOne(y,s,{skipTitle:!0}),x.drawOne(y,l,{skipTitle:!0}),x.redrawComponents(y,[s._id,l._id]);var p=f?u/d[2]:1,g=h?c/d[3]:1,e=f?d[0]:0,m=h?d[1]:0,u=f?d[0]/d[2]*u:0,c=h?d[1]/d[3]*c:0,u=s._offset-u,c=l._offset-c;a.clipRect.call(b.setTranslate,e,m).call(b.setScale,1/p,1/g),a.plot.call(b.setTranslate,u,c).call(b.setScale,p,g),b.setPointGroupScale(a.zoomScalePts,1/p,1/g),b.setTextPointsScale(a.zoomScaleTxt,1/p,1/g)}(o[r],n);u=l-s>i.duration?(function(){for(var t={},e=0;e<o.length;e++){var n=o[e],r=n.plotinfo.xaxis,i=n.plotinfo.yaxis;n.xr1&&(t[r._name+".range"]=n.xr1.slice()),n.yr1&&(t[i._name+".range"]=n.yr1.slice())}a&&a(),d.call("relayout",y,t).then(function(){for(var t=0;t<o.length;t++)f(o[t].plotinfo)})}(),window.cancelAnimationFrame(t)):window.requestAnimationFrame(t)}),Promise.resolve()}function f(t){var e=t.xaxis,n=t.yaxis;r._defs.select("#"+t.clipId+"> rect").call(b.setTranslate,0,0).call(b.setScale,1,1),t.plot.call(b.setTranslate,e._offset,n._offset).call(b.setScale,1,1);n=t.plot.selectAll(".scatterlayer .trace");n.selectAll(".point").call(b.setPointGroupScale,1,1),n.selectAll(".textpoint").call(b.setTextPointsScale,1,1),n.call(b.hideOutsideRangePoints,t)}x.redrawComponents(y)}},{"../../components/drawing":668,"../../lib":776,"../../registry":877,"./axes":823,d3:629}],848:[function(t,e,n){"use strict";var d=t("../../registry").traceIs,p=t("./axis_autotype");function g(t){return{v:"x",h:"y"}[t.orientation||"v"]}function m(t,e){var n=g(t),r=d(t,"box-violin"),i=d(t._fullInput||{},"candlestick");return r&&!i&&e===n&&void 0===t[n]&&void 0===t[n+"0"]}e.exports=function(t,e,n,r){n("autotypenumbers",r.autotypenumbersDflt),"-"===n("type",(r.splomStash||{}).type)&&(function(t,e){if("-"===t.type){var n,r=t._id,i=r.charAt(0);-1!==r.indexOf("scene")&&(r=i);var o=function(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if("splom"===i.type&&0<i._length&&(i["_"+n+"axes"]||{})[e])return i;if((i[n+"axis"]||n)===e){if(m(i,n))return i;if((i[n]||[]).length||i[n+"0"])return i}}}(e,r,i);if(o){if("histogram"===o.type&&i==={v:"y",h:"x"}[o.orientation||"v"])return t.type="linear";var a,s=i+"calendar",l=o[s],u={noMultiCategory:!d(o,"cartesian")||d(o,"noMultiCategory")};if("box"===o.type&&o._hasPreCompStats&&i==={h:"x",v:"y"}[o.orientation||"v"]&&(u.noMultiCategory=!0),u.autotypenumbers=t.autotypenumbers,m(o,i)){var c=g(o),f=[];for(n=0;n<e.length;n++){var h=e[n];d(h,"box-violin")&&(h[i+"axis"]||i)===r&&(void 0!==h[c]?f.push(h[c][0]):void 0!==h.name?f.push(h.name):f.push("text"),h[s]!==l&&(l=void 0))}t.type=p(f,l,u)}else"splom"===o.type?(a=o.dimensions[o._axesDim[r]]).visible&&(t.type=p(a.values,l,u)):t.type=p(o[i]||[o[i+"0"]],l,u)}}}(e,r.data),"-"===e.type?e.type="linear":t.type=e.type)}},{"../../registry":877,"./axis_autotype":824}],849:[function(t,e,c){"use strict";var a=t("../registry"),h=t("../lib");function u(t,e,n){var r,i=!1;if("data"===e.type)r=t._fullData[null!==e.traces?e.traces[0]:0];else{if("layout"!==e.type)return!1;r=t._fullLayout}return r=h.nestedProperty(r,e.prop).get(),(n=n[e.type]=n[e.type]||{}).hasOwnProperty(e.prop)&&n[e.prop]!==r&&(i=!0),{changed:i,value:n[e.prop]=r}}function o(t,e){var r=[],n=e[0],i={};if("string"==typeof n)i[n]=e[1];else{if(!h.isPlainObject(n))return r;i=n}return l(i,function(t,e,n){r.push({type:"layout",prop:t,value:n})},"",0),r}function s(u,t){var c=[],e=t[0],n=t[1],f=t[2],t={};if("string"==typeof e)t[e]=n;else{if(!h.isPlainObject(e))return c;t=e,void 0===f&&(f=n)}return void 0===f&&(f=null),l(t,function(t,e,n){var r;if(Array.isArray(n)){s=n.slice();var i=Math.min(s.length,u.data.length);f&&(i=Math.min(i,f.length)),r=[];for(var o=0;o<i;o++)r[o]=f?f[o]:o}else s=n,r=f?f.slice():null;if(null===r)Array.isArray(s)&&(s=s[0]);else if(Array.isArray(r)){if(!Array.isArray(s))for(var a=s,s=[],l=0;l<r.length;l++)s[l]=a;s.length=Math.min(r.length,s.length)}c.push({type:"data",prop:t,traces:r,value:s})},"",0),c}function l(r,i,o,a){Object.keys(r).forEach(function(t){var e,n=r[t];"_"!==t[0]&&(e=o+(0<a?".":"")+t,h.isPlainObject(n)?l(n,i,e,a+1):i(e,t,n))})}c.manageCommandObserver=function(e,t,n,r){var i={},o=!0;t&&t._commandObserver&&(i=t._commandObserver),i.cache||(i.cache={}),i.lookupTable={};var a=c.hasSimpleAPICommandBindings(e,n,i.lookupTable);if(t&&t._commandObserver){if(a)return i;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,i}if(a){u(e,a,i.cache),i.check=function(){if(o){var t=u(e,a,i.cache);return t.changed&&r&&void 0!==i.lookupTable[t.value]&&(i.disable(),Promise.resolve(r({value:t.value,type:a.type,prop:a.prop,traces:a.traces,index:i.lookupTable[t.value]})).then(i.enable,i.enable)),t.changed}};for(var s=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],l=0;l<s.length;l++)e._internalOn(s[l],i.check);i.remove=function(){for(var t=0;t<s.length;t++)e._removeInternalListener(s[t],i.check)}}else h.log("Unable to automatically bind plot updates to API command"),i.lookupTable={},i.remove=function(){};return i.disable=function(){o=!1},i.enable=function(){o=!0},t&&(t._commandObserver=i),i},c.hasSimpleAPICommandBindings=function(t,e,n){for(var r,i=e.length,o=0;o<i;o++){var a,s=e[o],l=s.method,s=s.args;if(Array.isArray(s)||(s=[]),!l)return!1;s=c.computeAPICommandBindings(t,l,s);if(1!==s.length)return!1;if(r){if((a=s[0]).type!==r.type)return!1;if(a.prop!==r.prop)return!1;if(Array.isArray(r.traces)){if(!Array.isArray(a.traces))return!1;a.traces.sort();for(var u=0;u<r.traces.length;u++)if(r.traces[u]!==a.traces[u])return!1}else if(a.prop!==r.prop)return!1}else r=s[0],Array.isArray(r.traces)&&r.traces.sort();s=(a=s[0]).value;if(Array.isArray(s)){if(1!==s.length)return!1;s=s[0]}n&&(n[s]=o)}return r},c.executeAPICommand=function(t,e,n){if("skip"===e)return Promise.resolve();var r=a.apiMethodRegistry[e],i=[t];Array.isArray(n)||(n=[]);for(var o=0;o<n.length;o++)i.push(n[o]);return r.apply(null,i).catch(function(t){return h.warn("API call to Plotly."+e+" rejected.",t),Promise.reject(t)})},c.computeAPICommandBindings=function(t,e,n){var r,i;switch(Array.isArray(n)||(n=[]),e){case"restyle":r=s(t,n);break;case"relayout":r=o(0,n);break;case"update":r=s(t,[n[0],n[2]]).concat(o(0,[n[1]]));break;case"animate":i=n,r=Array.isArray(i[0])&&1===i[0].length&&-1!==["string","number"].indexOf(typeof i[0][0])?[{type:"layout",prop:"_currentFrame",value:i[0][0].toString()}]:[];break;default:r=[]}return r}},{"../lib":776,"../registry":877}],850:[function(t,e,n){"use strict";var r=t("../lib/extend").extendFlat;n.attributes=function(t,e){e=e||{};var n={valType:"info_array",editType:(t=t||{}).editType,items:[{valType:"number",min:0,max:1,editType:t.editType},{valType:"number",min:0,max:1,editType:t.editType}],dflt:[0,1]},n=(t.name&&t.name,t.trace,e.description&&e.description,{x:r({},n,{}),y:r({},n,{}),editType:t.editType});return t.noGridCell||(n.row={valType:"integer",min:0,dflt:0,editType:t.editType},n.column={valType:"integer",min:0,dflt:0,editType:t.editType}),n},n.defaults=function(t,e,n,r){var i=r&&r.x||[0,1],r=r&&r.y||[0,1],e=e.grid;e&&(void 0!==(o=n("domain.column"))&&(o<e.columns?i=e._domains.x[o]:delete t.domain.column),void 0!==(o=n("domain.row"))&&(o<e.rows?r=e._domains.y[o]:delete t.domain.row));var o=n("domain.x",i),n=n("domain.y",r);o[0]<o[1]||(t.domain.x=i.slice()),n[0]<n[1]||(t.domain.y=r.slice())}},{"../lib/extend":769}],851:[function(t,e,n){"use strict";e.exports=function(t){var e=t.editType,n=t.colorEditType;void 0===n&&(n=e);e={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:n},editType:e};return t.arrayOk&&(e.family.arrayOk=!0,e.size.arrayOk=!0,e.color.arrayOk=!0),e}},{}],852:[function(t,e,n){"use strict";e.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],853:[function(t,e,n){"use strict";var c=t("../registry"),f=t("./cartesian/constants").SUBPLOT_PATTERN;n.getSubplotCalcData=function(t,e,n){e=c.subplotsRegistry[e];if(!e)return[];for(var r=e.attr,i=[],o=0;o<t.length;o++){var a=t[o];a[0].trace[r]===n&&i.push(a)}return i},n.getModuleCalcData=function(t,e){var n=[],r=[],i="string"==typeof e?c.getModule(e).plot:"function"==typeof e?e:e.plot;if(!i)return[n,t];for(var o=0;o<t.length;o++){var a=t[o],s=a[0].trace;!0===s.visible&&0!==s._length&&(s._module.plot===i?n:r).push(a)}return[n,r]},n.getSubplotData=function(t,e,n){if(!c.subplotsRegistry[e])return[];var r,i,o,a,s=c.subplotsRegistry[e].attr,l=[];"gl2d"===e&&(o="x"+(i=n.match(f))[1],a="y"+i[2]);for(var u=0;u<t.length;u++)r=t[u],"gl2d"===e&&c.traceIs(r,"gl2d")?r[s[0]]===o&&r[s[1]]===a&&l.push(r):r[s]===n&&l.push(r);return l}},{"../registry":877,"./cartesian/constants":829}],854:[function(t,e,n){"use strict";var r=t("../../plot_api/edit_types").overrideAll,i=t("../../components/fx/layout_attributes"),c=t("./scene"),f=t("../get_data").getSubplotData,o=t("../../lib"),l=t("../../constants/xmlns_namespaces"),h="gl3d";n.name=h,n.attr="scene",n.idRoot="scene",n.idRegex=n.attrRegex=o.counterRegex("scene"),n.attributes=t("./layout/attributes"),n.layoutAttributes=t("./layout/layout_attributes"),n.baseLayoutAttrOverrides=r({hoverlabel:i.hoverlabel},"plot","nested"),n.supplyLayoutDefaults=t("./layout/defaults"),n.plot=function(t){for(var e=t._fullLayout,n=t._fullData,r=e._subplots.gl3d,i=0;i<r.length;i++){var o=r[i],a=f(n,h,o),s=e[o],l=s.camera,u=s._scene;u||(u=new c({id:o,graphDiv:t,container:t.querySelector(".gl-container"),staticPlot:t._context.staticPlot,plotGlPixelRatio:t._context.plotGlPixelRatio,camera:l},e),s._scene=u),u.viewInitial||(u.viewInitial={up:{x:l.up.x,y:l.up.y,z:l.up.z},eye:{x:l.eye.x,y:l.eye.y,z:l.eye.z},center:{x:l.center.x,y:l.center.y,z:l.center.z}}),u.plot(a,e,t.layout)}},n.clean=function(t,e,n,r){for(var i=r._subplots.gl3d||[],o=0;o<i.length;o++){var a=i[o];!e[a]&&r[a]._scene&&(r[a]._scene.destroy(),r._infolayer&&r._infolayer.selectAll(".annotation-"+a).remove())}},n.toSVG=function(t){for(var e=t._fullLayout,n=e._subplots.gl3d,r=e._size,i=0;i<n.length;i++){var o=e[n[i]],a=o.domain,s=o._scene,o=s.toImage("png");e._glimages.append("svg:image").attr({xmlns:l.svg,"xlink:href":o,x:r.l+r.w*a.x[0],y:r.t+r.h*(1-a.y[1]),width:r.w*(a.x[1]-a.x[0]),height:r.h*(a.y[1]-a.y[0]),preserveAspectRatio:"none"}),s.destroy()}},n.cleanId=function(t){if(t.match(/^scene[0-9]*$/)){t=t.substr(5);return"1"===t&&(t=""),"scene"+t}},n.updateFx=function(t){for(var e=t._fullLayout,n=e._subplots.gl3d,r=0;r<n.length;r++)e[n[r]]._scene.updateFx(e.dragmode,e.hovermode)}},{"../../components/fx/layout_attributes":687,"../../constants/xmlns_namespaces":755,"../../lib":776,"../../plot_api/edit_types":805,"../get_data":853,"./layout/attributes":855,"./layout/defaults":859,"./layout/layout_attributes":860,"./scene":864}],855:[function(t,e,n){"use strict";e.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},{}],856:[function(t,e,n){"use strict";var r=t("../../../components/color"),i=t("../../cartesian/layout_attributes"),o=t("../../../lib/extend").extendFlat,t=t("../../../plot_api/edit_types").overrideAll;e.exports=t({visible:i.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:r.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:i.color,categoryorder:i.categoryorder,categoryarray:i.categoryarray,title:{text:i.title.text,font:i.title.font},type:o({},i.type,{values:["-","linear","log","date","category"]}),autotypenumbers:i.autotypenumbers,autorange:i.autorange,rangemode:i.rangemode,range:o({},i.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:i.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,mirror:i.mirror,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,showticklabels:i.showticklabels,tickfont:i.tickfont,tickangle:i.tickangle,tickprefix:i.tickprefix,showtickprefix:i.showtickprefix,ticksuffix:i.ticksuffix,showticksuffix:i.showticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickformat:i.tickformat,tickformatstops:i.tickformatstops,hoverformat:i.hoverformat,showline:i.showline,linecolor:i.linecolor,linewidth:i.linewidth,showgrid:i.showgrid,gridcolor:o({},i.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:i.gridwidth,zeroline:i.zeroline,zerolinecolor:i.zerolinecolor,zerolinewidth:i.zerolinewidth,_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}},"plot","from-root")},{"../../../components/color":646,"../../../lib/extend":769,"../../../plot_api/edit_types":805,"../../cartesian/layout_attributes":837}],857:[function(t,e,n){"use strict";var l=t("tinycolor2").mix,u=t("../../../lib"),c=t("../../../plot_api/plot_template"),f=t("./axis_attributes"),h=t("../../cartesian/type_defaults"),d=t("../../cartesian/axis_defaults"),p=["xaxis","yaxis","zaxis"];e.exports=function(t,e,n){function r(t,e){return u.coerce(s,o,f,t,e)}for(var i=0;i<p.length;i++){var o,a=p[i],s=t[a]||{};(o=c.newContainer(e,a))._id=a[0]+n.scene,o._name=a,h(s,o,r,n),d(s,o,r,{font:n.font,letter:a[0],data:n.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelposition:!0,bgColor:n.bgColor,calendar:n.calendar},n.fullLayout),r("gridcolor",l(o.color,n.bgColor,13600/187).toRgbString()),r("title.text",a[0]),o.setScale=u.noop,r("showspikes")&&(r("spikesides"),r("spikethickness"),r("spikecolor",o.color)),r("showaxeslabels"),r("showbackground")&&r("backgroundcolor")}}},{"../../../lib":776,"../../../plot_api/plot_template":812,"../../cartesian/axis_defaults":825,"../../cartesian/type_defaults":848,"./axis_attributes":856,tinycolor2:1005}],858:[function(t,e,n){"use strict";var o=t("../../../lib/str2rgbarray"),a=t("../../../lib"),s=["xaxis","yaxis","zaxis"];function r(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}r.prototype.merge=function(t,e){for(var n=this,r=0;r<3;++r){var i=e[s[r]];i.visible?(n.labels[r]=t._meta?a.templateString(i.title.text,t._meta):i.title.text,"font"in i.title&&(i.title.font.color&&(n.labelColor[r]=o(i.title.font.color)),i.title.font.family&&(n.labelFont[r]=i.title.font.family),i.title.font.size&&(n.labelSize[r]=i.title.font.size)),"showline"in i&&(n.lineEnable[r]=i.showline),"linecolor"in i&&(n.lineColor[r]=o(i.linecolor)),"linewidth"in i&&(n.lineWidth[r]=i.linewidth),"showgrid"in i&&(n.gridEnable[r]=i.showgrid),"gridcolor"in i&&(n.gridColor[r]=o(i.gridcolor)),"gridwidth"in i&&(n.gridWidth[r]=i.gridwidth),"log"===i.type?n.zeroEnable[r]=!1:"zeroline"in i&&(n.zeroEnable[r]=i.zeroline),"zerolinecolor"in i&&(n.zeroLineColor[r]=o(i.zerolinecolor)),"zerolinewidth"in i&&(n.zeroLineWidth[r]=i.zerolinewidth),"ticks"in i&&i.ticks?n.lineTickEnable[r]=!0:n.lineTickEnable[r]=!1,"ticklen"in i&&(n.lineTickLength[r]=n._defaultLineTickLength[r]=i.ticklen),"tickcolor"in i&&(n.lineTickColor[r]=o(i.tickcolor)),"tickwidth"in i&&(n.lineTickWidth[r]=i.tickwidth),"tickangle"in i&&(n.tickAngle[r]="auto"===i.tickangle?-3600:Math.PI*-i.tickangle/180),"showticklabels"in i&&(n.tickEnable[r]=i.showticklabels),"tickfont"in i&&(i.tickfont.color&&(n.tickColor[r]=o(i.tickfont.color)),i.tickfont.family&&(n.tickFont[r]=i.tickfont.family),i.tickfont.size&&(n.tickSize[r]=i.tickfont.size)),"mirror"in i?-1!==["ticks","all","allticks"].indexOf(i.mirror)?(n.lineTickMirror[r]=!0,n.lineMirror[r]=!0):!0===i.mirror?(n.lineTickMirror[r]=!1,n.lineMirror[r]=!0):(n.lineTickMirror[r]=!1,n.lineMirror[r]=!1):n.lineMirror[r]=!1,"showbackground"in i&&!1!==i.showbackground?(n.backgroundEnable[r]=!0,n.backgroundColor[r]=o(i.backgroundcolor)):n.backgroundEnable[r]=!1):(n.tickEnable[r]=!1,n.labelEnable[r]=!1,n.lineEnable[r]=!1,n.lineTickEnable[r]=!1,n.gridEnable[r]=!1,n.zeroEnable[r]=!1,n.backgroundEnable[r]=!1)}},e.exports=function(t,e){var n=new r;return n.merge(t,e),n}},{"../../../lib":776,"../../../lib/str2rgbarray":798}],859:[function(t,e,n){"use strict";var i=t("../../../lib"),u=t("../../../components/color"),c=t("../../../registry"),o=t("../../subplot_defaults"),f=t("./axis_defaults"),a=t("./layout_attributes"),h=t("../../get_data").getSubplotData;function s(t,e,n,r){for(var i=n("bgcolor"),o=u.combine(i,r.paper_bgcolor),a=["up","center","eye"],s=0;s<a.length;s++)n("camera."+a[s]+".x"),n("camera."+a[s]+".y"),n("camera."+a[s]+".z");n("camera.projection.type");var l=!!n("aspectratio.x")&&!!n("aspectratio.y")&&!!n("aspectratio.z"),i=n("aspectmode",l?"manual":"auto");l||(t.aspectratio=e.aspectratio={x:1,y:1,z:1},"manual"===i&&(e.aspectmode="auto"),t.aspectmode=e.aspectmode);i=h(r.fullData,"gl3d",r.id);f(t,e,{font:r.font,scene:r.id,data:i,bgColor:o,calendar:r.calendar,autotypenumbersDflt:r.autotypenumbersDflt,fullLayout:r.fullLayout}),c.getComponentMethod("annotations3d","handleDefaults")(t,e,r);i=r.getDfltFromLayout("dragmode");!1!==i&&(i||(i="orbit",t.camera&&t.camera.up?(o=t.camera.up.x,e=t.camera.up.y,0===(t=t.camera.up.z)||o&&e&&t&&!(.999<t/Math.sqrt(o*o+e*e+t*t))||(i="turntable")):i="turntable")),n("dragmode",i),n("hovermode",r.getDfltFromLayout("hovermode"))}e.exports=function(e,t,n){var r=1<t._basePlotModules.length;o(e,t,n,{type:"gl3d",attributes:a,handleDefaults:s,fullLayout:t,font:t.font,fullData:n,getDfltFromLayout:function(t){if(!r)return i.validate(e[t],a[t])?e[t]:void 0},autotypenumbersDflt:t.autotypenumbers,paper_bgcolor:t.paper_bgcolor,calendar:t.calendar})}},{"../../../components/color":646,"../../../lib":776,"../../../registry":877,"../../get_data":853,"../../subplot_defaults":875,"./axis_defaults":857,"./layout_attributes":860}],860:[function(t,e,n){"use strict";var r=t("./axis_attributes"),i=t("../../domain").attributes,o=t("../../../lib/extend").extendFlat,t=t("../../../lib").counterRegex;function a(t,e,n){return{x:{valType:"number",dflt:t,editType:"camera"},y:{valType:"number",dflt:e,editType:"camera"},z:{valType:"number",dflt:n,editType:"camera"},editType:"camera"}}e.exports={_arrayAttrRegexps:[t("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:o(a(0,0,1),{}),center:o(a(0,0,0),{}),eye:o(a(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:i({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:r,yaxis:r,zaxis:r,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},{"../../../lib":776,"../../../lib/extend":769,"../../domain":850,"./axis_attributes":856}],861:[function(t,e,n){"use strict";var r=t("../../../lib/str2rgbarray"),i=["xaxis","yaxis","zaxis"];function o(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}o.prototype.merge=function(t){for(var e=0;e<3;++e){var n=t[i[e]];n.visible?(this.enabled[e]=n.showspikes,this.colors[e]=r(n.spikecolor),this.drawSides[e]=n.spikesides,this.lineWidth[e]=n.spikethickness):(this.enabled[e]=!1,this.drawSides[e]=!1)}},e.exports=function(t){var e=new o;return e.merge(t),e}},{"../../../lib/str2rgbarray":798}],862:[function(t,e,n){"use strict";e.exports=function(t){for(var e=t.axesOptions,n=t.glplot.axesPixels,r=t.fullSceneLayout,i=[[],[],[]],o=0;o<3;++o){var a=r[d[o]];if(a._length=(n[o].hi-n[o].lo)*n[o].pixelsPerDataUnit/t.dataScale[o],Math.abs(a._length)===1/0||isNaN(a._length))i[o]=[];else{a._input_range=a.range.slice(),a.range[0]=n[o].lo/t.dataScale[o],a.range[1]=n[o].hi/t.dataScale[o],a._m=1/(t.dataScale[o]*n[o].pixelsPerDataUnit),a.range[0]===a.range[1]&&(--a.range[0],a.range[1]+=1);var s,l=a.tickmode;"auto"===a.tickmode&&(a.tickmode="linear",s=a.nticks||h.constrain(a._length/40,4,9),f.autoTicks(a,Math.abs(a.range[1]-a.range[0])/s));for(var u=f.calcTicks(a,{msUTC:!0}),c=0;c<u.length;++c)u[c].x=u[c].x*t.dataScale[o],"date"===a.type&&(u[c].text=u[c].text.replace(/\<br\>/g," "));i[o]=u,a.tickmode=l}}e.ticks=i;for(o=0;o<3;++o){p[o]=.5*(t.glplot.bounds[0][o]+t.glplot.bounds[1][o]);for(c=0;c<2;++c)e.bounds[c][o]=t.glplot.bounds[c][o]}t.contourLevels=function(t){for(var e=new Array(3),n=0;n<3;++n){for(var r=t[n],i=new Array(r.length),o=0;o<r.length;++o)i[o]=r[o].x;e[n]=i}return e}(i)};var f=t("../../cartesian/axes"),h=t("../../../lib"),d=["xaxis","yaxis","zaxis"],p=[0,0,0]},{"../../../lib":776,"../../cartesian/axes":823}],863:[function(t,e,n){"use strict";function r(t,e){for(var n,r=[0,0,0,0],i=0;i<4;++i)for(n=0;n<4;++n)r[n]+=t[4*i+n]*e[i];return r}e.exports=function(t,e){return r(t.projection,r(t.view,r(t.model,[e[0],e[1],e[2],1])))}},{}],864:[function(t,e,n){"use strict";var a,r,i=t("gl-plot3d"),o=i.createCamera,s=i.createScene,l=t("webgl-context"),u=t("has-passive-events"),h=t("../../registry"),j=t("../../lib"),v=t("../../plots/cartesian/axes"),b=t("../../components/fx"),P=t("../../lib/str2rgbarray"),c=t("../../lib/show_no_webgl_msg"),x=t("./project"),f=t("./layout/convert"),d=t("./layout/spikes"),_=t("./layout/tick_marks"),p=t("is-mobile")({tablet:!0,featureDetect:!0});function g(t,e){var n=document.createElement("div"),r=t.container;this.graphDiv=t.graphDiv;var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.style.position="absolute",i.style.top=i.style.left="0px",i.style.width=i.style.height="100%",i.style["z-index"]=20,i.style["pointer-events"]="none",n.appendChild(i),this.svgContainer=i,n.id=t.id,n.style.position="absolute",n.style.top=n.style.left="0px",n.style.width=n.style.height="100%",r.appendChild(n),this.fullLayout=e,this.id=t.id||"scene",this.fullSceneLayout=e[this.id],this.plotArgs=[[],{},{}],this.axesOptions=f(e,e[this.id]),this.spikeOptions=d(e[this.id]),this.container=n,this.staticMode=!!t.staticPlot,this.pixelRatio=this.pixelRatio||t.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=h.getComponentMethod("annotations3d","convert"),this.drawAnnotations=h.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}t=g.prototype;t.prepareOptions=function(){var t={canvas:this.canvas,gl:this.gl,glOptions:{preserveDrawingBuffer:p,premultipliedAlpha:!0,antialias:!0},container:this.container,axes:this.axesOptions,spikes:this.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:this.camera,pixelRatio:this.pixelRatio};if(this.staticMode){if(!(r||(a=document.createElement("canvas"),r=l({canvas:a,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");t.gl=r,t.canvas=a}return t};var m=!0;t.tryCreatePlot=function(){var e=this.prepareOptions(),n=!0;try{this.glplot=s(e)}catch(t){if(this.staticMode||!m)n=!1;else try{j.warn(["webgl setup failed possibly due to",p?"disabling":"enabling","preserveDrawingBuffer config.","The device may not be supported by is-mobile module!","Inverting preserveDrawingBuffer option in second attempt to create webgl scene."].join(" ")),p=e.glOptions.preserveDrawingBuffer=!e.glOptions.preserveDrawingBuffer,this.glplot=s(e)}catch(t){p=e.glOptions.preserveDrawingBuffer=!e.glOptions.preserveDrawingBuffer,n=!1}}return m=!1,n},t.initializeGLCamera=function(){var t=this.fullSceneLayout.camera,e="orthographic"===t.projection.type;this.camera=o(this.container,{center:[t.center.x,t.center.y,t.center.z],eye:[t.eye.x,t.eye.y,t.eye.z],up:[t.up.x,t.up.y,t.up.z],_ortho:e,zoomMin:.01,zoomMax:100,mode:"orbit"})},t.initializeGLPlot=function(){var n=this;if(n.initializeGLCamera(),!n.tryCreatePlot())return c(n);n.traces={},n.make4thDimension();function r(){var t={};return n.isCameraChanged(a)&&(t[n.id+".camera"]=n.getCamera()),n.isAspectChanged(a)&&(t[n.id+".aspectratio"]=n.glplot.getAspectratio(),"manual"!==a[n.id].aspectmode&&(n.fullSceneLayout.aspectmode=a[n.id].aspectmode=t[n.id+".aspectmode"]="manual")),t}function i(t){var e;!1!==t.fullSceneLayout.dragmode&&(e=r(),t.saveLayout(a),t.graphDiv.emit("plotly_relayout",e))}var o=n.graphDiv,a=o.layout;return n.glplot.canvas&&(n.glplot.canvas.addEventListener("mouseup",function(){i(n)}),n.glplot.canvas.addEventListener("wheel",function(t){var e;o._context._scrollZoom.gl3d&&(n.camera._ortho&&(e=t.deltaX>t.deltaY?1.1:1/1.1,t=n.glplot.getAspectratio(),n.glplot.setAspectratio({x:e*t.x,y:e*t.y,z:e*t.z})),i(n))},!!u&&{passive:!1}),n.glplot.canvas.addEventListener("mousemove",function(){var t;!1!==n.fullSceneLayout.dragmode&&0!==n.camera.mouseListener.buttons&&(t=r(),n.graphDiv.emit("plotly_relayouting",t))}),n.staticMode||n.glplot.canvas.addEventListener("webglcontextlost",function(t){o&&o.emit&&o.emit("plotly_webglcontextlost",{event:t,layer:n.id})},!1)),n.glplot.oncontextloss=function(){n.recoverContext()},n.glplot.onrender=function(){n.render()},!0},t.render=function(){var n=this,t=n.graphDiv,e=n.svgContainer,r=n.container.getBoundingClientRect();t._fullLayout._calcInverseTransform(t);var i=t._fullLayout._invScaleX,o=t._fullLayout._invScaleY,a=r.width*i,s=r.height*o;e.setAttributeNS(null,"viewBox","0 0 "+a+" "+s),e.setAttributeNS(null,"width",a),e.setAttributeNS(null,"height",s),_(n),n.glplot.axes.update(n.axesOptions);for(var l,u,c,f,h,d=Object.keys(n.traces),p=null,g=n.glplot.selection,m=0;m<d.length;++m)"skip"!==(u=n.traces[d[m]]).data.hoverinfo&&u.handlePick(g)&&(p=u),u.setContourLevels&&u.setContourLevels();function y(t,e){t=n.fullSceneLayout[t];return v.tickText(t,t.d2l(e),"hover").text}null!==p?(l=x(n.glplot.cameraParams,g.dataCoordinate),u=p.data,c=t._fullData[u.index],f=g.index,i={xLabel:y("xaxis",g.traceCoordinate[0]),yLabel:y("yaxis",g.traceCoordinate[1]),zLabel:y("zaxis",g.traceCoordinate[2])},r=((h=b.castHoverinfo(c,n.fullLayout,f))||"").split("+"),o=h&&"all"===h,c.hovertemplate||o||(-1===r.indexOf("x")&&(i.xLabel=void 0),-1===r.indexOf("y")&&(i.yLabel=void 0),-1===r.indexOf("z")&&(i.zLabel=void 0),-1===r.indexOf("text")&&(g.textLabel=void 0),-1===r.indexOf("name")&&(p.name=void 0)),h=[],o="cone"===u.type||"streamtube"===u.type?(i.uLabel=y("xaxis",g.traceCoordinate[3]),!o&&-1===r.indexOf("u")||h.push("u: "+i.uLabel),i.vLabel=y("yaxis",g.traceCoordinate[4]),!o&&-1===r.indexOf("v")||h.push("v: "+i.vLabel),i.wLabel=y("zaxis",g.traceCoordinate[5]),!o&&-1===r.indexOf("w")||h.push("w: "+i.wLabel),i.normLabel=g.traceCoordinate[6].toPrecision(3),!o&&-1===r.indexOf("norm")||h.push("norm: "+i.normLabel),"streamtube"===u.type&&(i.divergenceLabel=g.traceCoordinate[7].toPrecision(3),!o&&-1===r.indexOf("divergence")||h.push("divergence: "+i.divergenceLabel)),g.textLabel&&h.push(g.textLabel),h.join("<br>")):"isosurface"===u.type||"volume"===u.type?(i.valueLabel=v.tickText(n._mockAxis,n._mockAxis.d2l(g.traceCoordinate[3]),"hover").text,h.push("value: "+i.valueLabel),g.textLabel&&h.push(g.textLabel),h.join("<br>")):g.textLabel,r={x:g.traceCoordinate[0],y:g.traceCoordinate[1],z:g.traceCoordinate[2],data:c._input,fullData:c,curveNumber:c.index,pointNumber:f},b.appendArrayPointValue(r,c,f),u._module.eventData&&(r=c._module.eventData(r,g,c,{},f)),h={points:[r]},n.fullSceneLayout.hovermode&&b.loneHover({trace:c,x:(.5+.5*l[0]/l[3])*a,y:(.5-.5*l[1]/l[3])*s,xLabel:i.xLabel,yLabel:i.yLabel,zLabel:i.zLabel,text:o,name:p.name,color:b.castHoverOption(c,f,"bgcolor")||p.color,borderColor:b.castHoverOption(c,f,"bordercolor"),fontFamily:b.castHoverOption(c,f,"font.family"),fontSize:b.castHoverOption(c,f,"font.size"),fontColor:b.castHoverOption(c,f,"font.color"),nameLength:b.castHoverOption(c,f,"namelength"),textAlign:b.castHoverOption(c,f,"align"),hovertemplate:j.castOption(c,f,"hovertemplate"),hovertemplateLabels:j.extendFlat({},r,i),eventData:[r]},{container:e,gd:t}),g.buttons&&g.distance<5?t.emit("plotly_click",h):t.emit("plotly_hover",h),h=h):(b.loneUnhover(e),t.emit("plotly_unhover",h)),n.drawAnnotations(n)},t.recoverContext=function(){var t=this;t.glplot.dispose();var e=function(){t.glplot.gl.isContextLost()?requestAnimationFrame(e):t.initializeGLPlot()?t.plot.apply(t,t.plotArgs):j.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(e)};var N=["xaxis","yaxis","zaxis"];t.plot=function(t,e,n){var r=this;if(r.plotArgs=[t,e,n],!r.glplot.contextLost){var i,o,a,s,l=e[r.id],u=n[r.id];r.fullLayout=e,r.fullSceneLayout=l,r.axesOptions.merge(e,l),r.spikeOptions.merge(l),r.setViewport(l),r.updateFx(l.dragmode,l.hovermode),r.camera.enableWheel=r.graphDiv._context._scrollZoom.gl3d,r.glplot.setClearColor(P(l.bgcolor)),r.setConvert(a),t?Array.isArray(t)||(t=[t]):t=[];var c=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(C=0;C<t.length;++C)!0===(i=t[C]).visible&&0!==i._length&&function(t,e,n){for(var r=t.fullSceneLayout,i=0;i<3;i++){var o=N[i],a=o.charAt(0),s=r[o],l=e[a],u=e[a+"calendar"],c=e["_"+a+"length"];if(j.isArrayOrTypedArray(l))for(var f,h=0;h<(c||l.length);h++)if(j.isArrayOrTypedArray(l[h]))for(var d=0;d<l[h].length;++d)f=s.d2l(l[h][d],0,u),!isNaN(f)&&isFinite(f)&&(n[0][i]=Math.min(n[0][i],f),n[1][i]=Math.max(n[1][i],f));else f=s.d2l(l[h],0,u),!isNaN(f)&&isFinite(f)&&(n[0][i]=Math.min(n[0][i],f),n[1][i]=Math.max(n[1][i],f));else n[0][i]=Math.min(n[0][i],0),n[1][i]=Math.max(n[1][i],c-1)}}(this,i,c);!function(t,e){for(var n=t.fullSceneLayout,r=n.annotations||[],i=0;i<3;i++)for(var o=N[i],a=o.charAt(0),s=n[o],l=0;l<r.length;l++){var u=r[l];u.visible&&(u=s.r2l(u[a]),!isNaN(u)&&isFinite(u)&&(e[0][i]=Math.min(e[0][i],u),e[1][i]=Math.max(e[1][i],u)))}}(this,c);var f=[1,1,1];for(x=0;x<3;++x)c[1][x]===c[0][x]?f[x]=1:f[x]=1/(c[1][x]-c[0][x]);for(r.dataScale=f,r.convertAnnotations(this),C=0;C<t.length;++C)!0===(i=t[C]).visible&&0!==i._length&&((o=r.traces[i.uid])?o.data.type===i.type?o.update(i):(o.dispose(),o=i._module.plot(this,i),r.traces[i.uid]=o):(o=i._module.plot(this,i),r.traces[i.uid]=o),o.name=i.name);var h=Object.keys(r.traces);t:for(C=0;C<h.length;++C){for(x=0;x<t.length;++x)if(t[x].uid===h[C]&&!0===t[x].visible&&0!==t[x]._length)continue t;(o=r.traces[h[C]]).dispose(),delete r.traces[h[C]]}r.glplot.objects.sort(function(t,e){return t._trace.data.index-e._trace.data.index});var d=[[0,0,0],[0,0,0]],p=[],g={};for(C=0;C<3;++C){if((s=(a=l[N[C]]).type)in g?(g[s].acc*=f[C],g[s].count+=1):g[s]={acc:f[C],count:1},a.autorange){d[0][C]=1/0,d[1][C]=-1/0;for(var m,y=r.glplot.objects,v=r.fullSceneLayout.annotations||[],b=a._name.charAt(0),x=0;x<y.length;x++){var _=y[x],w=_.bounds,k=_._trace.data._pad||0;"ErrorBars"===_.constructor.name&&a._lowerLogErrorBound?d[0][C]=Math.min(d[0][C],a._lowerLogErrorBound):d[0][C]=Math.min(d[0][C],w[0][C]/f[C]-k),d[1][C]=Math.max(d[1][C],w[1][C]/f[C]+k)}for(x=0;x<v.length;x++){var T=v[x];T.visible&&(T=a.r2l(T[b]),d[0][C]=Math.min(d[0][C],T),d[1][C]=Math.max(d[1][C],T))}"rangemode"in a&&"tozero"===a.rangemode&&(d[0][C]=Math.min(d[0][C],0),d[1][C]=Math.max(d[1][C],0)),d[0][C]>d[1][C]?(d[0][C]=-1,d[1][C]=1):(m=d[1][C]-d[0][C],d[0][C]-=m/32,d[1][C]+=m/32),"reversed"===a.autorange&&(M=d[0][C],d[0][C]=d[1][C],d[1][C]=M)}else{var M=a.range;d[0][C]=a.r2l(M[0]),d[1][C]=a.r2l(M[1])}d[0][C]===d[1][C]&&(--d[0][C],d[1][C]+=1),p[C]=d[1][C]-d[0][C],r.glplot.setBounds(C,{min:d[0][C]*f[C],max:d[1][C]*f[C]})}var A=l.aspectmode;if("cube"===A)S=[1,1,1];else if("manual"===A)var n=l.aspectratio,S=[n.x,n.y,n.z];else{if("auto"!==A&&"data"!==A)throw new Error("scene.js aspectRatio was not one of the enumerated types");for(var E=[1,1,1],C=0;C<3;++C){var O=g[s=(a=l[N[C]]).type];E[C]=Math.pow(O.acc,1/O.count)/f[C]}S="data"===A||Math.max.apply(null,E)/Math.min.apply(null,E)<=4?E:[1,1,1]}l.aspectratio.x=u.aspectratio.x=S[0],l.aspectratio.y=u.aspectratio.y=S[1],l.aspectratio.z=u.aspectratio.z=S[2],r.glplot.setAspectratio(l.aspectratio),r.viewInitial.aspectratio||(r.viewInitial.aspectratio={x:l.aspectratio.x,y:l.aspectratio.y,z:l.aspectratio.z}),r.viewInitial.aspectmode||(r.viewInitial.aspectmode=l.aspectmode);u=l.domain||null,S=e._size||null;u&&S&&((e=r.container.style).position="absolute",e.left=S.l+u.x[0]*S.w+"px",e.top=S.t+(1-u.y[1])*S.h+"px",e.width=S.w*(u.x[1]-u.x[0])+"px",e.height=S.h*(u.y[1]-u.y[0])+"px"),r.glplot.redraw()}},t.destroy=function(){this.glplot&&(this.camera.mouseListener.enabled=!1,this.container.removeEventListener("wheel",this.camera.wheelListener),this.camera=null,this.glplot.dispose(),this.container.parentNode.removeChild(this.container),this.glplot=null)},t.getCamera=function(){var t;return this.camera.view.recalcMatrix(this.camera.view.lastT()),{up:{x:(t=this.camera).up[0],y:t.up[1],z:t.up[2]},center:{x:t.center[0],y:t.center[1],z:t.center[2]},eye:{x:t.eye[0],y:t.eye[1],z:t.eye[2]},projection:{type:!0===t._ortho?"orthographic":"perspective"}}},t.setViewport=function(t){var e,n=t.camera;this.camera.lookAt.apply(this,[[(e=n).eye.x,e.eye.y,e.eye.z],[e.center.x,e.center.y,e.center.z],[e.up.x,e.up.y,e.up.z]]),this.glplot.setAspectratio(t.aspectratio),"orthographic"===n.projection.type!==this.camera._ortho&&(this.glplot.redraw(),this.glplot.clearRGBA(),this.glplot.dispose(),this.initializeGLPlot())},t.isCameraChanged=function(t){var e=this.getCamera(),n=j.nestedProperty(t,this.id+".camera").get();var r,i,o,a,s,l,u=!1;if(void 0===n)u=!0;else{for(var c=0;c<3;c++)for(var f=0;f<3;f++)if(r=e,a=f,l=s=void 0,l=["x","y","z"],!(i=n)[(s=["up","center","eye"])[o=c]]||r[s[o]][l[a]]!==i[s[o]][l[a]]){u=!0;break}(!n.projection||e.projection&&e.projection.type!==n.projection.type)&&(u=!0)}return u},t.isAspectChanged=function(t){var e=this.glplot.getAspectratio(),t=j.nestedProperty(t,this.id+".aspectratio").get();return void 0===t||t.x!==e.x||t.y!==e.y||t.z!==e.z},t.saveLayout=function(t){var e,n,r,i,o,a,s=this,l=s.fullLayout,u=s.isCameraChanged(t),c=s.isAspectChanged(t),f=u||c;return f&&(a={},u&&(e=s.getCamera(),o=(n=j.nestedProperty(t,s.id+".camera")).get(),a[s.id+".camera"]=o),c&&(r=s.glplot.getAspectratio(),o=(i=j.nestedProperty(t,s.id+".aspectratio")).get(),a[s.id+".aspectratio"]=o),h.call("_storeDirectGUIEdit",t,l._preGUI,a),u&&(n.set(e),j.nestedProperty(l,s.id+".camera").set(e)),c&&(i.set(r),j.nestedProperty(l,s.id+".aspectratio").set(r),s.glplot.redraw())),f},t.updateFx=function(t,e){var n,r,i,o,a,s,l=this.camera;l&&("orbit"===t?(l.mode="orbit",l.keyBindingMode="rotate"):"turntable"===t?(l.up=[0,0,1],l.mode="turntable",l.keyBindingMode="rotate",n=(s=this.graphDiv)._fullLayout,a=(r=this.fullSceneLayout.camera).up.x,i=r.up.y,(o=r.up.z)/Math.sqrt(a*a+i*i+o*o)<.999&&((a={})[i=this.id+".camera.up"]=o={x:0,y:0,z:1},s=s.layout,h.call("_storeDirectGUIEdit",s,n._preGUI,a),r.up=o,j.nestedProperty(s,i).set(o))):l.keyBindingMode=t),this.fullSceneLayout.hovermode=e},t.toImage=function(t){t=t||"png",this.staticMode&&this.container.appendChild(a),this.glplot.redraw();var e=this.glplot.gl,n=e.drawingBufferWidth,u=e.drawingBufferHeight;e.bindFramebuffer(e.FRAMEBUFFER,null);var r=new Uint8Array(n*u*4);e.readPixels(0,0,n,u,e.RGBA,e.UNSIGNED_BYTE,r),function(t,e){for(var n=0,r=u-1;n<r;++n,--r)for(var i=0;i<e;++i)for(var o=0;o<4;++o){var a=4*(e*n+i)+o,s=4*(e*r+i)+o,l=t[a];t[a]=t[s],t[s]=l}}(r,n),function(t,e,n){for(var r=0;r<n;++r)for(var i=0;i<e;++i){var o=4*(e*r+i),a=t[3+o];if(0<a)for(var s=255/a,l=0;l<3;++l)t[o+l]=Math.min(s*t[o+l],255)}}(r,n,u);var i=document.createElement("canvas");i.width=n,i.height=u;var o,e=i.getContext("2d"),n=e.createImageData(n,u);switch(n.data.set(r),e.putImageData(n,0,0),t){case"jpeg":o=i.toDataURL("image/jpeg");break;case"webp":o=i.toDataURL("image/webp");break;default:o=i.toDataURL("image/png")}return this.staticMode&&this.container.removeChild(a),o},t.setConvert=function(){for(var t=0;t<3;t++){var e=this.fullSceneLayout[N[t]];v.setConvert(e,this.fullLayout),e.setScale=j.noop}},t.make4thDimension=function(){var t=this.graphDiv._fullLayout;this._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},v.setConvert(this._mockAxis,t)},e.exports=g},{"../../components/fx":686,"../../lib":776,"../../lib/show_no_webgl_msg":796,"../../lib/str2rgbarray":798,"../../plots/cartesian/axes":823,"../../registry":877,"./layout/convert":858,"./layout/spikes":861,"./layout/tick_marks":862,"./project":863,"gl-plot3d":509,"has-passive-events":547,"is-mobile":556,"webgl-context":1020}],865:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){r=r||t.length;for(var i=new Array(r),o=0;o<r;o++)i[o]=[t[o],e[o],n[o]];return i}},{}],866:[function(t,e,n){"use strict";var r=t("./font_attributes"),i=t("./animation_attributes"),o=t("../components/color/attributes"),a=t("../components/shapes/draw_newshape/attributes"),s=t("./pad_attributes"),l=t("../lib/extend").extendFlat,t=r({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=o.defaultLine,e.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:r({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:l(s({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:o.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:o.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:o.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},modebar:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"modebar"},newshape:a.newshape,activeshape:a.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:l({},i.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:r({editType:"layoutstyle"})}}},{"../components/color/attributes":645,"../components/shapes/draw_newshape/attributes":728,"../lib/extend":769,"./animation_attributes":817,"./font_attributes":851,"./pad_attributes":867}],867:[function(t,e,n){"use strict";e.exports=function(t){t=t.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}},{}],868:[function(t,e,n){"use strict";var M=t("d3"),A=t("d3-time-format").timeFormatLocale,E=t("fast-isnumeric"),O=t("../registry"),y=t("../plot_api/plot_schema"),k=t("../plot_api/plot_template"),j=t("../lib"),g=t("../components/color"),v=t("../constants/numerical").BADNUM,P=t("./cartesian/axis_ids"),S=t("./cartesian/handle_outline").clearSelect,i=t("./animation_attributes"),o=t("./frame_attributes"),a=t("../plots/get_data").getModuleCalcData,C=j.relinkPrivateKeys,N=j._,L=e.exports={};j.extendFlat(L,O),L.attributes=t("./attributes"),L.attributes.type.values=L.allTypes,L.fontAttrs=t("./font_attributes"),L.layoutAttributes=t("./layout_attributes"),L.fontWeight="normal";var T=L.transformsRegistry,t=t("./command");L.executeAPICommand=t.executeAPICommand,L.computeAPICommandBindings=t.computeAPICommandBindings,L.manageCommandObserver=t.manageCommandObserver,L.hasSimpleAPICommandBindings=t.hasSimpleAPICommandBindings,L.redrawText=function(e){var t=(e=j.getGraphDiv(e))._fullLayout||{};if(!(!(t._has&&t._has("polar"))&&e.data&&e.data[0]&&e.data[0].r))return new Promise(function(t){setTimeout(function(){O.getComponentMethod("annotations","draw")(e),O.getComponentMethod("legend","draw")(e),O.getComponentMethod("colorbar","draw")(e),t(L.previousPromises(e))},300)})},L.resize=function(n){var r;n=j.getGraphDiv(n);var t=new Promise(function(e,t){n&&!j.isHidden(n)||t(new Error("Resize must be passed a displayed plot div element.")),n._redrawTimer&&clearTimeout(n._redrawTimer),n._resolveResize&&(r=n._resolveResize),n._resolveResize=e,n._redrawTimer=setTimeout(function(){var t;!n.layout||n.layout.width&&n.layout.height||j.isHidden(n)?e(n):(delete n.layout.width,delete n.layout.height,t=n.changed,n.autoplay=!0,O.call("relayout",n,{autosize:!0}).then(function(){n.changed=t,n._resolveResize===e&&(delete n._resolveResize,e(n))}))},100)});return r&&r(t),t},L.previousPromises=function(t){if((t._promises||[]).length)return Promise.all(t._promises).then(function(){t._promises=[]})},L.addLinks=function(t){var e,n,r,i;(t._context.showLink||t._context.showSources)&&(n=t._fullLayout,e=(i=j.ensureSingle(n._paper,"text","js-plot-link-container",function(t){t.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:g.defaultLine,"pointer-events":"all"}).each(function(){var t=M.select(this);t.append("tspan").classed("js-link-to-tool",!0),t.append("tspan").classed("js-link-spacer",!0),t.append("tspan").classed("js-sourcelinks",!0)})})).node(),r={y:n._paper.attr("height")-9},document.body.contains(e)&&e.getComputedTextLength()>=n.width-20?(r["text-anchor"]="start",r.x=5):(r["text-anchor"]="end",r.x=n._paper.attr("width")-7),i.attr(r),n=i.select(".js-link-to-tool"),r=i.select(".js-link-spacer"),i=i.select(".js-sourcelinks"),t._context.showSources&&t._context.showSources(t),t._context.showLink&&function(t,e){e.text("");var n,r=e.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(t._context.linkText+" "+String.fromCharCode(187));t._context.sendData?r.on("click",function(){L.sendDataToCloud(t)}):(n=window.location.pathname.split("/"),e=window.location.search,r.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+n[2].split(".")[0]+"/"+n[1]+e}))}(t,n),r.text(n.text()&&i.text()?" - ":""))},L.sendDataToCloud=function(t){var e=(window.PLOTLYENV||{}).BASE_URL||t._context.plotlyServerURL;if(e){t.emit("plotly_beforeexport");var n=M.select(t).append("div").attr("id","hiddenform").style("display","none"),e=n.append("form").attr({action:e+"/external",method:"post",target:"_blank"});return e.append("input").attr({type:"text",name:"data"}).node().value=L.graphJson(t,!1,"keepdata"),e.node().submit(),n.remove(),t.emit("plotly_afterexport"),!1}};var R=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],D=["year","month","dayMonth","dayMonthYear"];function I(t,i){var e=(e=t._context.locale)||"en-US",o=!1,a={};function n(t){for(var e=!0,n=0;n<i.length;n++){var r=i[n];a[r]||(t[r]?a[r]=t[r]:e=!1)}e&&(o=!0)}for(var r=0;r<2;r++){for(var s=t._context.locales,l=0;l<2;l++){var u=(s[e]||{}).format;if(u&&(n(u),o))break;s=O.localeRegistry}var c=e.split("-")[0];if(o||c===e)break;e=c}return o||n(O.localeRegistry.en.format),a}function m(t){var e=t.transforms;if(Array.isArray(e)&&e.length)for(var n=0;n<e.length;n++){var r=e[n],r=r._module||T[r.type];if(r&&r.makesData)return!0}return!1}function u(t){return"string"==typeof t&&"px"===t.substr(t.length-2)&&parseFloat(t)}function F(t){var e=t.margin;t._size||((e=t._size={l:Math.round(e.l),r:Math.round(e.r),t:Math.round(e.t),b:Math.round(e.b),p:Math.round(e.pad)}).w=Math.round(t.width)-e.l-e.r,e.h=Math.round(t.height)-e.t-e.b),t._pushmargin||(t._pushmargin={}),t._pushmarginIds||(t._pushmarginIds={})}L.supplyDefaults=function(t,e){var n=e&&e.skipUpdateCalc,r=t._fullLayout||{};if(r._skipDefaults)delete r._skipDefaults;else{var i=t._fullLayout={},o=t.layout||{},a=t._fullData||[],s=t._fullData=[],l=t.data||[],u=t.calcdata||[],c=t._context||{};t._transitionData||L.createTransitionData(t),i._dfltTitle={plot:N(t,"Click to enter Plot title"),x:N(t,"Click to enter X axis title"),y:N(t,"Click to enter Y axis title"),colorbar:N(t,"Click to enter Colorscale title"),annotation:N(t,"new text")},i._traceWord=N(t,"trace");var f,h=I(t,R);i._mapboxAccessToken=c.mapboxAccessToken,r._initialAutoSizeIsDone?(e=r.width,f=r.height,L.supplyLayoutGlobalDefaults(o,i,h),o.width||(i.width=e),o.height||(i.height=f),L.sanitizeMargins(i)):(L.supplyLayoutGlobalDefaults(o,i,h),p=!o.width||!o.height,f=i.autosize,p&&(f||c.autosizable)?L.plotAutoSize(t,o,i):p&&L.sanitizeMargins(i),!f&&p&&(o.width=i.width,o.height=i.height)),i._d3locale=(p=h,h=i.separators,p.decimal=h.charAt(0),p.thousands=h.charAt(1),{numberFormat:M.locale(p).numberFormat,timeFormat:A(p).utcFormat}),i._extraFormat=I(t,D),i._initialAutoSizeIsDone=!0,i._dataLength=l.length,i._modules=[],i._visibleModules=[],i._basePlotModules=[];var d=i._subplots=function(){var t,e,n=O.collectableSubplotTypes,r={};if(!n){n=[];var i,o=O.subplotsRegistry;for(i in o){var a=o[i].attr;if(a&&(n.push(i),Array.isArray(a)))for(e=0;e<a.length;e++)j.pushUnique(n,a[e])}}for(t=0;t<n.length;t++)r[n[t]]=[];return r}(),h=i._splomAxes={x:{},y:{}},p=i._splomSubplots={};i._splomGridDflt={},i._scatterStackOpts={},i._firstScatter={},i._alignmentOpts={},i._colorAxes={},i._requestRangeslider={},i._traceUids=function(t,e){var n,r,i=e.length,o=[];for(n=0;n<t.length;n++){var a=t[n]._fullInput;a!==r&&o.push(a),r=a}var s=o.length,l=new Array(i),u={};function c(t,e){l[e]=t,u[t]=1}function f(t,e){return t&&"string"==typeof t&&!u[t]&&(c(t,e),1)}for(n=0;n<i;n++){var h=e[n].uid;"number"==typeof h&&(h=String(h)),f(h,n)||n<s&&f(o[n].uid,n)||c(j.randstr(u),n)}return l}(a,l),i._globalTransforms=(t._context||{}).globalTransforms,L.supplyDataDefaults(l,s,o,i);var g=Object.keys(h.x),m=Object.keys(h.y);if(1<g.length&&1<m.length){for(O.getComponentMethod("grid","sizeDefaults")(o,i),x=0;x<g.length;x++)j.pushUnique(d.xaxis,g[x]);for(x=0;x<m.length;x++)j.pushUnique(d.yaxis,m[x]);for(var y in p)j.pushUnique(d.cartesian,y)}if(i._has=L._hasPlotType.bind(i),a.length===s.length)for(x=0;x<s.length;x++)C(s[x],a[x]);L.supplyLayoutModuleDefaults(o,i,s,t._transitionData);for(var v=i._visibleModules,b=[],x=0;x<v.length;x++){var _=v[x].crossTraceDefaults;_&&j.pushUnique(b,_)}for(x=0;x<b.length;x++)b[x](s,i);i._hasOnlyLargeSploms=1===i._basePlotModules.length&&"splom"===i._basePlotModules[0].name&&15<g.length&&15<m.length&&0===i.shapes.length&&0===i.images.length,i._hasCartesian=i._has("cartesian"),i._hasGeo=i._has("geo"),i._hasGL3D=i._has("gl3d"),i._hasGL2D=i._has("gl2d"),i._hasTernary=i._has("ternary"),i._hasPie=i._has("pie"),L.linkSubplots(s,i,a,r),L.cleanPlot(s,i,a,r);p=!(!r._has||!r._has("gl2d")),o=!(!i._has||!i._has("gl2d")),p=!(!r._has||!r._has("cartesian"))||p,o=!(!i._has||!i._has("cartesian"))||o;p&&!o?r._bgLayer.remove():o&&!p&&(i._shouldCreateBgLayer=!0),r._zoomlayer&&!t._dragging&&S({_fullLayout:r}),function(t,e){var n,r=[];e.meta&&(n=e._meta={meta:e.meta,layout:{meta:e.meta}});for(var i=0;i<t.length;i++){var o=t[i];o.meta?r[o.index]=o._meta={meta:o.meta}:e.meta&&(o._meta={meta:e.meta}),e.meta&&(o._meta.layout={meta:e.meta})}r.length&&((n=n||(e._meta={})).data=r)}(s,i),C(i,r),O.getComponentMethod("colorscale","crossTraceDefaults")(s,i),i._preGUI||(i._preGUI={}),i._tracePreGUI||(i._tracePreGUI={});var w,k=i._tracePreGUI,T={};for(w in k)T[w]="old";for(x=0;x<s.length;x++)T[w=s[x]._fullInput.uid]||(k[w]={}),T[w]="new";for(w in T)"old"===T[w]&&delete k[w];F(i),O.getComponentMethod("rangeslider","makeData")(i),n||u.length!==s.length||L.supplyDefaultsUpdateCalc(u,s)}},L.supplyDefaultsUpdateCalc=function(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=(t[n]||[])[0];if(i&&i.trace){var o=i.trace;if(o._hasCalcTransform)for(var a,s,l=o._arrayAttrs,u=0;u<l.length;u++)a=l[u],s=j.nestedProperty(o,a).get().slice(),j.nestedProperty(r,a).set(s);i.trace=r}}},L.createTransitionData=function(t){t._transitionData||(t._transitionData={}),t._transitionData._frames||(t._transitionData._frames=[]),t._transitionData._frameHash||(t._transitionData._frameHash={}),t._transitionData._counter||(t._transitionData._counter=0),t._transitionData._interruptCallbacks||(t._transitionData._interruptCallbacks=[])},L._hasPlotType=function(t){for(var e=this._basePlotModules||[],n=0;n<e.length;n++)if(e[n].name===t)return!0;var r=this._modules||[];for(n=0;n<r.length;n++){var i=r[n].name;if(i===t)return!0;i=O.modules[i];if(i&&i.categories[t])return!0}return!1},L.cleanPlot=function(t,e,n,r){for(var i=r._basePlotModules||[],o=0;o<i.length;o++){var a=i[o];a.clean&&a.clean(t,e,n,r)}var s=r._has&&r._has("gl"),l=e._has&&e._has("gl");s&&!l&&void 0!==r._glcontainer&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.selectAll(".no-webgl").remove(),r._glcanvas=null);var u=!!r._infolayer;t:for(o=0;o<n.length;o++){for(var c=n[o].uid,f=0;f<t.length;f++)if(c===t[f].uid)continue t;u&&r._infolayer.select(".cb"+c).remove()}},L.linkSubplots=function(t,e,n,r){for(var i=r._plots||{},o=e._plots={},r=e._subplots,a={_fullData:t,_fullLayout:e},s=r.cartesian.concat(r.gl2d||[]),l=0;l<s.length;l++){var u,c=s[l],f=i[c],h=P.getFromId(a,c,"x"),d=P.getFromId(a,c,"y");for(f?u=o[c]=f:(u=o[c]={}).id=c,h._counterAxes.push(d._id),d._counterAxes.push(h._id),h._subplotsWith.push(c),d._subplotsWith.push(c),u.xaxis=h,u.yaxis=d,u._hasClipOnAxisFalse=!1,x=0;x<t.length;x++){var p=t[x];if(p.xaxis===u.xaxis._id&&p.yaxis===u.yaxis._id&&!1===p.cliponaxis){u._hasClipOnAxisFalse=!0;break}}}var g,m=P.list(a,null,!0);for(l=0;l<m.length;l++){var y=null;(g=m[l]).overlaying&&(y=P.getFromId(a,g.overlaying))&&y.overlaying&&(g.overlaying=!1,y=null),g._mainAxis=y||g,y&&(g.domain=y.domain.slice()),g._anchorAxis="free"===g.anchor?null:P.getFromId(a,g.anchor)}for(l=0;l<m.length;l++)if((g=m[l])._counterAxes.sort(P.idSort),g._subplotsWith.sort(j.subplotSort),g._mainSubplot=function(t,e){var n={_fullLayout:e},r="x"===t._id.charAt(0),i=t._mainAxis._anchorAxis,o="",a="",s="";i&&(s=i._mainAxis._id,o=r?t._id+s:s+t._id);if(!o||!e._plots[o]){o="";for(var l=t._counterAxes,u=0;u<l.length;u++){var c=l[u],f=r?t._id+c:c+t._id;a=a||f;c=P.getFromId(n,c);if(s&&c.overlaying===s){o=f;break}}}return o||a}(g,e),g._counterAxes.length&&(g.spikemode&&-1!==g.spikemode.indexOf("across")||g.automargin&&g.mirror&&"free"!==g.anchor||O.getComponentMethod("rangeslider","isVisible")(g))){for(var v=1,b=0,x=0;x<g._counterAxes.length;x++)var _=P.getFromId(a,g._counterAxes[x]),v=Math.min(v,_.domain[0]),b=Math.max(b,_.domain[1]);v<b&&(g._counterDomainMin=v,g._counterDomainMax=b)}},L.clearExpandedTraceDefaultColors=function(t){var i,o,e;for(o=[],(i=t._module._colorAttrs)||(t._module._colorAttrs=i=[],y.crawl(t._module.attributes,function(t,e,n,r){o[r]=e,o.length=r+1,"color"===t.valType&&void 0===t.dflt&&i.push(o.join("."))})),e=0;e<i.length;e++)j.nestedProperty(t,"_input."+i[e]).get()||j.nestedProperty(t,i[e]).set(null)},L.supplyDataDefaults=function(t,n,e,r){var i,o=r._modules,a=r._visibleModules,s=r._basePlotModules,l=0,u=0;function c(t){n.push(t);var e=t._module;e&&(j.pushUnique(o,e),!0===t.visible&&j.pushUnique(a,e),j.pushUnique(s,t._module.basePlotModule),l++,!1!==t._input.visible&&u++)}r._transformModules=[];for(var f,h,d={},p=[],g=(e.template||{}).data||{},m=k.traceTemplater(g),y=0;y<t.length;y++){if(i=t[y],(h=m.newTrace(i)).uid=r._traceUids[y],L.supplyTraceDefaults(i,h,u,r,y),h.index=y,h._input=i,h._expandedIndex=l,h.transforms&&h.transforms.length)for(var v=!1!==i.visible&&!1===h.visible,b=function(t,e,n,r){for(var i=t.transforms,o=[t],a=0;a<i.length;a++){var s=i[a],l=T[s.type];l&&l.transform&&(o=l.transform(o,{transform:s,fullTrace:t,fullData:e,layout:n,fullLayout:r,transformIndex:a}))}return o}(h,n,e,r),x=0;x<b.length;x++){var _=b[x],w={_template:h._template,type:h.type,uid:h.uid+x};v&&!1===_.visible&&delete _.visible,L.supplyTraceDefaults(_,w,l,r,y),C(w,_),w.index=y,w._input=i,w._fullInput=h,w._expandedIndex=l,w._expandedInput=_,c(w)}else c((h._fullInput=h)._expandedInput=h);O.traceIs(h,"carpetAxis")&&(d[h.carpet]=h),O.traceIs(h,"carpetDependent")&&p.push(y)}for(y=0;y<p.length;y++)(h=n[p[y]]).visible&&(f=d[h.carpet],(h._carpet=f)&&f.visible?(h.xaxis=f.xaxis,h.yaxis=f.yaxis):h.visible=!1)},L.supplyAnimationDefaults=function(n){var t;n=n||{};var r={};function e(t,e){return j.coerce(n||{},r,i,t,e)}if(e("mode"),e("direction"),e("fromcurrent"),Array.isArray(n.frame))for(r.frame=[],t=0;t<n.frame.length;t++)r.frame[t]=L.supplyAnimationFrameDefaults(n.frame[t]||{});else r.frame=L.supplyAnimationFrameDefaults(n.frame||{});if(Array.isArray(n.transition))for(r.transition=[],t=0;t<n.transition.length;t++)r.transition[t]=L.supplyAnimationTransitionDefaults(n.transition[t]||{});else r.transition=L.supplyAnimationTransitionDefaults(n.transition||{});return r},L.supplyAnimationFrameDefaults=function(n){var r={};function t(t,e){return j.coerce(n||{},r,i.frame,t,e)}return t("duration"),t("redraw"),r},L.supplyAnimationTransitionDefaults=function(n){var r={};function t(t,e){return j.coerce(n||{},r,i.transition,t,e)}return t("duration"),t("easing"),r},L.supplyFrameDefaults=function(n){var r={};function t(t,e){return j.coerce(n,r,o,t,e)}return t("group"),t("name"),t("traces"),t("baseframe"),t("data"),t("layout"),r},L.supplyTraceDefaults=function(n,r,t,e,i){var o,a=e.colorway||g.defaults,s=a[t%a.length];function l(t,e){return j.coerce(n,r,L.attributes,t,e)}t=l("visible");l("type"),l("name",e._traceWord+" "+i),l("uirevision",e.uirevision);a=L.getModule(r);if(r._module=a){var i=a.basePlotModule,u=i.attr,c=i.attributes;if(u&&c){var f=e._subplots,h="";if(t||"gl2d"!==i.name){if(Array.isArray(u))for(o=0;o<u.length;o++){var d=u[o],p=j.coerce(n,r,c,d);f[d]&&j.pushUnique(f[d],p),h+=p}else h=j.coerce(n,r,c,u);f[i.name]&&j.pushUnique(f[i.name],h)}}}return t&&(l("customdata"),l("ids"),l("meta"),O.traceIs(r,"showLegend")?(j.coerce(n,r,(a.attributes.showlegend?a:L).attributes,"showlegend"),l("legendgroup"),r._dfltShowLegend=!0):r._dfltShowLegend=!1,a&&a.supplyDefaults(n,r,s,e),O.traceIs(r,"noOpacity")||l("opacity"),O.traceIs(r,"notLegendIsolatable")&&(r.visible=!!r.visible),O.traceIs(r,"noHover")||(r.hovertemplate||j.coerceHoverinfo(n,r,e),"parcats"!==r.type&&O.getComponentMethod("fx","supplyDefaults")(n,r,s,e)),a&&a.selectPoints&&l("selectedpoints"),L.supplyTransformDefaults(n,r,e)),r},L.hasMakesDataTransform=m,L.supplyTransformDefaults=function(t,e,n){if(e._length||m(t)){var r=n._globalTransforms||[],i=n._transformModules||[];if(Array.isArray(t.transforms)||0!==r.length)for(var o=t.transforms||[],a=r.concat(o),s=e.transforms=[],l=0;l<a.length;l++){var u,c=a[l],f=c.type,h=T[f],d=!(c._module&&c._module===h),p=h&&"function"==typeof h.transform;h||j.warn("Unrecognized transform type "+f+"."),h&&h.supplyDefaults&&(d||p)?((u=h.supplyDefaults(c,e,n,t)).type=f,u._module=h,j.pushUnique(i,h)):u=j.extendFlat({},c),s.push(u)}}},L.supplyLayoutGlobalDefaults=function(n,r,t){function e(t,e){return j.coerce(n,r,L.layoutAttributes,t,e)}var i=n.template;j.isPlainObject(i)&&(r.template=i,r._template=i.layout,r._dataTemplate=i.data),e("autotypenumbers");i=j.coerceFont(e,"font");e("title.text",r._dfltTitle.plot),j.coerceFont(e,"title.font",{family:i.family,size:Math.round(1.4*i.size),color:i.color}),e("title.xref"),e("title.yref"),e("title.x"),e("title.y"),e("title.xanchor"),e("title.yanchor"),e("title.pad.t"),e("title.pad.r"),e("title.pad.b"),e("title.pad.l"),e("uniformtext.mode")&&e("uniformtext.minsize"),e("autosize",!(n.width&&n.height)),e("width"),e("height"),e("margin.l"),e("margin.r"),e("margin.t"),e("margin.b"),e("margin.pad"),e("margin.autoexpand"),n.width&&n.height&&L.sanitizeMargins(r),O.getComponentMethod("grid","sizeDefaults")(n,r),e("paper_bgcolor"),e("separators",t.decimal+t.thousands),e("hidesources"),e("colorway"),e("datarevision");i=e("uirevision");e("editrevision",i),e("selectionrevision",i),e("modebar.orientation"),e("modebar.bgcolor",g.addOpacity(r.paper_bgcolor,.5));t=g.contrast(g.rgb(r.modebar.bgcolor));e("modebar.color",g.addOpacity(t,.3)),e("modebar.activecolor",g.addOpacity(t,.7)),e("modebar.uirevision",i),O.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(n,r,e),e("meta"),j.isPlainObject(n.transition)&&(e("transition.duration"),e("transition.easing"),e("transition.ordering")),O.getComponentMethod("calendars","handleDefaults")(n,r,"calendar"),O.getComponentMethod("fx","supplyLayoutGlobalDefaults")(n,r,e)},L.plotAutoSize=function(t,e,n){var r,i,o=t._context||{},a=o.frameMargins,s=j.isPlotDiv(t);s&&t.emit("plotly_autosize"),o.fillFrame?(r=window.innerWidth,i=window.innerHeight,document.body.style.overflow="hidden"):(r=u((s=s?window.getComputedStyle(t):{}).width)||u(s.maxWidth)||n.width,i=u(s.height)||u(s.maxHeight)||n.height,E(a)&&0<a&&(l=1-2*a,r=Math.round(l*r),i=Math.round(l*i)));var a=L.layoutAttributes.width.min,l=L.layoutAttributes.height.min;r<a&&(r=a),i<l&&(i=l);l=!e.width&&1<Math.abs(n.width-r),e=!e.height&&1<Math.abs(n.height-i);(e||l)&&(l&&(n.width=r),e&&(n.height=i)),t._initialAutoSize||(t._initialAutoSize={width:r,height:i}),L.sanitizeMargins(n)},L.supplyLayoutModuleDefaults=function(t,e,n,r){var i,o,a,s=O.componentsRegistry,l=e._basePlotModules,u=O.subplotsRegistry.cartesian;for(i in s)(o=s[i]).includeBasePlot&&o.includeBasePlot(t,e);for(a in l.length||l.push(u),e._has("cartesian")&&(O.getComponentMethod("grid","contentDefaults")(t,e),u.finalizeSubplots(t,e)),e._subplots)e._subplots[a].sort(j.subplotSort);for(f=0;f<l.length;f++)(o=l[f]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,n);for(var c=e._modules,f=0;f<c.length;f++)(o=c[f]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,n);var h=e._transformModules;for(f=0;f<h.length;f++)(o=h[f]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,n,r);for(i in s)(o=s[i]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,n)},L.purge=function(t){var e=t._fullLayout||{};void 0!==e._glcontainer&&(e._glcontainer.selectAll(".gl-canvas").remove(),e._glcontainer.remove(),e._glcanvas=null),e._modeBar&&e._modeBar.destroy(),t._transitionData&&(t._transitionData._interruptCallbacks&&(t._transitionData._interruptCallbacks.length=0),t._transitionData._animationRaf&&window.cancelAnimationFrame(t._transitionData._animationRaf)),j.clearThrottle(),j.clearResponsive(t),delete t.data,delete t.layout,delete t._fullData,delete t._fullLayout,delete t.calcdata,delete t.framework,delete t.empty,delete t.fid,delete t.undoqueue,delete t.undonum,delete t.autoplay,delete t.changed,delete t._promises,delete t._redrawTimer,delete t._hmlumcount,delete t._hmpixcount,delete t._transitionData,delete t._transitioning,delete t._initialAutoSize,delete t._transitioningWithDuration,delete t._dragging,delete t._dragged,delete t._dragdata,delete t._hoverdata,delete t._snapshotInProgress,delete t._editing,delete t._mouseDownTime,delete t._legendMouseDownTime,t.removeAllListeners&&t.removeAllListeners()},L.style=function(t){for(var e=t._fullLayout._visibleModules,n=[],r=0;r<e.length;r++){var i=e[r];i.style&&j.pushUnique(n,i.style)}for(r=0;r<n.length;r++)n[r](t)},L.sanitizeMargins=function(t){var e,n,r,i,o;t&&t.margin&&(e=t.width,n=t.height,i=e-((r=t.margin).l+r.r),t=n-(r.t+r.b),i<0&&(o=(e-1)/(r.l+r.r),r.l=Math.floor(o*r.l),r.r=Math.floor(o*r.r)),t<0&&(o=(n-1)/(r.t+r.b),r.t=Math.floor(o*r.t),r.b=Math.floor(o*r.b)))},L.clearAutoMarginIds=function(t){t._fullLayout._pushmarginIds={}},L.allowAutoMargin=function(t,e){t._fullLayout._pushmarginIds[e]=1};L.autoMargin=function(t,e,n){var r,i,o=t._fullLayout,a=o.width,s=o.height,l=o.margin,u=j.constrain(a-l.l-l.r,2,64),c=j.constrain(s-l.t-l.b,2,64),f=Math.max(0,a-u),a=Math.max(0,s-c),u=o._pushmargin,s=o._pushmarginIds;if(!1!==l.autoexpand&&(n?(void 0===(c=n.pad)&&(c=Math.min(12,l.l,l.r,l.t,l.b)),!f||1<(r=(n.l+n.r)/f)&&(n.l/=r,n.r/=r),!a||1<(i=(n.t+n.b)/a)&&(n.t/=i,n.b/=i),f=void 0!==n.xl?n.xl:n.x,r=void 0!==n.xr?n.xr:n.x,a=void 0!==n.yt?n.yt:n.y,i=void 0!==n.yb?n.yb:n.y,u[e]={l:{val:f,size:n.l+c},r:{val:r,size:n.r+c},b:{val:i,size:n.b+c},t:{val:a,size:n.t+c}},s[e]=1):(delete u[e],delete s[e]),!o._replotting))return L.doAutoMargin(t)},L.doAutoMargin=function(r){var t=r._fullLayout,e=t.width,n=t.height;t._size||(t._size={}),F(t);var i=t._size,o=t.margin,a=j.extendFlat({},i),s=o.l,l=o.r,u=o.t,c=o.b,f=t._pushmargin,h=t._pushmarginIds;if(!1!==t.margin.autoexpand){for(var d in f)h[d]||delete f[d];for(var p in f.base={l:{val:0,size:s},r:{val:1,size:l},t:{val:1,size:u},b:{val:0,size:c}},f){var g,m,y,v,b,x=f[p].l||{},_=f[p].b||{},w=x.val,k=x.size,T=_.val,M=_.size;for(g in f)E(k)&&f[g].r&&(b=f[g].r.val,m=f[g].r.size,w<b&&(s+l<(y=(k*b+(m-e)*w)/(b-w))+(v=(m*(1-w)+(k-e)*(1-b))/(b-w))&&(s=y,l=v))),E(M)&&f[g].t&&(b=f[g].t.val,y=f[g].t.size,T<b&&(c+u<(v=(M*b+(y-n)*T)/(b-T))+(b=(y*(1-T)+(M-n)*(1-b))/(b-T))&&(c=v,u=b)))}}var A=j.constrain(e-o.l-o.r,2,64),S=j.constrain(n-o.t-o.b,2,64),A=Math.max(0,e-A),S=Math.max(0,n-S);if(!A||1<(A=(s+l)/A)&&(s/=A,l/=A),!S||1<(S=(c+u)/S)&&(c/=S,u/=S),i.l=Math.round(s),i.r=Math.round(l),i.t=Math.round(u),i.b=Math.round(c),i.p=Math.round(o.pad),i.w=Math.round(e)-i.l-i.r,i.h=Math.round(n)-i.t-i.b,!t._replotting&&L.didMarginChange(a,i)){"_redrawFromAutoMarginCount"in t?t._redrawFromAutoMarginCount++:t._redrawFromAutoMarginCount=1;i=3*(1+Object.keys(h).length);if(t._redrawFromAutoMarginCount<i)return O.call("plot",r);t._size=a,j.warn("Too many auto-margin redraws.")}!function(){for(var t=P.list(r,"",!0),e=0;e<t.length;e++){var n=t[e]._hideOutOfRangeInsideTickLabels;n&&n()}}()};var s=["l","r","t","b","p","w","h"];function r(i,o,a){var s=!1;var t=[L.previousPromises,function(){if(i._transitionData)return i._transitioning=!1,function(t){var e=Promise.resolve();if(!t)return e;for(;t.length;)e=e.then(t.shift());return e}(i._transitionData._interruptCallbacks)},a.prepareFn,L.rehover,function(){return i.emit("plotly_transitioning",[]),new Promise(function(e){i._transitioning=!0,0<o.duration&&(i._transitioningWithDuration=!0),i._transitionData._interruptCallbacks.push(function(){s=!0}),a.redraw&&i._transitionData._interruptCallbacks.push(function(){return O.call("redraw",i)}),i._transitionData._interruptCallbacks.push(function(){i.emit("plotly_transitioninterrupted",[])});var n=0,r=0;function t(){return n++,function(){var t;r++,s||r!==n||(t=e,i._transitionData&&(function(t){if(t)for(;t.length;)t.shift()}(i._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(a.redraw)return O.call("redraw",i)}).then(function(){i._transitioning=!1,i._transitioningWithDuration=!1,i.emit("plotly_transitioned",[])}).then(t)))}}a.runFn(t),setTimeout(t())})}],t=j.syncOrAsync(t,i);return t&&t.then||(t=Promise.resolve()),t.then(function(){return i})}L.didMarginChange=function(t,e){for(var n=0;n<s.length;n++){var r=s[n],i=t[r],r=e[r];if(!E(i)||1<Math.abs(r-i))return!0}return!1},L.graphJson=function(t,e,o,n,r,i){(r&&e&&!t._fullData||r&&!e&&!t._fullLayout)&&L.supplyDefaults(t);var a=r?t._fullData:t.data,s=r?t._fullLayout:t.layout,l=(t._transitionData||{})._frames;function u(e,n){if("function"==typeof e)return n?"_function_":null;if(j.isPlainObject(e)){var r,i={};return Object.keys(e).sort().forEach(function(t){if(-1===["_","["].indexOf(t.charAt(0)))if("function"!=typeof e[t]){if("keepdata"===o){if("src"===t.substr(t.length-3))return}else if("keepstream"===o){if(r=e[t+"src"],"string"==typeof r&&0<r.indexOf(":")&&!j.isPlainObject(e.stream))return}else if("keepall"!==o&&"string"==typeof(r=e[t+"src"])&&0<r.indexOf(":"))return;i[t]=u(e[t],n)}else n&&(i[t]="_function")}),i}return Array.isArray(e)?e.map(function(t){return u(t,n)}):j.isTypedArray(e)?j.simpleMap(e,j.identity):j.isJSDate(e)?j.ms2DateTimeLocal(+e):e}a={data:(a||[]).map(function(t){t=u(t);return e&&delete t.fit,t})};return e||(a.layout=u(s),r&&(s=s._size,a.layout.computed={margin:{b:s.b,l:s.l,r:s.r,t:s.t}})),t.framework&&t.framework.isPolar&&(a=t.framework.getConfig()),l&&(a.frames=u(l)),i&&(a.config=u(t._context,!0)),"object"===n?a:JSON.stringify(a)},L.modifyFrames=function(t,e){for(var n,r,i=t._transitionData._frames,o=t._transitionData._frameHash,a=0;a<e.length;a++)switch((n=e[a]).type){case"replace":r=n.value;var s=(i[n.index]||{}).name,l=r.name;i[n.index]=o[l]=r,l!==s&&(delete o[s],o[l]=r);break;case"insert":o[(r=n.value).name]=r,i.splice(n.index,0,r);break;case"delete":delete o[(r=i[n.index]).name],i.splice(n.index,1)}return Promise.resolve()},L.computeFrame=function(t,e){var n,r,i,o,a=t._transitionData._frameHash;if(!e)throw new Error("computeFrame must be given a string frame name");var s=a[e.toString()];if(!s)return!1;for(var l=[s],u=[s.name];s.baseframe&&(s=a[s.baseframe.toString()])&&-1===u.indexOf(s.name);)l.push(s),u.push(s.name);for(var c={};s=l.pop();)if(s.layout&&(c.layout=L.extendLayout(c.layout,s.layout)),s.data){if(c.data||(c.data=[]),!(r=s.traces))for(r=[],n=0;n<s.data.length;n++)r[n]=n;for(c.traces||(c.traces=[]),n=0;n<s.data.length;n++)null!=(i=r[n])&&(-1===(o=c.traces.indexOf(i))&&(o=c.data.length,c.traces[o]=i),c.data[o]=L.extendTrace(c.data[o],s.data[n]))}return c},L.recomputeFrameHash=function(t){for(var e=t._transitionData._frameHash={},n=t._transitionData._frames,r=0;r<n.length;r++){var i=n[r];i&&i.name&&(e[i.name]=i)}},L.extendObjectWithContainers=function(t,e,n){var r,i,o,a,s,l,u,e=j.extendDeepNoArrays({},e||{}),c=j.expandObjectPaths(e),f={};if(n&&n.length)for(o=0;o<n.length;o++)void 0===(i=(r=j.nestedProperty(c,n[o])).get())?j.nestedProperty(f,n[o]).set(null):(r.set(null),j.nestedProperty(f,n[o]).set(i));if(t=j.extendDeepNoArrays(t||{},c),n&&n.length)for(o=0;o<n.length;o++)if(l=j.nestedProperty(f,n[o]).get()){for(u=(s=j.nestedProperty(t,n[o])).get(),Array.isArray(u)||(u=[],s.set(u)),a=0;a<l.length;a++){var h=l[a];u[a]=null===h?null:L.extendObjectWithContainers(u[a],h)}s.set(u)}return t},L.dataArrayContainers=["transforms","dimensions"],L.layoutArrayContainers=O.layoutArrayContainers,L.extendTrace=function(t,e){return L.extendObjectWithContainers(t,e,L.dataArrayContainers)},L.extendLayout=function(t,e){return L.extendObjectWithContainers(t,e,L.layoutArrayContainers)},L.transition=function(x,_,w,k,t,s){var t={redraw:t.redraw},T={},M=[];return t.prepareFn=function(){for(var t=Array.isArray(_)?_.length:0,e=k.slice(0,t),n=0;n<e.length;n++){var r=e[n],i=x._fullData[r]._module;i&&(i.animatable&&(i=i.basePlotModule.name,T[i]||(T[i]=[]),T[i].push(r)),x.data[e[n]]=L.extendTrace(x.data[e[n]],_[n]))}var o,a=j.expandObjectPaths(j.extendDeepNoArrays({},w)),s=/^[xy]axis[0-9]*$/;for(o in a)s.test(o)&&delete a[o].range;L.extendLayout(x.layout,a),delete x.calcdata,L.supplyDefaults(x),L.doCalcdata(x);var l=j.expandObjectPaths(w);if(l){var u,c=x._fullLayout._plots;for(u in c){var f=c[u],h=f.xaxis,d=f.yaxis,p=h.range.slice(),g=d.range.slice(),m=null,y=null,v=null,b=null;Array.isArray(l[h._name+".range"])?m=l[h._name+".range"].slice():Array.isArray((l[h._name]||{}).range)&&(m=l[h._name].range.slice()),Array.isArray(l[d._name+".range"])?y=l[d._name+".range"].slice():Array.isArray((l[d._name]||{}).range)&&(y=l[d._name].range.slice()),p&&m&&(h.r2l(p[0])!==h.r2l(m[0])||h.r2l(p[1])!==h.r2l(m[1]))&&(v={xr0:p,xr1:m}),g&&y&&(d.r2l(g[0])!==d.r2l(y[0])||d.r2l(g[1])!==d.r2l(y[1]))&&(b={yr0:g,yr1:y}),(v||b)&&M.push(j.extendFlat({plotinfo:f},v,b))}}return Promise.resolve()},t.runFn=function(t){var e,n,r,i=x._fullLayout._basePlotModules,o=M.length;if(w)for(n=0;n<i.length;n++)i[n].transitionAxes&&i[n].transitionAxes(x,M,s,t);for(r in o?((e=j.extendFlat({},s)).duration=0,delete T.cartesian):e=s,T){var a=T[r];x._fullData[a[0]]._module.basePlotModule.plot(x,a,e,t)}},r(x,s,t)},L.transitionFromReact=function(c,f,h,d){var p=c._fullLayout,g=p.transition,m={},y=[];return m.prepareFn=function(){var t,e=p._plots;for(t in m.redraw=!1,"some"===f.anim&&(m.redraw=!0),"some"===h.anim&&(m.redraw=!0),e){var n=e[t],r=n.xaxis,i=n.yaxis,o=d[r._name].range.slice(),a=d[i._name].range.slice(),s=r.range.slice(),l=i.range.slice();r.setScale(),i.setScale();var u=null,c=null;r.r2l(o[0])===r.r2l(s[0])&&r.r2l(o[1])===r.r2l(s[1])||(u={xr0:o,xr1:s}),i.r2l(a[0])===i.r2l(l[0])&&i.r2l(a[1])===i.r2l(l[1])||(c={yr0:a,yr1:l}),(u||c)&&y.push(j.extendFlat({plotinfo:n},u,c))}return Promise.resolve()},m.runFn=function(e){for(var n,r,i,t=c._fullData,o=c._fullLayout._basePlotModules,a=[],s=0;s<t.length;s++)a.push(s);function l(){for(var t=0;t<o.length;t++)o[t].transitionAxes&&o[t].transitionAxes(c,y,n,e)}function u(){for(var t=0;t<o.length;t++)o[t].plot(c,i,r,e)}y.length&&f.anim?"traces first"===g.ordering?(n=j.extendFlat({},g,{duration:0}),i=a,r=g,setTimeout(l,g.duration),u()):(n=g,i=null,r=j.extendFlat({},g,{duration:0}),setTimeout(u,n.duration),l()):y.length?(n=g,l()):f.anim&&(i=a,r=g,u())},r(c,g,m)},L.doCalcdata=function(r,t){var i,o,a,e=P.list(r),s=r._fullData,n=r._fullLayout,l=new Array(s.length),u=(r.calcdata||[]).slice();for(r.calcdata=l,n._numBoxes=0,n._numViolins=0,n._violinScaleGroupStats={},r._hmpixcount=0,r._hmlumcount=0,n._piecolormap={},n._sunburstcolormap={},n._treemapcolormap={},n._funnelareacolormap={},h=0;h<s.length;h++)Array.isArray(t)&&-1===t.indexOf(h)&&(l[h]=u[h]);for(h=0;h<s.length;h++)(i=s[h])._arrayAttrs=y.findArrayAttributes(i),i._extremes={};for(var c,f=n._subplots.polar||[],h=0;h<f.length;h++)e.push(n[f[h]].radialaxis,n[f[h]].angularaxis);for(c in n._colorAxes){var d=n[c];!1!==d.cauto&&(delete d.cmin,delete d.cmax)}var p=!1;function g(t,e){if(i=s[t],!!(o=i._module).isContainer===e){e=[];if(!0===i.visible&&0!==i._length){delete i._indexToPoints;var n=i.transforms||[];for(a=n.length-1;0<=a;a--)if(n[a].enabled){i._indexToPoints=n[a]._indexToPoints;break}o&&o.calc&&(e=o.calc(r,i))}Array.isArray(e)&&e[0]||(e=[{x:v,y:v}]),e[0].t||(e[0].t={}),e[0].trace=i,l[t]=e}}for(b(e,s,n),h=0;h<s.length;h++)g(h,!0);for(h=0;h<s.length;h++)!function(t){if(i=s[t],o=i._module,!0===i.visible&&i.transforms)for(o&&o.calc&&((t=o.calc(r,i))[0]&&t[0].t&&t[0].t._scene&&delete t[0].t._scene.dirty),a=0;a<i.transforms.length;a++){var e=i.transforms[a];(o=T[e.type])&&o.calcTransform&&(i._hasCalcTransform=!0,p=!0,o.calcTransform(r,i,e))}}(h);for(p&&b(e,s,n),h=0;h<s.length;h++)g(h,!0);for(h=0;h<s.length;h++)g(h,!1);x(r);var m=function(t,a){var e,n,r,i,o,s=[];var l,u,c={min:function(t){return j.aggNums(Math.min,null,t)},max:function(t){return j.aggNums(Math.max,null,t)},sum:function(t){return j.aggNums(function(t,e){return t+e},null,t)},total:function(t){return j.aggNums(function(t,e){return t+e},null,t)},mean:function(t){return j.mean(t)},median:function(t){return j.median(t)}};for(e=0;e<t.length;e++){var f=t[e];if("category"===f.type){var h=f.categoryorder.match(z);if(h){var d=h[1],h=h[2],p=f._id.charAt(0),g="x"===p,m=[];for(n=0;n<f._categories.length;n++)m.push([f._categories[n],[]]);for(n=0;n<f._traceIndices.length;n++){var y=f._traceIndices[n],v=a._fullData[y];if(!0===v.visible){var b=v.type;O.traceIs(v,"histogram")&&(delete v._xautoBinFinished,delete v._yautoBinFinished);var x="splom"===b,_="scattergl"===b,w=a.calcdata[y];for(r=0;r<w.length;r++){var k=w[r];if(x){var T,M=v._axesDim[f._id];g||(T=v._diag[M][0])&&(f=a._fullLayout[P.id2name(T)]);var A,S=k.trace.dimensions[M].values;for(i=0;i<S.length;i++)for(l=f._categoriesMap[S[i]],o=0;o<k.trace.dimensions.length;o++)o!==M&&(A=k.trace.dimensions[o],m[l][1].push(A.values[i]))}else if(_){for(i=0;i<k.t.x.length;i++)u=g?(l=k.t.x[i],k.t.y[i]):(l=k.t.y[i],k.t.x[i]),m[l][1].push(u);k.t&&k.t._scene&&delete k.t._scene.dirty}else if(k.hasOwnProperty("z")){u=k.z;var E=function(t,e,n){var r=e._id.charAt(0);if("histogram2dcontour"!==t)return function(t,e){return"y"===r?e:t};var t=e._counterAxes[0],e=P.getFromId(a,t),i="x"===r||"x"===t&&"category"===e.type,o="y"===r||"y"===t&&"category"===e.type;return function(t,e){return 0===t||0===e||i&&t===n[e].length-1||o&&e===n.length-1?-1:("y"===r?e:t)-1}}(v.type,f,u);for(i=0;i<u.length;i++)for(o=0;o<u[i].length;o++)(l=E(o,i))+1&&m[l][1].push(u[i][o])}else for(void 0===(l=k.p)&&(l=k[p]),void 0===(u=k.s)&&(u=k.v),void 0===u&&(u=g?k.y:k.x),Array.isArray(u)||(u=void 0===u?[]:[u]),i=0;i<u.length;i++)m[l][1].push(u[i])}}}f._categoriesValue=m;var C=[];for(n=0;n<m.length;n++)C.push([m[n][0],c[d](m[n][1])]);C.sort(function(t,e){return t[1]-e[1]}),f._categoriesAggregatedValue=C,f._initialCategories=C.map(function(t){return t[0]}),"descending"===h&&f._initialCategories.reverse(),s=s.concat(f.sortByInitialCategories())}}}return s}(e,r);if(m.length){for(n._numBoxes=0,h=n._numViolins=0;h<m.length;h++)g(m[h],!0);for(h=0;h<m.length;h++)g(m[h],!1);x(r)}O.getComponentMethod("fx","calc")(r),O.getComponentMethod("errorbars","calc")(r)};var z=/(total|sum|min|max|mean|median) (ascending|descending)/;function b(t,e,n){var r={};function i(t){t.clearCalc(),"multicategory"===t.type&&t.setupMultiCategory(e),r[t._id]=1}j.simpleMap(t,i);for(var o=n._axisMatchGroups||[],a=0;a<o.length;a++)for(var s in o[a])r[s]||i(n[P.id2name(s)])}function x(t){var e,n,r=t._fullLayout,i=r._visibleModules,o={};for(h=0;h<i.length;h++){var a=i[h],s=a.crossTraceCalc;s&&(o[a=a.basePlotModule.name]?j.pushUnique(o[a],s):o[a]=[s])}for(n in o){var l=o[n],u=r._subplots[n];if(Array.isArray(u))for(e=0;e<u.length;e++)for(var c=u[e],f=("cartesian"===n?r._plots:r)[c],h=0;h<l.length;h++)l[h](t,f,c);else for(h=0;h<l.length;h++)l[h](t)}}L.rehover=function(t){t._fullLayout._rehover&&t._fullLayout._rehover()},L.redrag=function(t){t._fullLayout._redrag&&t._fullLayout._redrag()},L.generalUpdatePerTraceModule=function(t,e,n,r){for(var i,o,a,s=e.traceHash,l={},u=0;u<n.length;u++){var c=n[u],f=c[0].trace;f.visible&&(l[f.type]=l[f.type]||[],l[f.type].push(c))}for(i in s)l[i]||((o=s[i][0])[0].trace.visible=!1,l[i]=[o]);for(a in l){var h=l[a];h[0][0].trace._module.plot(t,e,j.filterVisible(h),r)}e.traceHash=l},L.plotBasePlot=function(t,e,n,r,i){var o=O.getModule(t),t=a(e.calcdata,o)[0];o.plot(e,t,r,i)},L.cleanBasePlot=function(t,e,n,r,i){var o=i._has&&i._has(t),n=n._has&&n._has(t);o&&!n&&i["_"+t+"layer"].selectAll("g.trace").remove()}},{"../components/color":646,"../constants/numerical":754,"../lib":776,"../plot_api/plot_schema":811,"../plot_api/plot_template":812,"../plots/get_data":853,"../registry":877,"./animation_attributes":817,"./attributes":819,"./cartesian/axis_ids":826,"./cartesian/handle_outline":833,"./command":849,"./font_attributes":851,"./frame_attributes":852,"./layout_attributes":866,d3:629,"d3-time-format":627,"fast-isnumeric":450}],869:[function(t,e,n){"use strict";var r=t("../../../traces/scatter/attributes"),i=r.marker,t=t("../../../lib/extend").extendFlat;["Area traces are deprecated!","Please switch to the *barpolar* trace type."].join(" ");e.exports={r:t({},r.r,{}),t:t({},r.t,{}),marker:{color:t({},i.color,{}),size:t({},i.size,{}),symbol:t({},i.symbol,{}),opacity:t({},i.opacity,{}),editType:"calc"}}},{"../../../lib/extend":769,"../../../traces/scatter/attributes":929}],870:[function(t,e,n){"use strict";var r=t("../../cartesian/layout_attributes"),i=t("../../../lib/extend").extendFlat,t=t("../../../plot_api/edit_types").overrideAll,o=["Legacy polar charts are deprecated!","Please switch to *polar* subplots."].join(" "),r=i({},r.domain,{});function a(t,e){return i({},e,{showline:{valType:"boolean"},showticklabels:{valType:"boolean"},tickorientation:{valType:"enumerated",values:["horizontal","vertical"]},ticklen:{valType:"number",min:0},tickcolor:{valType:"color"},ticksuffix:{valType:"string"},endpadding:{valType:"number",description:o},visible:{valType:"boolean"}})}e.exports=t({radialaxis:a(0,{range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},domain:r,orientation:{valType:"number"}}),angularaxis:a(0,{range:{valType:"info_array",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}]},domain:r}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"]},orientation:{valType:"angle"}}},"plot","nested")},{"../../../lib/extend":769,"../../../plot_api/edit_types":805,"../../cartesian/layout_attributes":837}],871:[function(t,e,n){"use strict";(e.exports=t("./micropolar")).manager=t("./micropolar_manager")},{"./micropolar":872,"./micropolar_manager":873}],872:[function(t,e,n){var U=t("d3"),H=t("../../../lib").extendDeepAll,q=t("../../../constants/alignment").MID_SHIFT,V=e.exports={version:"0.2.2"};V.Axis=function(){var I,e,F,z,n={data:[],layout:{}},t={},B={},r=U.dispatch("hover"),i={};return i.render=function(t){return function(t){e=t||e;var t=n.data,D=n.layout;"string"!=typeof e&&!e.nodeName||(e=U.select(e)),e.datum(t).each(function(t,e){var n=t.slice();B={data:V.util.cloneJson(n),layout:V.util.cloneJson(D)};var r=0;n.forEach(function(t,e){t.color||(t.color=D.defaultColorRange[r],r=(r+1)%D.defaultColorRange.length),t.strokeColor||(t.strokeColor="LinePlot"===t.geometry?t.color:U.rgb(t.color).darker().toString()),B.data[e].color=t.color,B.data[e].strokeColor=t.strokeColor,B.data[e].strokeDash=t.strokeDash,B.data[e].strokeSize=t.strokeSize});var i,o=n.filter(function(t,e){t=t.visible;return void 0===t||!0===t}),a=!1,t=o.map(function(t,e){return a=a||void 0!==t.groupId,t});a&&(h=U.nest().key(function(t,e){return void 0!==t.groupId?t.groupId:"unstacked"}).entries(t),i=[],d=h.map(function(t,e){if("unstacked"===t.key)return t.values;var r=t.values[0].r.map(function(t,e){return 0});return t.values.forEach(function(t,e,n){t.yStack=[r],i.push(r),r=V.util.sumArrays(t.r,r)}),t.values}),o=U.merge(d)),o.forEach(function(t,e){t.t=Array.isArray(t.t[0])?t.t:[t.t],t.r=Array.isArray(t.r[0])?t.r:[t.r]});var s=Math.min(D.width-D.margin.left-D.margin.right,D.height-D.margin.top-D.margin.bottom)/2;s=Math.max(10,s);var l=[D.margin.left+s,D.margin.top+s];n=a?[0,U.max(V.util.sumArrays(V.util.arrayLast(o).r[0],V.util.arrayLast(i)))]:U.extent(V.util.flattenArray(o.map(function(t,e){return t.r}))),D.radialAxis.domain!=V.DATAEXTENT&&(n[0]=0),F=U.scale.linear().domain(D.radialAxis.domain!=V.DATAEXTENT&&D.radialAxis.domain?D.radialAxis.domain:n).range([0,s]),B.layout.radialAxis.domain=F.domain();var u,c=V.util.flattenArray(o.map(function(t,e){return t.t})),f="string"==typeof c[0];f&&(c=V.util.deduplicate(c),u=c.slice(),c=U.range(c.length),o=o.map(function(t,e){var n=t;return t.t=[c],a&&(n.yStack=t.yStack),n}));var t=o.filter(function(t,e){return"LinePlot"===t.geometry||"DotPlot"===t.geometry}).length===o.length,h=null===D.needsEndSpacing?f||!t:D.needsEndSpacing,d=D.angularAxis.domain&&D.angularAxis.domain!=V.DATAEXTENT&&!f&&0<=D.angularAxis.domain[0]?D.angularAxis.domain:U.extent(c),n=Math.abs(c[1]-c[0]);t&&!f&&(n=0);t=d.slice();h&&f&&(t[1]+=n);d=D.angularAxis.ticksCount||4;8<d&&(d=d/(d/8)+d%8),D.angularAxis.ticksStep&&(d=(t[1]-t[0])/d);d=D.angularAxis.ticksStep||(t[1]-t[0])/(d*(D.minorTicks+1));u&&(d=Math.max(Math.round(d),1)),t[2]||(t[2]=d);d=(d=U.range.apply(this,t)).map(function(t,e){return parseFloat(t.toPrecision(12))});z=U.scale.linear().domain(t.slice(0,2)).range("clockwise"===D.direction?[0,360]:[360,0]),B.layout.angularAxis.domain=z.domain(),B.layout.angularAxis.endPadding=h?n:0,void 0!==(I=U.select(this).select("svg.chart-root"))&&!I.empty()||(g=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>","application/xml"),m=this.appendChild(this.ownerDocument.importNode(g.documentElement,!0)),I=U.select(m)),I.select(".guides-group").style({"pointer-events":"none"}),I.select(".angular.axis-group").style({"pointer-events":"none"}),I.select(".radial.axis-group").style({"pointer-events":"none"});var p,g=I.select(".chart-group"),m={fill:"none",stroke:D.tickColor},y={"font-size":D.font.size,"font-family":D.font.family,fill:D.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(t,e){return" "+t+" 0 "+D.font.outlineColor}).join(",")};D.showLegend?(p=I.select(".legend-group").attr({transform:"translate("+[s,D.margin.top]+")"}).style({display:"block"}),v=o.map(function(t,e){var n=V.util.cloneJson(t);return n.symbol="DotPlot"===t.geometry?t.dotType||"circle":"LinePlot"!=t.geometry?"square":"line",n.visibleInLegend=void 0===t.visibleInLegend||t.visibleInLegend,n.color="LinePlot"===t.geometry?t.strokeColor:t.color,n}),V.Legend().config({data:o.map(function(t,e){return t.name||"Element"+e}),legendConfig:H({},V.Legend.defaultConfig().legendConfig,{container:p,elements:v,reverseOrder:D.legend.reverseOrder})})(),v=p.node().getBBox(),s=Math.min(D.width-v.width-D.margin.left-D.margin.right,D.height-D.margin.top-D.margin.bottom)/2,s=Math.max(10,s),l=[D.margin.left+s,D.margin.top+s],F.range([0,s]),B.layout.radialAxis.domain=F.domain(),p.attr("transform","translate("+[l[0]+s,l[1]-s]+")")):p=I.select(".legend-group").style({display:"none"}),I.attr({width:D.width,height:D.height}).style({opacity:D.opacity}),g.attr("transform","translate("+l+")").style({cursor:"crosshair"});var v,b=[(D.width-(D.margin.left+D.margin.right+2*s+(v?v.width:0)))/2,(D.height-(D.margin.top+D.margin.bottom+2*s))/2];b[0]=Math.max(0,b[0]),b[1]=Math.max(0,b[1]),I.select(".outer-group").attr("transform","translate("+b+")"),D.title&&D.title.text&&(x=(v=I.select("g.title-group text").style(y).text(D.title.text)).node().getBBox(),v.attr({x:l[0]-x.width/2,y:l[1]-s-20}));var x=I.select(".radial.axis-group");D.radialAxis.gridLinesVisible&&((_=x.selectAll("circle.grid-circle").data(F.ticks(5))).enter().append("circle").attr({class:"grid-circle"}).style(m),_.attr("r",F),_.exit().remove()),x.select("circle.outside-circle").attr({r:s}).style(m);var _,w=I.select("circle.background-circle").attr({r:s}).style({fill:D.backgroundColor,stroke:D.stroke});function k(t){return z(t)%360+D.orientation}D.radialAxis.visible&&(_=U.svg.axis().scale(F).ticks(5).tickSize(5),x.call(_).attr({transform:"rotate("+D.radialAxis.orientation+")"}),x.selectAll(".domain").style(m),x.selectAll("g>text").text(function(t,e){return this.textContent+D.radialAxis.ticksSuffix}).style(y).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(t,e){return"horizontal"===D.radialAxis.tickOrientation?"rotate("+-D.radialAxis.orientation+") translate("+[0,y["font-size"]]+")":"translate("+[0,y["font-size"]]+")"}}),x.selectAll("g>line").style({stroke:"black"}));x=I.select(".angular.axis-group").selectAll("g.angular-tick").data(d),d=x.enter().append("g").classed("angular-tick",!0);x.attr({transform:function(t,e){return"rotate("+k(t)+")"}}).style({display:D.angularAxis.visible?"block":"none"}),x.exit().remove(),d.append("line").classed("grid-line",!0).classed("major",function(t,e){return e%(D.minorTicks+1)==0}).classed("minor",function(t,e){return!(e%(D.minorTicks+1)==0)}).style(m),d.selectAll(".minor").style({stroke:D.minorTickColor}),x.select("line.grid-line").attr({x1:D.tickLength?s-D.tickLength:0,x2:s}).style({display:D.angularAxis.gridLinesVisible?"block":"none"}),d.append("text").classed("axis-text",!0).style(y);x=x.select("text.axis-text").attr({x:s+D.labelOffset,dy:q+"em",transform:function(t,e){var n=k(t),r=s+D.labelOffset,t=D.angularAxis.tickOrientation;return"horizontal"==t?"rotate("+-n+" "+r+" 0)":"radial"==t?n<270&&90<n?"rotate(180 "+r+" 0)":null:"rotate("+(n<=180&&0<n?-90:90)+" "+r+" 0)"}}).style({"text-anchor":"middle",display:D.angularAxis.labelsVisible?"block":"none"}).text(function(t,e){return e%(D.minorTicks+1)!=0?"":u?u[t]+D.angularAxis.ticksSuffix:t+D.angularAxis.ticksSuffix}).style(y);D.angularAxis.rewriteTicks&&x.text(function(t,e){return e%(D.minorTicks+1)!=0?"":D.angularAxis.rewriteTicks(this.textContent,e)});x=U.max(g.selectAll(".angular-tick text")[0].map(function(t,e){return t.getCTM().e+t.getBBox().width}));p.attr({transform:"translate("+[s+x,D.margin.top]+")"});var T,M,x=0<I.select("g.geometry-group").selectAll("g").size(),A=I.select("g.geometry-group").selectAll("g.geometry").data(o);A.enter().append("g").attr({class:function(t,e){return"geometry geometry"+e}}),A.exit().remove(),(o[0]||x)&&(T=[],o.forEach(function(t,n){var e={};e.radialScale=F,e.angularScale=z,e.container=A.filter(function(t,e){return e==n}),e.geometry=t.geometry,e.orientation=D.orientation,e.direction=D.direction,e.index=n,T.push({data:t,geometryConfig:e})}),j=U.nest().key(function(t,e){return void 0!==t.data.groupId||"unstacked"}).entries(T),M=[],j.forEach(function(t,e){"unstacked"===t.key?M=M.concat(t.values.map(function(t,e){return[t]})):M.push(t.values)}),M.forEach(function(t,e){var n=(Array.isArray(t)?t[0]:t).geometryConfig.geometry,t=t.map(function(t,e){return H(V[n].defaultConfig(),t)});V[n]().config(t)()}));var S,E,C,O=I.select(".guides-group"),j=I.select(".tooltips-group"),P=V.tooltipPanel().config({container:j,fontSize:8})(),N=V.tooltipPanel().config({container:j,fontSize:8})(),L=V.tooltipPanel().config({container:j,hasTick:!0})();f||(C=O.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"}),g.on("mousemove.angular-guide",function(t,e){var n=V.util.getMousePos(w).angle;C.attr({x2:-s,transform:"rotate("+n+")"}).style({opacity:.5});var r=(n+180+360-D.orientation)%360;S=z.invert(r);n=V.util.convertToCartesian(s+12,n+180);P.text(V.util.round(S)).move([n[0]+l[0],n[1]+l[1]])}).on("mouseout.angular-guide",function(t,e){O.select("line").style({opacity:0})}));var R=O.select("circle").style({stroke:"grey",fill:"none"});g.on("mousemove.radial-guide",function(t,e){var n=V.util.getMousePos(w).radius;R.attr({r:n}).style({opacity:.5}),E=F.invert(V.util.getMousePos(w).radius);n=V.util.convertToCartesian(n,D.radialAxis.orientation);N.text(V.util.round(E)).move([n[0]+l[0],n[1]+l[1]])}).on("mouseout.radial-guide",function(t,e){R.style({opacity:0}),L.hide(),P.hide(),N.hide()}),I.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(t,e){var n,r=U.select(this),i=this.style.fill,o="black",a=this.style.opacity||1;r.attr({"data-opacity":a}),i&&"none"!==i?(r.attr({"data-fill":i}),o=U.hsl(i).darker().toString(),r.style({fill:o,opacity:1}),n={t:V.util.round(t[0]),r:V.util.round(t[1])},f&&(n.t=u[t[0]]),a="t: "+n.t+", r: "+n.r,t=this.getBoundingClientRect(),n=I.node().getBoundingClientRect(),n=[t.left+t.width/2-b[0]-n.left,t.top+t.height/2-b[1]-n.top],L.config({color:o}).text(a),L.move(n)):(i=this.style.stroke||"black",r.attr({"data-stroke":i}),o=U.hsl(i).darker().toString(),r.style({stroke:o,opacity:1}))}).on("mousemove.tooltip",function(t,e){return 0==U.event.which&&void(U.select(this).attr("data-fill")&&L.show())}).on("mouseout.tooltip",function(t,e){L.hide();var n=U.select(this),r=n.attr("data-fill");r?n.style({fill:r,opacity:n.attr("data-opacity")}):n.style({stroke:n.attr("data-stroke"),opacity:n.attr("data-opacity")})})})}(t),this},i.config=function(t){if(!arguments.length)return n;var e=V.util.cloneJson(t);return e.data.forEach(function(t,e){n.data[e]||(n.data[e]={}),H(n.data[e],V.Axis.defaultConfig().data[0]),H(n.data[e],t)}),H(n.layout,V.Axis.defaultConfig().layout),H(n.layout,e.layout),this},i.getLiveConfig=function(){return B},i.getinputConfig=function(){return t},i.radialScale=function(t){return F},i.angularScale=function(t){return z},i.svg=function(){return I},U.rebind(i,r,"on"),i},V.Axis.defaultConfig=function(t,e){return{data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:U.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}}},V.util={},V.DATAEXTENT="dataExtent",V.AREA="AreaChart",V.LINE="LinePlot",V.DOT="DotPlot",V.BAR="BarChart",V.util._override=function(t,e){for(var n in t)n in e&&(e[n]=t[n])},V.util._extend=function(t,e){for(var n in t)e[n]=t[n]},V.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},V.util.dataFromEquation2=function(r,t){t=t||6;return U.range(0,360+t,t).map(function(t,e){var n=t*Math.PI/180;return[t,r(n)]})},V.util.dataFromEquation=function(r,t,e){var t=t||6,i=[],o=[];U.range(0,360+t,t).forEach(function(t,e){var n=t*Math.PI/180,n=r(n);i.push(t),o.push(n)});t={t:i,r:o};return e&&(t.name=e),t},V.util.ensureArray=function(t,e){if(void 0===t)return null;var n=[].concat(t);return U.range(e).map(function(t,e){return n[e]||n[0]})},V.util.fillArrays=function(n,t,r){return t.forEach(function(t,e){n[t]=V.util.ensureArray(n[t],r)}),n},V.util.cloneJson=function(t){return JSON.parse(JSON.stringify(t))},V.util.validateKeys=function(t,e){"string"==typeof e&&(e=e.split("."));var n=e.shift();return t[n]&&(!e.length||objHasKeys(t[n],e))},V.util.sumArrays=function(t,e){return U.zip(t,e).map(function(t,e){return U.sum(t)})},V.util.arrayLast=function(t){return t[t.length-1]},V.util.arrayEqual=function(t,e){for(var n=Math.max(t.length,e.length,1);0<=n--&&t[n]===e[n];);return-2===n},V.util.flattenArray=function(t){for(var e=[];!V.util.arrayEqual(e,t);)e=t,t=[].concat.apply([],t);return t},V.util.deduplicate=function(t){return t.filter(function(t,e,n){return n.indexOf(t)==e})},V.util.convertToCartesian=function(t,e){e=e*Math.PI/180;return[t*Math.cos(e),t*Math.sin(e)]},V.util.round=function(t,e){e=e||2,e=Math.pow(10,e);return Math.round(t*e)/e},V.util.getMousePos=function(t){var e=U.mouse(t.node()),n=e[0],r=e[1],t={};return t.x=n,t.y=r,t.pos=e,t.angle=180*(Math.atan2(r,n)+Math.PI)/Math.PI,t.radius=Math.sqrt(n*n+r*r),t},V.util.duplicatesCount=function(t){for(var e,n={},r={},i=0,o=t.length;i<o;i++)(e=t[i])in n?(n[e]++,r[e]=n[e]):n[e]=1;return r},V.util.duplicates=function(t){return Object.keys(V.util.duplicatesCount(t))},V.util.translator=function(t,r,i,e){e&&(e=i.slice(),i=r,r=e);var o=r.reduce(function(t,e){if(void 0!==t)return t[e]},t);void 0!==o&&(r.reduce(function(t,e,n){if(void 0!==t)return n===r.length-1&&delete t[e],t[e]},t),i.reduce(function(t,e,n){return void 0===t[e]&&(t[e]={}),n===i.length-1&&(t[e]=o),t[e]},t))},V.PolyChart=function(){var n=[V.PolyChart.defaultConfig()],t=U.dispatch("hover"),p={solid:"none",dash:[5,2],dot:[2,5]};function e(){var d=n[0].geometryConfig,t=d.container;"string"==typeof t&&(t=U.select(t)),t.datum(n).each(function(o,t){var n=!!o[0].data.yStack,a=o.map(function(t,e){return n?U.zip(t.data.t[0],t.data.r[0],t.data.yStack[0]):U.zip(t.data.t[0],t.data.r[0])}),i=d.angularScale,e=d.radialScale.domain()[0],s={bar:function(t,e,n){var r=o[n].data,n=d.radialScale(t[1])-d.radialScale(0),t=d.radialScale(t[2]||0),r=r.barWidth;U.select(this).attr({class:"mark bar",d:"M"+[[n+t,-r/2],[n+t,r/2],[t,r/2],[t,-r/2]].join("L")+"Z",transform:function(t,e){return"rotate("+(d.orientation+i(t[0]))+")"}})}};s.dot=function(t,e,n){var i=t[2]?[t[0],t[1]+t[2]]:t,e=U.svg.symbol().size(o[n].data.dotSize).type(o[n].data.dotType)(t,e);U.select(this).attr({class:"mark dot",d:e,transform:function(t,e){var n,r,r=(n=i,r=d.radialScale(n[1]),n=(d.angularScale(n[0])+d.orientation)*Math.PI/180,n=(r={r:r,t:n}).r*Math.cos(r.t),r=r.r*Math.sin(r.t),{x:n,y:r});return"translate("+[r.x,r.y]+")"}})};var l=U.svg.line.radial().interpolate(o[0].data.lineInterpolation).radius(function(t){return d.radialScale(t[1])}).angle(function(t){return d.angularScale(t[0])*Math.PI/180});s.line=function(n,r,i){var t,e=n[2]?a[i].map(function(t,e){return[t[0],t[1]+t[2]]}):a[i];U.select(this).each(s.dot).style({opacity:function(t,e){return+o[i].data.dotVisible},fill:f.stroke(n,r,i)}).attr({class:"mark dot"}),0<r||((t=U.select(this.parentNode).selectAll("path.line").data([0])).enter().insert("path"),t.attr({class:"line",d:l(e),transform:function(t,e){return"rotate("+(d.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(t,e){return f.fill(n,r,i)},"fill-opacity":0,stroke:function(t,e){return f.stroke(n,r,i)},"stroke-width":function(t,e){return f["stroke-width"](n,r,i)},"stroke-dasharray":function(t,e){return f["stroke-dasharray"](n,r,i)},opacity:function(t,e){return f.opacity(n,r,i)},display:function(t,e){return f.display(n,r,i)}}))};var r=d.angularScale.range(),u=Math.abs(r[1]-r[0])/a[0].length*Math.PI/180,c=U.svg.arc().startAngle(function(t){return-u/2}).endAngle(function(t){return u/2}).innerRadius(function(t){return d.radialScale(e+(t[2]||0))}).outerRadius(function(t){return d.radialScale(e+(t[2]||0))+d.radialScale(t[1])});s.arc=function(t,e,n){U.select(this).attr({class:"mark arc",d:c,transform:function(t,e){return"rotate("+(d.orientation+i(t[0])+90)+")"}})};var f={fill:function(t,e,n){return o[n].data.color},stroke:function(t,e,n){return o[n].data.strokeColor},"stroke-width":function(t,e,n){return o[n].data.strokeSize+"px"},"stroke-dasharray":function(t,e,n){return p[o[n].data.strokeDash]},opacity:function(t,e,n){return o[n].data.opacity},display:function(t,e,n){return void 0===o[n].data.visible||o[n].data.visible?"block":"none"}},h=U.select(this).selectAll("g.layer").data(a);h.enter().append("g").attr({class:"layer"});r=h.selectAll("path.mark").data(function(t,e){return t});r.enter().append("path").attr({class:"mark"}),r.style(f).each(s[d.geometryType]),r.exit().remove(),h.exit().remove()})}return e.config=function(t){return arguments.length?(t.forEach(function(t,e){n[e]||(n[e]={}),H(n[e],V.PolyChart.defaultConfig()),H(n[e],t)}),this):n},e.getColorScale=function(){},U.rebind(e,t,"on"),e},V.PolyChart.defaultConfig=function(){return{data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:U.scale.category20()}}},V.BarChart=function(){return V.PolyChart()},V.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},V.AreaChart=function(){return V.PolyChart()},V.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},V.DotPlot=function(){return V.PolyChart()},V.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},V.LinePlot=function(){return V.PolyChart()},V.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},V.Legend=function(){var f=V.Legend.defaultConfig(),t=U.dispatch("hover");function h(){var i=f.legendConfig,t=f.data.map(function(t,r){return[].concat(t).map(function(t,e){var n=H({},i.elements[r]);return n.name=t,n.color=[].concat(i.elements[r].color)[e],n})}),n=(n=U.merge(t)).filter(function(t,e){return i.elements[e]&&(i.elements[e].visibleInLegend||void 0===i.elements[e].visibleInLegend)});i.reverseOrder&&(n=n.reverse());var e=i.container;"string"!=typeof e&&!e.nodeName||(e=U.select(e));var r=n.map(function(t,e){return t.color}),o=i.fontSize,a=null==i.isContinuous?"number"==typeof n[0]:i.isContinuous,s=a?i.height:o*n.length,t=e.classed("legend-group",!0).selectAll("svg").data([0]),e=t.enter().append("svg").attr({width:300,height:s+o,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});e.append("g").classed("legend-axis",!0),e.append("g").classed("legend-marks",!0);var e=U.range(n.length),l=U.scale[a?"linear":"ordinal"]().domain(e).range(r),u=U.scale[a?"linear":"ordinal"]().domain(e)[a?"range":"rangePoints"]([0,s]);a?((s=t.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(r)).enter().append("stop"),s.attr({offset:function(t,e){return e/(r.length-1)*100+"%"}}).style({"stop-color":function(t,e){return t}}),t.append("rect").classed("legend-mark",!0).attr({height:i.height,width:i.colorBandWidth,fill:"url(#grad1)"})):((c=t.select(".legend-marks").selectAll("path.legend-mark").data(n)).enter().append("path").classed("legend-mark",!0),c.attr({transform:function(t,e){return"translate("+[o/2,u(e)+o/2]+")"},d:function(t,e){var n,r=t.symbol;return t=3*(n=o),"line"===(r=r)?"M"+[[-n/2,-n/12],[n/2,-n/12],[n/2,n/12],[-n/2,n/12]]+"Z":(-1!=U.svg.symbolTypes.indexOf(r)?U.svg.symbol().type(r):U.svg.symbol().type("square")).size(t)()},fill:function(t,e){return l(e)}}),c.exit().remove());var c=U.svg.axis().scale(u).orient("right"),c=t.select("g.legend-axis").attr({transform:"translate("+[a?i.colorBandWidth:o,o/2]+")"}).call(c);return c.selectAll(".domain").style({fill:"none",stroke:"none"}),c.selectAll("line").style({fill:"none",stroke:a?i.textColor:"none"}),c.selectAll("text").style({fill:i.textColor,"font-size":i.fontSize}).text(function(t,e){return n[e].name}),h}return h.config=function(t){return arguments.length?(H(f,t),this):f},U.rebind(h,t,"on"),h},V.Legend.defaultConfig=function(t,e){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},V.tooltipPanel=function(){var i,o,a,s={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},e="tooltip-"+V.tooltipPanel.uid++,l=10,u=function(){var t=(i=s.container.selectAll("g."+e).data([0])).enter().append("g").classed(e,!0).style({"pointer-events":"none",display:"none"});return a=t.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),o=t.append("text").attr({dx:s.padding+l,dy:.3*+s.fontSize}),u};return u.text=function(t){var e=U.hsl(s.color).l,n=.5<=e?"#aaa":"white",r=.5<=e?"black":"white",e=t||"";o.style({fill:r,"font-size":s.fontSize+"px"}).text(e);t=s.padding,r=o.node().getBBox(),e={fill:s.color,stroke:n,"stroke-width":"2px"},n=r.width+2*t+l,r=r.height+2*t;return a.attr({d:"M"+[[l,-r/2],[l,-r/4],[s.hasTick?0:l,0],[l,r/4],[l,r/2],[n,r/2],[n,-r/2]].join("L")+"Z"}).style(e),i.attr({transform:"translate("+[l,-r/2+2*t]+")"}),i.style({display:"block"}),u},u.move=function(t){if(i)return i.attr({transform:"translate("+[t[0],t[1]]+")"}).style({display:"block"}),u},u.hide=function(){if(i)return i.style({display:"none"}),u},u.show=function(){if(i)return i.style({display:"block"}),u},u.config=function(t){return H(s,t),u},u},V.tooltipPanel.uid=1,V.adapter={},V.adapter.plotly=function(){var t={convert:function(t,n){var r,i,o,a,s={};return t.data&&(s.data=t.data.map(function(t,e){t=H({},t);return[[t,["marker","color"],["color"]],[t,["marker","opacity"],["opacity"]],[t,["marker","line","color"],["strokeColor"]],[t,["marker","line","dash"],["strokeDash"]],[t,["marker","line","width"],["strokeSize"]],[t,["marker","symbol"],["dotType"]],[t,["marker","size"],["dotSize"]],[t,["marker","barWidth"],["barWidth"]],[t,["line","interpolation"],["lineInterpolation"]],[t,["showlegend"],["visibleInLegend"]]].forEach(function(t,e){V.util.translator.apply(null,t.concat(n))}),n||delete t.marker,n&&delete t.groupId,n?("LinePlot"===t.geometry?(t.type="scatter",!0===t.dotVisible?(delete t.dotVisible,t.mode="lines+markers"):t.mode="lines"):"DotPlot"===t.geometry?(t.type="scatter",t.mode="markers"):"AreaChart"===t.geometry?t.type="area":"BarChart"===t.geometry&&(t.type="bar"),delete t.geometry):("scatter"===t.type?"lines"===t.mode?t.geometry="LinePlot":"markers"===t.mode?t.geometry="DotPlot":"lines+markers"===t.mode&&(t.geometry="LinePlot",t.dotVisible=!0):"area"===t.type?t.geometry="AreaChart":"bar"===t.type&&(t.geometry="BarChart"),delete t.mode,delete t.type),t}),!n&&t.layout&&"stack"===t.layout.barmode&&(r=V.util.duplicates(s.data.map(function(t,e){return t.geometry})),s.data.forEach(function(t,e){t=r.indexOf(t.geometry);-1!=t&&(s.data[e].groupId=t)}))),t.layout&&([[t=H({},t.layout),["plot_bgcolor"],["backgroundColor"]],[t,["showlegend"],["showLegend"]],[t,["radialaxis"],["radialAxis"]],[t,["angularaxis"],["angularAxis"]],[t.angularaxis,["showline"],["gridLinesVisible"]],[t.angularaxis,["showticklabels"],["labelsVisible"]],[t.angularaxis,["nticks"],["ticksCount"]],[t.angularaxis,["tickorientation"],["tickOrientation"]],[t.angularaxis,["ticksuffix"],["ticksSuffix"]],[t.angularaxis,["range"],["domain"]],[t.angularaxis,["endpadding"],["endPadding"]],[t.radialaxis,["showline"],["gridLinesVisible"]],[t.radialaxis,["tickorientation"],["tickOrientation"]],[t.radialaxis,["ticksuffix"],["ticksSuffix"]],[t.radialaxis,["range"],["domain"]],[t.angularAxis,["showline"],["gridLinesVisible"]],[t.angularAxis,["showticklabels"],["labelsVisible"]],[t.angularAxis,["nticks"],["ticksCount"]],[t.angularAxis,["tickorientation"],["tickOrientation"]],[t.angularAxis,["ticksuffix"],["ticksSuffix"]],[t.angularAxis,["range"],["domain"]],[t.angularAxis,["endpadding"],["endPadding"]],[t.radialAxis,["showline"],["gridLinesVisible"]],[t.radialAxis,["tickorientation"],["tickOrientation"]],[t.radialAxis,["ticksuffix"],["ticksSuffix"]],[t.radialAxis,["range"],["domain"]],[t.font,["outlinecolor"],["outlineColor"]],[t.legend,["traceorder"],["reverseOrder"]],[t,["labeloffset"],["labelOffset"]],[t,["defaultcolorrange"],["defaultColorRange"]]].forEach(function(t,e){V.util.translator.apply(null,t.concat(n))}),n?(void 0!==t.tickLength&&(t.angularaxis.ticklen=t.tickLength,delete t.tickLength),t.tickColor&&(t.angularaxis.tickcolor=t.tickColor,delete t.tickColor)):(t.angularAxis&&void 0!==t.angularAxis.ticklen&&(t.tickLength=t.angularAxis.ticklen),t.angularAxis&&void 0!==t.angularAxis.tickcolor&&(t.tickColor=t.angularAxis.tickcolor)),t.legend&&"boolean"!=typeof t.legend.reverseOrder&&(t.legend.reverseOrder="normal"!=t.legend.reverseOrder),t.legend&&"boolean"==typeof t.legend.traceorder&&(t.legend.traceorder=t.legend.traceorder?"reversed":"normal",delete t.legend.reverseOrder),t.margin&&void 0!==t.margin.t&&(i=["t","r","b","l","pad"],o=["top","right","bottom","left","pad"],a={},U.entries(t.margin).forEach(function(t,e){a[o[i.indexOf(t.key)]]=t.value}),t.margin=a),n&&(delete t.needsEndSpacing,delete t.minorTickColor,delete t.minorTicks,delete t.angularaxis.ticksCount,delete t.angularaxis.ticksCount,delete t.angularaxis.ticksStep,delete t.angularaxis.rewriteTicks,delete t.angularaxis.nticks,delete t.radialaxis.ticksCount,delete t.radialaxis.ticksCount,delete t.radialaxis.ticksStep,delete t.radialaxis.rewriteTicks,delete t.radialaxis.nticks),s.layout=t),s}};return t}},{"../../../constants/alignment":748,"../../../lib":776,d3:629}],873:[function(t,e,n){"use strict";var u=t("d3"),r=t("../../../lib"),i=t("../../../components/color"),c=t("./micropolar"),f=t("./undo_manager"),h=r.extendDeepAll,d=e.exports={};d.framework=function(n){var i,o,r,a,s,l=new f;function t(t,e){return e&&(s=e),u.select(u.select(s).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),i=i?h(i,t):t,r=r||c.Axis(),a=c.adapter.plotly().convert(i),r.config(a).render(s),n.data=i.data,n.layout=i.layout,d.fillLayout(n),i}return t.isPolar=!0,t.svg=function(){return r.svg()},t.getConfig=function(){return i},t.getLiveConfig=function(){return c.adapter.plotly().convert(r.getLiveConfig(),!0)},t.getLiveScales=function(){return{t:r.angularScale(),r:r.radialScale()}},t.setUndoPoint=function(){var t,e,n=this,r=c.util.cloneJson(i);t=r,e=o,l.add({undo:function(){e&&n(e)},redo:function(){n(t)}}),o=c.util.cloneJson(r)},t.undo=function(){l.undo()},t.redo=function(){l.redo()},t},d.fillLayout=function(t){var e=u.select(t).selectAll(".plot-container"),n=e.selectAll(".svg-container"),r=t.framework&&t.framework.svg&&t.framework.svg(),r={width:800,height:600,paper_bgcolor:i.background,_container:e,_paperdiv:n,_paper:r};t._fullLayout=h(r,t.layout)}},{"../../../components/color":646,"../../../lib":776,"./micropolar":872,"./undo_manager":874,d3:629}],874:[function(t,e,n){"use strict";e.exports=function(){var e,n=[],r=-1,i=!1;function o(t,e){return t&&(i=!0,t[e](),i=!1),this}return{add:function(t){return i||(n.splice(r+1,n.length-r),n.push(t),r=n.length-1),this},setCallback:function(t){e=t},undo:function(){var t=n[r];return t&&(o(t,"undo"),--r,e&&e(t.undo)),this},redo:function(){var t=n[r+1];return t&&(o(t,"redo"),r+=1,e&&e(t.redo)),this},clear:function(){n=[],r=-1},hasUndo:function(){return-1!==r},hasRedo:function(){return r<n.length-1},getCommands:function(){return n},getPreviousCommand:function(){return n[r-1]},getIndex:function(){return r}}}},{}],875:[function(t,e,n){"use strict";var y=t("../lib"),v=t("../plot_api/plot_template"),b=t("./domain").defaults;e.exports=function(t,e,n,r){var i=r.type,o=r.attributes,a=r.handleDefaults,s=r.partition||"x",l=e._subplots[i],u=l.length,c=u&&l[0].replace(/\d+$/,"");function f(t,e){return y.coerce(p,g,o,t,e)}for(var h=0;h<u;h++){var d=l[h],p=t[d]||(t[d]={}),g=v.newContainer(e,d,c);f("uirevision",e.uirevision);var m={};m[s]=[h/u,(h+1)/u],b(g,e,f,m),r.id=d,a(p,g,f,r)}}},{"../lib":776,"../plot_api/plot_template":812,"./domain":850}],876:[function(t,e,n){"use strict";['Variables are inserted using %{variable}, for example "y: %{y}".','Numbers are formatted using d3-format\'s syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".',t("../constants/docs").FORMAT_LINK,"for details on the formatting syntax.",'Dates are formatted using d3-time-format\'s syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".',t("../constants/docs").DATE_FORMAT_LINK,"for details on the date formatting syntax."].join(" ");function r(t){var e=t.description?" "+t.description:"",n=t.keys||[];if(0<n.length){for(var r=[],i=0;i<n.length;i++)r[i]="`"+n[i]+"`";e+="Finally, the template string has access to ",e=1===n.length?"variable "+r[0]:"variables "+r.slice(0,-1).join(", ")+" and "+r.slice(-1)+"."}return e}n.hovertemplateAttrs=function(t,e){t=t||{};r(e=e||{});e={valType:"string",dflt:"",editType:t.editType||"none"};return!1!==t.arrayOk&&(e.arrayOk=!0),e},n.texttemplateAttrs=function(t,e){t=t||{};r(e=e||{});e={valType:"string",dflt:"",editType:t.editType||"calc"};return!1!==t.arrayOk&&(e.arrayOk=!0),e}},{"../constants/docs":750}],877:[function(t,e,f){"use strict";var h=t("./lib/loggers"),n=t("./lib/noop"),d=t("./lib/push_unique"),p=t("./lib/is_plain_object"),g=t("./lib/dom").addStyleRule,r=t("./lib/extend"),i=t("./plots/attributes"),m=t("./plots/layout_attributes"),y=r.extendFlat,v=r.extendDeepAll;function b(t){if(t.layoutAttributes){var e=t.layoutAttributes._arrayAttrRegexps;if(e)for(var n=0;n<e.length;n++)d(f.layoutArrayRegexes,e[n])}}function x(t,e){t=f.componentsRegistry[t].schema;t&&t.traces&&((t=t.traces[e])&&v(f.modules[e]._module.attributes,t))}function _(t,e){t=f.componentsRegistry[t].schema;t&&t.transforms&&((t=t.transforms[e])&&v(f.transformsRegistry[e].attributes,t))}function w(t,e){var n=f.componentsRegistry[t].schema;n&&n.subplots&&(e=(t=f.subplotsRegistry[e]).layoutAttributes,t="subplot"===t.attr?t.name:t.attr,Array.isArray(t)&&(t=t[0]),t=n.subplots[t],e&&t&&v(e,t))}function o(t){return"object"==typeof t&&(t=t.type),t}f.modules={},f.allCategories={},f.allTypes=[],f.subplotsRegistry={},f.transformsRegistry={},f.componentsRegistry={},f.layoutArrayContainers=[],f.layoutArrayRegexes=[],f.traceLayoutAttributes={},f.localeRegistry={},f.apiMethodRegistry={},f.collectableSubplotTypes=null,f.register=function(t){if(f.collectableSubplotTypes=null,!t)throw new Error("No argument passed to Plotly.register.");t&&!Array.isArray(t)&&(t=[t]);for(var e,n,r,i,o,a,s,l=0;l<t.length;l++){var u=t[l];if(!u)throw new Error("Invalid module was attempted to be registered!");switch(u.moduleType){case"trace":!function(t){var e=t.name,n=t.categories,r=t.meta;if(f.modules[e])return h.log("Type "+e+" already registered");f.subplotsRegistry[t.basePlotModule.name]||function(t){var e,n=t.name;if(f.subplotsRegistry[n])return h.log("Plot type "+n+" already registered.");for(e in b(t),f.subplotsRegistry[n]=t,f.componentsRegistry)w(e,t.name)}(t.basePlotModule);for(var i,o={},a=0;a<n.length;a++)o[n[a]]=!0,f.allCategories[n[a]]=!0;for(i in f.modules[e]={_module:t,categories:o},r&&Object.keys(r).length&&(f.modules[e].meta=r),f.allTypes.push(e),f.componentsRegistry)x(i,e);if(t.layoutAttributes&&y(f.traceLayoutAttributes,t.layoutAttributes),r=t.basePlotModule,"mapbox"===(t=r.name)){var s,l=r.constants.styleRules;for(s in l)g(".js-plotly-plot .plotly .mapboxgl-"+s,l[s])}"geo"!==t&&"mapbox"!==t||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}(u);break;case"transform":!function(t){if("string"!=typeof t.name)throw new Error("Transform module *name* must be a string.");var e,n="Transform module "+t.name,r="function"==typeof t.transform,i="function"==typeof t.calcTransform;if(!r&&!i)throw new Error(n+" is missing a *transform* or *calcTransform* method.");for(e in r&&i&&h.log([n+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),p(t.attributes)||h.log(n+" registered without an *attributes* object."),"function"!=typeof t.supplyDefaults&&h.log(n+" registered without a *supplyDefaults* method."),f.transformsRegistry[t.name]=t,f.componentsRegistry)_(e,t.name)}(u);break;case"component":!function(t){if("string"!=typeof t.name)throw new Error("Component module *name* must be a string.");var e,n,r,i=t.name;for(e in(f.componentsRegistry[i]=t).layoutAttributes&&(t.layoutAttributes._isLinkedToArray&&d(f.layoutArrayContainers,i),b(t)),f.modules)x(i,e);for(n in f.subplotsRegistry)w(i,n);for(r in f.transformsRegistry)_(i,r);t.schema&&t.schema.layout&&v(m,t.schema.layout)}(u);break;case"locale":s=a=o=c=i=r=n=void 0,n=(e=u).name,r=n.split("-")[0],i=e.dictionary,c=e.format,o=i&&Object.keys(i).length,a=c&&Object.keys(c).length,s=f.localeRegistry,(e=s[n])||(s[n]=e={}),r!==n&&((n=s[r])||(s[r]=n={}),o&&n.dictionary===e.dictionary&&(n.dictionary=i),a&&n.format===e.format&&(n.format=c)),o&&(e.dictionary=i),!void(a&&(e.format=c));break;case"apiMethod":var c=u.name;f.apiMethodRegistry[c]=u.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},f.getModule=function(t){t=f.modules[o(t)];return!!t&&t._module},f.traceIs=function(t,e){if("various"===(t=o(t)))return!1;var n=f.modules[t];return n||(t&&"area"!==t&&h.log("Unrecognized trace type "+t+"."),n=f.modules[i.type.dflt]),!!n.categories[e]},f.getTransformIndices=function(t,e){for(var n=[],r=t.transforms||[],i=0;i<r.length;i++)r[i].type===e&&n.push(i);return n},f.hasTransform=function(t,e){for(var n=t.transforms||[],r=0;r<n.length;r++)if(n[r].type===e)return!0;return!1},f.getComponentMethod=function(t,e){t=f.componentsRegistry[t];return t&&t[e]||n},f.call=function(){var t=arguments[0],e=[].slice.call(arguments,1);return f.apiMethodRegistry[t].apply(null,e)}},{"./lib/dom":767,"./lib/extend":769,"./lib/is_plain_object":777,"./lib/loggers":780,"./lib/noop":785,"./lib/push_unique":789,"./plots/attributes":819,"./plots/layout_attributes":866}],878:[function(t,e,n){"use strict";var d=t("../registry"),t=t("../lib"),p=t.extendFlat,g=t.extendDeep;function m(t){var e;switch(t){case"themes__thumb":e={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":e={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:e={}}return e}e.exports=function(t,e){t.framework&&t.framework.isPolar&&(t=t.framework.getConfig());var n,r=t.data,i=t.layout,o=g([],r),a=g({},i,m(e.tileClass)),i=t._context||{};if(e.width&&(a.width=e.width),e.height&&(a.height=e.height),"thumbnail"===e.tileClass||"themes__thumb"===e.tileClass){a.annotations=[];for(var s=Object.keys(a),l=0;l<s.length;l++)n=s[l],-1<["xaxis","yaxis","zaxis"].indexOf(n.slice(0,5))&&(a[s[l]].title={text:""});for(l=0;l<o.length;l++){var u=o[l];u.showscale=!1,u.marker&&(u.marker.showscale=!1),d.traceIs(u,"pie-like")&&(u.textposition="none")}}if(Array.isArray(e.annotations))for(l=0;l<e.annotations.length;l++)a.annotations.push(e.annotations[l]);var c=Object.keys(a).filter(function(t){return t.match(/^scene\d*$/)});if(c.length){var f={};for("thumbnail"===e.tileClass&&(f={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),l=0;l<c.length;l++){var h=a[c[l]];h.xaxis||(h.xaxis={}),h.yaxis||(h.yaxis={}),h.zaxis||(h.zaxis={}),p(h.xaxis,f),p(h.yaxis,f),p(h.zaxis,f),h._scene=null}}t=document.createElement("div");e.tileClass&&(t.className=e.tileClass);i={gd:t,td:t,layout:a,data:o,config:{staticPlot:void 0===e.staticPlot||e.staticPlot,plotGlPixelRatio:void 0===e.plotGlPixelRatio?2:e.plotGlPixelRatio,displaylogo:e.displaylogo||!1,showLink:e.showLink||!1,showTips:e.showTips||!1,mapboxAccessToken:i.mapboxAccessToken}};return"transparent"!==e.setBackground&&(i.config.setBackground=e.setBackground||"opaque"),i.gd.defaultLayout=m(e.tileClass),i}},{"../lib":776,"../registry":877}],879:[function(t,e,n){"use strict";var s=t("../lib"),l=t("../plot_api/to_image"),u=t("./filesaver"),c=t("./helpers");e.exports=function(i,o){var a;return s.isPlainObject(i)||(a=s.getGraphDiv(i)),(o=o||{}).format=o.format||"png",o.width=o.width||null,o.height=o.height||null,o.imageDataOnly=!0,new Promise(function(e,n){a&&a._snapshotInProgress&&n(new Error("Snapshotting already in progress.")),s.isIE()&&"svg"!==o.format&&n(new Error(c.MSG_IE_BAD_FORMAT)),a&&(a._snapshotInProgress=!0);var t=l(i,o),r=o.filename||i.fn||"newplot";r+="."+o.format.replace("-","."),t.then(function(t){return a&&(a._snapshotInProgress=!1),u(t,r,o.format)}).then(function(t){e(t)}).catch(function(t){a&&(a._snapshotInProgress=!1),n(t)})})}},{"../lib":776,"../plot_api/to_image":815,"./filesaver":880,"./helpers":881}],880:[function(t,e,n){"use strict";var u=t("../lib"),c=t("./helpers");e.exports=function(i,o,a){var s=document.createElement("a"),l="download"in s;return new Promise(function(t,e){var n;if(u.isIE9orBelow()&&e(new Error("IE < 10 unsupported")),u.isSafari()){var r="svg"===a?",":";base64,";return c.octetStream(r+encodeURIComponent(i)),t(o)}return u.isIE()?(n=c.createBlob(i,"svg"),window.navigator.msSaveBlob(n,o),n=null,t(o)):l?(n=c.createBlob(i,a),r=c.createObjectURL(n),s.href=r,s.download=o,document.body.appendChild(s),s.click(),document.body.removeChild(s),c.revokeObjectURL(r),n=null,t(o)):void e(new Error("download error"))})}},{"../lib":776,"./helpers":881}],881:[function(t,e,n){"use strict";var r=t("../registry");n.getDelay=function(t){return t._has&&(t._has("gl3d")||t._has("gl2d")||t._has("mapbox"))?500:0},n.getRedrawFunc=function(e){return function(){var t=e._fullLayout||{};!(t._has&&t._has("polar"))&&e.data&&e.data[0]&&e.data[0].r||r.getComponentMethod("colorbar","draw")(e)}},n.encodeSVG=function(t){return"data:image/svg+xml,"+encodeURIComponent(t)},n.encodeJSON=function(t){return"data:application/json,"+encodeURIComponent(t)};var i=window.URL||window.webkitURL;n.createObjectURL=function(t){return i.createObjectURL(t)},n.revokeObjectURL=function(t){return i.revokeObjectURL(t)},n.createBlob=function(t,e){if("svg"===e)return new window.Blob([t],{type:"image/svg+xml;charset=utf-8"});if("full-json"===e)return new window.Blob([t],{type:"application/json;charset=utf-8"});t=function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}(window.atob(t));return new window.Blob([t],{type:"image/"+e})},n.octetStream=function(t){document.location.href="data:application/octet-stream"+t},n.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,n.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":877}],882:[function(t,e,n){"use strict";var r=t("./helpers"),t={getDelay:r.getDelay,getRedrawFunc:r.getRedrawFunc,clone:t("./cloneplot"),toSVG:t("./tosvg"),svgToImg:t("./svgtoimg"),toImage:t("./toimage"),downloadImage:t("./download")};e.exports=t},{"./cloneplot":878,"./download":879,"./helpers":881,"./svgtoimg":883,"./toimage":884,"./tosvg":885}],883:[function(t,e,n){"use strict";var v=t("../lib"),r=t("events").EventEmitter,b=t("./helpers");e.exports=function(g){var m=g.emitter||new r,y=new Promise(function(n,r){var t=window.Image,e=g.svg,i=g.format||"png";if(v.isIE()&&"svg"!==i){var o=new Error(b.MSG_IE_BAD_FORMAT);return r(o),g.promise?y:m.emit("error",o)}var a,s=g.canvas,l=g.scale||1,u=g.width||300,o=g.height||150,c=l*u,f=l*o,h=s.getContext("2d"),d=new t,p="svg"===i||v.isIE9orBelow()||v.isSafari()?b.encodeSVG(e):(a=b.createBlob(e,"svg"),b.createObjectURL(a));s.width=c,s.height=f,d.onload=function(){var t;switch(a=null,b.revokeObjectURL(p),"svg"!==i&&h.drawImage(d,0,0,c,f),i){case"jpeg":t=s.toDataURL("image/jpeg");break;case"png":t=s.toDataURL("image/png");break;case"webp":t=s.toDataURL("image/webp");break;case"svg":t=p;break;default:var e="Image format is not jpeg, png, svg or webp.";if(r(new Error(e)),!g.promise)return m.emit("error",e)}n(t),g.promise||m.emit("success",t)},d.onerror=function(t){if(a=null,b.revokeObjectURL(p),r(t),!g.promise)return m.emit("error",t)},d.src=p});return g.promise?y:m}},{"../lib":776,"./helpers":881,events:448}],884:[function(t,e,n){"use strict";var o=t("events").EventEmitter,a=t("../registry"),s=t("../lib"),l=t("./helpers"),u=t("./cloneplot"),c=t("./tosvg"),f=t("./svgtoimg");e.exports=function(t,n){var r=new o,e=u(t,{format:"png"}),i=e.gd;return i.style.position="absolute",i.style.left="-5000px",document.body.appendChild(i),t=l.getRedrawFunc(i),a.call("plot",i,e.data,e.layout,e.config).then(t).then(function(){var t=l.getDelay(i._fullLayout);setTimeout(function(){var t=c(i),e=document.createElement("canvas");e.id=s.randstr(),(r=f({format:n.format,width:i._fullLayout.width,height:i._fullLayout.height,canvas:e,emitter:r,svg:t})).clean=function(){i&&document.body.removeChild(i)}},t)}).catch(function(t){r.emit("error",t)}),r}},{"../lib":776,"../registry":877,"./cloneplot":878,"./helpers":881,"./svgtoimg":883,"./tosvg":885,events:448}],885:[function(t,e,n){"use strict";var m=t("d3"),y=t("../lib"),v=t("../components/drawing"),b=t("../components/color"),x=t("../constants/xmlns_namespaces"),_=/"/g,w="TOBESTRIPPED",k=new RegExp('("'+w+")|("+w+'")',"g");e.exports=function(t,e,n){var r=t._fullLayout,i=r._paper,o=r._toppaper,a=r.width,s=r.height;i.insert("rect",":first-child").call(v.setRect,0,0,a,s).call(b.fill,r.paper_bgcolor);var l=r._basePlotModules||[];for(f=0;f<l.length;f++){var u=l[f];u.toSVG&&u.toSVG(t)}if(o)for(var o=o.node().childNodes,c=Array.prototype.slice.call(o),f=0;f<c.length;f++){var h=c[f];h.childNodes.length&&i.node().appendChild(h)}if(r._draggers&&r._draggers.remove(),i.node().style.background="",i.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var t,e=m.select(this);"hidden"!==this.style.visibility&&"none"!==this.style.display?(e.style({visibility:null,display:null}),(t=this.style.fontFamily)&&-1!==t.indexOf('"')&&e.style("font-family",t.replace(_,w))):e.remove()}),r._gradientUrlQueryParts){var d,p=[];for(d in r._gradientUrlQueryParts)p.push(d);p.length&&i.selectAll(p.join(",")).each(function(){var t=m.select(this),e=this.style.fill;e&&-1!==e.indexOf("url(")&&t.style("fill",e.replace(_,w));e=this.style.stroke;e&&-1!==e.indexOf("url(")&&t.style("stroke",e.replace(_,w))})}"pdf"!==e&&"eps"!==e||i.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),i.node().setAttributeNS(x.xmlns,"xmlns",x.svg),i.node().setAttributeNS(x.xmlns,"xmlns:xlink",x.xlink),"svg"===e&&n&&(i.attr("width",n*a),i.attr("height",n*s),i.attr("viewBox","0 0 "+a+" "+s));var g,a=(new window.XMLSerializer).serializeToString(i.node());return s=a,g=m.select("body").append("div").style({display:"none"}).html(""),s=s.replace(/(&[^;]*;)/gi,function(t){return"&lt;"===t?"&#60;":"&rt;"===t?"&#62;":-1!==t.indexOf("<")||-1!==t.indexOf(">")?"":g.html(t).text()}),g.remove(),a=(a=(a=s).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(k,"'"),y.isIE()&&(a=(a=(a=a.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),a}},{"../components/color":646,"../components/drawing":668,"../constants/xmlns_namespaces":755,"../lib":776,d3:629}],886:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t,e){for(var n=0;n<t.length;n++)t[n].i=n;r.mergeArray(e.text,t,"tx"),r.mergeArray(e.hovertext,t,"htx");e=e.marker;e&&(r.mergeArray(e.opacity,t,"mo",!0),r.mergeArray(e.color,t,"mc"),(e=e.line)&&(r.mergeArray(e.color,t,"mlc"),r.mergeArrayCastPositive(e.width,t,"mlw")))}},{"../../lib":776}],887:[function(t,e,n){"use strict";var r=t("../scatter/attributes"),i=t("../../plots/template_attributes").hovertemplateAttrs,o=t("../../plots/template_attributes").texttemplateAttrs,a=t("../../components/colorscale/attributes"),s=t("../../plots/font_attributes"),l=t("./constants"),u=t("../../lib/extend").extendFlat,t=s({editType:"calc",arrayOk:!0,colorEditType:"style"}),s=u({},r.marker.line.width,{dflt:0}),s=u({width:s,editType:"calc"},a("marker.line")),a=u({line:s,editType:"calc"},a("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"}});e.exports={x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,xperiod:r.xperiod,yperiod:r.yperiod,xperiod0:r.xperiod0,yperiod0:r.yperiod0,xperiodalignment:r.xperiodalignment,yperiodalignment:r.yperiodalignment,text:r.text,texttemplate:o({editType:"plot"},{keys:l.eventDataKeys}),hovertext:r.hovertext,hovertemplate:i({},{keys:l.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"none",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:u({},t,{}),insidetextfont:u({},t,{}),outsidetextfont:u({},t,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:u({},r.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:a,offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},selected:{marker:{opacity:r.selected.marker.opacity,color:r.selected.marker.color,editType:"style"},textfont:r.selected.textfont,editType:"style"},unselected:{marker:{opacity:r.unselected.marker.opacity,color:r.unselected.marker.color,editType:"style"},textfont:r.unselected.textfont,editType:"style"},r:r.r,t:r.t,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},{"../../components/colorscale/attributes":653,"../../lib/extend":769,"../../plots/font_attributes":851,"../../plots/template_attributes":876,"../scatter/attributes":929,"./constants":888}],888:[function(t,e,n){"use strict";e.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},{}],889:[function(t,e,n){"use strict";var x=t("fast-isnumeric"),d=t("../../lib").isArrayOrTypedArray,_=t("../../constants/numerical").BADNUM,h=t("../../registry"),w=t("../../plots/cartesian/axes"),v=t("../../plots/cartesian/constraints").getAxisGroup,p=t("./sieve.js");function g(t,y,e,n,r){if(n.length){var i,o,a,s,l,u,c,f,h;switch(!function(t,e){var n,r,i;for(n=0;n<e.length;n++){var o=e[n],a=o[0].trace,s="funnel"===a.type?a._base:a.base,l="h"===a.orientation?a.xcalendar:a.ycalendar,u="category"===t.type||"multicategory"===t.type?function(){return null}:t.d2c;if(d(s)){for(r=0;r<Math.min(s.length,o.length);r++)i=u(s[r],0,l),x(i)?(o[r].b=+i,o[r].hasB=1):o[r].b=0;for(;r<o.length;r++)o[r].b=0}else{i=u(s,0,l);var c=x(i);for(i=c?i:0,r=0;r<o.length;r++)o[r].b=i,c&&(o[r].hasB=1)}}}(e,n),r.mode){case"overlay":m(y,e,n,r);break;case"group":for(i=[],o=[],a=0;a<n.length;a++)(void 0===(s=n[a])[0].trace.offset?o:i).push(s);o.length&&(l=t,u=y,c=e,h=new p(o,{sepNegVal:!1,overlapNoMerge:!(f=r).norm}),function(t,e,n,r){for(var i,o=t._fullLayout,a=n.positions,t=n.distinctPositions,s=n.minDiff,l=n.traces,u=l.length,c=a.length!==t.length,f=s*(1-r.gap),t=v(o,e._id)+l[0][0].trace.orientation,h=o._alignmentOpts[t]||{},d=0;d<u;d++){var p=l[d],g=p[0].trace,m=h[g.alignmentgroup]||{},y=Object.keys(m.offsetGroups||{}).length,m=(i=y?f/y:c?f/u:f)*(1-(r.groupgap||0));i=y?((2*g._offsetIndex+1-y)*i-m)/2:c?((2*d+1-u)*i-m)/2:-m/2;p=p[0].t;p.barwidth=m,p.poffset=i,p.bargroupwidth=f,p.bardelta=s}n.binWidth=l[0][0].t.barwidth/100,k(n),T(e,n),M(e,n,c)}(l,u,h,f),function(){for(var t=h.traces,e=0;e<t.length;e++){var n=t[e];if(void 0===n[0].trace.base)for(var r=new p([n],{sepNegVal:!0,overlapNoMerge:!0}),i=0;i<n.length;i++){var o,a=n[i];a.p===_||(o=r.put(a.p,a.b+a.s))&&(a.b=o)}}}(),f.norm?(S(h),E(c,h,f)):A(c,h)),i.length&&m(y,e,i,r);break;case"stack":case"relative":for(i=[],o=[],a=0;a<n.length;a++)(void 0===(s=n[a])[0].trace.base?o:i).push(s);o.length&&function(t,e,n,r){var i=new p(n,{sepNegVal:"relative"===r.mode,overlapNoMerge:!(r.norm||"stack"===r.mode||"relative"===r.mode)});b(t,i,r),function(t,e,n){var r,i,o,a,s,l,u=C(t),c=e.traces;for(a=0;a<c.length;a++)if(r=c[a],"funnel"===(i=r[0].trace).type)for(s=0;s<r.length;s++)(l=r[s]).s!==_&&e.put(l.p,-.5*l.s);for(a=0;a<c.length;a++){r=c[a],i=r[0].trace,o="funnel"===i.type;var f,h,d=[];for(s=0;s<r.length;s++)(l=r[s]).s!==_&&(h=o?l.s:l.s+l.b,f=e.put(l.p,h),h=f+h,l.b=f,l[u]=h,n.norm||(d.push(h),l.hasB&&d.push(f)));n.norm||(i._extremes[t._id]=w.findExtremes(t,d,{tozero:!0,padded:!0}))}}(e,i,r);for(var o=0;o<n.length;o++)for(var a=n[o],s=0;s<a.length;s++){var l=a[s];l.s!==_&&l.b+l.s===i.get(l.p,l.s)&&(l._outmost=!0)}r.norm&&E(e,i,r)}(y,e,o,r),i.length&&m(y,e,i,r)}!function(t){var e,n,r,i=C(y),o={},a=1/0,s=-1/0;for(e=0;e<t.length;e++)for(r=t[e],n=0;n<r.length;n++){var l=r[n].p;x(l)&&(a=Math.min(a,l),s=Math.max(s,l))}var u=1e4/(s-a),c=o.round=function(t){return String(Math.round(u*(t-a)))};for(e=0;e<t.length;e++){(r=t[e])[0].t.extents=o;var f=r[0].t.poffset,h=Array.isArray(f);for(n=0;n<r.length;n++){var d,p,g=r[n],m=g[i]-g.w/2;x(m)&&(d=g[i]+g.w/2,p=c(g.p),o[p]?o[p]=[Math.min(m,o[p][0]),Math.max(d,o[p][1])]:o[p]=[m,d]),g.p0=g.p+(h?f[n]:f),g.p1=g.p0+g.w,g.s0=g.b,g.s1=g.s0+g.s}}}(n)}}function m(t,e,n,r){for(var i=0;i<n.length;i++){var o=n[i],o=new p([o],{unitMinDiff:r.xCat||r.yCat,sepNegVal:!1,overlapNoMerge:!r.norm});b(t,o,r),r.norm?(S(o),E(e,o,r)):A(e,o)}}function b(t,e,n){for(var r=e.minDiff,i=e.traces,o=r*(1-n.gap),a=o*(1-(n.groupgap||0)),s=-a/2,l=0;l<i.length;l++){var u=i[l][0].t;u.barwidth=a,u.poffset=s,u.bargroupwidth=o,u.bardelta=r}e.binWidth=i[0][0].t.barwidth/100,k(e),T(t,e),M(t,e)}function k(t){for(var e=t.traces,n=0;n<e.length;n++){var r,i=e[n],o=i[0],a=o.trace,s=o.t,o=a._offset||a.offset,l=s.poffset;if(d(o)){for(r=Array.prototype.slice.call(o,0,i.length),f=0;f<r.length;f++)x(r[f])||(r[f]=l);for(f=r.length;f<i.length;f++)r.push(l);s.poffset=r}else void 0!==o&&(s.poffset=o);var a=a._width||a.width,u=s.barwidth;if(d(a)){for(var c=Array.prototype.slice.call(a,0,i.length),f=0;f<c.length;f++)x(c[f])||(c[f]=u);for(f=c.length;f<i.length;f++)c.push(u);if(s.barwidth=c,void 0===o){for(r=[],f=0;f<i.length;f++)r.push(l+(u-c[f])/2);s.poffset=r}}else void 0!==a&&(s.barwidth=a,void 0===o&&(s.poffset=l+(u-a)/2))}}function T(t,e){for(var n=e.traces,r=C(t),i=0;i<n.length;i++)for(var o=n[i],a=o[0].t,s=a.poffset,l=Array.isArray(s),u=a.barwidth,c=Array.isArray(u),f=0;f<o.length;f++){var h=o[f],d=h.w=c?u[f]:u;h[r]=h.p+(l?s[f]:s)+d/2}}function M(t,e,n){var r=e.traces,i=e.minDiff/2;w.minDtick(t,e.minDiff,e.distinctPositions[0],n);for(var o=0;o<r.length;o++){var a,s=r[o],l=s[0],u=l.trace,c=[];for(g=0;g<s.length;g++)m=(a=s[g]).p-i,b=a.p+i,c.push(m,b);if(u.width||u.offset)for(var l=l.t,f=l.poffset,h=l.barwidth,d=Array.isArray(f),p=Array.isArray(h),g=0;g<s.length;g++){a=s[g];var m,y=d?f[g]:f,v=p?h[g]:h,b=(m=a.p+y)+v;c.push(m,b)}u._extremes[t._id]=w.findExtremes(t,c,{padded:!1})}}function A(t,e){for(var n=e.traces,r=C(t),i=0;i<n.length;i++){for(var o=n[i],a=o[0].trace,s=[],l=!1,u=0;u<o.length;u++){var c=o[u],f=c.b,h=f+c.s;c[r]=h,s.push(h),c.hasB&&s.push(f),c.hasB&&c.b||(l=!0)}a._extremes[t._id]=w.findExtremes(t,s,{tozero:l,padded:!0})}}function S(t){for(var e=t.traces,n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++){var o=r[i];o.s!==_&&t.put(o.p,o.b+o.s)}}function E(e,t,n){var r=t.traces,i=C(e),o="fraction"===n.norm?1:100,a=o/1e9,s=e.l2c(e.c2l(0)),l="stack"===n.mode?o:s;function u(t){return x(e.c2l(t))&&(t<s-a||l+a<t||!x(s))}for(var c=0;c<r.length;c++){for(var f=r[c],h=f[0].trace,d=[],p=!1,g=!1,m=0;m<f.length;m++){var y,v,b=f[m];b.s!==_&&(v=Math.abs(o/t.get(b.p,b.s)),b.b*=v,b.s*=v,v=(y=b.b)+b.s,b[i]=v,d.push(v),g=g||u(v),b.hasB&&(d.push(y),g=g||u(y)),b.hasB&&b.b||(p=!0))}h._extremes[e._id]=w.findExtremes(e,d,{tozero:p,padded:g})}}function C(t){return t._id.charAt(0)}e.exports={crossTraceCalc:function(t,e){for(var n=e.xaxis,r=e.yaxis,e=t._fullLayout,i=t._fullData,o=t.calcdata,a=[],s=[],l=0;l<i.length;l++){var u=i[l];if(!0===u.visible&&h.traceIs(u,"bar")&&u.xaxis===n._id&&u.yaxis===r._id&&(("h"===u.orientation?a:s).push(o[l]),u._computePh))for(var c=t.calcdata[l],f=0;f<c.length;f++)"function"==typeof c[f].ph0&&(c[f].ph0=c[f].ph0()),"function"==typeof c[f].ph1&&(c[f].ph1=c[f].ph1())}e={xCat:"category"===n.type||"multicategory"===n.type,yCat:"category"===r.type||"multicategory"===r.type,mode:e.barmode,norm:e.barnorm,gap:e.bargap,groupgap:e.bargroupgap},g(t,n,r,s,e),g(t,r,n,a,e)},setGroupPositions:g}},{"../../constants/numerical":754,"../../lib":776,"../../plots/cartesian/axes":823,"../../plots/cartesian/constraints":830,"../../registry":877,"./sieve.js":897,"fast-isnumeric":450}],890:[function(t,e,n){"use strict";var p=t("../../lib"),a=t("../../components/color"),s=t("../../registry"),l=t("../scatter/xy_defaults"),u=t("../scatter/period_defaults"),c=t("./style_defaults"),f=t("../../plots/cartesian/constraints").getAxisGroup,h=t("./attributes"),g=p.coerceFont;function o(t,e,n,r){var i=e.orientation,o=e[{v:"x",h:"y"}[i]+"axis"],a=f(n,o)+i,o=n._alignmentOpts||{},i=r("alignmentgroup"),n=o[a],a=(n=n||(o[a]={}))[i];a?a.traces.push(e):a=n[i]={traces:[e],alignmentIndex:Object.keys(n).length,offsetGroups:{}};n=r("offsetgroup"),r=a.offsetGroups,a=r[n];n&&(a=a||(r[n]={offsetIndex:Object.keys(r).length}),e._offsetIndex=a.offsetIndex)}function d(t,e,n,r,i,o){var a=!(!1===(o=o||{}).moduleHasSelected),s=!(!1===o.moduleHasUnselected),l=!(!1===o.moduleHasConstrain),u=!(!1===o.moduleHasCliponaxis),c=!(!1===o.moduleHasTextangle),f=!(!1===o.moduleHasInsideanchor),h=!!o.hasPathbar,d=Array.isArray(i)||"auto"===i,o=d||"inside"===i,d=d||"outside"===i;(o||d)&&(i=g(r,"textfont",n.font),n=p.extendFlat({},i),(t=!(t.textfont&&t.textfont.color))&&delete n.color,g(r,"insidetextfont",n),h&&(h=p.extendFlat({},i),t&&delete h.color,g(r,"pathbar.textfont",h)),d&&g(r,"outsidetextfont",i),a&&r("selected.textfont.color"),s&&r("unselected.textfont.color"),l&&r("constraintext"),u&&r("cliponaxis"),c&&r("textangle"),r("texttemplate")),o&&f&&r("insidetextanchor")}e.exports={supplyDefaults:function(n,r,t,e){function i(t,e){return p.coerce(n,r,h,t,e)}var o;l(n,r,e,i)?(u(n,r,e,i),i("orientation",r.x&&!r.y?"h":"v"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate"),o=i("textposition"),d(n,0,e,i,o,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),c(n,r,i,t,e),t=(r.marker.line||{}).color,(e=s.getComponentMethod("errorbars","supplyDefaults"))(n,r,t||a.defaultLine,{axis:"y"}),e(n,r,t||a.defaultLine,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(r,i)):r.visible=!1},crossTraceDefaults:function(t,e){var n;function r(t){return p.coerce(n._input,n,h,t)}if("group"===e.barmode)for(var i=0;i<t.length;i++)"bar"===(n=t[i]).type&&(n._input,o(0,n,e,r))},handleGroupingDefaults:o,handleText:d}},{"../../components/color":646,"../../lib":776,"../../plots/cartesian/constraints":830,"../../registry":877,"../scatter/period_defaults":949,"../scatter/xy_defaults":956,"./attributes":887,"./style_defaults":899}],891:[function(t,e,n){"use strict";var o=t("fast-isnumeric"),r=t("tinycolor2"),i=t("../../lib").isArrayOrTypedArray;n.coerceString=function(t,e,n){if("string"==typeof e){if(e||!t.noBlank)return e}else if(("number"==typeof e||!0===e)&&!t.strict)return String(e);return void 0!==n?n:t.dflt},n.coerceNumber=function(t,e,n){if(o(e)){e=+e;var r=t.min,i=t.max;if(!(void 0!==r&&e<r||void 0!==i&&i<e))return e}return void 0!==n?n:t.dflt},n.coerceColor=function(t,e,n){return r(e).isValid()?e:void 0!==n?n:t.dflt},n.coerceEnumerated=function(t,e,n){return t.coerceNumber&&(e=+e),-1!==t.values.indexOf(e)?e:void 0!==n?n:t.dflt},n.getValue=function(t,e){var n;return Array.isArray(t)?e<t.length&&(n=t[e]):n=t,n},n.getLineWidth=function(t,e){return 0<e.mlw?e.mlw:i(t.marker.line.width)?0:t.marker.line.width}},{"../../lib":776,"fast-isnumeric":450,tinycolor2:1005}],892:[function(t,e,n){"use strict";var A=t("../../components/fx"),i=t("../../registry"),o=t("../../components/color"),S=t("../../lib").fillText,a=t("./helpers").getLineWidth,E=t("../../plots/cartesian/axes").hoverLabelText,C=t("../../constants/numerical").BADNUM;function s(t,e,n,r){var i,o,a,s,l,u,c,f=t.cd,h=f[0].trace,d=f[0].t,p="closest"===r,g="waterfall"===h.type,m=t.maxHoverDistance;function y(t){return t[a]-t.w/2}function v(t){return t[a]+t.w/2}var b=p?y:function(t){return Math.min(y(t),t.p-d.bardelta/2)},x=p?v:function(t){return Math.max(v(t),t.p+d.bardelta/2)};function _(t,e){return A.inbox(t-i,e-i,m+Math.min(1,Math.abs(e-t)/c)-1)}function w(t){return _(b(t),x(t))}function k(t){var e=o,n=t.b,r=t[s];return g&&(t=Math.abs(t.rawS)||0,0<e?r+=t:e<0&&(r-=t)),A.inbox(n-e,r-e,m+(r-e)/(r-n)-1)}"h"===h.orientation?(i=n,o=e,a="y",s="x",l=k,u=w):(i=e,o=n,a="x",s="y",u=k,l=w);e=t[a+"a"],n=t[s+"a"];c=Math.abs(e.r2c(e.range[1])-e.r2c(e.range[0]));r=A.getDistanceFunction(r,l,u,function(t){return(l(t)+u(t))/2});if(A.getClosest(f,r,t),!1!==t.index&&f[t.index].p!==C){p||(b=function(t){return Math.min(y(t),t.p-d.bargroupwidth/2)},x=function(t){return Math.max(v(t),t.p+d.bargroupwidth/2)});var T=f[t.index],f=h.base?T.b+T.s:T.s;t[s+"0"]=t[s+"1"]=n.c2p(T[s],!0),t[s+"LabelVal"]=f;f=d.extents[d.extents.round(T.p)];t[a+"0"]=e.c2p(p?b(T):f[0],!0),t[a+"1"]=e.c2p(p?x(T):f[1],!0);var M,f=void 0!==T.orig_p;return t[a+"LabelVal"]=f?T.orig_p:T.p,t.labelLabel=E(e,t[a+"LabelVal"]),t.valueLabel=E(n,t[s+"LabelVal"]),t.baseLabel=E(n,T.b),t.spikeDistance=(k(T)+_(y(M=T),v(M)))/2-m,t[a+"Spike"]=e.c2p(T.p,!0),S(T,h,t),t.hovertemplate=h.hovertemplate,t}}function l(t,e){var n=e.mcc||t.marker.color,r=e.mlcc||t.marker.line.color,e=a(t,e);return o.opacity(n)?n:o.opacity(r)&&e?r:void 0}e.exports={hoverPoints:function(t,e,n,r){if(e=s(t,e,n,r)){n=e.cd,r=n[0].trace,n=n[e.index];return e.color=l(r,n),i.getComponentMethod("errorbars","hoverInfo")(n,r,e),[e]}},hoverOnBars:s,getTraceColor:l}},{"../../components/color":646,"../../components/fx":686,"../../constants/numerical":754,"../../lib":776,"../../plots/cartesian/axes":823,"../../registry":877,"./helpers":891}],893:[function(t,e,n){"use strict";e.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},{}],894:[function(t,e,n){"use strict";var h=t("../../registry"),d=t("../../plots/cartesian/axes"),p=t("../../lib"),g=t("./layout_attributes");e.exports=function(n,r,t){function e(t,e){return p.coerce(n,r,g,t,e)}for(var i=!1,o=!1,a=!1,s={},l=e("barmode"),u=0;u<t.length;u++){var c,f=t[u];h.traceIs(f,"bar")&&f.visible&&(i=!0,"group"===l&&(s[c=f.xaxis+f.yaxis]&&(a=!0),s[c]=!0),f.visible&&"histogram"===f.type&&"category"!==d.getFromId({_fullLayout:r},f["v"===f.orientation?"xaxis":"yaxis"]).type&&(o=!0))}i?("overlay"!==l&&e("barnorm"),e("bargap",o&&!a?0:.2),e("bargroupgap")):delete r.barmode}},{"../../lib":776,"../../plots/cartesian/axes":823,"../../registry":877,"./layout_attributes":893}],895:[function(t,e,n){"use strict";var A=t("d3"),S=t("fast-isnumeric"),E=t("../../lib"),C=t("../../lib/svg_text_utils"),O=t("../../components/color"),j=t("../../components/drawing"),r=t("../../registry"),P=t("../../plots/cartesian/axes").tickText,i=t("./uniform_text"),N=i.recordMinTextSize,o=i.clearMinTextSize,L=t("./style"),R=t("./helpers"),a=t("./constants"),i=t("./attributes"),D=i.text,I=i.textposition,F=t("../../components/fx/helpers").appendArrayPointValue,z=a.TEXTPAD;function s(t){return t.id}function B(t,e,n,r){return e.uniformtext.mode||!l(n)?t:(r&&(i=r()),t.transition().duration(n.duration).ease(n.easing).each("end",function(){i&&i()}).each("interrupt",function(){i&&i()}));var i}function l(t){return t&&0<t.duration}function U(t){return"auto"===t?0:t}function H(t,e){var n=Math.PI/180*e,e=Math.abs(Math.sin(n)),n=Math.abs(Math.cos(n));return{x:t.width*n+t.height*e,y:t.width*e+t.height*n}}function q(t,e,n,r,i,o){var a=!!o.isHorizontal,s=!!o.constrained,l=o.angle||0,u=o.anchor||"end",c="end"===u,f="start"===u,h=((o.leftToRight||0)+1)/2,d=1-h,p=i.width,g=i.height,m=Math.abs(e-t),y=Math.abs(r-n),u=2*z<m&&2*z<y?z:0;m-=2*u,y-=2*u;o=U(l);"auto"!==l||p<=m&&g<=y||!(m<p||y<g)||(y<p||m<g)&&p<g==m<y||(o+=90);p=H(i,o),g=1;s&&(g=Math.min(1,m/p.x,y/p.y));s=i.left*d+i.right*h,m=(i.top+i.bottom)/2,y=(t+z)*d+(e-z)*h,i=(n+r)/2,d=0,h=0;return(f||c)&&(c=(a?p.x:p.y)/2,p=a?t<e?1:-1:n<r?1:-1,a?d=f?(y=t+p*u,-p*c):(y=e-p*u,p*c):h=f?(i=n+p*u,-p*c):(i=r-p*u,p*c)),{textX:s,textY:m,targetX:y,targetY:i,anchorX:d,anchorY:h,scale:g,rotate:o}}e.exports={plot:function(b,x,t,e,_,w){var k=x.xaxis,T=x.yaxis,M=b._fullLayout;_||(_={mode:M.barmode,norm:M.barmode,gap:M.bargap,groupgap:M.bargroupgap},o("bar",M)),t=E.makeTraceGroups(e,t,"trace bars").each(function(d){var t=A.select(this),p=d[0].trace,e="waterfall"===p.type,n="funnel"===p.type,g="bar"===p.type||n,m=0;e&&p.connector.visible&&"between"===p.connector.mode&&(m=p.connector.line.width/2);var y="h"===p.orientation,v=l(_),n=E.ensureSingle(t,"g","points"),e=function(t){if(t.ids)return s}(p),e=n.selectAll("g.point").data(E.identity,e);e.enter().append("g").classed("point",!0),e.exit().remove(),e.each(function(t,e){var n,r,i,o=A.select(this),a=(s=t,a=k,c=T,u=[],n=(l=y)?a:c,a=l?c:a,(c=[])[0]=n.c2p(s.s0,!0),u[0]=a.c2p(s.p0,!0),c[1]=n.c2p(s.s1,!0),u[1]=a.c2p(s.p1,!0),l?[c,u]:[u,c]),s=a[0][0],l=a[0][1],u=a[1][0],c=a[1][1],a=0==(y?l-s:c-u);function f(t){var e=A.round(r/2%1,2);return 0===_.gap&&0===_.groupgap?A.round(Math.round(t)-e,2):t}a&&g&&R.getLineWidth(p,t)&&(a=!1),a=a||!(S(s)&&S(l)&&S(u)&&S(c)),(t.isBlank=a)&&(y?l=s:c=u),m&&!a&&(y?l+=((s-=(s<l?1:-1)*m)<l?1:-1)*m:c+=((u-=(u<c?1:-1)*m)<c?1:-1)*m),"waterfall"===p.type?a||(i=p[t.dir].marker,r=i.line.width,i=i.color):(r=R.getLineWidth(p,t),i=t.mc||p.marker.color),b._context.staticPlot||(s=(h=O.opacity(i)<1||.01<r?f:function(t,e,n){return n&&t===e?t:2<=Math.abs(t-e)?f(t):e<t?Math.ceil(t):Math.floor(t)})(s,l,y),l=h(l,s,y),u=h(u,c,!y),c=h(c,u,!y));var a,h=B(E.ensureSingle(o,"path"),M,_,w);h.style("vector-effect","non-scaling-stroke").attr("d",isNaN((l-s)*(c-u))||a&&b._context.staticPlot?"M0,0Z":"M"+s+","+u+"V"+c+"H"+l+"V"+u+"Z").call(j.setClipUrl,x.layerClipId,b),!M.uniformtext.mode&&v&&(a=j.makePointStyleFns(p),j.singlePointStyle(t,h,p,a,b)),function(r,t,e,n,i,o,a,s,l,u,c){var f,h=t.xaxis,d=t.yaxis,p=r._fullLayout;function g(t,e,n){return E.ensureSingle(t,"text").text(e).attr({class:"bartext bartext-"+f,"text-anchor":"middle","data-notex":1}).call(j.font,n).call(C.convertToTspans,r)}var m=n[0].trace,y="h"===m.orientation,v=function(t,e,n,r,i){var o=e[0].trace;n=o.texttemplate?function(t,e,n,r,i){var o=e[0].trace,a=E.castOption(o,n,"texttemplate");if(!a)return"";var s,l,u="waterfall"===o.type,c="funnel"===o.type;l="h"===o.orientation?(h="y",s=i,d="x",r):(h="x",s=r,d="y",i);function f(t){return P(l,+t,!0).text}e=e[n],n={};n.label=e.p,n.labelLabel=n[h+"Label"]=function(t){return P(s,t,!0).text}(e.p);var h=E.castOption(o,e.i,"text");0!==h&&!h||(n.text=h);n.value=e.s,n.valueLabel=n[d+"Label"]=f(e.s);var d={};F(d,o,e.i),u&&(n.delta=+e.rawS||e.s,n.deltaLabel=f(n.delta),n.final=e.v,n.finalLabel=f(n.final),n.initial=n.final-n.delta,n.initialLabel=f(n.initial));c&&(n.value=e.s,n.valueLabel=f(n.value),n.percentInitial=e.begR,n.percentInitialLabel=E.formatPercent(e.begR),n.percentPrevious=e.difR,n.percentPreviousLabel=E.formatPercent(e.difR),n.percentTotal=e.sumR,n.percenTotalLabel=E.formatPercent(e.sumR));e=E.castOption(o,e.i,"customdata");e&&(n.customdata=e);return E.texttemplateString(a,n,t._d3locale,d,n,o._meta||{})}(t,e,n,r,i):o.textinfo?function(t,e,n,r){var i=t[0].trace,o="h"===i.orientation,a="waterfall"===i.type,s="funnel"===i.type;function l(t){return P(o?n:r,+t,!0).text}var u,c=i.textinfo,f=t[e],h=c.split("+"),d=[],c=function(t){return-1!==h.indexOf(t)};c("label")&&d.push(function(t){return P(o?r:n,t,!0).text}(t[e].p));c("text")&&(0!==(u=E.castOption(i,f.i,"text"))&&!u||d.push(u));a&&(e=+f.rawS||f.s,i=f.v,a=i-e,c("initial")&&d.push(l(a)),c("delta")&&d.push(l(e)),c("final")&&d.push(l(i)));s&&(c("value")&&d.push(l(f.s)),s=0,c("percent initial")&&s++,c("percent previous")&&s++,c("percent total")&&s++,s=1<s,c("percent initial")&&(u=E.formatPercent(f.begR),s&&(u+=" of initial"),d.push(u)),c("percent previous")&&(u=E.formatPercent(f.difR),s&&(u+=" of previous"),d.push(u)),c("percent total")&&(u=E.formatPercent(f.sumR),s&&(u+=" of total"),d.push(u)));return d.join("<br>")}(e,n,r,i):R.getValue(o.text,n);return R.coerceString(D,n)}(p,n,i,h,d);f=function(t,e){e=R.getValue(t.textposition,e);return R.coerceEnumerated(I,e)}(m,i);var b="stack"===u.mode||"relative"===u.mode,x=n[i],t=!b||x._outmost;if(!v||"none"===f||(x.isBlank||o===a||s===l)&&("auto"===f||"inside"===f))return e.select("text").remove();b=p.font,n=L.getBarColor(n[i],m),n=L.getInsideTextFont(m,i,b,n),i=L.getOutsideTextFont(m,i,b),b=e.datum(),y?"log"===h.type&&b.s0<=0&&(o=h.range[0]<h.range[1]?0:h._length):"log"===d.type&&b.s0<=0&&(s=d.range[0]<d.range[1]?d._length:0);var _,w,k,T,h=Math.abs(a-o)-2*z,b=Math.abs(l-s)-2*z;if("outside"===f&&(t||x.hasB||(f="inside")),"auto"===f&&(t?(f="inside",T=E.ensureUniformFontSize(r,n),_=g(e,v,T),w=j.bBox(_.node()),k=w.width,A=w.height,d=k<=h&&A<=b,t=k<=b&&A<=h,b=y?k*(b/A)<=h:A*(h/k)<=b,0<k&&0<A&&(d||t||b)?f="inside":(f="outside",_.remove(),_=null)):f="inside"),!_){T=E.ensureUniformFontSize(r,"outside"===f?i:n);v=(_=g(e,v,T)).attr("transform");if(_.attr("transform",""),w=j.bBox(_.node()),k=w.width,A=w.height,_.attr("transform",v),k<=0||A<=0)return _.remove()}var M,A=m.textangle;(A="outside"===f?(M="both"===m.constraintext||"outside"===m.constraintext,function(t,e,n,r,i,o){var a,s=!!o.isHorizontal,l=!!o.constrained,u=o.angle||0,c=i.width,f=i.height,h=Math.abs(e-t),d=Math.abs(r-n);a=s?2*z<d?z:0:2*z<h?z:0;var p=1;l&&(p=s?Math.min(1,d/f):Math.min(1,h/c));o=U(u),l=H(i,o),d=(s?l.x:l.y)/2,f=(i.left+i.right)/2,h=(i.top+i.bottom)/2,c=(t+e)/2,u=(n+r)/2,l=0,i=0,n=s?e<t?1:-1:n<r?1:-1;s?(c=e-n*a,l=n*d):(u=r+n*a,i=-n*d);return{textX:f,textY:h,targetX:c,targetY:u,anchorX:l,anchorY:i,scale:p,rotate:o}}(o,a,s,l,w,{isHorizontal:y,constrained:M,angle:A})):(M="both"===m.constraintext||"inside"===m.constraintext,q(o,a,s,l,w,{isHorizontal:y,constrained:M,angle:A,anchor:m.insidetextanchor}))).fontSize=T.size,N(m.type,A,p),x.transform=A,B(_,p,u,c).attr("transform",E.getTextTransform(A))}(b,x,o,d,e,s,l,u,c,_,w),x.layerClipId&&j.hideOutsideRangePoint(t,o.select("text"),k,T,p.xcalendar,p.ycalendar)});e=!1===p.cliponaxis;j.setClipUrl(t,e?null:x.layerClipId,b)}),r.getComponentMethod("errorbars","plot")(b,t,x,_)},toMoveInsideBar:q}},{"../../components/color":646,"../../components/drawing":668,"../../components/fx/helpers":682,"../../lib":776,"../../lib/svg_text_utils":799,"../../plots/cartesian/axes":823,"../../registry":877,"./attributes":887,"./constants":888,"./helpers":891,"./style":898,"./uniform_text":900,d3:629,"fast-isnumeric":450}],896:[function(t,e,n){"use strict";e.exports=function(t,e){var n,r,i,o,a,s,l,u=t.cd,c=t.xaxis,f=t.yaxis,h=u[0].trace,d="funnel"===h.type,p="h"===h.orientation,g=[];if(!1===e)for(n=0;n<u.length;n++)u[n].selected=0;else for(n=0;n<u.length;n++){var m=u[n],y="ct"in m?m.ct:(y=m,i=f,o=p,a=d,l=s=void 0,s=(r=c).c2p(o?y.s0:y.p0,!0),l=r.c2p(o?y.s1:y.p1,!0),r=i.c2p(o?y.p0:y.s0,!0),y=i.c2p(o?y.p1:y.s1,!0),a?[(s+l)/2,(r+y)/2]:o?[l,(r+y)/2]:[(s+l)/2,y]);e.contains(y,!1,n,t)?(g.push({pointNumber:n,x:c.c2d(m.x),y:f.c2d(m.y)}),m.selected=1):m.selected=0}return g}},{}],897:[function(t,e,n){"use strict";e.exports=r;var l=t("../../lib").distinctVals,u=t("../../constants/numerical").BADNUM;function r(t,e){this.traces=t,this.sepNegVal=e.sepNegVal,this.overlapNoMerge=e.overlapNoMerge;for(var n=1/0,r=[],i=0;i<t.length;i++){for(var o=t[i],a=0;a<o.length;a++){var s=o[a];s.p!==u&&r.push(s.p)}o[0]&&o[0].width1&&(n=Math.min(o[0].width1,n))}this.positions=r;e=l(r,{unitMinDiff:e.unitMinDiff});this.distinctPositions=e.vals,1===e.vals.length&&n!==1/0?this.minDiff=n:this.minDiff=Math.min(e.minDiff,n),this.binWidth=this.minDiff,this.bins={}}r.prototype.put=function(t,e){var n=this.getLabel(t,e),t=this.bins[n]||0;return this.bins[n]=t+e,t},r.prototype.get=function(t,e){e=this.getLabel(t,e);return this.bins[e]||0},r.prototype.getLabel=function(t,e){return(e<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?t:Math.round(t/this.binWidth))}},{"../../constants/numerical":754,"../../lib":776}],898:[function(t,e,n){"use strict";var a=t("d3"),i=t("../../components/color"),s=t("../../components/drawing"),l=t("../../lib"),u=t("../../registry"),o=t("./uniform_text").resizeText,r=t("./attributes"),c=r.textfont,f=r.insidetextfont,h=r.outsidetextfont,d=t("./helpers");function p(t,e,n){s.pointStyle(t.selectAll("path"),e,n),g(t,e,n)}function g(t,n,r){t.selectAll("text").each(function(t){var e=a.select(this),t=l.ensureUniformFontSize(r,m(e,t,n,r));s.font(e,t)})}function m(t,e,n,r){var i=r._fullLayout.font,o=n.textfont;return t.classed("bartext-inside")?(r=_(e,n),o=v(n,e.i,i,r)):t.classed("bartext-outside")&&(o=b(n,e.i,i)),o}function y(t,e,n){return x(c,t.textfont,e,n)}function v(t,e,n,r){n=y(t,e,n);return(void 0===t._input.textfont||void 0===t._input.textfont.color||Array.isArray(t.textfont.color)&&void 0===t.textfont.color[e])&&(n={color:i.contrast(r),family:n.family,size:n.size}),x(f,t.insidetextfont,e,n)}function b(t,e,n){n=y(t,e,n);return x(h,t.outsidetextfont,e,n)}function x(t,e,n,r){e=e||{};var i=d.getValue(e.family,n),o=d.getValue(e.size,n),n=d.getValue(e.color,n);return{family:d.coerceString(t.family,i,r.family),size:d.coerceNumber(t.size,o,r.size),color:d.coerceColor(t.color,n,r.color)}}function _(t,e){return"waterfall"===e.type?e[t.dir].marker.color:t.mc||e.marker.color}e.exports={style:function(e){var t=a.select(e).selectAll("g.barlayer").selectAll("g.trace");o(e,t,"bar");var n=t.size(),r=e._fullLayout;t.style("opacity",function(t){return t[0].trace.opacity}).each(function(t){("stack"===r.barmode&&1<n||0===r.bargap&&0===r.bargroupgap&&!t[0].trace.marker.line.width)&&a.select(this).attr("shape-rendering","crispEdges")}),t.selectAll("g.points").each(function(t){p(a.select(this),t[0].trace,e)}),u.getComponentMethod("errorbars","style")(t)},styleTextPoints:g,styleOnSelect:function(t,e,n){var r,i,o=e[0].trace;o.selectedpoints?(r=n,i=o,e=t,s.selectedPointStyle(r.selectAll("path"),i),function(t,r,i){t.each(function(t){var e,n=a.select(this);t.selected?(e=l.ensureUniformFontSize(i,m(n,t,r,i)),(t=r.selected.textfont&&r.selected.textfont.color)&&(e.color=t),s.font(n,e)):s.selectedTextStyle(n,r)})}(r.selectAll("text"),i,e)):(p(n,o,t),u.getComponentMethod("errorbars","style")(n))},getInsideTextFont:v,getOutsideTextFont:b,getBarColor:_,resizeText:o}},{"../../components/color":646,"../../components/drawing":668,"../../lib":776,"../../registry":877,"./attributes":887,"./helpers":891,"./uniform_text":900,d3:629}],899:[function(t,e,n){"use strict";var o=t("../../components/color"),a=t("../../components/colorscale/helpers").hasColorscale,s=t("../../components/colorscale/defaults");e.exports=function(t,e,n,r,i){n("marker.color",r),a(t,"marker")&&s(t,e,i,n,{prefix:"marker.",cLetter:"c"}),n("marker.line.color",o.defaultLine),a(t,"marker.line")&&s(t,e,i,n,{prefix:"marker.line.",cLetter:"c"}),n("marker.line.width"),n("marker.opacity"),n("selected.marker.color"),n("unselected.marker.color")}},{"../../components/color":646,"../../components/colorscale/defaults":656,"../../components/colorscale/helpers":657}],900:[function(t,e,n){"use strict";var a=t("d3"),s=t("../../lib");function o(t){return"_"+t+"Text_minsize"}e.exports={recordMinTextSize:function(t,e,n){var r,i;n.uniformtext.mode&&(r=o(t),i=n.uniformtext.minsize,t=e.scale*e.fontSize,e.hide=t<i,n[r]=n[r]||1/0,e.hide||(n[r]=Math.min(n[r],Math.max(t,i))))},clearMinTextSize:function(t,e){e[o(t)]=void 0},resizeText:function(t,e,n){var r=(t=t._fullLayout)["_"+n+"Text_minsize"];if(r){var i,o="hide"===t.uniformtext.mode;switch(n){case"funnelarea":case"pie":case"sunburst":i="g.slice";break;case"treemap":i="g.slice, g.pathbar";break;default:i="g.points > g.point"}e.selectAll(i).each(function(t){t=t.transform;t&&(t.scale=o&&t.hide?0:r/t.fontSize,a.select(this).select("text").attr("transform",s.getTextTransform(t)))})}}}},{"../../lib":776,d3:629}],901:[function(t,e,n){"use strict";var r=t("../bar/attributes"),i=t("../../plots/template_attributes").hovertemplateAttrs,o=t("./bin_attributes"),a=t("./constants"),t=t("../../lib/extend").extendFlat;e.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},text:t({},r.text,{}),hovertext:t({},r.hovertext,{}),orientation:r.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:o("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:o("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({},{keys:a.eventDataKeys}),marker:r.marker,offsetgroup:r.offsetgroup,alignmentgroup:r.alignmentgroup,selected:r.selected,unselected:r.unselected,_deprecated:{bardir:r._deprecated.bardir}}},{"../../lib/extend":769,"../../plots/template_attributes":876,"../bar/attributes":887,"./bin_attributes":903,"./constants":907}],902:[function(t,e,n){"use strict";e.exports=function(t,e){for(var n=t.length,r=0,i=0;i<n;i++)e[i]?(t[i]/=e[i],r+=t[i]):t[i]=null;return r}},{}],903:[function(t,e,n){"use strict";e.exports=function(){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},{}],904:[function(t,e,n){"use strict";var o=t("fast-isnumeric");e.exports={count:function(t,e,n){return n[t]++,1},sum:function(t,e,n,r){e=r[e];return o(e)?(e=Number(e),n[t]+=e,e):0},avg:function(t,e,n,r,i){e=r[e];return o(e)&&(e=Number(e),n[t]+=e,i[t]++),0},min:function(t,e,n,r){r=r[e];if(o(r)){if(r=Number(r),!o(n[t]))return n[t]=r;if(n[t]>r){e=r-n[t];return n[t]=r,e}}return 0},max:function(t,e,n,r){r=r[e];if(o(r)){if(r=Number(r),!o(n[t]))return n[t]=r;if(n[t]<r){e=r-n[t];return n[t]=r,e}}return 0}}},{"fast-isnumeric":450}],905:[function(t,e,n){"use strict";var r=t("../../constants/numerical"),h=r.ONEAVGYEAR,i=r.ONEAVGMONTH,d=r.ONEDAY,o=r.ONEHOUR,a=r.ONEMIN,s=r.ONESEC,p=t("../../plots/cartesian/axes").tickIncrement;function g(t,e,n,r){if(t*e<=0)return 1/0;for(var i=Math.abs(e-t),o="date"===n.type,a=u(i,o),s=0;s<10;s++){var l=u(80*a,o);if(a===l)break;if(!function(t,e,n,r,i,o){if(r&&d<t){r=c(e,i,o),i=c(n,i,o),o=t===h?0:1;return r[o]!==i[o]}return.1<Math.floor(n/t)-Math.floor(e/t)}(l,t,e,o,n,r))break;a=l}return a}function u(t,e){return e&&s<t?d<t?1.1*h<t?h:1.1*i<t?i:d:o<t?o:a<t?a:s:Math.pow(10,Math.floor(Math.log(t)/Math.LN10))}function c(t,e,n){n=e.c2d(t,h,n).split("-");return""===n[0]&&(n.unshift(),n[0]="-"+n[0]),n}e.exports=function(i,t,e,o,a){var r,n=-1.1*t,s=-.1*t,l=i-s,t=e[0],e=e[1],l=Math.min(g(t+s,t+l,o,a),g(e+s,e+l,o,a)),s=Math.min(g(t+n,t+s,o,a),g(e+n,e+s,o,a)),u=s<l&&s<Math.abs(e-t)/4e3?(r=l,!1):(r=Math.min(l,s),!0);if("date"===o.type&&d<r){var c=r===h?1:6,f=r===h?"M12":"M1";return function(t,e){var n=o.c2d(t,h,a),r=n.indexOf("-",c);0<r&&(n=n.substr(0,r));r=o.d2c(n,0,a);return r<t&&((r+(n=p(r,f,!1,a)))/2<t+i&&(r=n)),e&&u?p(r,f,!0,a):r}}return function(t,e){var n=r*Math.round(t/r);return n+r/10<t&&n+.9*r<t+i&&(n+=r),e&&u&&(n-=r),n}}},{"../../constants/numerical":754,"../../plots/cartesian/axes":823}],906:[function(t,e,n){"use strict";var q=t("fast-isnumeric"),V=t("../../lib"),A=t("../../registry"),G=t("../../plots/cartesian/axes"),W=t("../bar/arrays_to_calcdata"),Y=t("./bin_functions"),X=t("./norm_functions"),Z=t("./average"),$=t("./bin_label_vals");function Q(t,e,n,r,i){var o,a,s=r+"bins",l=t._fullLayout,u=e["_"+r+"bingroup"],c=l._histogramBinOpts[u],f="overlay"===l.barmode,u=function(t){return n.r2c(t,0,a)},l=function(t){return n.c2r(t,0,a)},h="date"===n.type?function(t){return t||0===t?V.cleanDate(t,null,a):null}:function(t){return q(t)?Number(t):null};function d(t,e,n){e[t+"Found"]?(e[t]=h(e[t]),null===e[t]&&(e[t]=n[t])):(k[t]=e[t]=n[t],V.nestedProperty(o[0],s+"."+t).set(n[t]))}if(e["_"+r+"autoBinFinished"])delete e["_"+r+"autoBinFinished"];else{o=c.traces;for(var p,g,m,y=[],v=!0,b=!1,x=!1,_=0;_<o.length;_++)(m=o[_]).visible&&(g=m["_"+(p=c.dirs[_])+"pos0"]=n.makeCalcdata(m,p),y=V.concat(y,g),delete m["_"+r+"autoBinFinished"],!0===e.visible&&(v?v=!1:(delete m._autoBin,m["_"+r+"autoBinFinished"]=1),A.traceIs(m,"2dMap")&&(b=!0),"histogram2dcontour"===m.type&&(x=!0)));a=o[0][r+"calendar"];var w=G.autoBin(y,n,c.nbins,b,a,c.sizeFound&&c.size),k=(o[0]._autoBin={})[c.dirs[0]]={};if(x&&(c.size||(w.start=l(G.tickIncrement(u(w.start),w.size,!0,a))),void 0===c.end&&(w.end=l(G.tickIncrement(u(w.end),w.size,!1,a)))),f&&!A.traceIs(e,"2dMap")&&0===w._dataSpan&&"category"!==n.type&&"multicategory"!==n.type){if(i)return[w,g,!0];w=function(t,e,n,r,i){var o,a,s,l=t._fullLayout,u=function(t,e){for(var n=e.xaxis,r=e.yaxis,i=e.orientation,o=[],a=t._fullData,s=0;s<a.length;s++){var l=a[s];"histogram"===l.type&&!0===l.visible&&l.orientation===i&&l.xaxis===n&&l.yaxis===r&&o.push(l)}return o}(t,e),c=!1,f=1/0,h=[e];for(o=0;o<u.length;o++){var d,p,g;(a=u[o])===e?c=!0:c?(d=Q(t,a,n,r,!0),p=d[0],g=d[2],a["_"+r+"autoBinFinished"]=1,a["_"+r+"pos0"]=d[1],g?h.push(a):f=Math.min(f,p.size)):(s=l._histogramBinOpts[a["_"+r+"bingroup"]],f=Math.min(f,s.size||a[i].size))}var m=new Array(h.length);for(o=0;o<h.length;o++)for(var y=h[o]["_"+r+"pos0"],v=0;v<y.length;v++)if(void 0!==y[v]){m[o]=y[v];break}isFinite(f)||(f=V.distinctVals(m).minDiff);for(o=0;o<h.length;o++){var b=(a=h[o])[r+"calendar"],b={start:n.c2r(m[o]-f/2,0,b),end:n.c2r(m[o]+f/2,0,b),size:f};a._input[i]=a[i]=b,(s=l._histogramBinOpts[a["_"+r+"bingroup"]])&&V.extendFlat(s,b)}return e[i]}(t,e,n,r,s)}(T=m.cumulative||{}).enabled&&"include"!==T.currentbin&&("decreasing"===T.direction?w.start=l(G.tickIncrement(u(w.start),w.size,!0,a)):w.end=l(G.tickIncrement(u(w.end),w.size,!1,a))),c.size=w.size,c.sizeFound||(k.size=w.size,V.nestedProperty(o[0],s+".size").set(w.size)),d("start",c,w),d("end",c,w)}g=e["_"+r+"pos0"],delete e["_"+r+"pos0"];var t=e._input[s]||{},T=V.extendFlat({},c),l=c.start,u=n.r2l(t.start),w=void 0!==u;(c.startFound||w)&&u!==n.r2l(l)&&(u=w?u:V.aggNums(Math.min,null,g),M={type:"category"===n.type||"multicategory"===n.type?"linear":n.type,r2l:n.r2l,dtick:c.size,tick0:l,calendar:a,range:[u,G.tickIncrement(u,c.size,!1,a)].map(n.l2r)},(M=G.tickFirst(M))>n.r2l(u)&&(M=G.tickIncrement(M,c.size,!0,a)),T.start=n.l2r(M),w||V.nestedProperty(e,s+".start").set(T.start));var M=c.end,w=n.r2l(t.end),t=void 0!==w;(c.endFound||t)&&w!==n.r2l(M)&&(w=t?w:V.aggNums(Math.max,null,g),T.end=n.l2r(w),t||V.nestedProperty(e,s+".start").set(T.end));t="autobin"+r;return!1===e._input[t]&&(e._input[s]=V.extendFlat({},e[s]||{}),delete e._input[t],delete e[t]),[T,g]}e.exports={calc:function(r,t){var e,n,i=[],o=[],a=G.getFromId(r,"h"===t.orientation?t.yaxis:t.xaxis),s={x:"y",y:"x"}[E="h"===t.orientation?"y":"x"],l=t[E+"calendar"],u=t.cumulative,c=(M=Q(r,t,a,E))[0],f=M[1],h="string"==typeof c.size,d=[],p=h?d:c,g=[],m=[],y=[],v=0,b=t.histnorm,x=t.histfunc,_=-1!==b.indexOf("density");u.enabled&&_&&(b=b.replace(/ ?density$/,""),_=!1);var w,k="max"===x||"min"===x?null:0,T=Y.count,M=X[b],A=!1,b=function(t){return a.r2c(t,0,l)};for(V.isArrayOrTypedArray(t[s])&&"count"!==x&&(w=t[s],A="avg"===x,T=Y[x]),R=b(c.start),n=b(c.end)+(R-G.tickIncrement(R,c.size,!1,l))/1e6;R<n&&i.length<1e6&&(e=G.tickIncrement(R,c.size,!1,l),i.push((R+e)/2),o.push(k),y.push([]),d.push(R),_&&g.push(1/(e-R)),A&&m.push(0),!(e<=R));)R=e;d.push(R),h||"date"!==a.type||(p={start:b(p.start),end:b(p.end),size:p.size}),r._fullLayout._roundFnOpts||(r._fullLayout._roundFnOpts={});var S=t["_"+E+"bingroup"],E={leftGap:1/0,rightGap:1/0};S&&(r._fullLayout._roundFnOpts[S]||(r._fullLayout._roundFnOpts[S]=E),E=r._fullLayout._roundFnOpts[S]);for(var C,O=o.length,j=!0,P=E.leftGap,N=E.rightGap,L={},R=0;R<f.length;R++){var D,I=f[R];0<=(D=V.findBin(I,p))&&D<O&&(v+=T(D,R,o,w,m),j&&y[D].length&&I!==f[y[D][0]]&&(j=!1),y[D].push(R),L[R]=D,P=Math.min(P,I-d[D]),N=Math.min(N,d[D+1]-I))}E.leftGap=P,E.rightGap=N,j||(C=function(e,n){return function(){var t=r._fullLayout._roundFnOpts[S];return $(t.leftGap,t.rightGap,d,a,l)(e,n)}}),A&&(v=Z(o,m)),M&&M(o,v,g),u.enabled&&function(e,t,n){var r,i,o;function a(t){o=e[t],e[t]/=2}function s(t){i=e[t],e[t]=o+i/2,o+=i}if("half"===n)if("increasing"===t)for(a(0),r=1;r<e.length;r++)s(r);else for(a(e.length-1),r=e.length-2;0<=r;r--)s(r);else if("increasing"===t){for(r=1;r<e.length;r++)e[r]+=e[r-1];"exclude"===n&&(e.unshift(0),e.pop())}else{for(r=e.length-2;0<=r;r--)e[r]+=e[r+1];"exclude"===n&&(e.push(0),e.shift())}}(o,u.direction,u.currentbin);var F,z=Math.min(i.length,o.length),B=[],U=0,H=z-1;for(R=0;R<z;R++)if(o[R]){U=R;break}for(R=z-1;U<=R;R--)if(o[R]){H=R;break}for(R=U;R<=H;R++)q(i[R])&&q(o[R])&&(F={p:i[R],s:o[R],b:0},u.enabled||(F.pts=y[R],j?F.ph0=F.ph1=y[R].length?f[y[R][0]]:i[R]:(t._computePh=!0,F.ph0=C(d[R]),F.ph1=C(d[R+1],!0))),B.push(F));return 1===B.length&&(B[0].width1=G.tickIncrement(B[0].p,c.size,!1,l)-B[0].p),W(B,t),V.isArrayOrTypedArray(t.selectedpoints)&&V.tagSelected(B,t,L),B},calcAllAutoBins:Q}},{"../../lib":776,"../../plots/cartesian/axes":823,"../../registry":877,"../bar/arrays_to_calcdata":886,"./average":902,"./bin_functions":904,"./bin_label_vals":905,"./norm_functions":913,"fast-isnumeric":450}],907:[function(t,e,n){"use strict";e.exports={eventDataKeys:["binNumber"]}},{}],908:[function(t,e,n){"use strict";var S=t("../../lib"),E=t("../../plots/cartesian/axis_ids"),C=t("../../registry").traceIs,O=t("../bar/defaults").handleGroupingDefaults,j=S.nestedProperty,P=t("../../plots/cartesian/constraints").getAxisGroup,N=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],L=["x","y"];e.exports=function(t,l){var e,u=l._histogramBinOpts={},n=[],r={},i=[];function o(t,e){return S.coerce(p._input,p,p._module.attributes,t,e)}function a(t){return"v"===t.orientation?"x":"y"}function s(t,e,n){var r=t.uid+"__"+n;e=e||r;var i=(a=t,s=n,E.getFromTrace({_fullLayout:l},a,s).type),o=t[n+"calendar"]||"",a=u[e],s=!0;a&&(i===a.axType&&o===a.calendar?(s=!1,a.traces.push(t),a.dirs.push(n)):(e=r,i!==a.axType&&S.warn(["Attempted to group the bins of trace",t.index,"set on a","type:"+i,"axis","with bins on","type:"+a.axType,"axis."].join(" ")),o!==a.calendar&&S.warn(["Attempted to group the bins of trace",t.index,"set with a",o,"calendar","with bins",a.calendar?"on a "+a.calendar+" calendar":"w/o a set calendar"].join(" ")))),s&&(u[e]={traces:[t],dirs:[n],axType:i,calendar:t[n+"calendar"]||""}),t["_"+n+"bingroup"]=e}for(f=0;f<t.length;f++)p=t[f],C(p,"histogram")&&(n.push(p),delete p._xautoBinFinished,delete p._yautoBinFinished,C(p,"2dMap")||O(p._input,p,l,o));for(var c=l._alignmentOpts||{},f=0;f<n.length;f++){var h,d,p=n[f],g="";C(p,"2dMap")||(d=a(p),"group"===l.barmode&&p.alignmentgroup&&(h=p[d+"axis"],(c[h=P(l,h)+p.orientation]||{})[p.alignmentgroup]&&(g=h)),g||"overlay"===l.barmode||(g=P(l,p.xaxis)+P(l,p.yaxis)+a(p))),g?(r[g]||(r[g]=[]),r[g].push(p)):i.push(p)}for(g in r)if(1!==(_=r[g]).length){var m=!1;for(_.length&&(p=_[0],m=o("bingroup")),g=m||g,f=0;f<_.length;f++){var y=(p=_[f])._input.bingroup;y&&y!==g&&S.warn(["Trace",p.index,"must match","within bingroup",g+".","Ignoring its bingroup:",y,"setting."].join(" ")),p.bingroup=g,s(p,g,a(p))}}else i.push(_[0]);for(f=0;f<i.length;f++){p=i[f];var v=o("bingroup");if(C(p,"2dMap"))for(e=0;e<2;e++){var b=o((d=L[e])+"bingroup",v?v+"__"+d:null);s(p,b,d)}else s(p,v,a(p))}for(g in u)for(var x=u[g],_=x.traces,w=0;w<N.length;w++){var k,T,M=N[w],A=M.name;if("nbins"!==A||!x.sizeFound){for(f=0;f<_.length;f++){if(p=_[f],d=x.dirs[f],k=M.aStr[d],void 0!==j(p._input,k).get()){x[A]=o(k),x[A+"Found"]=!0;break}(T=(p._autoBin||{})[d]||{})[A]&&j(p,k).set(T[A])}if("start"===A||"end"===A)for(;f<_.length;f++)(p=_[f])["_"+d+"bingroup"]&&o(k,(T=(p._autoBin||{})[d]||{})[A]);"nbins"!==A||x.sizeFound||x.nbinsFound||(p=_[0],x[A]=o(k))}}}},{"../../lib":776,"../../plots/cartesian/axis_ids":826,"../../plots/cartesian/constraints":830,"../../registry":877,"../bar/defaults":890}],909:[function(t,e,n){"use strict";var u=t("../../registry"),c=t("../../lib"),f=t("../../components/color"),h=t("../bar/style_defaults"),d=t("./attributes");e.exports=function(n,r,t,e){function i(t,e){return c.coerce(n,r,d,t,e)}var o=i("x"),a=i("y");i("cumulative.enabled")&&(i("cumulative.direction"),i("cumulative.currentbin")),i("text"),i("hovertext"),i("hovertemplate");var s=i("orientation",a&&!o?"h":"v"),l="v"===s?"x":"y",s="v"===s?"y":"x",a=o&&a?Math.min(c.minRowLength(o)&&c.minRowLength(a)):c.minRowLength(r[l]||[]);a?(r._length=a,u.getComponentMethod("calendars","handleTraceDefaults")(n,r,["x","y"],e),r[s]&&i("histfunc"),i("histnorm"),i("autobin"+l),h(n,r,i,t,e),c.coerceSelectionMarkerOpacity(r,i),t=(r.marker.line||{}).color,(e=u.getComponentMethod("errorbars","supplyDefaults"))(n,r,t||f.defaultLine,{axis:"y"}),e(n,r,t||f.defaultLine,{axis:"x",inherit:"y"})):r.visible=!1}},{"../../components/color":646,"../../lib":776,"../../registry":877,"../bar/style_defaults":899,"./attributes":901}],910:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i){if(t.x="xVal"in e?e.xVal:e.x,t.y="yVal"in e?e.yVal:e.y,"zLabelVal"in e&&(t.z=e.zLabelVal),e.xa&&(t.xaxis=e.xa),e.ya&&(t.yaxis=e.ya),!(n.cumulative||{}).enabled){var o,a=Array.isArray(i)?r[0].pts[i[0]][i[1]]:r[i].pts;if(t.pointNumbers=a,t.binNumber=t.pointNumber,delete t.pointNumber,delete t.pointIndex,n._indexToPoints){o=[];for(var s=0;s<a.length;s++)o=o.concat(n._indexToPoints[a[s]])}else o=a;t.pointIndices=o}return t}},{}],911:[function(t,e,n){"use strict";var i=t("../bar/hover").hoverPoints,o=t("../../plots/cartesian/axes").hoverLabelText;e.exports=function(t,e,n,r){e=i(t,e,n,r);if(e){n=(t=e[0]).cd[t.index],r=t.cd[0].trace;return r.cumulative.enabled||(t[(r="h"===r.orientation?"y":"x")+"Label"]=o(t[r+"a"],n.ph0,n.ph1)),e}}},{"../../plots/cartesian/axes":823,"../bar/hover":892}],912:[function(t,e,n){"use strict";e.exports={attributes:t("./attributes"),layoutAttributes:t("../bar/layout_attributes"),supplyDefaults:t("./defaults"),crossTraceDefaults:t("./cross_trace_defaults"),supplyLayoutDefaults:t("../bar/layout_defaults"),calc:t("./calc").calc,crossTraceCalc:t("../bar/cross_trace_calc").crossTraceCalc,plot:t("../bar/plot").plot,layerName:"barlayer",style:t("../bar/style").style,styleOnSelect:t("../bar/style").styleOnSelect,colorbar:t("../scatter/marker_colorbar"),hoverPoints:t("./hover"),selectPoints:t("../bar/select"),eventData:t("./event_data"),moduleType:"trace",name:"histogram",basePlotModule:t("../../plots/cartesian"),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},{"../../plots/cartesian":836,"../bar/cross_trace_calc":889,"../bar/layout_attributes":893,"../bar/layout_defaults":894,"../bar/plot":895,"../bar/select":896,"../bar/style":898,"../scatter/marker_colorbar":947,"./attributes":901,"./calc":906,"./cross_trace_defaults":908,"./defaults":909,"./event_data":910,"./hover":911}],913:[function(t,e,n){"use strict";e.exports={percent:function(t,e){for(var n=t.length,r=100/e,i=0;i<n;i++)t[i]*=r},probability:function(t,e){for(var n=t.length,r=0;r<n;r++)t[r]/=e},density:function(t,e,n,r){var i=t.length;r=r||1;for(var o=0;o<i;o++)t[o]*=n[o]*r},"probability density":function(t,e,n,r){var i=t.length;r&&(e/=r);for(var o=0;o<i;o++)t[o]*=n[o]/e}}},{}],914:[function(t,e,n){"use strict";var r=t("../../components/colorscale/attributes"),i=t("../../plots/template_attributes").hovertemplateAttrs,o=t("../mesh3d/attributes"),a=t("../../plots/attributes"),s=t("../../lib/extend").extendFlat,t=t("../../plot_api/edit_types").overrideAll;function l(){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function u(){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}a=e.exports=t(s({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:l(),y:l(),z:l()},caps:{x:u(),y:u(),z:u()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:i(),showlegend:s({},a.showlegend,{dflt:!1})},r("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:o.opacity,lightposition:o.lightposition,lighting:o.lighting,flatshading:o.flatshading,contour:o.contour,hoverinfo:s({},a.hoverinfo)}),"calc","nested");a.flatshading.dflt=!0,a.lighting.facenormalsepsilon.dflt=0,a.x.editType=a.y.editType=a.z.editType=a.value.editType="calc+clearAxisTypes",a.transforms=void 0},{"../../components/colorscale/attributes":653,"../../lib/extend":769,"../../plot_api/edit_types":805,"../../plots/attributes":819,"../../plots/template_attributes":876,"../mesh3d/attributes":919}],915:[function(t,e,n){"use strict";var s=t("../../components/colorscale/calc"),l=t("../streamtube/calc").processGrid,u=t("../streamtube/calc").filter;e.exports=function(t,e){e._len=Math.min(e.x.length,e.y.length,e.z.length,e.value.length),e._x=u(e.x,e._len),e._y=u(e.y,e._len),e._z=u(e.z,e._len),e._value=u(e.value,e._len);var n=l(e);e._gridFill=n.fill,e._Xs=n.Xs,e._Ys=n.Ys,e._Zs=n.Zs,e._len=n.len;for(var r=1/0,i=-1/0,o=0;o<e._len;o++)var a=e._value[o],r=Math.min(r,a),i=Math.max(i,a);e._minValues=r,e._maxValues=i,e._vMin=void 0===e.isomin||null===e.isomin?r:e.isomin,e._vMax=void 0===e.isomax||null===e.isomin?i:e.isomax,s(t,e,{vals:[e._vMin,e._vMax],containerStr:"",cLetter:"c"})}},{"../../components/colorscale/calc":654,"../streamtube/calc":957}],916:[function(t,e,n){"use strict";function et(t,e){for(var n=e.length-1;0<n;n--){var r=Math.min(e[n],e[n-1]),i=Math.max(e[n],e[n-1]);if(r<i&&r<t&&t<=i)return{id:n,distRatio:(i-t)/(i-r)}}return{id:0,distRatio:0}}var i=t("gl-mesh3d"),o=t("../../lib/gl_format_color").parseColorScale,a=t("../../lib/str2rgbarray"),s=t("../../components/colorscale").extractOpts,l=t("../../plots/gl3d/zip3");function u(t,e,n){this.scene=t,this.uid=n,this.mesh=e,this.name="",this.data=null,this.showContour=!1}t=u.prototype;t.handlePick=function(t){if(t.object===this.mesh){var e=t.data.index,n=this.data._meshX[e],r=this.data._meshY[e],i=this.data._meshZ[e],o=this.data._Ys.length,e=this.data._Zs.length,n=et(n,this.data._Xs).id,r=et(r,this.data._Ys).id,i=et(i,this.data._Zs).id,o=t.index=i+e*r+e*o*n;t.traceCoordinate=[this.data._meshX[o],this.data._meshY[o],this.data._meshZ[o],this.data._value[o]];n=this.data.hovertext||this.data.text;return Array.isArray(n)&&void 0!==n[o]?t.textLabel=n[o]:n&&(t.textLabel=n),!0}},t.update=function(t){var e=this.scene,n=e.fullSceneLayout;function r(e,t,n,r){return t.map(function(t){return e.d2l(t,0,r)*n})}this.data=c(t);n={positions:l(r(n.xaxis,t._meshX,e.dataScale[0],t.xcalendar),r(n.yaxis,t._meshY,e.dataScale[1],t.ycalendar),r(n.zaxis,t._meshZ,e.dataScale[2],t.zcalendar)),cells:l(t._meshI,t._meshJ,t._meshK),lightPosition:[t.lightposition.x,t.lightposition.y,t.lightposition.z],ambient:t.lighting.ambient,diffuse:t.lighting.diffuse,specular:t.lighting.specular,roughness:t.lighting.roughness,fresnel:t.lighting.fresnel,vertexNormalsEpsilon:t.lighting.vertexnormalsepsilon,faceNormalsEpsilon:t.lighting.facenormalsepsilon,opacity:t.opacity,contourEnable:t.contour.show,contourColor:a(t.contour.color).slice(0,3),contourWidth:t.contour.width,useFacetNormals:t.flatshading},e=s(t);n.vertexIntensity=t._meshIntensity,n.vertexIntensityBounds=[e.min,e.max],n.colormap=o(t),this.mesh.update(n)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var nt=["xyz","xzy","yxz","yzx","zxy","zyx"];function c(y){y._meshI=[],y._meshJ=[],y._meshK=[];var i,v,b,x,_,w,k,a=y.surface.show,s=y.spaceframe.show,l=y.surface.fill,u=y.spaceframe.fill,T=!1,g=!1,M=0,m=y._Xs,A=y._Ys,S=y._Zs,E=m.length,C=A.length,O=S.length,r=nt.indexOf(y._gridFill.replace(/-/g,"").replace(/\+/g,"")),j=function(t,e,n){switch(r){case 5:return n+O*e+O*C*t;case 4:return n+O*t+O*E*e;case 3:return e+C*n+C*O*t;case 2:return e+C*t+C*E*n;case 1:return t+E*n+E*O*e;default:return t+E*e+E*C*n}},c=y._minValues,f=y._maxValues,P=y._vMin,N=y._vMax;function L(){v=i}function h(){b=[],x=[],_=[],w=[],i=0,L()}function R(t,e,n,r){return b.push(t),x.push(e),_.push(n),w.push(r),++i-1}function D(t,e,n){for(var r=[],i=0;i<t.length;i++)r[i]=t[i]*(1-n)+n*e[i];return r}function I(t){k=t}function F(t,e){var n=t[0],r=t[1],i=t[2],o=function(t,e,n){for(var r=[],i=0;i<t.length;i++)r[i]=(t[i]+e[i]+n[i])/3;return r}(n,r,i),a=Math.sqrt(1-k),s=D(o,n,a),l=D(o,r,a),t=D(o,i,a),o=e[0],a=e[1],e=e[2];return{xyzv:[[n,r,l],[l,s,n],[r,i,t],[t,l,r],[i,n,s],[s,t,i]],abc:[[o,a,-1],[-1,-1,o],[a,e,-1],[-1,-1,a],[e,o,-1],[-1,-1,e]]}}function d(t,e){return"all"===t||null===t||-1<t.indexOf(e)}function p(t,e,n){L();var r,i=[e],o=[n];1<=k?(i=[e],o=[n]):0<k&&(i=(r=F(e,n)).xyzv,o=r.abc);for(var a,s,l,u=0;u<i.length;u++){e=i[u],n=o[u];for(var c=[],f=0;f<3;f++){var h=e[f][0],d=e[f][1],p=e[f][2],g=e[f][3],m=-1<n[f]?n[f]:function(t,e,n){for(var r=w.length,i=v;i<r;i++)if(t===b[i]&&e===x[i]&&n===_[i])return i;return-1}(h,d,p);c[f]=-1<m?m:R(h,d,p,(p=g,null===(g=t)?p:g))}a=c[0],s=c[1],l=c[2],y._meshI.push(a),y._meshJ.push(s),y._meshK.push(l),++M}}function z(r,i,o){function t(t,e,n){p(r,[i[t],i[e],i[n]],[o[t],o[e],o[n]])}t(0,1,2),t(2,3,0)}function e(r,i,o){function t(t,e,n){p(r,[i[t],i[e],i[n]],[o[t],o[e],o[n]])}t(0,1,2),t(3,0,1),t(2,3,0),t(1,2,3)}function B(t,e,n,r){var i=t[3];i<n&&(i=n),r<i&&(i=r);for(var o=(t[3]-i)/(t[3]-e[3]+1e-9),a=[],s=0;s<4;s++)a[s]=(1-o)*t[s]+o*e[s];return a}function n(t,e,n){return e<=t&&t<=n}function U(t){var e=.001*(N-P);return P-e<=t&&t<=N+e}function H(t){for(var e=[],n=0;n<4;n++){var r=t[n];e.push([y._x[r],y._y[r],y._z[r],y._value[r]])}return e}var q=3;function V(o,a,s,l,u,r){r=r||1;var c=!(s=[-1,-1,-1]),f=[n(a[0][3],l,u),n(a[1][3],l,u),n(a[2][3],l,u)];if(!f[0]&&!f[1]&&!f[2])return!1;function h(t,e,n){return U(e[0][3])&&U(e[1][3])&&U(e[2][3])?(p(t,e,n),!0):r<q&&V(t,e,0,P,N,++r)}if(f[0]&&f[1]&&f[2])return h(o,a,s)||c;var d=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(t){var e,n,r,i;f[t[0]]&&f[t[1]]&&!f[t[2]]&&(e=a[t[0]],n=a[t[1]],r=B(i=a[t[2]],e,l,u),i=B(i,n,l,u),c=h(o,[i,r,e],[-1,-1,s[t[0]]])||c,c=h(o,[e,n,i],[s[t[0]],s[t[1]],-1])||c,d=!0)}),d||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(t){var e,n,r;!f[t[0]]||f[t[1]]||f[t[2]]||(e=a[t[0]],n=a[t[1]],r=a[t[2]],n=B(n,e,l,u),r=B(r,e,l,u),c=h(o,[r,n,e],[-1,-1,s[t[0]]])||c,d=!0)}),c}function G(s,l,u,c){var t=!1,f=H(l),h=[n(f[0][3],u,c),n(f[1][3],u,c),n(f[2][3],u,c),n(f[3][3],u,c)];if(!(h[0]||h[1]||h[2]||h[3]))return t;if(h[0]&&h[1]&&h[2]&&h[3])return g&&e(s,f,l),t;var d=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(t){var e,n,r,i;h[t[0]]&&h[t[1]]&&h[t[2]]&&!h[t[3]]&&(e=f[t[0]],n=f[t[1]],r=f[t[2]],i=f[t[3]],g?p(s,[e,n,r],[l[t[0]],l[t[1]],l[t[2]]]):p(null,[B(i,e,u,c),B(i,n,u,c),B(i,r,u,c)],[-1,-1,-1]),d=!0)}),d?t:([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(t){var e,n,r,i,o,a;h[t[0]]&&h[t[1]]&&!h[t[2]]&&!h[t[3]]&&(e=f[t[0]],n=f[t[1]],o=f[t[2]],a=f[t[3]],r=B(o,e,u,c),i=B(o,n,u,c),o=B(a,n,u,c),a=B(a,e,u,c),g?(p(s,[e,a,r],[l[t[0]],-1,-1]),p(s,[n,i,o],[l[t[1]],-1,-1])):z(null,[r,i,o,a],[-1,-1,-1,-1]),d=!0)}),d||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(t){var e,n,r,i;!h[t[0]]||h[t[1]]||h[t[2]]||h[t[3]]||(e=f[t[0]],n=f[t[1]],r=f[t[2]],i=f[t[3]],n=B(n,e,u,c),r=B(r,e,u,c),i=B(i,e,u,c),g?(p(s,[e,n,r],[l[t[0]],-1,-1]),p(s,[e,r,i],[l[t[0]],-1,-1]),p(s,[e,i,n],[l[t[0]],-1,-1])):p(null,[n,r,i],[-1,-1,-1]),d=!0)}),t)}function W(t,e,n,r,i,o,a,s,l,u,c){var f=!1;return T&&(d(t,"A")&&(f=G(null,[e,n,r,o],u,c)||f),d(t,"B")&&(f=G(null,[n,r,i,l],u,c)||f),d(t,"C")&&(f=G(null,[n,o,a,l],u,c)||f),d(t,"D")&&(f=G(null,[r,o,s,l],u,c)||f),d(t,"E")&&(f=G(null,[n,r,o,l],u,c)||f)),g&&(f=G(t,[n,r,o,l],u,c)||f),f}function Y(t,e,n,r,i,o,a,s){return[!0===s[0]||V(t,H([e,n,r]),0,o,a),!0===s[1]||V(t,H([r,i,e]),0,o,a)]}function X(t,e,n,r,i,o,a,s,l){return s?Y(t,e,n,i,r,o,a,l):Y(t,n,i,r,e,o,a,l)}function Z(t,e,n,r,i,o,a){function s(){h=V(t,[l,u,c],0,i,o)||h,h=V(t,[c,f,l],0,i,o)||h}var l,u,c,f,h=!1,d=a[0],p=a[1],a=a[2];return d&&(l=D(H([j(e,+n,+r)])[0],H([j(e-1,+n,+r)])[0],d),u=D(H([j(e,+n,r-1)])[0],H([j(e-1,+n,r-1)])[0],d),c=D(H([j(e,n-1,r-1)])[0],H([j(e-1,n-1,r-1)])[0],d),f=D(H([j(e,n-1,+r)])[0],H([j(e-1,n-1,+r)])[0],d),s()),p&&(l=D(H([j(+e,n,+r)])[0],H([j(+e,n-1,+r)])[0],p),u=D(H([j(+e,n,r-1)])[0],H([j(+e,n-1,r-1)])[0],p),c=D(H([j(e-1,n,r-1)])[0],H([j(e-1,n-1,r-1)])[0],p),f=D(H([j(e-1,n,+r)])[0],H([j(e-1,n-1,+r)])[0],p),s()),a&&(l=D(H([j(+e,+n,r)])[0],H([j(+e,+n,r-1)])[0],a),u=D(H([j(+e,n-1,r)])[0],H([j(+e,n-1,r-1)])[0],a),c=D(H([j(e-1,n-1,r)])[0],H([j(e-1,n-1,r-1)])[0],a),f=D(H([j(e-1,+n,r)])[0],H([j(e-1,+n,r-1)])[0],a),s()),h}function $(t,e,n,r,i){for(var o=[],a=0,s=0;s<e.length;s++)for(var l=e[s],u=1;u<O;u++)for(var c=1;c<C;c++)o.push(X(t,j(l,c-1,u-1),j(l,c-1,u),j(l,c,u-1),j(l,c,u),n,r,(l+c+u)%2,i&&i[a]?i[a]:[])),a++;return o}function Q(t,e,n,r,i){for(var o=[],a=0,s=0;s<e.length;s++)for(var l=e[s],u=1;u<E;u++)for(var c=1;c<O;c++)o.push(X(t,j(u-1,l,c-1),j(u,l,c-1),j(u-1,l,c),j(u,l,c),n,r,(u+l+c)%2,i&&i[a]?i[a]:[])),a++;return o}function K(t,e,n,r,i){for(var o=[],a=0,s=0;s<e.length;s++)for(var l=e[s],u=1;u<C;u++)for(var c=1;c<E;c++)o.push(X(t,j(c-1,u-1,l),j(c-1,u,l),j(c,u-1,l),j(c,u,l),n,r,(c+u+l)%2,i&&i[a]?i[a]:[])),a++;return o}function J(t,e,n){for(var r,i,o,a,s,l,u,c,f,h,d,p,g=1;g<O;g++)for(var m=1;m<C;m++)for(var y=1;y<E;y++)r=t,i=j(y-1,m-1,g-1),o=j(y-1,m-1,g),a=j(y-1,m,g-1),s=j(y-1,m,g),l=j(y,m-1,g-1),u=j(y,m-1,g),c=j(y,m,g-1),f=j(y,m,g),h=e,d=n,p=void 0,p=r,(y+m+g)%2?(T&&"even"===r&&(p=null),W(p,i,o,a,s,l,u,c,f,h,d)):(T&&"odd"===r&&(p=null),W(p,f,c,u,l,s,a,o,i,h,d))}function tt(t,e){for(var n=[],r=t;r<e;r++)n.push(r);return n}return function(){h(),function(){for(var t=0;t<E;t++)for(var e=0;e<C;e++)for(var n=0;n<O;n++){var r=j(t,e,n);R(y._x[r],y._y[r],y._z[r],y._value[r])}}();var t,d=null;if(s&&u&&(I(u),g=!(t=d),J(t,P,N),g=!1),a&&l){I(l);for(var e=y.surface.pattern,n=y.surface.count,r=0;r<n;r++){var i=1===n?.5:r/(n-1),o=(1-i)*P+i*N,i=Math.abs(o-c),o=Math.abs(o-f)<i?[c,o]:[o,f];T=!0,J(e,o[0],o[1]),T=!1}}var p=[[Math.min(P,f),Math.max(P,f)],[Math.min(c,N),Math.max(c,N)]];["x","y","z"].forEach(function(t){for(var e=[],n=0;n<p.length;n++){var r=0,i=p[n][0],o=p[n][1],a=y.slices[t];if(a.show&&a.fill){I(a.fill);var s=[],l=[],u=[];if(a.locations.length)for(var c=0;c<a.locations.length;c++){var f=et(a.locations[c],"x"===t?m:"y"===t?A:S);0===f.distRatio?s.push(f.id):0<f.id&&(l.push(f.id),"x"===t?u.push([f.distRatio,0,0]):"y"===t?u.push([0,f.distRatio,0]):u.push([0,0,f.distRatio]))}else s=tt(1,"x"===t?E-1:"y"===t?C-1:O-1);0<l.length&&(e[r]=("x"===t?function(t,e,n,r,i,o){for(var a=[],s=0,l=0;l<e.length;l++)for(var u=e[l],c=1;c<O;c++)for(var f=1;f<C;f++)a.push(Z(t,u,f,c,n,r,i[l],o&&o[s]&&o[s])),s++;return a}:"y"===t?function(t,e,n,r,i,o){for(var a=[],s=0,l=0;l<e.length;l++)for(var u=e[l],c=1;c<E;c++)for(var f=1;f<O;f++)a.push(Z(t,c,u,f,n,r,i[l],o&&o[s]&&o[s])),s++;return a}:function(t,e,n,r,i,o){for(var a=[],s=0,l=0;l<e.length;l++)for(var u=e[l],c=1;c<C;c++)for(var f=1;f<E;f++)a.push(Z(t,f,c,u,n,r,i[l],o&&o[s]&&o[s])),s++;return a})(d,l,i,o,u,e[r]),r++),0<s.length&&(e[r]=("x"===t?$:"y"===t?Q:K)(d,s,i,o,e[r]),r++)}var h=y.caps[t];h.show&&h.fill&&(I(h.fill),e[r]="x"===t?$(d,[0,E-1],i,o,e[r]):"y"===t?Q(d,[0,C-1],i,o,e[r]):K(d,[0,O-1],i,o,e[r]),r++)}}),0===M&&h(),y._meshX=b,y._meshY=x,y._meshZ=_,y._meshIntensity=w,y._Xs=m,y._Ys=A,y._Zs=S}(),y}e.exports={findNearestOnAxis:et,generateIsoMeshes:c,createIsosurfaceTrace:function(t,e){var n=t.glplot.gl,r=i({gl:n}),n=new u(t,r,e.uid);return(r._trace=n).update(e),t.glplot.add(r),n}}},{"../../components/colorscale":658,"../../lib/gl_format_color":773,"../../lib/str2rgbarray":798,"../../plots/gl3d/zip3":865,"gl-mesh3d":506}],917:[function(t,e,n){"use strict";var i=t("../../lib"),u=t("../../registry"),o=t("./attributes"),c=t("../../components/colorscale/defaults");function a(t,e,n,r,i){var o=i("isomin"),a=i("isomax");null!=a&&null!=o&&a<o&&(e.isomin=null,e.isomax=null);var s=i("x"),l=i("y"),a=i("z"),o=i("value");s&&s.length&&l&&l.length&&a&&a.length&&o&&o.length?(u.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y","z"],r),["x","y","z"].forEach(function(t){var e="caps."+t;i(e+".show")&&i(e+".fill");t="slices."+t;i(t+".show")&&(i(t+".fill"),i(t+".locations"))}),i("spaceframe.show")&&i("spaceframe.fill"),i("surface.show")&&(i("surface.count"),i("surface.fill"),i("surface.pattern")),i("contour.show")&&(i("contour.color"),i("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(t){i(t)}),c(t,e,r,i,{prefix:"",cLetter:"c"}),e._length=null):e.visible=!1}e.exports={supplyDefaults:function(n,r,t,e){a(n,r,0,e,function(t,e){return i.coerce(n,r,o,t,e)})},supplyIsoDefaults:a}},{"../../components/colorscale/defaults":656,"../../lib":776,"../../registry":877,"./attributes":914}],918:[function(t,e,n){"use strict";e.exports={attributes:t("./attributes"),supplyDefaults:t("./defaults").supplyDefaults,calc:t("./calc"),colorbar:{min:"cmin",max:"cmax"},plot:t("./convert").createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:t("../../plots/gl3d"),categories:["gl3d","showLegend"],meta:{}}},{"../../plots/gl3d":854,"./attributes":914,"./calc":915,"./convert":916,"./defaults":917}],919:[function(t,e,n){"use strict";var r=t("../../components/colorscale/attributes"),i=t("../../plots/template_attributes").hovertemplateAttrs,o=t("../surface/attributes"),a=t("../../plots/attributes"),t=t("../../lib/extend").extendFlat;e.exports=t({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"}),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},r("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:o.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:t({},o.contours.x.show,{}),color:o.contours.x.color,width:o.contours.x.width,editType:"calc"},lightposition:{x:t({},o.lightposition.x,{dflt:1e5}),y:t({},o.lightposition.y,{dflt:1e5}),z:t({},o.lightposition.z,{dflt:0}),editType:"calc"},lighting:t({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},o.lighting),hoverinfo:t({},a.hoverinfo,{editType:"calc"}),showlegend:t({},a.showlegend,{dflt:!1})})},{"../../components/colorscale/attributes":653,"../../lib/extend":769,"../../plots/attributes":819,"../../plots/template_attributes":876,"../surface/attributes":958}],920:[function(t,e,n){"use strict";var r=t("../../lib");function i(t){return-1!==t.indexOf("e")?t.replace(/[.]?0+e/,"e"):-1!==t.indexOf(".")?t.replace(/[.]?0+$/,""):t}n.formatPiePercent=function(t,e){t=i((100*t).toPrecision(3));return r.numSeparate(t,e)+"%"},n.formatPieValue=function(t,e){t=i(t.toPrecision(10));return r.numSeparate(t,e)},n.getFirstFilled=function(t,e){if(Array.isArray(t))for(var n=0;n<e.length;n++){var r=t[e[n]];if(r||0===r||""===r)return r}},n.castOption=function(t,e){return Array.isArray(t)?n.getFirstFilled(t,e):t||void 0},n.getRotationAngle=function(t){return("auto"===t?0:t)*Math.PI/180}},{"../../lib":776}],921:[function(t,e,n){"use strict";var i=t("../../components/color"),o=t("./helpers").castOption;e.exports=function(t,e,n){var r=n.marker.line,n=o(r.color,e.pts)||i.defaultLine,r=o(r.width,e.pts)||0;t.style("stroke-width",r).call(i.fill,e.color).call(i.stroke,n)}},{"../../components/color":646,"./helpers":920}],922:[function(t,e,n){"use strict";var r=t("../scatter/attributes"),i=t("../../components/colorscale/attributes"),o=t("../../plots/template_attributes").hovertemplateAttrs,a=t("../../plots/template_attributes").texttemplateAttrs,s=t("../../plots/attributes"),l=t("../../constants/gl3d_dashes"),u=t("../../constants/gl3d_markers"),c=t("../../lib/extend").extendFlat,f=t("../../plot_api/edit_types").overrideAll,h=r.line,d=r.marker,t=d.line,l=c({width:h.width,dash:{valType:"enumerated",values:Object.keys(l),dflt:"solid"}},i("line"));function p(){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}}s=e.exports=f({x:r.x,y:r.y,z:{valType:"data_array"},text:c({},r.text,{}),texttemplate:a({},{}),hovertext:c({},r.hovertext,{}),hovertemplate:o(),mode:c({},r.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:p(),y:p(),z:p()},connectgaps:r.connectgaps,line:l,marker:c({symbol:{valType:"enumerated",values:Object.keys(u),dflt:"circle",arrayOk:!0},size:c({},d.size,{dflt:8}),sizeref:d.sizeref,sizemin:d.sizemin,sizemode:d.sizemode,opacity:c({},d.opacity,{arrayOk:!1}),colorbar:d.colorbar,line:c({width:c({},t.width,{arrayOk:!1})},i("marker.line"))},i("marker")),textposition:c({},r.textposition,{dflt:"top center"}),textfont:{color:r.textfont.color,size:r.textfont.size,family:c({},r.textfont.family,{arrayOk:!1})},hoverinfo:c({},s.hoverinfo)},"calc","nested");s.x.editType=s.y.editType=s.z.editType="calc+clearAxisTypes"},{"../../components/colorscale/attributes":653,"../../constants/gl3d_dashes":751,"../../constants/gl3d_markers":752,"../../lib/extend":769,"../../plot_api/edit_types":805,"../../plots/attributes":819,"../../plots/template_attributes":876,"../scatter/attributes":929}],923:[function(t,e,n){"use strict";var r=t("../scatter/arrays_to_calcdata"),i=t("../scatter/colorscale_calc");e.exports=function(t,e){var n=[{x:!1,y:!1,trace:e,t:{}}];return r(n,e),i(t,e),n}},{"../scatter/arrays_to_calcdata":928,"../scatter/colorscale_calc":932}],924:[function(t,e,n){"use strict";var f=t("../../registry");function c(t,e,n,r){if(!e||!e.visible)return null;for(var i=f.getComponentMethod("errorbars","makeComputeError")(e),o=new Array(t.length),a=0;a<t.length;a++){var s,l,u,c=i(+t[a],a);"log"===r.type?(s=r.c2l(t[a]),u=t[a]-c[0],l=t[a]+c[1],o[a]=[(r.c2l(u,!0)-s)*n,(r.c2l(l,!0)-s)*n],0<u&&(u=r.c2l(u),r._lowerLogErrorBound||(r._lowerLogErrorBound=u),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,u))):o[a]=[-c[0]*n,c[1]*n]}return o}e.exports=function(t,e,n){var r=[c(t.x,t.error_x,e[0],n.xaxis),c(t.y,t.error_y,e[1],n.yaxis),c(t.z,t.error_z,e[2],n.zaxis)],i=function(t){for(var e=0;e<t.length;e++)if(t[e])return t[e].length;return 0}(r);if(0===i)return null;for(var o=new Array(i),a=0;a<i;a++){for(var s=[[0,0,0],[0,0,0]],l=0;l<3;l++)if(r[l])for(var u=0;u<2;u++)s[u][l]=r[l][a][u];o[a]=s}return o}},{"../../registry":877}],925:[function(t,e,n){"use strict";var i=t("gl-line3d"),o=t("gl-scatter3d"),a=t("gl-error3d"),s=t("gl-mesh3d"),h=t("delaunay-triangulate"),L=t("../../lib"),R=t("../../lib/str2rgbarray"),D=t("../../lib/gl_format_color").formatColor,I=t("../scatter/make_bubble_size_func"),l=t("../../constants/gl3d_dashes"),r=t("../../constants/gl3d_markers"),F=t("../../plots/cartesian/axes"),z=t("../../components/fx/helpers").appendArrayPointValue,B=t("./calc_errors");function u(t,e){this.scene=t,this.uid=e,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}t=u.prototype;function U(t){return null==t?0:-1<t.indexOf("left")?-1:-1<t.indexOf("right")?1:0}function H(t){return null==t?0:-1<t.indexOf("top")?-1:-1<t.indexOf("bottom")?1:0}function q(t,e){return e(4*t)}function V(t){return r[t]}function G(t,e,n,r,i){var o=null;if(L.isArrayOrTypedArray(t)){o=[];for(var a=0;a<e;a++)void 0===t[a]?o[a]=r:o[a]=n(t[a],i)}else o=n(t,L.identity);return o}function c(t,e){var n,r,i,o,a=[],s=t.fullSceneLayout,l=t.dataScale,u=s.xaxis,c=s.yaxis,f=s.zaxis,h=e.marker,d=e.line,p=e.x||[],g=e.y||[],m=e.z||[],y=p.length,v=e.xcalendar,b=e.ycalendar,x=e.zcalendar;for(S=0;S<y;S++)n=u.d2l(p[S],0,v)*l[0],r=c.d2l(g[S],0,b)*l[1],i=f.d2l(m[S],0,x)*l[2],a[S]=[n,r,i];if(Array.isArray(e.text))A=e.text;else if(void 0!==e.text)for(A=new Array(y),S=0;S<y;S++)A[S]=e.text;function _(t,e){t=s[t];return F.tickText(t,t.d2l(e),!0).text}var w=e.texttemplate;if(w)for(var k=t.fullLayout._d3locale,t=Array.isArray(w),T=t?Math.min(w.length,y):y,M=t?function(t){return w[t]}:function(){return w},A=new Array(T),S=0;S<T;S++){var E={x:p[S],y:g[S],z:m[S]},C={xLabel:_("xaxis",p[S]),yLabel:_("yaxis",g[S]),zLabel:_("zaxis",m[S])},O={};z(O,e,S);var j=e._meta||{};A[S]=L.texttemplateString(M(S),C,k,O,E,j)}o={position:a,mode:e.mode,text:A},"line"in e&&(o.lineColor=D(d,1,y),o.lineWidth=d.width,o.lineDashes=d.dash),"marker"in e&&(d=I(e),o.scatterColor=D(h,1,y),o.scatterSize=G(h.size,y,q,20,d),o.scatterMarker=G(h.symbol,y,V,"●"),o.scatterLineWidth=h.line.width,o.scatterLineColor=D(h.line,1,y),o.scatterAngle=0),"textposition"in e&&(o.textOffset=function(t){var e=[0,0];if(Array.isArray(t))for(var n=0;n<t.length;n++)e[n]=[0,0],t[n]&&(e[n][0]=U(t[n]),e[n][1]=H(t[n]));else e[0]=U(t),e[1]=H(t);return e}(e.textposition),o.textColor=D(e.textfont,1,y),o.textSize=G(e.textfont.size,y,L.identity,12),o.textFont=e.textfont.family,o.textAngle=0);var P=["x","y","z"];for(o.project=[!1,!1,!1],o.projectScale=[1,1,1],o.projectOpacity=[1,1,1],S=0;S<3;++S){var N=e.projection[P[S]];(o.project[S]=N.show)&&(o.projectOpacity[S]=N.opacity,o.projectScale[S]=N.scale)}o.errorBounds=B(e,l,s);h=function(t){for(var e=[0,0,0],n=[[0,0,0],[0,0,0],[0,0,0]],r=[1,1,1],i=0;i<3;i++){var o=t[i];o&&!1!==o.copy_zstyle&&!1!==t[2].visible&&(o=t[2]),o&&o.visible&&(e[i]=o.width/2,n[i]=R(o.color),r[i]=o.thickness)}return{capSize:e,color:n,lineWidth:r}}([e.error_x,e.error_y,e.error_z]);return o.errorColor=h.color,o.errorLineWidth=h.lineWidth,o.errorCapSize=h.capSize,o.delaunayAxis=e.surfaceaxis,o.delaunayColor=R(e.surfacecolor),o}function f(t){if(L.isArrayOrTypedArray(t)){var e=t[0];return L.isArrayOrTypedArray(e)&&(t=e),"rgb("+t.slice(0,3).map(function(t){return Math.round(255*t)})+")"}return null}function d(t){return L.isArrayOrTypedArray(t)?4===t.length&&"number"==typeof t[0]?f(t):t.map(f):null}t.handlePick=function(t){if(t.object&&(t.object===this.linePlot||t.object===this.delaunayMesh||t.object===this.textMarkers||t.object===this.scatterPlot)){var e=t.index=t.data.index;return t.object.highlight&&t.object.highlight(null),this.scatterPlot&&(t.object=this.scatterPlot,this.scatterPlot.highlight(t.data)),t.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?!this.textLabels[e]&&0!==this.textLabels[e]||(t.textLabel=this.textLabels[e]):t.textLabel=this.textLabels),t.traceCoordinate=[this.data.x[e],this.data.y[e],this.data.z[e]],!0}},t.update=function(t){var e=this.scene.glplot.gl,n=l.solid;this.data=t;var r=c(this.scene,t);"mode"in r&&(this.mode=r.mode),"lineDashes"in r&&r.lineDashes in l&&(n=l[r.lineDashes]),this.color=d(r.scatterColor)||d(r.lineColor),this.dataPoints=r.position,n={gl:this.scene.glplot.gl,position:r.position,color:r.lineColor,lineWidth:r.lineWidth||1,dashes:n[0],dashScale:n[1],opacity:t.opacity,connectGaps:t.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(n):(this.linePlot=i(n),(this.linePlot._trace=this).scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var n=t.opacity;t.marker&&t.marker.opacity&&(n*=t.marker.opacity),n={gl:this.scene.glplot.gl,position:r.position,color:r.scatterColor,size:r.scatterSize,glyph:r.scatterMarker,opacity:n,orthographic:!0,lineWidth:r.scatterLineWidth,lineColor:r.scatterLineColor,project:r.project,projectScale:r.projectScale,projectOpacity:r.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(n):(this.scatterPlot=o(n),(this.scatterPlot._trace=this).scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),n={gl:this.scene.glplot.gl,position:r.position,glyph:r.text,color:r.textColor,size:r.textSize,angle:r.textAngle,alignment:r.textOffset,font:r.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:t.opacity},this.textLabels=t.hovertext||t.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(n):(this.textMarkers=o(n),(this.textMarkers._trace=this).textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),n={gl:this.scene.glplot.gl,position:r.position,color:r.errorColor,error:r.errorBounds,lineWidth:r.errorLineWidth,capSize:r.errorCapSize,opacity:t.opacity},this.errorBars?r.errorBounds?this.errorBars.update(n):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):r.errorBounds&&(this.errorBars=a(n),(this.errorBars._trace=this).scene.glplot.add(this.errorBars)),0<=r.delaunayAxis?((r=function(t,e,n){for(var r=(n+1)%3,i=(n+2)%3,o=[],a=[],s=0;s<t.length;++s){var l=t[s];!isNaN(l[r])&&isFinite(l[r])&&!isNaN(l[i])&&isFinite(l[i])&&(o.push([l[r],l[i]]),a.push(s))}var u=h(o);for(s=0;s<u.length;++s)for(var c=u[s],f=0;f<c.length;++f)c[f]=a[c[f]];return{positions:t,cells:u,meshColor:e}}(r.position,r.delaunayColor,r.delaunayAxis)).opacity=t.opacity,this.delaunayMesh?this.delaunayMesh.update(r):(r.gl=e,this.delaunayMesh=s(r),(this.delaunayMesh._trace=this).scene.glplot.add(this.delaunayMesh))):this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},t.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},e.exports=function(t,e){return(t=new u(t,e.uid)).update(e),t}},{"../../components/fx/helpers":682,"../../constants/gl3d_dashes":751,"../../constants/gl3d_markers":752,"../../lib":776,"../../lib/gl_format_color":773,"../../lib/str2rgbarray":798,"../../plots/cartesian/axes":823,"../scatter/make_bubble_size_func":946,"./calc_errors":924,"delaunay-triangulate":442,"gl-error3d":467,"gl-line3d":473,"gl-mesh3d":506,"gl-scatter3d":514}],926:[function(t,e,n){"use strict";var c=t("../../registry"),f=t("../../lib"),h=t("../scatter/subtypes"),d=t("../scatter/marker_defaults"),p=t("../scatter/line_defaults"),g=t("../scatter/text_defaults"),m=t("./attributes");e.exports=function(n,r,t,e){function i(t,e){return f.coerce(n,r,m,t,e)}if(function(t,e,n,r){var i=0,o=n("x"),a=n("y"),n=n("z");c.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y","z"],r),o&&a&&n&&(i=Math.min(o.length,a.length,n.length),e._length=e._xlength=e._ylength=e._zlength=i);return i}(n,r,i,e)){i("text"),i("hovertext"),i("hovertemplate"),i("mode"),h.hasLines(r)&&(i("connectgaps"),p(n,r,t,e,i)),h.hasMarkers(r)&&d(n,r,t,e,i,{noSelect:!0}),h.hasText(r)&&(i("texttemplate"),g(n,r,e,i,{noSelect:!0}));var o=(r.line||{}).color,a=(r.marker||{}).color;0<=i("surfaceaxis")&&i("surfacecolor",o||a);for(var s=["x","y","z"],l=0;l<3;++l){var u="projection."+s[l];i(u+".show")&&(i(u+".opacity"),i(u+".scale"))}e=c.getComponentMethod("errorbars","supplyDefaults");e(n,r,o||a||t,{axis:"z"}),e(n,r,o||a||t,{axis:"y",inherit:"z"}),e(n,r,o||a||t,{axis:"x",inherit:"z"})}else r.visible=!1}},{"../../lib":776,"../../registry":877,"../scatter/line_defaults":942,"../scatter/marker_defaults":948,"../scatter/subtypes":954,"../scatter/text_defaults":955,"./attributes":922}],927:[function(t,e,n){"use strict";e.exports={plot:t("./convert"),attributes:t("./attributes"),markerSymbols:t("../../constants/gl3d_markers"),supplyDefaults:t("./defaults"),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:t("./calc"),moduleType:"trace",name:"scatter3d",basePlotModule:t("../../plots/gl3d"),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},{"../../constants/gl3d_markers":752,"../../plots/gl3d":854,"./attributes":922,"./calc":923,"./convert":925,"./defaults":926}],928:[function(t,e,n){"use strict";var i=t("../../lib");e.exports=function(t,e){for(var n=0;n<t.length;n++)t[n].i=n;i.mergeArray(e.text,t,"tx"),i.mergeArray(e.texttemplate,t,"txt"),i.mergeArray(e.hovertext,t,"htx"),i.mergeArray(e.customdata,t,"data"),i.mergeArray(e.textposition,t,"tp"),e.textfont&&(i.mergeArrayCastPositive(e.textfont.size,t,"ts"),i.mergeArray(e.textfont.color,t,"tc"),i.mergeArray(e.textfont.family,t,"tf"));var r=e.marker;r&&(i.mergeArrayCastPositive(r.size,t,"ms"),i.mergeArrayCastPositive(r.opacity,t,"mo"),i.mergeArray(r.symbol,t,"mx"),i.mergeArray(r.color,t,"mc"),e=r.line,r.line&&(i.mergeArray(e.color,t,"mlc"),i.mergeArrayCastPositive(e.width,t,"mlw")),(r=r.gradient)&&"none"!==r.type&&(i.mergeArray(r.type,t,"mgt"),i.mergeArray(r.color,t,"mgc")))}},{"../../lib":776}],929:[function(t,e,n){"use strict";var r=t("../../plots/template_attributes").texttemplateAttrs,i=t("../../plots/template_attributes").hovertemplateAttrs,o=t("../../components/colorscale/attributes"),a=t("../../plots/font_attributes"),s=t("../../components/drawing/attributes").dash,l=t("../../components/drawing"),u=t("./constants"),t=t("../../lib/extend").extendFlat;function c(){return{valType:"any",dflt:0,editType:"calc"}}function f(){return{valType:"any",editType:"calc"}}function h(){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}e.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:c(),yperiod:c(),xperiod0:f(),yperiod0:f(),xperiodalignment:h(),yperiodalignment:h(),stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:r({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:i({},{keys:u.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:t({},s,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},marker:t({symbol:{valType:"enumerated",values:l.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:t({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},o("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},o("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:a({editType:"calc",colorEditType:"style",arrayOk:!0}),r:{valType:"data_array",editType:"calc"},t:{valType:"data_array",editType:"calc"}}},{"../../components/colorscale/attributes":653,"../../components/drawing":668,"../../components/drawing/attributes":667,"../../lib/extend":769,"../../plots/font_attributes":851,"../../plots/template_attributes":876,"./constants":933}],930:[function(t,e,n){"use strict";var j=t("fast-isnumeric"),P=t("../../lib"),N=t("../../plots/cartesian/axes"),L=t("../../plots/cartesian/align_period"),R=t("../../constants/numerical").BADNUM,p=t("./subtypes"),D=t("./colorscale_calc"),I=t("./arrays_to_calcdata"),F=t("./calc_selection");function z(t,e,n,r,i,o,a){var s=e._length,l=t._fullLayout,u=n._id,c=r._id,f=l._firstScatter[g(e)]===e.uid,h=(H(e,l,n,r)||{}).orientation,d=e.fill;n._minDtick=0;t={padded:!(r._minDtick=0)},l={padded:!0};a&&(t.ppad=l.ppad=a);s=s<2||i[0]!==i[s-1]||o[0]!==o[s-1];s&&("tozerox"===d||"tonextx"===d&&(f||"h"===h))?t.tozero=!0:(e.error_y||{}).visible||"tonexty"!==d&&"tozeroy"!==d&&(p.hasMarkers(e)||p.hasText(e))||(t.padded=!1,t.ppad=0),s&&("tozeroy"===d||"tonexty"===d&&(f||"v"===h))?l.tozero=!0:"tonextx"!==d&&"tozerox"!==d||(l.padded=!1),u&&(e._extremes[u]=N.findExtremes(n,i,t)),c&&(e._extremes[c]=N.findExtremes(r,o,l))}function B(t,e){if(p.hasMarkers(t)){var n=t.marker,r=1.6*(t.marker.sizeref||1),i="area"===t.marker.sizemode?function(t){return Math.max(Math.sqrt((t||0)/r),3)}:function(t){return Math.max((t||0)/r,3)};if(P.isArrayOrTypedArray(n.size)){var o={type:"linear"};N.setConvert(o);for(var a=o.makeCalcdata(t.marker,"size"),s=new Array(e),l=0;l<e;l++)s[l]=i(a[l]);return s}return i(n.size)}}function U(t,e){var n=g(e),t=t._firstScatter;t[n]||(t[n]=e.uid)}function g(t){var e=t.stackgroup;return t.xaxis+t.yaxis+t.type+(e?"-"+e:"")}function H(t,e,n,r){t=t.stackgroup;if(t){t=e._scatterStackOpts[n._id+r._id][t],n="v"===t.orientation?r:n;return"linear"===n.type||"log"===n.type?t:void 0}}e.exports={calc:function(t,e){var n,r,i,o,a,s=t._fullLayout,l=N.getFromId(t,e.xaxis||"x"),u=N.getFromId(t,e.yaxis||"y"),c=l.makeCalcdata(e,"x"),f=u.makeCalcdata(e,"y"),h=L(e,l,"x",c),d=L(e,u,"y",f),p=e._length,g=new Array(p),m=e.ids,y=H(e,s,l,u),v=!1;U(s,e);var b,x="x",_="y";y?(P.pushUnique(y.traceIndices,e._expandedIndex),n="v"===y.orientation,b=n?(_="s","x"):(x="s","y"),o="interpolate"===y.stackgaps):z(t,e,l,u,h,d,B(e,p));for(var w=!!e.xperiodalignment,k=!!e.yperiodalignment,T=0;T<p;T++){var M=g[T]={},A=j(h[T]),S=j(d[T]);A&&S?(M[x]=h[T],M[_]=d[T],w&&(M.orig_x=c[T]),k&&(M.orig_y=f[T])):y&&(n?A:S)?(M[b]=(n?h:d)[T],M.gap=!0,o?(M.s=R,v=!0):M.s=0):M[x]=M[_]=R,m&&(M.id=String(m[T]))}if(I(g,e),D(t,e),F(g,e),y){for(T=0;T<g.length;)g[T][b]===R?g.splice(T,1):T++;if(P.sort(g,function(t,e){return t[b]-e[b]||t.i-e.i}),v){for(T=0;T<g.length-1&&g[T].gap;)T++;for(a=(a=g[T].s)||(g[T].s=0),r=0;r<T;r++)g[r].s=a;for(i=g.length-1;T<i&&g[i].gap;)i--;for(a=g[i].s,r=g.length-1;i<r;r--)g[r].s=a;for(;T<i;)if(g[++T].gap){for(r=T+1;g[r].gap;)r++;for(var E=g[T-1][b],C=g[T-1].s,O=(g[r].s-C)/(g[r][b]-E);T<r;)g[T].s=C+(g[T][b]-E)*O,T++}}}return g},calcMarkerSize:B,calcAxisExpansion:z,setFirstScatter:U,getStackOpts:H}},{"../../constants/numerical":754,"../../lib":776,"../../plots/cartesian/align_period":820,"../../plots/cartesian/axes":823,"./arrays_to_calcdata":928,"./calc_selection":931,"./colorscale_calc":932,"./subtypes":954,"fast-isnumeric":450}],931:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t,e){r.isArrayOrTypedArray(e.selectedpoints)&&r.tagSelected(t,e)}},{"../../lib":776}],932:[function(t,e,n){"use strict";var r=t("../../components/colorscale/helpers").hasColorscale,i=t("../../components/colorscale/calc"),o=t("./subtypes");e.exports=function(t,e){o.hasLines(e)&&r(e,"line")&&i(t,e,{vals:e.line.color,containerStr:"line",cLetter:"c"}),o.hasMarkers(e)&&(r(e,"marker")&&i(t,e,{vals:e.marker.color,containerStr:"marker",cLetter:"c"}),r(e,"marker.line")&&i(t,e,{vals:e.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":654,"../../components/colorscale/helpers":657,"./subtypes":954}],933:[function(t,e,n){"use strict";e.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],934:[function(t,e,n){"use strict";var P=t("./calc");function N(t,e,n,r,i,o,a){var s,r={i:null,gap:i[r]=!0,s:0};r[a]=n,t.splice(e,0,r),e&&n===t[e-1][a]?(s=t[e-1],r.s=s.s,r.i=s.i,r.gap=s.gap):o&&(r.s=(s=n,o=a,a=(r=t)[(n=e)-1],(n=r[n+1])?a?a.s+(n.s-a.s)*(s-a[o])/(n[o]-a[o]):n.s:a.s)),e||(t[0].t=t[1].t,t[0].trace=t[1].trace,delete t[1].t,delete t[1].trace)}e.exports=function(t,e){var n=e.xaxis,r=e.yaxis,e=n._id+r._id,i=t._fullLayout._scatterStackOpts[e];if(i){var o,a,s,l,u,c,f,h,d,p,g,m,y,v,b=t.calcdata;for(v in i){var x=(h=i[v]).traceIndices;if(x.length){for(d="interpolate"===h.stackgaps,p=h.groupnorm,m="v"===h.orientation?(g="x","y"):(g="y","x"),y=new Array(x.length),w=0;w<y.length;w++)y[w]=!1;l=b[x[0]];for(var _=new Array(l.length),w=0;w<l.length;w++)_[w]=l[w][g];for(w=1;w<x.length;w++){for(s=b[x[w]],C=o=0;C<s.length;C++){for(u=s[C][g];u>_[o]&&o<_.length;o++)N(s,C,_[o],w,y,d,g),C++;if(u!==_[o]){for(a=0;a<w;a++)N(b[x[a]],o,u,a,y,d,g);_.splice(o,0,u)}o++}for(;o<_.length;o++)N(s,C,_[o],w,y,d,g),C++}var k=_.length;for(C=0;C<l.length;C++){for(c=l[C][m]=l[C].s,w=1;w<x.length;w++)(s=b[x[w]])[0].trace._rawLength=s[0].trace._length,s[0].trace._length=k,c+=s[C].s,s[C][m]=c;if(p)for(f=("fraction"===p?c:c/100)||1,w=0;w<x.length;w++){var T=b[x[w]][C];T[m]/=f,T.sNorm=T.s/f}}for(w=0;w<x.length;w++){var M=(s=b[x[w]])[0].trace,A=P.calcMarkerSize(M,M._rawLength),S=Array.isArray(A);if(A&&y[w]||S)for(var E=A,A=new Array(k),C=0;C<k;C++)A[C]=s[C].gap?0:S?E[s[C].i]:E;var O=new Array(k),j=new Array(k);for(C=0;C<k;C++)O[C]=s[C].x,j[C]=s[C].y;P.calcAxisExpansion(t,M,n,r,O,j,A),s[0].t.orientation=h.orientation}}}}}},{"./calc":930}],935:[function(t,e,n){"use strict";e.exports=function(t){for(var e=0;e<t.length;e++){var n=t[e];if("scatter"===n.type){var r=n.fill;if("none"!==r&&"toself"!==r&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var i=e-1;0<=i;i--){var o=t[i];if("scatter"===o.type&&o.xaxis===n.xaxis&&o.yaxis===n.yaxis){o.opacity=void 0;break}}}}}},{}],936:[function(t,e,n){"use strict";var s=t("../../lib"),l=t("../../registry"),u=t("./attributes"),c=t("./constants"),f=t("./subtypes"),h=t("./xy_defaults"),d=t("./period_defaults"),p=t("./stack_defaults"),g=t("./marker_defaults"),m=t("./line_defaults"),y=t("./line_shape_defaults"),v=t("./text_defaults"),b=t("./fillcolor_defaults");e.exports=function(n,r,t,e){function i(t,e){return s.coerce(n,r,u,t,e)}var o,a=h(n,r,e,i);a||(r.visible=!1),r.visible&&(d(n,r,e,i),a=!(o=p(n,r,e,i))&&a<c.PTS_LINESONLY?"lines+markers":"lines",i("text"),i("hovertext"),i("mode",a),f.hasLines(r)&&(m(n,r,t,e,i),y(n,r,i),i("connectgaps"),i("line.simplify")),f.hasMarkers(r)&&g(n,r,t,e,i,{gradient:!0}),f.hasText(r)&&(i("texttemplate"),v(n,r,e,i)),a=[],(f.hasMarkers(r)||f.hasText(r))&&(i("cliponaxis"),i("marker.maxdisplayed"),a.push("points")),i("fill",o?o.fillDflt:"none"),"none"!==r.fill&&(b(n,r,t,i),f.hasLines(r)||y(n,r,i)),e=(r.line||{}).color,o=(r.marker||{}).color,"tonext"!==r.fill&&"toself"!==r.fill||a.push("fills"),i("hoveron",a.join("+")||"points"),"fills"!==r.hoveron&&i("hovertemplate"),(a=l.getComponentMethod("errorbars","supplyDefaults"))(n,r,e||o||t,{axis:"y"}),a(n,r,e||o||t,{axis:"x",inherit:"y"}),s.coerceSelectionMarkerOpacity(r,i))}},{"../../lib":776,"../../registry":877,"./attributes":929,"./constants":933,"./fillcolor_defaults":937,"./line_defaults":942,"./line_shape_defaults":944,"./marker_defaults":948,"./period_defaults":949,"./stack_defaults":952,"./subtypes":954,"./text_defaults":955,"./xy_defaults":956}],937:[function(t,e,n){"use strict";var s=t("../../components/color"),l=t("../../lib").isArrayOrTypedArray;e.exports=function(t,e,n,r){var i,o,a=!1;e.marker&&(i=e.marker.color,o=(e.marker.line||{}).color,i&&!l(i)?a=i:o&&!l(o)&&(a=o)),r("fillcolor",s.addOpacity((e.line||{}).color||a||n,.5))}},{"../../components/color":646,"../../lib":776}],938:[function(t,e,n){"use strict";var o=t("../../plots/cartesian/axes");e.exports=function(t,e,n){var r={},i={_fullLayout:n},n=o.getFromTrace(i,e,"x"),e=o.getFromTrace(i,e,"y");return r.xLabel=o.tickText(n,t.x,!0).text,r.yLabel=o.tickText(e,t.y,!0).text,r}},{"../../plots/cartesian/axes":823}],939:[function(t,e,n){"use strict";var o=t("../../components/color"),a=t("./subtypes");e.exports=function(t,e){var n;if("lines"===t.mode)return(n=t.line.color)&&o.opacity(n)?n:t.fillcolor;if("none"===t.mode)return t.fill?t.fillcolor:"";var r=e.mcc||(t.marker||{}).color,i=e.mlcc||((t.marker||{}).line||{}).color;return(i=r&&o.opacity(r)?r:i&&o.opacity(i)&&(e.mlw||((t.marker||{}).line||{}).width)?i:"")?o.opacity(i)<.3?o.addOpacity(i,.3):i:(n=(t.line||{}).color)&&o.opacity(n)&&a.hasLines(t)&&t.line.width?n:t.fillcolor}},{"../../components/color":646,"./subtypes":954}],940:[function(t,e,n){"use strict";var N=t("../../lib"),L=t("../../components/fx"),R=t("../../registry"),D=t("./get_trace_color"),I=t("../../components/color"),F=N.fillText;e.exports=function(t,e,n,r){var i=t.cd,o=i[0].trace,a=t.xa,s=t.ya,l=a.c2p(e),u=s.c2p(n),c=[l,u],f=o.hoveron||"",h=-1!==o.mode.indexOf("markers")?3:.5;if(-1!==f.indexOf("points")){var d=function(t){var e=Math.max(h,t.mrc||0),n=a.c2p(t.x)-l,t=s.c2p(t.y)-u;return Math.max(Math.sqrt(n*n+t*t)-e,1-h/e)},p=L.getDistanceFunction(r,function(t){var e=Math.max(3,t.mrc||0),n=1-1/e,t=Math.abs(a.c2p(t.x)-l);return t<e?n*t/e:t-e+n},function(t){var e=Math.max(3,t.mrc||0),n=1-1/e,t=Math.abs(s.c2p(t.y)-u);return t<e?n*t/e:t-e+n},d);if(L.getClosest(i,p,t),!1!==t.index){var g=i[t.index],m=a.c2p(g.x,!0),e=s.c2p(g.y,!0),n=g.mrc||1;t.index=g.i;r=i[0].t.orientation,p=r&&(g.sNorm||g.s),i="h"===r?p:void 0!==g.orig_x?g.orig_x:g.x,p="v"===r?p:void 0!==g.orig_y?g.orig_y:g.y;return N.extendFlat(t,{color:D(o,g),x0:m-n,x1:m+n,xLabelVal:i,y0:e-n,y1:e+n,yLabelVal:p,spikeDistance:d(g),hovertemplate:o.hovertemplate}),F(g,o,t),R.getComponentMethod("errorbars","hoverInfo")(g,o,t),[t]}}if(-1!==f.indexOf("fills")&&o._polygons){var y,v,b,x,_,w,k,T=o._polygons,M=[],A=!1,S=1/0,E=-1/0,C=1/0,O=-1/0;for(P=0;P<T.length;P++)(v=T[P]).contains(c)&&(A=!A,M.push(v),C=Math.min(C,v.ymin),O=Math.max(O,v.ymax));if(A){for(var j=((C=Math.max(C,0))+(O=Math.min(O,s._length)))/2,P=0;P<M.length;P++)for(b=M[P].pts,y=1;y<b.length;y++)j<(w=b[y-1][1])!=j<=(k=b[y][1])&&(x=b[y-1][0],_=b[y][0],k-w&&(w=x+(_-x)*(j-w)/(k-w),S=Math.min(S,w),E=Math.max(E,w)));S=Math.max(S,0),E=Math.min(E,a._length);f=I.defaultLine;return I.opacity(o.fillcolor)?f=o.fillcolor:I.opacity((o.line||{}).color)&&(f=o.line.color),N.extendFlat(t,{distance:t.maxHoverDistance,x0:S,x1:E,y0:j,y1:j,color:f,hovertemplate:!1}),delete t.index,o.text&&!Array.isArray(o.text)?t.text=String(o.text):t.text=o.name,[t]}}}},{"../../components/color":646,"../../components/fx":686,"../../lib":776,"../../registry":877,"./get_trace_color":939}],941:[function(t,e,n){"use strict";var r=t("./subtypes");e.exports={hasLines:r.hasLines,hasMarkers:r.hasMarkers,hasText:r.hasText,isBubble:r.isBubble,attributes:t("./attributes"),supplyDefaults:t("./defaults"),crossTraceDefaults:t("./cross_trace_defaults"),calc:t("./calc").calc,crossTraceCalc:t("./cross_trace_calc"),arraysToCalcdata:t("./arrays_to_calcdata"),plot:t("./plot"),colorbar:t("./marker_colorbar"),formatLabels:t("./format_labels"),style:t("./style").style,styleOnSelect:t("./style").styleOnSelect,hoverPoints:t("./hover"),selectPoints:t("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:t("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":836,"./arrays_to_calcdata":928,"./attributes":929,"./calc":930,"./cross_trace_calc":934,"./cross_trace_defaults":935,"./defaults":936,"./format_labels":938,"./hover":940,"./marker_colorbar":947,"./plot":950,"./select":951,"./style":953,"./subtypes":954}],942:[function(t,e,n){"use strict";var s=t("../../lib").isArrayOrTypedArray,l=t("../../components/colorscale/helpers").hasColorscale,u=t("../../components/colorscale/defaults");e.exports=function(t,e,n,r,i,o){var a=(t.marker||{}).color;i("line.color",n),l(t,"line")?u(t,e,r,i,{prefix:"line.",cLetter:"c"}):i("line.color",!s(a)&&a||n),i("line.width"),(o||{}).noDash||i("line.dash")}},{"../../components/colorscale/defaults":656,"../../components/colorscale/helpers":657,"../../lib":776}],943:[function(t,e,n){"use strict";var r=t("../../constants/numerical"),ot=r.BADNUM,r=r.LOG_CLIP,at=r+.5,st=r-.5,lt=t("../../lib"),ut=lt.segmentsIntersect,ct=lt.constrain,ft=t("./constants");e.exports=function(r,i){var t,e,n,o,a,s,l,u,c,f,h,d,p,g,m,y,v=i.xaxis,b=i.yaxis,x="log"===v.type,_="log"===b.type,w=v._length,k=b._length,T=i.connectGaps,M=i.baseTolerance,A=i.shape,S="linear"===A,E=i.fill&&"none"!==i.fill,C=[],O=ft.minTolerance,j=r.length,P=new Array(j),N=0;function L(t){var e=r[t];if(!e)return!1;var n=i.linearized?v.l2p(e.x):v.c2p(e.x),t=i.linearized?b.l2p(e.y):b.c2p(e.y);if(n===ot){if(x&&(n=v.c2p(e.x,!0)),n===ot)return!1;_&&t===ot&&(n*=Math.abs(v._m*k*(0<v._m?at:st)/(b._m*w*(0<b._m?at:st)))),n*=1e3}if(t===ot){if(_&&(t=b.c2p(e.y,!0)),t===ot)return!1;t*=1e3}return[n,t]}function R(t,e,n,r){var i=n-t,o=r-e,n=.5-t,r=.5-e,t=i*i+o*o,e=i*n+o*r;if(0<e&&e<t){i=n*o-r*i;return i*i<t?1:void 0}}function D(t,e){var n=t[0]/w,r=t[1]/k,t=Math.max(0,-n,n-1,-r,r-1);return t&&void 0!==m&&R(n,r,m,y)&&(t=0),t&&e&&R(n,r,e[0]/w,e[1]/k)&&(t=0),(1+ft.toleranceGrowth*t)*M}function I(t,e){var n=t[0]-e[0],e=t[1]-e[1];return Math.sqrt(n*n+e*e)}var F,z,B,U,H,q,V,G=ft.maxScreensAway,W=-w*G,Y=w*(1+G),X=-k*G,Z=k*(1+G),$=[[W,X,Y,X],[Y,X,Y,Z],[Y,Z,W,Z],[W,Z,W,X]];function Q(t){if(t[0]<W||t[0]>Y||t[1]<X||t[1]>Z)return[ct(t[0],W,Y),ct(t[1],X,Z)]}function K(t,e){return t[0]===e[0]&&(t[0]===W||t[0]===Y)||t[1]===e[1]&&(t[1]===X||t[1]===Z)}function J(o,a,s){return function(t,e){var n=Q(t),r=Q(e),i=[];if(n&&r&&K(n,r))return i;n&&i.push(n),r&&i.push(r);e=2*lt.constrain((t[o]+e[o])/2,a,s)-((n||t)[o]+(r||e)[o]);return e&&((n&&r?0<e==n[o]>r[o]?n:r:n||r)[o]+=e),i}}function tt(t){var e,n,r=t[0],i=t[1],o=r===P[N-1][0],a=i===P[N-1][1];o&&a||(1<N?(e=r===P[N-2][0],n=i===P[N-2][1],o&&(r===W||r===Y)&&e?n?N--:P[N-1]=t:a&&(i===X||i===Z)&&n?e?N--:P[N-1]=t:P[N++]=t):P[N++]=t)}function et(t){P[N-1][0]!==t[0]&&P[N-1][1]!==t[1]&&tt([B,U]),tt(t),H=null,B=U=0}function nt(t){var e,n,r,i;m=t[0]/w,y=t[1]/k,F=t[0]<W?W:t[0]>Y?Y:0,z=t[1]<X?X:t[1]>Z?Z:0,F||z?(N?H?1<(r=V(H,t)).length&&(et(r[0]),P[N++]=r[1]):(q=V(P[N-1],t)[0],P[N++]=q):P[N++]=[F||t[0],z||t[1]],i=P[N-1],F&&z&&(i[0]!==F||i[1]!==z)?(H&&(B!==F&&U!==z?tt(B&&U?(e=H,r=(n=t)[0]-e[0],i=(n[1]-e[1])/r,0<(e[1]*n[0]-n[1]*e[0])/r?[0<i?W:Y,Z]:[0<i?Y:W,X]):[B||F,U||z]):B&&U&&tt([B,U])),tt([F,z])):B-F&&U-z&&tt([F||B,z||U]),H=t,B=F,U=z):(H&&et(V(H,t)[0]),P[N++]=t)}for("linear"===A||"spline"===A?V=function(t,e){for(var n=[],r=0,i=0;i<4;i++){var o=$[i],o=ut(t[0],t[1],e[0],e[1],o[0],o[1],o[2],o[3]);o&&(!r||1<Math.abs(o.x-n[0][0])||1<Math.abs(o.y-n[0][1]))&&(o=[o.x,o.y],r&&I(o,t)<I(n[0],t)?n.unshift(o):n.push(o),r++)}return n}:"hv"===A||"vh"===A?V=function(t,e){var n=[],t=Q(t),e=Q(e);return t&&e&&K(t,e)||(t&&n.push(t),e&&n.push(e)),n}:"hvh"===A?V=J(0,W,Y):"vhv"===A&&(V=J(1,X,Z)),t=0;t<j;t++)if(e=L(t)){for(N=0,H=null,nt(e),t++;t<j;t++){if(!(o=L(t))){if(T)continue;break}if(S&&i.simplify){var rt=L(t+1),it=I(o,e);if(E&&(0===N||N===j-1)||!(it<D(o,rt)*O)){for(a=e,c=it,l=!(u=[(o[f=d=p=0]-e[0])/it,(o[1]-e[1])/it]),n=o,t++;t<r.length;t++){if(s=rt,rt=L(t+1),!s){if(T)continue;break}if(g=(h=[s[0]-e[0],s[1]-e[1]])[0]*u[1]-h[1]*u[0],d=Math.min(d,g),(p=Math.max(p,g))-d>D(s,rt))break;n=s,c<(h=h[0]*u[0]+h[1]*u[1])?(c=h,o=s,l=!1):h<f&&(f=h,a=s,l=!0)}if(l?(nt(o),n!==a&&nt(a)):(a!==e&&nt(a),n!==o&&nt(o)),nt(n),t>=r.length||!s)break;nt(s),e=s}}else nt(o)}H&&tt([B||H[0],U||H[1]]),C.push(P.slice(0,N))}return C}},{"../../constants/numerical":754,"../../lib":776,"./constants":933}],944:[function(t,e,n){"use strict";e.exports=function(t,e,n){"spline"===n("line.shape")&&n("line.smoothing")}},{}],945:[function(t,e,n){"use strict";var g={tonextx:1,tonexty:1,tonext:1};e.exports=function(t,e,n){for(var r,i,o,a,s={},l=!1,u=-1,c=0,f=-1,h=0;h<n.length;h++)(i=(r=n[h][0].trace).stackgroup||"")?i in s?a=s[i]:(a=s[i]=c,c++):r.fill in g&&0<=f?a=f:(a=f=c,c++),a<u&&(l=!0),r._groupIndex=u=a;var d=n.slice();l&&d.sort(function(t,e){t=t[0].trace,e=e[0].trace;return t._groupIndex-e._groupIndex||t.index-e.index});var p={};for(h=0;h<d.length;h++)i=(r=d[h][0].trace).stackgroup||"",!0===r.visible?(r._nexttrace=null,r.fill in g&&(o=p[i],r._prevtrace=o||null,o&&(o._nexttrace=r)),r._ownfill=r.fill&&("tozero"===r.fill.substr(0,6)||"toself"===r.fill||"to"===r.fill.substr(0,2)&&!r._prevtrace),p[i]=r):r._prevtrace=r._nexttrace=r._ownfill=null;return d}},{}],946:[function(t,e,n){"use strict";var i=t("fast-isnumeric");e.exports=function(t){var t=t.marker,e=t.sizeref||1,n=t.sizemin||0,r="area"===t.sizemode?function(t){return Math.sqrt(t/e)}:function(t){return t/e};return function(t){t=r(t/2);return i(t)&&0<t?Math.max(t,n):0}}},{"fast-isnumeric":450}],947:[function(t,e,n){"use strict";e.exports={container:"marker",min:"cmin",max:"cmax"}},{}],948:[function(t,e,n){"use strict";var l=t("../../components/color"),u=t("../../components/colorscale/helpers").hasColorscale,c=t("../../components/colorscale/defaults"),f=t("./subtypes");e.exports=function(t,e,n,r,i,o){var a=f.isBubble(t),s=(t.line||{}).color;o=o||{},s&&(n=s),i("marker.symbol"),i("marker.opacity",a?.7:1),i("marker.size"),i("marker.color",n),u(t,"marker")&&c(t,e,r,i,{prefix:"marker.",cLetter:"c"}),o.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),o.noLine||(i("marker.line.color",s&&!Array.isArray(s)&&e.marker.color!==s?s:a?l.background:l.defaultLine),u(t,"marker.line")&&c(t,e,r,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",a?1:0)),a&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),o.gradient&&"none"!==i("marker.gradient.type")&&i("marker.gradient.color")}},{"../../components/color":646,"../../components/colorscale/defaults":656,"../../components/colorscale/helpers":657,"./subtypes":954}],949:[function(t,e,n){"use strict";var r=t("../../lib").dateTick0,i=t("../../constants/numerical").ONEWEEK;function a(t,e){return r(e,t%i==0?1:0)}e.exports=function(t,e,n,r,i){var o;!(i=i||{x:!0,y:!0}).x||(o=r("xperiod"))&&(r("xperiod0",a(o,e.xcalendar)),r("xperiodalignment")),!i.y||(i=r("yperiod"))&&(r("yperiod0",a(i,e.ycalendar)),r("yperiodalignment"))}},{"../../constants/numerical":754,"../../lib":776}],950:[function(t,e,n){"use strict";var H=t("d3"),q=t("../../registry"),V=t("../../lib"),G=V.ensureSingle,W=V.identity,Y=t("../../components/drawing"),X=t("./subtypes"),Z=t("./line_points"),h=t("./link_traces"),$=t("../../lib/polygon").tester;function d(h,t,d,n,e,r,i){var o,a,s,l,u,c,f;a=t,w=n,_=e,t=(x=d).xaxis,x=x.yaxis,c=H.extent(V.simpleMap(t.range,t.r2c)),f=H.extent(V.simpleMap(x.range,x.r2c)),t=w[0].trace,X.hasMarkers(t)&&0!==(x=t.marker.maxdisplayed)&&(t=w.filter(function(t){return t.x>=c[0]&&t.x<=c[1]&&t.y>=f[0]&&t.y<=f[1]}),s=Math.ceil(t.length/x),l=0,_.forEach(function(t,e){t=t[0].trace;X.hasMarkers(t)&&0<t.marker.maxdisplayed&&e<a&&l++}),u=Math.round(l*s/3+Math.floor(l/3)*s/7.1),w.forEach(function(t){delete t.vis}),t.forEach(function(t,e){0===Math.round((e+u)%s)&&(t.vis=!0)}));var p=!!i&&0<i.duration;function g(t){return p?t.transition():t}var m=d.xaxis,y=d.yaxis,v=n[0].trace,b=v.line,e=H.select(r),x=G(e,"g","errorbars"),_=G(e,"g","lines"),w=G(e,"g","points"),t=G(e,"g","text");if(q.getComponentMethod("errorbars","plot")(h,x,d,i),!0===v.visible){g(e).style("opacity",v.opacity);var k=v.fill.charAt(v.fill.length-1);"x"!==k&&"y"!==k&&(k=""),n[0][d.isRangePlot?"nodeRangePlot3":"node3"]=e;var T,M,r="",x=[],i=v._prevtrace;i&&(r=i._prevRevpath||"",R=i._nextFill,x=i._polygons);var A,S,E,C,O,j,P="",N="",L=[],e=V.noop,i=v._ownFill;if(X.hasLines(v)||"none"!==v.fill){for(R&&R.datum(n),-1!==["hv","vh","hvh","vhv"].indexOf(b.shape)?(A=Y.steps(b.shape),S=Y.steps(b.shape.split("").reverse().join(""))):A=S="spline"===b.shape?function(t){var e=t[t.length-1];return 1<t.length&&t[0][0]===e[0]&&t[0][1]===e[1]?Y.smoothclosed(t.slice(1),b.smoothing):Y.smoothopen(t,b.smoothing)}:function(t){return"M"+t.join("L")},E=function(t){return S(t.reverse())},L=Z(n,{xaxis:m,yaxis:y,connectGaps:v.connectgaps,baseTolerance:Math.max(b.width||1,3)/4,shape:b.shape,simplify:b.simplify,fill:v.fill}),j=v._polygons=new Array(L.length),o=0;o<L.length;o++)v._polygons[o]=$(L[o]);L.length&&(C=L[0][0],O=(O=L[L.length-1])[O.length-1]),e=function(e){return function(t){T=A(t),M=E(t),N=P?k?(P+="L"+T.substr(1),M+("L"+N.substr(1))):(P+="Z"+T,M+"Z"+N):(P=T,M),X.hasLines(v)&&1<t.length&&((t=H.select(this)).datum(n),e?g(t.style("opacity",0).attr("d",T).call(Y.lineGroupStyle)).style("opacity",1):((t=g(t)).attr("d",T),Y.singleLineStyle(n,t)))}}}_=_.selectAll(".js-line").data(L);g(_.exit()).style("opacity",0).remove(),_.each(e(!1)),_.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(Y.lineGroupStyle).each(e(!0)),Y.setClipUrl(_,d.layerClipId,h),L.length?(i?(i.datum(n),C&&O&&(k?("y"===k?C[1]=O[1]=y.c2p(0,!0):"x"===k&&(C[0]=O[0]=m.c2p(0,!0)),g(i).attr("d","M"+O+"L"+C+"L"+P.substr(1)).call(Y.singleFillStyle)):g(i).attr("d",P+"Z").call(Y.singleFillStyle))):R&&("tonext"===v.fill.substr(0,6)&&P&&r?(("tonext"===v.fill?g(R).attr("d",P+"Z"+r+"Z"):g(R).attr("d",P+"L"+r.substr(1)+"Z")).call(Y.singleFillStyle),v._polygons=v._polygons.concat(x)):(D(R),v._polygons=null)),v._prevRevpath=N,v._prevPolygons=j):(i?D(i):R&&D(R),v._polygons=v._prevRevpath=v._prevPolygons=null),w.datum(n),t.datum(n),function(t,e,n){var r,i,o=n[0].trace,a=X.hasMarkers(o),s=X.hasText(o),l=function(t){if(t.ids)return B}(o),u=U,c=U;(a||s)&&(r=W,n=(i=o.stackgroup)&&"infer zero"===h._fullLayout._scatterStackOpts[m._id+y._id][i].stackgaps,o.marker.maxdisplayed||o._needsCull?r=n?F:I:i&&!n&&(r=z),a&&(u=r),s&&(c=r));var f,u=(t=t.selectAll("path.point").data(u,l)).enter().append("path").classed("point",!0);p&&u.call(Y.pointStyle,o,h).call(Y.translatePoints,m,y).style("opacity",0).transition().style("opacity",1),t.order(),a&&(f=Y.makePointStyleFns(o)),t.each(function(t){var e=H.select(this),n=g(e);Y.translatePoint(t,n,m,y)?(Y.singlePointStyle(t,n,o,f,h),d.layerClipId&&Y.hideOutsideRangePoint(t,n,m,y,o.xcalendar,o.ycalendar),o.customdata&&e.classed("plotly-customdata",null!==t.data&&void 0!==t.data)):n.remove()}),(p?t.exit().transition().style("opacity",0):t.exit()).remove(),(t=e.selectAll("g").data(c,l)).enter().append("g").classed("textpoint",!0).append("text"),t.order(),t.each(function(t){var e=H.select(this),n=g(e.select("text"));Y.translatePoint(t,n,m,y)?d.layerClipId&&Y.hideOutsideRangePoint(t,e,m,y,o.xcalendar,o.ycalendar):e.remove()}),t.selectAll("text").call(Y.textPointStyle,o,h).each(function(t){var e=m.c2p(t.x),n=y.c2p(t.y);H.select(this).selectAll("tspan.line").each(function(){g(H.select(this)).attr({x:e,y:n})})}),t.exit().remove()}(w,t,n);var R=!1===v.cliponaxis?null:d.layerClipId;Y.setClipUrl(w,R,h),Y.setClipUrl(t,R,h)}function D(t){g(t).attr("d","M0,0Z")}function I(t){return t.filter(function(t){return!t.gap&&t.vis})}function F(t){return t.filter(function(t){return t.vis})}function z(t){return t.filter(function(t){return!t.gap})}function B(t){return t.id}function U(){return!1}}e.exports=function(n,r,t,e,i,o){var a,s,l,u=!i,c=!!i&&0<i.duration,f=h(n,r,t),t=e.selectAll("g.trace").data(f,function(t){return t[0].trace.uid});t.enter().append("g").attr("class",function(t){return"trace scatter trace"+t[0].trace.uid}).style("stroke-miterlimit",2),t.order(),s=n,l=r,t.each(function(t){var e=G(H.select(this),"g","fills");Y.setClipUrl(e,l.layerClipId,s);var n=t[0].trace,t=[];n._ownfill&&t.push("_ownFill"),n._nexttrace&&t.push("_nextFill");t=e.selectAll("g").data(t,W);t.enter().append("g"),t.exit().each(function(t){n[t]=null}).remove(),t.order().each(function(t){n[t]=G(H.select(this),"path","js-fill")})}),c?(o&&(a=o()),H.transition().duration(i.duration).ease(i.easing).each("end",function(){a&&a()}).each("interrupt",function(){a&&a()}).each(function(){e.selectAll("g.trace").each(function(t,e){d(n,e,r,t,f,this,i)})})):t.each(function(t,e){d(n,e,r,t,f,this,i)}),u&&t.exit().remove(),e.selectAll("path:not([d])").remove()}},{"../../components/drawing":668,"../../lib":776,"../../lib/polygon":788,"../../registry":877,"./line_points":943,"./link_traces":945,"./subtypes":954,d3:629}],951:[function(t,e,n){"use strict";var f=t("./subtypes");e.exports=function(t,e){var n,r,i,o,a=t.cd,s=t.xaxis,l=t.yaxis,u=[],c=a[0].trace;if(!f.hasMarkers(c)&&!f.hasText(c))return[];if(!1===e)for(n=0;n<a.length;n++)a[n].selected=0;else for(n=0;n<a.length;n++)r=a[n],i=s.c2p(r.x),o=l.c2p(r.y),null!==r.i&&e.contains([i,o],!1,n,t)?(u.push({pointNumber:r.i,x:s.c2d(r.x),y:l.c2d(r.y)}),r.selected=1):r.selected=0;return u}},{"./subtypes":954}],952:[function(t,e,n){"use strict";var y=["orientation","groupnorm","stackgaps"];e.exports=function(t,e,n,r){var i=n._scatterStackOpts,o=r("stackgroup");if(o){var a=e.xaxis+e.yaxis,n=i[a],s=(n=n||(i[a]={}))[o],l=!1;s?s.traces.push(e):(s=n[o]={traceIndices:[],traces:[e]},l=!0);for(var u={orientation:e.x&&!e.y?"h":"v"},c=0;c<y.length;c++){var f=y[c],h=f+"Found";if(!s[h]){var d=void 0!==t[f],p="orientation"===f;if((d||l)&&(s[f]=r(f,u[f]),p&&(s.fillDflt="h"===s[f]?"tonextx":"tonexty"),d&&(s[h]=!0,!l&&(delete s.traces[0][f],p))))for(var g=0;g<s.traces.length-1;g++){var m=s.traces[g];m._input.fill!==m.fill&&(m.fill=s.fillDflt)}}}return s}}},{}],953:[function(t,e,n){"use strict";var r=t("d3"),i=t("../../components/drawing"),o=t("../../registry");function a(t,e,n){i.pointStyle(t.selectAll("path.point"),e,n)}function s(t,e,n){i.textPointStyle(t.selectAll("text"),e,n)}e.exports={style:function(e){var t=r.select(e).selectAll("g.trace.scatter");t.style("opacity",function(t){return t[0].trace.opacity}),t.selectAll("g.points").each(function(t){a(r.select(this),t.trace||t[0].trace,e)}),t.selectAll("g.text").each(function(t){s(r.select(this),t.trace||t[0].trace,e)}),t.selectAll("g.trace path.js-line").call(i.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(i.fillGroupStyle),o.getComponentMethod("errorbars","style")(t)},stylePoints:a,styleText:s,styleOnSelect:function(t,e,n){(e=e[0].trace).selectedpoints?(i.selectedPointStyle(n.selectAll("path.point"),e),i.selectedTextStyle(n.selectAll("text"),e)):(a(n,e,t),s(n,e,t))}}},{"../../components/drawing":668,"../../registry":877,d3:629}],954:[function(t,e,n){"use strict";var r=t("../../lib");e.exports={hasLines:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("lines")},hasMarkers:function(t){return t.visible&&(t.mode&&-1!==t.mode.indexOf("markers")||"splom"===t.type)},hasText:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("text")},isBubble:function(t){return r.isPlainObject(t.marker)&&r.isArrayOrTypedArray(t.marker.size)}}},{"../../lib":776}],955:[function(t,e,n){"use strict";var o=t("../../lib");e.exports=function(t,e,n,r,i){i=i||{},r("textposition"),o.coerceFont(r,"textfont",n.font),i.noSelect||(r("selected.textfont.color"),r("unselected.textfont.color"))}},{"../../lib":776}],956:[function(t,e,n){"use strict";var s=t("../../lib"),l=t("../../registry");e.exports=function(t,e,n,r){var i,o=r("x"),a=r("y");if(l.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y"],n),o){o=s.minRowLength(o);a?i=Math.min(o,s.minRowLength(a)):(i=o,r("y0"),r("dy"))}else{if(!a)return 0;i=s.minRowLength(a),r("x0"),r("dx")}return e._length=i}},{"../../lib":776,"../../registry":877}],957:[function(t,e,n){"use strict";var H=t("../../lib"),p=t("../../components/colorscale/calc");function g(t){var e,n,r,i,o,a,s,l,u=t._x,c=t._y,f=t._z,h=t._len,d=-1/0,p=1/0,g=-1/0,m=1/0,y=-1/0,v=1/0,b="";for(h&&(a=u[0],s=c[0],l=f[0]),1<h&&(k=u[h-1],T=c[h-1],M=f[h-1]),I=0;I<h;I++)d=Math.max(d,u[I]),p=Math.min(p,u[I]),g=Math.max(g,c[I]),m=Math.min(m,c[I]),y=Math.max(y,f[I]),v=Math.min(v,f[I]),r||u[I]===a||(r=!0,b+="x"),i||c[I]===s||(i=!0,b+="y"),o||f[I]===l||(o=!0,b+="z");r||(b+="x"),i||(b+="y"),o||(b+="z");var x=q(t._x),_=q(t._y),w=q(t._z);b=(b=(b=b.replace("x",(k<a?"-":"+")+"x")).replace("y",(T<s?"-":"+")+"y")).replace("z",(M<l?"-":"+")+"z");t=function(){h=0,x=[],_=[],w=[]};(!h||h<x.length*_.length*w.length)&&t();for(var k=function(t){return"x"===t?u:"y"===t?c:f},T=function(t){return"x"===t?x:"y"===t?_:w},M=function(t){return t[h-1]<t[0]?-1:1},A=k(b[1]),S=k(b[3]),E=k(b[5]),C=T(b[1]).length,O=T(b[3]).length,j=T(b[5]).length,P=!1,N=function(t,e,n){return C*(O*t+e)+n},L=M(k(b[1])),R=M(k(b[3])),D=M(k(b[5])),I=0;I<j-1;I++){for(e=0;e<O-1;e++){for(n=0;n<C-1;n++){var F=N(I,e,n),z=N(I,e,n+1),B=N(I,e+1,n),U=N(I+1,e,n);if(A[F]*L<A[z]*L&&S[F]*R<S[B]*R&&E[F]*D<E[U]*D||(P=!0),P)break}if(P)break}if(P)break}return P&&(H.warn("Encountered arbitrary coordinates! Unable to input data grid."),t()),{xMin:p,yMin:m,zMin:v,xMax:d,yMax:g,zMax:y,Xs:x,Ys:_,Zs:w,len:h,fill:b}}function q(t){return H.distinctVals(t).vals}function m(t,e){if(void 0===e&&(e=t.length),H.isTypedArray(t))return t.subarray(0,e);for(var n=[],r=0;r<e;r++)n[r]=+t[r];return n}e.exports={calc:function(t,e){e._len=Math.min(e.u.length,e.v.length,e.w.length,e.x.length,e.y.length,e.z.length),e._u=m(e.u,e._len),e._v=m(e.v,e._len),e._w=m(e.w,e._len),e._x=m(e.x,e._len),e._y=m(e.y,e._len),e._z=m(e.z,e._len);var n=g(e);e._gridFill=n.fill,e._Xs=n.Xs,e._Ys=n.Ys,e._Zs=n.Zs,e._len=n.len;var r,i,o,a=0;e.starts&&(r=m(e.starts.x||[]),i=m(e.starts.y||[]),o=m(e.starts.z||[]),a=Math.min(r.length,i.length,o.length)),e._startsX=r||[],e._startsY=i||[],e._startsZ=o||[];for(var s=0,l=1/0,u=0;u<e._len;u++)var c=e._u[u],f=e._v[u],h=e._w[u],h=Math.sqrt(c*c+f*f+h*h),s=Math.max(s,h),l=Math.min(l,h);for(p(t,e,{vals:[l,s],containerStr:"",cLetter:"c"}),u=0;u<a;u++){var d=r[u];n.xMax=Math.max(n.xMax,d),n.xMin=Math.min(n.xMin,d);d=i[u];n.yMax=Math.max(n.yMax,d),n.yMin=Math.min(n.yMin,d);d=o[u];n.zMax=Math.max(n.zMax,d),n.zMin=Math.min(n.zMin,d)}e._slen=a,e._normMax=s,e._xbnds=[n.xMin,n.xMax],e._ybnds=[n.yMin,n.yMax],e._zbnds=[n.zMin,n.zMax]},filter:m,processGrid:g}},{"../../components/colorscale/calc":654,"../../lib":776}],958:[function(t,e,n){"use strict";var r=t("../../components/color"),i=t("../../components/colorscale/attributes"),o=t("../../plots/template_attributes").hovertemplateAttrs,a=t("../../plots/attributes"),s=t("../../lib/extend").extendFlat,t=t("../../plot_api/edit_types").overrideAll;function l(){return{valType:"boolean",dflt:!1}}function u(){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:l(),y:l(),z:l()},color:{valType:"color",dflt:r.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:r.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}a=e.exports=t(s({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:o(),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},i("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:u(),y:u(),z:u()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:s({},i.zauto,{}),zmin:s({},i.zmin,{}),zmax:s({},i.zmax,{})},hoverinfo:s({},a.hoverinfo),showlegend:s({},a.showlegend,{dflt:!1})}),"calc","nested");a.x.editType=a.y.editType=a.z.editType="calc+clearAxisTypes",a.transforms=void 0},{"../../components/color":646,"../../components/colorscale/attributes":653,"../../lib/extend":769,"../../plot_api/edit_types":805,"../../plots/attributes":819,"../../plots/template_attributes":876}],959:[function(t,e,n){"use strict";n.version="1.58.2"},{}],960:[function(t,e,n){arguments[4][452][0].apply(n,arguments)},{dup:452}],961:[function(t,e,n){"use strict";e.exports=function(t){for(var e=t.length,n=[],r=[],i=0;i<e;++i)for(var o=t[i],a=o.length,s=a-1,l=0;l<a;s=l++){var u=o[s],c=o[l];(u[0]===c[0]?r:n).push([u,c])}if(0===n.length)return 0===r.length?m:function(e){return function(t){return e(t[0],t[1])?0:1}}(g(r));var f=d(n),f=function(a,s){return function(t){var e=p.le(s,t[0]);if(e<0)return 1;var n=a[e];if(!n){if(!(0<e&&s[e]===t[0]))return 1;n=a[e-1]}for(var r=1;n;){var i=n.key,o=h(t,i[0],i[1]);if(i[0][0]<i[1][0])if(o<0)n=n.left;else{if(!(0<o))return 0;r=-1,n=n.right}else if(0<o)n=n.left;else{if(!(o<0))return 0;r=1,n=n.right}}return r}}(f.slabs,f.coordinates);return 0===r.length?f:function(e,n){return function(t){return e(t[0],t[1])?0:n(t)}}(g(r),f)};var h=t("robust-orientation")[3],d=t("slab-decomposition"),c=t("interval-tree-1d"),p=t("binary-search-bounds");function f(){return!0}function g(t){for(var e={},n=0;n<t.length;++n){var r=t[n],i=r[0][0],o=r[0][1],r=r[1][1],r=[Math.min(o,r),Math.max(o,r)];i in e?e[i].push(r):e[i]=[r]}for(var a,s={},l=Object.keys(e),n=0;n<l.length;++n){var u=e[l[n]];s[l[n]]=c(u)}return a=s,function(t,e){t=a[t];return!!t&&!!t.queryPoint(e,f)}}function m(t){return 1}},{"binary-search-bounds":960,"interval-tree-1d":550,"robust-orientation":986,"slab-decomposition":1001}],962:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o=t("./lib/build-log"),a=t("./lib/epsilon"),s=t("./lib/intersecter"),l=t("./lib/segment-chainer"),u=t("./lib/segment-selector"),c=t("./lib/geojson"),f=!1,h=a();function d(t,e,n){t=i.segments(t),e=i.segments(e),e=n(i.combine(t,e));return i.polygon(e)}i={buildLog:function(t){return!0===t?f=o():!1===t&&(f=!1),!1!==f&&f.list},epsilon:function(t){return h.epsilon(t)},segments:function(t){var e=s(!0,h,f);return t.regions.forEach(e.addRegion),{segments:e.calculate(t.inverted),inverted:t.inverted}},combine:function(t,e){return{combined:s(!1,h,f).calculate(t.segments,t.inverted,e.segments,e.inverted),inverted1:t.inverted,inverted2:e.inverted}},selectUnion:function(t){return{segments:u.union(t.combined,f),inverted:t.inverted1||t.inverted2}},selectIntersect:function(t){return{segments:u.intersect(t.combined,f),inverted:t.inverted1&&t.inverted2}},selectDifference:function(t){return{segments:u.difference(t.combined,f),inverted:t.inverted1&&!t.inverted2}},selectDifferenceRev:function(t){return{segments:u.differenceRev(t.combined,f),inverted:!t.inverted1&&t.inverted2}},selectXor:function(t){return{segments:u.xor(t.combined,f),inverted:t.inverted1!==t.inverted2}},polygon:function(t){return{regions:l(t.segments,h,f),inverted:t.inverted}},polygonFromGeoJSON:function(t){return c.toPolygon(i,t)},polygonToGeoJSON:function(t){return c.fromPolygon(i,h,t)},union:function(t,e){return d(t,e,i.selectUnion)},intersect:function(t,e){return d(t,e,i.selectIntersect)},difference:function(t,e){return d(t,e,i.selectDifference)},differenceRev:function(t,e){return d(t,e,i.selectDifferenceRev)},xor:function(t,e){return d(t,e,i.selectXor)}},"object"===("undefined"==typeof window?"undefined":r(window))&&(window.PolyBool=i),e.exports=i},{"./lib/build-log":963,"./lib/epsilon":964,"./lib/geojson":965,"./lib/intersecter":966,"./lib/segment-chainer":968,"./lib/segment-selector":969}],963:[function(t,e,n){"use strict";e.exports=function(){var n,t=0,e=!1;function r(t,e){return n.list.push({type:t,data:e?JSON.parse(JSON.stringify(e)):void 0}),n}return n={list:[],segmentId:function(){return t++},checkIntersection:function(t,e){return r("check",{seg1:t,seg2:e})},segmentChop:function(t,e){return r("div_seg",{seg:t,pt:e}),r("chop",{seg:t,pt:e})},statusRemove:function(t){return r("pop_seg",{seg:t})},segmentUpdate:function(t){return r("seg_update",{seg:t})},segmentNew:function(t,e){return r("new_seg",{seg:t,primary:e})},segmentRemove:function(t){return r("rem_seg",{seg:t})},tempStatus:function(t,e,n){return r("temp_status",{seg:t,above:e,below:n})},rewind:function(t){return r("rewind",{seg:t})},status:function(t,e,n){return r("status",{seg:t,above:e,below:n})},vert:function(t){return t===e?n:r("vert",{x:e=t})},log:function(t){return"string"!=typeof t&&(t=JSON.stringify(t,!1,"  ")),r("log",{txt:t})},reset:function(){return r("reset")},selected:function(t){return r("selected",{segs:t})},chainStart:function(t){return r("chain_start",{seg:t})},chainRemoveHead:function(t,e){return r("chain_rem_head",{index:t,pt:e})},chainRemoveTail:function(t,e){return r("chain_rem_tail",{index:t,pt:e})},chainNew:function(t,e){return r("chain_new",{pt1:t,pt2:e})},chainMatch:function(t){return r("chain_match",{index:t})},chainClose:function(t){return r("chain_close",{index:t})},chainAddHead:function(t,e){return r("chain_add_head",{index:t,pt:e})},chainAddTail:function(t,e){return r("chain_add_tail",{index:t,pt:e})},chainConnect:function(t,e){return r("chain_con",{index1:t,index2:e})},chainReverse:function(t){return r("chain_rev",{index:t})},chainJoin:function(t,e){return r("chain_join",{index1:t,index2:e})},done:function(){return r("done")}}}},{}],964:[function(t,e,n){"use strict";e.exports=function(c){"number"!=typeof c&&(c=1e-10);var n={epsilon:function(t){return"number"==typeof t&&(c=t),c},pointAboveOrOnLine:function(t,e,n){var r=e[0],i=e[1],o=n[0],e=n[1],n=t[0],t=t[1];return-c<=(o-r)*(t-i)-(e-i)*(n-r)},pointBetween:function(t,e,n){var r=t[1]-e[1],i=n[0]-e[0],t=t[0]-e[0],e=n[1]-e[1],r=t*i+r*e;return!(r<c)&&!(-c<r-(i*i+e*e))},pointsSameX:function(t,e){return Math.abs(t[0]-e[0])<c},pointsSameY:function(t,e){return Math.abs(t[1]-e[1])<c},pointsSame:function(t,e){return n.pointsSameX(t,e)&&n.pointsSameY(t,e)},pointsCompare:function(t,e){return n.pointsSameX(t,e)?n.pointsSameY(t,e)?0:t[1]<e[1]?-1:1:t[0]<e[0]?-1:1},pointsCollinear:function(t,e,n){var r=t[0]-e[0],i=t[1]-e[1],t=e[0]-n[0],n=e[1]-n[1];return Math.abs(r*n-t*i)<c},linesIntersect:function(t,e,n,r){var i=e[0]-t[0],o=e[1]-t[1],a=r[0]-n[0],s=r[1]-n[1],e=i*s-o*a;if(Math.abs(e)<c)return!1;r=t[0]-n[0],n=t[1]-n[1],s=(a*n-s*r)/e,e=(i*n-o*r)/e,o={alongA:0,alongB:0,pt:[t[0]+s*i,t[1]+s*o]};return o.alongA=s<=-c?-2:s<c?-1:s-1<=-c?0:s-1<c?1:2,o.alongB=e<=-c?-2:e<c?-1:e-1<=-c?0:e-1<c?1:2,o},pointInsideRegion:function(t,e){for(var n=t[0],r=t[1],i=e[e.length-1][0],o=e[e.length-1][1],a=!1,s=0;s<e.length;s++){var l=e[s][0],u=e[s][1];c<u-r!=c<o-r&&c<(i-l)*(r-u)/(o-u)+l-n&&(a=!a),i=l,o=u}return a}};return n}},{}],965:[function(t,e,n){"use strict";var r={toPolygon:function(i,t){function e(t){if(t.length<=0)return i.segments({inverted:!1,regions:[]});function e(t){t=t.slice(0,t.length-1);return i.segments({inverted:!1,regions:[t]})}for(var n=e(t[0]),r=1;r<t.length;r++)n=i.selectDifference(i.combine(n,e(t[r])));return n}if("Polygon"===t.type)return i.polygon(e(t.coordinates));if("MultiPolygon"!==t.type)throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon");for(var n=i.segments({inverted:!1,regions:[]}),r=0;r<t.coordinates.length;r++)n=i.selectUnion(i.combine(n,e(t.coordinates[r])));return i.polygon(n)},fromPolygon:function(t,n,e){function a(t,e){return n.pointInsideRegion([.5*(t[0][0]+t[1][0]),.5*(t[0][1]+t[1][1])],e)}function s(t){return{region:t,children:[]}}e=t.polygon(t.segments(e));var r=s(null);for(var i=0;i<e.regions.length;i++){var o=e.regions[i];o.length<3||!function t(e,n){for(var r=0;r<e.children.length;r++)if(a(n,(i=e.children[r]).region))return void t(i,n);for(var i,o=s(n),r=0;r<e.children.length;r++)a((i=e.children[r]).region,n)&&(o.children.push(i),e.children.splice(r,1),r--);e.children.push(o)}(r,o)}function l(t,e){for(var n=0,r=t[t.length-1][0],i=t[t.length-1][1],o=[],a=0;a<t.length;a++){var s=t[a][0],l=t[a][1];o.push([s,l]),n+=l*r-s*i,r=s,i=l}return n<0!==e&&o.reverse(),o.push([o[0][0],o[0][1]]),o}var u=[];function c(t){var e=[l(t.region,!1)];u.push(e);for(var n=0;n<t.children.length;n++)e.push(function(t){for(var e=0;e<t.children.length;e++)c(t.children[e]);return l(t.region,!0)}(t.children[n]))}for(i=0;i<r.children.length;i++)c(r.children[i]);return u.length<=0?{type:"Polygon",coordinates:[]}:1==u.length?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}};e.exports=r},{}],966:[function(t,e,n){"use strict";var y=t("./linked-list");e.exports=function(h,d,p){function i(t,e,n){return{id:p?p.segmentId():-1,start:t,end:e,myFill:{above:n.myFill.above,below:n.myFill.below},otherFill:null}}var g=y.create();function o(a,s){g.insertBefore(a,function(t){var e,n,r,i,o;return(e=a.isStart,n=a.pt,r=s,i=t.isStart,o=t.pt,t=t.other.pt,0!==(n=d.pointsCompare(n,o))?n:d.pointsSame(r,t)?0:e!==i?e?1:-1:d.pointAboveOrOnLine(r,i?o:t,i?t:o)?1:-1)<0})}function a(t,e){var n,r,n=(n=t,r=e,o(r=y.node({isStart:!0,pt:n.start,seg:n,primary:r,other:null,status:null}),n.end),r);return r=n,t=t,e=e,e=y.node({isStart:!1,pt:t.end,seg:t,primary:e,other:r,status:null}),o(r.other=e,r.pt),n}function m(t,e){var n,r=i(e,t.seg.end,t.seg);return n=t,e=e,p&&p.segmentChop(n.seg,e),n.other.remove(),n.seg.end=e,n.other.pt=e,o(n.other,n.pt),a(r,t.primary)}function s(t,e){var n=y.create();function r(i){return n.findTransition(function(t){var e,n,r;return 0<(e=i,n=t.ev,r=e.seg.start,t=e.seg.end,e=n.seg.start,n=n.seg.end,d.pointsCollinear(r,e,n)?d.pointsCollinear(t,e,n)||d.pointAboveOrOnLine(t,e,n)?1:-1:d.pointAboveOrOnLine(r,e,n)?1:-1)})}function i(t,e){var n=t.seg,r=e.seg,i=n.start,o=n.end,a=r.start,s=r.end;p&&p.checkIntersection(n,r);var l=d.linesIntersect(i,o,a,s);if(!1===l){if(!d.pointsCollinear(i,o,a))return!1;if(d.pointsSame(i,s)||d.pointsSame(o,a))return!1;var u=d.pointsSame(i,a),c=d.pointsSame(o,s);if(u&&c)return e;n=!u&&d.pointBetween(i,a,s),r=!c&&d.pointBetween(o,a,s);if(u)return r?m(e,o):m(t,s),e;n&&(c||(r?m(e,o):m(t,s)),m(e,i))}else 0===l.alongA&&(-1===l.alongB?m(t,a):0===l.alongB?m(t,l.pt):1===l.alongB&&m(t,s)),0===l.alongB&&(-1===l.alongA?m(e,i):0===l.alongA?m(e,l.pt):1===l.alongA&&m(e,o));return!1}for(var o=[];!g.isEmpty();){var a=g.getHead();if(p&&p.vert(a.pt[0]),a.isStart){p&&p.segmentNew(a.seg,a.primary);var s=r(a),l=s.before?s.before.ev:null,u=s.after?s.after.ev:null;p&&p.tempStatus(a.seg,!!l&&l.seg,!!u&&u.seg);var c,f=function(){if(l){var t=i(a,l);if(t)return t}return!!u&&i(a,u)}();if(f&&(h?(c=null===a.seg.myFill.below||a.seg.myFill.above!==a.seg.myFill.below)&&(f.seg.myFill.above=!f.seg.myFill.above):f.seg.otherFill=a.seg.myFill,p&&p.segmentUpdate(f.seg),a.other.remove(),a.remove()),g.getHead()!==a){p&&p.rewind(a.seg);continue}h?(c=null===a.seg.myFill.below||a.seg.myFill.above!==a.seg.myFill.below,a.seg.myFill.below=u?u.seg.myFill.above:t,a.seg.myFill.above=c?!a.seg.myFill.below:a.seg.myFill.below):null===a.seg.otherFill&&(f=u?(a.primary===u.primary?u.seg.otherFill:u.seg.myFill).above:a.primary?e:t,a.seg.otherFill={above:f,below:f}),p&&p.status(a.seg,!!l&&l.seg,!!u&&u.seg),a.other.status=s.insert(y.node({ev:a}))}else{s=a.status;if(null===s)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");n.exists(s.prev)&&n.exists(s.next)&&i(s.prev.ev,s.next.ev),p&&p.statusRemove(s.ev.seg),s.remove(),a.primary||(s=a.seg.myFill,a.seg.myFill=a.seg.otherFill,a.seg.otherFill=s),o.push(a.seg)}g.getHead().remove()}return p&&p.done(),o}return h?{addRegion:function(t){for(var e,n,r=t[t.length-1],i=0;i<t.length;i++){n=r,r=t[i];var o=d.pointsCompare(n,r);0!==o&&a((e=o<0?n:r,n=o<0?r:n,{id:p?p.segmentId():-1,start:e,end:n,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(t){return s(t,!1)}}:{calculate:function(t,e,n,r){return t.forEach(function(t){a(i(t.start,t.end,t),!0)}),n.forEach(function(t){a(i(t.start,t.end,t),!1)}),s(e,r)}}}},{"./linked-list":967}],967:[function(t,e,n){"use strict";e.exports={create:function(){var i={root:{root:!0,next:null},exists:function(t){return null!==t&&t!==i.root},isEmpty:function(){return null===i.root.next},getHead:function(){return i.root.next},insertBefore:function(t,e){for(var n=i.root,r=i.root.next;null!==r;){if(e(r))return t.prev=r.prev,(t.next=r).prev.next=t,void(r.prev=t);r=(n=r).next}(n.next=t).prev=n,t.next=null},findTransition:function(t){for(var e=i.root,n=i.root.next;null!==n&&!t(n);)n=(e=n).next;return{before:e===i.root?null:e,after:n,insert:function(t){return t.prev=e,t.next=n,e.next=t,null!==n&&(n.prev=t),t}}}};return i},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}}},{}],968:[function(t,e,n){"use strict";e.exports=function(t,b,x){var _=[],w=[];return t.forEach(function(t){var e=t.start,n=t.end;if(b.pointsSame(e,n))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{x&&x.chainStart(t);for(var r={index:0,matches_head:!1,matches_pt1:!1},i={index:0,matches_head:!1,matches_pt1:!1},o=r,a=0;a<_.length;a++){var s=(h=_[a])[0],l=(h[1],h[h.length-1]);h[h.length-2];if(b.pointsSame(s,e)){if(m(a,!0,!0))break}else if(b.pointsSame(s,n)){if(m(a,!0,!1))break}else if(b.pointsSame(l,e)){if(m(a,!1,!0))break}else if(b.pointsSame(l,n)&&m(a,!1,!1))break}if(o===r)return _.push([e,n]),void(x&&x.chainNew(e,n));if(o===i){x&&x.chainMatch(r.index);var u=r.index,c=r.matches_pt1?n:e,f=r.matches_head,h=_[u],d=f?h[0]:h[h.length-1],p=f?h[1]:h[h.length-2],g=f?h[h.length-1]:h[0],t=f?h[h.length-2]:h[1];return(b.pointsCollinear(p,d,c)&&(f?(x&&x.chainRemoveHead(r.index,c),h.shift()):(x&&x.chainRemoveTail(r.index,c),h.pop()),d=p),b.pointsSame(g,c))?(_.splice(u,1),b.pointsCollinear(t,g,d)&&(f?(x&&x.chainRemoveTail(r.index,d),h.pop()):(x&&x.chainRemoveHead(r.index,d),h.shift())),x&&x.chainClose(r.index),void w.push(h)):void(f?(x&&x.chainAddHead(r.index,c),h.unshift(c)):(x&&x.chainAddTail(r.index,c),h.push(c)))}d=r.index,f=i.index;x&&x.chainConnect(d,f);c=_[d].length<_[f].length;r.matches_head?i.matches_head?c?(y(d),v(d,f)):(y(f),v(f,d)):v(f,d):i.matches_head?v(d,f):c?(y(d),v(f,d)):(y(f),v(d,f))}function m(t,e,n){if(o.index=t,o.matches_head=e,o.matches_pt1=n,o!==r)return o=null,1;o=i}function y(t){x&&x.chainReverse(t),_[t].reverse()}function v(t,e){var n=_[t],r=_[e],i=n[n.length-1],o=n[n.length-2],a=r[0],s=r[1];b.pointsCollinear(o,i,a)&&(x&&x.chainRemoveTail(t,i),n.pop(),i=o),b.pointsCollinear(i,a,s)&&(x&&x.chainRemoveHead(e,a),r.shift()),x&&x.chainJoin(t,e),_[t]=n.concat(r),_.splice(e,1)}}),w}},{}],969:[function(t,e,n){"use strict";function r(t,n,r){var i=[];return t.forEach(function(t){var e=(t.myFill.above?8:0)+(t.myFill.below?4:0)+(t.otherFill&&t.otherFill.above?2:0)+(t.otherFill&&t.otherFill.below?1:0);0!==n[e]&&i.push({id:r?r.segmentId():-1,start:t.start,end:t.end,myFill:{above:1===n[e],below:2===n[e]},otherFill:null})}),r&&r.selected(i),i}var i={union:function(t,e){return r(t,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],e)},intersect:function(t,e){return r(t,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],e)},difference:function(t,e){return r(t,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],e)},differenceRev:function(t,e){return r(t,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],e)},xor:function(t,e){return r(t,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],e)}};e.exports=i},{}],970:[function(t,e,n){"use strict";var k=new Float64Array(4),T=new Float64Array(4),M=new Float64Array(4);e.exports=function(t,e,n,r,i){k.length<r.length&&(k=new Float64Array(r.length),T=new Float64Array(r.length),M=new Float64Array(r.length));for(var o=0;o<r.length;++o)k[o]=t[o]-r[o],T[o]=e[o]-t[o],M[o]=n[o]-t[o];for(var a=0,s=0,l=0,u=0,c=0,f=0,o=0;o<r.length;++o){var h=T[o],d=M[o],p=k[o];a+=h*h,s+=h*d,l+=d*d,u+=p*h,c+=p*d,f+=p*p}var g,m,y,v,b=Math.abs(a*l-s*s),x=s*c-l*u,_=s*u-a*c;v=x+_<=b?x<0?_<0&&u<0?(_=0,a<=-u?(x=1,a+2*u+f):u*(x=-u/a)+f):(x=0)<=c?(_=0,f):l<=-c?(_=1,l+2*c+f):c*(_=-c/l)+f:_<0?(_=0)<=u?(x=0,f):a<=-u?(x=1,a+2*u+f):u*(x=-u/a)+f:(x*=b=1/b)*(a*x+s*(_*=b)+2*u)+_*(s*x+l*_+2*c)+f:x<0?(g=s+u)<(m=l+c)?(v=a-2*s+l)<=(y=m-g)?(x=1,_=0,a+2*u+f):(x=y/v)*(a*x+s*(_=1-x)+2*u)+_*(s*x+l*_+2*c)+f:m<=(x=0)?(_=1,l+2*c+f):0<=c?(_=0,f):c*(_=-c/l)+f:_<0?(g=s+c)<(m=a+u)?(v=a-2*s+l)<=(y=m-g)?(_=1,x=0,l+2*c+f):(x=1-(_=y/v))*(a*x+s*_+2*u)+_*(s*x+l*_+2*c)+f:m<=(_=0)?(x=1,a+2*u+f):0<=u?(x=0,f):u*(x=-u/a)+f:(y=l+c-s-u)<=0?(x=0,_=1,l+2*c+f):(v=a-2*s+l)<=y?(x=1,_=0,a+2*u+f):(x=y/v)*(a*x+s*(_=1-x)+2*u)+_*(s*x+l*_+2*c)+f;for(var w=1-x-_,o=0;o<r.length;++o)i[o]=w*t[o]+x*e[o]+_*n[o];return v<0?0:v}},{}],971:[function(t,n,r){(function(J){(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var t;t=function(){var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,r=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(n&&0<=navigator.userAgent.indexOf(t[e]))return 1;return 0}();var i=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},r))}};function o(t){return t&&"[object Function]"==={}.toString.call(t)}function f(t,e){if(1!==t.nodeType)return[];t=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?t[e]:t}function u(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function c(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=f(t),n=e.overflow,r=e.overflowX,e=e.overflowY;return/(auto|scroll|overlay)/.test(n+e+r)?t:c(u(t))}function h(t){return t&&t.referenceNode?t.referenceNode:t}var e=n&&!(!window.MSInputMethodContext||!document.documentMode),a=n&&/MSIE 10/.test(navigator.userAgent);function d(t){return 11===t?e:10!==t&&e||a}function m(t){if(!t)return document.documentElement;for(var e=d(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===f(n,"position")?m(n):n:(t?t.ownerDocument:document).documentElement}function s(t){return null!==t.parentNode?s(t.parentNode):t}function p(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,n=document.createRange();n.setStart(r,0),n.setEnd(i,0);n=n.commonAncestorContainer;if(t!==n&&e!==n||r.contains(i))return"BODY"===(i=(r=n).nodeName)||"HTML"!==i&&m(r.firstElementChild)!==r?m(n):n;n=s(t);return n.host?p(n.host,e):p(t,s(e).host)}function g(t,e){var n="top"===(1<arguments.length&&void 0!==e?e:"top")?"scrollTop":"scrollLeft",e=t.nodeName;if("BODY"!==e&&"HTML"!==e)return t[n];e=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||e)[n]}function l(t,e){var n="x"===e?"Left":"Top",e="Left"==n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+e+"Width"])}function y(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],d(10)?parseInt(n["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function v(t){var e=t.body,n=t.documentElement,t=d(10)&&getComputedStyle(n);return{height:y("Height",e,n,t),width:y("Width",e,n,t)}}var b=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t=function(t,e,n){return e&&x(t.prototype,e),n&&x(t,n),t};function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function k(t){return w({},t,{right:t.left+t.width,bottom:t.top+t.height})}function T(t){var e,n,r={};try{d(10)?(r=t.getBoundingClientRect(),e=g(t,"top"),n=g(t,"left"),r.top+=e,r.left+=n,r.bottom+=e,r.right+=n):r=t.getBoundingClientRect()}catch(t){}var i={left:r.left,top:r.top,width:r.right-r.left,height:r.bottom-r.top},o="HTML"===t.nodeName?v(t.ownerDocument):{},a=o.width||t.clientWidth||i.width,s=o.height||t.clientHeight||i.height,o=t.offsetWidth-a,a=t.offsetHeight-s;return(o||a)&&(o-=l(s=f(t),"x"),a-=l(s,"y"),i.width-=o,i.height-=a),k(i)}function M(t,e,n){var r=2<arguments.length&&void 0!==n&&n,i=d(10),o="HTML"===e.nodeName,a=T(t),s=T(e),l=c(t),u=f(e),n=parseFloat(u.borderTopWidth),t=parseFloat(u.borderLeftWidth);r&&o&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));a=k({top:a.top-s.top-n,left:a.left-s.left-t,width:a.width,height:a.height});return a.marginTop=0,a.marginLeft=0,!i&&o&&(o=parseFloat(u.marginTop),u=parseFloat(u.marginLeft),a.top-=n-o,a.bottom-=n-o,a.left-=t-u,a.right-=t-u,a.marginTop=o,a.marginLeft=u),(i&&!r?e.contains(l):e===l&&"BODY"!==l.nodeName)&&(a=function(t,e,n){var r=2<arguments.length&&void 0!==n&&n,n=g(e,"top"),e=g(e,"left"),r=r?-1:1;return t.top+=n*r,t.bottom+=n*r,t.left+=e*r,t.right+=e*r,t}(a,e)),a}function A(t){if(!t||!t.parentElement||d())return document.documentElement;for(var e=t.parentElement;e&&"none"===f(e,"transform");)e=e.parentElement;return e||document.documentElement}function S(t,e,n,r,i){var o=4<arguments.length&&void 0!==i&&i,a={top:0,left:0},s=o?A(t):p(t,h(e));"viewport"===r?a=function(t,e){var n=1<arguments.length&&void 0!==e&&e,r=t.ownerDocument.documentElement,i=M(t,r),o=Math.max(r.clientWidth,window.innerWidth||0),e=Math.max(r.clientHeight,window.innerHeight||0),t=n?0:g(r),r=n?0:g(r,"left");return k({top:t-i.top+i.marginTop,left:r-i.left+i.marginLeft,width:o,height:e})}(s,o):(i=void 0,"scrollParent"===r?"BODY"===(i=c(u(e))).nodeName&&(i=t.ownerDocument.documentElement):i="window"===r?t.ownerDocument.documentElement:r,l=M(i,s,o),"HTML"!==i.nodeName||function t(e){var n=e.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===f(e,"position"))return!0;e=u(e);return!!e&&t(e)}(s)?a=l:(t=(s=v(t.ownerDocument)).height,s=s.width,a.top+=l.top-l.marginTop,a.bottom=t+l.top,a.left+=l.left-l.marginLeft,a.right=s+l.left));var l="number"==typeof(n=n||0);return a.left+=l?n:n.left||0,a.top+=l?n:n.top||0,a.right-=l?n:n.right||0,a.bottom-=l?n:n.bottom||0,a}function E(t,e,n,r,i,o){o=5<arguments.length&&void 0!==o?o:0;if(-1===t.indexOf("auto"))return t;var i=S(n,r,o,i),a={top:{width:i.width,height:e.top-i.top},right:{width:i.right-e.right,height:i.height},bottom:{width:i.width,height:i.bottom-e.bottom},left:{width:e.left-i.left,height:i.height}},e=Object.keys(a).map(function(t){return w({key:t},a[t],{area:(t=a[t]).width*t.height})}).sort(function(t,e){return e.area-t.area}),i=e.filter(function(t){var e=t.width,t=t.height;return e>=n.clientWidth&&t>=n.clientHeight}),e=(0<i.length?i:e)[0].key,t=t.split("-")[1];return e+(t?"-"+t:"")}function C(t,e,n,r){r=3<arguments.length&&void 0!==r?r:null;return M(n,r?A(e):p(e,h(n)),r)}function O(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),e=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+e,height:t.offsetHeight+n}}function j(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function P(t,e,n){n=n.split("-")[0];var r=O(t),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",t=o?"height":"width",o=o?"width":"height";return i[a]=e[a]+e[t]/2-r[t]/2,i[s]=n===s?e[s]-r[o]:e[j(s)],i}function N(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function L(t,n,e){return(void 0===e?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var r=N(t,function(t){return t[e]===n});return t.indexOf(r)}(t,"name",e))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var e=t.function||t.fn;t.enabled&&o(e)&&(n.offsets.popper=k(n.offsets.popper),n.offsets.reference=k(n.offsets.reference),n=e(n,t))}),n}function R(t,n){return t.some(function(t){var e=t.name;return t.enabled&&e===n})}function D(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],i=i?""+i+n:t;if(void 0!==document.body.style[i])return i}return null}function I(t){t=t.ownerDocument;return t?t.defaultView:window}function F(t,e,n,r){n.updateBound=r,I(t).addEventListener("resize",n.updateBound,{passive:!0});t=c(t);return function t(e,n,r,i){var o="BODY"===e.nodeName,e=o?e.ownerDocument.defaultView:e;e.addEventListener(n,r,{passive:!0}),o||t(c(e.parentNode),n,r,i),i.push(e)}(t,"scroll",n.updateBound,n.scrollParents),n.scrollElement=t,n.eventsEnabled=!0,n}function z(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,I(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function B(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function U(n,r){Object.keys(r).forEach(function(t){var e="";-1!==["width","height","top","right","bottom","left"].indexOf(t)&&B(r[t])&&(e="px"),n.style[t]=r[t]+e})}var H=n&&/Firefox/i.test(navigator.userAgent);function q(t,e,n){var r,i=N(t,function(t){return t.name===e}),o=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});return o||(r="`"+e+"`",t="`"+n+"`",console.warn(t+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")),o}var V=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],G=V.slice(3);function W(t,e){e=1<arguments.length&&void 0!==e&&e,t=G.indexOf(t),t=G.slice(t+1).concat(G.slice(0,t));return e?t.reverse():t}var Y="flip",X="clockwise",Z="counterclockwise";function $(t,i,o,e){var a=[0,0],s=-1!==["right","left"].indexOf(e),n=t.split(/(\+|\-)/).map(function(t){return t.trim()}),e=n.indexOf(N(n,function(t){return-1!==t.search(/,|\s/)}));n[e]&&-1===n[e].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");t=/\s*,\s*|\s+/;return(-1!==e?[n.slice(0,e).concat([n[e].split(t)[0]]),[n[e].split(t)[1]].concat(n.slice(e+1))]:[n]).map(function(t,e){var n=(1===e?!s:s)?"height":"width",r=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,r=!0,t):r?(t[t.length-1]+=e,r=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,r){var i=+(o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/))[1],o=o[2];if(!i)return t;if(0!==o.indexOf("%"))return"vh"!==o&&"vw"!==o?i:("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;var a=void 0;switch(o){case"%p":a=n;break;case"%":case"%r":default:a=r}return k(a)[e]/100*i}(t,n,i,o)})}).forEach(function(n,r){n.forEach(function(t,e){B(t)&&(a[r]+=t*("-"===n[e-1]?-1:1))})}),a}var Q={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e,n,r=t.placement,i=r.split("-")[0],o=r.split("-")[1];return o&&(e=(n=t.offsets).reference,r=n.popper,i=(n=-1!==["bottom","top"].indexOf(i))?"width":"height",i={start:_({},n=n?"left":"top",e[n]),end:_({},n,e[n]+e[i]-r[i])},t.offsets.popper=w({},r,i[o])),t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,r=t.placement,i=(o=t.offsets).popper,e=o.reference,o=r.split("-")[0],r=void 0,r=B(+n)?[+n,0]:$(n,i,e,o);return"left"===o?(i.top+=r[0],i.left-=r[1]):"right"===o?(i.top+=r[0],i.left+=r[1]):"top"===o?(i.left+=r[0],i.top-=r[1]):"bottom"===o&&(i.left+=r[0],i.top+=r[1]),t.popper=i,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,r){var e=r.boundariesElement||m(t.instance.popper);t.instance.reference===e&&(e=m(e));var n=D("transform"),i=t.instance.popper.style,o=i.top,a=i.left,s=i[n];i.top="",i.left="",i[n]="";var l=S(t.instance.popper,t.instance.reference,r.padding,e,t.positionFixed);i.top=o,i.left=a,i[n]=s,r.boundaries=l;var s=r.priority,u=t.offsets.popper,c={primary:function(t){var e=u[t];return u[t]<l[t]&&!r.escapeWithReference&&(e=Math.max(u[t],l[t])),_({},t,e)},secondary:function(t){var e="right"===t?"left":"top",n=u[e];return u[t]>l[t]&&!r.escapeWithReference&&(n=Math.min(u[e],l[t]-("right"===t?u.width:u.height))),_({},e,n)}};return s.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=w({},u,c[e](t))}),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=(o=t.offsets).popper,n=o.reference,r=t.placement.split("-")[0],i=Math.floor,o=(a=-1!==["top","bottom"].indexOf(r))?"right":"bottom",r=a?"left":"top",a=a?"width":"height";return e[o]<i(n[r])&&(t.offsets.popper[r]=i(n[r])-e[a]),e[r]>i(n[o])&&(t.offsets.popper[r]=i(n[o])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){if(!q(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if("string"==typeof n){if(!(n=t.instance.popper.querySelector(n)))return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],i=(c=t.offsets).popper,o=c.reference,a=-1!==["left","right"].indexOf(r),s=a?"height":"width",l=a?"Top":"Left",u=l.toLowerCase(),e=a?"left":"top",c=a?"bottom":"right",r=O(n)[s];return o[c]-r<i[u]&&(t.offsets.popper[u]-=i[u]-(o[c]-r)),o[u]+r>i[c]&&(t.offsets.popper[u]+=o[u]+r-i[c]),t.offsets.popper=k(t.offsets.popper),a=o[u]+o[s]/2-r/2,c=f(t.instance.popper),o=parseFloat(c["margin"+l]),l=parseFloat(c["border"+l+"Width"]),l=a-t.offsets.popper[u]-o-l,l=Math.max(Math.min(i[s]-r,l),0),t.arrowElement=n,t.offsets.arrow=(_(n={},u,Math.round(l)),_(n,e,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(u,c){if(R(u.instance.modifiers,"inner"))return u;if(u.flipped&&u.placement===u.originalPlacement)return u;var f=S(u.instance.popper,u.instance.reference,c.padding,c.boundariesElement,u.positionFixed),h=u.placement.split("-")[0],d=j(h),p=u.placement.split("-")[1]||"",g=[];switch(c.behavior){case Y:g=[h,d];break;case X:g=W(h);break;case Z:g=W(h,!0);break;default:g=c.behavior}return g.forEach(function(t,e){if(h!==t||g.length===e+1)return u;h=u.placement.split("-")[0],d=j(h);var n=u.offsets.popper,r=u.offsets.reference,i=Math.floor,o="left"===h&&i(n.right)>i(r.left)||"right"===h&&i(n.left)<i(r.right)||"top"===h&&i(n.bottom)>i(r.top)||"bottom"===h&&i(n.top)<i(r.bottom),a=i(n.left)<i(f.left),s=i(n.right)>i(f.right),l=i(n.top)<i(f.top),t=i(n.bottom)>i(f.bottom),r="left"===h&&a||"right"===h&&s||"top"===h&&l||"bottom"===h&&t,n=-1!==["top","bottom"].indexOf(h),i=!!c.flipVariations&&(n&&"start"===p&&a||n&&"end"===p&&s||!n&&"start"===p&&l||!n&&"end"===p&&t),l=!!c.flipVariationsByContent&&(n&&"start"===p&&s||n&&"end"===p&&a||!n&&"start"===p&&t||!n&&"end"===p&&l),l=i||l;(o||r||l)&&(u.flipped=!0,(o||r)&&(h=g[e+1]),l&&(p="end"===(l=p)?"start":"start"===l?"end":l),u.placement=h+(p?"-"+p:""),u.offsets.popper=w({},u.offsets.popper,P(u.instance.popper,u.offsets.reference,u.placement)),u=L(u.instance.modifiers,u,"flip"))}),u},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],r=(a=t.offsets).popper,i=a.reference,o=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[o?"left":"top"]=i[n]-(a?r[o?"width":"height"]:0),t.placement=j(e),t.offsets.popper=k(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!q(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=N(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,r=e.y,i=t.offsets.popper;void 0!==(p=N(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration)&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o,a,s,l,u=void 0!==p?p:e.gpuAcceleration,c=m(t.instance.popper),f=T(c),h={position:i.position},d=(o=t,d=window.devicePixelRatio<2||!H,g=(l=o.offsets).popper,a=l.reference,s=Math.round,p=Math.floor,e=function(t){return t},i=s(a.width),l=s(g.width),a=-1!==["left","right"].indexOf(o.placement),o=-1!==o.placement.indexOf("-"),p=d?a||o||i%2==l%2?s:p:e,e=d?s:e,{left:p(i%2==1&&l%2==1&&!o&&d?g.left-1:g.left),top:e(g.top),bottom:e(g.bottom),right:p(g.right)}),e="bottom"===n?"top":"bottom",p="right"===r?"left":"right",g=D("transform"),n=void 0,r=void 0,r="bottom"==e?"HTML"===c.nodeName?-c.clientHeight+d.bottom:-f.height+d.bottom:d.top,n="right"==p?"HTML"===c.nodeName?-c.clientWidth+d.right:-f.width+d.right:d.left;return u&&g?(h[g]="translate3d("+n+"px, "+r+"px, 0)",h[e]=0,h[p]=0,h.willChange="transform"):(u="bottom"==e?-1:1,g="right"==p?-1:1,h[e]=r*u,h[p]=n*g,h.willChange=e+", "+p),p={"x-placement":t.placement},t.attributes=w({},p,t.attributes),t.styles=w({},h,t.styles),t.arrowStyles=w({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return U(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&U(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,r,i){return i=C(i,e,t,n.positionFixed),t=E(n.placement,i,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding),e.setAttribute("x-placement",t),U(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},t=(t(K,[{key:"update",value:function(){return function(){var t;this.state.isDestroyed||((t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}}).offsets.reference=C(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=E(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=P(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=L(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t)))}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,R(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[D("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=F(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return z.call(this)}}]),K);function K(t,e){var n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};b(this,K),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=i(this.update.bind(this)),this.options=w({},K.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=e&&e.jquery?e[0]:e,this.options.modifiers={},Object.keys(w({},K.Defaults.modifiers,r.modifiers)).forEach(function(t){n.options.modifiers[t]=w({},K.Defaults.modifiers[t]||{},r.modifiers?r.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return w({name:t},n.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&o(t.onLoad)&&t.onLoad(n.reference,n.popper,n.options,t,n.state)}),this.update();e=this.options.eventsEnabled;e&&this.enableEventListeners(),this.state.eventsEnabled=e}return t.Utils=("undefined"!=typeof window?window:J).PopperUtils,t.placements=V,t.Defaults=Q,t},"object"===(void 0===r?"undefined":e(r))&&void 0!==n?n.exports=t():"function"==typeof define&&define.amd?define(t):(void 0).Popper=t()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],972:[function(t,e,n){"use strict";var r,i,e=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,u=[],c=!1,f=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&d())}function d(){if(!c){var t=s(h);c=!0;for(var e=u.length;e;){for(l=u,u=[];++f<e;)l&&l[f].run();f=-1,e=u.length}l=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}e.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=g,e.addListener=g,e.once=g,e.off=g,e.removeListener=g,e.removeAllListeners=g,e.emit=g,e.prependListener=g,e.prependOnceListener=g,e.listeners=function(t){return[]},e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],973:[function(t,e,n){"use strict";e.exports=t("gl-quat/slerp")},{"gl-quat/slerp":510}],974:[function(t,e,n){"use strict";var o=t("big-rat/add");e.exports=function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=o(t[i],e[i]);return r}},{"big-rat/add":11}],975:[function(t,e,n){"use strict";e.exports=function(t){for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=r(t[n]);return e};var r=t("big-rat")},{"big-rat":14}],976:[function(t,e,n){"use strict";var a=t("big-rat"),s=t("big-rat/mul");e.exports=function(t,e){for(var n=a(e),r=t.length,i=new Array(r),o=0;o<r;++o)i[o]=s(t[o],n);return i}},{"big-rat":14,"big-rat/mul":23}],977:[function(t,e,n){"use strict";var o=t("big-rat/sub");e.exports=function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=o(t[i],e[i]);return r}},{"big-rat/sub":25}],978:[function(t,e,n){"use strict";function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(a){var l,t=Object.prototype,u=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function o(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(t){o=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i,o,a,s,e=e&&e.prototype instanceof m?e:m,e=Object.create(e.prototype),r=new M(r||[]);return e._invoke=(i=t,o=n,a=r,s=f,function(t,e){if(s===d)throw new Error("Generator is already running");if(s===p){if("throw"===t)throw e;return S()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){var r=function t(e,n){var r=e.iterator[n.method];if(r===l){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=l,t(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}r=c(r,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var r=r.arg;if(!r)return n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g;{if(!r.done)return r;n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=l)}n.delegate=null;return g}(n,a);if(r){if(r===g)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===f)throw s=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=d;r=c(i,o,a);if("normal"===r.type){if(s=a.done?p:h,r.arg!==g)return{value:r.arg,done:a.done}}else"throw"===r.type&&(s=p,a.method="throw",a.arg=r.arg)}}),e}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=s;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",g={};function m(){}function y(){}function v(){}var b={};b[r]=function(){return this};e=Object.getPrototypeOf,e=e&&e(e(A([])));e&&e!==t&&u.call(e,r)&&(b=e);var x=v.prototype=m.prototype=Object.create(b);function _(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function w(a,s){var e;this._invoke=function(n,r){function t(){return new s(function(t,e){!function e(t,n,r,i){t=c(a[t],a,n);if("throw"!==t.type){var o=t.arg,n=o.value;return n&&"object"===E(n)&&u.call(n,"__await")?s.resolve(n.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):s.resolve(n).then(function(t){o.value=t,r(o)},function(t){return e("throw",t,r,i)})}i(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function A(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,t=function t(){for(;++n<e.length;)if(u.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=l,t.done=!0,t};return t.next=t}}return{next:S}}function S(){return{value:l,done:!0}}return((y.prototype=x.constructor=v).constructor=y).displayName=o(v,i,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,o(t,i,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},_(w.prototype),w.prototype[n]=function(){return this},a.AsyncIterator=w,a.async=function(t,e,n,r,i){void 0===i&&(i=Promise);var o=new w(s(t,e,n,r),i);return a.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},_(x),o(x,i,"Generator"),x[r]=function(){return this},x.toString=function(){return"[object Generator]"},a.keys=function(n){var t,r=[];for(t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=A,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&u.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=l)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=l),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=u.call(i,"catchLoc"),s=u.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r,i=n.completion;return"throw"===i.type&&(r=i.arg,T(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=l),g}},a}("object"===(void 0===e?"undefined":E(e))?e.exports:{});try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},{}],979:[function(t,e,n){"use strict";var r,i="";e.exports=function(t,e){if("string"!=typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var n=t.length*e;if(r!==t||void 0===r)r=t,i="";else if(i.length>=n)return i.substr(0,n);for(;n>i.length&&1<e;)1&e&&(i+=t),e>>=1,t+=t;return i=(i+=t).substr(0,n)}},{}],980:[function(t,e,n){(function(t){(function(){"use strict";e.exports=t.performance&&t.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],981:[function(t,e,n){"use strict";e.exports=function(t){for(var e=t.length,n=t[t.length-1],r=e,i=e-2;0<=i;--i){var o=n,a=t[i];(l=a-((n=o+a)-o))&&(t[--r]=n,n=l)}for(var s=0,i=r;i<e;++i){var l,o=t[i];(l=(a=n)-((n=o+a)-o))&&(t[s++]=l)}return t[s++]=n,t.length=s,t}},{}],982:[function(t,i,e){"use strict";var n=t("two-product"),r=t("robust-sum"),o=t("robust-scale"),a=t("robust-compress");function s(t){if(2===t.length)return["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("");for(var e=[],n=0;n<t.length;++n)e.push(["scale(",s(function(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(i[a++]=t[r][o]);return n}(t,n)),",",1&n?"-":"",t[0][n],")"].join(""));return function t(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var n=e.length>>1;return["sum(",t(e.slice(0,n)),",",t(e.slice(n)),")"].join("")}(e)}function l(t){return new Function("sum","scale","prod","compress",["function robustDeterminant",t,"(m){return compress(",s(function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m[",n,"][",r,"]"].join("")}return e}(t)),")};return robustDeterminant",t].join(""))(r,o,n,a)}var u=[function(){return[0]},function(t){return[t[0][0]]}];!function(){for(;u.length<6;)u.push(l(u.length));for(var t=[],e=["function robustDeterminant(m){switch(m.length){"],n=0;n<6;++n)t.push("det"+n),e.push("case ",n,":return det",n,"(m);");e.push("}var det=CACHE[m.length];if(!det)det=CACHE[m.length]=gen(m.length);return det(m);}return robustDeterminant"),t.push("CACHE","gen",e.join(""));var r=Function.apply(void 0,t);for(i.exports=r.apply(void 0,u.concat([u,l])),n=0;n<u.length;++n)i.exports[n]=u[n]}()},{"robust-compress":981,"robust-scale":988,"robust-sum":991,"two-product":1009}],983:[function(t,e,n){"use strict";var i=t("two-product"),o=t("robust-sum");e.exports=function(t,e){for(var n=i(t[0],e[0]),r=1;r<t.length;++r)n=o(n,i(t[r],e[r]));return n}},{"robust-sum":991,"two-product":1009}],984:[function(t,o,e){"use strict";var f=t("two-product"),h=t("robust-sum"),d=t("robust-subtract"),p=t("robust-scale");function g(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(i[a++]=t[r][o]);return n}function m(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",m(t.slice(0,e)),",",m(t.slice(e)),")"].join("")}function r(t,e){if("m"!==t.charAt(0))return r(e,t);if("w"!==e.charAt(0))return["prod(",t,",",e,")"].join("");t=t.split("[");return["w",e.substr(1),"m",t[0].substr(1)].join("")}function y(t){if(2===t.length)return[["diff(",r(t[0][0],t[1][1]),",",r(t[1][0],t[0][1]),")"].join("")];for(var e=[],n=0;n<t.length;++n)e.push(["scale(",m(y(g(t,n))),",",!0&n?"-":"",t[0][n],")"].join(""));return e}function a(t){for(var e=[],n=[],r=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-2,"]"].join("")}return e}(t),i=0;i<t;++i)r[0][i]="1",r[t-1][i]="w"+i;for(i=0;i<t;++i)0==(1&i)?e.push.apply(e,y(g(r,i))):n.push.apply(n,y(g(r,i)));for(var o=m(e),a=m(n),s="exactInSphere"+t,l=[],i=0;i<t;++i)l.push("m"+i);for(var u=["function ",s,"(",l.join(),"){"],i=0;i<t;++i){u.push("var w",i,"=",function(t,e){for(var n=[],r=0;r<e-2;++r)n.push(["prod(m",t,"[",r,"],m",t,"[",r,"])"].join(""));return m(n)}(i,t),";");for(var c=0;c<t;++c)c!==i&&u.push("var w",i,"m",c,"=scale(w",i,",m",c,"[0]);")}return u.push("var p=",o,",n=",a,",d=diff(p,n);return d[d.length-1];}return ",s),new Function("sum","diff","prod","scale",u.join(""))(h,d,f,p)}var s=[function(){return 0},function(){return 0},function(){return 0}];!function(){for(;s.length<=6;)s.push(a(s.length));for(var t=[],e=["slow"],n=0;n<=6;++n)t.push("a"+n),e.push("o"+n);for(var r=["function testInSphere(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"],n=2;n<=6;++n)r.push("case ",n,":return o",n,"(",t.slice(0,n).join(),");");r.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return testInSphere"),e.push(r.join(""));var i=Function.apply(void 0,e);for(o.exports=i.apply(void 0,[function(t){return(s[t.length]||(s[t.length]=a(t.length))).apply(void 0,t)}].concat(s)),n=0;n<=6;++n)o.exports[n]=s[n]}()},{"robust-scale":988,"robust-subtract":990,"robust-sum":991,"two-product":1009}],985:[function(t,i,e){"use strict";var a=t("robust-determinant");function o(t){for(var e="robustLinearSolve"+t+"d",n=["function ",e,"(A,b){return ["],r=0;r<t;++r){n.push("det([");for(var i=0;i<t;++i){0<i&&n.push(","),n.push("[");for(var o=0;o<t;++o)0<o&&n.push(","),o===r?n.push("+b[",i,"]"):n.push("+A[",i,"][",o,"]");n.push("]")}n.push("]),")}n.push("det(A)]}return ",e);e=new Function("det",n.join(""));return e(t<6?a[t]:a)}var s=[function(){return[0]},function(t,e){return[[e[0]],[t[0][0]]]}];!function(){for(;s.length<6;)s.push(o(s.length));for(var t=[],e=["function dispatchLinearSolve(A,b){switch(A.length){"],n=0;n<6;++n)t.push("s"+n),e.push("case ",n,":return s",n,"(A,b);");e.push("}var s=CACHE[A.length];if(!s)s=CACHE[A.length]=g(A.length);return s(A,b)}return dispatchLinearSolve"),t.push("CACHE","g",e.join(""));var r=Function.apply(void 0,t);for(i.exports=r.apply(void 0,s.concat([s,o])),n=0;n<6;++n)i.exports[n]=s[n]}()},{"robust-determinant":982}],986:[function(t,o,e){"use strict";var u=t("two-product"),c=t("robust-sum"),f=t("robust-scale"),h=t("robust-subtract"),t=11102230246251565e-32;function d(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(i[a++]=t[r][o]);return n}function p(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",p(t.slice(0,e)),",",p(t.slice(e)),")"].join("")}function g(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],n=0;n<t.length;++n)e.push(["scale(",p(g(d(t,n))),",",1&n?"-":"",t[0][n],")"].join(""));return e}function a(t){for(var e=[],n=[],r=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}(t),i=[],o=0;o<t;++o)0==(1&o)?e.push.apply(e,g(d(r,o))):n.push.apply(n,g(d(r,o))),i.push("m"+o);var a=p(e),s=p(n),l="orientation"+t+"Exact",l=["function ",l,"(",i.join(),"){var p=",a,",n=",s,",d=sub(p,n);return d[d.length-1];};return ",l].join("");return new Function("sum","prod","scale","sub",l)(c,u,f,h)}var s=a(3),m=a(4),l=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r=(t[1]-n[1])*(e[0]-n[0]),i=(t[0]-n[0])*(e[1]-n[1]),o=r-i;if(0<r){if(i<=0)return o;a=r+i}else{if(!(r<0))return o;if(0<=i)return o;a=-(r+i)}var a=33306690738754716e-32*a;return a<=o||o<=-a?o:s(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],a=n[0]-r[0],s=t[1]-r[1],l=e[1]-r[1],u=n[1]-r[1],c=t[2]-r[2],f=e[2]-r[2],h=n[2]-r[2],d=o*u,p=a*l,a=a*s,u=i*u,l=i*l,o=o*s,s=c*(d-p)+f*(a-u)+h*(l-o),h=7771561172376103e-31*((Math.abs(d)+Math.abs(p))*Math.abs(c)+(Math.abs(a)+Math.abs(u))*Math.abs(f)+(Math.abs(l)+Math.abs(o))*Math.abs(h));return h<s||h<-s?s:m(t,e,n,r)}];!function(){for(;l.length<=5;)l.push(a(l.length));for(var t=[],e=["slow"],n=0;n<=5;++n)t.push("a"+n),e.push("o"+n);for(var r=["function getOrientation(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"],n=2;n<=5;++n)r.push("case ",n,":return o",n,"(",t.slice(0,n).join(),");");r.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),e.push(r.join(""));var i=Function.apply(void 0,e);for(o.exports=i.apply(void 0,[function(t){return(l[t.length]||(l[t.length]=a(t.length))).apply(void 0,t)}].concat(l)),n=0;n<=5;++n)o.exports[n]=l[n]}()},{"robust-scale":988,"robust-subtract":990,"robust-sum":991,"two-product":1009}],987:[function(t,e,n){"use strict";var i=t("robust-sum"),o=t("robust-scale");e.exports=function(t,e){if(1===t.length)return o(e,t[0]);if(1===e.length)return o(t,e[0]);if(0===t.length||0===e.length)return[0];var n=[0];if(t.length<e.length)for(var r=0;r<t.length;++r)n=i(n,o(e,t[r]));else for(r=0;r<e.length;++r)n=i(n,o(t,e[r]));return n}},{"robust-scale":988,"robust-sum":991}],988:[function(t,e,n){"use strict";var h=t("two-product"),d=t("two-sum");e.exports=function(t,e){var n=t.length;if(1===n){var r=h(t[0],e);return r[0]?r:[r[1]]}var i=new Array(2*n),o=[.1,.1],a=[.1,.1],s=0;h(t[0],e,o),o[0]&&(i[s++]=o[0]);for(var l=1;l<n;++l){h(t[l],e,a);var u=o[1];d(u,a[0],o),o[0]&&(i[s++]=o[0]);var c=a[1],f=o[1],u=c+f,c=f-(u-c);o[1]=u,c&&(i[s++]=c)}o[1]&&(i[s++]=o[1]);0===s&&(i[s++]=0);return i.length=s,i}},{"two-product":1009,"two-sum":1010}],989:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=l(t,n,r),o=l(e,n,r);if(0<i&&0<o||i<0&&o<0)return!1;var a=l(n,t,e),s=l(r,t,e);if(0<a&&0<s||a<0&&s<0)return!1;return 0!==i||0!==o||0!==a||0!==s||function(t,e,n,r){for(var i=0;i<2;++i){var o=t[i],a=e[i],s=Math.min(o,a),l=Math.max(o,a),u=n[i],o=r[i],a=Math.min(u,o);if(Math.max(u,o)<s||l<a)return!1}return!0}(t,e,n,r)};var l=t("robust-orientation")[3]},{"robust-orientation":986}],990:[function(t,e,n){"use strict";e.exports=function(t,e){var n=0|t.length,r=0|e.length;if(1==n&&1==r)return function(t,e){var n=t+e,r=n-t,r=t-(n-r)+(e-r);if(r)return[r,n];return[n]}(t[0],-e[0]);var i,o,a=new Array(n+r),s=0,l=0,u=0,c=Math.abs,f=t[l],h=c(f),d=-e[u],p=c(d);h<p?(o=f,(l+=1)<n&&(f=t[l],h=c(f))):(o=d,(u+=1)<r&&(d=-e[u],p=c(d)));l<n&&h<p||r<=u?(i=f,(l+=1)<n&&(f=t[l],h=c(f))):(i=d,(u+=1)<r&&(d=-e[u],p=c(d)));var g,m,y=i+o,v=y-i,b=o-v,x=b,_=y;for(;l<n&&u<r;)h<p?(i=f,(l+=1)<n&&(f=t[l],h=c(f))):(i=d,(u+=1)<r&&(d=-e[u],p=c(d))),(b=(o=x)-(v=(y=i+o)-i))&&(a[s++]=b),x=_-((g=_+y)-(m=g-_))+(y-m),_=g;for(;l<n;)(b=(o=x)-(v=(y=(i=f)+o)-i))&&(a[s++]=b),x=_-((g=_+y)-(m=g-_))+(y-m),_=g,(l+=1)<n&&(f=t[l]);for(;u<r;)(b=(o=x)-(v=(y=(i=d)+o)-i))&&(a[s++]=b),x=_-((g=_+y)-(m=g-_))+(y-m),_=g,(u+=1)<r&&(d=-e[u]);x&&(a[s++]=x);_&&(a[s++]=_);s||(a[s++]=0);return a.length=s,a}},{}],991:[function(t,e,n){"use strict";e.exports=function(t,e){var n=0|t.length,r=0|e.length;if(1==n&&1==r)return function(t,e){var n=t+e,r=n-t,r=t-(n-r)+(e-r);if(r)return[r,n];return[n]}(t[0],e[0]);var i,o,a=new Array(n+r),s=0,l=0,u=0,c=Math.abs,f=t[l],h=c(f),d=e[u],p=c(d);h<p?(o=f,(l+=1)<n&&(f=t[l],h=c(f))):(o=d,(u+=1)<r&&(d=e[u],p=c(d)));l<n&&h<p||r<=u?(i=f,(l+=1)<n&&(f=t[l],h=c(f))):(i=d,(u+=1)<r&&(d=e[u],p=c(d)));var g,m,y=i+o,v=y-i,b=o-v,x=b,_=y;for(;l<n&&u<r;)h<p?(i=f,(l+=1)<n&&(f=t[l],h=c(f))):(i=d,(u+=1)<r&&(d=e[u],p=c(d))),(b=(o=x)-(v=(y=i+o)-i))&&(a[s++]=b),x=_-((g=_+y)-(m=g-_))+(y-m),_=g;for(;l<n;)(b=(o=x)-(v=(y=(i=f)+o)-i))&&(a[s++]=b),x=_-((g=_+y)-(m=g-_))+(y-m),_=g,(l+=1)<n&&(f=t[l]);for(;u<r;)(b=(o=x)-(v=(y=(i=d)+o)-i))&&(a[s++]=b),x=_-((g=_+y)-(m=g-_))+(y-m),_=g,(u+=1)<r&&(d=e[u]);x&&(a[s++]=x);_&&(a[s++]=_);s||(a[s++]=0);return a.length=s,a}},{}],992:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){n=n||0,void 0===r&&(r=function(t){for(var e=t.length,n=0,r=0;r<e;++r)n=0|Math.max(n,t[r].length);return n-1}(t));if(0===t.length||r<1)return{cells:[],vertexIds:[],vertexWeights:[]};var i=function(t,e){for(var n=t.length,r=p.mallocUint8(n),i=0;i<n;++i)r[i]=t[i]<e|0;return r}(e,+n),o=function(t,e){for(var n=t.length,r=e*(e+1)/2*n|0,i=p.mallocUint32(2*r),o=0,a=0;a<n;++a)for(var s=t[a],e=s.length,l=0;l<e;++l)for(var u=0;u<l;++u){var c=s[u],f=s[l];i[o++]=0|Math.min(c,f),i[o++]=0|Math.max(c,f)}g(d(i,[o/2|0,2]));for(var h=2,a=2;a<o;a+=2)i[a-2]===i[a]&&i[a-1]===i[a+1]||(i[h++]=i[a],i[h++]=i[a+1]);return d(i,[h/2|0,2])}(t,r),a=function(t,e,n,r){for(var i=t.data,o=t.shape[0],a=p.mallocDouble(o),s=0,l=0;l<o;++l){var u,c,f=i[2*l],h=i[2*l+1];n[f]!==n[h]&&(u=e[f],c=e[h],i[2*s]=f,i[2*s+1]=h,a[s++]=(c-r)/(c-u))}return t.shape[0]=s,d(a,[s])}(o,e,i,+n),n=function(t,e){for(var n=p.mallocInt32(2*e),r=t.shape[0],i=t.data,o=n[0]=0,a=0;a<r;++a){var s=i[2*a];if(s!==o){for(n[2*o+1]=a;++o<s;)n[2*o]=a,n[2*o+1]=a;n[2*o]=a}}n[2*o+1]=r;for(;++o<e;)n[2*o]=n[2*o+1]=r;return n}(o,0|e.length),e=s(r)(t,o.data,n,i),r=function(t){for(var e=0|t.shape[0],n=t.data,r=new Array(e),i=0;i<e;++i)r[i]=[n[2*i],n[2*i+1]];return r}(o),t=[].slice.call(a.data,0,a.shape[0]);return p.free(i),p.free(o.data),p.free(a.data),p.free(n),{cells:e,vertexIds:r,vertexWeights:t}};var d=t("ndarray"),p=t("typedarray-pool"),g=t("ndarray-sort"),s=t("./lib/codegen")},{"./lib/codegen":993,ndarray:606,"ndarray-sort":605,"typedarray-pool":1011}],993:[function(t,e,n){"use strict";e.exports=function(t){var e=r[t];e=e||(r[t]=function(t){var e=0,n=new Array(t+1);n[0]=[[]];for(var r=1;r<=t;++r)for(var i=n[r]=u(r),o=0;o<i.length;++o)e=Math.max(e,i[r].length);var a=["function B(C,E,i,j){","var a=Math.min(i,j)|0,b=Math.max(i,j)|0,l=C[2*a],h=C[2*a+1];","while(l<h){","var m=(l+h)>>1,v=E[2*m+1];","if(v===b){return m}","if(b<v){h=m}else{l=m+1}","}","return l;","};","function getContour",t,"d(F,E,C,S){","var n=F.length,R=[];","for(var i=0;i<n;++i){var c=F[i],l=c.length;"];for(r=t+1;1<r;--r){r<t+1&&a.push("else "),a.push("if(l===",r,"){");for(var s=[],o=0;o<r;++o)s.push("(S[c["+o+"]]<<"+o+")");a.push("var M=",s.join("+"),";if(M===0||M===",(1<<r)-1,"){continue}switch(M){");for(i=n[r-1],o=0;o<i.length;++o)a.push("case ",o,":"),function(t){if(!(t.length<=0)){a.push("R.push(");for(var e=0;e<t.length;++e){var n=t[e];0<e&&a.push(","),a.push("[");for(var r=0;r<n.length;++r){var i=n[r];0<r&&a.push(","),a.push("B(C,E,c[",i[0],"],c[",i[1],"])")}a.push("]")}a.push(");")}}(i[o]),a.push("break;");a.push("}}")}return a.push("}return R;};return getContour",t,"d"),new Function("pool",a.join(""))(l)}(t));return e};var l=t("typedarray-pool"),u=t("marching-simplex-table"),r={}},{"marching-simplex-table":590,"typedarray-pool":1011}],994:[function(t,e,n){"use strict";var p=t("bit-twiddle"),f=t("union-find");function g(t,e){var n=t.length,r=t.length-e.length,i=Math.min;if(r)return r;switch(n){case 0:return 0;case 1:return t[0]-e[0];case 2:return(s=t[0]+t[1]-e[0]-e[1])?s:i(t[0],t[1])-i(e[0],e[1]);case 3:var o=t[0]+t[1],a=e[0]+e[1];if(s=o+t[2]-(a+e[2]))return s;var s,l=i(t[0],t[1]),u=i(e[0],e[1]);return(s=i(l,t[2])-i(u,e[2]))?s:i(l+t[2],o)-i(u+e[2],a);default:var c=t.slice(0);c.sort();var f=e.slice(0);f.sort();for(var h=0;h<n;++h)if(r=c[h]-f[h])return r;return 0}}function o(t,e){return g(t[0],e[0])}function h(t,e){if(e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=[t[i],e[i]];r.sort(o);for(i=0;i<n;++i)t[i]=r[i][0],e[i]=r[i][1];return t}return t.sort(g),t}function d(t){if(0===t.length)return[];for(var e=1,n=t.length,r=1;r<n;++r){var i=t[r];g(i,t[r-1])&&(r!==e?t[e++]=i:e++)}return t.length=e,t}function m(t,e){for(var n=0,r=t.length-1,i=-1;n<=r;){var o=n+r>>1,a=g(t[o],e);a<=0?(0===a&&(i=o),n=1+o):0<a&&(r=o-1)}return i}function l(t,e){for(var n=new Array(t.length),r=0,i=n.length;r<i;++r)n[r]=[];for(var o=[],r=0,a=e.length;r<a;++r)for(var s=e[r],l=s.length,u=1,c=1<<l;u<c;++u){o.length=p.popCount(u);for(var f=0,h=0;h<l;++h)u&1<<h&&(o[f++]=s[h]);var d=m(t,o);if(!(d<0))for(;n[d++].push(r),!(d>=t.length||0!==g(t[d],o)););}return n}function y(t,e){if(e<0)return[];for(var n=[],r=(1<<e+1)-1,i=0;i<t.length;++i)for(var o=t[i],a=r;a<1<<o.length;a=p.nextCombination(a)){for(var s=new Array(e+1),l=0,u=0;u<o.length;++u)a&1<<u&&(s[l++]=o[u]);n.push(s)}return h(n)}n.dimension=function(t){for(var e=0,n=Math.max,r=0,i=t.length;r<i;++r)e=n(e,t[r].length);return e-1},n.countVertices=function(t){for(var e=-1,n=Math.max,r=0,i=t.length;r<i;++r)for(var o=t[r],a=0,s=o.length;a<s;++a)e=n(e,o[a]);return e+1},n.cloneCells=function(t){for(var e=new Array(t.length),n=0,r=t.length;n<r;++n)e[n]=t[n].slice(0);return e},n.compareCells=g,n.normalize=h,n.unique=d,n.findCell=m,n.incidence=l,n.dual=function(t,e){if(!e)return l(d(y(t,0)),t);for(var n=new Array(e),r=0;r<e;++r)n[r]=[];for(var r=0,i=t.length;r<i;++r)for(var o=t[r],a=0,s=o.length;a<s;++a)n[o[a]].push(r);return n},n.explode=function(t){for(var e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],o=0|i.length,a=1,s=1<<o;a<s;++a){for(var l=[],u=0;u<o;++u)a>>>u&1&&l.push(i[u]);e.push(l)}return h(e)},n.skeleton=y,n.boundary=function(t){for(var e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length;o<a;++o){for(var s=new Array(i.length-1),l=0,u=0;l<a;++l)l!==o&&(s[u++]=i[l]);e.push(s)}return h(e)},n.connectedComponents=function(t,e){return e?function(t,e){for(var n=new f(e),r=0;r<t.length;++r)for(var i=t[r],o=0;o<i.length;++o)for(var a=o+1;a<i.length;++a)n.link(i[o],i[a]);for(var s=[],l=n.ranks,r=0;r<l.length;++r)l[r]=-1;for(r=0;r<t.length;++r){var u=n.find(t[r][0]);l[u]<0?(l[u]=s.length,s.push([t[r].slice(0)])):s[l[u]].push(t[r].slice(0))}return s}(t,e):function(t){for(var e=d(h(y(t,0))),n=new f(e.length),r=0;r<t.length;++r)for(var i=t[r],o=0;o<i.length;++o)for(var a=m(e,[i[o]]),s=o+1;s<i.length;++s)n.link(a,m(e,[i[s]]));for(var l=[],u=n.ranks,r=0;r<u.length;++r)u[r]=-1;for(r=0;r<t.length;++r){var c=n.find(m(e,[t[r][0]]));u[c]<0?(u[c]=l.length,l.push([t[r].slice(0)])):l[u[c]].push(t[r].slice(0))}return l}(t)}},{"bit-twiddle":28,"union-find":1012}],995:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],996:[function(t,e,n){arguments[4][994][0].apply(n,arguments)},{"bit-twiddle":995,dup:994,"union-find":997}],997:[function(t,e,n){"use strict";function r(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}(e.exports=r).prototype.length=function(){return this.roots.length},r.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.prototype.find=function(t){for(var e=this.roots;e[t]!==t;){var n=e[t];e[t]=e[n],t=n}return t},r.prototype.link=function(t,e){var n,r,i=this.find(t),o=this.find(e);i!==o&&(n=this.ranks,r=this.roots,(t=n[i])<(e=n[o])?r[i]=o:e<t?r[o]=i:++n[r[o]=i])}},{}],998:[function(t,e,n){"use strict";e.exports=function(t,r,e){for(var n=r.length,i=t.length,o=new Array(n),a=new Array(n),s=new Array(n),l=new Array(n),u=0;u<n;++u)o[u]=a[u]=-1,s[u]=1/0,l[u]=!1;for(u=0;u<i;++u){var c=t[u];if(2!==c.length)throw new Error("Input must be a graph");var f=c[1],c=c[0];-1!==a[c]?a[c]=-2:a[c]=f,-1!==o[f]?o[f]=-2:o[f]=c}function h(t){if(l[t])return 1/0;var e=o[t],n=a[t];return e<0||n<0?1/0:function(t,e,n){t=Math.abs(A(t,e,n)),n=Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2));return t/n}(r[t],r[e],r[n])}function d(t,e){var n=b[t],r=b[e];b[t]=r,b[e]=n,x[n]=e,x[r]=t}function p(t){return s[b[t]]}function g(t){for(var e=p(t);;){var n,r=e,i=2*t+1,o=2*(t+1),a=t;if(i<_&&((n=p(i))<r&&(a=i,r=n)),o<_&&p(o)<r&&(a=o),a===t)return t;d(t,a),t=a}}function m(t){for(var e=p(t);0<t;){var n=1&(n=t)?n-1>>1:(n>>1)-1;if(0<=n)if(e<p(n)){d(t,n),t=n;continue}return t}}function y(){if(0<_){var t=b[0];return d(0,_-1),--_,g(0),t}return-1}function v(t,e){var n=b[t];return s[n]===e?t:(s[n]=-1/0,m(t),y(),s[n]=e,m((_+=1)-1))}for(var b=[],x=new Array(n),u=0;u<n;++u)(s[u]=h(u))<1/0?(x[u]=b.length,b.push(u)):x[u]=-1;for(var _=b.length,u=_>>1;0<=u;--u)g(u);for(;;){var w=y();if(w<0||s[w]>e)break;!function(t){var e;l[t]||(l[t]=!0,e=o[t],t=a[t],0<=o[t]&&(o[t]=e),0<=a[e]&&(a[e]=t),0<=x[e]&&v(x[e],h(e)),0<=x[t]&&v(x[t],h(t)))}(w)}for(var k=[],u=0;u<n;++u)l[u]||(x[u]=k.length,k.push(r[u].slice()));k.length;function T(t,e){if(t[e]<0)return e;var n=e,r=e;do{var i=t[r]}while(l[r]&&!(i<0)&&i!==r&&((i=t[r=i],l[r]&&!(i<0)&&i!==r)&&(r=i,(n=t[n])!==r)));for(var o=e;o!==r;o=t[o])t[o]=r;return r}var M=[];return t.forEach(function(t){var e=T(o,t[0]),t=T(a,t[1]);0<=e&&0<=t&&e!==t&&((e=x[e])!==(t=x[t])&&M.push([e,t]))}),S.unique(S.normalize(M)),{positions:k,edges:M}};var A=t("robust-orientation"),S=t("simplicial-complex")},{"robust-orientation":986,"simplicial-complex":996}],999:[function(t,e,n){"use strict";e.exports=function(t,e){var n,r,i,o;if(e[0][0]<e[1][0])n=e[0],r=e[1];else{if(!(e[0][0]>e[1][0]))return a(e,t);n=e[1],r=e[0]}if(t[0][0]<t[1][0])i=t[0],o=t[1];else{if(!(t[0][0]>t[1][0]))return-a(t,e);i=t[1],o=t[0]}e=u(n,r,o),t=u(n,r,i);if(e<0){if(t<=0)return e}else if(0<e){if(0<=t)return e}else if(t)return t;if(e=u(o,i,r),t=u(o,i,n),e<0){if(t<=0)return e}else if(0<e){if(0<=t)return e}else if(t)return t;return r[0]-o[0]};var u=t("robust-orientation");function a(t,e){var n,r;if(e[0][0]<e[1][0])n=e[0],r=e[1];else{if(!(e[0][0]>e[1][0])){var i=Math.min(t[0][1],t[1][1]),o=Math.max(t[0][1],t[1][1]),a=Math.min(e[0][1],e[1][1]),s=Math.max(e[0][1],e[1][1]);return o<a?o-a:s<i?i-s:o-s}n=e[1],r=e[0]}t=t[0][1]<t[1][1]?(l=t[0],t[1]):(l=t[1],t[0]);var l=u(r,n,l);return(l=l||u(r,n,t))||t-r}},{"robust-orientation":986}],1e3:[function(t,e,n){arguments[4][452][0].apply(n,arguments)},{dup:452}],1001:[function(t,e,n){"use strict";e.exports=function(t){for(var e=t.length,n=2*e,r=new Array(n),i=0;i<e;++i){var o=t[i],a=o[0][0]<o[1][0];r[2*i]=new v(o[0][0],o,a,i),r[2*i+1]=new v(o[1][0],o,!a,i)}r.sort(function(t,e){var n=t.x-e.x;return(n=n||t.create-e.create)||Math.min(t.segment[0][1],t.segment[1][1])-Math.min(e.segment[0][1],e.segment[1][1])});for(var s=p(g),l=[],u=[],c=[],i=0;i<n;){for(var f=r[i].x,h=[];i<n;){var d=r[i];if(d.x!==f)break;i+=1,d.segment[0][0]===d.x&&d.segment[1][0]===d.x?d.create&&(d.segment[0][1]<d.segment[1][1]?(h.push(new y(d.segment[0][1],d.index,!0,!0)),h.push(new y(d.segment[1][1],d.index,!1,!1))):(h.push(new y(d.segment[1][1],d.index,!0,!1)),h.push(new y(d.segment[0][1],d.index,!1,!0)))):s=d.create?s.insert(d.segment,d.index):s.remove(d.segment)}l.push(s.root),u.push(f),c.push(h)}return new m(l,u,c)};var l=t("binary-search-bounds"),p=t("functional-red-black-tree"),u=t("robust-orientation"),g=t("./lib/order-segments");function m(t,e,n){this.slabs=t,this.coordinates=e,this.horizontal=n}function c(t,e){return t.y-e}function f(t,e){for(var n=null;t;){var r,i,o=t.key,a=o[0][0]<o[1][0]?(r=o[0],o[1]):(r=o[1],o[0]),a=u(r,a,e);if(a<0)t=t.left;else if(0<a)if(e[0]!==o[1][0])t=(n=t).right;else{if(i=f(t.right,e))return i;t=t.left}else{if(e[0]!==o[1][0])return t;if(i=f(t.right,e))return i;t=t.left}}return n}function y(t,e,n,r){this.y=t,this.index=e,this.start=n,this.closed=r}function v(t,e,n,r){this.x=t,this.segment=e,this.create=n,this.index=r}m.prototype.castUp=function(t){var e=l.le(this.coordinates,t[0]);if(e<0)return-1;this.slabs[e];var n=f(this.slabs[e],t),r=-1;if(n&&(r=n.value),this.coordinates[e]===t[0]){var i=null;n&&(i=n.key),0<e&&((n=f(this.slabs[e-1],t))&&(i?0<g(n.key,i)&&(i=n.key,r=n.value):(r=n.value,i=n.key)));var o=this.horizontal[e];if(0<o.length){var a=l.ge(o,t[1],c);if(a<o.length){var s=o[a];if(t[1]===s.y){if(s.closed)return s.index;for(;a<o.length-1&&o[a+1].y===t[1];)if((s=o[a+=1]).closed)return s.index;if(s.y===t[1]&&!s.start){if((a+=1)>=o.length)return r;s=o[a]}}s.start?i?(e=u(i[0],i[1],[t[0],s.y]),i[0][0]>i[1][0]&&(e=-e),0<e&&(r=s.index)):r=s.index:s.y!==t[1]&&(r=s.index)}}}return r}},{"./lib/order-segments":999,"binary-search-bounds":1e3,"functional-red-black-tree":453,"robust-orientation":986}],1002:[function(t,e,n){"use strict";var r=t("robust-dot-product"),i=t("robust-sum");function c(t,e){e=i(r(t,e),[e[e.length-1]]);return e[e.length-1]}function f(t,e,n,r){var i=-e/(r-e);i<0?i=0:1<i&&(i=1);for(var o=1-i,a=t.length,s=new Array(a),l=0;l<a;++l)s[l]=i*t[l]+o*n[l];return s}e.exports=function(t,e){for(var n=[],r=[],i=c(t[t.length-1],e),o=t[t.length-1],a=t[0],s=0;s<t.length;++s,o=a){var l,u=c(a=t[s],e);(i<0&&0<u||0<i&&u<0)&&(l=f(o,u,a,i),n.push(l),r.push(l.slice())),u<0?r.push(a.slice()):0<u?n.push(a.slice()):(n.push(a.slice()),r.push(a.slice())),i=u}return{positive:n,negative:r}},e.exports.positive=function(t,e){for(var n=[],r=c(t[t.length-1],e),i=t[t.length-1],o=t[0],a=0;a<t.length;++a,i=o){var s=c(o=t[a],e);(r<0&&0<s||0<r&&s<0)&&n.push(f(i,s,o,r)),0<=s&&n.push(o.slice()),r=s}return n},e.exports.negative=function(t,e){for(var n=[],r=c(t[t.length-1],e),i=t[t.length-1],o=t[0],a=0;a<t.length;++a,i=o){var s=c(o=t[a],e);(r<0&&0<s||0<r&&s<0)&&n.push(f(i,s,o,r)),s<=0&&n.push(o.slice()),r=s}return n}},{"robust-dot-product":983,"robust-sum":991}],1003:[function(t,e,n){"use strict";e.exports=function(t,e){{if(t.dimension<=0)return{positions:[],cells:[]};if(1===t.dimension)return function(t,e){for(var n=s(t,e),r=n.length,i=new Array(r),o=new Array(r),a=0;a<r;++a)i[a]=[n[a]],o[a]=[a];return{positions:i,cells:o}}(t,e)}var n=t.order.join()+"-"+t.dtype,r=i[n],e=+e||0;r=r||(i[n]=function(t,e){var n=t.length,r=["'use strict';"],i="surfaceNets"+t.join("_")+"d"+e;r.push("var contour=genContour({","order:[",t.join(),"],","scalarArguments: 3,","phase:function phaseFunc(p,a,b,c) { return (p > c)|0 },"),"generic"===e&&r.push("getters:[0],");for(var o=[],a=[],s=0;s<n;++s)o.push("d"+s),a.push("d"+s);for(s=0;s<1<<n;++s)o.push("v"+s),a.push("v"+s);for(s=0;s<1<<n;++s)o.push("p"+s),a.push("p"+s);o.push("a","b","c"),a.push("a","c"),r.push("vertex:function vertexFunc(",o.join(),"){");for(var l=[],s=0;s<1<<n;++s)l.push("(p"+s+"<<"+s+")");r.push("var m=(",l.join("+"),")|0;if(m===0||m===",(1<<(1<<n))-1,"){return}");var u=[],c=[];1<<(1<<n)<=128?(r.push("switch(m){"),c=r):r.push("switch(m>>>7){");for(s=0;s<1<<(1<<n);++s){var f;128<1<<(1<<n)&&s%128==0&&(0<u.length&&c.push("}}"),f="vExtra"+u.length,r.push("case ",s>>>7,":",f,"(m&0x7f,",a.join(),");break;"),c=["function ",f,"(m,",a.join(),"){switch(m){"],u.push(c)),c.push("case ",127&s,":");for(var h=new Array(n),d=new Array(n),p=new Array(n),g=new Array(n),m=0,y=0;y<n;++y)h[y]=[],d[y]=[],p[y]=0,g[y]=0;for(y=0;y<1<<n;++y)for(var v=0;v<n;++v){var b=y^1<<v;if(!(y<b)&&!(s&1<<b)!=!(s&1<<y)){var x=1;s&1<<b?d[v].push("v"+b+"-v"+y):(d[v].push("v"+y+"-v"+b),x=-x),x<0?(h[v].push("-v"+y+"-v"+b),p[v]+=2):(h[v].push("v"+y+"+v"+b),p[v]-=2),m+=1;for(var _=0;_<n;++_)_!==v&&(b&1<<_?g[_]+=1:--g[_])}}for(var w,k,T,M=[],v=0;v<n;++v)0===h[v].length?M.push("d"+v+"-0.5"):(w="",p[v]<0?w=p[v]+"*c":0<p[v]&&(w="+"+p[v]+"*c"),k=h[v].length/m*.5,T=.5+g[v]/m*.5,M.push("d"+v+"-"+T+"-"+k+"*("+h[v].join("+")+w+")/("+d[v].join("+")+")"));c.push("a.push([",M.join(),"]);","break;")}r.push("}},"),0<u.length&&c.push("}}");for(var A=[],s=0;s<1<<n-1;++s)A.push("v"+s);A.push("c0","c1","p0","p1","a","b","c"),r.push("cell:function cellFunc(",A.join(),"){");e=E(n-1);r.push("if(p0){b.push(",e.map(function(t){return"["+t.map(function(t){return"v"+t})+"]"}).join(),")}else{b.push(",e.map(function(t){t=t.slice();return t.reverse(),"["+t.map(function(t){return"v"+t})+"]"}).join(),")}}});function ",i,"(array,level){var verts=[],cells=[];contour(array,verts,cells,level);return {positions:verts,cells:cells};} return ",i,";");for(s=0;s<u.length;++s)r.push(u[s].join(""));return new Function("genContour",r.join(""))(S)}(t.order,t.dtype));return r(t,e)};var S=t("ndarray-extract-contour"),E=t("triangulate-hypercube"),s=t("zero-crossings");var i={}},{"ndarray-extract-contour":602,"triangulate-hypercube":1007,"zero-crossings":1023}],1004:[function(l,t,u){(function(n,s){(function(){"use strict";var r=l("process/browser.js").nextTick,t=Function.prototype.apply,i=Array.prototype.slice,o={},a=0;function e(t,e){this._id=t,this._clearFn=e}u.setTimeout=function(){return new e(t.call(setTimeout,window,arguments),clearTimeout)},u.setInterval=function(){return new e(t.call(setInterval,window,arguments),clearInterval)},u.clearTimeout=u.clearInterval=function(t){t.close()},e.prototype.unref=e.prototype.ref=function(){},e.prototype.close=function(){this._clearFn.call(window,this._id)},u.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},u.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},u._unrefActive=u.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},u.setImmediate="function"==typeof n?n:function(t){var e=a++,n=!(arguments.length<2)&&i.call(arguments,1);return o[e]=!0,r(function(){o[e]&&(n?t.apply(null,n):t.call(null),u.clearImmediate(e))}),e},u.clearImmediate="function"==typeof s?s:function(t){delete o[t]}}).call(this)}).call(this,l("timers").setImmediate,l("timers").clearImmediate)},{"process/browser.js":972,timers:1004}],1005:[function(t,U,e){"use strict";function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(l){var u=/^\s+/,c=/\s+$/,r=0,o=l.round,f=l.min,h=l.max,t=l.random;function d(t,e){if(e=e||{},(t=t||"")instanceof d)return t;if(!(this instanceof d))return new d(t,e);var n=function(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;"string"==typeof t&&(t=function(t){t=t.replace(u,"").replace(c,"").toLowerCase();var e,n=!1;if(A[t])t=A[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=z.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=z.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=z.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=z.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=z.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=z.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=z.hex8.exec(t))return{r:j(e[1]),g:j(e[2]),b:j(e[3]),a:R(e[4]),format:n?"name":"hex8"};if(e=z.hex6.exec(t))return{r:j(e[1]),g:j(e[2]),b:j(e[3]),format:n?"name":"hex"};if(e=z.hex4.exec(t))return{r:j(e[1]+""+e[1]),g:j(e[2]+""+e[2]),b:j(e[3]+""+e[3]),a:R(e[4]+""+e[4]),format:n?"name":"hex8"};if(e=z.hex3.exec(t))return{r:j(e[1]+""+e[1]),g:j(e[2]+""+e[2]),b:j(e[3]+""+e[3]),format:n?"name":"hex"};return!1}(t));"object"==H(t)&&(B(t.r)&&B(t.g)&&B(t.b)?(e=function(t,e,n){return{r:255*C(t,255),g:255*C(e,255),b:255*C(n,255)}}(t.r,t.g,t.b),a=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):B(t.h)&&B(t.s)&&B(t.v)?(r=N(t.s),i=N(t.v),e=function(t,e,n){t=6*C(t,360),e=C(e,100),n=C(n,100);var r=l.floor(t),i=t-r,o=n*(1-e),t=n*(1-i*e),e=n*(1-(1-i)*e),r=r%6;return{r:255*[n,t,o,o,e,n][r],g:255*[e,n,n,t,o,o][r],b:255*[o,o,e,n,n,t][r]}}(t.h,r,i),a=!0,s="hsv"):B(t.h)&&B(t.s)&&B(t.l)&&(r=N(t.s),o=N(t.l),e=function(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}t=C(t,360),e=C(e,100),n=C(n,100),0===e?r=i=o=n:(r=a(e=2*n-(n=n<.5?n*(1+e):n+e-n*e),n,t+1/3),i=a(e,n,t),o=a(e,n,t-1/3));return{r:255*r,g:255*i,b:255*o}}(t.h,r,o),a=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a));return n=E(n),{ok:a,format:t.format||s,r:f(255,h(e.r,0)),g:f(255,h(e.g,0)),b:f(255,h(e.b,0)),a:n}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=o(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=n.ok,this._tc_id=r++}function i(t,e,n){t=C(t,255),e=C(e,255),n=C(n,255);var r,i=h(t,e,n),o=f(t,e,n),a=(i+o)/2;if(i==o)r=l=0;else{var s=i-o,l=.5<a?s/(2-i-o):s/(i+o);switch(i){case t:r=(e-n)/s+(e<n?6:0);break;case e:r=(n-t)/s+2;break;case n:r=(t-e)/s+4}r/=6}return{h:r,s:l,l:a}}function a(t,e,n){t=C(t,255),e=C(e,255),n=C(n,255);var r,i=h(t,e,n),o=f(t,e,n),a=i,s=i-o,l=0===i?0:s/i;if(i==o)r=0;else{switch(i){case t:r=(e-n)/s+(e<n?6:0);break;case e:r=(n-t)/s+2;break;case n:r=(t-e)/s+4}r/=6}return{h:r,s:l,v:a}}function e(t,e,n,r){n=[P(o(t).toString(16)),P(o(e).toString(16)),P(o(n).toString(16))];return r&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function s(t,e,n,r){return[P(L(r)),P(o(t).toString(16)),P(o(e).toString(16)),P(o(n).toString(16))].join("")}function n(t,e){e=0===e?0:e||10;t=d(t).toHsl();return t.s-=e/100,t.s=O(t.s),d(t)}function p(t,e){e=0===e?0:e||10;t=d(t).toHsl();return t.s+=e/100,t.s=O(t.s),d(t)}function g(t){return d(t).desaturate(100)}function m(t,e){e=0===e?0:e||10;t=d(t).toHsl();return t.l+=e/100,t.l=O(t.l),d(t)}function y(t,e){e=0===e?0:e||10;t=d(t).toRgb();return t.r=h(0,f(255,t.r-o(-e/100*255))),t.g=h(0,f(255,t.g-o(-e/100*255))),t.b=h(0,f(255,t.b-o(-e/100*255))),d(t)}function v(t,e){e=0===e?0:e||10;t=d(t).toHsl();return t.l-=e/100,t.l=O(t.l),d(t)}function b(t,e){t=d(t).toHsl(),e=(t.h+e)%360;return t.h=e<0?360+e:e,d(t)}function x(t){t=d(t).toHsl();return t.h=(t.h+180)%360,d(t)}function _(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+120)%360,s:e.s,l:e.l}),d({h:(n+240)%360,s:e.s,l:e.l})]}function w(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+90)%360,s:e.s,l:e.l}),d({h:(n+180)%360,s:e.s,l:e.l}),d({h:(n+270)%360,s:e.s,l:e.l})]}function k(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+72)%360,s:e.s,l:e.l}),d({h:(n+216)%360,s:e.s,l:e.l})]}function T(t,e,n){e=e||6,n=n||30;var r=d(t).toHsl(),i=360/n,o=[d(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(d(r));return o}function M(t,e){e=e||6;for(var t=d(t).toHsv(),n=t.h,r=t.s,i=t.v,o=[],a=1/e;e--;)o.push(d({h:n,s:r,v:i})),i=(i+a)%1;return o}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t=this.toRgb(),e=t.r/255,n=t.g/255,t=t.b/255,e=e<=.03928?e/12.92:l.pow((.055+e)/1.055,2.4),n=n<=.03928?n/12.92:l.pow((.055+n)/1.055,2.4),t=t<=.03928?t/12.92:l.pow((.055+t)/1.055,2.4);return.2126*e+.7152*n+.0722*t},setAlpha:function(t){return this._a=E(t),this._roundA=o(100*this._a)/100,this},toHsv:function(){var t=a(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=a(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),t=o(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+t+"%)":"hsva("+e+", "+n+"%, "+t+"%, "+this._roundA+")"},toHsl:function(){var t=i(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=i(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),t=o(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+t+"%)":"hsla("+e+", "+n+"%, "+t+"%, "+this._roundA+")"},toHex:function(t){return e(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,i){r=[P(o(t).toString(16)),P(o(e).toString(16)),P(o(n).toString(16)),P(L(r))];if(i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1))return r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0);return r.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*C(this._r,255))+"%",g:o(100*C(this._g,255))+"%",b:o(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*C(this._r,255))+"%, "+o(100*C(this._g,255))+"%, "+o(100*C(this._b,255))+"%)":"rgba("+o(100*C(this._r,255))+"%, "+o(100*C(this._g,255))+"%, "+o(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&S[e(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+s(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";return t&&(n="#"+s((t=d(t))._r,t._g,t._b,t._a)),"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&0<=this._a;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(t,e){e=t.apply(null,[this].concat([].slice.call(e)));return this._r=e._r,this._g=e._g,this._b=e._b,this.setAlpha(e._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(n,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(M,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},d.fromRatio=function(t,e){if("object"==H(t)){var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]="a"===n?t[n]:N(t[n]));t=r}return d(t,e)},d.equals=function(t,e){return!(!t||!e)&&d(t).toRgbString()==d(e).toRgbString()},d.random=function(){return d.fromRatio({r:t(),g:t(),b:t()})},d.mix=function(t,e,n){n=0===n?0:n||50;t=d(t).toRgb(),e=d(e).toRgb(),n/=100;return d({r:(e.r-t.r)*n+t.r,g:(e.g-t.g)*n+t.g,b:(e.b-t.b)*n+t.b,a:(e.a-t.a)*n+t.a})},d.readability=function(t,e){t=d(t),e=d(e);return(l.max(t.getLuminance(),e.getLuminance())+.05)/(l.min(t.getLuminance(),e.getLuminance())+.05)},d.isReadable=function(t,e,n){var r=d.readability(t,e),i=!1,n=function(t){var e;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),t=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==t&&"large"!==t&&(t="small");return{level:e,size:t}}(n);switch(n.level+n.size){case"AAsmall":case"AAAlarge":i=4.5<=r;break;case"AAlarge":i=3<=r;break;case"AAAsmall":i=7<=r}return i},d.mostReadable=function(t,e,n){for(var r,i=null,o=0,a=(n=n||{}).includeFallbackColors,s=n.level,l=n.size,u=0;u<e.length;u++)o<(r=d.readability(t,e[u]))&&(o=r,i=d(e[u]));return d.isReadable(t,i,{level:s,size:l})||!a?i:(n.includeFallbackColors=!1,d.mostReadable(t,["#fff","#000"],n))};var A=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},S=d.hexNames=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}(A);function E(t){return t=parseFloat(t),(isNaN(t)||t<0||1<t)&&(t=1),t}function C(t,e){"string"==typeof(n=t)&&-1!=n.indexOf(".")&&1===parseFloat(n)&&(t="100%");var n,n="string"==typeof(n=t)&&-1!=n.indexOf("%");return t=f(e,h(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),l.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function O(t){return f(1,h(0,t))}function j(t){return parseInt(t,16)}function P(t){return 1==t.length?"0"+t:""+t}function N(t){return t<=1&&(t=100*t+"%"),t}function L(t){return l.round(255*parseFloat(t)).toString(16)}function R(t){return j(t)/255}var D,I,F,z=(I="[\\s|\\(]+("+(D="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?",F="[\\s|\\(]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?",{CSS_UNIT:new RegExp(D),rgb:new RegExp("rgb"+I),rgba:new RegExp("rgba"+F),hsl:new RegExp("hsl"+I),hsla:new RegExp("hsla"+F),hsv:new RegExp("hsv"+I),hsva:new RegExp("hsva"+F),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function B(t){return z.CSS_UNIT.exec(t)}void 0!==U&&U.exports?U.exports=d:"function"==typeof define&&define.amd?define(function(){return d}):window.tinycolor=d}(Math)},{}],1006:[function(t,e,n){"use strict";var i=t("parse-unit");e.exports=l;var o=s("in",document.body);function a(t,e){e=i(getComputedStyle(t).getPropertyValue(e));return e[0]*l(e[1],t)}function s(t,e){var n=document.createElement("div");n.style.height="128"+t,e.appendChild(n);t=a(n,"height")/128;return e.removeChild(n),t}function l(t,e){if(!t)return null;switch(e=e||document.body,t=(t+""||"px").trim().toLowerCase(),e!==window&&e!==document||(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return s(t,e);case"em":return a(e,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return o;case"cm":return o/2.54;case"mm":return o/25.4;case"pt":return o/72;case"pc":return o/6;case"px":return 1}var n=i(t);if(isNaN(n[0])||!n[1])return null;var r=l(n[1],e);return"number"==typeof r?n[0]*r:null}},{"parse-unit":613}],1007:[function(t,e,n){"use strict";e.exports=function(t){if(t<0)return[];if(0===t)return[[0]];for(var e=0|Math.round(c(t+1)),n=[],r=0;r<e;++r){for(var i=l.unrank(t,r),o=[0],a=0,s=0;s<i.length;++s)a+=1<<i[s],o.push(a);u(i)<1&&(o[0]=a,o[t]=0),n.push(o)}return n};var l=t("permutation-rank"),u=t("permutation-parity"),c=t("gamma")},{gamma:454,"permutation-parity":614,"permutation-rank":615}],1008:[function(t,e,n){"use strict";e.exports=function(t){var e=(t=t||{}).center||[0,0,0],n=t.up||[0,1,0],r=t.right||h(n),i=t.radius||1,o=t.theta||0,a=t.phi||0;{var s,l;e=[].slice.call(e,0,3),n=[].slice.call(n,0,3),C(n,n),r=[].slice.call(r,0,3),C(r,r),"eye"in t&&(s=t.eye,l=[s[0]-e[0],s[1]-e[1],s[2]-e[2]],E(r,l,n),O(r[0],r[1],r[2])<1e-6?r=h(n):C(r,r),i=O(l[0],l[1],l[2]),s=f(n,l)/i,l=f(r,l)/i,a=Math.acos(s),o=Math.acos(l))}return i=Math.log(i),new d(t.zoomMin,t.zoomMax,e,n,r,i,o,a)};var u=t("filtered-vector"),b=t("gl-mat4/invert"),c=t("gl-mat4/rotate"),E=t("gl-vec3/cross"),C=t("gl-vec3/normalize"),f=t("gl-vec3/dot");function O(t,e,n){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(n,2))}function x(t){return Math.min(1,Math.max(-1,t))}function h(t){var e=Math.abs(t[0]),n=Math.abs(t[1]),r=Math.abs(t[2]),i=[0,0,0];e>Math.max(n,r)?i[2]=1:n>Math.max(e,r)?i[0]=1:i[1]=1;for(var o=0,a=0,s=0;s<3;++s)o+=t[s]*t[s],a+=i[s]*t[s];for(s=0;s<3;++s)i[s]-=a/o*t[s];return C(i,i),i}function d(t,e,n,r,i,o,a,s){this.center=u(n),this.up=u(r),this.right=u(i),this.radius=u([o]),this.angle=u([a,s]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(t,e),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var l=0;l<16;++l)this.computedMatrix[l]=.5;this.recalcMatrix(0)}t=d.prototype;t.setDistanceLimits=function(t,e){t=0<t?Math.log(t):-1/0,e=0<e?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},t.getDistanceLimits=function(t){var e=this.radius.bounds[0];return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},t.recalcMatrix=function(t){this.center.curve(t),this.up.curve(t),this.right.curve(t),this.radius.curve(t),this.angle.curve(t);for(var e=this.computedUp,n=this.computedRight,r=0,i=0,o=0;o<3;++o)i+=e[o]*n[o],r+=e[o]*e[o];for(var a=Math.sqrt(r),s=0,o=0;o<3;++o)n[o]-=e[o]*i/r,s+=n[o]*n[o],e[o]/=a;for(var l=Math.sqrt(s),o=0;o<3;++o)n[o]/=l;var u=this.computedToward;E(u,e,n),C(u,u);for(var c=Math.exp(this.computedRadius[0]),f=this.computedAngle[0],h=this.computedAngle[1],d=Math.cos(f),p=Math.sin(f),g=Math.cos(h),m=Math.sin(h),y=this.computedCenter,v=d*g,b=p*g,x=m,_=-d*m,w=-p*m,k=g,T=this.computedEye,M=this.computedMatrix,o=0;o<3;++o){var A=v*n[o]+b*u[o]+x*e[o];M[4*o+1]=_*n[o]+w*u[o]+k*e[o],M[4*o+2]=A,M[4*o+3]=0}t=M[1],f=M[5],h=M[9],d=M[2],p=M[6],m=M[10],g=f*m-h*p,m=h*d-t*m,f=t*p-f*d,d=O(g,m,f);g/=d,m/=d,f/=d,M[0]=g,M[4]=m,M[8]=f;for(o=0;o<3;++o)T[o]=y[o]+M[2+4*o]*c;for(o=0;o<3;++o){for(var s=0,S=0;S<3;++S)s+=M[o+4*S]*T[S];M[12+o]=-s}M[15]=1},t.getMatrix=function(t,e){this.recalcMatrix(t);var n=this.computedMatrix;if(e){for(var r=0;r<16;++r)e[r]=n[r];return e}return n};var p=[0,0,0];t.rotate=function(t,e,n,r){if(this.angle.move(t,e,n),r){this.recalcMatrix(t);var i=this.computedMatrix;p[0]=i[2],p[1]=i[6],p[2]=i[10];for(var o=this.computedUp,a=this.computedRight,s=this.computedToward,l=0;l<3;++l)i[4*l]=o[l],i[4*l+1]=a[l],i[4*l+2]=s[l];c(i,i,r,p);for(l=0;l<3;++l)o[l]=i[4*l],a[l]=i[4*l+1];this.up.set(t,o[0],o[1],o[2]),this.right.set(t,a[0],a[1],a[2])}},t.pan=function(t,e,n,r){e=e||0,n=n||0,r=r||0,this.recalcMatrix(t);var i=this.computedMatrix,o=(Math.exp(this.computedRadius[0]),i[1]),a=i[5],s=i[9],l=O(o,a,s);o/=l,a/=l,s/=l;var u=i[0],c=i[4],l=i[8],i=u*o+c*a+l*s,i=O(u-=o*i,c-=a*i,l-=s*i),o=(u/=i)*e+o*n,a=(c/=i)*e+a*n,n=(l/=i)*e+s*n;this.center.move(t,o,a,n);n=Math.exp(this.computedRadius[0]),n=Math.max(1e-4,n+r);this.radius.set(t,Math.log(n))},t.translate=function(t,e,n,r){this.center.move(t,e||0,n||0,r||0)},t.setMatrix=function(t,e,n,r){var i="number"==typeof n?0|n:1;(i<0||3<i)&&(i=1);var o=(i+2)%3;e||(this.recalcMatrix(t),e=this.computedMatrix);var a=e[i],s=e[i+4],n=e[i+8];r?(u=Math.abs(a),c=Math.abs(s),f=Math.abs(n),u===(h=Math.max(u,c,f))?(a=a<0?-1:1,s=n=0):a=f===h?(n=n<0?-1:1,s=0):(s=s<0?-1:1,n=0)):(a/=d=O(a,s,n),s/=d,n/=d);var l,r=e[o],u=e[4+o],c=e[8+o],f=r*a+u*s+c*n,h=O(r-=a*f,u-=s*f,c-=n*f),d=s*(c/=h)-n*(u/=h),o=n*(r/=h)-a*c,f=a*u-s*r,h=O(d,o,f);d/=h,o/=h,f/=h,this.center.jump(t,void 0,void 0,void 0),this.radius.idle(t),this.up.jump(t,a,s,n),this.right.jump(t,r,u,c),y=2===i?(l=(h=e[1])*r+(i=e[5])*u+(v=e[9])*c,i=h*d+i*o+v*f,v=p<0?-Math.PI/2:Math.PI/2,Math.atan2(i,l)):(p=(l=e[2])*a+(g=e[6])*s+(y=e[10])*n,m=l*r+g*u+y*c,g=l*d+g*o+y*f,v=Math.asin(x(p)),Math.atan2(g,m)),this.angle.jump(t,y,v),this.recalcMatrix(t);var f=e[2],p=e[6],g=e[10],m=this.computedMatrix;b(m,e);var y=m[15],v=m[12]/y,e=m[13]/y,m=m[14]/y,y=Math.exp(this.computedRadius[0]);this.center.jump(t,v-f*y,e-p*y,m-g*y)},t.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},t.idle=function(t){this.center.idle(t),this.up.idle(t),this.right.idle(t),this.radius.idle(t),this.angle.idle(t)},t.flush=function(t){this.center.flush(t),this.up.flush(t),this.right.flush(t),this.radius.flush(t),this.angle.flush(t)},t.setDistance=function(t,e){0<e&&this.radius.set(t,Math.log(e))},t.lookAt=function(t,e,n,r){this.recalcMatrix(t),e=e||this.computedEye,n=n||this.computedCenter;var i,o,a,s,l,u=(r=r||this.computedUp)[0],c=r[1],f=r[2],h=O(u,c,f);h<1e-6||(u/=h,c/=h,f/=h,(l=O(i=e[0]-n[0],a=e[1]-n[1],s=e[2]-n[2]))<1e-6||(i/=l,a/=l,s/=l,r=(o=this.computedRight)[0],(o=O(r-=(o=u*r+c*(h=o[1])+f*(e=o[2]))*u,h-=o*c,e-=o*f))<.01&&(o=O(r=c*s-f*a,h=f*i-u*s,e=u*a-c*i))<1e-6||(r/=o,h/=o,e/=o,this.up.set(t,u,c,f),this.right.set(t,r,h,e),this.center.set(t,n[0],n[1],n[2]),this.radius.set(t,Math.log(l)),o=c*e-f*h,n=u*i+c*a+f*s,l=r*i+h*a+e*s,e=(o/=r=O(o,e=f*r-u*e,c=u*h-c*r))*i+(e/=r)*a+(c/=r)*s,a=Math.asin(x(n)),r=Math.atan2(e,l),s=(c=this.angle._state)[c.length-1],n=c[c.length-2],s%=2*Math.PI,e=Math.abs(s+2*Math.PI-r),l=Math.abs(s-r),c=Math.abs(s-2*Math.PI-r),e<l&&(s+=2*Math.PI),c<l&&(s-=2*Math.PI),this.angle.jump(this.angle.lastT(),s,n),this.angle.set(t,r,a))))}},{"filtered-vector":451,"gl-mat4/invert":490,"gl-mat4/rotate":496,"gl-vec3/cross":530,"gl-vec3/dot":531,"gl-vec3/normalize":534}],1009:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=t*e,i=a*t,o=i-(i-t),i=t-o,t=a*e,t=t-(t-e),e=e-t,e=i*e-(r-o*t-i*t-o*e);if(n)return n[0]=e,n[1]=r,n;return[e,r]};var a=+(Math.pow(2,27)+1)},{}],1010:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=t+e,i=r-t,e=e-i,i=t-(r-i);if(n)return n[0]=i+e,n[1]=r,n;return[i+e,r]}},{}],1011:[function(M,t,A){(function(T){(function(){"use strict";var n=M("bit-twiddle"),t=M("dup"),r=M("buffer").Buffer;T.__TYPEDARRAY_POOL||(T.__TYPEDARRAY_POOL={UINT8:t([32,0]),UINT16:t([32,0]),UINT32:t([32,0]),BIGUINT64:t([32,0]),INT8:t([32,0]),INT16:t([32,0]),INT32:t([32,0]),BIGINT64:t([32,0]),FLOAT:t([32,0]),DOUBLE:t([32,0]),DATA:t([32,0]),UINT8C:t([32,0]),BUFFER:t([32,0])});var e="undefined"!=typeof Uint8ClampedArray,i="undefined"!=typeof BigUint64Array,o="undefined"!=typeof BigInt64Array,a=T.__TYPEDARRAY_POOL;a.UINT8C||(a.UINT8C=t([32,0])),a.BIGUINT64||(a.BIGUINT64=t([32,0])),a.BIGINT64||(a.BIGINT64=t([32,0])),a.BUFFER||(a.BUFFER=t([32,0]));var s=a.DATA,l=a.BUFFER;function u(t){var e;t&&(e=t.length||t.byteLength,e=n.log2(e),s[e].push(t))}function c(t){var t=n.nextPow2(t),e=n.log2(t),e=s[e];return 0<e.length?e.pop():new ArrayBuffer(t)}function f(t){return new Uint8Array(c(t),0,t)}function h(t){return new Uint16Array(c(2*t),0,t)}function d(t){return new Uint32Array(c(4*t),0,t)}function p(t){return new Int8Array(c(t),0,t)}function g(t){return new Int16Array(c(2*t),0,t)}function m(t){return new Int32Array(c(4*t),0,t)}function y(t){return new Float32Array(c(4*t),0,t)}function v(t){return new Float64Array(c(8*t),0,t)}function b(t){return e?new Uint8ClampedArray(c(t),0,t):f(t)}function x(t){return i?new BigUint64Array(c(8*t),0,t):null}function _(t){return o?new BigInt64Array(c(8*t),0,t):null}function w(t){return new DataView(c(t),0,t)}function k(t){t=n.nextPow2(t);var e=n.log2(t),e=l[e];return 0<e.length?e.pop():new r(t)}A.free=function(t){var e;r.isBuffer(t)?l[n.log2(t.length)].push(t):("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),t&&(e=t.length||t.byteLength,e=0|n.log2(e),s[e].push(t)))},A.freeUint8=A.freeUint16=A.freeUint32=A.freeBigUint64=A.freeInt8=A.freeInt16=A.freeInt32=A.freeBigInt64=A.freeFloat32=A.freeFloat=A.freeFloat64=A.freeDouble=A.freeUint8Clamped=A.freeDataView=function(t){u(t.buffer)},A.freeArrayBuffer=u,A.freeBuffer=function(t){l[n.log2(t.length)].push(t)},A.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return c(t);switch(e){case"uint8":return f(t);case"uint16":return h(t);case"uint32":return d(t);case"int8":return p(t);case"int16":return g(t);case"int32":return m(t);case"float":case"float32":return y(t);case"double":case"float64":return v(t);case"uint8_clamped":return b(t);case"bigint64":return _(t);case"biguint64":return x(t);case"buffer":return k(t);case"data":case"dataview":return w(t);default:return null}return null},A.mallocArrayBuffer=c,A.mallocUint8=f,A.mallocUint16=h,A.mallocUint32=d,A.mallocInt8=p,A.mallocInt16=g,A.mallocInt32=m,A.mallocFloat32=A.mallocFloat=y,A.mallocFloat64=A.mallocDouble=v,A.mallocUint8Clamped=b,A.mallocBigUint64=x,A.mallocBigInt64=_,A.mallocDataView=w,A.mallocBuffer=k,A.clearCache=function(){for(var t=0;t<32;++t)a.UINT8[t].length=0,a.UINT16[t].length=0,a.UINT32[t].length=0,a.INT8[t].length=0,a.INT16[t].length=0,a.INT32[t].length=0,a.FLOAT[t].length=0,a.DOUBLE[t].length=0,a.BIGUINT64[t].length=0,a.BIGINT64[t].length=0,a.UINT8C[t].length=0,s[t].length=0,l[t].length=0}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"bit-twiddle":28,buffer:39,dup:445}],1012:[function(t,e,n){"use strict";function r(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}e=(e.exports=r).prototype;Object.defineProperty(e,"length",{get:function(){return this.roots.length}}),e.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},e.find=function(t){for(var e=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[e]!==t;){var r=n[e];n[e]=t,e=r}return t},e.link=function(t,e){var n,r,i=this.find(t),o=this.find(e);i!==o&&(n=this.ranks,r=this.roots,(t=n[i])<(e=n[o])?r[i]=o:e<t?r[o]=i:++n[r[o]=i])}},{}],1013:[function(t,e,n){"use strict";e.exports=function(t,e,n){return 0===t.length?t:e?(n||t.sort(e),function(t,e){for(var n=1,r=t.length,i=t[0],o=t[0],a=1;a<r;++a)o=i,e(i=t[a],o)&&(a!==n?t[n++]=i:n++);return t.length=n,t}(t,e)):(n||t.sort(),function(t){for(var e=1,n=t.length,r=t[0],i=t[0],o=1;o<n;++o,i=r)i=r,(r=t[o])!==i&&(o!==e?t[e++]=r:e++);return t.length=e,t}(t))}},{}],1014:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.exports=function(t,e){"object"===r(e)&&null!==e||(e={});return i(t,e.canvas||o,e.context||a,e)};var i=t("./lib/vtext"),o=null,a=null;"undefined"!=typeof document&&((o=document.createElement("canvas")).width=8192,o.height=1024,a=o.getContext("2d"))},{"./lib/vtext":1015}],1015:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=64,o=1.25,a={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};r&&(r.size&&0<r.size&&(i=r.size),r.lineSpacing&&0<r.lineSpacing&&(o=r.lineSpacing),r.styletags&&r.styletags.breaklines&&(a.breaklines=!!r.styletags.breaklines),r.styletags&&r.styletags.bolds&&(a.bolds=!!r.styletags.bolds),r.styletags&&r.styletags.italics&&(a.italics=!!r.styletags.italics),r.styletags&&r.styletags.subscripts&&(a.subscripts=!!r.styletags.subscripts),r.styletags&&r.styletags.superscripts&&(a.superscripts=!!r.styletags.superscripts));return n.font=[r.fontStyle,r.fontVariant,r.fontWeight,i+"px",r.font].filter(function(t){return t}).join(" "),n.textAlign="start",n.textBaseline="alphabetic",n.direction="ltr",s(function(t,l,e,n,r,u){e=e.replace(/\n/g,""),e=!0===u.breaklines?e.replace(/\<br\>/g,"\n"):e.replace(/\<br\>/g," ");var i="",o=[];for(f=0;f<e.length;++f)o[f]=i;!0===u.bolds&&(o=z(C,O,e,o));!0===u.italics&&(o=z(j,P,e,o));!0===u.superscripts&&(o=z(N,R,e,o));!0===u.subscripts&&(o=z(D,F,e,o));var a=[],s="";for(f=0;f<e.length;++f)null!==o[f]&&(s+=e[f],a.push(o[f]));var c,f,h,d,p,g=s.split("\n"),m=g.length,y=Math.round(r*n),v=n,b=2*n,x=0,r=m*y+b;t.height<r&&(t.height=r);l.fillStyle="#000",l.fillRect(0,0,t.width,t.height),l.fillStyle="#fff";var _=0,w="";function k(){var t;""!==w&&(t=l.measureText(w).width,l.fillText(w,v+h,b+d),h+=t)}function T(){return Math.round(p)+"px "}for(c=0;c<m;++c){var M=g[c]+"\n";for(d=c*y,p=n,w="",f=h=0;f<M.length;++f){var A=f+_<a.length?a[f+_]:a[a.length-1];i===A?w+=M[f]:(k(),w=M[f],void 0!==A&&(function(t,e){var n,r,i,o,a,s=""+l.font;!0===u.subscripts&&(n=t.indexOf(I),r=e.indexOf(I),(n=-1<n?parseInt(t[1+n]):0)!==(r=-1<r?parseInt(e[1+r]):0)&&(s=s.replace(T(),"?px "),p*=Math.pow(.75,r-n),s=s.replace("?px ",T())),d+=.25*y*(r-n)),!0===u.superscripts&&(o=t.indexOf(L),i=e.indexOf(L),(o=-1<o?parseInt(t[1+o]):0)!==(i=-1<i?parseInt(e[1+i]):0)&&(s=s.replace(T(),"?px "),p*=Math.pow(.75,i-o),s=s.replace("?px ",T())),d-=.25*y*(i-o)),!0===u.bolds&&(i=-1<t.indexOf(O),o=-1<e.indexOf(O),!i&&o&&(s=a?s.replace("italic ","italic bold "):"bold "+s),i&&!o&&(s=s.replace("bold ",""))),!0===u.italics&&(a=-1<t.indexOf(P),e=-1<e.indexOf(P),!a&&e&&(s="italic "+s),a&&!e&&(s=s.replace("italic ",""))),l.font=s}(i,A),i=A))}k(),_+=M.length;var S=0|Math.round(h+2*v);x<S&&(x=S)}r=x,t=b+y*m;return E(l.getImageData(0,0,r,t).data,[t,r,4]).pick(-1,-1,0).transpose(1,0)}(e,n,t,i,o,a),r,i)},e.exports.processPixels=s;var g=t("surface-nets"),E=t("ndarray"),m=t("simplify-planar-graph"),y=t("clean-pslg"),v=t("cdt2d"),b=t("planar-graph-to-polyline"),C="b",O="b|",j="i",P="i|",N="sup",L="+",R="+1",D="sub",I="-",F="-1";function z(t,e,n,r){for(var i,o="<"+t+">",a="</"+t+">",s=o.length,l=a.length,u=e[0]===L||e[0]===I,c=0;-1<c&&-1!==(c=n.indexOf(o,c))&&-1!==(i=n.indexOf(a,c+s))&&!(i<=c);){for(var f,h=c;h<i+l;++h)h<c+s||i<=h?(r[h]=null,n=n.substr(0,h)+" "+n.substr(h+1)):null!==r[h]&&(-1===(f=r[h].indexOf(e[0]))?r[h]+=e:u&&(r[h]=r[h].substr(0,f+1)+(1+parseInt(r[h][f+1]))+r[h].substr(f+2)));var d=c+s,d=n.substr(d,i-d).indexOf(o),c=-1!==d?d:i+l}return r}function r(t,e,n,r){var t=(r=r,t=g(t=t,128),r?m(t.cells,t.positions,.25):{edges:t.cells,positions:t.positions}),i=function(t,e,n){for(var r=e.textAlign||"start",i=e.textBaseline||"alphabetic",o=[1<<30,1<<30],a=[0,0],s=t.length,l=0;l<s;++l)for(var u=t[l],c=0;c<2;++c)o[c]=0|Math.min(o[c],u[c]),a[c]=0|Math.max(a[c],u[c]);var f=0;switch(r){case"center":f=-.5*(o[0]+a[0]);break;case"right":case"end":f=-a[0];break;case"left":case"start":f=-o[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+r+"'")}var h=0;switch(i){case"hanging":case"top":h=-o[1];break;case"middle":h=-.5*(o[1]+a[1]);break;case"alphabetic":case"ideographic":h=-3*n;break;case"bottom":h=-a[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+i+"'")}var d=1/n;return"lineHeight"in e?d*=+e.lineHeight:"width"in e?d=e.width/(a[0]-o[0]):"height"in e&&(d=e.height/(a[1]-o[1])),t.map(function(t){return[d*(t[0]+f),d*(t[1]+h)]})}(t.positions,e,n),t=t.edges,o="ccw"===e.orientation;if(y(i,t),e.polygons||e.polygon||e.polyline){for(var a=b(t,i),s=new Array(a.length),l=0;l<a.length;++l){for(var u=a[l],c=new Array(u.length),f=0;f<u.length;++f){for(var h=u[f],d=new Array(h.length),p=0;p<h.length;++p)d[p]=i[h[p]].slice();o&&d.reverse(),c[f]=d}s[l]=c}return s}return e.triangles||e.triangulate||e.triangle?{cells:v(i,t,{delaunay:!1,exterior:!1,interior:!0}),positions:i}:{edges:t,positions:i}}function s(t,e,n){try{return r(t,e,n,!0)}catch(t){}try{return r(t,e,n,!1)}catch(t){}return e.polygons||e.polyline||e.polygon?[]:e.triangles||e.triangulate||e.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},{cdt2d:40,"clean-pslg":46,ndarray:606,"planar-graph-to-polyline":618,"simplify-planar-graph":998,"surface-nets":1003}],1016:[function(t,b,e){"use strict";!function(){if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=d);var e=!1;if("function"==typeof WeakMap){var n=WeakMap;if("undefined"==typeof navigator||!/Firefox/.test(navigator.userAgent)){var t=new n,r=Object.freeze({});if(t.set(r,1),1===t.get(r))return b.exports=WeakMap;e=!0}}Object.prototype.hasOwnProperty;var i,o=Object.getOwnPropertyNames,a=Object.defineProperty,s=Object.isExtensible,l="weakmap:",u=l+"ident:"+Math.random()+"___";"undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array&&(r=new ArrayBuffer(25),r=new Uint8Array(r),crypto.getRandomValues(r),u=l+"rand:"+Array.prototype.map.call(r,function(t){return(t%36).toString(36)}).join("")+"___"),a(Object,"getOwnPropertyNames",{value:function(t){return o(t).filter(p)}}),"getPropertyNames"in Object&&(i=Object.getPropertyNames,a(Object,"getPropertyNames",{value:function(t){return i(t).filter(p)}})),function(){var e=Object.freeze;a(Object,"freeze",{value:function(t){return g(t),e(t)}});var n=Object.seal;a(Object,"seal",{value:function(t){return g(t),n(t)}});var r=Object.preventExtensions;a(Object,"preventExtensions",{value:function(t){return g(t),r(t)}})}();var c=!1,f=0,h=function t(){this instanceof t||y();var r=[],i=[],o=f++;return Object.create(t.prototype,{get___:{value:m(function(t,e){var n=g(t);return n?o in n?n[o]:e:0<=(t=r.indexOf(t))?i[t]:e})},has___:{value:m(function(t){var e=g(t);return e?o in e:0<=r.indexOf(t)})},set___:{value:m(function(t,e){var n=g(t);return n?n[o]=e:0<=(n=r.indexOf(t))?i[n]=e:(n=r.length,i[n]=e,r[n]=t),this})},delete___:{value:m(function(t){var e=g(t);return e?o in e&&delete e[o]:!((e=r.indexOf(t))<0)&&(t=r.length-1,r[e]=void 0,i[e]=i[t],r[e]=r[t],r.length=t,i.length=t,!0)})}})};h.prototype=Object.create(Object.prototype,{get:{value:function(t,e){return this.get___(t,e)},writable:!0,configurable:!0},has:{value:function(t){return this.has___(t)},writable:!0,configurable:!0},set:{value:function(t,e){return this.set___(t,e)},writable:!0,configurable:!0},delete:{value:function(t){return this.delete___(t)},writable:!0,configurable:!0}}),"function"==typeof n?(e&&"undefined"!=typeof Proxy&&(Proxy=void 0),v.prototype=h.prototype,b.exports=v,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})):("undefined"!=typeof Proxy&&(Proxy=void 0),b.exports=h)}function d(t){t.permitHostObjects___&&t.permitHostObjects___(d)}function p(t){return!(t.substr(0,l.length)==l&&"___"===t.substr(t.length-3))}function g(t){if(t!==Object(t))throw new TypeError("Not an object: "+t);var e=t[u];if(e&&e.key===t)return e;if(s(t)){e={key:t};try{return a(t,u,{value:e,writable:!1,enumerable:!1,configurable:!1}),e}catch(t){return}}}function m(t){return t.prototype=null,Object.freeze(t)}function y(){c||"undefined"==typeof console||(c=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}function v(){this instanceof h||y();var t,r=new n,i=void 0,o=!1;return t=e?function(t,e){return r.set(t,e),r.has(t)||(i=i||new h).set(t,e),this}:function(e,n){if(o)try{r.set(e,n)}catch(t){(i=i||new h).set___(e,n)}else r.set(e,n);return this},Object.create(h.prototype,{get___:{value:m(function(t,e){return i?r.has(t)?r.get(t):i.get___(t,e):r.get(t,e)})},has___:{value:m(function(t){return r.has(t)||!!i&&i.has___(t)})},set___:{value:m(t)},delete___:{value:m(function(t){var e=!!r.delete(t);return i&&i.delete___(t)||e})},permitHostObjects___:{value:m(function(t){if(t!==d)throw new Error("bogus call to permitHostObjects___");o=!0})}})}}()},{}],1017:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=t("./hidden-store.js");e.exports=function(){var n={};return function(t){if(("object"!==r(t)||null===t)&&"function"!=typeof t)throw new Error("Weakmap-shim: Key must be object");var e=t.valueOf(n);return e&&e.identity===n?e:i(t,n)}}},{"./hidden-store.js":1018}],1018:[function(t,e,n){"use strict";e.exports=function(t,e){var n={identity:e},r=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(t){return t!==e?r.apply(this,arguments):n},writable:!0}),n}},{}],1019:[function(t,e,n){"use strict";var r=t("./create-store.js");e.exports=function(){var n=r();return{get:function(t,e){t=n(t);return t.hasOwnProperty("value")?t.value:e},set:function(t,e){return n(t).value=e,this},has:function(t){return"value"in n(t)},delete:function(t){return delete n(t).value}}}},{"./create-store.js":1017}],1020:[function(t,e,n){"use strict";var r=t("get-canvas-context");e.exports=function(t){return r("webgl",t)}},{"get-canvas-context":455}],1021:[function(t,e,n){"use strict";var h=arguments[3],d=arguments[4],p=arguments[5],g=JSON.stringify;e.exports=function(t,e){for(var n,r=Object.keys(p),i=0,o=r.length;i<o;i++){var a=r[i],s=p[a].exports;if(s===t||s&&s.default===t){n=a;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var l={},i=0,o=r.length;i<o;i++)l[a=r[i]]=a;d[n]=["function(require,module,exports){"+t+"(self); }",l]}var u=Math.floor(Math.pow(16,8)*Math.random()).toString(16),c={};c[n]=n,d[u]=["function(require,module,exports){var f = require("+g(n)+");(f.default ? f.default : f)(self);}",c];var f={};!function t(e){f[e]=!0;for(var n in d[e][1]){var r=d[e][1][n];f[r]||t(r)}}(u);c="("+h+")({"+Object.keys(f).map(function(t){return g(t)+":["+d[t][0]+","+g(d[t][1])+"]"}).join(",")+"},{},["+g(u)+"])",u=window.URL||window.webkitURL||window.mozURL||window.msURL,c=new Blob([c],{type:"text/javascript"});if(e&&e.bare)return c;u=u.createObjectURL(c),c=new Worker(u);return c.objectURL=u,c}},{}],1022:[function(t,e,n){"use strict";e.exports=t("cwise-compiler")({args:["array",{offset:[1],array:0},"scalar","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\n        var _inline_1_da = _inline_1_arg0_ - _inline_1_arg3_\n        var _inline_1_db = _inline_1_arg1_ - _inline_1_arg3_\n        if((_inline_1_da >= 0) !== (_inline_1_db >= 0)) {\n          _inline_1_arg2_.push(_inline_1_arg4_[0] + 0.5 + 0.5 * (_inline_1_da + _inline_1_db) / (_inline_1_da - _inline_1_db))\n        }\n      }",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg3_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:["_inline_1_da","_inline_1_db"]},funcName:"zeroCrossings"})},{"cwise-compiler":408}],1023:[function(t,e,n){"use strict";e.exports=function(t,e){var n=[];return e=+e||0,r(t.hi(t.shape[0]-1),n,e),n};var r=t("./lib/zc-core")},{"./lib/zc-core":1022}],1024:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=t("lit-element"),a=(r=t("./decidable-element"))&&r.__esModule?r:{default:r};function s(){var t=u(["\n        :host {\n          margin: 0.25rem;\n        }\n\n        button {\n          width: 100%;\n          height: 100%;\n          padding: 0.375rem 0.75rem;\n\n          font-family: var(---font-family-base);\n          font-size: 1.125rem;\n          line-height: 1.5;\n          color: var(---color-text-inverse);\n\n          border: 0;\n          border-radius: 0.25rem;\n          outline: none;\n        }\n\n        button:disabled {\n          background-color: var(--decidable-button-background-color, var(---color-element-disabled));\n          outline: none;\n          box-shadow: none;\n        }\n\n        button:enabled {\n          cursor: pointer;\n\n          background-color: var(--decidable-button-background-color, var(---color-element-enabled));\n          outline: none;\n          box-shadow: var(---shadow-2);\n        }\n\n        button:enabled:hover {\n          outline: none;\n          box-shadow: var(---shadow-4);\n        }\n\n        button:enabled:active {\n          outline: none;\n          box-shadow: var(---shadow-8);\n        }\n\n        :host(.keyboard) button:enabled:focus {\n          outline: none;\n          box-shadow: var(---shadow-4);\n        }\n\n        :host(.keyboard) button:enabled:focus:active {\n          outline: none;\n          box-shadow: var(---shadow-8);\n        }\n      "]);return s=function(){return t},t}function l(){var t=u(["\n      <button ?disabled=",">\n        <slot></slot>\n      </button>\n    "]);return l=function(){return t},t}function u(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=g(n);return t=r?(t=g(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(n,a.default);var e=p(n);function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).disabled=!1,t}return h(n,null,[{key:"properties",get:function(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0}}}}]),h(n,[{key:"render",value:function(){return(0,o.html)(l(),this.disabled)}}],[{key:"styles",get:function(){return[c(g(n),"styles",this),(0,o.css)(s())]}}]),n}();n.default=m,customElements.define("decidable-button",m)},{"./decidable-element":1027,"lit-element":563}],1025:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r={fromAttribute:function(t){return t.split(/\s+/).map(function(t){return Number.parseFloat(t)})},toAttribute:function(t){return t.length?t.map(function(t){return t.toFixed(3)}).join(" "):null}};n.default=r},{}],1026:[function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={fromAttribute:function(t){return new Set(t.split(/\s+/))},toAttribute:function(t){return t.size?r(t).join(" "):null}};n.default=o},{}],1027:[function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("lit-element"),i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var o;Object.prototype.hasOwnProperty.call(t,n)&&((o=i?Object.getOwnPropertyDescriptor(t,n):null)&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3"));function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function o(){var t=m(["\n      :host {\n        ---shadow-0: var(--shadow-0, ",");\n        ---shadow-2: var(--shadow-2, ",");\n        ---shadow-4: var(--shadow-4, ",");\n        ---shadow-8: var(--shadow-8, ",");\n\n        ---color-background: var(--color-background, ",");\n        ---color-border: var(--color-border, ",");\n        ---color-text: var(--color-text, ",");\n        ---color-text-inverse: var(--color-text-inverse, ",");\n        ---color-link: var(--color-link, ",");\n        ---color-element-background: var(--color-element-background, ",");\n        ---color-element-disabled: var(--color-element-disabled, ",");\n        ---color-element-enabled: var(--color-element-enabled, ",");\n        ---color-element-selected: var(--color-element-selected, ",");\n        ---color-element-border: var(--color-element-border, ",");\n        ---color-element-emphasis: var(--color-element-emphasis, ",');\n\n        ---font-family-base: var(--font-family-base, "Source Sans Pro", sans-serif);\n        ---font-family-math: var(--font-family-math, "Source Serif Pro", serif);\n\n        ---transition-duration: var(--transition-duration, 500ms);\n\n        font-family: var(---font-family-base);\n      }\n\n      :host,\n      :host *,\n      :host *::before,\n      :host *::after {\n        box-sizing: border-box;\n      }\n\n      .math-greek {\n        font-family: var(---font-family-math);\n        font-style: normal;\n      }\n\n      .math-num {\n        font-family: var(---font-family-base);\n        font-style: normal;\n      }\n\n      .math-var {\n        font-family: var(---font-family-math);\n        font-style: italic;\n      }\n\n      .defs {\n        display: block;\n\n        width: 0;\n        height: 0;\n      }\n    ']);return o=function(){return t},t}function l(){var t=m(['\n      <svg class="defs">\n        <defs>\n          ',"\n        </defs>\n      </svg>\n    "]);return l=function(){return t},t}function u(){var t=m(['<feMorphology in="offA" result="spreadA" operator='," radius="," />"]);return u=function(){return t},t}function c(){var t=m([""]);return c=function(){return t},t}function f(){var t=m(['<feMorphology in="offP" result="spreadP" operator='," radius="," />"]);return f=function(){return t},t}function h(){var t=m([""]);return h=function(){return t},t}function d(){var t=m(['<feMorphology in="offU" result="spreadU" operator='," radius="," />"]);return d=function(){return t},t}function p(){var t=m([""]);return p=function(){return t},t}function g(){var t=m(["\n        <filter id=",' filterUnits="userSpaceOnUse" x="-50vw" y="-50vh" width="200vw" height="200vh">\n          <feComponentTransfer in="SourceAlpha" result="solid">\n            <feFuncA  type="table" tableValues="0 1 1"/>\n          </feComponentTransfer>\n          <feOffset in="solid" result="offU" dx='," dy=",' />\n          <feOffset in="solid" result="offP" dx='," dy=",' />\n          <feOffset in="solid" result="offA" dx='," dy="," />\n          ","\n          ","\n          ","\n          <feGaussianBlur in=",' result="blurU" stdDeviation='," />\n          <feGaussianBlur in=",' result="blurP" stdDeviation='," />\n          <feGaussianBlur in=",' result="blurA" stdDeviation=',' />\n          <feFlood in="SourceGraphic" result="opU" flood-color='," flood-opacity=",' />\n          <feFlood in="SourceGraphic" result="opP" flood-color='," flood-opacity=",' />\n          <feFlood in="SourceGraphic" result="opA" flood-color='," flood-opacity=",' />\n          <feComposite in="opU" in2="blurU" result="shU" operator="in" />\n          <feComposite in="opP" in2="blurP" result="shP" operator="in" />\n          <feComposite in="opA" in2="blurA" result="shA" operator="in" />\n          \x3c!-- HACK Edge: Using a dynamic value for erode radius stops Edge from corrupting the "radius" value! --\x3e\n          <feMorphology in="solid" result="smaller" operator="erode" radius=',' />\n          <feComposite in="shU" in2="smaller" result="finalU" operator="out" />\n          <feComposite in="shP" in2="smaller" result="finalP" operator="out" />\n          <feComposite in="shA" in2="smaller" result="finalA" operator="out" />\n          <feMerge>\n            <feMergeNode in="finalU" />\n            <feMergeNode in="finalP" />\n            <feMergeNode in="finalA" />\n            <feMergeNode in="SourceGraphic" />\n          </feMerge>\n        </filter>']);return g=function(){return t},t}function m(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function y(t,e,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),t}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=w(n);return t=r?(t=w(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==a(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}t=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(n,r.LitElement);var e=_(n);function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).uniqueId="decidable-".concat(n.uniqueId),t}return b(n,null,[{key:"uniqueId",get:function(){return n.ID+=1}}]),b(n,[{key:"getComputedStyleValue",value:function(t){return window.ShadyCSS?window.ShadyCSS.getComputedStyleValue(this,t):getComputedStyle(this).getPropertyValue(t)}},{key:"firstUpdated",value:function(t){y(w(n.prototype),"firstUpdated",this).call(this,t),i.select(this.renderRoot.host).classed("keyboard",!0).on("mousemove.keyboard touchstart.keyboard",function(t){t=t.currentTarget;i.select(t.renderRoot.host).classed("keyboard",!1).on("mousemove.keyboard touchstart.keyboard",null)}).on("keydown.keyboard",function(t){t=t.currentTarget;i.select(t.renderRoot.host).classed("keyboard",!0).on("keydown.keyboard mousemove.keyboard touchstart.keyboard",null)})}}],[{key:"cssBoxShadow",value:function(t,e,n){var r=1<arguments.length&&void 0!==e&&e,i=2<arguments.length&&void 0!==n&&n,o=this.shadows.opacityUmbra+this.shadows.opacityBoost,a=this.shadows.opacityPenumbra+this.shadows.opacityBoost,e=this.shadows.opacityAmbient+this.shadows.opacityBoost,n="rgba(".concat(i?this.shadows.inverseBaselineColorString:this.shadows.baselineColorString,", ").concat(o,")"),o="rgba(".concat(i?this.shadows.inverseBaselineColorString:this.shadows.baselineColorString,", ").concat(a,")"),a="rgba(".concat(i?this.shadows.inverseBaselineColorString:this.shadows.baselineColorString,", ").concat(e,")"),i=this.shadows.mapUmbra[t],e=this.shadows.mapPenumbra[t],t=this.shadows.mapAmbient[t],i=(r?"".concat(-i.y,"px ").concat(i.y/2,"px "):"".concat(i.y/2,"px ").concat(i.y,"px ")).concat(i.b,"px ").concat(i.s,"px"),e=(r?"".concat(-e.y,"px ").concat(e.y/2,"px "):"".concat(e.y/2,"px ").concat(e.y,"px ")).concat(e.b,"px ").concat(e.s,"px"),t=(r?"".concat(-t.y,"px ").concat(t.y/2,"px "):"".concat(t.y/2,"px ").concat(t.y,"px ")).concat(t.b,"px ").concat(t.s,"px");return"".concat(i," ").concat(n,", ").concat(e," ").concat(o,", ").concat(t," ").concat(a)}},{key:"greys",get:function(){var t="#999999",e={white:"#ffffff"};return e.light75=i.interpolateRgb(t,"#ffffff")(.75),e.light50=i.interpolateRgb(t,"#ffffff")(.5),e.light25=i.interpolateRgb(t,"#ffffff")(.25),e.grey=t,e.dark25=i.interpolateRgb(t,"#000000")(.25),e.dark50=i.interpolateRgb(t,"#000000")(.5),e.dark75=i.interpolateRgb(t,"#000000")(.75),e.black="#000000",e}},{key:"shadows",get:function(){return{elevations:[0,2,4,8,16],baselineColor:"#000000",baselineColorString:"0, 0, 0",inverseBaselineColor:"#FFFFFF",inverseBaselineColorString:"255, 255, 255",opacityUmbra:.2,opacityPenumbra:.14,opacityAmbient:.12,opacityBoost:.2,mapUmbra:{0:{x:0,y:0,b:0,s:0},2:{x:0,y:3,b:1,s:-2},4:{x:0,y:2,b:4,s:-1},8:{x:0,y:5,b:5,s:-3},16:{x:0,y:8,b:10,s:-5}},mapPenumbra:{0:{x:0,y:0,b:0,s:0},2:{x:0,y:2,b:2,s:0},4:{x:0,y:4,b:5,s:0},8:{x:0,y:8,b:10,s:1},16:{x:0,y:16,b:24,s:2}},mapAmbient:{0:{x:0,y:0,b:0,s:0},2:{x:0,y:1,b:5,s:0},4:{x:0,y:1,b:10,s:0},8:{x:0,y:3,b:14,s:2},16:{x:0,y:6,b:30,s:5}}}}},{key:"svgFilters",get:function(){var e=n.shadows,t=e.elevations.map(function(t){return(0,r.svg)(g(),"shadow-".concat(t),e.mapUmbra[t].y/2,e.mapUmbra[t].y,e.mapPenumbra[t].y/2,e.mapPenumbra[t].y,e.mapAmbient[t].y/2,e.mapAmbient[t].y,0===e.mapUmbra[t].s?(0,r.svg)(p()):(0,r.svg)(d(),0<e.mapUmbra[t].s?"dilate":"erode",Math.abs(e.mapUmbra[t].s)),0===e.mapPenumbra[t].s?(0,r.svg)(h()):(0,r.svg)(f(),0<e.mapPenumbra[t].s?"dilate":"erode",Math.abs(e.mapPenumbra[t].s)),0===e.mapAmbient[t].s?(0,r.svg)(c()):(0,r.svg)(u(),0<e.mapAmbient[t].s?"dilate":"erode",Math.abs(e.mapAmbient[t].s)),0===e.mapUmbra[t].s?"offU":"spreadU",e.mapUmbra[t].b/2,0===e.mapPenumbra[t].s?"offP":"spreadP",e.mapPenumbra[t].b/2,0===e.mapAmbient[t].s?"offA":"spreadA",e.mapAmbient[t].b/2,e.baselineColor,e.opacityUmbra+e.opacityBoost,e.baselineColor,e.opacityPenumbra+e.opacityBoost,e.baselineColor,e.opacityAmbient+e.opacityBoost,1)});return(0,r.svg)(l(),t)}},{key:"styles",get:function(){return(0,r.css)(o(),(0,r.unsafeCSS)(this.cssBoxShadow(0)),(0,r.unsafeCSS)(this.cssBoxShadow(2)),(0,r.unsafeCSS)(this.cssBoxShadow(4)),(0,r.unsafeCSS)(this.cssBoxShadow(8)),(0,r.unsafeCSS)(this.greys.white),(0,r.unsafeCSS)(this.greys.light75),(0,r.unsafeCSS)(this.greys.dark75),(0,r.unsafeCSS)(this.greys.white),(0,r.unsafeCSS)(this.greys.dark25),(0,r.unsafeCSS)(this.greys.light75),(0,r.unsafeCSS)(this.greys.light50),(0,r.unsafeCSS)(this.greys.grey),(0,r.unsafeCSS)(this.greys.dark25),(0,r.unsafeCSS)(this.greys.dark50),(0,r.unsafeCSS)(this.greys.dark75))}}]),n}();(n.default=t).ID=0},{d3:440,"lit-element":563}],1028:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DecidableElement",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"DecidableButton",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"DecidableSlider",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"DecidableSpinner",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"DecidableSwitch",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"DecidableToggle",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"DecidableToggleOption",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"DecidableConverterArray",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"DecidableConverterSet",{enumerable:!0,get:function(){return f.default}});var r=h(t("./decidable-element")),i=h(t("./button")),o=h(t("./slider")),a=h(t("./spinner")),s=h(t("./switch")),l=h(t("./toggle")),u=h(t("./toggle-option")),c=h(t("./converter-array")),f=h(t("./converter-set"));function h(t){return t&&t.__esModule?t:{default:t}}},{"./button":1024,"./converter-array":1025,"./converter-set":1026,"./decidable-element":1027,"./slider":1029,"./spinner":1030,"./switch":1031,"./toggle":1033,"./toggle-option":1032}],1029:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=t("lit-html/directives/if-defined"),a=t("lit-element"),s=(r=t("./decidable-element"))&&r.__esModule?r:{default:r};function l(){var t=c(["\n        :host {\n          ---shadow-2-rotate: var(--shadow-2-rotate, ",");\n          ---shadow-4-rotate: var(--shadow-4-rotate, ",");\n          ---shadow-8-rotate: var(--shadow-8-rotate, ",");\n\n          display: flex;\n\n          flex-direction: column;\n\n          align-items: center;\n          justify-content: center;\n        }\n\n        label {\n          margin: 0.25rem 0.25rem 0;\n        }\n\n        .range {\n          display: inline-block;\n\n          width: 3.5rem;\n          height: 4.75rem;\n          margin: 0 0.25rem 0.25rem;\n        }\n\n        decidable-spinner {\n          --decidable-spinner-input-width: 3.5rem;\n\n          margin: 0 0.25rem 0.25rem;\n        }\n\n        /* Adapted from http://danielstern.ca/range.css/#/ */\n        /* Overall */\n        input[type=range] {\n          width: 4.75rem;\n          height: 3.5rem;\n          padding: 0;\n          margin: 0;\n\n          background-color: unset;\n\n          transform: rotate(-90deg);\n          transform-origin: 2.375rem 2.375rem;\n\n          /* stylelint-disable-next-line property-no-vendor-prefix */\n          -webkit-appearance: none;\n        }\n\n        input[type=range]:enabled {\n          cursor: ns-resize;\n        }\n\n        input[type=range]:focus {\n          outline: none;\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]::-ms-tooltip {\n          display: none;\n        }\n\n        /* Track */\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]::-webkit-slider-runnable-track {\n          width: 100%;\n          height: 4px;\n\n          background: var(---color-element-disabled);\n          border: 0;\n          border-radius: 2px;\n          box-shadow: none;\n        }\n\n        input[type=range]:focus::-webkit-slider-runnable-track {\n          background: var(---color-element-disabled);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]::-moz-range-track {\n          width: 100%;\n          height: 4px;\n\n          background: var(---color-element-disabled);\n          border: 0;\n          border-radius: 2px;\n          box-shadow: none;\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]::-ms-track {\n          width: 100%;\n          height: 4px;\n\n          color: transparent;\n\n          background: transparent;\n          border-color: transparent;\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]::-ms-fill-lower {\n          background: #cccccc;\n          /* background: var(---color-element-disabled); */\n          border: 0;\n          border-radius: 2px;\n          box-shadow: none;\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]::-ms-fill-upper {\n          background: #cccccc;\n          /* background: var(---color-element-disabled); */\n          border: 0;\n          border-radius: 2px;\n          box-shadow: none;\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:focus::-ms-fill-lower {\n          background: var(---color-element-disabled);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:focus::-ms-fill-upper {\n          background: var(---color-element-disabled);\n        }\n\n        /* Thumb */\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]::-webkit-slider-thumb {\n          width: 10px;\n          height: 20px;\n          margin-top: -8px;\n\n          border: 0;\n          border-radius: 4px;\n\n          /* stylelint-disable-next-line property-no-vendor-prefix */\n          -webkit-appearance: none;\n        }\n\n        input[type=range]:disabled::-webkit-slider-thumb {\n          background: var(---color-element-disabled);\n          box-shadow: none;\n        }\n\n        input[type=range]:enabled::-webkit-slider-thumb {\n          background: var(---color-element-enabled);\n          box-shadow: var(---shadow-2-rotate);\n        }\n\n        input[type=range]:enabled:hover::-webkit-slider-thumb {\n          box-shadow: var(---shadow-4-rotate);\n        }\n\n        input[type=range]:enabled:active::-webkit-slider-thumb {\n          box-shadow: var(---shadow-8-rotate);\n        }\n\n        :host(.keyboard) input[type=range]:enabled:focus::-webkit-slider-thumb {\n          box-shadow: var(---shadow-4-rotate);\n        }\n\n        :host(.keyboard) input[type=range]:focus:active::-webkit-slider-thumb {\n          box-shadow: var(---shadow-8-rotate);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]::-moz-range-thumb {\n          width: 10px;\n          height: 20px;\n\n          border: 0;\n          border-radius: 4px;\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:disabled::-moz-range-thumb {\n          background: var(---color-element-disabled);\n          box-shadow: none;\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:enabled::-moz-range-thumb {\n          background: var(---color-element-enabled);\n          box-shadow: var(---shadow-2-rotate);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:enabled:hover::-moz-range-thumb {\n          box-shadow: var(---shadow-4-rotate);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:enabled:active::-moz-range-thumb {\n          box-shadow: var(---shadow-8-rotate);\n        }\n\n        :host(.keyboard) input[type=range]:enabled:focus::-moz-range-thumb {\n          box-shadow: var(---shadow-4-rotate);\n        }\n\n        :host(.keyboard) input[type=range]:enabled:focus:active::-moz-range-thumb {\n          box-shadow: var(---shadow-8-rotate);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]::-ms-thumb {\n          width: 10px;\n          height: 20px;\n          margin-top: 0;\n\n          background: #999999;\n          /* background: var(---color-element-enabled); */\n          border: 0;\n          border-radius: 4px;\n          box-shadow: var(---shadow-2-rotate);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:disabled::-ms-thumb {\n          background: var(---color-element-disabled);\n          box-shadow: none;\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:enabled::-ms-thumb {\n          background: var(---color-element-enabled);\n          box-shadow: var(---shadow-2-rotate);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:enabled:hover::-ms-thumb {\n          box-shadow: var(---shadow-4-rotate);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        input[type=range]:enabled:active::-ms-thumb {\n          box-shadow: var(---shadow-8-rotate);\n        }\n\n        /* stylelint-disable-next-line no-descending-specificity */ /* stylelint ERROR */\n        :host(.keyboard) input[type=range]:enabled:focus::-ms-thumb {\n          box-shadow: var(---shadow-4-rotate);\n        }\n\n        :host(.keyboard) input[type=range]:enabled:focus:active::-ms-thumb {\n          box-shadow: var(---shadow-8-rotate);\n        }\n      "]);return l=function(){return t},t}function u(){var t=c(["\n      <label for=",'>\n        <slot></slot>\n      </label>\n      <div class="range">\n        <input type="range" id='," min="," max="," step="," .value="," @change="," @input=",">\n      </div>\n      <decidable-spinner min="," max="," step="," .value="," @input=","></decidable-spinner>\n    "]);return u=function(){return t},t}function c(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=m(n);return t=r?(t=m(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(n,s.default);var e=g(n);function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).disabled=!1,t.max=void 0,t.min=void 0,t.step=void 0,t.value=void 0,t}return d(n,null,[{key:"properties",get:function(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0},max:{attribute:"max",type:Number,reflect:!0},min:{attribute:"min",type:Number,reflect:!0},step:{attribute:"step",type:Number,reflect:!0},value:{attribute:"value",type:Number,reflect:!0}}}}]),d(n,[{key:"changed",value:function(t){this.value=t.target.value,this.dispatchEvent(new CustomEvent("change",{detail:{value:this.value},bubbles:!0}))}},{key:"inputted",value:function(t){this.value=t.target.value}},{key:"render",value:function(){return(0,a.html)(u(),"".concat(this.uniqueId,"-slider"),"".concat(this.uniqueId,"-slider"),(0,o.ifDefined)(this.min),(0,o.ifDefined)(this.max),(0,o.ifDefined)(this.step),this.value,this.changed.bind(this),this.inputted.bind(this),(0,o.ifDefined)(this.min),(0,o.ifDefined)(this.max),(0,o.ifDefined)(this.step),this.value,this.inputted.bind(this))}}],[{key:"styles",get:function(){return[f(m(n),"styles",this),(0,a.css)(l(),(0,a.unsafeCSS)(this.cssBoxShadow(2,!0,!1)),(0,a.unsafeCSS)(this.cssBoxShadow(4,!0,!1)),(0,a.unsafeCSS)(this.cssBoxShadow(8,!0,!1)))]}}]),n}();n.default=y,customElements.define("decidable-slider",y)},{"./decidable-element":1027,"lit-element":563,"lit-html/directives/if-defined":564}],1030:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=t("lit-html/directives/if-defined"),a=t("lit-element"),s=(r=t("./decidable-element"))&&r.__esModule?r:{default:r};function l(){var t=c(['\n        :host {\n          ---decidable-spinner-font-size: var(--decidable-spinner-font-size, 1.125rem);\n          ---decidable-spinner-input-width: var(--decidable-spinner-input-width, 4rem);\n          ---decidable-spinner-prefix: var(--decidable-spinner-prefix, "");\n\n          display: block;\n        }\n\n        label {\n          position: relative;\n          display: flex;\n\n          flex-direction: column;\n\n          align-items: center;\n\n          margin: 0;\n\n          font-size: 0.75rem;\n        }\n\n        label::before {\n          position: absolute;\n          bottom: 1px;\n          left: calc(50% - var(---decidable-spinner-input-width) / 2 + 0.25rem);\n\n          font-size: var(---decidable-spinner-font-size);\n          line-height: normal;\n\n          content: var(---decidable-spinner-prefix);\n        }\n\n        input[type=number] {\n          width: var(---decidable-spinner-input-width);\n\n          font-family: var(---font-family-base);\n          font-size: var(---decidable-spinner-font-size);\n          color: inherit;\n          text-align: right;\n\n          background: none;\n          border: 0;\n          border-radius: 0;\n          outline: none;\n          box-shadow: var(---shadow-2);\n\n          -webkit-appearance: none; /* stylelint-disable-line property-no-vendor-prefix */\n        }\n\n        input[type=number]:hover {\n          box-shadow: var(---shadow-4);\n        }\n\n        input[type=number]:focus,\n        input[type=number]:active {\n          box-shadow: var(---shadow-8);\n        }\n\n        input[type=number]:disabled {\n          color: var(---color-text);\n\n          border: 0;\n          box-shadow: none;\n\n          /* HACK: Use correct text color in Safari */\n          -webkit-opacity: 1;\n          /* HACK: Hide spinners in disabled input for Firefox and Safari */\n          -moz-appearance: textfield; /* stylelint-disable-line property-no-vendor-prefix */\n          /* HACK: Use correct text color in Safari */\n          -webkit-text-fill-color: var(---color-text);\n        }\n\n        /* HACK: Hide spinners in disabled input for Firefox and Safari */\n        input[type=number]:disabled::-webkit-outer-spin-button,\n        input[type=number]:disabled::-webkit-inner-spin-button {\n          margin: 0;\n          -webkit-appearance: none; /* stylelint-disable-line property-no-vendor-prefix */\n        }\n      ']);return l=function(){return t},t}function u(){var t=c(["\n      <label>\n        <slot></slot>\n        <input ?disabled=",' type="number" min='," max="," step="," .value="," @input=",">\n      </label>\n    "]);return u=function(){return t},t}function c(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=m(n);return t=r?(t=m(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(n,s.default);var e=g(n);function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).disabled=!1,t.max=void 0,t.min=void 0,t.step=void 0,t.value=void 0,t}return d(n,null,[{key:"properties",get:function(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0},max:{attribute:"max",type:Number,reflect:!0},min:{attribute:"min",type:Number,reflect:!0},step:{attribute:"step",type:Number,reflect:!0},value:{attribute:"value",type:Number,reflect:!0}}}}]),d(n,[{key:"inputted",value:function(t){this.value=t.target.value}},{key:"render",value:function(){return(0,a.html)(u(),this.disabled,(0,o.ifDefined)(this.min),(0,o.ifDefined)(this.max),(0,o.ifDefined)(this.step),this.value,this.inputted.bind(this))}}],[{key:"styles",get:function(){return[f(m(n),"styles",this),(0,a.css)(l())]}}]),n}();n.default=y,customElements.define("decidable-spinner",y)},{"./decidable-element":1027,"lit-element":563,"lit-html/directives/if-defined":564}],1031:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=t("lit-element"),a=(r=t("./decidable-element"))&&r.__esModule?r:{default:r};function s(){var t=u(['\n        :host {\n          display: flex;\n\n          flex-direction: column;\n\n          align-items: center;\n          justify-content: center;\n        }\n\n        /* Adapted from https://codepen.io/guuslieben/pen/YyPRVP */\n        input[type=checkbox] {\n          /* visuallyhidden: https://github.com/h5bp/html5-boilerplate/blob/master/dist/doc/css.md */\n          position: absolute;\n\n          width: 1px;\n          height: 1px;\n          padding: 0;\n          margin: -1px;\n          overflow: hidden;\n          clip: rect(0 0 0 0);\n\n          white-space: nowrap;\n\n          border: 0;\n          clip-path: inset(100%); /* May cause a performance issue: https://github.com/h5bp/html5-boilerplate/issues/2021 */\n        }\n\n        input[type=checkbox] + label {\n          order: 1;\n\n          margin: 0 0.25rem 0.25rem;\n\n          font-weight: 400;\n        }\n\n        input[type=checkbox] + label + label {\n          position: relative;\n\n          min-width: 24px;\n          padding: 0 0 36px;\n          margin: 0.25rem 0.25rem 0;\n\n          font-weight: 400;\n\n          outline: none;\n        }\n\n        input[type=checkbox] + label + label::before,\n        input[type=checkbox] + label + label::after {\n          position: absolute;\n\n          left: 50%;\n\n          margin: 0;\n\n          content: "";\n\n          outline: 0;\n\n          transition: all var(---transition-duration) ease;\n          transform: translate(-50%, 0);\n        }\n\n        input[type=checkbox] + label + label::before {\n          bottom: 1px;\n\n          width: 8px;\n          height: 34px;\n\n          background-color: var(---color-element-disabled);\n          border-radius: 4px;\n        }\n\n        input[type=checkbox] + label + label::after {\n          bottom: 0;\n\n          width: 18px;\n          height: 18px;\n\n          background-color: var(---color-element-enabled);\n          border-radius: 50%;\n          box-shadow: var(---shadow-2);\n        }\n\n        input[type=checkbox]:checked + label + label::after {\n          transform: translate(-50%, -100%);\n        }\n\n        input[type=checkbox]:disabled + label + label::after {\n          background-color: var(---color-element-disabled);\n          box-shadow: none;\n        }\n\n        input[type=checkbox]:enabled + label,\n        input[type=checkbox]:enabled + label + label {\n          cursor: pointer;\n        }\n\n        input[type=checkbox]:enabled + label:hover + label::after,\n        input[type=checkbox]:enabled + label + label:hover::after {\n          box-shadow: var(---shadow-4);\n        }\n\n        input[type=checkbox]:enabled + label:active + label::after,\n        input[type=checkbox]:enabled + label + label:active::after {\n          box-shadow: var(---shadow-8);\n        }\n\n        /* stylelint-disable-next-line selector-max-compound-selectors */\n        :host(.keyboard) input[type=checkbox]:enabled:focus + label + label::after {\n          box-shadow: var(---shadow-4);\n        }\n\n        /* stylelint-disable-next-line selector-max-compound-selectors */\n        :host(.keyboard) input[type=checkbox]:enabled:focus + label + label:active::after,\n        :host(.keyboard) input[type=checkbox]:enabled:focus:active + label + label::after {\n          box-shadow: var(---shadow-8);\n        }\n      ']);return s=function(){return t},t}function l(){var t=u(['\n      <input type="checkbox" id='," ?checked="," ?disabled="," @change=",">\n      <label for=",'>\n        <slot name="off-label"></slot>\n      </label>\n      <label for=',">\n        <slot></slot>\n      </label>\n    "]);return l=function(){return t},t}function u(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=g(n);return t=r?(t=g(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(n,a.default);var e=p(n);function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).checked=!1,t.disabled=!1,t}return h(n,null,[{key:"properties",get:function(){return{checked:{attribute:"checked",type:Boolean,reflect:!0},disabled:{attribute:"disabled",type:Boolean,reflect:!0}}}}]),h(n,[{key:"changed",value:function(t){this.checked=t.target.checked,this.dispatchEvent(new CustomEvent("change",{detail:{checked:this.checked},bubbles:!0}))}},{key:"render",value:function(){return(0,o.html)(l(),"".concat(this.uniqueId,"-checkbox"),this.checked,this.disabled,this.changed.bind(this),"".concat(this.uniqueId,"-checkbox"),"".concat(this.uniqueId,"-checkbox"))}}],[{key:"styles",get:function(){return[c(g(n),"styles",this),(0,o.css)(s())]}}]),n}();n.default=m,customElements.define("decidable-switch",m)},{"./decidable-element":1027,"lit-element":563}],1032:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=t("lit-element"),a=(r=t("./decidable-element"))&&r.__esModule?r:{default:r};function s(){var t=u(["\n        :host {\n          display: flex;\n        }\n\n        input[type=radio] {\n          /* visuallyhidden: https://github.com/h5bp/html5-boilerplate/blob/master/dist/doc/css.md */\n          position: absolute;\n\n          width: 1px;\n          height: 1px;\n          padding: 0;\n          margin: -1px;\n          overflow: hidden;\n          clip: rect(0 0 0 0);\n\n          white-space: nowrap;\n\n          border: 0;\n          clip-path: inset(100%); /* May cause a performance issue: https://github.com/h5bp/html5-boilerplate/issues/2021 */\n        }\n\n        input[type=radio] + label {\n          width: 100%;\n          padding: 0.375rem 0.75rem;\n\n          font-family: var(---font-family-base);\n          font-size: 1.125rem;\n          line-height: 1.5;\n          color: var(---color-text-inverse);\n          text-align: center;\n\n          cursor: pointer;\n\n          background-color: var(---color-element-enabled);\n          border: 0;\n          border-radius: 0;\n          outline: none;\n\n          box-shadow: var(---shadow-2);\n        }\n\n        input[type=radio]:checked + label {\n          background-color: var(---color-element-selected);\n          outline: none;\n          box-shadow: var(---shadow-2);\n        }\n\n        input[type=radio] + label:hover {\n          z-index: 1;\n\n          outline: none;\n          box-shadow: var(---shadow-4);\n        }\n\n        input[type=radio] + label:active {\n          z-index: 2;\n\n          outline: none;\n          box-shadow: var(---shadow-8);\n        }\n\n        :host(:first-of-type) input[type=radio] + label {\n          border-top-left-radius: 0.25rem;\n          border-top-right-radius: 0.25rem;\n        }\n\n        :host(:last-of-type) input[type=radio] + label {\n          border-bottom-right-radius: 0.25rem;\n          border-bottom-left-radius: 0.25rem;\n        }\n\n        :host(.keyboard) input[type=radio]:focus + label {\n          z-index: 1;\n\n          outline: none;\n          box-shadow: var(---shadow-4);\n        }\n\n        :host(.keyboard) input[type=radio]:focus:checked + label {\n          z-index: 1;\n\n          background-color: var(---color-element-selected);\n          outline: none;\n          box-shadow: var(---shadow-4);\n        }\n\n        :host(.keyboard) input[type=radio]:focus + label:active {\n          z-index: 2;\n\n          outline: none;\n          box-shadow: var(---shadow-8);\n        }\n      "]);return s=function(){return t},t}function l(){var t=u(['\n      <input type="radio" id='," name="," value="," .checked="," @change=",">\n      <label for=",">\n        <slot></slot>\n      </label>\n    "]);return l=function(){return t},t}function u(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=g(n);return t=r?(t=g(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(n,a.default);var e=p(n);function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).checked=!1,t.disabled=!1,t.name=void 0,t.value=void 0,t}return h(n,null,[{key:"properties",get:function(){return{checked:{attribute:"checked",type:Boolean,reflect:!0},disabled:{attribute:"disabled",type:Boolean,reflect:!0},name:{attribute:"name",type:String,reflect:!0},value:{attribute:"value",type:String,reflect:!0}}}}]),h(n,[{key:"changed",value:function(t){this.checked=t.target.checked,this.dispatchEvent(new CustomEvent("change",{detail:{checked:this.checked,value:this.value},bubbles:!0}))}},{key:"render",value:function(){return(0,o.html)(l(),"".concat(this.uniqueId,"-radio"),this.name,this.value,this.checked,this.changed.bind(this),"".concat(this.uniqueId,"-radio"))}}],[{key:"styles",get:function(){return[c(g(n),"styles",this),(0,o.css)(s())]}}]),n}();n.default=m,customElements.define("decidable-toggle-option",m)},{"./decidable-element":1027,"lit-element":563}],1033:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=t("lit-element"),a=(r=t("./decidable-element"))&&r.__esModule?r:{default:r};function s(){var t=u(["\n        fieldset {\n          display: flex;\n\n          flex-direction: column;\n\n          align-items: stretch;\n          justify-content: center;\n\n          margin: 0.25rem;\n\n          border: 0;\n        }\n\n        legend {\n          text-align: center;\n        }\n      "]);return s=function(){return t},t}function l(){var t=u(["\n      <fieldset ?disabled=",'>\n        <legend><slot name="label"></slot></legend>\n        <slot></slot>\n      </fieldset>\n    ']);return l=function(){return t},t}function u(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=g(n);return t=r?(t=g(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(n,a.default);var e=p(n);function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).disabled=!1,t}return h(n,null,[{key:"properties",get:function(){return{disabled:{attribute:"disabled",type:Boolean,reflect:!0}}}}]),h(n,[{key:"render",value:function(){return(0,o.html)(l(),this.disabled)}}],[{key:"styles",get:function(){return[c(g(n),"styles",this),(0,o.css)(s())]}}]),n}();n.default=m,customElements.define("decidable-toggle",m)},{"./decidable-element":1027,"lit-element":563}],1034:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var h=t("lit-element"),d=t("lit-transition"),r=a(t("@decidable/prospectable-math")),o=a(t("../equations/cpt-equation"));function a(t){return t&&t.__esModule?t:{default:t}}function s(){var t=l(["\n        /* :host {\n          display: inline-block;\n        } */\n      "]);return s=function(){return t},t}function p(){var t=l(['\n      <div class="holder">\n        <table class="equation">\n          <tbody>\n            ',"\n          </tbody>\n        </table>\n      </div>"]);return p=function(){return t},t}function g(){var t=l(['\n      <tr>\n        <td class="right">\n          <span class="function v"><var class="math-var v tight">v</var><span class="paren tight">(</span>','<span class="paren tight">)</span></span>&nbsp;<span class="function w"><var class="math-var w tight">w</var><span class="paren tight">(</span>','<span class="paren tight">)</span></span><span class="plus">+</span><span class="function v"><var class="math-var v tight">v</var><span class="paren tight">(</span>','<span class="paren tight">)</span></span>&nbsp;<span class="bracket tight">[</span><span class="tight">1</span><span class="minus">−</span><span class="function w"><var class="math-var w">w</var><span class="paren tight">(</span>','<span class="paren tight">)</span></span><span class="bracket tight">]</span>\n        </td>\n        <td>\n          ','\n        </td>\n        <td class="left">\n          <span class="function v"><var class="math-var v tight">v</var><span class="paren tight">(</span>','<span class="paren tight">)</span></span>\n        </td>\n      </tr>\n      <tr>\n        <td class="right">\n          ',"&nbsp;",'<span class="plus">+</span>',"&nbsp;","\n        </td>\n        <td>\n          ",'\n        </td>\n        <td class="left">\n          ','\n        </td>\n      </tr>\n      <tr>\n        <td class="right">\n          ',"\n        </td>\n        <td>\n          ",'\n        </td>\n        <td class="left">\n          ',"\n        </td>\n      </tr>"]);return g=function(){return t},t}function m(){var t=l(['<span class="comparison">≟</span>']);return m=function(){return t},t}function y(){var t=l(['<var class="math-var u">U<sub class="subscript sure">sure</sub></var>']);return y=function(){return t},t}function v(){var t=l(['<var class="math-var u">U<sub class="subscript gamble">gamble</sub></var>']);return v=function(){return t},t}function b(){var t=l(['<var class="math-var v">v<sub class="subscript sure">sure</sub></var>']);return b=function(){return t},t}function x(){var t=l(['<var class="math-var w">w<sub class="subscript loss">loss</sub></var>']);return x=function(){return t},t}function _(){var t=l(['<var class="math-var w">w<sub class="subscript win">win</sub></var>']);return _=function(){return t},t}function w(){var t=l(['<var class="math-var v">v<sub class="subscript loss">loss</sub></var>']);return w=function(){return t},t}function k(){var t=l(['<var class="math-var v">v<sub class="subscript win">win</sub></var>']);return k=function(){return t},t}function T(){var t=l(['<var class="math-var x">x<sub class="subscript sure">sure</sub></var>']);return T=function(){return t},t}function M(){var t=l(['<var class="math-var p">p<sub class="subscript win">win</sub></var>']);return M=function(){return t},t}function A(){var t=l(['<var class="math-var x">x<sub class="subscript loss">loss</sub></var>']);return A=function(){return t},t}function S(){var t=l(['<var class="math-var x">x<sub class="subscript win">win</sub></var>']);return S=function(){return t},t}function E(){var t=l(['<span class="comparison">=</span>']);return E=function(){return t},t}function C(){var t=l(['<span class="comparison">&lt;</span>']);return C=function(){return t},t}function O(){var t=l(['<span class="comparison">&gt;</span>']);return O=function(){return t},t}function j(){var t=l(["",""]);return j=function(){return t},t}function P(){var t=l(['<decidable-spinner class="u" disabled .value="','">\n          <var class="math-var">U<sub class="subscript sure">sure</sub></var>\n        </decidable-spinner>']);return P=function(){return t},t}function N(){var t=l(['<decidable-spinner class="u" disabled .value="','">\n          <var class="math-var">U<sub class="subscript gamble">gamble</sub></var>\n        </decidable-spinner>']);return N=function(){return t},t}function L(){var t=l(['<decidable-spinner class="v" disabled .value="','">\n          <var class="math-var">v<sub class="subscript sure">sure</sub></var>\n        </decidable-spinner>']);return L=function(){return t},t}function R(){var t=l(['<decidable-spinner class="w" disabled .value="','">\n          <var class="math-var">w<sub class="subscript loss">loss</sub></var>\n        </decidable-spinner>']);return R=function(){return t},t}function D(){var t=l(['<decidable-spinner class="w" disabled .value="','">\n          <var class="math-var">w<sub class="subscript win">win</sub></var>\n        </decidable-spinner>']);return D=function(){return t},t}function I(){var t=l(['<decidable-spinner class="v" disabled .value="','">\n          <var class="math-var">v<sub class="subscript loss">loss</sub></var>\n        </decidable-spinner>']);return I=function(){return t},t}function F(){var t=l(['<decidable-spinner class="v" disabled .value="','">\n          <var class="math-var">v<sub class="subscript win">win</sub></var>\n        </decidable-spinner>']);return F=function(){return t},t}function z(){var t=l(['<decidable-spinner class="x" ?disabled=',' .value="','" @input=','>\n          <var class="math-var">x<sub class="subscript sure">sure</sub></var>\n        </decidable-spinner>']);return z=function(){return t},t}function B(){var t=l(['<decidable-spinner class="p" ?disabled=',' min="0" max="1" step=".01" .value="','" @input=','>\n          <var class="math-var">p<sub class="subscript win">win</sub></var>\n        </decidable-spinner>']);return B=function(){return t},t}function U(){var t=l(['<decidable-spinner class="x" disabled .value="','">\n          <var class="math-var">x<sub class="subscript loss">loss</sub></var>\n        </decidable-spinner>']);return U=function(){return t},t}function H(){var t=l(['<decidable-spinner class="x" ?disabled=',' .value="','" @input=','>\n          <var class="math-var">x<sub class="subscript win">win</sub></var>\n        </decidable-spinner>']);return H=function(){return t},t}function l(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=G(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function V(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=G(n);return t=r?(t=G(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}t=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(n,o.default);var e=V(n);function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).numeric=!1,t.xl=0,t.xw=100,t.pw=.75,t.xs=50,t.a=.8,t.l=1.2,t.g=.8,t.alignState(),t}return f(n,null,[{key:"properties",get:function(){return{numeric:{attribute:"numeric",type:Boolean,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0}}}}]),f(n,[{key:"alignState",value:function(){this.vw=r.default.xal2v(this.xw,this.a,this.l),this.vl=r.default.xal2v(this.xl,this.a,this.l),this.ww=r.default.pg2w(this.pw,this.g),this.wl=1-this.ww,this.vs=r.default.xal2v(this.xs,this.a,this.l),this.ug=this.vw*this.ww+this.vl*this.wl,this.us=this.vs,this.uDiff=this.ug-this.us}},{key:"sendEvent",value:function(){this.dispatchEvent(new CustomEvent("cpt-calculation-change",{detail:{xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,a:this.a,l:this.l,g:this.g},bubbles:!0}))}},{key:"xwInput",value:function(t){this.xw=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"pwInput",value:function(t){this.pw=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"xsInput",value:function(t){this.xs=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"aInput",value:function(t){this.a=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"lInput",value:function(t){this.l=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"gInput",value:function(t){this.g=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"render",value:function(){var t,e,n,r,i,o,a,s,l,u,c;this.alignState(),c=this.numeric?(t=(0,h.html)(H(),!this.interactive,this.xw,this.xwInput.bind(this)),e=(0,h.html)(U(),this.xl),n=(0,h.html)(B(),!this.interactive,+this.pw.toFixed(2),this.pwInput.bind(this)),r=(0,h.html)(z(),!this.interactive,this.xs,this.xsInput.bind(this)),i=(0,h.html)(F(),+this.vw.toFixed(1)),o=(0,h.html)(I(),+this.vl.toFixed(1)),a=(0,h.html)(D(),+this.ww.toFixed(2)),s=(0,h.html)(R(),+this.wl.toFixed(2)),l=(0,h.html)(L(),+this.vs.toFixed(1)),u=(0,h.html)(N(),+this.ug.toFixed(1)),f=(0,h.html)(P(),+this.us.toFixed(1)),(0,h.html)(j(),(0,d.transition)(0<this.uDiff?(0,d.mark)((0,h.html)(O()),"gt"):this.uDiff<0?(0,d.mark)((0,h.html)(C()),"lt"):(0,d.mark)((0,h.html)(E()),"eq"),(0,d.fade)({mode:"out-in",duration:200})))):(t=(0,h.html)(S()),e=(0,h.html)(A()),n=(0,h.html)(M()),r=(0,h.html)(T()),i=(0,h.html)(k()),o=(0,h.html)(w()),a=(0,h.html)(_()),s=(0,h.html)(x()),l=(0,h.html)(b()),u=(0,h.html)(v()),f=(0,h.html)(y()),(0,h.html)(m()));var f=(0,h.html)(g(),t,n,e,n,c,r,i,a,o,s,c,l,u,c,f);return(0,h.html)(p(),f)}}],[{key:"styles",get:function(){return[u(G(n),"styles",this),(0,h.css)(s())]}}]),n}();n.default=t,customElements.define("cpt-calculation",t)},{"../equations/cpt-equation":1050,"@decidable/prospectable-math":1062,"lit-element":563,"lit-transition":589}],1035:[function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(n){n.onmessage=function(t){var e=new i.AmwgSampler({alpha:{type:"real",lower:0,upper:1},lambda:{type:"real",lower:0,upper:10},gamma:{type:"real",lower:0,upper:1},luce:{type:"real",lower:0,upper:100}},function(o,t){var a=0;a+=s.beta(o.alpha,1.25,1.25);a+=s.gamma(o.lambda,3,1.5);a+=s.beta(o.gamma,1.25,1.25);return a+=s.gamma(o.luce,3,1.5),t.forEach(function(t){var e=l.default.xal2v(t.xl,o.alpha,o.lambda),n=l.default.xal2v(t.xw,o.alpha,o.lambda),r=l.default.xal2v(t.xs,o.alpha,o.lambda),i=l.default.pg2w(t.pw,o.gamma),n=(1-i)*e+i*n,n=1/(1+Math.exp(o.luce*(r-n))),t="sure"===t.response?0:1;a+=s.bern(t,n)}),a},t.data);e.burn(1e3);t=e.sample(5e3),e={alpha:o.median(t.alpha),lambda:o.median(t.lambda),gamma:o.median(t.gamma),luce:o.median(t.luce)};n.postMessage({results:e,samples:t})}},t("regenerator-runtime/runtime");var r,s=c(t("bayes.js/distributions")),i=c(t("bayes.js/mcmc")),o=c(t("d3")),l=(r=t("@decidable/prospectable-math"))&&r.__esModule?r:{default:r};function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function c(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var n,r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&((r=o?Object.getOwnPropertyDescriptor(t,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=t[n]);return i.default=t,e&&e.set(t,i),i}},{"@decidable/prospectable-math":1062,"bayes.js/distributions":9,"bayes.js/mcmc":10,d3:440,"regenerator-runtime/runtime":978}],1036:[function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("lit-element"),i=d(t("plotly.js/lib/core")),o=d(t("plotly.js/lib/histogram")),s=f(t("webworkify")),l=f(t("../cpt-element")),u=f(t("./cpt-fit-worker")),c=f(t("./plotly-style.auto"));function f(t){return t&&t.__esModule?t:{default:t}}function h(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return h=function(){return t},t}function d(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=h();if(e&&e.has(t))return e.get(t);var n,r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&((r=o?Object.getOwnPropertyDescriptor(t,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=t[n]);return i.default=t,e&&e.set(t,i),i}function p(){var t=m(["\n        /* :host {\n          display: inline-block;\n        } */\n\n        .trace,\n        .hist {\n          display: inline-block;\n\n          width: 20rem;\n          height: 15rem;\n        }\n      "]);return p=function(){return t},t}function g(){var t=m(["\n      <div>\n        <div>After ",' trials:</div>\n        <div>Current:\n          <var class="math-var a">α</var> = ',',\n          <var class="math-var l">λ</var> = ',',\n          <var class="math-var g">γ</var> = ','\n        </div>\n        <div class="param">\n          <div class="trace alpha"></div>\n          <div class="hist alpha"></div>\n        </div>\n        <div class="param">\n          <div class="trace lambda"></div>\n          <div class="hist lambda"></div>\n        </div>\n        <div class="param">\n          <div class="trace gamma"></div>\n          <div class="hist gamma"></div>\n        </div>\n        <div class="param">\n          <div class="trace luce"></div>\n          <div class="hist luce"></div>\n        </div>\n      </div>\n    ']);return g=function(){return t},t}function m(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function y(t,e,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),t}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=w(n);return t=r?(t=w(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==a(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}i.register([o]);o=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(n,l.default);var t=_(n);function n(){var e;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(e=t.call(this)).a=1,e.l=1,e.g=1,e.choices=[],e.samples=null,e.working=!1,e.queued=!1,e.worker=(0,s.default)(u.default),e.worker.onmessage=function(t){e.working=!1,e.samples=t.data.samples,e.a=t.data.results.alpha,e.l=t.data.results.lambda,e.g=t.data.results.gamma,e.requestUpdate(),e.dispatchEvent(new CustomEvent("cpt-fit-update",{detail:{a:e.a,l:e.l,g:e.g},bubbles:!0})),e.queued&&e.fit()},e.fit(),e}return b(n,null,[{key:"properties",get:function(){return{}}}]),b(n,[{key:"fit",value:function(){this.working?this.queued=!0:(this.worker.postMessage(this.choices),this.working=!0,this.queued=!1)}},{key:"clear",value:function(){this.choices=[],this.fit()}},{key:"get",value:function(t){var e=0<arguments.length&&void 0!==t?t:"default",t=this.choices.find(function(t){return t.name===e});return void 0===t?null:t}},{key:"set",value:function(t,e,n,r,i,o,a){var s=5<arguments.length&&void 0!==o?o:"",o=6<arguments.length&&void 0!==a?a:"",a=this.choices.find(function(t){return t.name===s});void 0===a?this.choices.push({xl:t,xw:e,pw:n,xs:r,response:i,name:s,label:o}):(a.xl=t,a.xw=e,a.pw=n,a.xs=r,a.response=i,a.label=o),this.fit()}},{key:"render",value:function(){return(0,r.html)(g(),this.choices.length,this.a.toFixed(2),this.l.toFixed(2),this.g.toFixed(2))}},{key:"plotParam",value:function(t){var e={l:40,r:10,b:40,t:40,pad:4};i.react(this.shadowRoot.querySelector(".trace.".concat(t)),[{y:this.samples[t]}],{margin:e,title:"Traceplot of ".concat(t)}),i.react(this.shadowRoot.querySelector(".hist.".concat(t)),[{x:this.samples[t],type:"histogram"}],{margin:e,title:"Posterior of ".concat(t)})}},{key:"update",value:function(t){y(w(n.prototype),"update",this).call(this,t),null!==this.samples&&(this.plotParam("alpha"),this.plotParam("lambda"),this.plotParam("gamma"),this.plotParam("luce"))}}],[{key:"styles",get:function(){return[y(w(n),"styles",this),c.default,(0,r.css)(p())]}}]),n}();n.default=o,customElements.define("cpt-fit",o)},{"../cpt-element":1049,"./cpt-fit-worker":1035,"./plotly-style.auto":1048,"lit-element":563,"plotly.js/lib/core":620,"plotly.js/lib/histogram":621,webworkify:1021}],1037:[function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("lit-element"),m=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var o;Object.prototype.hasOwnProperty.call(t,n)&&((o=i?Object.getOwnPropertyDescriptor(t,n):null)&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3")),y=o(t("@decidable/prospectable-math")),i=o(t("../cpt-element"));function o(t){return t&&t.__esModule?t:{default:t}}function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(){var t=c(['\n        :host {\n          display: inline-block;\n        }\n\n        .main {\n          width: 100%;\n          height: 100%;\n        }\n\n        text {\n          /* stylelint-disable property-no-vendor-prefix */\n          -webkit-user-select: none;\n          -moz-user-select: none;\n          -ms-user-select: none;\n          user-select: none;\n        }\n\n        .curve.interactive {\n          cursor: nwse-resize;\n\n          filter: url("#shadow-2");\n          outline: none;\n        }\n\n        .curve.interactive:hover {\n          filter: url("#shadow-4");\n        }\n\n        .curve.interactive:active {\n          filter: url("#shadow-8");\n        }\n\n        :host(.keyboard) .curve.interactive:focus {\n          filter: url("#shadow-8");\n        }\n\n        .point.interactive {\n          cursor: nesw-resize;\n\n          filter: url("#shadow-2");\n          outline: none;\n\n          /* HACK: This gets Safari to correctly apply the filter! */\n          /* https://github.com/emilbjorklund/svg-weirdness/issues/27 */\n          stroke: #000000;\n          stroke-opacity: 0;\n          stroke-width: 0;\n        }\n\n        /* Make a larger target for touch users */\n        @media (pointer: coarse) {\n          .point.interactive .circle {\n            stroke: #000000;\n            stroke-opacity: 0;\n            stroke-width: 12px;\n          }\n        }\n\n        .point.interactive:hover {\n          filter: url("#shadow-4");\n\n          /* HACK: This gets Safari to correctly apply the filter! */\n          stroke: #ff0000;\n        }\n\n        .point.interactive:active {\n          filter: url("#shadow-8");\n\n          /* HACK: This gets Safari to correctly apply the filter! */\n          stroke: #00ff00;\n        }\n\n        :host(.keyboard) .point.interactive:focus {\n          filter: url("#shadow-8");\n\n          /* HACK: This gets Safari to correctly apply the filter! */\n          stroke: #0000ff;\n        }\n\n        .background {\n          fill: var(---color-element-background);\n          stroke: var(---color-element-border);\n          stroke-width: 1;\n          shape-rendering: crispEdges;\n        }\n\n        .title-x,\n        .title-y {\n          font-weight: 600;\n\n          fill: currentColor;\n        }\n\n        .tick {\n          font-size: 0.75rem;\n        }\n\n        .scale-x path,\n        .scale-x line,\n        .scale-y path,\n        .scale-y line {\n          stroke: var(---color-element-border);\n        }\n\n        .diagonal {\n          stroke: var(---color-element-border);\n          stroke-dasharray: 4;\n          stroke-width: 1;\n        }\n\n        .curve {\n          fill: none;\n          stroke: var(---color-element-emphasis);\n          stroke-width: 2;\n        }\n\n        .line-p,\n        .line-w {\n          fill: none;\n          stroke-width: 2;\n        }\n\n        .line-p {\n          stroke: var(---color-p);\n        }\n\n        .line-w {\n          stroke: var(---color-w);\n        }\n\n        .point .circle {\n          fill: var(---color-element-emphasis);\n\n          /* r: 6; HACK: Firefox does not support CSS SVG Geometry Properties */\n        }\n\n        .point .label {\n          font-size: 0.75rem;\n\n          dominant-baseline: middle;\n          text-anchor: middle;\n\n          fill: var(---color-text-inverse);\n        }\n      ']);return l=function(){return t},t}function u(){var t=c(["\n      ","\n    "]);return u=function(){return t},t}function c(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function v(t,e,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=b(n);return t=r?(t=b(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==a(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}t=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(g,i.default);var e=p(g);function g(){var t;return function(t){if(!(t instanceof g))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).firstUpdate=!0,t.drag=!1,t.lines=["all","first","rest","none"],t.line="first",t.points=["all","first","rest","none"],t.point="first",t.p=.75,t.g=.5,t.label="",t.locations=[{name:"default",p:t.p,g:t.g,label:""}],t.lineArray=[],t.pointArray=[],t.width=NaN,t.height=NaN,t.rem=NaN,t.alignState(),t}return h(g,null,[{key:"properties",get:function(){return{line:{attribute:"line",type:String,reflect:!0},point:{attribute:"point",type:String,reflect:!0},p:{attribute:"probability",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},w:{attribute:!1,type:Number,reflect:!1},width:{attribute:!1,type:Number,reflect:!1},height:{attribute:!1,type:Number,reflect:!1},rem:{attribute:!1,type:Number,reflect:!1}}}}]),h(g,[{key:"alignState",value:function(){var n=this;this.locations[0].p=this.p,this.locations[0].g=this.g,this.locations[0].label=this.label,this.w=y.default.pg2w(this.p,this.g),this.lineArray=[],this.pointArray=[],this.locations.forEach(function(t,e){t.w=y.default.pg2w(t.p,t.g),(0===e&&("first"===n.line||"all"===n.line)||0<e&&("rest"===n.line||"all"===n.line))&&n.lineArray.push(t),(0===e&&("first"===n.point||"all"===n.point)||0<e&&("rest"===n.point||"all"===n.point))&&n.pointArray.push(t)})}},{key:"set",value:function(t,e,n,r){var i=2<arguments.length&&void 0!==n?n:"default",n=3<arguments.length&&void 0!==r?r:"";"default"===i&&(this.p=t,this.g=e,this.label=n);r=this.locations.find(function(t){return t.name===i});void 0===r?this.locations.push({name:i,p:t,g:e,label:n}):(r.p=t,r.g=e,r.label=n),this.requestUpdate()}},{key:"render",value:function(){return(0,r.html)(u(),i.default.svgFilters)}},{key:"getDimensions",value:function(){this.width=parseFloat(this.getComputedStyleValue("width"),10),this.height=parseFloat(this.getComputedStyleValue("height"),10),this.rem=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("font-size"),10)}},{key:"connectedCallback",value:function(){v(b(g.prototype),"connectedCallback",this).call(this),window.addEventListener("resize",this.getDimensions.bind(this))}},{key:"disconnectedCallback",value:function(){window.removeEventListener("resize",this.getDimensions.bind(this)),v(b(g.prototype),"disconnectedCallback",this).call(this)}},{key:"firstUpdated",value:function(t){v(b(g.prototype),"firstUpdated",this).call(this,t),window.setTimeout(this.getDimensions.bind(this),0)}},{key:"update",value:function(t){var e,n,a,s,r,i,l,o,u,c,f,h,d,p=this;v(b(g.prototype),"update",this).call(this,t),this.alignState(),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem)||(o=this.width,d=this.height,e=(h=Math.min(o,d))-((u={top:2*this.rem,bottom:3*this.rem,left:3*this.rem,right:2*this.rem}).top+u.bottom),c=h-(u.left+u.right),n=parseInt(this.getComputedStyleValue("---transition-duration"),10),a=m.scaleLinear().domain([0,1]).range([0,c]),this.xScale=a,s=m.scaleLinear().domain([1,0]).range([0,e]),this.yScale=s,r=m.drag().subject(function(t,e){return{x:t.x,y:p.yScale(y.default.pg2w(p.xScale.invert(t.x),e.g)),p:p.xScale.invert(t.x),g:e.g,w:y.default.pg2w(p.xScale.invert(t.x),e.g)}}).on("start",function(t){t=t.currentTarget;m.select(t).classed("dragging",!0)}).on("drag",function(t,e){p.drag=!0;var n=p.xScale.invert(t.x),r=p.yScale.invert(t.y),i=n-t.subject.p,n=r-t.subject.w,r=Math.pow(Math.pow(i,2)+Math.pow(n,2),.5),r=t.subject.p>t.subject.w?n<i?t.subject.g-r:t.subject.g+r:n<i?t.subject.g+r:t.subject.g-r;e.g=1<r?1:r<0?0:r,"default"===e.name&&(p.g=e.g),p.alignState(),p.requestUpdate(),p.dispatchEvent(new CustomEvent("cpt-probability-change",{detail:{name:e.name,p:e.p,g:e.g,w:e.w,label:e.label},bubbles:!0}))}).on("end",function(t){t=t.currentTarget;m.select(t).classed("dragging",!1)}),i=m.drag().subject(function(t,e){return{x:p.xScale(e.p),y:p.yScale(e.w)}}).on("start",function(t){t=t.currentTarget;m.select(t).classed("dragging",!0)}).on("drag",function(t,e){p.drag=!0;t=p.xScale.invert(t.x);e.p=t<0?0:1<t?1:t,"default"===e.name&&(p.p=e.p),p.alignState(),p.requestUpdate(),p.dispatchEvent(new CustomEvent("cpt-probability-change",{detail:{name:e.name,p:e.p,g:e.g,w:e.w,label:e.label},bubbles:!0}))}).on("end",function(t){t=t.currentTarget;m.select(t).classed("dragging",!1)}),l=m.line().x(function(t){return a(t.p)}).y(function(t){return s(t.w)}),d=(o=(f=m.select(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}])).enter().append("svg").classed("main",!0)).merge(f).attr("viewBox","0 0 ".concat(h," ").concat(h)),f=o.append("g").classed("plot",!0),h=d.select(".plot").attr("transform","translate(".concat(u.left,", ").concat(u.top,")")),f.append("clipPath").attr("id","clip-cpt-value").append("rect"),h.select("clipPath rect").attr("height",1+e).attr("width",1+c),o=f.append("g").classed("underlayer",!0),d=h.select(".underlayer"),o.append("rect").classed("background",!0),d.select(".background").attr("height",e).attr("width",c),o.append("g").classed("scale-x",!0),d.select(".scale-x").attr("transform","translate(0, ".concat(e,")")).transition().duration(2*n).ease(m.easeCubicOut).call(m.axisBottom(a)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null),(u=o.append("text").classed("title-x",!0).attr("text-anchor","middle")).append("tspan").classed("name",!0).text("Probability ("),u.append("tspan").classed("math-var p",!0).text("p"),u.append("tspan").classed("name",!0).text(")"),d.select(".title-x").attr("transform","translate(".concat(c/2,", ").concat(e+2.25*this.rem,")")),o.append("g").classed("scale-y",!0),d.select(".scale-y").transition().duration(2*n).ease(m.easeCubicOut).call(m.axisLeft(s)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null),(c=o.append("text").classed("title-y",!0).attr("text-anchor","middle")).append("tspan").classed("name",!0).text("Decision Weight ("),c.append("tspan").classed("math-var v",!0).text("w"),c.append("tspan").classed("name",!0).text(")"),d.select(".title-y").attr("transform","translate(".concat(-2*this.rem,", ").concat(e/2,")rotate(-90)")),o.append("line").classed("diagonal",!0),d.select(".diagonal").transition().duration(2*n).attr("x1",a(0)).attr("y1",s(0)).attr("x2",a(1)).attr("y2",s(1)),f.append("g").classed("content",!0),(h=(f=(d=h.select(".content")).selectAll(".lines").data(this.pointArray,function(t){return t.name})).enter().append("g").classed("lines",!0)).append("line").classed("line-p",!0),h.append("line").classed("line-w",!0),(h=h.merge(f)).select(".line-p").transition().duration(this.drag?0:this.firstUpdate?2*n:n).ease(m.easeCubicOut).attr("x1",function(t){return"".concat(a(t.p))}).attr("x2",function(t){return"".concat(a(t.p))}).attr("y1",function(t){return"".concat(s(t.w))}).attr("y2",function(){return"".concat(s(0))}),h.select(".line-w").transition().duration(this.drag?0:this.firstUpdate?2*n:n).ease(m.easeCubicOut).attr("x1",function(t){return"".concat(a(t.p))}).attr("x2",function(){return"".concat(a(0))}).attr("y1",function(t){return"".concat(s(t.w))}).attr("y2",function(t){return"".concat(s(t.w))}),f.exit().remove(),f=(h=d.selectAll(".curve").data(this.lineArray,function(t){return t.name})).enter().append("path").classed("curve",!0).attr("clip-path","url(#clip-cpt-value)").merge(h),(this.firstUpdate||t.has("interactive"))&&(this.interactive?f.attr("tabindex",0).classed("interactive",!0).call(r).on("keydown",function(t,e){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){var n=e.g;switch(t.key){case"ArrowUp":case"ArrowLeft":n+=t.shiftKey?.01:.05;break;case"ArrowDown":case"ArrowRight":n-=t.shiftKey?.01:.05}(n=n<0?0:1<n?1:n)!==e.g&&(e.g=n,"default"===e.name&&(p.g=e.g),p.alignState(),p.requestUpdate(),p.dispatchEvent(new CustomEvent("cpt-probability-change",{detail:{name:e.name,p:e.p,g:e.g,w:e.w,label:e.label},bubbles:!0}))),t.preventDefault()}}):f.attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null)),f.transition().duration(this.drag?0:this.firstUpdate?2*n:n).ease(m.easeCubicOut).attrTween("d",function(t,e,n){var r=n[e],i=m.interpolate((void 0!==r.p?r:t).p,t.p),o=m.interpolate((void 0!==r.g?r:t).g,t.g);return function(t){r.p=i(t),r.g=o(t);t=m.range(a.range()[0],a.range()[1]+1,1).map(function(t){return{p:a.invert(t),w:y.default.pg2w(a.invert(t),r.g)}});return l(t)}}),h.exit().remove(),(d=(h=d.selectAll(".point").data(this.pointArray,function(t){return t.name})).enter().append("g").classed("point",!0)).append("circle").classed("circle",!0).attr("r",6),d.append("text").classed("label",!0),(d=d.merge(h)).select("text").text(function(t){return t.label}),(this.firstUpdate||t.has("interactive"))&&(this.interactive?d.attr("tabindex",0).classed("interactive",!0).call(i).on("keydown",function(t,e){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){var n=e.p;switch(t.key){case"ArrowUp":case"ArrowRight":n+=t.shiftKey?.01:.05;break;case"ArrowDown":case"ArrowLeft":n-=t.shiftKey?.01:.05}(n=n<0?0:1<n?1:n)!==e.p&&(e.p=n,"default"===e.name&&(p.p=e.p),p.alignState(),p.requestUpdate(),p.dispatchEvent(new CustomEvent("cpt-probability-change",{detail:{name:e.name,p:e.p,g:e.g,w:e.w,label:e.label},bubbles:!0}))),t.preventDefault()}}):d.attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null)),d.transition().duration(this.drag?0:this.firstUpdate?2*n:n).ease(m.easeCubicOut).attrTween("transform",function(t,e,n){var r=n[e],i=m.interpolate((void 0!==r.p?r:t).p,t.p),o=m.interpolate((void 0!==r.g?r:t).g,t.g);return function(t){return r.p=i(t),r.g=o(t),"translate(\n            ".concat(a(r.p),",\n            ").concat(s(y.default.pg2w(r.p,r.g)),"\n          )")}}),h.exit().remove(),this.drag=!1,this.firstUpdate=!1)}}],[{key:"styles",get:function(){return[v(b(g),"styles",this),(0,r.css)(l())]}}]),g}();n.default=t,customElements.define("cpt-probability",t)},{"../cpt-element":1049,"@decidable/prospectable-math":1062,d3:440,"lit-element":563}],1038:[function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("lit-element"),o=p(t("d3")),s=p(t("plotly.js/lib/core")),i=p(t("plotly.js/lib/isosurface")),l=p(t("plotly.js/lib/scatter3d")),u=h(t("@decidable/prospectable-math")),c=h(t("../cpt-element")),f=h(t("./plotly-style.auto"));function h(t){return t&&t.__esModule?t:{default:t}}function d(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return d=function(){return t},t}function p(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=d();if(e&&e.has(t))return e.get(t);var n,r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&((r=o?Object.getOwnPropertyDescriptor(t,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=t[n]);return i.default=t,e&&e.set(t,i),i}function g(){var t=y(["\n        :host {\n          display: inline-block;\n        }\n\n        .plotly {\n          height: 100%;\n\n          cursor: grab;\n        }\n\n        /* Plotly modebar styles */\n        /* Drawn from: https://github.com/plotly/plotly.js/blob/master/src/components/modebar/modebar.js */\n        .plotly:hover .modebar .modebar-group {\n          background-color: rgba(255, 255, 255, 0.5);\n        }\n\n        .modebar-btn .icon path {\n          fill: rgba(68, 68, 68, 0.3);\n        }\n\n        .modebar-btn:hover .icon path {\n          fill: rgba(68, 68, 68, 0.7);\n        }\n\n        .modebar-btn.active .icon path {\n          fill: rgba(68, 68, 68, 0.7);\n        }\n      "]);return g=function(){return t},t}function m(){var t=y(['\n      <div class="plotly"></div>\n    ']);return m=function(){return t},t}function y(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function v(t,e,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=k(n);return t=r?(t=k(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==a(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}s.register([i,l]);l=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(i,c.default);var e=w(i);function i(){var t;return function(t){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).firstUpdate=!0,t.surface=!0,t.points=!1,t.a=.8,t.l=1.2,t.g=.8,t.xl=0,t.xw=20,t.pw=.5,t.xs=10,t.range={},t.range.a={start:0,stop:1,step:.05},t.range.l={start:0,stop:10,step:.5},t.range.g={start:0,stop:1,step:.05},t.width=NaN,t.height=NaN,t.rem=NaN,t.parameterSpace=[],t.alignState(),t}return x(i,null,[{key:"properties",get:function(){return{surface:{attribute:"surface",type:Boolean,reflect:!0},points:{attribute:"points",type:Boolean,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0},width:{attribute:!1,type:Number,reflect:!1},height:{attribute:!1,type:Number,reflect:!1},rem:{attribute:!1,type:Number,reflect:!1}}}}]),x(i,[{key:"alignState",value:function(){var r=this;this.parameterSpace={a:[],l:[],g:[],uDiff:[]},o.range(this.range.a.start,this.range.a.stop+.01,this.range.a.step).forEach(function(n){o.range(r.range.l.start,r.range.l.stop+.01,r.range.l.step).forEach(function(e){o.range(r.range.g.start,r.range.g.stop+.01,r.range.g.step).forEach(function(t){r.parameterSpace.a.push(n),r.parameterSpace.l.push(e),r.parameterSpace.g.push(t);t=u.default.xal2v(r.xw,n,e)*u.default.pg2w(r.pw,t)+u.default.xal2v(r.xl,n,e)*(1-u.default.pg2w(r.pw,t))-u.default.xal2v(r.xs,n,e);r.parameterSpace.uDiff.push(t)})})})}},{key:"render",value:function(){return(0,r.html)(m())}},{key:"getDimensions",value:function(){this.width=parseFloat(this.getComputedStyleValue("width"),10),this.height=parseFloat(this.getComputedStyleValue("height"),10),this.rem=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("font-size"),10)}},{key:"connectedCallback",value:function(){v(k(i.prototype),"connectedCallback",this).call(this),window.addEventListener("resize",this.getDimensions.bind(this))}},{key:"disconnectedCallback",value:function(){window.removeEventListener("resize",this.getDimensions.bind(this)),v(k(i.prototype),"disconnectedCallback",this).call(this)}},{key:"firstUpdated",value:function(t){v(k(i.prototype),"firstUpdated",this).call(this,t),window.setTimeout(this.getDimensions.bind(this),0)}},{key:"update",value:function(t){var e,n,r;v(k(i.prototype),"update",this).call(this,t),this.alignState(),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem)||(e=this.getComputedStyleValue("---color-text"),r=this.getComputedStyleValue("---color-element-border"),n=this.getComputedStyleValue("---color-element-background"),t=this.getComputedStyleValue("---color-element-emphasis"),t=[{name:"Decision Boundary",type:"isosurface",x:this.parameterSpace.a,y:this.parameterSpace.l,z:this.parameterSpace.g,value:this.parameterSpace.uDiff,coloraxis:"coloraxis",isomin:0,isomax:0,opacity:.5},{name:"Difference in Subjective Utility",type:"isosurface",x:this.parameterSpace.a,y:this.parameterSpace.l,z:this.parameterSpace.g,value:this.parameterSpace.uDiff,caps:{x:{show:!1},y:{show:!1},z:{show:!1}},coloraxis:"coloraxis",isomin:-30,isomax:30,showscale:!1,slices:{x:{show:!0,locations:[this.range.a.stop]},y:{show:!0,locations:[this.range.l.stop]},z:{show:!0,locations:[this.range.g.start]}},surface:{show:!1}},{name:"Current Decision",type:"scatter3d",x:[this.a],y:[this.l],z:[this.g],mode:"markers",marker:{color:t}}],r={coloraxis:{cmin:-30,cmax:30,colorbar:{title:{font:{size:1.125*this.rem},text:"Difference in Utility (Gamble - Sure)",side:"right"},thickness:16,ypad:32},colorscale:[[0,"rgb(5,10,172)"],[.25,"rgb(5,10,172)"],[.425,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.55,"rgb(220,170,132)"],[.6,"rgb(230,145,90)"],[.75,"rgb(178,10,28)"],[1,"rgb(178,10,28)"]]},font:{family:'"Source Sans Pro", sans-serif',color:e},margin:{t:0,l:0,b:0},scene:{hovermode:!1,camera:{center:{x:0,y:.1,z:-.2},eye:{x:-2,y:-.8,z:.8}},xaxis:{mirror:!0,showbackground:!0,backgroundcolor:n,showgrid:!1,showspikes:!1,ticks:"outside",tickcolor:r,showline:!0,linecolor:r,zeroline:!1,range:[this.range.a.start,this.range.a.stop],title:{text:"alpha",font:{size:1.125*this.rem}}},yaxis:{mirror:!0,showbackground:!0,backgroundcolor:n,showgrid:!1,showspikes:!1,ticks:"outside",tickcolor:r,showline:!0,linecolor:r,zeroline:!1,range:[this.range.l.start,this.range.l.stop],title:{text:"lambda",font:{size:1.125*this.rem}}},zaxis:{mirror:!0,showbackground:!0,backgroundcolor:n,showgrid:!1,showspikes:!1,ticks:"outside",tickcolor:r,showline:!0,linecolor:r,zeroline:!1,range:[this.range.g.start,this.range.g.stop],title:{text:"gamma",font:{size:1.125*this.rem}}}},uirevision:!0},s.react(this.shadowRoot.querySelector(".plotly"),t,r,{displaylogo:!1,modeBarButtonsToRemove:["orbitRotation","resetCameraDefault3d","hoverClosest3d","toImage"],responsive:!0}),this.firstUpdate=!1)}}],[{key:"styles",get:function(){return[v(k(i),"styles",this),f.default,(0,r.css)(g())]}}]),i}();n.default=l,customElements.define("cpt-space",l)},{"../cpt-element":1049,"./plotly-style.auto":1048,"@decidable/prospectable-math":1062,d3:440,"lit-element":563,"plotly.js/lib/core":620,"plotly.js/lib/isosurface":622,"plotly.js/lib/scatter3d":623}],1039:[function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("lit-element"),y=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var o;Object.prototype.hasOwnProperty.call(t,n)&&((o=i?Object.getOwnPropertyDescriptor(t,n):null)&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3")),v=o(t("@decidable/prospectable-math")),i=o(t("../cpt-element"));function o(t){return t&&t.__esModule?t:{default:t}}function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(){var t=c(['\n        :host {\n          display: inline-block;\n        }\n\n        .main {\n          width: 100%;\n          height: 100%;\n        }\n\n        text {\n          /* stylelint-disable property-no-vendor-prefix */\n          -webkit-user-select: none;\n          -moz-user-select: none;\n          -ms-user-select: none;\n          user-select: none;\n        }\n\n        .curve-p.interactive,\n        .curve-n.interactive {\n          cursor: nwse-resize;\n\n          filter: url("#shadow-2");\n          outline: none;\n        }\n\n        .curve-p.interactive:hover,\n        .curve-n.interactive:hover {\n          filter: url("#shadow-4");\n        }\n\n        .curve-p.interactive:active,\n        .curve-n.interactive:active {\n          filter: url("#shadow-8");\n        }\n\n        :host(.keyboard) .curve-p.interactive:focus,\n        :host(.keyboard) .curve-n.interactive:focus {\n          filter: url("#shadow-8");\n        }\n\n        .point.interactive {\n          cursor: nesw-resize;\n\n          filter: url("#shadow-2");\n          outline: none;\n\n          /* HACK: This gets Safari to correctly apply the filter! */\n          /* https://github.com/emilbjorklund/svg-weirdness/issues/27 */\n          stroke: #000000;\n          stroke-opacity: 0;\n          stroke-width: 0;\n        }\n\n        /* Make a larger target for touch users */\n        @media (pointer: coarse) {\n          .point.interactive .circle {\n            stroke: #000000;\n            stroke-opacity: 0;\n            stroke-width: 12px;\n          }\n        }\n\n        .point.interactive:hover {\n          filter: url("#shadow-4");\n\n          /* HACK: This gets Safari to correctly apply the filter! */\n          stroke: #ff0000;\n        }\n\n        .point.interactive:active {\n          filter: url("#shadow-8");\n\n          /* HACK: This gets Safari to correctly apply the filter! */\n          stroke: #00ff00;\n        }\n\n        :host(.keyboard) .point.interactive:focus {\n          filter: url("#shadow-8");\n\n          /* HACK: This gets Safari to correctly apply the filter! */\n          stroke: #0000ff;\n        }\n\n        .background {\n          fill: var(---color-element-background);\n          stroke: var(---color-element-border);\n          stroke-width: 1;\n          shape-rendering: crispEdges;\n        }\n\n        .title-x,\n        .title-y {\n          font-weight: 600;\n\n          fill: currentColor;\n        }\n\n        .tick {\n          font-size: 0.75rem;\n        }\n\n        .scale-x path,\n        .scale-x line,\n        .scale-y path,\n        .scale-y line {\n          stroke: var(---color-element-border);\n        }\n\n        .axis-x,\n        .axis-y {\n          stroke: var(---color-element-border);\n          shape-rendering: crispEdges;\n        }\n\n        .diagonal {\n          stroke: var(---color-element-border);\n          stroke-dasharray: 4;\n          stroke-width: 1;\n        }\n\n        .curve-p,\n        .curve-n {\n          fill: none;\n          stroke: var(---color-element-emphasis);\n          stroke-width: 2;\n        }\n\n        .line-x,\n        .line-v {\n          fill: none;\n          stroke-width: 2;\n        }\n\n        .line-x {\n          stroke: var(---color-x);\n        }\n\n        .line-v {\n          stroke: var(---color-v);\n        }\n\n        .point .circle {\n          fill: var(---color-element-emphasis);\n\n          /* r: 6; HACK: Firefox does not support CSS SVG Geometry Properties */\n        }\n\n        .point .label {\n          font-size: 0.75rem;\n\n          dominant-baseline: middle;\n          text-anchor: middle;\n\n          fill: var(---color-text-inverse);\n        }\n      ']);return l=function(){return t},t}function u(){var t=c(["\n      ","\n    "]);return u=function(){return t},t}function c(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function b(t,e,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=x(n);return t=r?(t=x(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==a(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}t=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(m,i.default);var e=p(m);function m(){var t;return function(t){if(!(t instanceof m))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).firstUpdate=!0,t.drag=!1,t.lines=["all","first","rest","none"],t.line="first",t.points=["all","first","rest","none"],t.point="first",t.x=10,t.a=.5,t.l=2,t.label="",t.locations=[{name:"default",x:t.x,a:t.a,l:t.l,label:""}],t.lineArray=[],t.pointArray=[],t.width=NaN,t.height=NaN,t.rem=NaN,t.alignState(),t}return h(m,null,[{key:"properties",get:function(){return{line:{attribute:"line",type:String,reflect:!0},point:{attribute:"point",type:String,reflect:!0},x:{attribute:"value",type:Number,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},v:{attribute:!1,type:Number,reflect:!1},width:{attribute:!1,type:Number,reflect:!1},height:{attribute:!1,type:Number,reflect:!1},rem:{attribute:!1,type:Number,reflect:!1}}}}]),h(m,[{key:"alignState",value:function(){var n=this;this.locations[0].x=this.x,this.locations[0].a=this.a,this.locations[0].l=this.l,this.locations[0].label=this.label,this.v=v.default.xal2v(this.x,this.a,this.l),this.lineArray=[],this.pointArray=[],this.locations.forEach(function(t,e){t.v=v.default.xal2v(t.x,t.a,t.l),(0===e&&("first"===n.line||"all"===n.line)||0<e&&("rest"===n.line||"all"===n.line))&&n.lineArray.push(t),(0===e&&("first"===n.point||"all"===n.point)||0<e&&("rest"===n.point||"all"===n.point))&&n.pointArray.push(t)})}},{key:"get",value:function(t){var e=0<arguments.length&&void 0!==t?t:"default",t=this.locations.find(function(t){return t.name===e});return void 0===t?null:t}},{key:"set",value:function(t,e,n,r,i){var o=3<arguments.length&&void 0!==r?r:"default",r=4<arguments.length&&void 0!==i?i:"";"default"===o&&(this.x=t,this.a=e,this.l=n,this.label=r);i=this.locations.find(function(t){return t.name===o});void 0===i?this.locations.push({name:o,x:t,a:e,l:n,label:r}):(i.x=t,i.a=e,i.l=n,i.label=r),this.requestUpdate()}},{key:"render",value:function(){return(0,r.html)(u(),i.default.svgFilters)}},{key:"getDimensions",value:function(){this.width=parseFloat(this.getComputedStyleValue("width"),10),this.height=parseFloat(this.getComputedStyleValue("height"),10),this.rem=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("font-size"),10)}},{key:"connectedCallback",value:function(){b(x(m.prototype),"connectedCallback",this).call(this),window.addEventListener("resize",this.getDimensions.bind(this))}},{key:"disconnectedCallback",value:function(){window.removeEventListener("resize",this.getDimensions.bind(this)),b(x(m.prototype),"disconnectedCallback",this).call(this)}},{key:"firstUpdated",value:function(t){b(x(m.prototype),"firstUpdated",this).call(this,t),window.setTimeout(this.getDimensions.bind(this),0)}},{key:"update",value:function(t){var e,n,s,l,r,i,o,u,a,c,f,h,d,p,g=this;b(x(m.prototype),"update",this).call(this,t),this.alignState(),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem)||(a=this.width,p=this.height,e=(h=Math.min(a,p))-((c={top:2*this.rem,bottom:3*this.rem,left:3*this.rem,right:2*this.rem}).top+c.bottom),f=h-(c.left+c.right),n=parseInt(this.getComputedStyleValue("---transition-duration"),10),s=y.scaleLinear().domain([-20,20]).range([0,f]),this.xScale=s,l=y.scaleLinear().domain([20,-20]).range([0,e]),this.yScale=l,r=y.drag().subject(function(t,e){return{x:t.x,y:g.yScale(v.default.xal2v(g.xScale.invert(t.x),e.a,e.l))}}).on("start",function(t){t=t.currentTarget;y.select(t).classed("dragging",!0)}).on("drag",function(t,e){g.drag=!0;var n=g.xScale.invert(t.x),r=g.yScale.invert(t.y),t=v.default.xlv2a(n,e.l,r);e.a=Number.isNaN(t)||t<0||1<t||n<0||r<0?r<n?0:1:t,"default"===e.name&&(g.a=e.a),g.alignState(),g.requestUpdate(),g.dispatchEvent(new CustomEvent("cpt-value-change",{detail:{name:e.name,x:e.x,a:e.a,l:e.l,v:e.v,label:e.label},bubbles:!0}))}).on("end",function(t){t=t.currentTarget;y.select(t).classed("dragging",!1)}),i=y.drag().subject(function(t,e){return{x:t.x,y:g.yScale(v.default.xal2v(g.xScale.invert(t.x),e.a,e.l))}}).on("start",function(t){t=t.currentTarget;y.select(t).classed("dragging",!0)}).on("drag",function(t,e){g.drag=!0;var n=g.xScale.invert(t.x),r=g.yScale.invert(t.y),t=v.default.xav2l(n,e.a,r);e.l=Number.isNaN(t)||t<0||100<t||0<n||0<r?r<n?100:0:t,"default"===e.name&&(g.l=e.l),g.alignState(),g.requestUpdate(),g.dispatchEvent(new CustomEvent("cpt-value-change",{detail:{name:e.name,x:e.x,a:e.a,l:e.l,v:e.v,label:e.label},bubbles:!0}))}).on("end",function(t){t=t.currentTarget;y.select(t).classed("dragging",!1)}),o=y.drag().subject(function(t,e){return{x:g.xScale(e.x),y:g.yScale(e.v)}}).on("start",function(t){t=t.currentTarget;y.select(t).classed("dragging",!0)}).on("drag",function(t,e){g.drag=!0;t=g.xScale.invert(t.x);e.x=t<-20?-20:20<t?20:t,"default"===e.name&&(g.x=e.x),g.alignState(),g.requestUpdate(),g.dispatchEvent(new CustomEvent("cpt-value-change",{detail:{name:e.name,x:e.x,a:e.a,l:e.l,v:e.v,label:e.label},bubbles:!0}))}).on("end",function(t){t=t.currentTarget;y.select(t).classed("dragging",!1)}),u=y.line().x(function(t){return s(t.x)}).y(function(t){return l(t.v)}),p=(a=(d=y.select(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}])).enter().append("svg").classed("main",!0)).merge(d).attr("viewBox","0 0 ".concat(h," ").concat(h)),d=a.append("g").classed("plot",!0),h=p.select(".plot").attr("transform","translate(".concat(c.left,", ").concat(c.top,")")),d.append("clipPath").attr("id","clip-cpt-value").append("rect"),h.select("clipPath rect").attr("height",1+e).attr("width",1+f),a=d.append("g").classed("underlayer",!0),p=h.select(".underlayer"),a.append("rect").classed("background",!0),p.select(".background").attr("height",e).attr("width",f),a.append("g").classed("scale-x",!0),p.select(".scale-x").attr("transform","translate(0, ".concat(l(-20),")")).transition().duration(2*n).ease(y.easeCubicOut).call(y.axisBottom(s)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null),a.append("line").classed("axis-x",!0),p.select(".axis-x").transition().duration(n).ease(y.easeCubicOut).attr("x1",s(-20)).attr("x2",s(20)).attr("y1",l(0)).attr("y2",l(0)),(c=a.append("text").classed("title-x",!0).attr("text-anchor","middle")).append("tspan").classed("name",!0).text("Objective Value ("),c.append("tspan").classed("math-var x",!0).text("x"),c.append("tspan").classed("name",!0).text(")"),p.select(".title-x").attr("transform","translate(".concat(f/2,", ").concat(e+2.25*this.rem,")")),a.append("g").classed("scale-y",!0),p.select(".scale-y").transition().duration(2*n).ease(y.easeCubicOut).call(y.axisLeft(l)).attr("font-size",null).attr("font-family",null).selectAll("line, path").attr("stroke",null),a.append("line").classed("axis-y",!0),p.select(".axis-y").transition().duration(n).ease(y.easeCubicOut).attr("x1",s(0)).attr("x2",s(0)).attr("y1",l(20)).attr("y2",l(-20)),(f=a.append("text").classed("title-y",!0).attr("text-anchor","middle")).append("tspan").classed("name",!0).text("Subjective Value ("),f.append("tspan").classed("math-var v",!0).text("v"),f.append("tspan").classed("name",!0).text(")"),p.select(".title-y").attr("transform","translate(".concat(-2*this.rem,", ").concat(e/2,")rotate(-90)")),a.append("line").classed("diagonal",!0),p.select(".diagonal").transition().duration(2*n).ease(y.easeCubicOut).attr("x1",s(-20)).attr("y1",l(-20)).attr("x2",s(20)).attr("y2",l(20)),d.append("g").classed("content",!0),(h=(d=(p=h.select(".content")).selectAll(".lines").data(this.pointArray,function(t){return t.name})).enter().append("g").classed("lines",!0)).append("line").classed("line-x",!0),h.append("line").classed("line-v",!0),(h=h.merge(d)).select(".line-x").transition().duration(this.drag?0:this.firstUpdate?2*n:n).ease(y.easeCubicOut).attr("x1",function(t){return"".concat(s(t.x))}).attr("x2",function(t){return"".concat(s(t.x))}).attr("y1",function(t){return"".concat(l(t.v))}).attr("y2",function(){return"".concat(l(-20))}),h.select(".line-v").transition().duration(this.drag?0:this.firstUpdate?2*n:n).ease(y.easeCubicOut).attr("x1",function(t){return"".concat(s(t.x))}).attr("x2",function(){return"".concat(s(-20))}).attr("y1",function(t){return"".concat(l(t.v))}).attr("y2",function(t){return"".concat(l(t.v))}),d.exit().remove(),d=(h=p.selectAll(".curve-p").data(this.lineArray,function(t){return t.name})).enter().append("path").classed("curve-p",!0).attr("clip-path","url(#clip-cpt-value)").merge(h),(this.firstUpdate||t.has("interactive"))&&(this.interactive?d.attr("tabindex",0).classed("interactive",!0).call(r).on("keydown",function(t,e){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){var n=e.a;switch(t.key){case"ArrowUp":case"ArrowLeft":n+=t.shiftKey?.01:.05;break;case"ArrowDown":case"ArrowRight":n-=t.shiftKey?.01:.05}(n=n<0?0:1<n?1:n)!==e.a&&(e.a=n,"default"===e.name&&(g.a=e.a),g.alignState(),g.requestUpdate(),g.dispatchEvent(new CustomEvent("cpt-value-change",{detail:{name:e.name,x:e.x,a:e.a,l:e.l,v:e.v,label:e.label},bubbles:!0}))),t.preventDefault()}}):d.attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null)),d.transition().duration(this.drag?0:this.firstUpdate?2*n:n).ease(y.easeCubicOut).attrTween("d",function(t,e,n){var r=n[e],i=y.interpolate((void 0!==r.x?r:t).x,t.x),o=y.interpolate((void 0!==r.a?r:t).a,t.a),a=y.interpolate((void 0!==r.l?r:t).l,t.l);return function(t){r.x=i(t),r.a=o(t),r.l=a(t);t=y.range(s(0),s.range()[1]+1,1).map(function(t){return{x:s.invert(t),v:v.default.xal2v(s.invert(t),r.a,r.l)}});return u(t)}}),h.exit().remove(),h=(d=p.selectAll(".curve-n").data(this.lineArray,function(t){return t.name})).enter().append("path").classed("curve-n",!0).attr("clip-path","url(#clip-cpt-value)").merge(d),(this.firstUpdate||t.has("interactive"))&&(this.interactive?h.attr("tabindex",0).classed("interactive",!0).call(i).on("keydown",function(t,e){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){var n=e.l;switch(t.key){case"ArrowUp":case"ArrowLeft":n-=t.shiftKey?.01:.05;break;case"ArrowDown":case"ArrowRight":n+=t.shiftKey?.01:.05}(n=n<0?0:100<n?100:n)!==e.l&&(e.l=n,"default"===e.name&&(g.l=e.l),g.alignState(),g.requestUpdate(),g.dispatchEvent(new CustomEvent("cpt-value-change",{detail:{name:e.name,x:e.x,a:e.a,l:e.l,v:e.v,label:e.label},bubbles:!0}))),t.preventDefault()}}):h.attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null)),h.transition().duration(this.drag?0:this.firstUpdate?2*n:n).ease(y.easeCubicOut).attrTween("d",function(t,e,n){var r=n[e],i=y.interpolate((void 0!==r.x?r:t).x,t.x),o=y.interpolate((void 0!==r.a?r:t).a,t.a),a=y.interpolate((void 0!==r.l?r:t).l,t.l);return function(t){r.x=i(t),r.a=o(t),r.l=a(t);t=y.range(s.range()[0],s(0)+1,1).map(function(t){return{x:s.invert(t),v:v.default.xal2v(s.invert(t),r.a,r.l)}});return u(t)}}),d.exit().remove(),(p=(d=p.selectAll(".point").data(this.pointArray,function(t){return t.name})).enter().append("g").classed("point",!0)).append("circle").classed("circle",!0).attr("r",6),p.append("text").classed("label",!0),(p=p.merge(d)).select("text").text(function(t){return t.label}),(this.firstUpdate||t.has("interactive"))&&(this.interactive?p.attr("tabindex",0).classed("interactive",!0).call(o).on("keydown",function(t,e){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){var n=e.x;switch(t.key){case"ArrowUp":case"ArrowRight":n+=t.shiftKey?.01:.05;break;case"ArrowDown":case"ArrowLeft":n-=t.shiftKey?.01:.05}(n=n<-20?-20:20<n?20:n)!==e.x&&(e.x=n,"default"===e.name&&(g.x=e.x),g.alignState(),g.requestUpdate(),g.dispatchEvent(new CustomEvent("cpt-value-change",{detail:{name:e.name,x:e.x,a:e.a,l:e.l,v:e.v,label:e.label},bubbles:!0}))),t.preventDefault()}}):p.attr("tabindex",null).classed("interactive",!1).on("drag",null).on("keydown",null)),p.transition().duration(this.drag?0:this.firstUpdate?2*n:n).ease(y.easeCubicOut).attrTween("transform",function(t,e,n){var r=n[e],i=y.interpolate((void 0!==r.x?r:t).x,t.x),o=y.interpolate((void 0!==r.a?r:t).a,t.a),a=y.interpolate((void 0!==r.l?r:t).l,t.l);return function(t){return r.x=i(t),r.a=o(t),r.l=a(t),"translate(\n            ".concat(s(r.x),",\n            ").concat(l(v.default.xal2v(r.x,r.a,r.l)),"\n          )")}}),d.exit().remove(),this.drag=!1,this.firstUpdate=!1)}}],[{key:"styles",get:function(){return[b(x(m),"styles",this),(0,r.css)(l())]}}]),m}();n.default=t,customElements.define("cpt-value",t)},{"../cpt-element":1049,"@decidable/prospectable-math":1062,d3:440,"lit-element":563}],1040:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=t("lit-element"),a=(r=t("../cpt-element"))&&r.__esModule?r:{default:r};function s(){var t=h(["\n        :host {\n          display: inline-block;\n        }\n\n        .holder {\n          user-select: none;\n        }\n\n        .holder > * {\n          vertical-align: middle;\n        }\n\n        .query {\n          margin: 0 0.5rem;\n\n          font-family: var(--font-family-code);\n          font-size: 1.75rem;\n        }\n\n        decision-option {\n          width: 10rem;\n          height: 10rem;\n        }\n      "]);return s=function(){return t},t}function l(){var t=h(["\n              <decision-outcome ?interactive=",' probability="1" value="','" name="sure"></decision-outcome>']);return l=function(){return t},t}function u(){var t=h(["∙"]);return u=function(){return t},t}function c(){var t=h(['\n              <decision-outcome probability="','" value="','" name="loss"></decision-outcome>\n              <decision-outcome ?interactive=',' probability="','" value="','" name="win"></decision-outcome>']);return c=function(){return t},t}function f(){var t=h(['\n      <div class="holder">\n        <decision-option ?interactive='," @decision-outcome-change=",">\n          ",'\n        </decision-option><span class="query"\n         >',"</span\n        ><decision-option ?interactive="," @decision-outcome-change=",">\n          ","\n        </decision-option>\n      </div>"]);return f=function(){return t},t}function h(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function d(t,e,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=v(n);return t=r?(t=v(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(n,a.default);var e=y(n);function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).states=["choice","fixation","blank"],t.state="choice",t.xl=0,t.xw=100,t.pw=.75,t.xs=50,t}return g(n,null,[{key:"properties",get:function(){return{state:{attribute:"state",type:String,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0}}}}]),g(n,[{key:"sendEvent",value:function(){this.dispatchEvent(new CustomEvent("decision-choice-change",{detail:{xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs},bubbles:!0}))}},{key:"winChange",value:function(t){this.xw=parseFloat(t.detail.x),this.pw=parseFloat(t.detail.p),this.sendEvent()}},{key:"sureChange",value:function(t){this.xs=parseFloat(t.detail.x),this.sendEvent()}},{key:"render",value:function(){return(0,o.html)(f(),this.interactive,this.winChange.bind(this),"choice"===this.state?(0,o.html)(c(),1-this.pw,this.xl,this.interactive,this.pw,this.xw):"","choice"===this.state?"?":"fixation"===this.state?"+":(0,o.html)(u()),this.interactive,this.sureChange.bind(this),"choice"===this.state?(0,o.html)(l(),this.interactive,this.xs):"")}}],[{key:"styles",get:function(){return[d(v(n),"styles",this),(0,o.css)(s())]}}]),n}();n.default=b,customElements.define("decision-choice",b)},{"../cpt-element":1049,"lit-element":563}],1041:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("lit-element");t("@decidable/decidable-elements");var o,a=(o=t("../cpt-element"))&&o.__esModule?o:{default:o};function s(){var t=b(["\n        :host {\n          display: inline-block;\n        }\n\n        .holder {\n          display: flex;\n\n          flex-direction: row;\n\n          align-items: stretch;\n          justify-content: center;\n        }\n\n        .buttons {\n          display: flex;\n\n          flex-direction: column;\n\n          align-items: stretch;\n          justify-content: center;\n        }\n      "]);return s=function(){return t},t}function l(){var t=b([""]);return l=function(){return t},t}function u(){var t=b(['<decidable-button name="reset" ?disabled='," @click=",">Reset</decidable-button>"]);return u=function(){return t},t}function c(){var t=b([""]);return c=function(){return t},t}function f(){var t=b(['<decidable-button name="pause" ?disabled='," @click=",">Pause</decidable-button>"]);return f=function(){return t},t}function h(){var t=b([""]);return h=function(){return t},t}function d(){var t=b(['<decidable-button name="run" ?disabled='," @click=",">Run</decidable-button>"]);return d=function(){return t},t}function p(){var t=b([""]);return p=function(){return t},t}function g(){var t=b(['<decidable-slider min="10" max="4000" step="10" .value='," @change="," @input=",">Duration</decidable-slider>"]);return g=function(){return t},t}function m(){var t=b([""]);return m=function(){return t},t}function y(){var t=b(['<decidable-slider min="1" max="100" step="1" .value='," @change="," @input=",">Trials</decidable-slider>"]);return y=function(){return t},t}function v(){var t=b(['\n      <div class="holder">\n        ',"\n        ",'\n        <div class="buttons">\n          ',"\n          ","\n          ","\n        </div>\n      </div>"]);return v=function(){return t},t}function b(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function x(t,e,n){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=M(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),t}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=M(n);return t=r?(t=M(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var A=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(n,a.default);var e=T(n);function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).trials=void 0,t.duration=void 0,t.run=!1,t.pause=!1,t.reset=!1,t.states=["resetted","running","paused","ended"],t.state="resetted",t}return w(n,null,[{key:"properties",get:function(){return{trials:{attribute:"trials",type:Number,reflect:!0},duration:{attribute:"duration",type:Number,reflect:!0},run:{attribute:"run",type:Boolean,reflect:!0},pause:{attribute:"pause",type:Boolean,reflect:!0},reset:{attribute:"reset",type:Boolean,reflect:!0},state:{atribute:!1,type:String,reflect:!1}}}}]),w(n,[{key:"setTrials",value:function(t){this.trials=t.target.value,this.dispatchEvent(new CustomEvent("decision-control-trials",{detail:{trials:this.trials},bubbles:!0}))}},{key:"setDuration",value:function(t){this.duration=t.target.value,this.dispatchEvent(new CustomEvent("sdt-control-duration",{detail:{duration:this.duration},bubbles:!0}))}},{key:"doRun",value:function(){this.state="running",this.dispatchEvent(new CustomEvent("decision-control-run",{detail:{},bubbles:!0}))}},{key:"doPause",value:function(){this.state="paused",this.dispatchEvent(new CustomEvent("decision-control-pause",{detail:{},bubbles:!0}))}},{key:"doReset",value:function(){this.state="resetted",this.dispatchEvent(new CustomEvent("decision-control-reset",{detail:{},bubbles:!0}))}},{key:"complete",value:function(){this.state="ended"}},{key:"render",value:function(){return(0,r.html)(v(),this.trials?(0,r.html)(y(),this.trials,this.setTrials.bind(this),this.setTrials.bind(this)):(0,r.html)(m()),this.duration?(0,r.html)(g(),this.duration,this.setDuration.bind(this),this.setDuration.bind(this)):(0,r.html)(p()),this.run?(0,r.html)(d(),"running"===this.state||"ended"===this.state,this.doRun.bind(this)):(0,r.html)(h()),this.pause?(0,r.html)(f(),"running"!==this.state,this.doPause.bind(this)):(0,r.html)(c()),this.reset?(0,r.html)(u(),"resetted"===this.state,this.doReset.bind(this)):(0,r.html)(l()))}}],[{key:"styles",get:function(){return[x(M(n),"styles",this),(0,r.css)(s())]}}]),n}();n.default=A,customElements.define("decision-control",A)},{"../cpt-element":1049,"@decidable/decidable-elements":1028,"lit-element":563}],1042:[function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=t("lit-element"),d=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var o;Object.prototype.hasOwnProperty.call(t,n)&&((o=i?Object.getOwnPropertyDescriptor(t,n):null)&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3")),o=(r=t("../cpt-element"))&&r.__esModule?r:{default:r};function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(){var t=c(['\n        :host {\n          display: inline-block;\n        }\n\n        .main {\n          width: 100%;\n          height: 100%;\n          overflow: visible;\n        }\n\n        .outline {\n          fill: var(---color-element-background);\n          stroke: var(---color-element-emphasis);\n          stroke-width: 2;\n        }\n\n        .arc {\n          stroke: var(---color-element-emphasis);\n          stroke-width: 2;\n        }\n\n        .arc.interactive {\n          cursor: move;\n\n          filter: url("#shadow-2");\n          outline: none;\n        }\n\n        .arc.interactive:hover {\n          filter: url("#shadow-4");\n        }\n\n        .arc.interactive:active {\n          filter: url("#shadow-8");\n        }\n\n        :host(.keyboard) .arc.interactive:focus {\n          filter: url("#shadow-8");\n        }\n\n        .arc.win {\n          fill: var(---color-better-light);\n        }\n\n        .arc.loss {\n          fill: var(---color-worse-light);\n        }\n\n        .arc.sure {\n          fill: var(---color-even-light);\n        }\n\n        .label.static {\n          font-size: 1.75rem;\n\n          user-select: none;\n\n          dominant-baseline: middle;\n          text-anchor: middle;\n        }\n\n        .label.interactive {\n          --decidable-spinner-font-size: 1.75rem;\n          --decidable-spinner-input-width: 4rem;\n          --decidable-spinner-prefix: "$";\n\n          width: var(--decidable-spinner-input-width);\n          height: calc(var(--decidable-spinner-font-size) * 1.5);\n          overflow: visible;\n          x: calc(var(--decidable-spinner-input-width) / -2);\n          y: calc(var(--decidable-spinner-font-size) * 1.5 / -2);\n        }\n\n        .label.interactive.win decidable-spinner {\n          background-color: var(---color-better-light);\n        }\n\n        .label.interactive.loss decidable-spinner {\n          background-color: var(---color-worse-light);\n        }\n\n        .label.interactive.sure decidable-spinner {\n          background-color: var(---color-even-light);\n        }\n      ']);return l=function(){return t},t}function u(){var t=c(["\n      ","\n      <slot></slot>\n    "]);return u=function(){return t},t}function c(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=v(n);return t=r?(t=v(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==a(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(h,o.default);var e=y(h);function h(){var t;return function(t){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).width=NaN,t.height=NaN,t.rem=NaN,t}return g(h,null,[{key:"properties",get:function(){return{width:{attribute:!1,type:Number,reflect:!1},height:{attribute:!1,type:Number,reflect:!1},rem:{attribute:!1,type:Number,reflect:!1}}}}]),g(h,[{key:"render",value:function(){return(0,i.html)(u(),o.default.svgFilters)}},{key:"getDimensions",value:function(){this.width=parseFloat(this.getComputedStyleValue("width"),10),this.height=parseFloat(this.getComputedStyleValue("height"),10),this.rem=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("font-size"),10)}},{key:"connectedCallback",value:function(){var e=this;p(v(h.prototype),"connectedCallback",this).call(this),window.addEventListener("resize",this.getDimensions.bind(this)),this.observer=new MutationObserver(function(t){t.some(function(t){return"childList"===t.type||"attributes"===t.type&&t.target!==e})&&e.requestUpdate()}),this.observer.observe(this,{subtree:!0,childList:!0,attributes:!0})}},{key:"disconnectedCallback",value:function(){this.observer.disconnect(),window.removeEventListener("resize",this.getDimensions.bind(this)),p(v(h.prototype),"disconnectedCallback",this).call(this)}},{key:"firstUpdated",value:function(t){p(v(h.prototype),"firstUpdated",this).call(this,t),window.setTimeout(this.getDimensions.bind(this),0)}},{key:"update",value:function(t){var n,r,i,o,e,a,s,l,u,c=this;function f(t){t=(t+2*Math.PI)%(2*Math.PI);return t>Math.PI?t-2*Math.PI:t<-Math.PI?t+2*Math.PI:t}p(v(h.prototype),"update",this).call(this,t),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem)||(s=this.width,a=this.height,u=Math.min(s,a),r=n=u-(0+0),l=(i=this.querySelectorAll("decision-outcome")).length?-i[0].p:0,t=(o=d.pie().startAngle(l*Math.PI-Math.PI).endAngle(l*Math.PI+Math.PI).sortValues(null).value(function(t){return t.p})(i)).filter(function(t){return!t.data.interactive}),e=o.filter(function(t){return t.data.interactive}),s=d.drag().subject(function(t,e){e=f((e.endAngle+e.startAngle)/2),t=f(Math.atan2(t.y,t.x)+Math.PI/2);return i.forEach(function(t){t.startP=t.p}),{arcAngle:e,startAngle:f(t-e)}}).on("start",function(t){t=t.currentTarget;d.select(t).classed("dragging",!0)}).on("drag",function(t,e){var n=f(Math.atan2(t.y,t.x)+Math.PI/2),n=f(n-t.subject.arcAngle),n=f(0<t.subject.startAngle?n-t.subject.startAngle:t.subject.startAngle-n)/Math.PI,n=e.data.startP+n,r=.99<n?.99:n<.01?.01:n;i.forEach(function(t){t.p=t===e.data?r:t.startP/(1-e.data.startP)*(1-r)}),c.dispatchEvent(new CustomEvent("decision-outcome-change",{detail:{x:e.data.x,p:e.data.p,name:e.data.name},bubbles:!0}))}).on("end",function(t){t=t.currentTarget;d.select(t).classed("dragging",!1)}),u=(l=(a=d.select(this.renderRoot).selectAll(".main").data([{width:this.width,height:this.height,rem:this.rem}])).enter().append("svg").classed("main",!0)).merge(a).attr("viewBox","0 0 ".concat(u," ").concat(u)),l=l.append("g").classed("pie",!0),u=u.select(".pie").attr("transform","translate(".concat(r/2,", ").concat(n/2,")")),l.append("circle").classed("outline",!0),u.select(".outline").attr("r",Math.min(r,n)/2-1),(l=u.selectAll(".arc").data(o)).enter().append("path").call(s).merge(l).attr("tabindex",function(t){return e.includes(t)&&1<o.length?0:null}).attr("class",function(t){return"arc ".concat(t.data.name)}).classed("interactive",function(t){return e.includes(t)&&1<o.length}).attr("d",d.arc().innerRadius(0).outerRadius(Math.min(r,n)/2-1)),l.exit().remove(),s=u.selectAll(".label.static").data(t),l=u.selectAll(".label.interactive").data(e),t=s.enter().append("text"),(u=l.enter().append("foreignObject")).append("xhtml:decidable-spinner").on("input",function(t,e){e.data.x=parseFloat(t.target.value),c.dispatchEvent(new CustomEvent("decision-outcome-change",{detail:{x:e.data.x,p:e.data.p,name:e.data.name},bubbles:!0}))}),t.merge(s).attr("class",function(t){return"label static ".concat(t.data.name)}).attr("transform",function(t){if(1===o.length)return"translate(0, 0)";var e=Math.min(r,n)/2*.6,e=d.arc().innerRadius(e).outerRadius(e);return"translate(".concat(e.centroid(t),")")}).text(function(t){return"$".concat(t.data.x.toFixed(0))}),u.merge(l).attr("class",function(t){return"label interactive ".concat(t.data.name)}).attr("transform",function(t){if(1===o.length)return"translate(0, 0)";var e=Math.min(r,n)/2*.6,e=d.arc().innerRadius(e).outerRadius(e);return"translate(".concat(e.centroid(t),")")}).select("decidable-spinner").attr("value",function(t){return"".concat(t.data.x.toFixed(0))}),s.exit().remove(),l.exit().remove())}}],[{key:"styles",get:function(){return[p(v(h),"styles",this),(0,i.css)(l())]}}]),h}();n.default=h,customElements.define("decision-option",h)},{"../cpt-element":1049,d3:440,"lit-element":563}],1043:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=t("lit-element"),a=(r=t("../cpt-element"))&&r.__esModule?r:{default:r};function s(){var t=u(["\n        :host {\n          display: none;\n        }\n      "]);return s=function(){return t},t}function l(){var t=u([""]);return l=function(){return t},t}function u(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=p(n);return t=r?(t=p(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(n,a.default);var e=d(n);function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).x=0,t.p=0,t.name="",t}return f(n,null,[{key:"properties",get:function(){return{x:{attribute:"value",type:Number,reflect:!0},p:{attribute:"probability",type:Number,reflect:!0},name:{attribute:"name",type:String,reflect:!0}}}}]),f(n,[{key:"render",value:function(){return(0,o.html)(l())}}],[{key:"styles",get:function(){return[(0,o.css)(s())]}}]),n}();n.default=g,customElements.define("decision-outcome",g)},{"../cpt-element":1049,"lit-element":563}],1044:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("lit-element");t("@decidable/decidable-elements");var o,a=(o=t("../cpt-element"))&&o.__esModule?o:{default:o};function s(){var t=M(['\n        :host {\n          display: inline-block;\n        }\n\n        /* Overall container */\n        .holder {\n          display: flex;\n\n          flex-direction: column;\n        }\n\n        /* Trial messages */\n        .trials {\n          display: flex;\n\n          flex-direction: column;\n\n          justify-content: center;\n        }\n\n        .trial {\n          text-align: center;\n        }\n\n        .trial .label {\n          font-weight: 600;\n        }\n\n        /* Response buttons */\n        .responses {\n          display: flex;\n\n          flex-direction: row;\n\n          align-items: stretch;\n          justify-content: center;\n        }\n\n        .response {\n          width: 5.25rem;\n        }\n\n        .waiting[disabled] {\n          --decidable-button-background-color: var(---color-element-enabled);\n        }\n\n        .selected[disabled][name="gamble"] {\n          --decidable-button-background-color: var(---color-worse);\n        }\n\n        .selected[disabled][name="sure"] {\n          --decidable-button-background-color: var(---color-better);\n        }\n\n        /* Feedback messages */\n        .feedbacks {\n          display: flex;\n\n          flex-direction: row;\n\n          justify-content: center;\n        }\n\n        /* Outcome feedback */\n        .feedback {\n          display: flex;\n\n          flex-direction: column;\n\n          align-items: center;\n          justify-content: center;\n\n          width: 5.25rem;\n          height: 3.5rem;\n          padding: 0.375rem 0.75rem;\n          margin: 0.25rem;\n\n          text-align: center;\n\n          background-color: var(---color-element-background);\n          border: 1px solid var(---color-element-border);\n        }\n\n        .feedback.better {\n          background-color: var(---color-better-light);\n        }\n\n        .feedback.worse {\n          background-color: var(---color-worse-light);\n        }\n\n        .feedback.even {\n          background-color: var(---color-even-light);\n        }\n\n        .feedback.nr {\n          background-color: var(---color-nr-light);\n        }\n\n        .feedback .outcome {\n          font-weight: 600;\n          line-height: 1.15;\n        }\n\n        :host([payoff="selection"]) .feedback,\n        :host([payoff="both"]) .feedback {\n          height: 4rem;\n        }\n\n        /* Payoff feedback */\n        .payoff {\n          text-align: center;\n        }\n\n        .payoff .label {\n          font-weight: 600;\n        }\n      ']);return s=function(){return t},t}function l(){var t=M([""]);return l=function(){return t},t}function u(){var t=M([""]);return u=function(){return t},t}function c(){var t=M(['<span class="payoff">'," ","</span>"]);return c=function(){return t},t}function f(){var t=M(['<span class="outcome">No<br>Response</span>']);return f=function(){return t},t}function h(){var t=M(['<span class="outcome">Even</span>']);return h=function(){return t},t}function d(){var t=M(['<span class="outcome">Worse</span>']);return d=function(){return t},t}function p(){var t=M(['<span class="outcome">Better</span>']);return p=function(){return t},t}function g(){var t=M([""]);return g=function(){return t},t}function m(){var t=M(['<span class="payoff">'," ","</span>"]);return m=function(){return t},t}function y(){var t=M(['<span class="outcome">No<br>Response</span>']);return y=function(){return t},t}function v(){var t=M(['<span class="outcome">Even</span>']);return v=function(){return t},t}function b(){var t=M(['<span class="outcome">Worse</span>']);return b=function(){return t},t}function x(){var t=M(['<span class="outcome">Better</span>']);return x=function(){return t},t}function _(){var t=M(['\n            <div class="feedbacks">\n              <div class="feedback gamble\n                ','">\n                ',"\n                ",'\n              </div>\n              <div class="feedback sure\n                ','">\n                ',"\n                ","\n              </div>\n            </div>"]);return _=function(){return t},t}function w(){var t=M([""]);return w=function(){return t},t}function k(){var t=M(['\n            <div class="trials">\n              <div class="trial">\n                <span class="label">Trial: </span><span class="count">','</span><span class="of"> of </span><span class="total">',"</span>\n              </div>\n            </div>"]);return k=function(){return t},t}function T(){var t=M(['\n      <div class="holder">\n        ','\n        <div class="responses">\n          <decidable-button name="gamble" class="response ','" ?disabled='," @click=",'>Gamble</decidable-button>\n          <decidable-button name="sure" class="response ','" ?disabled='," @click=",">Sure</decidable-button>\n        </div>\n        ","\n      </div>"]);return T=function(){return t},t}function M(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function A(t,e,n){return(A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t,e,n){return e&&S(t.prototype,e),n&&S(t,n),t}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=j(n);return t=r?(t=j(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(n,a.default);var e=O(n);function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).feedbacks=["none","outcome"],t.feedback="none",t.trial=!1,t.payoffs=["none","selection","both"],t.payoff="none",t.states=["off","waiting","feedback"],t.state="off",t.trialCount=0,t.trialTotal=0,t.xl=0,t.xw=0,t.pw=0,t.xs=0,t.gamblePayoff=0,t.surePayoff=0,t.nrPayoff=0,t.betters=["gamble","sure","even"],t.better=void 0,t.responses=["gamble","sure","nr"],t.response=void 0,t.outcomes=["better","worse","even","nr"],t.outcome=void 0,t}return E(n,null,[{key:"properties",get:function(){return{feedback:{attribute:"feedback",type:String,reflect:!0},trial:{attribute:"trial",type:Boolean,reflect:!0},payoff:{attribute:"payoff",type:String,reflect:!0},state:{attribute:!1,type:String,reflect:!1},trialCount:{attribute:!1,type:Number,reflect:!1},trialTotal:{attribute:!1,type:Number,reflect:!1}}}}]),E(n,[{key:"start",value:function(t,e,n,r,i,o,a,s){this.state="waiting",this.xl=t,this.xw=e,this.pw=n,this.xs=r,this.gamblePayoff=i,this.surePayoff=o,this.better=a,this.trialCount=s,this.response=void 0,this.outcome=void 0}},{key:"stop",value:function(){this.state="feedback",void 0===this.response&&(this.outcome="nr")}},{key:"gamble",value:function(){this.responded("gamble")}},{key:"sure",value:function(){this.responded("sure")}},{key:"responded",value:function(t){this.state="feedback",this.response=t,this.outcome="even"===this.better?"even":this.better===this.response?"better":"worse",this.dispatchEvent(new CustomEvent("decision-response",{detail:{trial:this.trialCount,better:this.better,gamblePayoff:this.gamblePayoff,surePayoff:this.surePayoff,xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,response:this.response,outcome:this.outcome,payoff:this.trialPayoff},bubbles:!0}))}},{key:"reset",value:function(){this.state="off",this.trialCount=0,this.better=void 0,this.gamblePayoff=0,this.surePayoff=0,this.response=void 0,this.outcome=void 0}},{key:"render",value:function(){return(0,r.html)(T(),this.trial?(0,r.html)(k(),this.trialCount,this.trialTotal):(0,r.html)(w()),"feedback"===this.state&&"gamble"===this.response?"selected":"waiting"===this.state?"waiting":"","waiting"!==this.state||!0!==this.interactive,this.gamble.bind(this),"feedback"===this.state&&"sure"===this.response?"selected":"waiting"===this.state?"waiting":"","waiting"!==this.state||!0!==this.interactive,this.sure.bind(this),"none"!==this.feedback||"none"!==this.payoff?(0,r.html)(_(),"feedback"===this.state&&"outcome"===this.feedback&&"gamble"===this.response?this.outcome:"","feedback"===this.state&&"outcome"===this.feedback&&"gamble"===this.response?"better"===this.outcome?(0,r.html)(x()):"worse"===this.outcome?(0,r.html)(b()):"even"===this.outcome?(0,r.html)(v()):(0,r.html)(y()):"","both"!==this.payoff&&"selection"!==this.payoff||"gamble"!==this.response?(0,r.html)(g()):(0,r.html)(m(),"gamble"===this.response?"Win:":"Miss:",this.trialPayoff),"feedback"===this.state&&"outcome"===this.feedback&&"sure"===this.response?this.outcome:"","feedback"===this.state&&"outcome"===this.feedback&&"sure"===this.response?"better"===this.outcome?(0,r.html)(p()):"worse"===this.outcome?(0,r.html)(d()):"even"===this.outcome?(0,r.html)(h()):(0,r.html)(f()):"","both"!==this.payoff&&"selection"!==this.payoff||"sure"!==this.response?(0,r.html)(u()):(0,r.html)(c(),"sure"===this.response?"Win:":"Miss:",this.trialPayoff)):(0,r.html)(l()))}},{key:"trialPayoff",get:function(){switch(this.response){case"gamble":return this.gamblePayoff;case"sure":return this.surePayoff;case"nr":return this.nrPayoff;default:return}}}],[{key:"styles",get:function(){return[A(j(n),"styles",this),(0,r.css)(s())]}}]),n}();n.default=P,customElements.define("decision-response",P)},{"../cpt-element":1049,"@decidable/decidable-elements":1028,"lit-element":563}],1045:[function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("lit-element"),i=p(t("d3")),u=p(t("plotly.js/lib/core")),o=p(t("plotly.js/lib/isosurface")),s=p(t("plotly.js/lib/scatter3d")),c=l(t("@decidable/prospectable-math")),f=l(t("../cpt-element")),h=l(t("./plotly-style.auto"));function l(t){return t&&t.__esModule?t:{default:t}}function d(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return d=function(){return t},t}function p(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=d();if(e&&e.has(t))return e.get(t);var n,r,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&((r=o?Object.getOwnPropertyDescriptor(t,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=t[n]);return i.default=t,e&&e.set(t,i),i}function g(){var t=y(["\n        :host {\n          display: inline-block;\n        }\n\n        .plotly {\n          height: 100%;\n\n          cursor: grab;\n        }\n\n        /* Plotly modebar styles */\n        /* Drawn from: https://github.com/plotly/plotly.js/blob/master/src/components/modebar/modebar.js */\n        .plotly:hover .modebar .modebar-group {\n          background-color: rgba(255, 255, 255, 0.5);\n        }\n\n        .modebar-btn .icon path {\n          fill: rgba(68, 68, 68, 0.3);\n        }\n\n        .modebar-btn:hover .icon path {\n          fill: rgba(68, 68, 68, 0.7);\n        }\n\n        .modebar-btn.active .icon path {\n          fill: rgba(68, 68, 68, 0.7);\n        }\n      "]);return g=function(){return t},t}function m(){var t=y(['\n      <div class="plotly"></div>\n    ']);return m=function(){return t},t}function y(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function v(t,e,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=k(n);return t=r?(t=k(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==a(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}u.register([o,s]);s=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(l,f.default);var e=w(l);function l(){var t;return function(t){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).firstUpdate=!0,t.surface=!0,t.points=["all","first","rest","none"],t.point="first",t.a=.8,t.l=1.2,t.g=.8,t.xl=0,t.xw=20,t.pw=.5,t.xs=10,t.response="",t.label="",t.choices=[{name:"default",xw:t.xw,pw:t.pw,xs:t.xs,response:t.response,label:""}],t.GAMBLE=0,t.SURE=1,t.NR=.25,t.DEFAULT=.75,t.pointList=[],t.range={},t.range.xs={start:5,stop:15,step:.5},t.range.xw={start:10,stop:30,step:1},t.range.pw={start:0,stop:1,step:.05},t.width=NaN,t.height=NaN,t.rem=NaN,t.decisionSpace=[],t.alignState(),t}return x(l,null,[{key:"properties",get:function(){return{surface:{attribute:"surface",type:Boolean,reflect:!0},point:{attribute:"point",type:String,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0},width:{attribute:!1,type:Number,reflect:!1},height:{attribute:!1,type:Number,reflect:!1},rem:{attribute:!1,type:Number,reflect:!1}}}}]),x(l,[{key:"alignState",value:function(){var r=this;this.choices[0].name="default",this.choices[0].xw=this.xw,this.choices[0].pw=this.pw,this.choices[0].xs=this.xs,this.choices[0].response=this.response,this.choices[0].label=this.label,this.pointList={xw:[],pw:[],xs:[],response:[],label:[]},this.choices.forEach(function(t,e){(0===e&&("first"===r.point||"all"===r.point)||0<e&&("rest"===r.point||"all"===r.point))&&(r.pointList.xw.push(t.xw),r.pointList.pw.push(t.pw),r.pointList.xs.push(t.xs),r.pointList.response.push("gamble"===t.response?r.GAMBLE:"sure"===t.response?r.SURE:"nr"===t.response?r.NR:r.DEFAULT),r.pointList.label.push(t.label))}),this.decisionSpace={xs:[],xw:[],pw:[],uDiff:[]},i.range(this.range.xs.start,this.range.xs.stop+.01,this.range.xs.step).forEach(function(n){i.range(r.range.xw.start,r.range.xw.stop+.01,r.range.xw.step).forEach(function(e){i.range(r.range.pw.start,r.range.pw.stop+.01,r.range.pw.step).forEach(function(t){r.decisionSpace.xs.push(n),r.decisionSpace.xw.push(e),r.decisionSpace.pw.push(t);t=c.default.xal2v(e,r.a,r.l)*c.default.pg2w(t,r.g)+c.default.xal2v(r.xl,r.a,r.l)*(1-c.default.pg2w(t,r.g))-c.default.xal2v(n,r.a,r.l);r.decisionSpace.uDiff.push(t)})})})}},{key:"clear",value:function(){this.choices=[{}],this.requestUpdate()}},{key:"get",value:function(t){var e=0<arguments.length&&void 0!==t?t:"default",t=this.choices.find(function(t){return t.name===e});return void 0===t?null:t}},{key:"set",value:function(t,e,n,r,i,o){var a=4<arguments.length&&void 0!==i?i:"default",i=5<arguments.length&&void 0!==o?o:"";"default"===a&&(this.xw=t,this.pw=e,this.xs=n,this.response=r,this.label=i);o=this.choices.find(function(t){return t.name===a});void 0===o?this.choices.push({name:a,xw:t,pw:e,xs:n,response:r,label:i}):(o.xw=t,o.pw=e,o.xs=n,o.response=r,o.label=i),this.requestUpdate()}},{key:"render",value:function(){return(0,r.html)(m())}},{key:"getDimensions",value:function(){this.width=parseFloat(this.getComputedStyleValue("width"),10),this.height=parseFloat(this.getComputedStyleValue("height"),10),this.rem=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("font-size"),10)}},{key:"connectedCallback",value:function(){v(k(l.prototype),"connectedCallback",this).call(this),window.addEventListener("resize",this.getDimensions.bind(this))}},{key:"disconnectedCallback",value:function(){window.removeEventListener("resize",this.getDimensions.bind(this)),v(k(l.prototype),"disconnectedCallback",this).call(this)}},{key:"firstUpdated",value:function(t){v(k(l.prototype),"firstUpdated",this).call(this,t),window.setTimeout(this.getDimensions.bind(this),0)}},{key:"update",value:function(t){var e,n,r,i,o,a,s;v(k(l.prototype),"update",this).call(this,t),this.alignState(),Number.isNaN(this.width)||Number.isNaN(this.height)||Number.isNaN(this.rem)||(e=this.getComputedStyleValue("---color-text"),s=this.getComputedStyleValue("---color-element-border"),n=this.getComputedStyleValue("---color-element-background"),r=this.getComputedStyleValue("---color-worse"),i=this.getComputedStyleValue("---color-better"),o=this.getComputedStyleValue("---color-nr"),a=this.getComputedStyleValue("---color-element-emphasis"),t=[],this.surface&&t.push({name:"Decision Boundary",type:"isosurface",x:this.decisionSpace.xs,y:this.decisionSpace.xw,z:this.decisionSpace.pw,value:this.decisionSpace.uDiff,coloraxis:"coloraxis",isomin:0,isomax:0,opacity:.5},{name:"Difference in Subjective Utility",type:"isosurface",x:this.decisionSpace.xs,y:this.decisionSpace.xw,z:this.decisionSpace.pw,value:this.decisionSpace.uDiff,caps:{x:{show:!1},y:{show:!1},z:{show:!1}},coloraxis:"coloraxis",isomin:-30,isomax:30,showscale:!1,slices:{x:{show:!0,locations:[this.range.xs.stop]},y:{show:!0,locations:[this.range.xw.stop]},z:{show:!0,locations:[this.range.pw.start]}},surface:{show:!1}}),t.push({name:"Current Decision",type:"scatter3d",x:this.pointList.xs,y:this.pointList.xw,z:this.pointList.pw,mode:"markers",marker:{color:this.pointList.response,coloraxis:"coloraxis2"}}),s={coloraxis:{cmin:-30,cmax:30,colorbar:{title:{font:{size:1.125*this.rem},text:"Difference in Utility (Gamble - Sure)",side:"right"},thickness:16,ypad:32},colorscale:[[0,"rgb(5,10,172)"],[.25,"rgb(5,10,172)"],[.425,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.55,"rgb(220,170,132)"],[.6,"rgb(230,145,90)"],[.75,"rgb(178,10,28)"],[1,"rgb(178,10,28)"]]},coloraxis2:{cmin:0,cmax:1,colorscale:[[0,r],[.01,r],[.24,o],[.26,o],[.74,a],[.76,a],[.99,i],[1,i]],showscale:!1},font:{family:'"Source Sans Pro", sans-serif',color:e},margin:{t:0,l:0,b:0},scene:{hovermode:!1,camera:{center:{x:0,y:.1,z:-.2},eye:{x:-2,y:-.8,z:.8}},xaxis:{mirror:!0,showbackground:!0,backgroundcolor:n,showgrid:!1,showspikes:!1,ticks:"outside",tickcolor:s,showline:!0,linecolor:s,zeroline:!1,range:[this.range.xs.start,this.range.xs.stop],title:{text:"Sure Value",font:{size:1.125*this.rem}}},yaxis:{mirror:!0,showbackground:!0,backgroundcolor:n,showgrid:!1,showspikes:!1,ticks:"outside",tickcolor:s,showline:!0,linecolor:s,zeroline:!1,range:[this.range.xw.start,this.range.xw.stop],title:{text:"Win Value",font:{size:1.125*this.rem}}},zaxis:{mirror:!0,showbackground:!0,backgroundcolor:n,showgrid:!1,showspikes:!1,ticks:"outside",tickcolor:s,showline:!0,linecolor:s,zeroline:!1,range:[this.range.pw.start,this.range.pw.stop],title:{text:"Win Probability",font:{size:1.125*this.rem}}}},uirevision:!0},u.react(this.shadowRoot.querySelector(".plotly"),t,s,{displaylogo:!1,modeBarButtonsToRemove:["orbitRotation","resetCameraDefault3d","hoverClosest3d","toImage"],responsive:!0}),this.firstUpdate=!1)}}],[{key:"styles",get:function(){return[v(k(l),"styles",this),h.default,(0,r.css)(g())]}}]),l}();n.default=s,customElements.define("decision-space",s)},{"../cpt-element":1049,"./plotly-style.auto":1048,"@decidable/prospectable-math":1062,d3:440,"lit-element":563,"plotly.js/lib/core":620,"plotly.js/lib/isosurface":622,"plotly.js/lib/scatter3d":623}],1046:[function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=t("lit-element"),o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var o;Object.prototype.hasOwnProperty.call(t,n)&&((o=i?Object.getOwnPropertyDescriptor(t,n):null)&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3")),s=(r=t("../cpt-element"))&&r.__esModule?r:{default:r};function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function u(){var t=f(["\n        :host {\n          display: inline-block;\n        }\n      "]);return u=function(){return t},t}function c(){var t=f(['\n      <div class="holder">\n        <decision-choice state="','" probability="','" win="','" loss="','" sure="','"></decision-choice>\n      </div>']);return c=function(){return t},t}function f(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=y(n);return t=r?(t=y(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==a(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(n,s.default);var e=m(n);function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).duration=2e3,t.iti=2e3,t.trials=5,t.running=!1,t.states=["resetted","iti","stimulus","ended"],t.state="resetted",t.range={},t.range.xl={start:0,stop:0,step:1},t.range.xw={start:10,stop:30,step:1},t.range.pw={start:.1,stop:.9,step:.1},t.range.xs={start:5,stop:15,step:1},t.range.xl.values=o.range(t.range.xl.start,t.range.xl.stop+.01,t.range.xl.step),t.range.xw.values=o.range(t.range.xw.start,t.range.xw.stop+.01,t.range.xw.step),t.range.pw.values=o.range(t.range.pw.start,t.range.pw.stop+.01,t.range.pw.step),t.range.xs.values=o.range(t.range.xs.start,t.range.xs.stop+.01,t.range.xs.step),t.xl=0,t.xw=0,t.pw=0,t.xs=0,t.trial=0,t.baseTime=0,t.pauseTime=0,t.startTime=0,t.lastTime=0,t.runner=void 0,t}return p(n,null,[{key:"properties",get:function(){return{duration:{attribute:"duration",type:Number,reflect:!0},iti:{attribute:"iti",type:Number,reflect:!0},trials:{attribute:"trials",type:Number,reflect:!0},running:{attribute:"running",type:Boolean,reflect:!0},state:{attribute:!1,type:String,reflect:!1}}}}]),p(n,[{key:"render",value:function(){return(0,i.html)(c(),"stimulus"===this.state?"choice":"iti"===this.state?"fixation":"blank",this.pw,this.xw,this.xl,this.xs)}},{key:"update",value:function(t){h(y(n.prototype),"update",this).call(this,t),t.has("running")&&(this.running?(this.pauseTime&&(this.baseTime+=o.now()-this.pauseTime,this.pauseTime=0),this.runner=o.interval(this.run.bind(this),20)):void 0!==this.runner&&(this.runner.stop(),this.pauseTime=o.now()))}},{key:"reset",value:function(){this.runner.stop(),this.running=!1,this.trial=0,this.state="resetted",this.xl=0,this.xw=0,this.pw=0,this.xs=0,this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0}},{key:"run",value:function(){var t=o.now(),e=this.baseTime?t-this.baseTime:0,n=this.baseTime?e-this.startTime:0;this.lastTime=e,"resetted"===this.state?(this.state="iti",this.baseTime=t,this.startTime=0,this.dispatchEvent(new CustomEvent("decision-block-start",{detail:{trials:this.trials},bubbles:!0}))):"iti"===this.state&&n>=this.iti?(this.trial+=1,this.state="stimulus",this.startTime=e,this.xl=this.range.xl.values[Math.floor(Math.random()*this.range.xl.values.length)],this.xw=this.range.xw.values[Math.floor(Math.random()*this.range.xw.values.length)],this.pw=this.range.pw.values[Math.floor(Math.random()*this.range.pw.values.length)],this.xs=this.range.xs.values[Math.floor(Math.random()*this.range.xs.values.length)],this.vDiff=this.xw*this.pw+this.xl*(1-this.pw)-this.xs,this.gamblePayoff=Math.random()<this.pw?this.xw:this.xl,this.surePayoff=this.xs,this.better=0<this.vDiff?"gamble":this.vDiff<0?"sure":"equal",this.dispatchEvent(new CustomEvent("decision-trial-start",{detail:{trials:this.trials,duration:this.duration,iti:this.iti,trial:this.trial,xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,better:this.better,gamblePayoff:this.gamblePayoff,surePayoff:this.surePayoff},bubbles:!0}))):"stimulus"===this.state&&n>=this.duration&&(this.dispatchEvent(new CustomEvent("decision-trial-end",{detail:{trials:this.trials,duration:this.duration,iti:this.iti,trial:this.trial,xl:this.xl,xw:this.xw,pw:this.pw,xs:this.xs,better:this.better,gamblePayoff:this.gamblePayoff,surePayoff:this.surePayoff},bubbles:!0})),this.trial>=this.trials?(this.runner.stop(),this.running=!1,this.state="ended",this.baseTime=0,this.pauseTime=0,this.startTime=0,this.lastTime=0,this.dispatchEvent(new CustomEvent("decision-block-end",{detail:{trials:this.trial},bubbles:!0}))):(this.state="iti",this.startTime=e))}}],[{key:"styles",get:function(){return[h(y(n),"styles",this),(0,i.css)(u())]}}]),n}();n.default=v,customElements.define("decision-task",v)},{"../cpt-element":1049,d3:440,"lit-element":563}],1047:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CPTCalculation",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"CPTFit",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"CPTProbability",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"CPTSpace",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"CPTValue",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"DecisionChoice",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"DecisionControl",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"DecisionOption",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"DecisionOutcome",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(n,"DecisionResponse",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"DecisionSpace",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"DecisionTask",{enumerable:!0,get:function(){return p.default}});var r=g(t("./cpt-calculation")),i=g(t("./cpt-fit")),o=g(t("./cpt-probability")),a=g(t("./cpt-space")),s=g(t("./cpt-value")),l=g(t("./decision-choice")),u=g(t("./decision-control")),c=g(t("./decision-option")),f=g(t("./decision-outcome")),h=g(t("./decision-response")),d=g(t("./decision-space")),p=g(t("./decision-task"));function g(t){return t&&t.__esModule?t:{default:t}}},{"./cpt-calculation":1034,"./cpt-fit":1036,"./cpt-probability":1037,"./cpt-space":1038,"./cpt-value":1039,"./decision-choice":1040,"./decision-control":1041,"./decision-option":1042,"./decision-outcome":1043,"./decision-response":1044,"./decision-space":1045,"./decision-task":1046}],1048:[function(t,e,n){"use strict";function r(){var t=function(t,e){e=e||t.slice(0);return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n  /* inject:css */\n  .js-plotly-plot .plotly, .js-plotly-plot .plotly div {\n  direction: ltr;\n  font-family: "Open Sans", verdana, arial, sans-serif;\n  margin: 0;\n  padding: 0;\n}\n.js-plotly-plot .plotly input, .js-plotly-plot .plotly button {\n  font-family: "Open Sans", verdana, arial, sans-serif;\n}\n.js-plotly-plot .plotly input:focus, .js-plotly-plot .plotly button:focus {\n  outline: none;\n}\n.js-plotly-plot .plotly a {\n  text-decoration: none;\n}\n.js-plotly-plot .plotly a:hover {\n  text-decoration: none;\n}\n.js-plotly-plot .plotly .crisp {\n  shape-rendering: crispEdges;\n}\n.js-plotly-plot .plotly .user-select-none {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\n.js-plotly-plot .plotly svg {\n  overflow: hidden;\n}\n.js-plotly-plot .plotly svg a {\n  fill: #447adb;\n}\n.js-plotly-plot .plotly svg a:hover {\n  fill: #3c6dc5;\n}\n.js-plotly-plot .plotly .main-svg {\n  position: absolute;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n}\n.js-plotly-plot .plotly .main-svg .draglayer {\n  pointer-events: all;\n}\n.js-plotly-plot .plotly .cursor-default {\n  cursor: default;\n}\n.js-plotly-plot .plotly .cursor-pointer {\n  cursor: pointer;\n}\n.js-plotly-plot .plotly .cursor-crosshair {\n  cursor: crosshair;\n}\n.js-plotly-plot .plotly .cursor-move {\n  cursor: move;\n}\n.js-plotly-plot .plotly .cursor-col-resize {\n  cursor: col-resize;\n}\n.js-plotly-plot .plotly .cursor-row-resize {\n  cursor: row-resize;\n}\n.js-plotly-plot .plotly .cursor-ns-resize {\n  cursor: ns-resize;\n}\n.js-plotly-plot .plotly .cursor-ew-resize {\n  cursor: ew-resize;\n}\n.js-plotly-plot .plotly .cursor-sw-resize {\n  cursor: sw-resize;\n}\n.js-plotly-plot .plotly .cursor-s-resize {\n  cursor: s-resize;\n}\n.js-plotly-plot .plotly .cursor-se-resize {\n  cursor: se-resize;\n}\n.js-plotly-plot .plotly .cursor-w-resize {\n  cursor: w-resize;\n}\n.js-plotly-plot .plotly .cursor-e-resize {\n  cursor: e-resize;\n}\n.js-plotly-plot .plotly .cursor-nw-resize {\n  cursor: nw-resize;\n}\n.js-plotly-plot .plotly .cursor-n-resize {\n  cursor: n-resize;\n}\n.js-plotly-plot .plotly .cursor-ne-resize {\n  cursor: ne-resize;\n}\n.js-plotly-plot .plotly .cursor-grab {\n  cursor: -webkit-grab;\n  cursor: grab;\n}\n.js-plotly-plot .plotly .modebar {\n  position: absolute;\n  top: 2px;\n  right: 2px;\n}\n.js-plotly-plot .plotly .ease-bg {\n  -webkit-transition: background-color 0.3s ease 0s;\n  -moz-transition: background-color 0.3s ease 0s;\n  -ms-transition: background-color 0.3s ease 0s;\n  -o-transition: background-color 0.3s ease 0s;\n  transition: background-color 0.3s ease 0s;\n}\n.js-plotly-plot .plotly .modebar--hover > :not(.watermark) {\n  opacity: 0;\n  -webkit-transition: opacity 0.3s ease 0s;\n  -moz-transition: opacity 0.3s ease 0s;\n  -ms-transition: opacity 0.3s ease 0s;\n  -o-transition: opacity 0.3s ease 0s;\n  transition: opacity 0.3s ease 0s;\n}\n.js-plotly-plot .plotly:hover .modebar--hover .modebar-group {\n  opacity: 1;\n}\n.js-plotly-plot .plotly .modebar-group {\n  float: left;\n  display: inline-block;\n  box-sizing: border-box;\n  padding-left: 8px;\n  position: relative;\n  vertical-align: middle;\n  white-space: nowrap;\n}\n.js-plotly-plot .plotly .modebar-btn {\n  position: relative;\n  font-size: 16px;\n  padding: 3px 4px;\n  height: 22px;\n  /* display: inline-block; including this breaks 3d interaction in .embed mode. Chrome bug? */\n  cursor: pointer;\n  line-height: normal;\n  box-sizing: border-box;\n}\n.js-plotly-plot .plotly .modebar-btn svg {\n  position: relative;\n  top: 2px;\n}\n.js-plotly-plot .plotly .modebar.vertical {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  align-content: flex-end;\n  max-height: 100%;\n}\n.js-plotly-plot .plotly .modebar.vertical svg {\n  top: -1px;\n}\n.js-plotly-plot .plotly .modebar.vertical .modebar-group {\n  display: block;\n  float: none;\n  padding-left: 0px;\n  padding-bottom: 8px;\n}\n.js-plotly-plot .plotly .modebar.vertical .modebar-group .modebar-btn {\n  display: block;\n  text-align: center;\n}\n.js-plotly-plot .plotly [data-title] {\n  /**\n   * tooltip body\n   */\n}\n.js-plotly-plot .plotly [data-title]:before, .js-plotly-plot .plotly [data-title]:after {\n  position: absolute;\n  -webkit-transform: translate3d(0, 0, 0);\n  -moz-transform: translate3d(0, 0, 0);\n  -ms-transform: translate3d(0, 0, 0);\n  -o-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  display: none;\n  opacity: 0;\n  z-index: 1001;\n  pointer-events: none;\n  top: 110%;\n  right: 50%;\n}\n.js-plotly-plot .plotly [data-title]:hover:before, .js-plotly-plot .plotly [data-title]:hover:after {\n  display: block;\n  opacity: 1;\n}\n.js-plotly-plot .plotly [data-title]:before {\n  content: "";\n  position: absolute;\n  background: transparent;\n  border: 6px solid transparent;\n  z-index: 1002;\n  margin-top: -12px;\n  border-bottom-color: #69738a;\n  margin-right: -6px;\n}\n.js-plotly-plot .plotly [data-title]:after {\n  content: attr(data-title);\n  background: #69738a;\n  color: white;\n  padding: 8px 10px;\n  font-size: 12px;\n  line-height: 12px;\n  white-space: nowrap;\n  margin-right: -18px;\n  border-radius: 2px;\n}\n.js-plotly-plot .plotly .vertical [data-title]:before, .js-plotly-plot .plotly .vertical [data-title]:after {\n  top: 0%;\n  right: 200%;\n}\n.js-plotly-plot .plotly .vertical [data-title]:before {\n  border: 6px solid transparent;\n  border-left-color: #69738a;\n  margin-top: 8px;\n  margin-right: -30px;\n}\n.js-plotly-plot .plotly .select-outline {\n  fill: none;\n  stroke-width: 1;\n  shape-rendering: crispEdges;\n}\n.js-plotly-plot .plotly .select-outline-1 {\n  stroke: white;\n}\n.js-plotly-plot .plotly .select-outline-2 {\n  stroke: black;\n  stroke-dasharray: 2px 2px;\n}\n\n.plotly-notifier {\n  font-family: "Open Sans", verdana, arial, sans-serif;\n  position: fixed;\n  top: 50px;\n  right: 20px;\n  z-index: 10000;\n  font-size: 10pt;\n  max-width: 180px;\n}\n.plotly-notifier p {\n  margin: 0;\n}\n.plotly-notifier .notifier-note {\n  min-width: 180px;\n  max-width: 250px;\n  border: 1px solid #fff;\n  z-index: 3000;\n  margin: 0;\n  background-color: #8c97af;\n  background-color: rgba(140, 151, 175, 0.9);\n  color: #fff;\n  padding: 10px;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  -ms-hyphens: auto;\n  -webkit-hyphens: auto;\n  hyphens: auto;\n}\n.plotly-notifier .notifier-close {\n  color: #fff;\n  opacity: 0.8;\n  float: right;\n  padding: 0 5px;\n  background: none;\n  border: none;\n  font-size: 20px;\n  font-weight: bold;\n  line-height: 20px;\n}\n.plotly-notifier .notifier-close:hover {\n  color: #444;\n  text-decoration: none;\n  cursor: pointer;\n}\n  /* endinject */\n']);return r=function(){return t},t}Object.defineProperty(n,"__esModule",{value:!0});t=(n.default=void 0,t("lit-element").css)(r());n.default=t},{"lit-element":563}],1049:[function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("lit-element"),i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var o;Object.prototype.hasOwnProperty.call(t,n)&&((o=i?Object.getOwnPropertyDescriptor(t,n):null)&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3")),o=t("@decidable/decidable-elements");function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(){var t=function(t,e){e=e||t.slice(0);return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n        :host {\n          ---color-x: var(--color-x, ",");\n          ---color-a: var(--color-a, ",");\n          ---color-l: var(--color-l, ",");\n          ---color-v: var(--color-v, ",");\n          ---color-p: var(--color-p, ",");\n          ---color-g: var(--color-g, ",");\n          ---color-w: var(--color-w, ",");\n          ---color-u: var(--color-u, ",");\n          ---color-chosen: var(--color-chosen, ",");\n          ---color-better: var(--color-better, ",");\n          ---color-worse: var(--color-worse, ",");\n          ---color-even: var(--color-even, ",");\n          ---color-correct: var(--color-correct, ",");\n          ---color-error: var(--color-error, ",");\n          ---color-nr: var(--color-nr, ",");\n\n          ---color-x-light: var(--color-x-light, ",");\n          ---color-a-light: var(--color-a-light, ",");\n          ---color-l-light: var(--color-l-light, ",");\n          ---color-v-light: var(--color-v-light, ",");\n          ---color-p-light: var(--color-p-light, ",");\n          ---color-g-light: var(--color-g-light, ",");\n          ---color-w-light: var(--color-w-light, ",");\n          ---color-u-light: var(--color-u-light, ",");\n          ---color-chosen-light: var(--color-chosen-light, ",");\n          ---color-better-light: var(--color-better-light, ",");\n          ---color-worse-light: var(--color-worse-light, ",");\n          ---color-even-light: var(--color-even-light, ",");\n          ---color-correct-light: var(--color-correct-light, ",");\n          ---color-error-light: var(--color-error-light, ",");\n          ---color-nr-light: var(--color-nr-light, ",");\n\n          ---color-x-dark: var(--color-x-dark, ",");\n          ---color-a-dark: var(--color-a-dark, ",");\n          ---color-l-dark: var(--color-l-dark, ",");\n          ---color-v-dark: var(--color-v-dark, ",");\n          ---color-p-dark: var(--color-p-dark, ",");\n          ---color-g-dark: var(--color-g-dark, ",");\n          ---color-w-dark: var(--color-w-dark, ",");\n          ---color-u-dark: var(--color-u-dark, ",");\n          ---color-chosen-dark: var(--color-chosen-dark, ",");\n          ---color-better-dark: var(--color-better-dark, ",");\n          ---color-worse-dark: var(--color-worse-dark, ",");\n          ---color-even-dark: var(--color-even-dark, ",");\n          ---color-correct-dark: var(--color-correct-dark, ",");\n          ---color-error-dark: var(--color-error-dark, ",");\n          ---color-nr-dark: var(--color-nr-dark, ",");\n        }\n      "]);return l=function(){return t},t}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=p(n);return t=r?(t=p(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==a(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}t=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(n,o.DecidableElement);var e=d(n);function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).interactive=!1,t}return f(n,null,[{key:"properties",get:function(){return{interactive:{attribute:"interactive",type:Boolean,reflect:!0}}}}]),f(n,null,[{key:"colors",get:function(){return{x:i.schemeSet1[1],a:i.schemeSet1[5],l:i.schemeSet1[6],v:i.schemeSet1[8],p:i.schemeSet1[2],g:i.schemeSet1[3],w:i.schemeSet1[4],u:i.schemeSet1[7],chosen:i.schemeSet1[9],better:"#4545d0",worse:"#f032e6",even:"#10dbc9",correct:"#ffffff",error:"#000000",nr:"#cccccc"}}},{key:"lights",get:function(){return Object.keys(n.colors).reduce(function(t,e){return t[e]=i.interpolateRgb(n.colors[e],"#ffffff")(.5),t},{})}},{key:"darks",get:function(){return Object.keys(n.colors).reduce(function(t,e){return t[e]=i.interpolateRgb(n.colors[e],"#000000")(.5),t},{})}},{key:"styles",get:function(){return[u(p(n),"styles",this),(0,r.css)(l(),(0,r.unsafeCSS)(this.colors.x),(0,r.unsafeCSS)(this.colors.a),(0,r.unsafeCSS)(this.colors.l),(0,r.unsafeCSS)(this.colors.v),(0,r.unsafeCSS)(this.colors.p),(0,r.unsafeCSS)(this.colors.g),(0,r.unsafeCSS)(this.colors.w),(0,r.unsafeCSS)(this.colors.u),(0,r.unsafeCSS)(this.colors.chosen),(0,r.unsafeCSS)(this.colors.better),(0,r.unsafeCSS)(this.colors.worse),(0,r.unsafeCSS)(this.colors.even),(0,r.unsafeCSS)(this.colors.correct),(0,r.unsafeCSS)(this.colors.error),(0,r.unsafeCSS)(this.colors.nr),(0,r.unsafeCSS)(this.lights.x),(0,r.unsafeCSS)(this.lights.a),(0,r.unsafeCSS)(this.lights.l),(0,r.unsafeCSS)(this.lights.v),(0,r.unsafeCSS)(this.lights.p),(0,r.unsafeCSS)(this.lights.g),(0,r.unsafeCSS)(this.lights.w),(0,r.unsafeCSS)(this.lights.u),(0,r.unsafeCSS)(this.lights.chosen),(0,r.unsafeCSS)(this.lights.better),(0,r.unsafeCSS)(this.lights.worse),(0,r.unsafeCSS)(this.lights.even),(0,r.unsafeCSS)(this.lights.correct),(0,r.unsafeCSS)(this.lights.error),(0,r.unsafeCSS)(this.lights.nr),(0,r.unsafeCSS)(this.darks.x),(0,r.unsafeCSS)(this.darks.a),(0,r.unsafeCSS)(this.darks.l),(0,r.unsafeCSS)(this.darks.v),(0,r.unsafeCSS)(this.darks.p),(0,r.unsafeCSS)(this.darks.g),(0,r.unsafeCSS)(this.darks.w),(0,r.unsafeCSS)(this.darks.u),(0,r.unsafeCSS)(this.darks.chosen),(0,r.unsafeCSS)(this.darks.better),(0,r.unsafeCSS)(this.darks.worse),(0,r.unsafeCSS)(this.darks.even),(0,r.unsafeCSS)(this.darks.correct),(0,r.unsafeCSS)(this.darks.error),(0,r.unsafeCSS)(this.darks.nr))]}}]),n}();n.default=t},{"@decidable/decidable-elements":1028,d3:440,"lit-element":563}],1050:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("lit-element");t("@decidable/decidable-elements");var o,a=(o=t("../cpt-element"))&&o.__esModule?o:{default:o};function s(){var t=function(t,e){e=e||t.slice(0);return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n        :host {\n          display: block;\n\n          margin: 1rem;\n        }\n\n        /* Containing <div> */\n        .holder {\n          display: flex;\n\n          flex-direction: row;\n\n          justify-content: left;\n        }\n\n        /* Overall <table> */\n        .equation {\n          text-align: center;\n\n          border-collapse: collapse;\n\n          border: 0;\n        }\n\n        /* Modifies <td> */\n        .underline {\n          border-bottom: 1px solid var(---color-text);\n        }\n\n        /* Basic <span> and <var> w/modifiers */\n        span,\n        var {\n          padding: 0 0.25rem;\n\n          font-style: normal;\n        }\n\n        .tight {\n          padding: 0;\n        }\n\n        .paren {\n          font-size: 150%;\n        }\n\n        .bracket {\n          font-size: 175%;\n        }\n\n        .brace {\n          font-size: 200%;\n        }\n\n        .addend {\n          position: relative;\n          display: inline-block;\n        }\n\n        .comparison {\n          position: relative;\n          display: inline-block;\n\n          font-size: 125%;\n          font-weight: 600;\n        }\n\n        .function {\n          display: inline-block;\n        }\n\n        :host([numeric]) .function {\n          padding: 0.25rem;\n        }\n\n        .exp {\n          display: inline-block;\n\n          font-size: 0.75rem;\n        }\n\n        .subscript {\n          display: inline-block;\n\n          font-size: 66.667%;\n        }\n\n        .summation {\n          display: flex;\n\n          flex-direction: column;\n\n          line-height: 0.8;\n        }\n\n        .sigma {\n          display: inline-block;\n\n          font-size: 200%;\n        }\n\n        /* Input wrapping <label> */\n        decidable-spinner {\n          --decidable-spinner-input-width: 4rem;\n\n          display: inline-block;\n\n          padding: 0.125rem 0.375rem 0.375rem;\n\n          line-height: 1.5;\n          vertical-align: middle;\n        }\n\n        .n {\n          --decidable-spinner-input-width: 2rem;\n        }\n\n        .left {\n          text-align: left;\n        }\n\n        .right {\n          text-align: right;\n        }\n\n        .bottom {\n          vertical-align: bottom;\n        }\n\n        .top {\n          vertical-align: top;\n        }\n\n        /* Color scheme */\n        /* .win {\n          background: var(---color-better);\n        }\n\n        .loss {\n          background: var(---color-worse);\n        }\n\n        .sure {\n          background: var(---color-even);\n        } */\n\n        .x {\n          background: var(---color-x-light);\n        }\n\n        .a {\n          background: var(---color-a-light);\n        }\n\n        .l {\n          background: var(---color-l-light);\n        }\n\n        .v {\n          background: var(---color-v-light);\n        }\n\n        .p {\n          background: var(---color-p-light);\n        }\n\n        .g {\n          background: var(---color-g-light);\n        }\n\n        .w {\n          background: var(---color-w-light);\n        }\n\n        .u {\n          background: var(---color-u-light);\n        }\n      "]);return s=function(){return t},t}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=d(n);return t=r?(t=d(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(n,a.default);var e=h(n);function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).numeric=!1,t}return c(n,null,[{key:"properties",get:function(){return{numeric:{attribute:"numeric",type:Boolean,reflect:!0}}}}]),c(n,null,[{key:"styles",get:function(){return[l(d(n),"styles",this),(0,r.css)(s())]}}]),n}();n.default=p},{"../cpt-element":1049,"@decidable/decidable-elements":1028,"lit-element":563}],1051:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CPTEquationPG2W",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"CPTEquationVW2U",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"CPTEquationXAL2V",{enumerable:!0,get:function(){return o.default}});var r=a(t("./pg2w")),i=a(t("./vw2u")),o=a(t("./xal2v"));function a(t){return t&&t.__esModule?t:{default:t}}},{"./pg2w":1052,"./vw2u":1053,"./xal2v":1054}],1052:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("lit-element"),o=s(t("@decidable/prospectable-math")),a=s(t("./cpt-equation"));function s(t){return t&&t.__esModule?t:{default:t}}function l(){var t=m(['\n      <div class="holder">\n        <table class="equation">\n          <tbody>\n            ',"\n          </tbody>\n        </table>\n      </div>"]);return l=function(){return t},t}function u(){var t=m(['\n      <tr>\n        <td rowspan="2">\n          ','<span class="equals">=</span>\n        </td>\n        <td class="underline">\n          ','<sup class="exp">','</sup>\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <span class="bracket tight">[</span>','<sup class="exp">','</sup><span class="plus">+</span><span class="paren tight">(</span>1<span class="minus">−</span>','<span class="paren tight">)</span><sup class="exp">','</sup><span class="bracket tight">]</span><sup class="exp">1/',"</sup>\n        </td>\n      </tr>"]);return u=function(){return t},t}function c(){var t=m(['<var class="math-var w">w</var>']);return c=function(){return t},t}function f(){var t=m(['<var class="math-var g">γ</var>']);return f=function(){return t},t}function h(){var t=m(['<var class="math-var p">p</var>']);return h=function(){return t},t}function d(){var t=m(['<decidable-spinner class="w bottom" disabled min="0" max="1" step=".01" .value="','">\n          <var class="math-var">w</var>\n        </decidable-spinner>']);return d=function(){return t},t}function p(){var t=m(['<decidable-spinner class="g bottom" ?disabled=',' min="0" max="1" step="0.01" .value="','" @input=','>\n          <var class="math-var">γ</var>\n        </decidable-spinner>']);return p=function(){return t},t}function g(){var t=m(['<decidable-spinner class="p bottom" ?disabled=',' min="0" max="1" step="0.01" .value="','" @input=','>\n          <var class="math-var">p</var>\n        </decidable-spinner>']);return g=function(){return t},t}function m(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=_(n);return t=r?(t=_(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}t=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(n,a.default);var e=x(n);function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).p=.75,t.g=.5,t.alignState(),t}return v(n,null,[{key:"properties",get:function(){return{p:{attribute:"probability",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},w:{attribute:!1,type:Number,reflect:!1}}}}]),v(n,[{key:"alignState",value:function(){this.w=o.default.pg2w(this.p,this.g)}},{key:"sendEvent",value:function(){this.dispatchEvent(new CustomEvent("cpt-equation-pg2w-change",{detail:{p:this.p,g:this.g,w:this.w},bubbles:!0}))}},{key:"pInput",value:function(t){this.p=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"gInput",value:function(t){this.g=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"render",value:function(){var t,e;this.alignState(),e=this.numeric?(t=(0,r.html)(g(),!this.interactive,this.p,this.pInput.bind(this)),n=(0,r.html)(p(),!this.interactive,this.g,this.gInput.bind(this)),(0,r.html)(d(),+this.w.toFixed(2))):(t=(0,r.html)(h()),n=(0,r.html)(f()),(0,r.html)(c()));var n=(0,r.html)(u(),e,t,n,t,n,t,n,n);return(0,r.html)(l(),n)}}]),n}();n.default=t,customElements.define("cpt-equation-pg2w",t)},{"./cpt-equation":1050,"@decidable/prospectable-math":1062,"lit-element":563}],1053:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=t("lit-element"),a=t("lit-transition"),s=t("@decidable/decidable-elements"),l=(r=t("./cpt-equation"))&&r.__esModule?r:{default:r};function u(){var t=k(['\n      <div class="holder">\n        <table class="equation">\n          <tbody>\n            ',"\n          </tbody>\n        </table>\n      </div>"]);return u=function(){return t},t}function c(){var t=k(["","&nbsp;",'<span class="plus">+</span><span class="ellipsis">…</span><span class="plus">+</span>',"&nbsp;",""]);return c=function(){return t},t}function f(){var t=k([""]);return f=function(){return t},t}function h(){var t=k(['<span class="plus">+</span>']);return h=function(){return t},t}function d(){var t=k(['<span class="addend tight">',"","&nbsp;","</span>"]);return d=function(){return t},t}function p(){var t=k(["\n      <tr>\n        <td>\n          ",'<span class="equals">=</span>\n        </td>\n        <td>\n          <div class="summation">\n            <span class="tight">','</span>\n            <span class="tight"><var class="math-greek sigma">Σ</var></span>\n            <span class="tight"><var class="math-var subscript tight">i</var><span class="equals subscript">=</span><span class="subscript tight">1</span></span>\n          </div>\n        </td>\n        <td>\n          ',"&nbsp;",'<span class="equals">=</span>\n        </td>\n        <td>\n          ',"\n        </td>\n      </tr>"]);return p=function(){return t},t}function g(){var t=k(['<var class="math-var subscript">n</var>']);return g=function(){return t},t}function m(){var t=k(['<var class="math-var u">U</var>']);return m=function(){return t},t}function y(){var t=k(['<decidable-spinner class="n" ?disabled=',' min="1" max="4" step="1" .value="','" @input=','>\n          <var class="math-var">n</var>\n        </decidable-spinner>']);return y=function(){return t},t}function v(){var t=k(['<decidable-spinner class="u" disabled .value="','">\n          <var class="math-var">U</var>\n        </decidable-spinner>']);return v=function(){return t},t}function b(){var t=k(['<var class="math-var w">w<sub class="subscript ','">',"</sub></var>"]);return b=function(){return t},t}function x(){var t=k(['<decidable-spinner class="w" ?disabled=',' min="0" max="1" step=".001" .value="','" @input=','>\n          <var class="math-var">w<sub class="subscript ','">',"</sub></var>\n        </decidable-spinner>"]);return x=function(){return t},t}function _(){var t=k(['<var class="math-var v">v<sub class="subscript ','">',"</sub></var>"]);return _=function(){return t},t}function w(){var t=k(['<decidable-spinner class="v" ?disabled=',' .value="','" @input=','>\n          <var class="math-var">v<sub class="subscript ','">',"</sub></var>\n        </decidable-spinner>"]);return w=function(){return t},t}function k(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(t,e,n){return e&&T(t.prototype,e),n&&T(t,n),t}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=E(n);return t=r?(t=E(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var C=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(n,l.default);var e=S(n);function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).v=[10,0],t.w=[.75,.25],t.n=2,t.nMax=4,t.vMax=new Array(t.nMax).fill(0),t.wMax=new Array(t.nMax).fill(0),t.alignState(),t}return M(n,null,[{key:"properties",get:function(){return{v:{attribute:"value",converter:s.DecidableConverterArray,reflect:!0},w:{attribute:"weight",converter:s.DecidableConverterArray,reflect:!0},n:{attribute:"outcomes",type:Number,reflect:!0},u:{attribute:!1,type:Number,reflect:!1}}}}]),M(n,[{key:"alignState",value:function(){var r=this;this.v=this.v.length<this.n?this.v.concat(this.vMax.slice(this.v.length,this.n)):this.v.length>this.n?this.v.slice(0,this.n):this.v,this.w=this.w.length<this.n?this.w.concat(this.wMax.slice(this.w.length,this.n)):this.w.length>this.n?this.w.slice(0,this.n):this.w,this.v.forEach(function(t,e){r.vMax[e]=t}),this.w.forEach(function(t,e){r.wMax[e]=t}),this.u=this.v.reduce(function(t,e,n){return t+e*r.w[n]},0)}},{key:"sendEvent",value:function(){this.dispatchEvent(new CustomEvent("cpt-equation-vw2u-change",{detail:{v:this.v,w:this.w,n:this.n,u:this.u},bubbles:!0}))}},{key:"vInput",value:function(t,e){this.v[t]=parseFloat(e.target.value),this.alignState(),this.sendEvent()}},{key:"wInput",value:function(t,e){this.w[t]=parseFloat(e.target.value),this.alignState(),this.sendEvent()}},{key:"nInput",value:function(t){this.n=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"vTemplate",value:function(t,e,n){t=0<arguments.length&&void 0!==t?t:"",e=1<arguments.length&&void 0!==e?e:"";return 2<arguments.length&&void 0!==n&&n?(n=Number.parseInt(t,10)-1,(0,o.html)(w(),!this.interactive,this.v[n],this.vInput.bind(this,n),e,t)):(0,o.html)(_(),e,t)}},{key:"wTemplate",value:function(t,e,n){t=0<arguments.length&&void 0!==t?t:"",e=1<arguments.length&&void 0!==e?e:"";return 2<arguments.length&&void 0!==n&&n?(n=Number.parseInt(t,10)-1,(0,o.html)(x(),!this.interactive,this.w[n],this.wInput.bind(this,n),e,t)):(0,o.html)(b(),e,t)}},{key:"render",value:function(){var t,n=this;this.alignState(),e=this.numeric?(t=(0,o.html)(v(),+this.u.toFixed(3)),(0,o.html)(y(),!this.interactive,this.n,this.nInput.bind(this))):(t=(0,o.html)(m()),(0,o.html)(g()));var e=(0,o.html)(p(),t,e,this.vTemplate("i","math-var",!1),this.wTemplate("i","math-var",!1),this.numeric?Array(this.nMax).fill().map(function(t,e){return(0,a.transition)(e<n.n?(0,a.mark)((0,o.html)(d(),0!==e?(0,o.html)(h()):(0,o.html)(f()),n.vTemplate(e+1,"math-num",!0),n.wTemplate(e+1,"math-num",!0)),"".concat(e)):null,(0,a.slide)({mode:"both",x:"-100%",x1:"-100%"}))}):(0,o.html)(c(),this.vTemplate("1","math-num",!1),this.wTemplate("1","math-num",!1),this.vTemplate("n","math-var",!1),this.wTemplate("n","math-var",!1)));return(0,o.html)(u(),e)}}]),n}();n.default=C,customElements.define("cpt-equation-vw2u",C)},{"./cpt-equation":1050,"@decidable/decidable-elements":1028,"lit-element":563,"lit-transition":589}],1054:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t("lit-element"),r=s(t("@decidable/prospectable-math")),a=s(t("./cpt-equation"));function s(t){return t&&t.__esModule?t:{default:t}}function l(){var t=v(['\n      <div class="holder">\n        <table class="equation">\n          <tbody>\n            ',"\n          </tbody>\n        </table>\n      </div>"]);return l=function(){return t},t}function u(){var t=v(['\n      <tr>\n        <td rowspan="2">\n          ','<span class="equals">=</span><span class="brace tight">{</span>\n        </td>\n        <td class="left">\n          ','<sup class="exp">',"</sup>,&emsp;if ",'<span class="equals">&ge;</span>0\n        </td>\n      </tr>\n      <tr>\n        <td class="left">\n          <span class="minus tight">−</span>','<span class="paren tight">(</span><span class="minus tight">−</span>','<span class="paren tight">)</span><sup class="exp">',"</sup>,&emsp;if ",'<span class="equals">&lt;</span>0\n        </td>\n      </tr>']);return u=function(){return t},t}function c(){var t=v(['<var class="math-var v">v</var>']);return c=function(){return t},t}function f(){var t=v(['<var class="math-var l">λ</var>']);return f=function(){return t},t}function h(){var t=v(['<var class="math-var a">α</var>']);return h=function(){return t},t}function d(){var t=v(['<var class="math-var x">x</var>']);return d=function(){return t},t}function p(){var t=v(['<decidable-spinner class="v bottom" disabled step=".001" .value="','">\n          <var class="math-var">v</var>\n        </decidable-spinner>']);return p=function(){return t},t}function g(){var t=v(['<decidable-spinner class="l bottom" ?disabled=',' min="0" step=".001" .value="','" @input=','>\n          <var class="math-var">λ</var>\n        </decidable-spinner>']);return g=function(){return t},t}function m(){var t=v(['<decidable-spinner class="a bottom" ?disabled=',' min="0" max="1" step=".001" .value="','" @input=','>\n          <var class="math-var">α</var>\n        </decidable-spinner>']);return m=function(){return t},t}function y(){var t=v(['<decidable-spinner class="x bottom" ?disabled=',' step="1" .value="','" @input=','>\n          <var class="math-var">x</var>\n        </decidable-spinner>']);return y=function(){return t},t}function v(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=k(n);return t=r?(t=k(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}t=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(n,a.default);var e=w(n);function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).x=10,t.a=.5,t.l=2,t.alignState(),t}return x(n,null,[{key:"properties",get:function(){return{x:{attribute:"value",type:Number,reflect:!0},a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},v:{attribute:!1,type:Number,reflect:!1}}}}]),x(n,[{key:"alignState",value:function(){this.v=r.default.xal2v(this.x,this.a,this.l)}},{key:"sendEvent",value:function(){this.dispatchEvent(new CustomEvent("cpt-equation-xal2v-change",{detail:{x:this.x,a:this.a,l:this.l,v:this.v},bubbles:!0}))}},{key:"xInput",value:function(t){this.x=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"aInput",value:function(t){this.a=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"lInput",value:function(t){this.l=parseFloat(t.target.value),this.alignState(),this.sendEvent()}},{key:"render",value:function(){var t,e,n;this.alignState(),n=this.numeric?(r=(0,o.html)(y(),!this.interactive,this.x,this.xInput.bind(this)),t=(0,o.html)(m(),!this.interactive,this.a,this.aInput.bind(this)),e=(0,o.html)(g(),!this.interactive,this.l,this.lInput.bind(this)),(0,o.html)(p(),+this.v.toFixed(3))):(r=(0,o.html)(d()),t=(0,o.html)(h()),e=(0,o.html)(f()),(0,o.html)(c()));var r=(0,o.html)(u(),n,r,t,r,e,r,t,r);return(0,o.html)(l(),r)}}]),n}();n.default=t,customElements.define("cpt-equation-xal2v",t)},{"./cpt-equation":1050,"@decidable/prospectable-math":1062,"lit-element":563}],1055:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=t("lit-element"),a=(r=t("../cpt-element"))&&r.__esModule?r:{default:r};function s(){var t=u(["\n        :host {\n          ---border: var(--border, 1px solid var(---color-border));\n          display: inline-block;\n\n          /* This makes IE11 happy */\n          width: 100%;\n\n          margin-bottom: 1rem;\n        }\n\n        .holder {\n          display: flex;\n        }\n\n        .body {\n          display: flex;\n\n          flex-wrap: wrap;\n\n          align-items: center;\n          justify-content: left;\n\n          padding: 0.625rem;\n\n          border: var(---border);\n          border-radius: 0.25rem;\n        }\n\n        .body ::slotted(*) {\n          margin: 0.625rem;\n        }\n\n        /* HACK: Sibling selectors not working with ::slotted */\n        /* .body > rdk-task + sdt-response,\n        ::slotted(rdk-task) + ::slotted(sdt-response) { */\n        .body ::slotted(sdt-response) {\n          margin-left: 0;\n        }\n\n        /* HACK: Sibling selectors not working with ::slotted */\n        /* .body > sdt-control + rdk-task,\n        ::slotted(sdt-control) + ::slotted(rdk-task) {\n          margin-left: 0;\n        } */\n        .body ::slotted(rdk-task) {\n          width: 10rem;\n          height: 10rem;\n          margin-left: 0;\n        }\n\n        .body ::slotted(decision-space),\n        .body ::slotted(cpt-space) {\n          width: 28rem;\n          height: 20rem;\n        }\n\n        .body ::slotted(cpt-value) {\n          width: 20rem;\n          height: 20rem;\n        }\n\n        .body ::slotted(cpt-probability) {\n          width: 20rem;\n          height: 20rem;\n        }\n      "]);return s=function(){return t},t}function l(){var t=u(['\n      <div class="holder">\n        <div class="body">\n          <slot>Empty!</slot>\n        </div>\n      </div>']);return l=function(){return t},t}function u(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=p(n);return t=r?(t=p(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(i,a.default);var t,e,n,r=d(i);function i(){return function(t){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),r.apply(this,arguments)}return t=i,n=[{key:"styles",get:function(){return[f(p(i),"styles",this),(0,o.css)(s())]}}],(e=[{key:"render",value:function(){return(0,o.html)(l())}}])&&c(t.prototype,e),n&&c(t,n),i}();n.default=g,customElements.define("cpt-example",g)},{"../cpt-element":1049,"lit-element":563}],1056:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=(r=t("./cpt-example"))&&r.__esModule?r:{default:r};function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=u(n);return t=r?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(i,o.default);var t,e,n,r=l(i);function i(){return function(t){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),r.apply(this,arguments)}return t=i,(e=[{key:"firstUpdated",value:function(){var e=this;this.cptFit=this.querySelector("cpt-fit"),this.decisionControl=this.querySelector("decision-control"),this.decisionTask=this.querySelector("decision-task"),this.decisionResponse=this.querySelector("decision-response"),this.decisionSpace=this.querySelector("decision-space"),this.cptCalculation=this.querySelector("cpt-calculation"),this.cptProbability=this.querySelector("cpt-probability"),this.cptSpace=this.querySelector("cpt-space"),this.cptValue=this.querySelector("cpt-value"),this.cptFit&&this.cptFit.addEventListener("cpt-fit-update",function(t){e.cptProbability&&(e.cptProbability.g=t.detail.a),e.cptValue&&(e.cptValue.a=t.detail.a,e.cptValue.l=t.detail.l),e.decisionSpace&&(e.decisionSpace.a=t.detail.a,e.decisionSpace.l=t.detail.l,e.decisionSpace.g=t.detail.g)}),this.decisionControl&&(this.decisionControl.hasAttribute("trials")&&this.decisionControl.addEventListener("decision-control-trials",function(t){e.decisionTask&&(e.decisionTask.trials=t.detail.trials),e.decisionResponse&&(e.decisionResponse.trialTotal=t.detail.trials)}),this.decisionControl.hasAttribute("duration")&&this.decisionControl.addEventListener("decision-control-duration",function(t){e.decisionTask&&(e.decisionTask.duration=t.detail.duration,e.decisionTask.iti=t.detail.duration)}),this.decisionControl.hasAttribute("run")&&this.decisionControl.addEventListener("decision-control-run",function(){e.decisionTask&&(e.decisionTask.running=!0)}),this.decisionControl.hasAttribute("pause")&&this.decisionControl.addEventListener("decision-control-pause",function(){e.decisionTask&&(e.decisionTask.running=!1)}),this.decisionControl.hasAttribute("reset")&&this.decisionControl.addEventListener("decision-control-reset",function(){e.decisionTask&&e.decisionTask.reset(),e.decisionResponse&&e.decisionResponse.reset(),e.decisionSpace&&e.decisionSpace.clear(),e.cptFit&&e.cptFit.clear()})),this.decisionTask&&(this.decisionResponse&&(this.decisionResponse.trialTotal=this.decisionTask.trials),this.decisionTask.addEventListener("decision-trial-start",function(t){e.decisionResponse&&e.decisionResponse.start(t.detail.xl,t.detail.xw,t.detail.pw,t.detail.xs,t.detail.gamblePayoff,t.detail.surePayoff,t.detail.better,t.detail.trial)}),this.decisionTask.addEventListener("decision-trial-end",function(){e.decisionResponse&&e.decisionResponse.stop()}),this.decisionTask.addEventListener("decision-block-end",function(){e.decisionControl&&e.decisionControl.complete()})),this.decisionResponse&&this.decisionResponse.addEventListener("decision-response",function(t){e.decisionSpace&&e.decisionSpace.set(t.detail.xw,t.detail.pw,t.detail.xs,t.detail.response,t.detail.trial.toString(),t.detail.trial.toString()),e.cptFit&&e.cptFit.set(t.detail.xl,t.detail.xw,t.detail.pw,t.detail.xs,t.detail.response,t.detail.trial.toString(),t.detail.trial.toString())})}}])&&a(t.prototype,e),n&&a(t,n),i}();n.default=c,customElements.define("cpt-example-human",c)},{"./cpt-example":1055}],1057:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CPTExampleHuman",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"CPTExampleInteractive",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"CPTExampleModel",{enumerable:!0,get:function(){return o.default}});var r=a(t("./human")),i=a(t("./interactive")),o=a(t("./model"));function a(t){return t&&t.__esModule?t:{default:t}}},{"./human":1056,"./interactive":1058,"./model":1059}],1058:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=(r=t("./cpt-example"))&&r.__esModule?r:{default:r};function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=f(n);return t=r?(t=f(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(n,o.default);var e=c(n);function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(t=e.call(this)).a=.8,t.l=1.2,t.g=.8,t.xl=0,t.xw=20,t.pw=.5,t.xs=10,t.cptCalculation=null,t.cptProbability=null,t.cptSpace=null,t.cptValue=null,t.decisionChoice=null,t.decisionSpace=null,t}return l(n,null,[{key:"properties",get:function(){return{a:{attribute:"alpha",type:Number,reflect:!0},l:{attribute:"lambda",type:Number,reflect:!0},g:{attribute:"gamma",type:Number,reflect:!0},xl:{attribute:"loss",type:Number,reflect:!0},xw:{attribute:"win",type:Number,reflect:!0},pw:{attribute:"probability",type:Number,reflect:!0},xs:{attribute:"sure",type:Number,reflect:!0}}}}]),l(n,[{key:"firstUpdated",value:function(){var e=this;this.cptCalculation=this.querySelector("cpt-calculation"),this.cptProbability=this.querySelector("cpt-probability"),this.cptSpace=this.querySelector("cpt-space"),this.cptValue=this.querySelector("cpt-value"),this.decisionChoice=this.querySelector("decision-choice"),this.decisionSpace=this.querySelector("decision-space"),this.cptCalculation&&this.cptCalculation.addEventListener("cpt-calculation-change",function(t){e.a=t.detail.a,e.l=t.detail.l,e.g=t.detail.g,e.xl=t.detail.xl,e.xw=t.detail.xw,e.pw=t.detail.pw,e.xs=t.detail.xs}),this.cptProbability&&this.cptProbability.addEventListener("cpt-probability-change",function(t){e.g=t.detail.g,e.pw=t.detail.p}),this.cptValue&&this.cptValue.addEventListener("cpt-value-change",function(t){e.a=t.detail.a,e.l=t.detail.l,"default"===t.detail.name?e.xs=t.detail.x:"gamble"===t.detail.name&&(e.xw=t.detail.x)}),this.decisionChoice&&this.decisionChoice.addEventListener("decision-choice-change",function(t){e.xl=t.detail.xl,e.xw=t.detail.xw,e.pw=t.detail.pw,e.xs=t.detail.xs}),this.requestUpdate()}},{key:"update",value:function(t){a(f(n.prototype),"update",this).call(this,t),this.cptCalculation&&(this.cptCalculation.a=this.a,this.cptCalculation.l=this.l,this.cptCalculation.g=this.g,this.cptCalculation.xl=this.xl,this.cptCalculation.xw=this.xw,this.cptCalculation.pw=this.pw,this.cptCalculation.xs=this.xs),this.cptProbability&&this.cptProbability.set(this.pw,this.g,"default",""),this.cptSpace&&(this.cptSpace.a=this.a,this.cptSpace.l=this.l,this.cptSpace.g=this.g,this.cptSpace.xl=this.xl,this.cptSpace.xw=this.xw,this.cptSpace.pw=this.pw,this.cptSpace.xs=this.xs),this.cptValue&&(this.cptValue.set(this.xs,this.a,this.l,"default","s"),this.cptValue.set(this.xw,this.a,this.l,"gamble","g")),this.decisionChoice&&(this.decisionChoice.xl=this.xl,this.decisionChoice.xw=this.xw,this.decisionChoice.pw=this.pw,this.decisionChoice.xs=this.xs),this.decisionSpace&&(this.decisionSpace.a=this.a,this.decisionSpace.l=this.l,this.decisionSpace.g=this.g,this.decisionSpace.xl=this.xl,this.decisionSpace.xw=this.xw,this.decisionSpace.pw=this.pw,this.decisionSpace.xs=this.xs)}}]),n}();n.default=h,customElements.define("cpt-example-interactive",h)},{"./cpt-example":1055}],1059:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=(r=t("./cpt-example"))&&r.__esModule?r:{default:r};function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=u(n);return t=r?(t=u(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==i(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(i,o.default);var t,e,n,r=l(i);function i(){return function(t){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),r.apply(this,arguments)}return t=i,(e=[{key:"firstUpdated",value:function(){this.cptControl=this.querySelector("cpt-control"),this.cptValue=this.querySelector("cpt-value"),this.cptProbability=this.querySelector("cpt-probability")}}])&&a(t.prototype,e),n&&a(t,n),i}();n.default=c,customElements.define("cpt-example-model",c)},{"./cpt-example":1055}],1060:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={CPTElement:!0};Object.defineProperty(n,"CPTElement",{enumerable:!0,get:function(){return o.default}});var i,o=(i=t("./cpt-element"))&&i.__esModule?i:{default:i},a=t("./components");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===a[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}}))});var s=t("./equations");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===s[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}}))});var l=t("./examples");Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===l[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return l[t]}}))})},{"./components":1047,"./cpt-element":1049,"./equations":1051,"./examples":1057}],1061:[function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}var t,n,r;return t=e,r=[{key:"xal2v",value:function(t,e,n){return 0<=t?Math.pow(t,e):-n*Math.pow(-t,e)}},{key:"xlv2a",value:function(t,e,n){return 0<=t?Math.log(n)/Math.log(t):(Math.log(-n)-Math.log(e))/Math.log(-t)}},{key:"xav2l",value:function(t,e,n){return 0<=t?1:-n/Math.pow(-t,e)}},{key:"pg2w",value:function(t,e){return Math.pow(t,e)/Math.pow(Math.pow(t,e)+Math.pow(1-t,e),1/e)}}],(n=null)&&i(t.prototype,n),r&&i(t,r),e}();n.default=r},{}],1062:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i.default}});var r,i=(r=t("./cpt-math"))&&r.__esModule?r:{default:r}},{"./cpt-math":1061}],1063:[function(t,e,n){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.symbol.has-instance"),t("core-js/modules/es.symbol.is-concat-spreadable"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.symbol.match"),t("core-js/modules/es.symbol.match-all"),t("core-js/modules/es.symbol.replace"),t("core-js/modules/es.symbol.search"),t("core-js/modules/es.symbol.species"),t("core-js/modules/es.symbol.split"),t("core-js/modules/es.symbol.to-primitive"),t("core-js/modules/es.symbol.to-string-tag"),t("core-js/modules/es.symbol.unscopables"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.find"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.flat-map"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.of"),t("core-js/modules/es.array.reduce"),t("core-js/modules/es.array.reduce-right"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.array.species"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array.unscopables.flat-map"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.date.to-primitive"),t("core-js/modules/es.function.has-instance"),t("core-js/modules/es.function.name"),t("core-js/modules/es.json.to-string-tag"),t("core-js/modules/es.map"),t("core-js/modules/es.math.acosh"),t("core-js/modules/es.math.asinh"),t("core-js/modules/es.math.atanh"),t("core-js/modules/es.math.cbrt"),t("core-js/modules/es.math.clz32"),t("core-js/modules/es.math.cosh"),t("core-js/modules/es.math.expm1"),t("core-js/modules/es.math.fround"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.imul"),t("core-js/modules/es.math.log10"),t("core-js/modules/es.math.log1p"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.math.sinh"),t("core-js/modules/es.math.tanh"),t("core-js/modules/es.math.to-string-tag"),t("core-js/modules/es.math.trunc"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.number.is-integer"),t("core-js/modules/es.number.is-nan"),t("core-js/modules/es.number.is-safe-integer"),t("core-js/modules/es.number.max-safe-integer"),t("core-js/modules/es.number.min-safe-integer"),t("core-js/modules/es.number.parse-float"),t("core-js/modules/es.number.parse-int"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.define-getter"),t("core-js/modules/es.object.define-setter"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.freeze"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-descriptors"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.is"),t("core-js/modules/es.object.is-extensible"),t("core-js/modules/es.object.is-frozen"),t("core-js/modules/es.object.is-sealed"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.lookup-getter"),t("core-js/modules/es.object.lookup-setter"),t("core-js/modules/es.object.prevent-extensions"),t("core-js/modules/es.object.seal"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.object.values"),t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.reflect.apply"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.reflect.define-property"),t("core-js/modules/es.reflect.delete-property"),t("core-js/modules/es.reflect.get"),t("core-js/modules/es.reflect.get-own-property-descriptor"),t("core-js/modules/es.reflect.get-prototype-of"),t("core-js/modules/es.reflect.has"),t("core-js/modules/es.reflect.is-extensible"),t("core-js/modules/es.reflect.own-keys"),t("core-js/modules/es.reflect.prevent-extensions"),t("core-js/modules/es.reflect.set"),t("core-js/modules/es.reflect.set-prototype-of"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.flags"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.code-point-at"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.match-all"),t("core-js/modules/es.string.pad-end"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.raw"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.string.trim-end"),t("core-js/modules/es.string.trim-start"),t("core-js/modules/es.string.anchor"),t("core-js/modules/es.string.big"),t("core-js/modules/es.string.blink"),t("core-js/modules/es.string.bold"),t("core-js/modules/es.string.fixed"),t("core-js/modules/es.string.fontcolor"),t("core-js/modules/es.string.fontsize"),t("core-js/modules/es.string.italics"),t("core-js/modules/es.string.link"),t("core-js/modules/es.string.small"),t("core-js/modules/es.string.strike"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.string.sup"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.float64-array"),t("core-js/modules/es.typed-array.int8-array"),t("core-js/modules/es.typed-array.int16-array"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.from"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.of"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/es.weak-set"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.immediate"),t("core-js/modules/web.queue-microtask"),t("core-js/modules/web.url"),t("core-js/modules/web.url.to-json"),t("core-js/modules/web.url-search-params"),t("regenerator-runtime/runtime"),t("@webcomponents/webcomponentsjs/custom-elements-es5-adapter"),t("@webcomponents/webcomponentsjs/webcomponents-bundle"),t("bootstrap"),t("@decidable/prospectable-elements")},{"@decidable/prospectable-elements":1060,"@webcomponents/webcomponentsjs/custom-elements-es5-adapter":2,"@webcomponents/webcomponentsjs/webcomponents-bundle":3,bootstrap:30,"core-js/modules/es.array-buffer.constructor":216,"core-js/modules/es.array.concat":217,"core-js/modules/es.array.copy-within":218,"core-js/modules/es.array.every":219,"core-js/modules/es.array.fill":220,"core-js/modules/es.array.filter":221,"core-js/modules/es.array.find":223,"core-js/modules/es.array.find-index":222,"core-js/modules/es.array.flat":225,"core-js/modules/es.array.flat-map":224,"core-js/modules/es.array.for-each":226,"core-js/modules/es.array.from":227,"core-js/modules/es.array.includes":228,"core-js/modules/es.array.index-of":229,"core-js/modules/es.array.iterator":230,"core-js/modules/es.array.join":231,"core-js/modules/es.array.last-index-of":232,"core-js/modules/es.array.map":233,"core-js/modules/es.array.of":234,"core-js/modules/es.array.reduce":236,"core-js/modules/es.array.reduce-right":235,"core-js/modules/es.array.slice":237,"core-js/modules/es.array.some":238,"core-js/modules/es.array.species":239,"core-js/modules/es.array.splice":240,"core-js/modules/es.array.unscopables.flat":242,"core-js/modules/es.array.unscopables.flat-map":241,"core-js/modules/es.date.to-primitive":243,"core-js/modules/es.function.has-instance":244,"core-js/modules/es.function.name":245,"core-js/modules/es.json.to-string-tag":246,"core-js/modules/es.map":247,"core-js/modules/es.math.acosh":248,"core-js/modules/es.math.asinh":249,"core-js/modules/es.math.atanh":250,"core-js/modules/es.math.cbrt":251,"core-js/modules/es.math.clz32":252,"core-js/modules/es.math.cosh":253,"core-js/modules/es.math.expm1":254,"core-js/modules/es.math.fround":255,"core-js/modules/es.math.hypot":256,"core-js/modules/es.math.imul":257,"core-js/modules/es.math.log10":258,"core-js/modules/es.math.log1p":259,"core-js/modules/es.math.log2":260,"core-js/modules/es.math.sign":261,"core-js/modules/es.math.sinh":262,"core-js/modules/es.math.tanh":263,"core-js/modules/es.math.to-string-tag":264,"core-js/modules/es.math.trunc":265,"core-js/modules/es.number.constructor":266,"core-js/modules/es.number.epsilon":267,"core-js/modules/es.number.is-finite":268,"core-js/modules/es.number.is-integer":269,"core-js/modules/es.number.is-nan":270,"core-js/modules/es.number.is-safe-integer":271,"core-js/modules/es.number.max-safe-integer":272,"core-js/modules/es.number.min-safe-integer":273,"core-js/modules/es.number.parse-float":274,"core-js/modules/es.number.parse-int":275,"core-js/modules/es.number.to-fixed":276,"core-js/modules/es.object.assign":277,"core-js/modules/es.object.define-getter":278,"core-js/modules/es.object.define-setter":279,"core-js/modules/es.object.entries":280,"core-js/modules/es.object.freeze":281,"core-js/modules/es.object.from-entries":282,"core-js/modules/es.object.get-own-property-descriptor":283,"core-js/modules/es.object.get-own-property-descriptors":284,"core-js/modules/es.object.get-own-property-names":285,"core-js/modules/es.object.get-prototype-of":286,"core-js/modules/es.object.is":290,"core-js/modules/es.object.is-extensible":287,"core-js/modules/es.object.is-frozen":288,"core-js/modules/es.object.is-sealed":289,"core-js/modules/es.object.keys":291,"core-js/modules/es.object.lookup-getter":292,"core-js/modules/es.object.lookup-setter":293,"core-js/modules/es.object.prevent-extensions":294,"core-js/modules/es.object.seal":295,"core-js/modules/es.object.to-string":296,"core-js/modules/es.object.values":297,"core-js/modules/es.promise":299,"core-js/modules/es.promise.finally":298,"core-js/modules/es.reflect.apply":300,"core-js/modules/es.reflect.construct":301,"core-js/modules/es.reflect.define-property":302,"core-js/modules/es.reflect.delete-property":303,"core-js/modules/es.reflect.get":306,"core-js/modules/es.reflect.get-own-property-descriptor":304,"core-js/modules/es.reflect.get-prototype-of":305,"core-js/modules/es.reflect.has":307,"core-js/modules/es.reflect.is-extensible":308,"core-js/modules/es.reflect.own-keys":309,"core-js/modules/es.reflect.prevent-extensions":310,"core-js/modules/es.reflect.set":312,"core-js/modules/es.reflect.set-prototype-of":311,"core-js/modules/es.regexp.constructor":313,"core-js/modules/es.regexp.exec":314,"core-js/modules/es.regexp.flags":315,"core-js/modules/es.regexp.to-string":316,"core-js/modules/es.set":317,"core-js/modules/es.string.anchor":318,"core-js/modules/es.string.big":319,"core-js/modules/es.string.blink":320,"core-js/modules/es.string.bold":321,"core-js/modules/es.string.code-point-at":322,"core-js/modules/es.string.ends-with":323,"core-js/modules/es.string.fixed":324,"core-js/modules/es.string.fontcolor":325,"core-js/modules/es.string.fontsize":326,"core-js/modules/es.string.from-code-point":327,"core-js/modules/es.string.includes":328,"core-js/modules/es.string.italics":329,"core-js/modules/es.string.iterator":330,"core-js/modules/es.string.link":331,"core-js/modules/es.string.match":333,"core-js/modules/es.string.match-all":332,"core-js/modules/es.string.pad-end":334,"core-js/modules/es.string.pad-start":335,"core-js/modules/es.string.raw":336,"core-js/modules/es.string.repeat":337,"core-js/modules/es.string.replace":338,"core-js/modules/es.string.search":339,"core-js/modules/es.string.small":340,"core-js/modules/es.string.split":341,"core-js/modules/es.string.starts-with":342,"core-js/modules/es.string.strike":343,"core-js/modules/es.string.sub":344,"core-js/modules/es.string.sup":345,"core-js/modules/es.string.trim":348,"core-js/modules/es.string.trim-end":346,"core-js/modules/es.string.trim-start":347,"core-js/modules/es.symbol":354,"core-js/modules/es.symbol.async-iterator":349,"core-js/modules/es.symbol.description":350,"core-js/modules/es.symbol.has-instance":351,"core-js/modules/es.symbol.is-concat-spreadable":352,"core-js/modules/es.symbol.iterator":353,"core-js/modules/es.symbol.match":356,"core-js/modules/es.symbol.match-all":355,"core-js/modules/es.symbol.replace":357,"core-js/modules/es.symbol.search":358,"core-js/modules/es.symbol.species":359,"core-js/modules/es.symbol.split":360,"core-js/modules/es.symbol.to-primitive":361,"core-js/modules/es.symbol.to-string-tag":362,"core-js/modules/es.symbol.unscopables":363,"core-js/modules/es.typed-array.copy-within":364,"core-js/modules/es.typed-array.every":365,"core-js/modules/es.typed-array.fill":366,"core-js/modules/es.typed-array.filter":367,"core-js/modules/es.typed-array.find":369,"core-js/modules/es.typed-array.find-index":368,"core-js/modules/es.typed-array.float32-array":370,"core-js/modules/es.typed-array.float64-array":371,"core-js/modules/es.typed-array.for-each":372,"core-js/modules/es.typed-array.from":373,"core-js/modules/es.typed-array.includes":374,"core-js/modules/es.typed-array.index-of":375,"core-js/modules/es.typed-array.int16-array":376,"core-js/modules/es.typed-array.int32-array":377,"core-js/modules/es.typed-array.int8-array":378,"core-js/modules/es.typed-array.iterator":379,"core-js/modules/es.typed-array.join":380,"core-js/modules/es.typed-array.last-index-of":381,"core-js/modules/es.typed-array.map":382,"core-js/modules/es.typed-array.of":383,"core-js/modules/es.typed-array.reduce":385,"core-js/modules/es.typed-array.reduce-right":384,"core-js/modules/es.typed-array.reverse":386,"core-js/modules/es.typed-array.set":387,"core-js/modules/es.typed-array.slice":388,"core-js/modules/es.typed-array.some":389,"core-js/modules/es.typed-array.sort":390,"core-js/modules/es.typed-array.subarray":391,"core-js/modules/es.typed-array.to-locale-string":392,"core-js/modules/es.typed-array.to-string":393,"core-js/modules/es.typed-array.uint16-array":394,"core-js/modules/es.typed-array.uint32-array":395,"core-js/modules/es.typed-array.uint8-array":396,"core-js/modules/es.typed-array.uint8-clamped-array":397,"core-js/modules/es.weak-map":398,"core-js/modules/es.weak-set":399,"core-js/modules/web.dom-collections.for-each":400,"core-js/modules/web.dom-collections.iterator":401,"core-js/modules/web.immediate":402,"core-js/modules/web.queue-microtask":403,"core-js/modules/web.url":405,"core-js/modules/web.url-search-params":404,"core-js/modules/web.url.to-json":406,"regenerator-runtime/runtime":978}]},{},[1063]);
//# sourceMappingURL=index.js.map
